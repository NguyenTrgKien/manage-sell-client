function Fz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function A0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vb={exports:{}},md={},wb={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3;function Vz(){if(N3)return at;N3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(B,J,ne){this.props=B,this.context=J,this.refs=v,this.updater=ne||g}b.prototype.isReactComponent={},b.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=b.prototype;function S(B,J,ne){this.props=B,this.context=J,this.refs=v,this.updater=ne||g}var j=S.prototype=new w;j.constructor=S,x(j,b.prototype),j.isPureReactComponent=!0;var M=Array.isArray,C=Object.prototype.hasOwnProperty,P={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function E(B,J,ne){var se,me={},Ee=null,ce=null;if(J!=null)for(se in J.ref!==void 0&&(ce=J.ref),J.key!==void 0&&(Ee=""+J.key),J)C.call(J,se)&&!A.hasOwnProperty(se)&&(me[se]=J[se]);var ee=arguments.length-2;if(ee===1)me.children=ne;else if(1<ee){for(var ie=Array(ee),fe=0;fe<ee;fe++)ie[fe]=arguments[fe+2];me.children=ie}if(B&&B.defaultProps)for(se in ee=B.defaultProps,ee)me[se]===void 0&&(me[se]=ee[se]);return{$$typeof:t,type:B,key:Ee,ref:ce,props:me,_owner:P.current}}function D(B,J){return{$$typeof:t,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function _(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ne){return J[ne]})}var V=/\/+/g;function G(B,J){return typeof B=="object"&&B!==null&&B.key!=null?_(""+B.key):J.toString(36)}function H(B,J,ne,se,me){var Ee=typeof B;(Ee==="undefined"||Ee==="boolean")&&(B=null);var ce=!1;if(B===null)ce=!0;else switch(Ee){case"string":case"number":ce=!0;break;case"object":switch(B.$$typeof){case t:case e:ce=!0}}if(ce)return ce=B,me=me(ce),B=se===""?"."+G(ce,0):se,M(me)?(ne="",B!=null&&(ne=B.replace(V,"$&/")+"/"),H(me,J,ne,"",function(fe){return fe})):me!=null&&(L(me)&&(me=D(me,ne+(!me.key||ce&&ce.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+B)),J.push(me)),1;if(ce=0,se=se===""?".":se+":",M(B))for(var ee=0;ee<B.length;ee++){Ee=B[ee];var ie=se+G(Ee,ee);ce+=H(Ee,J,ne,ie,me)}else if(ie=p(B),typeof ie=="function")for(B=ie.call(B),ee=0;!(Ee=B.next()).done;)Ee=Ee.value,ie=se+G(Ee,ee++),ce+=H(Ee,J,ne,ie,me);else if(Ee==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ce}function W(B,J,ne){if(B==null)return B;var se=[],me=0;return H(B,se,"","",function(Ee){return J.call(ne,Ee,me++)}),se}function R(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(ne){(B._status===0||B._status===-1)&&(B._status=1,B._result=ne)},function(ne){(B._status===0||B._status===-1)&&(B._status=2,B._result=ne)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var $={current:null},z={transition:null},K={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:z,ReactCurrentOwner:P};function X(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:W,forEach:function(B,J,ne){W(B,function(){J.apply(this,arguments)},ne)},count:function(B){var J=0;return W(B,function(){J++}),J},toArray:function(B){return W(B,function(J){return J})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},at.Component=b,at.Fragment=n,at.Profiler=s,at.PureComponent=S,at.StrictMode=r,at.Suspense=c,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,at.act=X,at.cloneElement=function(B,J,ne){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var se=x({},B.props),me=B.key,Ee=B.ref,ce=B._owner;if(J!=null){if(J.ref!==void 0&&(Ee=J.ref,ce=P.current),J.key!==void 0&&(me=""+J.key),B.type&&B.type.defaultProps)var ee=B.type.defaultProps;for(ie in J)C.call(J,ie)&&!A.hasOwnProperty(ie)&&(se[ie]=J[ie]===void 0&&ee!==void 0?ee[ie]:J[ie])}var ie=arguments.length-2;if(ie===1)se.children=ne;else if(1<ie){ee=Array(ie);for(var fe=0;fe<ie;fe++)ee[fe]=arguments[fe+2];se.children=ee}return{$$typeof:t,type:B.type,key:me,ref:Ee,props:se,_owner:ce}},at.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},at.createElement=E,at.createFactory=function(B){var J=E.bind(null,B);return J.type=B,J},at.createRef=function(){return{current:null}},at.forwardRef=function(B){return{$$typeof:l,render:B}},at.isValidElement=L,at.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:R}},at.memo=function(B,J){return{$$typeof:u,type:B,compare:J===void 0?null:J}},at.startTransition=function(B){var J=z.transition;z.transition={};try{B()}finally{z.transition=J}},at.unstable_act=X,at.useCallback=function(B,J){return $.current.useCallback(B,J)},at.useContext=function(B){return $.current.useContext(B)},at.useDebugValue=function(){},at.useDeferredValue=function(B){return $.current.useDeferredValue(B)},at.useEffect=function(B,J){return $.current.useEffect(B,J)},at.useId=function(){return $.current.useId()},at.useImperativeHandle=function(B,J,ne){return $.current.useImperativeHandle(B,J,ne)},at.useInsertionEffect=function(B,J){return $.current.useInsertionEffect(B,J)},at.useLayoutEffect=function(B,J){return $.current.useLayoutEffect(B,J)},at.useMemo=function(B,J){return $.current.useMemo(B,J)},at.useReducer=function(B,J,ne){return $.current.useReducer(B,J,ne)},at.useRef=function(B){return $.current.useRef(B)},at.useState=function(B){return $.current.useState(B)},at.useSyncExternalStore=function(B,J,ne){return $.current.useSyncExternalStore(B,J,ne)},at.useTransition=function(){return $.current.useTransition()},at.version="18.3.1",at}var S3;function pu(){return S3||(S3=1,wb.exports=Vz()),wb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3;function zz(){if(j3)return md;j3=1;var t=pu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var d,f={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:g,props:f,_owner:s.current}}return md.Fragment=n,md.jsx=a,md.jsxs=a,md}var C3;function $z(){return C3||(C3=1,vb.exports=zz()),vb.exports}var o=$z(),T=pu();const ve=A0(T),k3=Fz({__proto__:null,default:ve},[T]);var Pm={},Nb={exports:{}},Sr={},Sb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function Bz(){return T3||(T3=1,(function(t){function e(z,K){var X=z.length;z.push(K);e:for(;0<X;){var B=X-1>>>1,J=z[B];if(0<s(J,K))z[B]=K,z[X]=J,X=B;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],X=z.pop();if(X!==K){z[0]=X;e:for(var B=0,J=z.length,ne=J>>>1;B<ne;){var se=2*(B+1)-1,me=z[se],Ee=se+1,ce=z[Ee];if(0>s(me,X))Ee<J&&0>s(ce,me)?(z[B]=ce,z[Ee]=X,B=Ee):(z[B]=me,z[se]=X,B=se);else if(Ee<J&&0>s(ce,X))z[B]=ce,z[Ee]=X,B=Ee;else break e}}return K}function s(z,K){var X=z.sortIndex-K.sortIndex;return X!==0?X:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=z)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function M(z){if(v=!1,j(z),!x)if(n(c)!==null)x=!0,R(C);else{var K=n(u);K!==null&&$(M,K.startTime-z)}}function C(z,K){x=!1,v&&(v=!1,w(E),E=-1),g=!0;var X=p;try{for(j(K),f=n(c);f!==null&&(!(f.expirationTime>K)||z&&!_());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var J=B(f.expirationTime<=K);K=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),j(K)}else r(c);f=n(c)}if(f!==null)var ne=!0;else{var se=n(u);se!==null&&$(M,se.startTime-K),ne=!1}return ne}finally{f=null,p=X,g=!1}}var P=!1,A=null,E=-1,D=5,L=-1;function _(){return!(t.unstable_now()-L<D)}function V(){if(A!==null){var z=t.unstable_now();L=z;var K=!0;try{K=A(!0,z)}finally{K?G():(P=!1,A=null)}}else P=!1}var G;if(typeof S=="function")G=function(){S(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=V,G=function(){W.postMessage(null)}}else G=function(){b(V,0)};function R(z){A=z,P||(P=!0,G())}function $(z,K){E=b(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,R(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var X=p;p=K;try{return z()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=p;p=z;try{return K()}finally{p=X}},t.unstable_scheduleCallback=function(z,K,X){var B=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,z={id:d++,callback:K,priorityLevel:z,startTime:X,expirationTime:J,sortIndex:-1},X>B?(z.sortIndex=X,e(u,z),n(c)===null&&z===n(u)&&(v?(w(E),E=-1):v=!0,$(M,X-B))):(z.sortIndex=J,e(c,z),x||g||(x=!0,R(C))),z},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(z){var K=p;return function(){var X=p;p=K;try{return z.apply(this,arguments)}finally{p=X}}}})(jb)),jb}var E3;function Hz(){return E3||(E3=1,Sb.exports=Bz()),Sb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3;function Uz(){if(M3)return Sr;M3=1;var t=pu(),e=Hz();function n(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(h,m){a(h,m),a(h+"Capture",m)}function a(h,m){for(s[h]=m,h=0;h<m.length;h++)r.add(m[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function g(h,m,y,N){if(y!==null&&y.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return N?!1:y!==null?!y.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function x(h,m,y,N){if(m===null||typeof m>"u"||g(h,m,y,N))return!0;if(N)return!1;if(y!==null)switch(y.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(h,m,y,N,k,O,I){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=N,this.attributeNamespace=k,this.mustUseProperty=y,this.propertyName=h,this.type=m,this.sanitizeURL=O,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];b[m]=new v(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(w,S);b[m]=new v(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(w,S);b[m]=new v(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(w,S);b[m]=new v(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function j(h,m,y,N){var k=b.hasOwnProperty(m)?b[m]:null;(k!==null?k.type!==0:N||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,y,k,N)&&(y=null),N||k===null?p(m)&&(y===null?h.removeAttribute(m):h.setAttribute(m,""+y)):k.mustUseProperty?h[k.propertyName]=y===null?k.type===3?!1:"":y:(m=k.attributeName,N=k.attributeNamespace,y===null?h.removeAttribute(m):(k=k.type,y=k===3||k===4&&y===!0?"":""+y,N?h.setAttributeNS(N,m,y):h.setAttribute(m,y))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),P=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),_=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),z=Symbol.iterator;function K(h){return h===null||typeof h!="object"?null:(h=z&&h[z]||h["@@iterator"],typeof h=="function"?h:null)}var X=Object.assign,B;function J(h){if(B===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);B=m&&m[1]||""}return`
`+B+h}var ne=!1;function se(h,m){if(!h||ne)return"";ne=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ae){var N=ae}Reflect.construct(h,[],m)}else{try{m.call()}catch(ae){N=ae}h.call(m.prototype)}else{try{throw Error()}catch(ae){N=ae}h()}}catch(ae){if(ae&&N&&typeof ae.stack=="string"){for(var k=ae.stack.split(`
`),O=N.stack.split(`
`),I=k.length-1,U=O.length-1;1<=I&&0<=U&&k[I]!==O[U];)U--;for(;1<=I&&0<=U;I--,U--)if(k[I]!==O[U]){if(I!==1||U!==1)do if(I--,U--,0>U||k[I]!==O[U]){var Y=`
`+k[I].replace(" at new "," at ");return h.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",h.displayName)),Y}while(1<=I&&0<=U);break}}}finally{ne=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?J(h):""}function me(h){switch(h.tag){case 5:return J(h.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return h=se(h.type,!1),h;case 11:return h=se(h.type.render,!1),h;case 1:return h=se(h.type,!0),h;default:return""}}function Ee(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case A:return"Fragment";case P:return"Portal";case D:return"Profiler";case E:return"StrictMode";case G:return"Suspense";case H:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case _:return(h.displayName||"Context")+".Consumer";case L:return(h._context.displayName||"Context")+".Provider";case V:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case W:return m=h.displayName||null,m!==null?m:Ee(h.type)||"Memo";case R:m=h._payload,h=h._init;try{return Ee(h(m))}catch{}}return null}function ce(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(m);case 8:return m===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ee(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ie(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function fe(h){var m=ie(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),N=""+h[m];if(!h.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,O=y.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return k.call(this)},set:function(I){N=""+I,O.call(this,I)}}),Object.defineProperty(h,m,{enumerable:y.enumerable}),{getValue:function(){return N},setValue:function(I){N=""+I},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function Te(h){h._valueTracker||(h._valueTracker=fe(h))}function Se(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var y=m.getValue(),N="";return h&&(N=ie(h)?h.checked?"true":"false":h.value),h=N,h!==y?(m.setValue(h),!0):!1}function we(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function _e(h,m){var y=m.checked;return X({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??h._wrapperState.initialChecked})}function Ye(h,m){var y=m.defaultValue==null?"":m.defaultValue,N=m.checked!=null?m.checked:m.defaultChecked;y=ee(m.value!=null?m.value:y),h._wrapperState={initialChecked:N,initialValue:y,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function gt(h,m){m=m.checked,m!=null&&j(h,"checked",m,!1)}function Rt(h,m){gt(h,m);var y=ee(m.value),N=m.type;if(y!=null)N==="number"?(y===0&&h.value===""||h.value!=y)&&(h.value=""+y):h.value!==""+y&&(h.value=""+y);else if(N==="submit"||N==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?gn(h,m.type,y):m.hasOwnProperty("defaultValue")&&gn(h,m.type,ee(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function gr(h,m,y){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var N=m.type;if(!(N!=="submit"&&N!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,y||m===h.value||(h.value=m),h.defaultValue=m}y=h.name,y!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,y!==""&&(h.name=y)}function gn(h,m,y){(m!=="number"||we(h.ownerDocument)!==h)&&(y==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+y&&(h.defaultValue=""+y))}var q=Array.isArray;function te(h,m,y,N){if(h=h.options,m){m={};for(var k=0;k<y.length;k++)m["$"+y[k]]=!0;for(y=0;y<h.length;y++)k=m.hasOwnProperty("$"+h[y].value),h[y].selected!==k&&(h[y].selected=k),k&&N&&(h[y].defaultSelected=!0)}else{for(y=""+ee(y),m=null,k=0;k<h.length;k++){if(h[k].value===y){h[k].selected=!0,N&&(h[k].defaultSelected=!0);return}m!==null||h[k].disabled||(m=h[k])}m!==null&&(m.selected=!0)}}function ue(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ae(h,m){var y=m.value;if(y==null){if(y=m.children,m=m.defaultValue,y!=null){if(m!=null)throw Error(n(92));if(q(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),y=m}h._wrapperState={initialValue:ee(y)}}function ke(h,m){var y=ee(m.value),N=ee(m.defaultValue);y!=null&&(y=""+y,y!==h.value&&(h.value=y),m.defaultValue==null&&h.defaultValue!==y&&(h.defaultValue=y)),N!=null&&(h.defaultValue=""+N)}function Ce(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function Ve(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?Ve(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var ft,ar=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,y,N,k){MSApp.execUnsafeLocalFunction(function(){return h(m,y,N,k)})}:h})(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ft.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function Hs(h,m){if(m){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=m;return}}h.textContent=m}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_x=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(h){_x.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),xr[m]=xr[h]})});function Kl(h,m,y){return m==null||typeof m=="boolean"||m===""?"":y||typeof m!="number"||m===0||xr.hasOwnProperty(h)&&xr[h]?(""+m).trim():m+"px"}function Gl(h,m){h=h.style;for(var y in m)if(m.hasOwnProperty(y)){var N=y.indexOf("--")===0,k=Kl(y,m[y],N);y==="float"&&(y="cssFloat"),N?h.setProperty(y,k):h[y]=k}}var Dx=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(h,m){if(m){if(Dx[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Au(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xl=null;function Ix(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Lx=null,Ql=null,Jl=null;function Vj(h){if(h=Zu(h)){if(typeof Lx!="function")throw Error(n(280));var m=h.stateNode;m&&(m=Wf(m),Lx(h.stateNode,h.type,m))}}function zj(h){Ql?Jl?Jl.push(h):Jl=[h]:Ql=h}function $j(){if(Ql){var h=Ql,m=Jl;if(Jl=Ql=null,Vj(h),m)for(h=0;h<m.length;h++)Vj(m[h])}}function Bj(h,m){return h(m)}function Hj(){}var Rx=!1;function Uj(h,m,y){if(Rx)return h(m,y);Rx=!0;try{return Bj(h,m,y)}finally{Rx=!1,(Ql!==null||Jl!==null)&&(Hj(),$j())}}function Ou(h,m){var y=h.stateNode;if(y===null)return null;var N=Wf(y);if(N===null)return null;y=N[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(h=h.type,N=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!N;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(n(231,m,typeof y));return y}var Fx=!1;if(l)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){Fx=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{Fx=!1}function U7(h,m,y,N,k,O,I,U,Y){var ae=Array.prototype.slice.call(arguments,3);try{m.apply(y,ae)}catch(ge){this.onError(ge)}}var Du=!1,Sf=null,jf=!1,Vx=null,W7={onError:function(h){Du=!0,Sf=h}};function q7(h,m,y,N,k,O,I,U,Y){Du=!1,Sf=null,U7.apply(W7,arguments)}function K7(h,m,y,N,k,O,I,U,Y){if(q7.apply(this,arguments),Du){if(Du){var ae=Sf;Du=!1,Sf=null}else throw Error(n(198));jf||(jf=!0,Vx=ae)}}function ko(h){var m=h,y=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(y=m.return),h=m.return;while(h)}return m.tag===3?y:null}function Wj(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function qj(h){if(ko(h)!==h)throw Error(n(188))}function G7(h){var m=h.alternate;if(!m){if(m=ko(h),m===null)throw Error(n(188));return m!==h?null:h}for(var y=h,N=m;;){var k=y.return;if(k===null)break;var O=k.alternate;if(O===null){if(N=k.return,N!==null){y=N;continue}break}if(k.child===O.child){for(O=k.child;O;){if(O===y)return qj(k),h;if(O===N)return qj(k),m;O=O.sibling}throw Error(n(188))}if(y.return!==N.return)y=k,N=O;else{for(var I=!1,U=k.child;U;){if(U===y){I=!0,y=k,N=O;break}if(U===N){I=!0,N=k,y=O;break}U=U.sibling}if(!I){for(U=O.child;U;){if(U===y){I=!0,y=O,N=k;break}if(U===N){I=!0,N=O,y=k;break}U=U.sibling}if(!I)throw Error(n(189))}}if(y.alternate!==N)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?h:m}function Kj(h){return h=G7(h),h!==null?Gj(h):null}function Gj(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=Gj(h);if(m!==null)return m;h=h.sibling}return null}var Yj=e.unstable_scheduleCallback,Xj=e.unstable_cancelCallback,Y7=e.unstable_shouldYield,X7=e.unstable_requestPaint,tn=e.unstable_now,Q7=e.unstable_getCurrentPriorityLevel,zx=e.unstable_ImmediatePriority,Qj=e.unstable_UserBlockingPriority,Cf=e.unstable_NormalPriority,J7=e.unstable_LowPriority,Jj=e.unstable_IdlePriority,kf=null,Us=null;function Z7(h){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(kf,h,void 0,(h.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:nV,eV=Math.log,tV=Math.LN2;function nV(h){return h>>>=0,h===0?32:31-(eV(h)/tV|0)|0}var Tf=64,Ef=4194304;function Iu(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Mf(h,m){var y=h.pendingLanes;if(y===0)return 0;var N=0,k=h.suspendedLanes,O=h.pingedLanes,I=y&268435455;if(I!==0){var U=I&~k;U!==0?N=Iu(U):(O&=I,O!==0&&(N=Iu(O)))}else I=y&~k,I!==0?N=Iu(I):O!==0&&(N=Iu(O));if(N===0)return 0;if(m!==0&&m!==N&&(m&k)===0&&(k=N&-N,O=m&-m,k>=O||k===16&&(O&4194240)!==0))return m;if((N&4)!==0&&(N|=y&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=N;0<m;)y=31-Ss(m),k=1<<y,N|=h[y],m&=~k;return N}function rV(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sV(h,m){for(var y=h.suspendedLanes,N=h.pingedLanes,k=h.expirationTimes,O=h.pendingLanes;0<O;){var I=31-Ss(O),U=1<<I,Y=k[I];Y===-1?((U&y)===0||(U&N)!==0)&&(k[I]=rV(U,m)):Y<=m&&(h.expiredLanes|=U),O&=~U}}function $x(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Zj(){var h=Tf;return Tf<<=1,(Tf&4194240)===0&&(Tf=64),h}function Bx(h){for(var m=[],y=0;31>y;y++)m.push(h);return m}function Lu(h,m,y){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Ss(m),h[m]=y}function iV(h,m){var y=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var N=h.eventTimes;for(h=h.expirationTimes;0<y;){var k=31-Ss(y),O=1<<k;m[k]=0,N[k]=-1,h[k]=-1,y&=~O}}function Hx(h,m){var y=h.entangledLanes|=m;for(h=h.entanglements;y;){var N=31-Ss(y),k=1<<N;k&m|h[N]&m&&(h[N]|=m),y&=~k}}var vt=0;function e4(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var t4,Ux,n4,r4,s4,Wx=!1,Pf=[],pa=null,ga=null,xa=null,Ru=new Map,Fu=new Map,ya=[],aV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i4(h,m){switch(h){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ru.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(m.pointerId)}}function Vu(h,m,y,N,k,O){return h===null||h.nativeEvent!==O?(h={blockedOn:m,domEventName:y,eventSystemFlags:N,nativeEvent:O,targetContainers:[k]},m!==null&&(m=Zu(m),m!==null&&Ux(m)),h):(h.eventSystemFlags|=N,m=h.targetContainers,k!==null&&m.indexOf(k)===-1&&m.push(k),h)}function oV(h,m,y,N,k){switch(m){case"focusin":return pa=Vu(pa,h,m,y,N,k),!0;case"dragenter":return ga=Vu(ga,h,m,y,N,k),!0;case"mouseover":return xa=Vu(xa,h,m,y,N,k),!0;case"pointerover":var O=k.pointerId;return Ru.set(O,Vu(Ru.get(O)||null,h,m,y,N,k)),!0;case"gotpointercapture":return O=k.pointerId,Fu.set(O,Vu(Fu.get(O)||null,h,m,y,N,k)),!0}return!1}function a4(h){var m=To(h.target);if(m!==null){var y=ko(m);if(y!==null){if(m=y.tag,m===13){if(m=Wj(y),m!==null){h.blockedOn=m,s4(h.priority,function(){n4(y)});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Af(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var y=Kx(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(y===null){y=h.nativeEvent;var N=new y.constructor(y.type,y);Xl=N,y.target.dispatchEvent(N),Xl=null}else return m=Zu(y),m!==null&&Ux(m),h.blockedOn=y,!1;m.shift()}return!0}function o4(h,m,y){Af(h)&&y.delete(m)}function lV(){Wx=!1,pa!==null&&Af(pa)&&(pa=null),ga!==null&&Af(ga)&&(ga=null),xa!==null&&Af(xa)&&(xa=null),Ru.forEach(o4),Fu.forEach(o4)}function zu(h,m){h.blockedOn===m&&(h.blockedOn=null,Wx||(Wx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lV)))}function $u(h){function m(k){return zu(k,h)}if(0<Pf.length){zu(Pf[0],h);for(var y=1;y<Pf.length;y++){var N=Pf[y];N.blockedOn===h&&(N.blockedOn=null)}}for(pa!==null&&zu(pa,h),ga!==null&&zu(ga,h),xa!==null&&zu(xa,h),Ru.forEach(m),Fu.forEach(m),y=0;y<ya.length;y++)N=ya[y],N.blockedOn===h&&(N.blockedOn=null);for(;0<ya.length&&(y=ya[0],y.blockedOn===null);)a4(y),y.blockedOn===null&&ya.shift()}var Zl=M.ReactCurrentBatchConfig,Of=!0;function cV(h,m,y,N){var k=vt,O=Zl.transition;Zl.transition=null;try{vt=1,qx(h,m,y,N)}finally{vt=k,Zl.transition=O}}function uV(h,m,y,N){var k=vt,O=Zl.transition;Zl.transition=null;try{vt=4,qx(h,m,y,N)}finally{vt=k,Zl.transition=O}}function qx(h,m,y,N){if(Of){var k=Kx(h,m,y,N);if(k===null)uy(h,m,N,_f,y),i4(h,N);else if(oV(k,h,m,y,N))N.stopPropagation();else if(i4(h,N),m&4&&-1<aV.indexOf(h)){for(;k!==null;){var O=Zu(k);if(O!==null&&t4(O),O=Kx(h,m,y,N),O===null&&uy(h,m,N,_f,y),O===k)break;k=O}k!==null&&N.stopPropagation()}else uy(h,m,N,null,y)}}var _f=null;function Kx(h,m,y,N){if(_f=null,h=Ix(N),h=To(h),h!==null)if(m=ko(h),m===null)h=null;else if(y=m.tag,y===13){if(h=Wj(m),h!==null)return h;h=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return _f=h,null}function l4(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q7()){case zx:return 1;case Qj:return 4;case Cf:case J7:return 16;case Jj:return 536870912;default:return 16}default:return 16}}var ba=null,Gx=null,Df=null;function c4(){if(Df)return Df;var h,m=Gx,y=m.length,N,k="value"in ba?ba.value:ba.textContent,O=k.length;for(h=0;h<y&&m[h]===k[h];h++);var I=y-h;for(N=1;N<=I&&m[y-N]===k[O-N];N++);return Df=k.slice(h,1<N?1-N:void 0)}function If(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Lf(){return!0}function u4(){return!1}function Rr(h){function m(y,N,k,O,I){this._reactName=y,this._targetInst=k,this.type=N,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var U in h)h.hasOwnProperty(U)&&(y=h[U],this[U]=y?y(O):O[U]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Lf:u4,this.isPropagationStopped=u4,this}return X(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Lf)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Lf)},persist:function(){},isPersistent:Lf}),m}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yx=Rr(ec),Bu=X({},ec,{view:0,detail:0}),dV=Rr(Bu),Xx,Qx,Hu,Rf=X({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zx,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Hu&&(Hu&&h.type==="mousemove"?(Xx=h.screenX-Hu.screenX,Qx=h.screenY-Hu.screenY):Qx=Xx=0,Hu=h),Xx)},movementY:function(h){return"movementY"in h?h.movementY:Qx}}),d4=Rr(Rf),hV=X({},Rf,{dataTransfer:0}),fV=Rr(hV),mV=X({},Bu,{relatedTarget:0}),Jx=Rr(mV),pV=X({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),gV=Rr(pV),xV=X({},ec,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),yV=Rr(xV),bV=X({},ec,{data:0}),h4=Rr(bV),vV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SV(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=NV[h])?!!m[h]:!1}function Zx(){return SV}var jV=X({},Bu,{key:function(h){if(h.key){var m=vV[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=If(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?wV[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zx,charCode:function(h){return h.type==="keypress"?If(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?If(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),CV=Rr(jV),kV=X({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f4=Rr(kV),TV=X({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zx}),EV=Rr(TV),MV=X({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),PV=Rr(MV),AV=X({},Rf,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),OV=Rr(AV),_V=[9,13,27,32],ey=l&&"CompositionEvent"in window,Uu=null;l&&"documentMode"in document&&(Uu=document.documentMode);var DV=l&&"TextEvent"in window&&!Uu,m4=l&&(!ey||Uu&&8<Uu&&11>=Uu),p4=" ",g4=!1;function x4(h,m){switch(h){case"keyup":return _V.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y4(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var tc=!1;function IV(h,m){switch(h){case"compositionend":return y4(m);case"keypress":return m.which!==32?null:(g4=!0,p4);case"textInput":return h=m.data,h===p4&&g4?null:h;default:return null}}function LV(h,m){if(tc)return h==="compositionend"||!ey&&x4(h,m)?(h=c4(),Df=Gx=ba=null,tc=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return m4&&m.locale!=="ko"?null:m.data;default:return null}}var RV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b4(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!RV[h.type]:m==="textarea"}function v4(h,m,y,N){zj(N),m=Bf(m,"onChange"),0<m.length&&(y=new Yx("onChange","change",null,y,N),h.push({event:y,listeners:m}))}var Wu=null,qu=null;function FV(h){F4(h,0)}function Ff(h){var m=ac(h);if(Se(m))return h}function VV(h,m){if(h==="change")return m}var w4=!1;if(l){var ty;if(l){var ny="oninput"in document;if(!ny){var N4=document.createElement("div");N4.setAttribute("oninput","return;"),ny=typeof N4.oninput=="function"}ty=ny}else ty=!1;w4=ty&&(!document.documentMode||9<document.documentMode)}function S4(){Wu&&(Wu.detachEvent("onpropertychange",j4),qu=Wu=null)}function j4(h){if(h.propertyName==="value"&&Ff(qu)){var m=[];v4(m,qu,h,Ix(h)),Uj(FV,m)}}function zV(h,m,y){h==="focusin"?(S4(),Wu=m,qu=y,Wu.attachEvent("onpropertychange",j4)):h==="focusout"&&S4()}function $V(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Ff(qu)}function BV(h,m){if(h==="click")return Ff(m)}function HV(h,m){if(h==="input"||h==="change")return Ff(m)}function UV(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var js=typeof Object.is=="function"?Object.is:UV;function Ku(h,m){if(js(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var y=Object.keys(h),N=Object.keys(m);if(y.length!==N.length)return!1;for(N=0;N<y.length;N++){var k=y[N];if(!c.call(m,k)||!js(h[k],m[k]))return!1}return!0}function C4(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function k4(h,m){var y=C4(h);h=0;for(var N;y;){if(y.nodeType===3){if(N=h+y.textContent.length,h<=m&&N>=m)return{node:y,offset:m-h};h=N}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=C4(y)}}function T4(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?T4(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function E4(){for(var h=window,m=we();m instanceof h.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)h=m.contentWindow;else break;m=we(h.document)}return m}function ry(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function WV(h){var m=E4(),y=h.focusedElem,N=h.selectionRange;if(m!==y&&y&&y.ownerDocument&&T4(y.ownerDocument.documentElement,y)){if(N!==null&&ry(y)){if(m=N.start,h=N.end,h===void 0&&(h=m),"selectionStart"in y)y.selectionStart=m,y.selectionEnd=Math.min(h,y.value.length);else if(h=(m=y.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var k=y.textContent.length,O=Math.min(N.start,k);N=N.end===void 0?O:Math.min(N.end,k),!h.extend&&O>N&&(k=N,N=O,O=k),k=k4(y,O);var I=k4(y,N);k&&I&&(h.rangeCount!==1||h.anchorNode!==k.node||h.anchorOffset!==k.offset||h.focusNode!==I.node||h.focusOffset!==I.offset)&&(m=m.createRange(),m.setStart(k.node,k.offset),h.removeAllRanges(),O>N?(h.addRange(m),h.extend(I.node,I.offset)):(m.setEnd(I.node,I.offset),h.addRange(m)))}}for(m=[],h=y;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<m.length;y++)h=m[y],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var qV=l&&"documentMode"in document&&11>=document.documentMode,nc=null,sy=null,Gu=null,iy=!1;function M4(h,m,y){var N=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;iy||nc==null||nc!==we(N)||(N=nc,"selectionStart"in N&&ry(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Gu&&Ku(Gu,N)||(Gu=N,N=Bf(sy,"onSelect"),0<N.length&&(m=new Yx("onSelect","select",null,m,y),h.push({event:m,listeners:N}),m.target=nc)))}function Vf(h,m){var y={};return y[h.toLowerCase()]=m.toLowerCase(),y["Webkit"+h]="webkit"+m,y["Moz"+h]="moz"+m,y}var rc={animationend:Vf("Animation","AnimationEnd"),animationiteration:Vf("Animation","AnimationIteration"),animationstart:Vf("Animation","AnimationStart"),transitionend:Vf("Transition","TransitionEnd")},ay={},P4={};l&&(P4=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function zf(h){if(ay[h])return ay[h];if(!rc[h])return h;var m=rc[h],y;for(y in m)if(m.hasOwnProperty(y)&&y in P4)return ay[h]=m[y];return h}var A4=zf("animationend"),O4=zf("animationiteration"),_4=zf("animationstart"),D4=zf("transitionend"),I4=new Map,L4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(h,m){I4.set(h,m),i(m,[h])}for(var oy=0;oy<L4.length;oy++){var ly=L4[oy],KV=ly.toLowerCase(),GV=ly[0].toUpperCase()+ly.slice(1);va(KV,"on"+GV)}va(A4,"onAnimationEnd"),va(O4,"onAnimationIteration"),va(_4,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(D4,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function R4(h,m,y){var N=h.type||"unknown-event";h.currentTarget=y,K7(N,m,void 0,h),h.currentTarget=null}function F4(h,m){m=(m&4)!==0;for(var y=0;y<h.length;y++){var N=h[y],k=N.event;N=N.listeners;e:{var O=void 0;if(m)for(var I=N.length-1;0<=I;I--){var U=N[I],Y=U.instance,ae=U.currentTarget;if(U=U.listener,Y!==O&&k.isPropagationStopped())break e;R4(k,U,ae),O=Y}else for(I=0;I<N.length;I++){if(U=N[I],Y=U.instance,ae=U.currentTarget,U=U.listener,Y!==O&&k.isPropagationStopped())break e;R4(k,U,ae),O=Y}}}if(jf)throw h=Vx,jf=!1,Vx=null,h}function At(h,m){var y=m[gy];y===void 0&&(y=m[gy]=new Set);var N=h+"__bubble";y.has(N)||(V4(m,h,2,!1),y.add(N))}function cy(h,m,y){var N=0;m&&(N|=4),V4(y,h,N,m)}var $f="_reactListening"+Math.random().toString(36).slice(2);function Xu(h){if(!h[$f]){h[$f]=!0,r.forEach(function(y){y!=="selectionchange"&&(YV.has(y)||cy(y,!1,h),cy(y,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[$f]||(m[$f]=!0,cy("selectionchange",!1,m))}}function V4(h,m,y,N){switch(l4(m)){case 1:var k=cV;break;case 4:k=uV;break;default:k=qx}y=k.bind(null,m,y,h),k=void 0,!Fx||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(k=!0),N?k!==void 0?h.addEventListener(m,y,{capture:!0,passive:k}):h.addEventListener(m,y,!0):k!==void 0?h.addEventListener(m,y,{passive:k}):h.addEventListener(m,y,!1)}function uy(h,m,y,N,k){var O=N;if((m&1)===0&&(m&2)===0&&N!==null)e:for(;;){if(N===null)return;var I=N.tag;if(I===3||I===4){var U=N.stateNode.containerInfo;if(U===k||U.nodeType===8&&U.parentNode===k)break;if(I===4)for(I=N.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&(Y=I.stateNode.containerInfo,Y===k||Y.nodeType===8&&Y.parentNode===k))return;I=I.return}for(;U!==null;){if(I=To(U),I===null)return;if(Y=I.tag,Y===5||Y===6){N=O=I;continue e}U=U.parentNode}}N=N.return}Uj(function(){var ae=O,ge=Ix(y),ye=[];e:{var pe=I4.get(h);if(pe!==void 0){var Oe=Yx,Ie=h;switch(h){case"keypress":if(If(y)===0)break e;case"keydown":case"keyup":Oe=CV;break;case"focusin":Ie="focus",Oe=Jx;break;case"focusout":Ie="blur",Oe=Jx;break;case"beforeblur":case"afterblur":Oe=Jx;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=d4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=fV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=EV;break;case A4:case O4:case _4:Oe=gV;break;case D4:Oe=PV;break;case"scroll":Oe=dV;break;case"wheel":Oe=OV;break;case"copy":case"cut":case"paste":Oe=yV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=f4}var Le=(m&4)!==0,nn=!Le&&h==="scroll",Z=Le?pe!==null?pe+"Capture":null:pe;Le=[];for(var Q=ae,re;Q!==null;){re=Q;var je=re.stateNode;if(re.tag===5&&je!==null&&(re=je,Z!==null&&(je=Ou(Q,Z),je!=null&&Le.push(Qu(Q,je,re)))),nn)break;Q=Q.return}0<Le.length&&(pe=new Oe(pe,Ie,null,y,ge),ye.push({event:pe,listeners:Le}))}}if((m&7)===0){e:{if(pe=h==="mouseover"||h==="pointerover",Oe=h==="mouseout"||h==="pointerout",pe&&y!==Xl&&(Ie=y.relatedTarget||y.fromElement)&&(To(Ie)||Ie[bi]))break e;if((Oe||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,Oe?(Ie=y.relatedTarget||y.toElement,Oe=ae,Ie=Ie?To(Ie):null,Ie!==null&&(nn=ko(Ie),Ie!==nn||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Oe=null,Ie=ae),Oe!==Ie)){if(Le=d4,je="onMouseLeave",Z="onMouseEnter",Q="mouse",(h==="pointerout"||h==="pointerover")&&(Le=f4,je="onPointerLeave",Z="onPointerEnter",Q="pointer"),nn=Oe==null?pe:ac(Oe),re=Ie==null?pe:ac(Ie),pe=new Le(je,Q+"leave",Oe,y,ge),pe.target=nn,pe.relatedTarget=re,je=null,To(ge)===ae&&(Le=new Le(Z,Q+"enter",Ie,y,ge),Le.target=re,Le.relatedTarget=nn,je=Le),nn=je,Oe&&Ie)t:{for(Le=Oe,Z=Ie,Q=0,re=Le;re;re=sc(re))Q++;for(re=0,je=Z;je;je=sc(je))re++;for(;0<Q-re;)Le=sc(Le),Q--;for(;0<re-Q;)Z=sc(Z),re--;for(;Q--;){if(Le===Z||Z!==null&&Le===Z.alternate)break t;Le=sc(Le),Z=sc(Z)}Le=null}else Le=null;Oe!==null&&z4(ye,pe,Oe,Le,!1),Ie!==null&&nn!==null&&z4(ye,nn,Ie,Le,!0)}}e:{if(pe=ae?ac(ae):window,Oe=pe.nodeName&&pe.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&pe.type==="file")var Re=VV;else if(b4(pe))if(w4)Re=HV;else{Re=$V;var qe=zV}else(Oe=pe.nodeName)&&Oe.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Re=BV);if(Re&&(Re=Re(h,ae))){v4(ye,Re,y,ge);break e}qe&&qe(h,pe,ae),h==="focusout"&&(qe=pe._wrapperState)&&qe.controlled&&pe.type==="number"&&gn(pe,"number",pe.value)}switch(qe=ae?ac(ae):window,h){case"focusin":(b4(qe)||qe.contentEditable==="true")&&(nc=qe,sy=ae,Gu=null);break;case"focusout":Gu=sy=nc=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,M4(ye,y,ge);break;case"selectionchange":if(qV)break;case"keydown":case"keyup":M4(ye,y,ge)}var Ke;if(ey)e:{switch(h){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else tc?x4(h,y)&&(et="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(et="onCompositionStart");et&&(m4&&y.locale!=="ko"&&(tc||et!=="onCompositionStart"?et==="onCompositionEnd"&&tc&&(Ke=c4()):(ba=ge,Gx="value"in ba?ba.value:ba.textContent,tc=!0)),qe=Bf(ae,et),0<qe.length&&(et=new h4(et,h,null,y,ge),ye.push({event:et,listeners:qe}),Ke?et.data=Ke:(Ke=y4(y),Ke!==null&&(et.data=Ke)))),(Ke=DV?IV(h,y):LV(h,y))&&(ae=Bf(ae,"onBeforeInput"),0<ae.length&&(ge=new h4("onBeforeInput","beforeinput",null,y,ge),ye.push({event:ge,listeners:ae}),ge.data=Ke))}F4(ye,m)})}function Qu(h,m,y){return{instance:h,listener:m,currentTarget:y}}function Bf(h,m){for(var y=m+"Capture",N=[];h!==null;){var k=h,O=k.stateNode;k.tag===5&&O!==null&&(k=O,O=Ou(h,y),O!=null&&N.unshift(Qu(h,O,k)),O=Ou(h,m),O!=null&&N.push(Qu(h,O,k))),h=h.return}return N}function sc(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function z4(h,m,y,N,k){for(var O=m._reactName,I=[];y!==null&&y!==N;){var U=y,Y=U.alternate,ae=U.stateNode;if(Y!==null&&Y===N)break;U.tag===5&&ae!==null&&(U=ae,k?(Y=Ou(y,O),Y!=null&&I.unshift(Qu(y,Y,U))):k||(Y=Ou(y,O),Y!=null&&I.push(Qu(y,Y,U)))),y=y.return}I.length!==0&&h.push({event:m,listeners:I})}var XV=/\r\n?/g,QV=/\u0000|\uFFFD/g;function $4(h){return(typeof h=="string"?h:""+h).replace(XV,`
`).replace(QV,"")}function Hf(h,m,y){if(m=$4(m),$4(h)!==m&&y)throw Error(n(425))}function Uf(){}var dy=null,hy=null;function fy(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,JV=typeof clearTimeout=="function"?clearTimeout:void 0,B4=typeof Promise=="function"?Promise:void 0,ZV=typeof queueMicrotask=="function"?queueMicrotask:typeof B4<"u"?function(h){return B4.resolve(null).then(h).catch(ez)}:my;function ez(h){setTimeout(function(){throw h})}function py(h,m){var y=m,N=0;do{var k=y.nextSibling;if(h.removeChild(y),k&&k.nodeType===8)if(y=k.data,y==="/$"){if(N===0){h.removeChild(k),$u(m);return}N--}else y!=="$"&&y!=="$?"&&y!=="$!"||N++;y=k}while(y);$u(m)}function wa(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function H4(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return h;m--}else y==="/$"&&m++}h=h.previousSibling}return null}var ic=Math.random().toString(36).slice(2),Ws="__reactFiber$"+ic,Ju="__reactProps$"+ic,bi="__reactContainer$"+ic,gy="__reactEvents$"+ic,tz="__reactListeners$"+ic,nz="__reactHandles$"+ic;function To(h){var m=h[Ws];if(m)return m;for(var y=h.parentNode;y;){if(m=y[bi]||y[Ws]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(h=H4(h);h!==null;){if(y=h[Ws])return y;h=H4(h)}return m}h=y,y=h.parentNode}return null}function Zu(h){return h=h[Ws]||h[bi],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function ac(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function Wf(h){return h[Ju]||null}var xy=[],oc=-1;function Na(h){return{current:h}}function Ot(h){0>oc||(h.current=xy[oc],xy[oc]=null,oc--)}function kt(h,m){oc++,xy[oc]=h.current,h.current=m}var Sa={},Un=Na(Sa),yr=Na(!1),Eo=Sa;function lc(h,m){var y=h.type.contextTypes;if(!y)return Sa;var N=h.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===m)return N.__reactInternalMemoizedMaskedChildContext;var k={},O;for(O in y)k[O]=m[O];return N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=k),k}function br(h){return h=h.childContextTypes,h!=null}function qf(){Ot(yr),Ot(Un)}function U4(h,m,y){if(Un.current!==Sa)throw Error(n(168));kt(Un,m),kt(yr,y)}function W4(h,m,y){var N=h.stateNode;if(m=m.childContextTypes,typeof N.getChildContext!="function")return y;N=N.getChildContext();for(var k in N)if(!(k in m))throw Error(n(108,ce(h)||"Unknown",k));return X({},y,N)}function Kf(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Sa,Eo=Un.current,kt(Un,h),kt(yr,yr.current),!0}function q4(h,m,y){var N=h.stateNode;if(!N)throw Error(n(169));y?(h=W4(h,m,Eo),N.__reactInternalMemoizedMergedChildContext=h,Ot(yr),Ot(Un),kt(Un,h)):Ot(yr),kt(yr,y)}var vi=null,Gf=!1,yy=!1;function K4(h){vi===null?vi=[h]:vi.push(h)}function rz(h){Gf=!0,K4(h)}function ja(){if(!yy&&vi!==null){yy=!0;var h=0,m=vt;try{var y=vi;for(vt=1;h<y.length;h++){var N=y[h];do N=N(!0);while(N!==null)}vi=null,Gf=!1}catch(k){throw vi!==null&&(vi=vi.slice(h+1)),Yj(zx,ja),k}finally{vt=m,yy=!1}}return null}var cc=[],uc=0,Yf=null,Xf=0,es=[],ts=0,Mo=null,wi=1,Ni="";function Po(h,m){cc[uc++]=Xf,cc[uc++]=Yf,Yf=h,Xf=m}function G4(h,m,y){es[ts++]=wi,es[ts++]=Ni,es[ts++]=Mo,Mo=h;var N=wi;h=Ni;var k=32-Ss(N)-1;N&=~(1<<k),y+=1;var O=32-Ss(m)+k;if(30<O){var I=k-k%5;O=(N&(1<<I)-1).toString(32),N>>=I,k-=I,wi=1<<32-Ss(m)+k|y<<k|N,Ni=O+h}else wi=1<<O|y<<k|N,Ni=h}function by(h){h.return!==null&&(Po(h,1),G4(h,1,0))}function vy(h){for(;h===Yf;)Yf=cc[--uc],cc[uc]=null,Xf=cc[--uc],cc[uc]=null;for(;h===Mo;)Mo=es[--ts],es[ts]=null,Ni=es[--ts],es[ts]=null,wi=es[--ts],es[ts]=null}var Fr=null,Vr=null,Ft=!1,Cs=null;function Y4(h,m){var y=is(5,null,null,0);y.elementType="DELETED",y.stateNode=m,y.return=h,m=h.deletions,m===null?(h.deletions=[y],h.flags|=16):m.push(y)}function X4(h,m){switch(h.tag){case 5:var y=h.type;return m=m.nodeType!==1||y.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,Fr=h,Vr=wa(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,Fr=h,Vr=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(y=Mo!==null?{id:wi,overflow:Ni}:null,h.memoizedState={dehydrated:m,treeContext:y,retryLane:1073741824},y=is(18,null,null,0),y.stateNode=m,y.return=h,h.child=y,Fr=h,Vr=null,!0):!1;default:return!1}}function wy(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Ny(h){if(Ft){var m=Vr;if(m){var y=m;if(!X4(h,m)){if(wy(h))throw Error(n(418));m=wa(y.nextSibling);var N=Fr;m&&X4(h,m)?Y4(N,y):(h.flags=h.flags&-4097|2,Ft=!1,Fr=h)}}else{if(wy(h))throw Error(n(418));h.flags=h.flags&-4097|2,Ft=!1,Fr=h}}}function Q4(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Fr=h}function Qf(h){if(h!==Fr)return!1;if(!Ft)return Q4(h),Ft=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!fy(h.type,h.memoizedProps)),m&&(m=Vr)){if(wy(h))throw J4(),Error(n(418));for(;m;)Y4(h,m),m=wa(m.nextSibling)}if(Q4(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="/$"){if(m===0){Vr=wa(h.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++}h=h.nextSibling}Vr=null}}else Vr=Fr?wa(h.stateNode.nextSibling):null;return!0}function J4(){for(var h=Vr;h;)h=wa(h.nextSibling)}function dc(){Vr=Fr=null,Ft=!1}function Sy(h){Cs===null?Cs=[h]:Cs.push(h)}var sz=M.ReactCurrentBatchConfig;function ed(h,m,y){if(h=y.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var N=y.stateNode}if(!N)throw Error(n(147,h));var k=N,O=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===O?m.ref:(m=function(I){var U=k.refs;I===null?delete U[O]:U[O]=I},m._stringRef=O,m)}if(typeof h!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,h))}return h}function Jf(h,m){throw h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function Z4(h){var m=h._init;return m(h._payload)}function eC(h){function m(Z,Q){if(h){var re=Z.deletions;re===null?(Z.deletions=[Q],Z.flags|=16):re.push(Q)}}function y(Z,Q){if(!h)return null;for(;Q!==null;)m(Z,Q),Q=Q.sibling;return null}function N(Z,Q){for(Z=new Map;Q!==null;)Q.key!==null?Z.set(Q.key,Q):Z.set(Q.index,Q),Q=Q.sibling;return Z}function k(Z,Q){return Z=Oa(Z,Q),Z.index=0,Z.sibling=null,Z}function O(Z,Q,re){return Z.index=re,h?(re=Z.alternate,re!==null?(re=re.index,re<Q?(Z.flags|=2,Q):re):(Z.flags|=2,Q)):(Z.flags|=1048576,Q)}function I(Z){return h&&Z.alternate===null&&(Z.flags|=2),Z}function U(Z,Q,re,je){return Q===null||Q.tag!==6?(Q=mb(re,Z.mode,je),Q.return=Z,Q):(Q=k(Q,re),Q.return=Z,Q)}function Y(Z,Q,re,je){var Re=re.type;return Re===A?ge(Z,Q,re.props.children,je,re.key):Q!==null&&(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&Z4(Re)===Q.type)?(je=k(Q,re.props),je.ref=ed(Z,Q,re),je.return=Z,je):(je=Nm(re.type,re.key,re.props,null,Z.mode,je),je.ref=ed(Z,Q,re),je.return=Z,je)}function ae(Z,Q,re,je){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=pb(re,Z.mode,je),Q.return=Z,Q):(Q=k(Q,re.children||[]),Q.return=Z,Q)}function ge(Z,Q,re,je,Re){return Q===null||Q.tag!==7?(Q=Fo(re,Z.mode,je,Re),Q.return=Z,Q):(Q=k(Q,re),Q.return=Z,Q)}function ye(Z,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=mb(""+Q,Z.mode,re),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return re=Nm(Q.type,Q.key,Q.props,null,Z.mode,re),re.ref=ed(Z,null,Q),re.return=Z,re;case P:return Q=pb(Q,Z.mode,re),Q.return=Z,Q;case R:var je=Q._init;return ye(Z,je(Q._payload),re)}if(q(Q)||K(Q))return Q=Fo(Q,Z.mode,re,null),Q.return=Z,Q;Jf(Z,Q)}return null}function pe(Z,Q,re,je){var Re=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Re!==null?null:U(Z,Q,""+re,je);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case C:return re.key===Re?Y(Z,Q,re,je):null;case P:return re.key===Re?ae(Z,Q,re,je):null;case R:return Re=re._init,pe(Z,Q,Re(re._payload),je)}if(q(re)||K(re))return Re!==null?null:ge(Z,Q,re,je,null);Jf(Z,re)}return null}function Oe(Z,Q,re,je,Re){if(typeof je=="string"&&je!==""||typeof je=="number")return Z=Z.get(re)||null,U(Q,Z,""+je,Re);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case C:return Z=Z.get(je.key===null?re:je.key)||null,Y(Q,Z,je,Re);case P:return Z=Z.get(je.key===null?re:je.key)||null,ae(Q,Z,je,Re);case R:var qe=je._init;return Oe(Z,Q,re,qe(je._payload),Re)}if(q(je)||K(je))return Z=Z.get(re)||null,ge(Q,Z,je,Re,null);Jf(Q,je)}return null}function Ie(Z,Q,re,je){for(var Re=null,qe=null,Ke=Q,et=Q=0,Sn=null;Ke!==null&&et<re.length;et++){Ke.index>et?(Sn=Ke,Ke=null):Sn=Ke.sibling;var dt=pe(Z,Ke,re[et],je);if(dt===null){Ke===null&&(Ke=Sn);break}h&&Ke&&dt.alternate===null&&m(Z,Ke),Q=O(dt,Q,et),qe===null?Re=dt:qe.sibling=dt,qe=dt,Ke=Sn}if(et===re.length)return y(Z,Ke),Ft&&Po(Z,et),Re;if(Ke===null){for(;et<re.length;et++)Ke=ye(Z,re[et],je),Ke!==null&&(Q=O(Ke,Q,et),qe===null?Re=Ke:qe.sibling=Ke,qe=Ke);return Ft&&Po(Z,et),Re}for(Ke=N(Z,Ke);et<re.length;et++)Sn=Oe(Ke,Z,et,re[et],je),Sn!==null&&(h&&Sn.alternate!==null&&Ke.delete(Sn.key===null?et:Sn.key),Q=O(Sn,Q,et),qe===null?Re=Sn:qe.sibling=Sn,qe=Sn);return h&&Ke.forEach(function(_a){return m(Z,_a)}),Ft&&Po(Z,et),Re}function Le(Z,Q,re,je){var Re=K(re);if(typeof Re!="function")throw Error(n(150));if(re=Re.call(re),re==null)throw Error(n(151));for(var qe=Re=null,Ke=Q,et=Q=0,Sn=null,dt=re.next();Ke!==null&&!dt.done;et++,dt=re.next()){Ke.index>et?(Sn=Ke,Ke=null):Sn=Ke.sibling;var _a=pe(Z,Ke,dt.value,je);if(_a===null){Ke===null&&(Ke=Sn);break}h&&Ke&&_a.alternate===null&&m(Z,Ke),Q=O(_a,Q,et),qe===null?Re=_a:qe.sibling=_a,qe=_a,Ke=Sn}if(dt.done)return y(Z,Ke),Ft&&Po(Z,et),Re;if(Ke===null){for(;!dt.done;et++,dt=re.next())dt=ye(Z,dt.value,je),dt!==null&&(Q=O(dt,Q,et),qe===null?Re=dt:qe.sibling=dt,qe=dt);return Ft&&Po(Z,et),Re}for(Ke=N(Z,Ke);!dt.done;et++,dt=re.next())dt=Oe(Ke,Z,et,dt.value,je),dt!==null&&(h&&dt.alternate!==null&&Ke.delete(dt.key===null?et:dt.key),Q=O(dt,Q,et),qe===null?Re=dt:qe.sibling=dt,qe=dt);return h&&Ke.forEach(function(Rz){return m(Z,Rz)}),Ft&&Po(Z,et),Re}function nn(Z,Q,re,je){if(typeof re=="object"&&re!==null&&re.type===A&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case C:e:{for(var Re=re.key,qe=Q;qe!==null;){if(qe.key===Re){if(Re=re.type,Re===A){if(qe.tag===7){y(Z,qe.sibling),Q=k(qe,re.props.children),Q.return=Z,Z=Q;break e}}else if(qe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&Z4(Re)===qe.type){y(Z,qe.sibling),Q=k(qe,re.props),Q.ref=ed(Z,qe,re),Q.return=Z,Z=Q;break e}y(Z,qe);break}else m(Z,qe);qe=qe.sibling}re.type===A?(Q=Fo(re.props.children,Z.mode,je,re.key),Q.return=Z,Z=Q):(je=Nm(re.type,re.key,re.props,null,Z.mode,je),je.ref=ed(Z,Q,re),je.return=Z,Z=je)}return I(Z);case P:e:{for(qe=re.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){y(Z,Q.sibling),Q=k(Q,re.children||[]),Q.return=Z,Z=Q;break e}else{y(Z,Q);break}else m(Z,Q);Q=Q.sibling}Q=pb(re,Z.mode,je),Q.return=Z,Z=Q}return I(Z);case R:return qe=re._init,nn(Z,Q,qe(re._payload),je)}if(q(re))return Ie(Z,Q,re,je);if(K(re))return Le(Z,Q,re,je);Jf(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(y(Z,Q.sibling),Q=k(Q,re),Q.return=Z,Z=Q):(y(Z,Q),Q=mb(re,Z.mode,je),Q.return=Z,Z=Q),I(Z)):y(Z,Q)}return nn}var hc=eC(!0),tC=eC(!1),Zf=Na(null),em=null,fc=null,jy=null;function Cy(){jy=fc=em=null}function ky(h){var m=Zf.current;Ot(Zf),h._currentValue=m}function Ty(h,m,y){for(;h!==null;){var N=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,N!==null&&(N.childLanes|=m)):N!==null&&(N.childLanes&m)!==m&&(N.childLanes|=m),h===y)break;h=h.return}}function mc(h,m){em=h,jy=fc=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(vr=!0),h.firstContext=null)}function ns(h){var m=h._currentValue;if(jy!==h)if(h={context:h,memoizedValue:m,next:null},fc===null){if(em===null)throw Error(n(308));fc=h,em.dependencies={lanes:0,firstContext:h}}else fc=fc.next=h;return m}var Ao=null;function Ey(h){Ao===null?Ao=[h]:Ao.push(h)}function nC(h,m,y,N){var k=m.interleaved;return k===null?(y.next=y,Ey(m)):(y.next=k.next,k.next=y),m.interleaved=y,Si(h,N)}function Si(h,m){h.lanes|=m;var y=h.alternate;for(y!==null&&(y.lanes|=m),y=h,h=h.return;h!==null;)h.childLanes|=m,y=h.alternate,y!==null&&(y.childLanes|=m),y=h,h=h.return;return y.tag===3?y.stateNode:null}var Ca=!1;function My(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ji(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function ka(h,m,y){var N=h.updateQueue;if(N===null)return null;if(N=N.shared,(ut&2)!==0){var k=N.pending;return k===null?m.next=m:(m.next=k.next,k.next=m),N.pending=m,Si(h,y)}return k=N.interleaved,k===null?(m.next=m,Ey(N)):(m.next=k.next,k.next=m),N.interleaved=m,Si(h,y)}function tm(h,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194240)!==0)){var N=m.lanes;N&=h.pendingLanes,y|=N,m.lanes=y,Hx(h,y)}}function sC(h,m){var y=h.updateQueue,N=h.alternate;if(N!==null&&(N=N.updateQueue,y===N)){var k=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var I={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};O===null?k=O=I:O=O.next=I,y=y.next}while(y!==null);O===null?k=O=m:O=O.next=m}else k=O=m;y={baseState:N.baseState,firstBaseUpdate:k,lastBaseUpdate:O,shared:N.shared,effects:N.effects},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=m}function nm(h,m,y,N){var k=h.updateQueue;Ca=!1;var O=k.firstBaseUpdate,I=k.lastBaseUpdate,U=k.shared.pending;if(U!==null){k.shared.pending=null;var Y=U,ae=Y.next;Y.next=null,I===null?O=ae:I.next=ae,I=Y;var ge=h.alternate;ge!==null&&(ge=ge.updateQueue,U=ge.lastBaseUpdate,U!==I&&(U===null?ge.firstBaseUpdate=ae:U.next=ae,ge.lastBaseUpdate=Y))}if(O!==null){var ye=k.baseState;I=0,ge=ae=Y=null,U=O;do{var pe=U.lane,Oe=U.eventTime;if((N&pe)===pe){ge!==null&&(ge=ge.next={eventTime:Oe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ie=h,Le=U;switch(pe=m,Oe=y,Le.tag){case 1:if(Ie=Le.payload,typeof Ie=="function"){ye=Ie.call(Oe,ye,pe);break e}ye=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Le.payload,pe=typeof Ie=="function"?Ie.call(Oe,ye,pe):Ie,pe==null)break e;ye=X({},ye,pe);break e;case 2:Ca=!0}}U.callback!==null&&U.lane!==0&&(h.flags|=64,pe=k.effects,pe===null?k.effects=[U]:pe.push(U))}else Oe={eventTime:Oe,lane:pe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ge===null?(ae=ge=Oe,Y=ye):ge=ge.next=Oe,I|=pe;if(U=U.next,U===null){if(U=k.shared.pending,U===null)break;pe=U,U=pe.next,pe.next=null,k.lastBaseUpdate=pe,k.shared.pending=null}}while(!0);if(ge===null&&(Y=ye),k.baseState=Y,k.firstBaseUpdate=ae,k.lastBaseUpdate=ge,m=k.shared.interleaved,m!==null){k=m;do I|=k.lane,k=k.next;while(k!==m)}else O===null&&(k.shared.lanes=0);Do|=I,h.lanes=I,h.memoizedState=ye}}function iC(h,m,y){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var N=h[m],k=N.callback;if(k!==null){if(N.callback=null,N=y,typeof k!="function")throw Error(n(191,k));k.call(N)}}}var td={},qs=Na(td),nd=Na(td),rd=Na(td);function Oo(h){if(h===td)throw Error(n(174));return h}function Py(h,m){switch(kt(rd,m),kt(nd,h),kt(qs,td),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:ct(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=ct(m,h)}Ot(qs),kt(qs,m)}function pc(){Ot(qs),Ot(nd),Ot(rd)}function aC(h){Oo(rd.current);var m=Oo(qs.current),y=ct(m,h.type);m!==y&&(kt(nd,h),kt(qs,y))}function Ay(h){nd.current===h&&(Ot(qs),Ot(nd))}var Ht=Na(0);function rm(h){for(var m=h;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Oy=[];function _y(){for(var h=0;h<Oy.length;h++)Oy[h]._workInProgressVersionPrimary=null;Oy.length=0}var sm=M.ReactCurrentDispatcher,Dy=M.ReactCurrentBatchConfig,_o=0,Ut=null,xn=null,wn=null,im=!1,sd=!1,id=0,iz=0;function Wn(){throw Error(n(321))}function Iy(h,m){if(m===null)return!1;for(var y=0;y<m.length&&y<h.length;y++)if(!js(h[y],m[y]))return!1;return!0}function Ly(h,m,y,N,k,O){if(_o=O,Ut=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,sm.current=h===null||h.memoizedState===null?cz:uz,h=y(N,k),sd){O=0;do{if(sd=!1,id=0,25<=O)throw Error(n(301));O+=1,wn=xn=null,m.updateQueue=null,sm.current=dz,h=y(N,k)}while(sd)}if(sm.current=lm,m=xn!==null&&xn.next!==null,_o=0,wn=xn=Ut=null,im=!1,m)throw Error(n(300));return h}function Ry(){var h=id!==0;return id=0,h}function Ks(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ut.memoizedState=wn=h:wn=wn.next=h,wn}function rs(){if(xn===null){var h=Ut.alternate;h=h!==null?h.memoizedState:null}else h=xn.next;var m=wn===null?Ut.memoizedState:wn.next;if(m!==null)wn=m,xn=h;else{if(h===null)throw Error(n(310));xn=h,h={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},wn===null?Ut.memoizedState=wn=h:wn=wn.next=h}return wn}function ad(h,m){return typeof m=="function"?m(h):m}function Fy(h){var m=rs(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var N=xn,k=N.baseQueue,O=y.pending;if(O!==null){if(k!==null){var I=k.next;k.next=O.next,O.next=I}N.baseQueue=k=O,y.pending=null}if(k!==null){O=k.next,N=N.baseState;var U=I=null,Y=null,ae=O;do{var ge=ae.lane;if((_o&ge)===ge)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),N=ae.hasEagerState?ae.eagerState:h(N,ae.action);else{var ye={lane:ge,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?(U=Y=ye,I=N):Y=Y.next=ye,Ut.lanes|=ge,Do|=ge}ae=ae.next}while(ae!==null&&ae!==O);Y===null?I=N:Y.next=U,js(N,m.memoizedState)||(vr=!0),m.memoizedState=N,m.baseState=I,m.baseQueue=Y,y.lastRenderedState=N}if(h=y.interleaved,h!==null){k=h;do O=k.lane,Ut.lanes|=O,Do|=O,k=k.next;while(k!==h)}else k===null&&(y.lanes=0);return[m.memoizedState,y.dispatch]}function Vy(h){var m=rs(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var N=y.dispatch,k=y.pending,O=m.memoizedState;if(k!==null){y.pending=null;var I=k=k.next;do O=h(O,I.action),I=I.next;while(I!==k);js(O,m.memoizedState)||(vr=!0),m.memoizedState=O,m.baseQueue===null&&(m.baseState=O),y.lastRenderedState=O}return[O,N]}function oC(){}function lC(h,m){var y=Ut,N=rs(),k=m(),O=!js(N.memoizedState,k);if(O&&(N.memoizedState=k,vr=!0),N=N.queue,zy(dC.bind(null,y,N,h),[h]),N.getSnapshot!==m||O||wn!==null&&wn.memoizedState.tag&1){if(y.flags|=2048,od(9,uC.bind(null,y,N,k,m),void 0,null),Nn===null)throw Error(n(349));(_o&30)!==0||cC(y,m,k)}return k}function cC(h,m,y){h.flags|=16384,h={getSnapshot:m,value:y},m=Ut.updateQueue,m===null?(m={lastEffect:null,stores:null},Ut.updateQueue=m,m.stores=[h]):(y=m.stores,y===null?m.stores=[h]:y.push(h))}function uC(h,m,y,N){m.value=y,m.getSnapshot=N,hC(m)&&fC(h)}function dC(h,m,y){return y(function(){hC(m)&&fC(h)})}function hC(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!js(h,y)}catch{return!0}}function fC(h){var m=Si(h,1);m!==null&&Ms(m,h,1,-1)}function mC(h){var m=Ks();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:h},m.queue=h,h=h.dispatch=lz.bind(null,Ut,h),[m.memoizedState,h]}function od(h,m,y,N){return h={tag:h,create:m,destroy:y,deps:N,next:null},m=Ut.updateQueue,m===null?(m={lastEffect:null,stores:null},Ut.updateQueue=m,m.lastEffect=h.next=h):(y=m.lastEffect,y===null?m.lastEffect=h.next=h:(N=y.next,y.next=h,h.next=N,m.lastEffect=h)),h}function pC(){return rs().memoizedState}function am(h,m,y,N){var k=Ks();Ut.flags|=h,k.memoizedState=od(1|m,y,void 0,N===void 0?null:N)}function om(h,m,y,N){var k=rs();N=N===void 0?null:N;var O=void 0;if(xn!==null){var I=xn.memoizedState;if(O=I.destroy,N!==null&&Iy(N,I.deps)){k.memoizedState=od(m,y,O,N);return}}Ut.flags|=h,k.memoizedState=od(1|m,y,O,N)}function gC(h,m){return am(8390656,8,h,m)}function zy(h,m){return om(2048,8,h,m)}function xC(h,m){return om(4,2,h,m)}function yC(h,m){return om(4,4,h,m)}function bC(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function vC(h,m,y){return y=y!=null?y.concat([h]):null,om(4,4,bC.bind(null,m,h),y)}function $y(){}function wC(h,m){var y=rs();m=m===void 0?null:m;var N=y.memoizedState;return N!==null&&m!==null&&Iy(m,N[1])?N[0]:(y.memoizedState=[h,m],h)}function NC(h,m){var y=rs();m=m===void 0?null:m;var N=y.memoizedState;return N!==null&&m!==null&&Iy(m,N[1])?N[0]:(h=h(),y.memoizedState=[h,m],h)}function SC(h,m,y){return(_o&21)===0?(h.baseState&&(h.baseState=!1,vr=!0),h.memoizedState=y):(js(y,m)||(y=Zj(),Ut.lanes|=y,Do|=y,h.baseState=!0),m)}function az(h,m){var y=vt;vt=y!==0&&4>y?y:4,h(!0);var N=Dy.transition;Dy.transition={};try{h(!1),m()}finally{vt=y,Dy.transition=N}}function jC(){return rs().memoizedState}function oz(h,m,y){var N=Pa(h);if(y={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null},CC(h))kC(m,y);else if(y=nC(h,m,y,N),y!==null){var k=lr();Ms(y,h,N,k),TC(y,m,N)}}function lz(h,m,y){var N=Pa(h),k={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null};if(CC(h))kC(m,k);else{var O=h.alternate;if(h.lanes===0&&(O===null||O.lanes===0)&&(O=m.lastRenderedReducer,O!==null))try{var I=m.lastRenderedState,U=O(I,y);if(k.hasEagerState=!0,k.eagerState=U,js(U,I)){var Y=m.interleaved;Y===null?(k.next=k,Ey(m)):(k.next=Y.next,Y.next=k),m.interleaved=k;return}}catch{}finally{}y=nC(h,m,k,N),y!==null&&(k=lr(),Ms(y,h,N,k),TC(y,m,N))}}function CC(h){var m=h.alternate;return h===Ut||m!==null&&m===Ut}function kC(h,m){sd=im=!0;var y=h.pending;y===null?m.next=m:(m.next=y.next,y.next=m),h.pending=m}function TC(h,m,y){if((y&4194240)!==0){var N=m.lanes;N&=h.pendingLanes,y|=N,m.lanes=y,Hx(h,y)}}var lm={readContext:ns,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},cz={readContext:ns,useCallback:function(h,m){return Ks().memoizedState=[h,m===void 0?null:m],h},useContext:ns,useEffect:gC,useImperativeHandle:function(h,m,y){return y=y!=null?y.concat([h]):null,am(4194308,4,bC.bind(null,m,h),y)},useLayoutEffect:function(h,m){return am(4194308,4,h,m)},useInsertionEffect:function(h,m){return am(4,2,h,m)},useMemo:function(h,m){var y=Ks();return m=m===void 0?null:m,h=h(),y.memoizedState=[h,m],h},useReducer:function(h,m,y){var N=Ks();return m=y!==void 0?y(m):m,N.memoizedState=N.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},N.queue=h,h=h.dispatch=oz.bind(null,Ut,h),[N.memoizedState,h]},useRef:function(h){var m=Ks();return h={current:h},m.memoizedState=h},useState:mC,useDebugValue:$y,useDeferredValue:function(h){return Ks().memoizedState=h},useTransition:function(){var h=mC(!1),m=h[0];return h=az.bind(null,h[1]),Ks().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,y){var N=Ut,k=Ks();if(Ft){if(y===void 0)throw Error(n(407));y=y()}else{if(y=m(),Nn===null)throw Error(n(349));(_o&30)!==0||cC(N,m,y)}k.memoizedState=y;var O={value:y,getSnapshot:m};return k.queue=O,gC(dC.bind(null,N,O,h),[h]),N.flags|=2048,od(9,uC.bind(null,N,O,y,m),void 0,null),y},useId:function(){var h=Ks(),m=Nn.identifierPrefix;if(Ft){var y=Ni,N=wi;y=(N&~(1<<32-Ss(N)-1)).toString(32)+y,m=":"+m+"R"+y,y=id++,0<y&&(m+="H"+y.toString(32)),m+=":"}else y=iz++,m=":"+m+"r"+y.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},uz={readContext:ns,useCallback:wC,useContext:ns,useEffect:zy,useImperativeHandle:vC,useInsertionEffect:xC,useLayoutEffect:yC,useMemo:NC,useReducer:Fy,useRef:pC,useState:function(){return Fy(ad)},useDebugValue:$y,useDeferredValue:function(h){var m=rs();return SC(m,xn.memoizedState,h)},useTransition:function(){var h=Fy(ad)[0],m=rs().memoizedState;return[h,m]},useMutableSource:oC,useSyncExternalStore:lC,useId:jC,unstable_isNewReconciler:!1},dz={readContext:ns,useCallback:wC,useContext:ns,useEffect:zy,useImperativeHandle:vC,useInsertionEffect:xC,useLayoutEffect:yC,useMemo:NC,useReducer:Vy,useRef:pC,useState:function(){return Vy(ad)},useDebugValue:$y,useDeferredValue:function(h){var m=rs();return xn===null?m.memoizedState=h:SC(m,xn.memoizedState,h)},useTransition:function(){var h=Vy(ad)[0],m=rs().memoizedState;return[h,m]},useMutableSource:oC,useSyncExternalStore:lC,useId:jC,unstable_isNewReconciler:!1};function ks(h,m){if(h&&h.defaultProps){m=X({},m),h=h.defaultProps;for(var y in h)m[y]===void 0&&(m[y]=h[y]);return m}return m}function By(h,m,y,N){m=h.memoizedState,y=y(N,m),y=y==null?m:X({},m,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var cm={isMounted:function(h){return(h=h._reactInternals)?ko(h)===h:!1},enqueueSetState:function(h,m,y){h=h._reactInternals;var N=lr(),k=Pa(h),O=ji(N,k);O.payload=m,y!=null&&(O.callback=y),m=ka(h,O,k),m!==null&&(Ms(m,h,k,N),tm(m,h,k))},enqueueReplaceState:function(h,m,y){h=h._reactInternals;var N=lr(),k=Pa(h),O=ji(N,k);O.tag=1,O.payload=m,y!=null&&(O.callback=y),m=ka(h,O,k),m!==null&&(Ms(m,h,k,N),tm(m,h,k))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var y=lr(),N=Pa(h),k=ji(y,N);k.tag=2,m!=null&&(k.callback=m),m=ka(h,k,N),m!==null&&(Ms(m,h,N,y),tm(m,h,N))}};function EC(h,m,y,N,k,O,I){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(N,O,I):m.prototype&&m.prototype.isPureReactComponent?!Ku(y,N)||!Ku(k,O):!0}function MC(h,m,y){var N=!1,k=Sa,O=m.contextType;return typeof O=="object"&&O!==null?O=ns(O):(k=br(m)?Eo:Un.current,N=m.contextTypes,O=(N=N!=null)?lc(h,k):Sa),m=new m(y,O),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cm,h.stateNode=m,m._reactInternals=h,N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=k,h.__reactInternalMemoizedMaskedChildContext=O),m}function PC(h,m,y,N){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,N),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,N),m.state!==h&&cm.enqueueReplaceState(m,m.state,null)}function Hy(h,m,y,N){var k=h.stateNode;k.props=y,k.state=h.memoizedState,k.refs={},My(h);var O=m.contextType;typeof O=="object"&&O!==null?k.context=ns(O):(O=br(m)?Eo:Un.current,k.context=lc(h,O)),k.state=h.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(By(h,m,O,y),k.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(m=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),m!==k.state&&cm.enqueueReplaceState(k,k.state,null),nm(h,y,k,N),k.state=h.memoizedState),typeof k.componentDidMount=="function"&&(h.flags|=4194308)}function gc(h,m){try{var y="",N=m;do y+=me(N),N=N.return;while(N);var k=y}catch(O){k=`
Error generating stack: `+O.message+`
`+O.stack}return{value:h,source:m,stack:k,digest:null}}function Uy(h,m,y){return{value:h,source:null,stack:y??null,digest:m??null}}function Wy(h,m){try{console.error(m.value)}catch(y){setTimeout(function(){throw y})}}var hz=typeof WeakMap=="function"?WeakMap:Map;function AC(h,m,y){y=ji(-1,y),y.tag=3,y.payload={element:null};var N=m.value;return y.callback=function(){gm||(gm=!0,ab=N),Wy(h,m)},y}function OC(h,m,y){y=ji(-1,y),y.tag=3;var N=h.type.getDerivedStateFromError;if(typeof N=="function"){var k=m.value;y.payload=function(){return N(k)},y.callback=function(){Wy(h,m)}}var O=h.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(y.callback=function(){Wy(h,m),typeof N!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})}),y}function _C(h,m,y){var N=h.pingCache;if(N===null){N=h.pingCache=new hz;var k=new Set;N.set(m,k)}else k=N.get(m),k===void 0&&(k=new Set,N.set(m,k));k.has(y)||(k.add(y),h=kz.bind(null,h,m,y),m.then(h,h))}function DC(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function IC(h,m,y,N,k){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(m=ji(-1,1),m.tag=2,ka(y,m,1))),y.lanes|=1),h):(h.flags|=65536,h.lanes=k,h)}var fz=M.ReactCurrentOwner,vr=!1;function or(h,m,y,N){m.child=h===null?tC(m,null,y,N):hc(m,h.child,y,N)}function LC(h,m,y,N,k){y=y.render;var O=m.ref;return mc(m,k),N=Ly(h,m,y,N,O,k),y=Ry(),h!==null&&!vr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~k,Ci(h,m,k)):(Ft&&y&&by(m),m.flags|=1,or(h,m,N,k),m.child)}function RC(h,m,y,N,k){if(h===null){var O=y.type;return typeof O=="function"&&!fb(O)&&O.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(m.tag=15,m.type=O,FC(h,m,O,N,k)):(h=Nm(y.type,null,N,m,m.mode,k),h.ref=m.ref,h.return=m,m.child=h)}if(O=h.child,(h.lanes&k)===0){var I=O.memoizedProps;if(y=y.compare,y=y!==null?y:Ku,y(I,N)&&h.ref===m.ref)return Ci(h,m,k)}return m.flags|=1,h=Oa(O,N),h.ref=m.ref,h.return=m,m.child=h}function FC(h,m,y,N,k){if(h!==null){var O=h.memoizedProps;if(Ku(O,N)&&h.ref===m.ref)if(vr=!1,m.pendingProps=N=O,(h.lanes&k)!==0)(h.flags&131072)!==0&&(vr=!0);else return m.lanes=h.lanes,Ci(h,m,k)}return qy(h,m,y,N,k)}function VC(h,m,y){var N=m.pendingProps,k=N.children,O=h!==null?h.memoizedState:null;if(N.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(yc,zr),zr|=y;else{if((y&1073741824)===0)return h=O!==null?O.baseLanes|y:y,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,kt(yc,zr),zr|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=O!==null?O.baseLanes:y,kt(yc,zr),zr|=N}else O!==null?(N=O.baseLanes|y,m.memoizedState=null):N=y,kt(yc,zr),zr|=N;return or(h,m,k,y),m.child}function zC(h,m){var y=m.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(m.flags|=512,m.flags|=2097152)}function qy(h,m,y,N,k){var O=br(y)?Eo:Un.current;return O=lc(m,O),mc(m,k),y=Ly(h,m,y,N,O,k),N=Ry(),h!==null&&!vr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~k,Ci(h,m,k)):(Ft&&N&&by(m),m.flags|=1,or(h,m,y,k),m.child)}function $C(h,m,y,N,k){if(br(y)){var O=!0;Kf(m)}else O=!1;if(mc(m,k),m.stateNode===null)dm(h,m),MC(m,y,N),Hy(m,y,N,k),N=!0;else if(h===null){var I=m.stateNode,U=m.memoizedProps;I.props=U;var Y=I.context,ae=y.contextType;typeof ae=="object"&&ae!==null?ae=ns(ae):(ae=br(y)?Eo:Un.current,ae=lc(m,ae));var ge=y.getDerivedStateFromProps,ye=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function";ye||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==N||Y!==ae)&&PC(m,I,N,ae),Ca=!1;var pe=m.memoizedState;I.state=pe,nm(m,N,I,k),Y=m.memoizedState,U!==N||pe!==Y||yr.current||Ca?(typeof ge=="function"&&(By(m,y,ge,N),Y=m.memoizedState),(U=Ca||EC(m,y,U,N,pe,Y,ae))?(ye||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(m.flags|=4194308)):(typeof I.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=N,m.memoizedState=Y),I.props=N,I.state=Y,I.context=ae,N=U):(typeof I.componentDidMount=="function"&&(m.flags|=4194308),N=!1)}else{I=m.stateNode,rC(h,m),U=m.memoizedProps,ae=m.type===m.elementType?U:ks(m.type,U),I.props=ae,ye=m.pendingProps,pe=I.context,Y=y.contextType,typeof Y=="object"&&Y!==null?Y=ns(Y):(Y=br(y)?Eo:Un.current,Y=lc(m,Y));var Oe=y.getDerivedStateFromProps;(ge=typeof Oe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==ye||pe!==Y)&&PC(m,I,N,Y),Ca=!1,pe=m.memoizedState,I.state=pe,nm(m,N,I,k);var Ie=m.memoizedState;U!==ye||pe!==Ie||yr.current||Ca?(typeof Oe=="function"&&(By(m,y,Oe,N),Ie=m.memoizedState),(ae=Ca||EC(m,y,ae,N,pe,Ie,Y)||!1)?(ge||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(N,Ie,Y),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(N,Ie,Y)),typeof I.componentDidUpdate=="function"&&(m.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof I.componentDidUpdate!="function"||U===h.memoizedProps&&pe===h.memoizedState||(m.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===h.memoizedProps&&pe===h.memoizedState||(m.flags|=1024),m.memoizedProps=N,m.memoizedState=Ie),I.props=N,I.state=Ie,I.context=Y,N=ae):(typeof I.componentDidUpdate!="function"||U===h.memoizedProps&&pe===h.memoizedState||(m.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===h.memoizedProps&&pe===h.memoizedState||(m.flags|=1024),N=!1)}return Ky(h,m,y,N,O,k)}function Ky(h,m,y,N,k,O){zC(h,m);var I=(m.flags&128)!==0;if(!N&&!I)return k&&q4(m,y,!1),Ci(h,m,O);N=m.stateNode,fz.current=m;var U=I&&typeof y.getDerivedStateFromError!="function"?null:N.render();return m.flags|=1,h!==null&&I?(m.child=hc(m,h.child,null,O),m.child=hc(m,null,U,O)):or(h,m,U,O),m.memoizedState=N.state,k&&q4(m,y,!0),m.child}function BC(h){var m=h.stateNode;m.pendingContext?U4(h,m.pendingContext,m.pendingContext!==m.context):m.context&&U4(h,m.context,!1),Py(h,m.containerInfo)}function HC(h,m,y,N,k){return dc(),Sy(k),m.flags|=256,or(h,m,y,N),m.child}var Gy={dehydrated:null,treeContext:null,retryLane:0};function Yy(h){return{baseLanes:h,cachePool:null,transitions:null}}function UC(h,m,y){var N=m.pendingProps,k=Ht.current,O=!1,I=(m.flags&128)!==0,U;if((U=I)||(U=h!==null&&h.memoizedState===null?!1:(k&2)!==0),U?(O=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(k|=1),kt(Ht,k&1),h===null)return Ny(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(I=N.children,h=N.fallback,O?(N=m.mode,O=m.child,I={mode:"hidden",children:I},(N&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=I):O=Sm(I,N,0,null),h=Fo(h,N,y,null),O.return=m,h.return=m,O.sibling=h,m.child=O,m.child.memoizedState=Yy(y),m.memoizedState=Gy,h):Xy(m,I));if(k=h.memoizedState,k!==null&&(U=k.dehydrated,U!==null))return mz(h,m,I,N,U,k,y);if(O){O=N.fallback,I=m.mode,k=h.child,U=k.sibling;var Y={mode:"hidden",children:N.children};return(I&1)===0&&m.child!==k?(N=m.child,N.childLanes=0,N.pendingProps=Y,m.deletions=null):(N=Oa(k,Y),N.subtreeFlags=k.subtreeFlags&14680064),U!==null?O=Oa(U,O):(O=Fo(O,I,y,null),O.flags|=2),O.return=m,N.return=m,N.sibling=O,m.child=N,N=O,O=m.child,I=h.child.memoizedState,I=I===null?Yy(y):{baseLanes:I.baseLanes|y,cachePool:null,transitions:I.transitions},O.memoizedState=I,O.childLanes=h.childLanes&~y,m.memoizedState=Gy,N}return O=h.child,h=O.sibling,N=Oa(O,{mode:"visible",children:N.children}),(m.mode&1)===0&&(N.lanes=y),N.return=m,N.sibling=null,h!==null&&(y=m.deletions,y===null?(m.deletions=[h],m.flags|=16):y.push(h)),m.child=N,m.memoizedState=null,N}function Xy(h,m){return m=Sm({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function um(h,m,y,N){return N!==null&&Sy(N),hc(m,h.child,null,y),h=Xy(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function mz(h,m,y,N,k,O,I){if(y)return m.flags&256?(m.flags&=-257,N=Uy(Error(n(422))),um(h,m,I,N)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(O=N.fallback,k=m.mode,N=Sm({mode:"visible",children:N.children},k,0,null),O=Fo(O,k,I,null),O.flags|=2,N.return=m,O.return=m,N.sibling=O,m.child=N,(m.mode&1)!==0&&hc(m,h.child,null,I),m.child.memoizedState=Yy(I),m.memoizedState=Gy,O);if((m.mode&1)===0)return um(h,m,I,null);if(k.data==="$!"){if(N=k.nextSibling&&k.nextSibling.dataset,N)var U=N.dgst;return N=U,O=Error(n(419)),N=Uy(O,N,void 0),um(h,m,I,N)}if(U=(I&h.childLanes)!==0,vr||U){if(N=Nn,N!==null){switch(I&-I){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(N.suspendedLanes|I))!==0?0:k,k!==0&&k!==O.retryLane&&(O.retryLane=k,Si(h,k),Ms(N,h,k,-1))}return hb(),N=Uy(Error(n(421))),um(h,m,I,N)}return k.data==="$?"?(m.flags|=128,m.child=h.child,m=Tz.bind(null,h),k._reactRetry=m,null):(h=O.treeContext,Vr=wa(k.nextSibling),Fr=m,Ft=!0,Cs=null,h!==null&&(es[ts++]=wi,es[ts++]=Ni,es[ts++]=Mo,wi=h.id,Ni=h.overflow,Mo=m),m=Xy(m,N.children),m.flags|=4096,m)}function WC(h,m,y){h.lanes|=m;var N=h.alternate;N!==null&&(N.lanes|=m),Ty(h.return,m,y)}function Qy(h,m,y,N,k){var O=h.memoizedState;O===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:N,tail:y,tailMode:k}:(O.isBackwards=m,O.rendering=null,O.renderingStartTime=0,O.last=N,O.tail=y,O.tailMode=k)}function qC(h,m,y){var N=m.pendingProps,k=N.revealOrder,O=N.tail;if(or(h,m,N.children,y),N=Ht.current,(N&2)!==0)N=N&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&WC(h,y,m);else if(h.tag===19)WC(h,y,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}N&=1}if(kt(Ht,N),(m.mode&1)===0)m.memoizedState=null;else switch(k){case"forwards":for(y=m.child,k=null;y!==null;)h=y.alternate,h!==null&&rm(h)===null&&(k=y),y=y.sibling;y=k,y===null?(k=m.child,m.child=null):(k=y.sibling,y.sibling=null),Qy(m,!1,k,y,O);break;case"backwards":for(y=null,k=m.child,m.child=null;k!==null;){if(h=k.alternate,h!==null&&rm(h)===null){m.child=k;break}h=k.sibling,k.sibling=y,y=k,k=h}Qy(m,!0,y,null,O);break;case"together":Qy(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function dm(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function Ci(h,m,y){if(h!==null&&(m.dependencies=h.dependencies),Do|=m.lanes,(y&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,y=Oa(h,h.pendingProps),m.child=y,y.return=m;h.sibling!==null;)h=h.sibling,y=y.sibling=Oa(h,h.pendingProps),y.return=m;y.sibling=null}return m.child}function pz(h,m,y){switch(m.tag){case 3:BC(m),dc();break;case 5:aC(m);break;case 1:br(m.type)&&Kf(m);break;case 4:Py(m,m.stateNode.containerInfo);break;case 10:var N=m.type._context,k=m.memoizedProps.value;kt(Zf,N._currentValue),N._currentValue=k;break;case 13:if(N=m.memoizedState,N!==null)return N.dehydrated!==null?(kt(Ht,Ht.current&1),m.flags|=128,null):(y&m.child.childLanes)!==0?UC(h,m,y):(kt(Ht,Ht.current&1),h=Ci(h,m,y),h!==null?h.sibling:null);kt(Ht,Ht.current&1);break;case 19:if(N=(y&m.childLanes)!==0,(h.flags&128)!==0){if(N)return qC(h,m,y);m.flags|=128}if(k=m.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),kt(Ht,Ht.current),N)break;return null;case 22:case 23:return m.lanes=0,VC(h,m,y)}return Ci(h,m,y)}var KC,Jy,GC,YC;KC=function(h,m){for(var y=m.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Jy=function(){},GC=function(h,m,y,N){var k=h.memoizedProps;if(k!==N){h=m.stateNode,Oo(qs.current);var O=null;switch(y){case"input":k=_e(h,k),N=_e(h,N),O=[];break;case"select":k=X({},k,{value:void 0}),N=X({},N,{value:void 0}),O=[];break;case"textarea":k=ue(h,k),N=ue(h,N),O=[];break;default:typeof k.onClick!="function"&&typeof N.onClick=="function"&&(h.onclick=Uf)}Yl(y,N);var I;y=null;for(ae in k)if(!N.hasOwnProperty(ae)&&k.hasOwnProperty(ae)&&k[ae]!=null)if(ae==="style"){var U=k[ae];for(I in U)U.hasOwnProperty(I)&&(y||(y={}),y[I]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?O||(O=[]):(O=O||[]).push(ae,null));for(ae in N){var Y=N[ae];if(U=k?.[ae],N.hasOwnProperty(ae)&&Y!==U&&(Y!=null||U!=null))if(ae==="style")if(U){for(I in U)!U.hasOwnProperty(I)||Y&&Y.hasOwnProperty(I)||(y||(y={}),y[I]="");for(I in Y)Y.hasOwnProperty(I)&&U[I]!==Y[I]&&(y||(y={}),y[I]=Y[I])}else y||(O||(O=[]),O.push(ae,y)),y=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,U=U?U.__html:void 0,Y!=null&&U!==Y&&(O=O||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(O=O||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&At("scroll",h),O||U===Y||(O=[])):(O=O||[]).push(ae,Y))}y&&(O=O||[]).push("style",y);var ae=O;(m.updateQueue=ae)&&(m.flags|=4)}},YC=function(h,m,y,N){y!==N&&(m.flags|=4)};function ld(h,m){if(!Ft)switch(h.tailMode){case"hidden":m=h.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var N=null;y!==null;)y.alternate!==null&&(N=y),y=y.sibling;N===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:N.sibling=null}}function qn(h){var m=h.alternate!==null&&h.alternate.child===h.child,y=0,N=0;if(m)for(var k=h.child;k!==null;)y|=k.lanes|k.childLanes,N|=k.subtreeFlags&14680064,N|=k.flags&14680064,k.return=h,k=k.sibling;else for(k=h.child;k!==null;)y|=k.lanes|k.childLanes,N|=k.subtreeFlags,N|=k.flags,k.return=h,k=k.sibling;return h.subtreeFlags|=N,h.childLanes=y,m}function gz(h,m,y){var N=m.pendingProps;switch(vy(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(m),null;case 1:return br(m.type)&&qf(),qn(m),null;case 3:return N=m.stateNode,pc(),Ot(yr),Ot(Un),_y(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(h===null||h.child===null)&&(Qf(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Cs!==null&&(cb(Cs),Cs=null))),Jy(h,m),qn(m),null;case 5:Ay(m);var k=Oo(rd.current);if(y=m.type,h!==null&&m.stateNode!=null)GC(h,m,y,N,k),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!N){if(m.stateNode===null)throw Error(n(166));return qn(m),null}if(h=Oo(qs.current),Qf(m)){N=m.stateNode,y=m.type;var O=m.memoizedProps;switch(N[Ws]=m,N[Ju]=O,h=(m.mode&1)!==0,y){case"dialog":At("cancel",N),At("close",N);break;case"iframe":case"object":case"embed":At("load",N);break;case"video":case"audio":for(k=0;k<Yu.length;k++)At(Yu[k],N);break;case"source":At("error",N);break;case"img":case"image":case"link":At("error",N),At("load",N);break;case"details":At("toggle",N);break;case"input":Ye(N,O),At("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!O.multiple},At("invalid",N);break;case"textarea":Ae(N,O),At("invalid",N)}Yl(y,O),k=null;for(var I in O)if(O.hasOwnProperty(I)){var U=O[I];I==="children"?typeof U=="string"?N.textContent!==U&&(O.suppressHydrationWarning!==!0&&Hf(N.textContent,U,h),k=["children",U]):typeof U=="number"&&N.textContent!==""+U&&(O.suppressHydrationWarning!==!0&&Hf(N.textContent,U,h),k=["children",""+U]):s.hasOwnProperty(I)&&U!=null&&I==="onScroll"&&At("scroll",N)}switch(y){case"input":Te(N),gr(N,O,!0);break;case"textarea":Te(N),Ce(N);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(N.onclick=Uf)}N=k,m.updateQueue=N,N!==null&&(m.flags|=4)}else{I=k.nodeType===9?k:k.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ve(y)),h==="http://www.w3.org/1999/xhtml"?y==="script"?(h=I.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof N.is=="string"?h=I.createElement(y,{is:N.is}):(h=I.createElement(y),y==="select"&&(I=h,N.multiple?I.multiple=!0:N.size&&(I.size=N.size))):h=I.createElementNS(h,y),h[Ws]=m,h[Ju]=N,KC(h,m,!1,!1),m.stateNode=h;e:{switch(I=Au(y,N),y){case"dialog":At("cancel",h),At("close",h),k=N;break;case"iframe":case"object":case"embed":At("load",h),k=N;break;case"video":case"audio":for(k=0;k<Yu.length;k++)At(Yu[k],h);k=N;break;case"source":At("error",h),k=N;break;case"img":case"image":case"link":At("error",h),At("load",h),k=N;break;case"details":At("toggle",h),k=N;break;case"input":Ye(h,N),k=_e(h,N),At("invalid",h);break;case"option":k=N;break;case"select":h._wrapperState={wasMultiple:!!N.multiple},k=X({},N,{value:void 0}),At("invalid",h);break;case"textarea":Ae(h,N),k=ue(h,N),At("invalid",h);break;default:k=N}Yl(y,k),U=k;for(O in U)if(U.hasOwnProperty(O)){var Y=U[O];O==="style"?Gl(h,Y):O==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&ar(h,Y)):O==="children"?typeof Y=="string"?(y!=="textarea"||Y!=="")&&Hs(h,Y):typeof Y=="number"&&Hs(h,""+Y):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?Y!=null&&O==="onScroll"&&At("scroll",h):Y!=null&&j(h,O,Y,I))}switch(y){case"input":Te(h),gr(h,N,!1);break;case"textarea":Te(h),Ce(h);break;case"option":N.value!=null&&h.setAttribute("value",""+ee(N.value));break;case"select":h.multiple=!!N.multiple,O=N.value,O!=null?te(h,!!N.multiple,O,!1):N.defaultValue!=null&&te(h,!!N.multiple,N.defaultValue,!0);break;default:typeof k.onClick=="function"&&(h.onclick=Uf)}switch(y){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return qn(m),null;case 6:if(h&&m.stateNode!=null)YC(h,m,h.memoizedProps,N);else{if(typeof N!="string"&&m.stateNode===null)throw Error(n(166));if(y=Oo(rd.current),Oo(qs.current),Qf(m)){if(N=m.stateNode,y=m.memoizedProps,N[Ws]=m,(O=N.nodeValue!==y)&&(h=Fr,h!==null))switch(h.tag){case 3:Hf(N.nodeValue,y,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Hf(N.nodeValue,y,(h.mode&1)!==0)}O&&(m.flags|=4)}else N=(y.nodeType===9?y:y.ownerDocument).createTextNode(N),N[Ws]=m,m.stateNode=N}return qn(m),null;case 13:if(Ot(Ht),N=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Ft&&Vr!==null&&(m.mode&1)!==0&&(m.flags&128)===0)J4(),dc(),m.flags|=98560,O=!1;else if(O=Qf(m),N!==null&&N.dehydrated!==null){if(h===null){if(!O)throw Error(n(318));if(O=m.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Ws]=m}else dc(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;qn(m),O=!1}else Cs!==null&&(cb(Cs),Cs=null),O=!0;if(!O)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=y,m):(N=N!==null,N!==(h!==null&&h.memoizedState!==null)&&N&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(Ht.current&1)!==0?yn===0&&(yn=3):hb())),m.updateQueue!==null&&(m.flags|=4),qn(m),null);case 4:return pc(),Jy(h,m),h===null&&Xu(m.stateNode.containerInfo),qn(m),null;case 10:return ky(m.type._context),qn(m),null;case 17:return br(m.type)&&qf(),qn(m),null;case 19:if(Ot(Ht),O=m.memoizedState,O===null)return qn(m),null;if(N=(m.flags&128)!==0,I=O.rendering,I===null)if(N)ld(O,!1);else{if(yn!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(I=rm(h),I!==null){for(m.flags|=128,ld(O,!1),N=I.updateQueue,N!==null&&(m.updateQueue=N,m.flags|=4),m.subtreeFlags=0,N=y,y=m.child;y!==null;)O=y,h=N,O.flags&=14680066,I=O.alternate,I===null?(O.childLanes=0,O.lanes=h,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=I.childLanes,O.lanes=I.lanes,O.child=I.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=I.memoizedProps,O.memoizedState=I.memoizedState,O.updateQueue=I.updateQueue,O.type=I.type,h=I.dependencies,O.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),y=y.sibling;return kt(Ht,Ht.current&1|2),m.child}h=h.sibling}O.tail!==null&&tn()>bc&&(m.flags|=128,N=!0,ld(O,!1),m.lanes=4194304)}else{if(!N)if(h=rm(I),h!==null){if(m.flags|=128,N=!0,y=h.updateQueue,y!==null&&(m.updateQueue=y,m.flags|=4),ld(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!Ft)return qn(m),null}else 2*tn()-O.renderingStartTime>bc&&y!==1073741824&&(m.flags|=128,N=!0,ld(O,!1),m.lanes=4194304);O.isBackwards?(I.sibling=m.child,m.child=I):(y=O.last,y!==null?y.sibling=I:m.child=I,O.last=I)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=tn(),m.sibling=null,y=Ht.current,kt(Ht,N?y&1|2:y&1),m):(qn(m),null);case 22:case 23:return db(),N=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==N&&(m.flags|=8192),N&&(m.mode&1)!==0?(zr&1073741824)!==0&&(qn(m),m.subtreeFlags&6&&(m.flags|=8192)):qn(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function xz(h,m){switch(vy(m),m.tag){case 1:return br(m.type)&&qf(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return pc(),Ot(yr),Ot(Un),_y(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return Ay(m),null;case 13:if(Ot(Ht),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));dc()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Ot(Ht),null;case 4:return pc(),null;case 10:return ky(m.type._context),null;case 22:case 23:return db(),null;case 24:return null;default:return null}}var hm=!1,Kn=!1,yz=typeof WeakSet=="function"?WeakSet:Set,De=null;function xc(h,m){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(N){qt(h,m,N)}else y.current=null}function Zy(h,m,y){try{y()}catch(N){qt(h,m,N)}}var XC=!1;function bz(h,m){if(dy=Of,h=E4(),ry(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var N=y.getSelection&&y.getSelection();if(N&&N.rangeCount!==0){y=N.anchorNode;var k=N.anchorOffset,O=N.focusNode;N=N.focusOffset;try{y.nodeType,O.nodeType}catch{y=null;break e}var I=0,U=-1,Y=-1,ae=0,ge=0,ye=h,pe=null;t:for(;;){for(var Oe;ye!==y||k!==0&&ye.nodeType!==3||(U=I+k),ye!==O||N!==0&&ye.nodeType!==3||(Y=I+N),ye.nodeType===3&&(I+=ye.nodeValue.length),(Oe=ye.firstChild)!==null;)pe=ye,ye=Oe;for(;;){if(ye===h)break t;if(pe===y&&++ae===k&&(U=I),pe===O&&++ge===N&&(Y=I),(Oe=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=Oe}y=U===-1||Y===-1?null:{start:U,end:Y}}else y=null}y=y||{start:0,end:0}}else y=null;for(hy={focusedElem:h,selectionRange:y},Of=!1,De=m;De!==null;)if(m=De,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,De=h;else for(;De!==null;){m=De;try{var Ie=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Le=Ie.memoizedProps,nn=Ie.memoizedState,Z=m.stateNode,Q=Z.getSnapshotBeforeUpdate(m.elementType===m.type?Le:ks(m.type,Le),nn);Z.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=m.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(je){qt(m,m.return,je)}if(h=m.sibling,h!==null){h.return=m.return,De=h;break}De=m.return}return Ie=XC,XC=!1,Ie}function cd(h,m,y){var N=m.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var k=N=N.next;do{if((k.tag&h)===h){var O=k.destroy;k.destroy=void 0,O!==void 0&&Zy(m,y,O)}k=k.next}while(k!==N)}}function fm(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&h)===h){var N=y.create;y.destroy=N()}y=y.next}while(y!==m)}}function eb(h){var m=h.ref;if(m!==null){var y=h.stateNode;switch(h.tag){case 5:h=y;break;default:h=y}typeof m=="function"?m(h):m.current=h}}function QC(h){var m=h.alternate;m!==null&&(h.alternate=null,QC(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[Ws],delete m[Ju],delete m[gy],delete m[tz],delete m[nz])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function JC(h){return h.tag===5||h.tag===3||h.tag===4}function ZC(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||JC(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function tb(h,m,y){var N=h.tag;if(N===5||N===6)h=h.stateNode,m?y.nodeType===8?y.parentNode.insertBefore(h,m):y.insertBefore(h,m):(y.nodeType===8?(m=y.parentNode,m.insertBefore(h,y)):(m=y,m.appendChild(h)),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=Uf));else if(N!==4&&(h=h.child,h!==null))for(tb(h,m,y),h=h.sibling;h!==null;)tb(h,m,y),h=h.sibling}function nb(h,m,y){var N=h.tag;if(N===5||N===6)h=h.stateNode,m?y.insertBefore(h,m):y.appendChild(h);else if(N!==4&&(h=h.child,h!==null))for(nb(h,m,y),h=h.sibling;h!==null;)nb(h,m,y),h=h.sibling}var _n=null,Ts=!1;function Ta(h,m,y){for(y=y.child;y!==null;)e3(h,m,y),y=y.sibling}function e3(h,m,y){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(kf,y)}catch{}switch(y.tag){case 5:Kn||xc(y,m);case 6:var N=_n,k=Ts;_n=null,Ta(h,m,y),_n=N,Ts=k,_n!==null&&(Ts?(h=_n,y=y.stateNode,h.nodeType===8?h.parentNode.removeChild(y):h.removeChild(y)):_n.removeChild(y.stateNode));break;case 18:_n!==null&&(Ts?(h=_n,y=y.stateNode,h.nodeType===8?py(h.parentNode,y):h.nodeType===1&&py(h,y),$u(h)):py(_n,y.stateNode));break;case 4:N=_n,k=Ts,_n=y.stateNode.containerInfo,Ts=!0,Ta(h,m,y),_n=N,Ts=k;break;case 0:case 11:case 14:case 15:if(!Kn&&(N=y.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){k=N=N.next;do{var O=k,I=O.destroy;O=O.tag,I!==void 0&&((O&2)!==0||(O&4)!==0)&&Zy(y,m,I),k=k.next}while(k!==N)}Ta(h,m,y);break;case 1:if(!Kn&&(xc(y,m),N=y.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=y.memoizedProps,N.state=y.memoizedState,N.componentWillUnmount()}catch(U){qt(y,m,U)}Ta(h,m,y);break;case 21:Ta(h,m,y);break;case 22:y.mode&1?(Kn=(N=Kn)||y.memoizedState!==null,Ta(h,m,y),Kn=N):Ta(h,m,y);break;default:Ta(h,m,y)}}function t3(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new yz),m.forEach(function(N){var k=Ez.bind(null,h,N);y.has(N)||(y.add(N),N.then(k,k))})}}function Es(h,m){var y=m.deletions;if(y!==null)for(var N=0;N<y.length;N++){var k=y[N];try{var O=h,I=m,U=I;e:for(;U!==null;){switch(U.tag){case 5:_n=U.stateNode,Ts=!1;break e;case 3:_n=U.stateNode.containerInfo,Ts=!0;break e;case 4:_n=U.stateNode.containerInfo,Ts=!0;break e}U=U.return}if(_n===null)throw Error(n(160));e3(O,I,k),_n=null,Ts=!1;var Y=k.alternate;Y!==null&&(Y.return=null),k.return=null}catch(ae){qt(k,m,ae)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)n3(m,h),m=m.sibling}function n3(h,m){var y=h.alternate,N=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Es(m,h),Gs(h),N&4){try{cd(3,h,h.return),fm(3,h)}catch(Le){qt(h,h.return,Le)}try{cd(5,h,h.return)}catch(Le){qt(h,h.return,Le)}}break;case 1:Es(m,h),Gs(h),N&512&&y!==null&&xc(y,y.return);break;case 5:if(Es(m,h),Gs(h),N&512&&y!==null&&xc(y,y.return),h.flags&32){var k=h.stateNode;try{Hs(k,"")}catch(Le){qt(h,h.return,Le)}}if(N&4&&(k=h.stateNode,k!=null)){var O=h.memoizedProps,I=y!==null?y.memoizedProps:O,U=h.type,Y=h.updateQueue;if(h.updateQueue=null,Y!==null)try{U==="input"&&O.type==="radio"&&O.name!=null&&gt(k,O),Au(U,I);var ae=Au(U,O);for(I=0;I<Y.length;I+=2){var ge=Y[I],ye=Y[I+1];ge==="style"?Gl(k,ye):ge==="dangerouslySetInnerHTML"?ar(k,ye):ge==="children"?Hs(k,ye):j(k,ge,ye,ae)}switch(U){case"input":Rt(k,O);break;case"textarea":ke(k,O);break;case"select":var pe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!O.multiple;var Oe=O.value;Oe!=null?te(k,!!O.multiple,Oe,!1):pe!==!!O.multiple&&(O.defaultValue!=null?te(k,!!O.multiple,O.defaultValue,!0):te(k,!!O.multiple,O.multiple?[]:"",!1))}k[Ju]=O}catch(Le){qt(h,h.return,Le)}}break;case 6:if(Es(m,h),Gs(h),N&4){if(h.stateNode===null)throw Error(n(162));k=h.stateNode,O=h.memoizedProps;try{k.nodeValue=O}catch(Le){qt(h,h.return,Le)}}break;case 3:if(Es(m,h),Gs(h),N&4&&y!==null&&y.memoizedState.isDehydrated)try{$u(m.containerInfo)}catch(Le){qt(h,h.return,Le)}break;case 4:Es(m,h),Gs(h);break;case 13:Es(m,h),Gs(h),k=h.child,k.flags&8192&&(O=k.memoizedState!==null,k.stateNode.isHidden=O,!O||k.alternate!==null&&k.alternate.memoizedState!==null||(ib=tn())),N&4&&t3(h);break;case 22:if(ge=y!==null&&y.memoizedState!==null,h.mode&1?(Kn=(ae=Kn)||ge,Es(m,h),Kn=ae):Es(m,h),Gs(h),N&8192){if(ae=h.memoizedState!==null,(h.stateNode.isHidden=ae)&&!ge&&(h.mode&1)!==0)for(De=h,ge=h.child;ge!==null;){for(ye=De=ge;De!==null;){switch(pe=De,Oe=pe.child,pe.tag){case 0:case 11:case 14:case 15:cd(4,pe,pe.return);break;case 1:xc(pe,pe.return);var Ie=pe.stateNode;if(typeof Ie.componentWillUnmount=="function"){N=pe,y=pe.return;try{m=N,Ie.props=m.memoizedProps,Ie.state=m.memoizedState,Ie.componentWillUnmount()}catch(Le){qt(N,y,Le)}}break;case 5:xc(pe,pe.return);break;case 22:if(pe.memoizedState!==null){i3(ye);continue}}Oe!==null?(Oe.return=pe,De=Oe):i3(ye)}ge=ge.sibling}e:for(ge=null,ye=h;;){if(ye.tag===5){if(ge===null){ge=ye;try{k=ye.stateNode,ae?(O=k.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(U=ye.stateNode,Y=ye.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,U.style.display=Kl("display",I))}catch(Le){qt(h,h.return,Le)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(Le){qt(h,h.return,Le)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===h)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===h)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===h)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Es(m,h),Gs(h),N&4&&t3(h);break;case 21:break;default:Es(m,h),Gs(h)}}function Gs(h){var m=h.flags;if(m&2){try{e:{for(var y=h.return;y!==null;){if(JC(y)){var N=y;break e}y=y.return}throw Error(n(160))}switch(N.tag){case 5:var k=N.stateNode;N.flags&32&&(Hs(k,""),N.flags&=-33);var O=ZC(h);nb(h,O,k);break;case 3:case 4:var I=N.stateNode.containerInfo,U=ZC(h);tb(h,U,I);break;default:throw Error(n(161))}}catch(Y){qt(h,h.return,Y)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function vz(h,m,y){De=h,r3(h)}function r3(h,m,y){for(var N=(h.mode&1)!==0;De!==null;){var k=De,O=k.child;if(k.tag===22&&N){var I=k.memoizedState!==null||hm;if(!I){var U=k.alternate,Y=U!==null&&U.memoizedState!==null||Kn;U=hm;var ae=Kn;if(hm=I,(Kn=Y)&&!ae)for(De=k;De!==null;)I=De,Y=I.child,I.tag===22&&I.memoizedState!==null?a3(k):Y!==null?(Y.return=I,De=Y):a3(k);for(;O!==null;)De=O,r3(O),O=O.sibling;De=k,hm=U,Kn=ae}s3(h)}else(k.subtreeFlags&8772)!==0&&O!==null?(O.return=k,De=O):s3(h)}}function s3(h){for(;De!==null;){var m=De;if((m.flags&8772)!==0){var y=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Kn||fm(5,m);break;case 1:var N=m.stateNode;if(m.flags&4&&!Kn)if(y===null)N.componentDidMount();else{var k=m.elementType===m.type?y.memoizedProps:ks(m.type,y.memoizedProps);N.componentDidUpdate(k,y.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var O=m.updateQueue;O!==null&&iC(m,O,N);break;case 3:var I=m.updateQueue;if(I!==null){if(y=null,m.child!==null)switch(m.child.tag){case 5:y=m.child.stateNode;break;case 1:y=m.child.stateNode}iC(m,I,y)}break;case 5:var U=m.stateNode;if(y===null&&m.flags&4){y=U;var Y=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&y.focus();break;case"img":Y.src&&(y.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ae=m.alternate;if(ae!==null){var ge=ae.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&$u(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kn||m.flags&512&&eb(m)}catch(pe){qt(m,m.return,pe)}}if(m===h){De=null;break}if(y=m.sibling,y!==null){y.return=m.return,De=y;break}De=m.return}}function i3(h){for(;De!==null;){var m=De;if(m===h){De=null;break}var y=m.sibling;if(y!==null){y.return=m.return,De=y;break}De=m.return}}function a3(h){for(;De!==null;){var m=De;try{switch(m.tag){case 0:case 11:case 15:var y=m.return;try{fm(4,m)}catch(Y){qt(m,y,Y)}break;case 1:var N=m.stateNode;if(typeof N.componentDidMount=="function"){var k=m.return;try{N.componentDidMount()}catch(Y){qt(m,k,Y)}}var O=m.return;try{eb(m)}catch(Y){qt(m,O,Y)}break;case 5:var I=m.return;try{eb(m)}catch(Y){qt(m,I,Y)}}}catch(Y){qt(m,m.return,Y)}if(m===h){De=null;break}var U=m.sibling;if(U!==null){U.return=m.return,De=U;break}De=m.return}}var wz=Math.ceil,mm=M.ReactCurrentDispatcher,rb=M.ReactCurrentOwner,ss=M.ReactCurrentBatchConfig,ut=0,Nn=null,on=null,Dn=0,zr=0,yc=Na(0),yn=0,ud=null,Do=0,pm=0,sb=0,dd=null,wr=null,ib=0,bc=1/0,ki=null,gm=!1,ab=null,Ea=null,xm=!1,Ma=null,ym=0,hd=0,ob=null,bm=-1,vm=0;function lr(){return(ut&6)!==0?tn():bm!==-1?bm:bm=tn()}function Pa(h){return(h.mode&1)===0?1:(ut&2)!==0&&Dn!==0?Dn&-Dn:sz.transition!==null?(vm===0&&(vm=Zj()),vm):(h=vt,h!==0||(h=window.event,h=h===void 0?16:l4(h.type)),h)}function Ms(h,m,y,N){if(50<hd)throw hd=0,ob=null,Error(n(185));Lu(h,y,N),((ut&2)===0||h!==Nn)&&(h===Nn&&((ut&2)===0&&(pm|=y),yn===4&&Aa(h,Dn)),Nr(h,N),y===1&&ut===0&&(m.mode&1)===0&&(bc=tn()+500,Gf&&ja()))}function Nr(h,m){var y=h.callbackNode;sV(h,m);var N=Mf(h,h===Nn?Dn:0);if(N===0)y!==null&&Xj(y),h.callbackNode=null,h.callbackPriority=0;else if(m=N&-N,h.callbackPriority!==m){if(y!=null&&Xj(y),m===1)h.tag===0?rz(l3.bind(null,h)):K4(l3.bind(null,h)),ZV(function(){(ut&6)===0&&ja()}),y=null;else{switch(e4(N)){case 1:y=zx;break;case 4:y=Qj;break;case 16:y=Cf;break;case 536870912:y=Jj;break;default:y=Cf}y=g3(y,o3.bind(null,h))}h.callbackPriority=m,h.callbackNode=y}}function o3(h,m){if(bm=-1,vm=0,(ut&6)!==0)throw Error(n(327));var y=h.callbackNode;if(vc()&&h.callbackNode!==y)return null;var N=Mf(h,h===Nn?Dn:0);if(N===0)return null;if((N&30)!==0||(N&h.expiredLanes)!==0||m)m=wm(h,N);else{m=N;var k=ut;ut|=2;var O=u3();(Nn!==h||Dn!==m)&&(ki=null,bc=tn()+500,Lo(h,m));do try{jz();break}catch(U){c3(h,U)}while(!0);Cy(),mm.current=O,ut=k,on!==null?m=0:(Nn=null,Dn=0,m=yn)}if(m!==0){if(m===2&&(k=$x(h),k!==0&&(N=k,m=lb(h,k))),m===1)throw y=ud,Lo(h,0),Aa(h,N),Nr(h,tn()),y;if(m===6)Aa(h,N);else{if(k=h.current.alternate,(N&30)===0&&!Nz(k)&&(m=wm(h,N),m===2&&(O=$x(h),O!==0&&(N=O,m=lb(h,O))),m===1))throw y=ud,Lo(h,0),Aa(h,N),Nr(h,tn()),y;switch(h.finishedWork=k,h.finishedLanes=N,m){case 0:case 1:throw Error(n(345));case 2:Ro(h,wr,ki);break;case 3:if(Aa(h,N),(N&130023424)===N&&(m=ib+500-tn(),10<m)){if(Mf(h,0)!==0)break;if(k=h.suspendedLanes,(k&N)!==N){lr(),h.pingedLanes|=h.suspendedLanes&k;break}h.timeoutHandle=my(Ro.bind(null,h,wr,ki),m);break}Ro(h,wr,ki);break;case 4:if(Aa(h,N),(N&4194240)===N)break;for(m=h.eventTimes,k=-1;0<N;){var I=31-Ss(N);O=1<<I,I=m[I],I>k&&(k=I),N&=~O}if(N=k,N=tn()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*wz(N/1960))-N,10<N){h.timeoutHandle=my(Ro.bind(null,h,wr,ki),N);break}Ro(h,wr,ki);break;case 5:Ro(h,wr,ki);break;default:throw Error(n(329))}}}return Nr(h,tn()),h.callbackNode===y?o3.bind(null,h):null}function lb(h,m){var y=dd;return h.current.memoizedState.isDehydrated&&(Lo(h,m).flags|=256),h=wm(h,m),h!==2&&(m=wr,wr=y,m!==null&&cb(m)),h}function cb(h){wr===null?wr=h:wr.push.apply(wr,h)}function Nz(h){for(var m=h;;){if(m.flags&16384){var y=m.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var N=0;N<y.length;N++){var k=y[N],O=k.getSnapshot;k=k.value;try{if(!js(O(),k))return!1}catch{return!1}}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Aa(h,m){for(m&=~sb,m&=~pm,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var y=31-Ss(m),N=1<<y;h[y]=-1,m&=~N}}function l3(h){if((ut&6)!==0)throw Error(n(327));vc();var m=Mf(h,0);if((m&1)===0)return Nr(h,tn()),null;var y=wm(h,m);if(h.tag!==0&&y===2){var N=$x(h);N!==0&&(m=N,y=lb(h,N))}if(y===1)throw y=ud,Lo(h,0),Aa(h,m),Nr(h,tn()),y;if(y===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Ro(h,wr,ki),Nr(h,tn()),null}function ub(h,m){var y=ut;ut|=1;try{return h(m)}finally{ut=y,ut===0&&(bc=tn()+500,Gf&&ja())}}function Io(h){Ma!==null&&Ma.tag===0&&(ut&6)===0&&vc();var m=ut;ut|=1;var y=ss.transition,N=vt;try{if(ss.transition=null,vt=1,h)return h()}finally{vt=N,ss.transition=y,ut=m,(ut&6)===0&&ja()}}function db(){zr=yc.current,Ot(yc)}function Lo(h,m){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==-1&&(h.timeoutHandle=-1,JV(y)),on!==null)for(y=on.return;y!==null;){var N=y;switch(vy(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&qf();break;case 3:pc(),Ot(yr),Ot(Un),_y();break;case 5:Ay(N);break;case 4:pc();break;case 13:Ot(Ht);break;case 19:Ot(Ht);break;case 10:ky(N.type._context);break;case 22:case 23:db()}y=y.return}if(Nn=h,on=h=Oa(h.current,null),Dn=zr=m,yn=0,ud=null,sb=pm=Do=0,wr=dd=null,Ao!==null){for(m=0;m<Ao.length;m++)if(y=Ao[m],N=y.interleaved,N!==null){y.interleaved=null;var k=N.next,O=y.pending;if(O!==null){var I=O.next;O.next=k,N.next=I}y.pending=N}Ao=null}return h}function c3(h,m){do{var y=on;try{if(Cy(),sm.current=lm,im){for(var N=Ut.memoizedState;N!==null;){var k=N.queue;k!==null&&(k.pending=null),N=N.next}im=!1}if(_o=0,wn=xn=Ut=null,sd=!1,id=0,rb.current=null,y===null||y.return===null){yn=1,ud=m,on=null;break}e:{var O=h,I=y.return,U=y,Y=m;if(m=Dn,U.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,ge=U,ye=ge.tag;if((ge.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Oe=DC(I);if(Oe!==null){Oe.flags&=-257,IC(Oe,I,U,O,m),Oe.mode&1&&_C(O,ae,m),m=Oe,Y=ae;var Ie=m.updateQueue;if(Ie===null){var Le=new Set;Le.add(Y),m.updateQueue=Le}else Ie.add(Y);break e}else{if((m&1)===0){_C(O,ae,m),hb();break e}Y=Error(n(426))}}else if(Ft&&U.mode&1){var nn=DC(I);if(nn!==null){(nn.flags&65536)===0&&(nn.flags|=256),IC(nn,I,U,O,m),Sy(gc(Y,U));break e}}O=Y=gc(Y,U),yn!==4&&(yn=2),dd===null?dd=[O]:dd.push(O),O=I;do{switch(O.tag){case 3:O.flags|=65536,m&=-m,O.lanes|=m;var Z=AC(O,Y,m);sC(O,Z);break e;case 1:U=Y;var Q=O.type,re=O.stateNode;if((O.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Ea===null||!Ea.has(re)))){O.flags|=65536,m&=-m,O.lanes|=m;var je=OC(O,U,m);sC(O,je);break e}}O=O.return}while(O!==null)}h3(y)}catch(Re){m=Re,on===y&&y!==null&&(on=y=y.return);continue}break}while(!0)}function u3(){var h=mm.current;return mm.current=lm,h===null?lm:h}function hb(){(yn===0||yn===3||yn===2)&&(yn=4),Nn===null||(Do&268435455)===0&&(pm&268435455)===0||Aa(Nn,Dn)}function wm(h,m){var y=ut;ut|=2;var N=u3();(Nn!==h||Dn!==m)&&(ki=null,Lo(h,m));do try{Sz();break}catch(k){c3(h,k)}while(!0);if(Cy(),ut=y,mm.current=N,on!==null)throw Error(n(261));return Nn=null,Dn=0,yn}function Sz(){for(;on!==null;)d3(on)}function jz(){for(;on!==null&&!Y7();)d3(on)}function d3(h){var m=p3(h.alternate,h,zr);h.memoizedProps=h.pendingProps,m===null?h3(h):on=m,rb.current=null}function h3(h){var m=h;do{var y=m.alternate;if(h=m.return,(m.flags&32768)===0){if(y=gz(y,m,zr),y!==null){on=y;return}}else{if(y=xz(y,m),y!==null){y.flags&=32767,on=y;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{yn=6,on=null;return}}if(m=m.sibling,m!==null){on=m;return}on=m=h}while(m!==null);yn===0&&(yn=5)}function Ro(h,m,y){var N=vt,k=ss.transition;try{ss.transition=null,vt=1,Cz(h,m,y,N)}finally{ss.transition=k,vt=N}return null}function Cz(h,m,y,N){do vc();while(Ma!==null);if((ut&6)!==0)throw Error(n(327));y=h.finishedWork;var k=h.finishedLanes;if(y===null)return null;if(h.finishedWork=null,h.finishedLanes=0,y===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var O=y.lanes|y.childLanes;if(iV(h,O),h===Nn&&(on=Nn=null,Dn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||xm||(xm=!0,g3(Cf,function(){return vc(),null})),O=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||O){O=ss.transition,ss.transition=null;var I=vt;vt=1;var U=ut;ut|=4,rb.current=null,bz(h,y),n3(y,h),WV(hy),Of=!!dy,hy=dy=null,h.current=y,vz(y),X7(),ut=U,vt=I,ss.transition=O}else h.current=y;if(xm&&(xm=!1,Ma=h,ym=k),O=h.pendingLanes,O===0&&(Ea=null),Z7(y.stateNode),Nr(h,tn()),m!==null)for(N=h.onRecoverableError,y=0;y<m.length;y++)k=m[y],N(k.value,{componentStack:k.stack,digest:k.digest});if(gm)throw gm=!1,h=ab,ab=null,h;return(ym&1)!==0&&h.tag!==0&&vc(),O=h.pendingLanes,(O&1)!==0?h===ob?hd++:(hd=0,ob=h):hd=0,ja(),null}function vc(){if(Ma!==null){var h=e4(ym),m=ss.transition,y=vt;try{if(ss.transition=null,vt=16>h?16:h,Ma===null)var N=!1;else{if(h=Ma,Ma=null,ym=0,(ut&6)!==0)throw Error(n(331));var k=ut;for(ut|=4,De=h.current;De!==null;){var O=De,I=O.child;if((De.flags&16)!==0){var U=O.deletions;if(U!==null){for(var Y=0;Y<U.length;Y++){var ae=U[Y];for(De=ae;De!==null;){var ge=De;switch(ge.tag){case 0:case 11:case 15:cd(8,ge,O)}var ye=ge.child;if(ye!==null)ye.return=ge,De=ye;else for(;De!==null;){ge=De;var pe=ge.sibling,Oe=ge.return;if(QC(ge),ge===ae){De=null;break}if(pe!==null){pe.return=Oe,De=pe;break}De=Oe}}}var Ie=O.alternate;if(Ie!==null){var Le=Ie.child;if(Le!==null){Ie.child=null;do{var nn=Le.sibling;Le.sibling=null,Le=nn}while(Le!==null)}}De=O}}if((O.subtreeFlags&2064)!==0&&I!==null)I.return=O,De=I;else e:for(;De!==null;){if(O=De,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:cd(9,O,O.return)}var Z=O.sibling;if(Z!==null){Z.return=O.return,De=Z;break e}De=O.return}}var Q=h.current;for(De=Q;De!==null;){I=De;var re=I.child;if((I.subtreeFlags&2064)!==0&&re!==null)re.return=I,De=re;else e:for(I=Q;De!==null;){if(U=De,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:fm(9,U)}}catch(Re){qt(U,U.return,Re)}if(U===I){De=null;break e}var je=U.sibling;if(je!==null){je.return=U.return,De=je;break e}De=U.return}}if(ut=k,ja(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(kf,h)}catch{}N=!0}return N}finally{vt=y,ss.transition=m}}return!1}function f3(h,m,y){m=gc(y,m),m=AC(h,m,1),h=ka(h,m,1),m=lr(),h!==null&&(Lu(h,1,m),Nr(h,m))}function qt(h,m,y){if(h.tag===3)f3(h,h,y);else for(;m!==null;){if(m.tag===3){f3(m,h,y);break}else if(m.tag===1){var N=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ea===null||!Ea.has(N))){h=gc(y,h),h=OC(m,h,1),m=ka(m,h,1),h=lr(),m!==null&&(Lu(m,1,h),Nr(m,h));break}}m=m.return}}function kz(h,m,y){var N=h.pingCache;N!==null&&N.delete(m),m=lr(),h.pingedLanes|=h.suspendedLanes&y,Nn===h&&(Dn&y)===y&&(yn===4||yn===3&&(Dn&130023424)===Dn&&500>tn()-ib?Lo(h,0):sb|=y),Nr(h,m)}function m3(h,m){m===0&&((h.mode&1)===0?m=1:(m=Ef,Ef<<=1,(Ef&130023424)===0&&(Ef=4194304)));var y=lr();h=Si(h,m),h!==null&&(Lu(h,m,y),Nr(h,y))}function Tz(h){var m=h.memoizedState,y=0;m!==null&&(y=m.retryLane),m3(h,y)}function Ez(h,m){var y=0;switch(h.tag){case 13:var N=h.stateNode,k=h.memoizedState;k!==null&&(y=k.retryLane);break;case 19:N=h.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(m),m3(h,y)}var p3;p3=function(h,m,y){if(h!==null)if(h.memoizedProps!==m.pendingProps||yr.current)vr=!0;else{if((h.lanes&y)===0&&(m.flags&128)===0)return vr=!1,pz(h,m,y);vr=(h.flags&131072)!==0}else vr=!1,Ft&&(m.flags&1048576)!==0&&G4(m,Xf,m.index);switch(m.lanes=0,m.tag){case 2:var N=m.type;dm(h,m),h=m.pendingProps;var k=lc(m,Un.current);mc(m,y),k=Ly(null,m,N,h,k,y);var O=Ry();return m.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,br(N)?(O=!0,Kf(m)):O=!1,m.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,My(m),k.updater=cm,m.stateNode=k,k._reactInternals=m,Hy(m,N,h,y),m=Ky(null,m,N,!0,O,y)):(m.tag=0,Ft&&O&&by(m),or(null,m,k,y),m=m.child),m;case 16:N=m.elementType;e:{switch(dm(h,m),h=m.pendingProps,k=N._init,N=k(N._payload),m.type=N,k=m.tag=Pz(N),h=ks(N,h),k){case 0:m=qy(null,m,N,h,y);break e;case 1:m=$C(null,m,N,h,y);break e;case 11:m=LC(null,m,N,h,y);break e;case 14:m=RC(null,m,N,ks(N.type,h),y);break e}throw Error(n(306,N,""))}return m;case 0:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:ks(N,k),qy(h,m,N,k,y);case 1:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:ks(N,k),$C(h,m,N,k,y);case 3:e:{if(BC(m),h===null)throw Error(n(387));N=m.pendingProps,O=m.memoizedState,k=O.element,rC(h,m),nm(m,N,null,y);var I=m.memoizedState;if(N=I.element,O.isDehydrated)if(O={element:N,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},m.updateQueue.baseState=O,m.memoizedState=O,m.flags&256){k=gc(Error(n(423)),m),m=HC(h,m,N,y,k);break e}else if(N!==k){k=gc(Error(n(424)),m),m=HC(h,m,N,y,k);break e}else for(Vr=wa(m.stateNode.containerInfo.firstChild),Fr=m,Ft=!0,Cs=null,y=tC(m,null,N,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(dc(),N===k){m=Ci(h,m,y);break e}or(h,m,N,y)}m=m.child}return m;case 5:return aC(m),h===null&&Ny(m),N=m.type,k=m.pendingProps,O=h!==null?h.memoizedProps:null,I=k.children,fy(N,k)?I=null:O!==null&&fy(N,O)&&(m.flags|=32),zC(h,m),or(h,m,I,y),m.child;case 6:return h===null&&Ny(m),null;case 13:return UC(h,m,y);case 4:return Py(m,m.stateNode.containerInfo),N=m.pendingProps,h===null?m.child=hc(m,null,N,y):or(h,m,N,y),m.child;case 11:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:ks(N,k),LC(h,m,N,k,y);case 7:return or(h,m,m.pendingProps,y),m.child;case 8:return or(h,m,m.pendingProps.children,y),m.child;case 12:return or(h,m,m.pendingProps.children,y),m.child;case 10:e:{if(N=m.type._context,k=m.pendingProps,O=m.memoizedProps,I=k.value,kt(Zf,N._currentValue),N._currentValue=I,O!==null)if(js(O.value,I)){if(O.children===k.children&&!yr.current){m=Ci(h,m,y);break e}}else for(O=m.child,O!==null&&(O.return=m);O!==null;){var U=O.dependencies;if(U!==null){I=O.child;for(var Y=U.firstContext;Y!==null;){if(Y.context===N){if(O.tag===1){Y=ji(-1,y&-y),Y.tag=2;var ae=O.updateQueue;if(ae!==null){ae=ae.shared;var ge=ae.pending;ge===null?Y.next=Y:(Y.next=ge.next,ge.next=Y),ae.pending=Y}}O.lanes|=y,Y=O.alternate,Y!==null&&(Y.lanes|=y),Ty(O.return,y,m),U.lanes|=y;break}Y=Y.next}}else if(O.tag===10)I=O.type===m.type?null:O.child;else if(O.tag===18){if(I=O.return,I===null)throw Error(n(341));I.lanes|=y,U=I.alternate,U!==null&&(U.lanes|=y),Ty(I,y,m),I=O.sibling}else I=O.child;if(I!==null)I.return=O;else for(I=O;I!==null;){if(I===m){I=null;break}if(O=I.sibling,O!==null){O.return=I.return,I=O;break}I=I.return}O=I}or(h,m,k.children,y),m=m.child}return m;case 9:return k=m.type,N=m.pendingProps.children,mc(m,y),k=ns(k),N=N(k),m.flags|=1,or(h,m,N,y),m.child;case 14:return N=m.type,k=ks(N,m.pendingProps),k=ks(N.type,k),RC(h,m,N,k,y);case 15:return FC(h,m,m.type,m.pendingProps,y);case 17:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:ks(N,k),dm(h,m),m.tag=1,br(N)?(h=!0,Kf(m)):h=!1,mc(m,y),MC(m,N,k),Hy(m,N,k,y),Ky(null,m,N,!0,h,y);case 19:return qC(h,m,y);case 22:return VC(h,m,y)}throw Error(n(156,m.tag))};function g3(h,m){return Yj(h,m)}function Mz(h,m,y,N){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(h,m,y,N){return new Mz(h,m,y,N)}function fb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Pz(h){if(typeof h=="function")return fb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===V)return 11;if(h===W)return 14}return 2}function Oa(h,m){var y=h.alternate;return y===null?(y=is(h.tag,m,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=m,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&14680064,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,m=h.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function Nm(h,m,y,N,k,O){var I=2;if(N=h,typeof h=="function")fb(h)&&(I=1);else if(typeof h=="string")I=5;else e:switch(h){case A:return Fo(y.children,k,O,m);case E:I=8,k|=8;break;case D:return h=is(12,y,m,k|2),h.elementType=D,h.lanes=O,h;case G:return h=is(13,y,m,k),h.elementType=G,h.lanes=O,h;case H:return h=is(19,y,m,k),h.elementType=H,h.lanes=O,h;case $:return Sm(y,k,O,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case L:I=10;break e;case _:I=9;break e;case V:I=11;break e;case W:I=14;break e;case R:I=16,N=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return m=is(I,y,m,k),m.elementType=h,m.type=N,m.lanes=O,m}function Fo(h,m,y,N){return h=is(7,h,N,m),h.lanes=y,h}function Sm(h,m,y,N){return h=is(22,h,N,m),h.elementType=$,h.lanes=y,h.stateNode={isHidden:!1},h}function mb(h,m,y){return h=is(6,h,null,m),h.lanes=y,h}function pb(h,m,y){return m=is(4,h.children!==null?h.children:[],h.key,m),m.lanes=y,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function Az(h,m,y,N,k){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bx(0),this.expirationTimes=Bx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bx(0),this.identifierPrefix=N,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function gb(h,m,y,N,k,O,I,U,Y){return h=new Az(h,m,y,U,Y),m===1?(m=1,O===!0&&(m|=8)):m=0,O=is(3,null,null,m),h.current=O,O.stateNode=h,O.memoizedState={element:N,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},My(O),h}function Oz(h,m,y){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:N==null?null:""+N,children:h,containerInfo:m,implementation:y}}function x3(h){if(!h)return Sa;h=h._reactInternals;e:{if(ko(h)!==h||h.tag!==1)throw Error(n(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(br(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(h.tag===1){var y=h.type;if(br(y))return W4(h,y,m)}return m}function y3(h,m,y,N,k,O,I,U,Y){return h=gb(y,N,!0,h,k,O,I,U,Y),h.context=x3(null),y=h.current,N=lr(),k=Pa(y),O=ji(N,k),O.callback=m??null,ka(y,O,k),h.current.lanes=k,Lu(h,k,N),Nr(h,N),h}function jm(h,m,y,N){var k=m.current,O=lr(),I=Pa(k);return y=x3(y),m.context===null?m.context=y:m.pendingContext=y,m=ji(O,I),m.payload={element:h},N=N===void 0?null:N,N!==null&&(m.callback=N),h=ka(k,m,I),h!==null&&(Ms(h,k,I,O),tm(h,k,I)),I}function Cm(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function b3(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<m?y:m}}function xb(h,m){b3(h,m),(h=h.alternate)&&b3(h,m)}function _z(){return null}var v3=typeof reportError=="function"?reportError:function(h){console.error(h)};function yb(h){this._internalRoot=h}km.prototype.render=yb.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));jm(h,m,null,null)},km.prototype.unmount=yb.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;Io(function(){jm(null,h,null,null)}),m[bi]=null}};function km(h){this._internalRoot=h}km.prototype.unstable_scheduleHydration=function(h){if(h){var m=r4();h={blockedOn:null,target:h,priority:m};for(var y=0;y<ya.length&&m!==0&&m<ya[y].priority;y++);ya.splice(y,0,h),y===0&&a4(h)}};function bb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Tm(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function w3(){}function Dz(h,m,y,N,k){if(k){if(typeof N=="function"){var O=N;N=function(){var ae=Cm(I);O.call(ae)}}var I=y3(m,N,h,0,null,!1,!1,"",w3);return h._reactRootContainer=I,h[bi]=I.current,Xu(h.nodeType===8?h.parentNode:h),Io(),I}for(;k=h.lastChild;)h.removeChild(k);if(typeof N=="function"){var U=N;N=function(){var ae=Cm(Y);U.call(ae)}}var Y=gb(h,0,!1,null,null,!1,!1,"",w3);return h._reactRootContainer=Y,h[bi]=Y.current,Xu(h.nodeType===8?h.parentNode:h),Io(function(){jm(m,Y,y,N)}),Y}function Em(h,m,y,N,k){var O=y._reactRootContainer;if(O){var I=O;if(typeof k=="function"){var U=k;k=function(){var Y=Cm(I);U.call(Y)}}jm(m,I,h,k)}else I=Dz(y,m,h,k,N);return Cm(I)}t4=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var y=Iu(m.pendingLanes);y!==0&&(Hx(m,y|1),Nr(m,tn()),(ut&6)===0&&(bc=tn()+500,ja()))}break;case 13:Io(function(){var N=Si(h,1);if(N!==null){var k=lr();Ms(N,h,1,k)}}),xb(h,1)}},Ux=function(h){if(h.tag===13){var m=Si(h,134217728);if(m!==null){var y=lr();Ms(m,h,134217728,y)}xb(h,134217728)}},n4=function(h){if(h.tag===13){var m=Pa(h),y=Si(h,m);if(y!==null){var N=lr();Ms(y,h,m,N)}xb(h,m)}},r4=function(){return vt},s4=function(h,m){var y=vt;try{return vt=h,m()}finally{vt=y}},Lx=function(h,m,y){switch(m){case"input":if(Rt(h,y),m=y.name,y.type==="radio"&&m!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<y.length;m++){var N=y[m];if(N!==h&&N.form===h.form){var k=Wf(N);if(!k)throw Error(n(90));Se(N),Rt(N,k)}}}break;case"textarea":ke(h,y);break;case"select":m=y.value,m!=null&&te(h,!!y.multiple,m,!1)}},Bj=ub,Hj=Io;var Iz={usingClientEntryPoint:!1,Events:[Zu,ac,Wf,zj,$j,ub]},fd={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lz={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Kj(h),h===null?null:h.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||_z,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mm.isDisabled&&Mm.supportsFiber)try{kf=Mm.inject(Lz),Us=Mm}catch{}}return Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iz,Sr.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bb(m))throw Error(n(200));return Oz(h,m,null,y)},Sr.createRoot=function(h,m){if(!bb(h))throw Error(n(299));var y=!1,N="",k=v3;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onRecoverableError!==void 0&&(k=m.onRecoverableError)),m=gb(h,1,!1,null,null,y,!1,N,k),h[bi]=m.current,Xu(h.nodeType===8?h.parentNode:h),new yb(m)},Sr.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=Kj(m),h=h===null?null:h.stateNode,h},Sr.flushSync=function(h){return Io(h)},Sr.hydrate=function(h,m,y){if(!Tm(m))throw Error(n(200));return Em(null,h,m,!0,y)},Sr.hydrateRoot=function(h,m,y){if(!bb(h))throw Error(n(405));var N=y!=null&&y.hydratedSources||null,k=!1,O="",I=v3;if(y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onRecoverableError!==void 0&&(I=y.onRecoverableError)),m=y3(m,null,h,1,y??null,k,!1,O,I),h[bi]=m.current,Xu(h),N)for(h=0;h<N.length;h++)y=N[h],k=y._getVersion,k=k(y._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[y,k]:m.mutableSourceEagerHydrationData.push(y,k);return new km(m)},Sr.render=function(h,m,y){if(!Tm(m))throw Error(n(200));return Em(null,h,m,!1,y)},Sr.unmountComponentAtNode=function(h){if(!Tm(h))throw Error(n(40));return h._reactRootContainer?(Io(function(){Em(null,null,h,!1,function(){h._reactRootContainer=null,h[bi]=null})}),!0):!1},Sr.unstable_batchedUpdates=ub,Sr.unstable_renderSubtreeIntoContainer=function(h,m,y,N){if(!Tm(y))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return Em(h,m,y,!1,N)},Sr.version="18.3.1-next-f1338f8080-20240426",Sr}var P3;function UP(){if(P3)return Nb.exports;P3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nb.exports=Uz(),Nb.exports}var A3;function Wz(){if(A3)return Pm;A3=1;var t=UP();return Pm.createRoot=t.createRoot,Pm.hydrateRoot=t.hydrateRoot,Pm}var qz=Wz();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O3="popstate";function Kz(t={}){function e(s,i){let{pathname:a="/",search:l="",hash:c=""}=$l(s.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),y1("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:ph(i))}function r(s,i){Yr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Yz(e,n,r,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gz(){return Math.random().toString(36).substring(2,10)}function _3(t,e){return{usr:t.state,key:t.key,idx:e}}function y1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$l(e):e,state:n,key:e&&e.key||r||Gz()}}function ph({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Yz(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let b=d(),w=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:w})}function p(b,w){l="PUSH";let S=y1(v.location,b,w);n&&n(S,b),u=d()+1;let j=_3(S,u),M=v.createHref(S);try{a.pushState(j,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(M)}i&&c&&c({action:l,location:v.location,delta:1})}function g(b,w){l="REPLACE";let S=y1(v.location,b,w);n&&n(S,b),u=d();let j=_3(S,u),M=v.createHref(S);a.replaceState(j,"",M),i&&c&&c({action:l,location:v.location,delta:0})}function x(b){return Xz(b)}let v={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(O3,f),c=b,()=>{s.removeEventListener(O3,f),c=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return a.go(b)}};return v}function Xz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ph(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function WP(t,e,n="/"){return Qz(t,e,n,!1)}function Qz(t,e,n,r){let s=typeof e=="string"?$l(e):e,i=ta(s.pathname||"/",n);if(i==null)return null;let a=qP(t);Jz(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=c$(i);l=o$(a[c],u,r)}return l}function qP(t,e=[],n=[],r="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Yi([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),qP(a.children,e,p,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:i$(f,a.index),routesMeta:p})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let c of KP(a.path))i(a,l,!0,c)}),e}function KP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=KP(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Jz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Zz=/^:[\w-]+$/,e$=3,t$=2,n$=1,r$=10,s$=-2,D3=t=>t==="*";function i$(t,e){let n=t.split("/"),r=n.length;return n.some(D3)&&(r+=s$),e&&(r+=t$),n.filter(s=>!D3(s)).reduce((s,i)=>s+(Zz.test(i)?e$:i===""?n$:r$),r)}function a$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function o$(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=rg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=rg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Yi([i,f.pathname]),pathnameBase:f$(Yi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Yi([i,f.pathnameBase]))}return a}function rg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let x=l[p]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[p];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function l$(t,e=!1,n=!0){Yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function c$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function u$(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$l(t):t;return{pathname:n?n.startsWith("/")?n:d$(n,e):e,search:m$(r),hash:p$(s)}}function d$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Aw(t){let e=h$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ow(t,e,n,r=!1){let s;typeof t=="string"?s=$l(t):(s={...t},Bt(!s.pathname||!s.pathname.includes("?"),Cb("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),Cb("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),Cb("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=u$(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),f$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GP=["POST","PUT","PATCH","DELETE"];new Set(GP);var x$=["GET",...GP];new Set(x$);var gu=T.createContext(null);gu.displayName="DataRouter";var O0=T.createContext(null);O0.displayName="DataRouterState";T.createContext(!1);var YP=T.createContext({isTransitioning:!1});YP.displayName="ViewTransition";var y$=T.createContext(new Map);y$.displayName="Fetchers";var b$=T.createContext(null);b$.displayName="Await";var Fs=T.createContext(null);Fs.displayName="Navigation";var Jh=T.createContext(null);Jh.displayName="Location";var Ns=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var _w=T.createContext(null);_w.displayName="RouteError";function v$(t,{relative:e}={}){Bt(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Fs),{hash:s,pathname:i,search:a}=Zh(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Yi([n,i])),r.createHref({pathname:l,search:a,hash:s})}function xu(){return T.useContext(Jh)!=null}function sr(){return Bt(xu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Jh).location}var XP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QP(t){T.useContext(Fs).static||T.useLayoutEffect(t)}function rt(){let{isDataRoute:t}=T.useContext(Ns);return t?I$():w$()}function w$(){Bt(xu(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(gu),{basename:e,navigator:n}=T.useContext(Fs),{matches:r}=T.useContext(Ns),{pathname:s}=sr(),i=JSON.stringify(Aw(r)),a=T.useRef(!1);return QP(()=>{a.current=!0}),T.useCallback((c,u={})=>{if(Yr(a.current,XP),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Ow(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yi([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}var N$=T.createContext(null);function S$(t){let e=T.useContext(Ns).outlet;return e&&T.createElement(N$.Provider,{value:t},e)}function gi(){let{matches:t}=T.useContext(Ns),e=t[t.length-1];return e?e.params:{}}function Zh(t,{relative:e}={}){let{matches:n}=T.useContext(Ns),{pathname:r}=sr(),s=JSON.stringify(Aw(n));return T.useMemo(()=>Ow(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function j$(t,e){return JP(t,e)}function JP(t,e,n,r,s){Bt(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Fs),{matches:a}=T.useContext(Ns),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let S=f&&f.path||"";ZP(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=sr(),g;if(e){let S=typeof e=="string"?$l(e):e;Bt(d==="/"||S.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=p;let x=g.pathname||"/",v=x;if(d!=="/"){let S=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=WP(t,{pathname:v});Yr(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Yr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=M$(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Yi([d,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Yi([d,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r,s);return e&&w?T.createElement(Jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function C$(){let t=D$(),e=g$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,a)}var k$=T.createElement(C$,null),T$=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(Ns.Provider,{value:this.props.routeContext},T.createElement(_w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E$({routeContext:t,match:e,children:n}){let r=T.useContext(gu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ns.Provider,{value:t},n)}function M$(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let u=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Bt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,g=!1,x=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||k$,l&&(c<0&&f===0?(ZP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),w=()=>{let S;return p?S=x:g?S=v:d.route.Component?S=T.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,T.createElement(E$,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(T$,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):w()},null)}function Dw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P$(t){let e=T.useContext(gu);return Bt(e,Dw(t)),e}function A$(t){let e=T.useContext(O0);return Bt(e,Dw(t)),e}function O$(t){let e=T.useContext(Ns);return Bt(e,Dw(t)),e}function Iw(t){let e=O$(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _$(){return Iw("useRouteId")}function D$(){let t=T.useContext(_w),e=A$("useRouteError"),n=Iw("useRouteError");return t!==void 0?t:e.errors?.[n]}function I$(){let{router:t}=P$("useNavigate"),e=Iw("useNavigate"),n=T.useRef(!1);return QP(()=>{n.current=!0}),T.useCallback(async(s,i={})=>{Yr(n.current,XP),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var I3={};function ZP(t,e,n){!e&&!I3[t]&&(I3[t]=!0,Yr(!1,n))}T.memo(L$);function L$({routes:t,future:e,state:n,unstable_onError:r}){return JP(t,void 0,n,r,e)}function Uc({to:t,replace:e,state:n,relative:r}){Bt(xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(Fs);Yr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext(Ns),{pathname:a}=sr(),l=rt(),c=Ow(t,Aw(i),a,r==="path"),u=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function Bl(t){return S$(t.context)}function ze(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Bt(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=$l(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=n,g=T.useMemo(()=>{let x=ta(c,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:p},navigationType:r}},[a,c,u,d,f,p,r]);return Yr(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(Fs.Provider,{value:l},T.createElement(Jh.Provider,{children:e,value:g}))}function F$({children:t,location:e}){return j$(b1(t),e)}function b1(t,e=[]){let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,b1(r.props.children,i));return}Bt(r.type===ze,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=b1(r.props.children,i)),n.push(a)}),n}var jp="get",Cp="application/x-www-form-urlencoded";function _0(t){return t!=null&&typeof t.tagName=="string"}function V$(t){return _0(t)&&t.tagName.toLowerCase()==="button"}function z$(t){return _0(t)&&t.tagName.toLowerCase()==="form"}function $$(t){return _0(t)&&t.tagName.toLowerCase()==="input"}function B$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H$(t,e){return t.button===0&&(!e||e==="_self")&&!B$(t)}function v1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function U$(t,e){let n=v1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Am=null;function W$(){if(Am===null)try{new FormData(document.createElement("form"),0),Am=!1}catch{Am=!0}return Am}var q$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kb(t){return t!=null&&!q$.has(t)?(Yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cp}"`),null):t}function K$(t,e){let n,r,s,i,a;if(z$(t)){let l=t.getAttribute("action");r=l?ta(l,e):null,n=t.getAttribute("method")||jp,s=kb(t.getAttribute("enctype"))||Cp,i=new FormData(t)}else if(V$(t)||$$(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?ta(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||jp,s=kb(t.getAttribute("formenctype"))||kb(l.getAttribute("enctype"))||Cp,i=new FormData(l,t),!W$()){let{name:u,type:d,value:f}=t;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(_0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jp,r=null,s=Cp,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function G$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ta(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Y$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Q$(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await Y$(i,n);return a.links?a.links():[]}return[]}));return t9(r.flat(1).filter(X$).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function L3(t,e,n,r,s,i){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function J$(t,e,{includeHydrateFallback:n}={}){return Z$(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Z$(t){return[...new Set(t)]}function e9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function t9(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(e9(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function eA(){let t=T.useContext(gu);return Lw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function n9(){let t=T.useContext(O0);return Lw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rw=T.createContext(void 0);Rw.displayName="FrameworkContext";function tA(){let t=T.useContext(Rw);return Lw(t,"You must render this element inside a <HydratedRouter> element"),t}function r9(t,e){let n=T.useContext(Rw),[r,s]=T.useState(!1),[i,a]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(S=>{a(S.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),T.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:pd(l,g),onBlur:pd(c,x),onMouseEnter:pd(u,g),onMouseLeave:pd(d,x),onTouchStart:pd(f,g)}]:[!1,p,{}]}function pd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function s9({page:t,...e}){let{router:n}=eA(),r=T.useMemo(()=>WP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(a9,{page:t,matches:r,...e}):null}function i9(t){let{manifest:e,routeModules:n}=tA(),[r,s]=T.useState([]);return T.useEffect(()=>{let i=!1;return Q$(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function a9({page:t,matches:e,...n}){let r=sr(),{manifest:s,routeModules:i}=tA(),{basename:a}=eA(),{loaderData:l,matches:c}=n9(),u=T.useMemo(()=>L3(t,e,c,s,r,"data"),[t,e,c,s,r]),d=T.useMemo(()=>L3(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(w=>{let S=s.routes[w.route.id];!S||!S.hasLoader||(!u.some(j=>j.route.id===w.route.id)&&w.route.id in l&&i[w.route.id]?.shouldRevalidate||S.hasClientLoader?v=!0:x.add(w.route.id))}),x.size===0)return[];let b=G$(t,a,"data");return v&&x.size>0&&b.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,l,r,s,u,e,t,i]),p=T.useMemo(()=>J$(d,s),[d,s]),g=i9(d);return T.createElement(T.Fragment,null,f.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),g.map(({key:x,link:v})=>T.createElement("link",{key:x,nonce:n.nonce,...v})))}function o9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nA&&(window.__reactRouterVersion="7.9.1")}catch{}function l9({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=Kz({window:n,v5Compat:!0}));let s=r.current,[i,a]=T.useState({action:s.action,location:s.location}),l=T.useCallback(c=>{T.startTransition(()=>a(c))},[a]);return T.useLayoutEffect(()=>s.listen(l),[s,l]),T.createElement(R$,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var rA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...p},g){let{basename:x}=T.useContext(Fs),v=typeof u=="string"&&rA.test(u),b,w=!1;if(typeof u=="string"&&v&&(b=u,nA))try{let D=new URL(window.location.href),L=u.startsWith("//")?new URL(D.protocol+u):new URL(u),_=ta(L.pathname,x);L.origin===D.origin&&_!=null?u=_+L.search+L.hash:w=!0}catch{Yr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=v$(u,{relative:s}),[j,M,C]=r9(r,p),P=d9(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function A(D){e&&e(D),D.defaultPrevented||P(D)}let E=T.createElement("a",{...p,...C,href:b||S,onClick:w||i?e:A,ref:o9(g,M),target:c,"data-discover":!v&&n==="render"?"true":void 0});return j&&!v?T.createElement(T.Fragment,null,E,T.createElement(s9,{page:S})):E});Qe.displayName="Link";var Fw=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let f=Zh(a,{relative:u.relative}),p=sr(),g=T.useContext(O0),{navigator:x,basename:v}=T.useContext(Fs),b=g!=null&&g9(f)&&l===!0,w=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,S=p.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(S=S.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&v&&(j=ta(j,v)||j);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=S===w||!s&&S.startsWith(w)&&S.charAt(M)==="/",P=j!=null&&(j===w||!s&&j.startsWith(w)&&j.charAt(w.length)==="/"),A={isActive:C,isPending:P,isTransitioning:b},E=C?e:void 0,D;typeof r=="function"?D=r(A):D=[r,C?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(A):i;return T.createElement(Qe,{...u,"aria-current":E,className:D,ref:d,style:L,to:a,viewTransition:l},typeof c=="function"?c(A):c)});Fw.displayName="NavLink";var c9=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=jp,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...p},g)=>{let x=m9(),v=p9(l,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&rA.test(l),S=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let M=j.nativeEvent.submitter,C=M?.getAttribute("formmethod")||a;x(M||j.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:g,method:b,action:v,onSubmit:r?c:S,...p,"data-discover":!w&&t==="render"?"true":void 0})});c9.displayName="Form";function u9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sA(t){let e=T.useContext(gu);return Bt(e,u9(t)),e}function d9(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=rt(),c=sr(),u=Zh(t,{relative:i});return T.useCallback(d=>{if(H$(d,e)){d.preventDefault();let f=n!==void 0?n:ph(c)===ph(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,n,r,e,t,s,i,a])}function ua(t){Yr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(v1(t)),n=T.useRef(!1),r=sr(),s=T.useMemo(()=>U$(r.search,n.current?null:e.current),[r.search]),i=rt(),a=T.useCallback((l,c)=>{const u=v1(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var h9=0,f9=()=>`__${String(++h9)}__`;function m9(){let{router:t}=sA("useSubmit"),{basename:e}=T.useContext(Fs),n=_$();return T.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=K$(r,e);if(s.navigate===!1){let d=s.fetcherKey||f9();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function p9(t,{relative:e}={}){let{basename:n}=T.useContext(Fs),r=T.useContext(Ns);Bt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Zh(t||".",{relative:e})},a=sr();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Yi([n,i.pathname])),ph(i)}function g9(t,{relative:e}={}){let n=T.useContext(YP);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sA("useViewTransitionState"),s=Zh(t,{relative:e});if(!n.isTransitioning)return!1;let i=ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rg(s.pathname,a)!=null||rg(s.pathname,i)!=null}var iA=UP();const x9=A0(iA);function aA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hl(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aA(t))&&(r&&(r+=" "),r+=e);return r}function y9(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}y9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ef=t=>typeof t=="number"&&!isNaN(t),jl=t=>typeof t=="string",na=t=>typeof t=="function",b9=t=>jl(t)||ef(t),w1=t=>jl(t)||na(t)?t:null,v9=(t,e)=>t===!1||ef(t)&&t>0?t:e,N1=t=>T.isValidElement(t)||jl(t)||na(t)||ef(t);function w9(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function N9({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let p=n?`${t}--${a}`:t,g=n?`${e}--${a}`:e,x=T.useRef(0);return T.useLayoutEffect(()=>{let v=u.current,b=p.split(" "),w=S=>{S.target===u.current&&(f(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),x.current===0&&S.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),T.useEffect(()=>{let v=u.current,b=()=>{v.removeEventListener("animationend",b),r?w9(v,c,s):c()};d||(l?b():(x.current=1,v.className+=` ${g}`,v.addEventListener("animationend",b)))},[d]),ve.createElement(ve.Fragment,null,i)}}function R3(t,e){return{content:oA(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function oA(t,e,n=!1){return T.isValidElement(t)&&!jl(t.type)?T.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):na(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function S9({closeToast:t,theme:e,ariaLabel:n="close"}){return ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function j9({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:a,progress:l,rtl:c,isIn:u,theme:d}){let f=s||a&&l===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(p.transform=`scaleX(${l})`);let g=hl("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),x=na(i)?i({rtl:c,type:r,defaultClassName:g}):hl(g,i),v={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{u&&n()}};return ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),ve.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:p,...v}))}var C9=1,lA=()=>`${C9++}`;function k9(t,e,n){let r=1,s=0,i=[],a=[],l=e,c=new Map,u=new Set,d=S=>(u.add(S),()=>u.delete(S)),f=()=>{a=Array.from(c.values()),u.forEach(S=>S())},p=({containerId:S,toastId:j,updateId:M})=>{let C=S?S!==t:t!==1,P=c.has(j)&&M==null;return C||P},g=(S,j)=>{c.forEach(M=>{var C;(j==null||j===M.props.toastId)&&((C=M.toggle)==null||C.call(M,S))})},x=S=>{var j,M;(M=(j=S.props)==null?void 0:j.onClose)==null||M.call(j,S.removalReason),S.isActive=!1},v=S=>{if(S==null)c.forEach(x);else{let j=c.get(S);j&&x(j)}f()},b=()=>{s-=i.length,i=[]},w=S=>{var j,M;let{toastId:C,updateId:P}=S.props,A=P==null;S.staleId&&c.delete(S.staleId),S.isActive=!0,c.set(C,S),f(),n(R3(S,A?"added":"updated")),A&&((M=(j=S.props).onOpen)==null||M.call(j))};return{id:t,props:l,observe:d,toggle:g,removeToast:v,toasts:c,clearQueue:b,buildToast:(S,j)=>{if(p(j))return;let{toastId:M,updateId:C,data:P,staleId:A,delay:E}=j,D=C==null;D&&s++;let L={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([V,G])=>G!=null)),toastId:M,updateId:C,data:P,isIn:!1,className:w1(j.className||l.toastClassName),progressClassName:w1(j.progressClassName||l.progressClassName),autoClose:j.isLoading?!1:v9(j.autoClose,l.autoClose),closeToast(V){c.get(M).removalReason=V,v(M)},deleteToast(){let V=c.get(M);if(V!=null){if(n(R3(V,"removed")),c.delete(M),s--,s<0&&(s=0),i.length>0){w(i.shift());return}f()}}};L.closeButton=l.closeButton,j.closeButton===!1||N1(j.closeButton)?L.closeButton=j.closeButton:j.closeButton===!0&&(L.closeButton=N1(l.closeButton)?l.closeButton:!0);let _={content:S,props:L,staleId:A};l.limit&&l.limit>0&&s>l.limit&&D?i.push(_):ef(E)?setTimeout(()=>{w(_)},E):w(_)},setProps(S){l=S},setToggle:(S,j)=>{let M=c.get(S);M&&(M.toggle=j)},isToastActive:S=>{var j;return(j=c.get(S))==null?void 0:j.isActive},getSnapshot:()=>a}}var dr=new Map,gh=[],S1=new Set,T9=t=>S1.forEach(e=>e(t)),cA=()=>dr.size>0;function E9(){gh.forEach(t=>dA(t.content,t.options)),gh=[]}var M9=(t,{containerId:e})=>{var n;return(n=dr.get(e||1))==null?void 0:n.toasts.get(t)};function uA(t,e){var n;if(e)return!!((n=dr.get(e))!=null&&n.isToastActive(t));let r=!1;return dr.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function P9(t){if(!cA()){gh=gh.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||b9(t))dr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=dr.get(t.containerId);e?e.removeToast(t.id):dr.forEach(n=>{n.removeToast(t.id)})}}var A9=(t={})=>{dr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function dA(t,e){N1(t)&&(cA()||gh.push({content:t,options:e}),dr.forEach(n=>{n.buildToast(t,e)}))}function O9(t){var e;(e=dr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function hA(t,e){dr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function _9(t){let e=t.containerId||1;return{subscribe(n){let r=k9(e,t,T9);dr.set(e,r);let s=r.observe(n);return E9(),()=>{s(),dr.delete(e)}},setProps(n){var r;(r=dr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=dr.get(e))==null?void 0:n.getSnapshot()}}}function D9(t){return S1.add(t),()=>{S1.delete(t)}}function I9(t){return t&&(jl(t.toastId)||ef(t.toastId))?t.toastId:lA()}function tf(t,e){return dA(t,e),e.toastId}function D0(t,e){return{...e,type:e&&e.type||t,toastId:I9(e)}}function I0(t){return(e,n)=>tf(e,D0(t,n))}function de(t,e){return tf(t,D0("default",e))}de.loading=(t,e)=>tf(t,D0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function L9(t,{pending:e,error:n,success:r},s){let i;e&&(i=jl(e)?de.loading(e,s):de.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){de.dismiss(i);return}let p={type:u,...a,...s,data:f},g=jl(d)?{render:d}:d;return i?de.update(i,{...p,...g}):de(g.render,{...p,...g}),f},c=na(t)?t():t;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}de.promise=L9;de.success=I0("success");de.info=I0("info");de.error=I0("error");de.warning=I0("warning");de.warn=de.warning;de.dark=(t,e)=>tf(t,D0("default",{theme:"dark",...e}));function R9(t){P9(t)}de.dismiss=R9;de.clearWaitingQueue=A9;de.isActive=uA;de.update=(t,e={})=>{let n=M9(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:lA()};i.toastId!==t&&(i.staleId=t);let a=i.render||s;delete i.render,tf(a,i)}};de.done=t=>{de.update(t,{progress:1})};de.onChange=D9;de.play=t=>hA(!0,t);de.pause=t=>hA(!1,t);function F9(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=T.useRef(_9(t)).current;s(t);let i=(e=T.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function a(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:a,isToastActive:uA,count:i?.length}}function V9(t){let[e,n]=T.useState(!1),[r,s]=T.useState(!1),i=T.useRef(null),a=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=t;O9({id:t.toastId,containerId:t.containerId,fn:n}),T.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{g()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function x(A){if(t.draggable===!0||t.draggable===A.pointerType){S();let E=i.current;a.canCloseOnClick=!0,a.canDrag=!0,E.style.transition="none",t.draggableDirection==="x"?(a.start=A.clientX,a.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(a.start=A.clientY,a.removalDistance=E.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function v(A){let{top:E,bottom:D,left:L,right:_}=i.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=L&&A.clientX<=_&&A.clientY>=E&&A.clientY<=D?w():b()}function b(){n(!0)}function w(){n(!1)}function S(){a.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",C)}function j(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",C)}function M(A){let E=i.current;if(a.canDrag&&E){a.didMove=!0,e&&w(),t.draggableDirection==="x"?a.delta=A.clientX-a.start:a.delta=A.clientY-a.start,a.start!==A.clientX&&(a.canCloseOnClick=!1);let D=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;E.style.transform=`translate3d(${D},0)`,E.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function C(){j();let A=i.current;if(a.canDrag&&a.didMove&&A){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let P={onPointerDown:x,onPointerUp:v};return l&&c&&(P.onMouseEnter=w,t.stacked||(P.onMouseLeave=b)),f&&(P.onClick=A=>{d&&d(A),a.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:P}}var z9=typeof window<"u"?T.useLayoutEffect:T.useEffect,L0=({theme:t,type:e,isLoading:n,...r})=>ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function $9(t){return ve.createElement(L0,{...t},ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function B9(t){return ve.createElement(L0,{...t},ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function H9(t){return ve.createElement(L0,{...t},ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function U9(t){return ve.createElement(L0,{...t},ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function W9(){return ve.createElement("div",{className:"Toastify__spinner"})}var j1={info:B9,warning:$9,success:H9,error:U9,spinner:W9},q9=t=>t in j1;function K9({theme:t,type:e,isLoading:n,icon:r}){let s=null,i={theme:t,type:e};return r===!1||(na(r)?s=r({...i,isLoading:n}):T.isValidElement(r)?s=T.cloneElement(r,i):n?s=j1.spinner():q9(e)&&(s=j1[e](i))),s}var G9=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=V9(t),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:p,transition:g,position:x,className:v,style:b,progressClassName:w,updateId:S,role:j,progress:M,rtl:C,toastId:P,deleteToast:A,isIn:E,isLoading:D,closeOnClick:L,theme:_,ariaLabel:V}=t,G=hl("Toastify__toast",`Toastify__toast-theme--${_}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":L}),H=na(v)?v({rtl:C,position:x,type:d,defaultClassName:G}):hl(G,v),W=K9(t),R=!!M||!c,$={closeToast:p,type:d,theme:_},z=null;return a===!1||(na(a)?z=a($):T.isValidElement(a)?z=T.cloneElement(a,$):z=S9($)),ve.createElement(g,{isIn:E,done:A,position:x,preventExitTransition:n,nodeRef:r,playToast:i},ve.createElement("div",{id:P,tabIndex:0,onClick:u,"data-in":E,className:H,...s,style:b,ref:r,...E&&{role:j,"aria-label":V}},W!=null&&ve.createElement("div",{className:hl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},W),oA(l,t,!e),z,!t.customProgressBar&&ve.createElement(j9,{...S&&!R?{key:`p-${S}`}:{},rtl:C,theme:_,delay:c,isRunning:e,isIn:E,closeToast:p,hide:f,type:d,className:w,controlledProgress:R,progress:M||0})))},Y9=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),X9=N9(Y9("bounce",!0)),Q9={position:"top-right",transition:X9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function J9(t){let e={...Q9,...t},n=t.stacked,[r,s]=T.useState(!0),i=T.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=F9(e),{className:u,style:d,rtl:f,containerId:p,hotKeys:g}=e;function x(b){let w=hl("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return na(u)?u({position:b,rtl:f,defaultClassName:w}):hl(w,w1(u))}function v(){n&&(s(!0),de.play())}return z9(()=>{var b;if(n){let w=i.current.querySelectorAll('[data-in="true"]'),S=12,j=(b=e.position)==null?void 0:b.includes("top"),M=0,C=0;Array.from(w).reverse().forEach((P,A)=>{let E=P;E.classList.add("Toastify__toast--stacked"),A>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=j?"top":"bot");let D=M*(r?.2:1)+(r?0:S*A);E.style.setProperty("--y",`${j?D:D*-1}px`),E.style.setProperty("--g",`${S}`),E.style.setProperty("--s",`${1-(r?C:0)}`),M+=E.offsetHeight,C+=.025})}},[r,c,n]),T.useEffect(()=>{function b(w){var S;let j=i.current;g(w)&&((S=j.querySelector('[tabIndex="0"]'))==null||S.focus(),s(!1),de.pause()),w.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),de.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),ve.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),de.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((b,w)=>{let S=w.length?{...d}:{...d,pointerEvents:"none"};return ve.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:S,key:`c-${b}`},w.map(({content:j,props:M})=>ve.createElement(G9,{...M,stacked:n,collapseAll:v,isIn:l(M.toastId,M.containerId),key:`t-${M.key}`},j)))}))}var Vo={},zo={},cr={},F3;function Z9(){if(F3)return cr;F3=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.DeleteReason=cr.MemberRank=cr.StaffPosition=cr.StaffStatus=cr.Gender=cr.UserRole=void 0;var t;(function(a){a.ADMIN="admin",a.USER="user",a.STAFF="staff"})(t||(cr.UserRole=t={}));var e;(function(a){a.MALE="male",a.FEMALE="female"})(e||(cr.Gender=e={}));var n;(function(a){a.ACTIVE="active",a.PROBATION="probation",a.ON_LEAVE="on_leave",a.RESIGNED="resigned"})(n||(cr.StaffStatus=n={}));var r;(function(a){a.SALE="sale",a.INVENTORY="inventory",a.MANAGER="manager"})(r||(cr.StaffPosition=r={}));var s;(function(a){a.BRONZE="bronze",a.SILVER="silver",a.GOLD="gold"})(s||(cr.MemberRank=s={}));var i;return(function(a){a.NOT_USING="NOT_USING",a.PRIVACY_CONCERNS="PRIVACY_CONCERNS",a.FOUND_BETTER_ALTERNATIVE="FOUND_BETTER_ALTERNATIVE",a.ACCOUNT_ISSUE="ACCOUNT_ISSUE",a.OTHER="OTHER"})(i||(cr.DeleteReason=i={})),cr}var Ti={},V3;function eB(){if(V3)return Ti;V3=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.CancelReasonType=Ti.PaymentMethod=Ti.OrderStatus=void 0;var t;(function(r){r.PENDING="pending",r.CONFIRMED="confirmed",r.SHIPPING="shipping",r.COMPLETED="completed",r.CANCELLED="cancelled",r.DELIVERED="delivered"})(t||(Ti.OrderStatus=t={}));var e;(function(r){r.COD="cod",r.MOMO="momo",r.VNPAY="vnpay"})(e||(Ti.PaymentMethod=e={}));var n;return(function(r){r.CHANGE_OF_MIND="CHANGE_OF_MIND",r.FOUND_BETTER_PRICE="FOUND_BETTER_PRICE",r.ORDER_BY_MISTAKE="ORDER_BY_MISTAKE",r.WRONG_ADDRESS="WRONG_ADDRESS",r.OTHER="OTHER"})(n||(Ti.CancelReasonType=n={})),Ti}var $o={},z3;function tB(){if(z3)return $o;z3=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.PaymentStatusLabel=$o.PaymentStatus=void 0;var t;return(function(e){e.PENDING="PENDING",e.SUCCESS="SUCCESS",e.FAILED="FAILED",e.CANCELLED="CANCELLED",e.REFUNDED="REFUNDED"})(t||($o.PaymentStatus=t={})),$o.PaymentStatusLabel={[t.PENDING]:"Ch thanh ton",[t.SUCCESS]:"Thanh ton thnh cng",[t.FAILED]:"Thanh ton tht bi",[t.CANCELLED]:" hy",[t.REFUNDED]:" hon tin"},$o}var Bo={},$3;function fA(){if($3)return Bo;$3=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.ShippingProvider=Bo.ShippingStatus=void 0;var t;(function(n){n.PENDING="PENDING",n.PICKED_UP="PICKED_UP",n.IN_TRANSIT="IN_TRANSIT",n.OUT_FOR_DELIVERY="OUT_FOR_DELIVERY",n.DELIVERED="DELIVERED",n.FAILED="FAILED",n.RETURNED="RETURNED",n.CANCELED="CANCELED"})(t||(Bo.ShippingStatus=t={}));var e;return(function(n){n.GHN="GHN",n.GHTK="GHTK",n.VIETTEL_POST="VIETTEL_POST",n.VN_POST="VN_POST",n.J_T_EXPRESS="J_T_EXPRESS",n.INTERNAL="INTERNAL"})(e||(Bo.ShippingProvider=e={})),Bo}var Ho={},B3;function nB(){if(B3)return Ho;B3=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.VoucherType=Ho.VoucherStatus=void 0;var t;(function(n){n.ACTIVE="ACTIVE",n.INACTIVE="INACTIVE"})(t||(Ho.VoucherStatus=t={}));var e;return(function(n){n.PERCENT="PERCENT",n.FIXED="FIXED"})(e||(Ho.VoucherType=e={})),Ho}var H3;function Vw(){return H3||(H3=1,(function(t){var e=zo&&zo.__createBinding||(Object.create?(function(r,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,a,l)}):(function(r,s,i,a){a===void 0&&(a=i),r[a]=s[i]})),n=zo&&zo.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(Z9(),t),n(eB(),t),n(tB(),t),n(fA(),t),n(nB(),t)})(zo)),zo}var Uo={},gd={},U3;function rB(){if(U3)return gd;U3=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.getStatusConfig=void 0;const t=Vw(),e=n=>{switch(n){case t.OrderStatus.PENDING:return{text:"Ch xc nhn",bgColor:"#fef3c7",textColor:"#92400e",borderColor:"#fbbf24"};case t.OrderStatus.CONFIRMED:return{text:" xc nhn",bgColor:"#dbeafe",textColor:"#1e40af",borderColor:"#3b82f6"};case t.OrderStatus.SHIPPING:return{text:"ang giao",bgColor:"#c3dafe",textColor:"#4c51bf",borderColor:"#818cf8"};case t.OrderStatus.DELIVERED:return{text:" giao",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#34d399"};case t.OrderStatus.COMPLETED:return{text:"Hon thnh",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#10b981"};case t.OrderStatus.CANCELLED:return{text:" hy",bgColor:"#fee2e2",textColor:"#991b1b",borderColor:"#ef4444"};default:return{text:"Khng xc nh",bgColor:"#f3f4f6",textColor:"#6b7280",borderColor:"#d1d5db"}}};return gd.getStatusConfig=e,gd}var xd={},W3;function sB(){if(W3)return xd;W3=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.getPaymentMethod=void 0;const t=Vw();return xd.getPaymentMethod={[t.PaymentMethod.COD]:{text:"Thanh ton khi nhn hng"},[t.PaymentMethod.MOMO]:{text:"Thanh ton qua v MOMO"},[t.PaymentMethod.VNPAY]:{text:"Thanh ton qua VNPay"}},xd}var Wo={},q3;function iB(){if(q3)return Wo;q3=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.getShippingProvider=Wo.getShippingStatus=void 0;const t=fA();return Wo.getShippingStatus={[t.ShippingStatus.PENDING]:{text:"Ch ly hng"},[t.ShippingStatus.PICKED_UP]:{text:"n v vn chuyn  ly hng"},[t.ShippingStatus.IN_TRANSIT]:{text:"ang vn chuyn"},[t.ShippingStatus.OUT_FOR_DELIVERY]:{text:"ang giao hng"},[t.ShippingStatus.DELIVERED]:{text:"Giao hng thnh cng"},[t.ShippingStatus.FAILED]:{text:"Giao hng tht bi"},[t.ShippingStatus.RETURNED]:{text:" hon hng"},[t.ShippingStatus.CANCELED]:{text:" hy giao hng"}},Wo.getShippingProvider={[t.ShippingProvider.GHN]:{text:"Giao hng nhanh (GHN)"},[t.ShippingProvider.GHTK]:{text:"Giao hng tit kim (GHTK)"},[t.ShippingProvider.INTERNAL]:{text:"Ni b giao hng"},[t.ShippingProvider.J_T_EXPRESS]:{text:"J&T_Express"},[t.ShippingProvider.VIETTEL_POST]:{text:"Viettel Post"},[t.ShippingProvider.VN_POST]:{text:"Vn Post"}},Wo}var K3;function aB(){return K3||(K3=1,(function(t){var e=Uo&&Uo.__createBinding||(Object.create?(function(r,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,a,l)}):(function(r,s,i,a){a===void 0&&(a=i),r[a]=s[i]})),n=Uo&&Uo.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(rB(),t),n(sB(),t),n(iB(),t)})(Uo)),Uo}var G3;function oB(){return G3||(G3=1,(function(t){var e=Vo&&Vo.__createBinding||(Object.create?(function(r,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,a,l)}):(function(r,s,i,a){a===void 0&&(a=i),r[a]=s[i]})),n=Vo&&Vo.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(Vw(),t),n(aB(),t)})(Vo)),Vo}var le=oB();function mA(t,e){return function(){return t.apply(e,arguments)}}const{toString:lB}=Object.prototype,{getPrototypeOf:zw}=Object,{iterator:R0,toStringTag:pA}=Symbol,F0=(t=>e=>{const n=lB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vs=t=>(t=t.toLowerCase(),e=>F0(e)===t),V0=t=>e=>typeof e===t,{isArray:yu}=Array,Zc=V0("undefined");function nf(t){return t!==null&&!Zc(t)&&t.constructor!==null&&!Zc(t.constructor)&&Or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gA=Vs("ArrayBuffer");function cB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gA(t.buffer),e}const uB=V0("string"),Or=V0("function"),xA=V0("number"),rf=t=>t!==null&&typeof t=="object",dB=t=>t===!0||t===!1,kp=t=>{if(F0(t)!=="object")return!1;const e=zw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pA in t)&&!(R0 in t)},hB=t=>{if(!rf(t)||nf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},fB=Vs("Date"),mB=Vs("File"),pB=Vs("Blob"),gB=Vs("FileList"),xB=t=>rf(t)&&Or(t.pipe),yB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Or(t.append)&&((e=F0(t))==="formdata"||e==="object"&&Or(t.toString)&&t.toString()==="[object FormData]"))},bB=Vs("URLSearchParams"),[vB,wB,NB,SB]=["ReadableStream","Request","Response","Headers"].map(Vs),jB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),yu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(nf(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function yA(t,e){if(nf(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bA=t=>!Zc(t)&&t!==nl;function C1(){const{caseless:t,skipUndefined:e}=bA(this)&&this||{},n={},r=(s,i)=>{const a=t&&yA(n,i)||i;kp(n[a])&&kp(s)?n[a]=C1(n[a],s):kp(s)?n[a]=C1({},s):yu(s)?n[a]=s.slice():(!e||!Zc(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&sf(arguments[s],r);return n}const CB=(t,e,n,{allOwnKeys:r}={})=>(sf(e,(s,i)=>{n&&Or(s)?t[i]=mA(s,n):t[i]=s},{allOwnKeys:r}),t),kB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},EB=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&zw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},MB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},PB=t=>{if(!t)return null;if(yu(t))return t;let e=t.length;if(!xA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},AB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zw(Uint8Array)),OB=(t,e)=>{const r=(t&&t[R0]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},_B=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},DB=Vs("HTMLFormElement"),IB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Y3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),LB=Vs("RegExp"),vA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};sf(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},RB=t=>{vA(t,(e,n)=>{if(Or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},FB=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return yu(t)?r(t):r(String(t).split(e)),n},VB=()=>{},zB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function $B(t){return!!(t&&Or(t.append)&&t[pA]==="FormData"&&t[R0])}const BB=t=>{const e=new Array(10),n=(r,s)=>{if(rf(r)){if(e.indexOf(r)>=0)return;if(nf(r))return r;if(!("toJSON"in r)){e[s]=r;const i=yu(r)?[]:{};return sf(r,(a,l)=>{const c=n(a,s+1);!Zc(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},HB=Vs("AsyncFunction"),UB=t=>t&&(rf(t)||Or(t))&&Or(t.then)&&Or(t.catch),wA=((t,e)=>t?setImmediate:e?((n,r)=>(nl.addEventListener("message",({source:s,data:i})=>{s===nl&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),nl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Or(nl.postMessage)),WB=typeof queueMicrotask<"u"?queueMicrotask.bind(nl):typeof process<"u"&&process.nextTick||wA,qB=t=>t!=null&&Or(t[R0]),oe={isArray:yu,isArrayBuffer:gA,isBuffer:nf,isFormData:yB,isArrayBufferView:cB,isString:uB,isNumber:xA,isBoolean:dB,isObject:rf,isPlainObject:kp,isEmptyObject:hB,isReadableStream:vB,isRequest:wB,isResponse:NB,isHeaders:SB,isUndefined:Zc,isDate:fB,isFile:mB,isBlob:pB,isRegExp:LB,isFunction:Or,isStream:xB,isURLSearchParams:bB,isTypedArray:AB,isFileList:gB,forEach:sf,merge:C1,extend:CB,trim:jB,stripBOM:kB,inherits:TB,toFlatObject:EB,kindOf:F0,kindOfTest:Vs,endsWith:MB,toArray:PB,forEachEntry:OB,matchAll:_B,isHTMLForm:DB,hasOwnProperty:Y3,hasOwnProp:Y3,reduceDescriptors:vA,freezeMethods:RB,toObjectSet:FB,toCamelCase:IB,noop:VB,toFiniteNumber:zB,findKey:yA,global:nl,isContextDefined:bA,isSpecCompliantForm:$B,toJSONObject:BB,isAsyncFn:HB,isThenable:UB,setImmediate:wA,asap:WB,isIterable:qB};function nt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const NA=nt.prototype,SA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{SA[t]={value:t}});Object.defineProperties(nt,SA);Object.defineProperty(NA,"isAxiosError",{value:!0});nt.from=(t,e,n,r,s,i)=>{const a=Object.create(NA);oe.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return nt.call(a,l,c,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const KB=null;function k1(t){return oe.isPlainObject(t)||oe.isArray(t)}function jA(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function X3(t,e,n){return t?t.concat(e).map(function(s,i){return s=jA(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function GB(t){return oe.isArray(t)&&!t.some(k1)}const YB=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function z0(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!oe.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(oe.isDate(x))return x.toISOString();if(oe.isBoolean(x))return x.toString();if(!c&&oe.isBlob(x))throw new nt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(x)||oe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,b){let w=x;if(x&&!b&&typeof x=="object"){if(oe.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(oe.isArray(x)&&GB(x)||(oe.isFileList(x)||oe.endsWith(v,"[]"))&&(w=oe.toArray(x)))return v=jA(v),w.forEach(function(j,M){!(oe.isUndefined(j)||j===null)&&e.append(a===!0?X3([v],M,i):a===null?v:v+"[]",u(j))}),!1}return k1(x)?!0:(e.append(X3(b,v,i),u(x)),!1)}const f=[],p=Object.assign(YB,{defaultVisitor:d,convertValue:u,isVisitable:k1});function g(x,v){if(!oe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(x),oe.forEach(x,function(w,S){(!(oe.isUndefined(w)||w===null)&&s.call(e,w,oe.isString(S)?S.trim():S,v,p))===!0&&g(w,v?v.concat(S):[S])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Q3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $w(t,e){this._pairs=[],t&&z0(t,this,e)}const CA=$w.prototype;CA.append=function(e,n){this._pairs.push([e,n])};CA.toString=function(e){const n=e?function(r){return e.call(this,r,Q3)}:Q3;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function XB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kA(t,e,n){if(!e)return t;const r=n&&n.encode||XB;oe.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=oe.isURLSearchParams(e)?e.toString():new $w(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class J3{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QB=typeof URLSearchParams<"u"?URLSearchParams:$w,JB=typeof FormData<"u"?FormData:null,ZB=typeof Blob<"u"?Blob:null,eH={isBrowser:!0,classes:{URLSearchParams:QB,FormData:JB,Blob:ZB},protocols:["http","https","file","blob","url","data"]},Bw=typeof window<"u"&&typeof document<"u",T1=typeof navigator=="object"&&navigator||void 0,tH=Bw&&(!T1||["ReactNative","NativeScript","NS"].indexOf(T1.product)<0),nH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rH=Bw&&window.location.href||"http://localhost",sH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bw,hasStandardBrowserEnv:tH,hasStandardBrowserWebWorkerEnv:nH,navigator:T1,origin:rH},Symbol.toStringTag,{value:"Module"})),Jn={...sH,...eH};function iH(t,e){return z0(t,new Jn.classes.URLSearchParams,{visitor:function(n,r,s,i){return Jn.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function aH(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oH(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function EA(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&oe.isArray(s)?s.length:a,c?(oe.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!oe.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&oe.isArray(s[a])&&(s[a]=oH(s[a])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,s)=>{e(aH(r),s,n,0)}),n}return null}function lH(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const af={transitional:TA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=oe.isObject(e);if(i&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify(EA(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iH(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return z0(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),lH(e)):e}],transformResponse:[function(e){const n=this.transitional||af.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?nt.from(l,nt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jn.classes.FormData,Blob:Jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{af.headers[t]={}});const cH=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uH=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&cH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Z3=Symbol("internals");function yd(t){return t&&String(t).trim().toLowerCase()}function Tp(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Tp):String(t)}function dH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const hH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tb(t,e,n,r,s){if(oe.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function fH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function mH(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let _r=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const d=yd(c);if(!d)throw new Error("header name must be a non-empty string");const f=oe.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Tp(l))}const a=(l,c)=>oe.forEach(l,(u,d)=>i(u,d,c));if(oe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(oe.isString(e)&&(e=e.trim())&&!hH(e))a(uH(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},c,u;for(const d of e){if(!oe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?oe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=yd(e),e){const r=oe.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return dH(s);if(oe.isFunction(n))return n.call(this,s,r);if(oe.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=yd(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Tb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=yd(a),a){const l=oe.findKey(r,a);l&&(!n||Tb(r,r[l],l,n))&&(delete r[l],s=!0)}}return oe.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Tb(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return oe.forEach(this,(s,i)=>{const a=oe.findKey(r,i);if(a){n[a]=Tp(s),delete n[i];return}const l=e?fH(i):String(i).trim();l!==i&&delete n[i],n[l]=Tp(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Z3]=this[Z3]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=yd(a);r[l]||(mH(s,a),r[l]=!0)}return oe.isArray(e)?e.forEach(i):i(e),this}};_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(_r.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(_r);function Eb(t,e){const n=this||af,r=e||n,s=_r.from(r.headers);let i=r.data;return oe.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function MA(t){return!!(t&&t.__CANCEL__)}function bu(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(bu,nt,{__CANCEL__:!0});function PA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function xH(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const sg=(t,e,n=3)=>{let r=0;const s=gH(50,250);return xH(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},ek=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},tk=t=>(...e)=>oe.asap(()=>t(...e)),yH=Jn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Jn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Jn.origin),Jn.navigator&&/(msie|trident)/i.test(Jn.navigator.userAgent)):()=>!0,bH=Jn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&a.push("path="+r),oe.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function AA(t,e,n){let r=!vH(e);return t&&(r||n==!1)?wH(t,e):e}const nk=t=>t instanceof _r?{...t}:t;function Cl(t,e){e=e||{};const n={};function r(u,d,f,p){return oe.isPlainObject(u)&&oe.isPlainObject(d)?oe.merge.call({caseless:p},u,d):oe.isPlainObject(d)?oe.merge({},d):oe.isArray(d)?d.slice():d}function s(u,d,f,p){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function i(u,d){if(!oe.isUndefined(d))return r(void 0,d)}function a(u,d){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(nk(u),nk(d),f,!0)};return oe.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||s,p=f(t[d],e[d],d);oe.isUndefined(p)&&f!==l||(n[d]=p)}),n}const OA=t=>{const e=Cl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=_r.from(a),e.url=kA(AA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),oe.isFormData(n)){if(Jn.hasStandardBrowserEnv||Jn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(oe.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Jn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&yH(e.url))){const c=s&&i&&bH.read(i);c&&a.set(s,c)}return e},NH=typeof XMLHttpRequest<"u",SH=NH&&function(t){return new Promise(function(n,r){const s=OA(t);let i=s.data;const a=_r.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,g,x;function v(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function w(){if(!b)return;const j=_r.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:t,request:b};PA(function(A){n(A),v()},function(A){r(A),v()},C),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new nt("Request aborted",nt.ECONNABORTED,t,b)),b=null)},b.onerror=function(M){const C=M&&M.message?M.message:"Network Error",P=new nt(C,nt.ERR_NETWORK,t,b);P.event=M||null,r(P),b=null},b.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||TA;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),r(new nt(M,C.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&oe.forEach(a.toJSON(),function(M,C){b.setRequestHeader(C,M)}),oe.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([p,x]=sg(u,!0),b.addEventListener("progress",p)),c&&b.upload&&([f,g]=sg(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=j=>{b&&(r(!j||j.type?new bu(null,t,b):j),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const S=pH(s.url);if(S&&Jn.protocols.indexOf(S)===-1){r(new nt("Unsupported protocol "+S+":",nt.ERR_BAD_REQUEST,t));return}b.send(i||null)})},jH=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof nt?d:new bu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new nt(`timeout ${e} of ms exceeded`,nt.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},CH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},kH=async function*(t,e){for await(const n of TH(t))yield*CH(n,e)},TH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},rk=(t,e,n,r)=>{const s=kH(t,e);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},sk=64*1024,{isFunction:Om}=oe,EH=(({Request:t,Response:e})=>({Request:t,Response:e}))(oe.global),{ReadableStream:ik,TextEncoder:ak}=oe.global,ok=(t,...e)=>{try{return!!t(...e)}catch{return!1}},MH=t=>{t=oe.merge.call({skipUndefined:!0},EH,t);const{fetch:e,Request:n,Response:r}=t,s=e?Om(e):typeof fetch=="function",i=Om(n),a=Om(r);if(!s)return!1;const l=s&&Om(ik),c=s&&(typeof ak=="function"?(x=>v=>x.encode(v))(new ak):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&l&&ok(()=>{let x=!1;const v=new n(Jn.origin,{body:new ik,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=a&&l&&ok(()=>oe.isReadableStream(new r("").body)),f={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(v,b)=>{let w=v&&v[x];if(w)return w.call(v);throw new nt(`Response type '${x}' is not supported`,nt.ERR_NOT_SUPPORT,b)})});const p=async x=>{if(x==null)return 0;if(oe.isBlob(x))return x.size;if(oe.isSpecCompliantForm(x))return(await new n(Jn.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(x)||oe.isArrayBuffer(x))return x.byteLength;if(oe.isURLSearchParams(x)&&(x=x+""),oe.isString(x))return(await c(x)).byteLength},g=async(x,v)=>{const b=oe.toFiniteNumber(x.getContentLength());return b??p(v)};return async x=>{let{url:v,method:b,data:w,signal:S,cancelToken:j,timeout:M,onDownloadProgress:C,onUploadProgress:P,responseType:A,headers:E,withCredentials:D="same-origin",fetchOptions:L}=OA(x),_=e||fetch;A=A?(A+"").toLowerCase():"text";let V=jH([S,j&&j.toAbortSignal()],M),G=null;const H=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let W;try{if(P&&u&&b!=="get"&&b!=="head"&&(W=await g(E,w))!==0){let B=new n(v,{method:"POST",body:w,duplex:"half"}),J;if(oe.isFormData(w)&&(J=B.headers.get("content-type"))&&E.setContentType(J),B.body){const[ne,se]=ek(W,sg(tk(P)));w=rk(B.body,sk,ne,se)}}oe.isString(D)||(D=D?"include":"omit");const R=i&&"credentials"in n.prototype,$={...L,signal:V,method:b.toUpperCase(),headers:E.normalize().toJSON(),body:w,duplex:"half",credentials:R?D:void 0};G=i&&new n(v,$);let z=await(i?_(G,L):_(v,$));const K=d&&(A==="stream"||A==="response");if(d&&(C||K&&H)){const B={};["status","statusText","headers"].forEach(me=>{B[me]=z[me]});const J=oe.toFiniteNumber(z.headers.get("content-length")),[ne,se]=C&&ek(J,sg(tk(C),!0))||[];z=new r(rk(z.body,sk,ne,()=>{se&&se(),H&&H()}),B)}A=A||"text";let X=await f[oe.findKey(f,A)||"text"](z,x);return!K&&H&&H(),await new Promise((B,J)=>{PA(B,J,{data:X,headers:_r.from(z.headers),status:z.status,statusText:z.statusText,config:x,request:G})})}catch(R){throw H&&H(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,x,G),{cause:R.cause||R}):nt.from(R,R&&R.code,x,G)}}},PH=new Map,_A=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,l=a,c,u,d=PH;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:MH(e)),d=u;return u};_A();const E1={http:KB,xhr:SH,fetch:{get:_A}};oe.forEach(E1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lk=t=>`- ${t}`,AH=t=>oe.isFunction(t)||t===null||t===!1,DA={getAdapter:(t,e)=>{t=oe.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!AH(r)&&(s=E1[(l=String(r)).toLowerCase()],s===void 0))throw new nt(`Unknown adapter '${l}'`);if(s&&(oe.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(lk).join(`
`):" "+lk(a[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:E1};function Mb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bu(null,t)}function ck(t){return Mb(t),t.headers=_r.from(t.headers),t.data=Eb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),DA.getAdapter(t.adapter||af.adapter,t)(t).then(function(r){return Mb(t),r.data=Eb.call(t,t.transformResponse,r),r.headers=_r.from(r.headers),r},function(r){return MA(r)||(Mb(t),r&&r.response&&(r.response.data=Eb.call(t,t.transformResponse,r.response),r.response.headers=_r.from(r.response.headers))),Promise.reject(r)})}const IA="1.12.2",$0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const uk={};$0.transitional=function(e,n,r){function s(i,a){return"[Axios v"+IA+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new nt(s(a," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!uk[a]&&(uk[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};$0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function OH(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new nt("option "+i+" must be "+c,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+i,nt.ERR_BAD_OPTION)}}const Ep={assertOptions:OH,validators:$0},Ys=Ep.validators;let fl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new J3,response:new J3}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Cl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ep.assertOptions(r,{silentJSONParsing:Ys.transitional(Ys.boolean),forcedJSONParsing:Ys.transitional(Ys.boolean),clarifyTimeoutError:Ys.transitional(Ys.boolean)},!1),s!=null&&(oe.isFunction(s)?n.paramsSerializer={serialize:s}:Ep.assertOptions(s,{encode:Ys.function,serialize:Ys.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ep.assertOptions(n,{baseUrl:Ys.spelling("baseURL"),withXsrfToken:Ys.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&oe.merge(i.common,i[n.method]);i&&oe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=_r.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!c){const x=[ck.bind(this),void 0];for(x.unshift(...l),x.push(...u),p=x.length,d=Promise.resolve(n);f<p;)d=d.then(x[f++],x[f++]);return d}p=l.length;let g=n;for(;f<p;){const x=l[f++],v=l[f++];try{g=x(g)}catch(b){v.call(this,b);break}}try{d=ck.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Cl(this.defaults,e);const n=AA(e.baseURL,e.url,e.allowAbsoluteUrls);return kA(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){fl.prototype[e]=function(n,r){return this.request(Cl(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(Cl(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}fl.prototype[e]=n(),fl.prototype[e+"Form"]=n(!0)});let _H=class LA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new bu(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new LA(function(s){e=s}),cancel:e}}};function DH(t){return function(n){return t.apply(null,n)}}function IH(t){return oe.isObject(t)&&t.isAxiosError===!0}const M1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(M1).forEach(([t,e])=>{M1[e]=t});function RA(t){const e=new fl(t),n=mA(fl.prototype.request,e);return oe.extend(n,fl.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return RA(Cl(t,s))},n}const an=RA(af);an.Axios=fl;an.CanceledError=bu;an.CancelToken=_H;an.isCancel=MA;an.VERSION=IA;an.toFormData=z0;an.AxiosError=nt;an.Cancel=an.CanceledError;an.all=function(e){return Promise.all(e)};an.spread=DH;an.isAxiosError=IH;an.mergeConfig=Cl;an.AxiosHeaders=_r;an.formToJSON=t=>EA(oe.isHTMLForm(t)?new FormData(t):t);an.getAdapter=DA.getAdapter;an.HttpStatusCode=M1;an.default=an;const{Axios:e2e,AxiosError:LH,CanceledError:t2e,isCancel:n2e,CancelToken:r2e,VERSION:s2e,all:i2e,Cancel:a2e,isAxiosError:o2e,spread:l2e,toFormData:c2e,AxiosHeaders:u2e,HttpStatusCode:d2e,formToJSON:h2e,getAdapter:f2e,mergeConfig:m2e}=an,xe=an.create({baseURL:"http://localhost:8080",timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});xe.interceptors.response.use(t=>t.data,async t=>{const e=t.response?.status;if(!t.response)return Promise.reject({message:"Khng th kt ni n server. Vui lng kim tra mng!",code:"NETWORK_ERROR"});if(e===403)return Promise.reject({message:"Bn khng c quyn thc hin hnh ng ny",code:"FORBIDDEN",status:e});if(e>=500)return Promise.reject({message:"Li my ch. Vui lng th li sau!",code:"SERVER_ERROR",status:e});const n=t.response?.data?.message||t.message||" c li xy ra";return Promise.reject({message:typeof n=="string"?n:n[0]||"Li khng xc nh",code:t.response?.data?.error||"BAD_REQUEST",status:e,data:t.response?.data})});var of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},RH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},FH=class{#e=RH;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},rl=new FH;function VH(t){setTimeout(t,0)}var kl=typeof window>"u"||"Deno"in globalThis;function Tr(){}function zH(t,e){return typeof t=="function"?t(e):t}function P1(t){return typeof t=="number"&&t>=0&&t!==1/0}function FA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ja(t,e){return typeof t=="function"?t(e):t}function hs(t,e){return typeof t=="function"?t(e):t}function dk(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Hw(a,e.options))return!1}else if(!yh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function hk(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(xh(e.options.mutationKey)!==xh(i))return!1}else if(!yh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Hw(t,e){return(e?.queryKeyHashFn||xh)(t)}function xh(t){return JSON.stringify(t,(e,n)=>O1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function yh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>yh(t[n],e[n])):!1}var $H=Object.prototype.hasOwnProperty;function VA(t,e){if(t===e)return t;const n=fk(t)&&fk(e);if(!n&&!(O1(t)&&O1(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u],f=t[d],p=e[d];if(f===p){l[d]=f,(n?u<s:$H.call(t,d))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[d]=p;continue}const g=VA(f,p);l[d]=g,g===f&&c++}return s===a&&c===s?t:l}function A1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function O1(t){if(!mk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!mk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mk(t){return Object.prototype.toString.call(t)==="[object Object]"}function BH(t){return new Promise(e=>{rl.setTimeout(e,t)})}function _1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?VA(t,e):e}function HH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function UH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Uw=Symbol();function zA(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Uw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function WH(t,e){return typeof t=="function"?t(...e):!!t}var qH=class extends of{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!kl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ww=new qH;function D1(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var KH=VH;function GH(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=KH;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Fn=GH(),YH=class extends of{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!kl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},ig=new YH;function XH(t){return Math.min(1e3*2**t,3e4)}function $A(t){return(t??"online")==="online"?ig.isOnline():!0}var I1=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function BA(t){let e=!1,n=0,r;const s=D1(),i=()=>s.status!=="pending",a=v=>{if(!i()){const b=new I1(v);p(b),t.onCancel?.(b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>Ww.isFocused()&&(t.networkMode==="always"||ig.isOnline())&&t.canRun(),d=()=>$A(t.networkMode)&&t.canRun(),f=v=>{i()||(r?.(),s.resolve(v))},p=v=>{i()||(r?.(),s.reject(v))},g=()=>new Promise(v=>{r=b=>{(i()||u())&&v(b)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{if(i())return;const S=t.retry??(kl?0:3),j=t.retryDelay??XH,M=typeof j=="function"?j(n,w):j,C=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,w);if(e||!C){p(w);return}n++,t.onFail?.(n,w),BH(M).then(()=>u()?void 0:g()).then(()=>{e?p(w):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),s)}}var HA=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P1(this.gcTime)&&(this.#e=rl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(rl.clearTimeout(this.#e),this.#e=void 0)}},QH=class extends HA{#e;#t;#n;#s;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=pk(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=pk(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=_1(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>hs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ja(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!FA(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const l=zA(this.options,e),u=(()=>{const d={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#a=!1,this.options.persister?this.options.persister(l,u,this):l(u)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=BA({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof I1&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof I1){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UA(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Fn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function UA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$A(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var JH=class extends of{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=D1(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),gk(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L1(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L1(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),e._defaulted&&!A1(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&xk(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||hs(this.options.enabled,this.#t)!==hs(e.enabled,this.#t)||Ja(this.options.staleTime,this.#t)!==Ja(e.staleTime,this.#t))&&this.#g();const s=this.#x();r&&(this.#t!==n||hs(this.options.enabled,this.#t)!==hs(e.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return eU(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#N();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Tr)),e}#g(){this.#v();const t=Ja(this.options.staleTime,this.#t);if(kl||this.#s.isStale||!P1(t))return;const n=FA(this.#s.dataUpdatedAt,t)+1;this.#c=rl.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(kl||hs(this.options.enabled,this.#t)===!1||!P1(this.#l)||this.#l===0)&&(this.#u=rl.setInterval(()=>{(this.options.refetchIntervalInBackground||Ww.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#x())}#v(){this.#c&&(rl.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(rl.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#s,i=this.#r,a=this.#o,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,p;if(e._optimisticResults){const E=this.hasListeners(),D=!E&&gk(t,e),L=E&&xk(t,n,e,r);(D||L)&&(d={...d,...UA(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=d;p=d.data;let b=!1;if(e.placeholderData!==void 0&&p===void 0&&v==="pending"){let E;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(E=s.data,b=!0):E=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,E!==void 0&&(v="success",p=_1(s?.data,E,e),f=!0)}if(e.select&&p!==void 0&&!b)if(s&&p===i?.data&&e.select===this.#p)p=this.#h;else try{this.#p=e.select,p=e.select(p),p=_1(s?.data,p,e),this.#h=p,this.#i=null}catch(E){this.#i=E}this.#i&&(g=this.#i,p=this.#h,x=Date.now(),v="error");const w=d.fetchStatus==="fetching",S=v==="pending",j=v==="error",M=S&&w,C=p!==void 0,A={status:v,fetchStatus:d.fetchStatus,isPending:S,isSuccess:v==="success",isError:j,isInitialLoading:M,isLoading:M,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:j&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&C,isStale:qw(t,e),refetch:this.refetch,promise:this.#a,isEnabled:hs(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=_=>{A.status==="error"?_.reject(A.error):A.data!==void 0&&_.resolve(A.data)},D=()=>{const _=this.#a=A.promise=D1();E(_)},L=this.#a;switch(L.status){case"pending":t.queryHash===n.queryHash&&E(L);break;case"fulfilled":(A.status==="error"||A.data!==L.value)&&D();break;case"rejected":(A.status!=="error"||A.error!==L.reason)&&D();break}}return A}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),A1(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(a=>{const l=a;return this.#s[l]!==t[l]&&i.has(l)})};this.#S({listeners:n()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Fn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ZH(t,e){return hs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function gk(t,e){return ZH(t,e)||t.state.data!==void 0&&L1(t,e,e.refetchOnMount)}function L1(t,e,n){if(hs(e.enabled,t)!==!1&&Ja(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qw(t,e)}return!1}function xk(t,e,n,r){return(t!==e||hs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qw(t,n)}function qw(t,e){return hs(e.enabled,t)!==!1&&t.isStaleByTime(Ja(e.staleTime,t))}function eU(t,e){return!A1(t.getCurrentResult(),e)}function yk(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=zA(e.options,e.fetchOptions),g=async(x,v,b)=>{if(d)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const S=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:v,direction:b?"backward":"forward",meta:e.options.meta};return f(P),P})(),j=await p(S),{maxPages:M}=e.options,C=b?UH:HH;return{pages:C(x.pages,j,M),pageParams:C(x.pageParams,v,M)}};if(s&&i.length){const x=s==="backward",v=x?tU:bk,b={pages:i,pageParams:a},w=v(r,b);l=await g(b,w,x)}else{const x=t??i.length;do{const v=c===0?a[0]??r.initialPageParam:bk(r,l);if(c>0&&v==null)break;l=await g(l,v),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function bk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function tU(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var nU=class extends HA{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||rU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=BA({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Fn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function rU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sU=class extends of{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new nU({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=_m(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=_m(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=_m(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=_m(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>hk(e,n))}findAll(t={}){return this.getAll().filter(e=>hk(t,e))}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Fn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Tr))))}};function _m(t){return t.options.scope?.id}var iU=class extends of{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Hw(r,e);let i=this.get(s);return i||(i=new QH({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>dk(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>dk(t,n)):e}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},aU=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new iU,this.#t=t.mutationCache||new sU,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Ww.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=ig.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ja(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=zH(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Fn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Fn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Fn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Fn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Tr).catch(Tr)}invalidateQueries(t,e={}){return Fn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Fn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Ja(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tr).catch(Tr)}fetchInfiniteQuery(t){return t.behavior=yk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tr).catch(Tr)}ensureInfiniteQueryData(t){return t.behavior=yk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ig.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(xh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{yh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(xh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{yh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Uw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},WA=T.createContext(void 0),xo=t=>{const e=T.useContext(WA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},oU=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(WA.Provider,{value:t,children:e})),qA=T.createContext(!1),lU=()=>T.useContext(qA);qA.Provider;function cU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var uU=T.createContext(cU()),dU=()=>T.useContext(uU),hU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},fU=t=>{T.useEffect(()=>{t.clearReset()},[t])},mU=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||WH(n,[t.error,r])),pU=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},gU=(t,e)=>t.isLoading&&t.isFetching&&!e,xU=(t,e)=>t?.suspense&&e.isPending,vk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function yU(t,e,n){const r=lU(),s=dU(),i=xo(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",pU(a),hU(a,s),fU(s);const l=!i.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(i,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(f=>{const p=d?c.subscribe(Fn.batchCalls(f)):Tr;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),xU(a,u))throw vk(a,c,s);if(mU({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!kl&&gU(u,r)&&(l?vk(a,c,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(Tr).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?u:c.trackResult(u)}function Fe(t,e){return yU(t,JH)}const bU=async()=>{try{const t=await xe.get("/api/v1/auth/me");return t?.user?t.user:null}catch(t){if(t?.response?.status===401)return null;throw t}},Ct=()=>{const t=xo(),{data:e,isLoading:n,refetch:r}=Fe({queryKey:["user"],queryFn:bU,staleTime:300*1e3,retry:(l,c)=>c.status!==401,refetchOnWindowFocus:!1,refetchOnMount:!1});return{user:e,loading:n,refreshUser:async()=>(await t.invalidateQueries({queryKey:["user"]}),await r()),clearUser:()=>{t.setQueryData(["user"],null)},setUser:l=>{t.setQueryData(["user"],l)}}},KA=T.createContext(null);function vU({children:t}){const{refreshUser:e,clearUser:n}=Ct(),r=async(a,l,c)=>{let u="/api/v1/auth/login";(a===le.UserRole.ADMIN||a===le.UserRole.STAFF)&&(u="/api/v1/auth/admin/login");try{const d=await xe.post(u,{email:l,password:c});if(d.status)await e();else throw new Error(d.message||"ng nhp tht bi")}catch(d){throw d}},s=async a=>{try{const l=await xe.post("/api/v1/auth/register",a);if(l.status)await e();else throw new Error(l.message||"ng k tht bi!")}catch(l){throw console.log(l),l.response.data}},i=async()=>{try{await xe.get("/api/v1/auth/logout"),sessionStorage.removeItem("checkoutData"),n(),await e()}catch(a){console.error("Logout error:",a)}};return o.jsx(KA.Provider,{value:{login:r,logout:i,register:s},children:t})}const vu=()=>{const t=T.useContext(KA);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function R1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wU(t){if(Array.isArray(t))return t}function NU(t){if(Array.isArray(t))return R1(t)}function SU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GA(r.key),r)}}function CU(t,e,n){return e&&jU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mp(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Kw(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function st(t,e,n){return(e=GA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function EU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){st(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0(t,e){return wU(t)||TU(t,e)||Kw(t,e)||EU()}function Rs(t){return NU(t)||kU(t)||Kw(t)||MU()}function PU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GA(t){var e=PU(t,"string");return typeof e=="symbol"?e:e+""}function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function Kw(t,e){if(t){if(typeof t=="string")return R1(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R1(t,e):void 0}}var Nk=function(){},Gw={},YA={},XA=null,QA={mark:Nk,measure:Nk};try{typeof window<"u"&&(Gw=window),typeof document<"u"&&(YA=document),typeof MutationObserver<"u"&&(XA=MutationObserver),typeof performance<"u"&&(QA=performance)}catch{}var AU=Gw.navigator||{},Sk=AU.userAgent,jk=Sk===void 0?"":Sk,ao=Gw,Dt=YA,Ck=XA,Dm=QA;ao.document;var da=!!Dt.documentElement&&!!Dt.head&&typeof Dt.addEventListener=="function"&&typeof Dt.createElement=="function",JA=~jk.indexOf("MSIE")||~jk.indexOf("Trident/"),Pb,OU=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,_U=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,ZA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},DU={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},eO=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],Bn="classic",lf="duotone",tO="sharp",nO="sharp-duotone",rO="chisel",sO="etch",iO="jelly",aO="jelly-duo",oO="jelly-fill",lO="notdog",cO="notdog-duo",uO="slab",dO="slab-press",hO="thumbprint",fO="utility",mO="utility-duo",pO="utility-fill",gO="whiteboard",IU="Classic",LU="Duotone",RU="Sharp",FU="Sharp Duotone",VU="Chisel",zU="Etch",$U="Jelly",BU="Jelly Duo",HU="Jelly Fill",UU="Notdog",WU="Notdog Duo",qU="Slab",KU="Slab Press",GU="Thumbprint",YU="Utility",XU="Utility Duo",QU="Utility Fill",JU="Whiteboard",xO=[Bn,lf,tO,nO,rO,sO,iO,aO,oO,lO,cO,uO,dO,hO,fO,mO,pO,gO];Pb={},st(st(st(st(st(st(st(st(st(st(Pb,Bn,IU),lf,LU),tO,RU),nO,FU),rO,VU),sO,zU),iO,$U),aO,BU),oO,HU),lO,UU),st(st(st(st(st(st(st(st(Pb,cO,WU),uO,qU),dO,KU),hO,GU),fO,YU),mO,XU),pO,QU),gO,JU);var ZU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},eW={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},tW=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),nW={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},yO=["fak","fa-kit","fakd","fa-kit-duotone"],kk={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},rW=["kit"],sW="kit",iW="kit-duotone",aW="Kit",oW="Kit Duotone";st(st({},sW,aW),iW,oW);var lW={kit:{"fa-kit":"fak"}},cW={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},uW={kit:{fak:"fa-kit"}},Tk={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ab,Im={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},dW=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],hW="classic",fW="duotone",mW="sharp",pW="sharp-duotone",gW="chisel",xW="etch",yW="jelly",bW="jelly-duo",vW="jelly-fill",wW="notdog",NW="notdog-duo",SW="slab",jW="slab-press",CW="thumbprint",kW="utility",TW="utility-duo",EW="utility-fill",MW="whiteboard",PW="Classic",AW="Duotone",OW="Sharp",_W="Sharp Duotone",DW="Chisel",IW="Etch",LW="Jelly",RW="Jelly Duo",FW="Jelly Fill",VW="Notdog",zW="Notdog Duo",$W="Slab",BW="Slab Press",HW="Thumbprint",UW="Utility",WW="Utility Duo",qW="Utility Fill",KW="Whiteboard";Ab={},st(st(st(st(st(st(st(st(st(st(Ab,hW,PW),fW,AW),mW,OW),pW,_W),gW,DW),xW,IW),yW,LW),bW,RW),vW,FW),wW,VW),st(st(st(st(st(st(st(st(Ab,NW,zW),SW,$W),jW,BW),CW,HW),kW,UW),TW,WW),EW,qW),MW,KW);var GW="kit",YW="kit-duotone",XW="Kit",QW="Kit Duotone";st(st({},GW,XW),YW,QW);var JW={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},ZW={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},F1={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},eq=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],bO=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(dW,eq),tq=["solid","regular","light","thin","duotone","brands","semibold"],vO=[1,2,3,4,5,6,7,8,9,10],nq=vO.concat([11,12,13,14,15,16,17,18,19,20]),rq=["aw","fw","pull-left","pull-right"],sq=[].concat(Rs(Object.keys(ZW)),tq,rq,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Im.GROUP,Im.SWAP_OPACITY,Im.PRIMARY,Im.SECONDARY]).concat(vO.map(function(t){return"".concat(t,"x")})).concat(nq.map(function(t){return"w-".concat(t)})),iq={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},ra="___FONT_AWESOME___",V1=16,wO="fa",NO="svg-inline--fa",Tl="data-fa-i2svg",z1="data-fa-pseudo-element",aq="data-fa-pseudo-element-pending",Yw="data-prefix",Xw="data-icon",Ek="fontawesome-i2svg",oq="async",lq=["HTML","HEAD","STYLE","SCRIPT"],SO=["::before","::after",":before",":after"],jO=(function(){try{return!0}catch{return!1}})();function cf(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Bn]}})}var CO=Ne({},ZA);CO[Bn]=Ne(Ne(Ne(Ne({},{"fa-duotone":"duotone"}),ZA[Bn]),kk.kit),kk["kit-duotone"]);var cq=cf(CO),$1=Ne({},nW);$1[Bn]=Ne(Ne(Ne(Ne({},{duotone:"fad"}),$1[Bn]),Tk.kit),Tk["kit-duotone"]);var Mk=cf($1),B1=Ne({},F1);B1[Bn]=Ne(Ne({},B1[Bn]),uW.kit);var Qw=cf(B1),H1=Ne({},JW);H1[Bn]=Ne(Ne({},H1[Bn]),lW.kit);cf(H1);var uq=OU,kO="fa-layers-text",dq=_U,hq=Ne({},ZU);cf(hq);var fq=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ob=DU,mq=[].concat(Rs(rW),Rs(sq)),Ud=ao.FontAwesomeConfig||{};function pq(t){var e=Dt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function gq(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Dt&&typeof Dt.querySelector=="function"){var xq=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];xq.forEach(function(t){var e=B0(t,2),n=e[0],r=e[1],s=gq(pq(n));s!=null&&(Ud[r]=s)})}var TO={styleDefault:"solid",familyDefault:Bn,cssPrefix:wO,replacementClass:NO,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ud.familyPrefix&&(Ud.cssPrefix=Ud.familyPrefix);var eu=Ne(Ne({},TO),Ud);eu.autoReplaceSvg||(eu.observeMutations=!1);var He={};Object.keys(TO).forEach(function(t){Object.defineProperty(He,t,{enumerable:!0,set:function(n){eu[t]=n,Wd.forEach(function(r){return r(He)})},get:function(){return eu[t]}})});Object.defineProperty(He,"familyPrefix",{enumerable:!0,set:function(e){eu.cssPrefix=e,Wd.forEach(function(n){return n(He)})},get:function(){return eu.cssPrefix}});ao.FontAwesomeConfig=He;var Wd=[];function yq(t){return Wd.push(t),function(){Wd.splice(Wd.indexOf(t),1)}}var wc=V1,ii={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function bq(t){if(!(!t||!da)){var e=Dt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Dt.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return Dt.head.insertBefore(e,r),t}}var vq="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Pk(){for(var t=12,e="";t-- >0;)e+=vq[Math.random()*62|0];return e}function wu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Jw(t){return t.classList?wu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function EO(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wq(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(EO(t[n]),'" ')},"").trim()}function H0(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Zw(t){return t.size!==ii.size||t.x!==ii.x||t.y!==ii.y||t.rotate!==ii.rotate||t.flipX||t.flipY}function Nq(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(i," ").concat(a," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function Sq(t){var e=t.transform,n=t.width,r=n===void 0?V1:n,s=t.height,i=s===void 0?V1:s,a="";return JA?a+="translate(".concat(e.x/wc-r/2,"em, ").concat(e.y/wc-i/2,"em) "):a+="translate(calc(-50% + ".concat(e.x/wc,"em), calc(-50% + ").concat(e.y/wc,"em)) "),a+="scale(".concat(e.size/wc*(e.flipX?-1:1),", ").concat(e.size/wc*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var jq=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function MO(){var t=wO,e=NO,n=He.cssPrefix,r=He.replacementClass,s=jq;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(l,".".concat(r))}return s}var Ak=!1;function _b(){He.autoAddCss&&!Ak&&(bq(MO()),Ak=!0)}var Cq={mixout:function(){return{dom:{css:MO,insertCss:_b}}},hooks:function(){return{beforeDOMElementCreation:function(){_b()},beforeI2svg:function(){_b()}}}},sa=ao||{};sa[ra]||(sa[ra]={});sa[ra].styles||(sa[ra].styles={});sa[ra].hooks||(sa[ra].hooks={});sa[ra].shims||(sa[ra].shims=[]);var Ds=sa[ra],PO=[],AO=function(){Dt.removeEventListener("DOMContentLoaded",AO),og=1,PO.map(function(e){return e()})},og=!1;da&&(og=(Dt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Dt.readyState),og||Dt.addEventListener("DOMContentLoaded",AO));function kq(t){da&&(og?setTimeout(t,0):PO.push(t))}function uf(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?EO(t):"<".concat(e," ").concat(wq(r),">").concat(i.map(uf).join(""),"</").concat(e,">")}function Ok(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Db=function(e,n,r,s){var i=Object.keys(e),a=i.length,l=n,c,u,d;for(r===void 0?(c=1,d=e[i[0]]):(c=0,d=r);c<a;c++)u=i[c],d=l(d,e[u],u,e);return d};function OO(t){return Rs(t).length!==1?null:t.codePointAt(0).toString(16)}function _k(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function U1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=_k(e);typeof Ds.hooks.addPack=="function"&&!s?Ds.hooks.addPack(t,_k(e)):Ds.styles[t]=Ne(Ne({},Ds.styles[t]||{}),i),t==="fas"&&U1("fa",e)}var bh=Ds.styles,Tq=Ds.shims,_O=Object.keys(Qw),Eq=_O.reduce(function(t,e){return t[e]=Object.keys(Qw[e]),t},{}),eN=null,DO={},IO={},LO={},RO={},FO={};function Mq(t){return~mq.indexOf(t)}function Pq(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!Mq(s)?s:null}var VO=function(){var e=function(i){return Db(bh,function(a,l,c){return a[c]=Db(l,i,{}),a},{})};DO=e(function(s,i,a){if(i[3]&&(s[i[3]]=a),i[2]){var l=i[2].filter(function(c){return typeof c=="number"});l.forEach(function(c){s[c.toString(16)]=a})}return s}),IO=e(function(s,i,a){if(s[a]=a,i[2]){var l=i[2].filter(function(c){return typeof c=="string"});l.forEach(function(c){s[c]=a})}return s}),FO=e(function(s,i,a){var l=i[2];return s[a]=a,l.forEach(function(c){s[c]=a}),s});var n="far"in bh||He.autoFetchSvg,r=Db(Tq,function(s,i){var a=i[0],l=i[1],c=i[2];return l==="far"&&!n&&(l="fas"),typeof a=="string"&&(s.names[a]={prefix:l,iconName:c}),typeof a=="number"&&(s.unicodes[a.toString(16)]={prefix:l,iconName:c}),s},{names:{},unicodes:{}});LO=r.names,RO=r.unicodes,eN=U0(He.styleDefault,{family:He.familyDefault})};yq(function(t){eN=U0(t.styleDefault,{family:He.familyDefault})});VO();function tN(t,e){return(DO[t]||{})[e]}function Aq(t,e){return(IO[t]||{})[e]}function sl(t,e){return(FO[t]||{})[e]}function zO(t){return LO[t]||{prefix:null,iconName:null}}function Oq(t){var e=RO[t],n=tN("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function oo(){return eN}var $O=function(){return{prefix:null,iconName:null,rest:[]}};function _q(t){var e=Bn,n=_O.reduce(function(r,s){return r[s]="".concat(He.cssPrefix,"-").concat(s),r},{});return xO.forEach(function(r){(t.includes(n[r])||t.some(function(s){return Eq[r].includes(s)}))&&(e=r)}),e}function U0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Bn:n,s=cq[r][t];if(r===lf&&!t)return"fad";var i=Mk[r][t]||Mk[r][s],a=t in Ds.styles?t:null,l=i||a||null;return l}function Dq(t){var e=[],n=null;return t.forEach(function(r){var s=Pq(He.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function Dk(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var Ik=bO.concat(yO);function W0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=Dk(t.filter(function(g){return Ik.includes(g)})),a=Dk(t.filter(function(g){return!Ik.includes(g)})),l=i.filter(function(g){return s=g,!eO.includes(g)}),c=B0(l,1),u=c[0],d=u===void 0?null:u,f=_q(i),p=Ne(Ne({},Dq(a)),{},{prefix:U0(d,{family:f})});return Ne(Ne(Ne({},p),Fq({values:t,family:f,styles:bh,config:He,canonical:p,givenPrefix:s})),Iq(r,s,p))}function Iq(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?zO(s):{},a=sl(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!bh.far&&bh.fas&&!He.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var Lq=xO.filter(function(t){return t!==Bn||t!==lf}),Rq=Object.keys(F1).filter(function(t){return t!==Bn}).map(function(t){return Object.keys(F1[t])}).flat();function Fq(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,a=t.styles,l=a===void 0?{}:a,c=t.config,u=c===void 0?{}:c,d=n===lf,f=e.includes("fa-duotone")||e.includes("fad"),p=u.familyDefault==="duotone",g=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(f||p||g)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Lq.includes(n)){var x=Object.keys(l).find(function(b){return Rq.includes(b)});if(x||u.autoFetchSvg){var v=tW.get(n).defaultShortPrefixId;r.prefix=v,r.iconName=sl(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=oo()||"fas"),r}var Vq=(function(){function t(){SU(this,t),this.definitions={}}return CU(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var a=s.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(l){n.definitions[l]=Ne(Ne({},n.definitions[l]||{}),a[l]),U1(l,a[l]);var c=Qw[Bn][l];c&&U1(c,a[l]),VO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var a=s[i],l=a.prefix,c=a.iconName,u=a.icon,d=u[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(n[l][f]=u)}),n[l][c]=u}),n}}])})(),Lk=[],Ic={},Wc={},zq=Object.keys(Wc);function $q(t,e){var n=e.mixoutsTo;return Lk=t,Ic={},Object.keys(Wc).forEach(function(r){zq.indexOf(r)===-1&&delete Wc[r]}),Lk.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(a){typeof s[a]=="function"&&(n[a]=s[a]),ag(s[a])==="object"&&Object.keys(s[a]).forEach(function(l){n[a]||(n[a]={}),n[a][l]=s[a][l]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(a){Ic[a]||(Ic[a]=[]),Ic[a].push(i[a])})}r.provides&&r.provides(Wc)}),n}function W1(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=Ic[t]||[];return i.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function El(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=Ic[t]||[];s.forEach(function(i){i.apply(null,n)})}function lo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Wc[t]?Wc[t].apply(null,e):void 0}function q1(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||oo();if(e)return e=sl(n,e)||e,Ok(BO.definitions,n,e)||Ok(Ds.styles,n,e)}var BO=new Vq,Bq=function(){He.autoReplaceSvg=!1,He.observeMutations=!1,El("noAuto")},Hq={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return da?(El("beforeI2svg",e),lo("pseudoElements2svg",e),lo("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;He.autoReplaceSvg===!1&&(He.autoReplaceSvg=!0),He.observeMutations=!0,kq(function(){Wq({autoReplaceSvgRoot:n}),El("watch",e)})}},Uq={icon:function(e){if(e===null)return null;if(ag(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:sl(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=U0(e[0]);return{prefix:r,iconName:sl(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(He.cssPrefix,"-"))>-1||e.match(uq))){var s=W0(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||oo(),iconName:sl(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=oo();return{prefix:i,iconName:sl(i,e)||e}}}},Zr={noAuto:Bq,config:He,dom:Hq,parse:Uq,library:BO,findIconDefinition:q1,toHtml:uf},Wq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Dt:n;(Object.keys(Ds.styles).length>0||He.autoFetchSvg)&&da&&He.autoReplaceSvg&&Zr.dom.i2svg({node:r})};function q0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return uf(r)})}}),Object.defineProperty(t,"node",{get:function(){if(da){var r=Dt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function qq(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,a=t.transform;if(Zw(a)&&n.found&&!r.found){var l=n.width,c=n.height,u={x:l/c/2,y:.5};s.style=H0(Ne(Ne({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function Kq(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,a=i===!0?"".concat(e,"-").concat(He.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ne(Ne({},s),{},{id:a}),children:r}]}]}function Gq(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function nN(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,a=t.transform,l=t.symbol,c=t.maskId,u=t.extra,d=t.watchable,f=d===void 0?!1:d,p=r.found?r:n,g=p.width,x=p.height,v=[He.replacementClass,i?"".concat(He.cssPrefix,"-").concat(i):""].filter(function(C){return u.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(u.classes).join(" "),b={children:[],attributes:Ne(Ne({},u.attributes),{},{"data-prefix":s,"data-icon":i,class:v,role:u.attributes.role||"img",viewBox:"0 0 ".concat(g," ").concat(x)})};!Gq(u.attributes)&&!u.attributes["aria-hidden"]&&(b.attributes["aria-hidden"]="true"),f&&(b.attributes[Tl]="");var w=Ne(Ne({},b),{},{prefix:s,iconName:i,main:n,mask:r,maskId:c,transform:a,symbol:l,styles:Ne({},u.styles)}),S=r.found&&n.found?lo("generateAbstractMask",w)||{children:[],attributes:{}}:lo("generateAbstractIcon",w)||{children:[],attributes:{}},j=S.children,M=S.attributes;return w.children=j,w.attributes=M,l?Kq(w):qq(w)}function Rk(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,a=t.watchable,l=a===void 0?!1:a,c=Ne(Ne({},i.attributes),{},{class:i.classes.join(" ")});l&&(c[Tl]="");var u=Ne({},i.styles);Zw(s)&&(u.transform=Sq({transform:s,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=H0(u);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),f}function Yq(t){var e=t.content,n=t.extra,r=Ne(Ne({},n.attributes),{},{class:n.classes.join(" ")}),s=H0(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var Ib=Ds.styles;function K1(t){var e=t[0],n=t[1],r=t.slice(4),s=B0(r,1),i=s[0],a=null;return Array.isArray(i)?a={tag:"g",attributes:{class:"".concat(He.cssPrefix,"-").concat(Ob.GROUP)},children:[{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(Ob.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(Ob.PRIMARY),fill:"currentColor",d:i[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:a}}var Xq={found:!1,width:512,height:512};function Qq(t,e){!jO&&!He.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function G1(t,e){var n=e;return e==="fa"&&He.styleDefault!==null&&(e=oo()),new Promise(function(r,s){if(n==="fa"){var i=zO(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Ib[e]&&Ib[e][t]){var a=Ib[e][t];return r(K1(a))}Qq(t,e),r(Ne(Ne({},Xq),{},{icon:He.showMissingIcons&&t?lo("missingIconAbstract")||{}:{}}))})}var Fk=function(){},Y1=He.measurePerformance&&Dm&&Dm.mark&&Dm.measure?Dm:{mark:Fk,measure:Fk},Od='FA "7.1.0"',Jq=function(e){return Y1.mark("".concat(Od," ").concat(e," begins")),function(){return HO(e)}},HO=function(e){Y1.mark("".concat(Od," ").concat(e," ends")),Y1.measure("".concat(Od," ").concat(e),"".concat(Od," ").concat(e," begins"),"".concat(Od," ").concat(e," ends"))},rN={begin:Jq,end:HO},Pp=function(){};function Vk(t){var e=t.getAttribute?t.getAttribute(Tl):null;return typeof e=="string"}function Zq(t){var e=t.getAttribute?t.getAttribute(Yw):null,n=t.getAttribute?t.getAttribute(Xw):null;return e&&n}function eK(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(He.replacementClass)}function tK(){if(He.autoReplaceSvg===!0)return Ap.replace;var t=Ap[He.autoReplaceSvg];return t||Ap.replace}function nK(t){return Dt.createElementNS("http://www.w3.org/2000/svg",t)}function rK(t){return Dt.createElement(t)}function UO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?nK:rK:n;if(typeof t=="string")return Dt.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){s.setAttribute(a,t.attributes[a])});var i=t.children||[];return i.forEach(function(a){s.appendChild(UO(a,{ceFn:r}))}),s}function sK(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Ap={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(UO(s),n)}),n.getAttribute(Tl)===null&&He.keepOriginalSource){var r=Dt.createComment(sK(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Jw(n).indexOf(He.replacementClass))return Ap.replace(e);var s=new RegExp("".concat(He.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(l,c){return c===He.replacementClass||c.match(s)?l.toSvg.push(c):l.toNode.push(c),l},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var a=r.map(function(l){return uf(l)}).join(`
`);n.setAttribute(Tl,""),n.innerHTML=a}};function zk(t){t()}function WO(t,e){var n=typeof e=="function"?e:Pp;if(t.length===0)n();else{var r=zk;He.mutateApproach===oq&&(r=ao.requestAnimationFrame||zk),r(function(){var s=tK(),i=rN.begin("mutate");t.map(s),i(),n()})}}var sN=!1;function qO(){sN=!0}function X1(){sN=!1}var lg=null;function $k(t){if(Ck&&He.observeMutations){var e=t.treeCallback,n=e===void 0?Pp:e,r=t.nodeCallback,s=r===void 0?Pp:r,i=t.pseudoElementsCallback,a=i===void 0?Pp:i,l=t.observeMutationsRoot,c=l===void 0?Dt:l;lg=new Ck(function(u){if(!sN){var d=oo();wu(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!Vk(f.addedNodes[0])&&(He.searchPseudoElements&&a(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&He.searchPseudoElements&&a([f.target],!0),f.type==="attributes"&&Vk(f.target)&&~fq.indexOf(f.attributeName))if(f.attributeName==="class"&&Zq(f.target)){var p=W0(Jw(f.target)),g=p.prefix,x=p.iconName;f.target.setAttribute(Yw,g||d),x&&f.target.setAttribute(Xw,x)}else eK(f.target)&&s(f.target)})}}),da&&lg.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function iK(){lg&&lg.disconnect()}function aK(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),a=i[0],l=i.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),n}function oK(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=W0(Jw(t));return s.prefix||(s.prefix=oo()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=Aq(s.prefix,t.innerText)||tN(s.prefix,OO(t.innerText))),!s.iconName&&He.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function lK(t){var e=wu(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function cK(){return{iconName:null,prefix:null,transform:ii,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Bk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=oK(t),r=n.iconName,s=n.prefix,i=n.rest,a=lK(t),l=W1("parseNodeAttributes",{},t),c=e.styleParser?aK(t):[];return Ne({iconName:r,prefix:s,transform:ii,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:a}},l)}var uK=Ds.styles;function KO(t){var e=He.autoReplaceSvg==="nest"?Bk(t,{styleParser:!1}):Bk(t);return~e.extra.classes.indexOf(kO)?lo("generateLayersText",t,e):lo("generateSvgReplacementMutation",t,e)}function dK(){return[].concat(Rs(yO),Rs(bO))}function Hk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!da)return Promise.resolve();var n=Dt.documentElement.classList,r=function(f){return n.add("".concat(Ek,"-").concat(f))},s=function(f){return n.remove("".concat(Ek,"-").concat(f))},i=He.autoFetchSvg?dK():eO.concat(Object.keys(uK));i.includes("fa")||i.push("fa");var a=[".".concat(kO,":not([").concat(Tl,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Tl,"])")})).join(", ");if(a.length===0)return Promise.resolve();var l=[];try{l=wu(t.querySelectorAll(a))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();var c=rN.begin("onTree"),u=l.reduce(function(d,f){try{var p=KO(f);p&&d.push(p)}catch(g){jO||g.name==="MissingIcon"&&console.error(g)}return d},[]);return new Promise(function(d,f){Promise.all(u).then(function(p){WO(p,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),c(),d()})}).catch(function(p){c(),f(p)})})}function hK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;KO(t).then(function(n){n&&WO([n],e)})}function fK(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:q1(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:q1(s||{})),t(r,Ne(Ne({},n),{},{mask:s}))}}var mK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?ii:r,i=n.symbol,a=i===void 0?!1:i,l=n.mask,c=l===void 0?null:l,u=n.maskId,d=u===void 0?null:u,f=n.classes,p=f===void 0?[]:f,g=n.attributes,x=g===void 0?{}:g,v=n.styles,b=v===void 0?{}:v;if(e){var w=e.prefix,S=e.iconName,j=e.icon;return q0(Ne({type:"icon"},e),function(){return El("beforeDOMElementCreation",{iconDefinition:e,params:n}),nN({icons:{main:K1(j),mask:c?K1(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:S,transform:Ne(Ne({},ii),s),symbol:a,maskId:d,extra:{attributes:x,styles:b,classes:p}})})}},pK={mixout:function(){return{icon:fK(mK)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Hk,n.nodeCallback=hK,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?Dt:r,i=n.callback,a=i===void 0?function(){}:i;return Hk(s,a)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,a=r.transform,l=r.symbol,c=r.mask,u=r.maskId,d=r.extra;return new Promise(function(f,p){Promise.all([G1(s,i),c.iconName?G1(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var x=B0(g,2),v=x[0],b=x[1];f([n,nN({icons:{main:v,mask:b},prefix:i,iconName:s,transform:a,symbol:l,maskId:u,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.transform,l=n.styles,c=H0(l);c.length>0&&(s.style=c);var u;return Zw(a)&&(u=lo("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:s}}}},gK={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return q0({type:"layer"},function(){El("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(l){Array.isArray(l)?l.map(function(c){a=a.concat(c.abstract)}):a=a.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(He.cssPrefix,"-layers")].concat(Rs(i)).join(" ")},children:a}]})}}}},xK={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,a=r.attributes,l=a===void 0?{}:a,c=r.styles,u=c===void 0?{}:c;return q0({type:"counter",content:n},function(){return El("beforeDOMElementCreation",{content:n,params:r}),Yq({content:n.toString(),extra:{attributes:l,styles:u,classes:["".concat(He.cssPrefix,"-layers-counter")].concat(Rs(i))}})})}}}},yK={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?ii:s,a=r.classes,l=a===void 0?[]:a,c=r.attributes,u=c===void 0?{}:c,d=r.styles,f=d===void 0?{}:d;return q0({type:"text",content:n},function(){return El("beforeDOMElementCreation",{content:n,params:r}),Rk({content:n,transform:Ne(Ne({},ii),i),extra:{attributes:u,styles:f,classes:["".concat(He.cssPrefix,"-layers-text")].concat(Rs(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,a=null,l=null;if(JA){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Promise.resolve([n,Rk({content:n.innerHTML,width:a,height:l,transform:s,extra:i,watchable:!0})])}}},GO=new RegExp('"',"ug"),Uk=[1105920,1112319],Wk=Ne(Ne(Ne(Ne({},{FontAwesome:{normal:"fas",400:"fas"}}),eW),iq),cW),Q1=Object.keys(Wk).reduce(function(t,e){return t[e.toLowerCase()]=Wk[e],t},{}),bK=Object.keys(Q1).reduce(function(t,e){var n=Q1[e];return t[e]=n[900]||Rs(Object.entries(n))[0][1],t},{});function vK(t){var e=t.replace(GO,"");return OO(Rs(e)[0]||"")}function wK(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(GO,""),s=r.codePointAt(0),i=s>=Uk[0]&&s<=Uk[1],a=r.length===2?r[0]===r[1]:!1;return i||a||e}function NK(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(Q1[n]||{})[s]||bK[n]}function qk(t,e){var n="".concat(aq).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=wu(t.children),a=i.filter(function(P){return P.getAttribute(z1)===e})[0],l=ao.getComputedStyle(t,e),c=l.getPropertyValue("font-family"),u=c.match(dq),d=l.getPropertyValue("font-weight"),f=l.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&f!=="none"&&f!==""){var p=l.getPropertyValue("content"),g=NK(c,d),x=vK(p),v=u[0].startsWith("FontAwesome"),b=wK(l),w=tN(g,x),S=w;if(v){var j=Oq(x);j.iconName&&j.prefix&&(w=j.iconName,g=j.prefix)}if(w&&!b&&(!a||a.getAttribute(Yw)!==g||a.getAttribute(Xw)!==S)){t.setAttribute(n,S),a&&t.removeChild(a);var M=cK(),C=M.extra;C.attributes[z1]=e,G1(w,g).then(function(P){var A=nN(Ne(Ne({},M),{},{icons:{main:P,mask:$O()},prefix:g,iconName:S,extra:C,watchable:!0})),E=Dt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(E,t.firstChild):t.appendChild(E),E.outerHTML=A.map(function(D){return uf(D)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function SK(t){return Promise.all([qk(t,"::before"),qk(t,"::after")])}function jK(t){return t.parentNode!==document.head&&!~lq.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(z1)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var CK=function(e){return!!e&&SO.some(function(n){return e.includes(n)})},kK=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(c){return c.trim()});r=r.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(u){return u.trim()})});var s=Mp(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(CK(a)){var l=SO.reduce(function(c,u){return c.replace(u,"")},a);l!==""&&l!=="*"&&n.add(l)}}}catch(c){s.e(c)}finally{s.f()}return n};function Kk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(da){var n;if(e)n=t;else if(He.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=Mp(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var l=Mp(a.cssRules),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=kK(u.selectorText),f=Mp(d),p;try{for(f.s();!(p=f.n()).done;){var g=p.value;r.add(g)}}catch(v){f.e(v)}finally{f.f()}}}catch(v){l.e(v)}finally{l.f()}}catch(v){He.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(a.href," (").concat(v.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(v){s.e(v)}finally{s.f()}if(!r.size)return;var x=Array.from(r).join(", ");try{n=t.querySelectorAll(x)}catch{}}return new Promise(function(v,b){var w=wu(n).filter(jK).map(SK),S=rN.begin("searchPseudoElements");qO(),Promise.all(w).then(function(){S(),X1(),v()}).catch(function(){S(),X1(),b()})})}}var TK={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Kk,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?Dt:r;He.searchPseudoElements&&Kk(s)}}},Gk=!1,EK={mixout:function(){return{dom:{unwatch:function(){qO(),Gk=!0}}}},hooks:function(){return{bootstrap:function(){$k(W1("mutationObserverCallbacks",{}))},noAuto:function(){iK()},watch:function(n){var r=n.observeMutationsRoot;Gk?X1():$k(W1("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},Yk=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),a=i[0],l=i.slice(1).join("-");if(a&&l==="h")return r.flipX=!0,r;if(a&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(a){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},MK={mixout:function(){return{parse:{transform:function(n){return Yk(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=Yk(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,a=n.iconWidth,l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),f={transform:"".concat(c," ").concat(u," ").concat(d)},p={transform:"translate(".concat(a/2*-1," -256)")},g={outer:l,inner:f,path:p};return{tag:"g",attributes:Ne({},g.outer),children:[{tag:"g",attributes:Ne({},g.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ne(Ne({},r.icon.attributes),g.path)}]}]}}}},Lb={x:0,y:0,width:"100%",height:"100%"};function Xk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function PK(t){return t.tag==="g"?t.children:[t]}var AK={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?W0(s.split(" ").map(function(a){return a.trim()})):$O();return i.prefix||(i.prefix=oo()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.mask,l=n.maskId,c=n.transform,u=i.width,d=i.icon,f=a.width,p=a.icon,g=Nq({transform:c,containerWidth:f,iconWidth:u}),x={tag:"rect",attributes:Ne(Ne({},Lb),{},{fill:"white"})},v=d.children?{children:d.children.map(Xk)}:{},b={tag:"g",attributes:Ne({},g.inner),children:[Xk(Ne({tag:d.tag,attributes:Ne(Ne({},d.attributes),g.path)},v))]},w={tag:"g",attributes:Ne({},g.outer),children:[b]},S="mask-".concat(l||Pk()),j="clip-".concat(l||Pk()),M={tag:"mask",attributes:Ne(Ne({},Lb),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,w]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:PK(p)},M]};return r.push(C,{tag:"rect",attributes:Ne({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(S,")")},Lb)}),{children:r,attributes:s}}}},OK={provides:function(e){var n=!1;ao.matchMedia&&(n=ao.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Ne(Ne({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=Ne(Ne({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Ne(Ne({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:Ne(Ne({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ne(Ne({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:Ne(Ne({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ne(Ne({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Ne(Ne({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ne(Ne({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},_K={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},DK=[Cq,pK,gK,xK,yK,TK,EK,MK,AK,OK,_K];$q(DK,{mixoutsTo:Zr});Zr.noAuto;var vh=Zr.config;Zr.library;Zr.dom;var YO=Zr.parse;Zr.findIconDefinition;Zr.toHtml;var IK=Zr.icon;Zr.layer;Zr.text;Zr.counter;function LK(t){return t=t-0,t===t}function XO(t){return LK(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function RK(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Nc=new Map,FK=1e3;function VK(t){if(Nc.has(t))return Nc.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,a=t.slice(n,i).trim();if(a){const l=a.indexOf(":");if(l>0){const c=a.slice(0,l).trim(),u=a.slice(l+1).trim();if(c&&u){const d=XO(c);e[d.startsWith("webkit")?RK(d):d]=u}}}n=i+1}if(Nc.size===FK){const s=Nc.keys().next().value;s&&Nc.delete(s)}return Nc.set(t,e),e}function QO(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(u=>QO(t,u)),s=e.attributes||{},i={};for(const[u,d]of Object.entries(s))switch(!0){case u==="class":{i.className=d;break}case u==="style":{i.style=VK(String(d));break}case u.startsWith("aria-"):case u.startsWith("data-"):{i[u.toLowerCase()]=d;break}default:i[XO(u)]=d}const{style:a,"aria-label":l,...c}=n;return a&&(i.style=i.style?{...i.style,...a}:a),l&&(i["aria-label"]=l,i["aria-hidden"]="false"),t(e.tag,{...c,...i},...r)}var zK=QO.bind(null,ve.createElement),Qk=(t,e)=>{const n=T.useId();return t||(e?n:void 0)},$K=class{constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e=typeof process<"u"&&!1}catch{}this.scope=t,this.enabled=e}log(...t){this.enabled&&console.log(`[${this.scope}]`,...t)}warn(...t){this.enabled&&console.warn(`[${this.scope}]`,...t)}error(...t){this.enabled&&console.error(`[${this.scope}]`,...t)}},BK="searchPseudoElementsFullScan"in vh?"7.0.0":"6.0.0",HK=Number.parseInt(BK)>=7,qd="fa",Ei={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},UK={left:"fa-pull-left",right:"fa-pull-right"},WK={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},qK={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Mi={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function KK(t){const e=vh.cssPrefix||vh.familyPrefix||qd;return e===qd?t:t.replace(new RegExp(`(?<=^|\\s)${qd}-`,"g"),`${e}-`)}function GK(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:a,spinPulse:l,spinReverse:c,pulse:u,fixedWidth:d,inverse:f,border:p,flip:g,size:x,rotation:v,pull:b,swapOpacity:w,rotateBy:S,widthAuto:j,className:M}=t,C=[];return M&&C.push(...M.split(" ")),e&&C.push(Ei.beat),n&&C.push(Ei.fade),r&&C.push(Ei.beatFade),s&&C.push(Ei.bounce),i&&C.push(Ei.shake),a&&C.push(Ei.spin),c&&C.push(Ei.spinReverse),l&&C.push(Ei.spinPulse),u&&C.push(Ei.pulse),d&&C.push(Mi.fixedWidth),f&&C.push(Mi.inverse),p&&C.push(Mi.border),g===!0&&C.push(Mi.flip),(g==="horizontal"||g==="both")&&C.push(Mi.flipHorizontal),(g==="vertical"||g==="both")&&C.push(Mi.flipVertical),x!=null&&C.push(qK[x]),v!=null&&v!==0&&C.push(WK[v]),b!=null&&C.push(UK[b]),w&&C.push(Mi.swapOpacity),HK?(S&&C.push(Mi.rotateBy),j&&C.push(Mi.widthAuto),(vh.cssPrefix||vh.familyPrefix||qd)===qd?C:C.map(KK)):C}var YK=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function Jk(t){if(t)return YK(t)?t:YO.icon(t)}function XK(t){return Object.keys(t)}var Zk=new $K("FontAwesomeIcon"),JO={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},QK=new Set(Object.keys(JO)),F=ve.forwardRef((t,e)=>{const n={...JO,...t},{icon:r,mask:s,symbol:i,title:a,titleId:l,maskId:c,transform:u}=n,d=Qk(c,!!s),f=Qk(l,!!a),p=Jk(r);if(!p)return Zk.error("Icon lookup is undefined",r),null;const g=GK(n),x=typeof u=="string"?YO.transform(u):u,v=Jk(s),b=IK(p,{...g.length>0&&{classes:g},...x&&{transform:x},...v&&{mask:v},symbol:i,title:a,titleId:f,maskId:d});if(!b)return Zk.error("Could not find icon",p),null;const{abstract:w}=b,S={ref:e};for(const j of XK(n))QK.has(j)||(S[j]=n[j]);return zK(w[0],S)});F.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Op={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},Ml={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"]},vs={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M32 64C19.1 64 7.4 71.8 2.4 83.8S.2 109.5 9.4 118.6L192 301.3 192 416c0 8.5 3.4 16.6 9.4 22.6l64 64c9.2 9.2 22.9 11.9 34.9 6.9S320 492.9 320 480l0-178.7 182.6-182.6c9.2-9.2 11.9-22.9 6.9-34.9S492.9 64 480 64L32 64z"]},JK={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},K0={prefix:"fas",iconName:"truck",icon:[576,512,[128666,9951],"f0d1","M0 96C0 60.7 28.7 32 64 32l288 0c35.3 0 64 28.7 64 64l0 32 50.7 0c17 0 33.3 6.7 45.3 18.7L557.3 192c12 12 18.7 28.3 18.7 45.3L576 384c0 35.3-28.7 64-64 64l-3.3 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64l-102.6 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64L64 448c-35.3 0-64-28.7-64-64L0 96zM512 288l0-50.7-45.3-45.3-50.7 0 0 96 96 0zM192 424a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm232 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},ZK={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M32.5 96c0-12.9 7.8-24.6 19.8-29.6S78 64.2 87.1 73.4l160 160c12.5 12.5 12.5 32.8 0 45.3l-160 160c-9.2 9.2-22.9 11.9-34.9 6.9S32.5 428.9 32.5 416l0-320z"]},iN={prefix:"fas",iconName:"shoe-prints",icon:[576,512,[],"f54b","M296 192c-21.1-12.1-42.3-24.2-72-29.3l0-140.3C257.7 13 311.4 0 352 0 448 0 576 48 576 128s-119.6 96-176 96c-48 0-76-16-104-32zM128 32l48 0 0 128-48 0c-35.3 0-64-28.7-64-64s28.7-64 64-64zM232 320c28-16 56-32 104-32 56.4 0 176 16 176 96S384 512 288 512c-40.5 0-94.3-13-128-22.4l0-140.3c29.7-5.2 50.9-17.3 72-29.4zM64 480c-35.3 0-64-28.7-64-64s28.7-64 64-64l48 0 0 128-48 0z"]},eG={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},tG=eG,nG={prefix:"fas",iconName:"percent",icon:[448,512,[62101,62785,"percentage"],"25","M192 128a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM448 384a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM438.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-384 384c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l384-384z"]},rG={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Dr=rG,sG={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},iG=sG,aG={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},ws={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},oG={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M224 96c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c9.2 9.2 22.9 11.9 34.9 6.9S224 428.9 224 416l0-320z"]},J1={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},xi={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},ZO={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},lG={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},zs=lG,Rb={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},ia={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]},cG={prefix:"fas",iconName:"table",icon:[448,512,[],"f0ce","M256 160l0 96 128 0 0-96-128 0zm-64 0l-128 0 0 96 128 0 0-96zM0 320L0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-96zm384 0l-128 0 0 96 128 0 0-96zM192 416l0-96-128 0 0 96 128 0z"]},_p={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},e_={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},uG={prefix:"fas",iconName:"strikethrough",icon:[512,512,[],"f0cc","M96 157.5C96 88.2 152.2 32 221.5 32L368 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L221.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61l44.1 5.5 222 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l83.1 0C103 204.6 96 181.8 96 157.5zM349.2 336l65.5 0c.9 6.1 1.4 12.2 1.4 18.5 0 69.3-56.2 125.5-125.5 125.5L144 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-6.4-1-12.7-2.8-18.5z"]},dG={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},hG={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M64 64C64 28.7 92.7 0 128 0L341.5 0c17 0 33.3 6.7 45.3 18.7l42.5 42.5c12 12 18.7 28.3 18.7 45.3l0 37.5-384 0 0-80zM0 256c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 96c0 17.7-14.3 32-32 32l-32 0 0 64c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-64-32 0c-17.7 0-32-14.3-32-32l0-96zM128 416l0 32 256 0 0-96-256 0 0 64zM456 272a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},fG={prefix:"fas",iconName:"location-arrow",icon:[512,512,[],"f124","M477.9 75.5c4.5-11.8 1.7-25.2-7.2-34.1s-22.3-11.8-34.1-7.2l-416 160C7.9 199-.3 211.2 0 224.7s9.1 25.4 21.9 29.6l176.8 58.9 58.9 176.8c4.3 12.8 16.1 21.6 29.6 21.9s25.7-7.9 30.6-20.5l160-416z"]},mG={prefix:"fas",iconName:"venus-mars",icon:[640,512,[9892],"f228","M480-64c-17.7 0-32 14.3-32 32S462.3 0 480 0L530.7 0 474 56.7c-26.3-15.7-57.1-24.7-90-24.7-35.4 0-68.4 10.5-96 28.5-27.6-18-60.6-28.5-96-28.5-97.2 0-176 78.8-176 176 0 86.3 62.1 158.1 144 173.1l0 34.9-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-34.9c23.3-4.3 44.9-13.1 64-25.6 27.6 18 60.6 28.5 96 28.5 97.2 0 176-78.8 176-176 0-41.1-14.1-79-37.8-109L576 45.3 576 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L480-64zM336 309.2c20.2-28.6 32-63.5 32-101.2s-11.8-72.6-32-101.2c14.6-6.9 30.8-10.8 48-10.8 61.9 0 112 50.1 112 112S445.9 320 384 320c-17.2 0-33.5-3.9-48-10.8zM288 150.3c10.2 16.9 16 36.6 16 57.7s-5.8 40.9-16 57.7c-10.2-16.9-16-36.6-16-57.7s5.8-40.9 16-57.7zm-48-43.5c-20.2 28.6-32 63.5-32 101.2s11.8 72.6 32 101.2c-14.5 6.9-30.8 10.8-48 10.8-61.9 0-112-50.1-112-112S130.1 96 192 96c17.2 0 33.5 3.9 48 10.8z"]},pG={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l32 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l224 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM288 160c0 35.3-28.7 64-64 64l-96 0 0-128 96 0c35.3 0 64 28.7 64 64zM128 416l0-128 128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0z"]},gG={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM342 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 315.2 137 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},Fb=gG,aN={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M560.3 237.2c10.4 11.8 28.3 14.4 41.8 5.5 14.7-9.8 18.7-29.7 8.9-44.4l-48-72c-2.8-4.2-6.6-7.7-11.1-10.2L351.4 4.7c-19.3-10.7-42.8-10.7-62.2 0L88.8 116c-5.4 3-9.7 7.4-12.6 12.8L27.7 218.7c-12.6 23.4-3.8 52.5 19.6 65.1l33 17.7 0 53.3c0 23 12.4 44.3 32.4 55.7l176 99.7c19.6 11.1 43.5 11.1 63.1 0l176-99.7c20.1-11.4 32.4-32.6 32.4-55.7l0-117.5zm-240-9.8L170.2 144 320.3 60.6 470.4 144 320.3 227.4zm-41.5 50.2l-21.3 46.2-165.8-88.8 25.4-47.2 161.7 89.8z"]},xG={prefix:"fas",iconName:"image",icon:[448,512,[],"f03e","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z"]},yG={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"]},kn={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},bG={prefix:"fas",iconName:"money-bill-wave",icon:[512,512,[],"f53a","M0 419.6L0 109.5c0-23.2 24.1-38.6 46.3-32 87.7 26.2 149.7 5.5 212.1-15.3 64.5-21.5 129.4-43.1 223.3-13.1 18.5 5.9 30.3 23.8 30.3 43.3l0 310.1c0 23.2-24.1 38.6-46.2 32-87.7-26.2-149.8-5.5-212.1 15.3-64.5 21.5-129.4 43.1-223.3 13.1-18.5-5.9-30.3-23.8-30.3-43.3zM336 256c0-53-35.8-96-80-96s-80 43-80 96 35.8 96 80 96 80-43 80-96zM120 413.6c4.4 0 7.9-3.8 7.2-8.1-4.6-27.8-27-49.5-55.2-53-4.4-.5-8 3.1-8 7.5l0 39.9c0 3.6 2.4 6.8 6 7.7 17.9 4.2 34.3 6.1 50 6.1zm318.5-51.1c5 .8 9.5-3 9.5-8l0-42.6c0-4.4-3.6-8.1-8-7.5-25.2 3.1-45.9 20.9-53.2 44.6-1.4 4.7 2.3 9.1 7.2 9.2 14.2 .4 29 1.7 44.4 4.3zM448 152l0-39.9c0-3.6-2.5-6.8-6-7.7-17.9-4.2-34.3-6.1-50-6.1-4.4 0-7.9 3.8-7.2 8.1 4.6 27.8 27 49.5 55.2 53 4.4 .5 8-3.1 8-7.5zM125.2 162.9c1.4-4.7-2.3-9.1-7.2-9.2-14.2-.4-29-1.7-44.4-4.3-5-.8-9.5 3-9.5 8L64 200c0 4.4 3.6 8.1 8 7.5 25.2-3.1 45.9-20.9 53.2-44.6z"]},Nu={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},t_={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 448l384 0c35.3 0 64-28.7 64-64l0-240c0-35.3-28.7-64-64-64L298.7 80c-6.9 0-13.7-2.2-19.2-6.4L241.1 44.8C230 36.5 216.5 32 202.7 32L64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64z"]},vG={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},wG={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M80 160c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-48 0c-17.7 0-32-14.3-32-32L0 192c0-17.7 14.3-32 32-32l48 0zM270.6 16C297.9 16 320 38.1 320 65.4l0 4.2c0 6.8-1.3 13.6-3.8 19.9L288 160 448 160c26.5 0 48 21.5 48 48 0 19.7-11.9 36.6-28.9 44 17 7.4 28.9 24.3 28.9 44 0 23.4-16.8 42.9-39 47.1 4.4 7.3 7 15.8 7 24.9 0 22.2-15 40.8-35.4 46.3 2.2 5.5 3.4 11.5 3.4 17.7 0 26.5-21.5 48-48 48l-87.9 0c-36.3 0-71.6-12.4-99.9-35.1L184 435.2c-15.2-12.1-24-30.5-24-50l0-186.6c0-14.9 3.5-29.6 10.1-42.9L226.3 43.3C234.7 26.6 251.8 16 270.6 16z"]},NG={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},SG={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},_d=SG,n_={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},oN={prefix:"fas",iconName:"shirt",icon:[640,512,[128085,"t-shirt","tshirt"],"f553","M320.2 112c44.2 0 80-35.8 80-80l53.5 0c17 0 33.3 6.7 45.3 18.7L617.6 169.4c12.5 12.5 12.5 32.8 0 45.3l-50.7 50.7c-12.5 12.5-32.8 12.5-45.3 0l-41.4-41.4 0 224c0 35.3-28.7 64-64 64l-192 0c-35.3 0-64-28.7-64-64l0-224-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0L22.9 214.6c-12.5-12.5-12.5-32.8 0-45.3L141.5 50.7c12-12 28.3-18.7 45.3-18.7l53.5 0c0 44.2 35.8 80 80 80z"]},Su={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"]},e5={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M128 0C110.3 0 96 14.3 96 32l0 32-32 0C28.7 64 0 92.7 0 128l0 48 448 0 0-48c0-35.3-28.7-64-64-64l-32 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32-128 0 0-32c0-17.7-14.3-32-32-32zM0 224L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192-448 0z"]},jG={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0-133.3 320 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0 133.3-320-64 0c-17.7 0-32-14.3-32-32z"]},co={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]},cg={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]},Vb={prefix:"fas",iconName:"book-journal-whills",icon:[448,512,["journal-whills"],"f66a","M96 512l320 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-66.7c18.6-6.6 32-24.4 32-45.3l0-288c0-26.5-21.5-48-48-48L96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96zM64 416c0-17.7 14.3-32 32-32l256 0 0 64-256 0c-17.7 0-32-14.3-32-32zM274.1 99.2c2.6-2.6 6.7-3.1 9.9-1.1 32.1 20 53.4 55.6 53.4 96.2 0 62.6-50.7 113.3-113.3 113.3S110.7 256.9 110.7 194.3c0-40.6 21.4-76.2 53.4-96.2 3.1-2 7.2-1.5 9.9 1.1s3.1 6.7 1.2 9.8c-5.2 8.6-8.2 18.7-8.2 29.5 0 15.1 5.9 28.8 15.5 39.1 2.5 2.7 2.9 6.7 .9 9.7-4.7 7.4-7.4 16.1-7.4 25.5 0 21.6 14.3 39.9 34 45.9l1-24.8c-7.1-4.4-11.8-12.2-11.8-21.1 0-9.6 5.5-18 13.5-22.1l3.3-81.8c.2-4.3 3.7-7.7 8-7.7s7.8 3.4 8 7.7l3.3 81.8c8 4.1 13.5 12.4 13.5 22.1 0 8.9-4.7 16.7-11.8 21.1l1 24.8c19.6-6 33.9-24.1 34-45.6l0-.6c-.1-9.3-2.7-17.9-7.4-25.2-1.9-3.1-1.6-7.1 .9-9.7 9.6-10.2 15.5-23.9 15.5-39.1 0-10.8-3-20.9-8.2-29.5-1.9-3.2-1.4-7.2 1.2-9.8z"]},Qs={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},lN={prefix:"fas",iconName:"ticket",icon:[576,512,[127903],"f145","M64 64C28.7 64 0 92.7 0 128l0 64C0 200.8 7.4 207.7 15.7 210.6 34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6-18.8-6.5-32.3-24.4-32.3-45.4s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zM416 336l0-160-256 0 0 160 256 0zM112 160c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32l0-192z"]},CG={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M0 72C0 58.8 10.7 48 24 48l48 0c13.3 0 24 10.7 24 24l0 104 24 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-80-24 0C10.7 96 0 85.3 0 72zM30.4 301.2C41.8 292.6 55.7 288 70 288l4.9 0c33.7 0 61.1 27.4 61.1 61.1 0 19.6-9.4 37.9-25.2 49.4l-24 17.5 33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-90.7 0C13.1 464 0 450.9 0 434.7 0 425.3 4.5 416.5 12.1 411l70.5-51.3c3.4-2.5 5.4-6.4 5.4-10.6 0-7.2-5.9-13.1-13.1-13.1L70 336c-3.9 0-7.7 1.3-10.8 3.6L38.4 355.2c-10.6 8-25.6 5.8-33.6-4.8S-1 324.8 9.6 316.8l20.8-15.6zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},r_={prefix:"fas",iconName:"arrow-right",icon:[512,512,[8594],"f061","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Hn={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},mn=Hn,s_=Hn,kG={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},tu=kG,TG={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},EG={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64L0 96zm0 48l576 0 0 272c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 144zM247.3 416c20.2 0 35.3-19.4 22.4-35-14.7-17.7-36.9-29-61.7-29l-64 0c-24.8 0-47 11.3-61.7 29-12.9 15.6 2.2 35 22.4 35l142.5 0zM176 312a56 56 0 1 0 0-112 56 56 0 1 0 0 112zM360 208c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z"]},MG={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},PG={prefix:"fas",iconName:"clock-rotate-left",icon:[576,512,["history"],"f1da","M288 64c106 0 192 86 192 192S394 448 288 448c-65.2 0-122.9-32.5-157.6-82.3-10.1-14.5-30.1-18-44.6-7.9s-18 30.1-7.9 44.6C124.1 468.6 201 512 288 512 429.4 512 544 397.4 544 256S429.4 0 288 0C202.3 0 126.5 42.1 80 106.7L80 80c0-17.7-14.3-32-32-32S16 62.3 16 80l0 112c0 17.7 14.3 32 32 32l24.6 0c.5 0 1 0 1.5 0l86 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-38.3 0C154.9 102.6 217 64 288 64zm24 88c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1z"]},wh={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},AG={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},i_={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},ms={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},OG={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},cN=OG,_G={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},fi={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},DG={prefix:"fas",iconName:"underline",icon:[384,512,[],"f0cd","M0 32C0 14.3 14.3 0 32 0L96 0c17.7 0 32 14.3 32 32S113.7 64 96 64l0 160c0 53 43 96 96 96s96-43 96-96l0-160c-17.7 0-32-14.3-32-32S270.3 0 288 0l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 160c0 88.4-71.6 160-160 160S32 312.4 32 224L32 64C14.3 64 0 49.7 0 32zM0 480c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32z"]},aa={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},Xr=aa,IG={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]},Nh={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M369.4 128l-34.3-48-222.1 0-34.3 48 290.7 0zM0 148.5c0-13.3 4.2-26.3 11.9-37.2L60.9 42.8C72.9 26 92.3 16 112.9 16l222.1 0c20.7 0 40.1 10 52.1 26.8l48.9 68.5c7.8 10.9 11.9 23.9 11.9 37.2L448 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 148.5z"]},uN={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},dN={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z"]},zb={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},LG={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},$b={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M200 48l112 0c4.4 0 8 3.6 8 8l0 40-128 0 0-40c0-4.4 3.6-8 8-8zm-56 8l0 40-80 0C28.7 96 0 124.7 0 160l0 96 512 0 0-96c0-35.3-28.7-64-64-64l-80 0 0-40c0-30.9-25.1-56-56-56L200 0c-30.9 0-56 25.1-56 56zM512 304l-192 0 0 16c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-16-192 0 0 112c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-112z"]},a_={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},hN={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},Z1=hN,o_={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},RG={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M96.5 0c-35.3 0-64 28.7-64 64l0 384c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-96 78.1 0-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l72-72c9.4-9.4 9.4-24.6 0-33.9l-72-72c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-78.1 0 0-133.5c0-17-6.7-33.3-18.7-45.3L291.2 18.7C279.2 6.7 263 0 246 0L96.5 0zM358 176l-93.5 0c-13.3 0-24-10.7-24-24L240.5 58.5 358 176zM224.5 328c0-13.3 10.7-24 24-24l104 0 0 48-104 0c-13.3 0-24-10.7-24-24z"]},FG={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},VG={prefix:"fas",iconName:"cake-candles",icon:[448,512,[127874,"birthday-cake","cake"],"f1fd","M86.4-10.5L61.8 31.6C58 38.1 56 45.6 56 53.2L56 56c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L105.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zm128 0L189.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L233.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zM317.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L361.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5L317.8 31.6zM128 160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.5C26.7 226.6 0 262.2 0 304l0 20.8c20.9 1.3 41.6 7.3 60.3 18l7.1 4.1c26.3 15 58.9 13.4 83.6-4.2 43.7-31.2 102.3-31.2 146 0 24.6 17.6 57.3 19.3 83.6 4.2l7.1-4.1c18.7-10.7 39.3-16.7 60.3-18l0-20.8c0-41.8-26.7-77.4-64-90.5l0-53.5c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48zM448 373c-12.7 1.2-25.1 5-36.5 11.5l-7.1 4.1c-42.6 24.3-95.4 21.7-135.3-6.8-27-19.3-63.2-19.3-90.2 0-39.9 28.5-92.7 31.2-135.3 6.8l-7.1-4.1C25.1 378 12.7 374.1 0 373l0 75c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-75z"]},zG=VG,$G={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},BG=$G;function HG(){const[t,e]=T.useState(!1),[n,r]=T.useState({email:"",password:""}),[s,i]=T.useState(!1),[a,l]=T.useState(null),c=rt(),{login:u}=vu(),d=p=>{const{name:g,value:x}=p.target;r(v=>({...v,[g]:x}))},f=async p=>{p.preventDefault(),e(!0);try{await u(le.UserRole.ADMIN,n.email,n.password),c("/dashboard")}catch(g){g.response?.data?.message?l(g.response.data.message):g.response?.status===401?l("Email hoc mt khu khng ng!"):g.code==="ECONNABORTED"?l("Timeout! Vui lng th li."):l("C li xy ra, vui lng th li!")}finally{e(!1)}};return o.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-2xl rounded-2xl p-[2.5rem] border-t-4 border-blue-500",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white text-4xl",children:""})}),o.jsx("h2",{className:"text-[2.2rem] font-bold text-slate-800 mb-2",children:"Qun Tr Vin"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Admin & Staff Portal"}),o.jsx("div",{className:"px-4 py-3 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-[1.2rem] text-amber-700 flex items-center justify-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Khu vc hn ch - Khng chia s thng tin ng nhp"]})})]}),o.jsxs("form",{onSubmit:f,className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"admin@company.com",value:n.email,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",name:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{i(!s)},children:s?o.jsx(F,{icon:ws,className:"text-gray-600"}):o.jsx(F,{icon:uN,className:"text-gray-600"})})]})]}),a&&o.jsx("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded",children:o.jsx("p",{className:"text-sm text-red-700 font-medium",children:a})}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-semibold transition-all mt-[1.8rem] ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,type:"submit",disabled:t,children:t?"ang xc thc...":"ng nhp qun tr"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Qe,{to:"/",className:"text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Lin h IT Support"})})]})})}function yo(){return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 flex items-center justify-center bg-[#4a4a4a52] z-[999]",children:o.jsxs("div",{className:" flex justify-center items-center space-x-2 p-4",children:[o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full"}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.2s"}})]})})}function UG(){const[t,e]=T.useState(!1),[n,r]=T.useState({email:"",password:""}),[s,i]=T.useState(null),a=rt(),c=sr().state?.from||"/",{login:u}=vu(),[d,f]=T.useState(!1),[p,g]=T.useState(!1),[x,v]=T.useState(!1),b=j=>{const{name:M,value:C}=j.target;r(P=>({...P,[M]:C}))},w=async()=>{try{if(x){const j=JSON.parse(localStorage.getItem("localCart")||"[]");j.length>0&&(await xe.post("/api/v1/cart/merge",{localItems:j})).status&&(de.success(" gp gi hng ca bn!"),localStorage.removeItem("localCart"))}c==="/checkout"?a("/cart/detail",{replace:!0}):a(c,{replace:!0})}catch{de.error("Li khi gp gi hng!"),a(c,{replace:!0})}},S=async j=>{j.preventDefault(),e(!0),i(null);try{await u(le.UserRole.USER,n.email,n.password),await w()}catch(M){if(M.message?.includes(le.UserRole.ADMIN||le.UserRole.STAFF)){g(!0);return}i(M?.message||"ng nhp tht bi!")}finally{e(!1)}};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsx("button",{type:"button",className:"absolute top-4 right-4 w-16 h-16 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-500 cursor-pointer",onClick:()=>a("/"),children:o.jsx(F,{icon:mn})}),o.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng nhp"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem]",children:"Cho mng bn tr li! "})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",id:"email",placeholder:"your@email.com",value:n.email,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:b,onFocus:()=>i(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",name:"password",id:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:b,onFocus:()=>i(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(F,{icon:ws,className:"text-gray-600"}):o.jsx(F,{icon:uN,className:"text-gray-600"})})]})]}),s&&o.jsx("p",{className:"text-[1.4rem] text-red-600",children:s}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[o.jsx("label",{htmlFor:"mergeCart",children:"Gp gi hng khi ang nhp"}),o.jsx("input",{type:"checkbox",id:"mergeCart",name:"mergeCart",checked:x,className:"",style:{scale:1.2},onChange:j=>v(j.target.checked)})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:t,children:t?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng nhp"})]}),o.jsxs("div",{className:"mt-6 space-y-3 text-center ",children:[o.jsx(Qe,{to:"/",className:"block text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Qun mt khu?"}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Cha c ti khon?"," ",o.jsx(Qe,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng k ngay"})]})})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>a("/admin/login"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>g(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),t&&o.jsx(yo,{})]})}function WG(){return o.jsx("div",{children:"AboutPage"})}function qG(){return o.jsx("div",{className:"overflow-hidden",children:o.jsx(Bl,{})})}const l_="/manage-sell-client/assets/avatar-default-zyCK33tM.png";function KG(){const{user:t}=Ct(),{logout:e}=vu(),n=rt(),[r,s]=T.useState(!1),i=T.useRef(null),a=async()=>{e(),n("/")};return T.useEffect(()=>{function l(c){i.current&&!i.current.contains(c.target)&&s(!1)}return r&&window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[r]),o.jsxs("header",{className:"fixed w-full h-[6rem] bg-white backdrop-blur-md bg-opacity-95 flex items-center justify-between px-[2rem] shadow-lg border-b border-gray-200 z-[500]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("h1",{className:"text-[2.4rem] font-bold bg-gradient-to-r from-amber-600 to-amber-800 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:"h-[3rem] w-[0.2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 font-medium",children:"Admin Dashboard"})]}),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative w-[36rem] h-[4rem] border-2 border-gray-300 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-200 focus-within:border-amber-500 focus-within:shadow-lg",children:[o.jsx("input",{type:"text",placeholder:"Tm kim sn phm, n hng, khch hng...",className:"text-[1.4rem] pl-[2rem] pr-[6rem] w-full h-full outline-none border-none bg-gray-50 focus:bg-white transition-colors"}),o.jsx("button",{className:"w-[4rem] h-[4rem] absolute right-0 top-0 rounded-2xl border-none bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 transition-all duration-200 flex items-center justify-center text-white shadow-lg hover:shadow-xl",type:"submit",children:o.jsx(F,{icon:Dr,className:"text-[1.6rem]"})})]})}),o.jsxs("div",{className:"relative flex items-center gap-[2rem]",ref:i,children:[o.jsxs("button",{className:"flex items-center gap-[1.2rem] p-[0.8rem] rounded-xl transition-all duration-200 group cursor-pointer",onClick:()=>s(!r),children:[o.jsx("img",{src:t?.avatar??l_,alt:"Admin Avatar",className:"h-[4.8rem] w-[4.8rem] rounded-[50%] border border-amber-300 shadow-lg group-hover:border-amber-400 transition-all duration-200"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("div",{className:"font-bold text-[1.4rem] text-gray-800",children:t?.username}),o.jsx("div",{className:"text-[1.2rem] text-amber-600 font-medium",children:t?.role===le.UserRole.ADMIN?"Super Admin":"Manager"})]}),o.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover:text-amber-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&o.jsxs("div",{className:"absolute right-0 top-[105%] w-[18rem] bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden animate-fadeIn z-10",children:[o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-amber-50 hover:text-amber-700 transition-colors",onClick:()=>{n("/dashboard/profile"),s(!1)},children:"Trang c nhn"}),o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors",onClick:a,children:"ng xut"})]})]})]})}const Bb=[{id:1,label:"Dashboard",path:""},{id:2,label:"Sn phm",path:"products",children:[{id:21,label:"Sn phm",path:"products"},{id:22,label:"Danh mc",path:"categories"}]},{id:5,label:"n hng",path:"orders",children:[{id:23,label:"Danh sch n hng",path:"orders/list-order"}]},{id:6,label:"Nhn vin",path:"staff"},{id:7,label:"Khch hng thnh vin",path:"customers"},{id:8,label:"Khch vng lai",path:"guest-customers"},{id:9,label:"FlashSale",path:"flashsale"},{id:10,label:"Gim gi",path:"discount"},{id:11,label:"Banner",path:"banner-slide"},{id:12,label:"C nhn",path:"profile"},{id:13,label:"Ci t",path:"setting"}];function GG(){const[t,e]=T.useState(()=>{const i=sessionStorage.getItem("sidebarSelected");return i?JSON.parse(i):{id:1,subId:void 0}}),n=i=>{if(i.children){const a={id:t?.id===i.id?null:i.id};e(a),sessionStorage.setItem("sidebarSelected",JSON.stringify(a))}else{const a={id:i.id};e(a),sessionStorage.setItem("sidebarSelected",JSON.stringify(a)),r(`/dashboard/${i.path}`)}},r=rt();if(Bb.length==0)return null;const s=(i,a)=>{const l={id:i,subId:a.id};e(l),sessionStorage.setItem("sidebarSelected",JSON.stringify(l)),r(`/dashboard/${a.path}`)};return Bb.length===0?null:o.jsxs("aside",{className:"fixed top-[6rem] left-0 w-[15%] h-[calc(100vh-6rem)] bg-white shadow-xl overflow-auto hide-scrollbar border-r border-gray-200",children:[o.jsx("div",{className:"p-[2rem] border-b border-gray-100",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 px-[2rem] py-[1.2rem] rounded-xl text-center shadow-lg",children:o.jsx("h3",{className:"text-white font-bold text-[1.6rem]",children:" Admin Panel"})})}),o.jsxs("nav",{className:"p-[1.6rem]",children:[o.jsx("div",{className:"space-y-[0.8rem]",children:Bb.map((i,a)=>o.jsxs("div",{children:[o.jsx("button",{className:`w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-100 group ${t?.id===i.id?"bg-gradient-to-r from-blue-100 to-blue-50 text-amber-900 shadow-md border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"}`,onClick:()=>n(i),children:o.jsxs("div",{className:"w-full flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-[1.4rem]",children:i.label}),i?.children&&o.jsx(F,{icon:t?.id===i.id?LG:wh})]})}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${t?.id===i.id?"max-h-[20rem] pb-2":"max-h-0"}`,children:i?.children?.map(l=>o.jsx("div",{className:"pl-[1rem] pt-4",children:o.jsx("button",{onClick:()=>s(i.id,l),className:`w-full text-left text-[1.4rem] ${t.subId===l.id?"bg-gray-100 text-gray-900 shadow-sm":""} text-gray-600 px-[1rem] py-[1.2rem] rounded-lg hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm`,children:l.label},l.id)},l.id))})]},a))}),o.jsx("div",{className:"mt-[3rem] pt-[2rem] border-t border-gray-200",children:o.jsxs("button",{className:"w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-200 text-red-600 hover:bg-red-50 hover:text-red-700 group",children:[o.jsx("div",{className:"w-[3.2rem] h-[3.2rem] rounded-lg flex items-center justify-center transition-all duration-200 bg-red-100 text-red-500 group-hover:bg-red-200",children:o.jsx(F,{icon:_d,className:"text-[1.4rem]"})}),o.jsx("span",{className:"font-medium text-[1.4rem]",children:"ng xut"})]})})]})]})}function YG(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br",children:[o.jsx(KG,{}),o.jsxs("div",{className:"flex",children:[o.jsx(GG,{}),o.jsx("main",{className:"flex-1 ml-[15%] p-[2rem] mt-[6rem]",children:o.jsx(Bl,{})})]})]})}const XG=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await xe.get("/api/v1/orders/dashboard-overview",{params:e})).data},QG=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await xe.get("/api/v1/orders/dashboard-statistics",{params:e})).data};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function df(t){return t+.5|0}const Ua=(t,e,n)=>Math.max(Math.min(t,n),e);function Dd(t){return Ua(df(t*2.55),0,255)}function Za(t){return Ua(df(t*255),0,255)}function Bi(t){return Ua(df(t/2.55)/100,0,1)}function t5(t){return Ua(df(t*100),0,100)}const as={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},e2=[..."0123456789ABCDEF"],JG=t=>e2[t&15],ZG=t=>e2[(t&240)>>4]+e2[t&15],Lm=t=>(t&240)>>4===(t&15),eY=t=>Lm(t.r)&&Lm(t.g)&&Lm(t.b)&&Lm(t.a);function tY(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&as[t[1]]*17,g:255&as[t[2]]*17,b:255&as[t[3]]*17,a:e===5?as[t[4]]*17:255}:(e===7||e===9)&&(n={r:as[t[1]]<<4|as[t[2]],g:as[t[3]]<<4|as[t[4]],b:as[t[5]]<<4|as[t[6]],a:e===9?as[t[7]]<<4|as[t[8]]:255})),n}const nY=(t,e)=>t<255?e(t):"";function rY(t){var e=eY(t)?JG:ZG;return t?"#"+e(t.r)+e(t.g)+e(t.b)+nY(t.a,e):void 0}const sY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function c_(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function iY(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function aY(t,e,n){const r=c_(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function oY(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function fN(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=oY(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function mN(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Za)}function pN(t,e,n){return mN(c_,t,e,n)}function lY(t,e,n){return mN(aY,t,e,n)}function cY(t,e,n){return mN(iY,t,e,n)}function u_(t){return(t%360+360)%360}function uY(t){const e=sY.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Dd(+e[5]):Za(+e[5]));const s=u_(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=lY(s,i,a):e[1]==="hsv"?r=cY(s,i,a):r=pN(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function dY(t,e){var n=fN(t);n[0]=u_(n[0]+e),n=pN(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hY(t){if(!t)return;const e=fN(t),n=e[0],r=t5(e[1]),s=t5(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Bi(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const n5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},r5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fY(){const t={},e=Object.keys(r5),n=Object.keys(n5);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,n5[i]);i=parseInt(r5[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Rm;function mY(t){Rm||(Rm=fY(),Rm.transparent=[0,0,0,0]);const e=Rm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const pY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gY(t){const e=pY.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Dd(a):Ua(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Dd(r):Ua(r,0,255)),s=255&(e[4]?Dd(s):Ua(s,0,255)),i=255&(e[6]?Dd(i):Ua(i,0,255)),{r,g:s,b:i,a:n}}}function xY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Hb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Sc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function yY(t,e,n){const r=Sc(Bi(t.r)),s=Sc(Bi(t.g)),i=Sc(Bi(t.b));return{r:Za(Hb(r+n*(Sc(Bi(e.r))-r))),g:Za(Hb(s+n*(Sc(Bi(e.g))-s))),b:Za(Hb(i+n*(Sc(Bi(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Fm(t,e,n){if(t){let r=fN(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=pN(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function d_(t,e){return t&&Object.assign(e||{},t)}function s5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Za(t[3]))):(e=d_(t,{r:0,g:0,b:0,a:1}),e.a=Za(e.a)),e}function bY(t){return t.charAt(0)==="r"?gY(t):uY(t)}let h_=class t2{constructor(e){if(e instanceof t2)return e;const n=typeof e;let r;n==="object"?r=s5(e):n==="string"&&(r=tY(e)||mY(e)||bY(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=d_(this._rgb);return e&&(e.a=Bi(e.a)),e}set rgb(e){this._rgb=s5(e)}rgbString(){return this._valid?xY(this._rgb):void 0}hexString(){return this._valid?rY(this._rgb):void 0}hslString(){return this._valid?hY(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=yY(this._rgb,e._rgb,n)),this}clone(){return new t2(this.rgb)}alpha(e){return this._rgb.a=Za(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=df(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fm(this._rgb,2,e),this}darken(e){return Fm(this._rgb,2,-e),this}saturate(e){return Fm(this._rgb,1,e),this}desaturate(e){return Fm(this._rgb,1,-e),this}rotate(e){return dY(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pi(){}const vY=(()=>{let t=0;return()=>t++})();function ot(t){return t==null}function Vt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function lt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Jt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $r(t,e){return Jt(t)?t:e}function tt(t,e){return typeof t>"u"?e:t}const wY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,f_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Tt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Nt(t,e,n,r){let s,i,a;if(Vt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(lt(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function ug(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function dg(t){if(Vt(t))return t.map(dg);if(lt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=dg(t[n[s]]);return e}return t}function m_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function NY(t,e,n,r){if(!m_(t))return;const s=e[t],i=n[t];lt(s)&&lt(i)?Sh(s,i,r):e[t]=dg(i)}function Sh(t,e,n){const r=Vt(e)?e:[e],s=r.length;if(!lt(t))return t;n=n||{};const i=n.merger||NY;let a;for(let l=0;l<s;++l){if(a=r[l],!lt(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function Kd(t,e){return Sh(t,e,{merger:SY})}function SY(t,e,n){if(!m_(t))return;const r=e[t],s=n[t];lt(r)&&lt(s)?Kd(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=dg(s))}const i5={"":t=>t,x:t=>t.x,y:t=>t.y};function jY(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function CY(t){const e=jY(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function uo(t,e){return(i5[e]||(i5[e]=CY(e)))(t)}function gN(t){return t.charAt(0).toUpperCase()+t.slice(1)}const jh=t=>typeof t<"u",ho=t=>typeof t=="function",a5=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function kY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ht=Math.PI,It=2*ht,TY=It+ht,hg=Number.POSITIVE_INFINITY,EY=ht/180,sn=ht/2,qo=ht/4,o5=ht*2/3,Wa=Math.log10,oi=Math.sign;function Gd(t,e,n){return Math.abs(t-e)<n}function l5(t){const e=Math.round(t);t=Gd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Wa(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function MY(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function PY(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function nu(t){return!PY(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function AY(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function p_(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Is(t){return t*(ht/180)}function xN(t){return t*(180/ht)}function c5(t){if(!Jt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function g_(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ht&&(i+=It),{angle:i,distance:s}}function n2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function OY(t,e){return(t-e+TY)%It-ht}function Qn(t){return(t%It+It)%It}function Ch(t,e,n,r){const s=Qn(t),i=Qn(e),a=Qn(n),l=Qn(i-s),c=Qn(a-s),u=Qn(s-i),d=Qn(s-a);return s===i||s===a||r&&i===a||l>c&&u<d}function Tn(t,e,n){return Math.max(e,Math.min(n,t))}function _Y(t){return Tn(t,-32768,32767)}function Ui(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function yN(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Wi=(t,e,n,r)=>yN(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),DY=(t,e,n)=>yN(t,n,r=>t[r][e]>=n);function IY(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const x_=["push","pop","shift","splice","unshift"];function LY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),x_.forEach(n=>{const r="_onData"+gN(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function u5(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(x_.forEach(i=>{delete t[i]}),delete t._chartjs)}function y_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const b_=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function v_(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,b_.call(window,()=>{r=!1,t.apply(e,n)}))}}function RY(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const bN=t=>t==="start"?"left":t==="end"?"right":"center",Yn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,FY=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function w_(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:p,minDefined:g,maxDefined:x}=a.getUserBounds();if(g){if(s=Math.min(Wi(c,d,f).lo,n?r:Wi(e,d,a.getPixelForValue(f)).lo),u){const v=c.slice(0,s+1).reverse().findIndex(b=>!ot(b[l.axis]));s-=Math.max(0,v)}s=Tn(s,0,r-1)}if(x){let v=Math.max(Wi(c,a.axis,p,!0).hi+1,n?0:Wi(e,d,a.getPixelForValue(p),!0).hi+1);if(u){const b=c.slice(v-1).findIndex(w=>!ot(w[l.axis]));v+=Math.max(0,b)}i=Tn(v,s,r)-s}else i=r-s}return{start:s,count:i}}function N_(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Vm=t=>t===0||t===1,d5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*It/n)),h5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*It/n)+1,Yd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*sn)+1,easeOutSine:t=>Math.sin(t*sn),easeInOutSine:t=>-.5*(Math.cos(ht*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Vm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Vm(t)?t:d5(t,.075,.3),easeOutElastic:t=>Vm(t)?t:h5(t,.075,.3),easeInOutElastic(t){return Vm(t)?t:t<.5?.5*d5(t*2,.1125,.45):.5+.5*h5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Yd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Yd.easeInBounce(t*2)*.5:Yd.easeOutBounce(t*2-1)*.5+.5};function vN(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function f5(t){return vN(t)?t:new h_(t)}function Ub(t){return vN(t)?t:new h_(t).saturate(.5).darken(.1).hexString()}const VY=["x","y","borderWidth","radius","tension"],zY=["color","borderColor","backgroundColor"];function $Y(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:zY},numbers:{type:"number",properties:VY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function BY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const m5=new Map;function HY(t,e){e=e||{};const n=t+JSON.stringify(e);let r=m5.get(n);return r||(r=new Intl.NumberFormat(t,e),m5.set(n,r)),r}function hf(t,e,n){return HY(e,n).format(t)}const S_={values(t){return Vt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=UY(t,n)}const a=Wa(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),hf(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Wa(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?S_.numeric.call(this,t,e,n):""}};function UY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var G0={formatters:S_};function WY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:G0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Pl=Object.create(null),r2=Object.create(null);function Xd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Wb(t,e,n){return typeof e=="string"?Sh(Xd(t,e),n):Sh(Xd(t,""),e)}class qY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Ub(s.backgroundColor),this.hoverBorderColor=(r,s)=>Ub(s.borderColor),this.hoverColor=(r,s)=>Ub(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Wb(this,e,n)}get(e){return Xd(this,e)}describe(e,n){return Wb(r2,e,n)}override(e,n){return Wb(Pl,e,n)}route(e,n,r,s){const i=Xd(this,e),a=Xd(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return lt(c)?Object.assign({},u,c):tt(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var zt=new qY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$Y,BY,WY]);function KY(t){return!t||ot(t.size)||ot(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function GY(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const l=n.length;let c,u,d,f,p;for(c=0;c<l;c++)if(f=n[c],f!=null&&!Vt(f))a=fg(t,s,i,a,f);else if(Vt(f))for(u=0,d=f.length;u<d;u++)p=f[u],p!=null&&!Vt(p)&&(a=fg(t,s,i,a,p));t.restore();const g=i.length/2;if(g>n.length){for(c=0;c<g;c++)delete s[i[c]];i.splice(0,g)}return a}function Ko(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function p5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function s2(t,e,n,r){j_(t,e,n,r,null)}function j_(t,e,n,r,s){let i,a,l,c,u,d,f,p;const g=e.pointStyle,x=e.rotation,v=e.radius;let b=(x||0)*EY;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,r,s/2,v,0,0,It):t.arc(n,r,v,0,It),t.closePath();break;case"triangle":d=s?s/2:v,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=o5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=o5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),t.closePath();break;case"rectRounded":u=v*.516,c=v-u,a=Math.cos(b+qo)*c,f=Math.cos(b+qo)*(s?s/2-u:c),l=Math.sin(b+qo)*c,p=Math.sin(b+qo)*(s?s/2-u:c),t.arc(n-f,r-l,u,b-ht,b-sn),t.arc(n+p,r-a,u,b-sn,b),t.arc(n+f,r+l,u,b,b+sn),t.arc(n-p,r+a,u,b+sn,b+ht),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*v,d=s?s/2:c,t.rect(n-d,r-c,2*d,2*c);break}b+=qo;case"rectRot":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+p,r-a),t.lineTo(n+f,r+l),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":b+=qo;case"cross":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),b+=qo,f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=s?s/2:Math.cos(b)*v,l=Math.sin(b)*v,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:v),r+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Y0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function X0(t){t.restore()}function YY(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function XY(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function QY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ot(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function JY(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(l,d),t.stroke()}}function ZY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Al(t,e,n,r,s,i={}){const a=Vt(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,QY(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&ZY(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ot(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),JY(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function kh(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ht,ht,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ht,sn,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,sn,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-sn,!0),t.lineTo(n+a.topLeft,r)}const eX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nX(t,e){const n=(""+t).match(eX);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const rX=t=>+t||0;function wN(t,e){const n={},r=lt(e),s=r?Object.keys(e):e,i=lt(t)?r?a=>tt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=rX(i(a));return n}function C_(t){return wN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ml(t){return wN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function tr(t){const e=C_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vn(t,e){t=t||{},e=e||zt.font;let n=tt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=tt(t.style,e.style);r&&!(""+r).match(tX)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:tt(t.family,e.family),lineHeight:nX(tt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:tt(t.weight,e.weight),string:""};return s.string=KY(s),s}function Id(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function sX(t,e,n){const{min:r,max:s}=t,i=f_(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function bo(t,e){return Object.assign(Object.create(t),e)}function NN(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=M_("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>NN([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return T_(l,c,()=>hX(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return x5(l).includes(c)},ownKeys(l){return x5(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function ru(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:k_(t,r),setContext:i=>ru(t,i,n,r),override:i=>ru(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return T_(i,a,()=>aX(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function k_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ho(n)?n:()=>n,isIndexable:ho(r)?r:()=>r}}const iX=(t,e)=>t?t+gN(e):e,SN=(t,e)=>lt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function T_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function aX(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return ho(l)&&a.isScriptable(e)&&(l=oX(e,l,t,n)),Vt(l)&&l.length&&(l=lX(e,l,t,a.isIndexable)),SN(e,l)&&(l=ru(l,s,i&&i[e],a)),l}function oX(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),SN(t,c)&&(c=jN(s._scopes,s,t,c)),c}function lX(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(lt(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=jN(u,s,t,d);e.push(ru(f,i,a&&a[t],l))}}return e}function E_(t,e,n){return ho(t)?t(e,n):t}const cX=(t,e)=>t===!0?e:typeof t=="string"?uo(e,t):void 0;function uX(t,e,n,r,s){for(const i of e){const a=cX(n,i);if(a){t.add(a);const l=E_(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function jN(t,e,n,r){const s=e._rootScopes,i=E_(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=g5(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=g5(l,a,i,c,r),c===null)?!1:NN(Array.from(l),[""],s,i,()=>dX(e,n,r))}function g5(t,e,n,r,s){for(;n;)n=uX(t,e,n,r,s);return n}function dX(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Vt(s)&&lt(n)?n:s||{}}function hX(t,e,n,r){let s;for(const i of e)if(s=M_(iX(i,t),n),typeof s<"u")return SN(t,s)?jN(n,r,t,s):s}function M_(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function x5(t){let e=t._keys;return e||(e=t._keys=fX(t._scopes)),e}function fX(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function P_(t,e,n,r){const{iScale:s}=t,{key:i="r"}=this._parsing,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+n,d=e[u],a[l]={r:s.parse(uo(d,i),u)};return a}const mX=Number.EPSILON||1e-14,su=(t,e)=>e<t.length&&!t[e].skip&&t[e],A_=t=>t==="x"?"y":"x";function pX(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=n2(i,s),c=n2(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,p=r*d;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+p*(a.x-s.x),y:i.y+p*(a.y-s.y)}}}function gX(t,e,n){const r=t.length;let s,i,a,l,c,u=su(t,0);for(let d=0;d<r-1;++d)if(c=u,u=su(t,d+1),!(!c||!u)){if(Gd(e[d],0,mX)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function xX(t,e,n="x"){const r=A_(n),s=t.length;let i,a,l,c=su(t,0);for(let u=0;u<s;++u){if(a=l,l=c,c=su(t,u+1),!l)continue;const d=l[n],f=l[r];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=f-i*e[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=f+i*e[u])}}function yX(t,e="x"){const n=A_(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=su(t,0);for(a=0;a<r;++a)if(l=c,c=u,u=su(t,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?oi(s[a-1])!==oi(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}gX(t,s,i),xX(t,i,e)}function zm(t,e,n){return Math.max(Math.min(t,n),e)}function bX(t,e){let n,r,s,i,a,l=qi(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&qi(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=zm(s.cp1x,e.left,e.right),s.cp1y=zm(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=zm(s.cp2x,e.left,e.right),s.cp2y=zm(s.cp2y,e.top,e.bottom)))}function vX(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")yX(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=pX(u,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&bX(t,n)}function CN(){return typeof window<"u"&&typeof document<"u"}function kN(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function mg(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Q0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function wX(t,e){return Q0(t).getPropertyValue(e)}const NX=["top","right","bottom","left"];function pl(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=NX[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const SX=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function jX(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(SX(s,i,t.target))l=s,c=i;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Jo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Q0(n),i=s.boxSizing==="border-box",a=pl(s,"padding"),l=pl(s,"border","width"),{x:c,y:u,box:d}=jX(t,n),f=a.left+(d&&l.left),p=a.top+(d&&l.top);let{width:g,height:x}=e;return i&&(g-=a.width+l.width,x-=a.height+l.height),{x:Math.round((c-f)/g*n.width/r),y:Math.round((u-p)/x*n.height/r)}}function CX(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&kN(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=Q0(i),c=pl(l,"border","width"),u=pl(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=mg(l.maxWidth,i,"clientWidth"),s=mg(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||hg,maxHeight:s||hg}}const qa=t=>Math.round(t*10)/10;function kX(t,e,n,r){const s=Q0(t),i=pl(s,"margin"),a=mg(s.maxWidth,t,"clientWidth")||hg,l=mg(s.maxHeight,t,"clientHeight")||hg,c=CX(t,e,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const p=pl(s,"border","width"),g=pl(s,"padding");u-=g.width+p.width,d-=g.height+p.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=qa(Math.min(u,a,c.maxWidth)),d=qa(Math.min(d,l,c.maxHeight)),u&&!d&&(d=qa(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=qa(Math.floor(d*r))),{width:u,height:d}}function y5(t,e,n){const r=e||1,s=qa(t.height*r),i=qa(t.width*r);t.height=qa(t.height),t.width=qa(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const TX=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};CN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function b5(t,e){const n=wX(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Zo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function EX(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function MX(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Zo(t,s,n),l=Zo(s,i,n),c=Zo(i,e,n),u=Zo(a,l,n),d=Zo(l,c,n);return Zo(u,d,n)}const PX=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},AX=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function qc(t,e,n){return t?PX(e,n):AX()}function O_(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function __(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function D_(t){return t==="angle"?{between:Ch,compare:OY,normalize:Qn}:{between:Ui,compare:(e,n)=>e-n,normalize:e=>e}}function v5({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function OX(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=D_(r),c=e.length;let{start:u,end:d,loop:f}=t,p,g;if(f){for(u+=c,d+=c,p=0,g=c;p<g&&a(l(e[u%c][r]),s,i);++p)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function I_(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=D_(r),{start:d,end:f,loop:p,style:g}=OX(t,e,n),x=[];let v=!1,b=null,w,S,j;const M=()=>c(s,j,w)&&l(s,j)!==0,C=()=>l(i,w)===0||c(i,j,w),P=()=>v||M(),A=()=>!v||C();for(let E=d,D=d;E<=f;++E)S=e[E%a],!S.skip&&(w=u(S[r]),w!==j&&(v=c(w,s,i),b===null&&P()&&(b=l(w,s)===0?E:D),b!==null&&A()&&(x.push(v5({start:b,end:E,loop:p,count:a,style:g})),b=null),D=E,j=w));return b!==null&&x.push(v5({start:b,end:f,loop:p,count:a,style:g})),x}function L_(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=I_(r[s],t.points,e);i.length&&n.push(...i)}return n}function _X(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function DX(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function IX(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=_X(n,s,i,r);if(r===!0)return w5(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,u=!!t._fullLoop&&a===0&&l===s-1;return w5(t,DX(n,a,c,u),n,e)}function w5(t,e,n,r){return!r||!r.setContext||!n?e:LX(t,e,n,r)}function LX(t,e,n,r){const s=t._chart.getContext(),i=N5(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let d=i,f=e[0].start,p=f;function g(x,v,b,w){const S=l?-1:1;if(x!==v){for(x+=c;n[x%c].skip;)x-=S;for(;n[v%c].skip;)v+=S;x%c!==v%c&&(u.push({start:x%c,end:v%c,loop:b,style:w}),d=w,f=v%c)}}for(const x of e){f=l?f:x.start;let v=n[f%c],b;for(p=f+1;p<=x.end;p++){const w=n[p%c];b=N5(r.setContext(bo(s,{type:"segment",p0:v,p1:w,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:a}))),RX(b,d)&&g(f,p-1,x.loop,d),v=w,d=b}f<p-1&&g(f,p-1,x.loop,d)}return u}function N5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function RX(t,e){if(!e)return!1;const n=[],r=function(s,i){return vN(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function $m(t,e,n){return t.options.clip?t[n]:e[n]}function FX(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:$m(n,e,"left"),right:$m(n,e,"right"),top:$m(r,e,"top"),bottom:$m(r,e,"bottom")}:e}function R_(t,e){const n=e._clip;if(n.disabled)return!1;const r=FX(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class VX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=b_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Li=new VX;const S5="transparent",zX={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=f5(t||S5),s=r.valid&&f5(e||S5);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class $X{constructor(e,n,r,s){const i=n[r];s=Id([e.to,s,i,e.from]);const a=Id([e.from,i,s]);this._active=!0,this._fn=e.fn||zX[e.type||typeof a],this._easing=Yd[e.easing]||Yd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Id([e.to,n,s,e.from]),this._from=Id([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class F_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!lt(e))return;const n=Object.keys(zt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!lt(i))return;const a={};for(const l of n)a[l]=i[l];(Vt(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=HX(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&BX(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const p=r.get(u);if(f)if(p&&f.active()){f.update(p,d,l);continue}else f.cancel();if(!p||!p.duration){e[u]=d;continue}i[u]=f=new $X(p,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Li.add(this._chart,r),!0}}function BX(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function HX(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function j5(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function UX(t,e,n){if(n===!1)return!1;const r=j5(t,n),s=j5(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function WX(t){let e,n,r,s;return lt(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function V_(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function C5(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=t.values[c],Jt(u)&&(i||e===0||oi(e)===oi(u))&&(e+=u)}return!d&&!r.all?0:e}function qX(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[i]:t[d]};return l}function qb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function KX(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function GX(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function YX(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function k5(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function T5(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,d=KX(i,a,r),f=e.length;let p;for(let g=0;g<f;++g){const x=e[g],{[c]:v,[u]:b}=x,w=x._stacks||(x._stacks={});p=w[u]=YX(s,d,v),p[l]=b,p._top=k5(p,a,!0,r.type),p._bottom=k5(p,a,!1,r.type);const S=p._visualValues||(p._visualValues={});S[l]=b}}function Kb(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function XX(t,e){return bo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function QX(t,e,n){return bo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function bd(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Gb=t=>t==="reset"||t==="none",E5=(t,e)=>e?t:Object.assign({},t),JX=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:V_(n,!0),values:null};class vo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&bd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,p,g,x)=>f==="x"?p:f==="r"?x:g,i=n.xAxisID=tt(r.xAxisID,Kb(e,"x")),a=n.yAxisID=tt(r.yAxisID,Kb(e,"y")),l=n.rAxisID=tt(r.rAxisID,Kb(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),d=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&u5(this._data,this),e._stacked&&bd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(lt(n)){const s=this._cachedMeta;this._data=qX(n,s)}else if(r!==n){if(r){u5(r,this);const s=this._cachedMeta;bd(s),s._parsed=[]}n&&Object.isExtensible(n)&&LY(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=qb(n.vScale,n),n.stack!==r.stack&&(s=!0,bd(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(T5(this,n._parsed),n._stacked=qb(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{Vt(s[e])?p=this.parseArrayData(r,s,e,n):lt(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const g=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<n;++d)r._parsed[d+e]=f=p[d],c&&(g()&&(c=!1),u=f);r._sorted=c}a&&T5(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,f=new Array(s);let p,g,x;for(p=0,g=s;p<g;++p)x=p+r,f[p]={[l]:d||i.parse(u[x],x),[c]:a.parse(n[x],x)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+r,f=n[d],l[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,p,g;for(d=0,f=s;d<f;++d)p=d+r,g=n[p],u[d]={x:i.parse(uo(g,l),p),y:a.parse(uo(g,c),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:V_(s,!0),values:n._stacks[e.axis]._visualValues};return C5(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=C5(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=JX(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=GX(l);let p,g;function x(){g=s[p];const v=g[l.axis];return!Jt(g[e.axis])||d>v||f<v}for(p=0;p<a&&!(!x()&&(this.updateRangeFromParsed(u,e,g,c),i));++p);if(i){for(p=a-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Jt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=WX(tt(this.options.clip,UX(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,l,c),d=l;d<l+c;++d){const f=s[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=QX(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=XX(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&jh(r);if(l)return E5(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),d),g=Object.keys(zt.elements[e]),x=()=>this.getContext(r,s,n),v=u.resolveNamedOptions(p,g,x,f);return v.$shared&&(v.$shared=c,i[a]=Object.freeze(E5(v,c))),v}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(p,this.getContext(e,r,n))}const u=new F_(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Gb(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){Gb(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Gb(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&bd(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ZX(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=y_(r.sort((s,i)=>s-i))}return t._cache.$bar}function eQ(t){const e=t.iScale,n=ZX(e,t.type);let r=e._length,s,i,a,l;const c=()=>{a===32767||a===-32768||(jh(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),c();return r}function tQ(t,e,n,r){const s=n.barThickness;let i,a;return ot(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function nQ(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/r,ratio:n.barPercentage,start:u}}function rQ(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),l=Math.max(s,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:s,end:i,min:a,max:l}}function z_(t,e,n,r){return Vt(t)?rQ(t,e,n,r):e[n.axis]=n.parse(t,r),e}function M5(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),l=s===i,c=[];let u,d,f,p;for(u=n,d=n+r;u<d;++u)p=e[u],f={},f[s.axis]=l||s.parse(a[u],u),c.push(z_(p,f,i,u));return c}function Yb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sQ(t,e,n){return t!==0?oi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function iQ(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function aQ(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:d}=iQ(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[P5(d,a,l,c)]=!0,s=u)),i[P5(s,a,l,c)]=!0,t.borderSkipped=i}function P5(t,e,n,r){return r?(t=oQ(t,e,n),t=A5(t,n,e)):t=A5(t,e,n),t}function oQ(t,e,n){return t===e?n:t===n?e:t}function A5(t,e,n){return t==="start"?e:t==="end"?n:t}function lQ(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class cQ extends vo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return M5(e,n,r,s)}parseArrayData(e,n,r,s){return M5(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=a.axis==="x"?l:c,f=[];let p,g,x,v;for(p=r,g=r+s;p<g;++p)v=n[p],x={},x[i.axis]=i.parse(uo(v,u),p),f.push(z_(uo(v,d),x,a,p));return f}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,l=Yb(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,s);for(let g=n;g<n+r;g++){const x=this.getParsed(g),v=i||ot(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),w=(x._stacks||{})[l.axis],S={horizontal:u,base:v.base,enableBorderRadius:!w||Yb(x._custom)||a===w._top||a===w._bottom,x:u?v.head:b.center,y:u?b.center:v.head,height:u?b.size:Math.abs(v.size),width:u?Math.abs(v.size):b.size};p&&(S.options=f||this.resolveDataElementOptions(g,e[g].active?"active":s));const j=S.options||e[g].options;aQ(S,j,w,a),lQ(S,j,d.ratio),this.updateElement(e[g],g,S,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const f=d._parsed.find(g=>g[r.axis]===c),p=f&&f[d.vScale.axis];if(ot(p)||isNaN(p))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[tt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=e.barThickness;return{min:l||eQ(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(e),u=c._custom,d=Yb(u);let f=c[n.axis],p=0,g=r?this.applyStack(n,c,r):f,x,v;g!==f&&(p=g-f,g=f),d&&(f=u.barStart,g=u.barEnd-u.barStart,f!==0&&oi(f)!==oi(u.barEnd)&&(p=0),p+=f);const b=!ot(i)&&!d?i:p;let w=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(p+g):x=w,v=x-w,Math.abs(v)<a){v=sQ(v,n,l)*a,f===l&&(w-=v/2);const S=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),M=Math.min(S,j),C=Math.max(S,j);w=Math.max(Math.min(w,C),M),x=w+v,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(w))}if(w===n.getPixelForValue(l)){const S=oi(v)*n.getLineWidthForValue(l)/2;w+=S,v-=S}return{size:v,base:w,head:x,center:x+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=tt(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?nQ(e,n,s,d*u):tQ(e,n,s,d*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(tt(p,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;l=f.start+f.chunk*x+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class uQ extends vo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){const i=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,n,r,s){const i=super.parseArrayData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=tt(l[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,n,r,s){const i=super.parseObjectData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=tt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y),u=a._custom;return{label:r[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(n,s),d=a.axis,f=l.axis;for(let p=n;p<n+r;p++){const g=e[p],x=!i&&this.getParsed(p),v={},b=v[d]=i?a.getPixelForDecimal(.5):a.getPixelForValue(x[d]),w=v[f]=i?l.getBasePixel():l.getPixelForValue(x[f]);v.skip=isNaN(b)||isNaN(w),u&&(v.options=c||this.resolveDataElementOptions(p,g.active?"active":s),i&&(v.options.radius=0)),this.updateElement(g,p,v,s)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=tt(r&&r._custom,i),s}}function dQ(t,e,n){let r=1,s=1,i=0,a=0;if(e<It){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),p=Math.sin(c),g=(j,M,C)=>Ch(j,l,c,!0)?1:Math.max(M,M*n,C,C*n),x=(j,M,C)=>Ch(j,l,c,!0)?-1:Math.min(M,M*n,C,C*n),v=g(0,u,f),b=g(sn,d,p),w=x(ht,u,f),S=x(ht+sn,d,p);r=(v-w)/2,s=(b-S)/2,i=-(v+w)/2,a=-(b+S)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class TN extends vo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(l||f.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(lt(r[e])){const{key:c="value"}=this._parsing;i=u=>+uo(r[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return Is(this.options.rotation-90)}_getCircumference(){return Is(this.options.circumference)}_getRotationExtents(){let e=It,n=-It;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(wY(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:x,offsetY:v}=dQ(f,d,c),b=(r.width-a)/p,w=(r.height-a)/g,S=Math.max(Math.min(b,w)/2,0),j=f_(this.options.radius,S),M=Math.max(j*c,0),C=(j-M)/this._getVisibleDatasetWeightTotal();this.offsetX=x*j,this.offsetY=v*j,s.total=this.calculateTotal(),this.outerRadius=j-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/It)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,p=i&&u.animateScale,g=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);let w=this._getRotation(),S;for(S=0;S<n;++S)w+=this._circumference(S,i);for(S=n;S<n+r;++S){const j=this._circumference(S,i),M=e[S],C={x:d+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+j,circumference:j,outerRadius:x,innerRadius:g};b&&(C.options=v||this.resolveDataElementOptions(S,M.active?"active":s)),w+=j,this.updateElement(M,S,C,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?It*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=hf(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(tt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class $_ extends vo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=w_(n,s,a);this._drawStart=l,this._drawCount=c,N_(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),p=a.axis,g=l.axis,{spanGaps:x,segment:v}=this.options,b=nu(x)?x:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",S=n+r,j=e.length;let M=n>0&&this.getParsed(n-1);for(let C=0;C<j;++C){const P=e[C],A=w?P:{};if(C<n||C>=S){A.skip=!0;continue}const E=this.getParsed(C),D=ot(E[g]),L=A[p]=a.getPixelForValue(E[p],C),_=A[g]=i||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,E,c):E[g],C);A.skip=isNaN(L)||isNaN(_)||D,A.stop=C>0&&Math.abs(E[p]-M[p])>b,v&&(A.parsed=E,A.raw=u.data[C]),f&&(A.options=d||this.resolveDataElementOptions(C,P.active?"active":s)),w||this.updateElement(P,C,A,s),M=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class B_ extends vo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=hf(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:i}}parseObjectData(e,n,r,s){return P_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),l=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*ht;let g=p,x;const v=360/this.countVisibleElements();for(x=0;x<n;++x)g+=this._computeAngle(x,s,v);for(x=n;x<n+r;x++){const b=e[x];let w=g,S=g+this._computeAngle(x,s,v),j=a.getDataVisibility(x)?u.getDistanceFromCenterForValue(this.getParsed(x).r):0;g=S,i&&(c.animateScale&&(j=0),c.animateRotate&&(w=S=p));const M={x:d,y:f,innerRadius:0,outerRadius:j,startAngle:w,endAngle:S,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,M,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Is(this.resolveDataElementOptions(e,n).angle||r):0}}class hQ extends TN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class fQ extends vo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return P_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===s.length,options:a};this.updateElement(r,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){const i=this._cachedMeta.rScale,a=s==="reset";for(let l=n;l<n+r;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=i.getPointPositionForValue(l,this.getParsed(l).r),f=a?i.xCenter:d.x,p=a?i.yCenter:d.y,g={x:f,y:p,angle:d.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(c,l,g,s)}}}class mQ extends vo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:a}=w_(n,r,s);if(this._drawStart=i,this._drawCount=a,N_(n)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),p=this.includeOptions(s,f),g=a.axis,x=l.axis,{spanGaps:v,segment:b}=this.options,w=nu(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||i||s==="none";let j=n>0&&this.getParsed(n-1);for(let M=n;M<n+r;++M){const C=e[M],P=this.getParsed(M),A=S?C:{},E=ot(P[x]),D=A[g]=a.getPixelForValue(P[g],M),L=A[x]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,P,c):P[x],M);A.skip=isNaN(D)||isNaN(L)||E,A.stop=M>0&&Math.abs(P[g]-j[g])>w,b&&(A.parsed=P,A.raw=u.data[M]),p&&(A.options=f||this.resolveDataElementOptions(M,C.active?"active":s)),S||this.updateElement(C,M,A,s),j=P}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,a)/2}}var pQ=Object.freeze({__proto__:null,BarController:cQ,BubbleController:uQ,DoughnutController:TN,LineController:$_,PieController:hQ,PolarAreaController:B_,RadarController:fQ,ScatterController:mQ});function Go(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class EN{static override(e){Object.assign(EN.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Go()}parse(){return Go()}format(){return Go()}add(){return Go()}diff(){return Go()}startOf(){return Go()}endOf(){return Go()}}var gQ={_date:EN};function xQ(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?DY:Wi;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const p=u(i,e,n-f),g=u(i,e,n+f);return{lo:p.lo,hi:g.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:p}=t,g=p.slice(0,d.lo+1).reverse().findIndex(v=>!ot(v[f.axis]));d.lo-=Math.max(0,g);const x=p.slice(d.hi).findIndex(v=>!ot(v[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function J0(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:f,hi:p}=xQ(i[l],e,a,s);for(let g=f;g<=p;++g){const x=d[g];x.skip||r(x,u,g)}}}function yQ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Xb(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||J0(t,n,e,function(l,c,u){!s&&!qi(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function bQ(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:f}=g_(a,{x:e.x,y:e.y});Ch(f,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return J0(t,n,e,i),s}function vQ(t,e,n,r,s,i){let a=[];const l=yQ(n);let c=Number.POSITIVE_INFINITY;function u(d,f,p){const g=d.inRange(e.x,e.y,s);if(r&&!g)return;const x=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(x))&&!g)return;const b=l(e,x);b<c?(a=[{element:d,datasetIndex:f,index:p}],c=b):b===c&&a.push({element:d,datasetIndex:f,index:p})}return J0(t,n,e,u),a}function Qb(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?bQ(t,e,n,s):vQ(t,e,n,r,s,i)}function O5(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return J0(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var wQ={modes:{index(t,e,n,r){const s=Jo(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Xb(t,s,i,r,a):Qb(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,r){const s=Jo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Xb(t,s,i,r,a):Qb(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,n,r){const s=Jo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Xb(t,s,i,r,a)},nearest(t,e,n,r){const s=Jo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Qb(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=Jo(e,t);return O5(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Jo(e,t);return O5(t,s,"y",n.intersect,r)}}};const H_=["left","top","right","bottom"];function vd(t,e){return t.filter(n=>n.pos===e)}function _5(t,e){return t.filter(n=>H_.indexOf(n.pos)===-1&&n.box.axis===e)}function wd(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function NQ(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function SQ(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!H_.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function jQ(t,e){const n=SQ(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&e.availableHeight)}return n}function CQ(t){const e=NQ(t),n=wd(e.filter(u=>u.box.fullSize),!0),r=wd(vd(e,"left"),!0),s=wd(vd(e,"right")),i=wd(vd(e,"top"),!0),a=wd(vd(e,"bottom")),l=_5(e,"x"),c=_5(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:vd(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function D5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function U_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function kQ(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!lt(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&U_(a,i.getPadding());const l=Math.max(0,e.outerWidth-D5(a,t,"left","right")),c=Math.max(0,e.outerHeight-D5(a,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function TQ(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function EQ(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Ld(t,e,n,r){const s=[];let i,a,l,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,EQ(l.horizontal,e));const{same:f,other:p}=kQ(e,n,l,r);u|=f&&s.length,d=d||p,c.fullSize||s.push(l)}return u&&Ld(s,e,n,r)||d}function Bm(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function I5(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,p=u.size||c.height;jh(u.start)&&(a=u.start),c.fullSize?Bm(c,s.left,a,n.outerWidth-s.right-s.left,p):Bm(c,e.left+u.placed,a,f,p),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*d,p=u.size||c.width;jh(u.start)&&(i=u.start),c.fullSize?Bm(c,i,s.top,p,n.outerHeight-s.bottom-s.top):Bm(c,i,e.top+u.placed,p,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var Zn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=tr(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=CQ(t.boxes),c=l.vertical,u=l.horizontal;Nt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=c.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},s);U_(p,tr(r));const g=Object.assign({maxPadding:p,w:i,h:a,x:s.left,y:s.top},s),x=jQ(c.concat(u),f);Ld(l.fullSize,g,f,x),Ld(c,g,f,x),Ld(u,g,f,x)&&Ld(c,g,f,x),TQ(g),I5(l.leftAndTop,g,f,x),g.x+=g.w,g.y+=g.h,I5(l.rightAndBottom,g,f,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Nt(l.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class W_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class MQ extends W_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Dp="$chartjs",PQ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},L5=t=>t===null||t==="";function AQ(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Dp]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",L5(s)){const i=b5(t,"width");i!==void 0&&(t.width=i)}if(L5(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=b5(t,"height");i!==void 0&&(t.height=i)}return t}const q_=TX?{passive:!0}:!1;function OQ(t,e,n){t&&t.addEventListener(e,n,q_)}function _Q(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,q_)}function DQ(t,e){const n=PQ[t.type]||t.type,{x:r,y:s}=Jo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function pg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function IQ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||pg(l.addedNodes,r),a=a&&!pg(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function LQ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||pg(l.removedNodes,r),a=a&&!pg(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Th=new Map;let R5=0;function K_(){const t=window.devicePixelRatio;t!==R5&&(R5=t,Th.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function RQ(t,e){Th.size||window.addEventListener("resize",K_),Th.set(t,e)}function FQ(t){Th.delete(t),Th.size||window.removeEventListener("resize",K_)}function VQ(t,e,n){const r=t.canvas,s=r&&kN(r);if(!s)return;const i=v_((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),RQ(t,i),a}function Jb(t,e,n){n&&n.disconnect(),e==="resize"&&FQ(t)}function zQ(t,e,n){const r=t.canvas,s=v_(i=>{t.ctx!==null&&n(DQ(i,t))},t);return OQ(r,e,s),s}class $Q extends W_{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(AQ(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Dp])return!1;const r=n[Dp].initial;["height","width"].forEach(i=>{const a=r[i];ot(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Dp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:IQ,detach:LQ,resize:VQ}[n]||zQ;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Jb,detach:Jb,resize:Jb}[n]||_Q)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return kX(e,n,r,s)}isAttached(e){const n=e&&kN(e);return!!(n&&n.isConnected)}}function BQ(t){return!CN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?MQ:$Q}let ha=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return nu(this.x)&&nu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}};function HQ(t,e){const n=t.options.ticks,r=UQ(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?qQ(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return KQ(e,u,i,a/s),u;const d=WQ(i,e,s);if(a>0){let f,p;const g=a>1?Math.round((c-l)/(a-1)):null;for(Hm(e,u,d,ot(g)?0:l-g,l),f=0,p=a-1;f<p;f++)Hm(e,u,d,i[f],i[f+1]);return Hm(e,u,d,c,ot(g)?e.length:c+g),u}return Hm(e,u,d),u}function UQ(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function WQ(t,e,n){const r=GQ(t),s=e.length/n;if(!r)return Math.max(s,1);const i=MY(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function qQ(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function KQ(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Hm(t,e,n,r,s){const i=tt(r,0),a=Math.min(tt(s,t.length),t.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),l++,d=Math.round(i+l*n))}function GQ(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const YQ=t=>t==="left"?"right":t==="right"?"left":t,F5=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,V5=(t,e)=>Math.min(e||t,t);function z5(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function XQ(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-l||c>a+l)))return c}function QQ(t,e){Nt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Nd(t){return t.drawTicks?t.tickLength:0}function $5(t,e){if(!t.display)return 0;const n=vn(t.font,e),r=tr(t.padding);return(Vt(t.text)?t.text.length:1)*n.lineHeight+r.height}function JQ(t,e){return bo(t,{scale:e,type:"scale"})}function ZQ(t,e,n){return bo(t,{tick:n,index:e,type:"tick"})}function eJ(t,e,n){let r=bN(t);return(n&&e!=="right"||!n&&e==="right")&&(r=YQ(r)),r}function tJ(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,p,g,x;const v=a-s,b=l-i;if(t.isHorizontal()){if(g=Yn(r,i,l),lt(n)){const w=Object.keys(n)[0],S=n[w];x=d[w].getPixelForValue(S)+v-e}else n==="center"?x=(u.bottom+u.top)/2+v-e:x=F5(t,n,e);p=l-i}else{if(lt(n)){const w=Object.keys(n)[0],S=n[w];g=d[w].getPixelForValue(S)-b+e}else n==="center"?g=(u.left+u.right)/2-b+e:g=F5(t,n,e);x=Yn(r,a,s),f=n==="left"?-sn:sn}return{titleX:g,titleY:x,maxWidth:p,rotation:f}}class Hl extends ha{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=$r(e,Number.POSITIVE_INFINITY),n=$r(n,Number.NEGATIVE_INFINITY),r=$r(r,Number.POSITIVE_INFINITY),s=$r(s,Number.NEGATIVE_INFINITY),{min:$r(e,r),max:$r(n,s),minDefined:Jt(e),maxDefined:Jt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:$r(n,$r(r,n)),max:$r(r,$r(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sX(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?z5(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=HQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tt(this.options.afterUpdate,[this])}beforeSetDimensions(){Tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Tt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=V5(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,g=Tn(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/r:g/(r-1),f+6>l&&(l=g/(r-(e.offset?.5:1)),c=this.maxHeight-Nd(e.grid)-n.padding-$5(e.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),a=xN(Math.min(Math.asin(Tn((d.highest.height+6)/l,-1,1)),Math.asin(Tn(c/u,-1,1))-Math.asin(Tn(p/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=$5(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Nd(i)+c):(e.height=this.maxHeight,e.width=Nd(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:p}=this._getLabelSizes(),g=r.padding*2,x=Is(this.labelRotation),v=Math.cos(x),b=Math.sin(x);if(l){const w=r.mirror?0:b*f.width+v*p.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=r.mirror?0:v*f.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(u,d,b,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;c?u?(p=s*e.width,g=r*n.height):(p=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ot(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=z5(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/V5(n,r));let u=0,d=0,f,p,g,x,v,b,w,S,j,M,C;for(f=0;f<n;f+=c){if(x=e[f].label,v=this._resolveTickFontOptions(f),s.font=b=v.string,w=i[b]=i[b]||{data:{},gc:[]},S=v.lineHeight,j=M=0,!ot(x)&&!Vt(x))j=fg(s,w.data,w.gc,j,x),M=S;else if(Vt(x))for(p=0,g=x.length;p<g;++p)C=x[p],!ot(C)&&!Vt(C)&&(j=fg(s,w.data,w.gc,j,C),M+=S);a.push(j),l.push(M),u=Math.max(j,u),d=Math.max(M,d)}QQ(i,n);const P=a.indexOf(u),A=l.indexOf(d),E=D=>({width:a[D]||0,height:l[D]||0});return{first:E(0),last:E(n-1),widest:E(P),highest:E(A),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return _Y(this._alignToPixels?Ko(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=ZQ(this.getContext(),e,r))}return this.$context||(this.$context=JQ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Is(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=Nd(i),g=[],x=l.setContext(this.getContext()),v=x.display?x.width:0,b=v/2,w=function(R){return Ko(r,R,v)};let S,j,M,C,P,A,E,D,L,_,V,G;if(a==="top")S=w(this.bottom),A=this.bottom-p,D=S-b,_=w(e.top)+b,G=e.bottom;else if(a==="bottom")S=w(this.top),_=e.top,G=w(e.bottom)-b,A=S+b,D=this.top+p;else if(a==="left")S=w(this.right),P=this.right-p,E=S-b,L=w(e.left)+b,V=e.right;else if(a==="right")S=w(this.left),L=e.left,V=w(e.right)-b,P=S+b,E=this.left+p;else if(n==="x"){if(a==="center")S=w((e.top+e.bottom)/2+.5);else if(lt(a)){const R=Object.keys(a)[0],$=a[R];S=w(this.chart.scales[R].getPixelForValue($))}_=e.top,G=e.bottom,A=S+b,D=A+p}else if(n==="y"){if(a==="center")S=w((e.left+e.right)/2);else if(lt(a)){const R=Object.keys(a)[0],$=a[R];S=w(this.chart.scales[R].getPixelForValue($))}P=S-b,E=P-p,L=e.left,V=e.right}const H=tt(s.ticks.maxTicksLimit,f),W=Math.max(1,Math.ceil(f/H));for(j=0;j<f;j+=W){const R=this.getContext(j),$=i.setContext(R),z=l.setContext(R),K=$.lineWidth,X=$.color,B=z.dash||[],J=z.dashOffset,ne=$.tickWidth,se=$.tickColor,me=$.tickBorderDash||[],Ee=$.tickBorderDashOffset;M=XQ(this,j,c),M!==void 0&&(C=Ko(r,M,K),u?P=E=L=V=C:A=D=_=G=C,g.push({tx1:P,ty1:A,tx2:E,ty2:D,x1:L,y1:_,x2:V,y2:G,width:K,color:X,borderDash:B,borderDashOffset:J,tickWidth:ne,tickColor:se,tickBorderDash:me,tickBorderDashOffset:Ee}))}return this._ticksLength=f,this._borderValue=S,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,p=Nd(r.grid),g=p+d,x=f?-d:g,v=-Is(this.labelRotation),b=[];let w,S,j,M,C,P,A,E,D,L,_,V,G="middle";if(s==="top")P=this.bottom-x,A=this._getXAxisLabelAlignment();else if(s==="bottom")P=this.top+x,A=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(p);A=W.textAlign,C=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(p);A=W.textAlign,C=W.x}else if(n==="x"){if(s==="center")P=(e.top+e.bottom)/2+g;else if(lt(s)){const W=Object.keys(s)[0],R=s[W];P=this.chart.scales[W].getPixelForValue(R)+g}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")C=(e.left+e.right)/2-g;else if(lt(s)){const W=Object.keys(s)[0],R=s[W];C=this.chart.scales[W].getPixelForValue(R)}A=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?G="top":c==="end"&&(G="bottom"));const H=this._getLabelSizes();for(w=0,S=l.length;w<S;++w){j=l[w],M=j.label;const W=i.setContext(this.getContext(w));E=this.getPixelForTick(w)+i.labelOffset,D=this._resolveTickFontOptions(w),L=D.lineHeight,_=Vt(M)?M.length:1;const R=_/2,$=W.color,z=W.textStrokeColor,K=W.textStrokeWidth;let X=A;a?(C=E,A==="inner"&&(w===S-1?X=this.options.reverse?"left":"right":w===0?X=this.options.reverse?"right":"left":X="center"),s==="top"?u==="near"||v!==0?V=-_*L+L/2:u==="center"?V=-H.highest.height/2-R*L+L:V=-H.highest.height+L/2:u==="near"||v!==0?V=L/2:u==="center"?V=H.highest.height/2-R*L:V=H.highest.height-_*L,f&&(V*=-1),v!==0&&!W.showLabelBackdrop&&(C+=L/2*Math.sin(v))):(P=E,V=(1-_)*L/2);let B;if(W.showLabelBackdrop){const J=tr(W.backdropPadding),ne=H.heights[w],se=H.widths[w];let me=V-J.top,Ee=0-J.left;switch(G){case"middle":me-=ne/2;break;case"bottom":me-=ne;break}switch(A){case"center":Ee-=se/2;break;case"right":Ee-=se;break;case"inner":w===S-1?Ee-=se:w>0&&(Ee-=se/2);break}B={left:Ee,top:me,width:se+J.width,height:ne+J.height,color:W.backdropColor}}b.push({label:M,font:D,textOffset:V,options:{rotation:v,color:$,strokeColor:z,strokeWidth:K,textAlign:X,textBaseline:G,translation:[C,P],backdrop:B}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Is(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,p;this.isHorizontal()?(u=Ko(e,this.left,a)-a/2,d=Ko(e,this.right,l)+l/2,f=p=c):(f=Ko(e,this.top,a)-a/2,p=Ko(e,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Y0(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;Al(r,u,0,d,c,l)}s&&X0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=vn(r.font),a=tr(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||lt(n)?(c+=a.bottom,Vt(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:p}=tJ(this,c,n,l);Al(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:eJ(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=tt(e.grid&&e.grid.z,-1),s=tt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return vn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Um{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;sJ(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,nJ(e,a,r),this.override&&zt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in zt[s]&&(delete zt[s][r],this.override&&delete Pl[r])}}function nJ(t,e,n){const r=Sh(Object.create(null),[n?zt.get(n):{},zt.get(e),t.defaults]);zt.set(e,r),t.defaultRoutes&&rJ(e,t.defaultRoutes),t.descriptors&&zt.describe(e,t.descriptors)}function rJ(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");zt.route(i,s,c,l)})}function sJ(t){return"id"in t&&"defaults"in t}class iJ{constructor(){this.controllers=new Um(vo,"datasets",!0),this.elements=new Um(ha,"elements"),this.plugins=new Um(Object,"plugins"),this.scales=new Um(Hl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Nt(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=gN(e);Tt(r["before"+s],[],r),n[e](r),Tt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Js=new iJ;class aJ{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(Tt(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=tt(r.options&&r.options.plugins,{}),i=oJ(r);return s===!1&&!n?[]:cJ(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function oJ(t){const e={},n=[],r=Object.keys(Js.plugins.items);for(let i=0;i<r.length;i++)n.push(Js.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function lJ(t,e){return!e&&t===!1?null:t===!0?{}:t}function cJ(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=lJ(r[c],s);u!==null&&i.push({plugin:l,options:uJ(t.config,{plugin:l,local:n[c]},u,a)})}return i}function uJ(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function i2(t,e){const n=zt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function dJ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function hJ(t,e){return t===e?"_index_":"_value_"}function B5(t){if(t==="x"||t==="y"||t==="r")return t}function fJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function a2(t,...e){if(B5(t))return t;for(const n of e){const r=n.axis||fJ(n.position)||t.length>1&&B5(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function H5(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function mJ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return H5(t,"x",n[0])||H5(t,"y",n[0])}return{}}function pJ(t,e){const n=Pl[t.type]||{scales:{}},r=e.scales||{},s=i2(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!lt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=a2(a,l,mJ(a,t),zt.scales[l.type]),u=hJ(c,s),d=n.scales||{};i[a]=Kd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||i2(l,e),d=(Pl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const p=dJ(f,c),g=a[p+"AxisID"]||p;i[g]=i[g]||Object.create(null),Kd(i[g],[{axis:p},r[g],d[f]])})}),Object.keys(i).forEach(a=>{const l=i[a];Kd(l,[zt.scales[l.type],zt.scale])}),i}function G_(t){const e=t.options||(t.options={});e.plugins=tt(e.plugins,{}),e.scales=pJ(t,e)}function Y_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gJ(t){return t=t||{},t.data=Y_(t.data),G_(t),t}const U5=new Map,X_=new Set;function Wm(t,e){let n=U5.get(t);return n||(n=e(),U5.set(t,n),X_.add(n)),n}const Sd=(t,e,n)=>{const r=uo(e,n);r!==void 0&&t.add(r)};class xJ{constructor(e){this._config=gJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Y_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),G_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Wm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Wm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Wm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Wm(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(f=>Sd(c,e,f))),d.forEach(f=>Sd(c,s,f)),d.forEach(f=>Sd(c,Pl[i]||{},f)),d.forEach(f=>Sd(c,zt,f)),d.forEach(f=>Sd(c,r2,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),X_.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Pl[n]||{},zt.datasets[n]||{},{type:n},zt,r2]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=W5(this._resolverCache,e,s);let c=a;if(bJ(a,n)){i.$shared=!1,r=ho(r)?r():r;const u=this.createResolver(e,r,l);c=ru(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=W5(this._resolverCache,e,r);return lt(n)?ru(i,n,void 0,s):i}}function W5(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:NN(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const yJ=t=>lt(t)&&Object.getOwnPropertyNames(t).some(e=>ho(t[e]));function bJ(t,e){const{isScriptable:n,isIndexable:r}=k_(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(ho(l)||yJ(l))||a&&Vt(l))return!0}return!1}var vJ="4.5.1";const wJ=["top","bottom","left","right","chartArea"];function q5(t,e){return t==="top"||t==="bottom"||wJ.indexOf(t)===-1&&e==="x"}function K5(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function G5(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Tt(n&&n.onComplete,[t],e)}function NJ(t){const e=t.chart,n=e.options.animation;Tt(n&&n.onProgress,[t],e)}function Q_(t){return CN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ip={},Y5=t=>{const e=Q_(t);return Object.values(Ip).filter(n=>n.canvas===e).pop()};function SJ(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function jJ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let Z0=class{static defaults=zt;static instances=Ip;static overrides=Pl;static registry=Js;static version=vJ;static getChart=Y5;static register(...e){Js.add(...e),X5()}static unregister(...e){Js.remove(...e),X5()}constructor(e,n){const r=this.config=new xJ(n),s=Q_(e),i=Y5(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||BQ(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=vY(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new aJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RY(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Ip[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Li.listen(this,"complete",G5),Li.listen(this,"progress",NJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return ot(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Js}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():y5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return p5(this.canvas,this.ctx),this}stop(){return Li.stop(this),this}resize(e,n){Li.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,y5(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Tt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=a2(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Nt(i,a=>{const l=a.options,c=l.id,u=a2(c,l),d=tt(l.type,a.dtype);(l.position===void 0||q5(l.position,u)!==q5(a.dposition))&&(l.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===d)f=r[c];else{const p=Js.getScale(d);f=new p({id:c,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,e)}),Nt(s,(a,l)=>{a||delete r[l]}),Nt(r,a=>{Zn.configure(this,a,a.options),Zn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(K5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||i2(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Js.getController(l),{datasetElementType:u,dataElementType:d}=zt.datasets[l];Object.assign(c,{dataElementType:Js.getElement(d),datasetElementType:u&&Js.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),p=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Nt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(K5("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Nt(this.scales,e=>{Zn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!a5(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;SJ(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!a5(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ho(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Li.has(this)?this.attached&&!Li.running(this)&&Li.start(this):(this.draw(),G5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=R_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Y0(n,s),e.controller.draw(),s&&X0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return qi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=wQ.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);jh(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Li.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),p5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ip[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};Nt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!ug(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=kY(e),u=jJ(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Tt(i.onHover,[e,l,this],this),c&&Tt(i.onClick,[e,l,this],this));const d=!ug(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function X5(){return Nt(Z0.instances,t=>t._plugins.invalidate())}function CJ(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/a,Qn(r-n));if(t.beginPath(),t.arc(s,i,a-u/2,r+f/2,n-f/2),l>0){const p=Math.min(u/l,Qn(r-n));t.arc(s,i,l+u/2,n-p/2,r+p/2,!0)}else{const p=Math.min(u/2,a*Qn(r-n));if(d==="round")t.arc(s,i,p,n-ht/2,r+ht/2,!0);else if(d==="bevel"){const g=2*p*p,x=-g*Math.cos(n+ht/2)+s,v=-g*Math.sin(n+ht/2)+i,b=g*Math.cos(r+ht/2)+s,w=g*Math.sin(r+ht/2)+i;t.lineTo(x,v),t.lineTo(b,w)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function kJ(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=s/l;t.beginPath(),t.arc(i,a,l,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+sn,r-sn),t.closePath(),t.clip()}function TJ(t){return wN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function EJ(t,e,n,r){const s=TJ(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return Tn(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Tn(s.innerStart,0,a),innerEnd:Tn(s.innerEnd,0,a)}}function jc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function gg(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),p=d>0?d+r+n+u:0;let g=0;const x=s-c;if(r){const W=d>0?d-r:0,R=f>0?f-r:0,$=(W+R)/2,z=$!==0?x*$/($+r):x;g=(x-z)/2}const v=Math.max(.001,x*f-n/ht)/f,b=(x-v)/2,w=c+b+g,S=s-b-g,{outerStart:j,outerEnd:M,innerStart:C,innerEnd:P}=EJ(e,p,f,S-w),A=f-j,E=f-M,D=w+j/A,L=S-M/E,_=p+C,V=p+P,G=w+C/_,H=S-P/V;if(t.beginPath(),i){const W=(D+L)/2;if(t.arc(a,l,f,D,W),t.arc(a,l,f,W,L),M>0){const K=jc(E,L,a,l);t.arc(K.x,K.y,M,L,S+sn)}const R=jc(V,S,a,l);if(t.lineTo(R.x,R.y),P>0){const K=jc(V,H,a,l);t.arc(K.x,K.y,P,S+sn,H+Math.PI)}const $=(S-P/p+(w+C/p))/2;if(t.arc(a,l,p,S-P/p,$,!0),t.arc(a,l,p,$,w+C/p,!0),C>0){const K=jc(_,G,a,l);t.arc(K.x,K.y,C,G+Math.PI,w-sn)}const z=jc(A,w,a,l);if(t.lineTo(z.x,z.y),j>0){const K=jc(A,D,a,l);t.arc(K.x,K.y,j,w-sn,D)}}else{t.moveTo(a,l);const W=Math.cos(D)*f+a,R=Math.sin(D)*f+l;t.lineTo(W,R);const $=Math.cos(L)*f+a,z=Math.sin(L)*f+l;t.lineTo($,z)}t.closePath()}function MJ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){gg(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%It||It))}return gg(t,e,n,r,c,s),t.fill(),c}function PJ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:p,borderRadius:g}=c,x=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=p,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let v=e.endAngle;if(i){gg(t,e,n,r,v,s);for(let b=0;b<i;++b)t.stroke();isNaN(l)||(v=a+(l%It||It))}x&&kJ(t,e,v),c.selfJoin&&v-a>=ht&&g===0&&d!=="miter"&&CJ(t,e,v),i||(gg(t,e,n,r,v,s),t.stroke())}class AJ extends ha{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:i,distance:a}=g_(s,{x:e,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=tt(f,c-l),x=Ch(i,l,c)&&l!==c,v=g>=It||x,b=Ui(a,u+p,d+p);return v&&b}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:i,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,d=(s+i)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>It?Math.floor(r/It):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(ht,r||0)),u=s*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,MJ(e,this,u,i,a),PJ(e,this,u,i,a),e.restore()}}function J_(t,e,n=e){t.lineCap=tt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(tt(n.borderDash,e.borderDash)),t.lineDashOffset=tt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=tt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=tt(n.borderWidth,e.borderWidth),t.strokeStyle=tt(n.borderColor,e.borderColor)}function OJ(t,e,n){t.lineTo(n.x,n.y)}function _J(t){return t.stepped?YY:t.tension||t.cubicInterpolationMode==="monotone"?XY:OJ}function Z_(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(i,l),d=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:u<c&&!d?r+u-c:u-c}}function DJ(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:u}=Z_(s,n,r),d=_J(i);let{move:f=!0,reverse:p}=r||{},g,x,v;for(g=0;g<=u;++g)x=s[(l+(p?u-g:g))%a],!x.skip&&(f?(t.moveTo(x.x,x.y),f=!1):d(t,v,x,p,i.stepped),v=x);return c&&(x=s[(l+(p?u:0))%a],d(t,v,x,p,i.stepped)),!!c}function IJ(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=Z_(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,f=0,p,g,x,v,b,w;const S=M=>(a+(u?l-M:M))%i,j=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,w))};for(c&&(g=s[S(0)],t.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=s[S(p)],g.skip)continue;const M=g.x,C=g.y,P=M|0;P===x?(C<v?v=C:C>b&&(b=C),d=(f*d+M)/++f):(j(),t.lineTo(M,C),x=P,f=0,v=b=C),w=C}j()}function o2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?IJ:DJ}function LJ(t){return t.stepped?EX:t.tension||t.cubicInterpolationMode==="monotone"?MX:Zo}function RJ(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),J_(t,e.options),t.stroke(s)}function FJ(t,e,n,r){const{segments:s,options:i}=e,a=o2(e);for(const l of s)J_(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const VJ=typeof Path2D=="function";function zJ(t,e,n,r){VJ&&!e.options.segment?RJ(t,e,n,r):FJ(t,e,n,r)}class ex extends ha{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;vX(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=IX(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=L_(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=LJ(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:p}=a[u],g=i[f],x=i[p];if(g===x){l.push(g);continue}const v=Math.abs((s-g[n])/(x[n]-g[n])),b=c(g,x,v,r.stepped);b[n]=e[n],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,n,r){return o2(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=o2(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),zJ(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Q5(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class $J extends ha{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return Q5(this,e,"x",n)}inYRange(e,n){return Q5(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!qi(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,s2(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function eD(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=a/2,l=Math.min(n,s),c=Math.max(n,s),u=r-f,d=r+f):(f=i/2,l=n-f,c=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function Ka(t,e,n,r){return t?0:Tn(e,n,r)}function BJ(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=C_(r);return{t:Ka(s.top,i.top,0,n),r:Ka(s.right,i.right,0,e),b:Ka(s.bottom,i.bottom,0,n),l:Ka(s.left,i.left,0,e)}}function HJ(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=ml(s),a=Math.min(e,n),l=t.borderSkipped,c=r||lt(s);return{topLeft:Ka(!c||l.top||l.left,i.topLeft,0,a),topRight:Ka(!c||l.top||l.right,i.topRight,0,a),bottomLeft:Ka(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:Ka(!c||l.bottom||l.right,i.bottomRight,0,a)}}function UJ(t){const e=eD(t),n=e.right-e.left,r=e.bottom-e.top,s=BJ(t,n/2,r/2),i=HJ(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Zb(t,e,n,r){const s=e===null,i=n===null,l=t&&!(s&&i)&&eD(t,r);return l&&(s||Ui(e,l.left,l.right))&&(i||Ui(n,l.top,l.bottom))}function WJ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function qJ(t,e){t.rect(e.x,e.y,e.w,e.h)}function ev(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class KJ extends ha{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=UJ(this),l=WJ(a.radius)?kh:qJ;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,ev(a,n,i)),e.clip(),l(e,ev(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,ev(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Zb(this,e,n,r)}inXRange(e,n){return Zb(this,e,null,n)}inYRange(e,n){return Zb(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var GJ=Object.freeze({__proto__:null,ArcElement:AJ,BarElement:KJ,LineElement:ex,PointElement:$J});const l2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],J5=l2.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function tD(t){return l2[t%l2.length]}function nD(t){return J5[t%J5.length]}function YJ(t,e){return t.borderColor=tD(e),t.backgroundColor=nD(e),++e}function XJ(t,e){return t.backgroundColor=t.data.map(()=>tD(e++)),e}function QJ(t,e){return t.backgroundColor=t.data.map(()=>nD(e++)),e}function JJ(t){let e=0;return(n,r)=>{const s=t.getDatasetMeta(r).controller;s instanceof TN?e=XJ(n,e):s instanceof B_?e=QJ(n,e):s&&(e=YJ(n,e))}}function Z5(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function ZJ(t){return t&&(t.borderColor||t.backgroundColor)}function eZ(){return zt.borderColor!=="rgba(0,0,0,0.1)"||zt.backgroundColor!=="rgba(0,0,0,0.1)"}var tZ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=t.config,{elements:i}=s,a=Z5(r)||ZJ(s)||i&&Z5(i)||eZ();if(!n.forceOverride&&a)return;const l=JJ(t);r.forEach(l)}};function nZ(t,e,n,r,s){const i=s.samples||r;if(i>=n)return t.slice(e,e+n);const a=[],l=(n-2)/(i-2);let c=0;const u=e+n-1;let d=e,f,p,g,x,v;for(a[c++]=t[d],f=0;f<i-2;f++){let b=0,w=0,S;const j=Math.floor((f+1)*l)+1+e,M=Math.min(Math.floor((f+2)*l)+1,n)+e,C=M-j;for(S=j;S<M;S++)b+=t[S].x,w+=t[S].y;b/=C,w/=C;const P=Math.floor(f*l)+1+e,A=Math.min(Math.floor((f+1)*l)+1,n)+e,{x:E,y:D}=t[d];for(g=x=-1,S=P;S<A;S++)x=.5*Math.abs((E-b)*(t[S].y-D)-(E-t[S].x)*(w-D)),x>g&&(g=x,p=t[S],v=S);a[c++]=p,d=v}return a[c++]=t[u],a}function rZ(t,e,n,r){let s=0,i=0,a,l,c,u,d,f,p,g,x,v;const b=[],w=e+n-1,S=t[e].x,M=t[w].x-S;for(a=e;a<e+n;++a){l=t[a],c=(l.x-S)/M*r,u=l.y;const C=c|0;if(C===d)u<x?(x=u,f=a):u>v&&(v=u,p=a),s=(i*s+l.x)/++i;else{const P=a-1;if(!ot(f)&&!ot(p)){const A=Math.min(f,p),E=Math.max(f,p);A!==g&&A!==P&&b.push({...t[A],x:s}),E!==g&&E!==P&&b.push({...t[E],x:s})}a>0&&P!==g&&b.push(t[P]),b.push(l),d=C,i=0,x=v=u,f=p=g=a}}return b}function rD(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function eT(t){t.data.datasets.forEach(e=>{rD(e)})}function sZ(t,e){const n=e.length;let r=0,s;const{iScale:i}=t,{min:a,max:l,minDefined:c,maxDefined:u}=i.getUserBounds();return c&&(r=Tn(Wi(e,i.axis,a).lo,0,n-1)),u?s=Tn(Wi(e,i.axis,l).hi+1,r,n)-r:s=n-r,{start:r,count:s}}var iZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){eT(t);return}const r=t.width;t.data.datasets.forEach((s,i)=>{const{_data:a,indexAxis:l}=s,c=t.getDatasetMeta(i),u=a||s.data;if(Id([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:p}=sZ(c,u);const g=n.threshold||4*r;if(p<=g){rD(s);return}ot(a)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let x;switch(n.algorithm){case"lttb":x=nZ(u,f,p,r,n);break;case"min-max":x=rZ(u,f,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(t){eT(t)}};function aZ(t,e,n){const r=t.segments,s=t.points,i=e.points,a=[];for(const l of r){let{start:c,end:u}=l;u=tx(c,u,s);const d=c2(n,s[c],s[u],l.loop);if(!e.segments){a.push({source:l,target:d,start:s[c],end:s[u]});continue}const f=L_(e,d);for(const p of f){const g=c2(n,i[p.start],i[p.end],p.loop),x=I_(l,s,g);for(const v of x)a.push({source:v,target:p,start:{[n]:tT(d,g,"start",Math.max)},end:{[n]:tT(d,g,"end",Math.min)}})}}return a}function c2(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=Qn(s),i=Qn(i)),{property:t,start:s,end:i}}function oZ(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:l})=>{l=tx(a,l,s);const c=s[a],u=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:u.y}))}),i}function tx(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function tT(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function sD(t,e){let n=[],r=!1;return Vt(t)?(r=!0,n=t):n=oZ(t,e),n.length?new ex({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function nT(t){return t&&t.fill!==!1}function lZ(t,e,n){let s=t[e].fill;const i=[e];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Jt(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function cZ(t,e,n){const r=fZ(t);if(lt(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Jt(s)&&Math.floor(s)===s?uZ(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function uZ(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function dZ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:lt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function hZ(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:lt(t)?r=t.value:r=e.getBaseValue(),r}function fZ(t){const e=t.options,n=e.fill;let r=tt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function mZ(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,a=r.points,l=pZ(e,n);l.push(sD({x:null,y:e.bottom},r));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)gZ(s,a[d],l)}return new ex({points:s,options:{}})}function pZ(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function gZ(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:l,point:c}=xZ(i,e,"x");if(!(!c||a&&l)){if(a)r.unshift(c);else if(t.push(c),!l)break}}t.push(...r)}function xZ(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,a=t.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],f=a[d.start][n],p=a[d.end][n];if(Ui(s,f,p)){l=s===f,c=s===p;break}}return{first:l,last:c,point:r}}class iD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:It},e.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function yZ(t){const{chart:e,fill:n,line:r}=t;if(Jt(n))return bZ(e,n);if(n==="stack")return mZ(t);if(n==="shape")return!0;const s=vZ(t);return s instanceof iD?s:sD(s,r)}function bZ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function vZ(t){return(t.scale||{}).getPointPositionForValue?NZ(t):wZ(t)}function wZ(t){const{scale:e={},fill:n}=t,r=dZ(n,e);if(Jt(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function NZ(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,a=hZ(n,e,i),l=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,i);return new iD({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(e.getPointPositionForValue(c,a));return l}function tv(t,e,n){const r=yZ(e),{chart:s,index:i,line:a,scale:l,axis:c}=e,u=a.options,d=u.fill,f=u.backgroundColor,{above:p=f,below:g=f}=d||{},x=s.getDatasetMeta(i),v=R_(s,x);r&&a.points.length&&(Y0(t,n),SZ(t,{line:a,target:r,above:p,below:g,area:n,scale:l,axis:c,clip:v}),X0(t))}function SZ(t,e){const{line:n,target:r,above:s,below:i,area:a,scale:l,clip:c}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?(rT(t,r,a.top),nv(t,{line:n,target:r,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),rT(t,r,a.bottom)):u==="y"&&(sT(t,r,a.left),nv(t,{line:n,target:r,color:i,scale:l,property:u,clip:c}),t.restore(),t.save(),sT(t,r,a.right),d=s)),nv(t,{line:n,target:r,color:d,scale:l,property:u,clip:c}),t.restore()}function rT(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[tx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function sT(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[tx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function nv(t,e){const{line:n,target:r,property:s,color:i,scale:a,clip:l}=e,c=aZ(n,r,s);for(const{source:u,target:d,start:f,end:p}of c){const{style:{backgroundColor:g=i}={}}=u,x=r!==!0;t.save(),t.fillStyle=g,jZ(t,a,l,x&&c2(s,f,p)),t.beginPath();const v=!!n.pathSegment(t,u);let b;if(x){v?t.closePath():iT(t,r,p,s);const w=!!r.pathSegment(t,d,{move:v,reverse:!0});b=v&&w,b||iT(t,r,f,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function jZ(t,e,n,r){const s=e.chart.chartArea,{property:i,start:a,end:l}=r||{};if(i==="x"||i==="y"){let c,u,d,f;i==="x"?(c=a,u=s.top,d=l,f=s.bottom):(c=s.left,u=a,d=s.right,f=l),t.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function iT(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var CZ={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,a,l,c;for(a=0;a<r;++a)i=t.getDatasetMeta(a),l=i.dataset,c=null,l&&l.options&&l instanceof ex&&(c={visible:t.isDatasetVisible(a),index:a,fill:cZ(l,a,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(a=0;a<r;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=lZ(s,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&tv(t.ctx,l,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;nT(i)&&tv(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!nT(r)||n.drawTime!=="beforeDatasetDraw"||tv(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const aT=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},kZ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class oT extends ha{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Tt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=vn(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=aT(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let f=e;i.textAlign="left",i.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((x,v)=>{const b=r+n/2+i.measureText(x.text).width;(v===0||u[u.length-1]+b+2*l>a)&&(f+=d,u[u.length-(v>0?0:1)]=0,g+=d,p++),c[v]={left:0,top:g,row:p,width:b,height:s},u[u.length-1]+=b+l}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=l,p=0,g=0,x=0,v=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:S,itemHeight:j}=TZ(r,n,i,b,s);w>0&&g+j+2*l>d&&(f+=p+l,u.push({width:p,height:g}),x+=p+l,v++,p=g=0),c[w]={left:x,top:g,col:v,width:S,height:j},p=Math.max(p,S),g+=j+l}),f+=p,u.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=qc(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Yn(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Yn(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Yn(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Yn(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Y0(e,this),this._draw(),X0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=zt.color,c=qc(e.rtl,this.left,this.width),u=vn(a.font),{padding:d}=a,f=u.size,p=f/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:x,boxHeight:v,itemHeight:b}=aT(a,f),w=function(P,A,E){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;s.save();const D=tt(E.lineWidth,1);if(s.fillStyle=tt(E.fillStyle,l),s.lineCap=tt(E.lineCap,"butt"),s.lineDashOffset=tt(E.lineDashOffset,0),s.lineJoin=tt(E.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=tt(E.strokeStyle,l),s.setLineDash(tt(E.lineDash,[])),a.usePointStyle){const L={radius:v*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:D},_=c.xPlus(P,x/2),V=A+p;j_(s,L,_,V,a.pointStyleWidth&&x)}else{const L=A+Math.max((f-v)/2,0),_=c.leftForLtr(P,x),V=ml(E.borderRadius);s.beginPath(),Object.values(V).some(G=>G!==0)?kh(s,{x:_,y:L,w:x,h:v,radius:V}):s.rect(_,L,x,v),s.fill(),D!==0&&s.stroke()}s.restore()},S=function(P,A,E){Al(s,E.text,P,A+b/2,u,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},j=this.isHorizontal(),M=this._computeTitleHeight();j?g={x:Yn(i,this.left+d,this.right-r[0]),y:this.top+d+M,line:0}:g={x:this.left+d,y:Yn(i,this.top+M+d,this.bottom-n[0].height),line:0},O_(this.ctx,e.textDirection);const C=b+d;this.legendItems.forEach((P,A)=>{s.strokeStyle=P.fontColor,s.fillStyle=P.fontColor;const E=s.measureText(P.text).width,D=c.textAlign(P.textAlign||(P.textAlign=a.textAlign)),L=x+p+E;let _=g.x,V=g.y;c.setWidth(this.width),j?A>0&&_+L+d>this.right&&(V=g.y+=C,g.line++,_=g.x=Yn(i,this.left+d,this.right-r[g.line])):A>0&&V+C>this.bottom&&(_=g.x=_+n[g.line].width+d,g.line++,V=g.y=Yn(i,this.top+M+d,this.bottom-n[g.line].height));const G=c.x(_);if(w(G,V,P),_=FY(D,_+x+p,j?_+L:this.right,e.rtl),S(c.x(_),V,P),j)g.x+=L+d;else if(typeof P.text!="string"){const H=u.lineHeight;g.y+=aD(P,H)+d}else g.y+=C}),__(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=vn(n.font),s=tr(n.padding);if(!n.display)return;const i=qc(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,f=Yn(e.align,f,this.right-p);else{const x=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=u+Yn(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=Yn(l,f,f+p);a.textAlign=i.textAlign(bN(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Al(a,n.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,n=vn(e.font),r=tr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Ui(e,this.left,this.right)&&Ui(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Ui(e,s.left,s.left+s.width)&&Ui(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!PZ(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=kZ(s,r);s&&!i&&Tt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Tt(n.onHover,[e,r,this],this)}else r&&Tt(n.onClick,[e,r,this],this)}}function TZ(t,e,n,r,s){const i=EZ(r,t,e,n),a=MZ(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function EZ(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function MZ(t,e,n){let r=t;return typeof e.text!="string"&&(r=aD(e,n)),r}function aD(t,e){const n=t.text?t.text.length:0;return e*n}function PZ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var AZ={id:"legend",_element:oT,start(t,e,n){const r=t.legend=new oT({ctx:t.ctx,options:n,chart:t});Zn.configure(t,r,n),Zn.addBox(t,r)},stop(t){Zn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Zn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=tr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class MN extends ha{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Vt(r.text)?r.text.length:1;this._padding=tr(r.padding);const i=s*vn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,d,f;return this.isHorizontal()?(d=Yn(l,r,i),f=n+e,u=i-r):(a.position==="left"?(d=r+e,f=Yn(l,s,n),c=ht*-.5):(d=i-e,f=Yn(l,n,s),c=ht*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=vn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);Al(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:bN(n.align),textBaseline:"middle",translation:[a,l]})}}function OZ(t,e){const n=new MN({ctx:t.ctx,options:e,chart:t});Zn.configure(t,n,e),Zn.addBox(t,n),t.titleBlock=n}var _Z={id:"title",_element:MN,start(t,e,n){OZ(t,n)},stop(t){const e=t.titleBlock;Zn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Zn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qm=new WeakMap;var DZ={id:"subtitle",start(t,e,n){const r=new MN({ctx:t.ctx,options:n,chart:t});Zn.configure(t,r,n),Zn.addBox(t,r),qm.set(t,r)},stop(t){Zn.removeBox(t,qm.get(t)),qm.delete(t)},beforeUpdate(t,e,n){const r=qm.get(t);Zn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rd={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=n2(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Xs(t,e){return e&&(Vt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ri(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IZ(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function lT(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=vn(e.bodyFont),u=vn(e.titleFont),d=vn(e.footerFont),f=i.length,p=s.length,g=r.length,x=tr(e.padding);let v=x.height,b=0,w=r.reduce((M,C)=>M+C.before.length+C.lines.length+C.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),w){const M=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=g*M+(w-g)*c.lineHeight+(w-1)*e.bodySpacing}p&&(v+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let S=0;const j=function(M){b=Math.max(b,n.measureText(M).width+S)};return n.save(),n.font=u.string,Nt(t.title,j),n.font=c.string,Nt(t.beforeBody.concat(t.afterBody),j),S=e.displayColors?a+2+e.boxPadding:0,Nt(r,M=>{Nt(M.before,j),Nt(M.lines,j),Nt(M.after,j)}),S=0,n.font=d.string,Nt(t.footer,j),n.restore(),b+=x.width,{width:b,height:v}}function LZ(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function RZ(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function FZ(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),RZ(u,t,e,n)&&(u="center"),u}function cT(t,e,n){const r=n.yAlign||e.yAlign||LZ(t,n);return{xAlign:n.xAlign||e.xAlign||FZ(t,e,n,r),yAlign:r}}function VZ(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function zZ(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function uT(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=ml(a);let x=VZ(e,l);const v=zZ(e,c,u);return c==="center"?l==="left"?x+=u:l==="right"&&(x-=u):l==="left"?x-=Math.max(d,p)+s:l==="right"&&(x+=Math.max(f,g)+s),{x:Tn(x,0,r.width-e.width),y:Tn(v,0,r.height-e.height)}}function Km(t,e,n){const r=tr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function dT(t){return Xs([],Ri(t))}function $Z(t,e,n){return bo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function hT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const oD={beforeTitle:Pi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Pi,beforeBody:Pi,beforeLabel:Pi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ot(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Pi,afterBody:Pi,beforeFooter:Pi,footer:Pi,afterFooter:Pi};function jr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?oD[e].call(n,r):s}class fT extends ha{static positioners=Rd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new F_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=$Z(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=jr(r,"beforeTitle",this,e),i=jr(r,"title",this,e),a=jr(r,"afterTitle",this,e);let l=[];return l=Xs(l,Ri(s)),l=Xs(l,Ri(i)),l=Xs(l,Ri(a)),l}getBeforeBody(e,n){return dT(jr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Nt(e,i=>{const a={before:[],lines:[],after:[]},l=hT(r,i);Xs(a.before,Ri(jr(l,"beforeLabel",this,i))),Xs(a.lines,jr(l,"label",this,i)),Xs(a.after,Ri(jr(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return dT(jr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=jr(r,"beforeFooter",this,e),i=jr(r,"footer",this,e),a=jr(r,"afterFooter",this,e);let l=[];return l=Xs(l,Ri(s)),l=Xs(l,Ri(i)),l=Xs(l,Ri(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(IZ(this.chart,n[c]));return e.filter&&(l=l.filter((d,f,p)=>e.filter(d,f,p,r))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,r))),Nt(l,d=>{const f=hT(e.callbacks,d);s.push(jr(f,"labelColor",this,d)),i.push(jr(f,"labelPointStyle",this,d)),a.push(jr(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Rd[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=lT(this,r),u=Object.assign({},l,c),d=cT(this.chart,r,u),f=uT(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=ml(l),{x:p,y:g}=e,{width:x,height:v}=n;let b,w,S,j,M,C;return i==="center"?(M=g+v/2,s==="left"?(b=p,w=b-a,j=M+a,C=M-a):(b=p+x,w=b+a,j=M-a,C=M+a),S=b):(s==="left"?w=p+Math.max(c,d)+a:s==="right"?w=p+x-Math.max(u,f)-a:w=this.caretX,i==="top"?(j=g,M=j-a,b=w-a,S=w+a):(j=g+v,M=j+a,b=w+a,S=w-a),C=j),{x1:b,x2:w,x3:S,y1:j,y2:M,y3:C}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=qc(r.rtl,this.x,this.width);for(e.x=Km(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=vn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=vn(i.bodyFont),f=Km(this,"left",i),p=s.x(f),g=c<d.lineHeight?(d.lineHeight-c)/2:0,x=n.y+g;if(i.usePointStyle){const v={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=s.leftForLtr(p,u)+u/2,w=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,s2(e,v,b,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,s2(e,v,b,w)}else{e.lineWidth=lt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(p,u),b=s.leftForLtr(s.xPlus(p,1),u-2),w=ml(a.borderRadius);Object.values(w).some(S=>S!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,kh(e,{x:v,y:x,w:u,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),kh(e,{x:b,y:x+1,w:u-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,x,u,c),e.strokeRect(v,x,u,c),e.fillStyle=a.backgroundColor,e.fillRect(b,x+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,f=vn(r.bodyFont);let p=f.lineHeight,g=0;const x=qc(r.rtl,this.x,this.width),v=function(E){n.fillText(E,x.x(e.x+g),e.y+p/2),e.y+=p+i},b=x.textAlign(a);let w,S,j,M,C,P,A;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=Km(this,b,r),n.fillStyle=r.bodyColor,Nt(this.beforeBody,v),g=l&&b!=="right"?a==="center"?u/2+d:u+2+d:0,M=0,P=s.length;M<P;++M){for(w=s[M],S=this.labelTextColors[M],n.fillStyle=S,Nt(w.before,v),j=w.lines,l&&j.length&&(this._drawColorBox(n,e,M,x,r),p=Math.max(f.lineHeight,c)),C=0,A=j.length;C<A;++C)v(j[C]),p=f.lineHeight;Nt(w.after,v)}g=0,p=f.lineHeight,Nt(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=qc(r.rtl,this.x,this.width);for(e.x=Km(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=vn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:x}=ml(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+u-p,c),n.quadraticCurveTo(l+u,c,l+u,c+p),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+u,c+d-x),n.quadraticCurveTo(l+u,c+d,l+u-x,c+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+g,c+d),n.quadraticCurveTo(l,c+d,l,c+d-g),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=Rd[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=lT(this,e),c=Object.assign({},a,this._size),u=cT(n,e,c),d=uT(e,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=tr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),O_(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),__(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!ug(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!ug(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=Rd[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}var BZ={id:"tooltip",_element:fT,positioners:Rd,afterInit(t,e,n){n&&(t.tooltip=new fT({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},HZ=Object.freeze({__proto__:null,Colors:tZ,Decimation:iZ,Filler:CZ,Legend:AZ,SubTitle:DZ,Title:_Z,Tooltip:BZ});const UZ=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function WZ(t,e,n,r){const s=t.indexOf(e);if(s===-1)return UZ(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const qZ=(t,e)=>t===null?null:Tn(Math.round(t),0,e);function mT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class KZ extends Hl{static id="category";static defaults={ticks:{callback:mT}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ot(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:WZ(r,e,tt(n,e),this._addedLabels),qZ(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return mT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function GZ(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:p}=t,g=i||1,x=d-1,{min:v,max:b}=e,w=!ot(a),S=!ot(l),j=!ot(u),M=(b-v)/(f+1);let C=l5((b-v)/x/g)*g,P,A,E,D;if(C<1e-14&&!w&&!S)return[{value:v},{value:b}];D=Math.ceil(b/C)-Math.floor(v/C),D>x&&(C=l5(D*C/x/g)*g),ot(c)||(P=Math.pow(10,c),C=Math.ceil(C*P)/P),s==="ticks"?(A=Math.floor(v/C)*C,E=Math.ceil(b/C)*C):(A=v,E=b),w&&S&&i&&AY((l-a)/i,C/1e3)?(D=Math.round(Math.min((l-a)/C,d)),C=(l-a)/D,A=a,E=l):j?(A=w?a:A,E=S?l:E,D=u-1,C=(E-A)/D):(D=(E-A)/C,Gd(D,Math.round(D),C/1e3)?D=Math.round(D):D=Math.ceil(D));const L=Math.max(c5(C),c5(A));P=Math.pow(10,ot(c)?L:c),A=Math.round(A*P)/P,E=Math.round(E*P)/P;let _=0;for(w&&(p&&A!==a?(n.push({value:a}),A<a&&_++,Gd(Math.round((A+_*C)*P)/P,a,pT(a,M,t))&&_++):A<a&&_++);_<D;++_){const V=Math.round((A+_*C)*P)/P;if(S&&V>l)break;n.push({value:V})}return S&&p&&E!==l?n.length&&Gd(n[n.length-1].value,l,pT(l,M,t))?n[n.length-1].value=l:n.push({value:l}):(!S||E===l)&&n.push({value:E}),n}function pT(t,e,{horizontal:n,minRotation:r}){const s=Is(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class xg extends Hl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ot(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=oi(s),u=oi(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=GZ(s,i);return e.bounds==="ticks"&&p_(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return hf(e,this.chart.options.locale,this.options.ticks.format)}}class YZ extends xg{static id="linear";static defaults={ticks:{callback:G0.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Jt(e)?e:0,this.max=Jt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Is(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Eh=t=>Math.floor(Wa(t)),Yo=(t,e)=>Math.pow(10,Eh(t)+e);function gT(t){return t/Math.pow(10,Eh(t))===1}function xT(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function XZ(t,e){const n=e-t;let r=Eh(n);for(;xT(t,e,r)>10;)r++;for(;xT(t,e,r)<10;)r--;return Math.min(r,Eh(t))}function QZ(t,{min:e,max:n}){e=$r(t.min,e);const r=[],s=Eh(e);let i=XZ(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=s>i?Math.pow(10,s):0,u=Math.round((e-c)*a)/a,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,i)),p=$r(t.min,Math.round((c+d+f*Math.pow(10,i))*a)/a);for(;p<n;)r.push({value:p,major:gT(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,a=i>=0?1:a),p=Math.round((c+d+f*Math.pow(10,i))*a)/a;const g=$r(t.max,p);return r.push({value:g,major:gT(g),significand:f}),r}class JZ extends Hl{static id="logarithmic";static defaults={ticks:{callback:G0.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=xg.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Jt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Jt(e)?Math.max(0,e):null,this.max=Jt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Jt(this._userMin)&&(this.min=e===Yo(this.min,0)?Yo(this.min,-1):Yo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=l=>r=e?r:l,a=l=>s=n?s:l;r===s&&(r<=0?(i(1),a(10)):(i(Yo(r,-1)),a(Yo(s,1)))),r<=0&&i(Yo(s,-1)),s<=0&&a(Yo(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=QZ(n,this);return e.bounds==="ticks"&&p_(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":hf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Wa(e),this._valueRange=Wa(this.max)-Wa(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Wa(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function u2(t){const e=t.ticks;if(e.display&&t.display){const n=tr(e.backdropPadding);return tt(e.font&&e.font.size,zt.font.size)+n.height}return 0}function ZZ(t,e,n){return n=Vt(n)?n:[n],{w:GY(t,e.string,n),h:n.length*e.lineHeight}}function yT(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function eee(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,a=t.options.pointLabels,l=a.centerPointLabels?ht/i:0;for(let c=0;c<i;c++){const u=a.setContext(t.getPointLabelContext(c));s[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+s[c],l),f=vn(u.font),p=ZZ(t.ctx,f,t._pointLabels[c]);r[c]=p;const g=Qn(t.getIndexAngle(c)+l),x=Math.round(xN(g)),v=yT(x,d.x,p.w,0,180),b=yT(x,d.y,p.h,90,270);tee(n,e,g,v,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=see(t,r,s)}function tee(t,e,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,c=0;r.start<e.l?(l=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-l)):r.end>e.r&&(l=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),s.start<e.t?(c=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function nee(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:a,size:l}=n,c=t.getPointPosition(e,r+s+a,i),u=Math.round(xN(Qn(c.angle+sn))),d=oee(c.y,l.h,u),f=iee(u),p=aee(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:p,top:d,right:p+l.w,bottom:d+l.h}}function ree(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(qi({x:n,y:r},e)||qi({x:n,y:i},e)||qi({x:s,y:r},e)||qi({x:s,y:i},e))}function see(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:a,display:l}=i.pointLabels,c={extra:u2(i)/2,additionalAngle:a?ht/s:0};let u;for(let d=0;d<s;d++){c.padding=n[d],c.size=e[d];const f=nee(t,d,c);r.push(f),l==="auto"&&(f.visible=ree(f,u),f.visible&&(u=f))}return r}function iee(t){return t===0||t===180?"center":t<180?"left":"right"}function aee(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function oee(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function lee(t,e,n){const{left:r,top:s,right:i,bottom:a}=n,{backdropColor:l}=e;if(!ot(l)){const c=ml(e.borderRadius),u=tr(e.backdropPadding);t.fillStyle=l;const d=r-u.left,f=s-u.top,p=i-r+u.width,g=a-s+u.height;Object.values(c).some(x=>x!==0)?(t.beginPath(),kh(t,{x:d,y:f,w:p,h:g,radius:c}),t.fill()):t.fillRect(d,f,p,g)}}function cee(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const a=r.setContext(t.getPointLabelContext(s));lee(n,a,i);const l=vn(a.font),{x:c,y:u,textAlign:d}=i;Al(n,t._pointLabels[s],c,u+l.lineHeight/2,l,{color:a.color,textAlign:d,textBaseline:"middle"})}}function lD(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,It);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=t.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function uee(t,e,n,r,s){const i=t.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!r||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),lD(t,n,a,r),i.closePath(),i.stroke(),i.restore())}function dee(t,e,n){return bo(t,{label:n,index:e,type:"pointLabel"})}class hee extends xg{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:G0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=tr(u2(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Jt(e)&&!isNaN(e)?e:0,this.max=Jt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/u2(this.options))}generateTickLabels(e){xg.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=Tt(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?eee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=It/(this._pointLabels.length||1),r=this.options.startAngle||0;return Qn(e*n+Is(r))}getDistanceFromCenterForValue(e){if(ot(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ot(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return dee(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-sn+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),lD(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,a=this._pointLabels.length;let l,c,u;if(n.pointLabels.display&&cee(this,a),s.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(f),g=s.setContext(p),x=i.setContext(p);uee(this,g,c,a,x)}}),r.display){for(e.save(),l=a-1;l>=0;l--){const d=r.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:p}=d;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(c)),d=vn(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=tr(u.backdropPadding);e.fillRect(-a/2-f.left,-i-d.size/2-f.top,a+f.width,d.size+f.height)}Al(e,l.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}const nx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pr=Object.keys(nx);function bT(t,e){return t-e}function vT(t,e){if(ot(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Jt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(nu(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function wT(t,e,n,r){const s=Pr.length;for(let i=Pr.indexOf(t);i<s-1;++i){const a=nx[Pr[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return Pr[i]}return Pr[s-1]}function fee(t,e,n,r,s){for(let i=Pr.length-1;i>=Pr.indexOf(n);i--){const a=Pr[i];if(nx[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Pr[n?Pr.indexOf(n):0]}function mee(t){for(let e=Pr.indexOf(t)+1,n=Pr.length;e<n;++e)if(nx[Pr[e]].common)return Pr[e]}function NT(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=yN(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function pee(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function ST(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:pee(t,r,s,n)}class d2 extends Hl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new gQ._date(e.adapters.date);s.init(n),Kd(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:vT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Jt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Jt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=IY(s,i,a);return this._unit=n.unit||(r.autoSkip?wT(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):fee(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:mee(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),ST(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Tn(n,0,a),r=Tn(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||wT(i.minUnit,n,r,this._getLabelCapacity(n)),l=tt(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=nu(c)||c===!0,d={};let f=n,p,g;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<r;p=+e.add(p,l,a),g++)NT(d,p,x);return(p===r||s.bounds==="ticks"||g===1)&&NT(d,p,x),Object.keys(d).sort(bT).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Tt(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],p=r[n],g=u&&f&&p&&p.major;return this._adapter.format(e,s||(g?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Is(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,ST(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(vT(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return y_(e.sort(bT))}}function Gm(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Wi(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Wi(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class gee extends d2{static id="timeseries";static defaults=d2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gm(n,this.min),this._tableRange=Gm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Gm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Gm(this._table,r*this._tableRange+this._minPos,!0)}}var xee=Object.freeze({__proto__:null,CategoryScale:KZ,LinearScale:YZ,LogarithmicScale:JZ,RadialLinearScale:hee,TimeScale:d2,TimeSeriesScale:gee});const yee=[pQ,GJ,HZ,xee],cD="label";function jT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function bee(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function uD(t,e){t.labels=e}function dD(t,e,n=cD){const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function vee(t,e=cD){const n={labels:[],datasets:[]};return uD(n,t.labels),dD(n,t.datasets,e),n}function wee(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...p}=t,g=T.useRef(null),x=T.useRef(null),v=()=>{g.current&&(x.current=new Z0(g.current,{type:a,data:vee(l,i),options:c&&{...c},plugins:u}),jT(e,x.current))},b=()=>{jT(e,null),x.current&&(x.current.destroy(),x.current=null)};return T.useEffect(()=>{!s&&x.current&&c&&bee(x.current,c)},[s,c]),T.useEffect(()=>{!s&&x.current&&uD(x.current.config.data,l.labels)},[s,l.labels]),T.useEffect(()=>{!s&&x.current&&l.datasets&&dD(x.current.config.data,l.datasets,i)},[s,l.datasets]),T.useEffect(()=>{x.current&&(s?(b(),setTimeout(v)):x.current.update(f))},[s,c,l.labels,l.datasets,f]),T.useEffect(()=>{x.current&&(b(),setTimeout(v))},[a]),T.useEffect(()=>(v(),()=>b()),[]),o.jsx("canvas",{ref:g,role:"img",height:n,width:r,...p,children:d})}const Nee=T.forwardRef(wee);function See(t,e){return Z0.register(e),T.forwardRef((n,r)=>o.jsx(Nee,{...n,ref:r,type:t}))}const jee=See("line",$_);Z0.register(...yee);function Cee({dashboardStatistic:t,statisticFollow:e}){const n={all:"Tng doanh thu & s n hng",member:"Doanh thu & n hng - Khch thnh vin",guest:"Doanh thu & n hng - Khch vng lai"},r={labels:t.map(i=>i.period),datasets:[{label:"Doanh thu (VND)",data:t.map(i=>Number(e==="all"?i.totalRevenue:e==="member"?i.member.memberRevenue:i.guest.guestRevenue)),backgroundColor:"green",borderColor:"green",borderWidth:2,tension:.4,yAxisID:"y-doanhthu"},{label:"Tng n hng",data:t.map(i=>Number(e==="all"?i.totalOrders:e==="member"?i.member.memberOrders:i.guest.guestOrders)),backgroundColor:"orange",borderColor:"orange",borderWidth:2,tension:.4,yAxisID:"y-donhang"}]},s={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{font:{size:14},padding:20}},title:{display:!0,text:n[e],font:{size:18,weight:"bold"},padding:{bottom:20}},tooltip:{callbacks:{label:function(i){const a=i.dataset.label||"",l=i.parsed.y;return a.includes("Doanh thu")?`${a}: ${new Intl.NumberFormat("vi-VN").format(l)} `:`${a}: ${l} n`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},"y-doanhthu":{type:"linear",position:"left",beginAtZero:!0,title:{display:!0,text:"Doanh thu (VND)",font:{size:14}},ticks:{callback:function(i){return new Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"short"}).format(i)}}},"y-donhang":{type:"linear",position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1},title:{display:!0,text:"S n hng",font:{size:14}},ticks:{stepSize:1,font:{size:12}}}}};return o.jsx("div",{className:"w-full h-[50rem]",children:o.jsx(jee,{data:r,options:s})})}function kee(){const[t,e]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[n,r]=T.useState(t),[s,i]=T.useState("all"),{data:a,isLoading:l}=Fe({queryKey:["overview",n],queryFn:()=>XG(n)}),{data:c,isLoading:u}=Fe({queryKey:["dashboardStatistic",n],queryFn:()=>QG(n)}),d=g=>{const{name:x,value:v}=g.target;e(b=>({...b,[x]:v}))},f=()=>{r({...t})},p=g=>Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"long"}).format(g);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Tng quan"}),o.jsx("p",{className:"pt-2",children:"Shop bn qun o .NTK"}),o.jsxs("div",{className:"flex gap-4 text-[1.4rem] py-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupBy",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupBy",id:"groupBy",value:t.groupBy,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"px-6 h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>f(),children:[o.jsx(F,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>r({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:dN})})]})]})]}),l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:Array.from({length:4}).map((g,x)=>o.jsxs("div",{className:" shadow-md border border-gray-200 space-y-4 bg-gray-100 p-8 rounded-lg animate-pulse",children:[o.jsx("span",{className:"block w-[20rem] h-[1.5rem] rounded-full bg-gray-200"}),o.jsx("div",{className:"w-[4rem] h-[4rem] bg-gray-200 rounded-xl"}),o.jsx("span",{className:"block w-[15rem] h-[1.5rem] bg-gray-200 rounded-full"})]},x))}):a&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:[o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#7686ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng n hng"}),o.jsx("div",{className:"text-[3.2rem]",children:a.totalOrders}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#00d193] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Doanh thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalRevenue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#ff9a5b] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng cha thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalUnpaid)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#6c62ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Gi tr TB / n"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.avgOrderValue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]})]})]}),o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-bold",children:"Thng k doanh thu"}),o.jsxs("div",{className:"space-y-2 mt-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"all",name:"radio",className:"",checked:s==="all",style:{scale:"1.2"},onChange:()=>i("all")}),o.jsx("label",{htmlFor:"all",children:"Tt c"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"member",name:"radio",className:"",checked:s==="member",style:{scale:"1.2"},onChange:()=>i("member")}),o.jsx("label",{htmlFor:"member",children:"Khch thnh vin"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"guest",name:"radio",className:"",checked:s==="guest",style:{scale:"1.2"},onChange:()=>i("guest")}),o.jsx("label",{htmlFor:"guest",children:"Khch vng lai"})]})]}),u?o.jsx("div",{children:"ang ti d liu"}):o.jsx(Cee,{dashboardStatistic:c,statisticFollow:s})]})]})}var ff=t=>t.type==="checkbox",il=t=>t instanceof Date,Er=t=>t==null;const hD=t=>typeof t=="object";var fn=t=>!Er(t)&&!Array.isArray(t)&&hD(t)&&!il(t),fD=t=>fn(t)&&t.target?ff(t.target)?t.target.checked:t.target.value:t,Tee=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,mD=(t,e)=>t.has(Tee(e)),Eee=t=>{const e=t.constructor&&t.constructor.prototype;return fn(e)&&e.hasOwnProperty("isPrototypeOf")},PN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(PN&&(t instanceof Blob||r))&&(n||fn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!Eee(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=bn(t[s]));else return t;return e}var rx=t=>/^\w*$/.test(t),Yt=t=>t===void 0,AN=t=>Array.isArray(t)?t.filter(Boolean):[],ON=t=>AN(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(t,e,n)=>{if(!e||!fn(t))return n;const r=(rx(e)?[e]:ON(e)).reduce((s,i)=>Er(s)?s:s[i],t);return Yt(r)||r===t?Yt(t[e])?n:t[e]:r},Br=t=>typeof t=="boolean",wt=(t,e,n)=>{let r=-1;const s=rx(e)?[e]:ON(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=fn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const yg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},As={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pD=ve.createContext(null);pD.displayName="HookFormContext";const _N=()=>ve.useContext(pD);var gD=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==As.all&&(e._proxyFormState[a]=!r||As.all),n&&(n[a]=!0),t[a]}});return s};const DN=typeof window<"u"?ve.useLayoutEffect:ve.useEffect;function Mee(t){const e=_N(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=ve.useState(n._formState),c=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return DN(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),ve.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ve.useMemo(()=>gD(a,n,c.current,!1),[a,n])}var Ur=t=>typeof t=="string",xD=(t,e,n,r,s)=>Ur(t)?(r&&e.watch.add(t),Pe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Pe(n,i))):(r&&(e.watchAll=!0),n),h2=t=>Er(t)||!hD(t);function Hi(t,e,n=new WeakSet){if(h2(t)||h2(e))return t===e;if(il(t)&&il(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(il(a)&&il(l)||fn(a)&&fn(l)||Array.isArray(a)&&Array.isArray(l)?!Hi(a,l,n):a!==l)return!1}}return!0}function Pee(t){const e=_N(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=ve.useRef(s),u=ve.useRef(l),d=ve.useRef(void 0);u.current=l;const f=ve.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,g]=ve.useState(u.current?u.current(f):f);return DN(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:x=>{if(!i){const v=xD(r,n._names,x.values||n._formValues,!1,c.current);if(u.current){const b=u.current(v);Hi(b,d.current)||(g(b),d.current=b)}else g(v)}}}),[n,i,r,a]),ve.useEffect(()=>n._removeUnmounted()),p}function Aee(t){const e=_N(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=mD(s._names.array,n),c=ve.useMemo(()=>Pe(s._formValues,n,Pe(s._defaultValues,n,a)),[s,n,a]),u=Pee({control:s,name:n,defaultValue:c,exact:!0}),d=Mee({control:s,name:n,exact:!0}),f=ve.useRef(t),p=ve.useRef(void 0),g=ve.useRef(s.register(n,{...t.rules,value:u,...Br(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const x=ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Pe(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Pe(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Pe(d.validatingFields,n)},error:{enumerable:!0,get:()=>Pe(d.errors,n)}}),[d,n]),v=ve.useCallback(j=>g.current.onChange({target:{value:fD(j),name:n},type:yg.CHANGE}),[n]),b=ve.useCallback(()=>g.current.onBlur({target:{value:Pe(s._formValues,n),name:n},type:yg.BLUR}),[n,s._formValues]),w=ve.useCallback(j=>{const M=Pe(s._fields,n);M&&j&&(M._f.ref={focus:()=>j.focus&&j.focus(),select:()=>j.select&&j.select(),setCustomValidity:C=>j.setCustomValidity(C),reportValidity:()=>j.reportValidity()})},[s._fields,n]),S=ve.useMemo(()=>({name:n,value:u,...Br(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:b,ref:w}),[n,r,d.disabled,v,b,w,u]);return ve.useEffect(()=>{const j=s._options.shouldUnregister||i,M=p.current;M&&M!==n&&!l&&s.unregister(M),s.register(n,{...f.current.rules,...Br(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(P,A)=>{const E=Pe(s._fields,P);E&&E._f&&(E._f.mount=A)};if(C(n,!0),j){const P=bn(Pe(s._options.defaultValues,n,f.current.defaultValue));wt(s._defaultValues,n,P),Yt(Pe(s._formValues,n))&&wt(s._formValues,n,P)}return!l&&s.register(n),p.current=n,()=>{(l?j&&!s._state.action:j)?s.unregister(n):C(n,!1)}},[n,s,l,i]),ve.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ve.useMemo(()=>({field:S,formState:d,fieldState:x}),[S,d,x])}const li=t=>t.render(Aee(t));var yD=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Qd=t=>Array.isArray(t)?t:[t],CT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function bD(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&fn(s)&&i){const a=bD(s,i);fn(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var kr=t=>fn(t)&&!Object.keys(t).length,IN=t=>t.type==="file",Os=t=>typeof t=="function",bg=t=>{if(!PN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},vD=t=>t.type==="select-multiple",LN=t=>t.type==="radio",Oee=t=>LN(t)||ff(t),rv=t=>bg(t)&&t.isConnected;function _ee(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Yt(t)?r++:t[e[r++]];return t}function Dee(t){for(const e in t)if(t.hasOwnProperty(e)&&!Yt(t[e]))return!1;return!0}function ln(t,e){const n=Array.isArray(e)?e:rx(e)?[e]:ON(e),r=n.length===1?t:_ee(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(fn(r)&&kr(r)||Array.isArray(r)&&Dee(r))&&ln(t,n.slice(0,-1)),t}var Iee=t=>{for(const e in t)if(Os(t[e]))return!0;return!1};function wD(t){return Array.isArray(t)||fn(t)&&!Iee(t)}function f2(t,e={}){for(const n in t)wD(t[n])?(e[n]=Array.isArray(t[n])?[]:{},f2(t[n],e[n])):Yt(t[n])||(e[n]=!0);return e}function Pc(t,e,n){n||(n=f2(e));for(const r in t)wD(t[r])?Yt(e)||h2(n[r])?n[r]=f2(t[r],Array.isArray(t[r])?[]:{}):Pc(t[r],Er(e)?{}:e[r],n[r]):n[r]=!Hi(t[r],e[r]);return n}const kT={value:!1,isValid:!1},TT={value:!0,isValid:!0};var ND=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Yt(t[0].attributes.value)?Yt(t[0].value)||t[0].value===""?TT:{value:t[0].value,isValid:!0}:TT:kT}return kT},SD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Yt(t)?t:e?t===""?NaN:t&&+t:n&&Ur(t)?new Date(t):r?r(t):t;const ET={isValid:!1,value:null};var jD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,ET):ET;function MT(t){const e=t.ref;return IN(e)?e.files:LN(e)?jD(t.refs).value:vD(e)?[...e.selectedOptions].map(({value:n})=>n):ff(e)?ND(t.refs).value:SD(Yt(e.value)?t.ref.value:e.value,t)}var Lee=(t,e,n,r)=>{const s={};for(const i of t){const a=Pe(e,i);a&&wt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},vg=t=>t instanceof RegExp,jd=t=>Yt(t)?t:vg(t)?t.source:fn(t)?vg(t.value)?t.value.source:t.value:t,PT=t=>({isOnSubmit:!t||t===As.onSubmit,isOnBlur:t===As.onBlur,isOnChange:t===As.onChange,isOnAll:t===As.all,isOnTouch:t===As.onTouched});const AT="AsyncFunction";var Ree=t=>!!t&&!!t.validate&&!!(Os(t.validate)&&t.validate.constructor.name===AT||fn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===AT)),Fee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),OT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Jd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Pe(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Jd(l,e))break}else if(fn(l)&&Jd(l,e))break}}};function _T(t,e,n){const r=Pe(t,n);if(r||rx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Pe(e,i),l=Pe(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var Vee=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return kr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||As.all))},zee=(t,e,n)=>!t||!e||t===e||Qd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),$ee=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Bee=(t,e)=>!AN(Pe(t,e)).length&&ln(t,e),Hee=(t,e,n)=>{const r=Qd(Pe(t,n));return wt(r,"root",e[n]),wt(t,n,r),t};function DT(t,e,n="validate"){if(Ur(t)||Array.isArray(t)&&t.every(Ur)||Br(t)&&!t)return{type:n,message:Ur(t)?t:"",ref:e}}var Cc=t=>fn(t)&&!vg(t)?t:{value:t,message:""},IT=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:g,validate:x,name:v,valueAsNumber:b,mount:w}=t._f,S=Pe(n,v);if(!w||e.has(v))return{};const j=l?l[0]:a,M=V=>{s&&j.reportValidity&&(j.setCustomValidity(Br(V)?"":V||""),j.reportValidity())},C={},P=LN(a),A=ff(a),E=P||A,D=(b||IN(a))&&Yt(a.value)&&Yt(S)||bg(a)&&a.value===""||S===""||Array.isArray(S)&&!S.length,L=yD.bind(null,v,r,C),_=(V,G,H,W=Ai.maxLength,R=Ai.minLength)=>{const $=V?G:H;C[v]={type:V?W:R,message:$,ref:a,...L(V?W:R,$)}};if(i?!Array.isArray(S)||!S.length:c&&(!E&&(D||Er(S))||Br(S)&&!S||A&&!ND(l).isValid||P&&!jD(l).isValid)){const{value:V,message:G}=Ur(c)?{value:!!c,message:c}:Cc(c);if(V&&(C[v]={type:Ai.required,message:G,ref:j,...L(Ai.required,G)},!r))return M(G),C}if(!D&&(!Er(f)||!Er(p))){let V,G;const H=Cc(p),W=Cc(f);if(!Er(S)&&!isNaN(S)){const R=a.valueAsNumber||S&&+S;Er(H.value)||(V=R>H.value),Er(W.value)||(G=R<W.value)}else{const R=a.valueAsDate||new Date(S),$=X=>new Date(new Date().toDateString()+" "+X),z=a.type=="time",K=a.type=="week";Ur(H.value)&&S&&(V=z?$(S)>$(H.value):K?S>H.value:R>new Date(H.value)),Ur(W.value)&&S&&(G=z?$(S)<$(W.value):K?S<W.value:R<new Date(W.value))}if((V||G)&&(_(!!V,H.message,W.message,Ai.max,Ai.min),!r))return M(C[v].message),C}if((u||d)&&!D&&(Ur(S)||i&&Array.isArray(S))){const V=Cc(u),G=Cc(d),H=!Er(V.value)&&S.length>+V.value,W=!Er(G.value)&&S.length<+G.value;if((H||W)&&(_(H,V.message,G.message),!r))return M(C[v].message),C}if(g&&!D&&Ur(S)){const{value:V,message:G}=Cc(g);if(vg(V)&&!S.match(V)&&(C[v]={type:Ai.pattern,message:G,ref:a,...L(Ai.pattern,G)},!r))return M(G),C}if(x){if(Os(x)){const V=await x(S,n),G=DT(V,j);if(G&&(C[v]={...G,...L(Ai.validate,G.message)},!r))return M(G.message),C}else if(fn(x)){let V={};for(const G in x){if(!kr(V)&&!r)break;const H=DT(await x[G](S,n),j,G);H&&(V={...H,...L(G,H.message)},M(H.message),r&&(C[v]=V))}if(!kr(V)&&(C[v]={ref:j,...V},!r))return C}}return M(!0),C};const Uee={mode:As.onSubmit,reValidateMode:As.onChange,shouldFocusError:!0};function Wee(t={}){let e={...Uee,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Os(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=fn(e.defaultValues)||fn(e.values)?bn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:bn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:CT(),state:CT()},g=e.criteriaMode===As.all,x=q=>te=>{clearTimeout(u),u=setTimeout(q,te)},v=async q=>{if(!e.disabled&&(d.isValid||f.isValid||q)){const te=e.resolver?kr((await A()).errors):await D(r,!0);te!==n.isValid&&p.state.next({isValid:te})}},b=(q,te)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((q||Array.from(l.mount)).forEach(ue=>{ue&&(te?wt(n.validatingFields,ue,te):ln(n.validatingFields,ue))}),p.state.next({validatingFields:n.validatingFields,isValidating:!kr(n.validatingFields)}))},w=(q,te=[],ue,Ae,ke=!0,Ce=!0)=>{if(Ae&&ue&&!e.disabled){if(a.action=!0,Ce&&Array.isArray(Pe(r,q))){const Ve=ue(Pe(r,q),Ae.argA,Ae.argB);ke&&wt(r,q,Ve)}if(Ce&&Array.isArray(Pe(n.errors,q))){const Ve=ue(Pe(n.errors,q),Ae.argA,Ae.argB);ke&&wt(n.errors,q,Ve),Bee(n.errors,q)}if((d.touchedFields||f.touchedFields)&&Ce&&Array.isArray(Pe(n.touchedFields,q))){const Ve=ue(Pe(n.touchedFields,q),Ae.argA,Ae.argB);ke&&wt(n.touchedFields,q,Ve)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Pc(s,i)),p.state.next({name:q,isDirty:_(q,te),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wt(i,q,te)},S=(q,te)=>{wt(n.errors,q,te),p.state.next({errors:n.errors})},j=q=>{n.errors=q,p.state.next({errors:n.errors,isValid:!1})},M=(q,te,ue,Ae)=>{const ke=Pe(r,q);if(ke){const Ce=Pe(i,q,Yt(ue)?Pe(s,q):ue);Yt(Ce)||Ae&&Ae.defaultChecked||te?wt(i,q,te?Ce:MT(ke._f)):H(q,Ce),a.mount&&v()}},C=(q,te,ue,Ae,ke)=>{let Ce=!1,Ve=!1;const ct={name:q};if(!e.disabled){if(!ue||Ae){(d.isDirty||f.isDirty)&&(Ve=n.isDirty,n.isDirty=ct.isDirty=_(),Ce=Ve!==ct.isDirty);const ft=Hi(Pe(s,q),te);Ve=!!Pe(n.dirtyFields,q),ft?ln(n.dirtyFields,q):wt(n.dirtyFields,q,!0),ct.dirtyFields=n.dirtyFields,Ce=Ce||(d.dirtyFields||f.dirtyFields)&&Ve!==!ft}if(ue){const ft=Pe(n.touchedFields,q);ft||(wt(n.touchedFields,q,ue),ct.touchedFields=n.touchedFields,Ce=Ce||(d.touchedFields||f.touchedFields)&&ft!==ue)}Ce&&ke&&p.state.next(ct)}return Ce?ct:{}},P=(q,te,ue,Ae)=>{const ke=Pe(n.errors,q),Ce=(d.isValid||f.isValid)&&Br(te)&&n.isValid!==te;if(e.delayError&&ue?(c=x(()=>S(q,ue)),c(e.delayError)):(clearTimeout(u),c=null,ue?wt(n.errors,q,ue):ln(n.errors,q)),(ue?!Hi(ke,ue):ke)||!kr(Ae)||Ce){const Ve={...Ae,...Ce&&Br(te)?{isValid:te}:{},errors:n.errors,name:q};n={...n,...Ve},p.state.next(Ve)}},A=async q=>{b(q,!0);const te=await e.resolver(i,e.context,Lee(q||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(q),te},E=async q=>{const{errors:te}=await A(q);if(q)for(const ue of q){const Ae=Pe(te,ue);Ae?wt(n.errors,ue,Ae):ln(n.errors,ue)}else n.errors=te;return te},D=async(q,te,ue={valid:!0})=>{for(const Ae in q){const ke=q[Ae];if(ke){const{_f:Ce,...Ve}=ke;if(Ce){const ct=l.array.has(Ce.name),ft=ke._f&&Ree(ke._f);ft&&d.validatingFields&&b([Ce.name],!0);const ar=await IT(ke,l.disabled,i,g,e.shouldUseNativeValidation&&!te,ct);if(ft&&d.validatingFields&&b([Ce.name]),ar[Ce.name]&&(ue.valid=!1,te))break;!te&&(Pe(ar,Ce.name)?ct?Hee(n.errors,ar,Ce.name):wt(n.errors,Ce.name,ar[Ce.name]):ln(n.errors,Ce.name))}!kr(Ve)&&await D(Ve,te,ue)}}return ue.valid},L=()=>{for(const q of l.unMount){const te=Pe(r,q);te&&(te._f.refs?te._f.refs.every(ue=>!rv(ue)):!rv(te._f.ref))&&ce(q)}l.unMount=new Set},_=(q,te)=>!e.disabled&&(q&&te&&wt(i,q,te),!Hi(X(),s)),V=(q,te,ue)=>xD(q,l,{...a.mount?i:Yt(te)?s:Ur(q)?{[q]:te}:te},ue,te),G=q=>AN(Pe(a.mount?i:s,q,e.shouldUnregister?Pe(s,q,[]):[])),H=(q,te,ue={})=>{const Ae=Pe(r,q);let ke=te;if(Ae){const Ce=Ae._f;Ce&&(!Ce.disabled&&wt(i,q,SD(te,Ce)),ke=bg(Ce.ref)&&Er(te)?"":te,vD(Ce.ref)?[...Ce.ref.options].forEach(Ve=>Ve.selected=ke.includes(Ve.value)):Ce.refs?ff(Ce.ref)?Ce.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(ke)?Ve.checked=!!ke.find(ct=>ct===Ve.value):Ve.checked=ke===Ve.value||!!ke)}):Ce.refs.forEach(Ve=>Ve.checked=Ve.value===ke):IN(Ce.ref)?Ce.ref.value="":(Ce.ref.value=ke,Ce.ref.type||p.state.next({name:q,values:bn(i)})))}(ue.shouldDirty||ue.shouldTouch)&&C(q,ke,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&K(q)},W=(q,te,ue)=>{for(const Ae in te){if(!te.hasOwnProperty(Ae))return;const ke=te[Ae],Ce=q+"."+Ae,Ve=Pe(r,Ce);(l.array.has(q)||fn(ke)||Ve&&!Ve._f)&&!il(ke)?W(Ce,ke,ue):H(Ce,ke,ue)}},R=(q,te,ue={})=>{const Ae=Pe(r,q),ke=l.array.has(q),Ce=bn(te);wt(i,q,Ce),ke?(p.array.next({name:q,values:bn(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ue.shouldDirty&&p.state.next({name:q,dirtyFields:Pc(s,i),isDirty:_(q,Ce)})):Ae&&!Ae._f&&!Er(Ce)?W(q,Ce,ue):H(q,Ce,ue),OT(q,l)&&p.state.next({...n,name:q}),p.state.next({name:a.mount?q:void 0,values:bn(i)})},$=async q=>{a.mount=!0;const te=q.target;let ue=te.name,Ae=!0;const ke=Pe(r,ue),Ce=ft=>{Ae=Number.isNaN(ft)||il(ft)&&isNaN(ft.getTime())||Hi(ft,Pe(i,ue,ft))},Ve=PT(e.mode),ct=PT(e.reValidateMode);if(ke){let ft,ar;const Hs=te.type?MT(ke._f):fD(q),xr=q.type===yg.BLUR||q.type===yg.FOCUS_OUT,_x=!Fee(ke._f)&&!e.resolver&&!Pe(n.errors,ue)&&!ke._f.deps||$ee(xr,Pe(n.touchedFields,ue),n.isSubmitted,ct,Ve),Kl=OT(ue,l,xr);wt(i,ue,Hs),xr?(!te||!te.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(q),c&&c(0)):ke._f.onChange&&ke._f.onChange(q);const Gl=C(ue,Hs,xr),Dx=!kr(Gl)||Kl;if(!xr&&p.state.next({name:ue,type:q.type,values:bn(i)}),_x)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?xr&&v():xr||v()),Dx&&p.state.next({name:ue,...Kl?{}:Gl});if(!xr&&Kl&&p.state.next({...n}),e.resolver){const{errors:Yl}=await A([ue]);if(Ce(Hs),Ae){const Au=_T(n.errors,r,ue),Xl=_T(Yl,r,Au.name||ue);ft=Xl.error,ue=Xl.name,ar=kr(Yl)}}else b([ue],!0),ft=(await IT(ke,l.disabled,i,g,e.shouldUseNativeValidation))[ue],b([ue]),Ce(Hs),Ae&&(ft?ar=!1:(d.isValid||f.isValid)&&(ar=await D(r,!0)));Ae&&(ke._f.deps&&(!Array.isArray(ke._f.deps)||ke._f.deps.length>0)&&K(ke._f.deps),P(ue,ar,ft,Gl))}},z=(q,te)=>{if(Pe(n.errors,te)&&q.focus)return q.focus(),1},K=async(q,te={})=>{let ue,Ae;const ke=Qd(q);if(e.resolver){const Ce=await E(Yt(q)?q:ke);ue=kr(Ce),Ae=q?!ke.some(Ve=>Pe(Ce,Ve)):ue}else q?(Ae=(await Promise.all(ke.map(async Ce=>{const Ve=Pe(r,Ce);return await D(Ve&&Ve._f?{[Ce]:Ve}:Ve)}))).every(Boolean),!(!Ae&&!n.isValid)&&v()):Ae=ue=await D(r);return p.state.next({...!Ur(q)||(d.isValid||f.isValid)&&ue!==n.isValid?{}:{name:q},...e.resolver||!q?{isValid:ue}:{},errors:n.errors}),te.shouldFocus&&!Ae&&Jd(r,z,q?ke:l.mount),Ae},X=(q,te)=>{let ue={...a.mount?i:s};return te&&(ue=bD(te.dirtyFields?n.dirtyFields:n.touchedFields,ue)),Yt(q)?ue:Ur(q)?Pe(ue,q):q.map(Ae=>Pe(ue,Ae))},B=(q,te)=>({invalid:!!Pe((te||n).errors,q),isDirty:!!Pe((te||n).dirtyFields,q),error:Pe((te||n).errors,q),isValidating:!!Pe(n.validatingFields,q),isTouched:!!Pe((te||n).touchedFields,q)}),J=q=>{q&&Qd(q).forEach(te=>ln(n.errors,te)),p.state.next({errors:q?n.errors:{}})},ne=(q,te,ue)=>{const Ae=(Pe(r,q,{_f:{}})._f||{}).ref,ke=Pe(n.errors,q)||{},{ref:Ce,message:Ve,type:ct,...ft}=ke;wt(n.errors,q,{...ft,...te,ref:Ae}),p.state.next({name:q,errors:n.errors,isValid:!1}),ue&&ue.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},se=(q,te)=>Os(q)?p.state.subscribe({next:ue=>"values"in ue&&q(V(void 0,te),ue)}):V(q,te,!0),me=q=>p.state.subscribe({next:te=>{zee(q.name,te.name,q.exact)&&Vee(te,q.formState||d,Rt,q.reRenderRoot)&&q.callback({values:{...i},...n,...te,defaultValues:s})}}).unsubscribe,Ee=q=>(a.mount=!0,f={...f,...q.formState},me({...q,formState:f})),ce=(q,te={})=>{for(const ue of q?Qd(q):l.mount)l.mount.delete(ue),l.array.delete(ue),te.keepValue||(ln(r,ue),ln(i,ue)),!te.keepError&&ln(n.errors,ue),!te.keepDirty&&ln(n.dirtyFields,ue),!te.keepTouched&&ln(n.touchedFields,ue),!te.keepIsValidating&&ln(n.validatingFields,ue),!e.shouldUnregister&&!te.keepDefaultValue&&ln(s,ue);p.state.next({values:bn(i)}),p.state.next({...n,...te.keepDirty?{isDirty:_()}:{}}),!te.keepIsValid&&v()},ee=({disabled:q,name:te})=>{(Br(q)&&a.mount||q||l.disabled.has(te))&&(q?l.disabled.add(te):l.disabled.delete(te))},ie=(q,te={})=>{let ue=Pe(r,q);const Ae=Br(te.disabled)||Br(e.disabled);return wt(r,q,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:q}},name:q,mount:!0,...te}}),l.mount.add(q),ue?ee({disabled:Br(te.disabled)?te.disabled:e.disabled,name:q}):M(q,!0,te.value),{...Ae?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:jd(te.min),max:jd(te.max),minLength:jd(te.minLength),maxLength:jd(te.maxLength),pattern:jd(te.pattern)}:{},name:q,onChange:$,onBlur:$,ref:ke=>{if(ke){ie(q,te),ue=Pe(r,q);const Ce=Yt(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,Ve=Oee(Ce),ct=ue._f.refs||[];if(Ve?ct.find(ft=>ft===Ce):Ce===ue._f.ref)return;wt(r,q,{_f:{...ue._f,...Ve?{refs:[...ct.filter(rv),Ce,...Array.isArray(Pe(s,q))?[{}]:[]],ref:{type:Ce.type,name:q}}:{ref:Ce}}}),M(q,!1,void 0,Ce)}else ue=Pe(r,q,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(mD(l.array,q)&&a.action)&&l.unMount.add(q)}}},fe=()=>e.shouldFocusError&&Jd(r,z,l.mount),Te=q=>{Br(q)&&(p.state.next({disabled:q}),Jd(r,(te,ue)=>{const Ae=Pe(r,ue);Ae&&(te.disabled=Ae._f.disabled||q,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(ke=>{ke.disabled=Ae._f.disabled||q}))},0,!1))},Se=(q,te)=>async ue=>{let Ae;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let ke=bn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Ce,values:Ve}=await A();n.errors=Ce,ke=bn(Ve)}else await D(r);if(l.disabled.size)for(const Ce of l.disabled)ln(ke,Ce);if(ln(n.errors,"root"),kr(n.errors)){p.state.next({errors:{}});try{await q(ke,ue)}catch(Ce){Ae=Ce}}else te&&await te({...n.errors},ue),fe(),setTimeout(fe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kr(n.errors)&&!Ae,submitCount:n.submitCount+1,errors:n.errors}),Ae)throw Ae},we=(q,te={})=>{Pe(r,q)&&(Yt(te.defaultValue)?R(q,bn(Pe(s,q))):(R(q,te.defaultValue),wt(s,q,bn(te.defaultValue))),te.keepTouched||ln(n.touchedFields,q),te.keepDirty||(ln(n.dirtyFields,q),n.isDirty=te.defaultValue?_(q,bn(Pe(s,q))):_()),te.keepError||(ln(n.errors,q),d.isValid&&v()),p.state.next({...n}))},_e=(q,te={})=>{const ue=q?bn(q):s,Ae=bn(ue),ke=kr(q),Ce=ke?s:Ae;if(te.keepDefaultValues||(s=ue),!te.keepValues){if(te.keepDirtyValues){const Ve=new Set([...l.mount,...Object.keys(Pc(s,i))]);for(const ct of Array.from(Ve))Pe(n.dirtyFields,ct)?wt(Ce,ct,Pe(i,ct)):R(ct,Pe(Ce,ct))}else{if(PN&&Yt(q))for(const Ve of l.mount){const ct=Pe(r,Ve);if(ct&&ct._f){const ft=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(bg(ft)){const ar=ft.closest("form");if(ar){ar.reset();break}}}}if(te.keepFieldsRef)for(const Ve of l.mount)R(Ve,Pe(Ce,Ve));else r={}}i=e.shouldUnregister?te.keepDefaultValues?bn(s):{}:bn(Ce),p.array.next({values:{...Ce}}),p.state.next({values:{...Ce}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:te.keepSubmitCount?n.submitCount:0,isDirty:ke?!1:te.keepDirty?n.isDirty:!!(te.keepDefaultValues&&!Hi(q,s)),isSubmitted:te.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ke?{}:te.keepDirtyValues?te.keepDefaultValues&&i?Pc(s,i):n.dirtyFields:te.keepDefaultValues&&q?Pc(s,q):te.keepDirty?n.dirtyFields:{},touchedFields:te.keepTouched?n.touchedFields:{},errors:te.keepErrors?n.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ye=(q,te)=>_e(Os(q)?q(i):q,te),gt=(q,te={})=>{const ue=Pe(r,q),Ae=ue&&ue._f;if(Ae){const ke=Ae.refs?Ae.refs[0]:Ae.ref;ke.focus&&(ke.focus(),te.shouldSelect&&Os(ke.select)&&ke.select())}},Rt=q=>{n={...n,...q}},gn={control:{register:ie,unregister:ce,getFieldState:B,handleSubmit:Se,setError:ne,_subscribe:me,_runSchema:A,_focusError:fe,_getWatch:V,_getDirty:_,_setValid:v,_setFieldArray:w,_setDisabledField:ee,_setErrors:j,_getFieldArray:G,_reset:_e,_resetDefaultValues:()=>Os(e.defaultValues)&&e.defaultValues().then(q=>{Ye(q,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Te,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(q){a=q},get _defaultValues(){return s},get _names(){return l},set _names(q){l=q},get _formState(){return n},get _options(){return e},set _options(q){e={...e,...q}}},subscribe:Ee,trigger:K,register:ie,handleSubmit:Se,watch:se,setValue:R,getValues:X,reset:Ye,resetField:we,clearErrors:J,unregister:ce,setError:ne,setFocus:gt,getFieldState:B};return{...gn,formControl:gn}}function $s(t={}){const e=ve.useRef(void 0),n=ve.useRef(void 0),[r,s]=ve.useState({isDirty:!1,isValidating:!1,isLoading:Os(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Os(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Os(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=Wee(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,DN(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),ve.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ve.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ve.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ve.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ve.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),ve.useEffect(()=>{t.values&&!Hi(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),ve.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=gD(r,i),e.current}const RN=async({queryKey:t})=>{const[,e]=t,n=Object.fromEntries(Object.entries(e).filter(([s,i])=>i!==null&&i!==""));return await xe.get("/api/v1/product/get-product",{params:n})},qee=async()=>(await xe.get("/api/v1/variant-size/get-size")).data,Kee=async()=>(await xe.get("/api/v1/variant-color/get-color")).data,Gee=async t=>await xe.get("/api/v1/product/get-popular",{params:t}),Yee=async t=>{const{limit:e,page:n}=t;return await xe.get("/api/v1/product/best-sell",{params:{limit:e,page:n}})},Xee=async t=>await xe.get(`/api/v1/product/detail/${t}`),Qee=async t=>await xe.get(`/api/v1/product/admin/detail/${t}`),CD=async({productId:t,rating:e,page:n,sort:r})=>await xe.get(`/api/v1/evaluate/get-evaluate/${t}`,{params:{rating:e,page:n,sort:r,limit:20}}),Jee=async(t,e)=>await xe.get("/api/v1/product/by-slugs",{params:{slugs:t.join("/"),...e}}),Zee=async t=>await xe.get("/api/v1/product/child-of-cate",{params:{currentSlug:t}}),ete=async(t,e)=>{const n={};return!e&&t&&(n.session_id=t),await xe.get("/api/v1/search/recent",{params:n})},kD=async({query:t,userId:e})=>{const n=Object.fromEntries(Object.entries(t).filter(([s,i])=>!(e&&s==="session_id"||i===null||i==="")));return console.log(n),await xe.get("/api/v1/product",{params:n})};var sv={exports:{}},iv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function tte(){if(LT)return iv;LT=1;var t=pu();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(f,p){var g=p(),x=r({inst:{value:g,getSnapshot:p}}),v=x[0].inst,b=x[1];return i(function(){v.value=g,v.getSnapshot=p,c(v)&&b({inst:v})},[f,g,p]),s(function(){return c(v)&&b({inst:v}),f(function(){c(v)&&b({inst:v})})},[f]),a(g),g}function c(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return iv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,iv}var RT;function TD(){return RT||(RT=1,sv.exports=tte()),sv.exports}var ED=TD();function In(t){this.content=t}In.prototype={constructor:In,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new In(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new In(n)},addToStart:function(t,e){return new In([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new In(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new In(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=In.from(t),t.size?new In(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=In.from(t),t.size?new In(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=In.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};In.from=function(t){if(t instanceof In)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new In(e)};function MD(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=MD(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function PD(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),l=e.child(--i),c=a.nodeSize;if(a==l){n-=c,r-=c;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let u=0,d=Math.min(a.text.length,l.text.length);for(;u<d&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let u=PD(a.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class he{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,l=0;l<n;a++){let c=this.content[a],u=l+c.nodeSize;if(u>e&&r(c,s+l,i||null,a)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,s+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new he(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),s+=l.nodeSize),a=c}return new he(r,s)}cutByIndex(e,n){return e==n?he.empty:e==0&&n==this.content.length?this:new he(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new he(s,i)}addToStart(e){return new he([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new he(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return MD(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return PD(this,e,n,r)}findIndex(e){if(e==0)return Ym(0,e);if(e==this.size)return Ym(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?Ym(n+1,i):Ym(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return he.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return he.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new he(n||e,r)}static from(e){if(!e)return he.empty;if(e instanceof he)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new he([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const av={index:0,offset:0};function Ym(t,e){return av.index=t,av.offset=e,av}function wg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!wg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!wg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let jt=class m2{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&wg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return m2.none;if(e instanceof m2)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};jt.none=[];class Ng extends Error{}class Me{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=OD(this.content,e+this.openStart,n);return r&&new Me(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Me(AD(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Me.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Me(he.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Me(e,r,s)}}Me.empty=new Me(he.empty,0,0);function AD(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(AD(i.content,e-s-1,n-s-1)))}function OD(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=OD(a.content,e-i-1,n,a);return l&&t.replaceChild(s,a.copy(l))}function nte(t,e,n){if(n.openStart>t.depth)throw new Ng("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ng("Inconsistent open depths");return _D(t,e,n,0)}function _D(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=_D(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return xl(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=rte(n,t);return xl(i,ID(t,a,l,e,r))}else return xl(i,Sg(t,e,r))}function DD(t,e){if(!e.type.compatibleContent(t.type))throw new Ng("Cannot join "+e.type.name+" onto "+t.type.name)}function p2(t,e,n){let r=t.node(n);return DD(r,e.node(n)),r}function gl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Zd(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(gl(t.nodeAfter,r),i++));for(let l=i;l<a;l++)gl(s.child(l),r);e&&e.depth==n&&e.textOffset&&gl(e.nodeBefore,r)}function xl(t,e){return t.type.checkContent(e),t.copy(e)}function ID(t,e,n,r,s){let i=t.depth>s&&p2(t,e,s+1),a=r.depth>s&&p2(n,r,s+1),l=[];return Zd(null,t,s,l),i&&a&&e.index(s)==n.index(s)?(DD(i,a),gl(xl(i,ID(t,e,n,r,s+1)),l)):(i&&gl(xl(i,Sg(t,e,s+1)),l),Zd(e,n,s,l),a&&gl(xl(a,Sg(n,r,s+1)),l)),Zd(r,null,s,l),new he(l)}function Sg(t,e,n){let r=[];if(Zd(null,t,n,r),t.depth>n){let s=p2(t,e,n+1);gl(xl(s,Sg(t,e,n+1)),r)}return Zd(e,null,n,r),new he(r)}function rte(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(he.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Mh{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return jt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new jg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(i),u=i-c;if(r.push(a,l,s+c),!u||(a=a.child(l),a.isText))break;i=u-1,s+=c+1}return new Mh(n,r,i)}static resolveCached(e,n){let r=FT.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else FT.set(e,r=new ste);let s=r.elts[r.i]=Mh.resolve(e,n);return r.i=(r.i+1)%ite,s}}class ste{constructor(){this.elts=[],this.i=0}}const ite=12,FT=new WeakMap;class jg{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ate=Object.create(null);let eo=class g2{constructor(e,n,r,s=jt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&wg(this.attrs,n||e.defaultAttrs||ate)&&jt.sameSet(this.marks,r||jt.none)}copy(e=null){return e==this.content?this:new g2(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new g2(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Me.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),l=s.start(a),u=s.node(a).content.cut(s.pos-l,i.pos-l);return new Me(u,s.depth-a,i.depth-a)}replace(e,n,r){return nte(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Mh.resolveCached(this,e)}resolveNoCache(e){return Mh.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),LD(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=he.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=jt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=he.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};eo.prototype.text=void 0;class Cg extends eo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):LD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Cg(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Cg(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function LD(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ol{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new ote(e,n);if(r.next==null)return Ol.empty;let s=RD(r);r.next&&r.err("Unexpected trailing text");let i=mte(fte(s));return pte(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,l){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return he.from(l.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:f}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let p=i(f,l.concat(d));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let l=s;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}Ol.empty=new Ol(!0);class ote{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function RD(t){let e=[];do e.push(lte(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function lte(t){let e=[];do e.push(cte(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function cte(t){let e=hte(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ute(t,e);else break;return e}function VT(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function ute(t,e){let n=VT(t),r=n;return t.eat(",")&&(t.next!="}"?r=VT(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function dte(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function hte(t){if(t.eat("(")){let e=RD(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=dte(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function fte(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,c){let u={term:c,to:l};return e[a].push(u),u}function s(a,l){a.forEach(c=>c.to=l)}function i(a,l){if(a.type=="choice")return a.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(a.type=="seq")for(let c=0;;c++){let u=i(a.exprs[c],l);if(c==a.exprs.length-1)return u;s(u,l=n())}else if(a.type=="star"){let c=n();return r(l,c),s(i(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return s(i(a.expr,l),c),s(i(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let c=l;for(let u=0;u<a.min;u++){let d=n();s(i(a.expr,c),d),c=d}if(a.max==-1)s(i(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let d=n();r(c,d),s(i(a.expr,c),d),c=d}return[r(c)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function FD(t,e){return e-t}function zT(t,e){let n=[];return r(e),n.sort(FD);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:l,to:c}=i[a];!l&&n.indexOf(c)==-1&&r(c)}}}function mte(t){let e=Object.create(null);return n(zT(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<s.length;d++)s[d][0]==l&&(u=s[d][1]);zT(t,c).forEach(d=>{u||s.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[r.join(",")]=new Ol(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let l=s[a][1].sort(FD);i.next.push({type:s[a][0],next:e[l.join(",")]||n(l)})}return i}}function pte(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];a.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function VD(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function zD(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function $D(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function BD(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new xte(t,r,e[r]);return n}let $T=class HD{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=BD(e,r.attrs),this.defaultAttrs=VD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ol.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:zD(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new eo(this,this.computeAttrs(e),he.from(n),jt.setFrom(r))}createChecked(e=null,n,r){return n=he.from(n),this.checkContent(n),new eo(this,this.computeAttrs(e),n,jt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=he.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(he.empty,!0);return i?new eo(this,e,n.append(i),jt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){$D(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:jt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new HD(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function gte(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class xte{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?gte(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class sx{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=BD(e,s.attrs),this.excluded=null;let i=VD(this.attrs);this.instance=i?new jt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new jt(this,zD(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new sx(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){$D(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let UD=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=In.from(e.nodes),n.marks=In.from(e.marks||{}),this.nodes=$T.compile(this.spec.nodes,this),this.marks=sx.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=Ol.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?BT(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:BT(this,a.split(" "))}this.nodeFromJSON=s=>eo.fromJSON(this,s),this.markFromJSON=s=>jt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof $T){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Cg(r,r.defaultAttrs,e,jt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function BT(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function yte(t){return t.tag!=null}function bte(t){return t.style!=null}class to{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(yte(s))this.tags.push(s);else if(bte(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new UT(this,n,!1);return r.addAll(e,jt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new UT(this,n,!0);return r.addAll(e,jt.none,n.from,n.to),Me.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Nte(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=WT(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=WT(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new to(e,to.schemaRules(e)))}}const WD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},vte={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qD={ol:!0,ul:!0},Ph=1,x2=2,eh=4;function HT(t,e,n){return e!=null?(e?Ph:0)|(e==="full"?x2:0):t&&t.whitespace=="pre"?Ph|x2:n&~eh}class Xm{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=jt.none,this.match=i||(a&eh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ph)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=he.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!WD.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class UT{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=HT(null,n.preserveWhitespace,0)|(r?eh:0);s?i=new Xm(s.type,s.attrs,jt.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new Xm(null,null,jt.none,!0,null,a):i=new Xm(e.schema.topNodeType,null,jt.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&x2?"full":this.localPreserveWS||(s.options&Ph)>0,{schema:a}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(a.linebreakReplacement.create(),n,!0),l[c]&&this.insertNode(a.text(l[c]),n,!/\S/.test(l[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;qD.hasOwnProperty(a)&&this.parser.normalizeLists&&wte(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:vte.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(WD.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(i),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(i,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];a!=l;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],u=c.findWrapping(e);if(u&&(!s||s.length>u.length+l)&&(s=u,i=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=jt.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):qT(l.type,e.type))&&(a=l.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=HT(e,i,a.options);a.options&eh&&a.content.length==0&&(l|=eh);let c=jt.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):qT(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Xm(e,n,c,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ph)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(a(l-1,c))return!0;return!1}else{let d=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function wte(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&qD.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Nte(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function WT(t){let e={};for(let n in t)e[n]=t[n];return e}function qT(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||i.indexOf(d)<0&&a(d))return!0}};if(a(s.contentMatch))return!0}}class Ul{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=ov(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let l=0,c=0;for(;l<i.length&&c<a.marks.length;){let u=a.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],d=this.serializeMark(u,a.isInline,n);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Lp(ov(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Lp(ov(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Lp(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ul(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=KT(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return KT(e.marks)}}function KT(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ov(t){return t.document||window.document}const GT=new WeakMap;function Ste(t){let e=GT.get(t);return e===void 0&&GT.set(t,e=jte(t)),e}function jte(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Lp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Ste(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l,c=n?t.createElementNS(n,s):t.createElement(s),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let p=e[f];if(p===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:x}=Lp(t,p,n,r);if(c.appendChild(g),x){if(l)throw new RangeError("Multiple content holes");l=x}}}return{dom:c,contentDOM:l}}const KD=65535,GD=Math.pow(2,16);function Cte(t,e){return t+e*GD}function YT(t){return t&KD}function kte(t){return(t-(t&KD))/GD}const YD=1,XD=2,Rp=4,QD=8;class y2{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&QD)>0}get deletedBefore(){return(this.delInfo&(YD|Rp))>0}get deletedAfter(){return(this.delInfo&(XD|Rp))>0}get deletedAcross(){return(this.delInfo&Rp)>0}}class Wr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Wr.empty)return Wr.empty}recover(e){let n=0,r=YT(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+kte(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[l+i],d=this.ranges[l+a],f=c+u;if(e<=f){let p=u?e==c?-1:e==f?1:n:n,g=c+s+(p<0?0:d);if(r)return g;let x=e==(n<0?c:f)?null:Cte(l/3,e-c),v=e==c?XD:e==f?YD:Rp;return(n<0?e!=c:e!=f)&&(v|=QD),new y2(g,v,x)}s+=d-u}return r?e+s:new y2(e+s,0,null)}touches(e,n){let r=0,s=YT(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+i],d=c+u;if(e<=d&&l==s*3)return!0;r+=this.ranges[l+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],l=a-(this.inverted?i:0),c=a+(this.inverted?0:i),u=this.ranges[s+n],d=this.ranges[s+r];e(l,l+u,c,c+d),i+=d-u}}invert(){return new Wr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Wr.empty:new Wr(e<0?[0,-e,0]:[0,0,e])}}Wr.empty=new Wr([]);class Ah{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ah(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Ah;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new y2(e,s,null)}}const lv=Object.create(null);class ir{getMap(){return Wr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=lv[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in lv)throw new RangeError("Duplicate use of step JSON ID "+e);return lv[e]=n,n.prototype.jsonID=e,n}}class hn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new hn(e,null)}static fail(e){return new hn(null,e)}static fromReplace(e,n,r,s){try{return hn.ok(e.replace(n,r,s))}catch(i){if(i instanceof Ng)return hn.fail(i.message);throw i}}}function FN(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(FN(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return he.fromArray(r)}class Ga extends ir{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Me(FN(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return hn.fromReplace(e,this.from,this.to,i)}invert(){return new Ls(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ga(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ga&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ga(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ga(n.from,n.to,e.markFromJSON(n.mark))}}ir.jsonID("addMark",Ga);class Ls extends ir{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Me(FN(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return hn.fromReplace(e,this.from,this.to,r)}invert(){return new Ga(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ls(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ls&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ls(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ls(n.from,n.to,e.markFromJSON(n.mark))}}ir.jsonID("removeMark",Ls);class Ya extends ir{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return hn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return hn.fromReplace(e,this.pos,this.pos+1,new Me(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Ya(this.pos,n.marks[s]);return new Ya(this.pos,this.mark)}}return new _l(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ya(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ya(n.pos,e.markFromJSON(n.mark))}}ir.jsonID("addNodeMark",Ya);class _l extends ir{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return hn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return hn.fromReplace(e,this.pos,this.pos+1,new Me(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ya(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _l(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _l(n.pos,e.markFromJSON(n.mark))}}ir.jsonID("removeNodeMark",_l);class Cn extends ir{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&b2(e,this.from,this.to)?hn.fail("Structure replace would overwrite content"):hn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Wr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Cn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Cn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Cn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Me.empty:new Me(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Cn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Me.empty:new Me(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Cn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Cn(n.from,n.to,Me.fromJSON(e,n.slice),!!n.structure)}}ir.jsonID("replace",Cn);class Pn extends ir{constructor(e,n,r,s,i,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=l}apply(e){if(this.structure&&(b2(e,this.from,this.gapFrom)||b2(e,this.gapTo,this.to)))return hn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return hn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?hn.fromReplace(e,this.from,this.to,r):hn.fail("Content does not fit in gap")}getMap(){return new Wr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Pn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Pn(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Pn(n.from,n.to,n.gapFrom,n.gapTo,Me.fromJSON(e,n.slice),n.insert,!!n.structure)}}ir.jsonID("replaceAround",Pn);function b2(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function Tte(t,e,n,r){let s=[],i=[],a,l;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let p=Math.max(u,e),g=Math.min(u+c.nodeSize,n),x=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(x)||(a&&a.to==p&&a.mark.eq(f[v])?a.to=g:s.push(a=new Ls(p,g,f[v])));l&&l.to==p?l.to=g:i.push(l=new Ga(p,g,r))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function Ete(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;i++;let c=null;if(r instanceof sx){let u=a.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],p;for(let g=0;g<s.length;g++){let x=s[g];x.step==i-1&&f.eq(s[g].style)&&(p=x)}p?(p.to=u,p.step=i):s.push({style:f,from:Math.max(l,e),to:u,step:i})}}}),s.forEach(a=>t.step(new Ls(a.from,a.to,a.style)))}function VN(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),d=l+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new Cn(l,d,Me.empty));else{r=f;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||t.step(new Ls(l,d,u.marks[p]));if(s&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,x;for(;p=g.exec(u.text);)x||(x=new Me(he.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new Cn(l+p.index,l+p.index+p[0].length,x))}}l=d}if(!r.validEnd){let c=r.fillBefore(he.empty,!0);t.replace(l,l,new Me(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function Mte(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ju(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,i=0;;--r){let a=t.$from.node(r),l=t.$from.index(r)+s,c=t.$to.indexAfter(r)-i;if(r<t.depth&&a.canReplace(l,c,n))return r;if(r==0||a.type.spec.isolating||!Mte(a,l,c))break;l&&(s=1),c<a.childCount&&(i=1)}return null}function Pte(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),l=s.after(i+1),c=a,u=l,d=he.empty,f=0;for(let x=i,v=!1;x>n;x--)v||r.index(x)>0?(v=!0,d=he.from(r.node(x).copy(d)),f++):c--;let p=he.empty,g=0;for(let x=i,v=!1;x>n;x--)v||s.after(x+1)<s.end(x)?(v=!0,p=he.from(s.node(x).copy(p)),g++):u++;t.step(new Pn(c,u,a,l,new Me(d.append(p),f,g),d.size-f,!0))}function zN(t,e,n=null,r=t){let s=Ate(t,e),i=s&&Ote(r,e);return i?s.map(XT).concat({type:e,attrs:n}).concat(i.map(XT)):null}function XT(t){return{type:t,attrs:null}}function Ate(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function Ote(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;c&&u<s;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:a}function _te(t,e,n){let r=he.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=he.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new Pn(s,i,s,i,new Me(r,0,0),n.length,!0))}function Dte(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,c)&&Ite(t.doc,t.mapping.slice(i).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!x?u=!1:!g&&x&&(u=!0)}u===!1&&ZD(t,a,l,i),VN(t,t.mapping.slice(i).map(l,1),r,void 0,u===null);let d=t.mapping.slice(i),f=d.map(l,1),p=d.map(l+a.nodeSize,1);return t.step(new Pn(f,p,f+1,p-1,new Me(he.from(r.create(c,null,a.marks)),0,0),1,!0)),u===!0&&JD(t,a,l,i),!1}})}function JD(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(s.text);){let c=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function ZD(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Ite(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function Lte(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Pn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Me(he.from(a),0,0),1,!0))}function Xi(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=n-2;u>i;u--,d--){let f=s.node(u),p=s.index(u);if(f.type.spec.isolating)return!1;let g=f.content.cutByIndex(p,f.childCount),x=r&&r[d+1];x&&(g=g.replaceChild(0,x.type.create(x.attrs)));let v=r&&r[d]||f;if(!f.canReplace(p+1,f.childCount)||!v.type.validContent(g))return!1}let l=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function Rte(t,e,n=1,r){let s=t.doc.resolve(e),i=he.empty,a=he.empty;for(let l=s.depth,c=s.depth-n,u=n-1;l>c;l--,u--){i=he.from(s.node(l).copy(i));let d=r&&r[u];a=he.from(d?d.type.create(d.attrs,a):s.node(l).copy(a))}t.step(new Cn(e,e,new Me(i.append(a),n,n),!0))}function wo(t,e){let n=t.resolve(e),r=n.index();return eI(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Fte(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function eI(t,e){return!!(t&&e&&!t.isLeaf&&Fte(t,e))}function ix(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),l++,a=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),a=r.node(s+1)),i&&!i.isTextblock&&eI(i,a)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Vte(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(s);d&&!f?r=!1:!d&&f&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);ZD(t,d.node(),d.before(),l)}a.inlineContent&&VN(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let c=t.mapping.slice(l),u=c.map(e-n);if(t.step(new Cn(u,c.map(e+n,-1),Me.empty,!0)),r===!0){let d=t.doc.resolve(u);JD(t,d.node(),d.before(),t.steps.length)}return t}function zte(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function tI(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(i==1)d=u.canReplace(c,c,s);else{let f=u.contentMatchAt(c).findWrapping(s.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function ax(t,e,n=e,r=Me.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return nI(s,i,r)?new Cn(e,n,r):new $te(s,i,r).fit()}function nI(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class $te{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=he.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=he.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,l=s.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let c=new Me(i,a,l);return e>-1?new Pn(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Cn(r.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=cv(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(he.from(a),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:f};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=cv(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Me(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=cv(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new Me(Fd(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Me(Fd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,u=0,d=[],{match:f,type:p}=this.frontier[n];if(s){for(let v=0;v<s.childCount;v++)d.push(s.child(v));f=f.matchFragment(s)}let g=l.size+e-(a.content.size-a.openEnd);for(;u<l.childCount;){let v=l.child(u),b=f.matchType(v.type);if(!b)break;u++,(u>1||c==0||v.content.size)&&(f=b,d.push(rI(v.mark(p.allowedMarks(v.marks)),u==1?c:0,u==l.childCount?g:-1)))}let x=u==l.childCount;x||(g=-1),this.placed=Vd(this.placed,n,he.from(d)),this.frontier[n].match=f,x&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=l;v<g;v++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=x?e==0?Me.empty:new Me(Fd(a.content,e-1,1),e-1,g<0?a.openEnd:e-1):new Me(Fd(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!uv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=uv(e,n,s,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=uv(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Vd(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Vd(this.placed,this.depth,he.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(he.empty,!0);n.childCount&&(this.placed=Vd(this.placed,this.frontier.length,n))}}function Fd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Fd(t.firstChild.content,e-1,n)))}function Vd(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Vd(t.lastChild.content,e-1,n)))}function cv(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function rI(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,rI(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(he.empty,!0)))),t.copy(r)}function uv(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!Bte(n,i.content,a)?l:null}function Bte(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Hte(t){return t.spec.defining||t.spec.definingForContent}function Ute(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(nI(s,i,r))return t.step(new Cn(e,n,r));let a=iI(s,i);a[a.length-1]==0&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let p=s.depth,g=s.pos-1;p>0;p--,g--){let x=s.node(p).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(p)>-1?l=p:s.before(p)==g&&a.splice(1,0,-p)}let c=a.indexOf(l),u=[],d=r.openStart;for(let p=r.content,g=0;;g++){let x=p.firstChild;if(u.push(x),g==r.openStart)break;p=x.content}for(let p=d-1;p>=0;p--){let g=u[p],x=Hte(g.type);if(x&&!g.sameMarkup(s.node(Math.abs(l)-1)))d=p;else if(x||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+d+1)%(r.openStart+1),x=u[g];if(x)for(let v=0;v<a.length;v++){let b=a[(v+c)%a.length],w=!0;b<0&&(w=!1,b=-b);let S=s.node(b-1),j=s.index(b-1);if(S.canReplaceWith(j,j,x.type,x.marks))return t.replace(s.before(b),w?i.after(b):n,new Me(sI(r.content,0,r.openStart,g),g,r.openEnd))}}let f=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>f));p--){let g=a[p];g<0||(e=s.before(g),n=i.after(g))}}function sI(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(sI(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(he.empty,!0))}return t}function Wte(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=zte(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new Me(he.from(r),0,0))}function qte(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=iI(r,s);for(let a=0;a<i.length;a++){let l=i[a],c=a==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function iI(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class Kc extends ir{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return hn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return hn.fromReplace(e,this.pos,this.pos+1,new Me(he.from(s),0,n.isLeaf?0:1))}getMap(){return Wr.empty}invert(e){return new Kc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Kc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Kc(n.pos,n.attr,n.value)}}ir.jsonID("attr",Kc);class Oh extends ir{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return hn.ok(r)}getMap(){return Wr.empty}invert(e){return new Oh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Oh(n.attr,n.value)}}ir.jsonID("docAttr",Oh);let iu=class extends Error{};iu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};iu.prototype=Object.create(Error.prototype);iu.prototype.constructor=iu;iu.prototype.name="TransformError";class $N{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ah}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new iu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Me.empty){let s=ax(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new Me(he.from(r),0,0))}delete(e,n){return this.replace(e,n,Me.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Ute(this,e,n,r),this}replaceRangeWith(e,n,r){return Wte(this,e,n,r),this}deleteRange(e,n){return qte(this,e,n),this}lift(e,n){return Pte(this,e,n),this}join(e,n=1){return Vte(this,e,n),this}wrap(e,n){return _te(this,e,n),this}setBlockType(e,n=e,r,s=null){return Dte(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return Lte(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Kc(e,n,r)),this}setDocAttribute(e,n){return this.step(new Oh(e,n)),this}addNodeMark(e,n){return this.step(new Ya(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof jt)n.isInSet(r.marks)&&this.step(new _l(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new _l(e,i)),s=i.removeFromSet(s);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return Rte(this,e,n,r),this}addMark(e,n,r){return Tte(this,e,n,r),this}removeMark(e,n,r){return Ete(this,e,n,r),this}clearIncompatible(e,n,r){return VN(this,e,n,r),this}}const dv=Object.create(null);class Je{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new aI(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Me.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),l?Me.empty:n),l==0&&ZT(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],c=e.mapping.slice(r),u=c.map(a.pos),d=c.map(l.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),ZT(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new We(e):Ac(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?Ac(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Ac(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Kr(e.node(0))}static atStart(e){return Ac(e,e,0,0,1)||new Kr(e)}static atEnd(e){return Ac(e,e,e.content.size,e.childCount,-1)||new Kr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=dv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in dv)throw new RangeError("Duplicate use of selection JSON ID "+e);return dv[e]=n,n.prototype.jsonID=e,n}getBookmark(){return We.between(this.$anchor,this.$head).getBookmark()}}Je.prototype.visible=!0;class aI{constructor(e,n){this.$from=e,this.$to=n}}let QT=!1;function JT(t){!QT&&!t.parent.inlineContent&&(QT=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class We extends Je{constructor(e,n=e){JT(e),JT(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Je.near(r);let s=e.resolve(n.map(this.anchor));return new We(s.parent.inlineContent?s:r,r)}replace(e,n=Me.empty){if(super.replace(e,n),n==Me.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof We&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ox(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new We(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Je.findFrom(n,r,!0)||Je.findFrom(n,-r,!0);if(i)n=i.$head;else return Je.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Je.findFrom(e,-r,!0)||Je.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new We(e,n)}}Je.jsonID("text",We);class ox{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ox(e.map(this.anchor),e.map(this.head))}resolve(e){return We.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ue extends Je{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Je.near(i):new Ue(i)}content(){return new Me(he.from(this.node),0,0)}eq(e){return e instanceof Ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new BN(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ue(e.resolve(n.anchor))}static create(e,n){return new Ue(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ue.prototype.visible=!1;Je.jsonID("node",Ue);class BN{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new ox(r,r):new BN(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ue.isSelectable(r)?new Ue(n):Je.near(n)}}class Kr extends Je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Me.empty){if(n==Me.empty){e.delete(0,e.doc.content.size);let r=Je.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Kr(e)}map(e){return new Kr(e)}eq(e){return e instanceof Kr}getBookmark(){return Kte}}Je.jsonID("all",Kr);const Kte={map(){return this},resolve(t){return new Kr(t)}};function Ac(t,e,n,r,s,i=!1){if(e.inlineContent)return We.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let l=e.child(a);if(l.isAtom){if(!i&&Ue.isSelectable(l))return Ue.create(t,n-(s<0?l.nodeSize:0))}else{let c=Ac(t,l,n+s,s<0?l.childCount:0,s,i);if(c)return c}n+=l.nodeSize*s}return null}function ZT(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Cn||s instanceof Pn))return;let i=t.mapping.maps[r],a;i.forEach((l,c,u,d)=>{a==null&&(a=d)}),t.setSelection(Je.near(t.doc.resolve(a),n))}const eE=1,Qm=2,tE=4;class Gte extends $N{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|eE)&~Qm,this.storedMarks=null,this}get selectionSet(){return(this.updated&eE)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Qm,this}ensureMarks(e){return jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Qm)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Qm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||jt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Je.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=tE,this}get scrolledIntoView(){return(this.updated&tE)>0}}function nE(t,e){return!e||!t?t:t.bind(e)}class zd{constructor(e,n,r){this.name=e,this.init=nE(n.init,r),this.apply=nE(n.apply,r)}}const Yte=[new zd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new zd("selection",{init(t,e){return t.selection||Je.atStart(e.doc)},apply(t){return t.selection}}),new zd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new zd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class hv{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Yte.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new zd(r.key,r.spec.state,r))})}}class Lc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=s?s[a].n:0,u=s?s[a].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Lc(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new Gte(this)}static create(e){let n=new hv(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Lc(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new hv(this.schema,e.plugins),r=n.fields,s=new Lc(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new hv(e.schema,e.plugins),i=new Lc(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=eo.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Je.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=u.fromJSON.call(c,e,n[l],i);return}}i[a.name]=a.init(e,i)}}),i}}function oI(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=oI(s,e,{})),n[r]=s}return n}class Lt{constructor(e){this.spec=e,this.props={},e.props&&oI(e.props,this,this.props),this.key=e.key?e.key.key:lI("plugin")}getState(e){return e[this.key]}}const fv=Object.create(null);function lI(t){return t in fv?t+"$"+ ++fv[t]:(fv[t]=0,t+"$")}class en{constructor(e="key"){this.key=lI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const HN=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function cI(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const uI=(t,e,n)=>{let r=cI(t,n);if(!r)return!1;let s=UN(r);if(!s){let a=r.blockRange(),l=a&&ju(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(bI(t,s,e,-1))return!0;if(r.parent.content.size==0&&(au(i,"end")||Ue.isSelectable(i)))for(let a=r.depth;;a--){let l=ax(t.doc,r.before(a),r.after(a),Me.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(au(i,"end")?Je.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Ue.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},Xte=(t,e,n)=>{let r=cI(t,n);if(!r)return!1;let s=UN(r);return s?dI(t,s,e):!1},Qte=(t,e,n)=>{let r=fI(t,n);if(!r)return!1;let s=WN(r);return s?dI(t,s,e):!1};function dI(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=ax(t.doc,i,c,Me.empty);if(!u||u.from!=i||u instanceof Cn&&u.slice.size>=c-i)return!1;if(n){let d=t.tr.step(u);d.setSelection(We.create(d.doc,i)),n(d.scrollIntoView())}return!0}function au(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const hI=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=UN(r)}let a=i&&i.nodeBefore;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function UN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function fI(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const mI=(t,e,n)=>{let r=fI(t,n);if(!r)return!1;let s=WN(r);if(!s)return!1;let i=s.nodeAfter;if(bI(t,s,e,1))return!0;if(r.parent.content.size==0&&(au(i,"start")||Ue.isSelectable(i))){let a=ax(t.doc,r.before(),r.after(),Me.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(au(i,"start")?Je.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Ue.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},pI=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=WN(r)}let a=i&&i.nodeAfter;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,i.pos)).scrollIntoView()),!0)};function WN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Jte=(t,e)=>{let n=t.selection,r=n instanceof Ue,s;if(r){if(n.node.isTextblock||!wo(t.doc,n.from))return!1;s=n.from}else if(s=ix(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Ue.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},Zte=(t,e)=>{let n=t.selection,r;if(n instanceof Ue){if(n.node.isTextblock||!wo(t.doc,n.to))return!1;r=n.to}else if(r=ix(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},ene=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&ju(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},gI=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function qN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const tne=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=qN(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Je.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},xI=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Kr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=qN(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(a,i.createAndFill());l.setSelection(We.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},yI=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Xi(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&ju(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function nne(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Ue&&e.selection.node.isBlock)return!r.parentOffset||!Xi(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,c=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),l=qN(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(c&&l?{type:l}:null),a=g;break}else{if(g==1)return!1;i.unshift(null)}let d=e.tr;(e.selection instanceof We||e.selection instanceof Kr)&&d.deleteSelection();let f=d.mapping.map(r.pos),p=Xi(d.doc,f,i.length,i);if(p||(i[0]=l?{type:l}:null,p=Xi(d.doc,f,i.length,i)),!p)return!1;if(d.split(f,i.length,i),!c&&u&&r.node(a).type!=l){let g=d.mapping.map(r.before(a)),x=d.doc.resolve(g);l&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(a)),l)}return n&&n(d.scrollIntoView()),!0}}const rne=nne(),sne=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Ue.create(t.doc,s))),!0)};function ine(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||wo(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function bI(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&ine(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let g=e.pos+i.nodeSize,x=he.empty;for(let w=a.length-1;w>=0;w--)x=he.from(a[w].create(null,x));x=he.from(s.copy(x));let v=t.tr.step(new Pn(e.pos-1,g,e.pos,g,new Me(x,1,0),a.length,!0)),b=v.doc.resolve(g+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&wo(v.doc,b.pos)&&v.join(b.pos),n(v.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&c?null:Je.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&ju(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&au(i,"start",!0)&&au(s,"end")){let g=s,x=[];for(;x.push(g),!g.isTextblock;)g=g.lastChild;let v=i,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,v.content)){if(n){let w=he.empty;for(let j=x.length-1;j>=0;j--)w=he.from(x[j].copy(w));let S=t.tr.step(new Pn(e.pos-x.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new Me(w,x.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function vI(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(We.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const ane=vI(-1),one=vI(1);function lne(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),l=a&&zN(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function rE(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(c,u)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let d=n.doc.resolve(u),f=d.index();s=d.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];i.setBlockType(l,c,t,e)}r(i.scrollIntoView())}return!0}}function KN(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}KN(HN,uI,hI);KN(HN,mI,pI);KN(gI,xI,yI,rne);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function cne(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return une(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function une(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);i=new jg(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new jg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=zN(i,n,r,e);return l?(t&&dne(t,e,l,s,n),!0):!1}function dne(t,e,n,r,s){let i=he.empty;for(let d=n.length-1;d>=0;d--)i=he.from(n[d].type.create(n[d].attrs,i));t.step(new Pn(e.start-(r?2:0),e.end,e.start,e.end,new Me(i,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==s&&(a=d+1);let l=n.length-a,c=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,p=!0;d<f;d++,p=!1)!p&&Xi(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return t}function hne(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?fne(e,n,t,i):mne(e,n,i):!0:!1}}function fne(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new Pn(i-1,a,i,a,new Me(he.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new jg(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const l=ju(r);if(l==null)return!1;s.lift(r,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return wo(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function mne(t,e,n){let r=t.tr,s=n.parent;for(let g=n.end,x=n.endIndex-1,v=n.startIndex;x>v;x--)g-=s.child(x).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(l?0:1),d+1,a.content.append(c?he.empty:he.from(s))))return!1;let f=i.pos,p=f+a.nodeSize;return r.step(new Pn(f-(l?1:0),p+(c?1:0),f+1,p-1,new Me((l?he.empty:he.from(s.copy(he.empty))).append(c?he.empty:he.from(s.copy(he.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function pne(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=he.from(u?t.create():null),f=new Me(he.from(t.create(null,he.from(l.type.create(null,d)))),u?3:1,0),p=i.start,g=i.end;n(e.tr.step(new Pn(p-(u?3:1),g,p,g,f,1,!0)).scrollIntoView())}return!0}}const Vn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ou=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let v2=null;const $i=function(t,e,n){let r=v2||(v2=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},gne=function(){v2=null},Dl=function(t,e,n,r){return n&&(sE(t,e,n,r,-1)||sE(t,e,n,r,1))},xne=/^(img|br|input|textarea|hr)$/i;function sE(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:ps(t))){let a=t.parentNode;if(!a||a.nodeType!=1||mf(t)||xne.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vn(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?ps(t):0}else return!1}}function ps(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yne(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ps(t)}else if(t.parentNode&&!mf(t))e=Vn(t),t=t.parentNode;else return null}}function bne(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!mf(t))e=Vn(t)+1,t=t.parentNode;else return null}}function vne(t,e,n){for(let r=e==0,s=e==ps(t);r||s;){if(t==n)return!0;let i=Vn(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==ps(t)}}function mf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const lx=function(t){return t.focusNode&&Dl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function tl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function wne(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Nne(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ps(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ps(r.startContainer),r.startOffset)}}}const mi=typeof navigator<"u"?navigator:null,iE=typeof document<"u"?document:null,No=mi&&mi.userAgent||"",w2=/Edge\/(\d+)/.exec(No),wI=/MSIE \d/.exec(No),N2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(No),Ir=!!(wI||N2||w2),no=wI?document.documentMode:N2?+N2[1]:w2?+w2[1]:0,xs=!Ir&&/gecko\/(\d+)/i.test(No);xs&&+(/Firefox\/(\d+)/.exec(No)||[0,0])[1];const S2=!Ir&&/Chrome\/(\d+)/.exec(No),En=!!S2,NI=S2?+S2[1]:0,nr=!Ir&&!!mi&&/Apple Computer/.test(mi.vendor),lu=nr&&(/Mobile\/\w+/.test(No)||!!mi&&mi.maxTouchPoints>2),fs=lu||(mi?/Mac/.test(mi.platform):!1),SI=mi?/Win/.test(mi.platform):!1,Ki=/Android \d/.test(No),pf=!!iE&&"webkitFontSmoothing"in iE.documentElement.style,Sne=pf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function jne(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Oi(t,e){return typeof t=="number"?t:t[e]}function Cne(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function aE(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=ou(a);continue}let l=a,c=l==i.body,u=c?jne(i):Cne(l),d=0,f=0;if(e.top<u.top+Oi(r,"top")?f=-(u.top-e.top+Oi(s,"top")):e.bottom>u.bottom-Oi(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Oi(s,"top")-u.top:e.bottom-u.bottom+Oi(s,"bottom")),e.left<u.left+Oi(r,"left")?d=-(u.left-e.left+Oi(s,"left")):e.right>u.right-Oi(r,"right")&&(d=e.right-u.right+Oi(s,"right")),d||f)if(c)i.defaultView.scrollBy(d,f);else{let g=l.scrollLeft,x=l.scrollTop;f&&(l.scrollTop+=f),d&&(l.scrollLeft+=d);let v=l.scrollLeft-g,b=l.scrollTop-x;e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b}}let p=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:ou(a)}}function kne(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(i,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,s=c.top;break}}return{refDOM:r,refTop:s,stack:jI(t.dom)}}function jI(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ou(r));return e}function Tne({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;CI(n,r==0?0:r-e)}function CI(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let kc=null;function Ene(t){if(t.setActive)return t.setActive();if(kc)return t.focus(kc);let e=jI(t);t.focus(kc==null?{get preventScroll(){return kc={preventScroll:!0},!0}}:void 0),kc||(kc=!1,CI(e,0))}function kI(t,e){let n,r=2e8,s,i=0,a=e.top,l=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=$i(d).getClientRects();else continue;for(let g=0;g<p.length;g++){let x=p[g];if(x.top<=a&&x.bottom>=l){a=Math.max(x.bottom,a),l=Math.min(x.top,l);let v=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(v<r){n=d,r=v,s=v&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&v&&(i=f+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!c&&x.left<=e.left&&x.right>=e.left&&(c=d,u={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(i=f+1)}}return!n&&c&&(n=c,s=u,r=0),n&&n.nodeType==3?Mne(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:kI(n,s)}function Mne(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=Ia(r,1);if(a.top!=a.bottom&&GN(e,a)){s={node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function GN(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Pne(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Ane(t,e,n){let{node:r,offset:s}=kI(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function One(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?s=l.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(s=l.posAfter),a=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function TI(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(GN(e,u))return TI(a,e,u)}}if((i=(i+1)%r)==s)break}return t}function _ne(t,e){let n=t.dom.ownerDocument,r,s=0,i=Nne(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!GN(e,u)||(a=TI(t.dom,e,u),!a))return null}if(nr)for(let u=a;r&&u;u=ou(u))u.draggable&&(r=void 0);if(a=Pne(a,e),r){if(xs&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let d=r.childNodes[s],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let u;pf&&s&&r.nodeType==1&&(u=r.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=One(t,r,s,e))}l==null&&(l=Ane(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function oE(t){return t.top<t.bottom||t.left<t.right}function Ia(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(oE(r))return r}return Array.prototype.find.call(n,oE)||t.getBoundingClientRect()}const Dne=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function EI(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=pf||xs;if(r.nodeType==3)if(a&&(Dne.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=Ia($i(r,s,s),n);if(xs&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=Ia($i(r,s-1,s-1),-1);if(u.top==c.top){let d=Ia($i(r,s,s+1),-1);if(d.top!=c.top)return Cd(d,d.left<u.left)}}return c}else{let c=s,u=s,d=n<0?1:-1;return n<0&&!s?(u++,d=-1):n>=0&&s==r.nodeValue.length?(c--,d=1):n<0?c--:u++,Cd(Ia($i(r,c,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==ps(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return mv(c.getBoundingClientRect(),!1)}if(i==null&&s<ps(r)){let c=r.childNodes[s];if(c.nodeType==1)return mv(c.getBoundingClientRect(),!0)}return mv(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==ps(r))){let c=r.childNodes[s-1],u=c.nodeType==3?$i(c,ps(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Cd(Ia(u,1),!1)}if(i==null&&s<ps(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?$i(c,0,a?0:1):c.nodeType==1?c:null:null;if(u)return Cd(Ia(u,-1),!0)}return Cd(Ia(r.nodeType==3?$i(r):r,-n),n>=0)}function Cd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function mv(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function MI(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function Ine(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return MI(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=EI(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=$i(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const Lne=/[\u0590-\u08ac]/;function Rne(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,l=t.domSelection();return l?!Lne.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:MI(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:v}=t.domSelectionRange(),b=x&&!g.contains(x.nodeType==1?x:x.parentNode)||c==x&&u==v;try{l.collapse(d,f),c&&(c!=d||u!=f)&&l.extend&&l.extend(c,u)}catch{}return p!=null&&(l.caretBidiLevel=p),b}):r.pos==r.start()||r.pos==r.end()}let lE=null,cE=null,uE=!1;function Fne(t,e,n){return lE==e&&cE==n?uE:(lE=e,cE=n,uE=n=="up"||n=="down"?Ine(t,e,n):Rne(t,e,n))}const ys=0,dE=1,al=2,pi=3;class gf{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=ys,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Vn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let l=s.children[a];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>e||a instanceof AI){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof PI&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Vn(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Vn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,l=0;;l++){let c=this.children[l],u=a+c.size;if(s==-1&&e<=u){let d=a+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=a;for(let f=l;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=Vn(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Vn(f.dom);break}n+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let g=0,x=0;g<this.children.length;g++){let v=this.children[g],b=x+v.size;if(i>x&&a<b)return v.setSelection(e-x-v.border,n-x-v.border,r,s);x=b}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((xs||nr)&&e==n){let{node:g,offset:x}=l;if(g.nodeType==3){if(f=!!(x&&g.nodeValue[x-1]==`
`),f&&x==g.nodeValue.length)for(let v=g,b;v;v=v.parentNode){if(b=v.nextSibling){b.nodeName=="BR"&&(l=c={node:b.parentNode,offset:Vn(b)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=g.childNodes[x-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(xs&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||f&&nr)&&Dl(l.node,l.offset,d.anchorNode,d.anchorOffset)&&Dl(c.node,c.offset,d.focusNode,d.focusOffset))return;let p=!1;if((u.extend||e==n)&&!(f&&xs)){u.collapse(l.node,l.offset);try{e!=n&&u.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>n){let x=l;l=c,c=x}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+i.border,c=a-i.border;if(e>=l&&n<=c){this.dirty=e==r||n==a?al:dE,e==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=pi:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?al:pi}r=a}this.dirty=al}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?al:dE;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class PI extends gf{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==ys&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Vne extends gf{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Il extends gf{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=Ul.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Il(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&pi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=pi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ys){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ys}}slice(e,n,r){let s=Il.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=C2(i,n,a,r)),e>0&&(i=C2(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ro extends gf{constructor(e,n,r,s,i,a,l,c,u){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,a){let l=i.nodeViews[n.type.name],c,u=l&&l(n,i,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,s),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Ul.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=DI(d,r,n),u?c=new zne(e,n,r,s,d,f||null,p,u,i,a+1):n.isText?new cx(e,n,r,s,d,p,i):new ro(e,n,r,s,d,f||null,p,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>he.empty)}return e}matchesNode(e,n,r){return this.dirty==ys&&e.eq(this.node)&&kg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new Bne(this,a&&a.node,e);Wne(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?jt.none:this.node.child(d).marks,r,e),c.placeWidget(u,e,s)},(u,d,f,p)=>{c.syncToMarks(u.marks,r,e);let g;c.findNodeMatch(u,d,f,p)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(g=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,d,f,g,e)||c.updateNextNode(u,d,f,e,p,s)||c.addNode(u,d,f,e,s),s+=u.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==al)&&(a&&this.protectLocalComposition(e,a),OI(this.contentDOM,this.children,e),lu&&qne(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof We)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=Kne(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new Vne(this,i,n,s);e.input.compositionNodes.push(a),this.children=C2(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==pi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ys}updateOuterDeco(e){if(kg(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=_I(this.dom,this.nodeDOM,j2(this.outerDeco,this.node,n),j2(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function hE(t,e,n,r,s){DI(r,e,t);let i=new ro(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class cx extends ro{constructor(e,n,r,s,i,a,l){super(e,n,r,s,i,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==pi||this.dirty!=ys&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ys||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=ys,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new cx(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=pi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class AI extends gf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ys&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class zne extends ro{constructor(e,n,r,s,i,a,l,c,u,d){super(e,n,r,s,i,a,l,u,d),this.spec=c}update(e,n,r,s){if(this.dirty==pi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function OI(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=fE(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(a instanceof Il){let c=r?r.previousSibling:t.lastChild;OI(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=fE(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const th=function(t){t&&(this.nodeName=t)};th.prototype=Object.create(null);const ol=[new th];function j2(t,e,n){if(t.length==0)return ol;let r=n?ol[0]:new th,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new th(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&s.length==1&&s.push(r=new th(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return s}function _I(t,e,n,r){if(n==ol&&r==ol)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let c;l&&l.nodeName==a.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=ol[0]),s=c}$ne(s,l||ol[0],a)}return s}function $ne(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function DI(t,e,n){return _I(t,t,ol,j2(e,n,t.nodeType!=1))}function kg(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function fE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Bne{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Hne(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=ys,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Il.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==pi&&a.dom==a.contentDOM&&(a.dirty=al),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof ro){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let d=c.dom,f,p=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=pi&&kg(n,c.outerDeco));if(!p&&c.update(e,n,r,s))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,e,n,r,s,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=al,f.updateChildren(s,a+1),f.dirty=ys),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!kg(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=ro.create(this.top,n,r,s,i,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let a=ro.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new PI(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Il;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof cx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((nr||En)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new AI(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Hne(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Il)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),a.push(l)}}return{index:s,matched:i,matches:a.reverse()}}function Une(t,e){return t.type.side-e.type.side}function Wne(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,s,e.forChild(i,d),u),i+=d.nodeSize}return}let a=0,l=[],c=null;for(let u=0;;){let d,f;for(;a<s.length&&s[a].to==i;){let b=s[a++];b.widget&&(d?(f||(f=[d])).push(b):d=b)}if(d)if(f){f.sort(Une);for(let b=0;b<f.length;b++)n(f[b],u,!!c)}else n(d,u,!!c);let p,g;if(c)g=-1,p=c,c=null;else if(u<t.childCount)g=u,p=t.child(u++);else break;for(let b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)l.push(s[a++]);let x=i+p.nodeSize;if(p.isText){let b=x;a<s.length&&s[a].from<b&&(b=s[a].from);for(let w=0;w<l.length;w++)l[w].to<b&&(b=l[w].to);b<x&&(c=p.cut(b-i),p=p.cut(0,b-i),x=b,g=-1)}else for(;a<s.length&&s[a].to<x;)a++;let v=p.isInline&&!p.isLeaf?l.filter(b=>!b.inline):l.slice();r(p,v,e.forChild(i,p),g),i=x}}function qne(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Kne(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),l=i;if(i+=a.nodeSize,!a.isText)continue;let c=a.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?c.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function C2(t,e,n,r,s){let i=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],u=l,d=l+=c.size;u>=n||d<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,r)),s&&(i.push(s),s=void 0),d>n&&i.push(c.slice(n-u,c.size,r)))}return i}function YN(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),c,u;if(lx(n)){for(c=a;s&&!s.node;)s=s.parent;let f=s.node;if(s&&f.isAtom&&Ue.isSelectable(f)&&s.parent&&!(f.isInline&&vne(n.focusNode,n.focusOffset,s.dom))){let p=s.posBefore;u=new Ue(a==p?l:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,p=a;for(let g=0;g<n.rangeCount;g++){let x=n.getRangeAt(g);f=Math.min(f,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(f<0)return null;[c,a]=p==t.state.selection.anchor?[p,f]:[f,p],l=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;u=XN(t,d,l,f)}return u}function II(t){return t.editable?t.hasFocus():RI(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Qi(t,e=!1){let n=t.state.selection;if(LI(t,n),!!II(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&En){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Dl(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Yne(t);else{let{anchor:r,head:s}=n,i,a;mE&&!(n instanceof We)&&(n.$from.parent.inlineContent||(i=pE(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=pE(t,n.to))),t.docView.setSelection(r,s,t,e),mE&&(i&&gE(i),a&&gE(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Gne(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const mE=nr||En&&NI<63;function pE(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(nr&&s&&s.contentEditable=="false")return pv(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return pv(s);if(i)return pv(i)}}function pv(t){return t.contentEditable="true",nr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function gE(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Gne(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!II(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Yne(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Vn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ir&&no<=11&&(n.disabled=!0,n.disabled=!1)}function LI(t,e){if(e instanceof Ue){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(xE(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else xE(t)}function xE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function XN(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||We.between(e,n,r)}function yE(t){return t.editable&&!t.hasFocus()?!1:RI(t)}function RI(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Xne(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Dl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function k2(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Je.findFrom(i,e)}function Fa(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function bE(t,e,n){let r=t.state.selection;if(r instanceof We)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Fa(t,new We(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=k2(t.state,e);return s&&s instanceof Ue?Fa(t,s):!1}else if(!(fs&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Ue.isSelectable(i)?Fa(t,new Ue(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):pf?Fa(t,new We(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ue&&r.node.isInline)return Fa(t,new We(e>0?r.$to:r.$from));{let s=k2(t.state,e);return s?Fa(t,s):!1}}}function Tg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nh(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Tc(t,e){return e<0?Qne(t):Jne(t)}function Qne(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(xs&&n.nodeType==1&&r<Tg(n)&&nh(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(nh(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(FI(n))break;{let l=n.previousSibling;for(;l&&nh(l,-1);)s=n.parentNode,i=Vn(l),l=l.previousSibling;if(l)n=l,r=Tg(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?T2(t,n,r):s&&T2(t,s,i)}function Jne(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Tg(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(nh(l,1))i=n,a=++r;else break}else{if(FI(n))break;{let l=n.nextSibling;for(;l&&nh(l,1);)i=l.parentNode,a=Vn(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=Tg(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&T2(t,i,a)}function FI(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Zne(t,e){for(;t&&e==t.childNodes.length&&!mf(t);)e=Vn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function ere(t,e){for(;t&&!e&&!mf(t);)e=Vn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function T2(t,e,n){if(e.nodeType!=3){let i,a;(a=Zne(e,n))?(e=a,n=0):(i=ere(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(lx(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Qi(t)},50)}function vE(t,e){let n=t.state.doc.resolve(e);if(!(En||SI)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function wE(t,e,n){let r=t.state.selection;if(r instanceof We&&!r.empty||n.indexOf("s")>-1||fs&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=k2(t.state,e);if(a&&a instanceof Ue)return Fa(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,l=r instanceof Kr?Je.near(a,e):Je.findFrom(a,e);return l?Fa(t,l):!1}return!1}function NE(t,e){if(!(t.state.selection instanceof We))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function SE(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function tre(t){if(!nr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;SE(t,r,"true"),setTimeout(()=>SE(t,r,"false"),20)}return!1}function nre(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function rre(t,e){let n=e.keyCode,r=nre(e);if(n==8||fs&&n==72&&r=="c")return NE(t,-1)||Tc(t,-1);if(n==46&&!e.shiftKey||fs&&n==68&&r=="c")return NE(t,1)||Tc(t,1);if(n==13||n==27)return!0;if(n==37||fs&&n==66&&r=="c"){let s=n==37?vE(t,t.state.selection.from)=="ltr"?-1:1:-1;return bE(t,s,r)||Tc(t,s)}else if(n==39||fs&&n==70&&r=="c"){let s=n==39?vE(t,t.state.selection.from)=="ltr"?1:-1:1;return bE(t,s,r)||Tc(t,s)}else{if(n==38||fs&&n==80&&r=="c")return wE(t,-1,r)||Tc(t,-1);if(n==40||fs&&n==78&&r=="c")return tre(t)||wE(t,1,r)||Tc(t,1);if(r==(fs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function QN(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let a=t.someProp("clipboardSerializer")||Ul.fromSchema(t.state.schema),l=UI(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=HI[u.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let x=l.createElement(d[g]);for(;c.firstChild;)x.appendChild(c.firstChild);c.appendChild(x),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function VI(t,e,n,r,s){let i=s.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=!!e&&(r||i||!n);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return l=new Me(he.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{l=p(l,t,!0)}),l;let f=t.someProp("clipboardTextParser",p=>p(e,s,r,t));if(f)l=f;else{let p=s.marks(),{schema:g}=t.state,x=Ul.fromSchema(g);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=a.appendChild(document.createElement("p"));v&&b.appendChild(x.serializeNode(g.text(v,p)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=ore(n),pf&&lre(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||to.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!sre.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)l=cre(jE(l,+d[1],+d[2]),d[4]);else if(l=Me.maxOpen(ire(l.content,s),!0),l.openStart||l.openEnd){let f=0,p=0;for(let g=l.content.firstChild;f<l.openStart&&!g.type.spec.isolating;f++,g=g.firstChild);for(let g=l.content.lastChild;p<l.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);l=jE(l,f,p)}return t.someProp("transformPasted",f=>{l=f(l,t,c)}),l}const sre=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ire(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(l=>{if(!a)return;let c=s.findWrapping(l.type),u;if(!c)return a=null;if(u=a.length&&i.length&&$I(c,i,l,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=BI(a[a.length-1],i.length));let d=zI(l,c);a.push(d),s=s.matchType(d.type),i=c}}),a)return he.from(a)}return t}function zI(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,he.from(t));return t}function $I(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=$I(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(he.from(zI(n,t,s+1))))}}function BI(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,BI(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(he.empty,!0);return t.copy(n.append(r))}function E2(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(i=0),s<r-1&&(l=E2(l,e,n,r,s+1,i)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(he.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function jE(t,e,n){return e<t.openStart&&(t=new Me(E2(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Me(E2(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const HI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let CE=null;function UI(){return CE||(CE=document.implementation.createHTMLDocument("title"))}let gv=null;function are(t){let e=window.trustedTypes;return e?(gv||(gv=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),gv.createHTML(t)):t}function ore(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=UI().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&HI[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=are(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function lre(t){let e=t.querySelectorAll(En?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function cre(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;s=he.from(c.create(r[l+1],s)),i++,a++}return new Me(s,i,a)}const fr={},mr={},ure={touchstart:!0,touchmove:!0};class dre{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hre(t){for(let e in fr){let n=fr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{mre(t,r)&&!JN(t,r)&&(t.editable||!(r.type in mr))&&n(t,r)},ure[e]?{passive:!0}:void 0)}nr&&t.dom.addEventListener("input",()=>null),M2(t)}function Xa(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function fre(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function M2(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>JN(t,r))})}function JN(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function mre(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function pre(t,e){!JN(t,e)&&fr[e.type]&&(t.editable||!(e.type in mr))&&fr[e.type](t,e)}mr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!qI(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ki&&En&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),lu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,tl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||rre(t,n)?n.preventDefault():Xa(t,"key")};mr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};mr.keypress=(t,e)=>{let n=e;if(qI(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||fs&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof We)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function ux(t){return{left:t.clientX,top:t.clientY}}function gre(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ZN(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,l=>a>i.depth?l(t,n,i.nodeAfter,i.before(a),s,!0):l(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function Gc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function xre(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ue.isSelectable(r)?(Gc(t,new Ue(n)),!0):!1}function yre(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Ue&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if(Ue.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(Gc(t,Ue.create(t.state.doc,s)),!0):!1}function bre(t,e,n,r,s){return ZN(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?yre(t,n):xre(t,n))}function vre(t,e,n,r){return ZN(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function wre(t,e,n,r){return ZN(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||Nre(t,n,r)}function Nre(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Gc(t,We.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(a.inlineContent)Gc(t,We.create(r,l+1,l+1+a.content.size));else if(Ue.isSelectable(a))Gc(t,Ue.create(r,l));else continue;return!0}}function eS(t){return Eg(t)}const WI=fs?"metaKey":"ctrlKey";fr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=eS(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&gre(n,t.input.lastClick)&&!n[WI]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(ux(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Sre(t,a,n,!!r)):(i=="doubleClick"?vre:wre)(t,a.pos,a.inside,n)?n.preventDefault():Xa(t,"pointer"))};class Sre{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[WI],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,a=d.depth?d.before():0}const l=s?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof Ue&&u.from<=a&&u.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&xs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xa(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Qi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ux(e))),this.updateAllowDefault(e),this.allowDefault||!n?Xa(this.view,"pointer"):bre(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||nr&&this.mightDrag&&!this.mightDrag.node.isAtom||En&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Gc(this.view,Je.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Xa(this.view,"pointer")}move(e){this.updateAllowDefault(e),Xa(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}fr.touchstart=t=>{t.input.lastTouch=Date.now(),eS(t),Xa(t,"pointer")};fr.touchmove=t=>{t.input.lastTouch=Date.now(),Xa(t,"pointer")};fr.contextmenu=t=>eS(t);function qI(t,e){return t.composing?!0:nr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const jre=Ki?5e3:-1;mr.compositionstart=mr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof We&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||En&&SI&&Cre(t)))t.markCursor=t.state.storedMarks||n.marks(),Eg(t,!0),t.markCursor=null;else if(Eg(t,!e.selection.empty),xs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}KI(t,jre)};function Cre(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}mr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,KI(t,20))};function KI(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Eg(t),e))}function GI(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Tre());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function kre(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=yne(e.focusNode,e.focusOffset),r=bne(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function Tre(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Eg(t,e=!1){if(!(Ki&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),GI(t),e||t.docView&&t.docView.dirty){let n=YN(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Ere(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const _h=Ir&&no<15||lu&&Sne<604;fr.copy=mr.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=_h?null:n.clipboardData,a=r.content(),{dom:l,text:c}=QN(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):Ere(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Mre(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Pre(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Dh(t,r.value,null,s,e):Dh(t,r.textContent,r.innerHTML,s,e)},50)}function Dh(t,e,n,r,s){let i=VI(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||Me.empty)))return!0;if(!i)return!1;let a=Mre(i),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function YI(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mr.paste=(t,e)=>{let n=e;if(t.composing&&!Ki)return;let r=_h?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Dh(t,YI(r),r.getData("text/html"),s,n)?n.preventDefault():Pre(t,n)};class XI{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Are=fs?"altKey":"ctrlKey";function QI(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Are]}fr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(ux(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ue?s.to-1:s.to))){if(r&&r.mightDrag)a=Ue.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=Ue.create(t.state.doc,f.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:u,slice:d}=QN(t,l);(!n.dataTransfer.files.length||!En||NI>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(_h?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",_h||n.dataTransfer.setData("text/plain",u),t.dragging=new XI(d,QI(t,n),a)};fr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};mr.dragover=mr.dragenter=(t,e)=>e.preventDefault();mr.drop=(t,e)=>{try{Ore(t,e,t.dragging)}finally{t.dragging=null}};function Ore(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(ux(e));if(!r)return;let s=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",g=>{i=g(i,t,!1)}):i=VI(t,YI(e.dataTransfer),_h?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&QI(t,e));if(t.someProp("handleDrop",g=>g(t,e,i||Me.empty,a))){e.preventDefault();return}if(!i)return;e.preventDefault();let l=i?tI(t.state.doc,s.pos,i):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&Ue.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new Ue(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,v,b,w)=>g=w),c.setSelection(XN(t,p,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}fr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Qi(t)},20))};fr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};fr.beforeinput=(t,e)=>{if(En&&Ki&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,tl(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in mr)fr[t]=mr[t];function Ih(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Mg{constructor(e,n){this.toDOM=e,this.spec=n||yl,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new Mn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Mg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ih(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class so{constructor(e,n){this.attrs=e,this.spec=n||yl}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new Mn(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof so&&Ih(this.attrs,e.attrs)&&Ih(this.spec,e.spec)}static is(e){return e.type instanceof so}destroy(){}}class tS{constructor(e,n){this.attrs=e,this.spec=n||yl}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new Mn(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof tS&&Ih(this.attrs,e.attrs)&&Ih(this.spec,e.spec)}destroy(){}}class Mn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Mn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Mn(e,e,new Mg(n,r))}static inline(e,n,r,s){return new Mn(e,n,new so(r,s))}static node(e,n,r,s){return new Mn(e,n,new tS(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof so}get widget(){return this.type instanceof Mg}}const Oc=[],yl={};class Et{constructor(e,n){this.local=e.length?e:Oc,this.children=n.length?n:Oc}static create(e,n){return n.length?Pg(n,e,0,yl):Xn}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==Xn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||yl)}mapInner(e,n,r,s,i){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,s);c&&c.type.valid(n,c)?(a||(a=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?_re(this.children,a||[],e,n,r,s,i):a?new Et(a.sort(bl),Oc):Xn}add(e,n){return n.length?this==Xn?Et.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,c)=>{let u=c+r,d;if(d=ZI(n,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,d,u+1):s.splice(i,0,c,c+l.nodeSize,Pg(d,l,u+1,yl)),i+=3}});let a=JI(i?eL(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Et(a.length?this.local.concat(a).sort(bl):this.local,s||this.children)}remove(e){return e.length==0||this==Xn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,c=r[i+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>l&&f.to<c&&(e[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(a,l+1);u!=Xn?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let l=0;l<s.length;l++)s[l].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Et(s,r):Xn}forChild(e,n){if(this==Xn)return this;if(n.isLeaf)return Et.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>i&&c.type instanceof so){let u=Math.max(i,c.from)-i,d=Math.min(a,c.to)-i;u<d&&(s||(s=[])).push(c.copy(u,d))}}if(s){let l=new Et(s.sort(bl),Oc);return r?new $a([l,r]):l}return r||Xn}eq(e){if(this==e)return!0;if(!(e instanceof Et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return nS(this.localsInner(e))}localsInner(e){if(this==Xn)return Oc;if(e.inlineContent||!this.local.some(so.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof so||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Et.empty=new Et([],[]);Et.removeOverlap=nS;const Xn=Et.empty;class $a{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,yl));return $a.from(r)}forChild(e,n){if(n.isLeaf)return Et.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Xn&&(i instanceof $a?r=r.concat(i.members):r.push(i))}return $a.from(r)}eq(e){if(!(e instanceof $a)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?nS(r?n:n.sort(bl)):Oc}static from(e){switch(e.length){case 0:return Xn;case 1:return e[0];default:return new $a(e.every(n=>n instanceof Et)?e:e.reduce((n,r)=>n.concat(r instanceof Et?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function _re(t,e,n,r,s,i,a){let l=t.slice();for(let u=0,d=i;u<n.maps.length;u++){let f=0;n.maps[u].forEach((p,g,x,v)=>{let b=v-x-(g-p);for(let w=0;w<l.length;w+=3){let S=l[w+1];if(S<0||p>S+d-f)continue;let j=l[w]+d-f;g>=j?l[w+1]=p<=j?-2:-1:p>=d&&b&&(l[w]+=b,l[w+1]+=b)}f+=b}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(t[u]+i),f=d-s;if(f<0||f>=r.content.size){c=!0;continue}let p=n.map(t[u+1]+i,-1),g=p-s,{index:x,offset:v}=r.content.findIndex(f),b=r.maybeChild(x);if(b&&v==f&&v+b.nodeSize==g){let w=l[u+2].mapInner(n,b,d+1,t[u]+i+1,a);w!=Xn?(l[u]=f,l[u+1]=g,l[u+2]=w):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=Dre(l,t,e,n,s,i,a),d=Pg(u,r,0,a);e=d.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,p=0;f<d.children.length;f+=3){let g=d.children[f];for(;p<l.length&&l[p]<g;)p+=3;l.splice(p,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Et(e.sort(bl),l)}function JI(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Mn(s.from+e,s.to+e,s.type))}return n}function Dre(t,e,n,r,s,i,a){function l(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(r,s,u);f?n.push(f):a.onRemove&&a.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return n}function ZI(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function eL(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Pg(t,e,n,r){let s=[],i=!1;e.forEach((l,c)=>{let u=ZI(t,l,c+n);if(u){i=!0;let d=Pg(u,l,n+c+1,r);d!=Xn&&s.push(c,c+l.nodeSize,d)}});let a=JI(i?eL(t):t,-n).sort(bl);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||s.length?new Et(a,s):Xn}function bl(t,e){return t.from-e.from||t.to-e.to}function nS(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),kE(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),kE(e,s,r.copy(i.from,r.to)));break}}}return e}function kE(t,e,n){for(;e<t.length&&bl(n,t[e])>0;)e++;t.splice(e,0,n)}function xv(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Xn&&e.push(r)}),t.cursorWrapper&&e.push(Et.create(t.state.doc,[t.cursorWrapper.deco])),$a.from(e)}const Ire={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Lre=Ir&&no<=11;class Rre{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Fre{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rre,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ir&&no<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Lre&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ire)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(yE(this.view)){if(this.suppressingSelectionUpdates)return Qi(this.view);if(Ir&&no<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Dl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=ou(i))n.add(i);for(let i=e.anchorNode;i;i=ou(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&yE(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(i=i<0?f.from:Math.min(f.from,i),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(l=!0))}if(xs&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,p]=d;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of d){let g=p.parentNode;g&&g.nodeName=="LI"&&(!f||$re(e,f)!=g)&&p.remove()}}}else if((En||nr)&&c.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of c)if(d.nodeName=="BR"&&d.parentNode){let f=d.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&d.parentNode.removeChild(d)}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&lx(r)&&(u=YN(e))&&u.eq(Je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Qi(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),Vre(e)),this.handleDOMChange(i,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Qi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Ir&&no<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:p}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let a=s&&s.parentNode==e.target?Vn(s)+1:0,l=r.localPosFromDOM(e.target,a,-1),c=i&&i.parentNode==e.target?Vn(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let TE=new WeakMap,EE=!1;function Vre(t){if(!TE.has(t)&&(TE.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=xs,EE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),EE=!0}}function ME(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Dl(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function zre(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return ME(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?ME(t,n):null}function $re(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Bre(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],lx(c)||u.push({node:c.focusNode,offset:c.focusOffset})),En&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let w=r.childNodes[b-1],S=w.pmViewDesc;if(w.nodeName=="BR"&&!S){i=b;break}if(!S||S.size)break}let f=t.state.doc,p=t.someProp("domParser")||to.fromSchema(t.state.schema),g=f.resolve(a),x=null,v=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Hre,context:g});if(u&&u[0].pos!=null){let b=u[0].pos,w=u[1]&&u[1].pos;w==null&&(w=b),x={anchor:b+a,head:w+a}}return{doc:v,sel:x,from:a,to:l}}function Hre(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(nr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||nr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ure=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Wre(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,E=YN(t,A);if(E&&!t.state.selection.eq(E)){if(En&&Ki&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",L=>L(t,tl(13,"Enter"))))return;let D=t.state.tr.setSelection(E);A=="pointer"?D.setMeta("pointer",!0):A=="key"&&D.scrollIntoView(),i&&D.setMeta("composition",i),t.dispatch(D)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,u=Bre(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let x=Gre(f.content,u.doc.content,u.from,p,g);if(x&&t.input.domChangeCount++,(lu&&t.input.lastIOSEnter>Date.now()-225||Ki)&&s.some(A=>A.nodeType==1&&!Ure.test(A.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",A=>A(t,tl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&c instanceof We&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))x={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let A=PE(t,t.state.doc,u.sel);if(A&&!A.eq(t.state.selection)){let E=t.state.tr.setSelection(A);i&&E.setMeta("composition",i),t.dispatch(E)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof We&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Ir&&no<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>u.from&&u.doc.textBetween(x.start-u.from-1,x.start-u.from+1)==" "&&(x.start--,x.endA--,x.endB--);let v=u.doc.resolveNoCache(x.start-u.from),b=u.doc.resolveNoCache(x.endB-u.from),w=d.resolve(x.start),S=v.sameParent(b)&&v.parent.inlineContent&&w.end()>=x.endA;if((lu&&t.input.lastIOSEnter>Date.now()-225&&(!S||s.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!S&&v.pos<u.doc.content.size&&(!v.sameParent(b)||!v.parent.inlineContent)&&v.pos<b.pos&&!/\S/.test(u.doc.textBetween(v.pos,b.pos,"","")))&&t.someProp("handleKeyDown",A=>A(t,tl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&Kre(d,x.start,x.endA,v,b)&&t.someProp("handleKeyDown",A=>A(t,tl(8,"Backspace")))){Ki&&En&&t.domObserver.suppressSelectionUpdates();return}En&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Ki&&!S&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==x.endA&&(x.endB-=2,b=u.doc.resolveNoCache(x.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,tl(13,"Enter"))})},20));let j=x.start,M=x.endA,C=A=>{let E=A||t.state.tr.replace(j,M,u.doc.slice(x.start-u.from,x.endB-u.from));if(u.sel){let D=PE(t,E.doc,u.sel);D&&!(En&&t.composing&&D.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(D.head==j||D.head==E.mapping.map(M)-1)||Ir&&D.empty&&D.head==j)&&E.setSelection(D)}return i&&E.setMeta("composition",i),E.scrollIntoView()},P;if(S)if(v.pos==b.pos){Ir&&no<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Qi(t),20));let A=C(t.state.tr.delete(j,M)),E=d.resolve(x.start).marksAcross(d.resolve(x.endA));E&&A.ensureMarks(E),t.dispatch(A)}else if(x.endA==x.endB&&(P=qre(v.parent.content.cut(v.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let A=C(t.state.tr);P.type=="add"?A.addMark(j,M,P.mark):A.removeMark(j,M,P.mark),t.dispatch(A)}else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let A=v.parent.textBetween(v.parentOffset,b.parentOffset),E=()=>C(t.state.tr.insertText(A,j,M));t.someProp("handleTextInput",D=>D(t,j,M,A,E))||t.dispatch(E())}else t.dispatch(C());else t.dispatch(C())}function PE(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:XN(t,e.resolve(n.anchor),e.resolve(n.head))}function qre(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,l,c;for(let d=0;d<r.length;d++)s=r[d].removeFromSet(s);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],a="add",c=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&i.length==1)l=i[0],a="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(he.from(u).eq(t))return{mark:l,type:a}}function Kre(t,e,n,r,s){if(n-e<=s.pos-r.pos||yv(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(yv(i,!0,!0));return!a.parent.isTextblock||a.pos>n||yv(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function yv(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function Gre(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&t.size<e.size){let c=r<=i&&r>=a?i-r:0;i-=c,i&&i<e.size&&AE(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-a),a=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<t.size&&AE(t.textBetween(i-1,i+1))&&(i+=c?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function AE(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class tL{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new dre,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(LE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=DE(this),_E(this),this.nodeViews=IE(this),this.docView=hE(this.state.doc,OE(this),xv(this),this.dom,this),this.domObserver=new Fre(this,(r,s,i,a)=>Wre(this,r,s,i,a)),this.domObserver.start(),hre(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&M2(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(LE),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(GI(this),a=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=IE(this);Xre(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&M2(this),this.editable=DE(this),_E(this);let c=xv(this),u=OE(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(s.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&kne(this);if(a){this.domObserver.stop();let g=f&&(Ir||En)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&Yre(s.selection,e.selection);if(f){let x=En?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=kre(this)),(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=hE(e.doc,u,c,this.dom,this)),x&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Xne(this))?Qi(this,g):(LI(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&Tne(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ue){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&aE(this,n.getBoundingClientRect(),e)}else aE(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new XI(e.slice,e.move,s<0?void 0:Ue.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(Ir){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ene(this.dom),Qi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return _ne(this,e)}coordsAtPos(e,n=1){return EI(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return Fne(this,n||this.state,e)}pasteHTML(e,n){return Dh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Dh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return QN(this,e)}destroy(){this.docView&&(fre(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],xv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,gne())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return pre(this,e)}domSelectionRange(){let e=this.domSelection();return e?nr&&this.root.nodeType===11&&wne(this.dom.ownerDocument)==this.dom&&zre(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}tL.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function OE(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Mn.node(0,t.state.doc.content.size,e)]}function _E(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Mn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function DE(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Yre(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function IE(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Xre(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function LE(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ag={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Qre=typeof navigator<"u"&&/Mac/.test(navigator.platform),Jre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zn=0;zn<10;zn++)fo[48+zn]=fo[96+zn]=String(zn);for(var zn=1;zn<=24;zn++)fo[zn+111]="F"+zn;for(var zn=65;zn<=90;zn++)fo[zn]=String.fromCharCode(zn+32),Ag[zn]=String.fromCharCode(zn);for(var bv in fo)Ag.hasOwnProperty(bv)||(Ag[bv]=fo[bv]);function Zre(t){var e=Qre&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Jre&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ag:fo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const ese=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),tse=typeof navigator<"u"&&/Win/.test(navigator.platform);function nse(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))ese?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function rse(t){let e=Object.create(null);for(let n in t)e[nse(n)]=t[n];return e}function vv(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function sse(t){return new Lt({props:{handleKeyDown:rS(t)}})}function rS(t){let e=rse(t);return function(n,r){let s=Zre(r),i,a=e[vv(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[vv(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(tse&&r.ctrlKey&&r.altKey)&&(i=fo[r.keyCode])&&i!=s){let l=e[vv(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var ise=Object.defineProperty,sS=(t,e)=>{for(var n in e)ise(t,n,{get:e[n],enumerable:!0})};function dx(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var hx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>{const d=l(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a=[],l=!!t,c=t||s.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,p])=>[f,(...x)=>{const v=this.buildProps(c,e),b=p(...x)(v);return a.push(b),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a={tr:t,editor:r,view:i,state:dx({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}},nL={};sS(nL,{blur:()=>ase,clearContent:()=>ose,clearNodes:()=>lse,command:()=>cse,createParagraphNear:()=>use,cut:()=>dse,deleteCurrentNode:()=>hse,deleteNode:()=>fse,deleteRange:()=>mse,deleteSelection:()=>pse,enter:()=>gse,exitCode:()=>xse,extendMarkRange:()=>yse,first:()=>bse,focus:()=>wse,forEach:()=>Nse,insertContent:()=>Sse,insertContentAt:()=>kse,joinBackward:()=>Mse,joinDown:()=>Ese,joinForward:()=>Pse,joinItemBackward:()=>Ase,joinItemForward:()=>Ose,joinTextblockBackward:()=>_se,joinTextblockForward:()=>Dse,joinUp:()=>Tse,keyboardShortcut:()=>Lse,lift:()=>Rse,liftEmptyBlock:()=>Fse,liftListItem:()=>Vse,newlineInCode:()=>zse,resetAttributes:()=>$se,scrollIntoView:()=>Bse,selectAll:()=>Hse,selectNodeBackward:()=>Use,selectNodeForward:()=>Wse,selectParentNode:()=>qse,selectTextblockEnd:()=>Kse,selectTextblockStart:()=>Gse,setContent:()=>Yse,setMark:()=>mie,setMeta:()=>pie,setNode:()=>gie,setNodeSelection:()=>xie,setTextDirection:()=>yie,setTextSelection:()=>bie,sinkListItem:()=>vie,splitBlock:()=>wie,splitListItem:()=>Nie,toggleList:()=>Sie,toggleMark:()=>jie,toggleNode:()=>Cie,toggleWrap:()=>kie,undoInputRule:()=>Tie,unsetAllMarks:()=>Eie,unsetMark:()=>Mie,unsetTextDirection:()=>Pie,updateAttributes:()=>Aie,wrapIn:()=>Oie,wrapInList:()=>_ie});var ase=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),ose=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),lse=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),p=u.resolve(d.map(c+l.nodeSize)),g=f.blockRange(p);if(!g)return;const x=ju(g);if(l.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(g.start,v)}(x||x===0)&&e.lift(g,x)})}),!0},cse=t=>e=>t(e),use=()=>({state:t,dispatch:e})=>xI(t,e),dse=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new We(r.doc.resolve(Math.max(a-1,0)))),!0},hse=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1};function pn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var fse=t=>({tr:e,state:n,dispatch:r})=>{const s=pn(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const c=i.before(a),u=i.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1},mse=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},pse=()=>({state:t,dispatch:e})=>HN(t,e),gse=()=>({commands:t})=>t.keyboardShortcut("Enter"),xse=()=>({state:t,dispatch:e})=>tne(t,e);function iS(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Og(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:iS(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function rL(t,e,n={}){return t.find(r=>r.type===e&&Og(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function RE(t,e,n={}){return!!rL(t,e,n)}function aS(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!rL([...s.node.marks],e,n)))return;let a=s.index,l=t.start()+s.offset,c=a+1,u=l+s.node.nodeSize;for(;a>0&&RE([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&RE([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function fa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var yse=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=fa(t,r.schema),{doc:a,selection:l}=n,{$from:c,from:u,to:d}=l;if(s){const f=aS(c,i,e);if(f&&f.from<=u&&f.to>=d){const p=We.create(a,f.from,f.to);n.setSelection(p)}}return!0},bse=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function sL(t){return t instanceof We}function ll(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function iL(t,e=null){if(!e)return null;const n=Je.atStart(t),r=Je.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?We.create(t,ll(0,s,i),ll(t.content.size,s,i)):We.create(t,ll(e,s,i),ll(e,s,i))}function vse(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function oS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var wse=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(oS()||vse())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!sL(n.state.selection))return a(),!0;const l=iL(s.doc,t)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},Nse=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),Sse=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),aL=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&aL(r)}return t};function Jm(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return aL(n)}function Lh(t,e,n){if(t instanceof eo||t instanceof he)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return he.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Lh("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,l="";const c=new UD({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?to.fromSchema(c).parseSlice(Jm(t),n.parseOptions):to.fromSchema(c).parse(Jm(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=to.fromSchema(e);return n.slice?i.parseSlice(Jm(t),n.parseOptions).content:i.parse(Jm(t),n.parseOptions)}return Lh("",e,n)}function jse(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Cn||s instanceof Pn))return;const i=t.mapping.maps[r];let a=0;i.forEach((l,c,u,d)=>{a===0&&(a=d)}),t.setSelection(Je.near(t.doc.resolve(a),n))}var Cse=t=>!("type"in t),kse=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Lh(e,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){c(b)}try{l=Lh(e,i.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(b){return c(b),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((Cse(l)?l:[l]).forEach(b=>{b.check(),p=p?b.isText&&b.marks.length===0:!1,g=g?b.isBlock:!1}),d===f&&g){const{parent:b}=r.doc.resolve(d);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(d-=1,f+=1)}let v;if(p){if(Array.isArray(e))v=e.map(b=>b.text||"").join("");else if(e instanceof he){let b="";e.forEach(w=>{w.text&&(b+=w.text)}),v=b}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,f)}else{v=l;const b=r.doc.resolve(d),w=b.node(),S=b.parentOffset===0,j=w.isText||w.isTextblock,M=w.content.size>0;S&&j&&M&&(d=Math.max(0,d-1)),r.replaceWith(d,f,v)}n.updateSelection&&jse(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},Tse=()=>({state:t,dispatch:e})=>Jte(t,e),Ese=()=>({state:t,dispatch:e})=>Zte(t,e),Mse=()=>({state:t,dispatch:e})=>uI(t,e),Pse=()=>({state:t,dispatch:e})=>mI(t,e),Ase=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ix(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Ose=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ix(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},_se=()=>({state:t,dispatch:e})=>Xte(t,e),Dse=()=>({state:t,dispatch:e})=>Qte(t,e);function oL(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Ise(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))oS()||oL()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var Lse=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=Ise(t).split(/-(?!$)/),a=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const d=u.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function mo(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?pn(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(f,p)=>{if(f.isText)return;const g=Math.max(r,p),x=Math.min(s,p+f.nodeSize);l.push({node:f,from:g,to:x})});const c=s-r,u=l.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>Og(f.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((f,p)=>f+p.to-p.from,0)>=c}var Rse=(t,e={})=>({state:n,dispatch:r})=>{const s=pn(t,n.schema);return mo(n,s,e)?ene(n,r):!1},Fse=()=>({state:t,dispatch:e})=>yI(t,e),Vse=t=>({state:e,dispatch:n})=>{const r=pn(t,e.schema);return hne(r)(e,n)},zse=()=>({state:t,dispatch:e})=>gI(t,e);function fx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function FE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var $se=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=fx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=pn(t,r.schema)),l==="mark"&&(a=fa(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,f)=>{i&&i===d.type&&(c=!0,s&&n.setNodeMarkup(f,void 0,FE(d.attrs,e))),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&(c=!0,s&&n.addMark(f,f+d.nodeSize,a.create(FE(p.attrs,e))))})})}),c},Bse=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Hse=()=>({tr:t,dispatch:e})=>{if(e){const n=new Kr(t.doc);t.setSelection(n)}return!0},Use=()=>({state:t,dispatch:e})=>hI(t,e),Wse=()=>({state:t,dispatch:e})=>pI(t,e),qse=()=>({state:t,dispatch:e})=>sne(t,e),Kse=()=>({state:t,dispatch:e})=>one(t,e),Gse=()=>({state:t,dispatch:e})=>ane(t,e);function P2(t,e,n={},r={}){return Lh(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Yse=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:a,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const u=P2(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function lL(t,e){const n=fa(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function cL(t,e){const n=new $N(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function Xse(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Qse(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function uL(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function mx(t){return e=>uL(e.$from,t)}function $e(t,e,n){return t.config[e]===void 0&&t.parent?$e(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?$e(t.parent,e,n):null}):t.config[e]}function lS(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=$e(e,"addExtensions",n);return r?[e,...lS(r())]:e}).flat(10)}function cS(t,e){const n=Ul.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function dL(t){return typeof t=="function"}function yt(t,e=void 0,...n){return dL(t)?e?t.bind(e)(...n):t(...n):t}function Jse(t={}){return Object.keys(t).length===0&&t.constructor===Object}function cu(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function hL(t){const e=[],{nodeExtensions:n,markExtensions:r}=cu(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:s},c=$e(a,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([p,g])=>{e.push({type:f,name:p,attribute:{...i,...g}})})})})}),s.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=$e(a,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const p={...i,...f};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,e.push({type:a.name,name:d,attribute:p})})}),e}function Pt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=r[s]?r[s].split(" "):[],u=l.filter(d=>!c.includes(d));r[s]=[...c,...u].join(" ")}else if(s==="style"){const l=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[s]?r[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),l.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),r[s]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[s]=i}),r},{})}function _g(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Pt(n,r),{})}function Zse(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function VE(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):Zse(n.getAttribute(a.name));return l==null?i:{...i,[a.name]:l}},{});return{...r,...s}}}}function zE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Jse(n)?!1:n!=null))}function $E(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function eie(t,e){var n;const r=hL(t),{nodeExtensions:s,markExtensions:i}=cu(t),a=(n=s.find(u=>$e(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(s.map(u=>{const d=r.filter(w=>w.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((w,S)=>{const j=$e(S,"extendNodeSchema",f);return{...w,...j?j(u):{}}},{}),g=zE({...p,content:yt($e(u,"content",f)),marks:yt($e(u,"marks",f)),group:yt($e(u,"group",f)),inline:yt($e(u,"inline",f)),atom:yt($e(u,"atom",f)),selectable:yt($e(u,"selectable",f)),draggable:yt($e(u,"draggable",f)),code:yt($e(u,"code",f)),whitespace:yt($e(u,"whitespace",f)),linebreakReplacement:yt($e(u,"linebreakReplacement",f)),defining:yt($e(u,"defining",f)),isolating:yt($e(u,"isolating",f)),attrs:Object.fromEntries(d.map($E))}),x=yt($e(u,"parseHTML",f));x&&(g.parseDOM=x.map(w=>VE(w,d)));const v=$e(u,"renderHTML",f);v&&(g.toDOM=w=>v({node:w,HTMLAttributes:_g(w,d)}));const b=$e(u,"renderText",f);return b&&(g.toText=b),[u.name,g]})),c=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((b,w)=>{const S=$e(w,"extendMarkSchema",f);return{...b,...S?S(u):{}}},{}),g=zE({...p,inclusive:yt($e(u,"inclusive",f)),excludes:yt($e(u,"excludes",f)),group:yt($e(u,"group",f)),spanning:yt($e(u,"spanning",f)),code:yt($e(u,"code",f)),attrs:Object.fromEntries(d.map($E))}),x=yt($e(u,"parseHTML",f));x&&(g.parseDOM=x.map(b=>VE(b,d)));const v=$e(u,"renderHTML",f);return v&&(g.toDOM=b=>v({mark:b,HTMLAttributes:_g(b,d)})),[u.name,g]}));return new UD({topNode:a,nodes:l,marks:c})}function tie(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function uS(t){return t.sort((n,r)=>{const s=$e(n,"priority")||100,i=$e(r,"priority")||100;return s>i?-1:s<i?1:0})}function fL(t){const e=uS(lS(t)),n=tie(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function mL(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,s,(c,u,d,f)=>{var p;c.isBlock&&u>r&&(l+=i);const g=a?.[c.type.name];if(g)return d&&(l+=g({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(l+=(p=c?.text)==null?void 0:p.slice(Math.max(r,u)-u,s-u))}),l}function nie(t,e){const n={from:0,to:t.content.size};return mL(t,n,e)}function pL(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function rie(t,e){const n=pn(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const a=i.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function gL(t,e){const n=fx(typeof e=="string"?e:e.name,t.schema);return n==="node"?rie(t,e):n==="mark"?lL(t,e):{}}function sie(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function iie(t){const e=sie(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function xL(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const u=e.slice(i).map(l,-1),d=e.slice(i).map(c),f=e.invert().map(u,-1),p=e.invert().map(d);r.push({oldRange:{from:f,to:p},newRange:{from:u,to:d}})})}),iie(r)}function dS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=aS(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}var aie=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,a=null;for(;i>0&&a===null;){const l=s.node(i);l?.type.name===e?a=l:i-=1}return[a,i]};function wv(t,e){return e.nodes[t]||e.marks[t]||null}function Fp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var oie=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,l)=>{var c,u;const d=((u=(c=s.type.spec).toText)==null?void 0:u.call(c,{node:s,pos:i,parent:a,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,r-i))}),n};function A2(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?fa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>Og(f.attrs,n,{strict:!1}));let a=0;const l=[];if(s.forEach(({$from:f,$to:p})=>{const g=f.pos,x=p.pos;t.doc.nodesBetween(g,x,(v,b)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(g,b),S=Math.min(x,b+v.nodeSize),j=S-w;a+=j,l.push(...v.marks.map(M=>({mark:M,from:w,to:S})))})}),a===0)return!1;const c=l.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>Og(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),u=l.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+u:c)>=a}function lie(t,e,n={}){if(!e)return mo(t,null,n)||A2(t,null,n);const r=fx(e,t.schema);return r==="node"?mo(t,e,n):r==="mark"?A2(t,e,n):!1}var cie=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=mx(l=>l.type.name===e)(t.selection);if(!i)return!1;const a=t.doc.resolve(i.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},uie=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function BE(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function HE(t,e){const{nodeExtensions:n}=cu(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=yt($e(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function px(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(px(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function yL(t){return t instanceof Ue}var bL=class vL{constructor(e){this.position=e}static fromJSON(e){return new vL(e.position)}toJSON(){return{position:this.position}}};function die(t,e){const n=e.mapping.mapResult(t.position);return{position:new bL(n.pos),mapResult:n}}function hie(t){return new bL(t)}function fie(t,e,n){var r;const{selection:s}=e;let i=null;if(sL(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(d,f,p)=>{if(u)return!1;if(d.isInline){const g=!p||p.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=g&&x}return!u}),u})}var mie=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:l}=i,c=fa(t,r.schema);if(s)if(a){const u=lL(r,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(p,g)=>{const x=Math.max(g,d),v=Math.min(g+p.nodeSize,f);p.marks.find(w=>w.type===c)?p.marks.forEach(w=>{c===w.type&&n.addMark(x,v,c.create({...w.attrs,...e}))}):n.addMark(x,v,c.create(e))})});return fie(r,n,c)},pie=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),gie=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=pn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>rE(i,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>rE(i,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},xie=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=ll(t,0,r.content.size),i=Ue.create(r,s);e.setSelection(i)}return!0},yie=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=i.from,l=i.to),s&&n.doc.nodesBetween(a,l,(c,u)=>{c.isText||n.setNodeMarkup(u,void 0,{...c.attrs,dir:t})}),!0},bie=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=We.atStart(r).from,l=We.atEnd(r).to,c=ll(s,a,l),u=ll(i,a,l),d=We.create(r,c,u);e.setSelection(d)}return!0},vie=t=>({state:e,dispatch:n})=>{const r=pn(t,e.schema);return pne(r)(e,n)};function UE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var wie=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:l,$to:c}=i,u=s.extensionManager.attributes,d=Fp(u,l.node().type.name,l.node().attrs);if(i instanceof Ue&&i.node.isBlock)return!l.parentOffset||!Xi(a,l.pos)?!1:(r&&(t&&UE(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:Xse(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=f&&p?[{type:p,attrs:d}]:void 0,x=Xi(e.doc,e.mapping.map(l.pos),1,g);if(!g&&!x&&Xi(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(x=!0,g=p?[{type:p,attrs:d}]:void 0),r){if(x&&(i instanceof We&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,g),p&&!f&&!l.parentOffset&&l.parent.type!==p)){const v=e.mapping.map(l.before()),b=e.doc.resolve(v);l.node(-1).canReplaceWith(b.index(),b.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&UE(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},Nie=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const l=pn(t,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let w=he.empty;const S=c.index(-1)?1:c.index(-2)?2:3;for(let E=c.depth-S;E>=c.depth-3;E-=1)w=he.from(c.node(E).copy(w));const j=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,M={...Fp(p,c.node().type.name,c.node().attrs),...e},C=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(M))||void 0;w=w.append(he.from(l.createAndFill(null,C)||void 0));const P=c.before(c.depth-(S-1));n.replace(P,c.after(-j),new Me(w,4-S,0));let A=-1;n.doc.nodesBetween(P,n.doc.content.size,(E,D)=>{if(A>-1)return!1;E.isTextblock&&E.content.size===0&&(A=D+1)}),A>-1&&n.setSelection(We.near(n.doc.resolve(A))),n.scrollIntoView()}return!0}const g=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,x={...Fp(p,f.type.name,f.attrs),...e},v={...Fp(p,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const b=g?[{type:l,attrs:x},{type:g,attrs:v}]:[{type:l,attrs:x}];if(!Xi(n.doc,c.pos,2))return!1;if(s){const{selection:w,storedMarks:S}=r,{splittableMarks:j}=i.extensionManager,M=S||w.$to.parentOffset&&w.$from.marks();if(n.split(c.pos,2,b).scrollIntoView(),!M||!s)return!0;const C=M.filter(P=>j.includes(P.type.name));n.ensureMarks(C)}return!0},Nv=(t,e)=>{const n=mx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&wo(t.doc,n.pos)&&t.join(n.pos),!0},Sv=(t,e)=>{const n=mx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&wo(t.doc,r)&&t.join(r),!0},Sie=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:p}=s.extensionManager,g=pn(t,a.schema),x=pn(e,a.schema),{selection:v,storedMarks:b}=a,{$from:w,$to:S}=v,j=w.blockRange(S),M=b||v.$to.parentOffset&&v.$from.marks();if(!j)return!1;const C=mx(P=>HE(P.type.name,f))(v);if(j.depth>=1&&C&&j.depth-C.depth<=1){if(C.node.type===g)return u.liftListItem(x);if(HE(C.node.type.name,f)&&g.validContent(C.node.content)&&l)return c().command(()=>(i.setNodeMarkup(C.pos,g),!0)).command(()=>Nv(i,g)).command(()=>Sv(i,g)).run()}return!n||!M||!l?c().command(()=>d().wrapInList(g,r)?!0:u.clearNodes()).wrapInList(g,r).command(()=>Nv(i,g)).command(()=>Sv(i,g)).run():c().command(()=>{const P=d().wrapInList(g,r),A=M.filter(E=>p.includes(E.type.name));return i.ensureMarks(A),P?!0:u.clearNodes()}).wrapInList(g,r).command(()=>Nv(i,g)).command(()=>Sv(i,g)).run()},jie=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=fa(t,r.schema);return A2(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},Cie=(t,e,n={})=>({state:r,commands:s})=>{const i=pn(t,r.schema),a=pn(e,r.schema),l=mo(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?s.setNode(a,c):s.setNode(i,{...c,...n})},kie=(t,e={})=>({state:n,commands:r})=>{const s=pn(t,n.schema);return mo(n,s,e)?r.lift(s):r.wrapIn(s,e)},Tie=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else a.delete(i.from,i.to)}return!0}}return!1},Eie=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Mie=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=fa(t,r.schema),{$from:u,empty:d,ranges:f}=l;if(!s)return!0;if(d&&a){let{from:p,to:g}=l;const x=(i=u.marks().find(b=>b.type===c))==null?void 0:i.attrs,v=aS(u,c,x);v&&(p=v.from,g=v.to),n.removeMark(p,g,c)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},Pie=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let i,a;return typeof t=="number"?(i=t,a=t):t&&"from"in t&&"to"in t?(i=t.from,a=t.to):(i=s.from,a=s.to),r&&e.doc.nodesBetween(i,a,(l,c)=>{if(l.isText)return;const u={...l.attrs};delete u.dir,e.setNodeMarkup(c,void 0,u)}),!0},Aie=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=fx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=pn(t,r.schema)),l==="mark"&&(a=fa(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;let p,g,x,v;n.selection.empty?r.doc.nodesBetween(d,f,(b,w)=>{i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b)}):r.doc.nodesBetween(d,f,(b,w)=>{w<d&&i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b),w>=d&&w<=f&&(i&&i===b.type&&(c=!0,s&&n.setNodeMarkup(w,void 0,{...b.attrs,...e})),a&&b.marks.length&&b.marks.forEach(S=>{if(a===S.type&&(c=!0,s)){const j=Math.max(w,d),M=Math.min(w+b.nodeSize,f);n.addMark(j,M,a.create({...S.attrs,...e}))}}))}),g&&(p!==void 0&&s&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(b=>{a===b.type&&s&&n.addMark(x,v,a.create({...b.attrs,...e}))}))}),c},Oie=(t,e={})=>({state:n,dispatch:r})=>{const s=pn(t,n.schema);return lne(s,e)(n,r)},_ie=(t,e={})=>({state:n,dispatch:r})=>{const s=pn(t,n.schema);return cne(s,e)(n,r)},Die=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},gx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Iie=(t,e)=>{if(iS(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Zm(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const f=oie(u)+i;return a.forEach(p=>{if(d)return;const g=Iie(f,p.find);if(!g)return;const x=c.state.tr,v=dx({state:c.state,transaction:x}),b={from:r-(g[0].length-i.length),to:s},{commands:w,chain:S,can:j}=new hx({editor:n,state:v});p.handler({state:v,range:b,match:g,commands:w,chain:S,can:j})===null||!x.steps.length||(p.undoable&&x.setMeta(l,{transform:x,from:r,to:s,text:i}),c.dispatch(x),d=!0)}),d}function Lie(t){const{editor:e,rules:n}=t,r=new Lt({state:{init(){return null},apply(s,i,a){const l=s.getMeta(r);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=cS(he.from(d),a.schema);const{from:f}=c,p=f+d.length;Zm({editor:e,from:f,to:p,text:d,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,l){return Zm({editor:e,from:i,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Zm({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Zm({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Rie(t){return Object.prototype.toString.call(t).slice(8,-1)}function ep(t){return Rie(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function wL(t,e){const n={...t};return ep(t)&&ep(e)&&Object.keys(e).forEach(r=>{ep(e[r])&&ep(t[r])?n[r]=wL(t[r],e[r]):n[r]=e[r]}),n}var hS=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...yt($e(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...yt($e(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>wL(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},So=class NL extends hS{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new NL(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;const c=a.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Fie(t){return typeof t=="number"}var Vie=class{constructor(t){this.find=t.find,this.handler=t.handler}},zie=(t,e,n)=>{if(iS(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function $ie(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:u,can:d}=new hx({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,s,(g,x)=>{var v,b,w,S,j;if((b=(v=g.type)==null?void 0:v.spec)!=null&&b.code||!(g.isText||g.isTextblock||g.isInline))return;const M=(j=(S=(w=g.content)==null?void 0:w.size)!=null?S:g.nodeSize)!=null?j:0,C=Math.max(r,x),P=Math.min(s,x+M);if(C>=P)return;const A=g.isText?g.text||"":g.textBetween(C-x,P-x,void 0,"");zie(A,i.find,a).forEach(D=>{if(D.index===void 0)return;const L=C+D.index+1,_=L+D[0].length,V={from:n.tr.mapping.map(L),to:n.tr.mapping.map(_)},G=i.handler({state:n,range:V,match:D,commands:c,chain:u,can:d,pasteEvent:a,dropEvent:l});f.push(G)})}),f.every(g=>g!==null)}var tp=null,Bie=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Hie(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:f,to:p,rule:g,pasteEvt:x})=>{const v=d.tr,b=dx({state:d,transaction:v});if(!(!$ie({editor:e,state:b,from:Math.max(f-1,0),to:p.b-1,rule:g,pasteEvent:x,dropEvent:l})||!v.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Lt({view(f){const p=x=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(x.target)?f.dom.parentElement:null,r&&(tp=e)},g=()=>{tp&&(tp=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(i=r===f.dom.parentElement,l=p,!i){const g=tp;g?.isEditable&&setTimeout(()=>{const x=g.state.selection;x&&g.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(f,p)=>{var g;const x=(g=p.clipboardData)==null?void 0:g.getData("text/html");return a=p,s=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(f,p,g)=>{const x=f[0],v=x.getMeta("uiEvent")==="paste"&&!s,b=x.getMeta("uiEvent")==="drop"&&!i,w=x.getMeta("applyPasteRules"),S=!!w;if(!v&&!b&&!S)return;if(S){let{text:C}=w;typeof C=="string"?C=C:C=cS(he.from(C),g.schema);const{from:P}=w,A=P+C.length,E=Bie(C);return c({rule:d,state:g,from:P,to:{b:A},pasteEvt:E})}const j=p.doc.content.findDiffStart(g.doc.content),M=p.doc.content.findDiffEnd(g.doc.content);if(!(!Fie(j)||!M||j===M.b))return c({rule:d,state:g,from:j,to:M,pasteEvt:a})}}))}var xx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=fL(t),this.schema=eie(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:wv(e.name,this.schema)},r=$e(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return uS([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:wv(r.name,this.schema)},i=[],a=$e(r,"addKeyboardShortcuts",s);let l={};if(r.type==="mark"&&$e(r,"exitable",s)&&(l.ArrowRight=()=>So.handleExit({editor:t,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([g,x])=>[g,()=>x({editor:t})]));l={...l,...p}}const c=sse(l);i.push(c);const u=$e(r,"addInputRules",s);if(BE(r,t.options.enableInputRules)&&u){const p=u();if(p&&p.length){const g=Lie({editor:t,rules:p}),x=Array.isArray(g)?g:[g];i.push(...x)}}const d=$e(r,"addPasteRules",s);if(BE(r,t.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const g=Hie({editor:t,rules:p});i.push(...g)}}const f=$e(r,"addProseMirrorPlugins",s);if(f){const p=f();i.push(...p)}return i})}get attributes(){return hL(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=cu(this.extensions);return Object.fromEntries(e.filter(n=>!!$e(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:pn(n.name,this.schema)},i=$e(n,"addNodeView",s);if(!i)return[];const a=i();if(!a)return[];const l=(c,u,d,f,p)=>{const g=_g(c,r);return a({node:c,view:u,getPos:d,decorations:f,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=cu(this.extensions);return Object.fromEntries(e.filter(n=>!!$e(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:fa(n.name,this.schema)},i=$e(n,"addMarkView",s);if(!i)return[];const a=(l,c,u)=>{const d=_g(l,r);return i()({mark:l,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{sae(l,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:wv(e.name,this.schema)};e.type==="mark"&&((n=yt($e(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=$e(e,"onBeforeCreate",r),i=$e(e,"onCreate",r),a=$e(e,"onUpdate",r),l=$e(e,"onSelectionUpdate",r),c=$e(e,"onTransaction",r),u=$e(e,"onFocus",r),d=$e(e,"onBlur",r),f=$e(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};xx.resolve=fL;xx.sort=uS;xx.flatten=lS;var Uie={};sS(Uie,{ClipboardTextSerializer:()=>jL,Commands:()=>CL,Delete:()=>kL,Drop:()=>TL,Editable:()=>EL,FocusEvents:()=>PL,Keymap:()=>AL,Paste:()=>OL,Tabindex:()=>_L,TextDirection:()=>DL,focusEventsPluginKey:()=>ML});var St=class SL extends hS{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new SL(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},jL=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Lt({key:new en("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),c=pL(n);return mL(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),CL=St.create({name:"commands",addCommands(){return{...nL}}}),kL=St.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var a,l,c,u;if((u=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const d=cL(t.before,[t,...e]);xL(d).forEach(g=>{d.mapping.mapResult(g.oldRange.from).deletedAfter&&d.mapping.mapResult(g.oldRange.to).deletedBefore&&d.before.nodesBetween(g.oldRange.from,g.oldRange.to,(x,v)=>{const b=v+x.nodeSize-2,w=g.oldRange.from<=v&&b<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:v,to:b,newFrom:d.mapping.map(v),newTo:d.mapping.map(b),deletedRange:g.oldRange,newRange:g.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((g,x)=>{var v,b;if(g instanceof Ls){const w=p.slice(x).map(g.from,-1),S=p.slice(x).map(g.to),j=p.invert().map(w,-1),M=p.invert().map(S),C=(v=d.doc.nodeAt(w-1))==null?void 0:v.marks.some(A=>A.eq(g.mark)),P=(b=d.doc.nodeAt(S))==null?void 0:b.marks.some(A=>A.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:j,to:M},newRange:{from:w,to:S},partial:!!(P||C),editor:this.editor,transaction:t,combinedTransform:d})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),TL=St.create({name:"drop",addProseMirrorPlugins(){return[new Lt({key:new en("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),EL=St.create({name:"editable",addProseMirrorPlugins(){return[new Lt({key:new en("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ML=new en("focusEvents"),PL=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Lt({key:ML,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),AL=St.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:f}=c,{pos:p,parent:g}=f,x=f.parent.isTextblock&&p>0?l.doc.resolve(p-1):f,v=x.parent.type.spec.isolating,b=f.pos-f.parentOffset,w=v&&x.parent.childCount===1?b===f.pos:Je.atStart(u).from===p;return!d||!g.type.isTextblock||g.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return oS()||oL()?i:s},addProseMirrorPlugins(){return[new Lt({key:new en("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),s=t.some(v=>v.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:l}=e.selection,c=Je.atStart(e.doc).from,u=Je.atEnd(e.doc).to;if(i||!(a===c&&l===u)||!px(n.doc))return;const p=n.tr,g=dx({state:n,transaction:p}),{commands:x}=new hx({editor:this.editor,state:g});if(x.clearNodes(),!!p.steps.length)return p}})]}}),OL=St.create({name:"paste",addProseMirrorPlugins(){return[new Lt({key:new en("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),_L=St.create({name:"tabindex",addProseMirrorPlugins(){return[new Lt({key:new en("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),DL=St.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=cu(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Lt({key:new en("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Wie=class _c{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new _c(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new _c(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new _c(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!s&&l.depth<=this.depth)return;const c=new _c(l,this.editor,s,s?n:null);s&&(c.actualDepth=this.depth+1),e.push(new _c(l,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(i[c]!==n[c])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(c=>n[c]===a.node.attrs[c])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},qie=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Kie(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var Gie=class extends Die{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:die,createMappablePosition:hie},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=iL(e,this.options.autofocus);this.editorState=Lc.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Kie(qie,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=dL(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[EL,jL.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),CL,PL,AL,_L,TL,OL,kL,DL.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new xx(r,this)}createCommandManager(){this.commandManager=new hx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=P2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=P2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new tL(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return gL(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return lie(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cS(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return nie(this.state.doc,{blockSeparator:e,textSerializers:{...pL(this.schema),...n}})}get isEmpty(){return px(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Wie(e,this)}get $doc(){return this.$pos(0)}};function uu(t){return new gx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=yt(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];if(a){const c=l.search(/\S/),u=n.from+l.indexOf(a),d=u+a.length;if(dS(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(v=>v===t.type&&v!==g.mark.type)).filter(g=>g.to>u).length)return null;d<n.to&&i.delete(d,n.to),u>n.from&&i.delete(n.from+c,u);const p=n.from+c+a.length;i.addMark(n.from+c,p,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function IL(t){return new gx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=yt(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let l=n.to;const c=t.type.create(s);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>l?d=l:l=d+r[1].length;const f=r[0][r[0].length-1];i.insertText(f,a+r[0].length-1),i.replaceWith(d,l,c)}else if(r[0]){const u=t.type.isInline?a:a-1;i.insert(u,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function O2(t){return new gx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=yt(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function du(t){return new gx({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=yt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),u=c&&zN(c,t.type,i);if(!u)return null;if(a.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,x=p||f.$to.parentOffset&&f.$from.marks();if(x){const v=x.filter(b=>g.includes(b.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,i).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&wo(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}var Yie=t=>"touches"in t,Xie=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.touches[0];if(!c)return;const u=c.clientX-this.startX,d=c.clientY-this.startY;this.handleResize(u,d)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,c=this.element.offsetHeight;this.onCommit(l,c),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,s,i,a;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(a=t.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),s=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),s&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,Yie(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,s=this.startHeight;const i=t.includes("right"),a=t.includes("left"),l=t.includes("bottom"),c=t.includes("top");return i?r=this.startWidth+e:a&&(r=this.startWidth-e),l?s=this.startHeight+n:c&&(s=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,t):{width:r,height:s}}applyConstraints(t,e,n){var r,s,i,a;if(!n){let u=Math.max(this.minSize.width,t),d=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(u=Math.min(this.maxSize.width,u)),(s=this.maxSize)!=null&&s.height&&(d=Math.min(this.maxSize.height,d)),{width:u,height:d}}let l=t,c=e;return l<this.minSize.width&&(l=this.minSize.width,c=l/this.aspectRatio),c<this.minSize.height&&(c=this.minSize.height,l=c*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&l>this.maxSize.width&&(l=this.maxSize.width,c=l/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&c>this.maxSize.height&&(c=this.maxSize.height,l=c*this.aspectRatio),{width:l,height:c}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function Qie(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ue){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var Jie={};sS(Jie,{createAtomBlockMarkdownSpec:()=>Zie,createBlockMarkdownSpec:()=>eae,createInlineMarkdownSpec:()=>rae,parseAttributes:()=>fS,parseIndentedBlocks:()=>_2,renderNestedMarkdownContent:()=>pS,serializeAttributes:()=>mS});function fS(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const u=s.map(d=>d.trim().slice(1));e.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,u,d])=>{var f;const p=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),g=n[p];g&&(e[u]=g.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function mS(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Zie(t){const{nodeName:e,name:n,parseAttributes:r=fS,serializeAttributes:s=mS,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{const p={...i,...d.attributes};return f.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const p=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(f=d.match(p))==null?void 0:f.index;return g!==void 0?g:-1},tokenize(d,f,p){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=d.match(g);if(!x)return;const v=x[1]||"",b=r(v);if(!a.find(S=>!(S in b)))return{type:e,raw:x[0],attributes:b}}},renderMarkdown:d=>{const f=u(d.attrs||{}),p=s(f),g=p?` {${p}}`:"";return`:::${c}${g} :::`}}}function eae(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=fS,serializeAttributes:i=mS,defaultAttributes:a={},content:l="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const p={};return c.forEach(g=>{g in f&&(p[g]=f[g])}),p};return{parseMarkdown:(f,p)=>{let g;if(r){const v=r(f);g=typeof v=="string"?[{type:"text",text:v}]:v}else l==="block"?g=p.parseChildren(f.tokens||[]):g=p.parseInline(f.tokens||[]);const x={...a,...f.attributes};return p.createNode(e,x,g)},markdownTokenizer:{name:e,level:"block",start(f){var p;const g=new RegExp(`^:::${u}`,"m"),x=(p=f.match(g))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(f,p,g){var x;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=f.match(v);if(!b)return;const[w,S=""]=b,j=s(S);let M=1;const C=w.length;let P="";const A=/^:::([\w-]*)(\s.*)?/gm,E=f.slice(C);for(A.lastIndex=0;;){const D=A.exec(E);if(D===null)break;const L=D.index,_=D[1];if(!((x=D[2])!=null&&x.endsWith(":::"))){if(_)M+=1;else if(M-=1,M===0){const V=E.slice(0,L);P=V.trim();const G=f.slice(0,C+L+D[0].length);let H=[];if(P)if(l==="block")for(H=g.blockTokens(V),H.forEach(W=>{W.text&&(!W.tokens||W.tokens.length===0)&&(W.tokens=g.inlineTokens(W.text))});H.length>0;){const W=H[H.length-1];if(W.type==="paragraph"&&(!W.text||W.text.trim()===""))H.pop();else break}else H=g.inlineTokens(P);return{type:e,raw:G,attributes:j,content:P,tokens:H}}}}}},renderMarkdown:(f,p)=>{const g=d(f.attrs||{}),x=i(g),v=x?` {${x}}`:"",b=p.renderChildren(f.content||[],`

`);return`:::${u}${v}

${b}

:::`}}}function tae(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,a]=r;e[s]=i||a,r=n.exec(t)}return e}function nae(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function rae(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=tae,serializeAttributes:i=nae,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=t,u=n||e,d=p=>{if(!c)return p;const g={};return c.forEach(x=>{const v=typeof x=="string"?x:x.name,b=typeof x=="string"?void 0:x.skipIfDefault;if(v in p){const w=p[v];if(b!==void 0&&w===b)return;g[v]=w}}),g},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const x={...a,...p.attributes};if(l)return g.createNode(e,x);const v=r?r(p):p.content||"";return v?g.createNode(e,x,[g.createTextNode(v)]):g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(p){const g=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),x=p.match(g),v=x?.index;return v!==void 0?v:-1},tokenize(p,g,x){const v=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),b=p.match(v);if(!b)return;let w="",S="";if(l){const[,M]=b;S=M}else{const[,M,C]=b;S=M,w=C||""}const j=s(S.trim());return{type:e,raw:b[0],content:w.trim(),attributes:j}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=d(p.attrs||{}),v=i(x),b=v?` ${v}`:"";return l?`[${u}${b}]`:`[${u}${b}]${g}[/${u}]`}}}function _2(t,e,n){var r,s,i,a;const l=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<l.length;){const p=l[d],g=p.match(e.itemPattern);if(!g){if(c.length>0)break;if(p.trim()===""){d+=1,u=`${u}${p}
`;continue}else return}const x=e.extractItemData(g),{indentLevel:v,mainContent:b}=x;u=`${u}${p}
`;const w=[b];for(d+=1;d<l.length;){const C=l[d];if(C.trim()===""){const A=l.slice(d+1).findIndex(L=>L.trim()!=="");if(A===-1)break;if((((s=(r=l[d+1+A].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>v){w.push(C),u=`${u}${C}
`,d+=1;continue}else break}if((((a=(i=C.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:a.length)||0)>v)w.push(C),u=`${u}${C}
`,d+=1;else break}let S;const j=w.slice(1);if(j.length>0){const C=j.map(P=>P.slice(v+f)).join(`
`);C.trim()&&(e.customNestedParser?S=e.customNestedParser(C):S=n.blockTokens(C))}const M=e.createToken(x,S);c.push(M)}if(c.length!==0)return{items:c,raw:u}}function pS(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...a]=t.content,l=e.renderChildren([i]),c=[`${s}${l}`];return a&&a.length>0&&a.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(p=>p?e.indent(p):"").join(`
`);c.push(f)}}),c.join(`
`)}function sae(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,a=t;s.descendants((l,c)=>{const u=i.mapping.map(c),d=i.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(g=>{if(g!==a)return!1;f=g}),!f)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==f.attrs[g]&&(p=!0)}),p){const g=t.type.create({...t.attrs,...n});i.removeMark(u,d,t.type),i.addMark(u,d,g)}}),i.docChanged&&e.view.dispatch(i)}var On=class LL extends hS{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new LL(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ll(t){return new Vie({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=yt(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];let u=n.to;if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(dS(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(b=>b===t.type&&b!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&a.delete(p,n.to),f>n.from&&a.delete(n.from+d,f),u=n.from+d+l.length,a.addMark(n.from+d,u,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:iae,getOwnPropertySymbols:aae}=Object,{hasOwnProperty:oae}=Object.prototype;function jv(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function np(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,a=i.get(n),l=i.get(r);if(a&&l)return a===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function lae(t){return t?.[Symbol.toStringTag]}function WE(t){return iae(t).concat(aae(t))}const cae=Object.hasOwn||((t,e)=>oae.call(t,e));function Wl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const uae="__v",dae="__o",hae="_owner",{getOwnPropertyDescriptor:qE,keys:KE}=Object;function fae(t,e){return t.byteLength===e.byteLength&&Dg(new Uint8Array(t),new Uint8Array(e))}function mae(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function pae(t,e){return t.byteLength===e.byteLength&&Dg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function gae(t,e){return Wl(t.getTime(),e.getTime())}function xae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yae(t,e){return t===e}function GE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let a,l,c=0;for(;(a=i.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const p=a.value,g=l.value;if(n.equals(p[0],g[0],c,f,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const bae=Wl;function vae(t,e,n){const r=KE(t);let s=r.length;if(KE(e).length!==s)return!1;for(;s-- >0;)if(!RL(t,e,n,r[s]))return!1;return!0}function kd(t,e,n){const r=WE(t);let s=r.length;if(WE(e).length!==s)return!1;let i,a,l;for(;s-- >0;)if(i=r[s],!RL(t,e,n,i)||(a=qE(t,i),l=qE(e,i),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function wae(t,e){return Wl(t.valueOf(),e.valueOf())}function Nae(t,e){return t.source===e.source&&t.flags===e.flags}function YE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let a,l;for(;(a=i.next())&&!a.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Dg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Sae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function RL(t,e,n,r){return(r===hae||r===dae||r===uae)&&(t.$$typeof||e.$$typeof)?!0:cae(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const jae="[object ArrayBuffer]",Cae="[object Arguments]",kae="[object Boolean]",Tae="[object DataView]",Eae="[object Date]",Mae="[object Error]",Pae="[object Map]",Aae="[object Number]",Oae="[object Object]",_ae="[object RegExp]",Dae="[object Set]",Iae="[object String]",Lae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Rae="[object URL]",Fae=Object.prototype.toString;function Vae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:a,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:x}){return function(b,w,S){if(b===w)return!0;if(b==null||w==null)return!1;const j=typeof b;if(j!==typeof w)return!1;if(j!=="object")return j==="number"?l(b,w,S):j==="function"?i(b,w,S):!1;const M=b.constructor;if(M!==w.constructor)return!1;if(M===Object)return c(b,w,S);if(Array.isArray(b))return e(b,w,S);if(M===Date)return r(b,w,S);if(M===RegExp)return d(b,w,S);if(M===Map)return a(b,w,S);if(M===Set)return f(b,w,S);const C=Fae.call(b);if(C===Eae)return r(b,w,S);if(C===_ae)return d(b,w,S);if(C===Pae)return a(b,w,S);if(C===Dae)return f(b,w,S);if(C===Oae)return typeof b.then!="function"&&typeof w.then!="function"&&c(b,w,S);if(C===Rae)return g(b,w,S);if(C===Mae)return s(b,w,S);if(C===Cae)return c(b,w,S);if(Lae[C])return p(b,w,S);if(C===jae)return t(b,w,S);if(C===Tae)return n(b,w,S);if(C===kae||C===Aae||C===Iae)return u(b,w,S);if(x){let P=x[C];if(!P){const A=lae(b);A&&(P=x[A])}if(P)return P(b,w,S)}return!1}}function zae({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:fae,areArraysEqual:n?kd:mae,areDataViewsEqual:pae,areDatesEqual:gae,areErrorsEqual:xae,areFunctionsEqual:yae,areMapsEqual:n?jv(GE,kd):GE,areNumbersEqual:bae,areObjectsEqual:n?kd:vae,arePrimitiveWrappersEqual:wae,areRegExpsEqual:Nae,areSetsEqual:n?jv(YE,kd):YE,areTypedArraysEqual:n?jv(Dg,kd):Dg,areUrlsEqual:Sae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=np(r.areArraysEqual),i=np(r.areMapsEqual),a=np(r.areObjectsEqual),l=np(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:l})}return r}function $ae(t){return function(e,n,r,s,i,a,l){return t(e,n,l)}}function Bae({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const Hae=jo();jo({strict:!0});jo({circular:!0});jo({circular:!0,strict:!0});jo({createInternalComparator:()=>Wl});jo({strict:!0,createInternalComparator:()=>Wl});jo({circular:!0,createInternalComparator:()=>Wl});jo({circular:!0,createInternalComparator:()=>Wl,strict:!0});function jo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=zae(t),a=Vae(i),l=n?n(a):$ae(a);return Bae({circular:e,comparator:a,createState:r,equals:l,strict:s})}var Cv={exports:{}},kv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function Uae(){if(XE)return kv;XE=1;var t=pu(),e=TD();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return kv.useSyncExternalStoreWithSelector=function(u,d,f,p,g){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function w(P){if(!S){if(S=!0,j=P,P=p(P),g!==void 0&&v.hasValue){var A=v.value;if(g(A,P))return M=A}return M=P}if(A=M,r(j,P))return A;var E=p(P);return g!==void 0&&g(A,E)?(j=P,A):(j=P,M=E)}var S=!1,j,M,C=f===void 0?null:f;return[function(){return w(d())},C===null?void 0:function(){return w(C())}]},[d,f,p,g]);var b=s(u,x[0],x[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},kv}var QE;function Wae(){return QE||(QE=1,Cv.exports=Uae()),Cv.exports}var qae=Wae(),Kae=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Gae=({contentComponent:t})=>{const e=ED.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function Yae(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:x9.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var Xae=class extends ve.Component{constructor(t){var e;super(t),this.editorContentRef=ve.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=Yae(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:Kae(e,this.editorContentRef),...n}),t?.contentComponent&&o.jsx(Gae,{contentComponent:t.contentComponent})]})}},Qae=T.forwardRef((t,e)=>{const n=ve.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ve.createElement(Xae,{key:n,innerRef:e,...t})}),Jae=ve.memo(Qae),Zae=typeof window<"u"?T.useLayoutEffect:T.useEffect,eoe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function toe(t){var e;const[n]=T.useState(()=>new eoe(t.editor)),r=qae.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Hae);return Zae(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}var noe=!1,D2=typeof window>"u",roe=D2||!!(typeof window<"u"&&window.next),soe=class FL{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?D2||roe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new Gie(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)==null?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?FL.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function ioe(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new soe(n)),s=ED.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(s),T.useEffect(r.onRender(e)),toe({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var aoe=T.createContext({editor:null});aoe.Consumer;var ooe=T.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),loe=()=>T.useContext(ooe);ve.forwardRef((t,e)=>{const{onDragStart:n}=loe(),r=t.as||"div";return o.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});ve.createContext({markViewContentRef:()=>{}});var Ig=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},coe=/^\s*>\s$/,uoe=On.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Ig("blockquote",{...Pt(this.options.HTMLAttributes,t),children:Ig("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const l=e.renderChildren([s]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[du({find:coe,type:this.type})]}}),doe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,hoe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,foe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,moe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,poe=So.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Ig("strong",{...Pt(this.options.HTMLAttributes,t),children:Ig("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[uu({find:doe,type:this.type}),uu({find:foe,type:this.type})]},addPasteRules(){return[Ll({find:hoe,type:this.type}),Ll({find:moe,type:this.type})]}}),goe=/(^|[^`])`([^`]+)`(?!`)$/,xoe=/(^|[^`])`([^`]+)`(?!`)/g,yoe=So.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[uu({find:goe,type:this.type})]},addPasteRules(){return[Ll({find:xoe,type:this.type})]}}),Tv=4,boe=/^```([a-z]+)?[\s\n]$/,voe=/^~~~([a-z]+)?[\s\n]$/,woe=On.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Tv,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Pt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Tv,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:d}=s,g=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>l+x).join(`
`);return c.replaceWith(u,d,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Tv,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;return i.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var c;const{pos:u}=i,d=i.start(),f=i.end(),g=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let x=0,v=0;const b=u-d;for(let P=0;P<g.length;P+=1){if(v+g[P].length>=b){x=P;break}v+=g[P].length+1}const S=((c=g[x].match(/^ */))==null?void 0:c[0])||"",j=Math.min(S.length,n);if(j===0)return!0;let M=d;for(let P=0;P<x;P+=1)M+=g[P].length+1;return l.delete(M,M+j),u-M<=j&&l.setSelection(We.create(l.doc,M)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(g=>{var x;const v=((x=g.match(/^ */))==null?void 0:x[0])||"",b=Math.min(v.length,n);return g.slice(b)}).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(Je.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[O2({find:boe,type:this.type,getAttributes:t=>({language:t[1]})}),O2({find:voe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Lt({key:new en("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s?.mode;if(!n||!i)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(We.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Noe=On.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),Soe=On.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Pt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&a){const f=c.filter(p=>l.includes(p.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),joe=On.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Pt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>O2({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Coe=On.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Pt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Qie(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return yL(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(We.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(Ue.create(a.doc,c.pos)):a.setSelection(We.create(a.doc,c.pos));else{const d=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(a.insert(u,f),a.setSelection(We.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[IL({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),koe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Toe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Eoe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Moe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Poe=So.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[uu({find:koe,type:this.type}),uu({find:Eoe,type:this.type})]},addPasteRules(){return[Ll({find:Toe,type:this.type}),Ll({find:Moe,type:this.type})]}});const Aoe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Ooe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",I2="numeric",L2="ascii",R2="alpha",rh="asciinumeric",$d="alphanumeric",F2="domain",VL="emoji",_oe="scheme",Doe="slashscheme",Ev="whitespace";function Ioe(t,e){return t in e||(e[t]=[]),e[t]}function cl(t,e,n){e[I2]&&(e[rh]=!0,e[$d]=!0),e[L2]&&(e[rh]=!0,e[R2]=!0),e[rh]&&(e[$d]=!0),e[R2]&&(e[$d]=!0),e[$d]&&(e[F2]=!0),e[VL]&&(e[F2]=!0);for(const r in e){const s=Ioe(r,n);s.indexOf(t)<0&&s.push(t)}}function Loe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Mr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Mr.groups={};Mr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Mr.groups;let s;return e&&e.j?s=e:(s=new Mr(e),n&&r&&cl(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Mr.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,l=s.go(t);if(l?(a=new Mr,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Mr,i){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(Loe(a.t,r),n);cl(i,c,r)}else n&&cl(i,n,r);a.t=i}return s.j[t]=a,a}};const it=(t,e,n,r,s)=>t.ta(e,n,r,s),Kt=(t,e,n,r,s)=>t.tr(e,n,r,s),JE=(t,e,n,r,s)=>t.ts(e,n,r,s),be=(t,e,n,r,s)=>t.tt(e,n,r,s),Fi="WORD",V2="UWORD",zL="ASCIINUMERICAL",$L="ALPHANUMERICAL",Rh="LOCALHOST",z2="TLD",$2="UTLD",Vp="SCHEME",Dc="SLASH_SCHEME",gS="NUM",B2="WS",xS="NL",sh="OPENBRACE",ih="CLOSEBRACE",Lg="OPENBRACKET",Rg="CLOSEBRACKET",Fg="OPENPAREN",Vg="CLOSEPAREN",zg="OPENANGLEBRACKET",$g="CLOSEANGLEBRACKET",Bg="FULLWIDTHLEFTPAREN",Hg="FULLWIDTHRIGHTPAREN",Ug="LEFTCORNERBRACKET",Wg="RIGHTCORNERBRACKET",qg="LEFTWHITECORNERBRACKET",Kg="RIGHTWHITECORNERBRACKET",Gg="FULLWIDTHLESSTHAN",Yg="FULLWIDTHGREATERTHAN",Xg="AMPERSAND",Qg="APOSTROPHE",Jg="ASTERISK",Va="AT",Zg="BACKSLASH",e0="BACKTICK",t0="CARET",Ba="COLON",yS="COMMA",n0="DOLLAR",Zs="DOT",r0="EQUALS",bS="EXCLAMATION",us="HYPHEN",ah="PERCENT",s0="PIPE",i0="PLUS",a0="POUND",oh="QUERY",vS="QUOTE",BL="FULLWIDTHMIDDLEDOT",wS="SEMI",ei="SLASH",lh="TILDE",o0="UNDERSCORE",HL="EMOJI",l0="SYM";var UL=Object.freeze({__proto__:null,ALPHANUMERICAL:$L,AMPERSAND:Xg,APOSTROPHE:Qg,ASCIINUMERICAL:zL,ASTERISK:Jg,AT:Va,BACKSLASH:Zg,BACKTICK:e0,CARET:t0,CLOSEANGLEBRACKET:$g,CLOSEBRACE:ih,CLOSEBRACKET:Rg,CLOSEPAREN:Vg,COLON:Ba,COMMA:yS,DOLLAR:n0,DOT:Zs,EMOJI:HL,EQUALS:r0,EXCLAMATION:bS,FULLWIDTHGREATERTHAN:Yg,FULLWIDTHLEFTPAREN:Bg,FULLWIDTHLESSTHAN:Gg,FULLWIDTHMIDDLEDOT:BL,FULLWIDTHRIGHTPAREN:Hg,HYPHEN:us,LEFTCORNERBRACKET:Ug,LEFTWHITECORNERBRACKET:qg,LOCALHOST:Rh,NL:xS,NUM:gS,OPENANGLEBRACKET:zg,OPENBRACE:sh,OPENBRACKET:Lg,OPENPAREN:Fg,PERCENT:ah,PIPE:s0,PLUS:i0,POUND:a0,QUERY:oh,QUOTE:vS,RIGHTCORNERBRACKET:Wg,RIGHTWHITECORNERBRACKET:Kg,SCHEME:Vp,SEMI:wS,SLASH:ei,SLASH_SCHEME:Dc,SYM:l0,TILDE:lh,TLD:z2,UNDERSCORE:o0,UTLD:$2,UWORD:V2,WORD:Fi,WS:B2});const _i=/[a-z]/,Td=new RegExp("\\p{L}","u"),Mv=new RegExp("\\p{Emoji}","u"),Di=/\d/,Pv=/\s/,ZE="\r",Av=`
`,Roe="",Foe="",Ov="";let rp=null,sp=null;function Voe(t=[]){const e={};Mr.groups=e;const n=new Mr;rp==null&&(rp=e6(Aoe)),sp==null&&(sp=e6(Ooe)),be(n,"'",Qg),be(n,"{",sh),be(n,"}",ih),be(n,"[",Lg),be(n,"]",Rg),be(n,"(",Fg),be(n,")",Vg),be(n,"<",zg),be(n,">",$g),be(n,"",Bg),be(n,"",Hg),be(n,"",Ug),be(n,"",Wg),be(n,"",qg),be(n,"",Kg),be(n,"",Gg),be(n,"",Yg),be(n,"&",Xg),be(n,"*",Jg),be(n,"@",Va),be(n,"`",e0),be(n,"^",t0),be(n,":",Ba),be(n,",",yS),be(n,"$",n0),be(n,".",Zs),be(n,"=",r0),be(n,"!",bS),be(n,"-",us),be(n,"%",ah),be(n,"|",s0),be(n,"+",i0),be(n,"#",a0),be(n,"?",oh),be(n,'"',vS),be(n,"/",ei),be(n,";",wS),be(n,"~",lh),be(n,"_",o0),be(n,"\\",Zg),be(n,"",BL);const r=Kt(n,Di,gS,{[I2]:!0});Kt(r,Di,r);const s=Kt(r,_i,zL,{[rh]:!0}),i=Kt(r,Td,$L,{[$d]:!0}),a=Kt(n,_i,Fi,{[L2]:!0});Kt(a,Di,s),Kt(a,_i,a),Kt(s,Di,s),Kt(s,_i,s);const l=Kt(n,Td,V2,{[R2]:!0});Kt(l,_i),Kt(l,Di,i),Kt(l,Td,l),Kt(i,Di,i),Kt(i,_i),Kt(i,Td,i);const c=be(n,Av,xS,{[Ev]:!0}),u=be(n,ZE,B2,{[Ev]:!0}),d=Kt(n,Pv,B2,{[Ev]:!0});be(n,Ov,d),be(u,Av,c),be(u,Ov,d),Kt(u,Pv,d),be(d,ZE),be(d,Av),Kt(d,Pv,d),be(d,Ov,d);const f=Kt(n,Mv,HL,{[VL]:!0});be(f,"#"),Kt(f,Mv,f),be(f,Roe,f);const p=be(f,Foe);be(p,"#"),Kt(p,Mv,f);const g=[[_i,a],[Di,s]],x=[[_i,null],[Td,l],[Di,i]];for(let v=0;v<rp.length;v++)Da(n,rp[v],z2,Fi,g);for(let v=0;v<sp.length;v++)Da(n,sp[v],$2,V2,x);cl(z2,{tld:!0,ascii:!0},e),cl($2,{utld:!0,alpha:!0},e),Da(n,"file",Vp,Fi,g),Da(n,"mailto",Vp,Fi,g),Da(n,"http",Dc,Fi,g),Da(n,"https",Dc,Fi,g),Da(n,"ftp",Dc,Fi,g),Da(n,"ftps",Dc,Fi,g),cl(Vp,{scheme:!0,ascii:!0},e),cl(Dc,{slashscheme:!0,ascii:!0},e),t=t.sort((v,b)=>v[0]>b[0]?1:-1);for(let v=0;v<t.length;v++){const b=t[v][0],S=t[v][1]?{[_oe]:!0}:{[Doe]:!0};b.indexOf("-")>=0?S[F2]=!0:_i.test(b)?Di.test(b)?S[rh]=!0:S[L2]=!0:S[I2]=!0,JE(n,b,b,S)}return JE(n,"localhost",Rh,{ascii:!0}),n.jd=new Mr(l0),{start:n,tokens:Object.assign({groups:e},UL)}}function WL(t,e){const n=zoe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let l=t,c=null,u=0,d=null,f=-1,p=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(f=0,p=0,d=l):f>=0&&(f+=n[a].length,p++),u+=n[a].length,i+=n[a].length,a++;i-=f,a-=p,u-=f,s.push({t:d.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function zoe(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Da(t,e,n,r,s){let i;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new Mr(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new Mr(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function e6(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Fh={defaultProtocol:"http",events:null,format:t6,formatHref:t6,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function NS(t,e=null){let n=Object.assign({},Fh);t&&(n=Object.assign(n,t instanceof NS?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}NS.prototype={o:Fh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Fh[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function t6(t){return t}function qL(t,e){this.t="token",this.v=t,this.tk=e}qL.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Fh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),c&&(a.target=c),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:s,attributes:a,content:i,eventListeners:f}}};function yx(t,e){class n extends qL{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const n6=yx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),r6=yx("text"),$oe=yx("nl"),ip=yx("url",{isLink:!0,toHref(t=Fh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Rh&&t[1].t===Ba}}),ls=t=>new Mr(t);function Boe({groups:t}){const e=t.domain.concat([Xg,Jg,Va,Zg,e0,t0,n0,r0,us,gS,ah,s0,i0,a0,ei,l0,lh,o0]),n=[Qg,Ba,yS,Zs,bS,ah,oh,vS,wS,zg,$g,sh,ih,Rg,Lg,Fg,Vg,Bg,Hg,Ug,Wg,qg,Kg,Gg,Yg],r=[Xg,Qg,Jg,Zg,e0,t0,n0,r0,us,sh,ih,ah,s0,i0,a0,oh,ei,l0,lh,o0],s=ls(),i=be(s,lh);it(i,r,i),it(i,t.domain,i);const a=ls(),l=ls(),c=ls();it(s,t.domain,a),it(s,t.scheme,l),it(s,t.slashscheme,c),it(a,r,i),it(a,t.domain,a);const u=be(a,Va);be(i,Va,u),be(l,Va,u),be(c,Va,u);const d=be(i,Zs);it(d,r,i),it(d,t.domain,i);const f=ls();it(u,t.domain,f),it(f,t.domain,f);const p=be(f,Zs);it(p,t.domain,f);const g=ls(n6);it(p,t.tld,g),it(p,t.utld,g),be(u,Rh,g);const x=be(f,us);be(x,us,x),it(x,t.domain,f),it(g,t.domain,f),be(g,Zs,p),be(g,us,x);const v=be(g,Ba);it(v,t.numeric,n6);const b=be(a,us),w=be(a,Zs);be(b,us,b),it(b,t.domain,a),it(w,r,i),it(w,t.domain,a);const S=ls(ip);it(w,t.tld,S),it(w,t.utld,S),it(S,t.domain,a),it(S,r,i),be(S,Zs,w),be(S,us,b),be(S,Va,u);const j=be(S,Ba),M=ls(ip);it(j,t.numeric,M);const C=ls(ip),P=ls();it(C,e,C),it(C,n,P),it(P,e,C),it(P,n,P),be(S,ei,C),be(M,ei,C);const A=be(l,Ba),E=be(c,Ba),D=be(E,ei),L=be(D,ei);it(l,t.domain,a),be(l,Zs,w),be(l,us,b),it(c,t.domain,a),be(c,Zs,w),be(c,us,b),it(A,t.domain,C),be(A,ei,C),be(A,oh,C),it(L,t.domain,C),it(L,e,C),be(L,ei,C);const _=[[sh,ih],[Lg,Rg],[Fg,Vg],[zg,$g],[Bg,Hg],[Ug,Wg],[qg,Kg],[Gg,Yg]];for(let V=0;V<_.length;V++){const[G,H]=_[V],W=be(C,G);be(P,G,W),be(W,H,C);const R=ls(ip);it(W,e,R);const $=ls();it(W,n),it(R,e,R),it(R,n,$),it($,e,R),it($,n,$),be(R,H,C),be($,H,C)}return be(s,Rh,S),be(s,xS,$oe),{start:s,tokens:UL}}function Hoe(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let l=t,c=null,u=null,d=0,f=null,p=-1;for(;s<r&&!(c=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(u=c||l.go(n[s].t));)c=null,l=u,l.accepts()?(p=0,f=l):p>=0&&p++,s++,d++;if(p<0)s-=d,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(_v(r6,e,a)),a=[]),s-=p,d-=p;const g=f.t,x=n.slice(s-d,s);i.push(_v(g,e,x))}}return a.length>0&&i.push(_v(r6,e,a)),i}function _v(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const Uoe=typeof console<"u"&&console&&console.warn||(()=>{}),Woe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function qoe(){return Mr.groups={},_t.scanner=null,_t.parser=null,_t.tokenQueue=[],_t.pluginQueue=[],_t.customSchemes=[],_t.initialized=!1,_t}function s6(t,e=!1){if(_t.initialized&&Uoe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Woe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_t.customSchemes.push([t,e])}function Koe(){_t.scanner=Voe(_t.customSchemes);for(let t=0;t<_t.tokenQueue.length;t++)_t.tokenQueue[t][1]({scanner:_t.scanner});_t.parser=Boe(_t.scanner.tokens);for(let t=0;t<_t.pluginQueue.length;t++)_t.pluginQueue[t][1]({scanner:_t.scanner,parser:_t.parser});return _t.initialized=!0,_t}function SS(t){return _t.initialized||Koe(),Hoe(_t.parser.start,t,WL(_t.scanner.start,t))}SS.scan=WL;function KL(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new NS(n),s=SS(t),i=[];for(let a=0;a<s.length;a++){const l=s[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var jS="[\0- -\u2029]",Goe=new RegExp(jS),Yoe=new RegExp(`${jS}$`),Xoe=new RegExp(jS,"g");function Qoe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Joe(t){return new Lt({key:new en("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=e.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,l=cL(n.doc,[...e]);if(xL(l).forEach(({newRange:u})=>{const d=Qse(r.doc,u,g=>g.isTextblock);let f,p;if(d.length>1)f=d[0],p=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const g=r.doc.textBetween(u.from,u.to," "," ");if(!Yoe.test(g))return;f=d[0],p=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&p){const g=p.split(Goe).filter(Boolean);if(g.length<=0)return!1;const x=g[g.length-1],v=f.pos+p.lastIndexOf(x);if(!x)return!1;const b=SS(x).map(w=>w.toObject(t.defaultProtocol));if(!Qoe(b))return!1;b.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{dS(w.from,w.to,r.doc).some(S=>S.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function Zoe(t){return new Lt({key:new en("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let f=r.target;const p=[];for(;f.nodeName!=="DIV";)p.push(f),f=f.parentNode;l=p.find(g=>g.nodeName==="A")}if(!l)return a;const c=gL(e.state,t.type.name),u=(s=l?.href)!=null?s:c.href,d=(i=l?.target)!=null?i:c.target;l&&u&&(window.open(u,d),a=!0)}return a}}})}function ele(t){return new Lt({key:new en("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:a}=i,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=KL(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||s!==void 0&&!s(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function Xo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(Xoe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var tle=So.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){s6(t);return}s6(t.scheme,t.optionalSlashes)})},onDestroy(){qoe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Xo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Xo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Xo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Pt(this.options.HTMLAttributes,t),0]:["a",Pt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Xo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Xo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ll({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=KL(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Xo(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Joe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Xo(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(Zoe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(ele({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),nle=Object.defineProperty,rle=(t,e)=>{for(var n in e)nle(t,n,{get:e[n],enumerable:!0})},sle="listItem",i6="textStyle",a6=/^\s*([-+*])\s$/,GL=On.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(sle,this.editor.getAttributes(i6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=du({find:a6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=du({find:a6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(i6),editor:this.editor})),[t]}}),YL=On.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>pS(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ile={};rle(ile,{findListItemPos:()=>xf,getNextListDepth:()=>CS,handleBackspace:()=>H2,handleDelete:()=>U2,hasListBefore:()=>XL,hasListItemAfter:()=>ale,hasListItemBefore:()=>QL,listItemHasSubList:()=>JL,nextListIsDeeper:()=>ZL,nextListIsHigher:()=>eR});var xf=(t,e)=>{const{$from:n}=e.selection,r=pn(t,e.schema);let s=null,i=n.depth,a=n.pos,l=null;for(;i>0&&l===null;)s=n.node(i),s.type===r?l=i:(i-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},CS=(t,e)=>{const n=xf(t,e);if(!n)return!1;const[,r]=aie(e,t,n.$pos.pos+4);return r},XL=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},QL=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},JL=(t,e,n)=>{if(!n)return!1;const r=pn(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},H2=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!mo(t.state,e)&&XL(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((p,g)=>{p.type.name===e&&u.push({node:p,pos:g})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!mo(t.state,e)||!uie(t.state))return!1;const r=xf(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=JL(e,t.state,i);return QL(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},ZL=(t,e)=>{const n=CS(t,e),r=xf(t,e);return!r||!n?!1:n>r.depth},eR=(t,e)=>{const n=CS(t,e),r=xf(t,e);return!r||!n?!1:n<r.depth},U2=(t,e)=>{if(!mo(t.state,e)||!cie(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:ZL(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():eR(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},ale=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},tR=St.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&U2(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&U2(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&H2(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&H2(t,n,r)&&(e=!0)}),e}}}}),o6=/^(\s*)(\d+)\.\s+(.*)$/,ole=/^\s/;function lle(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(o6);if(!i)break;const[,a,l,c]=i,u=a.length;let d=c,f=n+1;const p=[s];for(;f<t.length;){const g=t[f];if(g.match(o6))break;if(g.trim()==="")p.push(g),d+=`
`,f+=1;else if(g.match(ole))p.push(g),d+=`
${g.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:p.join(`
`)}),r=f,n=f}return[e,r]}function nR(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const a=t[i];if(a.indent===e){const l=a.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const g=n.blockTokens(d);u.push(...g)}let f=i+1;const p=[];for(;f<t.length&&t[f].indent>e;)p.push(t[f]),f+=1;if(p.length>0){const g=Math.min(...p.map(v=>v.indent)),x=nR(p,g,n);u.push({type:"list",ordered:!0,start:p[0].number,items:x,raw:p.map(v=>v.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:u}),i=f}else i+=1}return s}function cle(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var ule="listItem",l6="textStyle",c6=/^(\d+)\.\s$/,rR=On.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Pt(this.options.HTMLAttributes,n),0]:["ol",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?cle(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,a]=lle(s);if(i.length===0)return;const l=nR(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ule,this.editor.getAttributes(l6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=du({find:c6,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=du({find:c6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(l6)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),dle=/^\s*(\[([( |x])?\])\s$/,hle=On.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Pt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return pS(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,p;l.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=n();if(typeof g!="number")return!1;const x=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...x?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{s.setAttribute(d,f)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,a),s.append(i,c),Object.entries(e).forEach(([d,f])=>{s.setAttribute(d,f)}),{dom:s,contentDOM:c,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[du({find:dle,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),fle=On.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const a=_2(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(i)},s=_2(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,a)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});St.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(GL.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(YL.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(tR.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(rR.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(hle.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(fle.configure(this.options.taskList)),t}});var mle=On.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Pt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ple=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,gle=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,xle=So.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[uu({find:ple,type:this.type})]},addPasteRules(){return[Ll({find:gle,type:this.type})]}}),yle=On.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),sR=So.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Pt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),ble=sR;function vle(t={}){return new Lt({view(e){return new wle(e,t)}})}class wle{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let f=e.nodeBefore,p=e.nodeAfter;if(f||p){let g=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(g){let x=g.getBoundingClientRect(),v=f?x.bottom:x.top;f&&p&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;r={left:x.left,right:x.right,top:v-b,bottom:v+b}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:f.left-p,right:f.left+p,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),p=f.width/c.offsetWidth,g=f.height/c.offsetHeight;u=f.left-c.scrollLeft*p,d=f.top-c.scrollTop*g}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=tI(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Xt extends Je{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Xt.valid(r)?new Xt(r):Je.near(r)}content(){return Me.empty}eq(e){return e instanceof Xt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Xt(e.resolve(n.pos))}getBookmark(){return new kS(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Nle(e)||!Sle(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Xt.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let c=e.doc.resolve(s);if(Xt.valid(c))return c}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Ue.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let l=e.doc.resolve(s);if(Xt.valid(l))return l}return null}}}Xt.prototype.visible=!1;Xt.findFrom=Xt.findGapCursorFrom;Je.jsonID("gapcursor",Xt);class kS{constructor(e){this.pos=e}map(e){return new kS(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Xt.valid(n)?new Xt(n):Je.near(n)}}function iR(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Nle(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||iR(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Sle(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||iR(s.type))return!0;if(s.inlineContent)return!1}}return!0}function jle(){return new Lt({props:{decorations:Ele,createSelectionBetween(t,e,n){return e.pos==n.pos&&Xt.valid(n)?new Xt(n):null},handleClick:kle,handleKeyDown:Cle,handleDOMEvents:{beforeinput:Tle}}})}const Cle=rS({ArrowLeft:ap("horiz",-1),ArrowRight:ap("horiz",1),ArrowUp:ap("vert",-1),ArrowDown:ap("vert",1)});function ap(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof We){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=Xt.findGapCursorFrom(l,e,c);return u?(s&&s(r.tr.setSelection(new Xt(u))),!0):!1}}function kle(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Xt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ue.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Xt(r))),!0)}function Tle(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Xt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=he.empty;for(let a=r.length-1;a>=0;a--)s=he.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new Me(s,0,0));return i.setSelection(We.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function Ele(t){if(!(t.selection instanceof Xt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Et.create(t.doc,[Mn.widget(t.selection.head,e,{key:"gapcursor"})])}var c0=200,An=function(){};An.prototype.append=function(e){return e.length?(e=An.from(e),!this.length&&e||e.length<c0&&this.leafAppend(e)||this.length<c0&&e.leafPrepend(this)||this.appendInner(e)):this};An.prototype.prepend=function(e){return e.length?An.from(e).append(this):this};An.prototype.appendInner=function(e){return new Mle(this,e)};An.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?An.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};An.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};An.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};An.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};An.from=function(e){return e instanceof An?e:e&&e.length?new aR(e):An.empty};var aR=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,l){for(var c=i;c<a;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,l){for(var c=i-1;c>=a;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=c0)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=c0)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(An);An.empty=new aR([]);var Mle=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(An);const Ple=500;class _s{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,l,c,u=[],d=[];return this.items.forEach((f,p)=>{if(!f.step){s||(s=this.remapping(r,p+1),i=s.maps.length),i--,d.push(f);return}if(s){d.push(new ti(f.map));let g=f.step.map(s.slice(i)),x;g&&a.maybeStep(g).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],u.push(new ti(x,void 0,void 0,u.length+d.length))),i--,x&&s.appendMap(x,i)}else a.maybeStep(f.step);if(f.selection)return l=s?f.selection.map(s.slice(i)):f.selection,c=new _s(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,r,s){let i=[],a=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),p=new ti(e.mapping.maps[d],f,n),g;(g=c&&c.merge(p))&&(p=g,d?i.pop():l=l.slice(0,l.length-1)),i.push(p),n&&(a++,n=void 0),s||(c=p)}let u=a-r.depth;return u>Ole&&(l=Ale(l,u),a-=u),new _s(l.append(i),a)}remapping(e,n){let r=new Ah;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new _s(this.items.append(e.map(n=>new ti(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},s);let c=n;this.items.forEach(p=>{let g=i.getMirror(--c);if(g==null)return;a=Math.min(a,g);let x=i.maps[g];if(p.step){let v=e.steps[g].invert(e.docs[g]),b=p.selection&&p.selection.map(i.slice(c+1,g));b&&l++,r.push(new ti(x,v,b))}else r.push(new ti(x))},s);let u=[];for(let p=n;p<a;p++)u.push(new ti(i.maps[p]));let d=this.items.slice(0,s).append(u).append(r),f=new _s(d,l);return f.emptyItemCount()>Ple&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,l)=>{if(l>=e)s.push(a),a.selection&&i++;else if(a.step){let c=a.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=a.selection&&a.selection.map(n.slice(r));d&&i++;let f=new ti(u.invert(),c,d),p,g=s.length-1;(p=s.length&&s[g].merge(f))?s[g]=p:s.push(f)}}else a.map&&r--},this.items.length,0),new _s(An.from(s.reverse()),i)}}_s.empty=new _s(An.empty,0);function Ale(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class ti{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ti(n.getMap().invert(),n,this.selection)}}}class za{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const Ole=20;function _le(t,e,n,r){let s=n.getMeta(vl),i;if(s)return s.historyState;n.getMeta(Lle)&&(t=new za(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(vl))return a.getMeta(vl).redo?new za(t.done.addTransform(n,void 0,r,zp(e)),t.undone,u6(n.mapping.maps),t.prevTime,t.prevComposition):new za(t.done,t.undone.addTransform(n,void 0,r,zp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Dle(n,t.prevRanges)),u=a?Dv(t.prevRanges,n.mapping):u6(n.mapping.maps);return new za(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,zp(e)),_s.empty,u,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new za(t.done.rebased(n,i),t.undone.rebased(n,i),Dv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new za(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Dv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Dle(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function u6(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function Dv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function Ile(t,e,n){let r=zp(e),s=vl.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),c=new za(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(vl,{redo:n,historyState:c})}let Iv=!1,d6=null;function zp(t){let e=t.plugins;if(d6!=e){Iv=!1,d6=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Iv=!0;break}}return Iv}const vl=new en("history"),Lle=new en("closeHistory");function Rle(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Lt({key:vl,state:{init(){return new za(_s.empty,_s.empty,null,0,-1)},apply(e,n,r){return _le(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?lR:r=="historyRedo"?cR:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function oR(t,e){return(n,r)=>{let s=vl.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=Ile(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const lR=oR(!1,!0),cR=oR(!0,!0);St.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Lt({key:new en("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const a=i-s,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-r,u=l-c,d=l;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var Fle=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[vle(this.options)]}});St.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Lt({key:new en("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return Et.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(s>=u&&s<=u+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(s>=u&&s<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Mn.node(u,u+c.nodeSize,{class:this.options.className}))}),Et.create(t,i)}}})]}});var Vle=St.create({name:"gapCursor",addProseMirrorPlugins(){return[jle()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=yt($e(t,"allowGapCursor",n)))!=null?e:null}}});St.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Lt({key:new en("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,u=!a.isLeaf&&px(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const f=Mn.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});s.push(f)}return this.options.includeChildren}),Et.create(t,s)}}})]}});St.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Lt({key:new en("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||yL(n.selection)||t.view.dragging?null:Et.create(n.doc,[Mn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function h6({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var zle=St.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new en(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Lt({key:e,appendTransaction:(s,i,a)=>{const{doc:l,tr:c,schema:u}=a,d=e.getState(a),f=l.content.size,p=u.nodes[n];if(d)return c.insert(f,p.create())},state:{init:(s,i)=>{const a=i.tr.doc.lastChild;return!h6({node:a,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const a=s.doc.lastChild;return!h6({node:a,types:r})}}})]}}),$le=St.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>lR(t,e),redo:()=>({state:t,dispatch:e})=>cR(t,e)}},addProseMirrorPlugins(){return[Rle(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Ble=St.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(poe.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(uoe.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(GL.configure(this.options.bulletList)),this.options.code!==!1&&s.push(yoe.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(woe.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Noe.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Fle.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Vle.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(Soe.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(joe.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push($le.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(Coe.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(Poe.configure(this.options.italic)),this.options.listItem!==!1&&s.push(YL.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(tR.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(tle.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(rR.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(mle.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(xle.configure(this.options.strike)),this.options.text!==!1&&s.push(yle.configure(this.options.text)),this.options.underline!==!1&&s.push(sR.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(zle.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),Hle=Ble,Ule=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Wle=Ule,qle=20,uR=(t,e=0)=>{const n=[];return!t.children.length||e>qle||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...uR(r,e+1))}),n},Kle=t=>{if(!t.children.length)return;const e=uR(t);e&&e.forEach(n=>{var r,s;const i=n.getAttribute("style"),a=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${a};${i}`)})},dR=So.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Kle(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Gle=St.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Yle=St.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Xle=St.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Qle=St.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Jle=St.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});St.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(Gle.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Yle.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Xle.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(Qle.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(Jle.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(dR.configure(this.options.textStyle)),t}});let W2,q2;if(typeof WeakMap<"u"){let t=new WeakMap;W2=e=>t.get(e),q2=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;W2=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},q2=(r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s)}var Qt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,c),right:Math.max(r,l),bottom:Math.max(i,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?i-1:this.map[a]}s=i}}static get(t){return W2(t)||q2(t,Zle(t))}};function Zle(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=ece(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=t.child(u);d++;for(let x=0;;x++){for(;s<r.length&&r[s]!=0;)s++;if(x==f.childCount)break;const v=f.child(x),{colspan:b,rowspan:w,colwidth:S}=v.attrs;for(let j=0;j<w;j++){if(j+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:w-j});break}const M=s+j*e;for(let C=0;C<b;C++){r[M+C]==0?r[M+C]=d:(i||(i=[])).push({type:"collision",row:u,pos:d,n:b-C});const P=S&&S[C];if(P){const A=(M+C)%e*2,E=a[A];E==null||E!=P&&a[A+1]==1?(a[A]=P,a[A+1]=1):E==P&&a[A+1]++}}}s+=b,d+=v.nodeSize}const p=(u+1)*e;let g=0;for(;s<p;)r[s++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:u,n:g}),d++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Qt(e,n,r,i);let c=!1;for(let u=0;!c&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(c=!0);return c&&tce(l,a,t),l}function ece(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let c=0;c<l.childCount;c++){const u=l.child(c);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const l=s.child(a);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function tce(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const d=e[(s+u)%t.width*2];d!=null&&(!c.colwidth||c.colwidth[u]!=d)&&((l||(l=nce(c)))[u]=d)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function nce(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function rr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}const Ha=new en("selectingCells");function Rl(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function rce(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Bs(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function bx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Rl(e.$head)||sce(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function sce(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function K2(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function ice(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function TS(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function hR(t,e,n){const r=t.node(-1),s=Qt.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}function Fl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function fR(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function ace(t,e,n){const r=rr(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}var Mt=class Vi extends Je{constructor(e,n=e){const r=e.node(-1),s=Qt.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),l=e.node(0),c=s.cellsInRect(a).filter(d=>d!=n.pos-i);c.unshift(n.pos-i);const u=c.map(d=>{const f=r.nodeAt(d);if(!f)throw new RangeError(`No cell with offset ${d} found`);const p=i+d+1;return new aI(l.resolve(p),l.resolve(p+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(K2(r)&&K2(s)&&TS(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Vi.rowSelection(r,s):i&&this.isColSelection()?Vi.colSelection(r,s):new Vi(r,s)}return We.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=Qt.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let c=s.top;c<s.bottom;c++){const u=[];for(let d=c*n.width+s.left,f=s.left;f<s.right;f++,d++){const p=n.map[d];if(i[p])continue;i[p]=!0;const g=n.findCell(p);let x=e.nodeAt(p);if(!x)throw new RangeError(`No cell with offset ${p} found`);const v=s.left-g.left,b=g.right-s.right;if(v>0||b>0){let w=x.attrs;if(v>0&&(w=Fl(w,0,v)),b>0&&(w=Fl(w,w.colspan-b,b)),g.left<s.left){if(x=x.type.createAndFill(w),!x)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else x=x.type.create(w,x.content)}if(g.top<s.top||g.bottom>s.bottom){const w={...x.attrs,rowspan:Math.min(g.bottom,s.bottom)-Math.max(g.top,s.top)};g.top<s.top?x=x.type.createAndFill(w):x=x.type.create(w,x.content)}u.push(x)}a.push(e.child(c).copy(he.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new Me(he.from(l),1,1)}replace(e,n=Me.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:l,$to:c}=s[a],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),a?Me.empty:n)}const i=Je.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new Me(he.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Qt.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=Qt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.top<=l.top?(a.top>0&&(e=c.resolve(i+s.map[a.left])),l.bottom<s.height&&(n=c.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+s.map[l.left])),a.bottom<s.height&&(e=c.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new Vi(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Qt.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof Vi&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=Qt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.left<=l.left?(a.left>0&&(e=c.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(n=c.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(e=c.resolve(i+s.map[s.width*(a.top+1)-1]))),new Vi(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Vi(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Vi(e.resolve(n),e.resolve(r))}getBookmark(){return new oce(this.$anchorCell.pos,this.$headCell.pos)}};Mt.prototype.visible=!1;Je.jsonID("cell",Mt);var oce=class mR{constructor(e,n){this.anchor=e,this.head=n}map(e){return new mR(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&TS(n,r)?new Mt(n,r):Je.near(r,1)}};function lce(t){if(!(t.selection instanceof Mt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Mn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Et.create(t.doc,e)}function cce({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function uce({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function dce(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof Ue&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=Mt.create(s,r.from);else if(a=="row"){const l=s.resolve(r.from+1);i=Mt.rowSelection(l,l)}else if(!n){const l=Qt.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];i=Mt.create(s,c+1,u)}}else r instanceof We&&cce(r)?i=We.create(s,r.from):r instanceof We&&uce(r)&&(i=We.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}const hce=new en("fix-tables");function pR(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,l=0;a<i;a++){const c=e.child(a);for(let u=l,d=Math.min(s,a+3);u<d;u++)if(t.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<s&&t.child(l).sameMarkup(c)?pR(t.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function gR(t,e){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=fce(t,s,i,n))};return e?e.doc!=t.doc&&pR(e.doc,t.doc,0,r):t.doc.descendants(r),n}function fce(t,e,n,r){const s=Qt.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let c=0;c<s.height;c++)i.push(0);for(let c=0;c<s.problems.length;c++){const u=s.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let p=0;p<f.rowspan;p++)i[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Fl(f,f.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let a,l;for(let c=0;c<i.length;c++)i[c]&&(a==null&&(a=c),l=c);for(let c=0,u=n+1;c<s.height;c++){const d=e.child(c),f=u+d.nodeSize,p=i[c];if(p>0){let g="cell";d.firstChild&&(g=d.firstChild.type.spec.tableRole);const x=[];for(let b=0;b<p;b++){const w=rr(t.schema)[g].createAndFill();w&&x.push(w)}const v=(c==0||a==c-1)&&l==c?u+1:f-1;r.insert(r.mapping.map(v),x)}u=f}return r.setMeta(hce,{fixTables:!0})}function yi(t){const e=t.selection,n=bx(t),r=n.node(-1),s=n.start(-1),i=Qt.get(r);return{...e instanceof Mt?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function xR(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;ace(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+s;if(s>0&&s<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,fR(u.attrs,s-e.colCount(c))),a+=u.attrs.rowspan-1}else{const c=i==null?rr(r.type.schema).cell:r.nodeAt(e.map[l+i]).type,u=e.positionAt(a,s,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}function mce(t,e){if(!Bs(t))return!1;if(e){const n=yi(t);e(xR(t.tr,n,n.left))}return!0}function pce(t,e){if(!Bs(t))return!1;if(e){const n=yi(t);e(xR(t.tr,n,n.right))}return!0}function gce(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+s,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(s>0&&e.map[l-1]==c||s<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(i).map(r+c),null,Fl(d,s-e.colCount(c)));else{const f=t.mapping.slice(i).map(r+c);t.delete(f,f+u.nodeSize)}a+=d.rowspan}}function xce(t,e){if(!Bs(t))return!1;if(e){const n=yi(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;gce(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Qt.get(i)}e(r)}return!0}function yce(t,e,n){var r;const s=rr(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))===null||r===void 0?void 0:r.type)!=s)return!1;return!0}function yR(t,{map:e,tableStart:n,table:r},s){let i=n;for(let u=0;u<s;u++)i+=r.child(u).nodeSize;const a=[];let l=s>0?-1:0;yce(e,r,s+l)&&(l=s==0||s==e.height?null:0);for(let u=0,d=e.width*s;u<e.width;u++,d++)if(s>0&&s<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],p=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...p,rowspan:p.rowspan+1}),u+=p.colspan-1}else{var c;const f=l==null?rr(r.type.schema).cell:(c=r.nodeAt(e.map[d+l*e.width]))===null||c===void 0?void 0:c.type,p=f?.createAndFill();p&&a.push(p)}return t.insert(i,rr(r.type.schema).row.create(null,a)),t}function bce(t,e){if(!Bs(t))return!1;if(e){const n=yi(t);e(yR(t.tr,n,n.top))}return!0}function vce(t,e){if(!Bs(t))return!1;if(e){const n=yi(t);e(yR(t.tr,n,n.bottom))}return!0}function wce(t,{map:e,table:n,tableStart:r},s){let i=0;for(let u=0;u<s;u++)i+=n.child(u).nodeSize;const a=i+n.child(s).nodeSize,l=t.mapping.maps.length;t.delete(i+r,a+r);const c=new Set;for(let u=0,d=s*e.width;u<e.width;u++,d++){const f=e.map[d];if(!c.has(f)){if(c.add(f),s>0&&f==e.map[d-e.width]){const p=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p,rowspan:p.rowspan-1}),u+=p.colspan-1}else if(s<e.height&&f==e.map[d+e.width]){const p=n.nodeAt(f),g=p.attrs,x=p.type.create({...g,rowspan:p.attrs.rowspan-1},p.content),v=e.positionAt(s+1,u,n);t.insert(t.mapping.slice(l).map(r+v),x),u+=g.colspan-1}}}}function Nce(t,e){if(!Bs(t))return!1;if(e){const n=yi(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;wce(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Qt.get(n.table)}e(r)}return!0}function f6(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function Sce({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,l=s+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}function m6(t,e){const n=t.selection;if(!(n instanceof Mt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=yi(t),{map:s}=r;if(Sce(s,r))return!1;if(e){const i=t.tr,a={};let l=he.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const p=s.map[d*s.width+f],g=r.table.nodeAt(p);if(!(a[p]||!g))if(a[p]=!0,c==null)c=p,u=g;else{f6(g)||(l=l.append(g.content));const x=i.mapping.map(p+r.tableStart);i.delete(x,x+g.nodeSize)}}if(c==null||u==null)return!0;if(i.setNodeMarkup(c+r.tableStart,null,{...fR(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),l.size>0){const d=c+1+u.content.size,f=f6(u)?c+1:d;i.replaceWith(f+r.tableStart,d+r.tableStart,l)}i.setSelection(new Mt(i.doc.resolve(c+r.tableStart))),e(i)}return!0}function p6(t,e){const n=rr(t.schema);return jce(({node:r})=>n[r.type.spec.tableRole])(t,e)}function jce(t){return(e,n)=>{const r=e.selection;let s,i;if(r instanceof Mt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{var a;if(s=rce(r.$from),!s)return!1;i=(a=Rl(r.$from))===null||a===void 0?void 0:a.pos}if(s==null||i==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=yi(e),f=e.tr;for(let g=0;g<d.right-d.left;g++)c.push(u?{...l,colwidth:u&&u[g]?[u[g]]:null}:l);let p;for(let g=d.top;g<d.bottom;g++){let x=d.map.positionAt(g,d.left,d.table);g==d.top&&(x+=s.nodeSize);for(let v=d.left,b=0;v<d.right;v++,b++)v==d.left&&g==d.top||f.insert(p=f.mapping.map(x+d.tableStart,1),t({node:s,row:g,col:v}).createAndFill(c[b]))}f.setNodeMarkup(i,t({node:s,row:d.top,col:d.left}),c[0]),r instanceof Mt&&f.setSelection(new Mt(f.doc.resolve(r.$anchorCell.pos),p?f.doc.resolve(p):void 0)),n(f)}return!0}}function Cce(t,e){return function(n,r){if(!Bs(n))return!1;const s=bx(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof Mt?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&i.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function kce(t){return function(e,n){if(!Bs(e))return!1;if(n){const r=rr(e.schema),s=yi(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=a.map(c=>s.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[c],r.cell,l[c].attrs);if(i.steps.length===0)for(let c=0;c<a.length;c++)i.setNodeMarkup(s.tableStart+a[c],r.header_cell,l[c].attrs);n(i)}return!0}}function g6(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function Vh(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?kce(t):function(n,r){if(!Bs(n))return!1;if(r){const s=rr(n.schema),i=yi(n),a=n.tr,l=g6("row",i,s),c=g6("column",i,s),u=(t==="column"?l:t==="row"&&c)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:i.map.height}:t=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,f=t=="column"?c?s.cell:s.header_cell:t=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(d).forEach(p=>{const g=p+i.tableStart,x=a.doc.nodeAt(g);x&&a.setNodeMarkup(g,f,x.attrs)}),r(a)}return!0}}Vh("row",{useDeprecatedLogic:!0});Vh("column",{useDeprecatedLogic:!0});const Tce=Vh("cell",{useDeprecatedLogic:!0});function Ece(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function x6(t){return function(e,n){if(!Bs(e))return!1;const r=Ece(bx(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(We.between(s,ice(s))).scrollIntoView())}return!0}}function Mce(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function op(t,e){const n=t.selection;if(!(n instanceof Mt))return!1;if(e){const r=t.tr,s=rr(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new Me(s,0,0))}),r.docChanged&&e(r)}return!0}function Pce(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,l=[];if(i=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=G2(rr(a).row,new Me(u,d,f)).content),l.push(u)}else if(i=="cell"||i=="header_cell")l.push(n||r?G2(rr(a).row,new Me(e,n,r)).content:e);else return null;return Ace(a,l)}function Ace(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=i.child(a).attrs;for(let u=s;u<s+l;u++)n[u]=(n[u]||0)+c}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(he.empty),n[s]<r){const i=rr(t).cell.createAndFill(),a=[];for(let l=n[s];l<r;l++)a.push(i);e[s]=e[s].append(he.from(a))}return{height:e.length,width:r,rows:e}}function G2(t,e){const n=t.createAndFill();return new $N(n).replace(0,n.content.size,e).doc}function Oce({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=i[l]||0,f=0;d<r;f++){let p=c.child(f%c.childCount);d+p.attrs.colspan>r&&(p=p.type.createChecked(Fl(p.attrs,p.attrs.colspan,d+p.attrs.colspan-r),p.content)),u.push(p),d+=p.attrs.colspan;for(let g=1;g<p.attrs.rowspan;g++)i[l+g]=(i[l+g]||0)+p.attrs.colspan}a.push(he.from(u))}n=a,t=r}if(e!=s){const i=[];for(let a=0,l=0;a<s;a++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);a+f.attrs.rowspan>s&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,s-f.attrs.rowspan)},f.content)),c.push(f)}i.push(he.from(c))}n=i,e=s}return{width:t,height:e,rows:n}}function _ce(t,e,n,r,s,i,a){const l=t.doc.type.schema,c=rr(l);let u,d;if(s>e.width)for(let f=0,p=0;f<e.height;f++){const g=n.child(f);p+=g.nodeSize;const x=[];let v;g.lastChild==null||g.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=d||(d=c.header_cell.createAndFill());for(let b=e.width;b<s;b++)x.push(v);t.insert(t.mapping.slice(a).map(p-1+r),x)}if(i>e.height){const f=[];for(let x=0,v=(e.height-1)*e.width;x<Math.max(e.width,s);x++){const b=x>=e.width?!1:n.nodeAt(e.map[v+x]).type==c.header_cell;f.push(b?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const p=c.row.create(null,he.from(f)),g=[];for(let x=e.height;x<i;x++)g.push(p);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),g)}return!!(u||d)}function y6(t,e,n,r,s,i,a,l){if(a==0||a==e.height)return!1;let c=!1;for(let u=s;u<i;u++){const d=a*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){c=!0;const p=n.nodeAt(f),{top:g,left:x}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p.attrs,rowspan:a-g}),t.insert(t.mapping.slice(l).map(e.positionAt(a,x,n)),p.type.createAndFill({...p.attrs,rowspan:g+p.attrs.rowspan-a})),u+=p.attrs.colspan-1}}return c}function b6(t,e,n,r,s,i,a,l){if(a==0||a==e.width)return!1;let c=!1;for(let u=s;u<i;u++){const d=u*e.width+a,f=e.map[d];if(e.map[d-1]==f){c=!0;const p=n.nodeAt(f),g=e.colCount(f),x=t.mapping.slice(l).map(f+r);t.setNodeMarkup(x,null,Fl(p.attrs,a-g,p.attrs.colspan-(a-g))),t.insert(x+p.nodeSize,p.type.createAndFill(Fl(p.attrs,0,a-g))),u+=p.attrs.rowspan-1}}return c}function v6(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=Qt.get(i);const{top:l,left:c}=r,u=c+s.width,d=l+s.height,f=t.tr;let p=0;function g(){if(i=n?f.doc.nodeAt(n-1):f.doc,!i)throw new Error("No table found");a=Qt.get(i),p=f.mapping.maps.length}_ce(f,a,i,n,u,d,p)&&g(),y6(f,a,i,n,c,u,l,p)&&g(),y6(f,a,i,n,c,u,d,p)&&g(),b6(f,a,i,n,l,d,c,p)&&g(),b6(f,a,i,n,l,d,u,p)&&g();for(let x=l;x<d;x++){const v=a.positionAt(x,c,i),b=a.positionAt(x,u,i);f.replace(f.mapping.slice(p).map(v+n),f.mapping.slice(p).map(b+n),new Me(s.rows[x-l],0,0))}g(),f.setSelection(new Mt(f.doc.resolve(n+a.positionAt(l,c,i)),f.doc.resolve(n+a.positionAt(d-1,u-1,i)))),e(f)}const Dce=rS({ArrowLeft:lp("horiz",-1),ArrowRight:lp("horiz",1),ArrowUp:lp("vert",-1),ArrowDown:lp("vert",1),"Shift-ArrowLeft":cp("horiz",-1),"Shift-ArrowRight":cp("horiz",1),"Shift-ArrowUp":cp("vert",-1),"Shift-ArrowDown":cp("vert",1),Backspace:op,"Mod-Backspace":op,Delete:op,"Mod-Delete":op});function $p(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function lp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof Mt)return $p(n,r,Je.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=bR(s,t,e);if(a==null)return!1;if(t=="horiz")return $p(n,r,Je.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(a),c=hR(l,t,e);let u;return c?u=Je.near(c,1):e<0?u=Je.near(n.doc.resolve(l.before(-1)),-1):u=Je.near(n.doc.resolve(l.after(-1)),1),$p(n,r,u)}}}function cp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof Mt)a=i;else{const c=bR(s,t,e);if(c==null)return!1;a=new Mt(n.doc.resolve(c))}const l=hR(a.$headCell,t,e);return l?$p(n,r,new Mt(a.$anchorCell,l)):!1}}function Ice(t,e){const n=t.state.doc,r=Rl(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Mt(r))),!0):!1}function Lce(t,e,n){if(!Bs(t.state))return!1;let r=Pce(n);const s=t.state.selection;if(s instanceof Mt){r||(r={width:1,height:1,rows:[he.from(G2(rr(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),l=Qt.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=Oce(r,l.right-l.left,l.bottom-l.top),v6(t.state,t.dispatch,a,l,r),!0}else if(r){const i=bx(t.state),a=i.start(-1);return v6(t.state,t.dispatch,a,Qt.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function Rce(t,e){var n;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=w6(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof Mt)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=Rl(t.state.selection.$anchor))!=null&&((n=Lv(t,e))===null||n===void 0?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(c,u){let d=Lv(t,u);const f=Ha.getState(t.state)==null;if(!d||!TS(c,d))if(f)d=c;else return;const p=new Mt(c,d);if(f||!t.state.selection.eq(p)){const g=t.state.tr.setSelection(p);f&&g.setMeta(Ha,c.pos),t.dispatch(g)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),Ha.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ha,-1))}function l(c){const u=c,d=Ha.getState(t.state);let f;if(d!=null)f=t.state.doc.resolve(d);else if(w6(t,u.target)!=r&&(f=Lv(t,e),!f))return a();f&&i(f,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function bR(t,e,n){if(!(t.state.selection instanceof We))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(s),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function w6(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Lv(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;let{inside:r,pos:s}=n;return r>=0&&Rl(t.state.doc.resolve(r))||Rl(t.state.doc.resolve(s))}var Fce=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Y2(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Y2(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Y2(t,e,n,r,s,i){let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let f=0,p=0;f<u.childCount;f++){const{colspan:g,colwidth:x}=u.child(f).attrs;for(let v=0;v<g;v++,p++){const b=s==p?i:x&&x[v],w=b?b+"px":"";if(a+=b||r,b||(l=!1),c)c.style.width!=w&&(c.style.width=w),c=c.nextSibling;else{const S=document.createElement("col");S.style.width=w,e.appendChild(S)}}}for(;c;){var d;const f=c.nextSibling;(d=c.parentNode)===null||d===void 0||d.removeChild(c),c=f}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const qr=new en("tableColumnResizing");function Vce({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Fce,lastColumnResizable:s=!0}={}){const i=new Lt({key:qr,state:{init(a,l){var c;const u=(c=i.spec)===null||c===void 0||(c=c.props)===null||c===void 0?void 0:c.nodeViews,d=rr(l.schema).table.name;return r&&u&&(u[d]=(f,p)=>new r(f,n,p)),new zce(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=qr.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{$ce(a,l,t,s)},mouseleave:a=>{Bce(a)},mousedown:(a,l)=>{Hce(a,l,e,n)}},decorations:a=>{const l=qr.getState(a);if(l&&l.activeHandle>-1)return Gce(a,l.activeHandle)},nodeViews:{}}});return i}var zce=class Bp{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(qr);if(r&&r.setHandle!=null)return new Bp(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Bp(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return K2(e.doc.resolve(s))||(s=-1),new Bp(s,n.dragging)}return n}};function $ce(t,e,n,r){if(!t.editable)return;const s=qr.getState(t.state);if(s&&!s.dragging){const i=Wce(e.target);let a=-1;if(i){const{left:l,right:c}=i.getBoundingClientRect();e.clientX-l<=n?a=N6(t,e,"left",n):c-e.clientX<=n&&(a=N6(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),u=Qt.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}vR(t,a)}}}function Bce(t){if(!t.editable)return;const e=qr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&vR(t,-1)}function Hce(t,e,n,r){var s;if(!t.editable)return!1;const i=(s=t.dom.ownerDocument.defaultView)!==null&&s!==void 0?s:window,a=qr.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),c=Uce(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(qr,{setDragging:{startX:e.clientX,startWidth:c}}));function u(f){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",d);const p=qr.getState(t.state);p?.dragging&&(qce(t,p.activeHandle,S6(p.dragging,f,n)),t.dispatch(t.state.tr.setMeta(qr,{setDragging:null})))}function d(f){if(!f.which)return u(f);const p=qr.getState(t.state);if(p&&p.dragging){const g=S6(p.dragging,f,n);j6(t,p.activeHandle,g,r)}}return j6(t,a.activeHandle,c,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",d),e.preventDefault(),!0}function Uce(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let a=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function Wce(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function N6(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,l=Rl(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const c=Qt.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function S6(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function vR(t,e){t.dispatch(t.state.tr.setMeta(qr,{setHandle:e}))}function qce(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=Qt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let u=0;u<i.height;u++){const d=u*i.width+l;if(u&&i.map[d]==i.map[d-i.width])continue;const f=i.map[d],p=s.nodeAt(f).attrs,g=p.colspan==1?0:l-i.colCount(f);if(p.colwidth&&p.colwidth[g]==n)continue;const x=p.colwidth?p.colwidth.slice():Kce(p.colspan);x[g]=n,c.setNodeMarkup(a+f,null,{...p,colwidth:x})}c.docChanged&&t.dispatch(c)}function j6(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),l=Qt.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let c=t.domAtPos(s.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&Y2(i,c.firstChild,c,r,l,n)}function Kce(t){return Array(t).fill(0)}function Gce(t,e){const n=[],r=t.doc.resolve(e),s=r.node(-1);if(!s)return Et.empty;const i=Qt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<i.height;u++){const d=l+u*i.width;if((l==i.width-1||i.map[d]!=i.map[d+1])&&(u==0||i.map[d]!=i.map[d-i.width])){var c;const f=i.map[d],p=a+f+s.nodeAt(f).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",!((c=qr.getState(t))===null||c===void 0)&&c.dragging&&n.push(Mn.node(a+f,a+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),n.push(Mn.widget(p,g))}}return Et.create(t.doc,n)}function Yce({allowTableNodeSelection:t=!1}={}){return new Lt({key:Ha,state:{init(){return null},apply(e,n){const r=e.getMeta(Ha);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:lce,handleDOMEvents:{mousedown:Rce},createSelectionBetween(e){return Ha.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Ice,handleKeyDown:Dce,handlePaste:Lce},appendTransaction(e,n,r){return dce(r,gR(r,n),t)}})}var wR=On.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),s=r?r.split(",").map(i=>parseInt(i,10)):null;if(!s){const i=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&i&&i[a]){const l=i[a].getAttribute("width");return l?[parseInt(l,10)]:null}}return s}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Pt(this.options.HTMLAttributes,t),0]}}),NR=On.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Pt(this.options.HTMLAttributes,t),0]}}),SR=On.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Pt(this.options.HTMLAttributes,t),0]}});function X2(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function C6(t,e,n,r,s,i){var a;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let p=0,g=0;p<d.childCount;p+=1){const{colspan:x,colwidth:v}=d.child(p).attrs;for(let b=0;b<x;b+=1,g+=1){const w=s===g?i:v&&v[b],S=w?`${w}px`:"";if(l+=w||r,w||(c=!1),u){if(u.style.width!==S){const[j,M]=X2(r,w);u.style.setProperty(j,M)}u=u.nextSibling}else{const j=document.createElement("col"),[M,C]=X2(r,w);j.style.setProperty(M,C),e.appendChild(j)}}}for(;u;){const p=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=p}const f=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);c&&!f?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}var Xce=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),C6(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,C6(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function Qce(t,e,n,r){let s=0,i=!0;const a=[],l=t.firstChild;if(!l)return{};for(let f=0,p=0;f<l.childCount;f+=1){const{colspan:g,colwidth:x}=l.child(f).attrs;for(let v=0;v<g;v+=1,p+=1){const b=n===p?r:x&&x[v];s+=b||e,b||(i=!1);const[w,S]=X2(e,b);a.push(["col",{style:`${w}: ${S}`}])}}const c=i?`${s}px`:"",u=i?"":`${s}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:u}}function k6(t,e){return t.createAndFill()}function Jce(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function Zce(t,e,n,r,s){const i=Jce(t),a=[],l=[];for(let u=0;u<n;u+=1){const d=k6(i.cell);if(d&&l.push(d),r){const f=k6(i.header_cell);f&&a.push(f)}}const c=[];for(let u=0;u<e;u+=1)c.push(i.row.createChecked(null,r&&u===0?a:l));return i.table.createChecked(null,c)}function eue(t){return t instanceof Mt}var up=({editor:t})=>{const{selection:e}=t.state;if(!eue(e))return!1;let n=0;const r=uL(e.ranges[0].$from,i=>i.type.name==="table");return r?.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},tue="";function nue(t){return(t||"").replace(/\s+/g," ").trim()}function rue(t,e,n={}){var r;const s=(r=n.cellLineSeparator)!=null?r:tue;if(!t||!t.content||t.content.length===0)return"";const i=[];t.content.forEach(x=>{const v=[];x.content&&x.content.forEach(b=>{let w="";b.content&&Array.isArray(b.content)&&b.content.length>1?w=b.content.map(C=>e.renderChildren(C)).join(s):w=b.content?e.renderChildren(b.content):"";const S=nue(w),j=b.type==="tableHeader";v.push({text:S,isHeader:j})}),i.push(v)});const a=i.reduce((x,v)=>Math.max(x,v.length),0);if(a===0)return"";const l=new Array(a).fill(0);i.forEach(x=>{var v;for(let b=0;b<a;b+=1){const S=(((v=x[b])==null?void 0:v.text)||"").length;S>l[b]&&(l[b]=S),l[b]<3&&(l[b]=3)}});const c=(x,v)=>x+" ".repeat(Math.max(0,v-x.length)),u=i[0],d=u.some(x=>x.isHeader);let f=`
`;const p=new Array(a).fill(0).map((x,v)=>d&&u[v]&&u[v].text||"");return f+=`| ${p.map((x,v)=>c(x,l[v])).join(" | ")} |
`,f+=`| ${l.map(x=>"-".repeat(Math.max(3,x))).join(" | ")} |
`,(d?i.slice(1):i).forEach(x=>{f+=`| ${new Array(a).fill(0).map((v,b)=>c(x[b]&&x[b].text||"",l[b])).join(" | ")} |
`}),f}var sue=rue,jR=On.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:Xce,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=Qce(t,this.options.cellMinWidth),i=e.style;function a(){return i||(r?`width: ${r}`:`min-width: ${s}`)}const l=["table",Pt(this.options.HTMLAttributes,e,{style:a()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},l]:l},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(s=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const s=[];r.forEach(i=>{s.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},s))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>sue(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const a=Zce(i.schema,t,e,n);if(s){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(We.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>mce(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>pce(t,e),deleteColumn:()=>({state:t,dispatch:e})=>xce(t,e),addRowBefore:()=>({state:t,dispatch:e})=>bce(t,e),addRowAfter:()=>({state:t,dispatch:e})=>vce(t,e),deleteRow:()=>({state:t,dispatch:e})=>Nce(t,e),deleteTable:()=>({state:t,dispatch:e})=>Mce(t,e),mergeCells:()=>({state:t,dispatch:e})=>m6(t,e),splitCell:()=>({state:t,dispatch:e})=>p6(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Vh("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Vh("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>Tce(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>m6(t,e)?!0:p6(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>Cce(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>x6(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>x6(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&gR(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Mt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:up,"Mod-Backspace":up,Delete:up,"Mod-Delete":up}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Vce({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Yce({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:yt($e(t,"tableRole",e))}}});St.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(jR.configure(this.options.table)),this.options.tableCell!==!1&&t.push(wR.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(NR.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(SR.configure(this.options.tableRow)),t}});var iue=SR,aue=NR,oue=wR,lue=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,cue=On.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Pt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,i,a;const l=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",c=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",u=(a=(i=t.attrs)==null?void 0:i.title)!=null?a:"";return u?`![${c}](${l} "${u}")`:`![${c}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:a,editor:l})=>{const c=document.createElement("img");Object.entries(a).forEach(([f,p])=>{if(p!=null)switch(f){case"width":case"height":break;default:c.setAttribute(f,p);break}}),c.src=a.src;const u=new Xie({element:c,editor:l,node:s,getPos:i,onResize:(f,p)=>{c.style.width=`${f}px`,c.style.height=`${p}px`},onCommit:(f,p)=>{const g=i();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:f,height:p}).run()},onUpdate:(f,p,g)=>f.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),d=u.dom;return d.style.visibility="hidden",d.style.pointerEvents="none",c.onload=()=>{d.style.visibility="",d.style.pointerEvents=""},u}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[IL({find:lue,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),uue=cue;const due=({value:t,onChange:e})=>{const n=ioe({extensions:[Hle.configure({heading:{levels:[1,2,3]}}),ble,Wle.configure({types:["heading","paragraph"]}),jR.configure({resizable:!0}),iue,aue,oue,uue,dR],content:t||"<p></p>",editorProps:{attributes:{class:"prose prose-2xl max-w-none text-gray-600 focus:outline-none min-h-[300px] overflow-auto p-4 border border-gray-300 rounded-md"}},onUpdate:({editor:s})=>{e(s.getHTML())}});if(!n)return null;const r=()=>{const s=window.prompt("Nhp URL hnh nh:");s&&n.chain().focus().setImage({src:s}).run()};return o.jsxs("div",{className:"border border-gray-300 rounded-md",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border-b border-gray-300 bg-gray-50",children:[o.jsx("button",{type:"button",onClick:()=>{n.chain().focus().toggleHeading({level:1}).run()},className:`px-4 py-2 rounded hover:bg-gray-200 text-[2rem] font-bold ${n.isActive("heading",{level:1})?"bg-gray-300":""}`,children:"H1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-end text-[1.8rem] ${n.isActive("heading",{level:2})?"bg-gray-300":""}`,children:"H2"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:3}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-[1.6rem] ${n.isActive("heading",{level:3})?"bg-gray-300":""}`,children:"H3"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setParagraph().run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold leading-none ${n.isActive("paragraph")?"bg-gray-300":""}`,children:"P"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bold")?"bg-gray-300":""}`,children:o.jsx(F,{icon:pG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("italic")?"bg-gray-300":""}`,children:o.jsx(F,{icon:jG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("underline")?"bg-gray-300":""}`,children:o.jsx(F,{icon:DG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("strike")?"bg-gray-300":""}`,children:o.jsx(F,{icon:uG})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bulletList")?"bg-gray-300":""}`,children:o.jsx(F,{icon:FG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("orderedList")?"bg-gray-300":""}`,children:o.jsx(F,{icon:CG})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"left"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:aG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"center"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:yG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-300 ${n.isActive({textAlign:"right"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:dG})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"p-2 rounded hover:bg-gray-200",children:o.jsx(F,{icon:cG})}),o.jsx("button",{type:"button",onClick:r,className:"p-2 rounded hover:bg-gray-200",children:o.jsx(F,{icon:xG})})]}),o.jsx(Jae,{editor:n})]})},ES=T.createContext({});function MS(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const PS=typeof window<"u",CR=PS?T.useLayoutEffect:T.useEffect,vx=T.createContext(null);function AS(t,e){t.indexOf(e)===-1&&t.push(e)}function OS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oa=(t,e,n)=>n>e?e:n<t?t:n;let _S=()=>{};const la={},kR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function TR(t){return typeof t=="object"&&t!==null}const ER=t=>/^0[^.\s]+$/u.test(t);function DS(t){let e;return()=>(e===void 0&&(e=t()),e)}const bs=t=>t,hue=(t,e)=>n=>e(t(n)),yf=(...t)=>t.reduce(hue),zh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class IS{constructor(){this.subscriptions=[]}add(e){return AS(this.subscriptions,e),()=>OS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=t=>t*1e3,gs=t=>t/1e3;function MR(t,e){return e?t*(1e3/e):0}const PR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fue=1e-7,mue=12;function pue(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=PR(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>fue&&++l<mue);return a}function bf(t,e,n,r){if(t===e&&n===r)return bs;const s=i=>pue(i,0,1,t,n);return i=>i===0||i===1?i:PR(s(i),e,r)}const AR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OR=t=>e=>1-t(1-e),_R=bf(.33,1.53,.69,.99),LS=OR(_R),DR=AR(LS),IR=t=>(t*=2)<1?.5*LS(t):.5*(2-Math.pow(2,-10*(t-1))),RS=t=>1-Math.sin(Math.acos(t)),LR=OR(RS),RR=AR(RS),gue=bf(.42,0,1,1),xue=bf(0,0,.58,1),FR=bf(.42,0,.58,1),yue=t=>Array.isArray(t)&&typeof t[0]!="number",VR=t=>Array.isArray(t)&&typeof t[0]=="number",bue={linear:bs,easeIn:gue,easeInOut:FR,easeOut:xue,circIn:RS,circInOut:RR,circOut:LR,backIn:LS,backInOut:DR,backOut:_R,anticipate:IR},vue=t=>typeof t=="string",T6=t=>{if(VR(t)){_S(t.length===4);const[e,n,r,s]=t;return bf(e,n,r,s)}else if(vue(t))return bue[t];return t},dp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wue(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,f=!1,p=!1)=>{const x=p&&s?n:r;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const Nue=40;function zR(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=dp.reduce((j,M)=>(j[M]=wue(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:p,render:g,postRender:x}=a,v=()=>{const j=la.useManualTiming?s.timestamp:performance.now();n=!1,la.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,Nue),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),p.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},b=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:dp.reduce((j,M)=>{const C=a[M];return j[M]=(P,A=!1,E=!1)=>(n||b(),C.schedule(P,A,E)),j},{}),cancel:j=>{for(let M=0;M<dp.length;M++)a[dp[M]].cancel(j)},state:s,steps:a}}const{schedule:$t,cancel:po,state:Ln,steps:Rv}=zR(typeof requestAnimationFrame<"u"?requestAnimationFrame:bs,!0);let Hp;function Sue(){Hp=void 0}const Ar={now:()=>(Hp===void 0&&Ar.set(Ln.isProcessing||la.useManualTiming?Ln.timestamp:performance.now()),Hp),set:t=>{Hp=t,queueMicrotask(Sue)}},$R=t=>e=>typeof e=="string"&&e.startsWith(t),FS=$R("--"),jue=$R("var(--"),VS=t=>jue(t)?Cue.test(t.split("/*")[0].trim()):!1,Cue=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$h={...Cu,transform:t=>oa(0,1,t)},hp={...Cu,default:1},ch=t=>Math.round(t*1e5)/1e5,zS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kue(t){return t==null}const Tue=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$S=(t,e)=>n=>!!(typeof n=="string"&&Tue.test(n)&&n.startsWith(t)||e&&!kue(n)&&Object.prototype.hasOwnProperty.call(n,e)),BR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(zS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Eue=t=>oa(0,255,t),Fv={...Cu,transform:t=>Math.round(Eue(t))},ul={test:$S("rgb","red"),parse:BR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fv.transform(t)+", "+Fv.transform(e)+", "+Fv.transform(n)+", "+ch($h.transform(r))+")"};function Mue(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Q2={test:$S("#"),parse:Mue,transform:ul.transform},vf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),La=vf("deg"),ui=vf("%"),Ze=vf("px"),Pue=vf("vh"),Aue=vf("vw"),E6={...ui,parse:t=>ui.parse(t)/100,transform:t=>ui.transform(t*100)},Rc={test:$S("hsl","hue"),parse:BR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ui.transform(ch(e))+", "+ui.transform(ch(n))+", "+ch($h.transform(r))+")"},cn={test:t=>ul.test(t)||Q2.test(t)||Rc.test(t),parse:t=>ul.test(t)?ul.parse(t):Rc.test(t)?Rc.parse(t):Q2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ul.transform(t):Rc.transform(t),getAnimatableNone:t=>{const e=cn.parse(t);return e.alpha=0,cn.transform(e)}},Oue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _ue(t){return isNaN(t)&&typeof t=="string"&&(t.match(zS)?.length||0)+(t.match(Oue)?.length||0)>0}const HR="number",UR="color",Due="var",Iue="var(",M6="${}",Lue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(Lue,c=>(cn.test(c)?(r.color.push(i),s.push(UR),n.push(cn.parse(c))):c.startsWith(Iue)?(r.var.push(i),s.push(Due),n.push(c)):(r.number.push(i),s.push(HR),n.push(parseFloat(c))),++i,M6)).split(M6);return{values:n,split:l,indexes:r,types:s}}function WR(t){return Bh(t).values}function qR(t){const{split:e,types:n}=Bh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===HR?i+=ch(s[a]):l===UR?i+=cn.transform(s[a]):i+=s[a]}return i}}const Rue=t=>typeof t=="number"?0:cn.test(t)?cn.getAnimatableNone(t):t;function Fue(t){const e=WR(t);return qR(t)(e.map(Rue))}const go={test:_ue,parse:WR,createTransformer:qR,getAnimatableNone:Fue};function Vv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Vue({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=Vv(c,l,t+1/3),i=Vv(c,l,t),a=Vv(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function u0(t,e){return n=>n>0?e:t}const Wt=(t,e,n)=>t+(e-t)*n,zv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},zue=[Q2,ul,Rc],$ue=t=>zue.find(e=>e.test(t));function P6(t){const e=$ue(t);if(!e)return!1;let n=e.parse(t);return e===Rc&&(n=Vue(n)),n}const A6=(t,e)=>{const n=P6(t),r=P6(e);if(!n||!r)return u0(t,e);const s={...n};return i=>(s.red=zv(n.red,r.red,i),s.green=zv(n.green,r.green,i),s.blue=zv(n.blue,r.blue,i),s.alpha=Wt(n.alpha,r.alpha,i),ul.transform(s))},J2=new Set(["none","hidden"]);function Bue(t,e){return J2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Hue(t,e){return n=>Wt(t,e,n)}function BS(t){return typeof t=="number"?Hue:typeof t=="string"?VS(t)?u0:cn.test(t)?A6:que:Array.isArray(t)?KR:typeof t=="object"?cn.test(t)?A6:Uue:u0}function KR(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>BS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Uue(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=BS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Wue(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const que=(t,e)=>{const n=go.createTransformer(e),r=Bh(t),s=Bh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?J2.has(t)&&!s.values.length||J2.has(e)&&!r.values.length?Bue(t,e):yf(KR(Wue(r,s),s.values),n):u0(t,e)};function GR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):BS(t)(t,e)}const Kue=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$t.update(e,n),stop:()=>po(e),now:()=>Ln.isProcessing?Ln.timestamp:Ar.now()}},YR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},d0=2e4;function HS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<d0;)e+=n,r=t.next(e);return e>=d0?1/0:e}function Gue(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(HS(r),d0);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:gs(s)}}const Yue=5;function XR(t,e,n){const r=Math.max(e-Yue,0);return MR(n-t(r),e-r)}const Gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$v=.001;function Xue({duration:t=Gt.duration,bounce:e=Gt.bounce,velocity:n=Gt.velocity,mass:r=Gt.mass}){let s,i,a=1-e;a=oa(Gt.minDamping,Gt.maxDamping,a),t=oa(Gt.minDuration,Gt.maxDuration,gs(t)),a<1?(s=u=>{const d=u*a,f=d*t,p=d-n,g=Z2(u,a),x=Math.exp(-f);return $v-p/g*x},i=u=>{const f=u*a*t,p=f*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-f),v=Z2(Math.pow(u,2),a);return(-s(u)+$v>0?-1:1)*((p-g)*x)/v}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-$v+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=Jue(s,i,l);if(t=ci(t),isNaN(c))return{stiffness:Gt.stiffness,damping:Gt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Que=12;function Jue(t,e,n){let r=n;for(let s=1;s<Que;s++)r=r-t(r)/e(r);return r}function Z2(t,e){return t*Math.sqrt(1-e*e)}const Zue=["duration","bounce"],ede=["stiffness","damping","mass"];function O6(t,e){return e.some(n=>t[n]!==void 0)}function tde(t){let e={velocity:Gt.velocity,stiffness:Gt.stiffness,damping:Gt.damping,mass:Gt.mass,isResolvedFromDuration:!1,...t};if(!O6(t,ede)&&O6(t,Zue))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*oa(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Gt.mass,stiffness:s,damping:i}}else{const n=Xue(t);e={...e,...n,mass:Gt.mass},e.isResolvedFromDuration=!0}return e}function h0(t=Gt.visualDuration,e=Gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=tde({...n,velocity:-gs(n.velocity||0)}),x=p||0,v=u/(2*Math.sqrt(c*d)),b=a-i,w=gs(Math.sqrt(c/d)),S=Math.abs(b)<5;r||(r=S?Gt.restSpeed.granular:Gt.restSpeed.default),s||(s=S?Gt.restDelta.granular:Gt.restDelta.default);let j;if(v<1){const C=Z2(w,v);j=P=>{const A=Math.exp(-v*w*P);return a-A*((x+v*w*b)/C*Math.sin(C*P)+b*Math.cos(C*P))}}else if(v===1)j=C=>a-Math.exp(-w*C)*(b+(x+w*b)*C);else{const C=w*Math.sqrt(v*v-1);j=P=>{const A=Math.exp(-v*w*P),E=Math.min(C*P,300);return a-A*((x+v*w*b)*Math.sinh(E)+C*b*Math.cosh(E))/C}}const M={calculatedDuration:g&&f||null,next:C=>{const P=j(C);if(g)l.done=C>=f;else{let A=C===0?x:0;v<1&&(A=C===0?ci(x):XR(j,C,P));const E=Math.abs(A)<=r,D=Math.abs(a-P)<=s;l.done=E&&D}return l.value=l.done?a:P,l},toString:()=>{const C=Math.min(HS(M),d0),P=YR(A=>M.next(C*A).value,C,30);return C+"ms "+P},toTransition:()=>{}};return M}h0.applyToOptions=t=>{const e=Gue(t,100,h0);return t.ease=e.ease,t.duration=ci(e.duration),t.type="keyframes",t};function ew({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let v=n*e;const b=f+v,w=a===void 0?b:a(b);w!==b&&(v=w-f);const S=E=>-v*Math.exp(-E/r),j=E=>w+S(E),M=E=>{const D=S(E),L=j(E);p.done=Math.abs(D)<=u,p.value=p.done?w:L};let C,P;const A=E=>{g(p.value)&&(C=E,P=h0({keyframes:[p.value,x(p.value)],velocity:XR(j,E,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:E=>{let D=!1;return!P&&C===void 0&&(D=!0,M(E),A(E)),C!==void 0&&E>=C?P.next(E-C):(!D&&M(E),p)}}}function nde(t,e,n){const r=[],s=n||la.mix||GR,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||bs:e;l=yf(c,l)}r.push(l)}return r}function rde(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(_S(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=nde(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=zh(t[f],t[f+1],d);return l[f](p)};return n?d=>u(oa(t[0],t[i-1],d)):u}function sde(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=zh(0,e,r);t.push(Wt(n,1,s))}}function ide(t){const e=[0];return sde(e,t.length-1),e}function ade(t,e){return t.map(n=>n*e)}function ode(t,e){return t.map(()=>e||FR).splice(0,t.length-1)}function uh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=yue(r)?r.map(T6):T6(r),i={done:!1,value:e[0]},a=ade(n&&n.length===e.length?n:ide(e),t),l=rde(a,e,{ease:Array.isArray(s)?s:ode(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const lde=t=>t!==null;function US(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(lde),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const cde={decay:ew,inertia:ew,tween:uh,keyframes:uh,spring:h0};function QR(t){typeof t.type=="string"&&(t.type=cde[t.type])}class WS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ude=t=>t/100;class qS extends WS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ar.now()&&this.tick(Ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QR(e);const{type:n=uh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const c=n||uh;c!==uh&&typeof l[0]!="number"&&(this.mixKeyframes=yf(ude,GR(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=HS(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,M=r;if(f){const E=Math.min(this.currentTime,s)/l;let D=Math.floor(E),L=E%1;!L&&E>=1&&(L=1),L===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(p==="reverse"?(L=1-L,g&&(L-=g/l)):p==="mirror"&&(M=a)),j=oa(0,1,L)*l}const C=S?{done:!1,value:d[0]}:M.next(j);i&&(C.value=i(C.value));let{done:P}=C;!S&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return A&&x!==ew&&(C.value=US(d,this.options,b,this.speed)),v&&v(C.value),A&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return gs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(this.currentTime)}set time(e){e=ci(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ar.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Kue,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function dde(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const dl=t=>t*180/Math.PI,tw=t=>{const e=dl(Math.atan2(t[1],t[0]));return nw(e)},hde={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tw,rotateZ:tw,skewX:t=>dl(Math.atan(t[1])),skewY:t=>dl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nw=t=>(t=t%360,t<0&&(t+=360),t),_6=tw,D6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),I6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fde={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:D6,scaleY:I6,scale:t=>(D6(t)+I6(t))/2,rotateX:t=>nw(dl(Math.atan2(t[6],t[5]))),rotateY:t=>nw(dl(Math.atan2(-t[2],t[0]))),rotateZ:_6,rotate:_6,skewX:t=>dl(Math.atan(t[4])),skewY:t=>dl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rw(t){return t.includes("scale")?1:0}function sw(t,e){if(!t||t==="none")return rw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=fde,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=hde,s=l}if(!s)return rw(e);const i=r[e],a=s[1].split(",").map(pde);return typeof i=="function"?i(a):a[i]}const mde=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sw(n,e)};function pde(t){return parseFloat(t.trim())}const ku=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tu=new Set(ku),L6=t=>t===Cu||t===Ze,gde=new Set(["x","y","z"]),xde=ku.filter(t=>!gde.has(t));function yde(t){const e=[];return xde.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sw(e,"x"),y:(t,{transform:e})=>sw(e,"y")};wl.translateX=wl.x;wl.translateY=wl.y;const Nl=new Set;let iw=!1,aw=!1,ow=!1;function JR(){if(aw){const t=Array.from(Nl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=yde(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aw=!1,iw=!1,Nl.forEach(t=>t.complete(ow)),Nl.clear()}function ZR(){Nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(aw=!0)})}function bde(){ow=!0,ZR(),JR(),ow=!1}class KS{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),iw||(iw=!0,$t.read(ZR),$t.resolveKeyframes(JR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}dde(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vde=t=>t.startsWith("--");function wde(t,e,n){vde(e)?t.style.setProperty(e,n):t.style[e]=n}const Nde=DS(()=>window.ScrollTimeline!==void 0),Sde={};function jde(t,e){const n=DS(t);return()=>Sde[e]??n()}const e8=jde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,R6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bd([0,.65,.55,1]),circOut:Bd([.55,0,1,.45]),backIn:Bd([.31,.01,.66,-.59]),backOut:Bd([.33,1.53,.69,.99])};function t8(t,e){if(t)return typeof t=="function"?e8()?YR(t,e):"ease-out":VR(t)?Bd(t):Array.isArray(t)?t.map(n=>t8(n,e)||R6.easeOut):R6[t]}function Cde(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const f=t8(l,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(d,p)}function n8(t){return typeof t=="function"&&"applyToOptions"in t}function kde({type:t,...e}){return n8(t)&&e8()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Tde extends WS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,_S(typeof e.type!="string");const u=kde(e);this.animation=Cde(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=US(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):wde(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ci(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Nde()?(this.animation.timeline=e,bs):n(this)}}const r8={anticipate:IR,backInOut:DR,circInOut:RR};function Ede(t){return t in r8}function Mde(t){typeof t.ease=="string"&&Ede(t.ease)&&(t.ease=r8[t.ease])}const F6=10;class Pde extends Tde{constructor(e){Mde(e),QR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new qS({...a,autoplay:!1}),c=ci(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-F6).value,l.sample(c).value,F6),l.stop()}}const V6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(go.test(t)||t==="0")&&!t.startsWith("url("));function Ade(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ode(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=V6(s,e),l=V6(i,e);return!a||!l?!1:Ade(t)||(n==="spring"||n8(n))&&r}function lw(t){t.duration=0,t.type="keyframes"}const _de=new Set(["opacity","clipPath","filter","transform"]),Dde=DS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ide(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return Dde()&&n&&_de.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const Lde=40;class Rde extends WS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ar.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...f},g=d?.KeyframeResolver||KS;this.keyframeResolver=new g(l,(x,v,b)=>this.onKeyframesResolved(x,v,p,!b),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ar.now(),Ode(e,i,a,l)||((la.instantAnimations||!c)&&d?.(US(e,r,n)),e[0]=e[e.length-1],lw(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Lde?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!u&&Ide(p)?new Pde({...p,element:p.motionValue.owner.current}):new qS(p);g.finished.then(()=>this.notifyFinished()).catch(bs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),bde()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Fde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vde(t){const e=Fde.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function s8(t,e,n=1){const[r,s]=Vde(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return kR(a)?parseFloat(a):a}return VS(s)?s8(s,e,n+1):s}function GS(t,e){return t?.[e]??t?.default??t}const i8=new Set(["width","height","top","left","right","bottom",...ku]),zde={test:t=>t==="auto",parse:t=>t},a8=t=>e=>e.test(t),o8=[Cu,Ze,ui,La,Aue,Pue,zde],z6=t=>o8.find(a8(t));function $de(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ER(t):!0}const Bde=new Set(["brightness","contrast","saturate","opacity"]);function Hde(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zS)||[];if(!r)return t;const s=n.replace(r,"");let i=Bde.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Ude=/\b([a-z-]*)\(.*?\)/gu,cw={...go,getAnimatableNone:t=>{const e=t.match(Ude);return e?e.map(Hde).join(" "):t}},$6={...Cu,transform:Math.round},Wde={rotate:La,rotateX:La,rotateY:La,rotateZ:La,scale:hp,scaleX:hp,scaleY:hp,scaleZ:hp,skew:La,skewX:La,skewY:La,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:$h,originX:E6,originY:E6,originZ:Ze},YS={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...Wde,zIndex:$6,fillOpacity:$h,strokeOpacity:$h,numOctaves:$6},qde={...YS,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:cw,WebkitFilter:cw},l8=t=>qde[t];function c8(t,e){let n=l8(t);return n!==cw&&(n=go),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Kde=new Set(["auto","none","0"]);function Gde(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Kde.has(i)&&Bh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=c8(n,s)}class Yde extends KS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),VS(u))){const d=s8(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!i8.has(r)||e.length!==2)return;const[s,i]=e,a=z6(s),l=z6(i);if(a!==l)if(L6(a)&&L6(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else wl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||$de(e[s]))&&r.push(s);r.length&&Gde(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=wl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Xde(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const u8=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function d8(t){return TR(t)&&"offsetHeight"in t}const B6=30,Qde=t=>!isNaN(parseFloat(t));class Jde{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Ar.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qde(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new IS);const r=this.events[e].add(n);return e==="change"?()=>{r(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>B6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B6);return MR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hu(t,e){return new Jde(t,e)}const{schedule:XS}=zR(queueMicrotask,!1),Ps={x:!1,y:!1};function h8(){return Ps.x||Ps.y}function Zde(t){return t==="x"||t==="y"?Ps[t]?null:(Ps[t]=!0,()=>{Ps[t]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function f8(t,e){const n=Xde(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function H6(t){return!(t.pointerType==="touch"||h8())}function ehe(t,e,n={}){const[r,s,i]=f8(t,n),a=l=>{if(!H6(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{H6(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const m8=(t,e)=>e?t===e?!0:m8(t,e.parentElement):!1,QS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,the=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nhe(t){return the.has(t.tagName)||t.tabIndex!==-1}const Up=new WeakSet;function U6(t){return e=>{e.key==="Enter"&&t(e)}}function Bv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rhe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=U6(()=>{if(Up.has(n))return;Bv(n,"down");const s=U6(()=>{Bv(n,"up")}),i=()=>Bv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function W6(t){return QS(t)&&!h8()}function she(t,e,n={}){const[r,s,i]=f8(t,n),a=l=>{const c=l.currentTarget;if(!W6(l))return;Up.add(c);const u=e(c,l),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Up.has(c)&&Up.delete(c),W6(g)&&typeof u=="function"&&u(g,{success:x})},f=g=>{d(g,c===window||c===document||n.useGlobalTarget||m8(c,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),d8(l)&&(l.addEventListener("focus",u=>rhe(u,s)),!nhe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function p8(t){return TR(t)&&"ownerSVGElement"in t}function ihe(t){return p8(t)&&t.tagName==="svg"}const er=t=>!!(t&&t.getVelocity),ahe=[...o8,cn,go],ohe=t=>ahe.find(a8(t)),JS=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function q6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lhe(...t){return e=>{let n=!1;const r=t.map(s=>{const i=q6(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():q6(t[s],null)}}}}function che(...t){return T.useCallback(lhe(...t),t)}class uhe extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=d8(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dhe({children:t,isPresent:e,anchorX:n,root:r}){const s=T.useId(),i=T.useRef(null),a=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=T.useContext(JS),c=che(i,t?.ref);return T.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p,right:g}=a.current;if(e||!i.current||!u||!d)return;const x=n==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[e]),o.jsx(uhe,{isPresent:e,childRef:i,sizeRef:a,children:T.cloneElement(t,{ref:c})})}const hhe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=MS(fhe),d=T.useId();let f=!0,p=T.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const x of u.values())if(!x)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&f&&(p={...p}),T.useMemo(()=>{u.forEach((g,x)=>u.set(x,!1))},[n]),T.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(dhe,{isPresent:n,anchorX:l,root:c,children:t})),o.jsx(vx.Provider,{value:p,children:t})};function fhe(){return new Map}function g8(t=!0){const e=T.useContext(vx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const fp=t=>t.key||"";function K6(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const x8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=g8(a),f=T.useMemo(()=>K6(t),[t]),p=a&&!u?[]:f.map(fp),g=T.useRef(!0),x=T.useRef(f),v=MS(()=>new Map),[b,w]=T.useState(f),[S,j]=T.useState(f);CR(()=>{g.current=!1,x.current=f;for(let P=0;P<S.length;P++){const A=fp(S[P]);p.includes(A)?v.delete(A):v.get(A)!==!0&&v.set(A,!1)}},[S,p.length,p.join("-")]);const M=[];if(f!==b){let P=[...f];for(let A=0;A<S.length;A++){const E=S[A],D=fp(E);p.includes(D)||(P.splice(A,0,E),M.push(E))}return i==="wait"&&M.length&&(P=M),j(K6(P)),w(f),null}const{forceRender:C}=T.useContext(ES);return o.jsx(o.Fragment,{children:S.map(P=>{const A=fp(P),E=a&&!u?!1:f===S||p.includes(A),D=()=>{if(v.has(A))v.set(A,!0);else return;let L=!0;v.forEach(_=>{_||(L=!1)}),L&&(C?.(),j(x.current),a&&d?.(),r&&r())};return o.jsx(hhe,{isPresent:E,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:E?void 0:D,anchorX:l,children:P},A)})})},y8=T.createContext({strict:!1}),G6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fu={};for(const t in G6)fu[t]={isEnabled:e=>G6[t].some(n=>!!e[n])};function mhe(t){for(const e in t)fu[e]={...fu[e],...t[e]}}const phe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function f0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||phe.has(t)}let b8=t=>!f0(t);function ghe(t){typeof t=="function"&&(b8=e=>e.startsWith("on")?!f0(e):t(e))}try{ghe(require("@emotion/is-prop-valid").default)}catch{}function xhe(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(b8(s)||n===!0&&f0(s)||!e&&!f0(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const wx=T.createContext({});function Nx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hh(t){return typeof t=="string"||Array.isArray(t)}const ZS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ej=["initial",...ZS];function Sx(t){return Nx(t.animate)||ej.some(e=>Hh(t[e]))}function v8(t){return!!(Sx(t)||t.variants)}function yhe(t,e){if(Sx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Hh(n)?n:void 0,animate:Hh(r)?r:void 0}}return t.inherit!==!1?e:{}}function bhe(t){const{initial:e,animate:n}=yhe(t,T.useContext(wx));return T.useMemo(()=>({initial:e,animate:n}),[Y6(e),Y6(n)])}function Y6(t){return Array.isArray(t)?t.join(" "):t}const Uh={};function vhe(t){for(const e in t)Uh[e]=t[e],FS(e)&&(Uh[e].isCSSVariable=!0)}function w8(t,{layout:e,layoutId:n}){return Tu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uh[t]||t==="opacity")}const whe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nhe=ku.length;function She(t,e,n){let r="",s=!0;for(let i=0;i<Nhe;i++){const a=ku[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=u8(l,YS[a]);if(!c){s=!1;const d=whe[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function tj(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Tu.has(c)){a=!0;continue}else if(FS(c)){s[c]=u;continue}else{const d=u8(u,YS[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=She(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const nj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N8(t,e,n){for(const r in e)!er(e[r])&&!w8(r,n)&&(t[r]=e[r])}function jhe({transformTemplate:t},e){return T.useMemo(()=>{const n=nj();return tj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Che(t,e){const n=t.style||{},r={};return N8(r,n,t),Object.assign(r,jhe(t,e)),r}function khe(t,e){const n={},r=Che(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const The={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ehe={offset:"strokeDashoffset",array:"strokeDasharray"};function Mhe(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?The:Ehe;t[i.offset]=Ze.transform(-r);const a=Ze.transform(e),l=Ze.transform(n);t[i.array]=`${a} ${l}`}function S8(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(tj(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&Mhe(f,s,i,a,!1)}const j8=()=>({...nj(),attrs:{}}),C8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Phe(t,e,n,r){const s=T.useMemo(()=>{const i=j8();return S8(i,e,C8(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};N8(i,t.style,t),s.style={...i,...s.style}}return s}const Ahe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rj(t){return typeof t!="string"||t.includes("-")?!1:!!(Ahe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ohe(t,e,n,{latestValues:r},s,i=!1){const l=(rj(t)?Phe:khe)(e,r,s,t),c=xhe(e,typeof t=="string",i),u=t!==T.Fragment?{...c,...l,ref:n}:{},{children:d}=e,f=T.useMemo(()=>er(d)?d.get():d,[d]);return T.createElement(t,{...u,children:f})}function X6(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sj(t,e,n,r){if(typeof e=="function"){const[s,i]=X6(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=X6(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Wp(t){return er(t)?t.get():t}function _he({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Dhe(n,r,s,t),renderState:e()}}function Dhe(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Wp(i[p]);let{initial:a,animate:l}=t;const c=Sx(t),u=v8(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Nx(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const x=sj(t,p[g]);if(x){const{transitionEnd:v,transition:b,...w}=x;for(const S in w){let j=w[S];if(Array.isArray(j)){const M=d?j.length-1:0;j=j[M]}j!==null&&(s[S]=j)}for(const S in v)s[S]=v[S]}}}return s}const k8=t=>(e,n)=>{const r=T.useContext(wx),s=T.useContext(vx),i=()=>_he(t,e,r,s);return n?i():MS(i)};function ij(t,e,n){const{style:r}=t,s={};for(const i in r)(er(r[i])||e.style&&er(e.style[i])||w8(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const Ihe=k8({scrapeMotionValuesFromProps:ij,createRenderState:nj});function T8(t,e,n){const r=ij(t,e,n);for(const s in t)if(er(t[s])||er(e[s])){const i=ku.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Lhe=k8({scrapeMotionValuesFromProps:T8,createRenderState:j8}),Rhe=Symbol.for("motionComponentSymbol");function Fc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Fhe(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Fc(n)&&(n.current=r))},[e])}const aj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Vhe="framerAppearId",E8="data-"+aj(Vhe),M8=T.createContext({});function zhe(t,e,n,r,s){const{visualElement:i}=T.useContext(wx),a=T.useContext(y8),l=T.useContext(vx),c=T.useContext(JS).reducedMotion,u=T.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=T.useContext(M8);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&$he(u.current,n,s,f);const p=T.useRef(!1);T.useInsertionEffect(()=>{d&&p.current&&d.update(n,l)});const g=n[E8],x=T.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return CR(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),d.enteringChildren=void 0)}),d}function $he(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:P8(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Fc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function P8(t){if(t)return t.options.allowProjection!==!1?t.projection:P8(t.parent)}function Hv(t,{forwardMotionProps:e=!1}={},n,r){n&&mhe(n);const s=rj(t)?Lhe:Ihe;function i(l,c){let u;const d={...T.useContext(JS),...l,layoutId:Bhe(l)},{isStatic:f}=d,p=bhe(l),g=s(l,f);if(!f&&PS){Hhe();const x=Uhe(d);u=x.MeasureLayout,p.visualElement=zhe(t,g,d,r,x.ProjectionNode)}return o.jsxs(wx.Provider,{value:p,children:[u&&p.visualElement?o.jsx(u,{visualElement:p.visualElement,...d}):null,Ohe(t,l,Fhe(g,p.visualElement,c),g,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=T.forwardRef(i);return a[Rhe]=t,a}function Bhe({layoutId:t}){const e=T.useContext(ES).id;return e&&t!==void 0?e+"-"+t:t}function Hhe(t,e){T.useContext(y8).strict}function Uhe(t){const{drag:e,layout:n}=fu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Whe(t,e){if(typeof Proxy>"u")return Hv;const n=new Map,r=(i,a)=>Hv(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Hv(a,void 0,t,e)),n.get(a))})}function A8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qhe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Khe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Uv(t){return t===void 0||t===1}function uw({scale:t,scaleX:e,scaleY:n}){return!Uv(t)||!Uv(e)||!Uv(n)}function el(t){return uw(t)||O8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function O8(t){return Q6(t.x)||Q6(t.y)}function Q6(t){return t&&t!=="0%"}function m0(t,e,n){const r=t-n,s=e*r;return n+s}function J6(t,e,n,r,s){return s!==void 0&&(t=m0(t,s,r)),m0(t,n,r)+e}function dw(t,e=0,n=1,r,s){t.min=J6(t.min,e,n,r,s),t.max=J6(t.max,e,n,r,s)}function _8(t,{x:e,y:n}){dw(t.x,e.translate,e.scale,e.originPoint),dw(t.y,n.translate,n.scale,n.originPoint)}const Z6=.999999999999,eM=1.0000000000001;function Ghe(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,_8(t,a)),r&&el(i.latestValues)&&zc(t,i.latestValues))}e.x<eM&&e.x>Z6&&(e.x=1),e.y<eM&&e.y>Z6&&(e.y=1)}function Vc(t,e){t.min=t.min+e,t.max=t.max+e}function tM(t,e,n,r,s=.5){const i=Wt(t.min,t.max,s);dw(t,e,n,i,r)}function zc(t,e){tM(t.x,e.x,e.scaleX,e.scale,e.originX),tM(t.y,e.y,e.scaleY,e.scale,e.originY)}function D8(t,e){return A8(Khe(t.getBoundingClientRect(),e))}function Yhe(t,e,n){const r=D8(t,n),{scroll:s}=e;return s&&(Vc(r.x,s.offset.x),Vc(r.y,s.offset.y)),r}const nM=()=>({translate:0,scale:1,origin:0,originPoint:0}),$c=()=>({x:nM(),y:nM()}),rM=()=>({min:0,max:0}),rn=()=>({x:rM(),y:rM()}),hw={current:null},I8={current:!1};function Xhe(){if(I8.current=!0,!!PS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hw.current=t.matches;t.addEventListener("change",e),e()}else hw.current=!1}const Qhe=new WeakMap;function Jhe(t,e,n){for(const r in e){const s=e[r],i=n[r];if(er(s))t.addValue(r,s);else if(er(i))t.addValue(r,hu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,hu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const sM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zhe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ar.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,$t.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Sx(n),this.isVariantNode=v8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];c[p]!==void 0&&er(g)&&g.set(c[p])}}mount(e){this.current=e,Qhe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),I8.current||Xhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),po(this.notifyUpdate),po(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Tu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$t.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fu){const n=fu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sM.length;r++){const s=sM[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Jhe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(kR(r)||ER(r))?r=parseFloat(r):!ohe(r)&&go.test(n)&&(r=c8(e,n)),this.setBaseTarget(e,er(r)?r.get():r)),er(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=sj(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!er(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new IS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){XS.render(this.render)}}class L8 extends Zhe{constructor(){super(...arguments),this.KeyframeResolver=Yde}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;er(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function R8(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function efe(t){return window.getComputedStyle(t)}class tfe extends L8{constructor(){super(...arguments),this.type="html",this.renderInstance=R8}readValueFromInstance(e,n){if(Tu.has(n))return this.projection?.isProjecting?rw(n):mde(e,n);{const r=efe(e),s=(FS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return D8(e,n)}build(e,n,r){tj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ij(e,n,r)}}const F8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nfe(t,e,n,r){R8(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(F8.has(s)?s:aj(s),e.attrs[s])}class rfe extends L8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tu.has(n)){const r=l8(n);return r&&r.default||0}return n=F8.has(n)?n:aj(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return T8(e,n,r)}build(e,n,r){S8(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){nfe(e,n,r,s)}mount(e){this.isSVGTag=C8(e.tagName),super.mount(e)}}const sfe=(t,e)=>rj(t)?new rfe(e):new tfe(e,{allowProjection:t!==T.Fragment});function Yc(t,e,n){const r=t.getProps();return sj(r,e,n!==void 0?n:r.custom,t)}const fw=t=>Array.isArray(t);function ife(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hu(n))}function afe(t){return fw(t)?t[t.length-1]||0:t}function ofe(t,e){const n=Yc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=afe(i[a]);ife(t,a,l)}}function lfe(t){return!!(er(t)&&t.add)}function mw(t,e){const n=t.getValue("willChange");if(lfe(n))return n.add(e);if(!n&&la.WillChange){const r=new la.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function V8(t){return t.props[E8]}const cfe=t=>t!==null;function ufe(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(cfe),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const dfe={type:"spring",stiffness:500,damping:25,restSpeed:10},hfe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ffe={type:"keyframes",duration:.8},mfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pfe=(t,{keyframes:e})=>e.length>2?ffe:Tu.has(t)?t.startsWith("scale")?hfe(e[1]):dfe:mfe;function gfe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const oj=(t,e,n,r={},s,i)=>a=>{const l=GS(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ci(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};gfe(l)||Object.assign(d,pfe(t,d)),d.duration&&(d.duration=ci(d.duration)),d.repeatDelay&&(d.repeatDelay=ci(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(lw(d),d.delay===0&&(f=!0)),(la.instantAnimations||la.skipAnimations)&&(f=!0,lw(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const p=ufe(d.keyframes,l);if(p!==void 0){$t.update(()=>{d.onUpdate(p),d.onComplete()});return}}return l.isSync?new qS(d):new Rde(d)};function xfe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function z8(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),p=l[d];if(p===void 0||u&&xfe(u,d))continue;const g={delay:n,...GS(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=V8(t);if(w){const S=window.MotionHandoffAnimation(w,d,$t);S!==null&&(g.startTime=S,v=!0)}}mw(t,d),f.start(oj(d,f,p,t.shouldReduceMotion&&i8.has(d)?{type:!1}:g,t,v));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{$t.update(()=>{a&&ofe(t,a)})}),c}function $8(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:l-i*r}function pw(t,e,n={}){const r=Yc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(z8(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return yfe(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function yfe(t,e,n=0,r=0,s=0,i=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(pw(c,e,{...a,delay:n+(typeof r=="function"?0:r)+$8(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function bfe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>pw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=pw(t,e,n);else{const s=typeof e=="function"?Yc(t,e,n.custom):e;r=Promise.all(z8(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function B8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vfe=ej.length;function H8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?H8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vfe;n++){const r=ej[n],s=t.props[r];(Hh(s)||s===!1)&&(e[r]=s)}return e}const wfe=[...ZS].reverse(),Nfe=ZS.length;function Sfe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>bfe(t,n,r)))}function jfe(t){let e=Sfe(t),n=iM(),r=!0;const s=c=>(u,d)=>{const f=Yc(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=H8(t.parent)||{},f=[],p=new Set;let g={},x=1/0;for(let b=0;b<Nfe;b++){const w=wfe[b],S=n[w],j=u[w]!==void 0?u[w]:d[w],M=Hh(j),C=w===c?S.isActive:null;C===!1&&(x=b);let P=j===d[w]&&j!==u[w]&&M;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),S.protectedKeys={...g},!S.isActive&&C===null||!j&&!S.prevProp||Nx(j)||typeof j=="boolean")continue;const A=Cfe(S.prevProp,j);let E=A||w===c&&S.isActive&&!P&&M||b>x&&M,D=!1;const L=Array.isArray(j)?j:[j];let _=L.reduce(s(w),{});C===!1&&(_={});const{prevResolvedValues:V={}}=S,G={...V,..._},H=$=>{E=!0,p.has($)&&(D=!0,p.delete($)),S.needsAnimating[$]=!0;const z=t.getValue($);z&&(z.liveStyle=!1)};for(const $ in G){const z=_[$],K=V[$];if(g.hasOwnProperty($))continue;let X=!1;fw(z)&&fw(K)?X=!B8(z,K):X=z!==K,X?z!=null?H($):p.add($):z!==void 0&&p.has($)?H($):S.protectedKeys[$]=!0}S.prevProp=j,S.prevResolvedValues=_,S.isActive&&(g={...g,..._}),r&&t.blockInitialAnimation&&(E=!1);const W=P&&A;E&&(!W||D)&&f.push(...L.map($=>{const z={type:w};if(typeof $=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,X=Yc(K,$);if(K.enteringChildren&&X){const{delayChildren:B}=X.transition||{};z.delay=$8(K.enteringChildren,t,B)}}return{animation:$,options:z}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const w=Yc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const S=t.getBaseTarget(w),j=t.getValue(w);j&&(j.liveStyle=!0),b[w]=S??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function l(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=iM()}}}function Cfe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!B8(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iM(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class Co{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kfe extends Co{constructor(e){super(e),e.animationState||(e.animationState=jfe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Tfe=0;class Efe extends Co{constructor(){super(...arguments),this.id=Tfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Mfe={animation:{Feature:kfe},exit:{Feature:Efe}};function Wh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wf(t){return{point:{x:t.pageX,y:t.pageY}}}const Pfe=t=>e=>QS(e)&&t(e,wf(e));function dh(t,e,n,r){return Wh(t,e,Pfe(n),r)}const U8=1e-4,Afe=1-U8,Ofe=1+U8,W8=.01,_fe=0-W8,Dfe=0+W8;function hr(t){return t.max-t.min}function Ife(t,e,n){return Math.abs(t-e)<=n}function aM(t,e,n,r=.5){t.origin=r,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Afe&&t.scale<=Ofe||isNaN(t.scale))&&(t.scale=1),(t.translate>=_fe&&t.translate<=Dfe||isNaN(t.translate))&&(t.translate=0)}function hh(t,e,n,r){aM(t.x,e.x,n.x,r?r.originX:void 0),aM(t.y,e.y,n.y,r?r.originY:void 0)}function oM(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function Lfe(t,e,n){oM(t.x,e.x,n.x),oM(t.y,e.y,n.y)}function lM(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function fh(t,e,n){lM(t.x,e.x,n.x),lM(t.y,e.y,n.y)}function ds(t){return[t("x"),t("y")]}const q8=({current:t})=>t?t.ownerDocument.defaultView:null,cM=(t,e)=>Math.abs(t-e);function Rfe(t,e){const n=cM(t.x,e.x),r=cM(t.y,e.y);return Math.sqrt(n**2+r**2)}class K8{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=qv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=Rfe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=p,{timestamp:b}=Ln;this.history.push({...v,timestamp:b});const{onStart:w,onMove:S}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Wv(g,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=qv(p.type==="pointercancel"?this.lastMoveEventInfo:Wv(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,w),v&&v(p,w)},!QS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=wf(e),c=Wv(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ln;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,qv(c,this.history)),this.removeListeners=yf(dh(this.contextWindow,"pointermove",this.handlePointerMove),dh(this.contextWindow,"pointerup",this.handlePointerUp),dh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),po(this.updatePoint)}}function Wv(t,e){return e?{point:e(t.point)}:t}function uM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qv({point:t},e){return{point:t,delta:uM(t,G8(e)),offset:uM(t,Ffe(e)),velocity:Vfe(e,.1)}}function Ffe(t){return t[0]}function G8(t){return t[t.length-1]}function Vfe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=G8(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ci(e)));)n--;if(!r)return{x:0,y:0};const i=gs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function zfe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Wt(n,t,r.max):Math.min(t,n)),t}function dM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $fe(t,{top:e,left:n,bottom:r,right:s}){return{x:dM(t.x,n,s),y:dM(t.y,e,r)}}function hM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Bfe(t,e){return{x:hM(t.x,e.x),y:hM(t.y,e.y)}}function Hfe(t,e){let n=.5;const r=hr(t),s=hr(e);return s>r?n=zh(e.min,e.max-r,t.min):r>s&&(n=zh(t.min,t.max-s,e.min)),oa(0,1,n)}function Ufe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gw=.35;function Wfe(t=gw){return t===!1?t=0:t===!0&&(t=gw),{x:fM(t,"left","right"),y:fM(t,"top","bottom")}}function fM(t,e,n){return{min:mM(t,e),max:mM(t,n)}}function mM(t,e){return typeof t=="number"?t:t[e]||0}const qfe=new WeakMap;class Kfe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wf(f).point)},a=(f,p)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zde(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(w=>{let S=this.getAxisMotionValue(w).get()||0;if(ui.test(S)){const{projection:j}=this.visualElement;if(j&&j.layout){const M=j.layout.layoutBox[w];M&&(S=hr(M)*(parseFloat(S)/100))}}this.originPoint[w]=S}),v&&$t.postRender(()=>v(f,p)),mw(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(x&&this.currentDirection===null){this.currentDirection=Gfe(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ds(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new K8(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:q8(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&$t.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!mp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=zfe(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Fc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$fe(r.layoutBox,e):this.constraints=!1,this.elastic=Wfe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ds(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Ufe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Yhe(r,s.root,this.visualElement.getTransformPagePoint());let a=Bfe(s.layout.layoutBox,i);if(n){const l=n(qhe(a));this.hasMutatedConstraints=!!l,l&&(a=A8(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ds(d=>{if(!mp(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return mw(this.visualElement,e),r.start(oj(e,r,0,n,this.visualElement,!1))}stopAnimation(){ds(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ds(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ds(n=>{const{drag:r}=this.getProps();if(!mp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-Wt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ds(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=Hfe({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ds(a=>{if(!mp(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Wt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;qfe.set(this.visualElement,this);const e=this.visualElement.current,n=dh(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Fc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$t.read(r);const a=Wh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ds(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=gw,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function mp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Gfe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Yfe extends Co{constructor(e){super(e),this.removeGroupControls=bs,this.removeListeners=bs,this.controls=new Kfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bs}unmount(){this.removeGroupControls(),this.removeListeners()}}const pM=t=>(e,n)=>{t&&$t.postRender(()=>t(e,n))};class Xfe extends Co{constructor(){super(...arguments),this.removePointerDownListener=bs}onPointerDown(e){this.session=new K8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:pM(e),onStart:pM(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&$t.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=dh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ed={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const n=gM(t,e.target.x),r=gM(t,e.target.y);return`${n}% ${r}%`}},Qfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=go.parse(t);if(s.length>5)return r;const i=go.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=Wt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let Kv=!1;class Jfe extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;vhe(Zfe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Kv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,Kv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||$t.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),XS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Kv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y8(t){const[e,n]=g8(),r=T.useContext(ES);return o.jsx(Jfe,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(M8),isPresent:e,safeToRemove:n})}const Zfe={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:Qfe};function eme(t,e,n){const r=er(t)?t:hu(t);return r.start(oj("",r,e,n)),r.animation}const tme=(t,e)=>t.depth-e.depth;class nme{constructor(){this.children=[],this.isDirty=!1}add(e){AS(this.children,e),this.isDirty=!0}remove(e){OS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tme),this.isDirty=!1,this.children.forEach(e)}}function rme(t,e){const n=Ar.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(po(r),t(i-e))};return $t.setup(r,!0),()=>po(r)}const X8=["TopLeft","TopRight","BottomLeft","BottomRight"],sme=X8.length,xM=t=>typeof t=="string"?parseFloat(t):t,yM=t=>typeof t=="number"||Ze.test(t);function ime(t,e,n,r,s,i){s?(t.opacity=Wt(0,n.opacity??1,ame(r)),t.opacityExit=Wt(e.opacity??1,0,ome(r))):i&&(t.opacity=Wt(e.opacity??1,n.opacity??1,r));for(let a=0;a<sme;a++){const l=`border${X8[a]}Radius`;let c=bM(e,l),u=bM(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||yM(c)===yM(u)?(t[l]=Math.max(Wt(xM(c),xM(u),r),0),(ui.test(u)||ui.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,r))}function bM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ame=Q8(0,.5,LR),ome=Q8(.5,.95,bs);function Q8(t,e,n){return r=>r<t?0:r>e?1:n(zh(t,e,r))}function vM(t,e){t.min=e.min,t.max=e.max}function cs(t,e){vM(t.x,e.x),vM(t.y,e.y)}function wM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function NM(t,e,n,r,s){return t-=e,t=m0(t,1/n,r),s!==void 0&&(t=m0(t,1/s,r)),t}function lme(t,e=0,n=1,r=.5,s,i=t,a=t){if(ui.test(e)&&(e=parseFloat(e),e=Wt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Wt(i.min,i.max,r);t===i&&(l-=e),t.min=NM(t.min,e,n,l,s),t.max=NM(t.max,e,n,l,s)}function SM(t,e,[n,r,s],i,a){lme(t,e[n],e[r],e[s],e.scale,i,a)}const cme=["x","scaleX","originX"],ume=["y","scaleY","originY"];function jM(t,e,n,r){SM(t.x,e,cme,n?n.x:void 0,r?r.x:void 0),SM(t.y,e,ume,n?n.y:void 0,r?r.y:void 0)}function CM(t){return t.translate===0&&t.scale===1}function J8(t){return CM(t.x)&&CM(t.y)}function kM(t,e){return t.min===e.min&&t.max===e.max}function dme(t,e){return kM(t.x,e.x)&&kM(t.y,e.y)}function TM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Z8(t,e){return TM(t.x,e.x)&&TM(t.y,e.y)}function EM(t){return hr(t.x)/hr(t.y)}function MM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hme{constructor(){this.members=[]}add(e){AS(this.members,e),e.scheduleRender()}remove(e){if(OS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fme(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Gv=["","X","Y","Z"],mme=1e3;let pme=0;function Yv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function eF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=V8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$t,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&eF(r)}function tF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=pme++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yme),this.nodes.forEach(Nme),this.nodes.forEach(Sme),this.nodes.forEach(bme)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new nme)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new IS),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=p8(a)&&!ihe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{f=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=rme(p,250),qp.hasAnimatedSinceResize&&(qp.hasAnimatedSinceResize=!1,this.nodes.forEach(OM)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Eme,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!Z8(this.targetLayout,g),S=!f&&p;if(this.options.layoutRoot||this.resumeFrom||S||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...GS(x,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,S)}else f||OM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jme),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wme),this.nodes.forEach(gme),this.nodes.forEach(xme)):this.nodes.forEach(AM),this.clearAllSnapshots();const l=Ar.now();Ln.delta=oa(0,1e3/60,l-Ln.timestamp),Ln.timestamp=l,Ln.isProcessing=!0,Rv.update.process(Ln),Rv.preRender.process(Ln),Rv.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vme),this.sharedNodes.forEach(Cme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!J8(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||el(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Mme(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return rn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Pme))){const{scroll:u}=this.root;u&&(Vc(l.x,u.offset.x),Vc(l.y,u.offset.y))}return l}removeElementScroll(a){const l=rn();if(cs(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&cs(l,a),Vc(l.x,d.offset.x),Vc(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const c=rn();cs(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),el(d.latestValues)&&zc(c,d.latestValues)}return el(this.latestValues)&&zc(c,this.latestValues),c}removeTransform(a){const l=rn();cs(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!el(u.latestValues))continue;uw(u.latestValues)&&u.updateSnapshot();const d=rn(),f=u.measurePageBox();cs(d,f),jM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return el(this.latestValues)&&jM(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),fh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),_8(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),fh(this.relativeTargetOrigin,this.target,p.target),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uw(this.parent.latestValues)||O8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;cs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Ghe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wM(this.prevProjectionDelta.x,this.projectionDelta.x),wM(this.prevProjectionDelta.y,this.projectionDelta.y)),hh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!MM(this.projectionDelta.x,this.prevProjectionDelta.x)||!MM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$c(),this.projectionDelta=$c(),this.projectionDeltaWithTransform=$c()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=$c();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=rn(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,b=this.getStack(),w=!b||b.members.length<=1,S=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(Tme));this.animationProgress=0;let j;this.mixTargetDelta=M=>{const C=M/1e3;_M(f.x,a.x,C),_M(f.y,a.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kme(this.relativeTarget,this.relativeTargetOrigin,p,C),j&&dme(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=rn()),cs(j,this.relativeTarget)),v&&(this.animationValues=d,ime(d,u,this.latestValues,C,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{qp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hu(0)),this.currentAnimation=eme(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mme),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&nF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rn();const f=hr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=hr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}cs(l,c),zc(l,d),hh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new hme),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Yv("z",a,u,this.animationValues);for(let d=0;d<Gv.length;d++)Yv(`rotate${Gv[d]}`,a,u,this.animationValues),Yv(`skew${Gv[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Wp(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Wp(l?.pointerEvents)||""),this.hasProjected&&!el(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=fme(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Uh){if(d[x]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=Uh[x],S=f==="none"?d[x]:v(d[x],u);if(b){const j=b.length;for(let M=0;M<j;M++)a[b[M]]=S}else w?this.options.visualElement.renderState.vars[x]=S:a[x]=S}this.options.layoutId&&(a.pointerEvents=u===this?Wp(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(PM),this.root.sharedNodes.clear()}}}function gme(t){t.updateLayout()}function xme(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?ds(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=hr(f);f.min=n[d].min,f.max=f.min+p}):nF(s,e.layoutBox,n)&&ds(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=hr(n[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=$c();hh(a,n,e.layoutBox);const l=$c();i?hh(l,t.applyTransform(r,!0),e.measuredBox):hh(l,n,e.layoutBox);const c=!J8(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=rn();fh(g,e.layoutBox,f.layoutBox);const x=rn();fh(x,n,p.layoutBox),Z8(g,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function yme(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bme(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vme(t){t.clearSnapshot()}function PM(t){t.clearMeasurements()}function AM(t){t.isLayoutDirty=!1}function wme(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Nme(t){t.resolveTargetDelta()}function Sme(t){t.calcProjection()}function jme(t){t.resetSkewAndRotation()}function Cme(t){t.removeLeadSnapshot()}function _M(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function DM(t,e,n,r){t.min=Wt(e.min,n.min,r),t.max=Wt(e.max,n.max,r)}function kme(t,e,n,r){DM(t.x,e.x,n.x,r),DM(t.y,e.y,n.y,r)}function Tme(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eme={duration:.45,ease:[.4,0,.1,1]},IM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),LM=IM("applewebkit/")&&!IM("chrome/")?Math.round:bs;function RM(t){t.min=LM(t.min),t.max=LM(t.max)}function Mme(t){RM(t.x),RM(t.y)}function nF(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ife(EM(e),EM(n),.2)}function Pme(t){return t!==t.root&&t.scroll?.wasRoot}const Ame=tF({attachResizeListener:(t,e)=>Wh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xv={current:void 0},rF=tF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xv.current){const t=new Ame({});t.mount(window),t.setOptions({layoutScroll:!0}),Xv.current=t}return Xv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ome={pan:{Feature:Xfe},drag:{Feature:Yfe,ProjectionNode:rF,MeasureLayout:Y8}};function FM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&$t.postRender(()=>i(e,wf(e)))}class _me extends Co{mount(){const{current:e}=this.node;e&&(this.unmount=ehe(e,(n,r)=>(FM(this.node,r,"Start"),s=>FM(this.node,s,"End"))))}unmount(){}}class Dme extends Co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yf(Wh(this.node.current,"focus",()=>this.onFocus()),Wh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&$t.postRender(()=>i(e,wf(e)))}class Ime extends Co{mount(){const{current:e}=this.node;e&&(this.unmount=she(e,(n,r)=>(VM(this.node,r,"Start"),(s,{success:i})=>VM(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xw=new WeakMap,Qv=new WeakMap,Lme=t=>{const e=xw.get(t.target);e&&e(t)},Rme=t=>{t.forEach(Lme)};function Fme({root:t,...e}){const n=t||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Rme,{root:t,...e})),r[s]}function Vme(t,e,n){const r=Fme(e);return xw.set(t,n),r.observe(t),()=>{xw.delete(t),r.unobserve(t)}}const zme={some:0,all:1};class $me extends Co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:zme[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return Vme(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Bme(e,n))&&this.startObserver()}unmount(){}}function Bme({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hme={inView:{Feature:$me},tap:{Feature:Ime},focus:{Feature:Dme},hover:{Feature:_me}},Ume={layout:{ProjectionNode:rF,MeasureLayout:Y8}},Wme={...Mfe,...Hme,...Ome,...Ume},zM=Whe(Wme,sfe);function bt({children:t,open:e,className:n,duration:r,onClose:s}){return T.useEffect(()=>{if(e&&r&&s){const i=setTimeout(()=>{s()},r);return()=>clearTimeout(i)}},[e,r,s]),o.jsx(x8,{mode:"wait",children:e&&o.jsx(zM.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#3e3e3e95] z-[999]",onClick:s,children:o.jsx(zM.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.25},className:`${n}`,onClick:i=>i.stopPropagation(),children:t},"modal-content")},"modal-overlay")})}function qme({openAddSizeColor:t,setOpenAddSizeColor:e,onSuccess:n}){const[r,s]=T.useState(!1),[i,a]=T.useState(""),[l,c]=T.useState("cloth"),[u,d]=T.useState(""),[f,p]=T.useState("#000000"),g=t.node==="size",x=async()=>{if(g){if(!i.trim()){de.error("Vui lng nhp tn size!");return}}else if(!u.trim()){de.error("Vui lng nhp tn mu!");return}s(!0);try{if(g){const b=await xe.post("api/v1/variant-size/create",{name:i.trim(),type:l});b.status&&de.success(b.message||"Thm size thnh cng")}else{const b=await xe.post("api/v1/variant-color/create",{name:u.trim(),hexCode:f});b.status&&de.success(b.message||"Thm mu thnh cng")}n(),e({open:!1,node:"size"}),a(""),d(""),p("#000000")}catch{de.error("Thm tht bi. Vui lng th li.")}finally{s(!1)}},v=()=>{e({open:!1,node:"size"}),a(""),d(""),p("#000000")};return o.jsxs(bt,{open:t.open,className:"relative w-[50rem] bg-white p-[3rem] rounded-lg shadow-xl",children:[o.jsx("button",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",onClick:v,disabled:r,children:o.jsx(F,{icon:mn,className:"text-gray-600"})}),o.jsx("h2",{className:"text-[2rem] text-center font-bold text-green-600 mb-6",children:g?"Thm Size Mi":"Thm Mu Mi"}),g?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn size ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:i,onChange:b=>a(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: XXL, 43",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Loi sn phm"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"cloth",checked:l==="cloth",onChange:()=>c("cloth"),disabled:r}),"Qun o"]}),o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"shoes",checked:l==="shoes",onChange:()=>c("shoes"),disabled:r}),"Giy dp"]})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn mu ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: Xanh ngc",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Chn mu"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("input",{type:"color",value:f,onChange:b=>p(b.target.value),className:"w-20 h-20 rounded-lg cursor-pointer border border-gray-300",disabled:r}),o.jsx("span",{className:"text-[1.6rem] font-mono",children:f})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[o.jsx("button",{onClick:v,disabled:r,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Hy"}),o.jsx("button",{onClick:x,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang thm..."]}):"Thm"})]})]})}function Kme({openActionVariant:t,setOpenActionVariant:e,setValue:n,variants:r,dataUpdate:s,dataSize:i,dataColor:a}){const[l,c]=T.useState("cloth"),u=xo(),[d,f]=T.useState({open:!1,node:"size"}),[p,g]=T.useState({size:"",color:"",inventory:""}),[x,v]=T.useState({sizeId:null,colorId:null,price:null,inventory:null});T.useEffect(()=>{if(t.node==="edit"&&s){const j=i.find(M=>M.id===s.sizeId);v({sizeId:s.sizeId,colorId:s.colorId,price:s.price,inventory:s.inventory}),j&&c(j.type)}},[s,t,i]),T.useEffect(()=>{t.node==="add"&&(v({sizeId:null,colorId:null,price:null,inventory:null}),c("cloth"))},[t]);const b=()=>{if(!x.sizeId){g(M=>({...M,size:"Vui lng chn size cho sn phm!"}));return}if(!x.colorId){g(M=>({...M,color:"Vui lng chn mu sc cho sn phm!"}));return}if(!x.inventory){g(M=>({...M,inventory:"Vui lng nhp s lng tn kho!"}));return}if(r.some(M=>M.sizeId===Number(x.sizeId)&&M.colorId===Number(x.colorId))){de.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}n("variants",[...r,{tempId:Date.now(),sizeId:Number(x.sizeId),colorId:Number(x.colorId),price:x.price?Number(x.price):null,inventory:Number(x.inventory),isEdited:!1}]),e({open:!1,node:"add",data:null})},w=()=>{if(x.sizeId)if(x.colorId){if(!x.inventory){g(A=>({...A,inventory:"Vui lng nhp s lng tn kho!"}));return}}else{g(A=>({...A,color:"Vui lng chn mu sc cho sn phm!"}));return}else{g(A=>({...A,size:"Vui lng chn size cho sn phm!"}));return}const j=s.id;if(r.some(A=>!(j?A.id===s.id:A.tempId===s.tempId)&&A.sizeId===Number(x.sizeId)&&A.colorId===Number(x.colorId))){de.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}const C={tempId:s.tempId,sizeId:x.sizeId,colorId:x.colorId,price:x.price?Number(x.price):null,inventory:Number(x.inventory),...s.id&&{id:s.id},isEdited:!0},P=r.map(A=>A.tempId===s.tempId?C:A);n("variants",P),e({open:!1,node:"add",data:null})},S=()=>{u.invalidateQueries({queryKey:["variantSize"]}),u.invalidateQueries({queryKey:["variantColor"]})};return o.jsxs(bt,{open:t.open,className:"relative max-w-[75rem] bg-white p-[3rem] rounded-lg shadow-md",children:[o.jsx("button",{className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1.5rem] right-[1.5rem] p-2 hover:bg-gray-200 rounded-full",onClick:()=>e({open:!1,node:"add",data:null}),children:o.jsx(F,{icon:mn,className:"text-gray-600"})}),o.jsx("h2",{className:`text-[2rem] text-center font-bold ${t.node==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.node==="add"?"Thm thuc tnh sn phm":"Chnh sa thuc tnh"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn size:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"size",open:!0}),children:[o.jsx("span",{children:"+"})," Thm size"]})]}),o.jsxs("div",{className:"flex items-center overflow-x-auto gap-[4rem] mt-[.5rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"cloth",className:"text-[1.4rem] text-gray-600",children:"Qun o"}),o.jsx("input",{type:"radio",id:"cloth",className:"",checked:l==="cloth",onChange:()=>c("cloth")})]}),o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"shoes",className:"text-[1.4rem] text-gray-600",children:"Giy dp"}),o.jsx("input",{type:"radio",id:"shoes",className:"",checked:l==="shoes",onChange:()=>c("shoes")})]})]}),o.jsx("div",{className:"w-full overflow-auto hide-scrollbar flex flex-nowrap items-center gap-[1rem] mt-[1rem] pt-[.5rem]",children:i?.map(j=>{if(j.type===l)return o.jsx("button",{className:`flex-shrink-0 px-[1.5rem] py-[.5rem] border-[.2rem] text-gray-600 border-gray-300 rounded-xl hover:border-blue-600 hover:translate-y-[-.2rem] hover-linear hover:shadow-xl ${j.id===x.sizeId?"bg-blue-500 border-none text-white shadow-xl shadow-blue-100":""}`,onClick:()=>{v(M=>({...M,sizeId:j.id})),g(M=>({...M,size:""}))},children:j.name},j.id)})}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.size}),o.jsxs("div",{className:"flex justify-between items-center mt-[2.5rem]",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn mu:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"color",open:!0}),children:[o.jsx("span",{children:"+"})," Thm mu"]})]}),o.jsx("div",{className:"w-full max-h-[24rem] overflow-y-auto grid grid-cols-4 gap-[1rem] mt-[1rem] pt-[.5rem]",children:a?.map(j=>o.jsxs("button",{className:`w-full flex items-center gap-[1rem] px-[2rem] py-[.6rem] border-[.2rem]  rounded-xl hover:translate-y-[-.2rem] hover-linear hover:shadow-xl hover:border-blue-500 ${j.id===x.colorId?"bg-blue-100 border-blue-500":"border-gray-300"}`,onClick:()=>{v(M=>({...M,colorId:j.id})),g(M=>({...M,color:""}))},children:[o.jsx("div",{className:"block w-[3rem] h-[3rem] rounded-full border-[.2rem] border-gray-300",style:{background:j.hexCode}}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:j.name})]},j.id))}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.color}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"price",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"Gi khc"}),o.jsx("input",{type:"number",id:"price",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 200000",value:x.price??"",onChange:j=>v(M=>({...M,price:j.target.value}))})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"inventory",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"S lng kho"}),o.jsx("input",{type:"number",id:"inventory",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 5",value:x.inventory??"",onChange:j=>{v(M=>({...M,inventory:j.target.value})),g(M=>({...M,inventory:""}))}}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.inventory})]})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] justify-end mt-[2rem]",children:[o.jsx("button",{className:" bg-gray-200 text-gray-600 py-2 rounded hover:bg-gray-300 px-[2rem] hover-linear",onClick:()=>e({open:!1,node:"add",data:null}),children:"Hy"}),o.jsx("button",{className:" bg-green-500 text-white py-2 rounded hover:bg-green-600 px-[2rem] hover-linear",onClick:()=>{t.node==="add"?b():w()},children:t.node==="edit"?"Lu":"Thm"})]}),o.jsx(qme,{openAddSizeColor:d,setOpenAddSizeColor:f,onSuccess:S})]})}const Gme=async({queryKey:t})=>{const[e,n]=t,r={};return n.categoryName&&(r.categoryName=n.categoryName),n.isActive&&n.isActive!=="all"&&(r.isActive=n.isActive==="true"),(await xe.get("/api/v1/category/get-categories",{params:r})).data},Eu=async()=>(await xe.get("/api/v1/category/get-all-category")).data,Yme=async t=>{try{if(!t||t.length===0)throw new Error("Slugs phi l mt mng!");const e=t.filter(s=>s&&typeof s=="string"&&s.trim().length>0);if(e.length===0)throw new Error("Slugs khng hp l!");const n=e.join("/");return(await xe.get("/api/v1/category/get-category-by-slugs",{params:{slugs:n}})).data}catch(e){if(e instanceof LH){if(e.response)throw new Error(e.response.data?.message||"Ly d liu tht bi!");if(e.request)throw new Error("Khng c kt ni mng. Vui lng kim tra kt ni ca bn!")}throw e}};function jx({category:t,allCategories:e,level:n=0}){if(!t.isActive)return null;const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(ve.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>o.jsx(jx,{category:i,allCategories:e,level:n+1},i.id))]},t.id)}function $M(){const{id:t}=gi(),e=t?"edit":"create",n=rt(),[r,s]=T.useState(!1),{control:i,register:a,handleSubmit:l,watch:c,setValue:u,formState:{errors:d,isSubmitting:f},reset:p}=$s({defaultValues:{productName:"",price:null,description:"",mainImage:null,listImages:null,inventory:null,categoryId:void 0,variants:[]}}),{data:g=[]}=Fe({queryKey:["getAllCategory"],queryFn:Eu});T.useEffect(()=>{if(!t)return;(async()=>{try{s(!0);const ie=await xe.get(`/api/v1/product/admin/detail/${t}`);if(ie.status&&ie.product){const fe=ie.product;if(p({id:fe.id,productName:fe.productName||"",price:fe.price||null,description:fe.description||"",inventory:fe.inventory||null,categoryId:fe.category.id||void 0,variants:fe.variants.map((Te,Se)=>({id:Te.id,sizeId:Te.variantSize.id||null,colorId:Te.variantColor.id||null,price:Te.price||null,inventory:Te.inventory||null,tempId:Te.id?`old-${Te.id}`:Date.now()+String(Se),isEdited:!1}))}),fe.mainImage&&j(fe.mainImage),fe.listImageProduct?.length>0){const Te=fe.listImageProduct;H(Te),R(Te.map(Se=>Se.id)),C(Te.map(Se=>Se.imageUrl))}}}catch(ie){console.log(ie)}finally{s(!1)}})()},[t,p]);const{data:x,isLoading:v}=Fe({queryKey:["variantSize"],queryFn:qee}),{data:b,isLoading:w}=Fe({queryKey:["variantColor"],queryFn:Kee}),[S,j]=T.useState(null),[M,C]=T.useState([]),[P,A]=T.useState({open:!1,node:"add",data:null}),[E,D]=T.useState(!1),L=c("mainImage"),_=c("listImages"),V=c("variants"),[G,H]=T.useState([]),[W,R]=T.useState([]),[$,z]=T.useState([]),[K,X]=T.useState([]),[B,J]=T.useState([]);T.useEffect(()=>{if(L&&L.length>0){const ee=L[0],ie=URL.createObjectURL(ee);return j(ie),()=>URL.revokeObjectURL(ie)}},[L]),T.useEffect(()=>{if(_&&_.length>0){const ee=Array.from(_).map(ie=>URL.createObjectURL(ie));return C(ee),()=>ee.forEach(ie=>URL.revokeObjectURL(ie))}},[_]),T.useEffect(()=>()=>{K.forEach(ee=>URL.revokeObjectURL(ee.url))},[K]);const ne=ee=>{const ie=W.length;if(ee<ie){const Te=G[ee].id;R(Se=>Se.filter(we=>we!==Te)),z(Se=>[...Se,Te])}else{const Te=ee-ie;X(Se=>{const we=Se.filter((_e,Ye)=>Ye!==Te);return Se[Te]&&URL.revokeObjectURL(Se[Te].url),we})}C(Te=>Te.filter((Se,we)=>we!==ee))},se=async ee=>{try{const ie=new FormData;if(ie.append("productName",ee.productName),ee.price&&ie.append("price",String(ee.price)),ie.append("description",ee.description),ee.categoryId&&ie.append("categoryId",String(ee.categoryId)??""),!ee.variants||ee.variants.length===0){de.error("Vui lng chn t nht mt thuc tnh");return}for(let Se=0;Se<ee.variants.length;Se++){const we=ee.variants[Se];if(!we.sizeId||!we.colorId){de.error(`Vui lng chn y  size v color cho thuc tnh th ${Se+1}`);return}}if(ee.variants&&ee.variants.length>0)if(e==="create"){const Se=V.map(we=>{const{tempId:_e,...Ye}=we;return Ye});ie.append("variants",JSON.stringify(Se))}else{const Se=V.filter(_e=>!_e.id).map(_e=>({sizeId:_e.sizeId,colorId:_e.colorId,price:_e.price,inventory:_e.inventory})),we=V.filter(_e=>_e.id&&_e.isEdited).map(_e=>({id:_e.id,sizeId:_e.sizeId,colorId:_e.colorId,price:_e.price,inventory:_e.inventory}));ie.append("editedVariants",JSON.stringify(we)),ie.append("newVariants",JSON.stringify(Se)),ie.append("deletedVariantIds",JSON.stringify(B))}ee.mainImage&&ee.mainImage.length>0&&ie.append("mainImage",ee.mainImage[0]),e==="edit"?(ie.append("keptListImageIds",JSON.stringify(W)),ie.append("deletedListImageIds",JSON.stringify($)),K.forEach(Se=>{ie.append("newImages",Se.file)})):ee.listImages&&Array.from(ee.listImages).forEach(Se=>{ie.append("listImages",Se)});const fe=e==="create"?"/api/v1/product/create":`/api/v1/product/update/${ee.id}`;let Te=null;e==="create"?Te=await xe.post(fe,ie,{headers:{"Content-Type":"multipart/form-data"}}):Te=await xe.patch(fe,ie,{headers:{"Content-Type":"multipart/form-data"}}),Te.status&&(de.success(Te.message||`${e==="create"?"Thm":"Cp nht"} sn phm thnh cng!`),e==="create"&&(p(),j(""),n("/dashboard/products")))}catch(ie){console.log(ie),de.error("C li xy ra. Vui lng th li!")}},me=ee=>{const ie=V[ee];ie.id&&J(fe=>[...fe,Number(ie.id)]),u("variants",V.filter((fe,Te)=>Te!==ee))},Ee=(ee,ie)=>{const fe=ie.target.files?.[0];if(!fe)return;const Te=URL.createObjectURL(fe),Se=W.length;if(ee<Se){const we=W[ee];R(_e=>_e.filter(Ye=>Ye!==we)),z(_e=>[..._e,we]),X(_e=>[..._e,{file:fe,url:Te}])}else{const we=ee-Se;X(_e=>{const Ye=[..._e];return console.log(Ye),URL.revokeObjectURL(Ye[we]?.url),Ye[we]={file:fe,url:Te},Ye})}return C(we=>{const _e=[...we];return _e[ee]=Te,_e}),()=>{K.forEach(we=>URL.revokeObjectURL(we.url))}},ce=T.useMemo(()=>e==="edit"?[...G.filter(ee=>W.includes(ee.id)).map(ee=>({type:"old",url:ee.imageUrl,id:ee.id})),...K.map(ee=>({type:"new",url:ee.url}))]:M.map(ee=>({type:"new",url:ee})),[G,W,K,M,e]);return e==="edit"&&r?o.jsx(yo,{}):o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex",children:o.jsxs(Qe,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(F,{icon:fi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})}),o.jsx("h2",{className:`text-[2.5rem] ${e==="create"?"text-green-700":"text-amber-700"} text-center font-bold mb-[2rem]`,children:e==="create"?"Thm sn phm":"Chnh sa sn phm"}),o.jsx("form",{onSubmit:l(se),children:E?o.jsxs("div",{children:[o.jsx("label",{className:"text-green-600 text-[1.8rem]",children:"M t sn phm"}),o.jsx("div",{children:o.jsxs("button",{type:"button",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md my-[1rem] py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>{D(!1)},children:[o.jsx(F,{icon:fi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li"})]})}),o.jsx(li,{name:"description",control:i,render:({field:ee})=>o.jsx(due,{value:ee.value||"",onChange:ee.onChange})}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"h-[3.2rem] w-[10rem] flex items-center justify-center text-white bg-green-500 rounded text-[1.4rem] hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",type:"button",onClick:()=>D(!1),children:"p dng"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-[2rem]",children:[o.jsxs("div",{className:"w-[35%] text-center",children:[o.jsx("h4",{className:"font-bold",children:"Hnh nh sn phm"}),o.jsxs("div",{className:"my-[2rem]",children:[o.jsx("label",{className:"text-gray-600",children:"nh chnh"}),o.jsx("input",{type:"file",className:"hidden",id:"mainImage",accept:"image/*",...a("mainImage",{required:e==="create"?"Vui lng chn nh chnh":!1})}),o.jsx("label",{htmlFor:"mainImage",className:"cursor-pointer w-[20rem] h-[20rem] mx-auto border-2 border-dashed border-gray-300 rounded-md flex flex-col gap-y-[1rem] items-center justify-center hover:bg-gray-50",children:S?o.jsx("img",{src:S,alt:"Main",className:"w-full h-full object-cover rounded-md"}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:Xr,className:"text-[1.8rem] text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh chnh"})]})}),d.mainImage&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.mainImage.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[1.4rem] text-gray-600 block mb-[.5rem]",children:"nh ph (ti a 4 nh)"}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"listImages",onChange:ee=>{const ie=Array.from(ee.target.files??[]),fe=4;if(e==="edit"){const Te=W.length+K.length,Se=fe-Te;if(ie.length>Se){de.error(`Ch c th thm ti a ${Se} nh na!`),ee.target.value="";return}const we=ie.map(_e=>({file:_e,url:URL.createObjectURL(_e)}));X(_e=>[..._e,...we]),C(_e=>[..._e,...we.map(Ye=>Ye.url)])}else{if(ie.length>fe){de.error(`Ch c chn ti a ${fe} nh ph!`);const Te=new DataTransfer;ie.slice(0,fe).forEach(Se=>Te.items.add(Se)),ee.target.files=Te.files}u("listImages",ee.target.files,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})}}}),o.jsxs("label",{htmlFor:"listImages",className:"cursor-pointer w-full border-2 border-dashed border-gray-300 rounded-md flex gap-2.5 items-center justify-center py-[1rem] hover:bg-gray-50",children:[o.jsx(F,{icon:Xr,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh ph"})]}),o.jsx("div",{className:"mt-[1rem] grid grid-cols-4 gap-[1rem]",children:ce.map((ee,ie)=>o.jsxs("label",{htmlFor:`image-${ie}`,className:"relative group",children:[o.jsx("img",{src:ee.url,alt:`image-${ie}`,className:"w-full h-[8rem] object-cover rounded-md border border-gray-300"}),o.jsx("input",{type:"file",id:`image-${ie}`,className:"hidden",onChange:fe=>Ee(ie,fe)}),o.jsx("button",{type:"button",onClick:()=>ne(ie),className:"absolute w-[2.5rem] h-[2.5rem] top-1 right-1 bg-white/80 rounded-full text-red-500 hover:bg-red-100 opacity-0 group-hover:opacity-100 transition",children:o.jsx(F,{icon:Hn,className:"text-[1.4rem]"})})]},ie))})]})]}),o.jsxs("div",{className:"w-[65%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h4",{className:"font-bold ",children:"Thng tin sn phm"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("label",{htmlFor:"productName",className:"text-[1.4rem] text-gray-600",children:["Tn sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"productName",placeholder:"Tn sn phm...",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 px-[1.5rem] focus:border-cyan-300 focus:border-1",...a("productName",{required:"Vui lng nhp tn sn phm",minLength:{value:3,message:"Tn sn phm phi c t nht 3 k t"}})}),d.productName&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.productName.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"price",className:"text-[1.4rem] text-gray-600",children:["Gi sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",id:"price",placeholder:"VD: 250000",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("price",{required:"Vui lng nhp gi sn phm",min:{value:0,message:"Gi sn phm phi ln hn 0"}})}),d.price&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.price.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"categoryId",className:"text-[1.4rem] text-gray-600",children:["Danh mc sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"categoryId",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("categoryId",{required:"Vui lng chn danh mc sn phm"}),children:[o.jsx("option",{value:"",disabled:!0,children:"Chn danh mc sn phm"}),g.filter(ee=>ee.parentId===null&&ee.isActive).map(ee=>o.jsx(jx,{category:ee,allCategories:g,level:0},ee.id))]}),d.categoryId&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.categoryId.message})]})]}),o.jsx("input",{type:"number",className:"hidden",...a("id")}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"description",className:"text-[1.4rem] text-gray-600",children:"M t sn phm"}),o.jsxs("button",{type:"button",className:"flex items-center space-x-1 px-[2rem] py-[.6rem] rounded-md  bg-green-500 hover:bg-green-600 text-white  transition duration-300 cursor-pointer mt-[.5rem]",onClick:()=>D(!0),children:[o.jsx("span",{children:"M t"}),o.jsx(F,{icon:r_})]})]}),o.jsxs("div",{className:"mt-[2rem] border-t border-gray-300 pt-[2rem]",children:[o.jsx("label",{className:"text-[1.6rem] font-bold block mb-[1rem]",children:"Thuc tnh sn phm (tu chn)"}),o.jsx("button",{type:"button",className:"mb-[1rem] text-white bg-green-500 px-[1rem] py-[.5rem] rounded hover:bg-green-600",onClick:()=>A({open:!0,node:"add",data:null}),children:"+ Thm thuc tnh"})]}),o.jsx("div",{className:`flex flex-col divide-y ${V.length>0?"divide-gray-300 border border-gray-300":""} rounded-xl`,children:V?.map((ee,ie)=>{const fe=x?.find(Se=>Se.id===ee.sizeId),Te=b?.find(Se=>Se.id===ee.colorId);return o.jsxs("div",{className:"relative flex items-center px-[2rem] py-[1rem] hover:bg-gray-50",children:[o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Size: "}),o.jsx("span",{className:"block px-[1.5rem] py-[.4rem] bg-blue-200 rounded-md font-bold text-blue-800",children:fe?.name})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Mu: "}),o.jsx("span",{className:"block w-[2rem] h-[2rem] rounded-full border-[.2rem] border-gray-300",style:{background:Te?.hexCode}}),o.jsx("span",{children:Te?.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Gi: "}),o.jsx("span",{className:"text-amber-800 px-[1.5rem] py-[.4rem] bg-amber-100 rounded-md",children:ee.price?Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(ee.price)):"Khng"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Kho: "}),o.jsx("span",{className:"text-green-800 px-[1.5rem] py-[.4rem] bg-green-100 rounded-md",children:ee.inventory})]})]}),o.jsx("div",{className:"absolute right-[6.5rem] w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-amber-100 hover:bg-amber-200 hover-linear cursor-pointer",onClick:()=>A({open:!0,node:"edit",data:ee}),children:o.jsx(F,{icon:zs,className:"text-[1.4rem] text-amber-600"})}),o.jsx("div",{className:"absolute right-[2rem]  w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-red-100 hover:bg-red-200 hover-linear cursor-pointer",onClick:()=>me(ie),children:o.jsx(F,{icon:Su,className:"text-red-600 text-[1.4rem]"})})]},ee.id??ee.tempId??ie)})})]})]}),o.jsxs("div",{className:"mt-[3rem] flex items-center justify-end gap-[1rem]",children:[o.jsx(Qe,{to:"/dashboard/products",className:"flex items-center space-x-2 px-[2.5rem] py-[.8rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem] cursor-pointer",type:"button",children:o.jsx("span",{children:"Quay li"})}),o.jsx("button",{className:"px-[2.5rem] py-[.8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",type:"submit",disabled:f,children:o.jsx("span",{children:f?"ang x l...":e==="create"?"Thm":"Cp nht"})})]})]})}),o.jsx(Kme,{openActionVariant:P,setOpenActionVariant:A,setValue:u,variants:V,dataUpdate:P.node==="edit"?P.data:void 0,dataSize:x??[],isLoadingSize:v,dataColor:b??[],isLoadingColor:w})]})}function Xme(){const[t,e]=T.useState({open:!1,action:"add",id:void 0}),[n,r]=T.useState({open:!1,data:null}),[s,i]=T.useState(!1),[a,l]=T.useState({productName:"",price:null,categoryId:null}),[c,u]=T.useState({...a,page:1,limit:30}),{data:d,isLoading:f,isError:p,refetch:g}=Fe({queryKey:["products",c],queryFn:RN}),{data:x=[]}=Fe({queryKey:["getAllCategory"],queryFn:Eu}),v=d&&d.data||[],b=d?.totalPages||1,w=async j=>{if(!j||!j.id){de.error("Khng c id ca sn phm!");return}i(!0);try{const M=await xe.delete(`/api/v1/product/toggle-hidden-product/${j.id}`);M.status&&(de.success(M.status||`${j.isActive?"n":"Hin"} sn phm thnh cng`),await g(),i(!1),r({open:!1,data:null}))}catch(M){console.log(M),i(!1),de.error(M.message)}},S=()=>{u(j=>({...j,categoryId:a.categoryId,productName:a.productName,price:a.price}))};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 z-30 flex justify-between items-center pb-[1.5rem] border-b-[.1rem] border-b-gray-300",children:[o.jsx("h3",{className:"text-[2.5rem] font-semibold text-gray-600",children:"Sn phm"}),o.jsx("div",{children:o.jsxs(Qe,{to:"action",className:"text-white flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer ",children:[o.jsx(F,{icon:Nu}),"Thm sn phm"]})})]}),o.jsxs("div",{className:" flex-1 overflow-auto hide-scrollbar",children:[o.jsx("div",{className:"mt-[3rem]",children:o.jsxs("div",{className:"w-full border-[.1rem] border-gray-300 mt-4 p-[2rem] flex items-end gap-[2rem]",children:[o.jsxs("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"productName",className:"text-gray-700",children:"Tn sn phm"}),o.jsx("input",{type:"text",name:"productName",id:"productName",placeholder:"Nhp tm kim...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:j=>l(M=>({...M,[j.target.name]:j.target.value}))})]}),o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"price",className:"text-gray-700",children:"Gi sn phm"}),o.jsx("input",{type:"number",name:"price",id:"price",placeholder:"Nhp gi...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:j=>l(M=>({...M,[j.target.name]:j.target.value}))})]}),o.jsxs("div",{className:"w-[30rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"categoryId",className:"text-gray-700",children:"Danh mc"}),o.jsx("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:j=>l(M=>({...M,[j.target.name]:j.target.value})),children:x?.filter(j=>j.isActive).map(j=>o.jsx(jx,{category:j,allCategories:x,level:0},j.id))})]}),o.jsxs("button",{className:"w-[15%] flex items-center justify-center gap-[1rem] px-[1.5rem] h-[4rem] bg-[var(--main-button)] text-white rounded-[.5rem] cursor-pointer hover:bg-[var(--main-button-hover)]",onClick:()=>S(),children:[o.jsx(F,{icon:vs}),"Lc"]})]})}),o.jsx("div",{className:"mt-[2rem] border border-gray-300/50 rounded-md overflow-hidden",children:f?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"ang ti..."})]})}):p?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-red-500",children:"C li xy ra khi ti d liu!"})}):o.jsx(o.Fragment,{children:o.jsxs("table",{className:"min-w-full table-auto text-[1.4rem] rounded-lg shadow-sm overflow-hidden",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Sn phm"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Danh mc"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Gi"}),o.jsx("th",{className:"px-6 py-4 text-center text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:v.length>0?v?.map((j,M)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[o.jsx("td",{className:" px-6 py-4",children:M}),o.jsx("td",{className:" px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:j.mainImage,alt:"main image",className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{children:[o.jsx("h4",{className:"max-w-[25rem] font-medium text-gray-900 text-limit-1",children:j.productName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem]",children:["ID: ",j.id]})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:`py-1 ${j.isActive?"text-green-700 bg-green-100":"text-red-700 bg-red-100 "} text-center rounded-full`,children:j.isActive?"ang hot ng":"Dng hot ng"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:x?.find(C=>C.id===j.category?.id)?.categoryName??"Cha c danh mc"}),o.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j.price)}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsxs(Qe,{to:`detail/${j.id}`,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(F,{icon:ws,className:"w-4 h-4"}),o.jsx("span",{children:"Chi tit"})]}),o.jsxs(Qe,{to:`action/${j.id}`,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(F,{icon:zs,className:"w-4 h-4"}),o.jsx("span",{children:"Sa"})]}),o.jsx("button",{className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",onClick:()=>{r({open:!0,data:j})},children:o.jsxs("span",{children:[j.isActive?"n":"Hin"," sn phm"]})})]})})]},j.id)):o.jsx("tr",{"aria-colspan":6,children:o.jsx("td",{children:o.jsx("div",{children:"Khng c sn phm no"})})})})]})})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>u(j=>({...j,page:Math.max(j.page-1,1)})),disabled:c.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:b},(j,M)=>M+1).filter(j=>Math.abs(j-c.page)<=2).map(j=>o.jsx("button",{onClick:()=>u(M=>({...M,page:j})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${c.page===j?"bg-blue-500 text-white":"bg-gray-200"}`,children:j},j)),o.jsx("button",{onClick:()=>u(j=>({...j,page:Math.min(j.page+1,b)})),disabled:c.page===b,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]})]}),n.open&&o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>r({open:!1,data:null}),children:o.jsx(F,{icon:mn,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn mun ",n.data?.isActive?"n":"hin"," sn phm ny?"]}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${s?"mt-[1rem]":"mt-[3rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${s?"cursor-not-allowed":""}`,disabled:s,onClick:()=>r({open:!1,data:null}),children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${s?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:s,onClick:()=>w(n.data),children:s?o.jsx("div",{className:"w-5 h-5 mx-auto border-2 border-white border-t-transparent rounded-full animate-spin"}):n.data?.isActive?"n":"Hin"})]})]})})]})}function sF(t,e,n=0){const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(ve.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>sF(i,e,n+1))]},t.id)}function Qme({setOpenAction:t,openAction:e,refetch:n,dataUpdate:r,parents:s}){const[i,a]=T.useState({categoryName:"",image:void 0,parentId:null,sortOrder:0}),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,p]=T.useState(null);T.useEffect(()=>{e?.action==="edit"?(a({categoryName:r.categoryName,image:r.image,parentId:r?.parentId,sortOrder:r?.sortOrder}),p(r.image)):(a({categoryName:"",image:void 0,parentId:null,sortOrder:0}),p(null))},[e?.action,r]);const g=b=>{const{name:w,value:S}=b.target;if(w==="image"){const j=b.target.files?.[0];if(!j)return;const M=URL.createObjectURL(j);p(M),a(C=>({...C,image:j}))}else a(j=>({...j,categoryName:S}))},x=async()=>{if(d(null),i.categoryName===""){d("Vui lng nhp tn danh mc!");return}if(!i.parentId&&!i.image){d("Vui lng chn hnh nh!");return}c(!0);try{const b=new FormData;b.append("categoryName",i.categoryName),i.parentId!==null&&i.parentId!==void 0&&b.append("parentId",String(i.parentId)),b.append("sortOrder",String(i.sortOrder)),i.image instanceof File&&b.append("image",i.image);const w=await xe.post("/api/v1/category/create",b,{headers:{"Content-Type":"multipart/form-data"}});w.status&&(a({categoryName:"",image:"",parentId:null,sortOrder:0}),await n(),de.success(w.message||"Thm danh mc thnh cng!"),t(null),c(!1))}catch(b){c(!1),d(b.message)}},v=async()=>{try{c(!0);const b=new FormData;b.append("categoryName",i.categoryName),i.image instanceof File&&b.append("image",i.image);const w=await xe.patch(`/api/v1/category/edit/${r.id}`,b,{headers:{"Content-Type":"multipart/form-data"}});w.status?(de.success(w.message||" lu thay i!"),await n(),t(null)):de.error(w.message||"Li khng th cp nht thng tin!")}catch(b){de.error(b.message||"Li server!")}finally{c(!1)}};return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 bg-[#3636362c] flex items-center justify-center z-[900]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200",onClick:()=>t(null),children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-gray-600 text-center font-bold mb-[2rem]",children:e?.action==="add"?"Thm danh mc":"Chnh sa danh mc"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"categoryName",className:"text-gray-600",children:"Tn danh mc"}),o.jsx("input",{type:"text",name:"categoryName",id:"categoryName",value:i.categoryName,placeholder:"Nhp tn...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",onChange:b=>g(b)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Danh mc cha (ty chn)"}),o.jsxs("select",{value:i.parentId||"",onChange:b=>a(w=>({...w,parentId:b.target.value?Number(b.target.value):null})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600 pr-10 bg-white",children:[o.jsx("option",{value:"",children:"-- Khng c danh mc cha --"}),s.filter(b=>b.isActive).filter(b=>e?.action==="edit"?b.id!==r?.id:!0).filter(b=>!b.parentId).map(b=>sF(b,s,0))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Th t hin th"}),o.jsx("input",{type:"number",value:i.sortOrder,onChange:b=>a(w=>({...w,sortOrder:b.target.value===""?"":Number(b.target.value)})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",min:"0",placeholder:"S cng nh cng hin th trc"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"nh cho danh mc:"}),o.jsxs("label",{className:"w-[6.5rem] h-[6.5rem] mt-[.5rem] border border-dashed border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer",children:[f?o.jsx("img",{src:f,alt:"nh danh mc",className:"w-full h-full border-collapse border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer object-cover"}):o.jsx(F,{icon:aa,className:"text-gray-400"}),o.jsx("input",{id:"image",type:"file",name:"image",hidden:!0,onChange:b=>g(b)})]})]})]}),u&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:u}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:`h-[3.2rem] w-[6rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem]  ${l?"cursor-not-allowed":"cursor-pointer"}`,onClick:()=>t(null),disabled:l,children:"Hy"}),o.jsx("button",{className:`h-[3.2rem] w-[8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] ${l?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,onClick:()=>{e?.action==="add"?x():v()},disabled:l,children:l?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.action==="add"?"Thm":"Lu"})]})]})})}function Jme({setOpenToggleActive:t,openToggleActive:e,refetch:n}){const[r,s]=T.useState(!1),[i,a]=T.useState(null),l=async()=>{e?.id||a("Khng c id ca danh mc"),s(!0);try{let c=null;console.log(e),e?.title==="active"?c=await xe.patch(`/api/v1/category/active/${e?.id}`):c=await xe.patch(`/api/v1/category/inactive/${e?.id}`),c?.status&&(t(!1),s(!1),await n())}catch(c){s(!1),console.log(c),a(c.message)}};return o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>t(!1),children:o.jsx(F,{icon:mn,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn c chc mun"," ",e?.title==="active"?"kch hot":"dng hot ng"," ","danh mc ny?"]}),i&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:i}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${r?"mt-[1rem]":"mt-[4rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${r?"cursor-not-allowed":""}`,onClick:()=>t(!1),disabled:r,children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${r?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:r,onClick:()=>l(),children:r?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.title==="active"?"C":"Dng"})]})]})})}function Zme(){const[t,e]=T.useState(null),[n,r]=T.useState(null),[s,i]=T.useState(null),[a,l]=T.useState(new Set),[c,u]=T.useState({categoryName:"",isActive:"all"}),[d,f]=T.useState({categoryName:"",isActive:"all"}),{data:p=[],isLoading:g,isError:x,refetch:v}=Fe({queryKey:["categories",d],queryFn:Gme}),b=(M,C)=>{u(P=>({...P,[M]:C}))},w=()=>{f(c)},S=M=>{l(C=>{const P=new Set(C);return P.has(M)?P.delete(M):P.add(M),P})},j=(M,C=0)=>{const P=p.filter(G=>G.parentId===M.id),A=P.length>0,E=a.has(M.id),D=P.filter(G=>G.isActive),L=P.filter(G=>!G.isActive),_=D.length,V=L.length;return o.jsxs("div",{children:[o.jsxs("div",{className:`
            group relative flex items-center justify-between 
            border border-gray-300
            bg-white hover:bg-gray-50 transition-all duration-200
            ${C===0?"my-3 rounded-lg shadow-sm":"my-3 ml-10 rounded-r-lg"}
          `,children:[o.jsxs("div",{className:"flex items-center gap-5 flex-1 px-6 py-5",children:[o.jsx("button",{onClick:()=>A&&S(M.id),className:`w-[2.6rem] h-[2.6rem] flex items-center justify-center rounded-full transition-all
                ${A?"hover:bg-gray-200 cursor-pointer":"opacity-0 cursor-default"}`,disabled:!A,children:o.jsx(F,{icon:E?MG:e_,className:`text-gray-500 text-[1.4rem] transition-transform duration-200 ${E?"rotate-0":""}`})}),M.image?o.jsx("img",{src:M.image,alt:M.categoryName,className:"w-[5rem] h-[5rem] rounded-lg object-cover"}):o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-lg bg-gray-100 flex items-center justify-center",children:o.jsx(F,{icon:t_,className:"text-[2rem] text-gray-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800 text-[1.6rem]",children:M.categoryName}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx("span",{className:`px-3 py-1 text-[1.2rem] font-bold rounded-full ${M.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.isActive?"ang hot ng":"Dng hot ng"}),A&&o.jsxs("div",{className:"flex items-center gap-3",children:[_>0&&o.jsxs("span",{className:"text-[1.2rem] text-green-700 font-medium",children:[_," hot ng"]}),V>0&&o.jsxs("span",{className:"text-[1.2rem] text-red-600 font-medium",children:[V,"  dng"]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 pr-6",children:[o.jsxs("button",{onClick:()=>{r({action:"edit"}),i(M)},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-[1.4rem] font-medium transition flex items-center gap-2",children:[o.jsx(F,{icon:zs}),"Sa"]}),M.isActive?o.jsx("button",{onClick:()=>e({title:"inactive",id:M.id}),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-[1.4rem] font-medium transition",children:"Dng"}):o.jsx("button",{onClick:()=>e({title:"active",id:M.id}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-[1.4rem] font-medium transition",children:"Kch hot"})]})]}),E&&A&&o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-10 top-0 h-6 w-6 border-l-2 border-b-2 border-gray-300 rounded-bl-lg"}),o.jsx("div",{className:"ml-10",children:P.map(G=>j(G,C+1))})]})]},M.id)};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] overflow-y-auto bg-white shadow-lg rounded-[1rem] flex flex-col pb-[2rem] hide-scrollbar",children:[o.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center pb-6 border-b border-gray-300 px-[2rem] pt-[2rem] z-[100]",children:[o.jsx("h3",{className:"text-3xl font-bold text-gray-700",children:"Danh mc"}),o.jsxs("button",{onClick:()=>r({action:"add"}),className:"flex items-center gap-2 px-5 py-3 bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium transition",children:[o.jsx(F,{icon:Nu}),"Thm mi"]})]}),o.jsxs("div",{className:"mt-8 px-[2rem]",children:[o.jsx("h3",{className:"text-2xl font-semibold text-gray-600 mb-6",children:"Danh sch"}),o.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-6 flex items-end gap-6 mb-8",children:[o.jsxs("div",{className:"flex-1 max-w-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tn danh mc"}),o.jsx("input",{type:"text",value:c.categoryName,onChange:M=>b("categoryName",M.target.value),placeholder:"Nhp  tm kim...",className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 text-gray-600 rounded-lg focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"w-[22rem]",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Trng thi"}),o.jsxs("select",{value:String(c.isActive),onChange:M=>b("isActive",M.target.value),className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 rounded-lg focus:outline-none text-gray-600",children:[o.jsx("option",{value:"all",children:"Tt c trng thi"}),o.jsx("option",{value:"true",children:"ang hot ng"}),o.jsx("option",{value:"false",children:"Ngng hot ng"})]})]}),o.jsxs("button",{onClick:w,className:"h-[4rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium flex items-center justify-center gap-2 transition",children:[o.jsx(F,{icon:vs}),"Lc"]})]}),g&&o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border",children:[o.jsx(F,{icon:cg,spin:!0,className:"text-5xl text-blue-500 mb-4"}),o.jsx("p",{className:"text-lg text-gray-600",children:"ang ti danh mc..."})]}),x&&!g&&o.jsxs("div",{className:"text-center py-16 bg-red-50 rounded-lg border border-red-200",children:[o.jsx(F,{icon:cN,className:"text-5xl text-red-500 mb-4"}),o.jsx("p",{className:"text-xl text-red-600 font-medium mb-4",children:"Li ti d liu"}),o.jsx("button",{onClick:()=>v(),className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:"Th li"})]}),o.jsx("div",{className:"space-y-2",children:!g&&!x&&p.length>0?p.filter(M=>!M.parentId).map(M=>j(M)):!g&&o.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:o.jsx("p",{className:"text-2xl text-gray-500",children:"Cha c danh mc no"})})})]}),n&&o.jsx(Qme,{setOpenAction:r,openAction:n,refetch:v,dataUpdate:n.action==="add"?void 0:s,parents:p}),t&&o.jsx(Jme,{setOpenToggleActive:e,openToggleActive:t,refetch:v})]})}function epe(){const{user:t}=Ct(),[e,n]=T.useState(!1),r=rt(),[s,i]=T.useState(void 0),[a,l]=T.useState(!1),[c,u]=T.useState(null),[d,f]=T.useState({user:{avatar:void 0,username:"",email:"",phone:void 0},gender:"",birthday:""});T.useEffect(()=>{t&&f({user:{avatar:t.avatar,username:t.username,email:t.email,phone:t.phone},gender:t?.staff.gender||"",birthday:t?.staff.birthday||""})},[t]);const p=x=>{const{name:v,value:b}=x.target;if(v==="avatar"){const w=x.target.files;if(!w||w.length===0)return;const S=URL.createObjectURL(w[0]);i(S),f(j=>({...j,user:{...j.user,[v]:w[0]}}))}else f(v==="gender"||v==="birthday"?w=>({...w,[v]:b}):w=>({...w,user:{...w.user,[v]:b}}))},g=async()=>{l(!0);try{(!t||!t.id)&&r("/dashboard/login");const x=new FormData;console.log(d),d.user.avatar&&d.user.avatar instanceof File&&x.append("avatar",d.user.avatar),x.append("user[username]",d.user.username),x.append("user[email]",d.user.email),d.user.phone&&x.append("user[phone]",d.user.phone.toString()),d.gender&&x.append("gender",d.gender),d.birthday&&x.append("birthday",new Date(d.birthday).toISOString()),(await xe.patch(`/api/v1/staff/update/${t?.staff.id}`,x,{headers:{"Content-Type":"multipart/form-data"}})).status&&(n(!1),l(!1),u(null))}catch(x){u(x?.message),l(!1)}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"pb-[2rem] border-b-[.1rem] border-b-gray-300 ",children:[o.jsx("h2",{className:"text-[2.5rem] font-bold text-gray-600",children:"H s ca ti"}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex gap-[1rem] mt-[3rem]",children:[o.jsxs("div",{className:"w-1/4 flex flex-col items-center",children:[o.jsx("img",{src:s||(typeof d.user.avatar=="string"?d.user.avatar:l_),alt:"Avatar",className:"w-[12rem] h-[12rem] rounded-full object-cover"}),o.jsxs("label",{htmlFor:"avatar",className:"block px-[2rem] py-[.5rem] rounded-sm border border-gray-300 cursor-pointer mt-[1rem] mb-[2rem]",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",onClick:()=>n(!0),children:d.user.avatar?"Thay i":"Thm hnh nh"}),o.jsx("input",{type:"file",id:"avatar",name:"avatar",hidden:!0,onChange:x=>p(x)})]}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Dung lng ti a: 1MB"}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"nh dng: .JPEG, .PNG"})]}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[2rem] pl-[5rem] border-l-[.1rem] border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-bold",children:"Thng tin c nhn"}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"text-gray-600 w-[14rem] text-end",children:"Tn ngi dng"}),o.jsx("input",{type:"text",value:d.user.username,id:"username",name:"username",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"email",className:"text-gray-600 w-[14rem] text-end",children:"Email"}),o.jsx("input",{type:"email",value:d.user.email,id:"email",name:"email",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"phone",className:"text-gray-600 w-[14rem] text-end",children:"S in thoi"}),o.jsx("input",{type:"text",value:e?d.user.phone:d.user.phone??"Cha cp nht",id:"phone",name:"phone",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"text-gray-600 w-[14rem] text-end",children:"Ngy sinh"}),o.jsx("input",{type:"text",value:e?d.birthday:d.birthday??"Cha cp nht",id:"birthday",name:"birthday",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"gender",className:"text-gray-600 w-[14rem] text-end",children:"Gii tnh"}),o.jsx("input",{type:"text",value:e?d.gender??"Cha cp nht":(d&&(d.gender==="female"?"N":"Nam"))??"Cha cp nht",id:"gender",name:"gender",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{children:[c&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mb-[.5rem]",children:c}),e?o.jsxs("div",{children:[o.jsx("button",{className:"w-[15rem] h-[4rem] rounded-[.5rem] bg-green-600 hover:bg-green-700 hover-linear text-white cursor-pointer",onClick:()=>g(),disabled:a,children:a?"ang x l...":"Lu cp nht"}),o.jsx("button",{className:"w-[10rem] h-[4rem] bg-gray-200 text-gray-600 hover:bg-gray-300 rounded-lg ml-[1rem] cursor-pointer hover-linear",onClick:()=>n(!1),disabled:a,children:"Hy"})]}):o.jsx("button",{className:"w-[20rem] h-[4rem] rounded-[.5rem] bg-[#1e90ff] hover:bg-[#0d87ff] text-white cursor-pointer",onClick:()=>n(!0),children:"Cp nht thng tin"})]})]})]})]})}const tpe=async t=>{const e={};return t.searchOrder&&(e.searchOrder=t.searchOrder),t.status&&(e.status=t.status),e.limit=t.limit,e.page=t.page,await xe.get("/api/v1/orders/orders-for-admin",{params:e})},npe=async t=>(await xe.get("/api/v1/orders/get-orders",{params:t})).data,rpe=async t=>(await xe.get(`/api/v1/orders/lookup/${t}`,{params:{orderCode:t}})).data;var Jv,BM;function spe(){if(BM)return Jv;BM=1;function t(w){this._maxSize=w,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(w){return this._values[w]},t.prototype.set=function(w,S){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=S};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),c=new t(a),u=new t(a);Jv={Cache:t,split:f,normalizePath:d,setter:function(w){var S=d(w);return c.get(w)||c.set(w,function(M,C){for(var P=0,A=S.length,E=M;P<A-1;){var D=S[P];if(D==="__proto__"||D==="constructor"||D==="prototype")return M;E=E[S[P++]]}E[S[P]]=C})},getter:function(w,S){var j=d(w);return u.get(w)||u.set(w,function(C){for(var P=0,A=j.length;P<A;)if(C!=null||!S)C=C[j[P++]];else return;return C})},join:function(w){return w.reduce(function(S,j){return S+(g(j)||n.test(j)?"["+j+"]":(S?".":"")+j)},"")},forEach:function(w,S,j){p(Array.isArray(w)?w:f(w),S,j)}};function d(w){return l.get(w)||l.set(w,f(w).map(function(S){return S.replace(i,"$2")}))}function f(w){return w.match(e)||[""]}function p(w,S,j){var M=w.length,C,P,A,E;for(P=0;P<M;P++)C=w[P],C&&(b(C)&&(C='"'+C+'"'),E=g(C),A=!E&&/^\d+$/.test(C),S.call(j,C,E,A,P,w))}function g(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function x(w){return w.match(r)&&!w.match(n)}function v(w){return s.test(w)}function b(w){return!g(w)&&(x(w)||v(w))}return Jv}var Sl=spe(),Zv,HM;function ipe(){if(HM)return Zv;HM=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=d=>d.match(t)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,f)=>e(d).join(f).toLowerCase(),s=d=>e(d).reduce((f,p)=>`${f}${f?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return Zv={words:e,upperFirst:n,camelCase:s,pascalCase:d=>n(s(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>e(d).map(n).join(" ")},Zv}var e1=ipe(),pp={exports:{}},UM;function ape(){if(UM)return pp.exports;UM=1,pp.exports=function(s){return t(e(s),s)},pp.exports.array=t;function t(s,i){var a=s.length,l=new Array(a),c={},u=a,d=n(i),f=r(s);for(i.forEach(function(g){if(!f.has(g[0])||!f.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)c[u]||p(s[u],u,new Set);return l;function p(g,x,v){if(v.has(g)){var b;try{b=", node was:"+JSON.stringify(g)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!f.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!c[x]){c[x]=!0;var w=d.get(g)||new Set;if(w=Array.from(w),x=w.length){v.add(g);do{var S=w[--x];p(S,f.get(S),v)}while(x);v.delete(g)}l[--a]=g}}}function e(s){for(var i=new Set,a=0,l=s.length;a<l;a++){var c=s[a];i.add(c[0]),i.add(c[1])}return Array.from(i)}function n(s){for(var i=new Map,a=0,l=s.length;a<l;a++){var c=s[a];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(s){for(var i=new Map,a=0,l=s.length;a<l;a++)i.set(s[a],a);return i}return pp.exports}var ope=ape();const lpe=A0(ope),cpe=Object.prototype.toString,upe=Error.prototype.toString,dpe=RegExp.prototype.toString,hpe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",fpe=/^Symbol\((.*)\)(.*)$/;function mpe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function WM(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return mpe(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return hpe.call(t).replace(fpe,"Symbol($1)");const r=cpe.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+upe.call(t)+"]":r==="RegExp"?dpe.call(t):null}function Ji(t,e){let n=WM(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=WM(this[r],e);return i!==null?i:s},2)}function iF(t){return t==null?[]:[].concat(t)}let aF,oF,lF,ppe=/\$\{\s*(\w+)\s*\}/g;aF=Symbol.toStringTag;class qM{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[aF]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],iF(e).forEach(i=>{if(ur.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}oF=Symbol.hasInstance;lF=Symbol.toStringTag;class ur extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(ppe,(s,i)=>Ji(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new qM(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[lF]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ur)}static[oF](e){return qM[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ni={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Ji(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ji(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Ji(n,!0)}\``+s}},Cr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ra={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},yw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gpe={isValue:"${path} field must be ${value}"},Kp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Gp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},xpe={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Ji(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Ji(n,!0)}\``}return ur.formatError(ni.notType,t)}};Object.assign(Object.create(null),{mixed:ni,string:Cr,number:Ra,date:yw,object:Kp,array:Gp,boolean:gpe,tuple:xpe});const Cx=t=>t&&t.__isYupSchema__;class p0{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new p0(e,(l,c)=>{var u;let d=a(...l)?s:i;return(u=d?.(c))!=null?u:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Cx(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const gp={context:"$",value:"."};class ql{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===gp.context,this.isValue=this.key[0]===gp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?gp.context:this.isValue?gp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Sl.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ql.prototype.__isYupRef=!0;const Gi=t=>t==null;function Ec(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},l,c){const{name:u,test:d,params:f,message:p,skipAbsent:g}=t;let{parent:x,context:v,abortEarly:b=a.spec.abortEarly,disableStackTrace:w=a.spec.disableStackTrace}=s;const S={value:n,parent:x,context:v};function j(_={}){const V=cF(Object.assign({value:n,originalValue:i,label:a.spec.label,path:_.path||r,spec:a.spec,disableStackTrace:_.disableStackTrace||w},f,_.params),S),G=new ur(ur.formatError(_.message||p,V),n,V.path,_.type||u,V.disableStackTrace);return G.params=V,G}const M=b?l:c;let C={path:r,parent:x,type:u,from:s.from,createError:j,resolve(_){return uF(_,S)},options:s,originalValue:i,schema:a};const P=_=>{ur.isError(_)?M(_):_?c(null):M(j())},A=_=>{ur.isError(_)?M(_):l(_)};if(g&&Gi(n))return P(!0);let D;try{var L;if(D=d.call(C,n,C),typeof((L=D)==null?void 0:L.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(D).then(P,A)}}catch(_){A(_);return}P(D)}return e.OPTIONS=t,e}function cF(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=uF(t[n],e);return t}function uF(t,e){return ql.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function ype(t,e,n,r=n){let s,i,a;return e?(Sl.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let f=t.type==="tuple",p=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=f?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}i=d,a=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class g0 extends Set{describe(){const e=[];for(const n of this.values())e.push(ql.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new g0(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function Bc(t,e=new Map){if(Cx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Bc(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,Bc(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Bc(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=Bc(s,e)}else throw Error(`Unable to clone ${t}`);return n}function bpe(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,s=!1;for(let i=0;i<t.length;i++){const a=t[i];if(a==="["&&!s){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(a==="]"&&!s){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(a==='"'){s=!s;continue}if(a==="."&&!r&&!s){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function vpe(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:bpe(n)}))}function dF(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return vpe(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>dF(s,r))}class Qr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new g0,this._blacklist=new g0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ni.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Bc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Gi(i))return i;let a=Ji(e),l=Ji(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:a=e,strict:l=this.spec.strict}=n,c=e;l||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:a,options:n,tests:u},r,d=>{if(d.length)return s(d,c);this.runTests({path:i,value:c,originalValue:a,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:a,originalValue:l,path:c,options:u}=e,d=v=>{s||(s=!0,n(v,a))},f=v=>{s||(s=!0,r(v,a))},p=i.length,g=[];if(!p)return f([]);let x={value:a,originalValue:l,path:c,options:u,schema:this};for(let v=0;v<i.length;v++){const b=i[v];b(x,d,function(S){S&&(Array.isArray(S)?g.push(...S):g.push(S)),--p<=0&&f(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=r[l];const d=Object.assign({},a,{strict:!0,parent:r,value:u,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${c?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(f,p,g)=>this.resolve(d)._validate(u,d,p,g)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((a,l)=>s._validate(e,n,(c,u)=>{ur.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new ur(c,u,void 0,void 0,i)):a(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,a=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,c)=>{throw ur.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new ur(l,e,void 0,void 0,a);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(ur.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(ur.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Bc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Ec({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Ec({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ni.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ni.notNull){return this.nullability(!1,e)}required(e=ni.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ni.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Ec(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=iF(e).map(i=>new ql(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new p0(s,n):p0.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Ec({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ni.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Ec({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),r}notOneOf(e,n=ni.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Ec({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:a}=n.spec;return{meta:s,label:r,optional:i,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?cF(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(s instanceof ur)return{issues:dF(s)};throw s}}}}}Qr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Qr.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=ype(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Qr.prototype[t]=Qr.prototype.oneOf;for(const t of["not","nope"])Qr.prototype[t]=Qr.prototype.notOneOf;const wpe=()=>!0;function lj(t){return new hF(t)}class hF extends Qr{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:wpe},e))}}lj.prototype=hF.prototype;const Npe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Spe(t){const e=bw(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function bw(t){var e,n;const r=Npe.exec(t);return r?{year:Ii(r[1]),month:Ii(r[2],1)-1,day:Ii(r[3],1),hour:Ii(r[4]),minute:Ii(r[5]),second:Ii(r[6]),millisecond:r[7]?Ii(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ii(r[10]),minuteOffset:Ii(r[11])}:null}function Ii(t,e=0){return Number(t)||e}let jpe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Cpe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,kpe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Tpe="^\\d{4}-\\d{2}-\\d{2}",Epe="\\d{2}:\\d{2}:\\d{2}",Mpe="(([+-]\\d{2}(:?\\d{2})?)|Z)",Ppe=new RegExp(`${Tpe}T${Epe}(\\.\\d+)?${Mpe}$`),Ape=t=>Gi(t)||t===t.trim(),Ope={}.toString();function un(){return new fF}class fF extends Qr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===Ope?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ni.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Cr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Cr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Cr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Cr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Cr.email){return this.matches(jpe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Cr.url){return this.matches(Cpe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Cr.uuid){return this.matches(kpe,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(Ppe,{name:"datetime",message:n||Cr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Cr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const a=bw(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Cr.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=bw(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Cr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Ape})}lowercase(e=Cr.lowercase){return this.transform(n=>Gi(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Gi(n)||n===n.toLowerCase()})}uppercase(e=Cr.uppercase){return this.transform(n=>Gi(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Gi(n)||n===n.toUpperCase()})}}un.prototype=fF.prototype;let _pe=t=>t!=+t;function Hc(){return new mF}class mF extends Qr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!_pe(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=Ra.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Ra.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Ra.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Ra.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Ra.positive){return this.moreThan(0,e)}negative(e=Ra.negative){return this.lessThan(0,e)}integer(e=Ra.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Gi(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Gi(s)?s:Math[e](s))}}Hc.prototype=mF.prototype;let Dpe=new Date(""),Ipe=t=>Object.prototype.toString.call(t)==="[object Date]";class cj extends Qr{constructor(){super({type:"date",check(e){return Ipe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=Spe(e),isNaN(e)?cj.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ql.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=yw.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=yw.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}cj.INVALID_DATE=Dpe;function Lpe(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let c=Sl.split(a)[0];r.add(c),s.has(`${l}-${c}`)||n.push([l,c])}for(const a of Object.keys(t)){let l=t[a];r.add(a),ql.isRef(l)&&l.isSibling?i(l.path,a):Cx(l)&&"deps"in l&&l.deps.forEach(c=>i(c,a))}return lpe.array(Array.from(r),n).reverse()}function KM(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function pF(t){return(e,n)=>KM(t,e)-KM(t,n)}const gF=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Yp(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Yp(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Yp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Yp)}):"optional"in t?t.optional():t}const Rpe=(t,e)=>{const n=[...Sl.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Sl.getter(Sl.join(n),!0)(t);return!!(s&&r in s)};let GM=t=>Object.prototype.toString.call(t)==="[object Object]";function YM(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Fpe=pF([]);function qh(t){return new xF(t)}class xF extends Qr{constructor(e){super({type:"object",check(n){return GM(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Fpe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of l){let p=i[f],g=f in s,x=s[f];if(p){let v;u.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:x,context:n.context,parent:c});let b=p instanceof Qr?p.spec:void 0,w=b?.strict;if(b!=null&&b.strip){d=d||f in s;continue}v=!n.__validating||!w?p.cast(x,u):x,v!==void 0&&(c[f]=v)}else g&&!a&&(c[f]=x);(g!==f in c||c[f]!==x)&&(d=!0)}return d?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(c,u)=>{if(!l||!GM(u)){s(c,u);return}a=a||u;let d=[];for(let f of this._nodes){let p=this.fields[f];!p||ql.isRef(p)||d.push(p.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},r,f=>{s(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const a=r[s];r[s]=a===void 0?i:a}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Lpe(e,n),r._sortErrors=pF(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Yp(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Sl.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return Rpe(i,e)&&(a=Object.assign({},i),r||delete a[e],a[n]=s(i)),a})}json(){return this.transform(gF)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Kp.exact,test(n){if(n==null)return!0;const r=YM(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Kp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=YM(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Kp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(e1.camelCase)}snakeCase(){return this.transformKeys(e1.snakeCase)}constantCase(){return this.transformKeys(e=>e1.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=a.describe(l)}return r}}qh.prototype=xF.prototype;function yF(t){return new bF(t)}class bF extends Qr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((a,l)=>{const c=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:r,originalValue:a,value:a,index:l}));return c!==a&&(s=!0),c});return s?i:r}_validate(e,n={},r,s){var i;let a=this.innerType,l=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,u)=>{var d;if(!l||!a||!this._typeCheck(u)){s(c,u);return}let f=new Array(u.length);for(let g=0;g<u.length;g++){var p;f[g]=a.asNestedTest({options:n,index:g,parent:u,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:u,tests:f,originalValue:(d=n.originalValue)!=null?d:e,options:n},r,g=>s(g.concat(c),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(gF)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Cx(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ji(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Gp.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||Gp.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||Gp.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}yF.prototype=bF.prototype;const Vpe=qh({customerName:un().required("Vui lng nhp tn khch hng").min(2,"Tn t nht phi c 2 k t"),customerEmail:un().required("Vui lng nhp email khch hng").email("Email khng hp l"),customerPhone:un().required("Vui lng nhp st khch hng").matches(/^(0|\+84)[3|5|7|8|9][0-9]{8}$/,"S in thoi khng hp l"),customerAddress:un().required("Vui lng nhp a ch khch hng"),customerProvince:un().required("Vui lng chn tnh thnh"),customerDistrict:un().required("Vui lng chn huyn"),customerWard:un().required("Chn phng"),paymentMethod:lj().oneOf(Object.values(le.PaymentMethod),"Phng thc thanh ton khng hp l").required("Vui lng chn phng thc thanh ton"),customerNote:un().optional().default(""),orderItems:yF().of(qh({productId:Hc().required(),variantId:Hc().required(),quantity:Hc().min(1,"S lng ti thiu l 1").required(),price:Hc().required()})).min(1,"n hng phi c t nht mt sn phm").optional().required("Vui lng thm sn phm"),couponCode:un().optional().default("")}).required(),XM=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Pe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},vF=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?XM(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>XM(s,n,t))}},zpe=(t,e)=>{e.shouldUseNativeValidation&&vF(t,e);const n={};for(const r in t){const s=Pe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if($pe(e.names||Object.keys(t),r)){const a=Object.assign({},Pe(n,r));wt(a,"root",i),wt(n,r,a)}else wt(n,r,i)}return n},$pe=(t,e)=>{const n=QM(e);return t.some(r=>QM(r).match(`^${n}\\.\\d+`))};function QM(t){return t.replace(/\]|\[/g,"")}function wF(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve((function(a,l){try{var c=(e?.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:s}))).then(function(u){return i.shouldUseNativeValidation&&vF({},i),{values:n.raw?Object.assign({},r):u,errors:{}}}))}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(a){if(!a.inner)throw a;return{values:{},errors:zpe((l=a,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(l.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),c){var f=u[d.path].types,p=f&&f[d.type];u[d.path]=yD(d.path,c,u,d.type,p?[].concat(p,d.message):d.message)}return u},{})),i)};var l,c}))}catch(a){return Promise.reject(a)}}}const uj=async()=>await xe.get("/api/v1/province/get-province");function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Bpe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NF(t){var e=Bpe(t,"string");return Vl(e)=="symbol"?e:e+""}function Hd(t,e,n){return(e=NF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Hd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hpe(t){if(Array.isArray(t))return t}function Upe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function SF(t,e){if(t){if(typeof t=="string")return vw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vw(t,e):void 0}}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zi(t,e){return Hpe(t)||Upe(t,e)||SF(t,e)||Wpe()}function qpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ma(t,e){if(t==null)return{};var n,r,s=qpe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var Kpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Gpe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,a=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,g=t.value,x=ma(t,Kpe),v=T.useState(l!==void 0?l:n),b=Zi(v,2),w=b[0],S=b[1],j=T.useState(c!==void 0?c:s),M=Zi(j,2),C=M[0],P=M[1],A=T.useState(g!==void 0?g:a),E=Zi(A,2),D=E[0],L=E[1],_=T.useCallback(function(z,K){typeof u=="function"&&u(z,K),L(z)},[u]),V=T.useCallback(function(z,K){var X;typeof d=="function"&&(X=d(z,K)),S(X!==void 0?X:z)},[d]),G=T.useCallback(function(){typeof p=="function"&&p(),P(!0)},[p]),H=T.useCallback(function(){typeof f=="function"&&f(),P(!1)},[f]),W=l!==void 0?l:w,R=c!==void 0?c:C,$=g!==void 0?g:D;return Ge(Ge({},x),{},{inputValue:W,menuIsOpen:R,onChange:_,onInputChange:V,onMenuClose:H,onMenuOpen:G,value:$})}function Xe(){return Xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xe.apply(null,arguments)}function Ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NF(r.key),r)}}function Xpe(t,e,n){return e&&ZM(t.prototype,e),n&&ZM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ww(t,e)}function Qpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x0(t)}function jF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!t})()}function Jpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zpe(t,e){if(e&&(Vl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jpe(t)}function ege(t){var e=jF();return function(){var n,r=x0(t);if(e){var s=x0(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Zpe(this,n)}}function tge(t){if(Array.isArray(t))return vw(t)}function nge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dj(t){return tge(t)||nge(t)||SF(t)||rge()}function sge(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ige(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var age=(function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ige(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=sge(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Gn="-ms-",y0="-moz-",mt="-webkit-",CF="comm",hj="rule",fj="decl",oge="@import",kF="@keyframes",lge="@layer",cge=Math.abs,kx=String.fromCharCode,uge=Object.assign;function dge(t,e){return Rn(t,0)^45?(((e<<2^Rn(t,0))<<2^Rn(t,1))<<2^Rn(t,2))<<2^Rn(t,3):0}function TF(t){return t.trim()}function hge(t,e){return(t=e.exec(t))?t[0]:t}function pt(t,e,n){return t.replace(e,n)}function Nw(t,e){return t.indexOf(e)}function Rn(t,e){return t.charCodeAt(e)|0}function Kh(t,e,n){return t.slice(e,n)}function ri(t){return t.length}function mj(t){return t.length}function xp(t,e){return e.push(t),t}function fge(t,e){return t.map(e).join("")}var Tx=1,mu=1,EF=0,Lr=0,dn=0,Mu="";function Ex(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Tx,column:mu,length:a,return:""}}function Md(t,e){return uge(Ex("",null,null,"",null,null,0),t,{length:-t.length},e)}function mge(){return dn}function pge(){return dn=Lr>0?Rn(Mu,--Lr):0,mu--,dn===10&&(mu=1,Tx--),dn}function Gr(){return dn=Lr<EF?Rn(Mu,Lr++):0,mu++,dn===10&&(mu=1,Tx++),dn}function di(){return Rn(Mu,Lr)}function Xp(){return Lr}function Nf(t,e){return Kh(Mu,t,e)}function Gh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MF(t){return Tx=mu=1,EF=ri(Mu=t),Lr=0,[]}function PF(t){return Mu="",t}function Qp(t){return TF(Nf(Lr-1,Sw(t===91?t+2:t===40?t+1:t)))}function gge(t){for(;(dn=di())&&dn<33;)Gr();return Gh(t)>2||Gh(dn)>3?"":" "}function xge(t,e){for(;--e&&Gr()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return Nf(t,Xp()+(e<6&&di()==32&&Gr()==32))}function Sw(t){for(;Gr();)switch(dn){case t:return Lr;case 34:case 39:t!==34&&t!==39&&Sw(dn);break;case 40:t===41&&Sw(t);break;case 92:Gr();break}return Lr}function yge(t,e){for(;Gr()&&t+dn!==57;)if(t+dn===84&&di()===47)break;return"/*"+Nf(e,Lr-1)+"*"+kx(t===47?t:Gr())}function bge(t){for(;!Gh(di());)Gr();return Nf(t,Lr)}function vge(t){return PF(Jp("",null,null,null,[""],t=MF(t),0,[0],t))}function Jp(t,e,n,r,s,i,a,l,c){for(var u=0,d=0,f=a,p=0,g=0,x=0,v=1,b=1,w=1,S=0,j="",M=s,C=i,P=r,A=j;b;)switch(x=S,S=Gr()){case 40:if(x!=108&&Rn(A,f-1)==58){Nw(A+=pt(Qp(S),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:A+=Qp(S);break;case 9:case 10:case 13:case 32:A+=gge(x);break;case 92:A+=xge(Xp()-1,7);continue;case 47:switch(di()){case 42:case 47:xp(wge(yge(Gr(),Xp()),e,n),c);break;default:A+="/"}break;case 123*v:l[u++]=ri(A)*w;case 125*v:case 59:case 0:switch(S){case 0:case 125:b=0;case 59+d:w==-1&&(A=pt(A,/\f/g,"")),g>0&&ri(A)-f&&xp(g>32?tP(A+";",r,n,f-1):tP(pt(A," ","")+";",r,n,f-2),c);break;case 59:A+=";";default:if(xp(P=eP(A,e,n,u,d,s,l,j,M=[],C=[],f),i),S===123)if(d===0)Jp(A,e,P,P,M,i,f,l,C);else switch(p===99&&Rn(A,3)===110?100:p){case 100:case 108:case 109:case 115:Jp(t,P,P,r&&xp(eP(t,P,P,0,0,s,l,j,s,M=[],f),C),s,C,f,l,r?M:C);break;default:Jp(A,P,P,P,[""],C,0,l,C)}}u=d=g=0,v=w=1,j=A="",f=a;break;case 58:f=1+ri(A),g=x;default:if(v<1){if(S==123)--v;else if(S==125&&v++==0&&pge()==125)continue}switch(A+=kx(S),S*v){case 38:w=d>0?1:(A+="\f",-1);break;case 44:l[u++]=(ri(A)-1)*w,w=1;break;case 64:di()===45&&(A+=Qp(Gr())),p=di(),d=f=ri(j=A+=bge(Xp())),S++;break;case 45:x===45&&ri(A)==2&&(v=0)}}return i}function eP(t,e,n,r,s,i,a,l,c,u,d){for(var f=s-1,p=s===0?i:[""],g=mj(p),x=0,v=0,b=0;x<r;++x)for(var w=0,S=Kh(t,f+1,f=cge(v=a[x])),j=t;w<g;++w)(j=TF(v>0?p[w]+" "+S:pt(S,/&\f/g,p[w])))&&(c[b++]=j);return Ex(t,e,n,s===0?hj:l,c,u,d)}function wge(t,e,n){return Ex(t,e,n,CF,kx(mge()),Kh(t,2,-2),0)}function tP(t,e,n,r){return Ex(t,e,n,fj,Kh(t,0,r),Kh(t,r+1,-1),r)}function Xc(t,e){for(var n="",r=mj(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Nge(t,e,n,r){switch(t.type){case lge:if(t.children.length)break;case oge:case fj:return t.return=t.return||t.value;case CF:return"";case kF:return t.return=t.value+"{"+Xc(t.children,r)+"}";case hj:t.value=t.props.join(",")}return ri(n=Xc(t.children,r))?t.return=t.value+"{"+n+"}":""}function Sge(t){var e=mj(t);return function(n,r,s,i){for(var a="",l=0;l<e;l++)a+=t[l](n,r,s,i)||"";return a}}function jge(t){return function(e){e.root||(e=e.return)&&t(e)}}function Cge(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var kge=function(e,n,r){for(var s=0,i=0;s=i,i=di(),s===38&&i===12&&(n[r]=1),!Gh(i);)Gr();return Nf(e,Lr)},Tge=function(e,n){var r=-1,s=44;do switch(Gh(s)){case 0:s===38&&di()===12&&(n[r]=1),e[r]+=kge(Lr-1,n,r);break;case 2:e[r]+=Qp(s);break;case 4:if(s===44){e[++r]=di()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kx(s)}while(s=Gr());return e},Ege=function(e,n){return PF(Tge(MF(e),n))},nP=new WeakMap,Mge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!nP.get(r))&&!s){nP.set(e,!0);for(var i=[],a=Ege(n,i),l=r.props,c=0,u=0;c<a.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?a[c].replace(/&\f/g,l[d]):l[d]+" "+a[c]}}},Pge=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function AF(t,e){switch(dge(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+y0+t+Gn+t+t;case 6828:case 4268:return mt+t+Gn+t+t;case 6165:return mt+t+Gn+"flex-"+t+t;case 5187:return mt+t+pt(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Gn+"flex-$1$2")+t;case 5443:return mt+t+Gn+"flex-item-"+pt(t,/flex-|-self/,"")+t;case 4675:return mt+t+Gn+"flex-line-pack"+pt(t,/align-content|flex-|-self/,"")+t;case 5548:return mt+t+Gn+pt(t,"shrink","negative")+t;case 5292:return mt+t+Gn+pt(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+pt(t,"-grow","")+mt+t+Gn+pt(t,"grow","positive")+t;case 4554:return mt+pt(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return pt(pt(pt(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return pt(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return pt(pt(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Gn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4095:case 3583:case 4068:case 2532:return pt(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ri(t)-1-e>6)switch(Rn(t,e+1)){case 109:if(Rn(t,e+4)!==45)break;case 102:return pt(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+y0+(Rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Nw(t,"stretch")?AF(pt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rn(t,e+1)!==115)break;case 6444:switch(Rn(t,ri(t)-3-(~Nw(t,"!important")&&10))){case 107:return pt(t,":",":"+mt)+t;case 101:return pt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(Rn(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Gn+"$2box$3")+t}break;case 5936:switch(Rn(t,e+11)){case 114:return mt+t+Gn+pt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+Gn+pt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+Gn+pt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mt+t+Gn+t+t}return t}var Age=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case fj:e.return=AF(e.value,e.length);break;case kF:return Xc([Md(e,{value:pt(e.value,"@","@"+mt)})],s);case hj:if(e.length)return fge(e.props,function(i){switch(hge(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xc([Md(e,{props:[pt(i,/:(read-\w+)/,":"+y0+"$1")]})],s);case"::placeholder":return Xc([Md(e,{props:[pt(i,/:(plac\w+)/,":"+mt+"input-$1")]}),Md(e,{props:[pt(i,/:(plac\w+)/,":"+y0+"$1")]}),Md(e,{props:[pt(i,/:(plac\w+)/,Gn+"input-$1")]})],s)}return""})}},Oge=[Age],_ge=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||Oge,i={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)i[b[w]]=!0;l.push(v)});var c,u=[Mge,Pge];{var d,f=[Nge,jge(function(v){d.insert(v)})],p=Sge(u.concat(s,f)),g=function(b){return Xc(vge(b),p)};c=function(b,w,S,j){d=S,g(b?b+"{"+w.styles+"}":w.styles),j&&(x.inserted[w.name]=!0)}}var x={key:n,sheet:new age({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return x.sheet.hydrate(l),x},t1={exports:{}},xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function Dge(){if(rP)return xt;rP=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,S=t?Symbol.for("react.scope"):60119;function j(C){if(typeof C=="object"&&C!==null){var P=C.$$typeof;switch(P){case e:switch(C=C.type,C){case c:case u:case r:case i:case s:case f:return C;default:switch(C=C&&C.$$typeof,C){case l:case d:case x:case g:case a:return C;default:return P}}case n:return P}}}function M(C){return j(C)===u}return xt.AsyncMode=c,xt.ConcurrentMode=u,xt.ContextConsumer=l,xt.ContextProvider=a,xt.Element=e,xt.ForwardRef=d,xt.Fragment=r,xt.Lazy=x,xt.Memo=g,xt.Portal=n,xt.Profiler=i,xt.StrictMode=s,xt.Suspense=f,xt.isAsyncMode=function(C){return M(C)||j(C)===c},xt.isConcurrentMode=M,xt.isContextConsumer=function(C){return j(C)===l},xt.isContextProvider=function(C){return j(C)===a},xt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},xt.isForwardRef=function(C){return j(C)===d},xt.isFragment=function(C){return j(C)===r},xt.isLazy=function(C){return j(C)===x},xt.isMemo=function(C){return j(C)===g},xt.isPortal=function(C){return j(C)===n},xt.isProfiler=function(C){return j(C)===i},xt.isStrictMode=function(C){return j(C)===s},xt.isSuspense=function(C){return j(C)===f},xt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===u||C===i||C===s||C===f||C===p||typeof C=="object"&&C!==null&&(C.$$typeof===x||C.$$typeof===g||C.$$typeof===a||C.$$typeof===l||C.$$typeof===d||C.$$typeof===b||C.$$typeof===w||C.$$typeof===S||C.$$typeof===v)},xt.typeOf=j,xt}var sP;function Ige(){return sP||(sP=1,t1.exports=Dge()),t1.exports}var n1,iP;function Lge(){if(iP)return n1;iP=1;var t=Ige(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(x){return t.isMemo(x)?s:i[x.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function g(x,v,b){if(typeof v!="string"){if(p){var w=f(v);w&&w!==p&&g(x,w,b)}var S=c(v);u&&(S=S.concat(u(v)));for(var j=a(x),M=a(v),C=0;C<S.length;++C){var P=S[C];if(!n[P]&&!(b&&b[P])&&!(M&&M[P])&&!(j&&j[P])){var A=d(v,P);try{l(x,P,A)}catch{}}}}return x}return n1=g,n1}Lge();var Rge=!0;function Fge(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var OF=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||Rge===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},Vge=function(e,n,r){OF(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function zge(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var $ge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bge=/[A-Z]|^ms/g,Hge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_F=function(e){return e.charCodeAt(1)===45},aP=function(e){return e!=null&&typeof e!="boolean"},r1=Cge(function(t){return _F(t)?t:t.replace(Bge,"-$&").toLowerCase()}),oP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Hge,function(r,s,i){return si={name:s,styles:i,next:si},s})}return $ge[e]!==1&&!_F(e)&&typeof n=="number"&&n!==0?n+"px":n};function Yh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return si={name:s.name,styles:s.styles,next:si},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)si={name:a.name,styles:a.styles,next:si},a=a.next;var l=i.styles+";";return l}return Uge(t,e,n)}case"function":{if(t!==void 0){var c=si,u=n(t);return si=c,Yh(t,e,u)}break}}var d=n;return d}function Uge(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Yh(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;aP(l)&&(r+=r1(i)+":"+oP(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var c=0;c<a.length;c++)aP(a[c])&&(r+=r1(i)+":"+oP(i,a[c])+";");else{var u=Yh(t,e,a);switch(i){case"animation":case"animationName":{r+=r1(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var lP=/label:\s*([^\s;{]+)\s*(;|$)/g,si;function DF(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";si=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Yh(n,e,i);else{var a=i;s+=a[0]}for(var l=1;l<t.length;l++)if(s+=Yh(n,e,t[l]),r){var c=i;s+=c[l]}lP.lastIndex=0;for(var u="",d;(d=lP.exec(s))!==null;)u+="-"+d[1];var f=zge(s)+u;return{name:f,styles:s,next:si}}var Wge=function(e){return e()},qge=k3.useInsertionEffect?k3.useInsertionEffect:!1,Kge=qge||Wge,IF=T.createContext(typeof HTMLElement<"u"?_ge({key:"css"}):null);IF.Provider;var Gge=function(e){return T.forwardRef(function(n,r){var s=T.useContext(IF);return e(n,s,r)})},Yge=T.createContext({}),pj={}.hasOwnProperty,jw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xge=function(e,n){var r={};for(var s in n)pj.call(n,s)&&(r[s]=n[s]);return r[jw]=e,r},Qge=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return OF(n,r,s),Kge(function(){return Vge(n,r,s)}),null},Jge=Gge(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[jw],i=[r],a="";typeof t.className=="string"?a=Fge(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var l=DF(i,void 0,T.useContext(Yge));a+=e.key+"-"+l.name;var c={};for(var u in t)pj.call(t,u)&&u!=="css"&&u!==jw&&(c[u]=t[u]);return c.className=a,n&&(c.ref=n),T.createElement(T.Fragment,null,T.createElement(Qge,{cache:e,serialized:l,isStringTag:typeof s=="string"}),T.createElement(s,c))}),Zge=Jge,Be=function(e,n){var r=arguments;if(n==null||!pj.call(n,"css"))return T.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=Zge,i[1]=Xge(e,n);for(var a=2;a<s;a++)i[a]=r[a];return T.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Be||(Be={}));function gj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return DF(e)}function e0e(){var t=gj.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function t0e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const n0e=Math.min,r0e=Math.max,b0=Math.round,yp=Math.floor,v0=t=>({x:t,y:t});function s0e(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Mx(){return typeof window<"u"}function LF(t){return FF(t)?(t.nodeName||"").toLowerCase():"#document"}function ca(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function RF(t){var e;return(e=(FF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FF(t){return Mx()?t instanceof Node||t instanceof ca(t).Node:!1}function i0e(t){return Mx()?t instanceof Element||t instanceof ca(t).Element:!1}function xj(t){return Mx()?t instanceof HTMLElement||t instanceof ca(t).HTMLElement:!1}function cP(t){return!Mx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ca(t).ShadowRoot}const a0e=new Set(["inline","contents"]);function VF(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=yj(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!a0e.has(s)}function o0e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const l0e=new Set(["html","body","#document"]);function c0e(t){return l0e.has(LF(t))}function yj(t){return ca(t).getComputedStyle(t)}function u0e(t){if(LF(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cP(t)&&t.host||RF(t);return cP(e)?e.host:e}function zF(t){const e=u0e(t);return c0e(e)?t.ownerDocument?t.ownerDocument.body:t.body:xj(e)&&VF(e)?e:zF(e)}function w0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=zF(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=ca(s);if(i){const l=Cw(a);return e.concat(a,a.visualViewport||[],VF(s)?s:[],l&&n?w0(l):[])}return e.concat(s,w0(s,[],n))}function Cw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function d0e(t){const e=yj(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xj(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=b0(n)!==i||b0(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function bj(t){return i0e(t)?t:t.contextElement}function uP(t){const e=bj(t);if(!xj(e))return v0(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=d0e(e);let a=(i?b0(n.width):n.width)/r,l=(i?b0(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const h0e=v0(0);function f0e(t){const e=ca(t);return!o0e()||!e.visualViewport?h0e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m0e(t,e,n){return!1}function dP(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=bj(t);let a=v0(1);e&&(a=uP(t));const l=m0e()?f0e(i):v0(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const p=ca(i),g=r;let x=p,v=Cw(x);for(;v&&r&&g!==x;){const b=uP(v),w=v.getBoundingClientRect(),S=yj(v),j=w.left+(v.clientLeft+parseFloat(S.paddingLeft))*b.x,M=w.top+(v.clientTop+parseFloat(S.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=j,u+=M,x=ca(v),v=Cw(x)}}return s0e({width:d,height:f,x:c,y:u})}function $F(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function p0e(t,e){let n=null,r;const s=RF(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||e(),!p||!g)return;const x=yp(f),v=yp(s.clientWidth-(d+p)),b=yp(s.clientHeight-(f+g)),w=yp(d),j={rootMargin:-x+"px "+-v+"px "+-b+"px "+-w+"px",threshold:r0e(0,n0e(1,c))||1};let M=!0;function C(P){const A=P[0].intersectionRatio;if(A!==c){if(!M)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!$F(u,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(C,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,j)}n.observe(t)}return a(!0),i}function g0e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=bj(t),d=s||i?[...u?w0(u):[],...w0(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&l?p0e(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(w=>{let[S]=w;S&&S.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let x,v=c?dP(t):null;c&&b();function b(){const w=dP(t);v&&!$F(v,w)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(S=>{s&&S.removeEventListener("scroll",n),i&&S.removeEventListener("resize",n)}),f?.(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(x)}}var kw=T.useLayoutEffect,x0e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],N0=function(){};function y0e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function b0e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(y0e(t,a)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var hP=function(e){return E0e(e)?e.filter(Boolean):Vl(e)==="object"&&e!==null?[e]:[]},BF=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ma(e,x0e);return Ge({},n)},Zt=function(e,n,r){var s=e.cx,i=e.getStyles,a=e.getClassNames,l=e.className;return{css:i(n,e),className:s(r??{},a(n,e),l)}};function Px(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function v0e(t){return Px(t)?window.innerHeight:t.clientHeight}function HF(t){return Px(t)?window.pageYOffset:t.scrollTop}function S0(t,e){if(Px(t)){window.scrollTo(0,e);return}t.scrollTop=e}function w0e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function N0e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function bp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N0,s=HF(t),i=e-s,a=10,l=0;function c(){l+=a;var u=N0e(l,s,i,n);S0(t,u),l<n?window.requestAnimationFrame(c):r(t)}c()}function fP(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?S0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&S0(t,Math.max(e.offsetTop-s,0))}function S0e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function mP(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function j0e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var UF=!1,C0e={get passive(){return UF=!0}},vp=typeof window<"u"?window:{};vp.addEventListener&&vp.removeEventListener&&(vp.addEventListener("p",N0,C0e),vp.removeEventListener("p",N0,!1));var k0e=UF;function T0e(t){return t!=null}function E0e(t){return Array.isArray(t)}function wp(t,e,n){return t?e:n}var M0e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(a){var l=Zi(a,1),c=l[0];return!r.includes(c)});return i.reduce(function(a,l){var c=Zi(l,2),u=c[0],d=c[1];return a[u]=d,a},{})},P0e=["children","innerProps"],A0e=["children","innerProps"];function O0e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,a=t.isFixedPosition,l=t.controlHeight,c=w0e(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,p=n.getBoundingClientRect(),g=p.bottom,x=p.height,v=p.top,b=n.offsetParent.getBoundingClientRect(),w=b.top,S=a?window.innerHeight:v0e(c),j=HF(c),M=parseInt(getComputedStyle(n).marginBottom,10),C=parseInt(getComputedStyle(n).marginTop,10),P=w-C,A=S-v,E=P+j,D=f-j-v,L=g-S+j+M,_=j+v-C,V=160;switch(s){case"auto":case"bottom":if(A>=x)return{placement:"bottom",maxHeight:e};if(D>=x&&!a)return i&&bp(c,L,V),{placement:"bottom",maxHeight:e};if(!a&&D>=r||a&&A>=r){i&&bp(c,L,V);var G=a?A-M:D-M;return{placement:"bottom",maxHeight:G}}if(s==="auto"||a){var H=e,W=a?P:E;return W>=r&&(H=Math.min(W-M-l,e)),{placement:"top",maxHeight:H}}if(s==="bottom")return i&&S0(c,L),{placement:"bottom",maxHeight:e};break;case"top":if(P>=x)return{placement:"top",maxHeight:e};if(E>=x&&!a)return i&&bp(c,_,V),{placement:"top",maxHeight:e};if(!a&&E>=r||a&&P>=r){var R=e;return(!a&&E>=r||a&&P>=r)&&(R=a?P-C:E-C),i&&bp(c,_,V),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function _0e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var WF=function(e){return e==="auto"?"bottom":e},D0e=function(e,n){var r,s=e.placement,i=e.theme,a=i.borderRadius,l=i.spacing,c=i.colors;return Ge((r={label:"menu"},Hd(r,_0e(s),"100%"),Hd(r,"position","absolute"),Hd(r,"width","100%"),Hd(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},qF=T.createContext(null),I0e=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=T.useContext(qF)||{},d=u.setPortalPlacement,f=T.useRef(null),p=T.useState(s),g=Zi(p,2),x=g[0],v=g[1],b=T.useState(null),w=Zi(b,2),S=w[0],j=w[1],M=c.spacing.controlHeight;return kw(function(){var C=f.current;if(C){var P=a==="fixed",A=l&&!P,E=O0e({maxHeight:s,menuEl:C,minHeight:r,placement:i,shouldScroll:A,isFixedPosition:P,controlHeight:M});v(E.maxHeight),j(E.placement),d?.(E.placement)}},[s,i,a,l,r,d,M]),n({ref:f,placerProps:Ge(Ge({},e),{},{placement:S||WF(i),maxHeight:x})})},L0e=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return Be("div",Xe({},Zt(e,"menu",{menu:!0}),{ref:r},s),n)},R0e=L0e,F0e=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Ge({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},V0e=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return Be("div",Xe({},Zt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},KF=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ge({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},z0e=KF,$0e=KF,B0e=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=ma(e,P0e);return Be("div",Xe({},Zt(Ge(Ge({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},H0e=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=ma(e,A0e);return Be("div",Xe({},Zt(Ge(Ge({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},U0e=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},W0e=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,a=e.menuPlacement,l=e.menuPosition,c=T.useRef(null),u=T.useRef(null),d=T.useState(WF(a)),f=Zi(d,2),p=f[0],g=f[1],x=T.useMemo(function(){return{setPortalPlacement:g}},[]),v=T.useState(null),b=Zi(v,2),w=b[0],S=b[1],j=T.useCallback(function(){if(s){var A=S0e(s),E=l==="fixed"?0:window.pageYOffset,D=A[p]+E;(D!==w?.offset||A.left!==w?.rect.left||A.width!==w?.rect.width)&&S({offset:D,rect:A})}},[s,l,p,w?.offset,w?.rect.left,w?.rect.width]);kw(function(){j()},[j]);var M=T.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=g0e(s,c.current,j,{elementResize:"ResizeObserver"in window}))},[s,j]);kw(function(){M()},[M]);var C=T.useCallback(function(A){c.current=A,M()},[M]);if(!n&&l!=="fixed"||!w)return null;var P=Be("div",Xe({ref:C},Zt(Ge(Ge({},e),{},{offset:w.offset,position:l,rect:w.rect}),"menuPortal",{"menu-portal":!0}),i),r);return Be(qF.Provider,{value:x},n?iA.createPortal(P,n):P)},q0e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},K0e=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return Be("div",Xe({},Zt(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},G0e=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Ge({alignItems:"center",display:s&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Y0e=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return Be("div",Xe({},Zt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},X0e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Q0e=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},Zt(e,"indicatorsContainer",{indicators:!0}),r),n)},pP,J0e=["size"],Z0e=["innerProps","isRtl","size"],exe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},GF=function(e){var n=e.size,r=ma(e,J0e);return Be("svg",Xe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:exe},r))},vj=function(e){return Be(GF,Xe({size:20},e),Be("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},YF=function(e){return Be(GF,Xe({size:20},e),Be("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},XF=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return Ge({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},txe=XF,nxe=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},Zt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Be(YF,null))},rxe=XF,sxe=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},Zt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Be(vj,null))},ixe=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return Ge({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},axe=function(e){var n=e.innerProps;return Be("span",Xe({},n,Zt(e,"indicatorSeparator",{"indicator-separator":!0})))},oxe=e0e(pP||(pP=t0e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),lxe=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,a=i.colors,l=i.spacing.baseUnit;return Ge({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:l*2})},s1=function(e){var n=e.delay,r=e.offset;return Be("span",{css:gj({animation:"".concat(oxe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cxe=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,a=ma(e,Z0e);return Be("div",Xe({},Zt(Ge(Ge({},a),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Be(s1,{delay:0,offset:r}),Be(s1,{delay:160,offset:!0}),Be(s1,{delay:320,offset:!r}))},uxe=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,a=i.colors,l=i.borderRadius,c=i.spacing;return Ge({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:s?a.primary:a.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},dxe=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,a=e.innerProps,l=e.menuIsOpen;return Be("div",Xe({ref:i},Zt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),a,{"aria-disabled":r||void 0}),n)},hxe=dxe,fxe=["data"],mxe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},pxe=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,a=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Be("div",Xe({},Zt(e,"group",{group:!0}),c),Be(a,Xe({},l,{selectProps:f,theme:d,getStyles:s,getClassNames:i,cx:r}),u),Be("div",null,n))},gxe=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return Ge({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},xxe=function(e){var n=BF(e);n.data;var r=ma(n,fxe);return Be("div",Xe({},Zt(e,"groupHeading",{"group-heading":!0}),r))},yxe=pxe,bxe=["innerRef","isDisabled","isHidden","inputClassName"],vxe=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,a=i.spacing,l=i.colors;return Ge(Ge({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},wxe),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:l.neutral80})},QF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},wxe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ge({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},QF)},Nxe=function(e){return Ge({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},QF)},Sxe=function(e){var n=e.cx,r=e.value,s=BF(e),i=s.innerRef,a=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=ma(s,bxe);return Be("div",Xe({},Zt(e,"input",{"input-container":!0}),{"data-value":r||""}),Be("input",Xe({className:n({input:!0},c),ref:i,style:Nxe(l),disabled:a},u)))},jxe=Sxe,Cxe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors;return Ge({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},kxe=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,a=e.cropWithEllipsis;return Ge({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Txe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors,l=e.isFocused;return Ge({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},JF=function(e){var n=e.children,r=e.innerProps;return Be("div",r,n)},Exe=JF,Mxe=JF;function Pxe(t){var e=t.children,n=t.innerProps;return Be("div",Xe({role:"button"},n),e||Be(vj,{size:14}))}var Axe=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,a=e.isDisabled,l=e.removeProps,c=e.selectProps,u=r.Container,d=r.Label,f=r.Remove;return Be(u,{data:s,innerProps:Ge(Ge({},Zt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:c},Be(d,{data:s,innerProps:Ge({},Zt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),Be(f,{data:s,innerProps:Ge(Ge({},Zt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},Oxe=Axe,_xe=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.theme,l=a.spacing,c=a.colors;return Ge({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},Dxe=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.innerRef,l=e.innerProps;return Be("div",Xe({},Zt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:a,"aria-disabled":r},l),n)},Ixe=Dxe,Lxe=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return Ge({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Rxe=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},Zt(e,"placeholder",{placeholder:!0}),r),n)},Fxe=Rxe,Vxe=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,a=s.colors;return Ge({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},zxe=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return Be("div",Xe({},Zt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},$xe=zxe,Bxe={ClearIndicator:sxe,Control:hxe,DropdownIndicator:nxe,DownChevron:YF,CrossIcon:vj,Group:yxe,GroupHeading:xxe,IndicatorsContainer:Q0e,IndicatorSeparator:axe,Input:jxe,LoadingIndicator:cxe,Menu:R0e,MenuList:V0e,MenuPortal:W0e,LoadingMessage:H0e,NoOptionsMessage:B0e,MultiValue:Oxe,MultiValueContainer:Exe,MultiValueLabel:Mxe,MultiValueRemove:Pxe,Option:Ixe,Placeholder:Fxe,SelectContainer:K0e,SingleValue:$xe,ValueContainer:Y0e},Hxe=function(e){return Ge(Ge({},Bxe),e.components)},gP=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Uxe(t,e){return!!(t===e||gP(t)&&gP(e))}function Wxe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Uxe(t[n],e[n]))return!1;return!0}function qxe(t,e){e===void 0&&(e=Wxe);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var a=t.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}var Kxe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Gxe=function(e){return Be("span",Xe({css:Kxe},e))},xP=Gxe,Yxe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,a=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(n==="value"&&l)return"value ".concat(a," focused, ").concat(f(l,r),".");if(n==="menu"&&d){var p=c?" disabled":"",g="".concat(u?" selected":"").concat(p);return"".concat(a).concat(g,", ").concat(f(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Xxe=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,a=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,p=c.getOptionLabel,g=c.inputValue,x=c.isMulti,v=c.isOptionDisabled,b=c.isSearchable,w=c.menuIsOpen,S=c.options,j=c.screenReaderStatus,M=c.tabSelectsValue,C=c.isLoading,P=c["aria-label"],A=c["aria-live"],E=T.useMemo(function(){return Ge(Ge({},Yxe),f||{})},[f]),D=T.useMemo(function(){var W="";if(n&&E.onChange){var R=n.option,$=n.options,z=n.removedValue,K=n.removedValues,X=n.value,B=function(ee){return Array.isArray(ee)?null:ee},J=z||R||B(X),ne=J?p(J):"",se=$||K||void 0,me=se?se.map(p):[],Ee=Ge({isDisabled:J&&v(J,l),label:ne,labels:me},n);W=E.onChange(Ee)}return W},[n,E,v,l,p]),L=T.useMemo(function(){var W="",R=r||s,$=!!(r&&l&&l.includes(r));if(R&&E.onFocus){var z={focused:R,label:p(R),isDisabled:v(R,l),isSelected:$,options:i,context:R===r?"menu":"value",selectValue:l,isAppleDevice:d};W=E.onFocus(z)}return W},[r,s,p,v,E,i,l,d]),_=T.useMemo(function(){var W="";if(w&&S.length&&!C&&E.onFilter){var R=j({count:i.length});W=E.onFilter({inputValue:g,resultsMessage:R})}return W},[i,g,w,E,S,j,C]),V=n?.action==="initial-input-focus",G=T.useMemo(function(){var W="";if(E.guidance){var R=s?"value":w?"menu":"input";W=E.guidance({"aria-label":P,context:R,isDisabled:r&&v(r,l),isMulti:x,isSearchable:b,tabSelectsValue:M,isInitialFocus:V})}return W},[P,r,s,x,v,b,w,E,l,M,V]),H=Be(T.Fragment,null,Be("span",{id:"aria-selection"},D),Be("span",{id:"aria-focused"},L),Be("span",{id:"aria-results"},_),Be("span",{id:"aria-guidance"},G));return Be(T.Fragment,null,Be(xP,{id:u},V&&H),Be(xP,{"aria-live":A,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!V&&H))},Qxe=Xxe,Tw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Jxe=new RegExp("["+Tw.map(function(t){return t.letters}).join("")+"]","g"),ZF={};for(var i1=0;i1<Tw.length;i1++)for(var a1=Tw[i1],o1=0;o1<a1.letters.length;o1++)ZF[a1.letters[o1]]=a1.base;var e7=function(e){return e.replace(Jxe,function(n){return ZF[n]})},Zxe=qxe(e7),yP=function(e){return e.replace(/^\s+|\s+$/g,"")},eye=function(e){return"".concat(e.label," ").concat(e.value)},tye=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=Ge({ignoreCase:!0,ignoreAccents:!0,stringify:eye,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,a=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?yP(r):r,f=c?yP(l(n)):l(n);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),a&&(d=Zxe(d),f=e7(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},nye=["innerRef"];function rye(t){var e=t.innerRef,n=ma(t,nye),r=M0e(n,"onExited","in","enter","exit","appear");return Be("input",Xe({ref:e},r,{css:gj({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var sye=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function iye(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,a=T.useRef(!1),l=T.useRef(!1),c=T.useRef(0),u=T.useRef(null),d=T.useCallback(function(b,w){if(u.current!==null){var S=u.current,j=S.scrollTop,M=S.scrollHeight,C=S.clientHeight,P=u.current,A=w>0,E=M-C-j,D=!1;E>w&&a.current&&(r&&r(b),a.current=!1),A&&l.current&&(i&&i(b),l.current=!1),A&&w>E?(n&&!a.current&&n(b),P.scrollTop=M,D=!0,a.current=!0):!A&&-w>j&&(s&&!l.current&&s(b),P.scrollTop=0,D=!0,l.current=!0),D&&sye(b)}},[n,r,s,i]),f=T.useCallback(function(b){d(b,b.deltaY)},[d]),p=T.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),g=T.useCallback(function(b){var w=c.current-b.changedTouches[0].clientY;d(b,w)},[d]),x=T.useCallback(function(b){if(b){var w=k0e?{passive:!1}:!1;b.addEventListener("wheel",f,w),b.addEventListener("touchstart",p,w),b.addEventListener("touchmove",g,w)}},[g,p,f]),v=T.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",p,!1),b.removeEventListener("touchmove",g,!1))},[g,p,f]);return T.useEffect(function(){if(e){var b=u.current;return x(b),function(){v(b)}}},[e,x,v]),function(b){u.current=b}}var bP=["boxSizing","height","overflow","paddingRight","position"],vP={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function wP(t){t.cancelable&&t.preventDefault()}function NP(t){t.stopPropagation()}function SP(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function jP(){return"ontouchstart"in window||navigator.maxTouchPoints}var CP=!!(typeof window<"u"&&window.document&&window.document.createElement),Pd=0,Mc={capture:!1,passive:!1};function aye(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=T.useRef({}),i=T.useRef(null),a=T.useCallback(function(c){if(CP){var u=document.body,d=u&&u.style;if(r&&bP.forEach(function(x){var v=d&&d[x];s.current[x]=v}),r&&Pd<1){var f=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+f||0;Object.keys(vP).forEach(function(x){var v=vP[x];d&&(d[x]=v)}),d&&(d.paddingRight="".concat(g,"px"))}u&&jP()&&(u.addEventListener("touchmove",wP,Mc),c&&(c.addEventListener("touchstart",SP,Mc),c.addEventListener("touchmove",NP,Mc))),Pd+=1}},[r]),l=T.useCallback(function(c){if(CP){var u=document.body,d=u&&u.style;Pd=Math.max(Pd-1,0),r&&Pd<1&&bP.forEach(function(f){var p=s.current[f];d&&(d[f]=p)}),u&&jP()&&(u.removeEventListener("touchmove",wP,Mc),c&&(c.removeEventListener("touchstart",SP,Mc),c.removeEventListener("touchmove",NP,Mc)))}},[r]);return T.useEffect(function(){if(e){var c=i.current;return a(c),function(){l(c)}}},[e,a,l]),function(c){i.current=c}}var oye=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},lye={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function cye(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,a=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=iye({isEnabled:s,onBottomArrive:i,onBottomLeave:a,onTopArrive:l,onTopLeave:c}),d=aye({isEnabled:n}),f=function(g){u(g),d(g)};return Be(T.Fragment,null,n&&Be("div",{onClick:oye,css:lye}),e(f))}var uye={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},dye=function(e){var n=e.name,r=e.onFocus;return Be("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:uye,value:"",onChange:function(){}})},hye=dye;function wj(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function fye(){return wj(/^iPhone/i)}function t7(){return wj(/^Mac/i)}function mye(){return wj(/^iPad/i)||t7()&&navigator.maxTouchPoints>1}function pye(){return fye()||mye()}function gye(){return t7()||pye()}var xye=function(e){return e.label},yye=function(e){return e.label},bye=function(e){return e.value},vye=function(e){return!!e.isDisabled},wye={clearIndicator:rxe,container:q0e,control:uxe,dropdownIndicator:txe,group:mxe,groupHeading:gxe,indicatorsContainer:X0e,indicatorSeparator:ixe,input:vxe,loadingIndicator:lxe,loadingMessage:$0e,menu:D0e,menuList:F0e,menuPortal:U0e,multiValue:Cxe,multiValueLabel:kxe,multiValueRemove:Txe,noOptionsMessage:z0e,option:_xe,placeholder:Lxe,singleValue:Vxe,valueContainer:G0e},Nye={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Sye=4,n7=4,jye=38,Cye=n7*2,kye={baseUnit:n7,controlHeight:jye,menuGutter:Cye},l1={borderRadius:Sye,colors:Nye,spacing:kye},Tye={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:mP(),captureMenuScroll:!mP(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:tye(),formatGroupLabel:xye,getOptionLabel:yye,getOptionValue:bye,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:vye,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!j0e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function kP(t,e,n,r){var s=i7(t,e,n),i=a7(t,e,n),a=s7(t,e),l=j0(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:a,value:l,index:r}}function Zp(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(a,l){return kP(t,a,e,l)}).filter(function(a){return EP(t,a)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=kP(t,n,e,r);return EP(t,i)?i:void 0}).filter(T0e)}function r7(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,dj(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function TP(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,dj(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Eye(t,e){return r7(Zp(t,e))}function EP(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,a=e.label,l=e.value;return(!l7(t)||!i)&&o7(t,{label:a,value:l,data:s},r)}function Mye(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function Pye(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var c1=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},s7=function(e,n){return e.getOptionLabel(n)},j0=function(e,n){return e.getOptionValue(n)};function i7(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function a7(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=j0(t,e);return n.some(function(s){return j0(t,s)===r})}function o7(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var l7=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Aye=1,c7=(function(t){Qpe(n,t);var e=ege(n);function n(r){var s;if(Ype(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,f=d.onChange,p=d.name;u.name=p,s.ariaOnChange(c,u),f(c,u)},s.setValue=function(c,u,d){var f=s.props,p=f.closeMenuOnSelect,g=f.isMulti,x=f.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:x}),p&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,f=u.isMulti,p=u.name,g=s.state.selectValue,x=f&&s.isOptionSelected(c,g),v=s.isOptionDisabled(c,g);if(x){var b=s.getOptionValue(c);s.setValue(g.filter(function(w){return s.getOptionValue(w)!==b}),"deselect-option",c)}else if(!v)f?s.setValue([].concat(dj(g),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:p});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,f=s.getOptionValue(c),p=d.filter(function(x){return s.getOptionValue(x)!==f}),g=wp(u,p,p[0]||null);s.onChange(g,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(wp(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),p=wp(c,f,f[0]||null);d&&s.onChange(p,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return c1(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return TP(Zp(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return b0e.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return s7(s.props,c)},s.getOptionValue=function(c){return j0(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,f=wye[c](u,d);f.boxSizing="border-box";var p=s.props.styles[c];return p?p(f,u):f},s.getClassNames=function(c,u){var d,f;return(d=(f=s.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return Hxe(s.props)},s.buildCategorizedOptions=function(){return Zp(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return r7(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:Ge({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,f=u.menuIsOpen;s.focusInput(),f?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Px(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-s.initialTouchX),p=Math.abs(d.clientY-s.initialTouchY),g=5;s.userIsDragging=f>g||p>g}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return l7(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,f=u.backspaceRemovesValue,p=u.escapeClearsValue,g=u.inputValue,x=u.isClearable,v=u.isDisabled,b=u.menuIsOpen,w=u.onKeyDown,S=u.tabSelectsValue,j=u.openMenuOnFocus,M=s.state,C=M.focusedOption,P=M.focusedValue,A=M.selectValue;if(!v&&!(typeof w=="function"&&(w(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||g)return;s.focusValue("previous");break;case"ArrowRight":if(!d||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(P)s.removeValue(P);else{if(!f)return;d?s.popValue():x&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!b||!S||!C||j&&s.isOptionSelected(C,A))return;s.selectOption(C);break;case"Enter":if(c.keyCode===229)break;if(b){if(!C||s.isComposing)return;s.selectOption(C);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):x&&p&&s.clearValue();break;case" ":if(g)return;if(!b){s.openMenu("first");break}if(!C)return;s.selectOption(C);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Aye),s.state.selectValue=hP(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),a=s.buildFocusableOptions(),l=a.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=a[l],s.state.focusedOptionId=c1(i,a[l])}return s}return Xpe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&fP(this.menuListRef,this.focusedOptionRef),gye()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,a=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!a&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&a&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!a&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(fP(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,a=this.state,l=a.selectValue,c=a.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,a=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=a.indexOf(l);l||(c=-1);var u=a.length-1,d=-1;if(a.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:a[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(a);a||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(l1):Ge(Ge({},l1),this.props.theme):l1})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,a=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,p=f.isMulti,g=f.isRtl,x=f.options,v=this.hasValue();return{clearValue:s,cx:i,getStyles:a,getClassNames:l,getValue:c,hasValue:v,isMulti:p,isRtl:g,options:x,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,a=s.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(s,i){return i7(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return a7(this.props,s,i)}},{key:"filterOption",value:function(s,i){return o7(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:a,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,a=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,f=s.menuIsOpen,p=s.required,g=this.getComponents(),x=g.Input,v=this.state,b=v.inputIsHidden,w=v.ariaSelection,S=this.commonProps,j=l||this.getElementId("input"),M=Ge(Ge(Ge({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?w?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?T.createElement(x,Xe({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},M)):T.createElement(rye,Xe({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:N0,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},M))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),a=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,f=i.Placeholder,p=this.commonProps,g=this.props,x=g.controlShouldRenderValue,v=g.isDisabled,b=g.isMulti,w=g.inputValue,S=g.placeholder,j=this.state,M=j.selectValue,C=j.focusedValue,P=j.isFocused;if(!this.hasValue()||!x)return w?null:T.createElement(f,Xe({},p,{key:"placeholder",isDisabled:v,isFocused:P,innerProps:{id:this.getElementId("placeholder")}}),S);if(b)return M.map(function(E,D){var L=E===C,_="".concat(s.getOptionLabel(E),"-").concat(s.getOptionValue(E));return T.createElement(a,Xe({},p,{components:{Container:l,Label:c,Remove:u},isFocused:L,isDisabled:v,key:_,index:D,removeProps:{onClick:function(){return s.removeValue(E)},onTouchEnd:function(){return s.removeValue(E)},onMouseDown:function(G){G.preventDefault()}},data:E}),s.formatOptionLabel(E,"value"))});if(w)return null;var A=M[0];return T.createElement(d,Xe({},p,{data:A,isDisabled:v}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,Xe({},a,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return T.createElement(i,Xe({},a,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,a=s.IndicatorSeparator;if(!i||!a)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return T.createElement(a,Xe({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,Xe({},a,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),a=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,f=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,x=this.commonProps,v=this.state.focusedOption,b=this.props,w=b.captureMenuScroll,S=b.inputValue,j=b.isLoading,M=b.loadingMessage,C=b.minMenuHeight,P=b.maxMenuHeight,A=b.menuIsOpen,E=b.menuPlacement,D=b.menuPosition,L=b.menuPortalTarget,_=b.menuShouldBlockScroll,V=b.menuShouldScrollIntoView,G=b.noOptionsMessage,H=b.onMenuScrollToTop,W=b.onMenuScrollToBottom;if(!A)return null;var R=function(ne,se){var me=ne.type,Ee=ne.data,ce=ne.isDisabled,ee=ne.isSelected,ie=ne.label,fe=ne.value,Te=v===Ee,Se=ce?void 0:function(){return s.onOptionHover(Ee)},we=ce?void 0:function(){return s.selectOption(Ee)},_e="".concat(s.getElementId("option"),"-").concat(se),Ye={id:_e,onClick:we,onMouseMove:Se,onMouseOver:Se,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:ee};return T.createElement(g,Xe({},x,{innerProps:Ye,data:Ee,isDisabled:ce,isSelected:ee,key:_e,label:ie,type:me,value:fe,isFocused:Te,innerRef:Te?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ne.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(J){if(J.type==="group"){var ne=J.data,se=J.options,me=J.index,Ee="".concat(s.getElementId("group"),"-").concat(me),ce="".concat(Ee,"-heading");return T.createElement(a,Xe({},x,{key:Ee,data:ne,options:se,Heading:l,headingProps:{id:ce,data:J.data},label:s.formatGroupLabel(J.data)}),J.options.map(function(ee){return R(ee,"".concat(me,"-").concat(ee.index))}))}else if(J.type==="option")return R(J,"".concat(J.index))});else if(j){var z=M({inputValue:S});if(z===null)return null;$=T.createElement(f,x,z)}else{var K=G({inputValue:S});if(K===null)return null;$=T.createElement(p,x,K)}var X={minMenuHeight:C,maxMenuHeight:P,menuPlacement:E,menuPosition:D,menuShouldScrollIntoView:V},B=T.createElement(I0e,Xe({},x,X),function(J){var ne=J.ref,se=J.placerProps,me=se.placement,Ee=se.maxHeight;return T.createElement(c,Xe({},x,X,{innerRef:ne,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:j,placement:me}),T.createElement(cye,{captureEnabled:w,onTopArrive:H,onBottomArrive:W,lockEnabled:_},function(ce){return T.createElement(u,Xe({},x,{innerRef:function(ie){s.getMenuListRef(ie),ce(ie)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:s.getElementId("listbox")},isLoading:j,maxHeight:Ee,focusedOption:v}),$)}))});return L||D==="fixed"?T.createElement(d,Xe({},x,{appendTo:L,controlElement:this.controlRef,menuPlacement:E,menuPosition:D}),B):B}},{key:"renderFormField",value:function(){var s=this,i=this.props,a=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return T.createElement(hye,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(a){var p=f.map(function(v){return s.getOptionValue(v)}).join(a);return T.createElement("input",{name:u,type:"hidden",value:p})}else{var g=f.length>0?f.map(function(v,b){return T.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(v)})}):T.createElement("input",{name:u,type:"hidden",value:""});return T.createElement("div",null,g)}else{var x=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:u,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,a=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,f=this.getFocusableOptions();return T.createElement(Qxe,Xe({},s,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,a=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,f=u.id,p=u.isDisabled,g=u.menuIsOpen,x=this.state.isFocused,v=this.commonProps=this.getCommonProps();return T.createElement(l,Xe({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:x}),this.renderLiveRegion(),T.createElement(i,Xe({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:x,menuIsOpen:g}),T.createElement(c,Xe({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(a,Xe({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var a=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,f=i.prevWasFocused,p=i.instancePrefix,g=s.options,x=s.value,v=s.menuIsOpen,b=s.inputValue,w=s.isMulti,S=hP(x),j={};if(a&&(x!==a.value||g!==a.options||v!==a.menuIsOpen||b!==a.inputValue)){var M=v?Eye(s,S):[],C=v?TP(Zp(s,S),"".concat(p,"-option")):[],P=l?Mye(i,S):null,A=Pye(i,M),E=c1(C,A);j={selectValue:S,focusedOption:A,focusedOptionId:E,focusableOptionsWithIds:C,focusedValue:P,clearFocusValueOnUpdate:!1}}var D=c!=null&&s!==a?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},L=u,_=d&&f;return d&&!_&&(L={value:wp(w,S,S[0]||null),options:S,action:"initial-input-focus"},_=!f),u?.action==="initial-input-focus"&&(L=null),Ge(Ge(Ge({},j),D),{},{prevProps:s,ariaSelection:L,prevWasFocused:_})}}]),n})(T.Component);c7.defaultProps=Tye;var Oye=T.forwardRef(function(t,e){var n=Gpe(t);return T.createElement(c7,Xe({ref:e},n))}),ea=Oye;function _ye({openModalProduct:t,setOpenModalProduct:e,selectorderItems:n,products:r,setFilterProduct:s,setValue:i}){const[a,l]=T.useState(null),[c,u]=T.useState({productName:"",categoryId:void 0}),{data:d}=Fe({queryKey:["getAllCategory"],queryFn:Eu}),f=()=>{s(g=>({...g,categoryId:c.categoryId,productName:c.productName}))},p=g=>{if(n.some(v=>v.variantId===g.variantId)){de.error("Sn phm ny  c trong danh sch");return}i("orderItems",[...n,g],{shouldValidate:!0,shouldDirty:!0}),e(!1)};return o.jsxs(bt,{open:t,className:"relative w-[80rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(!1),children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[2rem]",children:"Chn sn phm"}),a?o.jsx(Dye,{product:a,onBack:()=>l(null),onAdd:p}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] shadow-lg p-[2rem] border border-gray-100 rounded-xl",children:[o.jsx("input",{type:"text",name:"productName",placeholder:"Tn sn phm...",value:c.productName,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value}))}),o.jsxs("select",{name:"categoryId",id:"categoryId",value:c.categoryId,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 text-gray-600 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value})),children:[o.jsx("option",{value:"",children:"Danh mc"}),d?.map(g=>o.jsx("option",{value:g.id,children:g.categoryName},g.id))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onClick:()=>f(),children:[o.jsx(F,{icon:vs}),o.jsx("span",{className:"block",children:"Lc"})]})]}),o.jsx("div",{className:"min-h-[28rem] max-h-[40rem] overflow-auto",children:r?.length>0?o.jsx("div",{className:"grid grid-cols-4 max-h-[40rem] gap-[2rem] mt-[2rem]",children:r?.map(g=>o.jsxs("div",{className:"border border-gray-200 shadow-lg rounded-xl p-4 hover:shadow-xl hover:scale-[1.02] hover-linear cursor-pointer group",onClick:()=>l(g),children:[o.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden",children:o.jsx("img",{src:g.mainImage,alt:g.productName,className:"w-full h-full object-cover"})}),o.jsx("h4",{className:"font-medium text-limit-1 text-gray-800 mb-1",children:g.productName}),o.jsxs("p",{className:"text-sm text-gray-500",children:[g.variants.length," phin bn"]}),o.jsx("p",{className:"text-[1.4rem] text-green-600 font-semibold mt-2",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g.price)})]},g.id))}):o.jsx("div",{className:"w-full text-center mt-[2rem]",children:"Khng c sn phm no"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] mt-[2rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:()=>e(!1),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",children:"Chn"})]})]})]})}function Dye({product:t,onBack:e,onAdd:n}){const[r,s]=T.useState(null),[i,a]=T.useState(null),[l,c]=T.useState(1),u=()=>t.variants.find(w=>w.variantColor.id===i?.id&&w.variantSize.id===r?.id)?.inventory??0;T.useEffect(()=>{const b=u();if(!i||!r){c(1);return}c(w=>w>b?b>0?b:1:w)},[i,r]);const d=i&&r,f=t.variants.reduce((b,w)=>b+w.inventory,0),p=u(),g=T.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantColor.id,w.variantColor)),[...b.values()]},[t]),x=T.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantSize.id,w.variantSize)),[...b.values()]},[t]),v=()=>{const b=t.category.categoryName?.toUpperCase()||"";return b.includes("giy")||b.includes("dp")?iN:oN};return o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:" Quay li"}),o.jsxs("div",{className:"flex gap-[2rem] w-full max-h-[55rem] overflow-y-auto hide-scrollbar",children:[o.jsx("div",{className:"w-[30rem] h-[30rem] rounded-xl ",children:o.jsx("img",{src:t.mainImage,alt:`imgage-${t.productName}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800 font-bold",children:t.productName}),o.jsxs("div",{className:"flex items-center gap-[.1rem] mt-[1rem]",children:[o.jsx(F,{icon:ms,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ms,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ms,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ms,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ms,className:"text-[1rem] text-amber-400"})]}),o.jsxs("div",{className:"mt-[1rem] flex items-center gap-[.5rem]",children:[o.jsx("span",{className:"text-gray-600",children:"Gi gc"}),o.jsx("span",{className:"text-green-600 text-[2rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.price)})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("span",{className:"block text-gray-600",children:"Chn mu:"}),o.jsx("div",{className:"flex items-center gap-[1rem] w-full flex-wrap mt-[.5rem]",children:g.map(b=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${i?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>a(b),children:[o.jsx(F,{icon:v(),className:"bg-gray-100 p-[.2rem]",style:{color:b.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:b.name})]},b.id))}),o.jsx("span",{className:"block text-gray-600 mt-[2rem]",children:"Chn size:"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap mt-[.5rem]",children:x?.map(b=>{const w=i?t.variants.find(S=>S.variantColor.id===i.id&&S.variantSize.id===b?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[2rem] py-[.6rem] border rounded-[.5rem] ${w?r?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!w,onClick:()=>s(b),children:o.jsx("span",{className:"text-[1.4rem]",children:b.name})},b.id)})}),o.jsxs("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:[o.jsx("span",{className:"block text-gray-600 ",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{i&&r&&c(b=>Math.max(1,b-1))},children:o.jsx(F,{icon:Ml,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:l,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!d,onChange:b=>c(Number(b.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{r&&i&&c(b=>Math.min(Number(t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r?.id)?.inventory),Number(b)+1))},children:o.jsx(F,{icon:aa,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 uppercase select-none",children:d?`Cn ${p} sn phm`:f>0?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex justify-end items-center mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:e,children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",onClick:()=>{if(!i||!r){de.error("Vui lng chn mu sc v size!");return}const b=t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r.id);if(!b){de.error("Sn phm khng tn ti trong kho!");return}n({productId:t.id,variantId:b.id,quantity:l,price:b.price??t.price})},children:"Chn"})]})]})]})]})}function Iye({open:t,onClose:e,refetch:n}){const{register:r,handleSubmit:s,control:i,setValue:a,watch:l,formState:{errors:c,isSubmitting:u},reset:d}=$s({resolver:wF(Vpe),defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerProvince:"",customerDistrict:"",customerWard:"",customerNote:"",paymentMethod:le.PaymentMethod.COD,couponCode:"",orderItems:[]},mode:"onSubmit",reValidateMode:"onChange"}),{data:f}=Fe({queryKey:["province"],queryFn:uj}),[p,g]=T.useState({page:1,limit:20,productName:"",categoryId:void 0}),{data:x}=Fe({queryKey:["products",p],queryFn:RN}),[v,b]=T.useState(!1),w=l("customerProvince"),S=l("customerDistrict"),j=l("orderItems"),C=f?.find(R=>R.name===w)?.districts??[],A=C.find(R=>R.name===S)?.wards??[],E=f?.map(R=>({value:R.name,label:R.name})),D=C?.map(R=>({value:R.name,label:R.name})),L=A?.map(R=>({value:R.name,label:R.name})),V=j.reduce((R,$)=>{const z=x?.find(B=>B.id===$.productId),X=z?.variants.find(B=>B.id===$.variantId)?.price??z?.price??0;return R+X*$.quantity},0),G=async R=>{try{const $=await xe.post("/api/v1/orders/create",R);$.status?(de.success($.message||"To n hng thnh cng"),await n(),e()):de.error($.message||"To n hng tht bi")}catch($){console.log($),de.error($.message||"Li khng th t hng! ")}},H=(R,$)=>{const z=[...j],K=z[R];$==="decre"?K.quantity>1&&(K.quantity-=1):K.quantity+=1,a("orderItems",z,{shouldValidate:!0,shouldDirty:!0})},W=R=>{const $=j.filter((z,K)=>K!==R);a("orderItems",$,{shouldValidate:!0,shouldDirty:!0})};return o.jsxs(bt,{open:t,className:"relative w-[80%] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e(),d()},children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[3rem]",children:"To n hng"}),o.jsxs("form",{onSubmit:s(G),children:[o.jsxs("div",{className:"flex max-h-[55rem] overflow-auto",children:[o.jsxs("div",{className:"w-[45%] pr-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin sn phm"}),o.jsx("label",{className:"text-gray-600",children:"Thm sn phm"}),o.jsxs("div",{className:"w-full h-[10rem] mt-[.5rem] flex flex-col items-center justify-center border-[.3rem] border-gray-300 border-dashed rounded-xl text-gray-600 cursor-pointer",onClick:()=>b(!0),children:[o.jsx(F,{icon:Xr,className:"text-[2rem] text-gray-500"}),o.jsx("span",{children:"Thm sn phm"})]}),c.orderItems&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.orderItems.message}),o.jsxs("label",{className:"block text-gray-600 mt-[2rem]",children:["Sn phm  chn (",j.length,")"]}),j.length===0&&o.jsx("div",{className:"p-[1.5rem] text-gray-500 text-center",children:"Cha c sn phm no"}),o.jsx("div",{className:"mt-[1rem] w-full max-h-[30rem] overflow-x-auto",children:o.jsx("div",{className:"min-w-[48rem] space-y-2",children:j.map((R,$)=>{const z=x.find(B=>B.id===R.productId),K=z.variants.find(B=>B.id===R.variantId),X=K?.price??z.price;return o.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border border-gray-300 rounded-xl bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[18rem]",children:[o.jsx("img",{src:z.mainImage,alt:`main image ${z.productName}`,className:"w-[4rem] h-[4rem] rounded-md object-cover"}),o.jsxs("div",{className:"max-w-[15rem]",children:[o.jsx("h5",{className:"text-gray-800 text-[1.4rem] text-limit-1",children:z.productName}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] border-r border-gray-500",children:["Size: ",K?.variantSize.name]}),o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] pl-[.5rem]",children:["Mu: ",K?.variantColor.name]})]}),o.jsx("span",{className:"text-[1.2rem] text-green-800 ",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(X)})]})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] min-w-[8rem]",children:[o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>H($,"decre"),children:o.jsx(F,{icon:Ml,className:"text-[1rem]"})}),o.jsx("input",{type:"number",id:`quantity-${$}`,name:`quantity-${$}`,value:R.quantity,className:"w-[3.5rem] h-[2.5rem] rounded-lg border border-gray-300 outline-none text-[1rem] pl-[.5rem]"}),o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>H($,"incre"),children:o.jsx(F,{icon:aa,className:"text-[1rem]"})})]}),o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[8rem]",children:[o.jsx("span",{className:"text-[1.4rem] select-none",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(X*R.quantity)}),o.jsx("button",{type:"button",className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg bg-red-100 cursor-pointer",onClick:()=>W($),children:o.jsx(F,{icon:Su,className:"text-[1.2rem] text-red-400"})})]})]},$)})})}),o.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm p-6 mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(V)})]}),o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium block mb-3",children:"M gim gi:"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"text",id:"couponCode",placeholder:"Nhp m gim gi",className:"flex-1 h-[4rem] px-4 outline-none border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),o.jsx("button",{type:"button",className:"w-28 h-[4rem] text-[1.4rem] font-medium rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transition-all shadow-sm hover:shadow-md",children:"p dng"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-3 mt-2",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Gim gi:"}),o.jsx("span",{className:"text-red-500 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"py-3 border-t border-gray-200 mt-4 pt-4",children:[o.jsx("h4",{className:"text-[1.4rem] text-gray-800 font-bold mb-2",children:"Phng thc thanh ton"}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs",children:""})}),o.jsx("p",{className:"text-[1.4rem]",children:"Thanh ton khi nhn hng (COD)"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-gray-200 mt-4 pt-4 bg-gray-50 -mx-6 px-6 rounded-b-xl",children:[o.jsx("span",{className:"text-gray-800 font-bold text-[1.8rem]",children:"Tng thanh ton:"}),o.jsx("span",{className:"text-green-600 font-bold text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(V)})]})]})]}),o.jsxs("div",{className:"w-[55%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerName",className:"text-gray-600",children:"Tn khch hng"}),o.jsx("input",{type:"text",id:"customerName",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerName")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email khch hng"}),o.jsx("input",{type:"email",id:"customerEmail",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem]  focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerEmail")}),c.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerEmail.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",id:"customerPhone",placeholder:"St khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerPhone")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]})}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem]  mt-[.5rem]",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(li,{control:i,name:"customerProvince",render:({field:R})=>o.jsx(ea,{...R,options:E,placeholder:"Tnh...",isSearchable:!0,value:E?.find($=>$.value===R.value)||null,onChange:$=>{R.onChange($?.value),a("customerDistrict",""),a("customerWard","")},styles:{control:($,z)=>({...$,height:"4rem"})},theme:$=>({...$,colors:{...$.colors,primary:"cyan"}})})}),c.customerProvince&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerProvince.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(li,{control:i,name:"customerDistrict",render:({field:R})=>o.jsx(ea,{...R,options:D,placeholder:"Huyn...",isSearchable:!0,value:D?.find($=>$.value===R.value)||null,onChange:$=>{R.onChange($?.value),a("customerWard","")},styles:{control:$=>({...$,height:"4rem"})},theme:$=>({...$,colors:{...$.colors,primary:"cyan"}})})}),c.customerDistrict&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerDistrict.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(li,{control:i,name:"customerWard",render:({field:R})=>o.jsx(ea,{...R,options:L,placeholder:"Phng...",isSearchable:!0,value:L?.find($=>$.value===R.value)||null,onChange:$=>{R.onChange($?.value)},styles:{control:$=>({...$,height:"4rem"})},theme:$=>({...$,colors:{...$.colors,primary:"cyan"}})})}),c.customerWard&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerWard.message})]})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"customerAddress",className:"text-gray-600",children:"Tn ng / x / s nh"}),o.jsx("input",{type:"text",id:"customerAddress",placeholder:"...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerAddress")}),c.customerAddress&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerAddress.message})]}),o.jsx("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerNote",className:"text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{id:"customerNote",placeholder:"Ghi ch...",rows:3,className:"w-full rounded-lg border border-gray-300 outline-none px-[1.5rem] pt-[.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerNote")}),c.customerNote&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerNote.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e(),d()},disabled:u,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:u,children:u?"ang to...":"To"})]})]}),o.jsx(_ye,{openModalProduct:v,setOpenModalProduct:b,selectorderItems:j,products:x,setFilterProduct:g,setValue:a})]})}const $n=t=>({[le.OrderStatus.PENDING]:{text:"Ch xc nhn",bgColor:"bg-amber-100",textColor:"text-amber-600",borderColor:"border-amber-200"},[le.OrderStatus.CONFIRMED]:{text:" xc nhn",bgColor:"bg-blue-100",textColor:"text-blue-600",borderColor:"border-blue-200"},[le.OrderStatus.SHIPPING]:{text:"ang giao",bgColor:"bg-indigo-100",textColor:"text-indigo-600",borderColor:"border-indigo-200"},[le.OrderStatus.DELIVERED]:{text:" giao",bgColor:"bg-emerald-100",textColor:"text-emerald-600",borderColor:"border-emerald-200"},[le.OrderStatus.COMPLETED]:{text:"Hon thnh",bgColor:"bg-green-100",textColor:"text-green-600",borderColor:"border-green-200"},[le.OrderStatus.CANCELLED]:{text:" hy",bgColor:"bg-red-100",textColor:"text-red-600",borderColor:"border-red-200"}})[t]||{text:t,bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-200"};function u7({open:t,onClose:e,orderData:n,refetch:r}){const[s,i]=T.useState(null),[a,l]=T.useState(!1);T.useEffect(()=>{n&&i(n.status)},[n]);const c=async()=>{if(!n?.id){de.error("Khng c id ca sn phm");return}l(!0);try{const u=await xe.patch(`/api/v1/orders/update-status/${n?.id}`,{status:s});u.status?(de.success(u.message||"Cp nht thnh cng!"),await r(),e()):(de.error(u.message||"Cp nht khng thnh cng!"),e())}catch(u){console.log(u),e(),de.error(u.message||"Li khng th cp nht trng thi!")}finally{l(!1)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-amber-600 text-center font-semibold mb-[2rem]",children:"Cp nht trng thi"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Trng thi n hng"}),o.jsx("select",{name:"status",id:"status",value:s??void 0,className:"w-full h-[4rem] rounded-lg border border-gray-300 mt-[.5rem] outline-none pl-[1.5rem] text-gray-600",onChange:u=>i(u.target.value),children:Object.entries(le.OrderStatus).map(([u,d])=>o.jsx("option",{value:d,children:$n(d).text},u))})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:a,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:a,onClick:()=>c(),children:a?"ang cp nht...":"Cp nht"})]})]})}var eg={exports:{}},Lye=eg.exports,MP;function Rye(){return MP||(MP=1,(function(t,e){(function(n,r){t.exports=r(pu())})(typeof self<"u"?self:Lye,function(n){return(function(){var r={155:function(S){S.exports=n}},s={};function i(S){var j=s[S];if(j!==void 0)return j.exports;var M=s[S]={exports:{}};return r[S](M,M.exports,i),M.exports}i.d=function(S,j){for(var M in j)i.o(j,M)&&!i.o(S,M)&&Object.defineProperty(S,M,{enumerable:!0,get:j[M]})},i.o=function(S,j){return Object.prototype.hasOwnProperty.call(S,j)},i.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{useReactToPrint:function(){return w}});var l=i(155);const c="printWindow";function u({level:S="error",messages:j,suppressErrors:M=!1}){M||(S==="error"?console.error(j):S==="warning"?console.warn(j):console.debug(j))}function d(S,j){if(j||!S){const M=document.getElementById(c);M&&document.body.removeChild(M)}}function f(S){return S instanceof Error?S:new Error("Unknown Error")}function p(S,j){const{documentTitle:M,onAfterPrint:C,onPrintError:P,preserveAfterPrint:A,print:E,suppressErrors:D}=j;setTimeout(()=>{var L,_;if(S.contentWindow){let G=function(){C?.(),d(A)};var V=G;if(S.contentWindow.focus(),E)E(S).then(G).catch(H=>{P?P("print",f(H)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:D})});else{if(S.contentWindow.print){const H=(_=(L=S.contentDocument)===null||L===void 0?void 0:L.title)!==null&&_!==void 0?_:"",W=S.ownerDocument.title;M&&(S.ownerDocument.title=M,S.contentDocument&&(S.contentDocument.title=M)),S.contentWindow.print(),M&&(S.ownerDocument.title=W,S.contentDocument&&(S.contentDocument.title=H))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:D});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(H=>{var W,R;return((R=(W=navigator.userAgent)!==null&&W!==void 0?W:navigator.vendor)!==null&&R!==void 0?R:"opera"in window&&window.opera).match(H)})?setTimeout(G,500):G()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:D})},500)}function g(S){const j=[],M=document.createTreeWalker(S,NodeFilter.SHOW_ELEMENT,null);let C=M.nextNode();for(;C;)j.push(C),C=M.nextNode();return j}function x(S,j,M){const C=g(S),P=g(j);if(C.length===P.length)for(let A=0;A<C.length;A++){const E=C[A],D=P[A],L=E.shadowRoot;if(L!==null){const _=D.attachShadow({mode:L.mode});_.innerHTML=L.innerHTML,x(L,_,M)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",S,j],suppressErrors:M})}const v=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(S,j,M,C){var P,A,E,D,L;const{contentNode:_,clonedContentNode:V,clonedImgNodes:G,clonedVideoNodes:H,numResourcesToLoad:W,originalCanvasNodes:R}=M,{bodyClass:$,fonts:z,ignoreGlobalStyles:K,pageStyle:X,nonce:B,suppressErrors:J,copyShadowRoots:ne}=C;S.onload=null;const se=(P=S.contentDocument)!==null&&P!==void 0?P:(A=S.contentWindow)===null||A===void 0?void 0:A.document;if(se){const me=se.body.appendChild(V);ne&&x(_,me,!!J),z&&(!((E=S.contentDocument)===null||E===void 0)&&E.fonts&&(!((D=S.contentWindow)===null||D===void 0)&&D.FontFace)?z.forEach(Se=>{const we=new FontFace(Se.family,Se.source,{weight:Se.weight,style:Se.style});S.contentDocument.fonts.add(we),we.loaded.then(()=>{j(we)}).catch(_e=>{j(we,["Failed loading the font:",we,"Load error:",f(_e)])})}):(z.forEach(Se=>{j(Se)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:J})));const Ee=X??v,ce=se.createElement("style");B&&(ce.setAttribute("nonce",B),se.head.setAttribute("nonce",B)),ce.appendChild(se.createTextNode(Ee)),se.head.appendChild(ce),$&&se.body.classList.add(...$.split(" "));const ee=se.querySelectorAll("canvas");for(let Se=0;Se<R.length;++Se){const we=R[Se],_e=ee[Se];if(_e===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",we],suppressErrors:J});continue}const Ye=_e.getContext("2d");Ye&&Ye.drawImage(we,0,0)}for(let Se=0;Se<G.length;Se++){const we=G[Se],_e=we.getAttribute("src");if(_e){const Ye=new Image;Ye.onload=()=>{j(we)},Ye.onerror=(gt,Rt,gr,gn,q)=>{j(we,["Error loading <img>",we,"Error",q])},Ye.src=_e}else j(we,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',we])}for(let Se=0;Se<H.length;Se++){const we=H[Se];we.preload="auto";const _e=we.getAttribute("poster");if(_e){const Ye=new Image;Ye.onload=()=>{j(we)},Ye.onerror=(gt,Rt,gr,gn,q)=>{j(we,["Error loading video poster",_e,"for video",we,"Error:",q])},Ye.src=_e}else we.readyState>=2?j(we):we.src?(we.onloadeddata=()=>{j(we)},we.onerror=(Ye,gt,Rt,gr,gn)=>{j(we,["Error loading video",we,"Error",gn])},we.onstalled=()=>{j(we,["Loading video stalled, skipping",we])}):j(we,["Error loading video, `src` is empty",we])}const ie="select",fe=_.querySelectorAll(ie),Te=se.querySelectorAll(ie);for(let Se=0;Se<fe.length;Se++)Te[Se].value=fe[Se].value;if(!K){const Se=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let we=0,_e=Se.length;we<_e;++we){const Ye=Se[we];if(Ye.tagName.toLowerCase()==="style"){const gt=se.createElement(Ye.tagName),Rt=Ye.sheet;if(Rt){let gr="";try{const gn=Rt.cssRules.length;for(let q=0;q<gn;++q)typeof Rt.cssRules[q].cssText=="string"&&(gr+=`${Rt.cssRules[q].cssText}\r
`)}catch(gn){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ye,`Original error: ${f(gn).message}`],level:"warning"})}gt.setAttribute("id",`react-to-print-${we}`),B&&gt.setAttribute("nonce",B),gt.appendChild(se.createTextNode(gr)),se.head.appendChild(gt)}}else if(Ye.getAttribute("href"))if(Ye.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ye],level:"warning"}),j(Ye);else{const gt=se.createElement(Ye.tagName);for(let Rt=0,gr=Ye.attributes.length;Rt<gr;++Rt){const gn=Ye.attributes[Rt];gn&&gt.setAttribute(gn.nodeName,(L=gn.nodeValue)!==null&&L!==void 0?L:"")}gt.onload=()=>{j(gt)},gt.onerror=(Rt,gr,gn,q,te)=>{j(gt,["Failed to load",gt,"Error:",te])},B&&gt.setAttribute("nonce",B),se.head.appendChild(gt)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ye],level:"warning"}),j(Ye)}}}W===0&&p(S,C)}function w({bodyClass:S,contentRef:j,copyShadowRoots:M,documentTitle:C,fonts:P,ignoreGlobalStyles:A,nonce:E,onAfterPrint:D,onBeforePrint:L,onPrintError:_,pageStyle:V,preserveAfterPrint:G,print:H,printIframeProps:W,suppressErrors:R}){return(0,l.useCallback)(z=>{function K(){const X={bodyClass:S,contentRef:j,copyShadowRoots:M,documentTitle:C,fonts:P,ignoreGlobalStyles:A,nonce:E,onAfterPrint:D,onPrintError:_,pageStyle:V,preserveAfterPrint:G,print:H,suppressErrors:R},B=(function(se){const me=document.createElement("iframe");return me.width=`${document.documentElement.clientWidth}px`,me.height=`${document.documentElement.clientHeight}px`,me.style.position="absolute",me.style.top=`-${document.documentElement.clientHeight+100}px`,me.style.left=`-${document.documentElement.clientWidth+100}px`,me.id=c,me.srcdoc="<!DOCTYPE html>",se&&(se.allow&&(me.allow=se.allow),se.referrerPolicy!==void 0&&(me.referrerPolicy=se.referrerPolicy),se.sandbox!==void 0&&(me.sandbox=se.sandbox)),me})(W),J=(function(se,me){const{contentRef:Ee,fonts:ce,ignoreGlobalStyles:ee,suppressErrors:ie}=me,fe=(function({contentRef:gt,optionalContent:Rt,suppressErrors:gr}){return Rt&&typeof Rt=="function"?(gt&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Rt()):gt?gt.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:gr})})({contentRef:Ee,optionalContent:se,suppressErrors:ie});if(!fe)return;const Te=fe.cloneNode(!0),Se=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),we=Te.querySelectorAll("img"),_e=Te.querySelectorAll("video"),Ye=ce?ce.length:0;return{contentNode:fe,clonedContentNode:Te,clonedImgNodes:we,clonedVideoNodes:_e,numResourcesToLoad:(ee?0:Se.length)+we.length+_e.length+Ye,originalCanvasNodes:fe.querySelectorAll("canvas")}})(z,X);if(!J)return void u({messages:["There is nothing to print"],suppressErrors:R});const ne=(function(se,me,Ee){const{suppressErrors:ce}=se,ee=[],ie=[];return function(fe,Te){ee.includes(fe)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",fe],suppressErrors:ce}):(Te?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Te],suppressErrors:ce}),ie.push(fe)):ee.push(fe),ee.length+ie.length===me&&p(Ee,se))}})(X,J.numResourcesToLoad,B);(function(se,me,Ee,ce){se.onload=()=>{b(se,me,Ee,ce)},document.body.appendChild(se)})(B,ne,J,X)}d(G,!0),L?L().then(()=>{K()}).catch(X=>{_?.("onBeforePrint",f(X))}):K()},[S,j,M,C,P,A,E,D,L,_,V,G,H,R])}return a})()})})(eg)),eg.exports}var Fye=Rye();const d7=ve.forwardRef(({order:t},e)=>{const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=t.orderItems?.reduce((i,a)=>{const l=a.variant?.price!==null&&a.variant?.price!==void 0?a.variant.price:a.variant?.product?.price||0;return i+l*a.quantity},0)||0;return o.jsxs("div",{ref:e,style:{padding:"2rem"},className:"print-container",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-[2.2rem] font-bold mb-2",children:"NTK.SHOP"}),o.jsx("p",{className:"text-gray-700 mb-1",children:"phng L Bnh, Qun Ci Rng, TP. Cn Th"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"T: 0357 124 853"}),o.jsx("h2",{className:"text-[2.2rem] font-bold",children:"HA N THANH TON"})]}),o.jsxs("div",{className:"flex justify-between items-start mt-[4rem] mb-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy in:"}),o.jsx("span",{className:"font-semibold",children:r(new Date().toISOString())})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Khch hng:"}),o.jsx("span",{className:"font-semibold",children:t.customerName||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Email:"}),o.jsx("span",{className:"font-semibold",children:t.customerEmail||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"S in thoi:"}),o.jsx("span",{className:"font-semibold",children:t.customerPhone||"N/A"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy t hng:"}),o.jsx("span",{className:"font-semibold",children:t.createdAt?r(t.createdAt):"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"M n hng:"}),o.jsx("span",{className:"font-semibold",children:t.orderCode||"N/A"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{children:"a ch giao hng:"}),o.jsxs("span",{className:"font-semibold max-w-[20rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx("p",{className:"font-semibold text-gray-700",children:"Thng tin sn phm:"})}),o.jsxs("table",{className:"w-full border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Mt hng"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(i=>{const a=i.variant?.product,l=i.variant?.price!==null&&i.variant?.price!==void 0?i.variant.price:a?.price||0,c=l*i.quantity;return o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:o.jsxs("div",{className:"max-w-[30rem]",children:[o.jsx("p",{className:"font-medium text-gray-900",children:a?.productName||"Sn phm khng xc nh"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsxs("span",{className:"text-gray-600 pr-[.5rem] mr-[.5rem] border-r border-gray-400",children:["Size: ",i.variant?.variantSize?.name||"N/A"]}),o.jsxs("span",{className:"text-gray-600",children:["Color: ",i.variant?.variantColor?.name||"N/A"]})]})]})}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:n(l)}),o.jsxs("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:["x",i.quantity]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:n(c)})]},i.id)})})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsxs("div",{className:"w-80 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"font-medium",children:n(s)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"font-medium",children:n(0)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Gim gi:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-",n(0)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-300",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold",children:n(s)})]})]})}),o.jsxs("div",{className:"mt-12 text-center space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-300",children:[o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi mua hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi bn hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]})]}),o.jsx("p",{className:"text-gray-700 italic mt-8",children:"Cm n qu khch  mua hng ti NTK.SHOP!"})]})]})});d7.displayName="InvoicePrint";const PP=[{key:le.OrderStatus.PENDING,label:"Ch xc nhn",desc:"n hng ang ch xc nhn",icon:Nh,color:"bg-blue-500"},{key:le.OrderStatus.CONFIRMED,label:" xc nhn",desc:"n hng ang c chun b",icon:aN,color:"bg-orange-500"},{key:le.OrderStatus.SHIPPING,label:"ang giao hng",desc:"n hng ang c vn chuyn",icon:K0,color:"bg-purple-500"},{key:le.OrderStatus.COMPLETED,label:" giao hng",desc:"n hng  c giao thnh cng",icon:tu,color:"bg-green-500"}];function Vye({orderDetail:t,setOrderDetail:e,refetch:n}){const[r,s]=T.useState({open:!1,data:null}),i=T.useRef(null),[a,l]=T.useState({shippingProvider:"",trackingNumber:"",shippingNote:""}),[c,u]=T.useState(null),[d,f]=T.useState(!0),p=Fye.useReactToPrint({contentRef:i,documentTitle:`n hng #${t.orderCode}`});T.useEffect(()=>{console.log(t),t.shippingProvider&&t.trackingNumber&&(l({shippingProvider:t.shippingProvider||"",shippingNote:t.shippingNote||"",trackingNumber:t.trackingNumber||""}),f(!1))},[t]),console.log(d);const g=b=>{const{name:w,value:S}=b.target;l(j=>({...j,[w]:S}))},x=async()=>{try{if(a.shippingProvider===""){u("Vui lng chn nh vn chuyn!");return}if(a.trackingNumber===""){u("Vui lng nhp m n vn!");return}const b=await xe.patch(`/api/v1/orders/update-shipping/${t.id}`,a);b.status&&(de.success(b.message),f(!1))}catch(b){console.log(b),de.error(b.message)}},v=t.orderItems.reduce((b,w)=>b+w.price*w.quantity,0);return o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-start border-b-[.1rem] border-b-gray-300 pb-[2rem] mb-[2rem]",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-[2rem] font-semibold text-gray-600 mb-2",children:["Chi tit n hng #",t.orderCode]}),o.jsxs("button",{onClick:()=>e(null),className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 hover-linear cursor-pointer",children:[o.jsx(F,{icon:fi}),o.jsx("span",{children:"Quay li danh sch"})]})]}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsx("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-[1.4rem] font-medium ${$n(t.status).bgColor} ${$n(t.status).textColor}`,children:$n(t.status).text})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[o.jsxs("div",{className:"col-span-2 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin giao hng"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ngi nhn:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:t.customerName})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"S in thoi:"}),o.jsx("span",{className:"text-gray-800",children:t.customerPhone})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Email:"}),o.jsx("span",{className:"text-gray-800",children:t.customerEmail})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"a ch:"}),o.jsxs("span",{className:"text-gray-800 flex-1",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]}),t.customerNote&&o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ghi ch:"}),o.jsx("span",{className:"text-gray-800 flex-1 italic",children:t.customerNote})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin vn chuyn"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-start gap-[2rem] space-y-2.5",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingProvider",children:"Nh vn chuyn"}),o.jsxs("select",{name:"shippingProvider",id:"shippingProvider",value:a.shippingProvider,className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",onChange:b=>g(b),disabled:!d,children:[o.jsx("option",{value:"",children:"-Chn nh vn chuyn-"}),Object.entries(le.getShippingProvider).map(([b,w],S)=>o.jsx("option",{value:b,children:w.text},S))]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"trackingNumber",children:"M vn n"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"trackingNumber",name:"trackingNumber",value:a.trackingNumber,placeholder:"Nhp m vn n...",onChange:b=>g(b),disabled:!d})]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingNote",children:"Ghi ch vn chuyn"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"shippingNote",name:"shippingNote",value:a.shippingNote,placeholder:"Ghi ch vn chuyn...",onChange:b=>g(b),disabled:!d})]}),c&&o.jsx("p",{className:"text-red-500",children:c}),t.shippingProvider&&t.trackingNumber?o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==le.OrderStatus.COMPLETED&&o.jsx(o.Fragment,{children:d?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-white px-6 py-3 bg-green-500 rounded-lg hover:bg-green-600",onClick:x,children:"Lu thay i"}),o.jsx("button",{className:"text-gray-600 px-6 py-3 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>f(!1),children:"Hy"})]}):o.jsxs("button",{className:"text-white px-4 py-3 bg-amber-500 rounded-lg hover:bg-amber-600 flex items-center gap-2",onClick:()=>f(!0),children:[o.jsx(F,{icon:zs}),"Chnh sa"]})})}):o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==le.OrderStatus.COMPLETED&&o.jsx("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>x(),children:"Cp nht vn chuyn"})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 px-[2rem] py-[1.5rem] border-b border-gray-200",children:"Sn phm t mua"}),o.jsx("div",{className:"p-[2rem]",children:o.jsxs("table",{className:"w-full text-[1.4rem]",children:[o.jsx("thead",{className:"border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left pb-3 text-gray-600 font-semibold",children:"Sn phm"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-right pb-3 text-gray-600 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(b=>{const w=b.variant.product;return o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("td",{className:"py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx("img",{src:w.mainImage||"/placeholder.jpg",alt:w.productName,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"max-w-[20rem]",children:[o.jsx("div",{className:"font-medium text-gray-800 text-limit-1",children:w.productName}),o.jsxs("div",{className:"flex items-center text-gray-500",children:[o.jsxs("span",{className:"text-[1.2rem]",children:["Size:",b.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] pl-[1rem] ml-[1rem] border-l border-l-gray-500",children:["Mu:",b.variant.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center text-gray-600",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b.price)}),o.jsxs("td",{className:"text-center text-gray-600",children:["x",b.quantity]}),o.jsx("td",{className:"text-right font-semibold text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(b.price)*Number(b.quantity))})]},b.id)})})]})})]})]}),o.jsxs("div",{className:"space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-[1.2rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800",children:v})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.shippingFee)})]}),t.couponCode&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsxs("span",{children:["M gim gi (",t.couponCode,"):"]}),o.jsx("span",{children:"-0"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem] flex justify-between",children:[o.jsx("span",{className:"font-semibold text-gray-700 text-[1.5rem]",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.8rem] text-[var(--main-button)]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.totalAmount)})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem]",children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Phng thc thanh ton:"}),o.jsx("div",{className:"font-semibold text-gray-800",children:le.getPaymentMethod[t.paymentMethod].text})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Lch s n hng"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-[1.5rem] top-0 bottom-0 w-[2px] bg-gray-200"}),o.jsx("div",{className:"space-y-[2rem]",children:PP.map((b,w)=>{const S=PP.findIndex(j=>j.key===t.status)>=w;return o.jsxs("div",{className:"flex gap-[1.5rem] relative items-start",children:[o.jsx("div",{className:`w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${S?`${b.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:b.icon,className:"text-white text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:b.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:b.desc})]})]},b.key)})})]})]}),o.jsxs("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:[t.status!==le.OrderStatus.COMPLETED&&o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>s({open:!0,data:t}),children:[o.jsx(F,{icon:ws}),"Cp nht"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear",onClick:()=>p(),children:[o.jsx(F,{icon:hG}),"In n"]})]})]})]}),o.jsx(u7,{open:r.open,orderData:r.data,onClose:()=>s({open:!1,data:null}),refetch:n}),o.jsx("div",{style:{display:"none"},children:o.jsx(d7,{order:t,ref:i})})]})}function zye({open:t,orderId:e,onClose:n,refetch:r}){const[s,i]=T.useState(!1),a=async()=>{if(!e){de.error("Khng c id ca sn phm!");return}i(!0);try{const l=await xe.delete(`/api/v1/orders/delete-order/${e}`);l.status?(de.success(l.message||"Xa n thnh cng!"),await r(),n()):(de.error(l.message||"Xa n khng thnh cng!"),n())}catch(l){console.log(l),n(),de.error(l.message||"Li khng th xa n hng!")}finally{i(!1)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>n(),children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun xa n hng ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{n()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":"Xa"})]})]})}function $ye(){const[t,e]=T.useState(null),n=T.useRef(null),[r,s]=T.useState(null),[i,a]=T.useState(null),[l,c]=T.useState({open:!1,data:null}),[u,d]=T.useState({searchOrder:"",status:""}),[f,p]=T.useState({...u,limit:10,page:1}),{data:g,isLoading:x,refetch:v}=Fe({queryKey:["orders",f],queryFn:()=>tpe(f)}),b=g&&g.data||[],w=g?.pagination?.totalPages||1,[S,j]=T.useState(!1),M=()=>{p(C=>({...C,searchOrder:u.searchOrder,status:u.status}))};return T.useEffect(()=>{if(t===null)return;const C=P=>{t!==null&&n.current&&!n.current.contains(P.target)&&e(null)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[t]),o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] overflow-y-auto bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"n hng"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear ",children:[o.jsx(F,{icon:RG}),"Export"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear ",onClick:()=>j(!0),children:[o.jsx(F,{icon:Nu}),"To n"]})]})]}),r?o.jsx(Vye,{orderDetail:r,setOrderDetail:s,refetch:v}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsxs("div",{className:"w-[28rem] h-[4rem] relative text-[1.4rem]",children:[o.jsx(F,{icon:Dr,className:"absolute left-[2rem] top-[50%] translate-[-50%] text-[1.4rem] text-gray-600"}),o.jsx("input",{type:"text",id:"searchOrder",name:"searchOrder",placeholder:"Nhp tm kim (st, email)...",value:u.searchOrder,className:"w-full h-full border border-gray-300 rounded-xl px-[3.8rem] outline-none",onChange:C=>d(P=>({...P,[C.target.name]:C.target.value}))})]}),o.jsxs("select",{name:"status",id:"status",value:u.status,className:"w-[20rem] h-[4rem] text-[1.4rem] text-gray-600 px-[1.5rem] border border-gray-300 rounded-xl outline-none",onChange:C=>d(P=>({...P,[C.target.name]:C.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"Trng thi n"}),Object.entries(le.OrderStatus).map(([C,P])=>o.jsx("option",{value:P,children:$n(P).text},C))]}),o.jsxs("button",{className:"w-[8rem] h-[4rem] flex items-center justify-center gap-[.5rem] rounded-xl outline-none bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] hover-linear text-white cursor-pointer text-[1.4rem]",onClick:()=>M(),children:[o.jsx(F,{icon:vs,className:" text-white"}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg mt-[2rem]",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"M n"}),o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Khch hng"}),o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"S in thoi"}),o.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Tng tin"}),o.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):b?.length===0?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-[4rem] text-gray-500",children:"Khng c n hng no"})})}):o.jsx("tbody",{children:b?.map((C,P)=>{const A=C.id===t?.id;return o.jsxs("tr",{children:[o.jsx("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:P+1}),o.jsxs("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:["#",C.orderCode]}),o.jsx("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-800",children:C.customerName}),o.jsx("div",{className:"text-gray-600 text-[1rem]",children:C.customerEmail})]})}),o.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:C.customerPhone}),o.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C.totalAmount)}),o.jsx("td",{className:"text-center px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-5 py-2 rounded-full text-[1.2rem] font-medium ${$n(C.status).bgColor} ${$n(C.status).textColor}`,children:$n(C.status).text})}),o.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:o.jsxs("div",{className:"flex justify-center items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>s(C),children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",ref:n,children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:E=>{E.stopPropagation(),e(A?null:C)},children:o.jsx(F,{icon:ZO,className:"text-[1.8rem]"})}),A&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[14rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[o.jsxs("button",{type:"button",className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:E=>{E.stopPropagation(),c({open:!0,data:t}),e(null)},children:[o.jsx(F,{icon:zs,className:"text-amber-600"}),o.jsx("span",{className:"text-amber-600",children:"Cp nht"})]}),C.status===le.OrderStatus.CANCELLED||C.status===le.OrderStatus.PENDING&&o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{a(C.id)},children:[o.jsx(F,{icon:Su,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa n"})]})]})]})]})})]},C.id)})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>p(C=>({...C,page:Math.max(C.page-1,1)})),disabled:f.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:w},(C,P)=>P+1).filter(C=>Math.abs(C-f.page)<=2).map(C=>o.jsx("button",{onClick:()=>p(P=>({...P,page:C})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${f.page===C?"bg-blue-500 text-white":"bg-gray-200"}`,children:C},C)),o.jsx("button",{onClick:()=>p(C=>({...C,page:Math.min(C.page+1,w)})),disabled:f.page===w,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]})]}),o.jsx(Iye,{open:S,onClose:()=>j(!1),refetch:v}),o.jsx(u7,{open:l.open,orderData:l.data,onClose:()=>c({open:!1,data:null}),refetch:v}),o.jsx(zye,{open:i!==null,orderId:i,onClose:()=>a(null),refetch:v})]})}const Bye=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await xe.get("/api/v1/staff/get-staffs",{params:e})).data},Nj=async()=>(await xe.get("/api/v1/cart/my-cart")).data,h7=async t=>await xe.post("/api/v1/variant/variant-by-ids",{variantIds:t}),Xh={[le.StaffPosition.INVENTORY]:"Qun l kho",[le.StaffPosition.MANAGER]:"Qun l",[le.StaffPosition.SALE]:"Bn hng"};le.UserRole.ADMIN+"",le.UserRole.STAFF+"",le.UserRole.USER+"";const C0={[le.StaffStatus.ACTIVE]:"ang lm vic",[le.StaffStatus.ON_LEAVE]:"Tm ngh",[le.StaffStatus.PROBATION]:"ang th vic",[le.StaffStatus.RESIGNED]:" ngh"},Hye=(t=!1)=>qh({gender:un().oneOf(Object.values(le.Gender),"Gii tnh khng hp l").required("Vui lng chn gii tnh"),user:qh().shape({username:un().required("Tn ng nhp l bt buc"),email:un().email("Email khng hp l").required("Email l bt buc"),password:t?un().notRequired():un().min(6,"Mt khu phi t 6 k t tr ln").required("Mt khu l bt buc"),phone:un().matches(/^\d{10,15}$/,"S in thoi khng hp l").required("S in thoi l bt buc"),role:un().oneOf(Object.values(le.UserRole),"Vai tr khng hp l").required("Vai tr l bt buc")}),birthday:un().required("Ngy sinh l bt buc").test("is-valid-date","Ngy sinh khng hp l",e=>e?new Date(e)<=new Date:!1),salary:Hc().typeError("Lng phi l s").min(1,"Vui lng thm lng").required("Lng l bt buc"),startDate:un().required("Ngy bt u l bt buc"),position:un().oneOf(Object.values(le.StaffPosition),"V tr khng hp l").required("V tr l bt buc"),avatar:lj().optional().test("fileSize","Dung lng nh ti a 10MB",e=>e?e.size<=10*1024*1024:!0).test("fileType","Ch chp nhn nh dng .jpg, .jpeg, .png",e=>e?["image/jpeg","image/png","image/jpg"].includes(e.type):!0).test("required-on-add","Vui lng chn hnh nh",function(e){return!(!t&&!e)})}).required();function Uye({actionStaff:t,setActionStaff:e,dataUpdate:n,refetch:r}){const{handleSubmit:s,register:i,formState:{errors:a,isSubmitting:l},setValue:c,reset:u}=$s({resolver:wF(Hye(t.action==="edit")),defaultValues:{user:{username:"",email:"",password:"",phone:"",role:le.UserRole.STAFF},gender:le.Gender.MALE,birthday:"",salary:0,startDate:"",position:le.StaffPosition.SALE,avatar:void 0},mode:"onSubmit",reValidateMode:"onChange"}),[d,f]=T.useState(null);T.useEffect(()=>{t.open&&(t.action==="add"?(u({user:{username:"",email:"",password:"",phone:"",role:le.UserRole.STAFF},gender:le.Gender.MALE,birthday:"",salary:0,startDate:"",position:le.StaffPosition.SALE,avatar:void 0}),f(null)):n&&t.action==="edit"&&(u({user:{username:n.user.username,email:n.user.email,phone:n.user.phone,role:n.user.role},gender:n.gender,birthday:n.birthday?new Date(n.birthday).toISOString().split("T")[0]:"",salary:n.salary||0,startDate:n.startDate?new Date(n.startDate).toISOString().split("T")[0]:"",position:n.position}),n.user.avatar&&f(n.user.avatar||null)))},[t.action,t.open,n,u]);const p=v=>{const b=v.target.files?.[0];if(b){c("avatar",b,{shouldValidate:!0});const w=URL.createObjectURL(b);f(w)}},g=async v=>{const b={...v,salary:Number(v.salary),birthday:v.birthday,startDate:new Date(v.startDate).toISOString().split("T")[0]};console.log(b);try{const w=t.action==="add"?"/api/v1/staff/create":`/api/v1/staff/update/${t.data?.id}`;let S=null;t.action==="add"?S=await xe.post(w,b,{headers:{"Content-Type":"multipart/form-data"}}):S=await xe.patch(w,b,{headers:{"Content-Type":"multipart/form-data"}}),S.status&&(de.success(S.message||`${t?.action==="add"?"Thm":"Cp nht"} nhn vin thnh cng!`),e({open:!1,action:"add",data:null}),u(),await r())}catch(w){console.log(w),de.error(w.message||`Li khng th ${t?.action==="add"?"thm":"cp nht"} nhn vin`)}},x=()=>{u(),f(null),e({open:!1,data:null,action:"add"})};return o.jsxs(bt,{open:t.open,className:"relative w-[100rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:x,children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[2rem] text-center font-semibold text-green-600",children:t.action==="edit"?"Cp nht nhn vin":"Thm nhn vin"}),o.jsxs("form",{onSubmit:s(g),children:[o.jsxs("div",{className:"w-full max-h-[50rem] overflow-auto hide-scrollbar flex gap-[2.5rem] mt-[4rem]",children:[o.jsxs("div",{className:"w-[25rem] h-auto rounded-xl flex flex-col items-center justify-start",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"nh nhn vin"}),o.jsxs("label",{htmlFor:"avatar",className:`w-[15rem] h-[15rem] flex items-center justify-center rounded-xl border-[.2rem] border-dashed ${d?"border-cyan-500":"border-gray-500"} cursor-pointer`,children:[d?o.jsx("img",{src:d,alt:"avatar",className:"w-full h-full object-cover rounded-xl"}):o.jsx(F,{icon:Xr,className:"text-gray-500 text-[2.2rem]"}),o.jsx("input",{type:"file",className:"hidden",id:"avatar",onChange:p})]}),a.avatar&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem] mt-[.5rem]",children:a.avatar.message})]}),o.jsxs("div",{className:"flex-1 border-l border-l-gray-300 pl-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"Thng tin nhn vin"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"staffName",children:"Tn nhn vin"}),o.jsx("input",{type:"text",id:"staffName",placeholder:"Nhp tn...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.username")}),a.user?.username&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.username.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"Nhp email...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.email")}),a.user?.email&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.email.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[t.action==="add"&&o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"password",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",placeholder:"Nhp mt khu...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.password")}),a.user?.password&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.password.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"phone",children:"S in thoi"}),o.jsx("input",{type:"tel",id:"phone",placeholder:"Nhp s in thoi...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.phone")}),a.user?.phone&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.phone.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"gender",children:"Gii tnh"}),o.jsxs("select",{id:"gender",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("gender"),children:[o.jsx("option",{value:le.Gender.MALE,children:"Nam"}),o.jsx("option",{value:le.Gender.FEMALE,children:"N"})]}),a.gender&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.gender.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"birthday",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("birthday")}),a.birthday&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.birthday.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"salary",children:"Lng"}),o.jsx("input",{type:"number",id:"salary",placeholder:"Nhp lng...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("salary")}),a.salary&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.salary.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"startDate",children:"Ngy bt u"}),o.jsx("input",{type:"date",id:"startDate",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("startDate")}),a.startDate&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.startDate.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"position",children:"V tr"}),o.jsx("select",{id:"position",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("position"),children:Object.entries(Xh).map(([v,b],w)=>o.jsx("option",{value:v,children:b},w))}),a.position&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.position.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",type:"button",onClick:x,disabled:l,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",type:"submit",disabled:l,children:l?"ang x l...":t.action==="edit"?"Cp nht":"Thm"})]})]}),l&&o.jsx(yo,{})]})}function Wye({openDelete:t,setOpenDelete:e,refetch:n}){const[r,s]=T.useState(!1),i=async()=>{try{s(!0);const a=await xe.delete(`/api/v1/staff/delete/${t}`);a.status&&(de.success(a.message||"Xa nhn vin thnh cng!"),await n(),e(null),s(!1))}catch(a){console.log(a),de.error(a.message||"Li khng th xa nhn vin!")}finally{s(!1)}};return o.jsxs(bt,{open:!!t,className:"relative bg-white rounded-lg shadow-lg w-[50rem] p-[2.5rem]",children:[o.jsx("button",{className:"absolute top-[1rem] right-[1rem] text-gray-500 hover:text-gray-600 w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>e(null),children:o.jsx(F,{icon:mn})}),o.jsx("div",{className:"mb-6",children:o.jsx("p",{className:"text-gray-600 text-[1.8rem]",children:"Bn c chc chn mun xa nhn vin ny khng?"})}),o.jsxs("div",{className:"flex justify-end gap-[1rem] mt-[3rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e(null),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>i(),children:"Xa"})]}),r&&o.jsx(yo,{})]})}function qye({staff:t,onClose:e}){if(!t)return null;const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=i=>({MALE:"Nam",FEMALE:"N",OTHER:"Khc"})[i]||i;return o.jsx(bt,{open:!!t,className:"fixed inset-0 flex items-center justify-center z-[300] p-[2rem]",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[90rem] max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"relative bg-gradient-to-r px-[3rem] py-[2rem]",children:[o.jsx("div",{children:o.jsx("h2",{className:"text-[2rem] font-bold text-gray-600 mb-[.5rem]",children:"Thng tin chi tit nhn vin"})}),o.jsx("button",{onClick:e,className:"absolute top-[1rem] right-[1rem] w-[4rem] h-[4rem] bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-600 hover-linear backdrop-blur-sm",children:o.jsx(F,{icon:Hn,className:"text-[2rem]"})})]}),o.jsx("div",{className:"overflow-y-auto hide-scrollbar flex-1 px-[3rem] pt-[2rem]",children:o.jsxs("div",{className:"grid grid-cols-12 gap-[2.5rem]",children:[o.jsxs("div",{className:"col-span-4 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-[2.5rem] border border-indigo-100 text-center",children:[o.jsx("div",{className:"w-[16rem] h-[16rem] mx-auto mb-[2rem] rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-[6rem] font-bold shadow-lg",children:t.user?.avatar?o.jsx("img",{src:t.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):t.user?.username?.charAt(0).toUpperCase()||"?"}),o.jsx("h3",{className:"text-[2.2rem] font-bold text-gray-800 mb-[.5rem]",children:t.user?.username||"Cha cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-500 mb-[1.5rem]",children:Xh[t.position]||"Cha cp nht"}),o.jsxs("span",{className:`inline-flex items-center gap-[.8rem] px-[1.6rem] py-[.8rem] rounded-full text-[1.4rem] font-semibold ${t.status===le.StaffStatus.ACTIVE?"bg-green-100 text-green-700":t.status===le.StaffStatus.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[o.jsx(F,{icon:tu}),C0[t.status]||"Cha cp nht"]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2rem] border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"text-[1.4rem] font-semibold text-gray-700 mb-[1.5rem] flex items-center gap-[1rem]",children:[o.jsx(F,{icon:$b,className:"text-indigo-600"}),"Thng k nhanh"]}),o.jsxs("div",{className:"space-y-[1.2rem]",children:[o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Lng c bn"}),o.jsx("span",{className:"text-[1.5rem] font-bold text-green-600",children:n(t.salary)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Ngy bt u"}),o.jsx("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:r(t.startDate)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem]",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thi gian lm vic"}),o.jsxs("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:[Math.floor((new Date().getTime()-new Date(t.startDate).getTime())/(1e3*60*60*24*30))," ","thng"]})]})]})]})]}),o.jsxs("div",{className:"col-span-8 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:Qs,className:"text-indigo-600"}),"Thng tin c nhn"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:EG,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"M nhn vin"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.staffCode})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Qs,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"H v tn"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.user?.username||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:TG,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"S in thoi"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:t.user?.phone||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:JK,className:"text-[1.8rem] text-red-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Email"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 break-all",children:t.user?.email||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-pink-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:mG,className:"text-[1.8rem] text-pink-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Gii tnh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:s(t.gender)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-yellow-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:zG,className:"text-[1.8rem] text-yellow-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy sinh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.birthday)})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:$b,className:"text-purple-600"}),"Thng tin cng vic"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:$b,className:"text-[1.8rem] text-indigo-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"V tr"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:Xh[t.position]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:tu,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Trng thi"}),o.jsx("span",{className:`inline-block px-[1.2rem] py-[.6rem] rounded-lg text-[1.4rem] font-semibold ${t.status===le.StaffStatus.ACTIVE?"bg-green-100 text-green-700":t.status===le.StaffStatus.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:C0[t.status]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Op,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Lng c bn"}),o.jsx("p",{className:"text-[1.8rem] text-green-600 font-bold",children:n(t.salary)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:tG,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy bt u lm vic"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.startDate)})]})]})]})]}),t.user&&o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:Z1,className:"text-orange-600"}),"a ch"]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-orange-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Z1,className:"text-[1.8rem] text-orange-600"})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-[1.4rem] text-gray-900 leading-relaxed",children:t.address||"Cha cp nht a ch"})})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-[2.5rem] border border-gray-200 mb-[2rem]",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:Rb,className:"text-gray-600"}),"Thng tin h thng"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Rb,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy to"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.createdAt)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Rb,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.updatedAt)})]})]})]})]})]})]})}),o.jsx("div",{className:"px-[3rem] py-[1rem] bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex justify-end gap-[1.5rem]",children:o.jsx("button",{onClick:e,className:"px-[2rem] py-[.8rem] text-[1.5rem] font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 hover-linear shadow-sm",children:"ng"})})]})})}function Kye(){const[t,e]=T.useState({search:"",status:"",position:"",limit:10,page:1}),[n,r]=T.useState({search:"",status:"",position:"",limit:10,page:1}),[s,i]=T.useState({action:"add",open:!1,data:null}),[a,l]=T.useState(null),c=T.useRef(null),[u,d]=T.useState(null),[f,p]=T.useState(null),{data:g,isLoading:x,refetch:v}=Fe({queryKey:["staffs",t],queryFn:()=>Bye(t)});T.useEffect(()=>{if(!a)return;const w=S=>{a!==null&&c.current&&!c.current.contains(S.target)&&l(null)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[a]);const b=()=>{e(w=>({...w,search:n.search,status:n.status,limit:n.limit,page:n.page,position:n.position}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b border-b-gray-300 pb-8",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Danh sch nhn vin"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-[.5rem] items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear",onClick:()=>i({open:!0,data:null,action:"add"}),children:[o.jsx(F,{icon:Xr}),o.jsx("p",{children:"Thm nhn vin"})]})})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsx("input",{type:"text",id:"search",name:"search",value:n.search,placeholder:"Nhp tm kim (tn, st)...",className:"border border-gray-300 w-[36rem] h-[4rem] rounded-lg pl-[1.5rem] outline-none text-gray-600 select-none",onChange:w=>r(S=>({...S,[w.target.name]:w.target.value}))}),o.jsxs("select",{name:"status",id:"status",value:n.status,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(S=>({...S,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"Trng thi"}),Object.entries(C0).map(([w,S])=>o.jsx("option",{value:w,children:S},w))]}),o.jsxs("select",{name:"position",id:"position",value:n.position,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(S=>({...S,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"V tr"}),Object.entries(Xh).map(([w,S])=>o.jsx("option",{value:w,children:S},w))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] h-[4rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white",onClick:()=>b(),children:[o.jsx(F,{icon:vs}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full border border-gray-300 mt-[2rem] text-[1.4rem] select-none",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"STT"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"H tn"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"in thoi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"V tr"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Trng thi"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):o.jsx("tbody",{children:g.map(w=>o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:w.staffCode}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.username}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.phone}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:Xh[w.position]}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:C0[w.status]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:o.jsxs("div",{className:"flex justify-end items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>p(w),children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",ref:c,children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:()=>l(w),children:o.jsx(F,{icon:ZO,className:"text-[1.8rem]"})}),a?.id===w.id&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[12rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{},children:[o.jsx(F,{icon:ws,className:"text-green-600"}),o.jsx("span",{className:"text-green-600",onClick:()=>{i({open:!0,data:a,action:"edit"}),l(null)},children:"Cp nht"})]}),o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{d(w.id),l(null)},children:[o.jsx(F,{icon:Su,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa"})]})]})]})]})})]},w.id))})]}),o.jsx(Uye,{actionStaff:s,setActionStaff:i,dataUpdate:s.data,refetch:v}),u&&o.jsx(Wye,{openDelete:u,setOpenDelete:d,refetch:v}),o.jsx(qye,{staff:f,onClose:()=>p(null)})]})}function Gye(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-2xl mb-6",children:"Oops! Trang bn tm khng tn ti."}),o.jsx(Qe,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function AP({children:t,roles:e,redirectTo:n}){const{user:r,loading:s}=Ct();return s?o.jsx(yo,{}):r?e&&!e?.includes(r?.role)?o.jsx(Uc,{to:"/unauthorized",replace:!0}):o.jsx(o.Fragment,{children:t}):n?o.jsx(Uc,{to:n,replace:!0}):o.jsx(Uc,{to:"/login",replace:!0})}function Yye(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"403"}),o.jsx("p",{className:"text-xl mb-6",children:"Bn khng c quyn truy cp trang ny"}),o.jsx(Qe,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function Xye({children:t}){const{user:e}=Ct();return e&&(e.role===le.UserRole.ADMIN||e.role===le.UserRole.STAFF)?o.jsx(Uc,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function Qye(){const{register:t}=vu(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:s}}=$s({defaultValues:{email:"",password:"",phone:"",username:""}}),[i,a]=T.useState(null),l=rt(),[c,u]=T.useState(!1),[d,f]=T.useState(!1),p=async g=>{try{await t({email:g.email,password:g.password,phone:g.phone,username:g.username}),l("/customer/account/profile")}catch(x){console.log(x),de.error(x.message||"ng k ti khon tht bi!")}};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-orange-300 to-orange-600 rounded-full mx-auto mb-2 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng k"})]}),o.jsxs("form",{onSubmit:n(p),className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"H v tn"}),o.jsx("input",{type:"username",id:"username",placeholder:"username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("username",{required:"H tn khng c b trng"})}),r.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.username.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"your@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("email",{required:"Email khng c b trng",pattern:{value:/^\S+@\S+\.\S+$/,message:"Email khng hp l"}})}),r.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",placeholder:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("password",{required:"Mt khu khng c b trng",minLength:{value:6,message:"Mt khu phi t nht 6 k t"}})}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(F,{icon:ws,className:"text-gray-600"}):o.jsx(F,{icon:uN,className:"text-gray-600"})})]}),r.password&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.password.message})]}),i&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-[1.2rem] text-red-600",children:i})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block font-medium text-gray-700 mb-2",children:"S in thoi"}),o.jsx("input",{type:"phone",id:"phone",placeholder:"Nhp s in thoi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("phone",{required:"S in thoi khng c b trng",pattern:{value:/^[0-9]{10}$/,message:"S in thoi phi gm 10 ch s"}})}),r.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.phone.message})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition mt-[1.8rem] ${s?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-orange-300 to-orange-600 hover:from-orange-400 hover:to-orange-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:s,children:s?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng k"})]}),o.jsx("div",{className:"mt-6 space-y-3 text-center",children:o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Bn  c ti khon?"," ",o.jsx(Qe,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng nhp"})]})})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>l("/admin/Register"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>u(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),s&&o.jsx(yo,{})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Jye={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M203.7 512.9s0 0 0 0l-37.8 26.7c-7.3 5.2-16.9 5.8-24.9 1.7S128 529 128 520l0-72-32 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120.4 0-91.9 64.9zm64.3-104.1c8.1-5.7 17.8-8.8 27.7-8.8L416 400c26.5 0 48-21.5 48-48l0-224c0-26.5-21.5-48-48-48L96 80c-26.5 0-48 21.5-48 48l0 224c0 26.5 21.5 48 48 48l56 0c10.4 0 19.3 6.6 22.6 15.9 .9 2.5 1.4 5.2 1.4 8.1l0 49.7c32.7-23.1 63.3-44.7 91.9-64.9z"]},f7={prefix:"far",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M171.5 38.8C192.3 4 236.5-10 274 7.6l7.2 3.8C316 32.3 330 76.5 312.4 114l0 0-14.1 30 109.7 0 7.4 .4c36.3 3.7 64.6 34.4 64.6 71.6 0 13.2-3.6 25.4-9.8 36 6.1 10.6 9.7 22.8 9.8 36 0 18.3-6.9 34.8-18 47.5 1.3 5.3 2 10.8 2 16.5 0 25.1-12.9 47-32.2 59.9-1.9 35.5-29.4 64.2-64.4 67.7l-7.4 .4-104.1 0c-18 0-35.9-3.4-52.6-9.9l-7.1-3-.7-.3-6.6-3.2-.7-.3-12.2-6.5c-12.3-6.5-23.3-14.7-32.9-24.1-4.1 26.9-27.3 47.4-55.3 47.4l-32 0c-30.9 0-56-25.1-56-56L0 200c0-30.9 25.1-56 56-56l32 0c10.8 0 20.9 3.1 29.5 8.5l50.1-106.5 .6-1.2 2.7-5 .6-.9zM56 192c-4.4 0-8 3.6-8 8l0 224c0 4.4 3.6 8 8 8l32 0c4.4 0 8-3.6 8-8l0-224c0-4.4-3.6-8-8-8l-32 0zM253.6 51c-14.8-6.9-32.3-1.6-40.7 12l-2.2 4-56.8 120.9c-3.5 7.5-5.5 15.5-6 23.7l-.1 4.2 0 112.9 .2 7.9c2.4 32.7 21.4 62.1 50.7 77.7l11.5 6.1 6.3 3.1c12.4 5.6 25.8 8.5 39.4 8.5l104.1 0 2.4-.1c12.1-1.2 21.6-11.5 21.6-23.9l-.2-2.6c-.1-.9-.2-1.7-.4-2.6-2.7-12.1 4.3-24.2 16-28 9.7-3.1 16.6-12.2 16.6-22.8 0-4.3-1.1-8.2-3.1-11.8-6.3-11.1-2.8-25.2 8-32 6.8-4.3 11.2-11.8 11.2-20.2 0-7.1-3.1-13.5-8.2-18-5.2-4.6-8.2-11.1-8.2-18s3-13.4 8.2-18c5.1-4.5 8.2-10.9 8.2-18l-.1-2.4c-1.1-11.3-10.1-20.3-21.4-21.4l-2.4-.1-147.5 0c-8.2 0-15.8-4.2-20.2-11.1-4.4-6.9-5-15.7-1.5-23.1L269 93.6c7-15 1.4-32.7-12.5-41L253.6 51z"]},Sj={prefix:"far",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M144 128a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zm208 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0zM48 480c0-70.7 57.3-128 128-128l96 0c70.7 0 128 57.3 128 128l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8c0-97.2-78.8-176-176-176l-96 0C78.8 304 0 382.8 0 480l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8z"]},m7={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M288.1-32c9 0 17.3 5.1 21.4 13.1L383 125.3 542.9 150.7c8.9 1.4 16.3 7.7 19.1 16.3s.5 18-5.8 24.4L441.7 305.9 467 465.8c1.4 8.9-2.3 17.9-9.6 23.2s-17 6.1-25 2L288.1 417.6 143.8 491c-8 4.1-17.7 3.3-25-2s-11-14.2-9.6-23.2L134.4 305.9 20 191.4c-6.4-6.4-8.6-15.8-5.8-24.4s10.1-14.9 19.1-16.3l159.9-25.4 73.6-144.2c4.1-8 12.4-13.1 21.4-13.1zm0 76.8L230.3 158c-3.5 6.8-10 11.6-17.6 12.8l-125.5 20 89.8 89.9c5.4 5.4 7.9 13.1 6.7 20.7l-19.8 125.5 113.3-57.6c6.8-3.5 14.9-3.5 21.8 0l113.3 57.6-19.8-125.5c-1.2-7.6 1.3-15.3 6.7-20.7l89.8-89.9-125.5-20c-7.6-1.2-14.1-6-17.6-12.8L288.1 44.8z"]};const OP=[{id:1,icon:Sj,iconColor:"text-blue-500",label:"Ti khon ca ti",path:"account",children:[{id:11,label:"H s",path:"account/profile"},{id:12,label:"a ch",path:"account/address"},{id:13,label:"Thit lp ring",path:"account/privacy"}]},{id:2,icon:aN,iconColor:"text-blue-500",label:"n hng ca ti",path:"order"},{id:3,icon:lN,iconColor:"text-pink-500",label:"Voucher ca ti",path:"my-voucher"},{id:4,icon:_p,iconColor:"text-red-500",label:"Sn phm yu thch",path:"favorite"}];function Zye(){const{user:t}=Ct(),e=rt(),n=sr(),[r,s]=T.useState([]);T.useEffect(()=>{const l=n.pathname;OP.forEach(c=>{c.children&&c.children.some(d=>l.includes(d.path))&&!r.includes(c.id)&&s(d=>[...d,c.id])})},[n.pathname]);const i=l=>{if(!l.children)return e(l.path);s(c=>c.includes(l.id)?c.filter(u=>u!==l.id):[...c,l.id])},a=l=>n.pathname.includes(l);return o.jsx("div",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] mt-[20rem] md:mt-[1rem]",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-0",children:[o.jsxs("div",{className:"hidden md:block w-full lg:w-[24rem] h-auto py-[1rem] px-[1rem] sm:px-[2rem] bg-white lg:bg-transparent rounded-md lg:rounded-none shadow-md lg:shadow-none",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:t?.avatar?o.jsx("img",{src:t?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Sj,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:t?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600",children:[o.jsx(F,{icon:zs}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsx("nav",{className:"mt-[2rem] sm:mt-[3rem] space-y-2",children:OP.map(l=>o.jsxs("div",{className:"text-gray-800",onClick:()=>i(l),children:[o.jsxs("div",{className:"flex items-center gap-[1rem] cursor-pointer group py-2",children:[o.jsx(F,{icon:l.icon,className:`${l.iconColor} flex-shrink-0`}),o.jsx("span",{className:"group-hover:text-red-500 transition duration-150",children:l.label})]}),o.jsx("div",{className:`mt-[1.2rem] ${r&&r.length>0&&r?.includes(l.id)?"h-auto":"h-[0rem] overflow-hidden"} transition duration-300`,children:l.children&&l.children?.map(c=>{const u=a(c.path);return o.jsxs(Qe,{to:c.path,className:"block pl-[2rem] sm:pl-[3rem] space-y-6 text-start text-gray-600 cursor-pointer group",onClick:d=>d.stopPropagation(),children:[o.jsx("span",{className:`block group-hover:text-red-500 transition duration-150 ${u?"text-red-500":"text-gray-600"}`,children:c.label}),o.jsx("div",{})]},c.id)})})]},l.id))})]}),o.jsx("div",{className:"flex-1 w-full min-h-[calc(100vh-20rem)] bg-white shadow-md mb-[2rem] rounded-md",children:o.jsx(Bl,{})})]})})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var ebe={prefix:"fab",iconName:"google",icon:[512,512,[],"f1a0","M500 261.8C500 403.3 403.1 504 260 504 122.8 504 12 393.2 12 256S122.8 8 260 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9c-88.3-85.2-252.5-21.2-252.5 118.2 0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9l-140.8 0 0-85.3 236.1 0c2.3 12.7 3.9 24.9 3.9 41.4z"]},tbe={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},p7={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},nbe={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]},rbe={prefix:"fab",iconName:"square-facebook",icon:[448,512,["facebook-square"],"f082","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l98.2 0 0-145.8-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 145.8 129 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]};const g7="/manage-sell-client/assets/cart_empty-Clt3I79b.png";function sbe({showCart:t,setShowCart:e}){const{user:n}=Ct(),r=xo(),s=rt(),[i,a]=T.useState([]),[l,c]=T.useState([]),{data:u}=Fe({queryKey:["cart"],queryFn:Nj,enabled:!!n});T.useEffect(()=>{if(n)if(u&&u.length>0){const g=u[0].items.map(x=>({id:x.variant.id,product:x.variant.product,variantSize:x.variant.variantSize,variantColor:x.variant.variantColor,price:x.price,quantity:x.quantity,inventory:x.variant.inventory}));a(g)}else a([]);else{const p=n?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(c(p),p.length===0){a([]);return}const g=p.map(v=>v.variantId);(async()=>{try{const v=await h7(g);if(v.status){const b=v.data.map(w=>{const S=p.find(j=>j.variantId===w.id);return{...w,quantity:S.quantity||1}});a(b)}}catch(v){console.log(v),de.error(v.message)}})()}},[n,u,t]);const d=async(p,g)=>{const x=i.map(w=>w.id===p?{...w,quantity:g==="incre"?Math.min(w.inventory,w.quantity+1):Math.max(1,w.quantity-1)}:w);a(x);const v=x.find(w=>w.id===p).quantity,b={variantId:p,quantity:v};if(n)try{if((await xe.patch("/api/v1/cart-items/update-quantity",b)).status)return}catch(w){de.error(w.message)}else{const w=l.map(S=>S.variantId===p?{...S,quantity:v}:S);localStorage.setItem("localCart",JSON.stringify(w))}},f=async p=>{const g=i.filter(x=>x.id!==p);if(a(g),n)try{if((await xe.delete(`/api/v1/cart-items/delete/${p}`)).status){r.invalidateQueries({queryKey:["cart"]});return}}catch(x){de.error(x.message)}else{const x=l.filter(v=>v.variantId!==p);localStorage.setItem("localCart",JSON.stringify(x)),window.dispatchEvent(new Event("localStorageUpdate"))}};return o.jsx(bt,{open:t,className:"w-[90%] md:w-[50rem] max-h-[55rem] bg-white rounded-md shadow-xl overflow-hidden px-2 py-4 md:p-5",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[o.jsx(F,{icon:ia,className:"text-red-500"}),o.jsxs("div",{className:"text-[1.4rem] md:text-[1.6rem] font-semibold text-gray-700",children:["GI HNG (",i?.length,")"]}),o.jsx("span",{className:"ml-auto cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1),children:o.jsx(F,{icon:Hn,className:"text-gray-600"})})]}),i?.length>0?o.jsx("div",{className:"overflow-y-auto hide-scrollbar max-h-[40rem]",children:i.map(p=>o.jsxs(Qe,{to:`/product-detail/${p.product.slug}`,className:"flex items-center justify-between p-4 md:p-5 border-b border-gray-200",children:[o.jsxs("div",{className:" flex items-center gap-[1rem]",children:[o.jsx("img",{src:p.product.mainImage,alt:"",className:"w-[4.8rem] h-[4.8rem] rounded-md object-cover"}),o.jsxs("div",{className:"w-[20rem]",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-800 text-limit-1",children:p.product.productName}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-[1rem]",children:[o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Size: ",o.jsx("span",{className:"",children:p.variantSize.name})]}),o.jsx("span",{className:"block h-[1.2rem] border-l border-l-gray-400"}),o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Mu: ",o.jsx("span",{className:"",children:p.variantColor.name})]})]}),o.jsx("div",{className:"text-red-500 text-[1rem] md:text-[1.4rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p.product.price)||Number(p.price))})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"decre"),children:o.jsx(F,{icon:Ml,className:"text-[1.2rem] text-gray-600"})}),o.jsx("span",{className:"text-gray-600 text-[1.2rem] md:text-[1.4rem]",children:p.quantity}),o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"incre"),children:o.jsx(F,{icon:Xr,className:"text-[1.2rem] text-gray-600"})})]}),o.jsx("div",{children:o.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),f(p.id)},children:o.jsx(F,{icon:Su,className:"text-red-500 cursor-pointer ml-2"})})})]},p.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("img",{src:g7,alt:"cart empty",className:"w-40"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"Khng c sn phm trong gi hng"})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem] text-[1.2rem] md:text-[1.6rem]",children:[o.jsx("button",{className:"px-[2rem] h-[3.5rem] rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300 transition duration-300",onClick:()=>e(!1),children:"ng"}),o.jsx("button",{type:"button",className:"px-[2rem] h-[3.5rem] flex items-center rounded-md from-pink-400 to-red-500 bg-gradient-to-r hover:from-pink-500 hover:to-red-600 text-white transition duration-300",onClick:()=>{e(!1),s("/cart/detail")},children:"Chi tit gi hng"})]})]})})}const ibe=()=>{const{user:t}=Ct(),[e,n]=T.useState(0),{data:r}=Fe({queryKey:["cart"],queryFn:Nj,enabled:!!t,refetchOnWindowFocus:!1});return T.useEffect(()=>{if(t&&r&&r.length>0){const s=r[0].items.reduce((i,a)=>i+a.quantity,0);n(s)}else t&&(!r||r.length===0)&&n(0)},[t,r]),T.useEffect(()=>{if(!t){const i=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((l,c)=>l+c.quantity,0);n(i);const a=()=>{const c=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((u,d)=>u+d.quantity,0);n(c)};return window.addEventListener("storage",a),window.addEventListener("localStorageUpdate",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("localStorageUpdate",a)}}},[t]),e},x7=async t=>{let e=null;return t&&(e=Object.values(t).filter(r=>r!=="")),await xe.get("/api/v1/voucher/get-vouchers",{...t&&e?{params:e.join("/")}:{}})},jj=async()=>await xe.get("/api/v1/voucher/get-saved-voucher");var tg={exports:{}},abe=tg.exports,_P;function obe(){return _P||(_P=1,(function(t,e){(function(n,r){t.exports=r()})(abe,(function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",d="week",f="month",p="quarter",g="year",x="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var W=["th","st","nd","rd"],R=H%100;return"["+H+(W[(R-20)%10]||W[R]||W[0])+"]"}},j=function(H,W,R){var $=String(H);return!$||$.length>=W?H:""+Array(W+1-$.length).join(R)+H},M={s:j,z:function(H){var W=-H.utcOffset(),R=Math.abs(W),$=Math.floor(R/60),z=R%60;return(W<=0?"+":"-")+j($,2,"0")+":"+j(z,2,"0")},m:function H(W,R){if(W.date()<R.date())return-H(R,W);var $=12*(R.year()-W.year())+(R.month()-W.month()),z=W.clone().add($,f),K=R-z<0,X=W.clone().add($+(K?-1:1),f);return+(-($+(R-z)/(K?z-X:X-z))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:f,y:g,w:d,d:u,D:x,h:c,m:l,s:a,ms:i,Q:p}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},C="en",P={};P[C]=S;var A="$isDayjsObject",E=function(H){return H instanceof V||!(!H||!H[A])},D=function H(W,R,$){var z;if(!W)return C;if(typeof W=="string"){var K=W.toLowerCase();P[K]&&(z=K),R&&(P[K]=R,z=K);var X=W.split("-");if(!z&&X.length>1)return H(X[0])}else{var B=W.name;P[B]=W,z=B}return!$&&z&&(C=z),z||!$&&C},L=function(H,W){if(E(H))return H.clone();var R=typeof W=="object"?W:{};return R.date=H,R.args=arguments,new V(R)},_=M;_.l=D,_.i=E,_.w=function(H,W){return L(H,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var V=(function(){function H(R){this.$L=D(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[A]=!0}var W=H.prototype;return W.parse=function(R){this.$d=(function($){var z=$.date,K=$.utc;if(z===null)return new Date(NaN);if(_.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var X=z.match(b);if(X){var B=X[2]-1||0,J=(X[7]||"0").substring(0,3);return K?new Date(Date.UTC(X[1],B,X[3]||1,X[4]||0,X[5]||0,X[6]||0,J)):new Date(X[1],B,X[3]||1,X[4]||0,X[5]||0,X[6]||0,J)}}return new Date(z)})(R),this.init()},W.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},W.$utils=function(){return _},W.isValid=function(){return this.$d.toString()!==v},W.isSame=function(R,$){var z=L(R);return this.startOf($)<=z&&z<=this.endOf($)},W.isAfter=function(R,$){return L(R)<this.startOf($)},W.isBefore=function(R,$){return this.endOf($)<L(R)},W.$g=function(R,$,z){return _.u(R)?this[$]:this.set(z,R)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(R,$){var z=this,K=!!_.u($)||$,X=_.p(R),B=function(ie,fe){var Te=_.w(z.$u?Date.UTC(z.$y,fe,ie):new Date(z.$y,fe,ie),z);return K?Te:Te.endOf(u)},J=function(ie,fe){return _.w(z.toDate()[ie].apply(z.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(fe)),z)},ne=this.$W,se=this.$M,me=this.$D,Ee="set"+(this.$u?"UTC":"");switch(X){case g:return K?B(1,0):B(31,11);case f:return K?B(1,se):B(0,se+1);case d:var ce=this.$locale().weekStart||0,ee=(ne<ce?ne+7:ne)-ce;return B(K?me-ee:me+(6-ee),se);case u:case x:return J(Ee+"Hours",0);case c:return J(Ee+"Minutes",1);case l:return J(Ee+"Seconds",2);case a:return J(Ee+"Milliseconds",3);default:return this.clone()}},W.endOf=function(R){return this.startOf(R,!1)},W.$set=function(R,$){var z,K=_.p(R),X="set"+(this.$u?"UTC":""),B=(z={},z[u]=X+"Date",z[x]=X+"Date",z[f]=X+"Month",z[g]=X+"FullYear",z[c]=X+"Hours",z[l]=X+"Minutes",z[a]=X+"Seconds",z[i]=X+"Milliseconds",z)[K],J=K===u?this.$D+($-this.$W):$;if(K===f||K===g){var ne=this.clone().set(x,1);ne.$d[B](J),ne.init(),this.$d=ne.set(x,Math.min(this.$D,ne.daysInMonth())).$d}else B&&this.$d[B](J);return this.init(),this},W.set=function(R,$){return this.clone().$set(R,$)},W.get=function(R){return this[_.p(R)]()},W.add=function(R,$){var z,K=this;R=Number(R);var X=_.p($),B=function(se){var me=L(K);return _.w(me.date(me.date()+Math.round(se*R)),K)};if(X===f)return this.set(f,this.$M+R);if(X===g)return this.set(g,this.$y+R);if(X===u)return B(1);if(X===d)return B(7);var J=(z={},z[l]=r,z[c]=s,z[a]=n,z)[X]||1,ne=this.$d.getTime()+R*J;return _.w(ne,this)},W.subtract=function(R,$){return this.add(-1*R,$)},W.format=function(R){var $=this,z=this.$locale();if(!this.isValid())return z.invalidDate||v;var K=R||"YYYY-MM-DDTHH:mm:ssZ",X=_.z(this),B=this.$H,J=this.$m,ne=this.$M,se=z.weekdays,me=z.months,Ee=z.meridiem,ce=function(fe,Te,Se,we){return fe&&(fe[Te]||fe($,K))||Se[Te].slice(0,we)},ee=function(fe){return _.s(B%12||12,fe,"0")},ie=Ee||function(fe,Te,Se){var we=fe<12?"AM":"PM";return Se?we.toLowerCase():we};return K.replace(w,(function(fe,Te){return Te||(function(Se){switch(Se){case"YY":return String($.$y).slice(-2);case"YYYY":return _.s($.$y,4,"0");case"M":return ne+1;case"MM":return _.s(ne+1,2,"0");case"MMM":return ce(z.monthsShort,ne,me,3);case"MMMM":return ce(me,ne);case"D":return $.$D;case"DD":return _.s($.$D,2,"0");case"d":return String($.$W);case"dd":return ce(z.weekdaysMin,$.$W,se,2);case"ddd":return ce(z.weekdaysShort,$.$W,se,3);case"dddd":return se[$.$W];case"H":return String(B);case"HH":return _.s(B,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return ie(B,J,!0);case"A":return ie(B,J,!1);case"m":return String(J);case"mm":return _.s(J,2,"0");case"s":return String($.$s);case"ss":return _.s($.$s,2,"0");case"SSS":return _.s($.$ms,3,"0");case"Z":return X}return null})(fe)||X.replace(":","")}))},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(R,$,z){var K,X=this,B=_.p($),J=L(R),ne=(J.utcOffset()-this.utcOffset())*r,se=this-J,me=function(){return _.m(X,J)};switch(B){case g:K=me()/12;break;case f:K=me();break;case p:K=me()/3;break;case d:K=(se-ne)/6048e5;break;case u:K=(se-ne)/864e5;break;case c:K=se/s;break;case l:K=se/r;break;case a:K=se/n;break;default:K=se}return z?K:_.a(K)},W.daysInMonth=function(){return this.endOf(f).$D},W.$locale=function(){return P[this.$L]},W.locale=function(R,$){if(!R)return this.$L;var z=this.clone(),K=D(R,$,!0);return K&&(z.$L=K),z},W.clone=function(){return _.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},H})(),G=V.prototype;return L.prototype=G,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",f],["$y",g],["$D",x]].forEach((function(H){G[H[1]]=function(W){return this.$g(W,H[0],H[1])}})),L.extend=function(H,W){return H.$i||(H(W,V,L),H.$i=!0),L},L.locale=D,L.isDayjs=E,L.unix=function(H){return L(1e3*H)},L.en=P[C],L.Ls=P,L.p={},L}))})(tg)),tg.exports}var lbe=obe();const Jr=A0(lbe);function Pu({showNotify:t,content:e,duration:n,onClose:r,isSuccess:s=!0}){return o.jsxs(bt,{open:t,duration:n,onClose:r,className:"flex flex-col justify-center items-center gap-[1rem] min-w-[30rem] max-w-[50rem] min-h-[10rem] bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:`w-[4rem] h-[4rem] rounded-full ${s?"bg-green-500":"bg-red-500"} flex items-center justify-center`,children:s?o.jsx(F,{icon:co,className:"text-[2rem] text-white"}):o.jsx(F,{icon:vG,className:"text-[2rem] text-white"})}),o.jsx("div",{className:"text-gray-600 select-none ",children:e})]})}function cbe({open:t,onClose:e,vouchers:n}){const{user:r}=Ct(),s=rt(),[i,a]=T.useState({open:!1,content:"",isSuccess:!1}),{data:l,isLoading:c,refetch:u}=Fe({queryKey:["getSavedVouchers"],queryFn:()=>jj(),enabled:!!r}),d=l&&l.data;if(!n)return null;const f=x=>Jr(x).format("HH:mm DD/MM/YYYY"),p=x=>{navigator.clipboard.writeText(x.voucherCode).then(()=>{a({open:!0,content:" sao chp m!",isSuccess:!0})}).catch(()=>{a({open:!0,content:"Sao chp m khng thnh cng!",isSuccess:!1})})},g=async x=>{try{(await xe.post(`/api/v1/voucher/save-voucher/${x.voucherCode}`)).status&&(a({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await u())}catch(v){console.log(v),a({open:!0,content:"Lu m khng thnh cng!",isSuccess:!1})}};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t,className:"relative flex flex-col w-[90%] md:w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(F,{icon:mn,className:"text-3xl"})}),o.jsx("h2",{className:"font-bold text-center text-pink-600",children:"Chi Tit Voucher"})]}),c?o.jsx("div",{className:"my-16 text-center",children:"ang ti d liu..."}):o.jsx("div",{className:"md:px-8 px-6 space-y-4 z-0",children:n&&n?.length>0?n?.map(x=>{const v=r&&d.some(b=>b.id===x.id);return o.jsxs("div",{className:"flex items-center bg-gradient-to-r from-pink-500 to-blue-600 rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden ",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-40 h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-56 h-56 bg-white rounded-full"})]}),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none",children:x.name}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-6 py-3 rounded-xl font-mono font-bold tracking-wider",children:x.voucherCode}),o.jsx("button",{onClick:()=>p(x),className:"flex items-center text-[1.4rem] gap-2 bg-white text-pink-600 px-4 py-3.5 rounded-xl hover:bg-gray-100 transition shadow-md",children:o.jsx(F,{icon:IG})})]}),o.jsxs("div",{className:"text-[1.4rem] md:text-[2.2rem] font-extrabold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1.2rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] md:text-[1.2rem] gap-2",children:["Thi hn: n ",f(x.endDate)]})]})}),r&&o.jsx("div",{className:"relative z-[100] ml-auto",children:o.jsx("button",{className:`px-8 py-3 rounded-xl ${v?"border border-white text-white":"bg-red-500 hover:bg-red-600"}  transition-colors duration-300 text-[1rem] md:text-[1.4rem] cursor-pointer`,onClick:()=>{r?g(x):s("/login")},children:v?" lu":"Lu m"})})]},x.id)}):o.jsx("div",{children:"Khng c d liu"})}),o.jsx("div",{className:"sticky bottom-0  bg-white border-t border-gray-200 md:px-8 px-6 py-6 text-end z-10",children:o.jsx("button",{onClick:e,className:"px-12 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})})]}),o.jsx(Pu,{showNotify:i.open,duration:1e3,onClose:()=>a({open:!1,content:"",isSuccess:!1}),isSuccess:i.isSuccess,content:i.content})]})}function Cj({open:t,onClose:e}){const n=rt();return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[45rem] xl:w-[50rem] h-auto rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600",children:"Vui lng ng nhp  thc hin"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp"})]})]})}function y7({onClose:t}){const e=sr(),n=rt(),r=e.pathname.split("/").filter(Boolean),s=r.length>1?r.slice(1):[],{data:i,isLoading:a}=Fe({queryKey:["getAllCategory"],queryFn:()=>Eu()}),l=f=>f.length===0?!1:f.every((p,g)=>p===s[g]),c=f=>{f.length!==0&&(n(`/category/${f.join("/")}`),t&&t())},u=({categories:f,parentSlugChain:p})=>o.jsx(o.Fragment,{children:f.map(g=>{const x=[...p,g.slug],v=l(x),b=g.children&&g.children.length>0,w=s.length>=x.length&&l(x);return o.jsxs("div",{className:"my-2",children:[o.jsxs("div",{onClick:S=>{S.stopPropagation(),c(x)},className:`
                  flex items-center justify-between px-3 md:px-5 py-3 md:py-4 rounded-lg cursor-pointer
                  transition-all text-[1.3rem] md:text-[1.4rem]
                  ${v?"bg-pink-50 text-pink-600 font-medium":"hover:bg-gray-100"}
                `,children:[o.jsx("span",{children:g.categoryName}),b&&o.jsx(F,{icon:w?wh:kn,className:"text-[1.2rem]"})]}),b&&w&&o.jsx("div",{className:"ml-3 md:ml-4 mt-1 border-l-2 border-pink-300 pl-2 md:pl-3",children:o.jsx(u,{categories:g.children,parentSlugChain:x})})]},g.id)})}),d=()=>o.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 animate-pulse",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[5rem] md:h-[5rem] rounded-lg bg-gray-200"}),o.jsx("div",{className:"flex-1 h-[3rem] rounded-lg bg-gray-200"})]});return o.jsxs("div",{className:"bg-white h-full text-[1.4rem] md:text-[1.6rem] w-full md:w-[26rem] shadow-xl md:shadow-none",children:[o.jsxs("div",{className:"md:hidden sticky top-0 bg-white z-10 border-b border-gray-200 px-4 py-4 flex items-center justify-between",children:[o.jsx("h4",{className:"text-[1.8rem] font-bold text-gray-800",children:"Danh mc sn phm"}),t&&o.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:o.jsx(F,{icon:s_,className:"text-[2rem] text-gray-600"})})]}),o.jsx("h4",{className:"hidden md:block font-bold mb-[1rem] text-gray-600 pl-[1rem] px-1.5 py-1.5 md:px-[1rem] md:py-[1rem]",children:"Danh mc"}),o.jsx("div",{className:"px-3 md:px-[1rem] pb-4 overflow-y-auto h-[calc(100vh-8rem)] md:h-auto",children:a?o.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((f,p)=>o.jsx(d,{},p))}):o.jsx("div",{className:"space-y-2 md:space-y-4",children:i&&i.length>0&&i.map(f=>{const p=[f.slug],g=l(p),x=f.children&&f.children.length>0;return o.jsxs("div",{onClick:v=>{v.stopPropagation(),c(p)},children:[o.jsxs("div",{className:`
                        flex items-center justify-between px-3 md:px-4 py-3 rounded-lg cursor-pointer
                        transition-all group
                        ${g?"bg-pink-50 shadow-sm":"hover:bg-gray-50"}
                      `,children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[f.image?o.jsx("img",{src:f.image,alt:f.categoryName,className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg object-cover flex-shrink-0 shadow-sm"}):o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:t_,className:"text-[1.8rem] md:text-[2rem] text-gray-400"})}),o.jsx("span",{className:`text-[1.3rem] md:text-[1.5rem] truncate ${g?"text-pink-600":"text-gray-700"}`,children:f.categoryName})]}),x&&o.jsx(F,{icon:g?wh:kn,className:`text-[1.2rem] flex-shrink-0 transition-transform duration-300 ${g?"text-pink-600":"text-gray-400"}`})]}),g&&x&&o.jsx("div",{className:"mt-2 ml-4 md:ml-6 border-l-2 border-pink-300 pl-3 md:pl-4",children:o.jsx(u,{categories:f.children,parentSlugChain:p})})]},f.id)})})})]})}const ube=()=>{const[t,e]=T.useState(()=>{let n=localStorage.getItem("search_session_id");return n||(n=crypto.randomUUID(),localStorage.setItem("search_session_id",n)),n});return t};function dbe(t,e=1e3){const[n,r]=T.useState(t);return T.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[e,t]),n}function DP({isMobile:t}){const{user:e}=Ct(),[n]=ua(),r=n.get("q"),s=rt(),[i,a]=T.useState(""),l=T.useRef(null),[c,u]=T.useState(!1),d=dbe(i,500),[f,p]=T.useState(!0),[g,x]=T.useState({open:!1,data:[]}),v=ube();if(!v)throw new Error("sessionId khng tn ti!");const{data:b,isLoading:w,refetch:S}=Fe({queryKey:["recentSearches",v],queryFn:()=>ete(v,Number(e?.id)),enabled:c&&(!!e||!!v),staleTime:60*1e3}),j=b&&b.data||[];T.useEffect(()=>{r&&(a(r),x(L=>({...L,open:!1})))},[r]);const M=T.useCallback(async L=>{if(L.trim())try{(await xe.post("/api/v1/search/save",{query:L.trim(),...e?void 0:{session_id:v}})).status&&await S()}catch(_){console.log(_)}},[e,v,S]);T.useEffect(()=>{if(!d)return;const L=new AbortController;return p(!0),(async()=>{try{const V=await xe.get("/api/v1/product/suggest",{params:{productName:d}});V.status&&x(G=>({...G,data:V.suggestions}))}catch(V){console.log(V)}finally{p(!1)}})(),()=>L.abort()},[d]);const C=L=>{if(L.key==="Enter"){L.preventDefault();const _=i.trim();_&&(M(_),s(`/search?q=${encodeURIComponent(_)}`))}},P=L=>{L&&(a(L),x(_=>({..._,open:!1})),s(`/search?q=${encodeURIComponent(L)}`))},A=c,E=t?"mt-4 mb-2":"relative flex-1 max-w-2xl mx-4 lg:mx-8",D=t?"text-[1.4rem] w-full h-[3.5rem] pl-12 pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors":"text-[1.4rem] w-full h-[3.5rem] md:h-[4rem] pl-10 md:pl-[3.4rem] pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors";return o.jsxs("div",{className:E,ref:l,children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"text",className:D,placeholder:t?"Tm kim sn phm...":"Tm o thun, qun jean, giy sneaker...",value:i,onChange:L=>{const _=L.target.value;_.startsWith(" ")&&i===""||a(_)},onFocus:()=>u(!0),onBlur:()=>{setTimeout(()=>u(!1),200)},onKeyDown:C}),o.jsx(F,{icon:Dr,className:`text-gray-400 absolute top-1/2 -translate-y-1/2 ${t?"w-4 h-4 left-3":"w-4 h-4 md:w-5 md:h-5 left-3 md:left-4"}`})]}),A&&o.jsx("div",{className:"text-[1.4rem] absolute top-[calc(100%+.5rem)] left-0 bg-white w-full max-h-[400px] overflow-y-auto border border-gray-300 rounded-md shadow-xl z-50",children:i.trim()?o.jsx(o.Fragment,{children:f?o.jsx("div",{className:"p-5 text-center text-gray-500",children:"ang tm kim..."}):g.data.length>0?g.data.map((L,_)=>o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer transition-colors",onMouseDown:()=>P(L),children:[o.jsx(F,{icon:Dr,className:"text-gray-400 mr-3"}),L]},_)):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Khng tm thy sn phm ph hp"})}):o.jsx(o.Fragment,{children:w?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"ang ti..."}):j.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-5 text-[1.4rem] text-gray-500 font-medium border-b border-b-gray-300",children:"Tm kim gn y"}),j.map((L,_)=>{const V=typeof L=="string"?L:L.query;return o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer flex items-center gap-3 transition-colors",onClick:()=>P(L.query),children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{icon:PG,className:"text-gray-400"}),o.jsx("span",{className:"flex-1",children:V})]}),o.jsx("button",{className:"ml-auto cursor-pointer",children:o.jsx(F,{icon:mn,className:"hover:text-gray-800 text-gray-500"})})]},_)})]}):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Cha c lch s tm kim"})})})]})}function b7({isFooter:t=!1}){return o.jsxs(Qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-red-600 text-white w-14 h-14 md:w-[3.5rem] md:h-[3.5rem] rounded-lg flex items-center justify-center font-bold text-lg md:text-xl",children:"K"}),o.jsxs("div",{className:"block",children:[o.jsx("div",{className:"text-[1.8rem] md:text-[2.2rem] font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:`text-[1rem] md:text-[1.2rem] ${t?"text-white":"text-gray-500"}  -mt-1`,children:"Style Your Life"})]})]})}function kj(){const[t,e]=T.useState(!1),{user:n}=Ct(),{logout:r}=vu(),s=ibe(),[i,a]=T.useState(!0),[l,c]=T.useState(!1),u=rt(),[d,f]=T.useState(!1),p=sr(),g=T.useRef(null),[x,v]=T.useState(!1),[b,w]=T.useState(window.innerWidth<768),[S,j]=T.useState({open:!1,data:null}),[M,C]=T.useState(!1),{data:P,isLoading:A}=Fe({queryKey:["vouchers"],queryFn:()=>x7()}),E=P&&P.data,{data:D,isLoading:L}=Fe({queryKey:["getAllCategory"],queryFn:()=>Eu()});T.useEffect(()=>{const H=()=>w(window.innerWidth<768);return window.addEventListener("resize",H),()=>{window.addEventListener("resize",H)}},[]),T.useEffect(()=>{const H=()=>{window.scrollY>50?a(!1):a(!0)};return p.pathname.includes("/customer")||window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)},[p]),T.useEffect(()=>{const H=W=>{g.current&&!g.current.contains(W?.target)&&C(!1)};return document.addEventListener("click",H),()=>{document.removeEventListener("click",H)}},[]);const _=H=>n?n.role===le.UserRole.ADMIN||n.role===le.UserRole.STAFF?u("/dashboard"):u(`/${H}`):u(`/${H}`),V=H=>{if(H)u(`/category/${H}`);else if(D){const W=D[0];u(`/category/${W.slug}`)}},G=H=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(H);return o.jsxs("header",{className:`${p.pathname.includes("/customer")?"fixed top-0 left-0 md:relative":"fixed top-0 left-0"} w-full bg-white z-[999] ${p.pathname.includes("/customer")?"":i?" shadow-none":"shadow-xl"}`,children:[A?o.jsx(o.Fragment,{}):E?.map((H,W)=>{if(!(W>=1))return o.jsx("div",{className:`px-4 md:px-8 lg:px-12 xl:px-[12rem] bg-gradient-to-r from-pink-600 to-red-500 w-full ${i?"h-[3.5rem] opacity-[1]":"opacity-0 h-[0] overflow-hidden"} flex items-center justify-between transition-all duration-300 cursor-pointer`,onClick:()=>{n?j({open:!0,data:E}):c(!0)},children:o.jsxs("p",{className:"text-[1rem] sm:text-[1.2rem] md:text-[1.4rem] text-white whitespace-nowrap overflow-hidden text-ellipsis px-2",children:[" ",H.name," - Gim"," ",H.type===le.VoucherType.PERCENT?`${H.value}%`:`${G(H.value)}`," ",H.minOrderValue>0&&`- n t ${G(H.minOrderValue)}`]})},H.id)}),o.jsxs("div",{className:"relative md:px-8 lg:px-12 xl:px-[12rem] py-2 md:py-[1rem]",children:[o.jsxs("div",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(b7,{})}),o.jsxs("div",{className:"md:hidden flex items-center space-x-12",children:[o.jsxs("div",{className:" relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-8 h-8 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),n&&o.jsx("span",{className:"absolute -top-3 left-[1.5rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]}),o.jsx("div",{className:`w-15 h-15 ${n?"border-1":"border-2"} border-gray-400 rounded-full flex flex-col items-center justify-center gap-1 group transition-colors`,onClick:H=>{H.stopPropagation(),C(!M)},children:n?.avatar?o.jsx("img",{src:n.avatar,alt:"avatar user",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Qs,className:`${n?"text-pink-500":"text-gray-400"} group-hover:text-pink-600 text-[1.6rem]`})})]}),o.jsx("div",{className:"relative hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:o.jsx(DP,{isMobile:!1})}),o.jsxs("div",{className:"hidden md:flex items-center gap-4 lg:gap-6 z-[900]",children:[n?o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 group transition-colors",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsx(F,{icon:Qs,className:"text-gray-600 group-hover:text-pink-600"}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer group-hover:text-pink-600 whitespace-nowrap",children:n.username}),o.jsxs("div",{className:`absolute top-full mt-2 w-[22rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>_("customer/account/profile"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[o.jsx(F,{icon:Qs,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem] ",children:"Ti khon ca ti"})]}),o.jsxs("button",{onClick:()=>_("customer/order"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[o.jsx(F,{icon:Nh,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"n hng ca ti"})]}),o.jsxs("button",{onClick:()=>_("customer/favorite"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[o.jsx(F,{icon:_p,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem] ",children:"Sn phm yu thch"})]})]}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{r(),u("/")},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(F,{icon:_d,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng xut"})]})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsx(F,{icon:Qs}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer whitespace-nowrap",children:"Ti khon"}),o.jsxs("div",{className:`absolute top-[100%] mt-2 w-[18rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 z-[1000] ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>_("login"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(F,{icon:_d,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng nhp"})]})}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>_("register"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(F,{icon:_d,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng k"})]})})]})]}),o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group",onClick:()=>u("/look-up-order"),children:[o.jsx(F,{icon:Vb}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer whitespace-nowrap",children:"n hng"})]})]}),o.jsxs(Qe,{to:"/",className:"flex flex-col items-center gap-1 hover:text-pink-600 transition-colors relative group",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline whitespace-nowrap",children:"Yu thch"}),o.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:"5"})]}),o.jsxs("div",{className:"relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-6 h-6 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),o.jsx("span",{className:"text-[1.2rem] group-hover:text-pink-600 group-hover:underline whitespace-nowrap",children:"Gi hng"}),n&&o.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]})]})]}),o.jsx("div",{className:"md:hidden mt-4 mb-2",children:o.jsx(DP,{isMobile:!0})})]}),M&&o.jsx("div",{ref:g,className:"fixed top-0 right-0 md:hidden w-full h-full bg-[#3e3e3e6f] border-t border-gray-200 z-[100]",onClick:H=>{H.stopPropagation(),C(!1)},children:o.jsx("div",{className:"flex flex-col gap-8 bg-white w-[80%] h-full p-[2rem]",onClick:H=>{H.stopPropagation()},children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:n?.avatar?o.jsx("img",{src:n?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Qs,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:n?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600 cursor-pointer",onClick:()=>{u("customer/account/profile"),C(!1)},children:[o.jsx(F,{icon:zs}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsxs("button",{onClick:()=>{_("customer/account/profile"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Qs,className:"w-5"}),"Ti khon ca ti"]}),o.jsxs("button",{onClick:()=>{_("customer/order"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Nh,className:"w-5"}),"n hng ca ti"]}),o.jsxs("button",{onClick:()=>{_("customer/favorite"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:_p,className:"w-5"}),"Sn phm yu thch"]}),o.jsxs("button",{onClick:()=>{_("customer/account/address"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:_p,className:"w-5"}),"a ch"]}),o.jsxs("button",{onClick:()=>{_("customer/my-voucher"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:lN,className:"w-5"}),"Voucher ca ti"]}),o.jsxs("button",{onClick:()=>{u("/customer/account/privacy"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Vb,className:"w-5"}),"Thit lp ring"]}),o.jsxs("button",{onClick:()=>{r(),u("/"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-red-600 text-[1.4rem]",children:[o.jsx(F,{icon:_d,className:"w-5"}),"ng xut"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{_("login"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Qs,className:"w-5"}),"ng nhp"]}),o.jsxs("button",{onClick:()=>{_("register"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Qs,className:"w-5"}),"ng k"]}),o.jsxs("button",{onClick:()=>{u("/look-up-order"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Vb,className:"w-5"}),"Tra cu n"]})]})})})]}),o.jsx("div",{className:"md:block w-[100%] border-t border-t-gray-300 py-[1rem] px-4 md:px-8 lg:px-12 xl:px-[12rem]",children:o.jsxs("nav",{className:"flex items-center justify-between h-12",children:[o.jsxs("ul",{className:"flex items-center gap-4 lg:gap-8 overflow-x-auto scrollbar-hide",children:[o.jsx("li",{className:"relative group shrink-0 gap-2",children:o.jsxs("button",{className:"flex items-center text-[1.2rem] lg:text-[1.4rem] font-medium text-pink-600 hover:text-pink-700 whitespace-nowrap mt-1",onClick:()=>{b?v(!0):V()},children:[o.jsx(F,{icon:o_}),o.jsx("span",{children:"DANH MC"})]})}),L?o.jsx(o.Fragment,{}):D&&D.length>0&&D.filter(H=>!H.parentId).map(H=>o.jsx("li",{onClick:()=>V(H.slug),className:"shrink-0",children:o.jsx(Qe,{to:`/category/${H.slug}`,className:"font-medium text-[1.2rem] lg:text-[1.4rem] hover:text-pink-600 transition-colors uppercase whitespace-nowrap",children:H.categoryName})},H.id))]}),o.jsxs("div",{className:"hidden lg:flex items-center gap-4 text-[1.4rem] shrink-0",children:[o.jsx(Qe,{to:"/about-us",className:"hover:text-pink-600 text-gray-600 transition-colors whitespace-nowrap",children:"Gii thiu"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsxs("a",{href:"https://www.facebook.com/kien.trung.732841/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(F,{icon:tbe}),"Facebook"]}),o.jsxs("a",{href:"https://www.instagram.com/trungkien4420/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(F,{icon:p7}),"Instagram"]})]})]})}),o.jsx(sbe,{setShowCart:e,showCart:t}),b&&x&&o.jsx("div",{className:"fixed top-0 left-0 h-full w-full bg-[#36363650] z-[999]",onClick:()=>v(!1),children:o.jsx("div",{className:"w-[85%] max-w-[36rem] h-full bg-white",onClick:H=>H.stopPropagation(),children:o.jsx(y7,{onClose:()=>v(!1)})})}),o.jsx(cbe,{open:S.open,onClose:()=>j({open:!1,data:null}),vouchers:S.data}),o.jsx(Cj,{open:l,onClose:()=>c(!1)})]})}function Tj(){return o.jsxs("footer",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] py-8 bg-gray-700 text-white mt-20",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-4 pb-5 border-b border-b-gray-400 mb-8",children:[o.jsx(b7,{isFooter:!0}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qe,{to:"https://www.facebook.com/profile.php?id=100029756161612&locale=vi_VN",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:o.jsx(F,{icon:rbe,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:o.jsx(F,{icon:p7,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"#","aria-label":"Twitter",children:o.jsx(F,{icon:nbe,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"#","aria-label":"Google",children:o.jsx(F,{icon:ebe,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"V Shop"}),o.jsx("p",{className:"text-gray-300 text-[1.4rem]",children:"Chuyn cung cp thi trang cht lng cao vi gi c hp l"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"H tr khch hng"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Qe,{to:"/huong-dan-mua-hang",className:"hover:text-primary",children:"Hng dn mua hng"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/chinh-sach-doi-tra",className:"hover:text-primary",children:"Chnh sch i tr"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/phuong-thuc-thanh-toan",className:"hover:text-primary",children:"Phng thc thanh ton"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/van-chuyen",className:"hover:text-primary",children:"Vn chuyn"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Chnh sch"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Qe,{to:"/chinh-sach-bao-mat",className:"hover:text-primary",children:"Chnh sch bo mt"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/dieu-khoan-su-dung",className:"hover:text-primary",children:"iu khon s dng"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/quy-dinh-chung",className:"hover:text-primary",children:"Quy nh chung"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3 ",children:"Lin h"}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Hotline:"})," 0357 124 853"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Email:"})," nguyentrungkien040921@gmail.com"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Gi lm vic:"})," 8:00 - 22:00"]})]})]}),o.jsx("div",{className:" mt-8 pt-6 border-t border-gray-400 text-center text-gray-300 text-[1.4rem]",children:o.jsx("p",{children:" 2025 Shop Qun o. c pht trin bi Nguyn Trung Kin"})})]})}function hbe(){const t=sr();return o.jsxs("div",{children:[o.jsx(kj,{}),o.jsx("div",{className:`w-full h-auto ${t.pathname.includes("/customer")?"mt-[2.5rem]":"mt-[20rem] md:mt-[17rem]"}`,children:o.jsx(Bl,{})}),o.jsx(Tj,{})]})}function v7({open:t,item:e,dataGuest:n,onClose:r,refetch:s}){const{user:i}=Ct(),[a,l]=T.useState({message:"",rating:5,images:[],showAccount:!0}),[c,u]=T.useState({message:"",images:""}),[d,f]=T.useState(!1),[p,g]=T.useState([]);T.useEffect(()=>{e&&l({message:"",rating:5,images:[],showAccount:!0})},[e]);const x=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C),v=C=>{l(P=>({...P,rating:C}))},b=C=>{const{files:P}=C.target;if(!P)return;const A=a.images,E=2-A.length;if(E<=0){u(L=>({...L,images:"Ch c upload ti a 2 nh!"}));return}const D=Array.from(P).slice(0,E);l(L=>({...L,rating:L?.rating||5,message:L?.message||"",images:[...A,...D]})),D.forEach(L=>{const _=URL.createObjectURL(L);g(V=>[...V,_])})},w=C=>{l(P=>({...P,images:P.images.filter((A,E)=>E!==C)})),g(P=>P.filter((A,E)=>E!==C))},S=async C=>{if(a.message.length>200){u(A=>({...A,message:"Ni dung khng c qu 200 k t!"}));return}if(a.images.length>2){u(A=>({...A,images:"Ch c upload ti a 2 nh!"}));return}f(!0);const P=new FormData;!i&&n&&(P.append("customerEmail",n?.customerEmail),P.append("customerName",n?.customerName)),P.append("rating",a.rating.toString()),P.append("showAccount",a.showAccount.toString()),P.append("orderItemId",C.toString()),a.message!==""&&P.append("message",a.message),a.images.length>0&&a.images.forEach(A=>{P.append("images",A)});try{const A=await xe.post("/api/v1/evaluate/add",P,{headers:{"Content-Type":"multipart/form-data"}});A.status&&(await s(),de.success(A.message),r())}catch(A){console.log(A),de.error(A.message)}finally{f(!1)}},j=C=>{u(P=>C?{...P,...C==="message"?{message:""}:{images:""}}:{images:"",message:""})},M=e&&e.variant.product;return o.jsxs(bt,{open:t,className:"relative w-[65rem] min-h-[20rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[1rem] right-[1rem]",onClick:C=>{C.stopPropagation(),r()},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsx("h2",{className:"text-[2rem] text-amber-500 mb-[2.5rem] font-bold text-center",children:"nh gi sn phm"}),o.jsx("div",{className:"space-y-8 max-h-[50rem] overflow-auto hide-scrollbar",children:e&&M?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border border-gray-300 rounded-md p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:M.mainImage,alt:M.productName,className:"w-[5rem] h-[5rem] rounded-sm object-cover"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"line-clamp-1",children:M.productName}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["Phn loi: size ",e.variant.variantSize.name,", mu"," ",e.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",e.quantity]})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500",children:x(e.price*e.quantity)})]}),o.jsxs("div",{className:"flex items-center mt-[1rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 mr-[.5rem]",children:["Sao nh gi:"," "]}),o.jsx("div",{className:"space-x-1",children:Array.from({length:5}).map((C,P)=>o.jsx("button",{type:"button",onClick:()=>v(P),children:o.jsx(F,{icon:P<=a.rating?ms:m7,className:`text-[1.6rem] ${P<=a.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},P))})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"message",id:"message",rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",onChange:C=>{j("message"),l(P=>({...P,message:C.target.value}))}}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.message})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsxs("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:[p&&p.length>0&&p.map((C,P)=>o.jsxs("div",{className:"relative w-[8rem] h-[8rem] border border-gray-400 flex flex-col items-center justify-center rounded-md cursor-pointer",children:[o.jsx("img",{src:C,alt:`images-${P}`,className:"w-full h-full object-cover rounded-md"},C),o.jsx("button",{className:"absolute top-[-.5rem] right-[-.5rem] h-[2rem] w-[2rem] flex items-center justify-center rounded-full bg-red-500 hover:bg-red-600",onClick:()=>w(P),children:o.jsx(F,{icon:mn,className:"text-white text-[1.2rem]"})})]},C)),o.jsxs("label",{htmlFor:`image-${e.id}`,className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(F,{icon:Xr,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",id:`image-${e.id}`,name:"images",className:"hidden",accept:"images/*",multiple:!0,onChange:C=>{j("images"),b(C)}})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.images})]})]}),o.jsxs("div",{className:"flex justify-end mt-[3.5rem] gap-[1rem]",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:C=>{C.stopPropagation(),r()},disabled:d,children:"Hy"}),o.jsx("button",{type:"button",disabled:d,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",onClick:()=>{j(),S(e.id)},children:d?"ang x l...":"Gi nh gi"})]})]}):o.jsxs("div",{className:"border rounded-md border-gray-300 p-[2rem] animate-pulse",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-200 rounded-sm"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"w-full py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[20rem] py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]})]}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]}),o.jsx("div",{className:"flex items-center mt-[1rem]",children:o.jsx("p",{className:"w-[30rem] py-2.5 bg-gray-200"})}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",disabled:!0})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsx("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:o.jsxs("label",{className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(F,{icon:Xr,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",className:"hidden",disabled:!0})]})})]}),o.jsx("div",{className:"flex justify-end mt-[1rem]",children:o.jsx("button",{type:"button",disabled:!0,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",children:"Gi nh gi"})})]})})]})}const Ax=()=>{const{user:t}=Ct(),[e,n]=T.useState(!1),[r,s]=T.useState({show:!1,content:""}),i=xo();return{addToCart:async l=>{n(!0);try{if(!t){let u=JSON.parse(localStorage.getItem("localCart")||"[]");for(const d of l){const f=u.find(p=>p.variantId===d.variantId);f?f.quantity+=d.quantity:u.push({variantId:d.variantId,quantity:d.quantity})}return localStorage.setItem("localCart",JSON.stringify(u)),window.dispatchEvent(new Event("localStorageUpdate")),s({show:!0,content:" thm vo gi hng!"}),!0}if((await xe.post("/api/v1/cart/add-to-cart",l)).status)return i.invalidateQueries({queryKey:["cart"]}),s({show:!0,content:" thm vo gi hng!"}),!0}catch{return s({show:!0,content:"C li xy ra!"}),!1}finally{n(!1)}},isLoading:e,notify:r,setNotify:s}},IP={[le.CancelReasonType.CHANGE_OF_MIND]:"Ti i ",[le.CancelReasonType.FOUND_BETTER_PRICE]:"Ti tm c gi tt hn",[le.CancelReasonType.ORDER_BY_MISTAKE]:"Ti t nhm",[le.CancelReasonType.WRONG_ADDRESS]:"Thay i a ch",[le.CancelReasonType.OTHER]:"L do khc"};function w7({open:t,onClose:e,orderCode:n,refetch:r,status:s,cancelReason:i,cancelledAt:a,cancelledBy:l}){const{user:c}=Ct(),[u,d]=T.useState(!1),[f,p]=T.useState(""),g=s===le.OrderStatus.CANCELLED,[x,v]=T.useState({customerEmail:"",customerPhone:"undefined"}),[b,w]=T.useState({customerEmail:"",customerPhone:"",reason:""}),S=()=>{let M=!0;const C={customerEmail:"",customerPhone:"",reason:""};return c||(x.customerEmail.trim()?/^\S+@\S+\.\S+$/.test(x.customerEmail)||(C.customerEmail="Email khng hp l!",M=!1):(C.customerEmail="Vui lng nhp email  t hng!",M=!1),x.customerPhone.trim()?/^0[1-9]\d{8}$/.test(x.customerPhone)||(C.customerPhone="S in thoi khng hp l!",M=!1):(C.customerPhone="Vui lng nhp s in thoi  t hng!",M=!1)),f||(C.reason="Vui lng chn l do hy n!",M=!1),w(C),M},j=async()=>{if(!n){de.error("Khng tm thy m n hng");return}if(S()){d(!0);try{const M={reason:f};c||(M.customerEmail=x.customerEmail,M.customerPhone=x.customerPhone);const C=await xe.patch(`/api/v1/orders/cancel/${n}`,M);C.status&&(v({customerEmail:"",customerPhone:""}),p(""),w({customerEmail:"",customerPhone:"",reason:""}),await r?.(),de.success(C.message||"Hy n hng thnh cng!"),e())}catch(M){console.log(M),de.error(M.message||"C li xy ra!")}finally{d(!1)}}};return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[1.8rem] md:text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Hy n hng"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:M=>{M.stopPropagation(),e()},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),g?o.jsxs("div",{className:"space-y-6 mb-[4rem]",children:[o.jsxs("div",{className:"flex justify-between ",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Thi gian hy"}),o.jsx("p",{className:"font-medium",children:a?new Date(a).toLocaleString("vi-VN"):""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Ngi hy"}),o.jsx("p",{className:"font-medium",children:l})]})]}),o.jsxs("div",{className:"w-full py-[1rem] rounded-md shadow-md flex flex-col justify-center px-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do hy n"}),o.jsx("p",{className:"",children:IP[i]})]}),o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(F,{icon:cN,className:"text-amber-600 mt-0.5"}),o.jsx("p",{className:" text-amber-800",children:"n hng  c hy v khng th khi phc. Bn c th t li n hng mi nu cn."})]})]}):o.jsxs(o.Fragment,{children:[!c&&o.jsxs("div",{className:"flex items-start space-x-6 mb-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email"}),o.jsx("input",{type:"email",name:"customerEmail",id:"customerEmail",value:x.customerEmail,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:M=>{v(C=>({...C,customerEmail:M.target.value})),b.customerEmail&&w(C=>({...C,customerEmail:""}))}}),b.customerEmail&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerEmail})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",name:"customerPhone",id:"customerPhone",value:x.customerPhone,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:M=>{v(C=>({...C,customerPhone:M.target.value})),b.customerPhone&&w(C=>({...C,customerPhone:""}))}}),b.customerPhone&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerPhone})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"block text-gray-600 pb-[1rem]",children:"L do hy n"}),Object.entries(IP).map(([M,C])=>o.jsxs("div",{className:"flex items-center space-x-6 py-4 pl-[2rem] cursor-pointer",children:[o.jsx("input",{type:"radio",id:`reason-${M}`,name:"reason",value:M,style:{scale:1.4,backgroundColor:"red"},className:"cursor-pointer",onChange:P=>{p(P.target.value)}}),o.jsx("label",{htmlFor:`reason-${M}`,className:"cursor-pointer select-none",children:C})]},M))]})]}),b.reason&&o.jsx("p",{className:"text-red-500 mt-2 pl-[2rem]",children:b.reason}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none",onClick:M=>{M.stopPropagation(),e()},children:s?"ng":"Hy"}),!s&&s!==le.OrderStatus.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300 outline-none",onClick:()=>j(),children:u?"ang x l...":"Hy n hng"})]})]})}const Qc=[{key:le.OrderStatus.PENDING,label:"Ch xc nhn n  hng",desc:"Ch xc nhn",icon:Nh,color:"bg-blue-500"},{key:le.OrderStatus.CONFIRMED,label:" xc nhn n hng",desc:" xc nhn",icon:aN,color:"bg-orange-500"},{key:le.OrderStatus.SHIPPING,label:"ang giao hng",desc:"ang vn chuyn",icon:K0,color:"bg-purple-500"},{key:le.OrderStatus.COMPLETED,label:" giao hng",desc:" giao hng",icon:tu,color:"bg-green-500"}];function fbe({order:t,onClose:e}){const n=T.useMemo(()=>t?.orderItems?t.orderItems.reduce((i,a)=>i+a.price*a.quantity,0):0,[t?.orderItems]);if(T.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),!t)return;const r=i=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),s=i=>Jr(i).format("HH:mm DD/MM/YYYY");return o.jsxs("div",{className:"min-h-screen px-4 sm:px-6 lg:px-8 pb-6 md:pb-8",children:[o.jsxs("div",{className:"py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("div",{children:o.jsxs("button",{type:"button",className:"px-5 py-2.5 bg-gray-100 hover:bg-gray-200 transition-colors rounded-md flex items-center gap-2 text-[1.2rem] md:text-[1.6rem]",onClick:e,children:[o.jsx(F,{icon:xi}),o.jsx("span",{className:"uppercase",children:"Tr li"})]})}),o.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end sm:justify-normal",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.6rem] font-medium",children:["M n hng: ",t.orderCode]}),o.jsx("div",{className:"hidden sm:block h-6 border-r border-gray-400"}),o.jsx("span",{className:`px-5 py-1.5 rounded-full text-[1.2rem] md:text-[1.6rem] font-medium
              ${$n(t.status).textColor} 
              ${$n(t.status).bgColor}`,children:$n(t.status).text})]})]}),t.status===le.OrderStatus.CANCELLED?o.jsxs("div",{className:"my-6 p-5 border border-amber-200 bg-amber-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] text-red-600 font-medium",children:" hy n hng"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["lc ",s(t.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:Qc.map((i,a)=>{const l=Qc.findIndex(c=>c.key===t.status)>=a;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[1rem] md:ap-[2rem] relative items-center",children:[o.jsx("div",{className:`lg:w-[6rem] lg:h-[6rem] md:w-[4rem] md:h-[4rem] w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${l?`${i.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:i.icon,className:"text-white md:text-[1.8rem] text-[1.2rem] lg:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800",children:i.label}),o.jsx("div",{className:"hidden md:block text-[.8rem] md:text-[1.2rem] text-gray-500 mt-[.2rem]",children:i.desc})]})]},i.key),a!==Qc.length-1&&o.jsx("span",{className:"w-[2rem] md:w-[10rem] border border-green-500"})]},i.key)})}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"a ch nhn hng"}),o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-white",children:[o.jsx("p",{className:"font-medium",children:t.customerName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem] md:text-[1.4rem]",children:["(",t.customerPhone,")"]}),o.jsxs("p",{className:"text-gray-500 mt-1 text-[1.2rem] md:text-[1.4rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"Thng tin vn chuyn"}),o.jsx("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-gray-50",children:[le.OrderStatus.PENDING,le.OrderStatus.CONFIRMED].includes(t.status)?o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] italic",children:"n hng ang c x l v ng gi. Chng ti s cp nht m vn n ngay khi hng c giao cho n v vn chuyn."}):o.jsxs("div",{className:"space-y-3 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Nh vn chuyn:"})," ",t.shippingProvider?le.getShippingProvider[t.shippingProvider]?.text||t.shippingProvider:"Cha xc nh"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"M vn n:"})," ",o.jsx("span",{className:"font-semibold",children:t.trackingNumber||"Cha c"})]}),t.shippingNote&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch:"})," ",o.jsx("span",{className:"italic",children:t.shippingNote})]}),o.jsxs("div",{className:"mt-4",children:[t.status===le.OrderStatus.SHIPPING&&t.trackingNumber&&t.shippingProvider&&o.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm md:text-base",children:[o.jsx(F,{icon:K0}),"Tra cu vn n"]}),t.status===le.OrderStatus.COMPLETED&&o.jsx("p",{className:"text-green-600 font-medium text-[1.4rem] md:text-[1.6rem]",children:"n hng  c giao thnh cng!"})]})]})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg shadow-sm p-4 md:p-6 bg-white",children:[o.jsx("div",{className:"space-y-5 md:space-y-6",children:t.orderItems.map(i=>{const a=i.variant.product;return o.jsx(Qe,{to:`/product-detail/${a.slug}`,className:"block border-b border-gray-200 pb-5 last:border-b-0 last:pb-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("img",{src:a.mainImage,alt:a.productName,className:"w-20 h-20 md:w-24 md:h-24 object-cover border border-gray-400 rounded"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium line-clamp-2 md:line-clamp-1",children:a.productName}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600 mt-1",children:["Size ",i.variant.variantSize.name,"  Mu"," ",i.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600",children:["S lng: x",i.quantity]})]})]}),o.jsx("p",{className:"text-red-600 font-medium text-[1.4rem] md:text-[1.6rem] whitespace-nowrap",children:r(i.price*i.quantity)})]})},i.id)})}),o.jsxs("div",{className:"mt-6 md:mt-8 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex flex-col gap-4 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),o.jsx("span",{children:r(n)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),o.jsx("span",{children:r(t.shippingFee)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Voucher gim gi"}),o.jsxs("span",{className:"text-red-600",children:["- ",r(t.discountAmount)]})]}),o.jsxs("div",{className:"flex justify-between font-medium text-[1.4rem] md:text-[1.6rem] pt-3 border-t",children:[o.jsx("span",{children:"Thnh tin"}),o.jsx("span",{className:"text-red-600",children:r(t.totalAmount)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Phng thc thanh ton"}),o.jsx("span",{children:le.getPaymentMethod[t.paymentMethod].text})]}),t.paymentMethod!==le.PaymentMethod.COD&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Trng thi thanh ton"}),o.jsx("span",{children:t?.payment?.status===le.PaymentStatus.SUCCESS?" thanh ton":"Cha thanh ton"})]})]}),t.paymentMethod===le.PaymentMethod.COD&&![le.OrderStatus.CANCELLED,le.OrderStatus.COMPLETED].includes(t.status)&&o.jsxs("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg text-center text-[1.4rem] md:text-[1.6rem]",children:["Vui lng thanh ton"," ",o.jsx("span",{className:"text-red-600 font-medium",children:r(t.totalAmount)})," ","khi nhn hng"]})]})]})]})}function mbe({open:t,data:e,onClose:n,refetch:r}){const s=async()=>{try{(await xe.patch(`/api/v1/orders/confirm-received/${e?.id}`)).status&&(n(),await r())}catch(i){console.log(i),de.error(i.message||"Li khng th xc nhn!")}};return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-amber-600 mb-[3rem] text-[1.4rem] md:text-[2rem]",children:"Vui lng xc nhn bn  nhn c n hng!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:i=>{i.stopPropagation(),n()},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"text-white px-6 py-2 bg-red-500 rounded-lg hover:bg-red-600",onClick:()=>s(),children:"Xc nhn"})]})]})}const LP={all:{title:"Tt c",color:"green"},[le.OrderStatus.PENDING]:{title:"Ch xc nhn",color:"green"},[le.OrderStatus.CONFIRMED]:{title:" xc nhn",color:"green"},[le.OrderStatus.SHIPPING]:{title:"ang giao hng",color:"green"},[le.OrderStatus.DELIVERED]:{title:" giao hng",color:"red"},[le.OrderStatus.COMPLETED]:{title:" hon thnh",color:"green"},[le.OrderStatus.CANCELLED]:{title:" hy",color:"red"}};function pbe(){const[t,e]=T.useState({searchOrders:"",status:"all"}),[n,r]=T.useState(""),[s,i]=T.useState("all"),[a,l]=T.useState({open:!1,orderCode:null,data:null}),[c,u]=T.useState({open:!1,data:null}),[d,f]=T.useState({open:!1,data:null}),{addToCart:p}=Ax(),g=rt(),[x,v]=T.useState({left:0,width:0}),[b,w]=T.useState({open:!1,data:null}),S=T.useRef([]),j=T.useMemo(()=>Object.keys(LP),[]),{data:M=[],isLoading:C,refetch:P}=Fe({queryKey:["orders",t],queryFn:({queryKey:_})=>npe(_[1])});T.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),T.useEffect(()=>{const _=j.indexOf(s),V=S.current[_];V&&v({left:V.offsetLeft,width:V.offsetWidth})},[s,j]);const A=T.useCallback(_=>V=>{S.current[_]=V},[]),E=_=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_),D=async _=>{const V=_.orderItems.map(H=>({variantId:H.variant.id,quantity:H.quantity}));if(await p(V)){const H=V.map(W=>W.variantId).join(",");g(`/cart/detail?buyback=${H}`)}else de.error("Thm sn phm vo gi hng tht bi!")},L=_=>new Date(_).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return o.jsxs(o.Fragment,{children:[c.open?o.jsx(fbe,{order:c.data,onClose:()=>u({data:null,open:!1})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"sticky top-0 pt-[2rem] bg-white z-0",children:o.jsx("div",{className:"relative w-full overflow-x-auto hide-scrollbar",children:o.jsxs("ul",{className:`relative flex items-center border-b border-b-gray-300 z-0 
                  w-max min-w-full
                  snap-x snap-mandatory
                  scrollbar-hide
                  md:snap-none md:w-full`,children:[j.map((_,V)=>{const G=LP[_],H=_===s;if(_!==le.OrderStatus.DELIVERED)return o.jsx("li",{ref:A(V),className:`px-[2rem] md:px-[4rem] pb-[1rem] md:pb-[1.5rem] cursor-pointer select-none\r
                        snap-start\r
                        flex-shrink-0`,onClick:()=>{const W=_==="all"?"all":_;e(R=>({...R,status:W})),i(_)},children:o.jsx("div",{className:`${H?"text-red-500":""}`,children:G.title})},_)}),o.jsx("span",{className:"absolute bottom-0 border-t-[.2rem] border-t-red-400 transition-all duration-300",style:{left:x.left,width:x.width}})]})})}),o.jsx("div",{className:"px-[1rem] md:px-[2rem] pb-[2rem]",children:C?o.jsx(yo,{}):o.jsxs("div",{className:"mt-[2rem] space-y-8",children:[o.jsxs("div",{className:"flex mt-[2rem] h-[4rem] w-full border border-gray-300 bg-white rounded-md",children:[o.jsx("button",{type:"button",className:"pl-[1.5rem] text-gray-500 cursor-pointer",onClick:()=>e(_=>({..._,searchOrders:n})),children:o.jsx(F,{icon:Dr})}),o.jsx("input",{type:"text",id:"searchOrders",name:"searchOrders",value:n,placeholder:"Bn c th tm kim theo ID, tn sn phm",className:"w-full h-full rounded-md outline-none pl-[1.5rem]",onChange:_=>r(_.target.value)})]}),M.length>0?o.jsx(o.Fragment,{children:M?.map(_=>o.jsxs("div",{className:"shadow-md p-[1.5rem] border border-gray-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center justify-end mb-[1.5rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 pr-[1rem] mr-[1rem] border-r border-r-gray-300",children:["Ngy t: ",L(_.createdAt)]}),o.jsx("p",{className:`text-[1.2rem] md:text-[1.6rem] px-[1rem] md:px-[2rem] py-[.2rem] rounded-full ${$n(_.status).textColor} ${$n(_.status).bgColor}`,children:$n(_.status).text})]}),_.orderItems.length>0&&_.orderItems.map(V=>{const G=V.variant.product,H=_.status===le.OrderStatus.COMPLETED&&_.orderItems.some(W=>W.evaluate.length===0);return o.jsxs("div",{className:"pb-[2rem] mb-[2rem] border-b border-b-gray-300",children:[o.jsxs("div",{className:"flex items-center justify-between my-[1rem] cursor-pointer",onClick:()=>u({open:!0,data:_}),children:[o.jsxs("div",{className:"flex space-x-6 md:items-center ",children:[o.jsx("img",{src:G.mainImage,alt:`mainImage-${G.productName}`,className:"w-[6rem] h-[6rem] object-cover border border-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"max-w-2xl line-clamp-1 text-gray-900 select-none",children:G.productName}),o.jsx("p",{className:"flex items-center space-x-2 text-[1.2rem] text-gray-600",children:o.jsxs("span",{className:"block",children:["Size ",V.variant.variantSize.name,", Mu"," ",V.variant.variantColor.name]})}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",V.quantity]})]})]}),o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[1.6rem]",children:E(V.price*V.quantity)})]}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem]",children:[!H&&[le.OrderStatus.CANCELLED,le.OrderStatus.COMPLETED].includes(_.status)&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>D(_),children:"Mua li"}),H&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>w({open:!0,data:V}),children:o.jsxs("div",{className:"md:text-[1.6rem] text-[1.4rem] flex items-center space-x-2 ",children:[o.jsx(F,{icon:m7,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})]},V.id)}),o.jsxs("div",{className:"flex flex-col items-end justify-center",children:[o.jsxs("p",{className:"text-gray-600 md:text-[1.6rem] text-[1.4rem]",children:["Tng tin:"," ",o.jsx("span",{className:"text-red-600 md:text-[2rem] text-[1.6rem]",children:E(_.totalAmount)})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[_.status===le.OrderStatus.CANCELLED&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:border-gray-400 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:_.orderCode,data:_}),children:"Chi tit hy n"}),_.status===le.OrderStatus.PENDING&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:_.orderCode,data:null}),children:"Hy n hng"}),_.status===le.OrderStatus.SHIPPING&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>u({open:!0,data:_}),children:"Chi tit n vn"}),o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-amber-500 text-amber-600 rounded-md cursor-pointer",onClick:()=>f({open:!0,data:_}),children:" nhn c hng"})]})]})]})]},_.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center mt-[5rem]",children:[o.jsx("img",{src:g7,alt:"no order",className:"w-[20rem]"}),o.jsx("p",{className:"text-gray-600 mt-[1em]",children:"Khng c n hng no"})]})]})})]}),o.jsx(v7,{open:b.open,item:b.data,onClose:()=>w({open:!1,data:null}),refetch:P}),o.jsx(w7,{open:a.open,onClose:()=>l({open:!1,orderCode:null,data:null}),orderCode:a.orderCode,refetch:P,status:a?.data?.status,cancelReason:a?.data?.reason,cancelledAt:a.data?.updatedAt,cancelledBy:a.data?.customerName}),o.jsx(mbe,{open:d.open,onClose:()=>f({open:!1,data:null}),data:d.data,refetch:P})]})}function gbe(){const[t]=ua(),e=t.get("buyNowVariant"),n=t.get("buyback"),{user:r}=Ct(),s=rt(),[i,a]=T.useState([]),[l,c]=T.useState(!1),[u,d]=T.useState([]),{data:f}=Fe({queryKey:["cart"],queryFn:Nj,enabled:!!r});T.useEffect(()=>{window.scrollTo(0,0)},[]),T.useEffect(()=>{if(r)if(f&&f.length>0){const A=f[0].items.map(E=>({id:E.variant.id,product:E.variant.product,variantSize:E.variant.variantSize,variantColor:E.variant.variantColor,price:E.price,quantity:E.quantity,inventory:E.variant.inventory,selected:!1}));a(A)}else a([]);else{const P=r?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(d(P),P.length===0){a([]);return}const A=P.map(D=>D.variantId);(async()=>{try{const D=await h7(A);if(D.status){const L=D.data.map(_=>{const V=P.find(G=>G.variantId===_.id);return{..._,quantity:V.quantity||1,selected:!1}});a(L)}}catch(D){console.log(D),de.error(D.message)}})()}},[r,f]),T.useEffect(()=>{if(!e&&!n||i.length===0)return;const P=[];if(n&&P.push(...n.split(",").map(Number).filter(_=>!isNaN(_)&&_>0)),e){const _=Number(e);!isNaN(_)&&_>0&&P.push(_)}if(P.length===0)return;const A=[...new Set(P)];if(!i.some(_=>A.includes(_.id)))return;let D=!1;a(_=>{let V=!1;const G=_.map(H=>A.includes(H.id)&&!H.selected?(D=!0,V=!0,{...H,selected:!0}):H);return V?G:_}),D&&setTimeout(()=>{const _=document.querySelector("tr.bg-blue-50");_&&_.scrollIntoView({behavior:"smooth",block:"center"})},300);const L=new URL(window.location.href);L.searchParams.delete("buyback"),L.searchParams.delete("buyNowVariant"),window.history.replaceState({},"",L)},[i]),T.useEffect(()=>{const P=i.length>0&&i.every(E=>E.selected),A=i.every(E=>!E.selected);c(P&&!A)},[i]);const p=async(P,A)=>{const E=i.map(_=>_.id===P?{..._,quantity:A==="incre"?Math.min(_.inventory,_.quantity+1):Math.max(1,_.quantity-1)}:_);a(E);const D=E.find(_=>_.id===P).quantity,L={variantId:P,quantity:D};if(r)try{if((await xe.patch("/api/v1/cart-items/update-quantity",L)).status)return}catch(_){de.error(_.message)}else{const _=u.map(V=>V.variantId===P?{...V,quantity:D}:V);d(_),localStorage.setItem("localCart",JSON.stringify(_))}},g=async P=>{if(r)try{await xe.delete(`/api/v1/cart-items/${P}`),a(A=>A.filter(E=>E.id!==P))}catch(A){de.error(A.message||"Xa tht bi")}else{const A=u.filter(E=>E.variantId!==P);localStorage.setItem("localCart",JSON.stringify(A)),d(A),a(E=>E.filter(D=>D.id!==P))}},x=()=>{const P=!l;c(P),a(i.map(A=>({...A,selected:P})))},v=P=>{a(i.map(A=>A.id===P?{...A,selected:!A.selected}:A))},b=P=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(P),w=()=>i.filter(P=>P.selected).reduce((P,A)=>{const E=A.price||A.product?.price||0;return P+E*A.quantity},0),S=i.filter(P=>P.selected),j=S.length,M=()=>{const P={items:S.map(A=>({variantId:A.id,productId:A.product.id,productName:A.product.productName,mainImage:A.product.mainImage,price:A.price||A.product.price,quantity:A.quantity,size:A.variantSize?.name||"",color:A.variantColor?.name||"",inventory:A.inventory})),subtotal:w(),total:w(),timestamp:new Date().toISOString()};sessionStorage.setItem("checkoutData",JSON.stringify(P)),r?sessionStorage.setItem("checkoutFrom","authenticated"):sessionStorage.setItem("checkoutFrom","guest"),s("/checkout")},C=()=>{if(j===0){de.error("Vui lng chn sn phm  thanh ton");return}const P=S.find(A=>A.quantity>A.inventory);if(P){de.error(`Sn phm "${P.product.productName}" khng  s lng`);return}M()};return o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(F,{icon:ia,className:"text-2xl sm:text-3xl lg:text-4xl text-red-500"}),o.jsx("h1",{className:" font-bold text-gray-800",children:"Gi hng ca bn"})]}),o.jsxs("span",{className:"text-sm sm:text-base lg:text-[1.4rem] text-gray-500 pl-0 sm:pl-4",children:["(",i.filter(P=>P.selected).length," sn phm c chn)"]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-lg overflow-x-auto",children:[o.jsx("div",{className:"lg:hidden",children:i.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem]",children:"Gi hng trng"})}):o.jsx("div",{className:"divide-y divide-gray-200",children:i.map(P=>o.jsxs("div",{className:`p-4 ${P.selected?"bg-blue-50":""} hover:bg-gray-50 transition`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("button",{onClick:()=>v(P.id),className:"mt-1",children:o.jsx(F,{icon:P.selected?Fb:zb,className:`text-[1.4rem] ${P.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("img",{src:P.product.mainImage,alt:P.product.productName,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg object-cover flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem] font-medium text-gray-800 line-clamp-2",children:P.product.productName}),P.inventory<5&&o.jsxs("p",{className:"text-[1.2rem] text-red-500 mt-1",children:["Ch cn ",P.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 mt-1 flex flex-wrap items-center gap-1",children:[o.jsxs("span",{children:["Size: ",P.variantSize.name]}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:["Mu: ",P.variantColor.name]})]})]})]})})]}),o.jsx("button",{className:"text-red-500 hover:text-red-700 transition ml-2",onClick:()=>g(P.id),children:o.jsx(F,{icon:J1,className:"text-[1.4rem]"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:"text-[1.2rem] sm:text-[1.6rem] font-semibold text-red-600",children:b(Number(P.price||P.product.price))}),P.price&&o.jsx("p",{className:"text-[1.4rem] text-gray-400 line-through",children:b(P.price)})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>p(P.id,"decre"),disabled:P.quantity<=1,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(F,{icon:Ml,className:"text-gray-500 text-xs sm:text-sm"})}),o.jsx("span",{className:"w-6 sm:w-8 text-center text-[1.2rem] sm:text-base text-gray-600",children:P.quantity}),o.jsx("button",{onClick:()=>p(P.id,"incre"),disabled:P.quantity>=P.inventory,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(F,{icon:aa,className:"text-gray-500 text-xs sm:text-sm"})})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-[1.4rem] sm:text-base font-semibold text-red-600",children:b(Number(P.price||P.product.price)*Number(P.quantity))})})]})]},P.id))})}),o.jsxs("div",{className:"hidden lg:block",children:[o.jsxs("table",{className:"w-full text-[1.6rem]",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-5 text-left pl-6 font-normal",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:x,children:o.jsx(F,{icon:l?Fb:zb,className:`text-[2rem] ${l?"text-blue-600":"text-gray-300"}`})}),o.jsx("span",{children:"Sn phm"})]})}),o.jsx("th",{className:"py-5 font-normal",children:"n gi"}),o.jsx("th",{className:"py-5 font-normal",children:"S lng"}),o.jsx("th",{className:"py-5 font-normal",children:"Thnh tin"}),o.jsx("th",{className:"py-5 font-normal",children:"Thao tc"})]})}),o.jsx("tbody",{children:i.map(P=>o.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"py-6 pl-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>v(P.id),children:o.jsx(F,{icon:P.selected?Fb:zb,className:`text-[2rem] ${P.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("img",{src:P.product.mainImage,alt:P.product.productName,className:"w-20 h-20 rounded-lg object-cover"}),o.jsxs("div",{className:"max-w-xs",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1",children:P.product.productName}),P.inventory<5&&o.jsxs("p",{className:"text-sm text-red-500 mt-1",children:["Ch cn ",P.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 flex items-center gap-[.5rem]",children:[o.jsxs("span",{children:["size: ",P.variantSize.name]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("span",{children:["mu: ",P.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-red-600",children:b(Number(P.price||P.product.price))}),P.price&&o.jsx("p",{className:"text-sm text-gray-400 line-through",children:b(P.price)})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("button",{onClick:()=>p(P.id,"decre"),disabled:P.quantity<=1,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(F,{icon:Ml,className:"text-gray-500"})}),o.jsx("span",{className:"w-8 text-center text-gray-600",children:P.quantity}),o.jsx("button",{onClick:()=>p(P.id,"incre"),disabled:P.quantity>=P.inventory,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(F,{icon:aa,className:"text-gray-500"})})]})}),o.jsx("td",{className:"text-center text-[1.4rem] text-red-600",children:b(Number(P.price||P.product.price)*Number(P.quantity))}),o.jsx("td",{className:"text-center",children:o.jsx("button",{className:"text-red-500 hover:text-red-700 transition p-3",onClick:()=>g(P.id),children:o.jsx(F,{icon:J1,className:"text-[1.4rem]"})})})]},P.id))})]}),i.length===0&&o.jsx("div",{className:"text-center py-20 text-gray-500",children:o.jsx("p",{className:"text-2xl",children:"Gi hng trng"})})]})]}),o.jsx("div",{className:"w-full lg:w-[40rem]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 sticky top-4 sm:top-6",children:[o.jsx("h2",{className:"font-bold text-gray-800 text-[1.4rem] sm:text-[1.6rem] mb-4 sm:mb-6",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-4 sm:space-y-6 text-[1.4rem] sm:text-[1.6rem] text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Tm tnh (",j," sn phm):"]}),o.jsx("span",{className:"font-semibold",children:b(w())})]}),o.jsxs("div",{children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("div",{className:"mt-2 sm:mt-4 text-[1.4rem] sm:text-[1.6rem] text-green-600",children:"Ph vn chuyn s c tnh chnh xc da trn a ch nhn hng"})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4 sm:pt-6",children:o.jsxs("div",{className:"flex justify-between text-[1.4rem] sm:text-[1.6rem]",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.6rem] sm:text-[1.8rem] text-red-600",children:b(w())})]})})]}),o.jsx("button",{disabled:i.length===0,className:`w-full mt-6 sm:mt-8 py-3 sm:py-4 rounded-xl font-bold text-[1.4rem] sm:text-[1.6rem] transition ${j===0?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600 shadow-lg text-white"}`,onClick:()=>C(),children:j===0?"Vui lng chn sn phm":"Thanh ton ngay"}),o.jsx("div",{className:"mt-3 sm:mt-4 text-center text-[1rem] sm:text-[1.2rem] text-gray-500",children:"Min ph vn chuyn cho n t 500.000"})]})})]})]})}function Ej({openActionAddress:t,onClose:e,onSuccess:n}){const{user:r}=Ct(),{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=$s({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}});T.useEffect(()=>{if(t.action==="edit"&&t.dataUpdate){const E=t.dataUpdate;f({province:E.province,district:E.district,ward:E.ward,recipentName:E.recipentName,addressDetail:E.addressDetail,phone:E.phone,isDefault:E.isDefault})}},[t.action,t.dataUpdate,f]);const{data:p}=Fe({queryKey:["province"],queryFn:uj}),g=d("province"),x=d("district"),b=p?.find(E=>E.name===g)?.districts??[],S=b.find(E=>E.name===x)?.wards??[],j=p?.map(E=>({value:E.name,label:E.name})),M=b?.map(E=>({value:E.name,label:E.name})),C=S?.map(E=>({value:E.name,label:E.name})),P=async E=>{try{let D=null;if(r){if(t.action==="edit"&&t.dataUpdate?D=await xe.patch(`/api/v1/address/update/${t.dataUpdate.id}`,E):D=await xe.post("/api/v1/address/add",{...E}),D.status){f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e(),n?.();return}}else{const L={...E};localStorage.setItem("guest_address",JSON.stringify(L)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:L}})),e(),n?.()}}catch(D){console.log(D),de.error(D.message)}},A=()=>{f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e()};return o.jsxs(bt,{open:t.open,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600 mb-[2.5rem] font-bold text-center",children:t.action==="add"&&!t.dataUpdate?"Thm a ch":"Cp nht a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:E=>{E.stopPropagation(),A()},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:E=>{E.stopPropagation(),E.preventDefault(),a(P)(E)},children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(li,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:E})=>o.jsx(ea,{...E,options:j,placeholder:"Tnh...",isSearchable:!0,value:j?.find(D=>D.value===E.value)||null,onChange:D=>{E.onChange(D?.value),u("district",""),u("ward","")},styles:{control:D=>({...D,height:"4rem"})},theme:D=>({...D,colors:{...D.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(li,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:E})=>o.jsx(ea,{...E,options:M,placeholder:"Huyn...",isSearchable:!0,value:M?.find(D=>D.value===E.value)||null,onChange:D=>{E.onChange(D?.value),u("ward","")},styles:{control:D=>({...D,height:"4rem"})},theme:D=>({...D,colors:{...D.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(li,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:E})=>o.jsx(ea,{...E,options:C,placeholder:"Phng...",isSearchable:!0,value:C?.find(D=>D.value===E.value)||null,onChange:D=>{E.onChange(D?.value)},styles:{control:D=>({...D,height:"4rem"})},theme:D=>({...D,colors:{...D.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),r&&o.jsxs("label",{htmlFor:"isDefault",className:"flex items-center w-[11rem] gap-[1rem] mt-[1.5rem]",children:[o.jsx("span",{className:"select-none text-gray-600",children:"Mc nh"}),o.jsxs("div",{className:"relative inline-block w-12 h-6",children:[o.jsx("input",{id:"isDefault",type:"checkbox",className:"peer hidden",...i("isDefault"),disabled:d("addressDetail")===""}),o.jsx("div",{className:"absolute inset-0 bg-gray-300 rounded-full peer-checked:bg-blue-500 transition"}),o.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"})]})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:E=>{E.stopPropagation(),A()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":t.action==="edit"?"Lu":"Thm"})]})]})]})}function xbe({open:t,onSelect:e,onClose:n,selectedId:r}){const{refreshUser:s,user:i}=Ct(),[a,l]=T.useState(null),c=xo(),[u,d]=T.useState({open:!1,dataUpdate:null,action:"add"}),[f,p]=T.useState([]);T.useEffect(()=>{if(i&&i.address.length>0){const v=i.address;p(v)}},[i]),console.log(f),T.useEffect(()=>{if(t&&r&&f){const v=f.find(b=>b.id===r);v&&l(v)}},[r,f]);const g=()=>{e(a),s(),n()},x=async()=>{d({open:!1,dataUpdate:null,action:"add"}),await c.invalidateQueries({queryKey:["user"]})};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t,className:"relative w-[60rem] min-h-[20rem] max-h-[65rem] overflow-hidden rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[2rem] text-center text-orange-600 font-bold",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:()=>n(),children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2rem] space-y-4 min-h-[40rem] max-h-[50rem] overflow-auto hide-scrollbar",children:[o.jsxs("div",{className:"flex items-center justify-between mb-[2rem]",children:[o.jsx("h4",{className:"text-gray-800",children:"a ch"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.3rem] px-[1rem] py-[.5rem] rounded-md border border-gray-300 text-gray-500 hover:bg-gray-100 transition duration-300 cursor-pointer",onClick:()=>d({open:!0,dataUpdate:null,action:"add"}),children:[o.jsx(F,{icon:Xr,className:"text-[1.4rem]"}),o.jsx("span",{children:"Thm a ch"})]})]}),f&&f?.length>0?o.jsx(o.Fragment,{children:f.map(v=>o.jsxs("label",{htmlFor:`select-${v.id}`,className:"flex items-center justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("span",{className:"w-[2rem] h-[2rem] flex items-center justify-center",children:o.jsx("input",{type:"radio",id:`select-${v.id}`,name:"select",className:"scale-[1.5] ",style:{accentColor:"red"},checked:a?.id===v.id,onChange:()=>{l(v)}})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:v.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:v.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:v.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[v.ward,", ",v.district,", ",v.province]}),v.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},v.id)]}),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsx("div",{className:"flex items-center gap-[1rem] ",children:o.jsx("button",{type:"button",className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>d({open:!0,dataUpdate:v,action:"edit"}),children:"Cp nht"})}),o.jsx("button",{type:"button",className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>{const b=f.filter(w=>w.id!==v.id);if(localStorage.setItem("guest_addresses",JSON.stringify(b)),b.length>0){const w=b[b.length-1];localStorage.setItem("guest_latest_address",JSON.stringify(w)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:w}}))}else localStorage.removeItem("guest_latest_address"),localStorage.removeItem("guest_addresses"),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added"}}));p(b)},children:"Xa"})]})]},v.id))}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(F,{icon:hN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>g(),children:"Xc nhn"})]})]}),o.jsx(Ej,{openActionAddress:u,onClose:()=>d({open:!1,dataUpdate:null,action:"add"}),onSuccess:x})]})}function ybe({open:t,onClose:e}){const n=rt();return o.jsxs(bt,{open:t,className:"relative w-[60rem] rounded-lg bg-white p-[3rem]",children:[o.jsx("h2",{className:"text-[1.8rem] text-gray-600 mb-[2.5rem] font-bold",children:"Email ny  c ti khon vui lng ng nhp  tip tc!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[3rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp ngay"})]})]})}function bbe({open:t,selected:e,onClose:n,setSelectVoucher:r,conditionValue:s}){const[i,a]=T.useState(""),{data:l}=Fe({queryKey:["getSavedVouchers"],queryFn:()=>jj(),staleTime:120*1e3,enabled:t}),[c,u]=T.useState({open:!1,content:"",isSuccess:!0}),d=l&&l.data.filter(x=>!x.usedAt);console.log(d);const f=x=>Jr(x).format("HH:mm DD/MM/YYYY"),p=x=>{if(new Date>new Date(x.endDate)){u({open:!0,content:"Voucher  ht hn!",isSuccess:!1});return}if(s&&s<x.minOrderValue){u({open:!0,content:"Gi n khng  iu kin s dng vocuher ny!",isSuccess:!1});return}r(b=>({...b,open:!1,voucher:x}))},g=async x=>{try{const v=await xe.post(`/api/v1/check-voucher/${x}`);v.status&&r({open:!1,voucher:v.data,conditionValue:v.data.minOrderValue})}catch(v){console.log(v),de.error(v.message)}};return o.jsxs(bt,{open:t,className:"relative flex flex-col w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(F,{icon:mn,className:"text-3xl"})}),o.jsx("h2",{className:"text-3xl  font-bold text-center text-pink-600",children:"Voucher gim gi"})]}),o.jsxs("div",{className:"px-8 space-y-4 z-0",children:[o.jsx("div",{className:"w-full p-8 bg-gray-100 rounded-2xl flex items-center justify-center mt-4",children:o.jsxs("div",{className:"w-4xl flex items-center space-x-4",children:[o.jsx("p",{children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",className:"flex-1 bg-white h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.5rem]",placeholder:"Nhp m voucher...",onChange:x=>a(x.target.value)}),o.jsx("button",{className:`h-[4rem] px-8 rounded-md ${i===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"}  transition-colors duration-300`,onClick:()=>g(i),children:"p dng"})]})}),d?.length>0?o.jsx("div",{className:"grid grid-cols-2 gap-[1rem]",children:d?.map(x=>{const v=e&&e.id===x.id,b=s&&x.minOrderValue<=s;return o.jsxs("div",{className:`flex items-center bg-gradient-to-r ${b?"from-pink-500 to-blue-600":"from-gray-300 to-gray-500"}  rounded-2xl p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-30 h-30 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-46 h-46 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative w-full z-10",children:[o.jsx("h3",{className:"text-[1.4rem] text-nowrap select-none",children:x.name}),o.jsxs("div",{className:"text-[2rem] font-bold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] gap-2",children:["HSD: n ",f(x.endDate)]}),o.jsx("div",{className:"w-full flex justify-end mt-2",children:o.jsx("button",{className:`text-[1.2rem] px-6 py-2 rounded-xl  ${b?`${v?"bg-red-500 text-white":"text-red-600 hover:text-red-700 hover:border-red-500 bg-white"} cursor-pointer`:"bg-gray-400 cursor-not-allowed"}  border border-transparent  transition-colors duration-300 `,onClick:()=>p(x),disabled:!b,children:v?"ang p dng":"p dng"})})]})]},x.id)})}):o.jsx("div",{className:"py-16 text-center",children:"ng nhp  lu voucher"})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-8 py-6 text-end z-10",children:o.jsx("button",{onClick:n,className:"px-12 py-3 bg-gray-200 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})}),o.jsx(Pu,{content:c.content,duration:1e3,showNotify:c.open,isSuccess:c.isSuccess})]})}function vbe(){const{user:t,refreshUser:e}=Ct(),n=rt(),[r,s]=T.useState({open:!1,selectedId:null}),[i,a]=T.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,p]=T.useState(0),[g,x]=T.useState(!1),[v,b]=T.useState(0),[w,S]=T.useState(0),[j,M]=T.useState(0),[C,P]=T.useState(!1),[A,E]=T.useState([]),[D,L]=T.useState({open:!1,voucher:null,conditionValue:null}),_=xo(),{register:V,handleSubmit:G,formState:{errors:H,isSubmitting:W},setValue:R,watch:$}=$s({defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerWard:"",customerDistrict:"",customerProvince:"",customerNote:"",paymentMethod:le.PaymentMethod.COD,couponCode:"",orderItems:[]}}),z=$("customerProvince"),K=$("paymentMethod"),[X,B]=T.useState(null);T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(t&&(R("customerPhone",t.phone?.toString()||""),R("customerEmail",t.email||""),t.address.length>0)){const ce=t?.address.find(ee=>ee.isDefault);ce&&(c(ce),R("customerName",ce.recipentName||t.username||""),R("customerAddress",ce.addressDetail),R("customerWard",ce.ward),R("customerDistrict",ce.district),R("customerProvince",ce.province),s({open:!1,selectedId:ce.id}))}},[t,R]),T.useEffect(()=>{const ce=()=>{if(t)return;const ie=localStorage.getItem("guest_address");if(ie){const fe=JSON.parse(ie);c(fe),R("customerAddress",fe.addressDetail),R("customerWard",fe.ward),R("customerDistrict",fe.district),R("customerProvince",fe.province)}else c(null),R("customerAddress",""),R("customerWard",""),R("customerDistrict",""),R("customerProvince","")};ce();const ee=ie=>{const fe=ie,{action:Te}=fe.detail||{};Te==="cleared"?(c(null),R("customerAddress",""),R("customerWard",""),R("customerDistrict",""),R("customerProvince","")):ce()};return window.addEventListener("guest_address_updated",ee),()=>{window.removeEventListener("guest_address_updated",ee)}},[t,R]),T.useEffect(()=>{const ce=sessionStorage.getItem("checkoutData");if(!ce){de.error("Khng tm thy thng tin n hng!"),n("/cart/detail");return}const ee=JSON.parse(ce),ie=ee.items.map(fe=>({productId:fe.productId,variantId:fe.variantId,price:Number(fe.price),quantity:fe.quantity}));R("orderItems",ie),B(ee)},[n,R]),T.useEffect(()=>{if(!t||!X||X?.items?.length===0)return;(async()=>{try{const ee=X.items.map(fe=>fe.productId),ie=await xe.post("/api/v1/flashsale/check-products",{productIds:ee});ie.status&&ie.data&&E(ie.data)}catch(ee){console.log(ee)}})()},[X,t]),T.useEffect(()=>{if(!X||!A.length){S(X?.subtotal||0);return}let ce=0;X.items.forEach(ee=>{const ie=A.find(Te=>Te.productId===ee.productId);let fe;if(!ie||!ie.isFlashActive||ie.remainingSlot<=0)fe=ee.price*ee.quantity;else{const Te=Number(ie.sale_price),Se=ee.price,we=Math.min(ee.quantity,Number(ie.remainingSlot)),_e=ee.quantity-we;fe=we*Te+Se*_e}ce+=fe}),S(ce)},[X,A]),T.useEffect(()=>{if(!X)return;let ce=0;if(t&&D.voucher){const ie=D.voucher,fe=w;ie.type===le.VoucherType.PERCENT?(ce=Number(fe)*ie.value/100,ce>ie.maxDiscount&&(ce=ie.maxDiscount)):ce=ie.value}b(ce);const ee=w+f-ce;M(ee)},[D.voucher,X,f,t,w]);const J=async ce=>{if(X){x(!0);try{const ee=await xe.post("/api/v1/orders/calculate-shipping",{subTotal:w,customerProvince:ce.province});if(ee.status)p(ee.data.shippingFee),M(w+ee.data.shippingFee);else{const ie=w>=5e5?0:35e3;p(ie),M(w+ie)}}catch{const ie=w>=5e5?0:35e3;p(ie),M(w+ie)}finally{x(!1)}}};T.useEffect(()=>{X&&z&&J({province:z})},[z,X]),T.useEffect(()=>{if(t===void 0)return;sessionStorage.getItem("checkoutFrom")==="authenticated"&&!t&&(de.error("Phin ng nhp  ht hn! Vui lng chn li sn phm."),sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),n("/cart/detail",{replace:!0}))},[t,n]);const ne=ce=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ce),se=ce=>{c(ce),R("customerName",ce.recipentName),R("customerPhone",ce.phone.toString()),R("customerAddress",ce.addressDetail),R("customerWard",ce.ward),R("customerDistrict",ce.district),R("customerProvince",ce.province),s({open:!1,selectedId:ce.id})},me=async ce=>{try{const ee={shippingFee:f,totalAmount:j,...ce,...D.voucher&&v?{voucherCode:D.voucher.voucherCode,discountAmount:v}:{}},ie=await xe.post("/api/v1/orders/create",ee);if(ie.status){if(sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),!t){const fe=localStorage.getItem("guest_orders");if(fe){const Te=JSON.parse(fe);Te.push(ie.data.orderCode),localStorage.setItem("guest_orders",JSON.stringify(Te))}else localStorage.setItem("guest_orders",JSON.stringify([ie.data.orderCode]))}de.success(ie.data.message||"t hng thnh cng!"),ce.paymentMethod!==le.PaymentMethod.COD?window.location.href=ie.data.paymentUrl:n(`/order-confirmation/${ie.data.orderCode}`,{replace:!0}),t&&await e()}else ie.existingEmail&&P(!0)}catch(ee){console.log(ee),de.error(ee.message||"C li xy ra khi t hng. Vui lng th li!")}},Ee=async()=>{a({open:!1,dataUpdate:null,action:"add"}),t&&await _.invalidateQueries({queryKey:["user"]})};return X?o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>n("/cart/detail",{replace:!0}),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4 sm:mb-6",children:[o.jsx(F,{icon:fi}),o.jsx("span",{children:"Quay li gi hng"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800",children:"Thanh ton"}),!t&&o.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-blue-800 text-[1.4rem]",children:["Bn ang mua hng vi t cch ",o.jsx("strong",{children:"khch vng lai"}),".",o.jsx("button",{onClick:()=>n("/login",{state:{from:"/checkout"}}),className:"ml-2 text-blue-600 underline font-medium cursor-pointer",children:"ng nhp"})," "," c th s dng voucher v cc m gim gi khc!"]})})]}),o.jsx("form",{onSubmit:G(me),children:o.jsxs("div",{className:"grid lg:grid-cols-5 gap-6 lg:gap-8",children:[o.jsx("div",{className:"lg:col-span-3 space-y-6 lg:space-y-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg pt-6 lg:pt-10 px-4 sm:px-6 lg:px-10 pb-6 lg:pb-18",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 lg:mb-6",children:[o.jsx(F,{icon:Z1,className:"text-xl lg:text-2xl text-red-500"}),o.jsx("h2",{className:"font-bold",children:"Thng tin giao hng"})]}),o.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 lg:gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...V("customerName",{required:"Vui lng nhp h tn!"})}),H.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:H.customerName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerPhone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"tel",placeholder:"S in thoi *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",readOnly:!!t?.phone,...V("customerPhone",{required:"Vui lng nhp s in thoi!"})}),H.customerPhone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:H.customerPhone.message})]})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerEmail",className:"block text-gray-600",children:"Email"}),o.jsx("input",{type:"email",placeholder:"Email (ty chn)",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300 md:col-span-2 select-none",readOnly:!!t?.email,...V("customerEmail",{required:"Vui lng nhp email!"})}),H.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:H.customerEmail.message})]}),o.jsxs("div",{className:"w-full space-y-2",children:[o.jsx("label",{className:"block text-gray-600 font-medium",children:"a ch giao hng"}),o.jsx("div",{className:"space-y-4",children:l?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border border-dashed rounded-md p-4 lg:p-[2rem] border-gray-300 gap-4",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 lg:gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:l.recipentName}),o.jsx("span",{className:"hidden sm:block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:l.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:l.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[l.ward,", ",l.district,","," ",l.province]}),l.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm inline-block mt-2",children:"Mc nh"})]},l.id),o.jsx("div",{className:"flex space-y-2 sm:flex-col sm:space-y-4",children:o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-amber-500 border-amber-400 hover:border-amber-600 hover:text-amber-600 rounded-sm w-full sm:w-auto",onClick:()=>{t?s({open:!0,selectedId:l.id}):a({open:!0,action:"edit",dataUpdate:l})},children:"Thay i"})})]},l.id):o.jsxs("button",{type:"button",className:"flex items-center justify-center gap-[.5rem] text-center rounded-md px-4 lg:px-[2rem] py-3 lg:py-[.6rem] border border-dashed border-blue-500 cursor-pointer hover:border-blue-600 text-blue-500 hover:text-blue-600 w-full",onClick:()=>{t?s({open:!0,selectedId:null}):a({open:!0,action:"add",dataUpdate:null})},children:[o.jsx(F,{icon:Xr,className:"text-[1.5rem] lg:text-[2rem]"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] lg:text-[1.6rem] select-none",children:"Thm a ch"})]})})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerNote",className:"block text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{placeholder:"Ghi ch cho shop (ty chn)",rows:2,className:"w-full pl-[1rem] lg:pl-[1.5rem] py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 md:col-span-2",...V("customerNote")})]})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-4 sm:px-6 py-6 lg:py-10 sticky top-4 lg:top-6",children:[o.jsxs("h2",{className:"font-bold text-gray-800 mb-4 lg:mb-6 flex items-center gap-3",children:[o.jsx(F,{icon:K0,className:"text-red-500"}),o.jsxs("span",{children:["n hng (",X.items.length," sn phm)"]})]}),o.jsx("div",{className:"space-y-4 max-h-64 sm:max-h-80 lg:max-h-96 overflow-y-auto pr-2 mb-4 lg:mb-6",children:X.items.map((ce,ee)=>{const ie=A.find(_e=>_e.productId===ce.productId);let fe,Te,Se=!1,we="";if(!ie||!ie.isFlashActive||ie.remainingSlot<=0)fe=ce.price,Te=ce.price*ce.quantity;else{const _e=Number(ie.sale_price),Ye=ce.price,gt=Math.min(ce.quantity,ie.remainingSlot),Rt=ce.quantity-gt;Te=gt*_e+Ye*Rt,fe=_e,Se=!0,gt<ce.quantity?we=`(FlashSale: p dng ${gt}/${ce.quantity} sp)`:we=`(FlashSale: ${ie.discount}% - cn ${ie.remainingSlot} slot)`}return o.jsxs("div",{className:"flex justify-between gap-3 lg:gap-4 pb-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex items-center gap-3 lg:gap-[1rem] min-w-0",children:[o.jsx("img",{src:ce.mainImage,alt:ce.productName,className:"w-22 h-22 lg:w-26 lg:h-26 rounded-lg object-cover border border-gray-300 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1 text-[1.4rem]",children:ce.productName}),ce.size&&ce.color&&o.jsxs("p",{className:"text-[1.2rem] text-gray-500 truncate",children:[ce.color," / ",ce.size]}),o.jsxs("span",{className:"text-[1.2rem]",children:["S lng:","  ",ce.quantity]}),o.jsxs("div",{className:"mt-1 text-[1.2rem] flex items-center",children:[Se?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-red-400 line-through",children:ne(ce.price)}),o.jsx("span",{className:"ml-2 font-bold text-red-600",children:ne(fe)})]}):o.jsx("span",{className:"font-semibold text-red-600",children:ne(fe)}),we&&o.jsx("span",{className:"ml-2 text-orange-600 text-[1rem] md:text-[1.2rem]",children:we})]})]})]}),o.jsx("p",{className:"text-red-600 whitespace-nowrap text-[1.4rem] flex-shrink-0",children:ne(Te)})]},ee)})}),o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:D.voucher?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[o.jsx("p",{className:"text-blue-600",children:" p dng voucher:"}),o.jsxs("div",{className:"flex space-x-4 gap-2",children:[o.jsx("button",{type:"button",onClick:()=>L(ce=>({...ce,open:!0})),className:"text-blue-600 hover:text-blue-700 cursor-pointer text-[1.4rem]",children:"i"}),o.jsx("button",{type:"button",onClick:()=>{L({open:!1,voucher:null,conditionValue:w}),b(0)},className:"text-red-600 hover:text-red-700 cursor-pointer text-[1.4rem]",children:"B"})]})]}):o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:o.jsx("p",{className:"text-blue-600 cursor-pointer hover:text-blue-700 select-none text-center sm:text-left",onClick:()=>{t?L({open:!0,voucher:null,conditionValue:w}):d(!0)},children:"Chn hoc nhp m voucher"})})}),o.jsxs("div",{className:"mt-4 lg:mt-6 pt-4 lg:pt-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex justify-between text-[1.4rem]",children:[o.jsx("span",{className:"text-gray-800",children:"Tm tnh:"}),o.jsx("span",{children:ne(w)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600",children:g?o.jsx("span",{className:"text-gray-500",children:"ang tnh..."}):f===0?"Min ph":ne(f)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Voucher p dng:"}),o.jsxs("span",{className:"text-red-600",children:["- ",ne(v)]})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4",children:o.jsxs("div",{className:"flex justify-between font-bold",children:[o.jsx("span",{children:"Tng cng:"}),o.jsx("span",{className:"text-red-600",children:ne(j)})]})})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(F,{icon:AG,className:"text-lg text-green-600"}),o.jsx("h3",{className:"font-bold text-gray-800",children:"Thanh ton"})]}),o.jsx("div",{className:"space-y-3",children:Object.values(le.PaymentMethod).map(ce=>o.jsxs("label",{className:`flex items-center gap-3 p-2 border-1 rounded-lg cursor-pointer transition-all ${K===ce?"border-pink-400 bg-pink-50":"border-gray-200 hover:border-gray-400"}`,children:[o.jsx("input",{type:"radio",name:"payment",value:ce,checked:K===ce,onChange:()=>R("paymentMethod",ce),className:"w-4 h-4 text-green-500"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F,{icon:bG,className:"text-lg text-green-600"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] uppercase truncate",children:ce}),o.jsx("p",{className:"text-[1.2rem] text-gray-600 truncate",children:"Thanh ton khi nhn hng"})]})]})}),K===ce&&o.jsx(F,{icon:tu,className:"text-lg text-pink-500 flex-shrink-0"})]},ce))})]}),o.jsx("button",{className:"w-full mt-6 py-3 lg:py-5 uppercase bg-red-500 hover:bg-red-600 text-white text-lg lg:text-xl font-bold rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95",type:"submit",disabled:W,children:W?"ang x l":"T NGAY"})]})})]})}),r.open&&o.jsx(xbe,{open:r.open,onSelect:se,selectedId:r.selectedId,onClose:()=>s({open:!1,selectedId:l?.id??null})}),o.jsx(Ej,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:Ee}),o.jsx(ybe,{open:C,onClose:()=>P(!1)}),o.jsx(x8,{children:D.open&&o.jsx(bbe,{open:D.open,selected:D.voucher,setSelectVoucher:L,onClose:()=>L(ce=>({...ce,open:!1})),conditionValue:D.conditionValue})}),o.jsx(Cj,{open:u,onClose:()=>d(!1)})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-2xl text-gray-500",children:"ang ti thng tin n hng..."})})}function wbe(){const{user:t,refreshUser:e}=Ct(),n=t?.address,[r,s]=T.useState(!1),[i,a]=T.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=T.useState({open:!1,delete:null}),u=async()=>{try{if(s(!0),(await xe.delete(`/api/v1/address/delete/${l.delete}`)).status){c({open:!1,delete:null}),await e();return}}catch(p){console.log(p),c({open:!1,delete:null}),de.error(p.message)}finally{s(!1)}},d=async p=>{try{if((await xe.patch(`/api/v1/address/set-default/${p}`)).status){await e();return}}catch(g){console.log(g),de.error(g.message)}},f=async()=>{await e()};return o.jsxs("div",{className:"p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"a ch ca ti"}),o.jsxs("button",{className:"flex items-center gap-[.5rem] px-5 py-2.5 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>a({open:!0,action:"add",dataUpdate:null}),children:[o.jsx(F,{icon:Xr,className:"text-white"}),o.jsx("span",{className:"text-white",children:"Thm a ch"})]})]}),o.jsx("div",{className:"mt-[2rem] space-y-4",children:n&&n?.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h4",{className:"text-[1.8rem] text-gray-800 mb-[2rem]",children:"a ch"}),n.map(p=>o.jsxs("div",{className:"flex md:items-center flex-col md:flex-row justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:p.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:p.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:p.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[p.ward,", ",p.district,", ",p.province]}),p.isDefault&&o.jsx("button",{className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},p.id),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] md:mt-0 mt-5",children:[o.jsx("button",{className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>a({open:!0,dataUpdate:p,action:"edit"}),children:"Cp nht"}),!p.isDefault&&o.jsx("button",{className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>c({open:!0,delete:p.id}),children:"Xa"})]}),o.jsx("button",{className:`px-[1rem] py-[.4rem] text-[1.4rem] border ${p.isDefault?"text-gray-400 border-gray-200 cursor-not-allowed":"text-orange-500 border-orange-400 hover:border-orange-600 hover:text-orange-600"}  rounded-sm`,disabled:p.isDefault,onClick:()=>d(p.id),children:"Thit lp mc nh"})]})]},p.id))]}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(F,{icon:hN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})}),o.jsx(Ej,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:f}),o.jsxs(bt,{open:l.open,className:"relative w-[50rem] min-h-[10rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[1.8rem] text-gray-800",children:"Bn c chc mun xa a ch ny?"}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-gray-600 bg-gray-200  hover:bg-gray-300 rounded-sm",onClick:()=>c({open:!1,delete:null}),disabled:r,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm",onClick:()=>u(),disabled:r,children:r?"ang x l...":"Xa"})]})]})]})}const Nbe={[le.DeleteReason.NOT_USING]:"Ti khng cn s dng na",[le.DeleteReason.PRIVACY_CONCERNS]:"Lo ngi v quyn ring t",[le.DeleteReason.FOUND_BETTER_ALTERNATIVE]:"Tm c website/app tt hn",[le.DeleteReason.ACCOUNT_ISSUE]:"Gp vn  vi ti khon",[le.DeleteReason.OTHER]:"L do khc"};function Sbe(){const{logout:t}=vu(),[e,n]=T.useState(!1),r=rt(),[s,i]=T.useState(!1),[a,l]=T.useState({reason:null,confirm:!1,password:""}),[c,u]=T.useState({reason:null,confirm:null,password:null}),d=async()=>{n(!0)},f=async()=>{u({reason:null,confirm:null,password:null});let p=!1;if(a.password===""&&(u(g=>({...g,password:"Vui lng nhp mt khu  xc thc!"})),p=!0),a.reason||(u(g=>({...g,reason:"Vui lng chn l do xa ti khon!"})),p=!0),a.confirm||(u(g=>({...g,confirm:"Vui lng xc nhn xa ti khon!"})),p=!0),!p){i(!0);try{const g=await xe.post("/api/v1/user/delete-account",a);g.status&&(localStorage.removeItem("guest_address"),de.success(g.message||"Xa ti khon thnh cng!"),await t(),r("/"))}catch(g){console.log(g),de.error(g.message||"Xa ti khon khng thnh cng!"),g.message.toLowerCase().includes("mt khu")&&u(x=>({...x,password:"Mt khu khng chnh xc!"}))}finally{i(!1)}}};return o.jsxs("div",{className:"p-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"Quyn ring t & Xa ti khon"})}),e?o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("button",{className:"flex items-center gap-[.5rem] px-8 py-2.5 rounded-md hover:bg-gray-50 hover:border-gray-400 transition duration-300 cursor-pointer border border-gray-300 text-[1.4rem]",onClick:()=>n(!1),disabled:s,children:[o.jsx(F,{icon:i_,className:"text-gray-600 text-[1.4rem]"}),o.jsx("span",{className:"text-gray-600",children:"Quay li"})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"password",className:"text-gray-600",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",name:"password",value:a.password,placeholder:"Nhp mt khu ti khon ca bn...",className:"w-full h-[4rem] rounded-md border border-gray-300 focus:border-cyan-400 outline-none px-[1.5rem] mt-[.5rem]",onChange:p=>{l(g=>({...g,password:p.target.value})),c.password&&u(g=>({...g,password:null}))}}),c.password&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem]",children:c.password}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do bn mun xa ti khon"}),o.jsxs("div",{className:"space-y-8 pl-[2rem] mt-[2rem]",children:[Object.entries(Nbe).map(([p,g])=>o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("input",{type:"radio",id:`reason-${p}`,name:"reason",className:"cursor-pointer",style:{scale:1.5},checked:p===a.reason,onChange:()=>{l(x=>({...x,reason:p})),c.reason&&u(x=>({...x,reason:null}))}}),o.jsx("label",{htmlFor:`reason-${p}`,className:"text-gray-800 select-none cursor-pointer",children:g})]},p)),c.reason&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem] pl-[2rem]",children:c.reason})]})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"w-full h-auto p-[1rem] mb-[1rem] border border-amber-400 text-amber-800 bg-amber-50",children:" Xa ti khon tt s xa ton b d liu v gi hng v cc cu hnh thng tin c nhn. Bn c chc ch?"}),o.jsxs("div",{className:"flex items-center space-x-4 pl-[2rem]",children:[o.jsx("input",{type:"checkbox",id:"confirm",className:"",checked:a.confirm,style:{scale:1.5},onChange:p=>{l(g=>({...g,confirm:p.target.checked})),c.confirm&&u(g=>({...g,confirm:null}))}}),o.jsx("label",{htmlFor:"confirm",className:"text-gray-600",children:"Xc nhn xa ti khon"})]}),c.confirm&&o.jsx("p",{className:"text-red-500 mt-[.5rem] pl-[2rem] text-[1.4rem]",children:c.confirm})]}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm ${s?"cursor-not-allowed":""}`,onClick:()=>{f()},disabled:s,children:s?"ang x l...":"Xa ti khon"})})]})]}):o.jsxs("div",{className:"flex items-center justify-between mt-[2rem]",children:[o.jsx("h3",{className:" text-gray-600",children:"Yu cu xa ti khon"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.5rem] px-8 py-4 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>{d()},children:[o.jsx(F,{icon:Su,className:"text-white text-[1.4rem]"}),o.jsx("span",{className:"text-white",children:"Xa ti khon"})]})]})]})}function jbe(){const{user:t}=Ct(),[e,n]=T.useState(null),[r,s]=T.useState(!1),[i,a]=T.useState(void 0),[l,c]=T.useState(!1),[u,d]=T.useState(null),{register:f,formState:{errors:p,isSubmitting:g},reset:x,watch:v,setValue:b,handleSubmit:w}=$s({defaultValues:{user:{username:"",email:"",phone:void 0,avatar:null},customer:{birthday:"",gender:""}}}),S=v("user.phone"),j=v("user.avatar");T.useEffect(()=>{t&&(x({user:{username:t.username,email:t.email,phone:t.phone},customer:{birthday:t.customer.birthday,gender:t.customer.gender}}),a(t.phone),t.avatar&&n(t.avatar))},[t,x]),T.useEffect(()=>{if(j&&j.length>0){const A=j[0],E=URL.createObjectURL(A);return n(E),()=>URL.revokeObjectURL(E)}},[j]);const M=async A=>{try{const E=new FormData;E.append("user[username]",A.user.username),E.append("user[email]",A.user.email),A.user.phone!==void 0&&A.user.phone!==null&&String(A.user.phone)!==""&&E.append("user[phone]",String(A.user.phone)),A.customer.gender&&String(A.customer.gender)!==""&&E.append("customer[gender]",A.customer.gender),E.append("customer[birthday]",new Date(A.customer.birthday).toISOString().split("T")[0]),A.user.avatar&&A.user.avatar.length>0&&E.append("avatar",A.user.avatar[0]);for(const L of E.entries())console.log(L[0],L[1]);const D=await xe.patch(`/api/v1/user/update-customer/${t?.customer.id}`,E,{headers:{"Content-Type":"multipart/form-data"}});D.status&&(d(D.message||"Cp nht thnh cng!"),c(!0),setTimeout(()=>{c(!1)},800))}catch(E){console.log(E),d(E.message||"Cp nht tht bi!"),c(!0),setTimeout(()=>{c(!1)},800)}},C=()=>{S&&/^[0-9]{10,11}$/.test(S.toString())&&s(!1)},P=()=>{b("user.phone",i),s(!1)};return o.jsxs("div",{className:"w-full h-full p-[1rem] xs:p-[1.5rem] sm:p-[2rem]",children:[o.jsxs("div",{className:"pb-[1.5rem] sm:pb-[1.9rem] border-b border-b-gray-200",children:[o.jsx("h4",{className:"text-[1.8rem] sm:text-[2rem] text-gray-800",children:"H S Ca Ti"}),o.jsx("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row mt-[2rem] sm:mt-[3rem] gap-6 lg:gap-0",children:[o.jsx("div",{className:"flex-1 order-2 lg:order-1",children:o.jsxs("form",{onSubmit:w(M),className:"space-y-8 md:space-y-10",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex text-[1.4rem] md:text-[1.6rem] items-center gap-[1rem] md:gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Tn"}),o.jsx("input",{type:"text",className:"md:flex-1 w-full h-[4rem] pl-[1.5rem] rounded-md border border-gray-300 outline-none text-gray-600",...f("user.username",{required:"Tn khng c  trng"})})]}),p.user?.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.username.message})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex md:flex-row items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"email",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Email"}),o.jsx("input",{type:"email",className:"md:flex-1 w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("user.email",{required:"Email khng c  trng"})})]}),p.user?.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.email.message})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"phone",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"S in thoi"}),S?o.jsxs("div",{className:"flex items-center gap-[.5rem] flex-wrap",children:[o.jsx("p",{className:"text-gray-600",children:S}),o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] rounded-md bg-blue-400 text-[1.2rem] text-white hover:bg-blue-500 hover:underline transition duration-150",onClick:()=>s(!0),children:"i"})]}):o.jsx("p",{className:"text-blue-500 hover:text-blue-600 underline cursor-pointer",onClick:()=>s(!0),children:"Thm s in thoi"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"gender",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Gii tnh"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] sm:gap-[2rem] text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"male",id:"male",...f("customer.gender")}),o.jsx("label",{htmlFor:"male",children:"Nam"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"female",id:"female",...f("customer.gender")}),o.jsx("label",{htmlFor:"female",children:"N"})]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full md:w-[20rem] h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("customer.birthday")})]}),o.jsx("div",{className:"flex items-center justify-start md:justify-end pt-4",children:o.jsx("button",{className:"w-full sm:w-auto px-[2rem] py-[.8rem] rounded-md bg-red-500 hover:bg-red-600 text-white transition duration-150 cursor-pointer",type:"submit",disabled:g,children:g?"ang x l...":"Lu"})})]})}),o.jsx("div",{className:"w-full lg:w-[30rem] h-auto pl-0 lg:pl-[4rem] ml-0 lg:ml-[4rem] border-l-0 lg:border-l border-l-gray-300 mb-[2rem] lg:mb-0 order-1 lg:order-2",children:o.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e?o.jsx("div",{className:"w-[10rem] md:w-[12rem] h-[10rem] md:h-[12rem] sm:w-[14rem] sm:h-[14rem] rounded-full flex items-center justify-center",children:o.jsx("img",{src:e,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}):o.jsx("div",{className:"w-[10rem] h-[10rem] sm:w-[12rem] sm:h-[12rem] rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center",children:o.jsx(F,{icon:Sj,className:"text-[3rem] sm:text-[4rem] text-gray-400"})}),o.jsxs("label",{htmlFor:"avatar",className:"text-[1.4rem] md:text-[1.6rem] flex items-center justify-center w-[12rem] h-[3.8rem] rounded-md border border-gray-500 border-dashed cursor-pointer mt-[2rem] text-gray-600 hover:bg-gray-50 transition duration-150",children:[o.jsx("input",{type:"file",id:"avatar",className:"hidden",accept:"image/*",...f("user.avatar")}),"Chn nh"]})]})})]}),o.jsxs(bt,{open:r,className:"relative w-[90vw] sm:w-[32rem] md:w-2xl max-w-[90vw] min-h-[18rem] bg-white rounded-md p-[1.5rem] sm:p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1rem] right-[1rem] cursor-pointer w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition",onClick:()=>P(),children:o.jsx(F,{icon:mn,className:"text-gray-600 hover:text-gray-800 text-[1.6rem]"})}),o.jsx("h3",{className:"text-gray-600 text-[1.6rem] sm:text-[1.8rem]",children:"Thay i s in thoi"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("input",{type:"number",className:"w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",placeholder:"Nhp s in thoi",...f("user.phone",{pattern:{value:/^[0-9]{10,11}$/,message:"S in thoi khng hp l"}})}),p.user?.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-2",children:p.user.phone.message})]}),o.jsx("button",{className:`block mt-[2rem] w-full sm:w-[10rem] h-[4rem] ${S&&/^[0-9]{10,11}$/.test(S.toString())?"bg-red-500 hover:bg-red-600 text-white":"bg-red-400 text-gray-200 cursor-not-allowed"} rounded-lg transition duration-150 ml-auto`,disabled:!S||!/^[0-9]{10,11}$/.test(S.toString()),onClick:C,children:"Tip theo"})]}),o.jsx(bt,{open:l,className:"relative w-[90vw] sm:w-[30rem] max-w-[90vw] min-h-[15rem] bg-white rounded-md p-[2rem] sm:p-[3rem] shadow-lg",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-[1.5rem]",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(F,{icon:co,className:"text-white text-[3rem]"})}),o.jsx("h3",{className:"text-[1.6rem] text-gray-800 text-center",children:u})]})})]})}function Cbe({children:t}){const{user:e,loading:n}=Ct();return n?o.jsx("div",{children:"Loading..."}):e&&[le.UserRole.ADMIN,le.UserRole.STAFF].includes(e.role)?o.jsx(Uc,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function kbe(){const{user:t}=Ct(),{orderCode:e}=gi(),n=rt(),[r,s]=T.useState(!1),[i,a]=T.useState(!1),l=T.useRef(!1);T.useEffect(()=>{window.scrollTo(0,0)},[]),T.useEffect(()=>{(async()=>{if(!e){s(!0),a(!1);return}try{a(!0),(await xe.get(`/api/v1/orders/verify/${e}`)).status&&s(!1)}catch(d){s(!0),l.current||(de.error(d.message||"Khng th xc thc n hng!"),l.current=!0)}finally{a(!1)}})()},[e]);const c=()=>{n(t?"/customer/order":"/look-up-order")};return r&&!i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-gray-50 px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-[2rem] text-red-500 mb-4",children:""}),o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Khng tm thy n hng"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"M n hng khng hp l hoc  b xa."}),o.jsx("button",{onClick:()=>n("/"),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"V trang ch"})]})}):i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx(F,{icon:cg,className:"text-[2.5rem] text-blue-500 mb-4 animate-spin"}),o.jsx("p",{className:" text-gray-600",children:"ang xc thc n hng..."})]})}):o.jsx("div",{className:"min-h-screen bg-white py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:" rounded-lg p-8 mb-6 text-center",children:[o.jsx(F,{icon:tu,className:"text-6xl text-green-500 mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"t hng thnh cng!"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Cm n bn  t hng ti shop ca chng ti."}),o.jsx("p",{className:"text-center text-[1.4rem] w-4xl text-gray-600",children:"Thng tin n hng s c thng bo qua email m bn  cung cp!"}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-[1rem]",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"M n hng:"}),o.jsx("p",{className:"font-bold text-blue-600",children:e})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>n("/"),className:"flex-1 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition",children:"V trang ch"}),o.jsx("button",{onClick:()=>{c()},className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"Xem n hng"})]})]})})}function Tbe({productId:t,averageRating:e}){const{user:n}=Ct(),r=xo(),[s,i]=T.useState("all"),[a,l]=T.useState("newest"),[c,u]=T.useState(!1),{data:d,isLoading:f}=Fe({queryKey:["evaluates",t,a,s],queryFn:()=>CD({productId:t,rating:s,page:1,sort:a})}),p=d?.data||[],[g,x]=T.useState(null),[v,b]=T.useState({}),w=D=>v[D]??0,S=D=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(L=>o.jsx(F,{icon:ms,className:`text-[1.4rem] ${L<=D?"text-yellow-400":"text-gray-300"}`},L))}),j=D=>`${new Date(D).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,M=(D,L)=>{x(D),b(_=>({..._,[D]:L}))},C=()=>{x(null)},P=()=>{if(g===null)return;const D=p.find(V=>V.id===g);if(!D||!D.images)return;const L=w(g),_=L>=D.images.length-1?0:L+1;b(V=>({...V,[g]:_}))},A=()=>{if(g===null)return;const D=p.find(V=>V.id===g);if(!D||!D.images)return;const L=w(g),_=L<=0?D.images.length-1:L-1;b(V=>({...V,[g]:_}))},E=async D=>{if(!n){u(!0);return}try{const L=["evaluates",t,a,s];r.setQueryData(L,V=>V?.data?{...V,data:V.data.map(G=>G.id===D?{...G,isLiked:!G.isLiked,helpfulCount:G.isLiked?G.helpfulCount-1:G.helpfulCount+1}:G)}:V);const _=await xe.post(`/api/v1/evaluate/toggle-helpful/${D}`);_.data.status&&r.setQueryData(L,V=>V?.data?{...V,data:V.data.map(G=>G.id===D?{...G,isLiked:_.data.isLiked,helpfulCount:_.data.helpfulCount??G.helpfulCount}:G)}:V)}catch(L){console.log(L);return}};return o.jsxs("div",{className:"w-full mt-4 sm:mt-6 md:mt-[2rem] p-3 sm:p-4 md:p-[2.5rem] bg-white rounded-lg",children:[o.jsx("h3",{className:"text-lg sm:text-xl md:text-[2.2rem] text-pink-600 uppercase mb-4 sm:mb-6 md:mb-8",children:"nh gi sn phm"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 md:gap-8 border border-[#bdb600] p-4 sm:p-6 md:p-[3rem] rounded-sm bg-[#fffff9] mb-4 sm:mb-6 md:mb-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-center sm:items-start justify-center",children:[o.jsxs("p",{className:"text-2xl sm:text-3xl md:text-[2.8rem] text-gray-800",children:[e," / 5"]}),o.jsx("div",{className:"mt-2",children:S(e)})]}),o.jsx("div",{className:"w-full sm:w-auto",children:o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>i("all"),children:["Tt c (",d&&d.summary.total,")"]}),[5,4,3,2,1].map(D=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s===D?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{i(D)},children:[D," Sao (",d&&d.summary.ratingCount[D],")"]},D))]})})]}),f&&o.jsxs("div",{className:"flex justify-center items-center py-8 sm:py-12 gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),p.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:p.map(D=>{const L=w(D.id);return o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow duration-300",children:o.jsxs("div",{className:"flex flex-row gap-3 sm:gap-4",children:[o.jsx("div",{className:"flex-shrink-0 flex sm:block",children:D.showAccount?D?.user?.avatar?o.jsx("img",{src:D.user.avatar,alt:"avatar"+D.user.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(D.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:D.showAccount?D.user?.username||D.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",j(D.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:S(D.rating)}),D.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:D.message}),D.images&&D.images.length>0&&o.jsx("div",{className:"mt-3 sm:mt-4 flex flex-wrap gap-2 sm:gap-3",children:D.images.map((_,V)=>o.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24",children:[o.jsx("img",{src:_,alt:`nh gi ${V+1}`,className:`w-full h-full object-cover rounded-lg border-2 cursor-pointer transition-all duration-300 
                                ${g===D.id&&L===V?"border-blue-500":"border-gray-200"}`,onClick:()=>M(D.id,V)}),D.images.length>1&&V===0&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded",children:["+",D.images.length-1]})]},V))}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mt-3 sm:mt-[1rem]",children:[o.jsx("span",{className:"text-[1.2rem] sm:text-[1.4rem] text-gray-600",children:"Bi nh gi ny hu ch"}),o.jsxs("button",{className:"cursor-pointer flex items-center gap-1 sm:gap-2 transition-all hover:scale-110",type:"button",onClick:()=>E(D.id),children:[o.jsx(F,{icon:D.isLiked?wG:f7,className:`text-lg sm:text-xl transition-colors ${D.isLiked?"text-red-500":"text-gray-600"}`}),o.jsx("span",{className:`text-xs sm:text-[1.4rem] font-medium ${D.isLiked?"text-red-500":"text-gray-600"}`,children:D.helpfulCount})]})]}),D.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:"Admin"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:["Admin "," ",o.jsx("span",{className:"text-[1.2rem]",children:j(D.adminResponseAt)})]}),o.jsx("p",{className:"text-[1.6rem] mt-1",children:D.adminResponse})]})]})]}),g===D.id&&D.images&&D.images.length>0&&o.jsx("div",{className:"mt-4 sm:mt-8 relative rounded-xl overflow-hidden w-full sm:w-[40rem] mx-auto border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:D.images[L],alt:`nh ln ${L+1}`,className:"w-full max-h-[20rem] sm:max-h-[30rem] md:max-h-[40rem] object-contain"}),o.jsx("button",{type:"button",onClick:C,className:"absolute top-2 sm:top-4 right-2 sm:right-4 w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition",children:o.jsx(F,{icon:Hn,className:"text-gray-600 text-lg sm:text-2xl"})}),D.images.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:A,className:"absolute left-2 sm:left-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(F,{icon:i_,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsx("button",{type:"button",onClick:P,className:"absolute right-2 sm:right-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(F,{icon:e_,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsxs("div",{className:"absolute bottom-2 sm:bottom-6 left-1/2 -translate-x-1/2 px-3 sm:px-5 py-1 sm:py-2 bg-black/60 rounded-full text-white text-sm sm:text-lg",children:[L+1," / ",D.images.length]})]})]})})]})]})},D.id)})}),o.jsx(Cj,{open:c,onClose:()=>u(!1)})]})}const N7=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await xe.get("/api/v1/flashsale/data",{params:e})},Ebe=async t=>await xe.get(`/api/v1/flashsale/${t}`),S7=async t=>await xe.get(`/api/v1/flashsale/${t}`),Mbe=async t=>await xe.get(`/api/v1/flashsale/for-product/${t}`),Mj=t=>{const e=new Date(t).getTime(),n=new Date().getTime(),r=e-n,s=Math.floor(r/(1e3*60*60)),i=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3);return{hours:s,minutes:i,seconds:a}};function Pbe(){const{productSlug:t}=gi(),e=rt(),{data:n,isLoading:r}=Fe({queryKey:["productdetail",t],queryFn:()=>Xee(t),enabled:!!t}),{data:s,isLoading:i}=Fe({queryKey:["flashSaleForProduct"],queryFn:()=>Mbe(t)}),a=s&&s.data,[l,c]=T.useState({hours:0,minutes:0,seconds:0}),u=Math.floor(l.hours/24),d=n?.product,[f,p]=T.useState(null),[g,x]=T.useState(null),[v,b]=T.useState(1),[w,S]=T.useState(null),{addToCart:j,isLoading:M,notify:C,setNotify:P}=Ax(),[A,E]=T.useState([]),[D,L]=T.useState(0),_=T.useMemo(()=>{const ne=new Map;return d?.variants?.forEach(se=>ne.set(se.variantColor.id,se.variantColor)),[...ne.values()]},[d]),V=T.useMemo(()=>{const ne=new Map;return d?.variants?.forEach(se=>ne.set(se.variantSize.id,se.variantSize)),[...ne.values()]},[d]);T.useEffect(()=>{if(d&&d.mainImage&&d.listImageProduct){const se=(d.listImageProduct.map(me=>me.imageUrl)||[]).filter(me=>me!==d.mainImage);E([d.mainImage,...se])}},[d]),T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(!a)return;const ne=()=>{const me=Mj(a.endDate);c(me)};if(ne(),l.hours>=24)return;const se=setInterval(()=>{ne()},1e3);return()=>clearInterval(se)},[a,l.hours]);const G=(ne,se)=>Math.round(ne*(1-se/100)),H=()=>d?.variants.find(se=>se.variantColor.id===g?.id&&se.variantSize.id===f?.id)?.inventory??0,W=g&&f,R=d?.variants.reduce((ne,se)=>ne+se.inventory,0),$=H(),z=ne=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ne),K=()=>{const ne=d.category.categoryName?.toUpperCase()||"";return ne.includes("giy")||ne.includes("dp")?iN:oN},X=async ne=>{if(S(null),!g||!f){S("Vui lng chn thuc tnh sn phm!");return}const se=d?.variants.find(Ee=>Ee.variantColor.id===g.id&&Ee.variantSize.id===f.id)?.id;v<=0&&S("S lng sn phm t nht l 1!"),j([{variantId:se,quantity:v}]),ne==="buy"&&e(`/cart/detail?buyNowVariant=${se}`)},B=()=>{L(ne=>ne+1>A.length-1?0:ne+1)},J=()=>{L(ne=>ne-1<0?A.length-1:ne-1)};return r?o.jsx(yo,{}):o.jsxs("div",{className:"relative w-full h-auto px-[1rem] md:px-[3rem] xl:px-[12rem]",children:[o.jsxs("div",{className:"w-full flex flex-wrap items-center gap-1 sm:gap-2 text-[1.2rem] md:text-[1.4rem] px-2 sm:px-4 md:px-6 lg:px-[3rem] md:py-2 py-1",children:[o.jsxs(Qe,{to:"/",className:"flex items-center gap-1 sm:gap-2 text-blue-800 hover:text-blue-600 transition-colors whitespace-nowrap",children:[o.jsx("span",{children:"Home"}),o.jsx(F,{icon:kn,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]}),(()=>{if(!d?.category)return null;const ne=[];let se=d.category;for(;se;)ne.push(se),se=se.parent;return ne.reverse().map((me,Ee)=>o.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[o.jsx(Qe,{to:`/category/${me.slug}`,className:"flex items-center hover:text-blue-600 transition-colors text-blue-800",children:o.jsx("span",{className:"line-clamp-1 max-w-[80px] sm:max-w-[120px] md:max-w-[150px] lg:max-w-none",children:me.categoryName})}),Ee<ne.length-1&&o.jsx(F,{icon:kn,className:"mx-1 sm:mx-2 text-gray-400 text-[0.8rem] sm:text-[1rem]"}),o.jsx(F,{icon:kn,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]},me.id))})(),o.jsx("span",{className:"text-gray-600 line-clamp-1 max-w-[100px] sm:max-w-[150px] md:max-w-[200px] lg:max-w-[300px] xl:max-w-none",children:d?.productName})]}),o.jsxs("div",{className:"w-full h-auto flex md:flex-row flex-col gap-[4rem] rounded-lg mt-[1rem] bg-white p-[1rem] md:p-[1.5rem]",children:[o.jsxs("div",{className:"relative w-full md:w-[40rem] xl:w-[50rem] h-auto",children:[o.jsx("img",{src:A[D],alt:d?.productName,className:"w-full md:h-[40rem] h-[35rem] xl:h-[50rem] object-cover"}),o.jsx("button",{onClick:J,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 left-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(F,{icon:xi,className:"text-[1.8rem]"})}),o.jsx("button",{onClick:B,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 right-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(F,{icon:kn,className:"text-[1.8rem]"})}),o.jsx("div",{className:"flex items-center space-x-4 mt-[1rem]",children:A.map((ne,se)=>o.jsx("div",{className:`w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-md border ${D===se?"border-2 border-amber-500":"border-gray-300"} `,onClick:()=>L(se),children:o.jsx("img",{src:ne,alt:`imageItem-${se}`,className:"w-full h-full object-cover rounded-md"})},ne))}),a&&o.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-[1.4rem] px-4 py-1 rounded-tl-4xl rounded-br-4xl shadow-lg z-10",children:["FLASH SALE -",a.discount,"%"]})]}),o.jsxs("div",{className:"flex-1 space-y-2 md:space-y-4",children:[o.jsx("h3",{className:"text-[1.4rem] md:text-[2rem] xl:text-[2.2rem] text-gray-800",children:d?.productName}),o.jsxs("div",{className:"flex items-center space-x-6 text-[1.2rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-gray-800",children:d.averageRating}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ne=>o.jsx(F,{icon:ms,className:`${ne<=d.averageRating?"text-yellow-400":"text-gray-300"}`},ne))})})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-800",children:d.reviewCount}),o.jsx("span",{className:" text-gray-500",children:"nh gi"})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:" text-gray-500",children:" bn"}),o.jsx("p",{className:"text-gray-800",children:d.soldCount})]})]}),a&&o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[2rem] xl:text-[2.2rem]",children:z(G(d.price,a.discount))}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem] line-through",children:z(d.price)}),o.jsxs("span",{className:"bg-red-600 text-white text-[1.2rem] md:text-[1.4rem] px-3 py-1 rounded-md",children:["-",a.discount,"%"]})]})}),a&&o.jsx("div",{className:"flex items-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3 text-[1.2rem] md:text-[1.4rem]",children:l.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white ",children:["Thi hn ",u," ngy"]}):["hours","minutes","seconds"].map((ne,se)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-3 py-1 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(l[ne]).padStart(2,"0")})},se),se!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},se))})}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn mu"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:_?.map(ne=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${g?.id===ne.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>x(ne),children:[o.jsx(F,{icon:K(),className:"bg-gray-100 p-[.2rem]",style:{color:ne.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:ne.name})]},ne.id))})]}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn size"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:V?.map(ne=>{const se=g?d.variants.find(me=>me.variantColor.id===g.id&&me.variantSize.id===ne?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border rounded-[.5rem] ${se?f?.id===ne.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!se,onClick:()=>p(ne),children:o.jsx("span",{className:"text-[1.4rem]",children:ne.name})},ne.id)})})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"S lng"}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${W?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{g&&f&&b(ne=>Math.max(1,ne-1))},children:o.jsx(F,{icon:Ml,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:v,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!W,onChange:ne=>b(Number(ne.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${W?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{f&&g&&b(ne=>Math.min(Number(d.variants.find(se=>se.variantColor.id===g.id&&se.variantSize.id===f?.id)?.inventory),Number(ne)+1))},children:o.jsx(F,{icon:aa,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1rem] md:text-[1.4rem] text-gray-600 uppercase select-none",children:W?`Cn ${$} sn phm`:R>0?"Cn hng":"Ht hng"})]})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] text-red-500 mt-[4rem]",children:w}),o.jsxs("div",{className:"flex items-center  gap-[1rem] mt-[.5rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] border border-amber-500 hover:border-amber-600 text-amber-600 hover:text-amber-700 rounded-[.5rem] hover-linear select-none cursor-pointer",disabled:M,onClick:()=>X("add"),children:M?o.jsx("span",{children:"ang x l..."}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:ia}),o.jsx("span",{children:"Thm vo gi hng"})]})}),o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] bg-red-500 text-white hover:bg-red-600 rounded-[.5rem] hover-linear cursor-pointer",disabled:M,onClick:()=>X("buy"),children:M?"ang x l...":"Mua ngay"})]})]})]}),o.jsxs("div",{className:"w-full mt-[2rem] rounded-lg h-auto bg-white p-[1rem] md:p-[2.5rem]",children:[o.jsx("div",{className:"w-full py-[1rem] px-[1rem] md:px-[2rem] bg-gray-100 text-[1.4rem] md:text-[2rem] text-pink-600 mb-8 uppercase",children:"M t sn phm"}),o.jsx("div",{className:"prose prose-2xl max-w-none text-gray-600 px-[1rem] md:px-[2rem] text-[1.4rem]",dangerouslySetInnerHTML:{__html:d.description}})]}),o.jsx(Tbe,{productId:d.id,averageRating:Number(d.averageRating)}),o.jsx(Pu,{showNotify:C.show,content:C.content,duration:1e3,onClose:()=>P({show:!1,content:""})})]})}function Abe({open:t,onClose:e,dataChange:n,refetchOrder:r}){const{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=$s({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}});T.useEffect(()=>{if(n){const A=n;f({province:A.province,district:A.district,ward:A.ward,recipentName:A.recipentName,addressDetail:A.addressDetail,phone:A.phone,orderCode:A.orderCode})}},[n,f]);const{data:p}=Fe({queryKey:["province"],queryFn:uj}),g=d("province"),x=d("district"),b=p?.find(A=>A.name===g)?.districts??[],S=b.find(A=>A.name===x)?.wards??[],j=p?.map(A=>({value:A.name,label:A.name})),M=b?.map(A=>({value:A.name,label:A.name})),C=S?.map(A=>({value:A.name,label:A.name})),P=async A=>{const E={customerName:A.recipentName,customerAddress:A.addressDetail,customerPhone:A.phone,customerProvince:A.province,customerDistrict:A.district,customerWard:A.ward};try{const D=await xe.patch(`/api/v1/orders/change-address/${A.orderCode}`,E);D.status&&(await r(),de.success(D.message),f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}),e())}catch(D){de.error(D.message)}};return o.jsxs(bt,{open:t,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:A=>{A.stopPropagation(),e()},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:a(P),children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(li,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:A})=>o.jsx(ea,{...A,options:j,placeholder:"Tnh...",isSearchable:!0,value:j?.find(E=>E.value===A.value)||null,onChange:E=>{A.onChange(E?.value),u("district",""),u("ward","")},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(li,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:A})=>o.jsx(ea,{...A,options:M,placeholder:"Huyn...",isSearchable:!0,value:M?.find(E=>E.value===A.value)||null,onChange:E=>{A.onChange(E?.value),u("ward","")},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(li,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:A})=>o.jsx(ea,{...A,options:C,placeholder:"Phng...",isSearchable:!0,value:C?.find(E=>E.value===A.value)||null,onChange:E=>{A.onChange(E?.value)},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:A=>{A.stopPropagation(),e()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":"Thay i"})]})]})]})}function Obe(){const[t,e]=ua(),n=t.get("code")||"",[r,s]=T.useState(n),[i,a]=T.useState("search"),{addToCart:l}=Ax(),c=rt(),[u,d]=T.useState(null),[f,p]=T.useState(!1),[g,x]=T.useState(null),[v,b]=T.useState({open:!1,data:null}),[w,S]=T.useState({open:!1,dataChange:null}),[j,M]=T.useState({open:!1,orderCode:null,data:null});T.useEffect(()=>{n!==r&&s(n)},[n]),T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const C=async R=>{if(!R.trim()){x("Vui lng nhp m n hng!");return}p(!0),x(null),d(null);try{const $=await rpe(R);d($)}catch($){x($.message||"Khng tm thy n hng. Vui lng kim tra li m n hng."),d(null)}finally{p(!1)}},P=R=>{const $=r;if(!$.trim()){de.error("Vui lng nhp m n hng!");return}s($),e({code:$.trim()}),C($.trim())},A=()=>{r.trim()&&C(r.trim())},E=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),D=R=>new Date(R).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),L=R=>{const $=R.target.value;s($),$.trim()||(e({}),d(null),x(null))},_=()=>{if(!u)return;const R={orderCode:u?.orderCode,recipientName:u?.customerName,addressDetail:u?.customerAddress,phone:u?.customerPhone,province:u?.customerProvince,district:u?.customerDistrict,ward:u?.customerWard};S({open:!0,dataChange:R})},V=R=>R?R.replace(/(\d{3})\d{4}(\d{3})/,"$1xxxx$2"):"",G=R=>{if(!R)return"";const[$,z]=R.split("@");return $.length<=2?R:`${$[0]}${"*".repeat($.length-2)}@${z}`},H=async R=>{const $=R.orderItems.map(K=>({variantId:K.variant.id,quantity:K.quantity}));if(await l($)){const K=$.map(X=>X.variantId).join(",");c(`/cart/detail?buyback=${K}`)}else de.error("Thm sn phm vo gi hng tht bi!")},W=u&&u.paymentMethod===le.PaymentMethod.COD?u.status===le.OrderStatus.COMPLETED:!!u?.payment;return o.jsxs("div",{className:"min-h-screen bg-gray-50 py-6 px-4 sm:px-6 lg:px-[12rem]",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Tra cu n hng"}),o.jsx("p",{className:"text-gray-600",children:"Nhp m n hng  kim tra trng thi n hng ca bn"})]}),o.jsx("div",{className:"mb-6 border-b border-gray-200",children:o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:()=>a("search"),className:`cursor-pointer pb-4 px-2 font-medium transition-colors relative ${i==="search"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(F,{icon:Dr,className:"mr-2"}),"Tra cu n hng"]})})}),i==="search"&&o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("input",{type:"text",value:r,onChange:R=>L(R),placeholder:"Nhp m n hng (VD: ORDER-abc123)",className:"w-[40rem] h-[4rem] px-6 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-[1.4rem]",onKeyDown:R=>{R.key==="Enter"&&P()}}),o.jsx("button",{type:"button",disabled:f,className:"w-[12rem] h-[4rem] bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold rounded-lg transition flex items-center justify-center gap-2",onClick:()=>P(),children:f?o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:cg,spin:!0}),"ang tm..."]}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:Dr}),"Tra cu"]})})]}),o.jsxs("div",{className:"mt-4 flex items-start gap-2 text-[1.4rem] text-gray-600",children:[o.jsx(F,{icon:BG,className:"mt-0.5"}),o.jsx("p",{children:"M n hng c gi qua email sau khi t hng thnh cng. Vui lng kim tra email hoc tin nhn SMS."})]})]}),g&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 flex items-center justify-center gap-3",children:[o.jsx(F,{icon:cN,className:"text-2xl text-red-500"}),o.jsx("p",{className:"text-red-700",children:g})]}),f?o.jsxs("div",{className:"flex justify-center items-center py-10",children:[o.jsx(F,{icon:cg,spin:!0,className:"text-3xl text-blue-500 mr-3"}),o.jsx("span",{className:"text-lg",children:"ang ti d liu..."})]}):u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:" font-bold ",children:["n hng: ",u.orderCode]}),o.jsxs("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:["t ngy ",D(u.createdAt)]})]}),o.jsx("span",{className:`px-12 py-2 rounded-lg font-medium ${$n(u.status).bgColor} ${$n(u.status).textColor}`,children:$n(u.status).text})]}),u?.status===le.OrderStatus.CANCELLED?o.jsxs("div",{className:"w-full py-[2rem] border border-amber-200 bg-amber-50 px-[2rem]",children:[o.jsx("p",{className:"text-[1.8rem] text-red-500",children:" hy n hng"}),o.jsxs("p",{children:["lc ",D(u.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:Qc.map((R,$)=>{const z=Qc.findIndex(K=>K.key===u.status)>=$;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[2rem] relative items-center",children:[o.jsx("div",{className:`w-[6rem] h-[6rem] rounded-full flex items-center justify-center z-10
                              ${z?`${R.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:R.icon,className:"text-white text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:R.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:R.desc})]})]},R.key),$!==Qc.length-1&&o.jsx("span",{className:"w-[10rem] border border-green-500"})]},R.key)})}),o.jsx("div",{className:"w-full border-t-1 border-gray-400 mt-[3rem]"}),o.jsxs("div",{className:"flex items-start flex-col space-y-4 mt-[3rem] w-4xl p-[2rem] border border-gray-300 rounded-md",children:[o.jsx("span",{className:"font-bold",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"H tn:"}),o.jsx("span",{className:"block text-end",children:u.customerName})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"S in thoi:"}),o.jsx("span",{className:"block text-end",children:V(u.customerPhone)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"Email:"}),o.jsx("span",{className:"block text-end",children:G(u.customerEmail)})]}),o.jsx("span",{className:"font-bold",children:"a ch nhn hng"}),o.jsxs("div",{className:"w-full mt-[1rem] border border-gray-300 rounded-md p-[2rem]",children:[o.jsx("p",{className:"text-gray-800",children:u.customerName}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:["(",V(u.customerPhone),")"]}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:[u.customerAddress,", ",u.customerWard,","," ",u.customerDistrict,","," ",u.customerPhone]})]})]}),o.jsxs("div",{className:"w-full border border-gray-200 rounded-md p-[1rem] mt-[2rem]",children:[o.jsxs("h3",{className:"text-[1.4rem] font-bold text-gray-800 pb-[2rem] flex items-center gap-2",children:[o.jsx(F,{icon:Nh,className:"text-blue-500"}),"Sn phm (",u&&u.orderItems?.length,")"]}),u.orderItems&&u.orderItems?.length>0&&o.jsx("div",{className:"border border-gray-200 px-[2rem] py-[1rem] rounded-md",children:o.jsx("div",{className:"bg-white ",children:o.jsx("div",{className:"space-y-2",children:u.orderItems.map(R=>o.jsxs("div",{children:[o.jsxs(Qe,{to:`/product-detail/${R.variant.product.slug}`,className:"flex items-center gap-4 pb-6 last:border-0 py-[.5rem] border-b border-b-gray-200 cursor-pointer",children:[o.jsx("img",{src:R.variant.product.mainImage,alt:R.variant.product.productName,className:"w-28 h-28 object-cover rounded-md border border-gray-300 p-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800",children:R.variant.product.productName}),o.jsxs("span",{className:"flex items-center space-x-4 text-[1.2rem] text-gray-600",children:[o.jsxs("span",{children:[R.variant.variantColor.name," /"," ",R.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",R.quantity]})]}),o.jsxs("p",{className:"flex items-center space-x-1 text-[1rem] text-gray-600",children:[o.jsx("span",{children:"Gi:"}),o.jsx("span",{className:"text-red-600",children:E(R.price)})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-red-600",children:E(R.price*R.quantity)})})]}),o.jsx("div",{className:"flex flex-col items-end mt-[1rem]",children:o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[R.evaluate.length>0&&[le.OrderStatus.CANCELLED,le.OrderStatus.COMPLETED].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white hover:bg-red-600 cursor-pointer transition duration-300",onClick:()=>{H(u)},children:"Mua li"}),R.evaluate.length===0&&u.status===le.OrderStatus.COMPLETED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>b({open:!0,data:R}),children:o.jsxs("div",{className:"flex items-center space-x-2 ",children:[o.jsx(F,{icon:ms,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})})]},R.id))})})}),o.jsxs("div",{className:"w-4xl ml-auto flex justify-between space-y-4 py-4 px-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"text-end text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Tng tin:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Phng thc thanh ton:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Trng thi"})]}),o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"block text-end text-gray-800",children:E(u.totalAmount)}),o.jsx("span",{className:"block text-end text-gray-800",children:E(u.shippingFee)}),o.jsx("span",{className:"block text-end font-bold text-red-500",children:E(u.totalAmount+Number(u.shippingFee))}),o.jsx("span",{className:"block text-end text-gray-800",children:le.getPaymentMethod[u.paymentMethod].text}),o.jsx("span",{className:`${W?"text-green-600":"text-red-600"} block text-end`,children:W?" thanh ton":"Cha thanh ton"})]})]})]}),u&&!W&&o.jsxs("div",{className:"text-center border border-amber-300 bg-amber-50 py-5 px-[1rem] mt-[1rem] rounded-md",children:["Vui lng thanh ton (",o.jsx("span",{className:"text-red-500",children:E(u.totalAmount+Number(u.shippingFee))}),") khi nhn hng!"]}),o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[u.status===le.OrderStatus.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md border border-gray-300 text-gray-600 hover:border-gray-400 cursor-pointer transition duration-300",onClick:()=>M({open:!0,orderCode:u.orderCode,data:u}),children:"Chi tit hy n"}),[le.OrderStatus.CONFIRMED,le.OrderStatus.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 cursor-pointer transition duration-300",onClick:()=>M({open:!0,orderCode:u.orderCode,data:null}),children:"Hy n"}),[le.OrderStatus.CONFIRMED,le.OrderStatus.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white cursor-pointer transition duration-300 hover:bg-red-600",onClick:()=>_(),children:"Thay i a ch"})]})]})}),o.jsx(v7,{open:v.open,item:v.data,dataGuest:{customerEmail:u.customerEmail,customerName:u.customerName},onClose:()=>b({open:!1,data:null}),refetch:A})]}):o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-10 text-center text-gray-600",children:[o.jsx(F,{icon:Dr,className:"text-5xl mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl",children:r?"Nhn 'Tra cu'  kim tra n hng ca bn.":"Cha c kt qu. Vui lng nhp m n hng  tra cu."})]})]})]}),o.jsx(Abe,{open:w.open,onClose:()=>S({open:!1,dataChange:null}),dataChange:w.dataChange,refetchOrder:A}),o.jsx(w7,{open:j.open,onClose:()=>M({open:!1,orderCode:null,data:null}),orderCode:j.orderCode,refetch:A,status:j?.data?.status,cancelReason:j?.data?.reason,cancelledAt:j.data?.updatedAt,cancelledBy:j.data?.customerName})]})}function _be(){const[t]=ua(),e=Number(t.get("resultCode")),n=t.get("orderId"),r=rt(),{user:s}=Ct(),[i,a]=T.useState("loading"),[l,c]=T.useState("ang ti..."),u=async()=>{if(n)try{const d=await xe.get(`/api/v1/orders/confirm-payment/${n}`);console.log(d),d.status===!0?(a("success"),c(d.message||"Thanh ton thnh cng!")):d.status===!1?(a("failed"),c(d.message||d.reason||"Thanh ton tht bi!")):d.status==="pending"&&(a("pending"),c(d.message||"ang xc nhn thanh ton vi MoMo, vui lng ch trong giy lt..."))}catch(d){a("failed"),c("C li xy ra khi kim tra thanh ton. Vui lng lin h h tr."),console.error("Error checking payment:",d)}};return T.useEffect(()=>{if(!n){a("failed"),c("Khng tm thy thng tin n hng!");return}if(u(),e!==0){a("failed"),c("Thanh ton  b hy hoc tht bi.");return}const d=setInterval(()=>{i==="pending"&&(console.log(i),u())},3e3);return()=>{clearInterval(d)}},[n,e,i]),i==="loading"||i==="pending"?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[i==="pending"&&o.jsx("div",{className:"w-20 h-20 border-4 border-blue-400 border-dashed rounded-full animate-spin"}),o.jsx("p",{className:"mt-6 text-gray-700",children:l}),i==="pending"&&o.jsx("p",{className:"mt-2 text-gray-500",children:"ang ch xc nhn t MoMo..."})]}):i==="success"?o.jsx("div",{className:"w-full h-[calc(100vh-18rem)] pt-[4rem] px-[20rem] bg-white ",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-[7rem] h-[7rem] flex justify-center items-center mx-auto mb-[2rem] bg-[#2ddf2d] rounded-[50%] ",children:o.jsx(F,{icon:co,className:"text-[#ffffff] text-[2.8rem]"})}),o.jsx("div",{className:"text-[2.8rem] mb-[.5rem] font-bold text-green-600",children:"Thanh ton thnh cng"}),o.jsx("p",{className:"text-gray-600",children:"Cm n khch hng  t hng."}),o.jsx("p",{className:"text-gray-600 text-center text-[1.4em]",children:"M n hng  gi n email ca khch hng. H thng s cp nht trng thi n v email ca bn"}),o.jsxs("div",{className:"flex justify-between items-center mt-[10rem]",children:[o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-gray-600 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>r("/"),children:[o.jsx(F,{icon:oG,className:"text-gray-500"}),"Quay v trang ch"]}),o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-white bg-blue-500 hover:bg-blue-600 cursor-pointer",onClick:()=>{s?r("/customer/account/order",{replace:!0}):r("/look-up-order",{replace:!0})},children:["Xem cc n hng",o.jsx(F,{icon:ZK,className:""})]})]})]})}):o.jsx("div",{className:"flex flex-col items-center h-[calc(100vh-18rem)] bg-white pt-[5rem]",children:o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-lg text-center max-w-md",children:[o.jsx("div",{className:"text-red-600 text-[2.6rem] mb-4",children:""}),o.jsx("h1",{className:"text-[1.8rem] font-bold text-gray-800 mb-2",children:"Thanh ton tht bi"}),o.jsx("p",{className:"text-gray-600 mb-6",children:l}),o.jsx("button",{onClick:()=>window.location.href="/cart",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Quay li gi hng"})]})})}const j7=async(t,e)=>(await xe.get("/api/v1/banner/list-banner",{params:{search:t,active:e}})).data;function Dbe(){const[t,e]=T.useState({open:!1,action:"add"}),[n,r]=T.useState(""),[s,i]=T.useState(""),[a,l]=T.useState(!1),[c,u]=T.useState("active"),d=T.useRef(null),f=T.useRef(null),p=T.useRef(null),g=T.useRef(null),[x,v]=T.useState({open:!1,bannerId:null,action:"inactive"}),{register:b,handleSubmit:w,formState:{errors:S,isSubmitting:j},reset:M,setValue:C}=$s({defaultValues:{title:"",subTitle:"",link:"",bannerId:void 0,imageUrl:null}}),[P,A]=T.useState(null),{data:E,isLoading:D,refetch:L}=Fe({queryKey:["listBanner",s,c],queryFn:()=>j7(s,c)});T.useEffect(()=>()=>{P&&URL.revokeObjectURL(P)},[P]),T.useEffect(()=>{const R=c==="active"?f.current:p.current;!R||!d.current||R&&d.current&&(d.current.style.width=`${R.offsetWidth}px`,d.current.style.left=`${R.offsetLeft}px`)},[c,E]);const _=R=>{const $=R.target.files;if($&&$[0]){const z=$[0],K=URL.createObjectURL(z);C("imageUrl",z),A(K)}},V=async R=>{try{let $;const z={title:R.title,subTitle:R.subTitle,link:R.link,imageUrl:R.imageUrl};t.action==="add"?$=await xe.post("/api/v1/banner/create",z,{headers:{"Content-Type":"multipart/form-data"}}):$=await xe.patch(`/api/v1/banner/update/${R.bannerId}`,z,{headers:{"Content-Type":"multipart/form-data"}}),$.status&&(M({title:"",subTitle:"",link:"",imageUrl:null}),await L(),de.success($.message),e({open:!1,action:"add"}))}catch($){console.log($),de.error($.message)}},G=()=>{e({open:!1,action:"add"}),M({title:"",subTitle:"",link:"",imageUrl:null})},H=R=>{g.current&&g.current.scrollTo({top:0,behavior:"smooth"}),e({open:!0,action:"edit"}),M({title:R.title,subTitle:R.subTitle,link:R.link,bannerId:R.id}),R.title&&A(R.imageUrl)},W=async R=>{try{if(!R){de.error("Khng c bannerId");return}l(!0);const $=await xe.patch(`/api/v1/banner/toggle-active/${R}`);$.status&&(de.success($.message),await L(),v({open:!1,bannerId:null,action:"active"}))}catch($){console.log($),de.error($.message||"")}finally{l(!1)}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsx("div",{className:"sticky top-0 bg-white z-10 pb-[2rem] border-b-[.1rem] border-b-gray-300",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Banner Slide Trang Ch"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Tm kim theo tn...",className:"w-[30rem] h-[4rem] focus:border-cyan-400 border border-gray-300 outline-none text-gray-600 px-[1.5rem] rounded-md",value:n,onChange:R=>r(R.target.value)}),o.jsx("button",{className:"absolute top-[50%] translate-y-[-50%] right-0 px-5 h-full cursor-pointer",onClick:()=>i(n),children:o.jsx(F,{icon:Dr,className:"text-gray-600"})})]}),o.jsxs("button",{type:"button",className:`text-white text-[1.4rem] flex gap-1.5 items-center px-4 h-[4rem] bg-blue-500 rounded-md hover:bg-blue-600 cursor-pointer hover-linear ${j?"cursor-not-allowed":""}`,onClick:()=>{M({title:"",subTitle:"",link:"",imageUrl:null}),g.current?.scrollTo({top:0,behavior:"smooth"}),A(null),e({open:!0,action:"add"})},disabled:j,children:[o.jsx(F,{icon:Nu}),"Thm Banner Mi"]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar mt-[1rem]",ref:g,children:[t.open&&o.jsxs("div",{className:"mb-8 mt-4 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[o.jsx("h3",{className:`${t.action==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.action==="add"?"To Banner Mi":"Cp nht banner"}),o.jsxs("form",{onSubmit:w(V),children:[o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"title",className:"text-gray-600",children:"Tiu  banner"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"title",placeholder:"Nhp tiu  cho banner...",...b("title")}),S.title&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.title.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"subTitle",className:"text-gray-600",children:"Ph "}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"subTitle",placeholder:"Nhp tiu ph ...",...b("subTitle")}),S.subTitle&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.subTitle.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"link",className:"text-gray-600",children:"Link ch"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"link",placeholder:"Nhp link...",...b("link",{required:"Vui lng nhp link ch!"})}),S.link&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.link.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("p",{className:"text-gray-600",children:"Chn hnh nh cho Banner"}),o.jsxs("label",{htmlFor:"imageUrl",className:"flex items-center justify-center space-x-4 w-full h-[4rem] border border-dashed border-gray-500 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400 cursor-pointer",children:[o.jsx(F,{icon:Xr,className:"text-gray-500"}),o.jsx("span",{className:"text-gray-600",children:"Hnh nh"}),o.jsx("input",{type:"file",className:"hidden",id:"imageUrl",accept:"image/*",onChange:R=>_(R)})]}),S.imageUrl&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.imageUrl.message})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:P&&o.jsx("div",{className:"my-5",children:o.jsx("img",{src:P,alt:"displayImage",className:"w-full h-[35rem] object-cover"})})}),t.action==="edit"&&o.jsx("input",{type:"number",className:"hidden",...b("bannerId")}),o.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>G(),className:"bg-gray-200 text-gray-600 px-8 py-2 rounded-lg hover:bg-gray-300",disabled:j,children:"Hy"}),o.jsx("button",{className:`${t.action==="add"?"bg-green-600 hover:bg-green-700":"bg-amber-600 hover:bg-amber-700"}  text-white px-8 py-2 rounded-lg `,type:"submit",disabled:j,children:j?"ang x l...":t.action==="add"?"Thm":"Cp nht"})]})]})]}),D?o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:o.jsx("div",{className:"w-16 h-16 border-4 border-dashed border-gray-300 border-t-blue-500 rounded-full animate-spin"})}):o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("div",{className:"relative flex items-center pb-4 border-b border-b-gray-200",children:[o.jsx("span",{ref:f,onClick:()=>u("active"),className:`cursor-pointer pr-[1rem] transition
                    ${c==="active"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"ang hot ng"}),o.jsx("span",{ref:p,onClick:()=>u("inactive"),className:`cursor-pointer pl-[1rem] transition
                    ${c==="inactive"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"Dng hot ng"}),o.jsx("div",{ref:d,className:"absolute bottom-0 h-1 bg-blue-500 transition-all duration-300"})]}),E&&E.length>0?o.jsx(o.Fragment,{children:o.jsx("div",{className:"grid grid-cols-2 mt-[2rem] gap-2.5",children:E.map(R=>o.jsxs("div",{className:"w-full h-[35rem] relative  border border-gray-200 rounded-md group",children:[o.jsxs("div",{className:"absolute top-0 left-0 flex items-center space-x-4",children:[o.jsxs("div",{className:"text-[1.4rem] px-2.5 py-1 bg-amber-200 rounded-br-lg ",children:["STT:",R.sortOrder]}),o.jsx("div",{className:`px-4 rounded-br-lg rounded-bl-lg ${R.isActive?"bg-green-500 text-white":"bg-gray-500 text-gray-300"} py-1 text-[1.4rem]`,children:R.isActive?"ang hot ng":"Dng hot ng"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),o.jsx("img",{src:R.imageUrl,alt:`banner-image-${R.title}`,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute left-[3rem] space-y-2 bottom-[3rem]",children:[o.jsx("p",{className:"text-white text-[2.5rem]",children:R.title}),o.jsx("p",{className:"text-[1.4rem] text-white",children:R.subTitle})]}),o.jsxs("div",{className:"absolute flex items-center justify-center space-x-4 inset-0 bg-[#36363659] group-hover:opacity-100 opacity-0 transition duration-300 rounded-md",children:[o.jsxs("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md  text-white ${R.isActive?"bg-amber-500 hover:bg-amber-600":"cursor-not-allowed bg-gray-400"}`,onClick:()=>H(R),disabled:!R.isActive,children:[o.jsx(F,{icon:zs}),o.jsx("span",{children:"Cp nht"})]}),o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md ${R.isActive?"bg-gray-500 hover:bg-gray-600 text-gray-300":"bg-green-500 hover:bg-green-600 text-white"} `,onClick:()=>v({open:!0,bannerId:R.id,action:R.isActive?"inactive":"active"}),children:o.jsx("span",{children:R.isActive?"Ngng hot ng":"M hot ng"})})]})]},R.id))})}):o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:"Cha c banner no"})]})]}),o.jsxs(bt,{open:x.open,className:"relative w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsxs("h2",{className:`text-[2rem] ${x.action==="inactive"?"text-amber-600":"text-green-600"}  mb-[2.5rem] font-bold`,children:["Bn mun"," ",x.action==="active"?"kch hot":"tm dng"," banner ny?"]}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:R=>{R.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},children:o.jsx(F,{icon:mn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none ${j?"cursor-not-allowed":""}`,onClick:R=>{R.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},disabled:j,children:"ng"}),o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md ${x.action==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}  text-white transition duration-300 outline-none ${j?"cursor-not-allowed":""}`,onClick:()=>{W(x.bannerId)},disabled:j,children:a?"ang x l...":x.action==="active"?"Kch hot":"Dng"})]})]})]})}function RP(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Pj(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:RP(e[r])&&RP(t[r])&&Object.keys(e[r]).length>0&&Pj(t[r],e[r])})}const C7={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function hi(){const t=typeof document<"u"?document:{};return Pj(t,C7),t}const Ibe={document:C7,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function pr(){const t=typeof window<"u"?window:{};return Pj(t,Ibe),t}function Lbe(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function Rbe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function k7(t,e=0){return setTimeout(t,e)}function k0(){return Date.now()}function Fbe(t){const e=pr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Vbe(t,e="x"){const n=pr();let r,s,i;const a=Fbe(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Np(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function zbe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Hr(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!zbe(s)){const i=Object.keys(Object(s)).filter(a=>n.indexOf(a)<0);for(let a=0,l=i.length;a<l;a+=1){const c=i[a],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&(Np(e[c])&&Np(s[c])?s[c].__swiper__?e[c]=s[c]:Hr(e[c],s[c]):!Np(e[c])&&Np(s[c])?(e[c]={},s[c].__swiper__?e[c]=s[c]:Hr(e[c],s[c])):e[c]=s[c])}}}return e}function Sp(t,e,n){t.style.setProperty(e,n)}function T7({swiper:t,targetPosition:e,side:n}){const r=pr(),s=-t.translate;let i=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>s?"next":"prev",u=(f,p)=>c==="next"&&f>=p||c==="prev"&&f<=p,d=()=>{a=new Date().getTime(),i===null&&(i=a);const f=Math.max(Math.min((a-i)/l,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=s+p*(e-s);if(u(g,e)&&(g=e),t.wrapperEl.scrollTo({[n]:g}),u(g,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:g})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function ai(t,e=""){const n=pr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function $be(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Bbe(t,e){const n=pr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=$be(t,e))),r}function T0(t){try{console.warn(t);return}catch{}}function E0(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Lbe(e)),n}function Hbe(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ube(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Qa(t,e){return pr().getComputedStyle(t,null).getPropertyValue(e)}function M0(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function E7(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Ew(t,e,n){const r=pr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function jn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Qh(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let u1;function Wbe(){const t=pr(),e=hi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function M7(){return u1||(u1=Wbe()),u1}let d1;function qbe({userAgent:t}={}){const e=M7(),n=pr(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32";let g=r==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&e.touch&&x.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(i.os="android",i.android=!0),(u||f||d)&&(i.os="ios",i.ios=!0),i}function P7(t={}){return d1||(d1=qbe(t)),d1}let h1;function Kbe(){const t=pr(),e=P7();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function A7(){return h1||(h1=Kbe()),h1}function Gbe({swiper:t,on:e,emit:n}){const r=pr();let s=null,i=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:f,height:p}=t;let g=f,x=p;d.forEach(({contentBoxSize:v,contentRect:b,target:w})=>{w&&w!==t.el||(g=b?b.width:(v[0]||v).inlineSize,x=b?b.height:(v[0]||v).blockSize)}),(g!==f||x!==p)&&a()})}),s.observe(t.el))},c=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),e("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function Ybe({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=pr(),a=(u,d={})=>{const f=i.MutationObserver||i.WebkitMutationObserver,p=new f(g=>{if(t.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const x=function(){r("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(x):i.setTimeout(x,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(p)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=E7(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var Xbe={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(s,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(l=>{l.apply(s,r)})}),e}};function Qbe(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Qa(r,"padding-left")||0,10)-parseInt(Qa(r,"padding-right")||0,10),n=n-parseInt(Qa(r,"padding-top")||0,10)-parseInt(Qa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Jbe(){const t=this;function e(L,_){return parseFloat(L.getPropertyValue(t.getDirectionLabel(_))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=ai(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,w=t.slidesGrid.length,S=t.size-x-v;let j=n.spaceBetween,M=-x,C=0,P=0;if(typeof S>"u")return;typeof j=="string"&&j.indexOf("%")>=0?j=parseFloat(j.replace("%",""))/100*S:typeof j=="string"&&(j=parseFloat(j)),t.virtualSize=-j-x-v,u.forEach(L=>{i?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Sp(r,"--swiper-centered-offset-before",""),Sp(r,"--swiper-centered-offset-after",""));const A=n.grid&&n.grid.rows>1&&t.grid;A?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let E;const D=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(L=>typeof n.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<d;L+=1){E=0;const _=u[L];if(!(_&&(A&&t.grid.updateSlide(L,_,u),Qa(_,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(E=n.virtual.slidesPerViewAutoSlideSize),E&&_&&(n.roundLengths&&(E=Math.floor(E)),_.style[t.getDirectionLabel("width")]=`${E}px`);else if(n.slidesPerView==="auto"){D&&(_.style[t.getDirectionLabel("width")]="");const V=getComputedStyle(_),G=_.style.transform,H=_.style.webkitTransform;if(G&&(_.style.transform="none"),H&&(_.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?Ew(_,"width"):Ew(_,"height");else{const W=e(V,"width"),R=e(V,"padding-left"),$=e(V,"padding-right"),z=e(V,"margin-left"),K=e(V,"margin-right"),X=V.getPropertyValue("box-sizing");if(X&&X==="border-box")E=W+z+K;else{const{clientWidth:B,offsetWidth:J}=_;E=W+R+$+z+K+(J-B)}}G&&(_.style.transform=G),H&&(_.style.webkitTransform=H),n.roundLengths&&(E=Math.floor(E))}else E=(S-(n.slidesPerView-1)*j)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),_&&(_.style[t.getDirectionLabel("width")]=`${E}px`);_&&(_.swiperSlideSize=E),g.push(E),n.centeredSlides?(M=M+E/2+C/2+j,C===0&&L!==0&&(M=M-S/2-j),L===0&&(M=M-S/2-j),Math.abs(M)<1/1e3&&(M=0),n.roundLengths&&(M=Math.floor(M)),P%n.slidesPerGroup===0&&f.push(M),p.push(M)):(n.roundLengths&&(M=Math.floor(M)),(P-Math.min(t.params.slidesPerGroupSkip,P))%t.params.slidesPerGroup===0&&f.push(M),p.push(M),M=M+E+j),t.virtualSize+=E+j,C=E,P+=1}}if(t.virtualSize=Math.max(t.virtualSize,S)+v,i&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+j}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+j}px`),A&&t.grid.updateWrapperSize(E,f),!n.centeredSlides){const L=[];for(let _=0;_<f.length;_+=1){let V=f[_];n.roundLengths&&(V=Math.floor(V)),f[_]<=t.virtualSize-S&&L.push(V)}f=L,Math.floor(t.virtualSize-S)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-S)}if(l&&n.loop){const L=g[0]+j;if(n.slidesPerGroup>1){const _=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),V=L*n.slidesPerGroup;for(let G=0;G<_;G+=1)f.push(f[f.length-1]+V)}for(let _=0;_<t.virtual.slidesBefore+t.virtual.slidesAfter;_+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+L),p.push(p[p.length-1]+L),t.virtualSize+=L}if(f.length===0&&(f=[0]),j!==0){const L=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((_,V)=>!n.cssMode||n.loop?!0:V!==u.length-1).forEach(_=>{_.style[L]=`${j}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let L=0;g.forEach(V=>{L+=V+(j||0)}),L-=j;const _=L>S?L-S:0;f=f.map(V=>V<=0?-x:V>_?_+v:V)}if(n.centerInsufficientSlides){let L=0;g.forEach(V=>{L+=V+(j||0)}),L-=j;const _=(x||0)+(v||0);if(L+_<S){const V=(S-L-_)/2;f.forEach((G,H)=>{f[H]=G-V}),p.forEach((G,H)=>{p[H]=G+V})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Sp(r,"--swiper-centered-offset-before",`${-f[0]}px`),Sp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const L=-t.snapGrid[0],_=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(V=>V+L),t.slidesGrid=t.slidesGrid.map(V=>V+_)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const L=`${n.containerModifierClass}backface-hidden`,_=t.el.classList.contains(L);d<=n.maxBackfaceHiddenSlides?_||t.el.classList.add(L):_&&t.el.classList.remove(L)}}function Zbe(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function eve(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const FP=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function tve(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),g=-(a-d),x=g+e.slidesSizesGrid[c],v=g>=0&&g<=e.size-e.slidesSizesGrid[c],b=g>=0&&g<e.size-1||x>1&&x<=e.size||g<=0&&x>=e.size;b&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c)),FP(u,b,n.slideVisibleClass),FP(u,v,n.slideFullyVisibleClass),u.progress=s?-f:f,u.originalProgress=s?-p:p}}function nve(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=f||s>=1,d&&(s=0),f&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],x=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=p?l=(v-p)/x:l=(v+x-g)/x,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const f1=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function rve(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=f=>ai(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let c,u,d;if(i)if(n.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.find(f=>f.column===s),d=e.find(f=>f.column===s+1),u=e.find(f=>f.column===s-1)):c=e[s];c&&(a||(d=Ube(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=Hbe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{f1(f,f===c,n.slideActiveClass),f1(f,f===d,n.slideNextClass),f1(f,f===u,n.slidePrevClass)}),t.emitSlidesClasses()}const ng=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},m1=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Mw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&m1(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%n+n)%n;(l<s||l>i)&&m1(t,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&m1(t,a)};function sve(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function ive(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=t,u;const d=g=>{let x=g-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof c>"u"&&(c=sve(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const g=Math.min(s.slidesPerGroupSkip,c);u=g+Math.floor((c-g)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const f=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=d(c);else if(f){const g=e.slides.find(v=>v.column===c);let x=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(g),0)),p=Math.floor(x/s.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=c}else p=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:p,previousIndex:i,activeIndex:c}),e.initialized&&Mw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function ave(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,a=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var ove={updateSize:Qbe,updateSlides:Jbe,updateAutoHeight:Zbe,updateSlidesOffset:eve,updateSlidesProgress:tve,updateProgress:nve,updateSlidesClasses:rve,updateActiveIndex:ive,updateClickedSlide:ave};function lve(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=Vbe(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function cve(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function uve(){return-this.snapGrid[0]}function dve(){return-this.snapGrid[this.snapGrid.length-1]}function hve(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const f=i.isHorizontal();if(e===0)l[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return T7({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var fve={getTranslate:lve,setTranslate:cve,minTranslate:uve,maxTranslate:dve,translateTo:hve};function mve(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function O7({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let a=n;a||(s>i?a="next":s<i?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==i&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function pve(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),O7({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function gve(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),O7({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var xve={setTransition:mve,transitionStart:pve,transitionEnd:gve};function yve(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:x}=i;if(!x&&!r&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const v=Math.min(i.params.slidesPerGroupSkip,a);let b=v+Math.floor((a-v)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const w=-c[b];if(l.normalizeSlideIndex)for(let A=0;A<u.length;A+=1){const E=-Math.floor(w*100),D=Math.floor(u[A]*100),L=Math.floor(u[A+1]*100);typeof u[A+1]<"u"?E>=D&&E<L-(L-D)/2?a=A:E>=D&&E<L&&(a=A+1):E>=D&&(a=A)}if(i.initialized&&a!==f&&(!i.allowSlideNext&&(p?w>i.translate&&w>i.minTranslate():w<i.translate&&w<i.minTranslate())||!i.allowSlidePrev&&w>i.translate&&w>i.maxTranslate()&&(f||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(w);let S;a>f?S="next":a<f?S="prev":S="reset";const j=i.virtual&&i.params.virtual.enabled;if(!(j&&s)&&(p&&-w===i.translate||!p&&w===i.translate))return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(w),S!=="reset"&&(i.transitionStart(n,S),i.transitionEnd(n,S)),!1;if(l.cssMode){const A=i.isHorizontal(),E=p?w:-w;if(e===0)j&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),j&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[A?"scrollLeft":"scrollTop"]=E})):g[A?"scrollLeft":"scrollTop"]=E,j&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return T7({swiper:i,targetPosition:E,side:A?"left":"top"}),!0;g.scrollTo({[A?"left":"top"]:E,behavior:"smooth"})}return!0}const P=A7().isSafari;return j&&!s&&P&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(e),i.setTranslate(w),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,S),e===0?i.transitionEnd(n,S):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,S))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function bve(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const v=a*s.params.grid.rows;l=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:d,slidesOffsetAfter:f}=s.params,p=u||!!d||!!f;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let x=c-l<g;if(p&&(x=x||l<Math.ceil(g/2)),r&&p&&s.params.slidesPerView!=="auto"&&!i&&(x=!1),x){const v=p?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?l+1:l-c+1,slideRealIndex:v==="next"?s.realIndex:void 0})}if(i){const v=a*s.params.grid.rows;a=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function vve(t,e=!0,n){const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function wve(t,e=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function p(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}const g=p(f),x=i.map(S=>p(S)),v=s.freeMode&&s.freeMode.enabled;let b=i[x.indexOf(g)-1];if(typeof b>"u"&&(s.cssMode||v)){let S;i.forEach((j,M)=>{g>=j&&(S=M)}),typeof S<"u"&&(b=v?i[S]:i[S>0?S-1:S])}let w=0;if(typeof b<"u"&&(w=a.indexOf(b),w<0&&(w=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),s.rewind&&r.isBeginning){const S=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(S,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function Nve(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Sve(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function jve(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(ai(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),k7(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var Cve={slideTo:yve,slideToLoop:bve,slideNext:vve,slidePrev:wve,slideReset:Nve,slideToClosest:Sve,slideToClickedSlide:jve};function kve(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{ai(s,`.${r.slideClass}, swiper-slide`).forEach((x,v)=>{x.setAttribute("data-swiper-slide-index",v)})},a=()=>{const g=ai(s,`.${r.slideBlankClass}`);g.forEach(x=>{x.remove()}),g.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&a();const c=r.slidesPerGroup*(l?r.grid.rows:1),u=n.slides.length%c!==0,d=l&&n.slides.length%r.grid.rows!==0,f=g=>{for(let x=0;x<g;x+=1){const v=n.isElement?E0("swiper-slide",[r.slideBlankClass]):E0("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(v)}};if(u){if(r.loopAddBlankSlides){const g=c-n.slides.length%c;f(g),n.recalcSlides(),n.updateSlides()}else T0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const g=r.grid.rows-n.slides.length%r.grid.rows;f(g),n.recalcSlides(),n.updateSlides()}else T0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const p=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:p?void 0:"next",initial:e})}function Tve({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:a,byMousewheel:l}={}){const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:f,slidesEl:p,params:g}=c,{centeredSlides:x,slidesOffsetBefore:v,slidesOffsetAfter:b,initialSlide:w}=g,S=x||!!v||!!b;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){e&&(!S&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):S&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=f,c.emit("loopFix");return}let j=g.slidesPerView;j==="auto"?j=c.slidesPerViewDynamic():(j=Math.ceil(parseFloat(g.slidesPerView,10)),S&&j%2===0&&(j=j+1));const M=g.slidesPerGroupAuto?j:g.slidesPerGroup;let C=S?Math.max(M,Math.ceil(j/2)):M;C%M!==0&&(C+=M-C%M),C+=g.loopAdditionalSlides,c.loopedSlides=C;const P=c.grid&&g.grid&&g.grid.rows>1;u.length<j+C||c.params.effect==="cards"&&u.length<j+C*2?T0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):P&&g.grid.fill==="row"&&T0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const A=[],E=[],D=P?Math.ceil(u.length/g.grid.rows):u.length,L=i&&D-w<j&&!S;let _=L?w:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find(z=>z.classList.contains(g.slideActiveClass))):_=s;const V=n==="next"||!n,G=n==="prev"||!n;let H=0,W=0;const $=(P?u[s].column:s)+(S&&typeof r>"u"?-j/2+.5:0);if($<C){H=Math.max(C-$,M);for(let z=0;z<C-$;z+=1){const K=z-Math.floor(z/D)*D;if(P){const X=D-K-1;for(let B=u.length-1;B>=0;B-=1)u[B].column===X&&A.push(B)}else A.push(D-K-1)}}else if($+j>D-C){W=Math.max($-(D-C*2),M),L&&(W=Math.max(W,j-D+w+1));for(let z=0;z<W;z+=1){const K=z-Math.floor(z/D)*D;P?u.forEach((X,B)=>{X.column===K&&E.push(B)}):E.push(K)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<j+C*2&&(E.includes(s)&&E.splice(E.indexOf(s),1),A.includes(s)&&A.splice(A.indexOf(s),1)),G&&A.forEach(z=>{u[z].swiperLoopMoveDOM=!0,p.prepend(u[z]),u[z].swiperLoopMoveDOM=!1}),V&&E.forEach(z=>{u[z].swiperLoopMoveDOM=!0,p.append(u[z]),u[z].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():P&&(A.length>0&&G||E.length>0&&V)&&c.slides.forEach((z,K)=>{c.grid.updateSlide(K,z,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),e){if(A.length>0&&G){if(typeof t>"u"){const z=c.slidesGrid[_],X=c.slidesGrid[_+H]-z;l?c.setTranslate(c.translate-X):(c.slideTo(_+Math.ceil(H),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-X,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-X))}else if(r){const z=P?A.length/g.grid.rows:A.length;c.slideTo(c.activeIndex+z,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(E.length>0&&V)if(typeof t>"u"){const z=c.slidesGrid[_],X=c.slidesGrid[_-W]-z;l?c.setTranslate(c.translate-X):(c.slideTo(_-W,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-X,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-X))}else{const z=P?E.length/g.grid.rows:E.length;c.slideTo(c.activeIndex-z,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const z={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(K=>{!K.destroyed&&K.params.loop&&K.loopFix({...z,slideTo:K.params.slidesPerView===g.slidesPerView?e:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...z,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?e:!1})}c.emit("loopFix")}function Eve(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Mve={loopCreate:kve,loopFix:Tve,loopDestroy:Eve};function Pve(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ave(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Ove={setGrabCursor:Pve,unsetGrabCursor:Ave};function _ve(t,e=this){function n(r){if(!r||r===hi()||r===pr())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function VP(t,e,n){const r=pr(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function Dve(t){const e=this,n=hi();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){VP(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!Bbe(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(p?_ve(f,c):c.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const g=a.currentX,x=a.currentY;if(!VP(e,r,g))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=x,s.touchStartTime=k0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let v=!0;c.matches(s.focusableElements)&&(v=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&n.activeElement.blur();const b=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Ive(t){const e=hi(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(C=>C.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=k0());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let C;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:p*p+g*g>=25&&(C=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?C>s.touchAngle:90-C>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let x=n.isHorizontal()?p:g,v=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(x=Math.abs(x)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),i.diff=x,x*=s.touchRatio,a&&(x=-x,v=-v);const b=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const w=n.params.loop&&!s.cssMode,S=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(w&&S&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(C)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&w&&S&&Math.abs(x)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let j=!0,M=s.resistanceRatio;if(s.touchReleaseOnEdges&&(M=0),x>0?(w&&S&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+x)**M))):x<0&&(w&&S&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-x)**M))),j&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Lve(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(C=>C.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=k0(),p=f-n.touchStartTime;if(e.allowClick){const C=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(C&&C[0]||r.target,C),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=k0(),k7(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(a.followFinger?g=c?e.translate:-e.translate:g=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const x=g>=-e.maxTranslate()&&!e.params.loop;let v=0,b=e.slidesSizesGrid[0];for(let C=0;C<u.length;C+=C<a.slidesPerGroupSkip?1:a.slidesPerGroup){const P=C<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[C+P]<"u"?(x||g>=u[C]&&g<u[C+P])&&(v=C,b=u[C+P]-u[C]):(x||g>=u[C])&&(v=C,b=u[u.length-1]-u[u.length-2])}let w=null,S=null;a.rewind&&(e.isBeginning?S=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const j=(g-u[v])/b,M=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(j>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?w:v+M):e.slideTo(v)),e.swipeDirection==="prev"&&(j>1-a.longSwipesRatio?e.slideTo(v+M):S!==null&&j<0&&Math.abs(j)>a.longSwipesRatio?e.slideTo(S):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+M):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:v+M),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:v))}}function zP(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function Rve(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Fve(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Vve(t){const e=this;ng(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function zve(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const _7=(t,e)=>{const n=hi(),{params:r,el:s,wrapperEl:i,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",zP,!0):t[u]("observerUpdate",zP,!0),s[c]("load",t.onLoad,{capture:!0}))};function $ve(){const t=this,{params:e}=t;t.onTouchStart=Dve.bind(t),t.onTouchMove=Ive.bind(t),t.onTouchEnd=Lve.bind(t),t.onDocumentTouchStart=zve.bind(t),e.cssMode&&(t.onScroll=Fve.bind(t)),t.onClick=Rve.bind(t),t.onLoad=Vve.bind(t),_7(t,"on")}function Bve(){_7(this,"off")}var Hve={attachEvents:$ve,detachEvents:Bve};const $P=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Uve(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=hi(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),u=t.getBreakpoint(i,l,c);if(!u||t.currentBreakpoint===u)return;const f=(u in i?i[u]:void 0)||t.originalParams,p=$P(t,r),g=$P(t,f),x=t.params.grabCursor,v=f.grabCursor,b=r.enabled;p&&!g?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(s.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!v?t.unsetGrabCursor():!x&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof f[P]>"u")return;const A=r[P]&&r[P].enabled,E=f[P]&&f[P].enabled;A&&!E&&t[P].disable(),!A&&E&&t[P].enable()});const w=f.direction&&f.direction!==r.direction,S=r.loop&&(f.slidesPerView!==r.slidesPerView||w),j=r.loop;w&&n&&t.changeDirection(),Hr(t.params,f);const M=t.params.enabled,C=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!M?t.disable():!b&&M&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",f),n&&(S?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!j&&C?(t.loopCreate(e),t.updateSlides()):j&&!C&&t.loopDestroy()),t.emit("breakpoint",f)}function Wve(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=pr(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var qve={setBreakpoint:Uve,getBreakpoint:Wve};function Kve(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function Gve(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=Kve(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function Yve(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Xve={addClasses:Gve,removeClasses:Yve};function Qve(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Jve={checkOverflow:Qve},Pw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Zve(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Hr(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Hr(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Hr(e,r)}}const p1={eventsEmitter:Xbe,update:ove,translate:fve,transition:xve,slide:Cve,loop:Mve,grabCursor:Ove,events:Hve,breakpoints:qve,checkOverflow:Jve,classes:Xve},g1={};let Aj=class zi{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Hr({},r),n&&!r.el&&(r.el=n);const s=hi();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const c=[];return s.querySelectorAll(r.el).forEach(u=>{const d=Hr({},r,{el:u});c.push(new zi(d))}),c}const i=this;i.__swiper__=!0,i.support=M7(),i.device=P7({userAgent:r.userAgent}),i.browser=A7(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(c=>{c({params:r,swiper:i,extendParams:Zve(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Hr({},Pw,a);return i.params=Hr({},l,g1,r),i.originalParams=Hr({},i.params),i.passedParams=Hr({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(c=>{i.on(c,i.params.on[c])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=ai(n,`.${r.slideClass}, swiper-slide`),i=M0(s[0]);return M0(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ai(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[u]?Math.ceil(i[u].swiperSlideSize):0,p;for(let g=u+1;g<i.length;g+=1)i[g]&&!p&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>c&&(p=!0));for(let g=u-1;g>=0;g-=1)i[g]&&!p&&(f+=i[g].swiperSlideSize,d+=1,f>c&&(p=!0))}else if(e==="current")for(let f=u+1;f<i.length;f+=1)(n?a[f]+l[f]-a[u]<c:a[f]-a[u]<c)&&(d+=1);else for(let f=u-1;f>=0;f-=1)a[u]-a[f]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&ng(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):ai(r,s())[0];return!a&&n.params.createElements&&(a=E0("div",n.params.wrapperClass),r.append(a),ai(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Qa(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Qa(r,"direction")==="rtl"),wrongRTL:Qa(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?ng(n,i):i.addEventListener("load",a=>{ng(n,a.target)})}),Mw(n),n.initialized=!0,Mw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Rbe(r)),r.destroyed=!0),null}static extendDefaults(e){Hr(g1,e)}static get extendedDefaults(){return g1}static get defaults(){return Pw}static installModule(e){zi.prototype.__modules__||(zi.prototype.__modules__=[]);const n=zi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>zi.installModule(n)),zi):(zi.installModule(e),zi)}};Object.keys(p1).forEach(t=>{Object.keys(p1[t]).forEach(e=>{Aj.prototype[e]=p1[t][e]})});Aj.use([Gbe,Ybe]);const D7=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function zl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Jc(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:zl(e[r])&&zl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Jc(t[r],e[r]):t[r]=e[r]})}function I7(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function L7(t={}){return t.pagination&&typeof t.pagination.el>"u"}function R7(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function F7(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function e1e(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function t1e({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:a,paginationEl:l}){const c=r.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:p,virtual:g,thumbs:x}=t;let v,b,w,S,j,M,C,P;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(w=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(S=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(j=!0);const A=E=>{t[E]&&(t[E].destroy(),E==="navigation"?(t.isElement&&(t[E].prevEl.remove(),t[E].nextEl.remove()),u[E].prevEl=void 0,u[E].nextEl=void 0,t[E].prevEl=void 0,t[E].nextEl=void 0):(t.isElement&&t[E].el.remove(),u[E].el=void 0,t[E].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?M=!0:!u.loop&&n.loop?C=!0:P=!0),c.forEach(E=>{if(zl(u[E])&&zl(n[E]))Object.assign(u[E],n[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in n[E]&&!n[E].enabled&&A(E);else{const D=n[E];(D===!0||D===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?D===!1&&A(E):u[E]=n[E]}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&g&&u.virtual.enabled?(g.slides=e,g.update(!0)):r.includes("virtual")&&g&&u.virtual.enabled&&(e&&(g.slides=e),g.update(!0)),r.includes("children")&&e&&u.loop&&(P=!0),v&&x.init()&&x.update(!0),b&&(t.controller.control=u.controller.control),w&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),S&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),j&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Qh(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Qh(i,t.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(M||P)&&t.loopDestroy(),(C||P)&&t.loopCreate(),t.update()}function n1e(t={},e=!0){const n={on:{}},r={},s={};Jc(n,Pw),n._emitClasses=!0,n.init=!1;const i={},a=D7.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?zl(t[c])?(n[c]={},s[c]={},Jc(n[c],t[c]),Jc(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function r1e({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},a){I7(a)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),L7(a)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),R7(a)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}function s1e(t,e,n,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return D7.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(zl(t[c])&&zl(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}),d.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}))}else t[c]!==e[c]&&a(c)}),i}const i1e=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(this,arguments)}function V7(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function z7(t){const e=[];return ve.Children.toArray(t).forEach(n=>{V7(n)?e.push(n):n.props&&n.props.children&&z7(n.props.children).forEach(r=>e.push(r))}),e}function a1e(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ve.Children.toArray(t).forEach(r=>{if(V7(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=z7(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function o1e(t,e,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,f)=>ve.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function mh(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const BP=T.createContext(null),l1e=T.createContext(null),Ox=T.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...i}={},a)=>{let l=!1;const[c,u]=T.useState("swiper"),[d,f]=T.useState(null),[p,g]=T.useState(!1),x=T.useRef(!1),v=T.useRef(null),b=T.useRef(null),w=T.useRef(null),S=T.useRef(null),j=T.useRef(null),M=T.useRef(null),C=T.useRef(null),P=T.useRef(null),{params:A,passedParams:E,rest:D,events:L}=n1e(i),{slides:_,slots:V}=a1e(r),G=()=>{g(!p)};Object.assign(A.on,{_containerClasses(z,K){u(K)}});const H=()=>{Object.assign(A.on,L),l=!0;const z={...A};if(delete z.wrapperClass,b.current=new Aj(z),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=_;const K={cache:!1,slides:_,renderExternal:f,renderExternalUpdate:!1};Jc(b.current.params.virtual,K),Jc(b.current.originalParams.virtual,K)}};v.current||H(),b.current&&b.current.on("_beforeBreakpoint",G);const W=()=>{l||!L||!b.current||Object.keys(L).forEach(z=>{b.current.on(z,L[z])})},R=()=>{!L||!b.current||Object.keys(L).forEach(z=>{b.current.off(z,L[z])})};T.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",G)}),T.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),mh(()=>{if(a&&(a.current=v.current),!!v.current)return b.current.destroyed&&H(),r1e({el:v.current,nextEl:j.current,prevEl:M.current,paginationEl:C.current,scrollbarEl:P.current,swiper:b.current},A),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),mh(()=>{W();const z=s1e(E,w.current,_,S.current,K=>K.key);return w.current=E,S.current=_,z.length&&b.current&&!b.current.destroyed&&t1e({swiper:b.current,slides:_,passedParams:E,changedParams:z,nextEl:j.current,prevEl:M.current,scrollbarEl:P.current,paginationEl:C.current}),()=>{R()}}),mh(()=>{i1e(b.current)},[d]);function $(){return A.virtual?o1e(b.current,_,d):_.map((z,K)=>ve.cloneElement(z,{swiper:b.current,swiperSlideIndex:K}))}return ve.createElement(e,P0({ref:v,className:F7(`${c}${t?` ${t}`:""}`)},D),ve.createElement(l1e.Provider,{value:b.current},V["container-start"],ve.createElement(n,{className:e1e(A.wrapperClass)},V["wrapper-start"],$(),V["wrapper-end"]),I7(A)&&ve.createElement(ve.Fragment,null,ve.createElement("div",{ref:M,className:"swiper-button-prev"}),ve.createElement("div",{ref:j,className:"swiper-button-next"})),R7(A)&&ve.createElement("div",{ref:P,className:"swiper-scrollbar"}),L7(A)&&ve.createElement("div",{ref:C,className:"swiper-pagination"}),V["container-end"]))});Ox.displayName="Swiper";const io=T.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:i,virtualIndex:a,swiperSlideIndex:l,...c}={},u)=>{const d=T.useRef(null),[f,p]=T.useState("swiper-slide"),[g,x]=T.useState(!1);function v(j,M,C){M===d.current&&p(C)}mh(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),u&&(u.current=d.current),!(!d.current||!r)){if(r.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return r.on("_slideClass",v),()=>{r&&r.off("_slideClass",v)}}}),mh(()=>{r&&d.current&&!r.destroyed&&p(r.getSlideClasses(d.current))},[r]);const b={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},w=()=>typeof e=="function"?e(b):e,S=()=>{x(!0)};return ve.createElement(t,P0({ref:d,className:F7(`${f}${n?` ${n}`:""}`),"data-swiper-slide-index":a,onLoad:S},c),s&&ve.createElement(BP.Provider,{value:b},ve.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},w(),i&&!g&&ve.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&ve.createElement(BP.Provider,{value:b},w(),i&&!g&&ve.createElement("div",{className:"swiper-lazy-preloader"})))});io.displayName="SwiperSlide";function $7(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=ai(t.el,`.${r[s]}`)[0];i||(i=E0("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}const c1e='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Oj({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(g){let x;return g&&typeof g=="string"&&t.isElement&&(x=t.el.querySelector(g)||t.hostEl.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),t.params.uniqueNavElements&&typeof g=="string"&&x&&x.length>1&&t.el.querySelectorAll(g).length===1?x=t.el.querySelector(g):x&&x.length===1&&(x=x[0])),g&&!x?g:x)}function i(g,x){const v=t.params.navigation;g=jn(g),g.forEach(b=>{b&&(b.classList[x?"add":"remove"](...v.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=x),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:g,prevEl:x}=t.navigation;if(t.params.loop){i(x,!1),i(g,!1);return}i(x,t.isBeginning&&!t.params.rewind),i(g,t.isEnd&&!t.params.rewind)}function l(g){g.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(g){g.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const g=t.params.navigation;if(t.params.navigation=$7(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=s(g.nextEl),v=s(g.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:v}),x=jn(x),v=jn(v);const b=(w,S)=>{if(w){if(g.addIcons&&w.matches(".swiper-button-next,.swiper-button-prev")&&!w.querySelector("svg")){const j=document.createElement("div");Qh(j,c1e),w.appendChild(j.querySelector("svg")),j.remove()}w.addEventListener("click",S==="next"?c:l)}!t.enabled&&w&&w.classList.add(...g.lockClass.split(" "))};x.forEach(w=>b(w,"next")),v.forEach(w=>b(w,"prev"))}function d(){let{nextEl:g,prevEl:x}=t.navigation;g=jn(g),x=jn(x);const v=(b,w)=>{b.removeEventListener("click",w==="next"?c:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};g.forEach(b=>v(b,"next")),x.forEach(b=>v(b,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?p():(u(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:g,prevEl:x}=t.navigation;if(g=jn(g),x=jn(x),t.enabled){a();return}[...g,...x].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),n("click",(g,x)=>{let{nextEl:v,prevEl:b}=t.navigation;v=jn(v),b=jn(b);const w=x.target;let S=b.includes(w)||v.includes(w);if(t.isElement&&!S){const j=x.path||x.composedPath&&x.composedPath();j&&(S=j.find(M=>v.includes(M)||b.includes(M)))}if(t.params.navigation.hideOnClick&&!S){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===w||t.pagination.el.contains(w)))return;let j;v.length?j=v[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(j=b[0].classList.contains(t.params.navigation.hiddenClass)),r(j===!0?"navigationShow":"navigationHide"),[...v,...b].filter(M=>!!M).forEach(M=>M.classList.toggle(t.params.navigation.hiddenClass))}});const f=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:f,disable:p,update:a,init:u,destroy:d})}function Ad(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function _j({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let i,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(w,S){const{bulletActiveClass:j}=t.params.pagination;w&&(w=w[`${S==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${j}-${S}`),w=w[`${S==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${j}-${S}-${S}`)))}function u(w,S,j){if(w=w%j,S=S%j,S===w+1)return"next";if(S===w-1)return"previous"}function d(w){const S=w.target.closest(Ad(t.params.pagination.bulletClass));if(!S)return;w.preventDefault();const j=M0(S)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===j)return;const M=u(t.realIndex,j,t.slides.length);M==="next"?t.slideNext():M==="previous"?t.slidePrev():t.slideToLoop(j)}else t.slideTo(j)}function f(){const w=t.rtl,S=t.params.pagination;if(l())return;let j=t.pagination.el;j=jn(j);let M,C;const P=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,A=t.params.loop?Math.ceil(P/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(C=t.previousRealIndex||0,M=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(M=t.snapIndex,C=t.previousSnapIndex):(C=t.previousIndex||0,M=t.activeIndex||0),S.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const E=t.pagination.bullets;let D,L,_;if(S.dynamicBullets&&(i=Ew(E[0],t.isHorizontal()?"width":"height"),j.forEach(V=>{V.style[t.isHorizontal()?"width":"height"]=`${i*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&C!==void 0&&(a+=M-(C||0),a>S.dynamicMainBullets-1?a=S.dynamicMainBullets-1:a<0&&(a=0)),D=Math.max(M-a,0),L=D+(Math.min(E.length,S.dynamicMainBullets)-1),_=(L+D)/2),E.forEach(V=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(H=>`${S.bulletActiveClass}${H}`)].map(H=>typeof H=="string"&&H.includes(" ")?H.split(" "):H).flat();V.classList.remove(...G)}),j.length>1)E.forEach(V=>{const G=M0(V);G===M?V.classList.add(...S.bulletActiveClass.split(" ")):t.isElement&&V.setAttribute("part","bullet"),S.dynamicBullets&&(G>=D&&G<=L&&V.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),G===D&&c(V,"prev"),G===L&&c(V,"next"))});else{const V=E[M];if(V&&V.classList.add(...S.bulletActiveClass.split(" ")),t.isElement&&E.forEach((G,H)=>{G.setAttribute("part",H===M?"bullet-active":"bullet")}),S.dynamicBullets){const G=E[D],H=E[L];for(let W=D;W<=L;W+=1)E[W]&&E[W].classList.add(...`${S.bulletActiveClass}-main`.split(" "));c(G,"prev"),c(H,"next")}}if(S.dynamicBullets){const V=Math.min(E.length,S.dynamicMainBullets+4),G=(i*V-i)/2-_*i,H=w?"right":"left";E.forEach(W=>{W.style[t.isHorizontal()?H:"top"]=`${G}px`})}}j.forEach((E,D)=>{if(S.type==="fraction"&&(E.querySelectorAll(Ad(S.currentClass)).forEach(L=>{L.textContent=S.formatFractionCurrent(M+1)}),E.querySelectorAll(Ad(S.totalClass)).forEach(L=>{L.textContent=S.formatFractionTotal(A)})),S.type==="progressbar"){let L;S.progressbarOpposite?L=t.isHorizontal()?"vertical":"horizontal":L=t.isHorizontal()?"horizontal":"vertical";const _=(M+1)/A;let V=1,G=1;L==="horizontal"?V=_:G=_,E.querySelectorAll(Ad(S.progressbarFillClass)).forEach(H=>{H.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${G})`,H.style.transitionDuration=`${t.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(Qh(E,S.renderCustom(t,M+1,A)),D===0&&r("paginationRender",E)):(D===0&&r("paginationRender",E),r("paginationUpdate",E)),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](S.lockClass)})}function p(){const w=t.params.pagination;if(l())return;const S=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let j=t.pagination.el;j=jn(j);let M="";if(w.type==="bullets"){let C=t.params.loop?Math.ceil(S/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&C>S&&(C=S);for(let P=0;P<C;P+=1)w.renderBullet?M+=w.renderBullet.call(t,P,w.bulletClass):M+=`<${w.bulletElement} ${t.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?M=w.renderFraction.call(t,w.currentClass,w.totalClass):M=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?M=w.renderProgressbar.call(t,w.progressbarFillClass):M=`<span class="${w.progressbarFillClass}"></span>`),t.pagination.bullets=[],j.forEach(C=>{w.type!=="custom"&&Qh(C,M||""),w.type==="bullets"&&t.pagination.bullets.push(...C.querySelectorAll(Ad(w.bulletClass)))}),w.type!=="custom"&&r("paginationRender",j[0])}function g(){t.params.pagination=$7(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const w=t.params.pagination;if(!w.el)return;let S;typeof w.el=="string"&&t.isElement&&(S=t.el.querySelector(w.el)),!S&&typeof w.el=="string"&&(S=[...document.querySelectorAll(w.el)]),S||(S=w.el),!(!S||S.length===0)&&(t.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...t.el.querySelectorAll(w.el)],S.length>1&&(S=S.find(j=>E7(j,".swiper")[0]===t.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(t.pagination,{el:S}),S=jn(S),S.forEach(j=>{w.type==="bullets"&&w.clickable&&j.classList.add(...(w.clickableClass||"").split(" ")),j.classList.add(w.modifierClass+w.type),j.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(j.classList.add(`${w.modifierClass}${w.type}-dynamic`),a=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&j.classList.add(w.progressbarOppositeClass),w.clickable&&j.addEventListener("click",d),t.enabled||j.classList.add(w.lockClass)}))}function x(){const w=t.params.pagination;if(l())return;let S=t.pagination.el;S&&(S=jn(S),S.forEach(j=>{j.classList.remove(w.hiddenClass),j.classList.remove(w.modifierClass+w.type),j.classList.remove(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(j.classList.remove(...(w.clickableClass||"").split(" ")),j.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(j=>j.classList.remove(...w.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const w=t.params.pagination;let{el:S}=t.pagination;S=jn(S),S.forEach(j=>{j.classList.remove(w.horizontalClass,w.verticalClass),j.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?b():(g(),p(),f())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&f()}),n("snapIndexChange",()=>{f()}),n("snapGridLengthChange",()=>{p(),f()}),n("destroy",()=>{x()}),n("enable disable",()=>{let{el:w}=t.pagination;w&&(w=jn(w),w.forEach(S=>S.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{f()}),n("click",(w,S)=>{const j=S.target,M=jn(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&M&&M.length>0&&!j.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&j===t.navigation.nextEl||t.navigation.prevEl&&j===t.navigation.prevEl))return;const C=M[0].classList.contains(t.params.pagination.hiddenClass);r(C===!0?"paginationShow":"paginationHide"),M.forEach(P=>P.classList.toggle(t.params.pagination.hiddenClass))}});const v=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=jn(w),w.forEach(S=>S.classList.remove(t.params.pagination.paginationDisabledClass))),g(),p(),f()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=jn(w),w.forEach(S=>S.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:v,disable:b,render:p,update:f,init:g,destroy:x})}function Dj({swiper:t,extendParams:e,on:n,emit:r,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),f,p,g,x,v,b,w;function S($){!t||t.destroyed||!t.wrapperEl||$.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",S),!(w||$.detail&&$.detail.bySwiperTouchMove)&&D())}const j=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?f=!0:f&&(c=u,f=!1);const $=t.autoplay.paused?u:d+c-new Date().getTime();t.autoplay.timeLeft=$,r("autoplayTimeLeft",$,$/l),a=requestAnimationFrame(()=>{j()})},M=()=>{let $;return t.virtual&&t.params.virtual.enabled?$=t.slides.find(K=>K.classList.contains("swiper-slide-active")):$=t.slides[t.activeIndex],$?parseInt($.getAttribute("data-swiper-autoplay"),10):void 0},C=$=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),j();let z=typeof $>"u"?t.params.autoplay.delay:$;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const K=M();!Number.isNaN(K)&&K>0&&typeof $>"u"&&(z=K,l=K,c=K),u=z;const X=t.params.speed,B=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(X,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,X,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(X,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,X,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return z>0?(clearTimeout(i),i=setTimeout(()=>{B()},z)):requestAnimationFrame(()=>{B()}),z},P=()=>{d=new Date().getTime(),t.autoplay.running=!0,C(),r("autoplayStart")},A=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(a),r("autoplayStop")},E=($,z)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),$||(b=!0);const K=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",S):D()};if(t.autoplay.paused=!0,z){v&&(u=t.params.autoplay.delay),v=!1,K();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),K())},D=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),b?(b=!1,C(u)):C(),t.autoplay.paused=!1,r("autoplayResume"))},L=()=>{if(t.destroyed||!t.autoplay.running)return;const $=hi();$.visibilityState==="hidden"&&(b=!0,E(!0)),$.visibilityState==="visible"&&D()},_=$=>{$.pointerType==="mouse"&&(b=!0,w=!0,!(t.animating||t.autoplay.paused)&&E(!0))},V=$=>{$.pointerType==="mouse"&&(w=!1,t.autoplay.paused&&D())},G=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",_),t.el.addEventListener("pointerleave",V))},H=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",_),t.el.removeEventListener("pointerleave",V))},W=()=>{hi().addEventListener("visibilitychange",L)},R=()=>{hi().removeEventListener("visibilitychange",L)};n("init",()=>{t.params.autoplay.enabled&&(G(),W(),P())}),n("destroy",()=>{H(),R(),t.autoplay.running&&A()}),n("_freeModeStaticRelease",()=>{(g||b)&&D()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?A():E(!0,!0)}),n("beforeTransitionStart",($,z,K)=>{t.destroyed||!t.autoplay.running||(K||!t.params.autoplay.disableOnInteraction?E(!0,!0):A())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){A();return}p=!0,g=!1,b=!1,x=setTimeout(()=>{b=!0,g=!0,E(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(i),t.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&t.params.cssMode&&D(),g=!1,p=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:P,stop:A,pause:E,resume:D})}function u1e(){const{data:t=[],isLoading:e}=Fe({queryKey:["listBanner"],queryFn:()=>j7()}),n=()=>o.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 animate-pulse",children:[o.jsx("div",{className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] bg-gray-200"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 md:p-8",children:[o.jsx("div",{className:"h-8 sm:h-9 md:h-10 bg-gray-300 rounded w-full sm:w-3/4 mb-2 sm:mb-3"}),o.jsx("div",{className:"h-6 sm:h-7 bg-gray-300 rounded w-2/3 sm:w-1/2 mb-4 sm:mb-6"}),o.jsx("div",{className:"h-10 sm:h-12 bg-gray-300 rounded-full w-32 sm:w-40"})]})]});return o.jsxs("div",{className:"rounded-xl bg-white shadow-lg overflow-hidden px-2 xs:px-4 sm:px-8 md:px-4 lg:px-0",children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("button",{className:"custom-prev-btn hidden lg:block absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-white/90 hover:bg-pink-500 p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx("svg",{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 text-gray-700 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx(Ox,{modules:[Oj,_j,Dj],spaceBetween:10,slidesPerView:1,slidesPerGroup:1,breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:1,spaceBetween:15},640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:20},1024:{slidesPerView:1,spaceBetween:20}},navigation:{nextEl:".custom-next-btn",prevEl:".custom-prev-btn"},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",renderBullet:function(r,s){return`<span class="${s} !bg-gray-300 hover:!bg-pink-500"></span>`}},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"w-full",children:e?o.jsxs(o.Fragment,{children:[o.jsx(io,{children:o.jsx(n,{})}),o.jsx(io,{children:o.jsx(n,{})})]}):t.map(r=>o.jsx(io,{children:o.jsxs(Qe,{to:r.link||"/",className:"block relative overflow-hidden group cursor-pointer",children:[o.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] object-cover transition-transform duration-700 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),o.jsx("div",{className:"absolute top-3 xs:top-4 sm:top-6 right-3 xs:right-4 sm:right-6 bg-red-600 text-white px-3 xs:px-4 sm:px-6 py-1 xs:py-2 sm:py-3 rounded-full text-xs xs:text-sm sm:text-base md:text-lg font-bold animate-pulse shadow-lg whitespace-nowrap",children:"NEW"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 xs:p-6 sm:p-8 md:p-10 lg:p-12 text-white",children:[o.jsx("h3",{className:"xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-2 xs:mb-3 leading-tight",children:r.title}),o.jsx("p",{className:"text-lg xs:text-base sm:text-lg md:text-xl text-white/90 mb-4 xs:mb-6 max-w-full sm:max-w-xl md:max-w-2xl line-clamp-2 xs:line-clamp-none",children:r.subTitle}),o.jsxs("button",{className:"bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 xs:py-3 sm:py-4 px-6 xs:px-8 sm:px-10 rounded-full text-[1.4rem] md:text-[1.6rem] inline-flex items-center gap-2 xs:gap-3 transition-all transform hover:scale-105 shadow-lg",children:["Mua ngay",o.jsx(F,{icon:r_,className:"text-xs xs:text-sm sm:text-base"})]})]})]})},r.id))}),o.jsx("button",{className:"custom-next-btn hidden lg:block absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-white/90 hover:bg-pink-500 p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx("svg",{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 text-gray-700 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),o.jsx("div",{className:"swiper-pagination mt-2 xs:mt-3 sm:mt-4 flex justify-center"})]})}function Ij({showAddCart:t,setShowAddCart:e}){const[n,r]=T.useState(null),[s,i]=T.useState(null),[a,l]=T.useState(null),[c,u]=T.useState(1),[d,f]=T.useState(null),{addToCart:p,isLoading:g,notify:x,setNotify:v}=Ax(),b=()=>(t.data&&t.data.variants.find(D=>D.variantColor.id===a?.id&&D.variantSize.id===s?.id))?.inventory??0;T.useEffect(()=>{const E=b();if(!a||!s){u(1);return}u(D=>D>E?E>0?E:1:D)},[a,s]);const w=a&&s,S=t.data&&t.data?.variants?.reduce((E,D)=>E+D.inventory,0)||0,j=b(),M=T.useMemo(()=>{const E=new Map;return t.data&&t.data.variants.forEach(D=>E.set(D.variantColor.id,D.variantColor)),[...E.values()]},[t.data]),C=T.useMemo(()=>{const E=new Map;return t.data&&t.data.variants.forEach(D=>E.set(D.variantSize.id,D.variantSize)),[...E.values()]},[t.data]),P=()=>{const E=t.data&&t.data.category.categoryName?.toUpperCase()||"";return E.includes("giy")||E.includes("dp")?iN:oN},A=async()=>{if(f(null),!a||!s){f("Vui lng chn thuc tnh sn phm!");return}const E=t.data?.variants.find(L=>L.variantColor.id===a.id&&L.variantSize.id===s.id)?.id;c<=0&&f("S lng sn phm t nht l 1!"),p([{variantId:E,quantity:c}])};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t.open,className:`relative \r
          w-[92vw] max-w-[90%] sm:max-w-[80%] md:max-w-[70%] lg:max-w-[55%]\r
          min-h-[30vh] max-h-[90vh] sm:max-h-[85vh] md:max-h-[80vh]\r
          bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-y-auto\r
          px-4 py-5 sm:px-6 sm:py-6 md:p-8 lg:p-10`,children:[o.jsx("button",{className:`absolute top-2 right-2 sm:top-3 sm:right-3 \r
            w-9 h-9 sm:w-10 sm:h-10 rounded-full \r
            flex items-center justify-center bg-gray-800 \r
            cursor-pointer hover:scale-110 transition-transform z-10`,onClick:()=>e({open:!1,data:null}),children:o.jsx(F,{icon:Hn,className:"text-white text-xl sm:text-2xl"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8 lg:gap-10",children:[o.jsxs("div",{className:"w-full md:w-[38%] lg:w-[40%] flex-shrink-0",children:[o.jsx("div",{className:"aspect-square w-full max-w-[380px] mx-auto md:mx-0",children:o.jsx("img",{src:n||t.data?.mainImage,alt:"mainImage",className:"w-full h-full rounded-xl object-cover shadow-sm"})}),o.jsx("div",{className:"mt-4 grid grid-cols-4 sm:grid-cols-5 gap-2 sm:gap-3 overflow-x-auto pb-2 scrollbar-thin",children:t.data?.listImageProduct.map(E=>o.jsx("div",{className:"cursor-pointer flex-shrink-0 w-20 sm:w-24 aspect-square",onClick:()=>r(E.imageUrl),children:o.jsx("img",{src:E.imageUrl,alt:`thumb-${t.data?.productName}`,className:`w-full h-full rounded-lg object-cover border-2 transition-all ${n===E.imageUrl?"border-blue-500 shadow-md":"border-transparent hover:border-gray-300"}`})},E.id))})]}),o.jsxs("div",{className:"flex-1 space-y-4 sm:space-y-5",children:[o.jsx("h2",{className:"text-[1.8rem] font-bold text-gray-800 line-clamp-2",children:t.data?.productName}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-gray-600 text-[1.4rem]",children:[o.jsxs("span",{children:["M sn phm: ",o.jsx("strong",{children:t.data?.id})]}),o.jsx("span",{className:"hidden sm:inline-block border-l border-gray-400 h-5"}),o.jsxs("span",{children:["Tnh trng:"," ",o.jsx("strong",{children:t.data?.variants.some(E=>E.inventory>0)?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Gi:"}),o.jsx("span",{className:"text-red-500 font-bold text-[1.6rem] sm:text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(t.data?.price))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2",children:"Chn mu:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:M.map(E=>o.jsxs("button",{className:`flex items-center gap-2 px-3 sm:px-4 py-2 border rounded-lg text-[1.4rem] transition-all ${a?.id===E.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300"}`,onClick:()=>l(E),onFocus:()=>f(null),children:[o.jsx(F,{icon:P(),className:"p-1 rounded bg-gray-100",style:{color:E.hexCode}}),o.jsx("span",{className:"text-gray-700",children:E.name})]},E.id))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2 mt-5 sm:mt-6",children:"Chn size:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:C?.map(E=>{const D=a&&t.data?.variants.some(L=>L.variantColor.id===a.id&&L.variantSize.id===E.id);return o.jsx("button",{className:`px-5 sm:px-6 py-2 border rounded-lg text-[1.4rem] transition-all ${D?s?.id===E.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300":"border-gray-200 text-gray-300 cursor-not-allowed"}`,disabled:!D,onClick:()=>i(E),onFocus:()=>f(null),children:E.name},E.id)})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 mt-6 sm:mt-8",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(E=>Math.max(1,E-1)),children:o.jsx(F,{icon:Ml,className:"text-base"})}),o.jsx("input",{type:"number",value:c,min:1,disabled:!w,onChange:E=>{const D=Number(E.target.value);isNaN(D)||u(D)},className:`w-20 sm:w-24 h-10 sm:h-11 text-center text-[1.4rem] border rounded-lg outline-none ${w?"border-gray-300 focus:border-blue-400":"bg-gray-100 text-gray-500 cursor-not-allowed"}`}),o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(E=>Math.min(j,E+1)),children:o.jsx(F,{icon:aa,className:"text-base"})})]}),o.jsx("span",{className:"text-[1.2rem] text-gray-600 font-medium uppercase",children:w?`Cn ${j} sn phm`:S>0?"Cn hng":"Ht hng"})]}),d&&o.jsx("p",{className:"text-red-500 text-[1.5rem] mt-4",children:d})]})]}),o.jsxs("div",{className:"flex flex-row items-center justify-end gap-3 sm:gap-4 mt-6 sm:mt-8",children:[o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition duration-300 text-[1.4rem]",onClick:()=>e({open:!1,data:null}),disabled:g,children:"Hy"}),o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-300 text-[1.4rem] font-medium",onClick:A,disabled:g||!w,children:g?"ang x l...":"Thm vo gi"})]})]}),o.jsx(Pu,{showNotify:x.show,content:x.content,duration:1e3,onClose:()=>v({show:!1,content:""})})]})}function d1e(){const t=rt(),[e]=T.useState({limit:10,page:1}),[n,r]=T.useState({open:!1,data:null}),{data:s,isLoading:i}=Fe({queryKey:["populars",e],queryFn:()=>Gee(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-blue-500",children:"Sn phm ni bt"}),o.jsxs(Qe,{to:"/products?q=popular",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(F,{icon:kn})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"feature-prev-btn absolute top-1/2 left-2 md:left-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx(Ox,{modules:[Oj,_j,Dj],spaceBetween:10,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".popular-next",prevEl:".popular-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:4,slidesPerGroup:4},1024:{slidesPerView:4,slidesPerGroup:4},1280:{slidesPerView:5,slidesPerGroup:5}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(io,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(io,{className:"group bg-white rounded-xl p-4 shadow hover:shadow-lg cursor-pointer relative overflow-hidden",children:[o.jsxs(Qe,{to:`/product-detail/${l.slug}`,className:"block relative w-full h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-xl",children:[o.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-full bg-red-500 px-3 py-1 text-white text-sm font-semibold",children:"Hot"}),o.jsx("div",{className:"relative h-[14rem] md:-[18rem] lg:h-[22rem] md:h-full overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform rounded-xl"})}),o.jsx("div",{className:"hidden xl:block absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"hidden xl:flex absolute w-full h-[4rem] bottom-[.5rem] right-[50%] translate-x-[50%] gap-[1rem] items-center justify-center rounded-xl translate-y-[4.5rem] group-hover:translate-y-0 transition duration-300",children:[o.jsxs("button",{className:"w-[10rem] h-[3.4rem] bg-white hover:bg-gray-200 rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ia,className:"text-[1.6rem] text-gray-600"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thm"})]}),o.jsx("button",{className:"w-[4rem] h-[3.4rem] flex items-center justify-center bg-green-500 hover:bg-green-600 rounded-md cursor-pointer transition duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:o.jsx(F,{icon:ws,className:"text-[2rem] text-white"})})]})]}),o.jsxs("div",{className:"mt-4 px-2 text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex items-center xl:hidden gap-x-4 justify-end mt-2.5",children:[o.jsx("button",{className:"hidden md:block text-blue-600 hover:text-blue-700 text-[1.2rem] mdtext-[1.4rem]",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"}),o.jsxs("button",{className:"w-[8rem] md:w-[10rem] h-[3rem] md:h-[3.4rem] text-[1.2rem] mdtext-[1.4rem] bg-red-500 hover:bg-red-600 text-white rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ia}),o.jsx("span",{children:"Thm"})]})]})]},l.id))}),o.jsx("button",{className:"feature-next-btn absolute top-1/2 right-2 md:right-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsx(Ij,{showAddCart:n,setShowAddCart:r})]})}function h1e(){const t=rt(),[e]=T.useState({limit:10,page:1}),[n,r]=T.useState({open:!1,data:null}),{data:s,isLoading:i}=Fe({queryKey:["bestsell",e],queryFn:()=>Yee(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-blue-500",children:"Sn phm ban chay"}),o.jsxs(Qe,{to:"/products?q=best_seller",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(F,{icon:kn})]})]}),o.jsxs("div",{className:"relative ",children:[o.jsx("button",{className:"feature-prev-btn absolute top-1/2 left-2 md:left-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx(Ox,{modules:[Oj,_j,Dj],spaceBetween:10,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".bestsell-next",prevEl:".bestsell-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4},1280:{slidesPerView:5,slidesPerGroup:5}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(io,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(io,{className:"group bg-white rounded-xl p-4 shadow hover:shadow-lg cursor-pointer relative overflow-hidden",children:[o.jsxs(Qe,{to:`/product-detail/${l.slug}`,className:"block relative w-full h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-xl",children:[o.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-full bg-red-500 px-3 py-1 text-white text-sm font-semibold",children:"Hot"}),o.jsx("div",{className:"relative h-[14rem] md:-[18rem] lg:h-[22rem] md:h-full overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform rounded-xl"})}),o.jsx("div",{className:"hidden xl:block absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"hidden xl:flex absolute w-full h-[4rem] bottom-[.5rem] right-[50%] translate-x-[50%] gap-[1rem] items-center justify-center rounded-xl translate-y-[4.5rem] group-hover:translate-y-0 transition duration-300",children:[o.jsxs("button",{className:"w-[10rem] h-[3.4rem] bg-white hover:bg-gray-200 rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ia,className:"text-[1.6rem] text-gray-600"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thm"})]}),o.jsx("button",{className:"w-[4rem] h-[3.4rem] flex items-center justify-center bg-green-500 hover:bg-green-600 rounded-md cursor-pointer transition duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:o.jsx(F,{icon:ws,className:"text-[2rem] text-white"})})]})]}),o.jsxs("div",{className:"mt-4 px-2 text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex items-center xl:hidden gap-x-4 justify-end mt-2.5",children:[o.jsx("button",{className:"hidden md:block text-blue-600 hover:text-blue-700 text-[1.2rem] mdtext-[1.4rem]",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"}),o.jsxs("button",{className:"w-[8rem] md:w-[10rem] h-[3rem] md:h-[3.4rem] text-[1.2rem] mdtext-[1.4rem] bg-red-500 hover:bg-red-600 text-white rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ia}),o.jsx("span",{children:"Thm"})]})]})]},l.id))}),o.jsx("button",{className:"feature-next-btn absolute top-1/2 right-2 md:right-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsx(Ij,{showAddCart:n,setShowAddCart:r})]})}function f1e({open:t,onClose:e}){return o.jsxs(bt,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[1.6rem] pb-4 font-semibold",children:"Bn c chc mun hy FlashSale ny?"}),o.jsxs("div",{className:"pt-8 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"Khng"}),o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>{},children:"Hy"})]})]})}const m1e={[le.flashSaleStatus.ACTIVE]:"ang din ra",[le.flashSaleStatus.SCHEDULE]:"Sp din ra",[le.flashSaleStatus.ENDED]:" kt thc",[le.flashSaleStatus.CANCELLED]:" hy"},Lj=t=>{const e={ACTIVE:"bg-green-100 text-green-700",SCHEDULE:"bg-blue-100 text-blue-700",ENDED:"bg-gray-100 ",CANCELLED:"bg-red-100 text-red-700"},n={ACTIVE:"ang din ra",SCHEDULE:"Sp din ra",ENDED:" kt thc",CANCELLED:" hy"};return o.jsx("span",{className:`px-5 py-2 rounded-full text-[1.4rem] font-medium ${e[t]}`,children:n[t]})};function p1e(){const t=rt(),[e,n]=T.useState({limit:20,page:1,name:"",status:""}),[r,s]=T.useState(e),[i,a]=T.useState(null),{data:l,isLoading:c}=Fe({queryKey:["flashsales",r],queryFn:()=>N7(e)}),u=l&&l.data||[],d=l&&l?.pagination.totalPages||1,f=()=>{s({...e})};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold",children:"FlashSale"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>t("create"),children:[o.jsx(F,{icon:Nu}),"To Flash Sale"]})})]}),o.jsx("div",{className:"mt-[2rem] flex justify-between items-center gap-4",children:o.jsxs("div",{className:"flex gap-4 items-center flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-[40rem]",children:[o.jsx(F,{icon:Dr,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-[1.4rem]"}),o.jsx("input",{type:"text",placeholder:"Tm kim flash sale...",value:e.name,onChange:p=>n(g=>({...g,name:p.target.value})),className:"w-full pl-12 pr-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500"})]}),o.jsxs("select",{value:e.status,onChange:p=>n(g=>({...g,status:p.target.value})),className:"px-6 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"Tt c"}),Object.entries(le.flashSaleStatus).map(([p,g])=>o.jsx("option",{value:g,children:m1e[g]},g))]}),o.jsxs("button",{className:"px-6 h-[4rem] rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300 cursor-pointer",onClick:()=>f(),children:[o.jsx(F,{icon:vs}),o.jsx("span",{children:"Loc"})]})]})}),o.jsx("div",{className:"mt-[2rem] overflow-x-auto shadow-md",children:o.jsxs("table",{className:"w-full border border-gray-200",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-gray-200",children:[o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"STT"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Tn chng trnh"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian bt u"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian kt thc"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Gim gi"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Sn phm"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Trng thi"}),o.jsx("th",{className:"text-center py-4 px-4 text-[1.4rem] font-semibold ",children:"Thao tc"})]})}),o.jsx("tbody",{children:c?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"ang ti d liu..."})}):u.length>0?u.map((p,g)=>o.jsxs("tr",{className:" hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:++g}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] font-medium",children:p.name}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:Jr(p.startDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:Jr(p.endDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:o.jsxs("span",{className:"text-red-500 ",children:[p.discount,"%"]})}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:p?.flashSaleProduct?.length}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] ",children:Lj(p.status)}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{className:"px-3 py-1 bg-green-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`detail/${p.id}`),children:o.jsx(F,{icon:ws,className:"text-[1.4rem]"})}),o.jsx("button",{className:"px-3 py-1 bg-amber-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`edit/${p.id}`),children:o.jsx(F,{icon:zs,className:"text-[1.4rem]"})}),o.jsx("button",{className:"text-[1.4rem] px-3 py-1 bg-red-500 hover:bg-red-600 cursor-pointer text-white rounded-lg transition-colors duration-300",onClick:()=>a(p.id),children:"Hy"})]})})]},p.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"Khng tm thy flash sale no"})})})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.max(p.page-1,1)})),disabled:e.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:d},(p,g)=>g+1).filter(p=>Math.abs(p-e.page)<=2).map(p=>o.jsx("button",{onClick:()=>n(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${e.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.min(p.page+1,d)})),disabled:e.page===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]}),i&&o.jsx(f1e,{open:!!i,onClose:()=>a(null)})]})}const g1e=()=>{const[t]=T.useState({limit:4,page:1,name:"",status:""}),{data:e,isLoading:n}=Fe({queryKey:["flashsales",t],queryFn:()=>N7(t)}),[r,s]=T.useState({}),i=T.useMemo(()=>e?.data,[e?.data]),a=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c)),l=(c,u)=>Math.round(c/u*100);return T.useEffect(()=>{if(!i||i.length===0)return;const c=()=>{const d={};i.forEach(f=>{d[f.id]=Mj(f.endDate)}),s(d)};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[i]),n?o.jsx("div",{className:"text-center py-10",children:"ang ti flash sale..."}):i.length===0?null:o.jsx("div",{className:"space-y-12 mt-8",children:i?i.map(c=>{const u=r[c.id]||{hours:0,minutes:0,seconds:0},d=c.flashSaleProduct?.slice(0,5)||[],f=Math.floor(u.hours/24);return o.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl py-12 md:py-20 lg:py-25 px-4 md:px-8 lg:px-14 z-0",style:{background:`url(${c.bannerImage})`},children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 z-0"}),o.jsxs("div",{className:"relative p-6 md:p-8 z-100 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-2xl md:text-3xl font-bold text-white",children:[c.name," - Gim ",c.discount,"%"]}),o.jsx("p",{className:"text-yellow-200 mt-3",children:Lj(c.status)})]}),o.jsxs("div",{className:"flex items-center gap-4 text-[1.4rem]",children:[o.jsx("span",{className:"text-white font-medium ",children:"Kt thc sau:"}),o.jsx("div",{className:"flex gap-3",children:u.hours>24?o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px] text-red-600",children:[f," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px]",children:[o.jsx("div",{className:" text-red-600",children:String(u[p]).padStart(2,"0")}),o.jsx("div",{children:p==="hours"?"Gi":p==="minutes"?"Pht":"Giy"})]},g))})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-6",children:d.length>0?d.map(p=>{const g=l(p.sold,p.quantity),x=p.product;return o.jsxs(Qe,{to:`/product-detail/${x.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",c.discount,"%"]}),o.jsx("div",{className:"relative h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:x.mainImage||"https://via.placeholder.com/300",alt:x.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-2 text-[1.4rem] md:text-[1.5rem] lg:text-[1.6rem]",children:x.productName||`Sn phm ${x.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 pb-5",children:[o.jsx("p",{className:"text-red-600 text-[1.2rem] md:text-[1.4rem] font-bold",children:a(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1rem] md:text-[1.2rem]",children:a(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1rem] md:text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"text-red-500",children:[g,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${g}%`}})})]})]})]},x.id)}):o.jsx("p",{className:"text-white text-[1.4rem] md:text-[1.6rem] py-25 text-center",children:"Cha c sn phm trong chng trnh ny"})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(Qe,{to:`/flash-sale/${c.slug}`,className:"inline-block px-10 py-4 bg-white text-red-600 rounded-full text-[1.4rem] md:text-[1.6rem] hover:bg-red-100 transition shadow-lg",children:"Xem tt c sn phm"})})]})]},c.id)}):o.jsx(o.Fragment,{})})};function x1e(){return o.jsxs(o.Fragment,{children:[o.jsx(u1e,{}),o.jsx(g1e,{}),o.jsx(d1e,{}),o.jsx(h1e,{})]})}function y1e(){return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(kj,{}),o.jsx("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:o.jsx(Bl,{})}),o.jsx(Tj,{})]})}function b1e(){const n=sr().pathname.split("/").filter(Boolean).slice(1),[r,s]=T.useState(!1),{data:i,isLoading:a,isError:l,error:c}=Fe({queryKey:["categories-by-slugs",n],queryFn:()=>Yme(n),enabled:n.length>0,retry:2});return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(kj,{}),o.jsxs("div",{className:"flex items-center space-x-2 text-[1.4rem] mt-[20rem] md:mt-[16.5rem] px-[1.5rem] md:px-[15rem] overflow-x-auto pb-2",children:[o.jsxs(Qe,{to:"/",className:"flex items-center space-x-2 text-blue-800 flex-shrink-0",children:[o.jsx("span",{children:"Home"}),o.jsx(F,{icon:kn,className:"text-gray-400 cursor-pointer"})]}),a&&o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:"ang ti..."}),l&&o.jsx("div",{className:"flex-shrink-0 text-red-600",children:c instanceof Error?c.message:"C li xy ra"}),!a&&!l&&i&&n.map((u,d)=>{const p=i[d].categoryName,g="/category/"+n.slice(0,d+1).join("/");return o.jsxs("span",{className:"flex items-center flex-shrink-0",children:[o.jsx(Qe,{to:g,className:"text-blue-800 text-[1.4rem] whitespace-nowrap",children:p}),d<n.length-1&&o.jsx(F,{icon:kn,className:"text-gray-400 mx-2"})]},u)})]}),o.jsx("button",{onClick:()=>s(!0),className:"md:hidden fixed bottom-8 right-4 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-95 transition-transform",children:o.jsx(F,{icon:o_,className:"text-[2rem]"})}),o.jsxs("div",{className:"flex gap-[2rem] px-[1.5rem] md:px-[12rem] mt-[1rem] relative",children:[o.jsxs("div",{className:`
            fixed md:static 
            top-0 left-0 
            h-full md:h-auto
            w-[85%] max-w-[32rem] md:w-auto
            bg-white md:bg-transparent 
            z-50 md:z-auto
            transition-transform duration-300 md:transition-none
            ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}
            overflow-y-auto md:overflow-visible
            shadow-2xl md:shadow-none
          `,children:[o.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[o.jsx("h3",{className:"text-[1.8rem] font-semibold",children:"Danh mc"}),o.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 rounded-full active:scale-95",children:o.jsx(F,{icon:s_,className:"text-[2rem]"})})]}),o.jsx("div",{className:"p-4 md:p-0",children:o.jsx(y7,{})})]}),r&&o.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),o.jsx("div",{className:"flex-1 w-full pb-[10rem] md:pb-0",children:o.jsx(Bl,{})})]}),o.jsx(Tj,{})]})}const B7="/manage-sell-client/assets/no-product-E6KspzCb.png";function x1(){const{slug1:t,slug2:e,slug3:n}=gi(),r=[t,e,n].filter(Boolean),[s,i]=T.useState({page:1,limit:20,price:"asc",sort:"popular"}),a=r[r.length-1],{data:l,isLoading:c}=Fe({queryKey:["product-by-category",r,s],queryFn:()=>Jee(r,s)}),u=l?.data||[],{data:d,isLoading:f}=Fe({queryKey:["childOfCates",a],queryFn:()=>Zee(a)}),p=d&&d.data||[],g=b=>{i(w=>({...w,sort:b}))},x=b=>{i(w=>({...w,price:b}))},v=b=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b);return o.jsxs("div",{className:"w-full h-auto rounded-lg",children:[o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap md:flex-nowrap",children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${s.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>g("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${s.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>g("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${s.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>g("best_seller"),children:"Bn chy"})]}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi:"," ",s.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(F,{icon:wh,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${s.price==="asc"?"text-red-500":""}`,onClick:()=>x("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),s.price==="asc"&&o.jsx(F,{icon:co,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${s.price==="desc"?"text-red-500":""}`,onClick:()=>x("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),s.price==="desc"&&o.jsx(F,{icon:co,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>i(b=>({...b,price:s.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(F,{icon:s.price==="asc"?n_:a_,className:"text-[1rem] font-extralight"})]})]}),f?o.jsxs("div",{className:"w-full h-[15rem] flex flex-col gap-y-[1.5rem] items-center justify-center mt-[2rem]",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.3rem] md:text-[1.5rem] text-gray-600",children:"ang ti danh mc..."})]}):p&&p.length>0?o.jsx("div",{className:"my-[3rem]",children:o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 md:gap-4",children:p.map(b=>o.jsxs(Qe,{to:`/category/${b.slug}`,className:"flex flex-col items-center justify-center p-3 md:p-4 rounded-lg border border-gray-200 bg-white shadow-sm hover:shadow-lg hover:border-red-300 hover:scale-[1.05] transition-all duration-300 cursor-pointer group",children:[o.jsxs("div",{className:"relative mb-2 md:mb-3",children:[o.jsx("div",{className:"absolute inset-0 rounded-full blur-md transition-opacity duration-300"}),o.jsx("img",{src:b.image,alt:b.categoryName,className:"relative w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-full object-cover border-2 border-gray-100"})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800 text-center line-clamp-2 group-hover:text-red-500 transition-colors duration-300",children:b.categoryName})]},b.id))})}):null,c?o.jsxs("div",{className:"w-full h-auto flex flex-col gap-y-[2rem] items-center justify-center mt-25",children:[o.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:"ang ti d liu..."})]}):u.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"md:text-[2rem] mt-[1rem]",children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-4 mt-[2rem]",children:u?.map(b=>o.jsxs(Qe,{to:`/product-detail/${b.slug}`,className:"flex flex-col w-full h-[28rem] md:h-[31rem] border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 hover:scale-[1.02] transition-all duration-300 cursor-pointer",children:[o.jsx("img",{src:b.mainImage,alt:`mainImage-${b.productName}`,className:"w-full h-[16rem] md:h-[20rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-2 text-[1.3rem] md:text-[1.5rem] leading-snug",children:b.productName}),o.jsx("span",{className:"text-red-500 font-semibold text-[1.3rem] md:text-[1.5rem]",children:v(b.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem] mt-auto",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:b.averageRating}),o.jsx(F,{icon:ms,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:b.soldCount})]})]})]})]},b.id))})]}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:B7,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]})]})}function v1e({open:t,onClose:e,data:n,refetch:r}){const[s,i]=T.useState(!1);if(!n)return;const a=async()=>{try{i(!0);const l=await xe.patch(`/api/v1/voucher/toggle/${n?.id}`);l.status&&(i(!1),await r(),de.success(l.message),e())}catch(l){console.log(l),de.error(l.message)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun"," ",n?.status===le.VoucherStatus.ACTIVE?"tt":"kch hot"," voucher ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":n?.status===le.VoucherStatus.ACTIVE?"Tt":"Kch hot"})]})]})}function w1e({open:t,onClose:e,dataDetail:n}){if(!n)return null;const r=u=>new Date(u).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),i=u=>{switch(u){case"ACTIVE":return"bg-green-100 text-green-700";case"INACTIVE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},a=u=>{switch(u){case"ACTIVE":return"ang hot ng";case"INACTIVE":return"Ngng hot ng";default:return u}},l=u=>u==="PERCENT"?"Phn trm":"S tin c nh",c=({icon:u,label:d,value:f})=>o.jsxs("div",{className:"flex items-start gap-[1.5rem] py-[1.2rem] border-b border-gray-100 last:border-b-0",children:[o.jsx("div",{className:"w-[2rem] flex justify-center mt-[0.2rem]",children:o.jsx(F,{icon:u,className:"text-blue-500 text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-[1.2rem] text-gray-500 mb-[0.3rem]",children:d}),o.jsx("p",{className:"text-[1.5rem] text-gray-800 font-medium",children:f})]})]});return o.jsxs(bt,{open:t,className:"relative w-[60rem] max-h-[76vh] hide-scrollbar overflow-y-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>e(),children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsxs("div",{className:"mb-[2rem]",children:[o.jsx("p",{className:"text-[2rem] text-gray-800 font-semibold mb-[0.5rem]",children:"Chi tit voucher"}),o.jsx("p",{className:"text-[1.3rem] text-gray-500",children:"Thng tin y  v voucher khuyn mi"})]}),o.jsx("div",{className:"shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:o.jsxs("div",{className:"flex items-center justify-between mb-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] bg-white rounded-full flex items-center justify-center shadow-sm",children:o.jsx(F,{icon:lN,className:"text-blue-600 text-[2rem]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.8rem] font-bold",children:n.name}),o.jsxs("p",{className:"text-[1.3rem] text-gray-600",children:["M voucher: ",n.voucherCode]})]})]}),o.jsx("span",{className:`px-[1.5rem] py-[0.6rem] rounded-full text-[1.2rem] font-semibold ${i(n.status)}`,children:a(n.status)})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-[2rem] mb-[2rem]",children:[o.jsxs("div",{className:"bg-blue-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(F,{icon:n.type==="PERCENT"?nG:Op,className:"text-blue-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"Gi tr gim"})]}),o.jsx("p",{className:"text-[2.4rem] font-bold text-blue-600",children:n.type==="PERCENT"?`${n.value}%`:s(n.value)}),o.jsx("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:l(n.type)})]}),o.jsxs("div",{className:"bg-purple-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(F,{icon:NG,className:"text-purple-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"S dng"})]}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-purple-600",children:[n.usedCount,"/",n.usageLimit]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:["Cn li: ",n.usageLimit-n.usedCount]})]})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:[o.jsx(c,{icon:Op,label:"Gi tr n hng ti thiu",value:s(n.minOrderValue)}),o.jsx(c,{icon:Op,label:"Gim ti a",value:s(n.maxDiscount)}),o.jsx(c,{icon:_G,label:"Phm vi p dng",value:n.isGlobal?"Ton b h thng":"Gii hn"}),o.jsx(c,{icon:e5,label:"Ngy bt u",value:r(n.startDate)}),o.jsx(c,{icon:e5,label:"Ngy kt thc",value:r(n.endDate)})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[1.5rem] mb-[2rem]",children:[o.jsx("p",{className:"text-gray-500 mb-[0.5rem]",children:"Thi gian to"}),o.jsx("p",{className:"text-gray-700",children:r(n.createdAt)}),o.jsx("p",{className:"text-gray-500 mt-[1rem] mb-[0.5rem]",children:"Cp nht ln cui"}),o.jsx("p",{className:"text-gray-700",children:r(n.updatedAt)})]}),o.jsx("div",{className:"flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"px-[2.5rem] py-[1rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 text-[1.4rem] font-medium transition-colors",onClick:()=>e(),children:"ng"})})]})}function N1e(){const[t,e]=T.useState({open:!1,data:null,action:"create"}),[n,r]=T.useState({open:!1,data:null}),[s,i]=T.useState({name:"",voucherCode:"",status:null}),[a,l]=T.useState({open:!1,dataDetail:null}),{data:c,isLoading:u,refetch:d}=Fe({queryKey:["vouchers",s],queryFn:()=>x7(s)}),f=c?.data||[],{register:p,handleSubmit:g,formState:{errors:x,isSubmitting:v},watch:b,reset:w}=$s(),S=b("type");T.useEffect(()=>{t.data&&t.action==="edit"&&w({id:t.data.id,name:t.data.name,value:t.data.value,type:t.data.type,maxDiscount:t.data.maxDiscount||void 0,minOrderValue:t.data.minOrderValue||void 0,endDate:Jr(t.data.endDate).format("YYYY-MM-DD"),usageLimit:t.data.usageLimit||void 0})},[t,w]);const j=async P=>{try{const A={name:P.name,type:P.type,value:P.value,maxDiscount:P.maxDiscount||0,minOrderValue:P.minOrderValue||0,endDate:new Date(P.endDate).toISOString(),usageLimit:P.usageLimit||0};let E=null;t.action==="create"?E=await xe.post("/api/v1/voucher/createGlobal",A):E=await xe.patch(`/api/v1/voucher/updateGlobal/${P.id}`,A),E.status&&(de.success(E.message),d(),w(),e({open:!1,data:null,action:"create"}))}catch(A){de.error(A?.response?.data?.message||"C li xy ra khi to voucher")}},M=()=>{d()},C=P=>{const{name:A,value:E}=P.target;i(D=>({...D,[A]:E}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Voucher ton cc"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{onClick:()=>e({open:!0,data:null,action:"create"}),className:"text-white text-[1.4rem] flex gap-2 items-center px-6 py-3 bg-blue-500 rounded-lg hover:bg-blue-600",children:[o.jsx(F,{icon:Nu}),"To voucher ton cc"]})})]}),o.jsx("div",{className:"mt-[2rem]",children:t.open?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{w({name:"",value:void 0,type:void 0,maxDiscount:void 0,minOrderValue:void 0,endDate:"",usageLimit:void 0}),e({open:!1,data:null,action:"create"})},className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 mb-6",children:[o.jsx(F,{icon:fi}),"Quay li danh sch"]}),o.jsx("h4",{className:"text-[1.8rem] font-semibold mb-6",children:"To Voucher Ton Cc"}),o.jsxs("form",{onSubmit:g(j),children:[o.jsx("div",{className:"border border-gray-300 rounded-lg p-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Tn voucher *"}),o.jsx("input",{type:"text",...p("name",{required:"Vui lng nhp tn voucher"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: Gim 50k cho n t 300k"}),x.name&&o.jsx("span",{className:"text-red-500 text-sm",children:x.name.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Loi gim gi *"}),o.jsxs("select",{...p("type",{required:"Vui lng chn loi"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",children:[o.jsx("option",{value:"",children:"-- Chn loi --"}),o.jsx("option",{value:le.VoucherType.PERCENT,children:"Gim theo phn trm"}),o.jsx("option",{value:le.VoucherType.FIXED,children:"Gim gi c nh"})]}),x.type&&o.jsx("span",{className:"text-red-500 text-sm",children:x.type.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gi tr gim *"}),o.jsx("input",{type:"number",...p("value",{required:"Vui lng nhp gi tr",min:{value:1,message:"Gi tr phi  1"},max:S===le.VoucherType.PERCENT?{value:100,message:"Ti a 100%"}:void 0}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 focus:border-blue-500 outline-none",placeholder:S===le.VoucherType.PERCENT?"VD: 20":"VD: 50000"}),x.value&&o.jsx("span",{className:"text-red-500 text-sm",children:x.value.message})]}),S===le.VoucherType.PERCENT&&o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gim ti a (VN)"}),o.jsx("input",{type:"number",...p("maxDiscount"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: 100000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"n ti thiu (VN)"}),o.jsx("input",{type:"number",...p("minOrderValue"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Ngy ht hn *"}),o.jsx("input",{type:"date",...p("endDate",{required:"Vui lng chn ngy"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500"}),x.endDate&&o.jsx("span",{className:"text-red-500 text-sm",children:x.endDate.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gii hn s dng (tng)"}),o.jsx("input",{type:"number",...p("usageLimit"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsx("input",{type:"number",hidden:!0,...p("id")})]})}),o.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>{e({open:!1,data:null,action:"create"}),w()},className:"px-8 py-3 bg-gray-200 hover:bg-gray-300 rounded-lg",disabled:v,children:"Hy"}),o.jsx("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg disabled:opacity-50",children:v?"ang x l...":"To voucher ton cc"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[o.jsx("input",{type:"text",name:"name",value:s.name,placeholder:"Tm theo tn voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:C}),o.jsx("input",{type:"text",name:"voucherCode",value:s.voucherCode,placeholder:"Tm theo m voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:C}),o.jsxs("select",{name:"status",value:s.status??"",className:"w-64 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:C,children:[o.jsx("option",{value:"",children:"-- Tt c trng thi --"}),o.jsx("option",{value:le.VoucherStatus.ACTIVE,children:"Hot ng"}),o.jsx("option",{value:le.VoucherStatus.INACTIVE,children:" dng"})]}),o.jsxs("button",{onClick:M,className:"px-8 h-[4rem] rounded-md bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2",children:[o.jsx(F,{icon:vs}),"Lc"]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4",children:"Tn voucher"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Loi gim"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Ht hn"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Hnh ng"})]})}),o.jsx("tbody",{children:u?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8",children:"ang ti..."})}):f.length>0?f.map(P=>o.jsxs("tr",{className:"border-b border-b-gray-300",children:[o.jsx("td",{className:"px-6 py-4",children:P.name}),o.jsx("td",{className:"px-6 py-4",children:P.type===le.VoucherType.PERCENT?"Phn trm":"Gi c nh"}),o.jsx("td",{className:"px-6 py-4",children:Jr(P.endDate).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`px-6 py-1.5 rounded-full ${P.status===le.VoucherStatus.ACTIVE?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:P.status===le.VoucherStatus.ACTIVE?"Hot ng":" dng"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>{r({open:!0,data:P})},className:`px-6 py-1.5 rounded-md ${P.status===le.VoucherStatus.ACTIVE?"bg-gray-200 hover:bg-gray-300":"bg-green-500 text-white hover:bg-green-600"}`,children:P.status===le.VoucherStatus.ACTIVE?"Tt":"Bt"}),o.jsx("button",{className:"px-6 py-1.5 bg-amber-500 text-white rounded-md hover:bg-amber-600",onClick:()=>{e({open:!0,data:P,action:"edit"})},children:"Sa"}),o.jsx("button",{className:"px-6 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{l({open:!0,dataDetail:P})},children:"Chi tit"})]})})]},P.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"Khng c voucher no"})})})]})]})}),o.jsx(v1e,{open:n.open,onClose:()=>{r({open:!1,data:null})},data:n.data,refetch:d}),o.jsx(w1e,{open:a.open,dataDetail:a.dataDetail,onClose:()=>l({open:!1,dataDetail:null})})]})}function S1e(){return o.jsx("div",{children:"FavoriteProduct"})}function j1e(){const{data:t,isLoading:e,refetch:n}=Fe({queryKey:["getSavedVouchers"],queryFn:()=>jj()}),[r,s]=T.useState(""),i=rt(),[a,l]=T.useState("AVAILABLE"),[c,u]=T.useState({open:!1,content:"",isSuccess:!1}),f=(t&&t.data)?.filter(g=>a==="ALL"?!0:g.state===a),p=async g=>{try{(await xe.post(`/api/v1/voucher/save-voucher/${g}`)).status&&(u({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await n())}catch(x){console.log(x),u({open:!0,content:x.message,isSuccess:!1})}};return o.jsxs("div",{className:"p-[1rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] text-gray-800",children:"Kho Voucher ca ti"}),o.jsx("div",{className:"w-full py-6 md:py-8 bg-gray-100 flex items-center justify-center mt-4 px-4",children:o.jsxs("div",{className:"w-full max-w-4xl flex flex-col md:flex-row items-center gap-4 md:gap-6 md:space-x-4",children:[o.jsx("p",{className:"text-[1.4rem] md:text-[1.6rem] w-full md:w-auto text-center md:text-left",children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",value:r,className:"w-full md:flex-1 bg-white h-[3.5rem] md:h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.2rem] md:px-[1.5rem] text-[1.4rem]",placeholder:"Nhp m voucher...",onChange:g=>s(g.target.value)}),o.jsx("button",{className:`w-full md:w-auto h-[3.5rem] md:h-[4rem] px-6 md:px-8 rounded-md ${r===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"} transition-colors duration-300 text-[1.4rem]`,onClick:()=>p(r),disabled:r==="",children:"Lu voucher"})]})}),o.jsx("div",{className:"flex flex-wrap gap-3 my-6 md:my-8",children:["ALL","AVAILABLE","USED","EXPIRED"].map(g=>o.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 md:px-6 md:py-2 rounded-lg transition-colors text-[1.2rem] md:text-[1.4rem] ${a===g?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g==="ALL"?"Tt c":g==="AVAILABLE"?"Kh dng":g==="USED"?" dng":"Ht hn"},g))}),o.jsx(o.Fragment,{children:e?o.jsx("div",{className:"text-center py-8 text-[1.4rem]",children:"ang ti d liu..."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-[1.5rem] md:gap-[2rem]",children:f?.map(g=>{const x=["USED","EXPIRED"].includes(g.state);return o.jsxs("div",{className:`flex flex-col md:flex-row items-center bg-gradient-to-r ${x?"from-gray-400 to-gray-500":"from-pink-500 to-violet-600"} rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-6 -right-6 w-28 h-28 md:-top-10 md:-right-10 md:w-40 md:h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-6 -left-6 w-36 h-36 md:-bottom-10 md:-left-10 md:w-56 md:h-56 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative z-10 mb-4 md:mb-0",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none line-clamp-2",children:g.name}),o.jsx("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-4 py-2 md:px-6 md:py-3 rounded-xl font-mono font-bold tracking-wider truncate max-w-[180px] md:max-w-none",children:g.voucherCode})}),o.jsxs("div",{className:"text-[1.6rem] md:text-[2.2rem] font-extrabold mb-1 md:mb-2",children:["Gim"," ",g.type==="PERCENT"?`${g.value}%`:`${g.value}`,g.maxDiscount&&o.jsxs("span",{className:"text-[1rem] md:text-[1.2rem] font-normal ml-1 md:ml-2 block md:inline",children:["(Ti a ",g.maxDiscount.toLocaleString(),")"]})]}),g.usedAt&&o.jsxs("div",{className:"text-[1.1rem] md:text-[1.2rem] opacity-90 mt-1",children:[" s dng: ",new Date(g.usedAt).toLocaleDateString("vi-VN")]})]})]}),o.jsx("div",{className:"relative z-[100] mt-4 md:mt-0 md:ml-auto w-full md:w-auto",children:o.jsx("button",{type:"button",className:`w-full md:w-auto px-6 py-3 md:px-8 md:py-4 rounded-xl ${x?"bg-gray-400":"border bg-white border-red-500 text-red-600 hover:border-red-600 hover:text-red-700"} transition-colors duration-300 text-[1.3rem] md:text-[1.4rem] cursor-pointer`,disabled:x,onClick:()=>{x||i("/")},children:g.usedAt?" s dng":"Dng ngay"})})]},g.id)})})}),o.jsx(Pu,{showNotify:c.open,duration:1e3,onClose:()=>u({open:!1,content:"",isSuccess:!1}),isSuccess:c.isSuccess,content:c.content})]})}const C1e=[{label:"Danh sch khch hng",to:"/dashboard/customers"},{label:"Khch  mua",to:"/dashboard/customers/purchased"},{label:"Khch cha mua",to:"/dashboard/customers/no-order"},{label:"Thng k",to:"/dashboard/customers/statistic"}];function k1e(){const[t,e]=T.useState(""),n=rt(),r=()=>{t.trim()?n({search:`?keyword=${encodeURIComponent(t.trim())}`}):n({search:""})},s=i=>{i.key==="Enter"&&r()};return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:"Qun l khch hng thnh vin"}),o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:s,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:i=>e(i.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>r(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:C1e.map(i=>o.jsx(Fw,{to:i.to,end:!0,className:({isActive:a})=>`pb-3 px-8 font-medium transition duration-300
                ${a?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:i.label},i.to))}),o.jsx("div",{children:o.jsx(Bl,{})})]})}const Rj=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return console.log(e),await xe.get("/api/v1/customer/get-customer",{params:e})},T1e=async t=>(await xe.get(`/api/v1/customer/by-id/${t}`)).data,E1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await xe.get("/api/v1/orders/guests",{params:e})},M1e=async t=>(await xe.get("/api/v1/orders/guest-by-email",{params:{guestEmail:t}})).data,P1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await xe.get("/api/v1/orders/statistic-guest",{params:e})},A1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await xe.get("/api/v1/orders/statistic-guest/top-guest",{params:e})).data},O1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await xe.get("/api/v1/customer/statistic",{params:e})},_1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await xe.get("/api/v1/customer/statistic/top-customer",{params:e})).data};function Fj({customers:t,isLoading:e}){const n=rt();return o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:e?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):t.length>0?t.map((r,s)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:s+1}),o.jsx("td",{className:"px-6 py-4",children:r.user.username}),o.jsx("td",{className:"px-6 py-4",children:r.user.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:r.user.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:r.user.orders.length}),o.jsx("td",{className:"px-6 py-4 text-center",children:Jr(r.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/detail-customer/${r.customerCode}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng ID: ${r.id}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},r.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]})})}function D1e(){const[t]=ua(),e=t.get("keyword")||"",[n,r]=T.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=Fe({queryKey:["customers",e,n],queryFn:()=>Rj({keyword:e,page:n,limit:s})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(Fj,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]})]})}function I1e(){const[t]=ua(),e=t.get("keyword")||"",[n,r]=T.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=Fe({queryKey:["customers","PURCHASED",e,n],queryFn:()=>Rj({keyword:e,page:n,limit:s,state:"PURCHASED"})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(Fj,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]})]})}function L1e(){const[t]=ua(),e=t.get("keyword")||"",[n,r]=T.useState(1),{data:s,isLoading:i,isError:a,refetch:l}=Fe({queryKey:["customers",e,n],queryFn:()=>Rj({keyword:e,page:n,limit:30,state:"NO_ORDER"})}),c=s?.data||[],u=s?.pagination?.totalPages||1;return i?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):a?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>l(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(Fj,{customers:c,isLoading:i}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(d=>Math.max(d-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:u},(d,f)=>f+1).filter(d=>Math.abs(d-n)<=2).map(d=>o.jsx("button",{onClick:()=>r(d),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===d?"bg-blue-500 text-white":"bg-gray-200"}`,children:d},d)),o.jsx("button",{onClick:()=>r(d=>Math.min(d+1,u)),disabled:n===u,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]})]})}function R1e(){const t=rt(),[e,n]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=T.useState({startDate:"",endDate:""}),[i,a]=T.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=Fe({queryKey:["statistic",i],queryFn:()=>O1e(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=Fe({queryKey:["customerTop"],queryFn:()=>_1e(r)}),v=C=>{const P=C.target.value;P&&n(A=>({...A,groupBy:P}))},b=C=>{const{name:P,value:A}=C.target;n(E=>({...E,[P]:A}))},w=C=>{const{name:P,value:A}=C.target;s(E=>({...E,[P]:A}))},S=()=>{a(e)},j=()=>{s(r),x()},M=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(F,{icon:vs}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>S(),children:[o.jsx(F,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:dN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((C,P)=>C+P.totalCustomers,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((C,P)=>C+P.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:M(f.reduce((C,P)=>C+P.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:M(f.reduce((C,P)=>C+P.totalRevenue,0)/f.reduce((C,P)=>C+P.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((C,P)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(C.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):C.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalCustomers}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:M(C.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:M(C.avgOrderValue)})]},P))})]}),o.jsxs("div",{className:"w-[60rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>j(),children:[o.jsx(F,{icon:vs}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(C=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/detail-customer/${C.customerCode}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:C.fullName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:C.email}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:M(C.totalRevenue)})]},C.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}function F1e(){const{customerCode:t}=gi(),e=rt(),{data:n,isLoading:r,isError:s}=Fe({queryKey:["customer-detail",t],queryFn:()=>T1e(t)});if(r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=u=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),c=n.user?.address?.find(u=>u.isDefault);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(F,{icon:fi}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tn ti khon:"})," ",i?.username||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy ng k:"})," ",Jr(n.createdAt).format("DD/MM/YYYY HH:mm")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy sinh:"})," ",n?.birthday??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tnh:"})," ",c.province??"Cha cp nht"," "]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Qun:"})," ",c.district??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Huyn:"})," ",c.ward??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch chi tit:"})," ",c.addressDetail??"Cha cp nht"]})]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),a.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:a.map(u=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:u.orderCode}),o.jsx("td",{className:"px-4 py-5",children:Jr(u.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:le.getStatusConfig(u.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(u.totalAmount)})]},u.id))})]}):o.jsx("p",{className:"text-gray-500 text-center",children:"Khch hng cha c n hng no"})]})]})}function H7(){const t=rt(),[e,n]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=T.useState({startDate:"",endDate:""}),[i,a]=T.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=Fe({queryKey:["statisticGuest",i],queryFn:()=>P1e(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=Fe({queryKey:["statisticGuest"],queryFn:()=>A1e(r)}),v=C=>{const P=C.target.value;P&&n(A=>({...A,groupBy:P}))},b=C=>{const{name:P,value:A}=C.target;n(E=>({...E,[P]:A}))},w=C=>{const{name:P,value:A}=C.target;s(E=>({...E,[P]:A}))},S=()=>{a(e)},j=()=>{s(r),x()},M=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(F,{icon:vs}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>S(),children:[o.jsx(F,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:dN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((C,P)=>C+P.totalGuests,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((C,P)=>C+P.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:M(f.reduce((C,P)=>C+P.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:M(f.reduce((C,P)=>C+P.totalRevenue,0)/f.reduce((C,P)=>C+P.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex xl:flex-row flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((C,P)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(C.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):C.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalGuests}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:M(C.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:M(C.avgOrderValue)})]},P))})]}),o.jsxs("div",{className:"w-[45rem] h-[40rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>j(),children:[o.jsx(F,{icon:vs}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(C=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/guest-detail/${C.customerEmail}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:C.customerName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:C.customerEmail}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:M(C.totalRevenue)})]},C.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}const V1e=[{label:"Danh sch khch hng",to:"/dashboard/guest-customers"},{label:"Thng k",to:"/dashboard/guest-customers/statistic"}];function z1e(){const[t,e]=T.useState(""),n=rt(),s=sr().pathname==="/dashboard/guest-customers",[i,a]=T.useState({limit:30,page:1,keyword:""}),l=()=>{a(g=>({...g,keyword:t}))},c=g=>{g.key==="Enter"&&l()},{data:u,isLoading:d}=Fe({queryKey:["guestCustomers",i],queryFn:()=>E1e(i)}),f=u&&u.data,p=u?.pagination?.totalPages||1;return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:s?"Qun l khch hng vng lai":"Thng k khch hng vng lai"}),s&&o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:c,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:g=>e(g.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>l(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:V1e.map(g=>o.jsx(Fw,{to:g.to,end:!0,className:({isActive:x})=>`pb-3 px-8 font-medium transition duration-300
                ${x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:g.label},g.to))}),s?o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:d?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):f.length>0?f.map((g,x)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:x+1}),o.jsx("td",{className:"px-6 py-4",children:g.fullName}),o.jsx("td",{className:"px-6 py-4",children:g.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:g.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:g.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center",children:Jr(g.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/guest-detail/${g.email}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng: ${g.fullName}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},g.email)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.max(g.page-1,1)})),disabled:i.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:p},(g,x)=>x+1).filter(g=>Math.abs(g-i.page)<=2).map(g=>o.jsx("button",{onClick:()=>a(x=>({...x,page:g})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${i.page===g?"bg-blue-500 text-white":"bg-gray-200"}`,children:g},g)),o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.min(g.page+1,p)})),disabled:i.page===p,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]})]}):o.jsx(H7,{})]})}function $1e(){const{guestEmail:t}=gi(),e=rt(),{data:n,isLoading:r,isError:s}=Fe({queryKey:["guestDetail",t],queryFn:()=>M1e(t)});if(console.log(n),r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=c=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(F,{icon:fi}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsx("div",{className:"space-y-5 text-[1.4rem]",children:o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch:"})," ",n?.address]})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),n.orders.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"H tn"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"S in thoi"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:n.orders.map(c=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:c.orderCode}),o.jsx("td",{className:"px-4 py-5",children:c.customerName}),o.jsx("td",{className:"px-4 py-5",children:c.customerPhone}),o.jsx("td",{className:"px-4 py-5",children:Jr(c.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:le.getStatusConfig(c.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(c.totalAmount)})]},c.id))})]}):o.jsx("p",{className:"text-gray-500 mt-16 text-center",children:"Khch hng cha c n hng no"})]})]})}function B1e({open:t,onClose:e,setSelectedPro:n,selectedPro:r,setValue:s}){const[i,a]=T.useState({page:1,limit:20,productName:"",categoryId:void 0}),[l,c]=T.useState(i),[u,d]=T.useState([]),{data:f,isLoading:p}=Fe({queryKey:["products",l],queryFn:RN}),g=f&&f.data,{data:x=[]}=Fe({queryKey:["getAllCategory"],queryFn:Eu});T.useEffect(()=>{r.length>0&&d(r)},[r]);const v=S=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S),b=()=>{n(u);const S=u.map(j=>({productId:j.id,quantity:1,limit:1,origin_price:j.price}));s("flashSaleProducts",S),e()},w=()=>{c({...i})};return o.jsxs(bt,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(F,{icon:Hn,className:"text-gray-500"})}),o.jsx("div",{className:"border-gray-200",children:o.jsx("h3",{className:"text-[1.8rem] text-center border-b border-b-gray-300 pb-4 font-semibold",children:"Chn sn phm"})}),o.jsxs("div",{className:"my-5 flex items-center space-x-4 text-[1.4rem]",children:[o.jsxs("div",{className:"relative w-[35rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] left-4",children:o.jsx(F,{icon:Dr,className:"text-gray-500"})}),o.jsx("input",{type:"text",id:"productName",placeholder:"Nhp tn san phm...",value:l.productName,className:"w-full border border-gray-300 h-[4rem] rounded-lg pr-4 pl-14 outline-none",onChange:S=>{a(j=>({...j,[S.target.name]:S.target.value}))}})]}),o.jsx("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:o.jsxs("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:S=>a(j=>({...j,[S.target.name]:S.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),x?.filter(S=>S.isActive).map(S=>o.jsx(jx,{category:S,allCategories:x,level:0},S.id))]})}),o.jsxs("button",{className:"px-6 h-[4rem] flex items-center space-x-2 bg-blue-500 rounded-lg text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>w(),children:[o.jsx(F,{icon:vs}),"Loc"]})]}),o.jsxs("div",{className:"pb-6 overflow-y-auto max-h-[60vh]",children:[o.jsx("p",{className:"pb-6",children:"Danh sach san phm"}),p?o.jsx("div",{className:"text-center my-24",children:"ang tai san phm..."}):g.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map(S=>{const j=u.length>0&&u.find(M=>M.id===S.id);return o.jsxs("div",{className:"group relative rounded-lg border border-gray-200 hover:border-blue-200 hover:shadow-lg hover:shadow-blue-200 transition-all duration-300",children:[o.jsx("img",{src:S.mainImage,alt:`mainImage ${S.productName}`,className:"w-full h-[12rem] object-cover rounded-tl-lg rounded-tr-lg"}),o.jsxs("div",{className:"p-1.5",children:[o.jsx("p",{className:"text-[1.4rem] line-clamp-1",children:S.productName}),o.jsx("p",{className:"text-[1.2rem] text-red-500",children:v(S.price)})]}),o.jsx("div",{className:`${j?"":"opacity-0"} group-hover:opacity-[100] flex absolute inset-0 bg-[#32323256] items-center justify-center rounded-lg transition-opacity duration-300`,onClick:()=>d(M=>M.find(C=>C.id===S.id)?M.filter(C=>C.id!==S.id):[...M,S]),children:o.jsx("button",{className:"w-9 h-9 bg-white text-green-500 rounded-md",children:j?o.jsx(F,{icon:co,className:"font-bold"}):o.jsx(o.Fragment,{})})})]},S.id)})}):o.jsx("div",{className:"text-center py-24",children:"Khng co san phm nao"}),o.jsxs("div",{className:"mt-[2rem] flex justify-center items-center space-x-4",children:[o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Trc"}),o.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg text-[1.2rem]",children:"1"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"2"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Sau"})]})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-200 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"ng"}),o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{b()},children:"Chon"})]})]})}function HP(){const{id:t}=gi(),e=t?"edit":"create",n=rt(),[r,s]=T.useState(!1),{register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=$s({defaultValues:{name:"",startDate:"",endDate:"",discount:"",description:"",bannerImage:null,flashSaleProducts:[]}}),[p,g]=T.useState(null),x=d("flashSaleProducts"),[v,b]=T.useState([]),[w,S]=T.useState([]);i("flashSaleProducts",{validate:E=>E.length>0||"Vui lng chn t nht 1 sn phm!"}),T.useEffect(()=>{t&&(async()=>{try{const D=await S7(Number(t));if(D.status&&D.data){const L=D.data;f({name:L.name,discount:L.discount,description:L.description,startDate:L.startDate.slice(0,10),endDate:L.endDate.slice(0,10),flashSaleProducts:L.flashSaleProduct.map(V=>({id:V.id,productId:V.product.id,quantity:V.quantity,limit:V.limit,origin_price:V.origin_price}))}),D.data.bannerImage&&g(D.data.bannerImage);const _=L.flashSaleProduct.map(V=>V.product);b(_)}}catch(D){console.log(D)}})()},[t,f]);const j=async E=>{if(x.length===0)return;const D=new Date(E.startDate).toISOString(),L=new Date(E.endDate).toISOString(),_=new FormData;_.append("name",E.name),_.append("description",E.description),_.append("startDate",D),_.append("endDate",L),_.append("discount",E.discount),e==="edit"&&w.length>0&&_.append("deletedIds",JSON.stringify(w));const V=E.flashSaleProducts.map(G=>({productId:G.productId,limit:G.limit,quantity:G.quantity,origin_price:G.origin_price}));_.append("flashSaleProducts",JSON.stringify(V)),E.bannerImage&&_.append("bannerImage",E.bannerImage);try{let G=null;e==="create"?G=await xe.post("/api/v1/flashsale/create",_,{headers:{"Content-Type":"multipart/form-data"}}):G=await xe.patch(`/api/v1/flashsale/${t}`,_,{headers:{"Content-Type":"multipart/form-data"}}),G.status&&(n("/dashboard/flashsale",{replace:!0}),f({name:"",startDate:"",endDate:"",discount:"",description:"",flashSaleProducts:[]}))}catch(G){console.log(G);const H=G;de.error(H.message)}},M=E=>{if(E.target.files){const D=E.target.files[0];if(D){const L=URL.createObjectURL(D);g(L),u("bannerImage",D)}}},C=E=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(E),P=E=>{const D=x.find(_=>_.productId===E),L=x.filter(_=>_.productId!==E);u("flashSaleProducts",L),b(_=>_.filter(V=>V.id!==E)),e==="edit"&&D?.id&&S(_=>[..._,D.id])},A=(E,D)=>{const L=x?.map(_=>D===_.productId?{..._,quantity:E==="incre"?++_.quantity:Math.max(1,--_.quantity)}:_);u("flashSaleProducts",L)};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>n("/dashboard/flashsale"),children:o.jsx(F,{icon:fi,className:"text-[1.8rem] text-gray-600"})}),o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"To Flash Sale Mi"})]})}),o.jsx("div",{className:"mt-[2rem]",children:o.jsxs("form",{onSubmit:a(j),children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-6",children:"Thng tin chng trnh"}),o.jsxs("label",{htmlFor:"bannerImage",className:"w-full h-[25rem] flex items-center justify-center rounded-xl border border-dashed border-gray-400 cursor-pointer text-[1.4rem] group",children:[p?o.jsxs("div",{className:"w-full h-full rounded-xl relative",children:[o.jsx("img",{src:p,alt:"bannerImage",className:"w-full h-full object-cover rounded-xl"}),o.jsxs("div",{className:"opacity-0 group-hover:opacity-[100] flex items-center text-[1.8rem] justify-center absolute inset-0 bg-[#2f2f2f56] text-white transition-discrete duration-300",children:[o.jsx(F,{icon:zs}),"Thay i"]})]}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"w-14 h-14 rounded-full border border-dashed border-gray-400 flex justify-center items-center",children:o.jsx(F,{icon:Xr,className:"text-gray-500"})}),o.jsx("span",{children:"Thm nh"})]}),o.jsx("input",{type:"file",className:"hidden",id:"bannerImage",onChange:E=>M(E),disabled:c})]}),o.jsxs("div",{className:"my-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Tn chng trnh ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"Nhp tn chng trnh flash sale",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("name",{required:"Vui long nhp tn flashsale!"})}),l.name&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.name?.message})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Phn trm gim gi (%)"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",placeholder:"Nhp phn trm gim gi",min:"1",max:"100",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("discount",{required:"Vui long nhp tn giam gia!"})}),l.discount&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.discount?.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:"M t"}),o.jsx("textarea",{placeholder:"Nhp m t chi tit v chng trnh",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 resize-none",...i("description")})]})]}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-4",children:"Thi gian p dng"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy bt u ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("startDate",{required:"Vui long nhp ngay bt u!"})}),l.startDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.startDate?.message})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy kt thc ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("endDate",{required:"Vui long nhp ngay kt thuc!"})}),l.endDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.endDate?.message})]})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700",children:"Sn phm p dng"}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-4 h-[3.5rem] bg-green-500 rounded-lg hover:bg-green-600 transition-colors",onClick:()=>s(!0),type:"button",disabled:c,children:[o.jsx(F,{icon:aa}),"Thm sn phm"]})]}),l.flashSaleProducts&&o.jsx("p",{className:"text-red-500 text-[1.3rem]",children:l.flashSaleProducts.message}),o.jsx("div",{className:"space-y-3 max-h-[50rem] overflow-y-auto",children:v?.length>0?v?.map(E=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:E.mainImage,alt:`mainImage ${E.productName}`,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] font-medium text-gray-800",children:E.productName}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:C(E.price)})]})]}),o.jsx("button",{onClick:()=>P(E.id),className:"p-4 text-red-500 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(F,{icon:J1,className:"text-[1.8rem]"})})]}),o.jsxs("div",{className:"p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"S lng sn phm:"}),o.jsxs("div",{className:"flex items-center space-x-4 ",children:[o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>A("decre",E.id),children:"-"}),o.jsx("input",{type:"number",id:"quantity",className:"max-w-22 outline-none h-9 border border-gray-400 rounded-md text-[1.4rem] px-2",value:x?.find(D=>D.productId===E.id)?.quantity??1,onChange:D=>{const L=x.map(_=>_.productId===E.id?{..._,quantity:Number(D.target.value)}:_);u("flashSaleProducts",L)}}),o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>A("incre",E.id),children:"+"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"Gii hn s lng mi khch mua sn phm:"}),o.jsx("input",{type:"number",id:"limit",className:"h-9 min-w-10 max-w-25 border border-gray-400 rounded-md outline-none px-2",value:x.find(D=>D.productId===E.id)?.limit??1,max:10,onChange:D=>{const L=x.map(_=>({..._,limit:_.productId===E.id?Number(D.target.value):_.limit}));u("flashSaleProducts",L)}})]})]})]},E.id)):o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("p",{className:"text-[1.4rem]",children:"Cha c sn phm no c chn"}),o.jsx("p",{className:"text-[1.3rem] mt-2",children:'Nhn "Thm sn phm"  bt u'})]})})]})})]}),o.jsx("div",{className:"flex justify-end items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>n("/dashboard/flashsale"),disabled:c,children:"Hy"}),o.jsxs("button",{type:"submit",className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",disabled:c,children:[o.jsx(F,{icon:iG}),c?"ang x l...":"Lu Flash Sale"]})]})})]})}),r&&o.jsx(B1e,{open:r,onClose:()=>s(!1),setSelectedPro:b,selectedPro:v,setValue:u})]})}function H1e(){const{id:t}=gi(),e=rt(),{data:n,isLoading:r,error:s}=Fe({queryKey:["flashSale",t],queryFn:()=>S7(Number(t)),enabled:!!t}),i=n&&n.data;if(r)return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-10rem)]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})});if(s||!i)return o.jsx("div",{className:"text-center py-26 text-red-600",children:"Khng th ti d liu Flash Sale. Vui lng th li sau."});const a=c=>Jr(c).format("HH:mm DD/MM/YYYY"),l=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c));return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-6 md:p-8 rounded-xl text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-300 pb-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e(-1),className:"w-14 h-14 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(F,{icon:fi,className:"text-gray-700"})}),o.jsx("h1",{className:"text-3xl font-bold",children:"Chi tit Flash Sale"})]}),o.jsx("span",{children:Lj(i.status)})]}),o.jsx("div",{className:"mb-10",children:o.jsx("img",{src:i.bannerImage,alt:i.name,className:"w-full h-[35rem] object-cover rounded-xl shadow-md",onError:c=>{c.target.src="/placeholder-banner.jpg",de.error("Khng ti c banner")}})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Tn chng trnh"}),o.jsx("p",{className:" text-gray-700",children:i.name})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"M t"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:i.description||"Khng c m t"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Mc gim gi"}),o.jsxs("p",{className:"font-bold text-red-600",children:[i.discount,"%"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Thi gian p dng"}),o.jsxs("div",{className:"text-gray-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Bt u:"})," ",a(i.startDate)]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Kt thc:"})," ",a(i.endDate)]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Ngy to / cp nht"}),o.jsxs("p",{className:"text-gray-600",children:["To: ",a(i.createdAt)]}),o.jsxs("p",{className:"text-gray-600",children:["Cp nht: ",a(i.updatedAt)]})]})]})]}),o.jsxs("div",{className:"mt-12",children:[o.jsxs("h2",{className:"font-bold mb-6",children:["Sn phm p dng (",i.flashSaleProduct.length," sn phm)"]}),i.flashSaleProduct.length===0?o.jsx("p",{className:"text-gray-500 text-center py-10",children:"Cha c sn phm no trong flash sale ny"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:i.flashSaleProduct.map(c=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("img",{src:c.product.mainImage,alt:c.product.productName,className:"w-full h-[20rem] object-cover"}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"font-semibold line-clamp-2 mb-2",children:c.product.productName}),o.jsxs("div",{className:"flex text-[1.4rem] items-center gap-3 mb-3",children:[o.jsx("span",{className:"font-bold text-red-600",children:l(c.sale_price)}),o.jsx("span",{className:"text-gray-400 line-through",children:l(c.origin_price)}),o.jsxs("span",{className:"text-green-600",children:["-",i.discount,"%"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[1.2rem]",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"S lng:"}),o.jsxs("p",{children:[c.quantity," SP"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Gii hn/khch:"}),o.jsxs("p",{children:[c.limit," SP"]})]}),o.jsx("div",{children:o.jsxs("p",{className:"font-medium",children:[" bn: ",c.sold]})})]})]})]},c.id))})]})]})}function U1e(){const{slug:t}=gi();rt();const[e,n]=T.useState({hours:0,minutes:0,seconds:0}),{data:r,isLoading:s,error:i}=Fe({queryKey:["flashSale",t],queryFn:()=>Ebe(t),enabled:!!t}),a=r&&r.data,l=r&&a&&a.flashSaleProduct,c=Math.floor(e.hours/24);T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(!a)return;const p=()=>{const x=Mj(a.endDate);n(x)};p();const g=setInterval(p,1e3);return()=>clearInterval(g)},[a]);const u=p=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p)),d=(p,g)=>Math.round(p/g*100),f=()=>o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0 overflow-hidden",children:[o.jsx("div",{className:"w-full h-full bg-gradient-to-b from-gray-300 to-gray-400 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),o.jsx("div",{className:"relative w-[85%] mx-auto pt-[40rem] z-10",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"h-12 w-3/4 mx-auto bg-gray-300 rounded-lg animate-pulse mb-3"}),o.jsx("div",{className:"h-6 w-1/2 mx-auto bg-gray-200 rounded animate-pulse"})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-r from-pink-300 to-red-300 rounded-lg px-4 py-4 min-w-[70px] animate-pulse"}),g!==2&&o.jsx("span",{className:"text-[2.2rem] text-transparent",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("div",{className:"h-8 w-48 bg-gray-300 rounded animate-pulse mb-4"})," ",o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:Array.from({length:10}).map((p,g)=>o.jsxs("div",{className:"group bg-white rounded-xl p-4 shadow animate-pulse flex flex-col",children:[o.jsx("div",{className:"absolute top-2 right-2 h-8 w-16 bg-red-300 rounded-full"}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3 bg-gray-300"}),o.jsx("div",{className:"h-5 w-4/5 bg-gray-300 rounded mb-2"}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("div",{className:"h-7 w-24 bg-red-300 rounded"}),o.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded"}),o.jsx("div",{className:"h-4 w-12 bg-gray-300 rounded"})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-300 h-full rounded-full w-3/5 animate-pulse"})})]})]},g))})]})]})})]});return o.jsx("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:s?o.jsx(f,{}):o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0",children:o.jsx("img",{src:a.bannerImage,alt:"Hnh nh flashSale",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"relative w-[85%] h-[50rem] z-100 mx-auto pt-[30rem]",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("h3",{className:"text-[2.5rem] font-bold text-red-600",children:[a.name," - Gim ",a.discount,"%"]}),o.jsxs("p",{children:[a.description," on m t"]})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:e.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:["Cn li ",c," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(e[p]).padStart(2,"0")})},g),g!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h4",{children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:l&&l.length>0?l.map(p=>{const g=p.product,x=d(p.sold,p.quantity);return o.jsxs(Qe,{to:`/product-detail/${g.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",a.discount,"%"]}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:g.mainImage||"https://via.placeholder.com/300",alt:g.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-1",children:g.productName||`Sn phm ${g.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] font-bold",children:u(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1.2rem]",children:u(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"font-bold text-red-500",children:[x,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${x}%`}})})]})]})]},g.id)}):o.jsx("div",{className:"py-25 text-center",children:"Khng c sn phm no"})})]})]})})]})})}function W1e(){const{id:t}=gi(),{user:e}=Ct(),n=rt(),[r,s]=T.useState("info"),[i,a]=T.useState("all"),[l,c]=T.useState("newest"),[u,d]=T.useState({open:!1,content:"",isSuccess:!0}),[f,p]=T.useState({open:!1,reviewId:null,message:""}),{data:g,isLoading:x}=Fe({queryKey:["productdetailForAdmin",t],queryFn:()=>Qee(Number(t)),enabled:!!t}),v=g&&g.product,b=g&&g.statistics,w=g&&g.flashSale;console.log(w);const{data:S,isLoading:j,refetch:M}=Fe({queryKey:["evaluates",i],queryFn:()=>CD({productId:Number(t),rating:i,page:1,sort:l}),enabled:!!t}),C=S&&S.data||[],P=_=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(V=>o.jsx(F,{icon:ms,className:`text-[1.4rem] ${V<=_?"text-yellow-400":"text-gray-300"}`},V))}),A=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_),E=_=>new Date(_).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),D=async _=>{if(!e){n("/");return}try{const V=await xe.post(`/api/v1/evaluate/toggle-helpful/${_}`);console.log(V)}catch(V){console.log(V);return}},L=async()=>{try{const _=await xe.post(`/api/v1/evaluate/response/${f.reviewId}`,{message:f.message});console.log(_),_.status&&(await M(),d({open:!0,content:_.message,isSuccess:!0}),setTimeout(()=>{d({open:!1,content:"",isSuccess:!0})},1e3))}catch(_){console.log(_)}};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[x?o.jsx("div",{children:"ang ti d liu"}):o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 text-[1.8rem] font-bold",children:[o.jsx("span",{children:"Qun l sn phm"}),o.jsx("span",{children:"/"}),o.jsx("span",{children:v.productName})]}),o.jsx("div",{className:"flex py-2",children:o.jsxs(Qe,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(F,{icon:fi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Qe,{to:`/dashboard/products/action/${v.id}`,className:"flex items-center gap-2 px-6 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[o.jsx(F,{icon:zs}),"Chnh sa"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Doanh thu"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-green-700",children:A(b?.revenue)})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:" bn"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-blue-700",children:[b?.soldCount," SP"]})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Tn kho"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-red-500",children:b.inventory})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"nh gi"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-yellow-500 flex items-center gap-1",children:[v.averageRating,o.jsxs("span",{className:"text-[1.2rem] text-yellow-500 mt-1",children:["(",v.reviewCount," nh gi)"]})]})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[o.jsx("h3",{className:"font-bold mb-4",children:"Hnh nh chnh"}),o.jsx("img",{src:v.mainImage,alt:v.productName,className:"w-full rounded-lg border border-gray-200"}),o.jsx("h3",{className:"font-bold mb-4 mt-6",children:"nh ph"}),v.listImageProduct.length>0?o.jsx("div",{className:"grid grid-cols-4 gap-3",children:v.listImageProduct?.map(_=>o.jsx("div",{className:"w-full h-[10rem] border border-gray-300 rounded-md",children:o.jsx("img",{src:_.imageUrl,alt:"subImage",className:"w-full h-full rounded-lg object-cover"})},_.id))}):o.jsx("div",{className:"text-center",children:"Khng c nh ph"})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-1 p-1",children:[o.jsx("button",{onClick:()=>s("info"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="info"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"Thng tin chung"}),o.jsxs("button",{onClick:()=>s("variants"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="variants"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:["Bin th (",v.variants.length,")"]}),o.jsx("button",{onClick:()=>s("description"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="description"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"M t"}),o.jsx("button",{onClick:()=>s("review"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="review"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"nh gi"})]})}),o.jsxs("div",{className:"p-6",children:[r==="info"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h2",{className:"text-[2rem]",children:v.productName}),w&&o.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-[1.2rem] rounded-full",children:"Flash Sale"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"text-[2rem] text-gray-400 line-through",children:A(v.price)}),w?o.jsx("p",{className:"text-[1.8rem] font-bold text-red-500",children:A(w.flashSaleProduct.sale_price)}):o.jsx("p",{className:"text-[2rem] font-bold text-red-500",children:A(v.price)})]})]}),w&&o.jsxs("div",{className:"p-6 bg-orange-50 border-l-4 border-orange-500 rounded-lg",children:[o.jsx("h3",{className:"font-bold text-orange-700 mb-3 flex items-center gap-2",children:"Thng tin Flash Sale"}),o.jsxs("div",{className:"space-y-4 text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gim gi:"}),o.jsxs("p",{className:"font-semibold text-orange-600 ml-2",children:[w.discount,"%"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gi sau gim:"}),o.jsx("p",{className:"font-semibold text-red-600 ml-2",children:A(w.flashSaleProduct.sale_price)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"S lng Flash Sale cn li:"}),o.jsxs("p",{className:"font-semibold",children:[w.flashSaleProduct.quantity-w.flashSaleProduct.sold," ","/ ",w.flashSaleProduct.quantity]})]}),o.jsxs("div",{className:" flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Thi gian:"}),o.jsxs("p",{className:"font-semibold text-green-600 ml-2",children:[o.jsx("span",{className:"mr-4",children:E(w.startDate)}),"n",o.jsx("span",{className:"ml-4",children:E(w.endDate)})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi gc"}),o.jsx("p",{className:"font-semibold",children:A(v.price)})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi bn thc t"}),o.jsx("p",{className:"font-semibold",children:A(w?w.flashSaleProduct.sale_price:v.price)})]})]})]}),r==="variants"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold",children:"Danh sch bin th"}),o.jsxs("span",{className:"text-gray-600",children:["Tng: ",v.variants.length," bin th"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"ID"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"Mu sc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Kch thc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Tn kho"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Gi"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Trng thi"})]})}),o.jsx("tbody",{children:v.variants.map(_=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 text-[1.4rem]",children:[o.jsxs("td",{className:"py-5 px-4 text-[1.4rem] text-gray-700",children:["#",_.id]}),o.jsx("td",{className:"py-5 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:_.variantColor.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-700",children:_.variantColor.name})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:_.variantSize.name}),o.jsx("td",{className:"text-center py-5 px-4",children:o.jsxs("span",{className:`text-[1.4rem] font-medium ${_.inventory<20?"text-red-600":"text-gray-900"}`,children:[_.inventory,_.inventory<20&&o.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(Sp ht)"})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:_.price?A(_.price):o.jsx("span",{className:"text-gray-400",children:"Gi chung"})}),o.jsx("td",{className:"py-5 px-4 text-center",children:_.inventory>0?o.jsx("span",{className:"px-6 py-2 bg-green-100 text-green-700 rounded-full",children:"Cn hng"}):o.jsx("span",{className:"px-6 py-2 bg-red-100 text-red-700 rounded-full",children:"Ht hng"})})]},_.id))})]})})]}),r==="description"&&o.jsx("div",{className:"prose max-w-none text-[1.6rem]",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:v.description}})}),r==="review"&&o.jsx("div",{children:o.jsxs("div",{className:"w-full sm:w-auto",children:[o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>a("all"),children:["Tt c (",S&&S.summary.total,")"]}),[5,4,3,2,1].map(_=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i===_?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{a(_)},children:[_," Sao (",S&&S.summary.ratingCount[_],")"]},_))]}),o.jsx("div",{className:"mt-8",children:j?o.jsx("div",{children:"ang ti d liu"}):C.length>0?o.jsx("div",{className:"space-y-4",children:C.map(_=>o.jsxs("div",{className:"flex items-start w-full h-auto shadow-md rounded-xl bg-white p-5 space-x-4",children:[o.jsx("div",{children:_.showAccount?_?.user?.avatar?o.jsx("img",{src:_?.user?.avatar,alt:"avatar"+_?.user?.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(_.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:_.showAccount?_.user?.username||_.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",E(_.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:P(_.rating)}),_.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:_.message}),o.jsxs("div",{className:"flex items-center space-x-5 text-[1rem] md:text-[1.3rem] mt-2 ",children:[o.jsxs("button",{onClick:()=>D(_.id),className:"cursor-pointer",children:[o.jsx(F,{icon:f7}),o.jsx("span",{className:` ${_.isLiked?"text-red-500":"text-gray-600"}`,children:_.helpfulCount})]}),!_.hasAdminResponse&&o.jsxs("button",{type:"button",className:"flex items-center space-x-2 hover:text-gray-800 cursor-pointer",onClick:()=>p({open:!0,reviewId:_.id,message:""}),children:[o.jsx(F,{icon:Jye}),o.jsx("span",{children:"Phn hi"})]})]}),f.open&&!_.hasAdminResponse&&f.reviewId===_.id&&o.jsxs("div",{className:"mt-4 w-full h-auto",children:[o.jsx("textarea",{rows:3,className:"w-full h-full border text-[1.4rem] p-4 outline-none focus:border-cyan-300 border-gray-300 rounded-md",placeholder:"Nhp phn hi...",value:f.message,onChange:V=>p(G=>({...G,message:V.target.value}))}),o.jsxs("div",{className:"flex items-center justify-end gap-2.5 mt-1 text-[1.4rem]",children:[o.jsx("button",{className:"rounded-md px-5 py-2 bg-gray-200 text-gray-600 hover:bg-gray-300 transition-colors duration-300",children:o.jsx("span",{children:"ng"})}),o.jsxs("button",{className:"rounded-md px-5 py-2 bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>L(),children:[o.jsx(F,{icon:fG,className:"text-[1.4rem]"}),o.jsx("span",{children:"Gi"})]})]})]}),_.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("img",{src:e?.avatar,alt:`admin-${e?.username}`,className:"w-full h-full object-cover rounded-full"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:[e?.username," "," ",o.jsx("span",{className:"text-[1.2rem]",children:E(_.adminResponseAt)})]}),o.jsxs("p",{className:"text-[1.6rem] mt-1",children:["Ni dung: ",_.adminResponse]})]})]})]})]})]},_.id))}):o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]})})]})})]})]})})]})]}),o.jsx(Pu,{content:u.content,duration:1e3,showNotify:u.open,isSuccess:u.isSuccess})]})}function q1e(){const{user:t}=Ct(),[e]=ua(),n=e.get("q"),[r,s]=T.useState({limit:20,page:1,productName:n||"",sort:"popular",price:"asc"});T.useEffect(()=>{n&&s(p=>({...p,productName:n}))},[n]);const{data:i,isLoading:a}=Fe({queryKey:["products",r,t?.id],queryFn:()=>kD({query:r,userId:t?.id})}),l=i&&i.data,c=i&&i.pagination.totalPage||1,u=p=>{s(g=>({...g,sort:p}))},d=p=>{s(g=>({...g,price:p}))},f=p=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p);return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:[o.jsx("h3",{className:"pb-5",children:l?.length>0?o.jsxs(o.Fragment,{children:["Tm thy ",o.jsx("span",{className:"text-red-500",children:l.length})," kt qu cho ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]}):o.jsxs(o.Fragment,{children:["Kt qu tm kim ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]})}),o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsxs("div",{className:"flex items-center md:gap-4 gap-2 lg:gap-6 flex-wrap md:flex-nowrap",children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("best_seller"),children:"Bn chy"})]}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi:"," ",r.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(F,{icon:wh,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${r.price==="asc"?"text-red-500":""}`,onClick:()=>d("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),r.price==="asc"&&o.jsx(F,{icon:co,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${r.price==="desc"?"text-red-500":""}`,onClick:()=>d("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),r.price==="desc"&&o.jsx(F,{icon:co,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>s(p=>({...p,price:r.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(F,{icon:r.price==="asc"?n_:a_,className:"text-[1rem] font-extralight"})]})]}),a?o.jsx("div",{className:"py-25 text-center",children:"ang ti d liu..."}):l.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4 mt-[2rem]",children:l.map(p=>o.jsxs(Qe,{to:`/product-detail/${p.slug}`,className:"flex flex-col w-full h-[28rem] md:h-[31rem] border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 hover:scale-[1.02] transition-all duration-300 cursor-pointer",children:[o.jsx("img",{src:p.mainImage,alt:`mainImage-${p.productName}`,className:"w-full h-[16rem] md:h-[20rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-2 text-[1.3rem] md:text-[1.5rem] leading-snug",children:p.productName}),o.jsx("span",{className:"text-red-500 font-semibold text-[1.3rem] md:text-[1.5rem]",children:f(p.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem] mt-auto",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:p.averageRating}),o.jsx(F,{icon:ms,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:p.soldCount})]})]})]})]},p.id))}):o.jsx("div",{className:"py-25 text-center",children:l.length===0&&!a&&o.jsxs("div",{className:"py-20 text-center",children:[o.jsxs("p",{className:"text-[1.6rem] text-gray-500 text-nowrap",children:['Khng tm thy sn phm no cho "',n,'"']}),o.jsx("p",{className:"text-[1.4rem] text-gray-400 mt-2",children:"Th tm kim vi t kha khc"})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.max(p.page-1,1)})),disabled:r.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:xi,className:"text-gray-500"})}),Array.from({length:c},(p,g)=>g+1).filter(p=>Math.abs(p-r.page)<=2).map(p=>o.jsx("button",{onClick:()=>s(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-blue-600 ${r.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.min(p.page+1,c)})),disabled:r.page===c,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:kn,className:"text-gray-500"})})]})]})}function K1e(){const t=rt(),[e]=ua(),n=e.get("q"),{user:r}=Ct(),[s,i]=T.useState({limit:10,page:1,productName:"",sort:"popular",price:"asc"}),[a,l]=T.useState({open:!1,data:null});T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{n&&i(p=>({...p,sort:n}))},[n]);const{data:c,isLoading:u}=Fe({queryKey:["products",s],queryFn:()=>kD({query:s,userId:r?.id})}),d=c?.data??[],f=()=>o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]});return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] ",children:[o.jsxs("div",{className:"bg-white p-5 rounded-xl",children:[o.jsx("h3",{className:"text-[2rem] mb-6 font-bold",children:"Sn phm ni bt"}),u?Array.from({length:10}).map((p,g)=>o.jsx("div",{children:o.jsx(f,{})},g)):d.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:d.map(p=>o.jsxs("div",{className:"group bg-white rounded-xl p-4 shadow hover:shadow-lg cursor-pointer relative overflow-hidden",children:[o.jsxs(Qe,{to:`/product-detail/${p.slug}`,className:"block relative w-full h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-xl",children:[o.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-full bg-red-500 px-3 py-1 text-white text-sm font-semibold",children:"Hot"}),o.jsx("div",{className:"relative h-[14rem] md:-[18rem] lg:h-[22rem] md:h-full overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:p.mainImage||"https://via.placeholder.com/300",alt:p.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform rounded-xl"})}),o.jsx("div",{className:"hidden xl:block absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"hidden xl:flex absolute w-full h-[4rem] bottom-[.5rem] right-[50%] translate-x-[50%] gap-[1rem] items-center justify-center rounded-xl translate-y-[4.5rem] group-hover:translate-y-0 transition duration-300",children:[o.jsxs("button",{type:"button",className:"w-[10rem] h-[3.4rem] bg-white hover:bg-gray-200 rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:g=>{g.stopPropagation(),g.preventDefault(),l({open:!0,data:p})},children:[o.jsx(F,{icon:ia,className:"text-[1.6rem] text-gray-600"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thm"})]}),o.jsx("button",{type:"button",className:"w-[4rem] h-[3.4rem] flex items-center justify-center bg-green-500 hover:bg-green-600 rounded-md cursor-pointer transition duration-300",onClick:g=>{g.stopPropagation(),t(`/product-detail/${p.slug}`)},children:o.jsx(F,{icon:ws,className:"text-[2rem] text-white"})})]})]}),o.jsxs("div",{className:"mt-4 px-2 text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:p.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p.price)})]}),o.jsxs("div",{className:"flex items-center xl:hidden gap-x-4 justify-end mt-2.5",children:[o.jsx("button",{className:"hidden md:block text-blue-600 hover:text-blue-700 text-[1.2rem] mdtext-[1.4rem]",onClick:g=>{g.stopPropagation(),g.preventDefault(),t(`/product-detail/${p.slug}`)},children:"Chi tit"}),o.jsxs("button",{className:"w-[8rem] md:w-[10rem] h-[3rem] md:h-[3.4rem] text-[1.2rem] mdtext-[1.4rem] bg-red-500 hover:bg-red-600 text-white rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:g=>{g.stopPropagation(),l({open:!0,data:p})},children:[o.jsx(F,{icon:ia}),o.jsx("span",{children:"Thm"})]})]})]},p.id))}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:B7,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]})]}),o.jsx(Ij,{showAddCart:a,setShowAddCart:l})]})}function G1e(){return o.jsxs(o.Fragment,{children:[o.jsxs(F$,{children:[o.jsxs(ze,{path:"/",element:o.jsx(Xye,{children:o.jsx(y1e,{})}),children:[o.jsx(ze,{index:!0,element:o.jsx(x1e,{})}),o.jsx(ze,{path:"about",element:o.jsx(WG,{})})]}),o.jsxs(ze,{path:"category",element:o.jsx(b1e,{}),children:[o.jsx(ze,{path:":slug1",element:o.jsx(x1,{})}),o.jsx(ze,{path:":slug1/:slug2",element:o.jsx(x1,{})}),o.jsx(ze,{path:":slug1/:slug2/:slug3",element:o.jsx(x1,{})})]}),o.jsxs(ze,{element:o.jsx(qG,{}),children:[o.jsx(ze,{path:"/login",element:o.jsx(UG,{})}),o.jsx(ze,{path:"/register",element:o.jsx(Qye,{})})]}),o.jsxs(ze,{element:o.jsx(hbe,{}),children:[o.jsxs(ze,{path:"customer",element:o.jsx(AP,{children:o.jsx(Zye,{})}),children:[o.jsx(ze,{index:!0,element:o.jsx(Uc,{to:"account/profile",replace:!0})}),o.jsx(ze,{path:"account/profile",element:o.jsx(jbe,{})}),o.jsx(ze,{path:"account/address",element:o.jsx(wbe,{})}),o.jsx(ze,{path:"account/privacy",element:o.jsx(Sbe,{})}),o.jsx(ze,{path:"order",element:o.jsx(pbe,{})}),o.jsx(ze,{path:"my-voucher",element:o.jsx(j1e,{})}),o.jsx(ze,{path:"favorite",element:o.jsx(S1e,{})})]}),o.jsx(ze,{path:"cart/detail",element:o.jsx(gbe,{})}),o.jsx(ze,{path:"checkout",element:o.jsx(vbe,{})}),o.jsx(ze,{path:"payment-momo-redirect",element:o.jsx(_be,{})}),o.jsx(ze,{path:"order-confirmation/:orderCode",element:o.jsx(kbe,{})}),o.jsx(ze,{path:"look-up-order",element:o.jsx(Obe,{})}),o.jsx(ze,{path:"product-detail/:productSlug",element:o.jsx(Pbe,{})}),o.jsx(ze,{path:"products",element:o.jsx(K1e,{})}),o.jsx(ze,{path:"search",element:o.jsx(q1e,{})}),o.jsx(ze,{path:"flash-sale/:slug",element:o.jsx(U1e,{})})]}),o.jsxs(ze,{path:"/dashboard",element:o.jsx(AP,{roles:[le.UserRole.ADMIN,le.UserRole.STAFF],redirectTo:"/dashboard/login",children:o.jsx(YG,{})}),children:[o.jsx(ze,{index:!0,element:o.jsx(kee,{})}),o.jsx(ze,{path:"products",element:o.jsx(Xme,{})}),o.jsx(ze,{path:"products/detail/:id",element:o.jsx(W1e,{})}),o.jsx(ze,{path:"products/action",element:o.jsx($M,{})}),o.jsx(ze,{path:"products/action/:id",element:o.jsx($M,{})}),o.jsx(ze,{path:"categories",element:o.jsx(Zme,{})}),o.jsx(ze,{path:"profile",element:o.jsx(epe,{})}),o.jsx(ze,{path:"orders/list-order",element:o.jsx($ye,{})}),o.jsx(ze,{path:"staff",element:o.jsx(Kye,{})}),o.jsxs(ze,{path:"customers",element:o.jsx(k1e,{}),children:[o.jsx(ze,{index:!0,element:o.jsx(D1e,{})}),o.jsx(ze,{path:"purchased",element:o.jsx(I1e,{})}),o.jsx(ze,{path:"no-order",element:o.jsx(L1e,{})}),o.jsx(ze,{path:"statistic",element:o.jsx(R1e,{})})]}),o.jsx(ze,{path:"detail-customer/:customerCode",element:o.jsx(F1e,{})}),o.jsx(ze,{path:"guest-detail/:guestEmail",element:o.jsx($1e,{})}),o.jsx(ze,{path:"guest-customers",element:o.jsx(z1e,{}),children:o.jsx(ze,{path:"statistic",element:o.jsx(H7,{})})}),o.jsx(ze,{path:"banner-slide",element:o.jsx(Dbe,{})}),o.jsx(ze,{path:"discount",element:o.jsx(N1e,{})}),o.jsx(ze,{path:"flashsale",element:o.jsx(p1e,{})}),o.jsx(ze,{path:"flashsale/create",element:o.jsx(HP,{})}),o.jsx(ze,{path:"flashsale/edit/:id",element:o.jsx(HP,{})}),o.jsx(ze,{path:"flashsale/detail/:id",element:o.jsx(H1e,{})})]}),o.jsx(ze,{path:"/dashboard/login",element:o.jsx(Cbe,{children:o.jsx(HG,{})})}),o.jsx(ze,{path:"*",element:o.jsx(Gye,{})}),o.jsx(ze,{path:"/unauthorized",element:o.jsx(Yye,{})})]}),o.jsx(J9,{position:"top-right",autoClose:3e3})]})}const Y1e=T.createContext(null);function X1e({children:t}){const[e,n]=T.useState(null);return o.jsx(Y1e.Provider,{value:{currCategory:e,setCurrCategory:n},children:t})}const Q1e=new aU;qz.createRoot(document.getElementById("root")).render(o.jsx(T.StrictMode,{children:o.jsx(l9,{children:o.jsx(oU,{client:Q1e,children:o.jsx(X1e,{children:o.jsx(vU,{children:o.jsx(G1e,{})})})})})}));
