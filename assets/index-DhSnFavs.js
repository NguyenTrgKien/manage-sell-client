function w9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ff(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rb={exports:{}},Od={},Fb={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function N9(){if(YC)return ot;YC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(V,Y,Z){this.props=V,this.context=Y,this.refs=v,this.updater=Z||g}b.prototype.isReactComponent={},b.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=b.prototype;function N(V,Y,Z){this.props=V,this.context=Y,this.refs=v,this.updater=Z||g}var C=N.prototype=new w;C.constructor=N,x(C,b.prototype),C.isPureReactComponent=!0;var P=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function T(V,Y,Z){var ee,le={},ge=null,te=null;if(Y!=null)for(ee in Y.ref!==void 0&&(te=Y.ref),Y.key!==void 0&&(ge=""+Y.key),Y)S.call(Y,ee)&&!M.hasOwnProperty(ee)&&(le[ee]=Y[ee]);var de=arguments.length-2;if(de===1)le.children=Z;else if(1<de){for(var xe=Array(de),Se=0;Se<de;Se++)xe[Se]=arguments[Se+2];le.children=xe}if(V&&V.defaultProps)for(ee in de=V.defaultProps,de)le[ee]===void 0&&(le[ee]=de[ee]);return{$$typeof:t,type:V,key:ge,ref:te,props:le,_owner:A.current}}function _(V,Y){return{$$typeof:t,type:V.type,key:Y,ref:V.ref,props:V.props,_owner:V._owner}}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function D(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Z){return Y[Z]})}var R=/\/+/g;function G(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Y.toString(36)}function U(V,Y,Z,ee,le){var ge=typeof V;(ge==="undefined"||ge==="boolean")&&(V=null);var te=!1;if(V===null)te=!0;else switch(ge){case"string":case"number":te=!0;break;case"object":switch(V.$$typeof){case t:case e:te=!0}}if(te)return te=V,le=le(te),V=ee===""?"."+G(te,0):ee,P(le)?(Z="",V!=null&&(Z=V.replace(R,"$&/")+"/"),U(le,Y,Z,"",function(Se){return Se})):le!=null&&(I(le)&&(le=_(le,Z+(!le.key||te&&te.key===le.key?"":(""+le.key).replace(R,"$&/")+"/")+V)),Y.push(le)),1;if(te=0,ee=ee===""?".":ee+":",P(V))for(var de=0;de<V.length;de++){ge=V[de];var xe=ee+G(ge,de);te+=U(ge,Y,Z,xe,le)}else if(xe=p(V),typeof xe=="function")for(V=xe.call(V),de=0;!(ge=V.next()).done;)ge=ge.value,xe=ee+G(ge,de++),te+=U(ge,Y,Z,xe,le);else if(ge==="object")throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return te}function q(V,Y,Z){if(V==null)return V;var ee=[],le=0;return U(V,ee,"","",function(ge){return Y.call(Z,ge,le++)}),ee}function z(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(Z){(V._status===0||V._status===-1)&&(V._status=1,V._result=Z)},function(Z){(V._status===0||V._status===-1)&&(V._status=2,V._result=Z)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var B={current:null},$={transition:null},Q={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:$,ReactCurrentOwner:A};function H(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:q,forEach:function(V,Y,Z){q(V,function(){Y.apply(this,arguments)},Z)},count:function(V){var Y=0;return q(V,function(){Y++}),Y},toArray:function(V){return q(V,function(Y){return Y})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ot.Component=b,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=N,ot.StrictMode=r,ot.Suspense=c,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ot.act=H,ot.cloneElement=function(V,Y,Z){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ee=x({},V.props),le=V.key,ge=V.ref,te=V._owner;if(Y!=null){if(Y.ref!==void 0&&(ge=Y.ref,te=A.current),Y.key!==void 0&&(le=""+Y.key),V.type&&V.type.defaultProps)var de=V.type.defaultProps;for(xe in Y)S.call(Y,xe)&&!M.hasOwnProperty(xe)&&(ee[xe]=Y[xe]===void 0&&de!==void 0?de[xe]:Y[xe])}var xe=arguments.length-2;if(xe===1)ee.children=Z;else if(1<xe){de=Array(xe);for(var Se=0;Se<xe;Se++)de[Se]=arguments[Se+2];ee.children=de}return{$$typeof:t,type:V.type,key:le,ref:ge,props:ee,_owner:te}},ot.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:i,_context:V},V.Consumer=V},ot.createElement=T,ot.createFactory=function(V){var Y=T.bind(null,V);return Y.type=V,Y},ot.createRef=function(){return{current:null}},ot.forwardRef=function(V){return{$$typeof:l,render:V}},ot.isValidElement=I,ot.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:z}},ot.memo=function(V,Y){return{$$typeof:u,type:V,compare:Y===void 0?null:Y}},ot.startTransition=function(V){var Y=$.transition;$.transition={};try{V()}finally{$.transition=Y}},ot.unstable_act=H,ot.useCallback=function(V,Y){return B.current.useCallback(V,Y)},ot.useContext=function(V){return B.current.useContext(V)},ot.useDebugValue=function(){},ot.useDeferredValue=function(V){return B.current.useDeferredValue(V)},ot.useEffect=function(V,Y){return B.current.useEffect(V,Y)},ot.useId=function(){return B.current.useId()},ot.useImperativeHandle=function(V,Y,Z){return B.current.useImperativeHandle(V,Y,Z)},ot.useInsertionEffect=function(V,Y){return B.current.useInsertionEffect(V,Y)},ot.useLayoutEffect=function(V,Y){return B.current.useLayoutEffect(V,Y)},ot.useMemo=function(V,Y){return B.current.useMemo(V,Y)},ot.useReducer=function(V,Y,Z){return B.current.useReducer(V,Y,Z)},ot.useRef=function(V){return B.current.useRef(V)},ot.useState=function(V){return B.current.useState(V)},ot.useSyncExternalStore=function(V,Y,Z){return B.current.useSyncExternalStore(V,Y,Z)},ot.useTransition=function(){return B.current.useTransition()},ot.version="18.3.1",ot}var XC;function rc(){return XC||(XC=1,Fb.exports=N9()),Fb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function j9(){if(QC)return Od;QC=1;var t=rc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var d,f={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:g,props:f,_owner:s.current}}return Od.Fragment=n,Od.jsx=a,Od.jsxs=a,Od}var JC;function S9(){return JC||(JC=1,Rb.exports=j9()),Rb.exports}var o=S9(),k=rc();const be=ff(k),ZC=w9({__proto__:null,default:be},[k]);var Um={},zb={exports:{}},Mr={},Vb={exports:{}},$b={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek;function C9(){return ek||(ek=1,(function(t){function e($,Q){var H=$.length;$.push(Q);e:for(;0<H;){var V=H-1>>>1,Y=$[V];if(0<s(Y,Q))$[V]=Q,$[H]=Y,H=V;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],H=$.pop();if(H!==Q){$[0]=H;e:for(var V=0,Y=$.length,Z=Y>>>1;V<Z;){var ee=2*(V+1)-1,le=$[ee],ge=ee+1,te=$[ge];if(0>s(le,H))ge<Y&&0>s(te,le)?($[V]=te,$[ge]=H,V=ge):($[V]=le,$[ee]=H,V=ee);else if(ge<Y&&0>s(te,H))$[V]=te,$[ge]=H,V=ge;else break e}}return Q}function s($,Q){var H=$.sortIndex-Q.sortIndex;return H!==0?H:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=$)r(u),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(u)}}function P($){if(v=!1,C($),!x)if(n(c)!==null)x=!0,z(S);else{var Q=n(u);Q!==null&&B(P,Q.startTime-$)}}function S($,Q){x=!1,v&&(v=!1,w(T),T=-1),g=!0;var H=p;try{for(C(Q),f=n(c);f!==null&&(!(f.expirationTime>Q)||$&&!D());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var Y=V(f.expirationTime<=Q);Q=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(c)&&r(c),C(Q)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var ee=n(u);ee!==null&&B(P,ee.startTime-Q),Z=!1}return Z}finally{f=null,p=H,g=!1}}var A=!1,M=null,T=-1,_=5,I=-1;function D(){return!(t.unstable_now()-I<_)}function R(){if(M!==null){var $=t.unstable_now();I=$;var Q=!0;try{Q=M(!0,$)}finally{Q?G():(A=!1,M=null)}}else A=!1}var G;if(typeof N=="function")G=function(){N(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=R,G=function(){q.postMessage(null)}}else G=function(){b(R,0)};function z($){M=$,A||(A=!0,G())}function B($,Q){T=b(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,z(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var H=p;p=Q;try{return $()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=p;p=$;try{return Q()}finally{p=H}},t.unstable_scheduleCallback=function($,Q,H){var V=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,$={id:d++,callback:Q,priorityLevel:$,startTime:H,expirationTime:Y,sortIndex:-1},H>V?($.sortIndex=H,e(u,$),n(c)===null&&$===n(u)&&(v?(w(T),T=-1):v=!0,B(P,H-V))):($.sortIndex=Y,e(c,$),x||g||(x=!0,z(S))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var Q=p;return function(){var H=p;p=Q;try{return $.apply(this,arguments)}finally{p=H}}}})($b)),$b}var tk;function k9(){return tk||(tk=1,Vb.exports=C9()),Vb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function T9(){if(nk)return Mr;nk=1;var t=rc(),e=k9();function n(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(h,m){a(h,m),a(h+"Capture",m)}function a(h,m){for(s[h]=m,h=0;h<m.length;h++)r.add(m[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function g(h,m,y,j){if(y!==null&&y.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return j?!1:y!==null?!y.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function x(h,m,y,j){if(m===null||typeof m>"u"||g(h,m,y,j))return!0;if(j)return!1;if(y!==null)switch(y.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(h,m,y,j,E,O,L){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=j,this.attributeNamespace=E,this.mustUseProperty=y,this.propertyName=h,this.type=m,this.sanitizeURL=O,this.removeEmptyString=L}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];b[m]=new v(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function N(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(w,N);b[m]=new v(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(w,N);b[m]=new v(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(w,N);b[m]=new v(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function C(h,m,y,j){var E=b.hasOwnProperty(m)?b[m]:null;(E!==null?E.type!==0:j||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,y,E,j)&&(y=null),j||E===null?p(m)&&(y===null?h.removeAttribute(m):h.setAttribute(m,""+y)):E.mustUseProperty?h[E.propertyName]=y===null?E.type===3?!1:"":y:(m=E.attributeName,j=E.attributeNamespace,y===null?h.removeAttribute(m):(E=E.type,y=E===3||E===4&&y===!0?"":""+y,j?h.setAttributeNS(j,m,y):h.setAttribute(m,y))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),A=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),$=Symbol.iterator;function Q(h){return h===null||typeof h!="object"?null:(h=$&&h[$]||h["@@iterator"],typeof h=="function"?h:null)}var H=Object.assign,V;function Y(h){if(V===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);V=m&&m[1]||""}return`
`+V+h}var Z=!1;function ee(h,m){if(!h||Z)return"";Z=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ae){var j=ae}Reflect.construct(h,[],m)}else{try{m.call()}catch(ae){j=ae}h.call(m.prototype)}else{try{throw Error()}catch(ae){j=ae}h()}}catch(ae){if(ae&&j&&typeof ae.stack=="string"){for(var E=ae.stack.split(`
`),O=j.stack.split(`
`),L=E.length-1,W=O.length-1;1<=L&&0<=W&&E[L]!==O[W];)W--;for(;1<=L&&0<=W;L--,W--)if(E[L]!==O[W]){if(L!==1||W!==1)do if(L--,W--,0>W||E[L]!==O[W]){var X=`
`+E[L].replace(" at new "," at ");return h.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",h.displayName)),X}while(1<=L&&0<=W);break}}}finally{Z=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?Y(h):""}function le(h){switch(h.tag){case 5:return Y(h.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return h=ee(h.type,!1),h;case 11:return h=ee(h.type.render,!1),h;case 1:return h=ee(h.type,!0),h;default:return""}}function ge(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case M:return"Fragment";case A:return"Portal";case _:return"Profiler";case T:return"StrictMode";case G:return"Suspense";case U:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case D:return(h.displayName||"Context")+".Consumer";case I:return(h._context.displayName||"Context")+".Provider";case R:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case q:return m=h.displayName||null,m!==null?m:ge(h.type)||"Memo";case z:m=h._payload,h=h._init;try{return ge(h(m))}catch{}}return null}function te(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(m);case 8:return m===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function de(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function xe(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Se(h){var m=xe(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),j=""+h[m];if(!h.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var E=y.get,O=y.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return E.call(this)},set:function(L){j=""+L,O.call(this,L)}}),Object.defineProperty(h,m,{enumerable:y.enumerable}),{getValue:function(){return j},setValue:function(L){j=""+L},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function rt(h){h._valueTracker||(h._valueTracker=Se(h))}function Ge(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var y=m.getValue(),j="";return h&&(j=xe(h)?h.checked?"true":"false":h.value),h=j,h!==y?(m.setValue(h),!0):!1}function Oe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function ie(h,m){var y=m.checked;return H({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??h._wrapperState.initialChecked})}function Me(h,m){var y=m.defaultValue==null?"":m.defaultValue,j=m.checked!=null?m.checked:m.defaultChecked;y=de(m.value!=null?m.value:y),h._wrapperState={initialChecked:j,initialValue:y,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Xe(h,m){m=m.checked,m!=null&&C(h,"checked",m,!1)}function vt(h,m){Xe(h,m);var y=de(m.value),j=m.type;if(y!=null)j==="number"?(y===0&&h.value===""||h.value!=y)&&(h.value=""+y):h.value!==""+y&&(h.value=""+y);else if(j==="submit"||j==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?vn(h,m.type,y):m.hasOwnProperty("defaultValue")&&vn(h,m.type,de(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function Nr(h,m,y){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var j=m.type;if(!(j!=="submit"&&j!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,y||m===h.value||(h.value=m),h.defaultValue=m}y=h.name,y!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,y!==""&&(h.name=y)}function vn(h,m,y){(m!=="number"||Oe(h.ownerDocument)!==h)&&(y==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+y&&(h.defaultValue=""+y))}var K=Array.isArray;function re(h,m,y,j){if(h=h.options,m){m={};for(var E=0;E<y.length;E++)m["$"+y[E]]=!0;for(y=0;y<h.length;y++)E=m.hasOwnProperty("$"+h[y].value),h[y].selected!==E&&(h[y].selected=E),E&&j&&(h[y].defaultSelected=!0)}else{for(y=""+de(y),m=null,E=0;E<h.length;E++){if(h[E].value===y){h[E].selected=!0,j&&(h[E].defaultSelected=!0);return}m!==null||h[E].disabled||(m=h[E])}m!==null&&(m.selected=!0)}}function ue(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ee(h,m){var y=m.value;if(y==null){if(y=m.children,m=m.defaultValue,y!=null){if(m!=null)throw Error(n(92));if(K(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),y=m}h._wrapperState={initialValue:de(y)}}function Ce(h,m){var y=de(m.value),j=de(m.defaultValue);y!=null&&(y=""+y,y!==h.value&&(h.value=y),m.defaultValue==null&&h.defaultValue!==y&&(h.defaultValue=y)),j!=null&&(h.defaultValue=""+j)}function je(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function ze(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?ze(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var pt,hr=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,y,j,E){MSApp.execUnsafeLocalFunction(function(){return h(m,y,j,E)})}:h})(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=pt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function Zs(h,m){if(m){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=m;return}}h.textContent=m}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xx=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(h){Xx.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),jr[m]=jr[h]})});function dc(h,m,y){return m==null||typeof m=="boolean"||m===""?"":y||typeof m!="number"||m===0||jr.hasOwnProperty(h)&&jr[h]?(""+m).trim():m+"px"}function hc(h,m){h=h.style;for(var y in m)if(m.hasOwnProperty(y)){var j=y.indexOf("--")===0,E=dc(y,m[y],j);y==="float"&&(y="cssFloat"),j?h.setProperty(y,E):h[y]=E}}var Qx=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(h,m){if(m){if(Qx[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Yu(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Jx(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Zx=null,pc=null,gc=null;function h4(h){if(h=xd(h)){if(typeof Zx!="function")throw Error(n(280));var m=h.stateNode;m&&(m=im(m),Zx(h.stateNode,h.type,m))}}function f4(h){pc?gc?gc.push(h):gc=[h]:pc=h}function m4(){if(pc){var h=pc,m=gc;if(gc=pc=null,h4(h),m)for(h=0;h<m.length;h++)h4(m[h])}}function p4(h,m){return h(m)}function g4(){}var ey=!1;function x4(h,m,y){if(ey)return h(m,y);ey=!0;try{return p4(h,m,y)}finally{ey=!1,(pc!==null||gc!==null)&&(g4(),m4())}}function Xu(h,m){var y=h.stateNode;if(y===null)return null;var j=im(y);if(j===null)return null;y=j[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(h=h.type,j=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!j;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(n(231,m,typeof y));return y}var ty=!1;if(l)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){ty=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{ty=!1}function Tz(h,m,y,j,E,O,L,W,X){var ae=Array.prototype.slice.call(arguments,3);try{m.apply(y,ae)}catch(pe){this.onError(pe)}}var Ju=!1,Rf=null,Ff=!1,ny=null,Ez={onError:function(h){Ju=!0,Rf=h}};function Mz(h,m,y,j,E,O,L,W,X){Ju=!1,Rf=null,Tz.apply(Ez,arguments)}function Pz(h,m,y,j,E,O,L,W,X){if(Mz.apply(this,arguments),Ju){if(Ju){var ae=Rf;Ju=!1,Rf=null}else throw Error(n(198));Ff||(Ff=!0,ny=ae)}}function zo(h){var m=h,y=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(y=m.return),h=m.return;while(h)}return m.tag===3?y:null}function y4(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function b4(h){if(zo(h)!==h)throw Error(n(188))}function Az(h){var m=h.alternate;if(!m){if(m=zo(h),m===null)throw Error(n(188));return m!==h?null:h}for(var y=h,j=m;;){var E=y.return;if(E===null)break;var O=E.alternate;if(O===null){if(j=E.return,j!==null){y=j;continue}break}if(E.child===O.child){for(O=E.child;O;){if(O===y)return b4(E),h;if(O===j)return b4(E),m;O=O.sibling}throw Error(n(188))}if(y.return!==j.return)y=E,j=O;else{for(var L=!1,W=E.child;W;){if(W===y){L=!0,y=E,j=O;break}if(W===j){L=!0,j=E,y=O;break}W=W.sibling}if(!L){for(W=O.child;W;){if(W===y){L=!0,y=O,j=E;break}if(W===j){L=!0,j=O,y=E;break}W=W.sibling}if(!L)throw Error(n(189))}}if(y.alternate!==j)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?h:m}function v4(h){return h=Az(h),h!==null?w4(h):null}function w4(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=w4(h);if(m!==null)return m;h=h.sibling}return null}var N4=e.unstable_scheduleCallback,j4=e.unstable_cancelCallback,Oz=e.unstable_shouldYield,_z=e.unstable_requestPaint,sn=e.unstable_now,Dz=e.unstable_getCurrentPriorityLevel,ry=e.unstable_ImmediatePriority,S4=e.unstable_UserBlockingPriority,zf=e.unstable_NormalPriority,Iz=e.unstable_LowPriority,C4=e.unstable_IdlePriority,Vf=null,ei=null;function Lz(h){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Vf,h,void 0,(h.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:zz,Rz=Math.log,Fz=Math.LN2;function zz(h){return h>>>=0,h===0?32:31-(Rz(h)/Fz|0)|0}var $f=64,Bf=4194304;function Zu(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Hf(h,m){var y=h.pendingLanes;if(y===0)return 0;var j=0,E=h.suspendedLanes,O=h.pingedLanes,L=y&268435455;if(L!==0){var W=L&~E;W!==0?j=Zu(W):(O&=L,O!==0&&(j=Zu(O)))}else L=y&~E,L!==0?j=Zu(L):O!==0&&(j=Zu(O));if(j===0)return 0;if(m!==0&&m!==j&&(m&E)===0&&(E=j&-j,O=m&-m,E>=O||E===16&&(O&4194240)!==0))return m;if((j&4)!==0&&(j|=y&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=j;0<m;)y=31-Ps(m),E=1<<y,j|=h[y],m&=~E;return j}function Vz(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $z(h,m){for(var y=h.suspendedLanes,j=h.pingedLanes,E=h.expirationTimes,O=h.pendingLanes;0<O;){var L=31-Ps(O),W=1<<L,X=E[L];X===-1?((W&y)===0||(W&j)!==0)&&(E[L]=Vz(W,m)):X<=m&&(h.expiredLanes|=W),O&=~W}}function sy(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function k4(){var h=$f;return $f<<=1,($f&4194240)===0&&($f=64),h}function iy(h){for(var m=[],y=0;31>y;y++)m.push(h);return m}function ed(h,m,y){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Ps(m),h[m]=y}function Bz(h,m){var y=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var j=h.eventTimes;for(h=h.expirationTimes;0<y;){var E=31-Ps(y),O=1<<E;m[E]=0,j[E]=-1,h[E]=-1,y&=~O}}function ay(h,m){var y=h.entangledLanes|=m;for(h=h.entanglements;y;){var j=31-Ps(y),E=1<<j;E&m|h[j]&m&&(h[j]|=m),y&=~E}}var wt=0;function T4(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var E4,oy,M4,P4,A4,ly=!1,Uf=[],Ca=null,ka=null,Ta=null,td=new Map,nd=new Map,Ea=[],Hz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O4(h,m){switch(h){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":td.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(m.pointerId)}}function rd(h,m,y,j,E,O){return h===null||h.nativeEvent!==O?(h={blockedOn:m,domEventName:y,eventSystemFlags:j,nativeEvent:O,targetContainers:[E]},m!==null&&(m=xd(m),m!==null&&oy(m)),h):(h.eventSystemFlags|=j,m=h.targetContainers,E!==null&&m.indexOf(E)===-1&&m.push(E),h)}function Uz(h,m,y,j,E){switch(m){case"focusin":return Ca=rd(Ca,h,m,y,j,E),!0;case"dragenter":return ka=rd(ka,h,m,y,j,E),!0;case"mouseover":return Ta=rd(Ta,h,m,y,j,E),!0;case"pointerover":var O=E.pointerId;return td.set(O,rd(td.get(O)||null,h,m,y,j,E)),!0;case"gotpointercapture":return O=E.pointerId,nd.set(O,rd(nd.get(O)||null,h,m,y,j,E)),!0}return!1}function _4(h){var m=Vo(h.target);if(m!==null){var y=zo(m);if(y!==null){if(m=y.tag,m===13){if(m=y4(y),m!==null){h.blockedOn=m,A4(h.priority,function(){M4(y)});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Wf(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var y=uy(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(y===null){y=h.nativeEvent;var j=new y.constructor(y.type,y);mc=j,y.target.dispatchEvent(j),mc=null}else return m=xd(y),m!==null&&oy(m),h.blockedOn=y,!1;m.shift()}return!0}function D4(h,m,y){Wf(h)&&y.delete(m)}function Wz(){ly=!1,Ca!==null&&Wf(Ca)&&(Ca=null),ka!==null&&Wf(ka)&&(ka=null),Ta!==null&&Wf(Ta)&&(Ta=null),td.forEach(D4),nd.forEach(D4)}function sd(h,m){h.blockedOn===m&&(h.blockedOn=null,ly||(ly=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wz)))}function id(h){function m(E){return sd(E,h)}if(0<Uf.length){sd(Uf[0],h);for(var y=1;y<Uf.length;y++){var j=Uf[y];j.blockedOn===h&&(j.blockedOn=null)}}for(Ca!==null&&sd(Ca,h),ka!==null&&sd(ka,h),Ta!==null&&sd(Ta,h),td.forEach(m),nd.forEach(m),y=0;y<Ea.length;y++)j=Ea[y],j.blockedOn===h&&(j.blockedOn=null);for(;0<Ea.length&&(y=Ea[0],y.blockedOn===null);)_4(y),y.blockedOn===null&&Ea.shift()}var xc=P.ReactCurrentBatchConfig,qf=!0;function qz(h,m,y,j){var E=wt,O=xc.transition;xc.transition=null;try{wt=1,cy(h,m,y,j)}finally{wt=E,xc.transition=O}}function Kz(h,m,y,j){var E=wt,O=xc.transition;xc.transition=null;try{wt=4,cy(h,m,y,j)}finally{wt=E,xc.transition=O}}function cy(h,m,y,j){if(qf){var E=uy(h,m,y,j);if(E===null)Ty(h,m,j,Kf,y),O4(h,j);else if(Uz(E,h,m,y,j))j.stopPropagation();else if(O4(h,j),m&4&&-1<Hz.indexOf(h)){for(;E!==null;){var O=xd(E);if(O!==null&&E4(O),O=uy(h,m,y,j),O===null&&Ty(h,m,j,Kf,y),O===E)break;E=O}E!==null&&j.stopPropagation()}else Ty(h,m,j,null,y)}}var Kf=null;function uy(h,m,y,j){if(Kf=null,h=Jx(j),h=Vo(h),h!==null)if(m=zo(h),m===null)h=null;else if(y=m.tag,y===13){if(h=y4(m),h!==null)return h;h=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return Kf=h,null}function I4(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dz()){case ry:return 1;case S4:return 4;case zf:case Iz:return 16;case C4:return 536870912;default:return 16}default:return 16}}var Ma=null,dy=null,Gf=null;function L4(){if(Gf)return Gf;var h,m=dy,y=m.length,j,E="value"in Ma?Ma.value:Ma.textContent,O=E.length;for(h=0;h<y&&m[h]===E[h];h++);var L=y-h;for(j=1;j<=L&&m[y-j]===E[O-j];j++);return Gf=E.slice(h,1<j?1-j:void 0)}function Yf(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Xf(){return!0}function R4(){return!1}function Hr(h){function m(y,j,E,O,L){this._reactName=y,this._targetInst=E,this.type=j,this.nativeEvent=O,this.target=L,this.currentTarget=null;for(var W in h)h.hasOwnProperty(W)&&(y=h[W],this[W]=y?y(O):O[W]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Xf:R4,this.isPropagationStopped=R4,this}return H(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),m}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=Hr(yc),ad=H({},yc,{view:0,detail:0}),Gz=Hr(ad),fy,my,od,Qf=H({},ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==od&&(od&&h.type==="mousemove"?(fy=h.screenX-od.screenX,my=h.screenY-od.screenY):my=fy=0,od=h),fy)},movementY:function(h){return"movementY"in h?h.movementY:my}}),F4=Hr(Qf),Yz=H({},Qf,{dataTransfer:0}),Xz=Hr(Yz),Qz=H({},ad,{relatedTarget:0}),py=Hr(Qz),Jz=H({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),Zz=Hr(Jz),eV=H({},yc,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),tV=Hr(eV),nV=H({},yc,{data:0}),z4=Hr(nV),rV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aV(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=iV[h])?!!m[h]:!1}function gy(){return aV}var oV=H({},ad,{key:function(h){if(h.key){var m=rV[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=Yf(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?sV[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(h){return h.type==="keypress"?Yf(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Yf(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),lV=Hr(oV),cV=H({},Qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V4=Hr(cV),uV=H({},ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),dV=Hr(uV),hV=H({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),fV=Hr(hV),mV=H({},Qf,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),pV=Hr(mV),gV=[9,13,27,32],xy=l&&"CompositionEvent"in window,ld=null;l&&"documentMode"in document&&(ld=document.documentMode);var xV=l&&"TextEvent"in window&&!ld,$4=l&&(!xy||ld&&8<ld&&11>=ld),B4=" ",H4=!1;function U4(h,m){switch(h){case"keyup":return gV.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W4(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var bc=!1;function yV(h,m){switch(h){case"compositionend":return W4(m);case"keypress":return m.which!==32?null:(H4=!0,B4);case"textInput":return h=m.data,h===B4&&H4?null:h;default:return null}}function bV(h,m){if(bc)return h==="compositionend"||!xy&&U4(h,m)?(h=L4(),Gf=dy=Ma=null,bc=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return $4&&m.locale!=="ko"?null:m.data;default:return null}}var vV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q4(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!vV[h.type]:m==="textarea"}function K4(h,m,y,j){f4(j),m=nm(m,"onChange"),0<m.length&&(y=new hy("onChange","change",null,y,j),h.push({event:y,listeners:m}))}var cd=null,ud=null;function wV(h){d3(h,0)}function Jf(h){var m=Sc(h);if(Ge(m))return h}function NV(h,m){if(h==="change")return m}var G4=!1;if(l){var yy;if(l){var by="oninput"in document;if(!by){var Y4=document.createElement("div");Y4.setAttribute("oninput","return;"),by=typeof Y4.oninput=="function"}yy=by}else yy=!1;G4=yy&&(!document.documentMode||9<document.documentMode)}function X4(){cd&&(cd.detachEvent("onpropertychange",Q4),ud=cd=null)}function Q4(h){if(h.propertyName==="value"&&Jf(ud)){var m=[];K4(m,ud,h,Jx(h)),x4(wV,m)}}function jV(h,m,y){h==="focusin"?(X4(),cd=m,ud=y,cd.attachEvent("onpropertychange",Q4)):h==="focusout"&&X4()}function SV(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Jf(ud)}function CV(h,m){if(h==="click")return Jf(m)}function kV(h,m){if(h==="input"||h==="change")return Jf(m)}function TV(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var As=typeof Object.is=="function"?Object.is:TV;function dd(h,m){if(As(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var y=Object.keys(h),j=Object.keys(m);if(y.length!==j.length)return!1;for(j=0;j<y.length;j++){var E=y[j];if(!c.call(m,E)||!As(h[E],m[E]))return!1}return!0}function J4(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Z4(h,m){var y=J4(h);h=0;for(var j;y;){if(y.nodeType===3){if(j=h+y.textContent.length,h<=m&&j>=m)return{node:y,offset:m-h};h=j}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=J4(y)}}function e3(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?e3(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function t3(){for(var h=window,m=Oe();m instanceof h.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)h=m.contentWindow;else break;m=Oe(h.document)}return m}function vy(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function EV(h){var m=t3(),y=h.focusedElem,j=h.selectionRange;if(m!==y&&y&&y.ownerDocument&&e3(y.ownerDocument.documentElement,y)){if(j!==null&&vy(y)){if(m=j.start,h=j.end,h===void 0&&(h=m),"selectionStart"in y)y.selectionStart=m,y.selectionEnd=Math.min(h,y.value.length);else if(h=(m=y.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var E=y.textContent.length,O=Math.min(j.start,E);j=j.end===void 0?O:Math.min(j.end,E),!h.extend&&O>j&&(E=j,j=O,O=E),E=Z4(y,O);var L=Z4(y,j);E&&L&&(h.rangeCount!==1||h.anchorNode!==E.node||h.anchorOffset!==E.offset||h.focusNode!==L.node||h.focusOffset!==L.offset)&&(m=m.createRange(),m.setStart(E.node,E.offset),h.removeAllRanges(),O>j?(h.addRange(m),h.extend(L.node,L.offset)):(m.setEnd(L.node,L.offset),h.addRange(m)))}}for(m=[],h=y;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<m.length;y++)h=m[y],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var MV=l&&"documentMode"in document&&11>=document.documentMode,vc=null,wy=null,hd=null,Ny=!1;function n3(h,m,y){var j=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Ny||vc==null||vc!==Oe(j)||(j=vc,"selectionStart"in j&&vy(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),hd&&dd(hd,j)||(hd=j,j=nm(wy,"onSelect"),0<j.length&&(m=new hy("onSelect","select",null,m,y),h.push({event:m,listeners:j}),m.target=vc)))}function Zf(h,m){var y={};return y[h.toLowerCase()]=m.toLowerCase(),y["Webkit"+h]="webkit"+m,y["Moz"+h]="moz"+m,y}var wc={animationend:Zf("Animation","AnimationEnd"),animationiteration:Zf("Animation","AnimationIteration"),animationstart:Zf("Animation","AnimationStart"),transitionend:Zf("Transition","TransitionEnd")},jy={},r3={};l&&(r3=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function em(h){if(jy[h])return jy[h];if(!wc[h])return h;var m=wc[h],y;for(y in m)if(m.hasOwnProperty(y)&&y in r3)return jy[h]=m[y];return h}var s3=em("animationend"),i3=em("animationiteration"),a3=em("animationstart"),o3=em("transitionend"),l3=new Map,c3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(h,m){l3.set(h,m),i(m,[h])}for(var Sy=0;Sy<c3.length;Sy++){var Cy=c3[Sy],PV=Cy.toLowerCase(),AV=Cy[0].toUpperCase()+Cy.slice(1);Pa(PV,"on"+AV)}Pa(s3,"onAnimationEnd"),Pa(i3,"onAnimationIteration"),Pa(a3,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(o3,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OV=new Set("cancel close invalid load scroll toggle".split(" ").concat(fd));function u3(h,m,y){var j=h.type||"unknown-event";h.currentTarget=y,Pz(j,m,void 0,h),h.currentTarget=null}function d3(h,m){m=(m&4)!==0;for(var y=0;y<h.length;y++){var j=h[y],E=j.event;j=j.listeners;e:{var O=void 0;if(m)for(var L=j.length-1;0<=L;L--){var W=j[L],X=W.instance,ae=W.currentTarget;if(W=W.listener,X!==O&&E.isPropagationStopped())break e;u3(E,W,ae),O=X}else for(L=0;L<j.length;L++){if(W=j[L],X=W.instance,ae=W.currentTarget,W=W.listener,X!==O&&E.isPropagationStopped())break e;u3(E,W,ae),O=X}}}if(Ff)throw h=ny,Ff=!1,ny=null,h}function _t(h,m){var y=m[_y];y===void 0&&(y=m[_y]=new Set);var j=h+"__bubble";y.has(j)||(h3(m,h,2,!1),y.add(j))}function ky(h,m,y){var j=0;m&&(j|=4),h3(y,h,j,m)}var tm="_reactListening"+Math.random().toString(36).slice(2);function md(h){if(!h[tm]){h[tm]=!0,r.forEach(function(y){y!=="selectionchange"&&(OV.has(y)||ky(y,!1,h),ky(y,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[tm]||(m[tm]=!0,ky("selectionchange",!1,m))}}function h3(h,m,y,j){switch(I4(m)){case 1:var E=qz;break;case 4:E=Kz;break;default:E=cy}y=E.bind(null,m,y,h),E=void 0,!ty||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(E=!0),j?E!==void 0?h.addEventListener(m,y,{capture:!0,passive:E}):h.addEventListener(m,y,!0):E!==void 0?h.addEventListener(m,y,{passive:E}):h.addEventListener(m,y,!1)}function Ty(h,m,y,j,E){var O=j;if((m&1)===0&&(m&2)===0&&j!==null)e:for(;;){if(j===null)return;var L=j.tag;if(L===3||L===4){var W=j.stateNode.containerInfo;if(W===E||W.nodeType===8&&W.parentNode===E)break;if(L===4)for(L=j.return;L!==null;){var X=L.tag;if((X===3||X===4)&&(X=L.stateNode.containerInfo,X===E||X.nodeType===8&&X.parentNode===E))return;L=L.return}for(;W!==null;){if(L=Vo(W),L===null)return;if(X=L.tag,X===5||X===6){j=O=L;continue e}W=W.parentNode}}j=j.return}x4(function(){var ae=O,pe=Jx(y),ye=[];e:{var me=l3.get(h);if(me!==void 0){var Pe=hy,De=h;switch(h){case"keypress":if(Yf(y)===0)break e;case"keydown":case"keyup":Pe=lV;break;case"focusin":De="focus",Pe=py;break;case"focusout":De="blur",Pe=py;break;case"beforeblur":case"afterblur":Pe=py;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=F4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Xz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=dV;break;case s3:case i3:case a3:Pe=Zz;break;case o3:Pe=fV;break;case"scroll":Pe=Gz;break;case"wheel":Pe=pV;break;case"copy":case"cut":case"paste":Pe=tV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=V4}var Ie=(m&4)!==0,an=!Ie&&h==="scroll",ne=Ie?me!==null?me+"Capture":null:me;Ie=[];for(var J=ae,se;J!==null;){se=J;var Ne=se.stateNode;if(se.tag===5&&Ne!==null&&(se=Ne,ne!==null&&(Ne=Xu(J,ne),Ne!=null&&Ie.push(pd(J,Ne,se)))),an)break;J=J.return}0<Ie.length&&(me=new Pe(me,De,null,y,pe),ye.push({event:me,listeners:Ie}))}}if((m&7)===0){e:{if(me=h==="mouseover"||h==="pointerover",Pe=h==="mouseout"||h==="pointerout",me&&y!==mc&&(De=y.relatedTarget||y.fromElement)&&(Vo(De)||De[Pi]))break e;if((Pe||me)&&(me=pe.window===pe?pe:(me=pe.ownerDocument)?me.defaultView||me.parentWindow:window,Pe?(De=y.relatedTarget||y.toElement,Pe=ae,De=De?Vo(De):null,De!==null&&(an=zo(De),De!==an||De.tag!==5&&De.tag!==6)&&(De=null)):(Pe=null,De=ae),Pe!==De)){if(Ie=F4,Ne="onMouseLeave",ne="onMouseEnter",J="mouse",(h==="pointerout"||h==="pointerover")&&(Ie=V4,Ne="onPointerLeave",ne="onPointerEnter",J="pointer"),an=Pe==null?me:Sc(Pe),se=De==null?me:Sc(De),me=new Ie(Ne,J+"leave",Pe,y,pe),me.target=an,me.relatedTarget=se,Ne=null,Vo(pe)===ae&&(Ie=new Ie(ne,J+"enter",De,y,pe),Ie.target=se,Ie.relatedTarget=an,Ne=Ie),an=Ne,Pe&&De)t:{for(Ie=Pe,ne=De,J=0,se=Ie;se;se=Nc(se))J++;for(se=0,Ne=ne;Ne;Ne=Nc(Ne))se++;for(;0<J-se;)Ie=Nc(Ie),J--;for(;0<se-J;)ne=Nc(ne),se--;for(;J--;){if(Ie===ne||ne!==null&&Ie===ne.alternate)break t;Ie=Nc(Ie),ne=Nc(ne)}Ie=null}else Ie=null;Pe!==null&&f3(ye,me,Pe,Ie,!1),De!==null&&an!==null&&f3(ye,an,De,Ie,!0)}}e:{if(me=ae?Sc(ae):window,Pe=me.nodeName&&me.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&me.type==="file")var Re=NV;else if(q4(me))if(G4)Re=kV;else{Re=SV;var We=jV}else(Pe=me.nodeName)&&Pe.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Re=CV);if(Re&&(Re=Re(h,ae))){K4(ye,Re,y,pe);break e}We&&We(h,me,ae),h==="focusout"&&(We=me._wrapperState)&&We.controlled&&me.type==="number"&&vn(me,"number",me.value)}switch(We=ae?Sc(ae):window,h){case"focusin":(q4(We)||We.contentEditable==="true")&&(vc=We,wy=ae,hd=null);break;case"focusout":hd=wy=vc=null;break;case"mousedown":Ny=!0;break;case"contextmenu":case"mouseup":case"dragend":Ny=!1,n3(ye,y,pe);break;case"selectionchange":if(MV)break;case"keydown":case"keyup":n3(ye,y,pe)}var qe;if(xy)e:{switch(h){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else bc?U4(h,y)&&(et="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(et="onCompositionStart");et&&($4&&y.locale!=="ko"&&(bc||et!=="onCompositionStart"?et==="onCompositionEnd"&&bc&&(qe=L4()):(Ma=pe,dy="value"in Ma?Ma.value:Ma.textContent,bc=!0)),We=nm(ae,et),0<We.length&&(et=new z4(et,h,null,y,pe),ye.push({event:et,listeners:We}),qe?et.data=qe:(qe=W4(y),qe!==null&&(et.data=qe)))),(qe=xV?yV(h,y):bV(h,y))&&(ae=nm(ae,"onBeforeInput"),0<ae.length&&(pe=new z4("onBeforeInput","beforeinput",null,y,pe),ye.push({event:pe,listeners:ae}),pe.data=qe))}d3(ye,m)})}function pd(h,m,y){return{instance:h,listener:m,currentTarget:y}}function nm(h,m){for(var y=m+"Capture",j=[];h!==null;){var E=h,O=E.stateNode;E.tag===5&&O!==null&&(E=O,O=Xu(h,y),O!=null&&j.unshift(pd(h,O,E)),O=Xu(h,m),O!=null&&j.push(pd(h,O,E))),h=h.return}return j}function Nc(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function f3(h,m,y,j,E){for(var O=m._reactName,L=[];y!==null&&y!==j;){var W=y,X=W.alternate,ae=W.stateNode;if(X!==null&&X===j)break;W.tag===5&&ae!==null&&(W=ae,E?(X=Xu(y,O),X!=null&&L.unshift(pd(y,X,W))):E||(X=Xu(y,O),X!=null&&L.push(pd(y,X,W)))),y=y.return}L.length!==0&&h.push({event:m,listeners:L})}var _V=/\r\n?/g,DV=/\u0000|\uFFFD/g;function m3(h){return(typeof h=="string"?h:""+h).replace(_V,`
`).replace(DV,"")}function rm(h,m,y){if(m=m3(m),m3(h)!==m&&y)throw Error(n(425))}function sm(){}var Ey=null,My=null;function Py(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Ay=typeof setTimeout=="function"?setTimeout:void 0,IV=typeof clearTimeout=="function"?clearTimeout:void 0,p3=typeof Promise=="function"?Promise:void 0,LV=typeof queueMicrotask=="function"?queueMicrotask:typeof p3<"u"?function(h){return p3.resolve(null).then(h).catch(RV)}:Ay;function RV(h){setTimeout(function(){throw h})}function Oy(h,m){var y=m,j=0;do{var E=y.nextSibling;if(h.removeChild(y),E&&E.nodeType===8)if(y=E.data,y==="/$"){if(j===0){h.removeChild(E),id(m);return}j--}else y!=="$"&&y!=="$?"&&y!=="$!"||j++;y=E}while(y);id(m)}function Aa(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function g3(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return h;m--}else y==="/$"&&m++}h=h.previousSibling}return null}var jc=Math.random().toString(36).slice(2),ti="__reactFiber$"+jc,gd="__reactProps$"+jc,Pi="__reactContainer$"+jc,_y="__reactEvents$"+jc,FV="__reactListeners$"+jc,zV="__reactHandles$"+jc;function Vo(h){var m=h[ti];if(m)return m;for(var y=h.parentNode;y;){if(m=y[Pi]||y[ti]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(h=g3(h);h!==null;){if(y=h[ti])return y;h=g3(h)}return m}h=y,y=h.parentNode}return null}function xd(h){return h=h[ti]||h[Pi],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Sc(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function im(h){return h[gd]||null}var Dy=[],Cc=-1;function Oa(h){return{current:h}}function Dt(h){0>Cc||(h.current=Dy[Cc],Dy[Cc]=null,Cc--)}function Et(h,m){Cc++,Dy[Cc]=h.current,h.current=m}var _a={},Gn=Oa(_a),Sr=Oa(!1),$o=_a;function kc(h,m){var y=h.type.contextTypes;if(!y)return _a;var j=h.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===m)return j.__reactInternalMemoizedMaskedChildContext;var E={},O;for(O in y)E[O]=m[O];return j&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=E),E}function Cr(h){return h=h.childContextTypes,h!=null}function am(){Dt(Sr),Dt(Gn)}function x3(h,m,y){if(Gn.current!==_a)throw Error(n(168));Et(Gn,m),Et(Sr,y)}function y3(h,m,y){var j=h.stateNode;if(m=m.childContextTypes,typeof j.getChildContext!="function")return y;j=j.getChildContext();for(var E in j)if(!(E in m))throw Error(n(108,te(h)||"Unknown",E));return H({},y,j)}function om(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||_a,$o=Gn.current,Et(Gn,h),Et(Sr,Sr.current),!0}function b3(h,m,y){var j=h.stateNode;if(!j)throw Error(n(169));y?(h=y3(h,m,$o),j.__reactInternalMemoizedMergedChildContext=h,Dt(Sr),Dt(Gn),Et(Gn,h)):Dt(Sr),Et(Sr,y)}var Ai=null,lm=!1,Iy=!1;function v3(h){Ai===null?Ai=[h]:Ai.push(h)}function VV(h){lm=!0,v3(h)}function Da(){if(!Iy&&Ai!==null){Iy=!0;var h=0,m=wt;try{var y=Ai;for(wt=1;h<y.length;h++){var j=y[h];do j=j(!0);while(j!==null)}Ai=null,lm=!1}catch(E){throw Ai!==null&&(Ai=Ai.slice(h+1)),N4(ry,Da),E}finally{wt=m,Iy=!1}}return null}var Tc=[],Ec=0,cm=null,um=0,cs=[],us=0,Bo=null,Oi=1,_i="";function Ho(h,m){Tc[Ec++]=um,Tc[Ec++]=cm,cm=h,um=m}function w3(h,m,y){cs[us++]=Oi,cs[us++]=_i,cs[us++]=Bo,Bo=h;var j=Oi;h=_i;var E=32-Ps(j)-1;j&=~(1<<E),y+=1;var O=32-Ps(m)+E;if(30<O){var L=E-E%5;O=(j&(1<<L)-1).toString(32),j>>=L,E-=L,Oi=1<<32-Ps(m)+E|y<<E|j,_i=O+h}else Oi=1<<O|y<<E|j,_i=h}function Ly(h){h.return!==null&&(Ho(h,1),w3(h,1,0))}function Ry(h){for(;h===cm;)cm=Tc[--Ec],Tc[Ec]=null,um=Tc[--Ec],Tc[Ec]=null;for(;h===Bo;)Bo=cs[--us],cs[us]=null,_i=cs[--us],cs[us]=null,Oi=cs[--us],cs[us]=null}var Ur=null,Wr=null,zt=!1,Os=null;function N3(h,m){var y=ms(5,null,null,0);y.elementType="DELETED",y.stateNode=m,y.return=h,m=h.deletions,m===null?(h.deletions=[y],h.flags|=16):m.push(y)}function j3(h,m){switch(h.tag){case 5:var y=h.type;return m=m.nodeType!==1||y.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,Ur=h,Wr=Aa(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,Ur=h,Wr=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(y=Bo!==null?{id:Oi,overflow:_i}:null,h.memoizedState={dehydrated:m,treeContext:y,retryLane:1073741824},y=ms(18,null,null,0),y.stateNode=m,y.return=h,h.child=y,Ur=h,Wr=null,!0):!1;default:return!1}}function Fy(h){return(h.mode&1)!==0&&(h.flags&128)===0}function zy(h){if(zt){var m=Wr;if(m){var y=m;if(!j3(h,m)){if(Fy(h))throw Error(n(418));m=Aa(y.nextSibling);var j=Ur;m&&j3(h,m)?N3(j,y):(h.flags=h.flags&-4097|2,zt=!1,Ur=h)}}else{if(Fy(h))throw Error(n(418));h.flags=h.flags&-4097|2,zt=!1,Ur=h}}}function S3(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Ur=h}function dm(h){if(h!==Ur)return!1;if(!zt)return S3(h),zt=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!Py(h.type,h.memoizedProps)),m&&(m=Wr)){if(Fy(h))throw C3(),Error(n(418));for(;m;)N3(h,m),m=Aa(m.nextSibling)}if(S3(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="/$"){if(m===0){Wr=Aa(h.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++}h=h.nextSibling}Wr=null}}else Wr=Ur?Aa(h.stateNode.nextSibling):null;return!0}function C3(){for(var h=Wr;h;)h=Aa(h.nextSibling)}function Mc(){Wr=Ur=null,zt=!1}function Vy(h){Os===null?Os=[h]:Os.push(h)}var $V=P.ReactCurrentBatchConfig;function yd(h,m,y){if(h=y.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var j=y.stateNode}if(!j)throw Error(n(147,h));var E=j,O=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===O?m.ref:(m=function(L){var W=E.refs;L===null?delete W[O]:W[O]=L},m._stringRef=O,m)}if(typeof h!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,h))}return h}function hm(h,m){throw h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function k3(h){var m=h._init;return m(h._payload)}function T3(h){function m(ne,J){if(h){var se=ne.deletions;se===null?(ne.deletions=[J],ne.flags|=16):se.push(J)}}function y(ne,J){if(!h)return null;for(;J!==null;)m(ne,J),J=J.sibling;return null}function j(ne,J){for(ne=new Map;J!==null;)J.key!==null?ne.set(J.key,J):ne.set(J.index,J),J=J.sibling;return ne}function E(ne,J){return ne=Ba(ne,J),ne.index=0,ne.sibling=null,ne}function O(ne,J,se){return ne.index=se,h?(se=ne.alternate,se!==null?(se=se.index,se<J?(ne.flags|=2,J):se):(ne.flags|=2,J)):(ne.flags|=1048576,J)}function L(ne){return h&&ne.alternate===null&&(ne.flags|=2),ne}function W(ne,J,se,Ne){return J===null||J.tag!==6?(J=Ab(se,ne.mode,Ne),J.return=ne,J):(J=E(J,se),J.return=ne,J)}function X(ne,J,se,Ne){var Re=se.type;return Re===M?pe(ne,J,se.props.children,Ne,se.key):J!==null&&(J.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===z&&k3(Re)===J.type)?(Ne=E(J,se.props),Ne.ref=yd(ne,J,se),Ne.return=ne,Ne):(Ne=Lm(se.type,se.key,se.props,null,ne.mode,Ne),Ne.ref=yd(ne,J,se),Ne.return=ne,Ne)}function ae(ne,J,se,Ne){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=Ob(se,ne.mode,Ne),J.return=ne,J):(J=E(J,se.children||[]),J.return=ne,J)}function pe(ne,J,se,Ne,Re){return J===null||J.tag!==7?(J=Qo(se,ne.mode,Ne,Re),J.return=ne,J):(J=E(J,se),J.return=ne,J)}function ye(ne,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Ab(""+J,ne.mode,se),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return se=Lm(J.type,J.key,J.props,null,ne.mode,se),se.ref=yd(ne,null,J),se.return=ne,se;case A:return J=Ob(J,ne.mode,se),J.return=ne,J;case z:var Ne=J._init;return ye(ne,Ne(J._payload),se)}if(K(J)||Q(J))return J=Qo(J,ne.mode,se,null),J.return=ne,J;hm(ne,J)}return null}function me(ne,J,se,Ne){var Re=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Re!==null?null:W(ne,J,""+se,Ne);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return se.key===Re?X(ne,J,se,Ne):null;case A:return se.key===Re?ae(ne,J,se,Ne):null;case z:return Re=se._init,me(ne,J,Re(se._payload),Ne)}if(K(se)||Q(se))return Re!==null?null:pe(ne,J,se,Ne,null);hm(ne,se)}return null}function Pe(ne,J,se,Ne,Re){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ne=ne.get(se)||null,W(J,ne,""+Ne,Re);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case S:return ne=ne.get(Ne.key===null?se:Ne.key)||null,X(J,ne,Ne,Re);case A:return ne=ne.get(Ne.key===null?se:Ne.key)||null,ae(J,ne,Ne,Re);case z:var We=Ne._init;return Pe(ne,J,se,We(Ne._payload),Re)}if(K(Ne)||Q(Ne))return ne=ne.get(se)||null,pe(J,ne,Ne,Re,null);hm(J,Ne)}return null}function De(ne,J,se,Ne){for(var Re=null,We=null,qe=J,et=J=0,En=null;qe!==null&&et<se.length;et++){qe.index>et?(En=qe,qe=null):En=qe.sibling;var ft=me(ne,qe,se[et],Ne);if(ft===null){qe===null&&(qe=En);break}h&&qe&&ft.alternate===null&&m(ne,qe),J=O(ft,J,et),We===null?Re=ft:We.sibling=ft,We=ft,qe=En}if(et===se.length)return y(ne,qe),zt&&Ho(ne,et),Re;if(qe===null){for(;et<se.length;et++)qe=ye(ne,se[et],Ne),qe!==null&&(J=O(qe,J,et),We===null?Re=qe:We.sibling=qe,We=qe);return zt&&Ho(ne,et),Re}for(qe=j(ne,qe);et<se.length;et++)En=Pe(qe,ne,et,se[et],Ne),En!==null&&(h&&En.alternate!==null&&qe.delete(En.key===null?et:En.key),J=O(En,J,et),We===null?Re=En:We.sibling=En,We=En);return h&&qe.forEach(function(Ha){return m(ne,Ha)}),zt&&Ho(ne,et),Re}function Ie(ne,J,se,Ne){var Re=Q(se);if(typeof Re!="function")throw Error(n(150));if(se=Re.call(se),se==null)throw Error(n(151));for(var We=Re=null,qe=J,et=J=0,En=null,ft=se.next();qe!==null&&!ft.done;et++,ft=se.next()){qe.index>et?(En=qe,qe=null):En=qe.sibling;var Ha=me(ne,qe,ft.value,Ne);if(Ha===null){qe===null&&(qe=En);break}h&&qe&&Ha.alternate===null&&m(ne,qe),J=O(Ha,J,et),We===null?Re=Ha:We.sibling=Ha,We=Ha,qe=En}if(ft.done)return y(ne,qe),zt&&Ho(ne,et),Re;if(qe===null){for(;!ft.done;et++,ft=se.next())ft=ye(ne,ft.value,Ne),ft!==null&&(J=O(ft,J,et),We===null?Re=ft:We.sibling=ft,We=ft);return zt&&Ho(ne,et),Re}for(qe=j(ne,qe);!ft.done;et++,ft=se.next())ft=Pe(qe,ne,et,ft.value,Ne),ft!==null&&(h&&ft.alternate!==null&&qe.delete(ft.key===null?et:ft.key),J=O(ft,J,et),We===null?Re=ft:We.sibling=ft,We=ft);return h&&qe.forEach(function(v9){return m(ne,v9)}),zt&&Ho(ne,et),Re}function an(ne,J,se,Ne){if(typeof se=="object"&&se!==null&&se.type===M&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case S:e:{for(var Re=se.key,We=J;We!==null;){if(We.key===Re){if(Re=se.type,Re===M){if(We.tag===7){y(ne,We.sibling),J=E(We,se.props.children),J.return=ne,ne=J;break e}}else if(We.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===z&&k3(Re)===We.type){y(ne,We.sibling),J=E(We,se.props),J.ref=yd(ne,We,se),J.return=ne,ne=J;break e}y(ne,We);break}else m(ne,We);We=We.sibling}se.type===M?(J=Qo(se.props.children,ne.mode,Ne,se.key),J.return=ne,ne=J):(Ne=Lm(se.type,se.key,se.props,null,ne.mode,Ne),Ne.ref=yd(ne,J,se),Ne.return=ne,ne=Ne)}return L(ne);case A:e:{for(We=se.key;J!==null;){if(J.key===We)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){y(ne,J.sibling),J=E(J,se.children||[]),J.return=ne,ne=J;break e}else{y(ne,J);break}else m(ne,J);J=J.sibling}J=Ob(se,ne.mode,Ne),J.return=ne,ne=J}return L(ne);case z:return We=se._init,an(ne,J,We(se._payload),Ne)}if(K(se))return De(ne,J,se,Ne);if(Q(se))return Ie(ne,J,se,Ne);hm(ne,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(y(ne,J.sibling),J=E(J,se),J.return=ne,ne=J):(y(ne,J),J=Ab(se,ne.mode,Ne),J.return=ne,ne=J),L(ne)):y(ne,J)}return an}var Pc=T3(!0),E3=T3(!1),fm=Oa(null),mm=null,Ac=null,$y=null;function By(){$y=Ac=mm=null}function Hy(h){var m=fm.current;Dt(fm),h._currentValue=m}function Uy(h,m,y){for(;h!==null;){var j=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,j!==null&&(j.childLanes|=m)):j!==null&&(j.childLanes&m)!==m&&(j.childLanes|=m),h===y)break;h=h.return}}function Oc(h,m){mm=h,$y=Ac=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(kr=!0),h.firstContext=null)}function ds(h){var m=h._currentValue;if($y!==h)if(h={context:h,memoizedValue:m,next:null},Ac===null){if(mm===null)throw Error(n(308));Ac=h,mm.dependencies={lanes:0,firstContext:h}}else Ac=Ac.next=h;return m}var Uo=null;function Wy(h){Uo===null?Uo=[h]:Uo.push(h)}function M3(h,m,y,j){var E=m.interleaved;return E===null?(y.next=y,Wy(m)):(y.next=E.next,E.next=y),m.interleaved=y,Di(h,j)}function Di(h,m){h.lanes|=m;var y=h.alternate;for(y!==null&&(y.lanes|=m),y=h,h=h.return;h!==null;)h.childLanes|=m,y=h.alternate,y!==null&&(y.childLanes|=m),y=h,h=h.return;return y.tag===3?y.stateNode:null}var Ia=!1;function qy(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P3(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ii(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function La(h,m,y){var j=h.updateQueue;if(j===null)return null;if(j=j.shared,(ht&2)!==0){var E=j.pending;return E===null?m.next=m:(m.next=E.next,E.next=m),j.pending=m,Di(h,y)}return E=j.interleaved,E===null?(m.next=m,Wy(j)):(m.next=E.next,E.next=m),j.interleaved=m,Di(h,y)}function pm(h,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194240)!==0)){var j=m.lanes;j&=h.pendingLanes,y|=j,m.lanes=y,ay(h,y)}}function A3(h,m){var y=h.updateQueue,j=h.alternate;if(j!==null&&(j=j.updateQueue,y===j)){var E=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var L={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};O===null?E=O=L:O=O.next=L,y=y.next}while(y!==null);O===null?E=O=m:O=O.next=m}else E=O=m;y={baseState:j.baseState,firstBaseUpdate:E,lastBaseUpdate:O,shared:j.shared,effects:j.effects},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=m}function gm(h,m,y,j){var E=h.updateQueue;Ia=!1;var O=E.firstBaseUpdate,L=E.lastBaseUpdate,W=E.shared.pending;if(W!==null){E.shared.pending=null;var X=W,ae=X.next;X.next=null,L===null?O=ae:L.next=ae,L=X;var pe=h.alternate;pe!==null&&(pe=pe.updateQueue,W=pe.lastBaseUpdate,W!==L&&(W===null?pe.firstBaseUpdate=ae:W.next=ae,pe.lastBaseUpdate=X))}if(O!==null){var ye=E.baseState;L=0,pe=ae=X=null,W=O;do{var me=W.lane,Pe=W.eventTime;if((j&me)===me){pe!==null&&(pe=pe.next={eventTime:Pe,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var De=h,Ie=W;switch(me=m,Pe=y,Ie.tag){case 1:if(De=Ie.payload,typeof De=="function"){ye=De.call(Pe,ye,me);break e}ye=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ie.payload,me=typeof De=="function"?De.call(Pe,ye,me):De,me==null)break e;ye=H({},ye,me);break e;case 2:Ia=!0}}W.callback!==null&&W.lane!==0&&(h.flags|=64,me=E.effects,me===null?E.effects=[W]:me.push(W))}else Pe={eventTime:Pe,lane:me,tag:W.tag,payload:W.payload,callback:W.callback,next:null},pe===null?(ae=pe=Pe,X=ye):pe=pe.next=Pe,L|=me;if(W=W.next,W===null){if(W=E.shared.pending,W===null)break;me=W,W=me.next,me.next=null,E.lastBaseUpdate=me,E.shared.pending=null}}while(!0);if(pe===null&&(X=ye),E.baseState=X,E.firstBaseUpdate=ae,E.lastBaseUpdate=pe,m=E.shared.interleaved,m!==null){E=m;do L|=E.lane,E=E.next;while(E!==m)}else O===null&&(E.shared.lanes=0);Ko|=L,h.lanes=L,h.memoizedState=ye}}function O3(h,m,y){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var j=h[m],E=j.callback;if(E!==null){if(j.callback=null,j=y,typeof E!="function")throw Error(n(191,E));E.call(j)}}}var bd={},ni=Oa(bd),vd=Oa(bd),wd=Oa(bd);function Wo(h){if(h===bd)throw Error(n(174));return h}function Ky(h,m){switch(Et(wd,m),Et(vd,h),Et(ni,bd),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:dt(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=dt(m,h)}Dt(ni),Et(ni,m)}function _c(){Dt(ni),Dt(vd),Dt(wd)}function _3(h){Wo(wd.current);var m=Wo(ni.current),y=dt(m,h.type);m!==y&&(Et(vd,h),Et(ni,y))}function Gy(h){vd.current===h&&(Dt(ni),Dt(vd))}var Ut=Oa(0);function xm(h){for(var m=h;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Yy=[];function Xy(){for(var h=0;h<Yy.length;h++)Yy[h]._workInProgressVersionPrimary=null;Yy.length=0}var ym=P.ReactCurrentDispatcher,Qy=P.ReactCurrentBatchConfig,qo=0,Wt=null,wn=null,kn=null,bm=!1,Nd=!1,jd=0,BV=0;function Yn(){throw Error(n(321))}function Jy(h,m){if(m===null)return!1;for(var y=0;y<m.length&&y<h.length;y++)if(!As(h[y],m[y]))return!1;return!0}function Zy(h,m,y,j,E,O){if(qo=O,Wt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,ym.current=h===null||h.memoizedState===null?qV:KV,h=y(j,E),Nd){O=0;do{if(Nd=!1,jd=0,25<=O)throw Error(n(301));O+=1,kn=wn=null,m.updateQueue=null,ym.current=GV,h=y(j,E)}while(Nd)}if(ym.current=Nm,m=wn!==null&&wn.next!==null,qo=0,kn=wn=Wt=null,bm=!1,m)throw Error(n(300));return h}function eb(){var h=jd!==0;return jd=0,h}function ri(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Wt.memoizedState=kn=h:kn=kn.next=h,kn}function hs(){if(wn===null){var h=Wt.alternate;h=h!==null?h.memoizedState:null}else h=wn.next;var m=kn===null?Wt.memoizedState:kn.next;if(m!==null)kn=m,wn=h;else{if(h===null)throw Error(n(310));wn=h,h={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},kn===null?Wt.memoizedState=kn=h:kn=kn.next=h}return kn}function Sd(h,m){return typeof m=="function"?m(h):m}function tb(h){var m=hs(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var j=wn,E=j.baseQueue,O=y.pending;if(O!==null){if(E!==null){var L=E.next;E.next=O.next,O.next=L}j.baseQueue=E=O,y.pending=null}if(E!==null){O=E.next,j=j.baseState;var W=L=null,X=null,ae=O;do{var pe=ae.lane;if((qo&pe)===pe)X!==null&&(X=X.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),j=ae.hasEagerState?ae.eagerState:h(j,ae.action);else{var ye={lane:pe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};X===null?(W=X=ye,L=j):X=X.next=ye,Wt.lanes|=pe,Ko|=pe}ae=ae.next}while(ae!==null&&ae!==O);X===null?L=j:X.next=W,As(j,m.memoizedState)||(kr=!0),m.memoizedState=j,m.baseState=L,m.baseQueue=X,y.lastRenderedState=j}if(h=y.interleaved,h!==null){E=h;do O=E.lane,Wt.lanes|=O,Ko|=O,E=E.next;while(E!==h)}else E===null&&(y.lanes=0);return[m.memoizedState,y.dispatch]}function nb(h){var m=hs(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var j=y.dispatch,E=y.pending,O=m.memoizedState;if(E!==null){y.pending=null;var L=E=E.next;do O=h(O,L.action),L=L.next;while(L!==E);As(O,m.memoizedState)||(kr=!0),m.memoizedState=O,m.baseQueue===null&&(m.baseState=O),y.lastRenderedState=O}return[O,j]}function D3(){}function I3(h,m){var y=Wt,j=hs(),E=m(),O=!As(j.memoizedState,E);if(O&&(j.memoizedState=E,kr=!0),j=j.queue,rb(F3.bind(null,y,j,h),[h]),j.getSnapshot!==m||O||kn!==null&&kn.memoizedState.tag&1){if(y.flags|=2048,Cd(9,R3.bind(null,y,j,E,m),void 0,null),Tn===null)throw Error(n(349));(qo&30)!==0||L3(y,m,E)}return E}function L3(h,m,y){h.flags|=16384,h={getSnapshot:m,value:y},m=Wt.updateQueue,m===null?(m={lastEffect:null,stores:null},Wt.updateQueue=m,m.stores=[h]):(y=m.stores,y===null?m.stores=[h]:y.push(h))}function R3(h,m,y,j){m.value=y,m.getSnapshot=j,z3(m)&&V3(h)}function F3(h,m,y){return y(function(){z3(m)&&V3(h)})}function z3(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!As(h,y)}catch{return!0}}function V3(h){var m=Di(h,1);m!==null&&Ls(m,h,1,-1)}function $3(h){var m=ri();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:h},m.queue=h,h=h.dispatch=WV.bind(null,Wt,h),[m.memoizedState,h]}function Cd(h,m,y,j){return h={tag:h,create:m,destroy:y,deps:j,next:null},m=Wt.updateQueue,m===null?(m={lastEffect:null,stores:null},Wt.updateQueue=m,m.lastEffect=h.next=h):(y=m.lastEffect,y===null?m.lastEffect=h.next=h:(j=y.next,y.next=h,h.next=j,m.lastEffect=h)),h}function B3(){return hs().memoizedState}function vm(h,m,y,j){var E=ri();Wt.flags|=h,E.memoizedState=Cd(1|m,y,void 0,j===void 0?null:j)}function wm(h,m,y,j){var E=hs();j=j===void 0?null:j;var O=void 0;if(wn!==null){var L=wn.memoizedState;if(O=L.destroy,j!==null&&Jy(j,L.deps)){E.memoizedState=Cd(m,y,O,j);return}}Wt.flags|=h,E.memoizedState=Cd(1|m,y,O,j)}function H3(h,m){return vm(8390656,8,h,m)}function rb(h,m){return wm(2048,8,h,m)}function U3(h,m){return wm(4,2,h,m)}function W3(h,m){return wm(4,4,h,m)}function q3(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function K3(h,m,y){return y=y!=null?y.concat([h]):null,wm(4,4,q3.bind(null,m,h),y)}function sb(){}function G3(h,m){var y=hs();m=m===void 0?null:m;var j=y.memoizedState;return j!==null&&m!==null&&Jy(m,j[1])?j[0]:(y.memoizedState=[h,m],h)}function Y3(h,m){var y=hs();m=m===void 0?null:m;var j=y.memoizedState;return j!==null&&m!==null&&Jy(m,j[1])?j[0]:(h=h(),y.memoizedState=[h,m],h)}function X3(h,m,y){return(qo&21)===0?(h.baseState&&(h.baseState=!1,kr=!0),h.memoizedState=y):(As(y,m)||(y=k4(),Wt.lanes|=y,Ko|=y,h.baseState=!0),m)}function HV(h,m){var y=wt;wt=y!==0&&4>y?y:4,h(!0);var j=Qy.transition;Qy.transition={};try{h(!1),m()}finally{wt=y,Qy.transition=j}}function Q3(){return hs().memoizedState}function UV(h,m,y){var j=Va(h);if(y={lane:j,action:y,hasEagerState:!1,eagerState:null,next:null},J3(h))Z3(m,y);else if(y=M3(h,m,y,j),y!==null){var E=mr();Ls(y,h,j,E),eC(y,m,j)}}function WV(h,m,y){var j=Va(h),E={lane:j,action:y,hasEagerState:!1,eagerState:null,next:null};if(J3(h))Z3(m,E);else{var O=h.alternate;if(h.lanes===0&&(O===null||O.lanes===0)&&(O=m.lastRenderedReducer,O!==null))try{var L=m.lastRenderedState,W=O(L,y);if(E.hasEagerState=!0,E.eagerState=W,As(W,L)){var X=m.interleaved;X===null?(E.next=E,Wy(m)):(E.next=X.next,X.next=E),m.interleaved=E;return}}catch{}finally{}y=M3(h,m,E,j),y!==null&&(E=mr(),Ls(y,h,j,E),eC(y,m,j))}}function J3(h){var m=h.alternate;return h===Wt||m!==null&&m===Wt}function Z3(h,m){Nd=bm=!0;var y=h.pending;y===null?m.next=m:(m.next=y.next,y.next=m),h.pending=m}function eC(h,m,y){if((y&4194240)!==0){var j=m.lanes;j&=h.pendingLanes,y|=j,m.lanes=y,ay(h,y)}}var Nm={readContext:ds,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},qV={readContext:ds,useCallback:function(h,m){return ri().memoizedState=[h,m===void 0?null:m],h},useContext:ds,useEffect:H3,useImperativeHandle:function(h,m,y){return y=y!=null?y.concat([h]):null,vm(4194308,4,q3.bind(null,m,h),y)},useLayoutEffect:function(h,m){return vm(4194308,4,h,m)},useInsertionEffect:function(h,m){return vm(4,2,h,m)},useMemo:function(h,m){var y=ri();return m=m===void 0?null:m,h=h(),y.memoizedState=[h,m],h},useReducer:function(h,m,y){var j=ri();return m=y!==void 0?y(m):m,j.memoizedState=j.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},j.queue=h,h=h.dispatch=UV.bind(null,Wt,h),[j.memoizedState,h]},useRef:function(h){var m=ri();return h={current:h},m.memoizedState=h},useState:$3,useDebugValue:sb,useDeferredValue:function(h){return ri().memoizedState=h},useTransition:function(){var h=$3(!1),m=h[0];return h=HV.bind(null,h[1]),ri().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,y){var j=Wt,E=ri();if(zt){if(y===void 0)throw Error(n(407));y=y()}else{if(y=m(),Tn===null)throw Error(n(349));(qo&30)!==0||L3(j,m,y)}E.memoizedState=y;var O={value:y,getSnapshot:m};return E.queue=O,H3(F3.bind(null,j,O,h),[h]),j.flags|=2048,Cd(9,R3.bind(null,j,O,y,m),void 0,null),y},useId:function(){var h=ri(),m=Tn.identifierPrefix;if(zt){var y=_i,j=Oi;y=(j&~(1<<32-Ps(j)-1)).toString(32)+y,m=":"+m+"R"+y,y=jd++,0<y&&(m+="H"+y.toString(32)),m+=":"}else y=BV++,m=":"+m+"r"+y.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},KV={readContext:ds,useCallback:G3,useContext:ds,useEffect:rb,useImperativeHandle:K3,useInsertionEffect:U3,useLayoutEffect:W3,useMemo:Y3,useReducer:tb,useRef:B3,useState:function(){return tb(Sd)},useDebugValue:sb,useDeferredValue:function(h){var m=hs();return X3(m,wn.memoizedState,h)},useTransition:function(){var h=tb(Sd)[0],m=hs().memoizedState;return[h,m]},useMutableSource:D3,useSyncExternalStore:I3,useId:Q3,unstable_isNewReconciler:!1},GV={readContext:ds,useCallback:G3,useContext:ds,useEffect:rb,useImperativeHandle:K3,useInsertionEffect:U3,useLayoutEffect:W3,useMemo:Y3,useReducer:nb,useRef:B3,useState:function(){return nb(Sd)},useDebugValue:sb,useDeferredValue:function(h){var m=hs();return wn===null?m.memoizedState=h:X3(m,wn.memoizedState,h)},useTransition:function(){var h=nb(Sd)[0],m=hs().memoizedState;return[h,m]},useMutableSource:D3,useSyncExternalStore:I3,useId:Q3,unstable_isNewReconciler:!1};function _s(h,m){if(h&&h.defaultProps){m=H({},m),h=h.defaultProps;for(var y in h)m[y]===void 0&&(m[y]=h[y]);return m}return m}function ib(h,m,y,j){m=h.memoizedState,y=y(j,m),y=y==null?m:H({},m,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var jm={isMounted:function(h){return(h=h._reactInternals)?zo(h)===h:!1},enqueueSetState:function(h,m,y){h=h._reactInternals;var j=mr(),E=Va(h),O=Ii(j,E);O.payload=m,y!=null&&(O.callback=y),m=La(h,O,E),m!==null&&(Ls(m,h,E,j),pm(m,h,E))},enqueueReplaceState:function(h,m,y){h=h._reactInternals;var j=mr(),E=Va(h),O=Ii(j,E);O.tag=1,O.payload=m,y!=null&&(O.callback=y),m=La(h,O,E),m!==null&&(Ls(m,h,E,j),pm(m,h,E))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var y=mr(),j=Va(h),E=Ii(y,j);E.tag=2,m!=null&&(E.callback=m),m=La(h,E,j),m!==null&&(Ls(m,h,j,y),pm(m,h,j))}};function tC(h,m,y,j,E,O,L){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(j,O,L):m.prototype&&m.prototype.isPureReactComponent?!dd(y,j)||!dd(E,O):!0}function nC(h,m,y){var j=!1,E=_a,O=m.contextType;return typeof O=="object"&&O!==null?O=ds(O):(E=Cr(m)?$o:Gn.current,j=m.contextTypes,O=(j=j!=null)?kc(h,E):_a),m=new m(y,O),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jm,h.stateNode=m,m._reactInternals=h,j&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=E,h.__reactInternalMemoizedMaskedChildContext=O),m}function rC(h,m,y,j){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,j),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,j),m.state!==h&&jm.enqueueReplaceState(m,m.state,null)}function ab(h,m,y,j){var E=h.stateNode;E.props=y,E.state=h.memoizedState,E.refs={},qy(h);var O=m.contextType;typeof O=="object"&&O!==null?E.context=ds(O):(O=Cr(m)?$o:Gn.current,E.context=kc(h,O)),E.state=h.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(ib(h,m,O,y),E.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(m=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),m!==E.state&&jm.enqueueReplaceState(E,E.state,null),gm(h,y,E,j),E.state=h.memoizedState),typeof E.componentDidMount=="function"&&(h.flags|=4194308)}function Dc(h,m){try{var y="",j=m;do y+=le(j),j=j.return;while(j);var E=y}catch(O){E=`
Error generating stack: `+O.message+`
`+O.stack}return{value:h,source:m,stack:E,digest:null}}function ob(h,m,y){return{value:h,source:null,stack:y??null,digest:m??null}}function lb(h,m){try{console.error(m.value)}catch(y){setTimeout(function(){throw y})}}var YV=typeof WeakMap=="function"?WeakMap:Map;function sC(h,m,y){y=Ii(-1,y),y.tag=3,y.payload={element:null};var j=m.value;return y.callback=function(){Pm||(Pm=!0,jb=j),lb(h,m)},y}function iC(h,m,y){y=Ii(-1,y),y.tag=3;var j=h.type.getDerivedStateFromError;if(typeof j=="function"){var E=m.value;y.payload=function(){return j(E)},y.callback=function(){lb(h,m)}}var O=h.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(y.callback=function(){lb(h,m),typeof j!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})}),y}function aC(h,m,y){var j=h.pingCache;if(j===null){j=h.pingCache=new YV;var E=new Set;j.set(m,E)}else E=j.get(m),E===void 0&&(E=new Set,j.set(m,E));E.has(y)||(E.add(y),h=c9.bind(null,h,m,y),m.then(h,h))}function oC(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function lC(h,m,y,j,E){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(m=Ii(-1,1),m.tag=2,La(y,m,1))),y.lanes|=1),h):(h.flags|=65536,h.lanes=E,h)}var XV=P.ReactCurrentOwner,kr=!1;function fr(h,m,y,j){m.child=h===null?E3(m,null,y,j):Pc(m,h.child,y,j)}function cC(h,m,y,j,E){y=y.render;var O=m.ref;return Oc(m,E),j=Zy(h,m,y,j,O,E),y=eb(),h!==null&&!kr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~E,Li(h,m,E)):(zt&&y&&Ly(m),m.flags|=1,fr(h,m,j,E),m.child)}function uC(h,m,y,j,E){if(h===null){var O=y.type;return typeof O=="function"&&!Pb(O)&&O.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(m.tag=15,m.type=O,dC(h,m,O,j,E)):(h=Lm(y.type,null,j,m,m.mode,E),h.ref=m.ref,h.return=m,m.child=h)}if(O=h.child,(h.lanes&E)===0){var L=O.memoizedProps;if(y=y.compare,y=y!==null?y:dd,y(L,j)&&h.ref===m.ref)return Li(h,m,E)}return m.flags|=1,h=Ba(O,j),h.ref=m.ref,h.return=m,m.child=h}function dC(h,m,y,j,E){if(h!==null){var O=h.memoizedProps;if(dd(O,j)&&h.ref===m.ref)if(kr=!1,m.pendingProps=j=O,(h.lanes&E)!==0)(h.flags&131072)!==0&&(kr=!0);else return m.lanes=h.lanes,Li(h,m,E)}return cb(h,m,y,j,E)}function hC(h,m,y){var j=m.pendingProps,E=j.children,O=h!==null?h.memoizedState:null;if(j.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Lc,qr),qr|=y;else{if((y&1073741824)===0)return h=O!==null?O.baseLanes|y:y,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,Et(Lc,qr),qr|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=O!==null?O.baseLanes:y,Et(Lc,qr),qr|=j}else O!==null?(j=O.baseLanes|y,m.memoizedState=null):j=y,Et(Lc,qr),qr|=j;return fr(h,m,E,y),m.child}function fC(h,m){var y=m.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(m.flags|=512,m.flags|=2097152)}function cb(h,m,y,j,E){var O=Cr(y)?$o:Gn.current;return O=kc(m,O),Oc(m,E),y=Zy(h,m,y,j,O,E),j=eb(),h!==null&&!kr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~E,Li(h,m,E)):(zt&&j&&Ly(m),m.flags|=1,fr(h,m,y,E),m.child)}function mC(h,m,y,j,E){if(Cr(y)){var O=!0;om(m)}else O=!1;if(Oc(m,E),m.stateNode===null)Cm(h,m),nC(m,y,j),ab(m,y,j,E),j=!0;else if(h===null){var L=m.stateNode,W=m.memoizedProps;L.props=W;var X=L.context,ae=y.contextType;typeof ae=="object"&&ae!==null?ae=ds(ae):(ae=Cr(y)?$o:Gn.current,ae=kc(m,ae));var pe=y.getDerivedStateFromProps,ye=typeof pe=="function"||typeof L.getSnapshotBeforeUpdate=="function";ye||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(W!==j||X!==ae)&&rC(m,L,j,ae),Ia=!1;var me=m.memoizedState;L.state=me,gm(m,j,L,E),X=m.memoizedState,W!==j||me!==X||Sr.current||Ia?(typeof pe=="function"&&(ib(m,y,pe,j),X=m.memoizedState),(W=Ia||tC(m,y,W,j,me,X,ae))?(ye||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(m.flags|=4194308)):(typeof L.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=j,m.memoizedState=X),L.props=j,L.state=X,L.context=ae,j=W):(typeof L.componentDidMount=="function"&&(m.flags|=4194308),j=!1)}else{L=m.stateNode,P3(h,m),W=m.memoizedProps,ae=m.type===m.elementType?W:_s(m.type,W),L.props=ae,ye=m.pendingProps,me=L.context,X=y.contextType,typeof X=="object"&&X!==null?X=ds(X):(X=Cr(y)?$o:Gn.current,X=kc(m,X));var Pe=y.getDerivedStateFromProps;(pe=typeof Pe=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(W!==ye||me!==X)&&rC(m,L,j,X),Ia=!1,me=m.memoizedState,L.state=me,gm(m,j,L,E);var De=m.memoizedState;W!==ye||me!==De||Sr.current||Ia?(typeof Pe=="function"&&(ib(m,y,Pe,j),De=m.memoizedState),(ae=Ia||tC(m,y,ae,j,me,De,X)||!1)?(pe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(j,De,X),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(j,De,X)),typeof L.componentDidUpdate=="function"&&(m.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof L.componentDidUpdate!="function"||W===h.memoizedProps&&me===h.memoizedState||(m.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||W===h.memoizedProps&&me===h.memoizedState||(m.flags|=1024),m.memoizedProps=j,m.memoizedState=De),L.props=j,L.state=De,L.context=X,j=ae):(typeof L.componentDidUpdate!="function"||W===h.memoizedProps&&me===h.memoizedState||(m.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||W===h.memoizedProps&&me===h.memoizedState||(m.flags|=1024),j=!1)}return ub(h,m,y,j,O,E)}function ub(h,m,y,j,E,O){fC(h,m);var L=(m.flags&128)!==0;if(!j&&!L)return E&&b3(m,y,!1),Li(h,m,O);j=m.stateNode,XV.current=m;var W=L&&typeof y.getDerivedStateFromError!="function"?null:j.render();return m.flags|=1,h!==null&&L?(m.child=Pc(m,h.child,null,O),m.child=Pc(m,null,W,O)):fr(h,m,W,O),m.memoizedState=j.state,E&&b3(m,y,!0),m.child}function pC(h){var m=h.stateNode;m.pendingContext?x3(h,m.pendingContext,m.pendingContext!==m.context):m.context&&x3(h,m.context,!1),Ky(h,m.containerInfo)}function gC(h,m,y,j,E){return Mc(),Vy(E),m.flags|=256,fr(h,m,y,j),m.child}var db={dehydrated:null,treeContext:null,retryLane:0};function hb(h){return{baseLanes:h,cachePool:null,transitions:null}}function xC(h,m,y){var j=m.pendingProps,E=Ut.current,O=!1,L=(m.flags&128)!==0,W;if((W=L)||(W=h!==null&&h.memoizedState===null?!1:(E&2)!==0),W?(O=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(E|=1),Et(Ut,E&1),h===null)return zy(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(L=j.children,h=j.fallback,O?(j=m.mode,O=m.child,L={mode:"hidden",children:L},(j&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=L):O=Rm(L,j,0,null),h=Qo(h,j,y,null),O.return=m,h.return=m,O.sibling=h,m.child=O,m.child.memoizedState=hb(y),m.memoizedState=db,h):fb(m,L));if(E=h.memoizedState,E!==null&&(W=E.dehydrated,W!==null))return QV(h,m,L,j,W,E,y);if(O){O=j.fallback,L=m.mode,E=h.child,W=E.sibling;var X={mode:"hidden",children:j.children};return(L&1)===0&&m.child!==E?(j=m.child,j.childLanes=0,j.pendingProps=X,m.deletions=null):(j=Ba(E,X),j.subtreeFlags=E.subtreeFlags&14680064),W!==null?O=Ba(W,O):(O=Qo(O,L,y,null),O.flags|=2),O.return=m,j.return=m,j.sibling=O,m.child=j,j=O,O=m.child,L=h.child.memoizedState,L=L===null?hb(y):{baseLanes:L.baseLanes|y,cachePool:null,transitions:L.transitions},O.memoizedState=L,O.childLanes=h.childLanes&~y,m.memoizedState=db,j}return O=h.child,h=O.sibling,j=Ba(O,{mode:"visible",children:j.children}),(m.mode&1)===0&&(j.lanes=y),j.return=m,j.sibling=null,h!==null&&(y=m.deletions,y===null?(m.deletions=[h],m.flags|=16):y.push(h)),m.child=j,m.memoizedState=null,j}function fb(h,m){return m=Rm({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function Sm(h,m,y,j){return j!==null&&Vy(j),Pc(m,h.child,null,y),h=fb(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function QV(h,m,y,j,E,O,L){if(y)return m.flags&256?(m.flags&=-257,j=ob(Error(n(422))),Sm(h,m,L,j)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(O=j.fallback,E=m.mode,j=Rm({mode:"visible",children:j.children},E,0,null),O=Qo(O,E,L,null),O.flags|=2,j.return=m,O.return=m,j.sibling=O,m.child=j,(m.mode&1)!==0&&Pc(m,h.child,null,L),m.child.memoizedState=hb(L),m.memoizedState=db,O);if((m.mode&1)===0)return Sm(h,m,L,null);if(E.data==="$!"){if(j=E.nextSibling&&E.nextSibling.dataset,j)var W=j.dgst;return j=W,O=Error(n(419)),j=ob(O,j,void 0),Sm(h,m,L,j)}if(W=(L&h.childLanes)!==0,kr||W){if(j=Tn,j!==null){switch(L&-L){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(j.suspendedLanes|L))!==0?0:E,E!==0&&E!==O.retryLane&&(O.retryLane=E,Di(h,E),Ls(j,h,E,-1))}return Mb(),j=ob(Error(n(421))),Sm(h,m,L,j)}return E.data==="$?"?(m.flags|=128,m.child=h.child,m=u9.bind(null,h),E._reactRetry=m,null):(h=O.treeContext,Wr=Aa(E.nextSibling),Ur=m,zt=!0,Os=null,h!==null&&(cs[us++]=Oi,cs[us++]=_i,cs[us++]=Bo,Oi=h.id,_i=h.overflow,Bo=m),m=fb(m,j.children),m.flags|=4096,m)}function yC(h,m,y){h.lanes|=m;var j=h.alternate;j!==null&&(j.lanes|=m),Uy(h.return,m,y)}function mb(h,m,y,j,E){var O=h.memoizedState;O===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:j,tail:y,tailMode:E}:(O.isBackwards=m,O.rendering=null,O.renderingStartTime=0,O.last=j,O.tail=y,O.tailMode=E)}function bC(h,m,y){var j=m.pendingProps,E=j.revealOrder,O=j.tail;if(fr(h,m,j.children,y),j=Ut.current,(j&2)!==0)j=j&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&yC(h,y,m);else if(h.tag===19)yC(h,y,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}j&=1}if(Et(Ut,j),(m.mode&1)===0)m.memoizedState=null;else switch(E){case"forwards":for(y=m.child,E=null;y!==null;)h=y.alternate,h!==null&&xm(h)===null&&(E=y),y=y.sibling;y=E,y===null?(E=m.child,m.child=null):(E=y.sibling,y.sibling=null),mb(m,!1,E,y,O);break;case"backwards":for(y=null,E=m.child,m.child=null;E!==null;){if(h=E.alternate,h!==null&&xm(h)===null){m.child=E;break}h=E.sibling,E.sibling=y,y=E,E=h}mb(m,!0,y,null,O);break;case"together":mb(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Cm(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function Li(h,m,y){if(h!==null&&(m.dependencies=h.dependencies),Ko|=m.lanes,(y&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,y=Ba(h,h.pendingProps),m.child=y,y.return=m;h.sibling!==null;)h=h.sibling,y=y.sibling=Ba(h,h.pendingProps),y.return=m;y.sibling=null}return m.child}function JV(h,m,y){switch(m.tag){case 3:pC(m),Mc();break;case 5:_3(m);break;case 1:Cr(m.type)&&om(m);break;case 4:Ky(m,m.stateNode.containerInfo);break;case 10:var j=m.type._context,E=m.memoizedProps.value;Et(fm,j._currentValue),j._currentValue=E;break;case 13:if(j=m.memoizedState,j!==null)return j.dehydrated!==null?(Et(Ut,Ut.current&1),m.flags|=128,null):(y&m.child.childLanes)!==0?xC(h,m,y):(Et(Ut,Ut.current&1),h=Li(h,m,y),h!==null?h.sibling:null);Et(Ut,Ut.current&1);break;case 19:if(j=(y&m.childLanes)!==0,(h.flags&128)!==0){if(j)return bC(h,m,y);m.flags|=128}if(E=m.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Et(Ut,Ut.current),j)break;return null;case 22:case 23:return m.lanes=0,hC(h,m,y)}return Li(h,m,y)}var vC,pb,wC,NC;vC=function(h,m){for(var y=m.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},pb=function(){},wC=function(h,m,y,j){var E=h.memoizedProps;if(E!==j){h=m.stateNode,Wo(ni.current);var O=null;switch(y){case"input":E=ie(h,E),j=ie(h,j),O=[];break;case"select":E=H({},E,{value:void 0}),j=H({},j,{value:void 0}),O=[];break;case"textarea":E=ue(h,E),j=ue(h,j),O=[];break;default:typeof E.onClick!="function"&&typeof j.onClick=="function"&&(h.onclick=sm)}fc(y,j);var L;y=null;for(ae in E)if(!j.hasOwnProperty(ae)&&E.hasOwnProperty(ae)&&E[ae]!=null)if(ae==="style"){var W=E[ae];for(L in W)W.hasOwnProperty(L)&&(y||(y={}),y[L]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?O||(O=[]):(O=O||[]).push(ae,null));for(ae in j){var X=j[ae];if(W=E?.[ae],j.hasOwnProperty(ae)&&X!==W&&(X!=null||W!=null))if(ae==="style")if(W){for(L in W)!W.hasOwnProperty(L)||X&&X.hasOwnProperty(L)||(y||(y={}),y[L]="");for(L in X)X.hasOwnProperty(L)&&W[L]!==X[L]&&(y||(y={}),y[L]=X[L])}else y||(O||(O=[]),O.push(ae,y)),y=X;else ae==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,W=W?W.__html:void 0,X!=null&&W!==X&&(O=O||[]).push(ae,X)):ae==="children"?typeof X!="string"&&typeof X!="number"||(O=O||[]).push(ae,""+X):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(X!=null&&ae==="onScroll"&&_t("scroll",h),O||W===X||(O=[])):(O=O||[]).push(ae,X))}y&&(O=O||[]).push("style",y);var ae=O;(m.updateQueue=ae)&&(m.flags|=4)}},NC=function(h,m,y,j){y!==j&&(m.flags|=4)};function kd(h,m){if(!zt)switch(h.tailMode){case"hidden":m=h.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var j=null;y!==null;)y.alternate!==null&&(j=y),y=y.sibling;j===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:j.sibling=null}}function Xn(h){var m=h.alternate!==null&&h.alternate.child===h.child,y=0,j=0;if(m)for(var E=h.child;E!==null;)y|=E.lanes|E.childLanes,j|=E.subtreeFlags&14680064,j|=E.flags&14680064,E.return=h,E=E.sibling;else for(E=h.child;E!==null;)y|=E.lanes|E.childLanes,j|=E.subtreeFlags,j|=E.flags,E.return=h,E=E.sibling;return h.subtreeFlags|=j,h.childLanes=y,m}function ZV(h,m,y){var j=m.pendingProps;switch(Ry(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(m),null;case 1:return Cr(m.type)&&am(),Xn(m),null;case 3:return j=m.stateNode,_c(),Dt(Sr),Dt(Gn),Xy(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(h===null||h.child===null)&&(dm(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Os!==null&&(kb(Os),Os=null))),pb(h,m),Xn(m),null;case 5:Gy(m);var E=Wo(wd.current);if(y=m.type,h!==null&&m.stateNode!=null)wC(h,m,y,j,E),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!j){if(m.stateNode===null)throw Error(n(166));return Xn(m),null}if(h=Wo(ni.current),dm(m)){j=m.stateNode,y=m.type;var O=m.memoizedProps;switch(j[ti]=m,j[gd]=O,h=(m.mode&1)!==0,y){case"dialog":_t("cancel",j),_t("close",j);break;case"iframe":case"object":case"embed":_t("load",j);break;case"video":case"audio":for(E=0;E<fd.length;E++)_t(fd[E],j);break;case"source":_t("error",j);break;case"img":case"image":case"link":_t("error",j),_t("load",j);break;case"details":_t("toggle",j);break;case"input":Me(j,O),_t("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!O.multiple},_t("invalid",j);break;case"textarea":Ee(j,O),_t("invalid",j)}fc(y,O),E=null;for(var L in O)if(O.hasOwnProperty(L)){var W=O[L];L==="children"?typeof W=="string"?j.textContent!==W&&(O.suppressHydrationWarning!==!0&&rm(j.textContent,W,h),E=["children",W]):typeof W=="number"&&j.textContent!==""+W&&(O.suppressHydrationWarning!==!0&&rm(j.textContent,W,h),E=["children",""+W]):s.hasOwnProperty(L)&&W!=null&&L==="onScroll"&&_t("scroll",j)}switch(y){case"input":rt(j),Nr(j,O,!0);break;case"textarea":rt(j),je(j);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(j.onclick=sm)}j=E,m.updateQueue=j,j!==null&&(m.flags|=4)}else{L=E.nodeType===9?E:E.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ze(y)),h==="http://www.w3.org/1999/xhtml"?y==="script"?(h=L.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof j.is=="string"?h=L.createElement(y,{is:j.is}):(h=L.createElement(y),y==="select"&&(L=h,j.multiple?L.multiple=!0:j.size&&(L.size=j.size))):h=L.createElementNS(h,y),h[ti]=m,h[gd]=j,vC(h,m,!1,!1),m.stateNode=h;e:{switch(L=Yu(y,j),y){case"dialog":_t("cancel",h),_t("close",h),E=j;break;case"iframe":case"object":case"embed":_t("load",h),E=j;break;case"video":case"audio":for(E=0;E<fd.length;E++)_t(fd[E],h);E=j;break;case"source":_t("error",h),E=j;break;case"img":case"image":case"link":_t("error",h),_t("load",h),E=j;break;case"details":_t("toggle",h),E=j;break;case"input":Me(h,j),E=ie(h,j),_t("invalid",h);break;case"option":E=j;break;case"select":h._wrapperState={wasMultiple:!!j.multiple},E=H({},j,{value:void 0}),_t("invalid",h);break;case"textarea":Ee(h,j),E=ue(h,j),_t("invalid",h);break;default:E=j}fc(y,E),W=E;for(O in W)if(W.hasOwnProperty(O)){var X=W[O];O==="style"?hc(h,X):O==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&hr(h,X)):O==="children"?typeof X=="string"?(y!=="textarea"||X!=="")&&Zs(h,X):typeof X=="number"&&Zs(h,""+X):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?X!=null&&O==="onScroll"&&_t("scroll",h):X!=null&&C(h,O,X,L))}switch(y){case"input":rt(h),Nr(h,j,!1);break;case"textarea":rt(h),je(h);break;case"option":j.value!=null&&h.setAttribute("value",""+de(j.value));break;case"select":h.multiple=!!j.multiple,O=j.value,O!=null?re(h,!!j.multiple,O,!1):j.defaultValue!=null&&re(h,!!j.multiple,j.defaultValue,!0);break;default:typeof E.onClick=="function"&&(h.onclick=sm)}switch(y){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Xn(m),null;case 6:if(h&&m.stateNode!=null)NC(h,m,h.memoizedProps,j);else{if(typeof j!="string"&&m.stateNode===null)throw Error(n(166));if(y=Wo(wd.current),Wo(ni.current),dm(m)){if(j=m.stateNode,y=m.memoizedProps,j[ti]=m,(O=j.nodeValue!==y)&&(h=Ur,h!==null))switch(h.tag){case 3:rm(j.nodeValue,y,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&rm(j.nodeValue,y,(h.mode&1)!==0)}O&&(m.flags|=4)}else j=(y.nodeType===9?y:y.ownerDocument).createTextNode(j),j[ti]=m,m.stateNode=j}return Xn(m),null;case 13:if(Dt(Ut),j=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(zt&&Wr!==null&&(m.mode&1)!==0&&(m.flags&128)===0)C3(),Mc(),m.flags|=98560,O=!1;else if(O=dm(m),j!==null&&j.dehydrated!==null){if(h===null){if(!O)throw Error(n(318));if(O=m.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[ti]=m}else Mc(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Xn(m),O=!1}else Os!==null&&(kb(Os),Os=null),O=!0;if(!O)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=y,m):(j=j!==null,j!==(h!==null&&h.memoizedState!==null)&&j&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(Ut.current&1)!==0?Nn===0&&(Nn=3):Mb())),m.updateQueue!==null&&(m.flags|=4),Xn(m),null);case 4:return _c(),pb(h,m),h===null&&md(m.stateNode.containerInfo),Xn(m),null;case 10:return Hy(m.type._context),Xn(m),null;case 17:return Cr(m.type)&&am(),Xn(m),null;case 19:if(Dt(Ut),O=m.memoizedState,O===null)return Xn(m),null;if(j=(m.flags&128)!==0,L=O.rendering,L===null)if(j)kd(O,!1);else{if(Nn!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(L=xm(h),L!==null){for(m.flags|=128,kd(O,!1),j=L.updateQueue,j!==null&&(m.updateQueue=j,m.flags|=4),m.subtreeFlags=0,j=y,y=m.child;y!==null;)O=y,h=j,O.flags&=14680066,L=O.alternate,L===null?(O.childLanes=0,O.lanes=h,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=L.childLanes,O.lanes=L.lanes,O.child=L.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=L.memoizedProps,O.memoizedState=L.memoizedState,O.updateQueue=L.updateQueue,O.type=L.type,h=L.dependencies,O.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),y=y.sibling;return Et(Ut,Ut.current&1|2),m.child}h=h.sibling}O.tail!==null&&sn()>Rc&&(m.flags|=128,j=!0,kd(O,!1),m.lanes=4194304)}else{if(!j)if(h=xm(L),h!==null){if(m.flags|=128,j=!0,y=h.updateQueue,y!==null&&(m.updateQueue=y,m.flags|=4),kd(O,!0),O.tail===null&&O.tailMode==="hidden"&&!L.alternate&&!zt)return Xn(m),null}else 2*sn()-O.renderingStartTime>Rc&&y!==1073741824&&(m.flags|=128,j=!0,kd(O,!1),m.lanes=4194304);O.isBackwards?(L.sibling=m.child,m.child=L):(y=O.last,y!==null?y.sibling=L:m.child=L,O.last=L)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=sn(),m.sibling=null,y=Ut.current,Et(Ut,j?y&1|2:y&1),m):(Xn(m),null);case 22:case 23:return Eb(),j=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==j&&(m.flags|=8192),j&&(m.mode&1)!==0?(qr&1073741824)!==0&&(Xn(m),m.subtreeFlags&6&&(m.flags|=8192)):Xn(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function e9(h,m){switch(Ry(m),m.tag){case 1:return Cr(m.type)&&am(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return _c(),Dt(Sr),Dt(Gn),Xy(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return Gy(m),null;case 13:if(Dt(Ut),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Mc()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Dt(Ut),null;case 4:return _c(),null;case 10:return Hy(m.type._context),null;case 22:case 23:return Eb(),null;case 24:return null;default:return null}}var km=!1,Qn=!1,t9=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ic(h,m){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(j){Gt(h,m,j)}else y.current=null}function gb(h,m,y){try{y()}catch(j){Gt(h,m,j)}}var jC=!1;function n9(h,m){if(Ey=qf,h=t3(),vy(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var j=y.getSelection&&y.getSelection();if(j&&j.rangeCount!==0){y=j.anchorNode;var E=j.anchorOffset,O=j.focusNode;j=j.focusOffset;try{y.nodeType,O.nodeType}catch{y=null;break e}var L=0,W=-1,X=-1,ae=0,pe=0,ye=h,me=null;t:for(;;){for(var Pe;ye!==y||E!==0&&ye.nodeType!==3||(W=L+E),ye!==O||j!==0&&ye.nodeType!==3||(X=L+j),ye.nodeType===3&&(L+=ye.nodeValue.length),(Pe=ye.firstChild)!==null;)me=ye,ye=Pe;for(;;){if(ye===h)break t;if(me===y&&++ae===E&&(W=L),me===O&&++pe===j&&(X=L),(Pe=ye.nextSibling)!==null)break;ye=me,me=ye.parentNode}ye=Pe}y=W===-1||X===-1?null:{start:W,end:X}}else y=null}y=y||{start:0,end:0}}else y=null;for(My={focusedElem:h,selectionRange:y},qf=!1,_e=m;_e!==null;)if(m=_e,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,_e=h;else for(;_e!==null;){m=_e;try{var De=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Ie=De.memoizedProps,an=De.memoizedState,ne=m.stateNode,J=ne.getSnapshotBeforeUpdate(m.elementType===m.type?Ie:_s(m.type,Ie),an);ne.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=m.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ne){Gt(m,m.return,Ne)}if(h=m.sibling,h!==null){h.return=m.return,_e=h;break}_e=m.return}return De=jC,jC=!1,De}function Td(h,m,y){var j=m.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var E=j=j.next;do{if((E.tag&h)===h){var O=E.destroy;E.destroy=void 0,O!==void 0&&gb(m,y,O)}E=E.next}while(E!==j)}}function Tm(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&h)===h){var j=y.create;y.destroy=j()}y=y.next}while(y!==m)}}function xb(h){var m=h.ref;if(m!==null){var y=h.stateNode;switch(h.tag){case 5:h=y;break;default:h=y}typeof m=="function"?m(h):m.current=h}}function SC(h){var m=h.alternate;m!==null&&(h.alternate=null,SC(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[ti],delete m[gd],delete m[_y],delete m[FV],delete m[zV])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function CC(h){return h.tag===5||h.tag===3||h.tag===4}function kC(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||CC(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function yb(h,m,y){var j=h.tag;if(j===5||j===6)h=h.stateNode,m?y.nodeType===8?y.parentNode.insertBefore(h,m):y.insertBefore(h,m):(y.nodeType===8?(m=y.parentNode,m.insertBefore(h,y)):(m=y,m.appendChild(h)),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=sm));else if(j!==4&&(h=h.child,h!==null))for(yb(h,m,y),h=h.sibling;h!==null;)yb(h,m,y),h=h.sibling}function bb(h,m,y){var j=h.tag;if(j===5||j===6)h=h.stateNode,m?y.insertBefore(h,m):y.appendChild(h);else if(j!==4&&(h=h.child,h!==null))for(bb(h,m,y),h=h.sibling;h!==null;)bb(h,m,y),h=h.sibling}var Rn=null,Ds=!1;function Ra(h,m,y){for(y=y.child;y!==null;)TC(h,m,y),y=y.sibling}function TC(h,m,y){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Vf,y)}catch{}switch(y.tag){case 5:Qn||Ic(y,m);case 6:var j=Rn,E=Ds;Rn=null,Ra(h,m,y),Rn=j,Ds=E,Rn!==null&&(Ds?(h=Rn,y=y.stateNode,h.nodeType===8?h.parentNode.removeChild(y):h.removeChild(y)):Rn.removeChild(y.stateNode));break;case 18:Rn!==null&&(Ds?(h=Rn,y=y.stateNode,h.nodeType===8?Oy(h.parentNode,y):h.nodeType===1&&Oy(h,y),id(h)):Oy(Rn,y.stateNode));break;case 4:j=Rn,E=Ds,Rn=y.stateNode.containerInfo,Ds=!0,Ra(h,m,y),Rn=j,Ds=E;break;case 0:case 11:case 14:case 15:if(!Qn&&(j=y.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){E=j=j.next;do{var O=E,L=O.destroy;O=O.tag,L!==void 0&&((O&2)!==0||(O&4)!==0)&&gb(y,m,L),E=E.next}while(E!==j)}Ra(h,m,y);break;case 1:if(!Qn&&(Ic(y,m),j=y.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=y.memoizedProps,j.state=y.memoizedState,j.componentWillUnmount()}catch(W){Gt(y,m,W)}Ra(h,m,y);break;case 21:Ra(h,m,y);break;case 22:y.mode&1?(Qn=(j=Qn)||y.memoizedState!==null,Ra(h,m,y),Qn=j):Ra(h,m,y);break;default:Ra(h,m,y)}}function EC(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new t9),m.forEach(function(j){var E=d9.bind(null,h,j);y.has(j)||(y.add(j),j.then(E,E))})}}function Is(h,m){var y=m.deletions;if(y!==null)for(var j=0;j<y.length;j++){var E=y[j];try{var O=h,L=m,W=L;e:for(;W!==null;){switch(W.tag){case 5:Rn=W.stateNode,Ds=!1;break e;case 3:Rn=W.stateNode.containerInfo,Ds=!0;break e;case 4:Rn=W.stateNode.containerInfo,Ds=!0;break e}W=W.return}if(Rn===null)throw Error(n(160));TC(O,L,E),Rn=null,Ds=!1;var X=E.alternate;X!==null&&(X.return=null),E.return=null}catch(ae){Gt(E,m,ae)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)MC(m,h),m=m.sibling}function MC(h,m){var y=h.alternate,j=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Is(m,h),si(h),j&4){try{Td(3,h,h.return),Tm(3,h)}catch(Ie){Gt(h,h.return,Ie)}try{Td(5,h,h.return)}catch(Ie){Gt(h,h.return,Ie)}}break;case 1:Is(m,h),si(h),j&512&&y!==null&&Ic(y,y.return);break;case 5:if(Is(m,h),si(h),j&512&&y!==null&&Ic(y,y.return),h.flags&32){var E=h.stateNode;try{Zs(E,"")}catch(Ie){Gt(h,h.return,Ie)}}if(j&4&&(E=h.stateNode,E!=null)){var O=h.memoizedProps,L=y!==null?y.memoizedProps:O,W=h.type,X=h.updateQueue;if(h.updateQueue=null,X!==null)try{W==="input"&&O.type==="radio"&&O.name!=null&&Xe(E,O),Yu(W,L);var ae=Yu(W,O);for(L=0;L<X.length;L+=2){var pe=X[L],ye=X[L+1];pe==="style"?hc(E,ye):pe==="dangerouslySetInnerHTML"?hr(E,ye):pe==="children"?Zs(E,ye):C(E,pe,ye,ae)}switch(W){case"input":vt(E,O);break;case"textarea":Ce(E,O);break;case"select":var me=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!O.multiple;var Pe=O.value;Pe!=null?re(E,!!O.multiple,Pe,!1):me!==!!O.multiple&&(O.defaultValue!=null?re(E,!!O.multiple,O.defaultValue,!0):re(E,!!O.multiple,O.multiple?[]:"",!1))}E[gd]=O}catch(Ie){Gt(h,h.return,Ie)}}break;case 6:if(Is(m,h),si(h),j&4){if(h.stateNode===null)throw Error(n(162));E=h.stateNode,O=h.memoizedProps;try{E.nodeValue=O}catch(Ie){Gt(h,h.return,Ie)}}break;case 3:if(Is(m,h),si(h),j&4&&y!==null&&y.memoizedState.isDehydrated)try{id(m.containerInfo)}catch(Ie){Gt(h,h.return,Ie)}break;case 4:Is(m,h),si(h);break;case 13:Is(m,h),si(h),E=h.child,E.flags&8192&&(O=E.memoizedState!==null,E.stateNode.isHidden=O,!O||E.alternate!==null&&E.alternate.memoizedState!==null||(Nb=sn())),j&4&&EC(h);break;case 22:if(pe=y!==null&&y.memoizedState!==null,h.mode&1?(Qn=(ae=Qn)||pe,Is(m,h),Qn=ae):Is(m,h),si(h),j&8192){if(ae=h.memoizedState!==null,(h.stateNode.isHidden=ae)&&!pe&&(h.mode&1)!==0)for(_e=h,pe=h.child;pe!==null;){for(ye=_e=pe;_e!==null;){switch(me=_e,Pe=me.child,me.tag){case 0:case 11:case 14:case 15:Td(4,me,me.return);break;case 1:Ic(me,me.return);var De=me.stateNode;if(typeof De.componentWillUnmount=="function"){j=me,y=me.return;try{m=j,De.props=m.memoizedProps,De.state=m.memoizedState,De.componentWillUnmount()}catch(Ie){Gt(j,y,Ie)}}break;case 5:Ic(me,me.return);break;case 22:if(me.memoizedState!==null){OC(ye);continue}}Pe!==null?(Pe.return=me,_e=Pe):OC(ye)}pe=pe.sibling}e:for(pe=null,ye=h;;){if(ye.tag===5){if(pe===null){pe=ye;try{E=ye.stateNode,ae?(O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(W=ye.stateNode,X=ye.memoizedProps.style,L=X!=null&&X.hasOwnProperty("display")?X.display:null,W.style.display=dc("display",L))}catch(Ie){Gt(h,h.return,Ie)}}}else if(ye.tag===6){if(pe===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(Ie){Gt(h,h.return,Ie)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===h)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===h)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===h)break e;pe===ye&&(pe=null),ye=ye.return}pe===ye&&(pe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Is(m,h),si(h),j&4&&EC(h);break;case 21:break;default:Is(m,h),si(h)}}function si(h){var m=h.flags;if(m&2){try{e:{for(var y=h.return;y!==null;){if(CC(y)){var j=y;break e}y=y.return}throw Error(n(160))}switch(j.tag){case 5:var E=j.stateNode;j.flags&32&&(Zs(E,""),j.flags&=-33);var O=kC(h);bb(h,O,E);break;case 3:case 4:var L=j.stateNode.containerInfo,W=kC(h);yb(h,W,L);break;default:throw Error(n(161))}}catch(X){Gt(h,h.return,X)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function r9(h,m,y){_e=h,PC(h)}function PC(h,m,y){for(var j=(h.mode&1)!==0;_e!==null;){var E=_e,O=E.child;if(E.tag===22&&j){var L=E.memoizedState!==null||km;if(!L){var W=E.alternate,X=W!==null&&W.memoizedState!==null||Qn;W=km;var ae=Qn;if(km=L,(Qn=X)&&!ae)for(_e=E;_e!==null;)L=_e,X=L.child,L.tag===22&&L.memoizedState!==null?_C(E):X!==null?(X.return=L,_e=X):_C(E);for(;O!==null;)_e=O,PC(O),O=O.sibling;_e=E,km=W,Qn=ae}AC(h)}else(E.subtreeFlags&8772)!==0&&O!==null?(O.return=E,_e=O):AC(h)}}function AC(h){for(;_e!==null;){var m=_e;if((m.flags&8772)!==0){var y=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Qn||Tm(5,m);break;case 1:var j=m.stateNode;if(m.flags&4&&!Qn)if(y===null)j.componentDidMount();else{var E=m.elementType===m.type?y.memoizedProps:_s(m.type,y.memoizedProps);j.componentDidUpdate(E,y.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var O=m.updateQueue;O!==null&&O3(m,O,j);break;case 3:var L=m.updateQueue;if(L!==null){if(y=null,m.child!==null)switch(m.child.tag){case 5:y=m.child.stateNode;break;case 1:y=m.child.stateNode}O3(m,L,y)}break;case 5:var W=m.stateNode;if(y===null&&m.flags&4){y=W;var X=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&y.focus();break;case"img":X.src&&(y.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ae=m.alternate;if(ae!==null){var pe=ae.memoizedState;if(pe!==null){var ye=pe.dehydrated;ye!==null&&id(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qn||m.flags&512&&xb(m)}catch(me){Gt(m,m.return,me)}}if(m===h){_e=null;break}if(y=m.sibling,y!==null){y.return=m.return,_e=y;break}_e=m.return}}function OC(h){for(;_e!==null;){var m=_e;if(m===h){_e=null;break}var y=m.sibling;if(y!==null){y.return=m.return,_e=y;break}_e=m.return}}function _C(h){for(;_e!==null;){var m=_e;try{switch(m.tag){case 0:case 11:case 15:var y=m.return;try{Tm(4,m)}catch(X){Gt(m,y,X)}break;case 1:var j=m.stateNode;if(typeof j.componentDidMount=="function"){var E=m.return;try{j.componentDidMount()}catch(X){Gt(m,E,X)}}var O=m.return;try{xb(m)}catch(X){Gt(m,O,X)}break;case 5:var L=m.return;try{xb(m)}catch(X){Gt(m,L,X)}}}catch(X){Gt(m,m.return,X)}if(m===h){_e=null;break}var W=m.sibling;if(W!==null){W.return=m.return,_e=W;break}_e=m.return}}var s9=Math.ceil,Em=P.ReactCurrentDispatcher,vb=P.ReactCurrentOwner,fs=P.ReactCurrentBatchConfig,ht=0,Tn=null,dn=null,Fn=0,qr=0,Lc=Oa(0),Nn=0,Ed=null,Ko=0,Mm=0,wb=0,Md=null,Tr=null,Nb=0,Rc=1/0,Ri=null,Pm=!1,jb=null,Fa=null,Am=!1,za=null,Om=0,Pd=0,Sb=null,_m=-1,Dm=0;function mr(){return(ht&6)!==0?sn():_m!==-1?_m:_m=sn()}function Va(h){return(h.mode&1)===0?1:(ht&2)!==0&&Fn!==0?Fn&-Fn:$V.transition!==null?(Dm===0&&(Dm=k4()),Dm):(h=wt,h!==0||(h=window.event,h=h===void 0?16:I4(h.type)),h)}function Ls(h,m,y,j){if(50<Pd)throw Pd=0,Sb=null,Error(n(185));ed(h,y,j),((ht&2)===0||h!==Tn)&&(h===Tn&&((ht&2)===0&&(Mm|=y),Nn===4&&$a(h,Fn)),Er(h,j),y===1&&ht===0&&(m.mode&1)===0&&(Rc=sn()+500,lm&&Da()))}function Er(h,m){var y=h.callbackNode;$z(h,m);var j=Hf(h,h===Tn?Fn:0);if(j===0)y!==null&&j4(y),h.callbackNode=null,h.callbackPriority=0;else if(m=j&-j,h.callbackPriority!==m){if(y!=null&&j4(y),m===1)h.tag===0?VV(IC.bind(null,h)):v3(IC.bind(null,h)),LV(function(){(ht&6)===0&&Da()}),y=null;else{switch(T4(j)){case 1:y=ry;break;case 4:y=S4;break;case 16:y=zf;break;case 536870912:y=C4;break;default:y=zf}y=HC(y,DC.bind(null,h))}h.callbackPriority=m,h.callbackNode=y}}function DC(h,m){if(_m=-1,Dm=0,(ht&6)!==0)throw Error(n(327));var y=h.callbackNode;if(Fc()&&h.callbackNode!==y)return null;var j=Hf(h,h===Tn?Fn:0);if(j===0)return null;if((j&30)!==0||(j&h.expiredLanes)!==0||m)m=Im(h,j);else{m=j;var E=ht;ht|=2;var O=RC();(Tn!==h||Fn!==m)&&(Ri=null,Rc=sn()+500,Yo(h,m));do try{o9();break}catch(W){LC(h,W)}while(!0);By(),Em.current=O,ht=E,dn!==null?m=0:(Tn=null,Fn=0,m=Nn)}if(m!==0){if(m===2&&(E=sy(h),E!==0&&(j=E,m=Cb(h,E))),m===1)throw y=Ed,Yo(h,0),$a(h,j),Er(h,sn()),y;if(m===6)$a(h,j);else{if(E=h.current.alternate,(j&30)===0&&!i9(E)&&(m=Im(h,j),m===2&&(O=sy(h),O!==0&&(j=O,m=Cb(h,O))),m===1))throw y=Ed,Yo(h,0),$a(h,j),Er(h,sn()),y;switch(h.finishedWork=E,h.finishedLanes=j,m){case 0:case 1:throw Error(n(345));case 2:Xo(h,Tr,Ri);break;case 3:if($a(h,j),(j&130023424)===j&&(m=Nb+500-sn(),10<m)){if(Hf(h,0)!==0)break;if(E=h.suspendedLanes,(E&j)!==j){mr(),h.pingedLanes|=h.suspendedLanes&E;break}h.timeoutHandle=Ay(Xo.bind(null,h,Tr,Ri),m);break}Xo(h,Tr,Ri);break;case 4:if($a(h,j),(j&4194240)===j)break;for(m=h.eventTimes,E=-1;0<j;){var L=31-Ps(j);O=1<<L,L=m[L],L>E&&(E=L),j&=~O}if(j=E,j=sn()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*s9(j/1960))-j,10<j){h.timeoutHandle=Ay(Xo.bind(null,h,Tr,Ri),j);break}Xo(h,Tr,Ri);break;case 5:Xo(h,Tr,Ri);break;default:throw Error(n(329))}}}return Er(h,sn()),h.callbackNode===y?DC.bind(null,h):null}function Cb(h,m){var y=Md;return h.current.memoizedState.isDehydrated&&(Yo(h,m).flags|=256),h=Im(h,m),h!==2&&(m=Tr,Tr=y,m!==null&&kb(m)),h}function kb(h){Tr===null?Tr=h:Tr.push.apply(Tr,h)}function i9(h){for(var m=h;;){if(m.flags&16384){var y=m.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var j=0;j<y.length;j++){var E=y[j],O=E.getSnapshot;E=E.value;try{if(!As(O(),E))return!1}catch{return!1}}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function $a(h,m){for(m&=~wb,m&=~Mm,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var y=31-Ps(m),j=1<<y;h[y]=-1,m&=~j}}function IC(h){if((ht&6)!==0)throw Error(n(327));Fc();var m=Hf(h,0);if((m&1)===0)return Er(h,sn()),null;var y=Im(h,m);if(h.tag!==0&&y===2){var j=sy(h);j!==0&&(m=j,y=Cb(h,j))}if(y===1)throw y=Ed,Yo(h,0),$a(h,m),Er(h,sn()),y;if(y===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Xo(h,Tr,Ri),Er(h,sn()),null}function Tb(h,m){var y=ht;ht|=1;try{return h(m)}finally{ht=y,ht===0&&(Rc=sn()+500,lm&&Da())}}function Go(h){za!==null&&za.tag===0&&(ht&6)===0&&Fc();var m=ht;ht|=1;var y=fs.transition,j=wt;try{if(fs.transition=null,wt=1,h)return h()}finally{wt=j,fs.transition=y,ht=m,(ht&6)===0&&Da()}}function Eb(){qr=Lc.current,Dt(Lc)}function Yo(h,m){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==-1&&(h.timeoutHandle=-1,IV(y)),dn!==null)for(y=dn.return;y!==null;){var j=y;switch(Ry(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&am();break;case 3:_c(),Dt(Sr),Dt(Gn),Xy();break;case 5:Gy(j);break;case 4:_c();break;case 13:Dt(Ut);break;case 19:Dt(Ut);break;case 10:Hy(j.type._context);break;case 22:case 23:Eb()}y=y.return}if(Tn=h,dn=h=Ba(h.current,null),Fn=qr=m,Nn=0,Ed=null,wb=Mm=Ko=0,Tr=Md=null,Uo!==null){for(m=0;m<Uo.length;m++)if(y=Uo[m],j=y.interleaved,j!==null){y.interleaved=null;var E=j.next,O=y.pending;if(O!==null){var L=O.next;O.next=E,j.next=L}y.pending=j}Uo=null}return h}function LC(h,m){do{var y=dn;try{if(By(),ym.current=Nm,bm){for(var j=Wt.memoizedState;j!==null;){var E=j.queue;E!==null&&(E.pending=null),j=j.next}bm=!1}if(qo=0,kn=wn=Wt=null,Nd=!1,jd=0,vb.current=null,y===null||y.return===null){Nn=1,Ed=m,dn=null;break}e:{var O=h,L=y.return,W=y,X=m;if(m=Fn,W.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ae=X,pe=W,ye=pe.tag;if((pe.mode&1)===0&&(ye===0||ye===11||ye===15)){var me=pe.alternate;me?(pe.updateQueue=me.updateQueue,pe.memoizedState=me.memoizedState,pe.lanes=me.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Pe=oC(L);if(Pe!==null){Pe.flags&=-257,lC(Pe,L,W,O,m),Pe.mode&1&&aC(O,ae,m),m=Pe,X=ae;var De=m.updateQueue;if(De===null){var Ie=new Set;Ie.add(X),m.updateQueue=Ie}else De.add(X);break e}else{if((m&1)===0){aC(O,ae,m),Mb();break e}X=Error(n(426))}}else if(zt&&W.mode&1){var an=oC(L);if(an!==null){(an.flags&65536)===0&&(an.flags|=256),lC(an,L,W,O,m),Vy(Dc(X,W));break e}}O=X=Dc(X,W),Nn!==4&&(Nn=2),Md===null?Md=[O]:Md.push(O),O=L;do{switch(O.tag){case 3:O.flags|=65536,m&=-m,O.lanes|=m;var ne=sC(O,X,m);A3(O,ne);break e;case 1:W=X;var J=O.type,se=O.stateNode;if((O.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Fa===null||!Fa.has(se)))){O.flags|=65536,m&=-m,O.lanes|=m;var Ne=iC(O,W,m);A3(O,Ne);break e}}O=O.return}while(O!==null)}zC(y)}catch(Re){m=Re,dn===y&&y!==null&&(dn=y=y.return);continue}break}while(!0)}function RC(){var h=Em.current;return Em.current=Nm,h===null?Nm:h}function Mb(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Tn===null||(Ko&268435455)===0&&(Mm&268435455)===0||$a(Tn,Fn)}function Im(h,m){var y=ht;ht|=2;var j=RC();(Tn!==h||Fn!==m)&&(Ri=null,Yo(h,m));do try{a9();break}catch(E){LC(h,E)}while(!0);if(By(),ht=y,Em.current=j,dn!==null)throw Error(n(261));return Tn=null,Fn=0,Nn}function a9(){for(;dn!==null;)FC(dn)}function o9(){for(;dn!==null&&!Oz();)FC(dn)}function FC(h){var m=BC(h.alternate,h,qr);h.memoizedProps=h.pendingProps,m===null?zC(h):dn=m,vb.current=null}function zC(h){var m=h;do{var y=m.alternate;if(h=m.return,(m.flags&32768)===0){if(y=ZV(y,m,qr),y!==null){dn=y;return}}else{if(y=e9(y,m),y!==null){y.flags&=32767,dn=y;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Nn=6,dn=null;return}}if(m=m.sibling,m!==null){dn=m;return}dn=m=h}while(m!==null);Nn===0&&(Nn=5)}function Xo(h,m,y){var j=wt,E=fs.transition;try{fs.transition=null,wt=1,l9(h,m,y,j)}finally{fs.transition=E,wt=j}return null}function l9(h,m,y,j){do Fc();while(za!==null);if((ht&6)!==0)throw Error(n(327));y=h.finishedWork;var E=h.finishedLanes;if(y===null)return null;if(h.finishedWork=null,h.finishedLanes=0,y===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var O=y.lanes|y.childLanes;if(Bz(h,O),h===Tn&&(dn=Tn=null,Fn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Am||(Am=!0,HC(zf,function(){return Fc(),null})),O=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||O){O=fs.transition,fs.transition=null;var L=wt;wt=1;var W=ht;ht|=4,vb.current=null,n9(h,y),MC(y,h),EV(My),qf=!!Ey,My=Ey=null,h.current=y,r9(y),_z(),ht=W,wt=L,fs.transition=O}else h.current=y;if(Am&&(Am=!1,za=h,Om=E),O=h.pendingLanes,O===0&&(Fa=null),Lz(y.stateNode),Er(h,sn()),m!==null)for(j=h.onRecoverableError,y=0;y<m.length;y++)E=m[y],j(E.value,{componentStack:E.stack,digest:E.digest});if(Pm)throw Pm=!1,h=jb,jb=null,h;return(Om&1)!==0&&h.tag!==0&&Fc(),O=h.pendingLanes,(O&1)!==0?h===Sb?Pd++:(Pd=0,Sb=h):Pd=0,Da(),null}function Fc(){if(za!==null){var h=T4(Om),m=fs.transition,y=wt;try{if(fs.transition=null,wt=16>h?16:h,za===null)var j=!1;else{if(h=za,za=null,Om=0,(ht&6)!==0)throw Error(n(331));var E=ht;for(ht|=4,_e=h.current;_e!==null;){var O=_e,L=O.child;if((_e.flags&16)!==0){var W=O.deletions;if(W!==null){for(var X=0;X<W.length;X++){var ae=W[X];for(_e=ae;_e!==null;){var pe=_e;switch(pe.tag){case 0:case 11:case 15:Td(8,pe,O)}var ye=pe.child;if(ye!==null)ye.return=pe,_e=ye;else for(;_e!==null;){pe=_e;var me=pe.sibling,Pe=pe.return;if(SC(pe),pe===ae){_e=null;break}if(me!==null){me.return=Pe,_e=me;break}_e=Pe}}}var De=O.alternate;if(De!==null){var Ie=De.child;if(Ie!==null){De.child=null;do{var an=Ie.sibling;Ie.sibling=null,Ie=an}while(Ie!==null)}}_e=O}}if((O.subtreeFlags&2064)!==0&&L!==null)L.return=O,_e=L;else e:for(;_e!==null;){if(O=_e,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Td(9,O,O.return)}var ne=O.sibling;if(ne!==null){ne.return=O.return,_e=ne;break e}_e=O.return}}var J=h.current;for(_e=J;_e!==null;){L=_e;var se=L.child;if((L.subtreeFlags&2064)!==0&&se!==null)se.return=L,_e=se;else e:for(L=J;_e!==null;){if(W=_e,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Tm(9,W)}}catch(Re){Gt(W,W.return,Re)}if(W===L){_e=null;break e}var Ne=W.sibling;if(Ne!==null){Ne.return=W.return,_e=Ne;break e}_e=W.return}}if(ht=E,Da(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Vf,h)}catch{}j=!0}return j}finally{wt=y,fs.transition=m}}return!1}function VC(h,m,y){m=Dc(y,m),m=sC(h,m,1),h=La(h,m,1),m=mr(),h!==null&&(ed(h,1,m),Er(h,m))}function Gt(h,m,y){if(h.tag===3)VC(h,h,y);else for(;m!==null;){if(m.tag===3){VC(m,h,y);break}else if(m.tag===1){var j=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Fa===null||!Fa.has(j))){h=Dc(y,h),h=iC(m,h,1),m=La(m,h,1),h=mr(),m!==null&&(ed(m,1,h),Er(m,h));break}}m=m.return}}function c9(h,m,y){var j=h.pingCache;j!==null&&j.delete(m),m=mr(),h.pingedLanes|=h.suspendedLanes&y,Tn===h&&(Fn&y)===y&&(Nn===4||Nn===3&&(Fn&130023424)===Fn&&500>sn()-Nb?Yo(h,0):wb|=y),Er(h,m)}function $C(h,m){m===0&&((h.mode&1)===0?m=1:(m=Bf,Bf<<=1,(Bf&130023424)===0&&(Bf=4194304)));var y=mr();h=Di(h,m),h!==null&&(ed(h,m,y),Er(h,y))}function u9(h){var m=h.memoizedState,y=0;m!==null&&(y=m.retryLane),$C(h,y)}function d9(h,m){var y=0;switch(h.tag){case 13:var j=h.stateNode,E=h.memoizedState;E!==null&&(y=E.retryLane);break;case 19:j=h.stateNode;break;default:throw Error(n(314))}j!==null&&j.delete(m),$C(h,y)}var BC;BC=function(h,m,y){if(h!==null)if(h.memoizedProps!==m.pendingProps||Sr.current)kr=!0;else{if((h.lanes&y)===0&&(m.flags&128)===0)return kr=!1,JV(h,m,y);kr=(h.flags&131072)!==0}else kr=!1,zt&&(m.flags&1048576)!==0&&w3(m,um,m.index);switch(m.lanes=0,m.tag){case 2:var j=m.type;Cm(h,m),h=m.pendingProps;var E=kc(m,Gn.current);Oc(m,y),E=Zy(null,m,j,h,E,y);var O=eb();return m.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Cr(j)?(O=!0,om(m)):O=!1,m.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,qy(m),E.updater=jm,m.stateNode=E,E._reactInternals=m,ab(m,j,h,y),m=ub(null,m,j,!0,O,y)):(m.tag=0,zt&&O&&Ly(m),fr(null,m,E,y),m=m.child),m;case 16:j=m.elementType;e:{switch(Cm(h,m),h=m.pendingProps,E=j._init,j=E(j._payload),m.type=j,E=m.tag=f9(j),h=_s(j,h),E){case 0:m=cb(null,m,j,h,y);break e;case 1:m=mC(null,m,j,h,y);break e;case 11:m=cC(null,m,j,h,y);break e;case 14:m=uC(null,m,j,_s(j.type,h),y);break e}throw Error(n(306,j,""))}return m;case 0:return j=m.type,E=m.pendingProps,E=m.elementType===j?E:_s(j,E),cb(h,m,j,E,y);case 1:return j=m.type,E=m.pendingProps,E=m.elementType===j?E:_s(j,E),mC(h,m,j,E,y);case 3:e:{if(pC(m),h===null)throw Error(n(387));j=m.pendingProps,O=m.memoizedState,E=O.element,P3(h,m),gm(m,j,null,y);var L=m.memoizedState;if(j=L.element,O.isDehydrated)if(O={element:j,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},m.updateQueue.baseState=O,m.memoizedState=O,m.flags&256){E=Dc(Error(n(423)),m),m=gC(h,m,j,y,E);break e}else if(j!==E){E=Dc(Error(n(424)),m),m=gC(h,m,j,y,E);break e}else for(Wr=Aa(m.stateNode.containerInfo.firstChild),Ur=m,zt=!0,Os=null,y=E3(m,null,j,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Mc(),j===E){m=Li(h,m,y);break e}fr(h,m,j,y)}m=m.child}return m;case 5:return _3(m),h===null&&zy(m),j=m.type,E=m.pendingProps,O=h!==null?h.memoizedProps:null,L=E.children,Py(j,E)?L=null:O!==null&&Py(j,O)&&(m.flags|=32),fC(h,m),fr(h,m,L,y),m.child;case 6:return h===null&&zy(m),null;case 13:return xC(h,m,y);case 4:return Ky(m,m.stateNode.containerInfo),j=m.pendingProps,h===null?m.child=Pc(m,null,j,y):fr(h,m,j,y),m.child;case 11:return j=m.type,E=m.pendingProps,E=m.elementType===j?E:_s(j,E),cC(h,m,j,E,y);case 7:return fr(h,m,m.pendingProps,y),m.child;case 8:return fr(h,m,m.pendingProps.children,y),m.child;case 12:return fr(h,m,m.pendingProps.children,y),m.child;case 10:e:{if(j=m.type._context,E=m.pendingProps,O=m.memoizedProps,L=E.value,Et(fm,j._currentValue),j._currentValue=L,O!==null)if(As(O.value,L)){if(O.children===E.children&&!Sr.current){m=Li(h,m,y);break e}}else for(O=m.child,O!==null&&(O.return=m);O!==null;){var W=O.dependencies;if(W!==null){L=O.child;for(var X=W.firstContext;X!==null;){if(X.context===j){if(O.tag===1){X=Ii(-1,y&-y),X.tag=2;var ae=O.updateQueue;if(ae!==null){ae=ae.shared;var pe=ae.pending;pe===null?X.next=X:(X.next=pe.next,pe.next=X),ae.pending=X}}O.lanes|=y,X=O.alternate,X!==null&&(X.lanes|=y),Uy(O.return,y,m),W.lanes|=y;break}X=X.next}}else if(O.tag===10)L=O.type===m.type?null:O.child;else if(O.tag===18){if(L=O.return,L===null)throw Error(n(341));L.lanes|=y,W=L.alternate,W!==null&&(W.lanes|=y),Uy(L,y,m),L=O.sibling}else L=O.child;if(L!==null)L.return=O;else for(L=O;L!==null;){if(L===m){L=null;break}if(O=L.sibling,O!==null){O.return=L.return,L=O;break}L=L.return}O=L}fr(h,m,E.children,y),m=m.child}return m;case 9:return E=m.type,j=m.pendingProps.children,Oc(m,y),E=ds(E),j=j(E),m.flags|=1,fr(h,m,j,y),m.child;case 14:return j=m.type,E=_s(j,m.pendingProps),E=_s(j.type,E),uC(h,m,j,E,y);case 15:return dC(h,m,m.type,m.pendingProps,y);case 17:return j=m.type,E=m.pendingProps,E=m.elementType===j?E:_s(j,E),Cm(h,m),m.tag=1,Cr(j)?(h=!0,om(m)):h=!1,Oc(m,y),nC(m,j,E),ab(m,j,E,y),ub(null,m,j,!0,h,y);case 19:return bC(h,m,y);case 22:return hC(h,m,y)}throw Error(n(156,m.tag))};function HC(h,m){return N4(h,m)}function h9(h,m,y,j){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(h,m,y,j){return new h9(h,m,y,j)}function Pb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function f9(h){if(typeof h=="function")return Pb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===R)return 11;if(h===q)return 14}return 2}function Ba(h,m){var y=h.alternate;return y===null?(y=ms(h.tag,m,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=m,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&14680064,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,m=h.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function Lm(h,m,y,j,E,O){var L=2;if(j=h,typeof h=="function")Pb(h)&&(L=1);else if(typeof h=="string")L=5;else e:switch(h){case M:return Qo(y.children,E,O,m);case T:L=8,E|=8;break;case _:return h=ms(12,y,m,E|2),h.elementType=_,h.lanes=O,h;case G:return h=ms(13,y,m,E),h.elementType=G,h.lanes=O,h;case U:return h=ms(19,y,m,E),h.elementType=U,h.lanes=O,h;case B:return Rm(y,E,O,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case I:L=10;break e;case D:L=9;break e;case R:L=11;break e;case q:L=14;break e;case z:L=16,j=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return m=ms(L,y,m,E),m.elementType=h,m.type=j,m.lanes=O,m}function Qo(h,m,y,j){return h=ms(7,h,j,m),h.lanes=y,h}function Rm(h,m,y,j){return h=ms(22,h,j,m),h.elementType=B,h.lanes=y,h.stateNode={isHidden:!1},h}function Ab(h,m,y){return h=ms(6,h,null,m),h.lanes=y,h}function Ob(h,m,y){return m=ms(4,h.children!==null?h.children:[],h.key,m),m.lanes=y,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function m9(h,m,y,j,E){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iy(0),this.expirationTimes=iy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iy(0),this.identifierPrefix=j,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function _b(h,m,y,j,E,O,L,W,X){return h=new m9(h,m,y,W,X),m===1?(m=1,O===!0&&(m|=8)):m=0,O=ms(3,null,null,m),h.current=O,O.stateNode=h,O.memoizedState={element:j,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(O),h}function p9(h,m,y){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:j==null?null:""+j,children:h,containerInfo:m,implementation:y}}function UC(h){if(!h)return _a;h=h._reactInternals;e:{if(zo(h)!==h||h.tag!==1)throw Error(n(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Cr(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(h.tag===1){var y=h.type;if(Cr(y))return y3(h,y,m)}return m}function WC(h,m,y,j,E,O,L,W,X){return h=_b(y,j,!0,h,E,O,L,W,X),h.context=UC(null),y=h.current,j=mr(),E=Va(y),O=Ii(j,E),O.callback=m??null,La(y,O,E),h.current.lanes=E,ed(h,E,j),Er(h,j),h}function Fm(h,m,y,j){var E=m.current,O=mr(),L=Va(E);return y=UC(y),m.context===null?m.context=y:m.pendingContext=y,m=Ii(O,L),m.payload={element:h},j=j===void 0?null:j,j!==null&&(m.callback=j),h=La(E,m,L),h!==null&&(Ls(h,E,L,O),pm(h,E,L)),L}function zm(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function qC(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<m?y:m}}function Db(h,m){qC(h,m),(h=h.alternate)&&qC(h,m)}function g9(){return null}var KC=typeof reportError=="function"?reportError:function(h){console.error(h)};function Ib(h){this._internalRoot=h}Vm.prototype.render=Ib.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));Fm(h,m,null,null)},Vm.prototype.unmount=Ib.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;Go(function(){Fm(null,h,null,null)}),m[Pi]=null}};function Vm(h){this._internalRoot=h}Vm.prototype.unstable_scheduleHydration=function(h){if(h){var m=P4();h={blockedOn:null,target:h,priority:m};for(var y=0;y<Ea.length&&m!==0&&m<Ea[y].priority;y++);Ea.splice(y,0,h),y===0&&_4(h)}};function Lb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function $m(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function GC(){}function x9(h,m,y,j,E){if(E){if(typeof j=="function"){var O=j;j=function(){var ae=zm(L);O.call(ae)}}var L=WC(m,j,h,0,null,!1,!1,"",GC);return h._reactRootContainer=L,h[Pi]=L.current,md(h.nodeType===8?h.parentNode:h),Go(),L}for(;E=h.lastChild;)h.removeChild(E);if(typeof j=="function"){var W=j;j=function(){var ae=zm(X);W.call(ae)}}var X=_b(h,0,!1,null,null,!1,!1,"",GC);return h._reactRootContainer=X,h[Pi]=X.current,md(h.nodeType===8?h.parentNode:h),Go(function(){Fm(m,X,y,j)}),X}function Bm(h,m,y,j,E){var O=y._reactRootContainer;if(O){var L=O;if(typeof E=="function"){var W=E;E=function(){var X=zm(L);W.call(X)}}Fm(m,L,h,E)}else L=x9(y,m,h,E,j);return zm(L)}E4=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var y=Zu(m.pendingLanes);y!==0&&(ay(m,y|1),Er(m,sn()),(ht&6)===0&&(Rc=sn()+500,Da()))}break;case 13:Go(function(){var j=Di(h,1);if(j!==null){var E=mr();Ls(j,h,1,E)}}),Db(h,1)}},oy=function(h){if(h.tag===13){var m=Di(h,134217728);if(m!==null){var y=mr();Ls(m,h,134217728,y)}Db(h,134217728)}},M4=function(h){if(h.tag===13){var m=Va(h),y=Di(h,m);if(y!==null){var j=mr();Ls(y,h,m,j)}Db(h,m)}},P4=function(){return wt},A4=function(h,m){var y=wt;try{return wt=h,m()}finally{wt=y}},Zx=function(h,m,y){switch(m){case"input":if(vt(h,y),m=y.name,y.type==="radio"&&m!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<y.length;m++){var j=y[m];if(j!==h&&j.form===h.form){var E=im(j);if(!E)throw Error(n(90));Ge(j),vt(j,E)}}}break;case"textarea":Ce(h,y);break;case"select":m=y.value,m!=null&&re(h,!!y.multiple,m,!1)}},p4=Tb,g4=Go;var y9={usingClientEntryPoint:!1,Events:[xd,Sc,im,f4,m4,Tb]},Ad={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b9={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=v4(h),h===null?null:h.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||g9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{Vf=Hm.inject(b9),ei=Hm}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y9,Mr.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lb(m))throw Error(n(200));return p9(h,m,null,y)},Mr.createRoot=function(h,m){if(!Lb(h))throw Error(n(299));var y=!1,j="",E=KC;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(E=m.onRecoverableError)),m=_b(h,1,!1,null,null,y,!1,j,E),h[Pi]=m.current,md(h.nodeType===8?h.parentNode:h),new Ib(m)},Mr.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=v4(m),h=h===null?null:h.stateNode,h},Mr.flushSync=function(h){return Go(h)},Mr.hydrate=function(h,m,y){if(!$m(m))throw Error(n(200));return Bm(null,h,m,!0,y)},Mr.hydrateRoot=function(h,m,y){if(!Lb(h))throw Error(n(405));var j=y!=null&&y.hydratedSources||null,E=!1,O="",L=KC;if(y!=null&&(y.unstable_strictMode===!0&&(E=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onRecoverableError!==void 0&&(L=y.onRecoverableError)),m=WC(m,null,h,1,y??null,E,!1,O,L),h[Pi]=m.current,md(h),j)for(h=0;h<j.length;h++)y=j[h],E=y._getVersion,E=E(y._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[y,E]:m.mutableSourceEagerHydrationData.push(y,E);return new Vm(m)},Mr.render=function(h,m,y){if(!$m(m))throw Error(n(200));return Bm(null,h,m,!1,y)},Mr.unmountComponentAtNode=function(h){if(!$m(h))throw Error(n(40));return h._reactRootContainer?(Go(function(){Bm(null,null,h,!1,function(){h._reactRootContainer=null,h[Pi]=null})}),!0):!1},Mr.unstable_batchedUpdates=Tb,Mr.unstable_renderSubtreeIntoContainer=function(h,m,y,j){if(!$m(y))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return Bm(h,m,y,!1,j)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var rk;function SA(){if(rk)return zb.exports;rk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zb.exports=T9(),zb.exports}var sk;function E9(){if(sk)return Um;sk=1;var t=SA();return Um.createRoot=t.createRoot,Um.hydrateRoot=t.hydrateRoot,Um}var M9=E9();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ik="popstate";function P9(t={}){function e(s,i){let{pathname:a="/",search:l="",hash:c=""}=sc(s.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Vv("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Oh(i))}function r(s,i){rs(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return O9(e,n,r,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A9(){return Math.random().toString(36).substring(2,10)}function ak(t,e){return{usr:t.state,key:t.key,idx:e}}function Vv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sc(e):e,state:n,key:e&&e.key||r||A9()}}function Oh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function O9(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let b=d(),w=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:w})}function p(b,w){l="PUSH";let N=Vv(v.location,b,w);n&&n(N,b),u=d()+1;let C=ak(N,u),P=v.createHref(N);try{a.pushState(C,"",P)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(P)}i&&c&&c({action:l,location:v.location,delta:1})}function g(b,w){l="REPLACE";let N=Vv(v.location,b,w);n&&n(N,b),u=d();let C=ak(N,u),P=v.createHref(N);a.replaceState(C,"",P),i&&c&&c({action:l,location:v.location,delta:0})}function x(b){return _9(b)}let v={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ik,f),c=b,()=>{s.removeEventListener(ik,f),c=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return a.go(b)}};return v}function _9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Oh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CA(t,e,n="/"){return D9(t,e,n,!1)}function D9(t,e,n,r){let s=typeof e=="string"?sc(e):e,i=fa(s.pathname||"/",n);if(i==null)return null;let a=kA(t);I9(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=q9(i);l=U9(a[c],u,r)}return l}function kA(t,e=[],n=[],r="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Ht(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=oa([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Ht(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),kA(a.children,e,p,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:B9(f,a.index),routesMeta:p})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let c of TA(a.path))i(a,l,!0,c)}),e}function TA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=TA(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function I9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var L9=/^:[\w-]+$/,R9=3,F9=2,z9=1,V9=10,$9=-2,ok=t=>t==="*";function B9(t,e){let n=t.split("/"),r=n.length;return n.some(ok)&&(r+=$9),e&&(r+=F9),n.filter(s=>!ok(s)).reduce((s,i)=>s+(L9.test(i)?R9:i===""?z9:V9),r)}function H9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function U9(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=yg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=yg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:oa([i,f.pathname]),pathnameBase:X9(oa([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=oa([i,f.pathnameBase]))}return a}function yg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let x=l[p]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[p];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function W9(t,e=!1,n=!0){rs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function q9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K9(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?sc(t):t;return{pathname:n?n.startsWith("/")?n:G9(n,e):e,search:Q9(r),hash:J9(s)}}function G9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eN(t){let e=Y9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tN(t,e,n,r=!1){let s;typeof t=="string"?s=sc(t):(s={...t},Ht(!s.pathname||!s.pathname.includes("?"),Bb("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),Bb("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),Bb("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=K9(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var oa=t=>t.join("/").replace(/\/\/+/g,"/"),X9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var EA=["POST","PUT","PATCH","DELETE"];new Set(EA);var e$=["GET",...EA];new Set(e$);var _u=k.createContext(null);_u.displayName="DataRouter";var G0=k.createContext(null);G0.displayName="DataRouterState";k.createContext(!1);var MA=k.createContext({isTransitioning:!1});MA.displayName="ViewTransition";var t$=k.createContext(new Map);t$.displayName="Fetchers";var n$=k.createContext(null);n$.displayName="Await";var Ks=k.createContext(null);Ks.displayName="Navigation";var mf=k.createContext(null);mf.displayName="Location";var Es=k.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var nN=k.createContext(null);nN.displayName="RouteError";function r$(t,{relative:e}={}){Ht(Du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Ks),{hash:s,pathname:i,search:a}=pf(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:oa([n,i])),r.createHref({pathname:l,search:a,hash:s})}function Du(){return k.useContext(mf)!=null}function ur(){return Ht(Du(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(mf).location}var PA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AA(t){k.useContext(Ks).static||k.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=k.useContext(Es);return t?y$():s$()}function s$(){Ht(Du(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(_u),{basename:e,navigator:n}=k.useContext(Ks),{matches:r}=k.useContext(Es),{pathname:s}=ur(),i=JSON.stringify(eN(r)),a=k.useRef(!1);return AA(()=>{a.current=!0}),k.useCallback((c,u={})=>{if(rs(a.current,PA),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=tN(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:oa([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}var i$=k.createContext(null);function a$(t){let e=k.useContext(Es).outlet;return e&&k.createElement(i$.Provider,{value:t},e)}function Gs(){let{matches:t}=k.useContext(Es),e=t[t.length-1];return e?e.params:{}}function pf(t,{relative:e}={}){let{matches:n}=k.useContext(Es),{pathname:r}=ur(),s=JSON.stringify(eN(n));return k.useMemo(()=>tN(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function o$(t,e){return OA(t,e)}function OA(t,e,n,r,s){Ht(Du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(Ks),{matches:a}=k.useContext(Es),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let N=f&&f.path||"";_A(u,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let p=ur(),g;if(e){let N=typeof e=="string"?sc(e):e;Ht(d==="/"||N.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),g=N}else g=p;let x=g.pathname||"/",v=x;if(d!=="/"){let N=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=CA(t,{pathname:v});rs(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),rs(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=h$(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:oa([d,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:oa([d,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r,s);return e&&w?k.createElement(mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function l$(){let t=x$(),e=Z9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,a)}var c$=k.createElement(l$,null),u$=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(Es.Provider,{value:this.props.routeContext},k.createElement(nN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d$({routeContext:t,match:e,children:n}){let r=k.useContext(_u);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Es.Provider,{value:t},n)}function h$(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let u=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Ht(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,g=!1,x=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||c$,l&&(c<0&&f===0?(_A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),w=()=>{let N;return p?N=x:g?N=v:d.route.Component?N=k.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=u,k.createElement(d$,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:N})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(u$,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):w()},null)}function rN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f$(t){let e=k.useContext(_u);return Ht(e,rN(t)),e}function m$(t){let e=k.useContext(G0);return Ht(e,rN(t)),e}function p$(t){let e=k.useContext(Es);return Ht(e,rN(t)),e}function sN(t){let e=p$(t),n=e.matches[e.matches.length-1];return Ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function g$(){return sN("useRouteId")}function x$(){let t=k.useContext(nN),e=m$("useRouteError"),n=sN("useRouteError");return t!==void 0?t:e.errors?.[n]}function y$(){let{router:t}=f$("useNavigate"),e=sN("useNavigate"),n=k.useRef(!1);return AA(()=>{n.current=!0}),k.useCallback(async(s,i={})=>{rs(n.current,PA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var lk={};function _A(t,e,n){!e&&!lk[t]&&(lk[t]=!0,rs(!1,n))}k.memo(b$);function b$({routes:t,future:e,state:n,unstable_onError:r}){return OA(t,void 0,n,r,e)}function lu({to:t,replace:e,state:n,relative:r}){Ht(Du(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Ks);rs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(Es),{pathname:a}=ur(),l=tt(),c=tN(t,eN(i),a,r==="path"),u=JSON.stringify(c);return k.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function ic(t){return a$(t.context)}function Fe(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ht(!Du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=sc(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=n,g=k.useMemo(()=>{let x=fa(c,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:p},navigationType:r}},[a,c,u,d,f,p,r]);return rs(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:k.createElement(Ks.Provider,{value:l},k.createElement(mf.Provider,{children:e,value:g}))}function w$({children:t,location:e}){return o$($v(t),e)}function $v(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,$v(r.props.children,i));return}Ht(r.type===Fe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$v(r.props.children,i)),n.push(a)}),n}var zp="get",Vp="application/x-www-form-urlencoded";function Y0(t){return t!=null&&typeof t.tagName=="string"}function N$(t){return Y0(t)&&t.tagName.toLowerCase()==="button"}function j$(t){return Y0(t)&&t.tagName.toLowerCase()==="form"}function S$(t){return Y0(t)&&t.tagName.toLowerCase()==="input"}function C$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k$(t,e){return t.button===0&&(!e||e==="_self")&&!C$(t)}function Bv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function T$(t,e){let n=Bv(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Wm=null;function E$(){if(Wm===null)try{new FormData(document.createElement("form"),0),Wm=!1}catch{Wm=!0}return Wm}var M$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hb(t){return t!=null&&!M$.has(t)?(rs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vp}"`),null):t}function P$(t,e){let n,r,s,i,a;if(j$(t)){let l=t.getAttribute("action");r=l?fa(l,e):null,n=t.getAttribute("method")||zp,s=Hb(t.getAttribute("enctype"))||Vp,i=new FormData(t)}else if(N$(t)||S$(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?fa(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||zp,s=Hb(t.getAttribute("formenctype"))||Hb(l.getAttribute("enctype"))||Vp,i=new FormData(l,t),!E$()){let{name:u,type:d,value:f}=t;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(Y0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zp,r=null,s=Vp,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&fa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function O$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D$(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await O$(i,n);return a.links?a.links():[]}return[]}));return F$(r.flat(1).filter(_$).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ck(t,e,n,r,s,i){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function I$(t,e,{includeHydrateFallback:n}={}){return L$(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function L$(t){return[...new Set(t)]}function R$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function F$(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(R$(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function DA(){let t=k.useContext(_u);return iN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function z$(){let t=k.useContext(G0);return iN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var aN=k.createContext(void 0);aN.displayName="FrameworkContext";function IA(){let t=k.useContext(aN);return iN(t,"You must render this element inside a <HydratedRouter> element"),t}function V$(t,e){let n=k.useContext(aN),[r,s]=k.useState(!1),[i,a]=k.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=k.useRef(null);k.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(N=>{a(N.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),k.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:_d(l,g),onBlur:_d(c,x),onMouseEnter:_d(u,g),onMouseLeave:_d(d,x),onTouchStart:_d(f,g)}]:[!1,p,{}]}function _d(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $$({page:t,...e}){let{router:n}=DA(),r=k.useMemo(()=>CA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(H$,{page:t,matches:r,...e}):null}function B$(t){let{manifest:e,routeModules:n}=IA(),[r,s]=k.useState([]);return k.useEffect(()=>{let i=!1;return D$(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function H$({page:t,matches:e,...n}){let r=ur(),{manifest:s,routeModules:i}=IA(),{basename:a}=DA(),{loaderData:l,matches:c}=z$(),u=k.useMemo(()=>ck(t,e,c,s,r,"data"),[t,e,c,s,r]),d=k.useMemo(()=>ck(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(w=>{let N=s.routes[w.route.id];!N||!N.hasLoader||(!u.some(C=>C.route.id===w.route.id)&&w.route.id in l&&i[w.route.id]?.shouldRevalidate||N.hasClientLoader?v=!0:x.add(w.route.id))}),x.size===0)return[];let b=A$(t,a,"data");return v&&x.size>0&&b.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,l,r,s,u,e,t,i]),p=k.useMemo(()=>I$(d,s),[d,s]),g=B$(d);return k.createElement(k.Fragment,null,f.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),g.map(({key:x,link:v})=>k.createElement("link",{key:x,nonce:n.nonce,...v})))}function U$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LA&&(window.__reactRouterVersion="7.9.1")}catch{}function W$({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=P9({window:n,v5Compat:!0}));let s=r.current,[i,a]=k.useState({action:s.action,location:s.location}),l=k.useCallback(c=>{k.startTransition(()=>a(c))},[a]);return k.useLayoutEffect(()=>s.listen(l),[s,l]),k.createElement(v$,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var RA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...p},g){let{basename:x}=k.useContext(Ks),v=typeof u=="string"&&RA.test(u),b,w=!1;if(typeof u=="string"&&v&&(b=u,LA))try{let _=new URL(window.location.href),I=u.startsWith("//")?new URL(_.protocol+u):new URL(u),D=fa(I.pathname,x);I.origin===_.origin&&D!=null?u=D+I.search+I.hash:w=!0}catch{rs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=r$(u,{relative:s}),[C,P,S]=V$(r,p),A=G$(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function M(_){e&&e(_),_.defaultPrevented||A(_)}let T=k.createElement("a",{...p,...S,href:b||N,onClick:w||i?e:M,ref:U$(g,P),target:c,"data-discover":!v&&n==="render"?"true":void 0});return C&&!v?k.createElement(k.Fragment,null,T,k.createElement($$,{page:N})):T});Ze.displayName="Link";var oN=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let f=pf(a,{relative:u.relative}),p=ur(),g=k.useContext(G0),{navigator:x,basename:v}=k.useContext(Ks),b=g!=null&&Z$(f)&&l===!0,w=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,N=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(N=N.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&v&&(C=fa(C,v)||C);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let S=N===w||!s&&N.startsWith(w)&&N.charAt(P)==="/",A=C!=null&&(C===w||!s&&C.startsWith(w)&&C.charAt(w.length)==="/"),M={isActive:S,isPending:A,isTransitioning:b},T=S?e:void 0,_;typeof r=="function"?_=r(M):_=[r,S?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(M):i;return k.createElement(Ze,{...u,"aria-current":T,className:_,ref:d,style:I,to:a,viewTransition:l},typeof c=="function"?c(M):c)});oN.displayName="NavLink";var q$=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=zp,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...p},g)=>{let x=Q$(),v=J$(l,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&RA.test(l),N=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,S=P?.getAttribute("formmethod")||a;x(P||C.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return k.createElement("form",{ref:g,method:b,action:v,onSubmit:r?c:N,...p,"data-discover":!w&&t==="render"?"true":void 0})});q$.displayName="Form";function K$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FA(t){let e=k.useContext(_u);return Ht(e,K$(t)),e}function G$(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=tt(),c=ur(),u=pf(t,{relative:i});return k.useCallback(d=>{if(k$(d,e)){d.preventDefault();let f=n!==void 0?n:Oh(c)===Oh(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,n,r,e,t,s,i,a])}function Ei(t){rs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(Bv(t)),n=k.useRef(!1),r=ur(),s=k.useMemo(()=>T$(r.search,n.current?null:e.current),[r.search]),i=tt(),a=k.useCallback((l,c)=>{const u=Bv(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var Y$=0,X$=()=>`__${String(++Y$)}__`;function Q$(){let{router:t}=FA("useSubmit"),{basename:e}=k.useContext(Ks),n=g$();return k.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=P$(r,e);if(s.navigate===!1){let d=s.fetcherKey||X$();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function J$(t,{relative:e}={}){let{basename:n}=k.useContext(Ks),r=k.useContext(Es);Ht(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...pf(t||".",{relative:e})},a=ur();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:oa([n,i.pathname])),Oh(i)}function Z$(t,{relative:e}={}){let n=k.useContext(MA);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FA("useViewTransitionState"),s=pf(t,{relative:e});if(!n.isTransitioning)return!1;let i=fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yg(s.pathname,a)!=null||yg(s.pathname,i)!=null}var zA=SA();const eB=ff(zA);function VA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=VA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kl(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=VA(t))&&(r&&(r+=" "),r+=e);return r}function tB(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}tB(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var gf=t=>typeof t=="number"&&!isNaN(t),Fl=t=>typeof t=="string",ma=t=>typeof t=="function",nB=t=>Fl(t)||gf(t),Hv=t=>Fl(t)||ma(t)?t:null,rB=(t,e)=>t===!1||gf(t)&&t>0?t:e,Uv=t=>k.isValidElement(t)||Fl(t)||ma(t)||gf(t);function sB(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function iB({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let p=n?`${t}--${a}`:t,g=n?`${e}--${a}`:e,x=k.useRef(0);return k.useLayoutEffect(()=>{let v=u.current,b=p.split(" "),w=N=>{N.target===u.current&&(f(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),x.current===0&&N.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),k.useEffect(()=>{let v=u.current,b=()=>{v.removeEventListener("animationend",b),r?sB(v,c,s):c()};d||(l?b():(x.current=1,v.className+=` ${g}`,v.addEventListener("animationend",b)))},[d]),be.createElement(be.Fragment,null,i)}}function uk(t,e){return{content:$A(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function $A(t,e,n=!1){return k.isValidElement(t)&&!Fl(t.type)?k.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ma(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function aB({closeToast:t,theme:e,ariaLabel:n="close"}){return be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function oB({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:a,progress:l,rtl:c,isIn:u,theme:d}){let f=s||a&&l===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(p.transform=`scaleX(${l})`);let g=kl("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),x=ma(i)?i({rtl:c,type:r,defaultClassName:g}):kl(g,i),v={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{u&&n()}};return be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),be.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:p,...v}))}var lB=1,BA=()=>`${lB++}`;function cB(t,e,n){let r=1,s=0,i=[],a=[],l=e,c=new Map,u=new Set,d=N=>(u.add(N),()=>u.delete(N)),f=()=>{a=Array.from(c.values()),u.forEach(N=>N())},p=({containerId:N,toastId:C,updateId:P})=>{let S=N?N!==t:t!==1,A=c.has(C)&&P==null;return S||A},g=(N,C)=>{c.forEach(P=>{var S;(C==null||C===P.props.toastId)&&((S=P.toggle)==null||S.call(P,N))})},x=N=>{var C,P;(P=(C=N.props)==null?void 0:C.onClose)==null||P.call(C,N.removalReason),N.isActive=!1},v=N=>{if(N==null)c.forEach(x);else{let C=c.get(N);C&&x(C)}f()},b=()=>{s-=i.length,i=[]},w=N=>{var C,P;let{toastId:S,updateId:A}=N.props,M=A==null;N.staleId&&c.delete(N.staleId),N.isActive=!0,c.set(S,N),f(),n(uk(N,M?"added":"updated")),M&&((P=(C=N.props).onOpen)==null||P.call(C))};return{id:t,props:l,observe:d,toggle:g,removeToast:v,toasts:c,clearQueue:b,buildToast:(N,C)=>{if(p(C))return;let{toastId:P,updateId:S,data:A,staleId:M,delay:T}=C,_=S==null;_&&s++;let I={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([R,G])=>G!=null)),toastId:P,updateId:S,data:A,isIn:!1,className:Hv(C.className||l.toastClassName),progressClassName:Hv(C.progressClassName||l.progressClassName),autoClose:C.isLoading?!1:rB(C.autoClose,l.autoClose),closeToast(R){c.get(P).removalReason=R,v(P)},deleteToast(){let R=c.get(P);if(R!=null){if(n(uk(R,"removed")),c.delete(P),s--,s<0&&(s=0),i.length>0){w(i.shift());return}f()}}};I.closeButton=l.closeButton,C.closeButton===!1||Uv(C.closeButton)?I.closeButton=C.closeButton:C.closeButton===!0&&(I.closeButton=Uv(l.closeButton)?l.closeButton:!0);let D={content:N,props:I,staleId:M};l.limit&&l.limit>0&&s>l.limit&&_?i.push(D):gf(T)?setTimeout(()=>{w(D)},T):w(D)},setProps(N){l=N},setToggle:(N,C)=>{let P=c.get(N);P&&(P.toggle=C)},isToastActive:N=>{var C;return(C=c.get(N))==null?void 0:C.isActive},getSnapshot:()=>a}}var xr=new Map,_h=[],Wv=new Set,uB=t=>Wv.forEach(e=>e(t)),HA=()=>xr.size>0;function dB(){_h.forEach(t=>WA(t.content,t.options)),_h=[]}var hB=(t,{containerId:e})=>{var n;return(n=xr.get(e||1))==null?void 0:n.toasts.get(t)};function UA(t,e){var n;if(e)return!!((n=xr.get(e))!=null&&n.isToastActive(t));let r=!1;return xr.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function fB(t){if(!HA()){_h=_h.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||nB(t))xr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=xr.get(t.containerId);e?e.removeToast(t.id):xr.forEach(n=>{n.removeToast(t.id)})}}var mB=(t={})=>{xr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function WA(t,e){Uv(t)&&(HA()||_h.push({content:t,options:e}),xr.forEach(n=>{n.buildToast(t,e)}))}function pB(t){var e;(e=xr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function qA(t,e){xr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function gB(t){let e=t.containerId||1;return{subscribe(n){let r=cB(e,t,uB);xr.set(e,r);let s=r.observe(n);return dB(),()=>{s(),xr.delete(e)}},setProps(n){var r;(r=xr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=xr.get(e))==null?void 0:n.getSnapshot()}}}function xB(t){return Wv.add(t),()=>{Wv.delete(t)}}function yB(t){return t&&(Fl(t.toastId)||gf(t.toastId))?t.toastId:BA()}function xf(t,e){return WA(t,e),e.toastId}function X0(t,e){return{...e,type:e&&e.type||t,toastId:yB(e)}}function Q0(t){return(e,n)=>xf(e,X0(t,n))}function ce(t,e){return xf(t,X0("default",e))}ce.loading=(t,e)=>xf(t,X0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function bB(t,{pending:e,error:n,success:r},s){let i;e&&(i=Fl(e)?ce.loading(e,s):ce.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){ce.dismiss(i);return}let p={type:u,...a,...s,data:f},g=Fl(d)?{render:d}:d;return i?ce.update(i,{...p,...g}):ce(g.render,{...p,...g}),f},c=ma(t)?t():t;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}ce.promise=bB;ce.success=Q0("success");ce.info=Q0("info");ce.error=Q0("error");ce.warning=Q0("warning");ce.warn=ce.warning;ce.dark=(t,e)=>xf(t,X0("default",{theme:"dark",...e}));function vB(t){fB(t)}ce.dismiss=vB;ce.clearWaitingQueue=mB;ce.isActive=UA;ce.update=(t,e={})=>{let n=hB(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:BA()};i.toastId!==t&&(i.staleId=t);let a=i.render||s;delete i.render,xf(a,i)}};ce.done=t=>{ce.update(t,{progress:1})};ce.onChange=xB;ce.play=t=>qA(!0,t);ce.pause=t=>qA(!1,t);function wB(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=k.useRef(gB(t)).current;s(t);let i=(e=k.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function a(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:a,isToastActive:UA,count:i?.length}}function NB(t){let[e,n]=k.useState(!1),[r,s]=k.useState(!1),i=k.useRef(null),a=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=t;pB({id:t.toastId,containerId:t.containerId,fn:n}),k.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{g()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function x(M){if(t.draggable===!0||t.draggable===M.pointerType){N();let T=i.current;a.canCloseOnClick=!0,a.canDrag=!0,T.style.transition="none",t.draggableDirection==="x"?(a.start=M.clientX,a.removalDistance=T.offsetWidth*(t.draggablePercent/100)):(a.start=M.clientY,a.removalDistance=T.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function v(M){let{top:T,bottom:_,left:I,right:D}=i.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&t.pauseOnHover&&M.clientX>=I&&M.clientX<=D&&M.clientY>=T&&M.clientY<=_?w():b()}function b(){n(!0)}function w(){n(!1)}function N(){a.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",S)}function C(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",S)}function P(M){let T=i.current;if(a.canDrag&&T){a.didMove=!0,e&&w(),t.draggableDirection==="x"?a.delta=M.clientX-a.start:a.delta=M.clientY-a.start,a.start!==M.clientX&&(a.canCloseOnClick=!1);let _=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;T.style.transform=`translate3d(${_},0)`,T.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function S(){C();let M=i.current;if(a.canDrag&&a.didMove&&M){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let A={onPointerDown:x,onPointerUp:v};return l&&c&&(A.onMouseEnter=w,t.stacked||(A.onMouseLeave=b)),f&&(A.onClick=M=>{d&&d(M),a.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:A}}var jB=typeof window<"u"?k.useLayoutEffect:k.useEffect,J0=({theme:t,type:e,isLoading:n,...r})=>be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function SB(t){return be.createElement(J0,{...t},be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CB(t){return be.createElement(J0,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kB(t){return be.createElement(J0,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function TB(t){return be.createElement(J0,{...t},be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function EB(){return be.createElement("div",{className:"Toastify__spinner"})}var qv={info:CB,warning:SB,success:kB,error:TB,spinner:EB},MB=t=>t in qv;function PB({theme:t,type:e,isLoading:n,icon:r}){let s=null,i={theme:t,type:e};return r===!1||(ma(r)?s=r({...i,isLoading:n}):k.isValidElement(r)?s=k.cloneElement(r,i):n?s=qv.spinner():MB(e)&&(s=qv[e](i))),s}var AB=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=NB(t),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:p,transition:g,position:x,className:v,style:b,progressClassName:w,updateId:N,role:C,progress:P,rtl:S,toastId:A,deleteToast:M,isIn:T,isLoading:_,closeOnClick:I,theme:D,ariaLabel:R}=t,G=kl("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":I}),U=ma(v)?v({rtl:S,position:x,type:d,defaultClassName:G}):kl(G,v),q=PB(t),z=!!P||!c,B={closeToast:p,type:d,theme:D},$=null;return a===!1||(ma(a)?$=a(B):k.isValidElement(a)?$=k.cloneElement(a,B):$=aB(B)),be.createElement(g,{isIn:T,done:M,position:x,preventExitTransition:n,nodeRef:r,playToast:i},be.createElement("div",{id:A,tabIndex:0,onClick:u,"data-in":T,className:U,...s,style:b,ref:r,...T&&{role:C,"aria-label":R}},q!=null&&be.createElement("div",{className:kl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!_})},q),$A(l,t,!e),$,!t.customProgressBar&&be.createElement(oB,{...N&&!z?{key:`p-${N}`}:{},rtl:S,theme:D,delay:c,isRunning:e,isIn:T,closeToast:p,hide:f,type:d,className:w,controlledProgress:z,progress:P||0})))},OB=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),_B=iB(OB("bounce",!0)),DB={position:"top-right",transition:_B,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function IB(t){let e={...DB,...t},n=t.stacked,[r,s]=k.useState(!0),i=k.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=wB(e),{className:u,style:d,rtl:f,containerId:p,hotKeys:g}=e;function x(b){let w=kl("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return ma(u)?u({position:b,rtl:f,defaultClassName:w}):kl(w,Hv(u))}function v(){n&&(s(!0),ce.play())}return jB(()=>{var b;if(n){let w=i.current.querySelectorAll('[data-in="true"]'),N=12,C=(b=e.position)==null?void 0:b.includes("top"),P=0,S=0;Array.from(w).reverse().forEach((A,M)=>{let T=A;T.classList.add("Toastify__toast--stacked"),M>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=C?"top":"bot");let _=P*(r?.2:1)+(r?0:N*M);T.style.setProperty("--y",`${C?_:_*-1}px`),T.style.setProperty("--g",`${N}`),T.style.setProperty("--s",`${1-(r?S:0)}`),P+=T.offsetHeight,S+=.025})}},[r,c,n]),k.useEffect(()=>{function b(w){var N;let C=i.current;g(w)&&((N=C.querySelector('[tabIndex="0"]'))==null||N.focus(),s(!1),ce.pause()),w.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),ce.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),be.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),ce.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((b,w)=>{let N=w.length?{...d}:{...d,pointerEvents:"none"};return be.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:N,key:`c-${b}`},w.map(({content:C,props:P})=>be.createElement(AB,{...P,stacked:n,collapseAll:v,isIn:l(P.toastId,P.containerId),key:`t-${P.key}`},C)))}))}var Kt;(function(t){t.ADMIN="admin",t.USER="user",t.STAFF="staff"})(Kt||(Kt={}));var fl;(function(t){t.MALE="male",t.FEMALE="female"})(fl||(fl={}));var xi;(function(t){t.ACTIVE="active",t.PROBATION="probation",t.ON_LEAVE="on_leave",t.RESIGNED="resigned"})(xi||(xi={}));var uo;(function(t){t.SALE="sale",t.INVENTORY="inventory",t.MANAGER="manager"})(uo||(uo={}));var dk;(function(t){t.BRONZE="bronze",t.SILVER="silver",t.GOLD="gold"})(dk||(dk={}));var ul;(function(t){t.NOT_USING="NOT_USING",t.PRIVACY_CONCERNS="PRIVACY_CONCERNS",t.FOUND_BETTER_ALTERNATIVE="FOUND_BETTER_ALTERNATIVE",t.ACCOUNT_ISSUE="ACCOUNT_ISSUE",t.OTHER="OTHER"})(ul||(ul={}));var Le;(function(t){t.PENDING="pending",t.CONFIRMED="confirmed",t.SHIPPING="shipping",t.COMPLETED="completed",t.CANCELLED="cancelled",t.DELIVERED="delivered"})(Le||(Le={}));var es;(function(t){t.COD="cod",t.MOMO="momo",t.VNPAY="vnpay"})(es||(es={}));var dl;(function(t){t.CHANGE_OF_MIND="CHANGE_OF_MIND",t.FOUND_BETTER_PRICE="FOUND_BETTER_PRICE",t.ORDER_BY_MISTAKE="ORDER_BY_MISTAKE",t.WRONG_ADDRESS="WRONG_ADDRESS",t.OTHER="OTHER"})(dl||(dl={}));var Ja;(function(t){t.PENDING="PENDING",t.SUCCESS="SUCCESS",t.FAILED="FAILED",t.CANCELLED="CANCELLED",t.REFUNDED="REFUNDED"})(Ja||(Ja={}));Ja.PENDING+"",Ja.SUCCESS+"",Ja.FAILED+"",Ja.CANCELLED+"",Ja.REFUNDED+"";var oi;(function(t){t.PENDING="PENDING",t.PICKED_UP="PICKED_UP",t.IN_TRANSIT="IN_TRANSIT",t.OUT_FOR_DELIVERY="OUT_FOR_DELIVERY",t.DELIVERED="DELIVERED",t.FAILED="FAILED",t.RETURNED="RETURNED",t.CANCELED="CANCELED"})(oi||(oi={}));var Ga;(function(t){t.GHN="GHN",t.GHTK="GHTK",t.VIETTEL_POST="VIETTEL_POST",t.VN_POST="VN_POST",t.J_T_EXPRESS="J_T_EXPRESS",t.INTERNAL="INTERNAL"})(Ga||(Ga={}));var fi;(function(t){t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE"})(fi||(fi={}));var mi;(function(t){t.PERCENT="PERCENT",t.FIXED="FIXED"})(mi||(mi={}));var ml;(function(t){t.SCHEDULE="SCHEDULE",t.ACTIVE="ACTIVE",t.ENDED="ENDED",t.CANCELLED="CANCELLED"})(ml||(ml={}));const KA=t=>{switch(t){case Le.PENDING:return{text:"Ch xc nhn",bgColor:"#fef3c7",textColor:"#92400e",borderColor:"#fbbf24"};case Le.CONFIRMED:return{text:" xc nhn",bgColor:"#dbeafe",textColor:"#1e40af",borderColor:"#3b82f6"};case Le.SHIPPING:return{text:"ang giao",bgColor:"#c3dafe",textColor:"#4c51bf",borderColor:"#818cf8"};case Le.DELIVERED:return{text:" giao",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#34d399"};case Le.COMPLETED:return{text:"Hon thnh",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#10b981"};case Le.CANCELLED:return{text:" hy",bgColor:"#fee2e2",textColor:"#991b1b",borderColor:"#ef4444"};default:return{text:"Khng xc nh",bgColor:"#f3f4f6",textColor:"#6b7280",borderColor:"#d1d5db"}}},lN={[es.COD]:{text:"Thanh ton khi nhn hng"},[es.MOMO]:{text:"Thanh ton qua v MOMO"},[es.VNPAY]:{text:"Thanh ton qua VNPay"}};oi.PENDING+"",oi.PICKED_UP+"",oi.IN_TRANSIT+"",oi.OUT_FOR_DELIVERY+"",oi.DELIVERED+"",oi.FAILED+"",oi.RETURNED+"",oi.CANCELED+"";const GA={[Ga.GHN]:{text:"Giao hng nhanh (GHN)"},[Ga.GHTK]:{text:"Giao hng tit kim (GHTK)"},[Ga.INTERNAL]:{text:"Ni b giao hng"},[Ga.J_T_EXPRESS]:{text:"J&T_Express"},[Ga.VIETTEL_POST]:{text:"Viettel Post"},[Ga.VN_POST]:{text:"Vn Post"}};function YA(t,e){return function(){return t.apply(e,arguments)}}const{toString:LB}=Object.prototype,{getPrototypeOf:cN}=Object,{iterator:Z0,toStringTag:XA}=Symbol,ex=(t=>e=>{const n=LB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ys=t=>(t=t.toLowerCase(),e=>ex(e)===t),tx=t=>e=>typeof e===t,{isArray:Iu}=Array,xu=tx("undefined");function yf(t){return t!==null&&!xu(t)&&t.constructor!==null&&!xu(t.constructor)&&Rr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QA=Ys("ArrayBuffer");function RB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QA(t.buffer),e}const FB=tx("string"),Rr=tx("function"),JA=tx("number"),bf=t=>t!==null&&typeof t=="object",zB=t=>t===!0||t===!1,$p=t=>{if(ex(t)!=="object")return!1;const e=cN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XA in t)&&!(Z0 in t)},VB=t=>{if(!bf(t)||yf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},$B=Ys("Date"),BB=Ys("File"),HB=Ys("Blob"),UB=Ys("FileList"),WB=t=>bf(t)&&Rr(t.pipe),qB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rr(t.append)&&((e=ex(t))==="formdata"||e==="object"&&Rr(t.toString)&&t.toString()==="[object FormData]"))},KB=Ys("URLSearchParams"),[GB,YB,XB,QB]=["ReadableStream","Request","Response","Headers"].map(Ys),JB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Iu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(yf(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function ZA(t,e){if(yf(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eO=t=>!xu(t)&&t!==pl;function Kv(){const{caseless:t,skipUndefined:e}=eO(this)&&this||{},n={},r=(s,i)=>{const a=t&&ZA(n,i)||i;$p(n[a])&&$p(s)?n[a]=Kv(n[a],s):$p(s)?n[a]=Kv({},s):Iu(s)?n[a]=s.slice():(!e||!xu(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&vf(arguments[s],r);return n}const ZB=(t,e,n,{allOwnKeys:r}={})=>(vf(e,(s,i)=>{n&&Rr(s)?t[i]=YA(s,n):t[i]=s},{allOwnKeys:r}),t),eH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),tH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},nH=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&cN(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},rH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},sH=t=>{if(!t)return null;if(Iu(t))return t;let e=t.length;if(!JA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},iH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&cN(Uint8Array)),aH=(t,e)=>{const r=(t&&t[Z0]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},oH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},lH=Ys("HTMLFormElement"),cH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),hk=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),uH=Ys("RegExp"),tO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};vf(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},dH=t=>{tO(t,(e,n)=>{if(Rr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hH=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Iu(t)?r(t):r(String(t).split(e)),n},fH=()=>{},mH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function pH(t){return!!(t&&Rr(t.append)&&t[XA]==="FormData"&&t[Z0])}const gH=t=>{const e=new Array(10),n=(r,s)=>{if(bf(r)){if(e.indexOf(r)>=0)return;if(yf(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Iu(r)?[]:{};return vf(r,(a,l)=>{const c=n(a,s+1);!xu(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},xH=Ys("AsyncFunction"),yH=t=>t&&(bf(t)||Rr(t))&&Rr(t.then)&&Rr(t.catch),nO=((t,e)=>t?setImmediate:e?((n,r)=>(pl.addEventListener("message",({source:s,data:i})=>{s===pl&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rr(pl.postMessage)),bH=typeof queueMicrotask<"u"?queueMicrotask.bind(pl):typeof process<"u"&&process.nextTick||nO,vH=t=>t!=null&&Rr(t[Z0]),oe={isArray:Iu,isArrayBuffer:QA,isBuffer:yf,isFormData:qB,isArrayBufferView:RB,isString:FB,isNumber:JA,isBoolean:zB,isObject:bf,isPlainObject:$p,isEmptyObject:VB,isReadableStream:GB,isRequest:YB,isResponse:XB,isHeaders:QB,isUndefined:xu,isDate:$B,isFile:BB,isBlob:HB,isRegExp:uH,isFunction:Rr,isStream:WB,isURLSearchParams:KB,isTypedArray:iH,isFileList:UB,forEach:vf,merge:Kv,extend:ZB,trim:JB,stripBOM:eH,inherits:tH,toFlatObject:nH,kindOf:ex,kindOfTest:Ys,endsWith:rH,toArray:sH,forEachEntry:aH,matchAll:oH,isHTMLForm:lH,hasOwnProperty:hk,hasOwnProp:hk,reduceDescriptors:tO,freezeMethods:dH,toObjectSet:hH,toCamelCase:cH,noop:fH,toFiniteNumber:mH,findKey:ZA,global:pl,isContextDefined:eO,isSpecCompliantForm:pH,toJSONObject:gH,isAsyncFn:xH,isThenable:yH,setImmediate:nO,asap:bH,isIterable:vH};function st(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const rO=st.prototype,sO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sO[t]={value:t}});Object.defineProperties(st,sO);Object.defineProperty(rO,"isAxiosError",{value:!0});st.from=(t,e,n,r,s,i)=>{const a=Object.create(rO);oe.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return st.call(a,l,c,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const wH=null;function Gv(t){return oe.isPlainObject(t)||oe.isArray(t)}function iO(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function fk(t,e,n){return t?t.concat(e).map(function(s,i){return s=iO(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function NH(t){return oe.isArray(t)&&!t.some(Gv)}const jH=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function nx(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!oe.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(oe.isDate(x))return x.toISOString();if(oe.isBoolean(x))return x.toString();if(!c&&oe.isBlob(x))throw new st("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(x)||oe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,b){let w=x;if(x&&!b&&typeof x=="object"){if(oe.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(oe.isArray(x)&&NH(x)||(oe.isFileList(x)||oe.endsWith(v,"[]"))&&(w=oe.toArray(x)))return v=iO(v),w.forEach(function(C,P){!(oe.isUndefined(C)||C===null)&&e.append(a===!0?fk([v],P,i):a===null?v:v+"[]",u(C))}),!1}return Gv(x)?!0:(e.append(fk(b,v,i),u(x)),!1)}const f=[],p=Object.assign(jH,{defaultVisitor:d,convertValue:u,isVisitable:Gv});function g(x,v){if(!oe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(x),oe.forEach(x,function(w,N){(!(oe.isUndefined(w)||w===null)&&s.call(e,w,oe.isString(N)?N.trim():N,v,p))===!0&&g(w,v?v.concat(N):[N])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return g(t),e}function mk(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function uN(t,e){this._pairs=[],t&&nx(t,this,e)}const aO=uN.prototype;aO.append=function(e,n){this._pairs.push([e,n])};aO.toString=function(e){const n=e?function(r){return e.call(this,r,mk)}:mk;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function SH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oO(t,e,n){if(!e)return t;const r=n&&n.encode||SH;oe.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=oe.isURLSearchParams(e)?e.toString():new uN(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class pk{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const lO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CH=typeof URLSearchParams<"u"?URLSearchParams:uN,kH=typeof FormData<"u"?FormData:null,TH=typeof Blob<"u"?Blob:null,EH={isBrowser:!0,classes:{URLSearchParams:CH,FormData:kH,Blob:TH},protocols:["http","https","file","blob","url","data"]},dN=typeof window<"u"&&typeof document<"u",Yv=typeof navigator=="object"&&navigator||void 0,MH=dN&&(!Yv||["ReactNative","NativeScript","NS"].indexOf(Yv.product)<0),PH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AH=dN&&window.location.href||"http://localhost",OH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dN,hasStandardBrowserEnv:MH,hasStandardBrowserWebWorkerEnv:PH,navigator:Yv,origin:AH},Symbol.toStringTag,{value:"Module"})),sr={...OH,...EH};function _H(t,e){return nx(t,new sr.classes.URLSearchParams,{visitor:function(n,r,s,i){return sr.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function DH(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function IH(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function cO(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&oe.isArray(s)?s.length:a,c?(oe.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!oe.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&oe.isArray(s[a])&&(s[a]=IH(s[a])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,s)=>{e(DH(r),s,n,0)}),n}return null}function LH(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const wf={transitional:lO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=oe.isObject(e);if(i&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify(cO(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _H(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return nx(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),LH(e)):e}],transformResponse:[function(e){const n=this.transitional||wf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?st.from(l,st.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{wf.headers[t]={}});const RH=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FH=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&RH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},gk=Symbol("internals");function Dd(t){return t&&String(t).trim().toLowerCase()}function Bp(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Bp):String(t)}function zH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const VH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ub(t,e,n,r,s){if(oe.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function $H(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function BH(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let Fr=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const d=Dd(c);if(!d)throw new Error("header name must be a non-empty string");const f=oe.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Bp(l))}const a=(l,c)=>oe.forEach(l,(u,d)=>i(u,d,c));if(oe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(oe.isString(e)&&(e=e.trim())&&!VH(e))a(FH(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},c,u;for(const d of e){if(!oe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?oe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Dd(e),e){const r=oe.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return zH(s);if(oe.isFunction(n))return n.call(this,s,r);if(oe.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Dd(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ub(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=Dd(a),a){const l=oe.findKey(r,a);l&&(!n||Ub(r,r[l],l,n))&&(delete r[l],s=!0)}}return oe.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Ub(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return oe.forEach(this,(s,i)=>{const a=oe.findKey(r,i);if(a){n[a]=Bp(s),delete n[i];return}const l=e?$H(i):String(i).trim();l!==i&&delete n[i],n[l]=Bp(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[gk]=this[gk]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Dd(a);r[l]||(BH(s,a),r[l]=!0)}return oe.isArray(e)?e.forEach(i):i(e),this}};Fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Fr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(Fr);function Wb(t,e){const n=this||wf,r=e||n,s=Fr.from(r.headers);let i=r.data;return oe.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function uO(t){return!!(t&&t.__CANCEL__)}function Lu(t,e,n){st.call(this,t??"canceled",st.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(Lu,st,{__CANCEL__:!0});function dO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new st("Request failed with status code "+n.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function UH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function WH(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const bg=(t,e,n=3)=>{let r=0;const s=UH(50,250);return WH(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},xk=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},yk=t=>(...e)=>oe.asap(()=>t(...e)),qH=sr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,sr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(sr.origin),sr.navigator&&/(msie|trident)/i.test(sr.navigator.userAgent)):()=>!0,KH=sr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&a.push("path="+r),oe.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function YH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function hO(t,e,n){let r=!GH(e);return t&&(r||n==!1)?YH(t,e):e}const bk=t=>t instanceof Fr?{...t}:t;function zl(t,e){e=e||{};const n={};function r(u,d,f,p){return oe.isPlainObject(u)&&oe.isPlainObject(d)?oe.merge.call({caseless:p},u,d):oe.isPlainObject(d)?oe.merge({},d):oe.isArray(d)?d.slice():d}function s(u,d,f,p){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function i(u,d){if(!oe.isUndefined(d))return r(void 0,d)}function a(u,d){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(bk(u),bk(d),f,!0)};return oe.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||s,p=f(t[d],e[d],d);oe.isUndefined(p)&&f!==l||(n[d]=p)}),n}const fO=t=>{const e=zl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=Fr.from(a),e.url=oO(hO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),oe.isFormData(n)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(oe.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(sr.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&qH(e.url))){const c=s&&i&&KH.read(i);c&&a.set(s,c)}return e},XH=typeof XMLHttpRequest<"u",QH=XH&&function(t){return new Promise(function(n,r){const s=fO(t);let i=s.data;const a=Fr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,g,x;function v(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function w(){if(!b)return;const C=Fr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};dO(function(M){n(M),v()},function(M){r(M),v()},S),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new st("Request aborted",st.ECONNABORTED,t,b)),b=null)},b.onerror=function(P){const S=P&&P.message?P.message:"Network Error",A=new st(S,st.ERR_NETWORK,t,b);A.event=P||null,r(A),b=null},b.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||lO;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),r(new st(P,S.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,t,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&oe.forEach(a.toJSON(),function(P,S){b.setRequestHeader(S,P)}),oe.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([p,x]=bg(u,!0),b.addEventListener("progress",p)),c&&b.upload&&([f,g]=bg(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=C=>{b&&(r(!C||C.type?new Lu(null,t,b):C),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const N=HH(s.url);if(N&&sr.protocols.indexOf(N)===-1){r(new st("Unsupported protocol "+N+":",st.ERR_BAD_REQUEST,t));return}b.send(i||null)})},JH=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof st?d:new Lu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new st(`timeout ${e} of ms exceeded`,st.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},ZH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},eU=async function*(t,e){for await(const n of tU(t))yield*ZH(n,e)},tU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},vk=(t,e,n,r)=>{const s=eU(t,e);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},wk=64*1024,{isFunction:qm}=oe,nU=(({Request:t,Response:e})=>({Request:t,Response:e}))(oe.global),{ReadableStream:Nk,TextEncoder:jk}=oe.global,Sk=(t,...e)=>{try{return!!t(...e)}catch{return!1}},rU=t=>{t=oe.merge.call({skipUndefined:!0},nU,t);const{fetch:e,Request:n,Response:r}=t,s=e?qm(e):typeof fetch=="function",i=qm(n),a=qm(r);if(!s)return!1;const l=s&&qm(Nk),c=s&&(typeof jk=="function"?(x=>v=>x.encode(v))(new jk):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&l&&Sk(()=>{let x=!1;const v=new n(sr.origin,{body:new Nk,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=a&&l&&Sk(()=>oe.isReadableStream(new r("").body)),f={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(v,b)=>{let w=v&&v[x];if(w)return w.call(v);throw new st(`Response type '${x}' is not supported`,st.ERR_NOT_SUPPORT,b)})});const p=async x=>{if(x==null)return 0;if(oe.isBlob(x))return x.size;if(oe.isSpecCompliantForm(x))return(await new n(sr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(x)||oe.isArrayBuffer(x))return x.byteLength;if(oe.isURLSearchParams(x)&&(x=x+""),oe.isString(x))return(await c(x)).byteLength},g=async(x,v)=>{const b=oe.toFiniteNumber(x.getContentLength());return b??p(v)};return async x=>{let{url:v,method:b,data:w,signal:N,cancelToken:C,timeout:P,onDownloadProgress:S,onUploadProgress:A,responseType:M,headers:T,withCredentials:_="same-origin",fetchOptions:I}=fO(x),D=e||fetch;M=M?(M+"").toLowerCase():"text";let R=JH([N,C&&C.toAbortSignal()],P),G=null;const U=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let q;try{if(A&&u&&b!=="get"&&b!=="head"&&(q=await g(T,w))!==0){let V=new n(v,{method:"POST",body:w,duplex:"half"}),Y;if(oe.isFormData(w)&&(Y=V.headers.get("content-type"))&&T.setContentType(Y),V.body){const[Z,ee]=xk(q,bg(yk(A)));w=vk(V.body,wk,Z,ee)}}oe.isString(_)||(_=_?"include":"omit");const z=i&&"credentials"in n.prototype,B={...I,signal:R,method:b.toUpperCase(),headers:T.normalize().toJSON(),body:w,duplex:"half",credentials:z?_:void 0};G=i&&new n(v,B);let $=await(i?D(G,I):D(v,B));const Q=d&&(M==="stream"||M==="response");if(d&&(S||Q&&U)){const V={};["status","statusText","headers"].forEach(le=>{V[le]=$[le]});const Y=oe.toFiniteNumber($.headers.get("content-length")),[Z,ee]=S&&xk(Y,bg(yk(S),!0))||[];$=new r(vk($.body,wk,Z,()=>{ee&&ee(),U&&U()}),V)}M=M||"text";let H=await f[oe.findKey(f,M)||"text"]($,x);return!Q&&U&&U(),await new Promise((V,Y)=>{dO(V,Y,{data:H,headers:Fr.from($.headers),status:$.status,statusText:$.statusText,config:x,request:G})})}catch(z){throw U&&U(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,x,G),{cause:z.cause||z}):st.from(z,z&&z.code,x,G)}}},sU=new Map,mO=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,l=a,c,u,d=sU;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:rU(e)),d=u;return u};mO();const Xv={http:wH,xhr:QH,fetch:{get:mO}};oe.forEach(Xv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ck=t=>`- ${t}`,iU=t=>oe.isFunction(t)||t===null||t===!1,pO={getAdapter:(t,e)=>{t=oe.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!iU(r)&&(s=Xv[(l=String(r)).toLowerCase()],s===void 0))throw new st(`Unknown adapter '${l}'`);if(s&&(oe.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Ck).join(`
`):" "+Ck(a[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Xv};function qb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Lu(null,t)}function kk(t){return qb(t),t.headers=Fr.from(t.headers),t.data=Wb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pO.getAdapter(t.adapter||wf.adapter,t)(t).then(function(r){return qb(t),r.data=Wb.call(t,t.transformResponse,r),r.headers=Fr.from(r.headers),r},function(r){return uO(r)||(qb(t),r&&r.response&&(r.response.data=Wb.call(t,t.transformResponse,r.response),r.response.headers=Fr.from(r.response.headers))),Promise.reject(r)})}const gO="1.12.2",rx={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rx[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Tk={};rx.transitional=function(e,n,r){function s(i,a){return"[Axios v"+gO+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new st(s(a," has been removed"+(n?" in "+n:"")),st.ERR_DEPRECATED);return n&&!Tk[a]&&(Tk[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};rx.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function aU(t,e,n){if(typeof t!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new st("option "+i+" must be "+c,st.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new st("Unknown option "+i,st.ERR_BAD_OPTION)}}const Hp={assertOptions:aU,validators:rx},ii=Hp.validators;let Tl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pk,response:new pk}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Hp.assertOptions(r,{silentJSONParsing:ii.transitional(ii.boolean),forcedJSONParsing:ii.transitional(ii.boolean),clarifyTimeoutError:ii.transitional(ii.boolean)},!1),s!=null&&(oe.isFunction(s)?n.paramsSerializer={serialize:s}:Hp.assertOptions(s,{encode:ii.function,serialize:ii.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hp.assertOptions(n,{baseUrl:ii.spelling("baseURL"),withXsrfToken:ii.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&oe.merge(i.common,i[n.method]);i&&oe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Fr.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!c){const x=[kk.bind(this),void 0];for(x.unshift(...l),x.push(...u),p=x.length,d=Promise.resolve(n);f<p;)d=d.then(x[f++],x[f++]);return d}p=l.length;let g=n;for(;f<p;){const x=l[f++],v=l[f++];try{g=x(g)}catch(b){v.call(this,b);break}}try{d=kk.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=zl(this.defaults,e);const n=hO(e.baseURL,e.url,e.allowAbsoluteUrls);return oO(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){Tl.prototype[e]=function(n,r){return this.request(zl(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(zl(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Tl.prototype[e]=n(),Tl.prototype[e+"Form"]=n(!0)});let oU=class xO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new Lu(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xO(function(s){e=s}),cancel:e}}};function lU(t){return function(n){return t.apply(null,n)}}function cU(t){return oe.isObject(t)&&t.isAxiosError===!0}const Qv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qv).forEach(([t,e])=>{Qv[e]=t});function yO(t){const e=new Tl(t),n=YA(Tl.prototype.request,e);return oe.extend(n,Tl.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return yO(zl(t,s))},n}const un=yO(wf);un.Axios=Tl;un.CanceledError=Lu;un.CancelToken=oU;un.isCancel=uO;un.VERSION=gO;un.toFormData=nx;un.AxiosError=st;un.Cancel=un.CanceledError;un.all=function(e){return Promise.all(e)};un.spread=lU;un.isAxiosError=cU;un.mergeConfig=zl;un.AxiosHeaders=Fr;un.formToJSON=t=>cO(oe.isHTMLForm(t)?new FormData(t):t);un.getAdapter=pO.getAdapter;un.HttpStatusCode=Qv;un.default=un;const{Axios:bwe,AxiosError:uU,CanceledError:vwe,isCancel:wwe,CancelToken:Nwe,VERSION:jwe,all:Swe,Cancel:Cwe,isAxiosError:kwe,spread:Twe,toFormData:Ewe,AxiosHeaders:Mwe,HttpStatusCode:Pwe,formToJSON:Awe,getAdapter:Owe,mergeConfig:_we}=un,fe=un.create({baseURL:"https://quan-ly-ban-quan-ao-server.onrender.com",timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});fe.interceptors.response.use(t=>t.data,async t=>{const e=t.response?.status;if(!t.response)return Promise.reject({message:"Khng th kt ni n server. Vui lng kim tra mng!",code:"NETWORK_ERROR"});if(e===403)return Promise.reject({message:"Bn khng c quyn thc hin hnh ng ny",code:"FORBIDDEN",status:e});if(e>=500)return Promise.reject({message:"Li my ch. Vui lng th li sau!",code:"SERVER_ERROR",status:e});const n=t.response?.data?.message||t.message||" c li xy ra";return Promise.reject({message:typeof n=="string"?n:n[0]||"Li khng xc nh",code:t.response?.data?.error||"BAD_REQUEST",status:e,data:t.response?.data})});var Ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dU={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},hU=class{#e=dU;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},gl=new hU;function fU(t){setTimeout(t,0)}var Vl=typeof window>"u"||"Deno"in globalThis;function pr(){}function mU(t,e){return typeof t=="function"?t(e):t}function Jv(t){return typeof t=="number"&&t>=0&&t!==1/0}function bO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ho(t,e){return typeof t=="function"?t(e):t}function ws(t,e){return typeof t=="function"?t(e):t}function Ek(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==hN(a,e.options))return!1}else if(!Dh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Mk(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($l(e.options.mutationKey)!==$l(i))return!1}else if(!Dh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function hN(t,e){return(e?.queryKeyHashFn||$l)(t)}function $l(t){return JSON.stringify(t,(e,n)=>Zv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dh(t[n],e[n])):!1}var pU=Object.prototype.hasOwnProperty;function vO(t,e){if(t===e)return t;const n=Pk(t)&&Pk(e);if(!n&&!(Zv(t)&&Zv(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u],f=t[d],p=e[d];if(f===p){l[d]=f,(n?u<s:pU.call(t,d))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[d]=p;continue}const g=vO(f,p);l[d]=g,g===f&&c++}return s===a&&c===s?t:l}function vg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Pk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zv(t){if(!Ak(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ak(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ak(t){return Object.prototype.toString.call(t)==="[object Object]"}function gU(t){return new Promise(e=>{gl.setTimeout(e,t)})}function e2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vO(t,e):e}function xU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var fN=Symbol();function wO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===fN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function NO(t,e){return typeof t=="function"?t(...e):!!t}var bU=class extends Ru{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Vl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mN=new bU;function t2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var vU=fU;function wU(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=vU;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Sn=wU(),NU=class extends Ru{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Vl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},wg=new NU;function jU(t){return Math.min(1e3*2**t,3e4)}function jO(t){return(t??"online")==="online"?wg.isOnline():!0}var n2=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function SO(t){let e=!1,n=0,r;const s=t2(),i=()=>s.status!=="pending",a=v=>{if(!i()){const b=new n2(v);p(b),t.onCancel?.(b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>mN.isFocused()&&(t.networkMode==="always"||wg.isOnline())&&t.canRun(),d=()=>jO(t.networkMode)&&t.canRun(),f=v=>{i()||(r?.(),s.resolve(v))},p=v=>{i()||(r?.(),s.reject(v))},g=()=>new Promise(v=>{r=b=>{(i()||u())&&v(b)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{if(i())return;const N=t.retry??(Vl?0:3),C=t.retryDelay??jU,P=typeof C=="function"?C(n,w):C,S=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,w);if(e||!S){p(w);return}n++,t.onFail?.(n,w),gU(P).then(()=>u()?void 0:g()).then(()=>{e?p(w):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),s)}}var CO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jv(this.gcTime)&&(this.#e=gl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gl.clearTimeout(this.#e),this.#e=void 0)}},SU=class extends CO{#e;#t;#n;#s;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Ok(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Ok(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=e2(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(pr).catch(pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ho(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!bO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const l=wO(this.options,e),u=(()=>{const d={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=SO({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof n2&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof n2){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kO(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Sn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function kO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ok(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var CU=class extends Ru{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=t2(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),_k(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return r2(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return r2(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),e._defaulted&&!vg(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Dk(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||ws(this.options.enabled,this.#t)!==ws(e.enabled,this.#t)||ho(this.options.staleTime,this.#t)!==ho(e.staleTime,this.#t))&&this.#g();const s=this.#x();r&&(this.#t!==n||ws(this.options.enabled,this.#t)!==ws(e.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return TU(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#N();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(pr)),e}#g(){this.#v();const t=ho(this.options.staleTime,this.#t);if(Vl||this.#s.isStale||!Jv(t))return;const n=bO(this.#s.dataUpdatedAt,t)+1;this.#c=gl.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Vl||ws(this.options.enabled,this.#t)===!1||!Jv(this.#l)||this.#l===0)&&(this.#u=gl.setInterval(()=>{(this.options.refetchIntervalInBackground||mN.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#x())}#v(){this.#c&&(gl.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(gl.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#s,i=this.#r,a=this.#a,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,p;if(e._optimisticResults){const T=this.hasListeners(),_=!T&&_k(t,e),I=T&&Dk(t,n,e,r);(_||I)&&(d={...d,...kO(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=d;p=d.data;let b=!1;if(e.placeholderData!==void 0&&p===void 0&&v==="pending"){let T;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(T=s.data,b=!0):T=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,T!==void 0&&(v="success",p=e2(s?.data,T,e),f=!0)}if(e.select&&p!==void 0&&!b)if(s&&p===i?.data&&e.select===this.#p)p=this.#h;else try{this.#p=e.select,p=e.select(p),p=e2(s?.data,p,e),this.#h=p,this.#i=null}catch(T){this.#i=T}this.#i&&(g=this.#i,p=this.#h,x=Date.now(),v="error");const w=d.fetchStatus==="fetching",N=v==="pending",C=v==="error",P=N&&w,S=p!==void 0,M={status:v,fetchStatus:d.fetchStatus,isPending:N,isSuccess:v==="success",isError:C,isInitialLoading:P,isLoading:P,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:C&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&S,isStale:pN(t,e),refetch:this.refetch,promise:this.#o,isEnabled:ws(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=D=>{M.status==="error"?D.reject(M.error):M.data!==void 0&&D.resolve(M.data)},_=()=>{const D=this.#o=M.promise=t2();T(D)},I=this.#o;switch(I.status){case"pending":t.queryHash===n.queryHash&&T(I);break;case"fulfilled":(M.status==="error"||M.data!==I.value)&&_();break;case"rejected":(M.status!=="error"||M.error!==I.reason)&&_();break}}return M}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),vg(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(a=>{const l=a;return this.#s[l]!==t[l]&&i.has(l)})};this.#j({listeners:n()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#j(t){Sn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function kU(t,e){return ws(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _k(t,e){return kU(t,e)||t.state.data!==void 0&&r2(t,e,e.refetchOnMount)}function r2(t,e,n){if(ws(e.enabled,t)!==!1&&ho(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&pN(t,e)}return!1}function Dk(t,e,n,r){return(t!==e||ws(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&pN(t,n)}function pN(t,e){return ws(e.enabled,t)!==!1&&t.isStaleByTime(ho(e.staleTime,t))}function TU(t,e){return!vg(t.getCurrentResult(),e)}function Ik(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=wO(e.options,e.fetchOptions),g=async(x,v,b)=>{if(d)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:v,direction:b?"backward":"forward",meta:e.options.meta};return f(A),A})(),C=await p(N),{maxPages:P}=e.options,S=b?yU:xU;return{pages:S(x.pages,C,P),pageParams:S(x.pageParams,v,P)}};if(s&&i.length){const x=s==="backward",v=x?EU:Lk,b={pages:i,pageParams:a},w=v(r,b);l=await g(b,w,x)}else{const x=t??i.length;do{const v=c===0?a[0]??r.initialPageParam:Lk(r,l);if(c>0&&v==null)break;l=await g(l,v),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function Lk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function EU(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var MU=class extends CO{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||TO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=SO({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Sn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function TO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var PU=class extends Ru{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new MU({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Km(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Km(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Km(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Km(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Sn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Mk(e,n))}findAll(t={}){return this.getAll().filter(e=>Mk(t,e))}notify(t){Sn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Sn.batch(()=>Promise.all(t.map(e=>e.continue().catch(pr))))}};function Km(t){return t.options.scope?.id}var AU=class extends Ru{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),vg(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&$l(n.mutationKey)!==$l(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??TO();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Sn.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,n,r,s),this.#s.onSettled?.(e.data,null,n,r,s)):e?.type==="error"&&(this.#s.onError?.(e.error,n,r,s),this.#s.onSettled?.(void 0,e.error,n,r,s))}this.listeners.forEach(n=>{n(this.#t)})})}},OU=class extends Ru{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??hN(r,e);let i=this.get(s);return i||(i=new SU({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Ek(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Ek(t,n)):e}notify(t){Sn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_U=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new OU,this.#t=t.mutationCache||new PU,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=mN.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=wg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ho(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=mU(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Sn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Sn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Sn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(pr).catch(pr)}invalidateQueries(t,e={}){return Sn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Sn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(pr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(pr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ho(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pr).catch(pr)}fetchInfiniteQuery(t){return t.behavior=Ik(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pr).catch(pr)}ensureInfiniteQueryData(t){return t.behavior=Ik(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set($l(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Dh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set($l(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Dh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},EO=k.createContext(void 0),Xs=t=>{const e=k.useContext(EO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DU=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(EO.Provider,{value:t,children:e})),MO=k.createContext(!1),IU=()=>k.useContext(MO);MO.Provider;function LU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var RU=k.createContext(LU()),FU=()=>k.useContext(RU),zU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},VU=t=>{k.useEffect(()=>{t.clearReset()},[t])},$U=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||NO(n,[t.error,r])),BU=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},HU=(t,e)=>t.isLoading&&t.isFetching&&!e,UU=(t,e)=>t?.suspense&&e.isPending,Rk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function WU(t,e,n){const r=IU(),s=FU(),i=Xs(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",BU(a),zU(a,s),VU(s);const l=!i.getQueryCache().get(a.queryHash),[c]=k.useState(()=>new e(i,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(f=>{const p=d?c.subscribe(Sn.batchCalls(f)):pr;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),k.useEffect(()=>{c.setOptions(a)},[a,c]),UU(a,u))throw Rk(a,c,s);if($U({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!Vl&&HU(u,r)&&(l?Rk(a,c,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(pr).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?u:c.trackResult(u)}function Ae(t,e){return WU(t,CU)}function qU(t,e){const n=Xs(),[r]=k.useState(()=>new AU(n,t));k.useEffect(()=>{r.setOptions(t)},[r,t]);const s=k.useSyncExternalStore(k.useCallback(a=>r.subscribe(Sn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((a,l)=>{r.mutate(a,l).catch(pr)},[r]);if(s.error&&NO(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const KU=async()=>{try{const t=await fe.get("/api/v1/auth/me");return t?.user?t.user:null}catch(t){if(t?.response?.status===401)return null;throw t}},kt=()=>{const t=Xs(),{data:e,isLoading:n,refetch:r}=Ae({queryKey:["user"],queryFn:KU,staleTime:300*1e3,retry:(l,c)=>c.status!==401,refetchOnWindowFocus:!1,refetchOnMount:!1});return{user:e,loading:n,refreshUser:async()=>(await t.invalidateQueries({queryKey:["user"]}),await r()),clearUser:()=>{t.setQueryData(["user"],null)},setUser:l=>{t.setQueryData(["user"],l)}}},PO=k.createContext(null);function GU({children:t}){const{refreshUser:e,clearUser:n}=kt(),r=async(a,l,c)=>{let u="/api/v1/auth/login";(a===Kt.ADMIN||a===Kt.STAFF)&&(u="/api/v1/auth/admin/login");try{const d=await fe.post(u,{email:l,password:c});if(d.status)await e();else throw new Error(d.message||"ng nhp tht bi")}catch(d){throw d}},s=async a=>{try{const l=await fe.post("/api/v1/auth/register",a);if(l.status)await e();else throw new Error(l.message||"ng k tht bi!")}catch(l){throw console.log(l),l.response.data}},i=async()=>{try{await fe.get("/api/v1/auth/logout"),sessionStorage.removeItem("checkoutData"),n(),await e()}catch(a){console.error("Logout error:",a)}};return o.jsx(PO.Provider,{value:{login:r,logout:i,register:s},children:t})}const ac=()=>{const t=k.useContext(PO);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function s2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function YU(t){if(Array.isArray(t))return t}function XU(t){if(Array.isArray(t))return s2(t)}function QU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AO(r.key),r)}}function ZU(t,e,n){return e&&JU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Up(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=gN(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function it(t,e,n){return(e=AO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function nW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sx(t,e){return YU(t)||tW(t,e)||gN(t,e)||nW()}function Us(t){return XU(t)||eW(t)||gN(t)||rW()}function sW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AO(t){var e=sW(t,"string");return typeof e=="symbol"?e:e+""}function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function gN(t,e){if(t){if(typeof t=="string")return s2(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s2(t,e):void 0}}var zk=function(){},xN={},OO={},_O=null,DO={mark:zk,measure:zk};try{typeof window<"u"&&(xN=window),typeof document<"u"&&(OO=document),typeof MutationObserver<"u"&&(_O=MutationObserver),typeof performance<"u"&&(DO=performance)}catch{}var iW=xN.navigator||{},Vk=iW.userAgent,$k=Vk===void 0?"":Vk,vo=xN,Lt=OO,Bk=_O,Gm=DO;vo.document;var wa=!!Lt.documentElement&&!!Lt.head&&typeof Lt.addEventListener=="function"&&typeof Lt.createElement=="function",IO=~$k.indexOf("MSIE")||~$k.indexOf("Trident/"),Kb,aW=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,oW=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,LO={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},lW={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},RO=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],qn="classic",Nf="duotone",FO="sharp",zO="sharp-duotone",VO="chisel",$O="etch",BO="jelly",HO="jelly-duo",UO="jelly-fill",WO="notdog",qO="notdog-duo",KO="slab",GO="slab-press",YO="thumbprint",XO="utility",QO="utility-duo",JO="utility-fill",ZO="whiteboard",cW="Classic",uW="Duotone",dW="Sharp",hW="Sharp Duotone",fW="Chisel",mW="Etch",pW="Jelly",gW="Jelly Duo",xW="Jelly Fill",yW="Notdog",bW="Notdog Duo",vW="Slab",wW="Slab Press",NW="Thumbprint",jW="Utility",SW="Utility Duo",CW="Utility Fill",kW="Whiteboard",e_=[qn,Nf,FO,zO,VO,$O,BO,HO,UO,WO,qO,KO,GO,YO,XO,QO,JO,ZO];Kb={},it(it(it(it(it(it(it(it(it(it(Kb,qn,cW),Nf,uW),FO,dW),zO,hW),VO,fW),$O,mW),BO,pW),HO,gW),UO,xW),WO,yW),it(it(it(it(it(it(it(it(Kb,qO,bW),KO,vW),GO,wW),YO,NW),XO,jW),QO,SW),JO,CW),ZO,kW);var TW={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},EW={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},MW=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),PW={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},t_=["fak","fa-kit","fakd","fa-kit-duotone"],Hk={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},AW=["kit"],OW="kit",_W="kit-duotone",DW="Kit",IW="Kit Duotone";it(it({},OW,DW),_W,IW);var LW={kit:{"fa-kit":"fak"}},RW={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},FW={kit:{fak:"fa-kit"}},Uk={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Gb,Ym={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},zW=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],VW="classic",$W="duotone",BW="sharp",HW="sharp-duotone",UW="chisel",WW="etch",qW="jelly",KW="jelly-duo",GW="jelly-fill",YW="notdog",XW="notdog-duo",QW="slab",JW="slab-press",ZW="thumbprint",eq="utility",tq="utility-duo",nq="utility-fill",rq="whiteboard",sq="Classic",iq="Duotone",aq="Sharp",oq="Sharp Duotone",lq="Chisel",cq="Etch",uq="Jelly",dq="Jelly Duo",hq="Jelly Fill",fq="Notdog",mq="Notdog Duo",pq="Slab",gq="Slab Press",xq="Thumbprint",yq="Utility",bq="Utility Duo",vq="Utility Fill",wq="Whiteboard";Gb={},it(it(it(it(it(it(it(it(it(it(Gb,VW,sq),$W,iq),BW,aq),HW,oq),UW,lq),WW,cq),qW,uq),KW,dq),GW,hq),YW,fq),it(it(it(it(it(it(it(it(Gb,XW,mq),QW,pq),JW,gq),ZW,xq),eq,yq),tq,bq),nq,vq),rq,wq);var Nq="kit",jq="kit-duotone",Sq="Kit",Cq="Kit Duotone";it(it({},Nq,Sq),jq,Cq);var kq={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},Tq={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},i2={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},Eq=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],n_=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(zW,Eq),Mq=["solid","regular","light","thin","duotone","brands","semibold"],r_=[1,2,3,4,5,6,7,8,9,10],Pq=r_.concat([11,12,13,14,15,16,17,18,19,20]),Aq=["aw","fw","pull-left","pull-right"],Oq=[].concat(Us(Object.keys(Tq)),Mq,Aq,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Ym.GROUP,Ym.SWAP_OPACITY,Ym.PRIMARY,Ym.SECONDARY]).concat(r_.map(function(t){return"".concat(t,"x")})).concat(Pq.map(function(t){return"w-".concat(t)})),_q={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},pa="___FONT_AWESOME___",a2=16,s_="fa",i_="svg-inline--fa",Bl="data-fa-i2svg",o2="data-fa-pseudo-element",Dq="data-fa-pseudo-element-pending",yN="data-prefix",bN="data-icon",Wk="fontawesome-i2svg",Iq="async",Lq=["HTML","HEAD","STYLE","SCRIPT"],a_=["::before","::after",":before",":after"],o_=(function(){try{return!0}catch{return!1}})();function jf(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[qn]}})}var l_=we({},LO);l_[qn]=we(we(we(we({},{"fa-duotone":"duotone"}),LO[qn]),Hk.kit),Hk["kit-duotone"]);var Rq=jf(l_),l2=we({},PW);l2[qn]=we(we(we(we({},{duotone:"fad"}),l2[qn]),Uk.kit),Uk["kit-duotone"]);var qk=jf(l2),c2=we({},i2);c2[qn]=we(we({},c2[qn]),FW.kit);var vN=jf(c2),u2=we({},kq);u2[qn]=we(we({},u2[qn]),LW.kit);jf(u2);var Fq=aW,c_="fa-layers-text",zq=oW,Vq=we({},TW);jf(Vq);var $q=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Yb=lW,Bq=[].concat(Us(AW),Us(Oq)),oh=vo.FontAwesomeConfig||{};function Hq(t){var e=Lt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Uq(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Lt&&typeof Lt.querySelector=="function"){var Wq=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Wq.forEach(function(t){var e=sx(t,2),n=e[0],r=e[1],s=Uq(Hq(n));s!=null&&(oh[r]=s)})}var u_={styleDefault:"solid",familyDefault:qn,cssPrefix:s_,replacementClass:i_,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};oh.familyPrefix&&(oh.cssPrefix=oh.familyPrefix);var yu=we(we({},u_),oh);yu.autoReplaceSvg||(yu.observeMutations=!1);var Be={};Object.keys(u_).forEach(function(t){Object.defineProperty(Be,t,{enumerable:!0,set:function(n){yu[t]=n,lh.forEach(function(r){return r(Be)})},get:function(){return yu[t]}})});Object.defineProperty(Be,"familyPrefix",{enumerable:!0,set:function(e){yu.cssPrefix=e,lh.forEach(function(n){return n(Be)})},get:function(){return yu.cssPrefix}});vo.FontAwesomeConfig=Be;var lh=[];function qq(t){return lh.push(t),function(){lh.splice(lh.indexOf(t),1)}}var zc=a2,yi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Kq(t){if(!(!t||!wa)){var e=Lt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Lt.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return Lt.head.insertBefore(e,r),t}}var Gq="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Kk(){for(var t=12,e="";t-- >0;)e+=Gq[Math.random()*62|0];return e}function Fu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function wN(t){return t.classList?Fu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function d_(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Yq(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(d_(t[n]),'" ')},"").trim()}function ix(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function NN(t){return t.size!==yi.size||t.x!==yi.x||t.y!==yi.y||t.rotate!==yi.rotate||t.flipX||t.flipY}function Xq(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(i," ").concat(a," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function Qq(t){var e=t.transform,n=t.width,r=n===void 0?a2:n,s=t.height,i=s===void 0?a2:s,a="";return IO?a+="translate(".concat(e.x/zc-r/2,"em, ").concat(e.y/zc-i/2,"em) "):a+="translate(calc(-50% + ".concat(e.x/zc,"em), calc(-50% + ").concat(e.y/zc,"em)) "),a+="scale(".concat(e.size/zc*(e.flipX?-1:1),", ").concat(e.size/zc*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var Jq=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function h_(){var t=s_,e=i_,n=Be.cssPrefix,r=Be.replacementClass,s=Jq;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(l,".".concat(r))}return s}var Gk=!1;function Xb(){Be.autoAddCss&&!Gk&&(Kq(h_()),Gk=!0)}var Zq={mixout:function(){return{dom:{css:h_,insertCss:Xb}}},hooks:function(){return{beforeDOMElementCreation:function(){Xb()},beforeI2svg:function(){Xb()}}}},ga=vo||{};ga[pa]||(ga[pa]={});ga[pa].styles||(ga[pa].styles={});ga[pa].hooks||(ga[pa].hooks={});ga[pa].shims||(ga[pa].shims=[]);var $s=ga[pa],f_=[],m_=function(){Lt.removeEventListener("DOMContentLoaded",m_),jg=1,f_.map(function(e){return e()})},jg=!1;wa&&(jg=(Lt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Lt.readyState),jg||Lt.addEventListener("DOMContentLoaded",m_));function eK(t){wa&&(jg?setTimeout(t,0):f_.push(t))}function Sf(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?d_(t):"<".concat(e," ").concat(Yq(r),">").concat(i.map(Sf).join(""),"</").concat(e,">")}function Yk(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Qb=function(e,n,r,s){var i=Object.keys(e),a=i.length,l=n,c,u,d;for(r===void 0?(c=1,d=e[i[0]]):(c=0,d=r);c<a;c++)u=i[c],d=l(d,e[u],u,e);return d};function p_(t){return Us(t).length!==1?null:t.codePointAt(0).toString(16)}function Xk(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function d2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=Xk(e);typeof $s.hooks.addPack=="function"&&!s?$s.hooks.addPack(t,Xk(e)):$s.styles[t]=we(we({},$s.styles[t]||{}),i),t==="fas"&&d2("fa",e)}var Ih=$s.styles,tK=$s.shims,g_=Object.keys(vN),nK=g_.reduce(function(t,e){return t[e]=Object.keys(vN[e]),t},{}),jN=null,x_={},y_={},b_={},v_={},w_={};function rK(t){return~Bq.indexOf(t)}function sK(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!rK(s)?s:null}var N_=function(){var e=function(i){return Qb(Ih,function(a,l,c){return a[c]=Qb(l,i,{}),a},{})};x_=e(function(s,i,a){if(i[3]&&(s[i[3]]=a),i[2]){var l=i[2].filter(function(c){return typeof c=="number"});l.forEach(function(c){s[c.toString(16)]=a})}return s}),y_=e(function(s,i,a){if(s[a]=a,i[2]){var l=i[2].filter(function(c){return typeof c=="string"});l.forEach(function(c){s[c]=a})}return s}),w_=e(function(s,i,a){var l=i[2];return s[a]=a,l.forEach(function(c){s[c]=a}),s});var n="far"in Ih||Be.autoFetchSvg,r=Qb(tK,function(s,i){var a=i[0],l=i[1],c=i[2];return l==="far"&&!n&&(l="fas"),typeof a=="string"&&(s.names[a]={prefix:l,iconName:c}),typeof a=="number"&&(s.unicodes[a.toString(16)]={prefix:l,iconName:c}),s},{names:{},unicodes:{}});b_=r.names,v_=r.unicodes,jN=ax(Be.styleDefault,{family:Be.familyDefault})};qq(function(t){jN=ax(t.styleDefault,{family:Be.familyDefault})});N_();function SN(t,e){return(x_[t]||{})[e]}function iK(t,e){return(y_[t]||{})[e]}function xl(t,e){return(w_[t]||{})[e]}function j_(t){return b_[t]||{prefix:null,iconName:null}}function aK(t){var e=v_[t],n=SN("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function wo(){return jN}var S_=function(){return{prefix:null,iconName:null,rest:[]}};function oK(t){var e=qn,n=g_.reduce(function(r,s){return r[s]="".concat(Be.cssPrefix,"-").concat(s),r},{});return e_.forEach(function(r){(t.includes(n[r])||t.some(function(s){return nK[r].includes(s)}))&&(e=r)}),e}function ax(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?qn:n,s=Rq[r][t];if(r===Nf&&!t)return"fad";var i=qk[r][t]||qk[r][s],a=t in $s.styles?t:null,l=i||a||null;return l}function lK(t){var e=[],n=null;return t.forEach(function(r){var s=sK(Be.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function Qk(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var Jk=n_.concat(t_);function ox(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=Qk(t.filter(function(g){return Jk.includes(g)})),a=Qk(t.filter(function(g){return!Jk.includes(g)})),l=i.filter(function(g){return s=g,!RO.includes(g)}),c=sx(l,1),u=c[0],d=u===void 0?null:u,f=oK(i),p=we(we({},lK(a)),{},{prefix:ax(d,{family:f})});return we(we(we({},p),hK({values:t,family:f,styles:Ih,config:Be,canonical:p,givenPrefix:s})),cK(r,s,p))}function cK(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?j_(s):{},a=xl(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!Ih.far&&Ih.fas&&!Be.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var uK=e_.filter(function(t){return t!==qn||t!==Nf}),dK=Object.keys(i2).filter(function(t){return t!==qn}).map(function(t){return Object.keys(i2[t])}).flat();function hK(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,a=t.styles,l=a===void 0?{}:a,c=t.config,u=c===void 0?{}:c,d=n===Nf,f=e.includes("fa-duotone")||e.includes("fad"),p=u.familyDefault==="duotone",g=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(f||p||g)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&uK.includes(n)){var x=Object.keys(l).find(function(b){return dK.includes(b)});if(x||u.autoFetchSvg){var v=MW.get(n).defaultShortPrefixId;r.prefix=v,r.iconName=xl(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=wo()||"fas"),r}var fK=(function(){function t(){QU(this,t),this.definitions={}}return ZU(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var a=s.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(l){n.definitions[l]=we(we({},n.definitions[l]||{}),a[l]),d2(l,a[l]);var c=vN[qn][l];c&&d2(c,a[l]),N_()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var a=s[i],l=a.prefix,c=a.iconName,u=a.icon,d=u[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(n[l][f]=u)}),n[l][c]=u}),n}}])})(),Zk=[],Zc={},cu={},mK=Object.keys(cu);function pK(t,e){var n=e.mixoutsTo;return Zk=t,Zc={},Object.keys(cu).forEach(function(r){mK.indexOf(r)===-1&&delete cu[r]}),Zk.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(a){typeof s[a]=="function"&&(n[a]=s[a]),Ng(s[a])==="object"&&Object.keys(s[a]).forEach(function(l){n[a]||(n[a]={}),n[a][l]=s[a][l]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(a){Zc[a]||(Zc[a]=[]),Zc[a].push(i[a])})}r.provides&&r.provides(cu)}),n}function h2(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=Zc[t]||[];return i.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Hl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=Zc[t]||[];s.forEach(function(i){i.apply(null,n)})}function No(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return cu[t]?cu[t].apply(null,e):void 0}function f2(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||wo();if(e)return e=xl(n,e)||e,Yk(C_.definitions,n,e)||Yk($s.styles,n,e)}var C_=new fK,gK=function(){Be.autoReplaceSvg=!1,Be.observeMutations=!1,Hl("noAuto")},xK={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return wa?(Hl("beforeI2svg",e),No("pseudoElements2svg",e),No("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Be.autoReplaceSvg===!1&&(Be.autoReplaceSvg=!0),Be.observeMutations=!0,eK(function(){bK({autoReplaceSvgRoot:n}),Hl("watch",e)})}},yK={icon:function(e){if(e===null)return null;if(Ng(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:xl(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=ax(e[0]);return{prefix:r,iconName:xl(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Be.cssPrefix,"-"))>-1||e.match(Fq))){var s=ox(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||wo(),iconName:xl(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=wo();return{prefix:i,iconName:xl(i,e)||e}}}},as={noAuto:gK,config:Be,dom:xK,parse:yK,library:C_,findIconDefinition:f2,toHtml:Sf},bK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Lt:n;(Object.keys($s.styles).length>0||Be.autoFetchSvg)&&wa&&Be.autoReplaceSvg&&as.dom.i2svg({node:r})};function lx(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Sf(r)})}}),Object.defineProperty(t,"node",{get:function(){if(wa){var r=Lt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function vK(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,a=t.transform;if(NN(a)&&n.found&&!r.found){var l=n.width,c=n.height,u={x:l/c/2,y:.5};s.style=ix(we(we({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function wK(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,a=i===!0?"".concat(e,"-").concat(Be.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:we(we({},s),{},{id:a}),children:r}]}]}function NK(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function CN(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,a=t.transform,l=t.symbol,c=t.maskId,u=t.extra,d=t.watchable,f=d===void 0?!1:d,p=r.found?r:n,g=p.width,x=p.height,v=[Be.replacementClass,i?"".concat(Be.cssPrefix,"-").concat(i):""].filter(function(S){return u.classes.indexOf(S)===-1}).filter(function(S){return S!==""||!!S}).concat(u.classes).join(" "),b={children:[],attributes:we(we({},u.attributes),{},{"data-prefix":s,"data-icon":i,class:v,role:u.attributes.role||"img",viewBox:"0 0 ".concat(g," ").concat(x)})};!NK(u.attributes)&&!u.attributes["aria-hidden"]&&(b.attributes["aria-hidden"]="true"),f&&(b.attributes[Bl]="");var w=we(we({},b),{},{prefix:s,iconName:i,main:n,mask:r,maskId:c,transform:a,symbol:l,styles:we({},u.styles)}),N=r.found&&n.found?No("generateAbstractMask",w)||{children:[],attributes:{}}:No("generateAbstractIcon",w)||{children:[],attributes:{}},C=N.children,P=N.attributes;return w.children=C,w.attributes=P,l?wK(w):vK(w)}function e5(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,a=t.watchable,l=a===void 0?!1:a,c=we(we({},i.attributes),{},{class:i.classes.join(" ")});l&&(c[Bl]="");var u=we({},i.styles);NN(s)&&(u.transform=Qq({transform:s,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=ix(u);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),f}function jK(t){var e=t.content,n=t.extra,r=we(we({},n.attributes),{},{class:n.classes.join(" ")}),s=ix(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var Jb=$s.styles;function m2(t){var e=t[0],n=t[1],r=t.slice(4),s=sx(r,1),i=s[0],a=null;return Array.isArray(i)?a={tag:"g",attributes:{class:"".concat(Be.cssPrefix,"-").concat(Yb.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Be.cssPrefix,"-").concat(Yb.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Be.cssPrefix,"-").concat(Yb.PRIMARY),fill:"currentColor",d:i[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:a}}var SK={found:!1,width:512,height:512};function CK(t,e){!o_&&!Be.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function p2(t,e){var n=e;return e==="fa"&&Be.styleDefault!==null&&(e=wo()),new Promise(function(r,s){if(n==="fa"){var i=j_(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Jb[e]&&Jb[e][t]){var a=Jb[e][t];return r(m2(a))}CK(t,e),r(we(we({},SK),{},{icon:Be.showMissingIcons&&t?No("missingIconAbstract")||{}:{}}))})}var t5=function(){},g2=Be.measurePerformance&&Gm&&Gm.mark&&Gm.measure?Gm:{mark:t5,measure:t5},Xd='FA "7.1.0"',kK=function(e){return g2.mark("".concat(Xd," ").concat(e," begins")),function(){return k_(e)}},k_=function(e){g2.mark("".concat(Xd," ").concat(e," ends")),g2.measure("".concat(Xd," ").concat(e),"".concat(Xd," ").concat(e," begins"),"".concat(Xd," ").concat(e," ends"))},kN={begin:kK,end:k_},Wp=function(){};function n5(t){var e=t.getAttribute?t.getAttribute(Bl):null;return typeof e=="string"}function TK(t){var e=t.getAttribute?t.getAttribute(yN):null,n=t.getAttribute?t.getAttribute(bN):null;return e&&n}function EK(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Be.replacementClass)}function MK(){if(Be.autoReplaceSvg===!0)return qp.replace;var t=qp[Be.autoReplaceSvg];return t||qp.replace}function PK(t){return Lt.createElementNS("http://www.w3.org/2000/svg",t)}function AK(t){return Lt.createElement(t)}function T_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?PK:AK:n;if(typeof t=="string")return Lt.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){s.setAttribute(a,t.attributes[a])});var i=t.children||[];return i.forEach(function(a){s.appendChild(T_(a,{ceFn:r}))}),s}function OK(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var qp={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(T_(s),n)}),n.getAttribute(Bl)===null&&Be.keepOriginalSource){var r=Lt.createComment(OK(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~wN(n).indexOf(Be.replacementClass))return qp.replace(e);var s=new RegExp("".concat(Be.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(l,c){return c===Be.replacementClass||c.match(s)?l.toSvg.push(c):l.toNode.push(c),l},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var a=r.map(function(l){return Sf(l)}).join(`
`);n.setAttribute(Bl,""),n.innerHTML=a}};function r5(t){t()}function E_(t,e){var n=typeof e=="function"?e:Wp;if(t.length===0)n();else{var r=r5;Be.mutateApproach===Iq&&(r=vo.requestAnimationFrame||r5),r(function(){var s=MK(),i=kN.begin("mutate");t.map(s),i(),n()})}}var TN=!1;function M_(){TN=!0}function x2(){TN=!1}var Sg=null;function s5(t){if(Bk&&Be.observeMutations){var e=t.treeCallback,n=e===void 0?Wp:e,r=t.nodeCallback,s=r===void 0?Wp:r,i=t.pseudoElementsCallback,a=i===void 0?Wp:i,l=t.observeMutationsRoot,c=l===void 0?Lt:l;Sg=new Bk(function(u){if(!TN){var d=wo();Fu(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!n5(f.addedNodes[0])&&(Be.searchPseudoElements&&a(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&Be.searchPseudoElements&&a([f.target],!0),f.type==="attributes"&&n5(f.target)&&~$q.indexOf(f.attributeName))if(f.attributeName==="class"&&TK(f.target)){var p=ox(wN(f.target)),g=p.prefix,x=p.iconName;f.target.setAttribute(yN,g||d),x&&f.target.setAttribute(bN,x)}else EK(f.target)&&s(f.target)})}}),wa&&Sg.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function _K(){Sg&&Sg.disconnect()}function DK(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),a=i[0],l=i.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),n}function IK(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=ox(wN(t));return s.prefix||(s.prefix=wo()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=iK(s.prefix,t.innerText)||SN(s.prefix,p_(t.innerText))),!s.iconName&&Be.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function LK(t){var e=Fu(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function RK(){return{iconName:null,prefix:null,transform:yi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function i5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=IK(t),r=n.iconName,s=n.prefix,i=n.rest,a=LK(t),l=h2("parseNodeAttributes",{},t),c=e.styleParser?DK(t):[];return we({iconName:r,prefix:s,transform:yi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:a}},l)}var FK=$s.styles;function P_(t){var e=Be.autoReplaceSvg==="nest"?i5(t,{styleParser:!1}):i5(t);return~e.extra.classes.indexOf(c_)?No("generateLayersText",t,e):No("generateSvgReplacementMutation",t,e)}function zK(){return[].concat(Us(t_),Us(n_))}function a5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!wa)return Promise.resolve();var n=Lt.documentElement.classList,r=function(f){return n.add("".concat(Wk,"-").concat(f))},s=function(f){return n.remove("".concat(Wk,"-").concat(f))},i=Be.autoFetchSvg?zK():RO.concat(Object.keys(FK));i.includes("fa")||i.push("fa");var a=[".".concat(c_,":not([").concat(Bl,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Bl,"])")})).join(", ");if(a.length===0)return Promise.resolve();var l=[];try{l=Fu(t.querySelectorAll(a))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();var c=kN.begin("onTree"),u=l.reduce(function(d,f){try{var p=P_(f);p&&d.push(p)}catch(g){o_||g.name==="MissingIcon"&&console.error(g)}return d},[]);return new Promise(function(d,f){Promise.all(u).then(function(p){E_(p,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),c(),d()})}).catch(function(p){c(),f(p)})})}function VK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;P_(t).then(function(n){n&&E_([n],e)})}function $K(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:f2(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:f2(s||{})),t(r,we(we({},n),{},{mask:s}))}}var BK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?yi:r,i=n.symbol,a=i===void 0?!1:i,l=n.mask,c=l===void 0?null:l,u=n.maskId,d=u===void 0?null:u,f=n.classes,p=f===void 0?[]:f,g=n.attributes,x=g===void 0?{}:g,v=n.styles,b=v===void 0?{}:v;if(e){var w=e.prefix,N=e.iconName,C=e.icon;return lx(we({type:"icon"},e),function(){return Hl("beforeDOMElementCreation",{iconDefinition:e,params:n}),CN({icons:{main:m2(C),mask:c?m2(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:N,transform:we(we({},yi),s),symbol:a,maskId:d,extra:{attributes:x,styles:b,classes:p}})})}},HK={mixout:function(){return{icon:$K(BK)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=a5,n.nodeCallback=VK,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?Lt:r,i=n.callback,a=i===void 0?function(){}:i;return a5(s,a)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,a=r.transform,l=r.symbol,c=r.mask,u=r.maskId,d=r.extra;return new Promise(function(f,p){Promise.all([p2(s,i),c.iconName?p2(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var x=sx(g,2),v=x[0],b=x[1];f([n,CN({icons:{main:v,mask:b},prefix:i,iconName:s,transform:a,symbol:l,maskId:u,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.transform,l=n.styles,c=ix(l);c.length>0&&(s.style=c);var u;return NN(a)&&(u=No("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:s}}}},UK={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return lx({type:"layer"},function(){Hl("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(l){Array.isArray(l)?l.map(function(c){a=a.concat(c.abstract)}):a=a.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(Be.cssPrefix,"-layers")].concat(Us(i)).join(" ")},children:a}]})}}}},WK={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,a=r.attributes,l=a===void 0?{}:a,c=r.styles,u=c===void 0?{}:c;return lx({type:"counter",content:n},function(){return Hl("beforeDOMElementCreation",{content:n,params:r}),jK({content:n.toString(),extra:{attributes:l,styles:u,classes:["".concat(Be.cssPrefix,"-layers-counter")].concat(Us(i))}})})}}}},qK={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?yi:s,a=r.classes,l=a===void 0?[]:a,c=r.attributes,u=c===void 0?{}:c,d=r.styles,f=d===void 0?{}:d;return lx({type:"text",content:n},function(){return Hl("beforeDOMElementCreation",{content:n,params:r}),e5({content:n,transform:we(we({},yi),i),extra:{attributes:u,styles:f,classes:["".concat(Be.cssPrefix,"-layers-text")].concat(Us(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,a=null,l=null;if(IO){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Promise.resolve([n,e5({content:n.innerHTML,width:a,height:l,transform:s,extra:i,watchable:!0})])}}},A_=new RegExp('"',"ug"),o5=[1105920,1112319],l5=we(we(we(we({},{FontAwesome:{normal:"fas",400:"fas"}}),EW),_q),RW),y2=Object.keys(l5).reduce(function(t,e){return t[e.toLowerCase()]=l5[e],t},{}),KK=Object.keys(y2).reduce(function(t,e){var n=y2[e];return t[e]=n[900]||Us(Object.entries(n))[0][1],t},{});function GK(t){var e=t.replace(A_,"");return p_(Us(e)[0]||"")}function YK(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(A_,""),s=r.codePointAt(0),i=s>=o5[0]&&s<=o5[1],a=r.length===2?r[0]===r[1]:!1;return i||a||e}function XK(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(y2[n]||{})[s]||KK[n]}function c5(t,e){var n="".concat(Dq).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=Fu(t.children),a=i.filter(function(A){return A.getAttribute(o2)===e})[0],l=vo.getComputedStyle(t,e),c=l.getPropertyValue("font-family"),u=c.match(zq),d=l.getPropertyValue("font-weight"),f=l.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&f!=="none"&&f!==""){var p=l.getPropertyValue("content"),g=XK(c,d),x=GK(p),v=u[0].startsWith("FontAwesome"),b=YK(l),w=SN(g,x),N=w;if(v){var C=aK(x);C.iconName&&C.prefix&&(w=C.iconName,g=C.prefix)}if(w&&!b&&(!a||a.getAttribute(yN)!==g||a.getAttribute(bN)!==N)){t.setAttribute(n,N),a&&t.removeChild(a);var P=RK(),S=P.extra;S.attributes[o2]=e,p2(w,g).then(function(A){var M=CN(we(we({},P),{},{icons:{main:A,mask:S_()},prefix:g,iconName:N,extra:S,watchable:!0})),T=Lt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(T,t.firstChild):t.appendChild(T),T.outerHTML=M.map(function(_){return Sf(_)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function QK(t){return Promise.all([c5(t,"::before"),c5(t,"::after")])}function JK(t){return t.parentNode!==document.head&&!~Lq.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(o2)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var ZK=function(e){return!!e&&a_.some(function(n){return e.includes(n)})},eG=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(c){return c.trim()});r=r.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(u){return u.trim()})});var s=Up(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(ZK(a)){var l=a_.reduce(function(c,u){return c.replace(u,"")},a);l!==""&&l!=="*"&&n.add(l)}}}catch(c){s.e(c)}finally{s.f()}return n};function u5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(wa){var n;if(e)n=t;else if(Be.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=Up(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var l=Up(a.cssRules),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=eG(u.selectorText),f=Up(d),p;try{for(f.s();!(p=f.n()).done;){var g=p.value;r.add(g)}}catch(v){f.e(v)}finally{f.f()}}}catch(v){l.e(v)}finally{l.f()}}catch(v){Be.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(a.href," (").concat(v.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(v){s.e(v)}finally{s.f()}if(!r.size)return;var x=Array.from(r).join(", ");try{n=t.querySelectorAll(x)}catch{}}return new Promise(function(v,b){var w=Fu(n).filter(JK).map(QK),N=kN.begin("searchPseudoElements");M_(),Promise.all(w).then(function(){N(),x2(),v()}).catch(function(){N(),x2(),b()})})}}var tG={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=u5,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?Lt:r;Be.searchPseudoElements&&u5(s)}}},d5=!1,nG={mixout:function(){return{dom:{unwatch:function(){M_(),d5=!0}}}},hooks:function(){return{bootstrap:function(){s5(h2("mutationObserverCallbacks",{}))},noAuto:function(){_K()},watch:function(n){var r=n.observeMutationsRoot;d5?x2():s5(h2("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},h5=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),a=i[0],l=i.slice(1).join("-");if(a&&l==="h")return r.flipX=!0,r;if(a&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(a){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},rG={mixout:function(){return{parse:{transform:function(n){return h5(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=h5(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,a=n.iconWidth,l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),f={transform:"".concat(c," ").concat(u," ").concat(d)},p={transform:"translate(".concat(a/2*-1," -256)")},g={outer:l,inner:f,path:p};return{tag:"g",attributes:we({},g.outer),children:[{tag:"g",attributes:we({},g.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:we(we({},r.icon.attributes),g.path)}]}]}}}},Zb={x:0,y:0,width:"100%",height:"100%"};function f5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function sG(t){return t.tag==="g"?t.children:[t]}var iG={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?ox(s.split(" ").map(function(a){return a.trim()})):S_();return i.prefix||(i.prefix=wo()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.mask,l=n.maskId,c=n.transform,u=i.width,d=i.icon,f=a.width,p=a.icon,g=Xq({transform:c,containerWidth:f,iconWidth:u}),x={tag:"rect",attributes:we(we({},Zb),{},{fill:"white"})},v=d.children?{children:d.children.map(f5)}:{},b={tag:"g",attributes:we({},g.inner),children:[f5(we({tag:d.tag,attributes:we(we({},d.attributes),g.path)},v))]},w={tag:"g",attributes:we({},g.outer),children:[b]},N="mask-".concat(l||Kk()),C="clip-".concat(l||Kk()),P={tag:"mask",attributes:we(we({},Zb),{},{id:N,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,w]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:sG(p)},P]};return r.push(S,{tag:"rect",attributes:we({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(N,")")},Zb)}),{children:r,attributes:s}}}},aG={provides:function(e){var n=!1;vo.matchMedia&&(n=vo.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:we(we({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=we(we({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:we(we({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:we(we({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:we(we({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:we(we({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:we(we({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:we(we({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:we(we({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},oG={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},lG=[Zq,HK,UK,WK,qK,tG,nG,rG,iG,aG,oG];pK(lG,{mixoutsTo:as});as.noAuto;var Lh=as.config;as.library;as.dom;var O_=as.parse;as.findIconDefinition;as.toHtml;var cG=as.icon;as.layer;as.text;as.counter;function uG(t){return t=t-0,t===t}function __(t){return uG(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function dG(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Vc=new Map,hG=1e3;function fG(t){if(Vc.has(t))return Vc.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,a=t.slice(n,i).trim();if(a){const l=a.indexOf(":");if(l>0){const c=a.slice(0,l).trim(),u=a.slice(l+1).trim();if(c&&u){const d=__(c);e[d.startsWith("webkit")?dG(d):d]=u}}}n=i+1}if(Vc.size===hG){const s=Vc.keys().next().value;s&&Vc.delete(s)}return Vc.set(t,e),e}function D_(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(u=>D_(t,u)),s=e.attributes||{},i={};for(const[u,d]of Object.entries(s))switch(!0){case u==="class":{i.className=d;break}case u==="style":{i.style=fG(String(d));break}case u.startsWith("aria-"):case u.startsWith("data-"):{i[u.toLowerCase()]=d;break}default:i[__(u)]=d}const{style:a,"aria-label":l,...c}=n;return a&&(i.style=i.style?{...i.style,...a}:a),l&&(i["aria-label"]=l,i["aria-hidden"]="false"),t(e.tag,{...c,...i},...r)}var mG=D_.bind(null,be.createElement),m5=(t,e)=>{const n=k.useId();return t||(e?n:void 0)},pG=class{constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e=typeof process<"u"&&!1}catch{}this.scope=t,this.enabled=e}log(...t){this.enabled&&console.log(`[${this.scope}]`,...t)}warn(...t){this.enabled&&console.warn(`[${this.scope}]`,...t)}error(...t){this.enabled&&console.error(`[${this.scope}]`,...t)}},gG="searchPseudoElementsFullScan"in Lh?"7.0.0":"6.0.0",xG=Number.parseInt(gG)>=7,ch="fa",Fi={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},yG={left:"fa-pull-left",right:"fa-pull-right"},bG={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},vG={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},zi={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function wG(t){const e=Lh.cssPrefix||Lh.familyPrefix||ch;return e===ch?t:t.replace(new RegExp(`(?<=^|\\s)${ch}-`,"g"),`${e}-`)}function NG(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:a,spinPulse:l,spinReverse:c,pulse:u,fixedWidth:d,inverse:f,border:p,flip:g,size:x,rotation:v,pull:b,swapOpacity:w,rotateBy:N,widthAuto:C,className:P}=t,S=[];return P&&S.push(...P.split(" ")),e&&S.push(Fi.beat),n&&S.push(Fi.fade),r&&S.push(Fi.beatFade),s&&S.push(Fi.bounce),i&&S.push(Fi.shake),a&&S.push(Fi.spin),c&&S.push(Fi.spinReverse),l&&S.push(Fi.spinPulse),u&&S.push(Fi.pulse),d&&S.push(zi.fixedWidth),f&&S.push(zi.inverse),p&&S.push(zi.border),g===!0&&S.push(zi.flip),(g==="horizontal"||g==="both")&&S.push(zi.flipHorizontal),(g==="vertical"||g==="both")&&S.push(zi.flipVertical),x!=null&&S.push(vG[x]),v!=null&&v!==0&&S.push(bG[v]),b!=null&&S.push(yG[b]),w&&S.push(zi.swapOpacity),xG?(N&&S.push(zi.rotateBy),C&&S.push(zi.widthAuto),(Lh.cssPrefix||Lh.familyPrefix||ch)===ch?S:S.map(wG)):S}var jG=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function p5(t){if(t)return jG(t)?t:O_.icon(t)}function SG(t){return Object.keys(t)}var g5=new pG("FontAwesomeIcon"),I_={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},CG=new Set(Object.keys(I_)),F=be.forwardRef((t,e)=>{const n={...I_,...t},{icon:r,mask:s,symbol:i,title:a,titleId:l,maskId:c,transform:u}=n,d=m5(c,!!s),f=m5(l,!!a),p=p5(r);if(!p)return g5.error("Icon lookup is undefined",r),null;const g=NG(n),x=typeof u=="string"?O_.transform(u):u,v=p5(s),b=cG(p,{...g.length>0&&{classes:g},...x&&{transform:x},...v&&{mask:v},symbol:i,title:a,titleId:f,maskId:d});if(!b)return g5.error("Could not find icon",p),null;const{abstract:w}=b,N={ref:e};for(const C of SG(n))CG.has(C)||(N[C]=n[C]);return mG(w[0],N)});F.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Kp={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},Ul={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"]},Vr={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M32 64C19.1 64 7.4 71.8 2.4 83.8S.2 109.5 9.4 118.6L192 301.3 192 416c0 8.5 3.4 16.6 9.4 22.6l64 64c9.2 9.2 22.9 11.9 34.9 6.9S320 492.9 320 480l0-178.7 182.6-182.6c9.2-9.2 11.9-22.9 6.9-34.9S492.9 64 480 64L32 64z"]},kG={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},cx={prefix:"fas",iconName:"truck",icon:[576,512,[128666,9951],"f0d1","M0 96C0 60.7 28.7 32 64 32l288 0c35.3 0 64 28.7 64 64l0 32 50.7 0c17 0 33.3 6.7 45.3 18.7L557.3 192c12 12 18.7 28.3 18.7 45.3L576 384c0 35.3-28.7 64-64 64l-3.3 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64l-102.6 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64L64 448c-35.3 0-64-28.7-64-64L0 96zM512 288l0-50.7-45.3-45.3-50.7 0 0 96 96 0zM192 424a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm232 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},TG={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M32.5 96c0-12.9 7.8-24.6 19.8-29.6S78 64.2 87.1 73.4l160 160c12.5 12.5 12.5 32.8 0 45.3l-160 160c-9.2 9.2-22.9 11.9-34.9 6.9S32.5 428.9 32.5 416l0-320z"]},EN={prefix:"fas",iconName:"shoe-prints",icon:[576,512,[],"f54b","M296 192c-21.1-12.1-42.3-24.2-72-29.3l0-140.3C257.7 13 311.4 0 352 0 448 0 576 48 576 128s-119.6 96-176 96c-48 0-76-16-104-32zM128 32l48 0 0 128-48 0c-35.3 0-64-28.7-64-64s28.7-64 64-64zM232 320c28-16 56-32 104-32 56.4 0 176 16 176 96S384 512 288 512c-40.5 0-94.3-13-128-22.4l0-140.3c29.7-5.2 50.9-17.3 72-29.4zM64 480c-35.3 0-64-28.7-64-64s28.7-64 64-64l48 0 0 128-48 0z"]},EG={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M0 352L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120 0c-5.2 0-10.2 1.7-14.4 4.8L166.4 539.2c-4.2 3.1-9.2 4.8-14.4 4.8-13.3 0-24-10.7-24-24l0-72-32 0c-53 0-96-43-96-96z"]},MG={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},Gp=MG,PG={prefix:"fas",iconName:"percent",icon:[448,512,[62101,62785,"percentage"],"25","M192 128a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM448 384a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM438.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-384 384c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l384-384z"]},AG={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Wn=AG,OG={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8c-22.4 31.4-35.5 69.8-35.5 111.2 0 106 86 192 192 192 41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3c22.4-31.4 35.5-69.8 35.5-111.2 0-106-86-192-192-192-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0 256 256 0 1 1 -512 0z"]},_G={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},DG=_G,IG={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},Ws={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},LG={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M224 96c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c9.2 9.2 22.9 11.9 34.9 6.9S224 428.9 224 416l0-320z"]},b2={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},ls={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},L_={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},RG={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M345 273c9.4-9.4 9.4-24.6 0-33.9L201 95c-6.9-6.9-17.2-8.9-26.2-5.2S160 102.3 160 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L345 273zm7 143c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0z"]},FG=RG,zG={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Ms=zG,e1={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},MN={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]},VG={prefix:"fas",iconName:"table",icon:[448,512,[],"f0ce","M256 160l0 96 128 0 0-96-128 0zm-64 0l-128 0 0 96 128 0 0-96zM0 320L0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-96zm384 0l-128 0 0 96 128 0 0-96zM192 416l0-96-128 0 0 96 128 0z"]},R_={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},ux={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},$G={prefix:"fas",iconName:"strikethrough",icon:[512,512,[],"f0cc","M96 157.5C96 88.2 152.2 32 221.5 32L368 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L221.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61l44.1 5.5 222 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l83.1 0C103 204.6 96 181.8 96 157.5zM349.2 336l65.5 0c.9 6.1 1.4 12.2 1.4 18.5 0 69.3-56.2 125.5-125.5 125.5L144 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-6.4-1-12.7-2.8-18.5z"]},BG={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},HG={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M64 64C64 28.7 92.7 0 128 0L341.5 0c17 0 33.3 6.7 45.3 18.7l42.5 42.5c12 12 18.7 28.3 18.7 45.3l0 37.5-384 0 0-80zM0 256c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 96c0 17.7-14.3 32-32 32l-32 0 0 64c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-64-32 0c-17.7 0-32-14.3-32-32l0-96zM128 416l0 32 256 0 0-96-256 0 0 64zM456 272a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},UG={prefix:"fas",iconName:"location-arrow",icon:[512,512,[],"f124","M477.9 75.5c4.5-11.8 1.7-25.2-7.2-34.1s-22.3-11.8-34.1-7.2l-416 160C7.9 199-.3 211.2 0 224.7s9.1 25.4 21.9 29.6l176.8 58.9 58.9 176.8c4.3 12.8 16.1 21.6 29.6 21.9s25.7-7.9 30.6-20.5l160-416z"]},WG={prefix:"fas",iconName:"venus-mars",icon:[640,512,[9892],"f228","M480-64c-17.7 0-32 14.3-32 32S462.3 0 480 0L530.7 0 474 56.7c-26.3-15.7-57.1-24.7-90-24.7-35.4 0-68.4 10.5-96 28.5-27.6-18-60.6-28.5-96-28.5-97.2 0-176 78.8-176 176 0 86.3 62.1 158.1 144 173.1l0 34.9-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-34.9c23.3-4.3 44.9-13.1 64-25.6 27.6 18 60.6 28.5 96 28.5 97.2 0 176-78.8 176-176 0-41.1-14.1-79-37.8-109L576 45.3 576 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L480-64zM336 309.2c20.2-28.6 32-63.5 32-101.2s-11.8-72.6-32-101.2c14.6-6.9 30.8-10.8 48-10.8 61.9 0 112 50.1 112 112S445.9 320 384 320c-17.2 0-33.5-3.9-48-10.8zM288 150.3c10.2 16.9 16 36.6 16 57.7s-5.8 40.9-16 57.7c-10.2-16.9-16-36.6-16-57.7s5.8-40.9 16-57.7zm-48-43.5c-20.2 28.6-32 63.5-32 101.2s11.8 72.6 32 101.2c-14.5 6.9-30.8 10.8-48 10.8-61.9 0-112-50.1-112-112S130.1 96 192 96c17.2 0 33.5 3.9 48 10.8z"]},qG={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l32 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l224 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM288 160c0 35.3-28.7 64-64 64l-96 0 0-128 96 0c35.3 0 64 28.7 64 64zM128 416l0-128 128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0z"]},KG={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM342 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 315.2 137 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},t1=KG,PN={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M560.3 237.2c10.4 11.8 28.3 14.4 41.8 5.5 14.7-9.8 18.7-29.7 8.9-44.4l-48-72c-2.8-4.2-6.6-7.7-11.1-10.2L351.4 4.7c-19.3-10.7-42.8-10.7-62.2 0L88.8 116c-5.4 3-9.7 7.4-12.6 12.8L27.7 218.7c-12.6 23.4-3.8 52.5 19.6 65.1l33 17.7 0 53.3c0 23 12.4 44.3 32.4 55.7l176 99.7c19.6 11.1 43.5 11.1 63.1 0l176-99.7c20.1-11.4 32.4-32.6 32.4-55.7l0-117.5zm-240-9.8L170.2 144 320.3 60.6 470.4 144 320.3 227.4zm-41.5 50.2l-21.3 46.2-165.8-88.8 25.4-47.2 161.7 89.8z"]},GG={prefix:"fas",iconName:"image",icon:[448,512,[],"f03e","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z"]},YG={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"]},en={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},XG={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]},QG={prefix:"fas",iconName:"money-bill-wave",icon:[512,512,[],"f53a","M0 419.6L0 109.5c0-23.2 24.1-38.6 46.3-32 87.7 26.2 149.7 5.5 212.1-15.3 64.5-21.5 129.4-43.1 223.3-13.1 18.5 5.9 30.3 23.8 30.3 43.3l0 310.1c0 23.2-24.1 38.6-46.2 32-87.7-26.2-149.8-5.5-212.1 15.3-64.5 21.5-129.4 43.1-223.3 13.1-18.5-5.9-30.3-23.8-30.3-43.3zM336 256c0-53-35.8-96-80-96s-80 43-80 96 35.8 96 80 96 80-43 80-96zM120 413.6c4.4 0 7.9-3.8 7.2-8.1-4.6-27.8-27-49.5-55.2-53-4.4-.5-8 3.1-8 7.5l0 39.9c0 3.6 2.4 6.8 6 7.7 17.9 4.2 34.3 6.1 50 6.1zm318.5-51.1c5 .8 9.5-3 9.5-8l0-42.6c0-4.4-3.6-8.1-8-7.5-25.2 3.1-45.9 20.9-53.2 44.6-1.4 4.7 2.3 9.1 7.2 9.2 14.2 .4 29 1.7 44.4 4.3zM448 152l0-39.9c0-3.6-2.5-6.8-6-7.7-17.9-4.2-34.3-6.1-50-6.1-4.4 0-7.9 3.8-7.2 8.1 4.6 27.8 27 49.5 55.2 53 4.4 .5 8-3.1 8-7.5zM125.2 162.9c1.4-4.7-2.3-9.1-7.2-9.2-14.2-.4-29-1.7-44.4-4.3-5-.8-9.5 3-9.5 8L64 200c0 4.4 3.6 8.1 8 7.5 25.2-3.1 45.9-20.9 53.2-44.6z"]},zu={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},F_={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 448l384 0c35.3 0 64-28.7 64-64l0-240c0-35.3-28.7-64-64-64L298.7 80c-6.9 0-13.7-2.2-19.2-6.4L241.1 44.8C230 36.5 216.5 32 202.7 32L64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64z"]},JG={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},ZG={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M80 160c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-48 0c-17.7 0-32-14.3-32-32L0 192c0-17.7 14.3-32 32-32l48 0zM270.6 16C297.9 16 320 38.1 320 65.4l0 4.2c0 6.8-1.3 13.6-3.8 19.9L288 160 448 160c26.5 0 48 21.5 48 48 0 19.7-11.9 36.6-28.9 44 17 7.4 28.9 24.3 28.9 44 0 23.4-16.8 42.9-39 47.1 4.4 7.3 7 15.8 7 24.9 0 22.2-15 40.8-35.4 46.3 2.2 5.5 3.4 11.5 3.4 17.7 0 26.5-21.5 48-48 48l-87.9 0c-36.3 0-71.6-12.4-99.9-35.1L184 435.2c-15.2-12.1-24-30.5-24-50l0-186.6c0-14.9 3.5-29.6 10.1-42.9L226.3 43.3C234.7 26.6 251.8 16 270.6 16z"]},eY={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},tY={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},v2=tY,z_={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},AN={prefix:"fas",iconName:"shirt",icon:[640,512,[128085,"t-shirt","tshirt"],"f553","M320.2 112c44.2 0 80-35.8 80-80l53.5 0c17 0 33.3 6.7 45.3 18.7L617.6 169.4c12.5 12.5 12.5 32.8 0 45.3l-50.7 50.7c-12.5 12.5-32.8 12.5-45.3 0l-41.4-41.4 0 224c0 35.3-28.7 64-64 64l-192 0c-35.3 0-64-28.7-64-64l0-224-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0L22.9 214.6c-12.5-12.5-12.5-32.8 0-45.3L141.5 50.7c12-12 28.3-18.7 45.3-18.7l53.5 0c0 44.2 35.8 80 80 80z"]},Vu={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"]},Cg={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M128 0C110.3 0 96 14.3 96 32l0 32-32 0C28.7 64 0 92.7 0 128l0 48 448 0 0-48c0-35.3-28.7-64-64-64l-32 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32-128 0 0-32c0-17.7-14.3-32-32-32zM0 224L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192-448 0z"]},nY={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0-133.3 320 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0 133.3-320-64 0c-17.7 0-32-14.3-32-32z"]},ss={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]},kg={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]},n1={prefix:"fas",iconName:"book-journal-whills",icon:[448,512,["journal-whills"],"f66a","M96 512l320 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-66.7c18.6-6.6 32-24.4 32-45.3l0-288c0-26.5-21.5-48-48-48L96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96zM64 416c0-17.7 14.3-32 32-32l256 0 0 64-256 0c-17.7 0-32-14.3-32-32zM274.1 99.2c2.6-2.6 6.7-3.1 9.9-1.1 32.1 20 53.4 55.6 53.4 96.2 0 62.6-50.7 113.3-113.3 113.3S110.7 256.9 110.7 194.3c0-40.6 21.4-76.2 53.4-96.2 3.1-2 7.2-1.5 9.9 1.1s3.1 6.7 1.2 9.8c-5.2 8.6-8.2 18.7-8.2 29.5 0 15.1 5.9 28.8 15.5 39.1 2.5 2.7 2.9 6.7 .9 9.7-4.7 7.4-7.4 16.1-7.4 25.5 0 21.6 14.3 39.9 34 45.9l1-24.8c-7.1-4.4-11.8-12.2-11.8-21.1 0-9.6 5.5-18 13.5-22.1l3.3-81.8c.2-4.3 3.7-7.7 8-7.7s7.8 3.4 8 7.7l3.3 81.8c8 4.1 13.5 12.4 13.5 22.1 0 8.9-4.7 16.7-11.8 21.1l1 24.8c19.6-6 33.9-24.1 34-45.6l0-.6c-.1-9.3-2.7-17.9-7.4-25.2-1.9-3.1-1.6-7.1 .9-9.7 9.6-10.2 15.5-23.9 15.5-39.1 0-10.8-3-20.9-8.2-29.5-1.9-3.2-1.4-7.2 1.2-9.8z"]},Ji={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},ON={prefix:"fas",iconName:"ticket",icon:[576,512,[127903],"f145","M64 64C28.7 64 0 92.7 0 128l0 64C0 200.8 7.4 207.7 15.7 210.6 34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6-18.8-6.5-32.3-24.4-32.3-45.4s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zM416 336l0-160-256 0 0 160 256 0zM112 160c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32l0-192z"]},rY={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M0 72C0 58.8 10.7 48 24 48l48 0c13.3 0 24 10.7 24 24l0 104 24 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-80-24 0C10.7 96 0 85.3 0 72zM30.4 301.2C41.8 292.6 55.7 288 70 288l4.9 0c33.7 0 61.1 27.4 61.1 61.1 0 19.6-9.4 37.9-25.2 49.4l-24 17.5 33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-90.7 0C13.1 464 0 450.9 0 434.7 0 425.3 4.5 416.5 12.1 411l70.5-51.3c3.4-2.5 5.4-6.4 5.4-10.6 0-7.2-5.9-13.1-13.1-13.1L70 336c-3.9 0-7.7 1.3-10.8 3.6L38.4 355.2c-10.6 8-25.6 5.8-33.6-4.8S-1 324.8 9.6 316.8l20.8-15.6zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},sY={prefix:"fas",iconName:"arrow-right",icon:[512,512,[8594],"f061","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Kn={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},Ct=Kn,V_=Kn,iY={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},Wl=iY,aY={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},oY={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64L0 96zm0 48l576 0 0 272c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 144zM247.3 416c20.2 0 35.3-19.4 22.4-35-14.7-17.7-36.9-29-61.7-29l-64 0c-24.8 0-47 11.3-61.7 29-12.9 15.6 2.2 35 22.4 35l142.5 0zM176 312a56 56 0 1 0 0-112 56 56 0 1 0 0 112zM360 208c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z"]},$_={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},lY={prefix:"fas",iconName:"clock-rotate-left",icon:[576,512,["history"],"f1da","M288 64c106 0 192 86 192 192S394 448 288 448c-65.2 0-122.9-32.5-157.6-82.3-10.1-14.5-30.1-18-44.6-7.9s-18 30.1-7.9 44.6C124.1 468.6 201 512 288 512 429.4 512 544 397.4 544 256S429.4 0 288 0C202.3 0 126.5 42.1 80 106.7L80 80c0-17.7-14.3-32-32-32S16 62.3 16 80l0 112c0 17.7 14.3 32 32 32l24.6 0c.5 0 1 0 1.5 0l86 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-38.3 0C154.9 102.6 217 64 288 64zm24 88c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1z"]},bu={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},cY={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},_N={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},Xr={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},uY={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},DN=uY,dY={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},qs={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},hY={prefix:"fas",iconName:"underline",icon:[384,512,[],"f0cd","M0 32C0 14.3 14.3 0 32 0L96 0c17.7 0 32 14.3 32 32S113.7 64 96 64l0 160c0 53 43 96 96 96s96-43 96-96l0-160c-17.7 0-32-14.3-32-32S270.3 0 288 0l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 160c0 88.4-71.6 160-160 160S32 312.4 32 224L32 64C14.3 64 0 49.7 0 32zM0 480c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32z"]},x5={prefix:"fas",iconName:"robot",icon:[640,512,[129302],"f544","M352 0c0-17.7-14.3-32-32-32S288-17.7 288 0l0 64-96 0c-53 0-96 43-96 96l0 224c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-224c0-53-43-96-96-96l-96 0 0-64zM160 368c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zm120 0c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zm120 0c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zM224 176a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm144 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM64 224c0-17.7-14.3-32-32-32S0 206.3 0 224l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96zm544-32c-17.7 0-32 14.3-32 32l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32z"]},xa={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},$r=xa,fY={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]},jo={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M369.4 128l-34.3-48-222.1 0-34.3 48 290.7 0zM0 148.5c0-13.3 4.2-26.3 11.9-37.2L60.9 42.8C72.9 26 92.3 16 112.9 16l222.1 0c20.7 0 40.1 10 52.1 26.8l48.9 68.5c7.8 10.9 11.9 23.9 11.9 37.2L448 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 148.5z"]},IN={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},LN={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z"]},w2={prefix:"fas",iconName:"tag",icon:[512,512,[127991],"f02b","M32.5 96l0 149.5c0 17 6.7 33.3 18.7 45.3l192 192c25 25 65.5 25 90.5 0L483.2 333.3c25-25 25-65.5 0-90.5l-192-192C279.2 38.7 263 32 246 32L96.5 32c-35.3 0-64 28.7-64 64zm112 16a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},r1={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},mY={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},s1={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M200 48l112 0c4.4 0 8 3.6 8 8l0 40-128 0 0-40c0-4.4 3.6-8 8-8zm-56 8l0 40-80 0C28.7 96 0 124.7 0 160l0 96 512 0 0-96c0-35.3-28.7-64-64-64l-80 0 0-40c0-30.9-25.1-56-56-56L200 0c-30.9 0-56 25.1-56 56zM512 304l-192 0 0 16c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-16-192 0 0 112c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-112z"]},B_={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},RN={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},N2=RN,H_={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},pY={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M96.5 0c-35.3 0-64 28.7-64 64l0 384c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-96 78.1 0-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l72-72c9.4-9.4 9.4-24.6 0-33.9l-72-72c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-78.1 0 0-133.5c0-17-6.7-33.3-18.7-45.3L291.2 18.7C279.2 6.7 263 0 246 0L96.5 0zM358 176l-93.5 0c-13.3 0-24-10.7-24-24L240.5 58.5 358 176zM224.5 328c0-13.3 10.7-24 24-24l104 0 0 48-104 0c-13.3 0-24-10.7-24-24z"]},gY={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},xY={prefix:"fas",iconName:"arrow-pointer",icon:[448,512,["mouse-pointer"],"f245","M77.3 2.5c8.1-4.1 17.9-3.2 25.1 2.3l320 239.9c8.3 6.2 11.6 17 8.4 26.8s-12.4 16.4-22.8 16.4l-152.3 0 88.9 177.7c7.9 15.8 1.5 35-14.3 42.9s-35 1.5-42.9-14.3l-88.9-177.7-91.3 121.8c-6.2 8.3-17 11.6-26.8 8.4S64 434.3 64 424L64 24c0-9.1 5.1-17.4 13.3-21.5z"]},yY=xY,bY={prefix:"fas",iconName:"cake-candles",icon:[448,512,[127874,"birthday-cake","cake"],"f1fd","M86.4-10.5L61.8 31.6C58 38.1 56 45.6 56 53.2L56 56c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L105.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zm128 0L189.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L233.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zM317.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L361.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5L317.8 31.6zM128 160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.5C26.7 226.6 0 262.2 0 304l0 20.8c20.9 1.3 41.6 7.3 60.3 18l7.1 4.1c26.3 15 58.9 13.4 83.6-4.2 43.7-31.2 102.3-31.2 146 0 24.6 17.6 57.3 19.3 83.6 4.2l7.1-4.1c18.7-10.7 39.3-16.7 60.3-18l0-20.8c0-41.8-26.7-77.4-64-90.5l0-53.5c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48zM448 373c-12.7 1.2-25.1 5-36.5 11.5l-7.1 4.1c-42.6 24.3-95.4 21.7-135.3-6.8-27-19.3-63.2-19.3-90.2 0-39.9 28.5-92.7 31.2-135.3 6.8l-7.1-4.1C25.1 378 12.7 374.1 0 373l0 75c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-75z"]},vY=bY,wY={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},NY=wY,jY={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M232.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 149.8C5.4 145.8 0 137.3 0 128s5.4-17.9 13.9-21.8L232.5 5.2zM48.1 218.4l164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 277.8C5.4 273.8 0 265.3 0 256s5.4-17.9 13.9-21.8l34.1-15.8zM13.9 362.2l34.1-15.8 164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 405.8C5.4 401.8 0 393.3 0 384s5.4-17.9 13.9-21.8z"]};function SY(){const[t,e]=k.useState(!1),[n,r]=k.useState({email:"",password:""}),[s,i]=k.useState(!1),[a,l]=k.useState(null),c=tt(),{login:u}=ac(),d=p=>{const{name:g,value:x}=p.target;r(v=>({...v,[g]:x}))},f=async p=>{p.preventDefault(),e(!0);try{await u(Kt.ADMIN,n.email,n.password),c("/dashboard")}catch(g){g.response?.data?.message?l(g.response.data.message):g.response?.status===401?l("Email hoc mt khu khng ng!"):g.code==="ECONNABORTED"?l("Timeout! Vui lng th li."):l("C li xy ra, vui lng th li!")}finally{e(!1)}};return o.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-2xl rounded-2xl p-[2.5rem] border-t-4 border-blue-500",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white text-4xl",children:""})}),o.jsx("h2",{className:"text-[2.2rem] font-bold text-slate-800 mb-2",children:"Qun Tr Vin"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Admin & Staff Portal"}),o.jsx("div",{className:"px-4 py-3 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-[1.2rem] text-amber-700 flex items-center justify-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Khu vc hn ch - Khng chia s thng tin ng nhp"]})})]}),o.jsxs("form",{onSubmit:f,className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"admin@company.com",value:n.email,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",name:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{i(!s)},children:s?o.jsx(F,{icon:Ws,className:"text-gray-600"}):o.jsx(F,{icon:IN,className:"text-gray-600"})})]})]}),a&&o.jsx("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded",children:o.jsx("p",{className:"text-sm text-red-700 font-medium",children:a})}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-semibold transition-all mt-[1.8rem] ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,type:"submit",disabled:t,children:t?"ang xc thc...":"ng nhp qun tr"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Ze,{to:"/",className:"text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Lin h IT Support"})})]})})}function Po(){return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 flex items-center justify-center bg-[#4a4a4a52] z-[999]",children:o.jsxs("div",{className:" flex justify-center items-center space-x-2 p-4",children:[o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full"}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.2s"}})]})})}function CY(t={}){const{nonce:e,locale:n,onScriptLoadSuccess:r,onScriptLoadError:s}=t,[i,a]=k.useState(!1),l=k.useRef(r);l.current=r;const c=k.useRef(s);return c.current=s,k.useEffect(()=>{const u=document.createElement("script");return u.src="https://accounts.google.com/gsi/client",n&&(u.src+=`?hl=${n}`),u.async=!0,u.defer=!0,u.nonce=e,u.onload=()=>{var d;a(!0),(d=l.current)===null||d===void 0||d.call(l)},u.onerror=()=>{var d;a(!1),(d=c.current)===null||d===void 0||d.call(c)},document.body.appendChild(u),()=>{document.body.removeChild(u)}},[e]),i}const U_=k.createContext(null);function kY({clientId:t,nonce:e,locale:n,onScriptLoadSuccess:r,onScriptLoadError:s,children:i}){const a=CY({nonce:e,onScriptLoadSuccess:r,onScriptLoadError:s,locale:n}),l=k.useMemo(()=>({locale:n,clientId:t,scriptLoadedSuccessfully:a}),[t,a]);return be.createElement(U_.Provider,{value:l},i)}function TY(){const t=k.useContext(U_);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function EY({flow:t="implicit",scope:e="",onSuccess:n,onError:r,onNonOAuthError:s,overrideScope:i,state:a,...l}){const{clientId:c,scriptLoadedSuccessfully:u}=TY(),d=k.useRef(),f=k.useRef(n);f.current=n;const p=k.useRef(r);p.current=r;const g=k.useRef(s);g.current=s,k.useEffect(()=>{var b,w;if(!u)return;const N=t==="implicit"?"initTokenClient":"initCodeClient",C=(w=(b=window?.google)===null||b===void 0?void 0:b.accounts)===null||w===void 0?void 0:w.oauth2[N]({client_id:c,scope:i?e:`openid profile email ${e}`,callback:P=>{var S,A;if(P.error)return(S=p.current)===null||S===void 0?void 0:S.call(p,P);(A=f.current)===null||A===void 0||A.call(f,P)},error_callback:P=>{var S;(S=g.current)===null||S===void 0||S.call(g,P)},state:a,...l});d.current=C},[c,u,t,e,a]);const x=k.useCallback(b=>{var w;return(w=d.current)===null||w===void 0?void 0:w.requestAccessToken(b)},[]),v=k.useCallback(()=>{var b;return(b=d.current)===null||b===void 0?void 0:b.requestCode()},[]);return t==="implicit"?x:v}var Vi={},ps={},Jo={},Zo={},Id={},y5;function MY(){if(y5)return Id;y5=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.createScriptEle=void 0;const t=(e,n)=>new Promise(r=>{var s;const a=document.getElementsByTagName("script")[0];if(document.getElementById(e)){r(void 0);return}const l=document.createElement("script");if(l.id=e,l.src=n,l.onload=r,a)(s=a.parentNode)===null||s===void 0||s.insertBefore(l,a);else{const c=document.body.childNodes;document.body.insertBefore(l,c.item(c.length-1))}});return Id.createScriptEle=t,Id}var i1={},b5;function PY(){return b5||(b5=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.paramsToObject=t.objectToParams=t.isObject=void 0;const e=s=>Object.prototype.toString.call(s)==="[object Object]";t.isObject=e;const n=s=>!(0,t.isObject)(s)||Object.keys(s).length===0?"":"?"+Object.keys(s).map(i=>`${i}=${encodeURIComponent(s[i])}`).join("&");t.objectToParams=n;const r=s=>s?.replace(/^\?/,"").split("&").reduce((i,a)=>{if(!a)return i;const[l,c]=a.split("=");return Object.assign(Object.assign({},i),{[l]:decodeURIComponent(c)})},{})||{};t.paramsToObject=r})(i1)),i1}var Ld={},v5;function AY(){if(v5)return Ld;v5=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.isFacebookApp=void 0;const t=()=>{if(typeof window>"u")return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1};return Ld.isFacebookApp=t,Ld}var w5;function FN(){return w5||(w5=1,(function(t){var e=Zo&&Zo.__createBinding||(Object.create?(function(r,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,a,l)}):(function(r,s,i,a){a===void 0&&(a=i),r[a]=s[i]})),n=Zo&&Zo.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(MY(),t),n(PY(),t),n(AY(),t)})(Zo)),Zo}var N5;function W_(){return N5||(N5=1,(function(t){var e=Jo&&Jo.__awaiter||function(s,i,a,l){function c(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function f(x){try{g(l.next(x))}catch(v){d(v)}}function p(x){try{g(l.throw(x))}catch(v){d(v)}}function g(x){x.done?u(x.value):c(x.value).then(f,p)}g((l=l.apply(s,i||[])).next())})},n=Jo&&Jo.__rest||function(s,i){var a={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&i.indexOf(l)<0&&(a[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)i.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(a[l[c]]=s[l[c]]);return a};Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookLoginClient=t.SDK_SCRIPT_ELE_ID=void 0;const r=FN();t.SDK_SCRIPT_ELE_ID="facebook-jssdk",t.FacebookLoginClient={getFB:()=>window.FB?window.FB:(console.warn("FB not found"),null),getLoginStatus(s,i=!1){const a=this.getFB();if(!a){s({status:"unknown"});return}a.getLoginStatus(s,i)},getProfile(s,i){var a;(a=this.getFB())===null||a===void 0||a.api("me",i,s)},init(s){var i;(i=this.getFB())===null||i===void 0||i.init(s)},clear(){window.FB=null;const s=document.getElementById(t.SDK_SCRIPT_ELE_ID);s&&s.remove()},isRedirected(s){var i,a;const l=(0,r.paramsToObject)(window.location.search);return((i=l.state===s?.state)!==null&&i!==void 0?i:"facebookdirect")&&l[(a=s?.response_type)!==null&&a!==void 0?a:""]!==void 0},loadSdk(s,i){return e(this,void 0,void 0,function*(){yield(0,r.createScriptEle)(t.SDK_SCRIPT_ELE_ID,`https://connect.facebook.net/${s}/sdk${i?"/xfbml.customerchat":""}.js`)})},redirectToDialog(s,i){var{ignoreSdkError:a}=i,l=n(i,["ignoreSdkError"]);window.location.href=`https://www.facebook.com/dialog/oauth${(0,r.objectToParams)(Object.assign(Object.assign({},s),l))}`},login(s,i){var a,{ignoreSdkError:l}=i,c=n(i,["ignoreSdkError"]);try{(a=this.getFB())===null||a===void 0||a.login(s,c)}catch(u){if(l)return;throw u}},logout(s){this.getLoginStatus(i=>{var a;i.status==="connected"?(a=this.getFB())===null||a===void 0||a.logout(s):s()})}}})(Jo)),Jo}var j5;function S5(){if(j5)return ps;j5=1;var t=ps&&ps.__createBinding||(Object.create?(function(c,u,d,f){f===void 0&&(f=d);var p=Object.getOwnPropertyDescriptor(u,d);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,f,p)}):(function(c,u,d,f){f===void 0&&(f=d),c[f]=u[d]})),e=ps&&ps.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),n=ps&&ps.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&t(u,c,d);return e(u,c),u},r=ps&&ps.__awaiter||function(c,u,d,f){function p(g){return g instanceof d?g:new d(function(x){x(g)})}return new(d||(d=Promise))(function(g,x){function v(N){try{w(f.next(N))}catch(C){x(C)}}function b(N){try{w(f.throw(N))}catch(C){x(C)}}function w(N){N.done?g(N.value):p(N.value).then(v,b)}w((f=f.apply(c,u||[])).next())})};Object.defineProperty(ps,"__esModule",{value:!0});const s=n(rc()),i=W_(),a=FN();function l(c){var u,d;const{appId:f,language:p="en_US",scope:g="public_profile, email",fields:x="name,email,picture",onSuccess:v,onFail:b,onProfileSuccess:w,className:N,style:C,children:P="Login with Facebook",render:S,autoLoad:A=!1,useRedirect:M=!1,useCustomerChat:T=!1}=c,_=Object.assign(Object.assign({version:"v16.0",xfbml:!1,cookie:!1,localStorage:!0},c.initParams),{appId:f}),I=Object.assign(Object.assign({redirect_uri:typeof window<"u"?location.origin+location.pathname:"/",state:"facebookdirect",response_type:"code"},c.dialogParams),{client_id:f}),D=Object.assign(Object.assign({return_scopes:!1,ignoreSdkError:!1},c.loginOptions),{auth_nonce:typeof((u=c.loginOptions)===null||u===void 0?void 0:u.auth_nonce)=="function"?c.loginOptions.auth_nonce():(d=c.loginOptions)===null||d===void 0?void 0:d.auth_nonce,scope:g});(0,s.useEffect)(()=>{R()},[]);const R=()=>r(this,void 0,void 0,function*(){yield i.FacebookLoginClient.loadSdk(p,T),window.fbAsyncInit=()=>{i.FacebookLoginClient.init(_);const q=i.FacebookLoginClient.isRedirected(I);if(q===!1&&A){U();return}q===!0&&M&&G()}}),G=()=>{i.FacebookLoginClient.login(q=>{if(!q.authResponse){b&&b({status:"loginCancelled"});return}v&&v(q.authResponse),w&&i.FacebookLoginClient.getProfile(w,{fields:x})},Object.assign(Object.assign({},D),{scope:g}))},U=()=>{if((0,a.isFacebookApp)()||M){i.FacebookLoginClient.redirectToDialog(I,D);return}if(!window.FB){b&&b({status:"facebookNotLoaded"});return}G()};return S?S({onClick:U,logout:i.FacebookLoginClient.logout}):s.default.createElement("button",{type:"button",onClick:U,className:N,style:C},P)}return ps.default=l,ps}var el={},a1={},C5;function OY(){return C5||(C5=1,Object.defineProperty(a1,"__esModule",{value:!0})),a1}var o1={},k5;function _Y(){return k5||(k5=1,Object.defineProperty(o1,"__esModule",{value:!0})),o1}var l1={},T5;function DY(){return T5||(T5=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LoginStatus=void 0,(function(e){e.Connected="connected",e.NotAuthorized="not_authorized",e.Unknown="unknown"})(t.LoginStatus||(t.LoginStatus={}))})(l1)),l1}var E5;function IY(){return E5||(E5=1,(function(t){var e=el&&el.__createBinding||(Object.create?(function(r,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,a,l)}):(function(r,s,i,a){a===void 0&&(a=i),r[a]=s[i]})),n=el&&el.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(OY(),t),n(_Y(),t),n(DY(),t)})(el)),el}var M5;function LY(){return M5||(M5=1,(function(t){var e=Vi&&Vi.__createBinding||(Object.create?(function(i,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,c,u)}):(function(i,a,l,c){c===void 0&&(c=l),i[c]=a[l]})),n=Vi&&Vi.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,i,l)},r=Vi&&Vi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(S5());n(FN(),t),n(IY(),t),n(S5(),t),n(W_(),t),t.default=s.default})(Vi)),Vi}var RY=LY();const FY=ff(RY),zY="/manage-sell-client/assets/google-logo-b5LCHsnO.png",VY="/manage-sell-client/assets/facebook-logo-VxUvYPbK.png";function $Y(){const[t,e]=k.useState(!1),[n,r]=k.useState({email:"",password:""}),[s,i]=k.useState(null),a=tt(),c=ur().state?.from||"/",{login:u}=ac(),[d,f]=k.useState(!1),[p,g]=k.useState(!1),[x,v]=k.useState(!1),b=Xs(),w=M=>{const{name:T,value:_}=M.target;r(I=>({...I,[T]:_}))},N=async()=>{try{if(x){const M=JSON.parse(localStorage.getItem("localCart")||"[]");M.length>0&&(await fe.post("/api/v1/cart/merge",{localItems:M})).status&&(ce.success(" gp gi hng ca bn!"),localStorage.removeItem("localCart"))}c==="/checkout"?a("/cart/detail",{replace:!0}):a(c,{replace:!0})}catch{ce.error("Li khi gp gi hng!"),a(c,{replace:!0})}},C=async M=>{M.preventDefault(),e(!0),i(null);try{await u(Kt.USER,n.email,n.password),await N()}catch(T){if(T.message?.includes(Kt.ADMIN||Kt.STAFF)){g(!0);return}i(T?.message||"ng nhp tht bi!")}finally{e(!1)}},P=EY({onSuccess:async M=>{try{const{credential:T}=M;(await fe.post("/api/v1/auth/login-google",{idToken:T})).status&&(await b.invalidateQueries({queryKey:["user"]}),await N())}catch(T){console.log(T),ce.error(T.message||"C li xy ra. Vui lng thc hin li!")}},onError:()=>{ce.error("ng nhp Google tht bi. Vui lng th li!")}}),S=async M=>{try{const{accessToken:T}=M;(await fe.post("/api/v1/auth/login-facebook",{accessToken:T})).status&&(await b.invalidateQueries({queryKey:["user"]}),await N())}catch(T){console.log(T),ce.error(T.message||" c li xy ra. Vui lng thc hin li!")}},A=async()=>{console.log("ng nhp vi facebook tht bi. Vui lng thc hin li!")};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsx("button",{type:"button",className:"absolute top-4 right-4 w-16 h-16 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-500 cursor-pointer",onClick:()=>a("/"),children:o.jsx(F,{icon:Ct})}),o.jsxs("div",{className:"w-[90%] md:max-w-3xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng nhp"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem]",children:"Cho mng bn tr li! "})]}),o.jsxs("form",{onSubmit:C,className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",id:"email",placeholder:"your@email.com",value:n.email,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:w,onFocus:()=>i(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",name:"password",id:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:w,onFocus:()=>i(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(F,{icon:Ws,className:"text-gray-600"}):o.jsx(F,{icon:IN,className:"text-gray-600"})})]})]}),s&&o.jsx("p",{className:"text-[1.4rem] text-red-600",children:s}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[o.jsx("label",{htmlFor:"mergeCart",children:"Gp gi hng khi ang nhp"}),o.jsx("input",{type:"checkbox",id:"mergeCart",name:"mergeCart",checked:x,className:"",style:{scale:1.2},onChange:M=>v(M.target.checked)})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:t,children:t?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng nhp"})]}),o.jsxs("div",{className:"mt-6 space-y-3 text-center ",children:[o.jsx(Ze,{to:"/",className:"block text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Qun mt khu?"}),o.jsxs("div",{className:"flex items-center gap-2.5 my-5 md:flex-row flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2.5 border border-gray-300 p-2.5 rounded-md text-[1.4rem] w-full justify-center cursor-pointer",onClick:()=>P(),children:[o.jsx("img",{src:zY,alt:"google logo",className:"w-8 h-8 object-cover"}),"ng nhp vi Google"]}),o.jsx(FY,{appId:"1398551758481059",scope:"public_profile,email",fields:"id,name,email,picture",onSuccess:S,onFail:A,render:({onClick:M})=>o.jsxs("button",{type:"button",className:"flex items-center gap-2.5 border border-gray-300 p-2.5 rounded-md text-[1.4rem] w-full justify-center cursor-pointer",onClick:M,children:[o.jsx("img",{src:VY,alt:"google logo",className:"w-8 h-8 object-cover "}),"ng nhp vi Facebook"]})})]}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Cha c ti khon?"," ",o.jsx(Ze,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng k ngay"})]})})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>a("/admin/login"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>g(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),t&&o.jsx(Po,{})]})}function BY(){return o.jsx("div",{children:"AboutPage"})}function HY(){return o.jsx("div",{className:"overflow-hidden",children:o.jsx(ic,{})})}const zN="/manage-sell-client/assets/avatar-default-zyCK33tM.png";function UY(){const{user:t}=kt(),{logout:e}=ac(),n=tt(),[r,s]=k.useState(!1),i=k.useRef(null),a=async()=>{e(),n("/")};return k.useEffect(()=>{function l(c){i.current&&!i.current.contains(c.target)&&s(!1)}return r&&window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[r]),o.jsxs("header",{className:"fixed w-full h-[6rem] bg-white backdrop-blur-md bg-opacity-95 flex items-center justify-between px-[2rem] shadow-lg border-b border-gray-200 z-[500]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("h1",{className:"text-[2.4rem] font-bold bg-gradient-to-r from-amber-600 to-amber-800 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:"h-[3rem] w-[0.2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 font-medium",children:"Admin Dashboard"})]}),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative w-[36rem] h-[4rem] border-2 border-gray-300 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-200 focus-within:border-amber-500 focus-within:shadow-lg",children:[o.jsx("input",{type:"text",placeholder:"Tm kim sn phm, n hng, khch hng...",className:"text-[1.4rem] pl-[2rem] pr-[6rem] w-full h-full outline-none border-none bg-gray-50 focus:bg-white transition-colors"}),o.jsx("button",{className:"w-[4rem] h-[4rem] absolute right-0 top-0 rounded-2xl border-none bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 transition-all duration-200 flex items-center justify-center text-white shadow-lg hover:shadow-xl",type:"submit",children:o.jsx(F,{icon:Wn,className:"text-[1.6rem]"})})]})}),o.jsxs("div",{className:"relative flex items-center gap-[2rem]",ref:i,children:[o.jsxs("button",{className:"flex items-center gap-[1.2rem] p-[0.8rem] rounded-xl transition-all duration-200 group cursor-pointer",onClick:()=>s(!r),children:[o.jsx("img",{src:t?.avatar??zN,alt:"Admin Avatar",className:"h-[4.8rem] w-[4.8rem] rounded-[50%] border border-amber-300 shadow-lg group-hover:border-amber-400 transition-all duration-200"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("div",{className:"font-bold text-[1.4rem] text-gray-800",children:t?.username}),o.jsx("div",{className:"text-[1.2rem] text-amber-600 font-medium",children:t?.role===Kt.ADMIN?"Super Admin":"Manager"})]}),o.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover:text-amber-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&o.jsxs("div",{className:"absolute right-0 top-[105%] w-[18rem] bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden animate-fadeIn z-10",children:[o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-amber-50 hover:text-amber-700 transition-colors",onClick:()=>{n("/dashboard/profile"),s(!1)},children:"Trang c nhn"}),o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors",onClick:a,children:"ng xut"})]})]})]})}const P5=[{id:1,label:"Dashboard",path:""},{id:2,label:"Sn phm",path:"products",children:[{id:21,label:"Sn phm",path:"products"},{id:22,label:"Danh mc",path:"categories"}]},{id:5,label:"n hng",path:"orders",children:[{id:23,label:"Danh sch n hng",path:"orders/list-order"}]},{id:6,label:"Nhn vin",path:"staff"},{id:7,label:"Khch hng thnh vin",path:"customers"},{id:8,label:"Khch vng lai",path:"guest-customers"},{id:9,label:"FlashSale",path:"flashsale"},{id:10,label:"Gim gi",path:"discount"},{id:11,label:"Banner",path:"banner-slide"},{id:12,label:"Collection",path:"collection"},{id:13,label:"C nhn",path:"profile"}];function WY(){const{logout:t}=ac(),e=tt(),[n,r]=k.useState(()=>{const a=sessionStorage.getItem("sidebarSelected");return a?JSON.parse(a):{id:1,subId:void 0}});k.useEffect(()=>()=>{sessionStorage.removeItem("sidebarSelected")},[]);const s=a=>{if(a.children){const l={id:n?.id===a.id?null:a.id};r(l),sessionStorage.setItem("sidebarSelected",JSON.stringify(l))}else{const l={id:a.id};r(l),sessionStorage.setItem("sidebarSelected",JSON.stringify(l)),e(`/dashboard/${a.path}`)}},i=(a,l)=>{const c={id:a,subId:l.id};r(c),sessionStorage.setItem("sidebarSelected",JSON.stringify(c)),e(`/dashboard/${l.path}`)};return P5.length===0?null:o.jsxs("aside",{className:"fixed top-[6rem] left-0 w-[15%] h-[calc(100vh-6rem)] bg-white shadow-xl overflow-auto hide-scrollbar border-r border-gray-200",children:[o.jsx("div",{className:"p-[2rem] border-b border-gray-100",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 px-[2rem] py-[1.2rem] rounded-xl text-center shadow-lg",children:o.jsx("h3",{className:"text-white font-bold text-[1.6rem]",children:" Admin Panel"})})}),o.jsxs("nav",{className:"p-[1.6rem]",children:[o.jsx("div",{className:"space-y-[0.8rem]",children:P5.map((a,l)=>o.jsxs("div",{children:[o.jsx("button",{className:`w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-100 group ${n?.id===a.id?"bg-gradient-to-r from-blue-100 to-blue-50 text-amber-900 shadow-md border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"}`,onClick:()=>s(a),children:o.jsxs("div",{className:"w-full flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-[1.4rem]",children:a.label}),a?.children&&o.jsx(F,{icon:n?.id===a.id?mY:bu})]})}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${n?.id===a.id?"max-h-[20rem] pb-2":"max-h-0"}`,children:a?.children?.map(c=>o.jsx("div",{className:"pl-[1rem] pt-4",children:o.jsx("button",{onClick:()=>i(a.id,c),className:`w-full text-left text-[1.4rem] ${n.subId===c.id?"bg-gray-100 text-gray-900 shadow-sm":""} text-gray-600 px-[1rem] py-[1.2rem] rounded-lg hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm`,children:c.label},c.id)},c.id))})]},l))}),o.jsx("div",{className:"mt-[3rem] pt-[2rem] border-t border-gray-200",children:o.jsxs("button",{className:"w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-200 text-red-600 hover:bg-red-50 hover:text-red-700 group",onClick:()=>t(),children:[o.jsx("div",{className:"w-[3.2rem] h-[3.2rem] rounded-lg flex items-center justify-center transition-all duration-200 bg-red-100 text-red-500 group-hover:bg-red-200",children:o.jsx(F,{icon:v2,className:"text-[1.4rem]"})}),o.jsx("span",{className:"font-medium text-[1.4rem]",children:"ng xut"})]})})]})]})}function qY(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br",children:[o.jsx(UY,{}),o.jsxs("div",{className:"flex",children:[o.jsx(WY,{}),o.jsx("main",{className:"flex-1 ml-[15%] p-[2rem] mt-[6rem]",children:o.jsx(ic,{})})]})]})}const KY=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await fe.get("/api/v1/orders/dashboard-overview",{params:e})).data},GY=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await fe.get("/api/v1/orders/dashboard-statistics",{params:e})).data};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Cf(t){return t+.5|0}const no=(t,e,n)=>Math.max(Math.min(t,n),e);function Qd(t){return no(Cf(t*2.55),0,255)}function fo(t){return no(Cf(t*255),0,255)}function ea(t){return no(Cf(t/2.55)/100,0,1)}function A5(t){return no(Cf(t*100),0,100)}const gs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},j2=[..."0123456789ABCDEF"],YY=t=>j2[t&15],XY=t=>j2[(t&240)>>4]+j2[t&15],Xm=t=>(t&240)>>4===(t&15),QY=t=>Xm(t.r)&&Xm(t.g)&&Xm(t.b)&&Xm(t.a);function JY(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&gs[t[1]]*17,g:255&gs[t[2]]*17,b:255&gs[t[3]]*17,a:e===5?gs[t[4]]*17:255}:(e===7||e===9)&&(n={r:gs[t[1]]<<4|gs[t[2]],g:gs[t[3]]<<4|gs[t[4]],b:gs[t[5]]<<4|gs[t[6]],a:e===9?gs[t[7]]<<4|gs[t[8]]:255})),n}const ZY=(t,e)=>t<255?e(t):"";function eX(t){var e=QY(t)?YY:XY;return t?"#"+e(t.r)+e(t.g)+e(t.b)+ZY(t.a,e):void 0}const tX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function q_(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function nX(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function rX(t,e,n){const r=q_(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function sX(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function VN(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=sX(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function $N(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(fo)}function BN(t,e,n){return $N(q_,t,e,n)}function iX(t,e,n){return $N(rX,t,e,n)}function aX(t,e,n){return $N(nX,t,e,n)}function K_(t){return(t%360+360)%360}function oX(t){const e=tX.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Qd(+e[5]):fo(+e[5]));const s=K_(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=iX(s,i,a):e[1]==="hsv"?r=aX(s,i,a):r=BN(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function lX(t,e){var n=VN(t);n[0]=K_(n[0]+e),n=BN(n),t.r=n[0],t.g=n[1],t.b=n[2]}function cX(t){if(!t)return;const e=VN(t),n=e[0],r=A5(e[1]),s=A5(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${ea(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const O5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uX(){const t={},e=Object.keys(_5),n=Object.keys(O5);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,O5[i]);i=parseInt(_5[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Qm;function dX(t){Qm||(Qm=uX(),Qm.transparent=[0,0,0,0]);const e=Qm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fX(t){const e=hX.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Qd(a):no(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Qd(r):no(r,0,255)),s=255&(e[4]?Qd(s):no(s,0,255)),i=255&(e[6]?Qd(i):no(i,0,255)),{r,g:s,b:i,a:n}}}function mX(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ea(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const c1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,$c=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pX(t,e,n){const r=$c(ea(t.r)),s=$c(ea(t.g)),i=$c(ea(t.b));return{r:fo(c1(r+n*($c(ea(e.r))-r))),g:fo(c1(s+n*($c(ea(e.g))-s))),b:fo(c1(i+n*($c(ea(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Jm(t,e,n){if(t){let r=VN(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=BN(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function G_(t,e){return t&&Object.assign(e||{},t)}function D5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=fo(t[3]))):(e=G_(t,{r:0,g:0,b:0,a:1}),e.a=fo(e.a)),e}function gX(t){return t.charAt(0)==="r"?fX(t):oX(t)}let Y_=class S2{constructor(e){if(e instanceof S2)return e;const n=typeof e;let r;n==="object"?r=D5(e):n==="string"&&(r=JY(e)||dX(e)||gX(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=G_(this._rgb);return e&&(e.a=ea(e.a)),e}set rgb(e){this._rgb=D5(e)}rgbString(){return this._valid?mX(this._rgb):void 0}hexString(){return this._valid?eX(this._rgb):void 0}hslString(){return this._valid?cX(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=pX(this._rgb,e._rgb,n)),this}clone(){return new S2(this.rgb)}alpha(e){return this._rgb.a=fo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Cf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jm(this._rgb,2,e),this}darken(e){return Jm(this._rgb,2,-e),this}saturate(e){return Jm(this._rgb,1,e),this}desaturate(e){return Jm(this._rgb,1,-e),this}rotate(e){return lX(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $i(){}const xX=(()=>{let t=0;return()=>t++})();function lt(t){return t==null}function Vt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ct(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function tn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Kr(t,e){return tn(t)?t:e}function nt(t,e){return typeof t>"u"?e:t}const yX=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,X_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Mt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function jt(t,e,n,r){let s,i,a;if(Vt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ct(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function Tg(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Eg(t){if(Vt(t))return t.map(Eg);if(ct(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Eg(t[n[s]]);return e}return t}function Q_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function bX(t,e,n,r){if(!Q_(t))return;const s=e[t],i=n[t];ct(s)&&ct(i)?Rh(s,i,r):e[t]=Eg(i)}function Rh(t,e,n){const r=Vt(e)?e:[e],s=r.length;if(!ct(t))return t;n=n||{};const i=n.merger||bX;let a;for(let l=0;l<s;++l){if(a=r[l],!ct(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function uh(t,e){return Rh(t,e,{merger:vX})}function vX(t,e,n){if(!Q_(t))return;const r=e[t],s=n[t];ct(r)&&ct(s)?uh(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Eg(s))}const I5={"":t=>t,x:t=>t.x,y:t=>t.y};function wX(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function NX(t){const e=wX(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function So(t,e){return(I5[e]||(I5[e]=NX(e)))(t)}function HN(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Fh=t=>typeof t<"u",Co=t=>typeof t=="function",L5=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function jX(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const mt=Math.PI,Rt=2*mt,SX=Rt+mt,Mg=Number.POSITIVE_INFINITY,CX=mt/180,cn=mt/2,tl=mt/4,R5=mt*2/3,ro=Math.log10,vi=Math.sign;function dh(t,e,n){return Math.abs(t-e)<n}function F5(t){const e=Math.round(t);t=dh(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ro(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function kX(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function TX(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function vu(t){return!TX(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function EX(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function J_(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Bs(t){return t*(mt/180)}function UN(t){return t*(180/mt)}function z5(t){if(!tn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Z_(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*mt&&(i+=Rt),{angle:i,distance:s}}function C2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function MX(t,e){return(t-e+SX)%Rt-mt}function rr(t){return(t%Rt+Rt)%Rt}function zh(t,e,n,r){const s=rr(t),i=rr(e),a=rr(n),l=rr(i-s),c=rr(a-s),u=rr(s-i),d=rr(s-a);return s===i||s===a||r&&i===a||l>c&&u<d}function An(t,e,n){return Math.max(e,Math.min(n,t))}function PX(t){return An(t,-32768,32767)}function na(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function WN(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ra=(t,e,n,r)=>WN(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),AX=(t,e,n)=>WN(t,n,r=>t[r][e]>=n);function OX(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const eD=["push","pop","shift","splice","unshift"];function _X(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),eD.forEach(n=>{const r="_onData"+HN(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function V5(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(eD.forEach(i=>{delete t[i]}),delete t._chartjs)}function tD(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const nD=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function rD(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,nD.call(window,()=>{r=!1,t.apply(e,n)}))}}function DX(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const qN=t=>t==="start"?"left":t==="end"?"right":"center",er=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,IX=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function sD(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:p,minDefined:g,maxDefined:x}=a.getUserBounds();if(g){if(s=Math.min(ra(c,d,f).lo,n?r:ra(e,d,a.getPixelForValue(f)).lo),u){const v=c.slice(0,s+1).reverse().findIndex(b=>!lt(b[l.axis]));s-=Math.max(0,v)}s=An(s,0,r-1)}if(x){let v=Math.max(ra(c,a.axis,p,!0).hi+1,n?0:ra(e,d,a.getPixelForValue(p),!0).hi+1);if(u){const b=c.slice(v-1).findIndex(w=>!lt(w[l.axis]));v+=Math.max(0,b)}i=An(v,s,r)-s}else i=r-s}return{start:s,count:i}}function iD(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Zm=t=>t===0||t===1,$5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Rt/n)),B5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Rt/n)+1,hh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*cn)+1,easeOutSine:t=>Math.sin(t*cn),easeInOutSine:t=>-.5*(Math.cos(mt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zm(t)?t:$5(t,.075,.3),easeOutElastic:t=>Zm(t)?t:B5(t,.075,.3),easeInOutElastic(t){return Zm(t)?t:t<.5?.5*$5(t*2,.1125,.45):.5+.5*B5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hh.easeInBounce(t*2)*.5:hh.easeOutBounce(t*2-1)*.5+.5};function KN(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function H5(t){return KN(t)?t:new Y_(t)}function u1(t){return KN(t)?t:new Y_(t).saturate(.5).darken(.1).hexString()}const LX=["x","y","borderWidth","radius","tension"],RX=["color","borderColor","backgroundColor"];function FX(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:RX},numbers:{type:"number",properties:LX}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function zX(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const U5=new Map;function VX(t,e){e=e||{};const n=t+JSON.stringify(e);let r=U5.get(n);return r||(r=new Intl.NumberFormat(t,e),U5.set(n,r)),r}function kf(t,e,n){return VX(e,n).format(t)}const aD={values(t){return Vt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=$X(t,n)}const a=ro(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),kf(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(ro(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?aD.numeric.call(this,t,e,n):""}};function $X(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var dx={formatters:aD};function BX(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ql=Object.create(null),k2=Object.create(null);function fh(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function d1(t,e,n){return typeof e=="string"?Rh(fh(t,e),n):Rh(fh(t,""),e)}class HX{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>u1(s.backgroundColor),this.hoverBorderColor=(r,s)=>u1(s.borderColor),this.hoverColor=(r,s)=>u1(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return d1(this,e,n)}get(e){return fh(this,e)}describe(e,n){return d1(k2,e,n)}override(e,n){return d1(ql,e,n)}route(e,n,r,s){const i=fh(this,e),a=fh(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return ct(c)?Object.assign({},u,c):nt(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var $t=new HX({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FX,zX,BX]);function UX(t){return!t||lt(t.size)||lt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Pg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function WX(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const l=n.length;let c,u,d,f,p;for(c=0;c<l;c++)if(f=n[c],f!=null&&!Vt(f))a=Pg(t,s,i,a,f);else if(Vt(f))for(u=0,d=f.length;u<d;u++)p=f[u],p!=null&&!Vt(p)&&(a=Pg(t,s,i,a,p));t.restore();const g=i.length/2;if(g>n.length){for(c=0;c<g;c++)delete s[i[c]];i.splice(0,g)}return a}function nl(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function W5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function T2(t,e,n,r){oD(t,e,n,r,null)}function oD(t,e,n,r,s){let i,a,l,c,u,d,f,p;const g=e.pointStyle,x=e.rotation,v=e.radius;let b=(x||0)*CX;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,r,s/2,v,0,0,Rt):t.arc(n,r,v,0,Rt),t.closePath();break;case"triangle":d=s?s/2:v,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=R5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=R5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),t.closePath();break;case"rectRounded":u=v*.516,c=v-u,a=Math.cos(b+tl)*c,f=Math.cos(b+tl)*(s?s/2-u:c),l=Math.sin(b+tl)*c,p=Math.sin(b+tl)*(s?s/2-u:c),t.arc(n-f,r-l,u,b-mt,b-cn),t.arc(n+p,r-a,u,b-cn,b),t.arc(n+f,r+l,u,b,b+cn),t.arc(n-p,r+a,u,b+cn,b+mt),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*v,d=s?s/2:c,t.rect(n-d,r-c,2*d,2*c);break}b+=tl;case"rectRot":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+p,r-a),t.lineTo(n+f,r+l),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":b+=tl;case"cross":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),b+=tl,f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=s?s/2:Math.cos(b)*v,l=Math.sin(b)*v,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:v),r+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function sa(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function hx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fx(t){t.restore()}function qX(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function KX(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function GX(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),lt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function YX(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(l,d),t.stroke()}}function XX(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Kl(t,e,n,r,s,i={}){const a=Vt(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,GX(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&XX(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),lt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),YX(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function Vh(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*mt,mt,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,mt,cn,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,cn,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-cn,!0),t.lineTo(n+a.topLeft,r)}const QX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZX(t,e){const n=(""+t).match(QX);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const eQ=t=>+t||0;function GN(t,e){const n={},r=ct(e),s=r?Object.keys(e):e,i=ct(t)?r?a=>nt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=eQ(i(a));return n}function lD(t){return GN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function El(t){return GN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function or(t){const e=lD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cn(t,e){t=t||{},e=e||$t.font;let n=nt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=nt(t.style,e.style);r&&!(""+r).match(JX)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:nt(t.family,e.family),lineHeight:ZX(nt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:nt(t.weight,e.weight),string:""};return s.string=UX(s),s}function Jd(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function tQ(t,e,n){const{min:r,max:s}=t,i=X_(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function Ao(t,e){return Object.assign(Object.create(t),e)}function YN(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=hD("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>YN([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return uD(l,c,()=>cQ(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return K5(l).includes(c)},ownKeys(l){return K5(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function wu(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:cD(t,r),setContext:i=>wu(t,i,n,r),override:i=>wu(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return uD(i,a,()=>rQ(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function cD(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Co(n)?n:()=>n,isIndexable:Co(r)?r:()=>r}}const nQ=(t,e)=>t?t+HN(e):e,XN=(t,e)=>ct(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function uD(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function rQ(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return Co(l)&&a.isScriptable(e)&&(l=sQ(e,l,t,n)),Vt(l)&&l.length&&(l=iQ(e,l,t,a.isIndexable)),XN(e,l)&&(l=wu(l,s,i&&i[e],a)),l}function sQ(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),XN(t,c)&&(c=QN(s._scopes,s,t,c)),c}function iQ(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ct(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=QN(u,s,t,d);e.push(wu(f,i,a&&a[t],l))}}return e}function dD(t,e,n){return Co(t)?t(e,n):t}const aQ=(t,e)=>t===!0?e:typeof t=="string"?So(e,t):void 0;function oQ(t,e,n,r,s){for(const i of e){const a=aQ(n,i);if(a){t.add(a);const l=dD(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function QN(t,e,n,r){const s=e._rootScopes,i=dD(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=q5(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=q5(l,a,i,c,r),c===null)?!1:YN(Array.from(l),[""],s,i,()=>lQ(e,n,r))}function q5(t,e,n,r,s){for(;n;)n=oQ(t,e,n,r,s);return n}function lQ(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Vt(s)&&ct(n)?n:s||{}}function cQ(t,e,n,r){let s;for(const i of e)if(s=hD(nQ(i,t),n),typeof s<"u")return XN(t,s)?QN(n,r,t,s):s}function hD(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function K5(t){let e=t._keys;return e||(e=t._keys=uQ(t._scopes)),e}function uQ(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function fD(t,e,n,r){const{iScale:s}=t,{key:i="r"}=this._parsing,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+n,d=e[u],a[l]={r:s.parse(So(d,i),u)};return a}const dQ=Number.EPSILON||1e-14,Nu=(t,e)=>e<t.length&&!t[e].skip&&t[e],mD=t=>t==="x"?"y":"x";function hQ(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=C2(i,s),c=C2(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,p=r*d;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+p*(a.x-s.x),y:i.y+p*(a.y-s.y)}}}function fQ(t,e,n){const r=t.length;let s,i,a,l,c,u=Nu(t,0);for(let d=0;d<r-1;++d)if(c=u,u=Nu(t,d+1),!(!c||!u)){if(dh(e[d],0,dQ)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function mQ(t,e,n="x"){const r=mD(n),s=t.length;let i,a,l,c=Nu(t,0);for(let u=0;u<s;++u){if(a=l,l=c,c=Nu(t,u+1),!l)continue;const d=l[n],f=l[r];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=f-i*e[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=f+i*e[u])}}function pQ(t,e="x"){const n=mD(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=Nu(t,0);for(a=0;a<r;++a)if(l=c,c=u,u=Nu(t,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?vi(s[a-1])!==vi(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}fQ(t,s,i),mQ(t,i,e)}function ep(t,e,n){return Math.max(Math.min(t,n),e)}function gQ(t,e){let n,r,s,i,a,l=sa(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&sa(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=ep(s.cp1x,e.left,e.right),s.cp1y=ep(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=ep(s.cp2x,e.left,e.right),s.cp2y=ep(s.cp2y,e.top,e.bottom)))}function xQ(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")pQ(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=hQ(u,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&gQ(t,n)}function JN(){return typeof window<"u"&&typeof document<"u"}function ZN(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ag(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const mx=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function yQ(t,e){return mx(t).getPropertyValue(e)}const bQ=["top","right","bottom","left"];function Ml(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=bQ[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const vQ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function wQ(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(vQ(s,i,t.target))l=s,c=i;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function ol(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=mx(n),i=s.boxSizing==="border-box",a=Ml(s,"padding"),l=Ml(s,"border","width"),{x:c,y:u,box:d}=wQ(t,n),f=a.left+(d&&l.left),p=a.top+(d&&l.top);let{width:g,height:x}=e;return i&&(g-=a.width+l.width,x-=a.height+l.height),{x:Math.round((c-f)/g*n.width/r),y:Math.round((u-p)/x*n.height/r)}}function NQ(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&ZN(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=mx(i),c=Ml(l,"border","width"),u=Ml(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=Ag(l.maxWidth,i,"clientWidth"),s=Ag(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Mg,maxHeight:s||Mg}}const so=t=>Math.round(t*10)/10;function jQ(t,e,n,r){const s=mx(t),i=Ml(s,"margin"),a=Ag(s.maxWidth,t,"clientWidth")||Mg,l=Ag(s.maxHeight,t,"clientHeight")||Mg,c=NQ(t,e,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const p=Ml(s,"border","width"),g=Ml(s,"padding");u-=g.width+p.width,d-=g.height+p.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=so(Math.min(u,a,c.maxWidth)),d=so(Math.min(d,l,c.maxHeight)),u&&!d&&(d=so(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=so(Math.floor(d*r))),{width:u,height:d}}function G5(t,e,n){const r=e||1,s=so(t.height*r),i=so(t.width*r);t.height=so(t.height),t.width=so(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const SQ=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};JN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Y5(t,e){const n=yQ(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ll(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function CQ(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function kQ(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=ll(t,s,n),l=ll(s,i,n),c=ll(i,e,n),u=ll(a,l,n),d=ll(l,c,n);return ll(u,d,n)}const TQ=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},EQ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function uu(t,e,n){return t?TQ(e,n):EQ()}function pD(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function gD(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function xD(t){return t==="angle"?{between:zh,compare:MX,normalize:rr}:{between:na,compare:(e,n)=>e-n,normalize:e=>e}}function X5({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function MQ(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=xD(r),c=e.length;let{start:u,end:d,loop:f}=t,p,g;if(f){for(u+=c,d+=c,p=0,g=c;p<g&&a(l(e[u%c][r]),s,i);++p)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function yD(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=xD(r),{start:d,end:f,loop:p,style:g}=MQ(t,e,n),x=[];let v=!1,b=null,w,N,C;const P=()=>c(s,C,w)&&l(s,C)!==0,S=()=>l(i,w)===0||c(i,C,w),A=()=>v||P(),M=()=>!v||S();for(let T=d,_=d;T<=f;++T)N=e[T%a],!N.skip&&(w=u(N[r]),w!==C&&(v=c(w,s,i),b===null&&A()&&(b=l(w,s)===0?T:_),b!==null&&M()&&(x.push(X5({start:b,end:T,loop:p,count:a,style:g})),b=null),_=T,C=w));return b!==null&&x.push(X5({start:b,end:f,loop:p,count:a,style:g})),x}function bD(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=yD(r[s],t.points,e);i.length&&n.push(...i)}return n}function PQ(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function AQ(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function OQ(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=PQ(n,s,i,r);if(r===!0)return Q5(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,u=!!t._fullLoop&&a===0&&l===s-1;return Q5(t,AQ(n,a,c,u),n,e)}function Q5(t,e,n,r){return!r||!r.setContext||!n?e:_Q(t,e,n,r)}function _Q(t,e,n,r){const s=t._chart.getContext(),i=J5(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let d=i,f=e[0].start,p=f;function g(x,v,b,w){const N=l?-1:1;if(x!==v){for(x+=c;n[x%c].skip;)x-=N;for(;n[v%c].skip;)v+=N;x%c!==v%c&&(u.push({start:x%c,end:v%c,loop:b,style:w}),d=w,f=v%c)}}for(const x of e){f=l?f:x.start;let v=n[f%c],b;for(p=f+1;p<=x.end;p++){const w=n[p%c];b=J5(r.setContext(Ao(s,{type:"segment",p0:v,p1:w,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:a}))),DQ(b,d)&&g(f,p-1,x.loop,d),v=w,d=b}f<p-1&&g(f,p-1,x.loop,d)}return u}function J5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function DQ(t,e){if(!e)return!1;const n=[],r=function(s,i){return KN(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function tp(t,e,n){return t.options.clip?t[n]:e[n]}function IQ(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:tp(n,e,"left"),right:tp(n,e,"right"),top:tp(r,e,"top"),bottom:tp(r,e,"bottom")}:e}function vD(t,e){const n=e._clip;if(n.disabled)return!1;const r=IQ(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class LQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=nD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ki=new LQ;const Z5="transparent",RQ={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=H5(t||Z5),s=r.valid&&H5(e||Z5);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class FQ{constructor(e,n,r,s){const i=n[r];s=Jd([e.to,s,i,e.from]);const a=Jd([e.from,i,s]);this._active=!0,this._fn=e.fn||RQ[e.type||typeof a],this._easing=hh[e.easing]||hh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Jd([e.to,n,s,e.from]),this._from=Jd([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class wD{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ct(e))return;const n=Object.keys($t.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ct(i))return;const a={};for(const l of n)a[l]=i[l];(Vt(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=VQ(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&zQ(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const p=r.get(u);if(f)if(p&&f.active()){f.update(p,d,l);continue}else f.cancel();if(!p||!p.duration){e[u]=d;continue}i[u]=f=new FQ(p,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ki.add(this._chart,r),!0}}function zQ(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function VQ(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function eT(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function $Q(t,e,n){if(n===!1)return!1;const r=eT(t,n),s=eT(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function BQ(t){let e,n,r,s;return ct(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function ND(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function tT(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=t.values[c],tn(u)&&(i||e===0||vi(e)===vi(u))&&(e+=u)}return!d&&!r.all?0:e}function HQ(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[i]:t[d]};return l}function h1(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function UQ(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function WQ(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function qQ(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function nT(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function rT(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,d=UQ(i,a,r),f=e.length;let p;for(let g=0;g<f;++g){const x=e[g],{[c]:v,[u]:b}=x,w=x._stacks||(x._stacks={});p=w[u]=qQ(s,d,v),p[l]=b,p._top=nT(p,a,!0,r.type),p._bottom=nT(p,a,!1,r.type);const N=p._visualValues||(p._visualValues={});N[l]=b}}function f1(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function KQ(t,e){return Ao(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function GQ(t,e,n){return Ao(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Rd(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const m1=t=>t==="reset"||t==="none",sT=(t,e)=>e?t:Object.assign({},t),YQ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ND(n,!0),values:null};class Oo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=h1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Rd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,p,g,x)=>f==="x"?p:f==="r"?x:g,i=n.xAxisID=nt(r.xAxisID,f1(e,"x")),a=n.yAxisID=nt(r.yAxisID,f1(e,"y")),l=n.rAxisID=nt(r.rAxisID,f1(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),d=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&V5(this._data,this),e._stacked&&Rd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ct(n)){const s=this._cachedMeta;this._data=HQ(n,s)}else if(r!==n){if(r){V5(r,this);const s=this._cachedMeta;Rd(s),s._parsed=[]}n&&Object.isExtensible(n)&&_X(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=h1(n.vScale,n),n.stack!==r.stack&&(s=!0,Rd(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(rT(this,n._parsed),n._stacked=h1(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{Vt(s[e])?p=this.parseArrayData(r,s,e,n):ct(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const g=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<n;++d)r._parsed[d+e]=f=p[d],c&&(g()&&(c=!1),u=f);r._sorted=c}a&&rT(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,f=new Array(s);let p,g,x;for(p=0,g=s;p<g;++p)x=p+r,f[p]={[l]:d||i.parse(u[x],x),[c]:a.parse(n[x],x)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+r,f=n[d],l[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,p,g;for(d=0,f=s;d<f;++d)p=d+r,g=n[p],u[d]={x:i.parse(So(g,l),p),y:a.parse(So(g,c),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:ND(s,!0),values:n._stacks[e.axis]._visualValues};return tT(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=tT(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=YQ(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=WQ(l);let p,g;function x(){g=s[p];const v=g[l.axis];return!tn(g[e.axis])||d>v||f<v}for(p=0;p<a&&!(!x()&&(this.updateRangeFromParsed(u,e,g,c),i));++p);if(i){for(p=a-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],tn(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=BQ(nt(this.options.clip,$Q(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,l,c),d=l;d<l+c;++d){const f=s[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=GQ(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=KQ(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&Fh(r);if(l)return sT(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),d),g=Object.keys($t.elements[e]),x=()=>this.getContext(r,s,n),v=u.resolveNamedOptions(p,g,x,f);return v.$shared&&(v.$shared=c,i[a]=Object.freeze(sT(v,c))),v}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(p,this.getContext(e,r,n))}const u=new wD(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||m1(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){m1(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!m1(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Rd(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function XQ(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=tD(r.sort((s,i)=>s-i))}return t._cache.$bar}function QQ(t){const e=t.iScale,n=XQ(e,t.type);let r=e._length,s,i,a,l;const c=()=>{a===32767||a===-32768||(Fh(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),c();return r}function JQ(t,e,n,r){const s=n.barThickness;let i,a;return lt(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function ZQ(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/r,ratio:n.barPercentage,start:u}}function eJ(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),l=Math.max(s,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:s,end:i,min:a,max:l}}function jD(t,e,n,r){return Vt(t)?eJ(t,e,n,r):e[n.axis]=n.parse(t,r),e}function iT(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),l=s===i,c=[];let u,d,f,p;for(u=n,d=n+r;u<d;++u)p=e[u],f={},f[s.axis]=l||s.parse(a[u],u),c.push(jD(p,f,i,u));return c}function p1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function tJ(t,e,n){return t!==0?vi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function nJ(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function rJ(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:d}=nJ(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[aT(d,a,l,c)]=!0,s=u)),i[aT(s,a,l,c)]=!0,t.borderSkipped=i}function aT(t,e,n,r){return r?(t=sJ(t,e,n),t=oT(t,n,e)):t=oT(t,e,n),t}function sJ(t,e,n){return t===e?n:t===n?e:t}function oT(t,e,n){return t==="start"?e:t==="end"?n:t}function iJ(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class aJ extends Oo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return iT(e,n,r,s)}parseArrayData(e,n,r,s){return iT(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=a.axis==="x"?l:c,f=[];let p,g,x,v;for(p=r,g=r+s;p<g;++p)v=n[p],x={},x[i.axis]=i.parse(So(v,u),p),f.push(jD(So(v,d),x,a,p));return f}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,l=p1(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,s);for(let g=n;g<n+r;g++){const x=this.getParsed(g),v=i||lt(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),w=(x._stacks||{})[l.axis],N={horizontal:u,base:v.base,enableBorderRadius:!w||p1(x._custom)||a===w._top||a===w._bottom,x:u?v.head:b.center,y:u?b.center:v.head,height:u?b.size:Math.abs(v.size),width:u?Math.abs(v.size):b.size};p&&(N.options=f||this.resolveDataElementOptions(g,e[g].active?"active":s));const C=N.options||e[g].options;rJ(N,C,w,a),iJ(N,C,d.ratio),this.updateElement(e[g],g,N,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const f=d._parsed.find(g=>g[r.axis]===c),p=f&&f[d.vScale.axis];if(lt(p)||isNaN(p))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[nt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=e.barThickness;return{min:l||QQ(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(e),u=c._custom,d=p1(u);let f=c[n.axis],p=0,g=r?this.applyStack(n,c,r):f,x,v;g!==f&&(p=g-f,g=f),d&&(f=u.barStart,g=u.barEnd-u.barStart,f!==0&&vi(f)!==vi(u.barEnd)&&(p=0),p+=f);const b=!lt(i)&&!d?i:p;let w=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(p+g):x=w,v=x-w,Math.abs(v)<a){v=tJ(v,n,l)*a,f===l&&(w-=v/2);const N=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),P=Math.min(N,C),S=Math.max(N,C);w=Math.max(Math.min(w,S),P),x=w+v,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(w))}if(w===n.getPixelForValue(l)){const N=vi(v)*n.getLineWidthForValue(l)/2;w+=N,v-=N}return{size:v,base:w,head:x,center:x+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=nt(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?ZQ(e,n,s,d*u):JQ(e,n,s,d*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(nt(p,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;l=f.start+f.chunk*x+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class oJ extends Oo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){const i=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,n,r,s){const i=super.parseArrayData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=nt(l[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,n,r,s){const i=super.parseObjectData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=nt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y),u=a._custom;return{label:r[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(n,s),d=a.axis,f=l.axis;for(let p=n;p<n+r;p++){const g=e[p],x=!i&&this.getParsed(p),v={},b=v[d]=i?a.getPixelForDecimal(.5):a.getPixelForValue(x[d]),w=v[f]=i?l.getBasePixel():l.getPixelForValue(x[f]);v.skip=isNaN(b)||isNaN(w),u&&(v.options=c||this.resolveDataElementOptions(p,g.active?"active":s),i&&(v.options.radius=0)),this.updateElement(g,p,v,s)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=nt(r&&r._custom,i),s}}function lJ(t,e,n){let r=1,s=1,i=0,a=0;if(e<Rt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),p=Math.sin(c),g=(C,P,S)=>zh(C,l,c,!0)?1:Math.max(P,P*n,S,S*n),x=(C,P,S)=>zh(C,l,c,!0)?-1:Math.min(P,P*n,S,S*n),v=g(0,u,f),b=g(cn,d,p),w=x(mt,u,f),N=x(mt+cn,d,p);r=(v-w)/2,s=(b-N)/2,i=-(v+w)/2,a=-(b+N)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class ej extends Oo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(l||f.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(ct(r[e])){const{key:c="value"}=this._parsing;i=u=>+So(r[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return Bs(this.options.rotation-90)}_getCircumference(){return Bs(this.options.circumference)}_getRotationExtents(){let e=Rt,n=-Rt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(yX(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:x,offsetY:v}=lJ(f,d,c),b=(r.width-a)/p,w=(r.height-a)/g,N=Math.max(Math.min(b,w)/2,0),C=X_(this.options.radius,N),P=Math.max(C*c,0),S=(C-P)/this._getVisibleDatasetWeightTotal();this.offsetX=x*C,this.offsetY=v*C,s.total=this.calculateTotal(),this.outerRadius=C-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Rt)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,p=i&&u.animateScale,g=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);let w=this._getRotation(),N;for(N=0;N<n;++N)w+=this._circumference(N,i);for(N=n;N<n+r;++N){const C=this._circumference(N,i),P=e[N],S={x:d+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+C,circumference:C,outerRadius:x,innerRadius:g};b&&(S.options=v||this.resolveDataElementOptions(N,P.active?"active":s)),w+=C,this.updateElement(P,N,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Rt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=kf(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(nt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class SD extends Oo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=sD(n,s,a);this._drawStart=l,this._drawCount=c,iD(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),p=a.axis,g=l.axis,{spanGaps:x,segment:v}=this.options,b=vu(x)?x:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",N=n+r,C=e.length;let P=n>0&&this.getParsed(n-1);for(let S=0;S<C;++S){const A=e[S],M=w?A:{};if(S<n||S>=N){M.skip=!0;continue}const T=this.getParsed(S),_=lt(T[g]),I=M[p]=a.getPixelForValue(T[p],S),D=M[g]=i||_?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[g],S);M.skip=isNaN(I)||isNaN(D)||_,M.stop=S>0&&Math.abs(T[p]-P[p])>b,v&&(M.parsed=T,M.raw=u.data[S]),f&&(M.options=d||this.resolveDataElementOptions(S,A.active?"active":s)),w||this.updateElement(A,S,M,s),P=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class CD extends Oo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=kf(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:i}}parseObjectData(e,n,r,s){return fD.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),l=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*mt;let g=p,x;const v=360/this.countVisibleElements();for(x=0;x<n;++x)g+=this._computeAngle(x,s,v);for(x=n;x<n+r;x++){const b=e[x];let w=g,N=g+this._computeAngle(x,s,v),C=a.getDataVisibility(x)?u.getDistanceFromCenterForValue(this.getParsed(x).r):0;g=N,i&&(c.animateScale&&(C=0),c.animateRotate&&(w=N=p));const P={x:d,y:f,innerRadius:0,outerRadius:C,startAngle:w,endAngle:N,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,P,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Bs(this.resolveDataElementOptions(e,n).angle||r):0}}class cJ extends ej{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class uJ extends Oo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return fD.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===s.length,options:a};this.updateElement(r,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){const i=this._cachedMeta.rScale,a=s==="reset";for(let l=n;l<n+r;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=i.getPointPositionForValue(l,this.getParsed(l).r),f=a?i.xCenter:d.x,p=a?i.yCenter:d.y,g={x:f,y:p,angle:d.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(c,l,g,s)}}}class dJ extends Oo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:a}=sD(n,r,s);if(this._drawStart=i,this._drawCount=a,iD(n)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),p=this.includeOptions(s,f),g=a.axis,x=l.axis,{spanGaps:v,segment:b}=this.options,w=vu(v)?v:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||s==="none";let C=n>0&&this.getParsed(n-1);for(let P=n;P<n+r;++P){const S=e[P],A=this.getParsed(P),M=N?S:{},T=lt(A[x]),_=M[g]=a.getPixelForValue(A[g],P),I=M[x]=i||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[x],P);M.skip=isNaN(_)||isNaN(I)||T,M.stop=P>0&&Math.abs(A[g]-C[g])>w,b&&(M.parsed=A,M.raw=u.data[P]),p&&(M.options=f||this.resolveDataElementOptions(P,S.active?"active":s)),N||this.updateElement(S,P,M,s),C=A}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,a)/2}}var hJ=Object.freeze({__proto__:null,BarController:aJ,BubbleController:oJ,DoughnutController:ej,LineController:SD,PieController:cJ,PolarAreaController:CD,RadarController:uJ,ScatterController:dJ});function rl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tj{static override(e){Object.assign(tj.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return rl()}parse(){return rl()}format(){return rl()}add(){return rl()}diff(){return rl()}startOf(){return rl()}endOf(){return rl()}}var fJ={_date:tj};function mJ(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?AX:ra;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const p=u(i,e,n-f),g=u(i,e,n+f);return{lo:p.lo,hi:g.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:p}=t,g=p.slice(0,d.lo+1).reverse().findIndex(v=>!lt(v[f.axis]));d.lo-=Math.max(0,g);const x=p.slice(d.hi).findIndex(v=>!lt(v[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function px(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:f,hi:p}=mJ(i[l],e,a,s);for(let g=f;g<=p;++g){const x=d[g];x.skip||r(x,u,g)}}}function pJ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function g1(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||px(t,n,e,function(l,c,u){!s&&!sa(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function gJ(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:f}=Z_(a,{x:e.x,y:e.y});zh(f,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return px(t,n,e,i),s}function xJ(t,e,n,r,s,i){let a=[];const l=pJ(n);let c=Number.POSITIVE_INFINITY;function u(d,f,p){const g=d.inRange(e.x,e.y,s);if(r&&!g)return;const x=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(x))&&!g)return;const b=l(e,x);b<c?(a=[{element:d,datasetIndex:f,index:p}],c=b):b===c&&a.push({element:d,datasetIndex:f,index:p})}return px(t,n,e,u),a}function x1(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?gJ(t,e,n,s):xJ(t,e,n,r,s,i)}function lT(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return px(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var yJ={modes:{index(t,e,n,r){const s=ol(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?g1(t,s,i,r,a):x1(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,r){const s=ol(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?g1(t,s,i,r,a):x1(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,n,r){const s=ol(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return g1(t,s,i,r,a)},nearest(t,e,n,r){const s=ol(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return x1(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=ol(e,t);return lT(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=ol(e,t);return lT(t,s,"y",n.intersect,r)}}};const kD=["left","top","right","bottom"];function Fd(t,e){return t.filter(n=>n.pos===e)}function cT(t,e){return t.filter(n=>kD.indexOf(n.pos)===-1&&n.box.axis===e)}function zd(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function bJ(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function vJ(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!kD.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function wJ(t,e){const n=vJ(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&e.availableHeight)}return n}function NJ(t){const e=bJ(t),n=zd(e.filter(u=>u.box.fullSize),!0),r=zd(Fd(e,"left"),!0),s=zd(Fd(e,"right")),i=zd(Fd(e,"top"),!0),a=zd(Fd(e,"bottom")),l=cT(e,"x"),c=cT(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Fd(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function uT(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function TD(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function jJ(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!ct(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&TD(a,i.getPadding());const l=Math.max(0,e.outerWidth-uT(a,t,"left","right")),c=Math.max(0,e.outerHeight-uT(a,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function SJ(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function CJ(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Zd(t,e,n,r){const s=[];let i,a,l,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,CJ(l.horizontal,e));const{same:f,other:p}=jJ(e,n,l,r);u|=f&&s.length,d=d||p,c.fullSize||s.push(l)}return u&&Zd(s,e,n,r)||d}function np(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function dT(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,p=u.size||c.height;Fh(u.start)&&(a=u.start),c.fullSize?np(c,s.left,a,n.outerWidth-s.right-s.left,p):np(c,e.left+u.placed,a,f,p),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*d,p=u.size||c.width;Fh(u.start)&&(i=u.start),c.fullSize?np(c,i,s.top,p,n.outerHeight-s.bottom-s.top):np(c,i,e.top+u.placed,p,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var ir={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=or(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=NJ(t.boxes),c=l.vertical,u=l.horizontal;jt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=c.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},s);TD(p,or(r));const g=Object.assign({maxPadding:p,w:i,h:a,x:s.left,y:s.top},s),x=wJ(c.concat(u),f);Zd(l.fullSize,g,f,x),Zd(c,g,f,x),Zd(u,g,f,x)&&Zd(c,g,f,x),SJ(g),dT(l.leftAndTop,g,f,x),g.x+=g.w,g.y+=g.h,dT(l.rightAndBottom,g,f,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},jt(l.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class ED{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class kJ extends ED{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Yp="$chartjs",TJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hT=t=>t===null||t==="";function EJ(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Yp]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",hT(s)){const i=Y5(t,"width");i!==void 0&&(t.width=i)}if(hT(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Y5(t,"height");i!==void 0&&(t.height=i)}return t}const MD=SQ?{passive:!0}:!1;function MJ(t,e,n){t&&t.addEventListener(e,n,MD)}function PJ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,MD)}function AJ(t,e){const n=TJ[t.type]||t.type,{x:r,y:s}=ol(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Og(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function OJ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Og(l.addedNodes,r),a=a&&!Og(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function _J(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Og(l.removedNodes,r),a=a&&!Og(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const $h=new Map;let fT=0;function PD(){const t=window.devicePixelRatio;t!==fT&&(fT=t,$h.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function DJ(t,e){$h.size||window.addEventListener("resize",PD),$h.set(t,e)}function IJ(t){$h.delete(t),$h.size||window.removeEventListener("resize",PD)}function LJ(t,e,n){const r=t.canvas,s=r&&ZN(r);if(!s)return;const i=rD((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),DJ(t,i),a}function y1(t,e,n){n&&n.disconnect(),e==="resize"&&IJ(t)}function RJ(t,e,n){const r=t.canvas,s=rD(i=>{t.ctx!==null&&n(AJ(i,t))},t);return MJ(r,e,s),s}class FJ extends ED{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(EJ(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Yp])return!1;const r=n[Yp].initial;["height","width"].forEach(i=>{const a=r[i];lt(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Yp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:OJ,detach:_J,resize:LJ}[n]||RJ;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:y1,detach:y1,resize:y1}[n]||PJ)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return jQ(e,n,r,s)}isAttached(e){const n=e&&ZN(e);return!!(n&&n.isConnected)}}function zJ(t){return!JN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?kJ:FJ}let Na=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return vu(this.x)&&vu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}};function VJ(t,e){const n=t.options.ticks,r=$J(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?HJ(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return UJ(e,u,i,a/s),u;const d=BJ(i,e,s);if(a>0){let f,p;const g=a>1?Math.round((c-l)/(a-1)):null;for(rp(e,u,d,lt(g)?0:l-g,l),f=0,p=a-1;f<p;f++)rp(e,u,d,i[f],i[f+1]);return rp(e,u,d,c,lt(g)?e.length:c+g),u}return rp(e,u,d),u}function $J(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function BJ(t,e,n){const r=WJ(t),s=e.length/n;if(!r)return Math.max(s,1);const i=kX(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function HJ(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function UJ(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function rp(t,e,n,r,s){const i=nt(r,0),a=Math.min(nt(s,t.length),t.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),l++,d=Math.round(i+l*n))}function WJ(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const qJ=t=>t==="left"?"right":t==="right"?"left":t,mT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,pT=(t,e)=>Math.min(e||t,t);function gT(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function KJ(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-l||c>a+l)))return c}function GJ(t,e){jt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Vd(t){return t.drawTicks?t.tickLength:0}function xT(t,e){if(!t.display)return 0;const n=Cn(t.font,e),r=or(t.padding);return(Vt(t.text)?t.text.length:1)*n.lineHeight+r.height}function YJ(t,e){return Ao(t,{scale:e,type:"scale"})}function XJ(t,e,n){return Ao(t,{tick:n,index:e,type:"tick"})}function QJ(t,e,n){let r=qN(t);return(n&&e!=="right"||!n&&e==="right")&&(r=qJ(r)),r}function JJ(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,p,g,x;const v=a-s,b=l-i;if(t.isHorizontal()){if(g=er(r,i,l),ct(n)){const w=Object.keys(n)[0],N=n[w];x=d[w].getPixelForValue(N)+v-e}else n==="center"?x=(u.bottom+u.top)/2+v-e:x=mT(t,n,e);p=l-i}else{if(ct(n)){const w=Object.keys(n)[0],N=n[w];g=d[w].getPixelForValue(N)-b+e}else n==="center"?g=(u.left+u.right)/2-b+e:g=mT(t,n,e);x=er(r,a,s),f=n==="left"?-cn:cn}return{titleX:g,titleY:x,maxWidth:p,rotation:f}}class oc extends Na{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Kr(e,Number.POSITIVE_INFINITY),n=Kr(n,Number.NEGATIVE_INFINITY),r=Kr(r,Number.POSITIVE_INFINITY),s=Kr(s,Number.NEGATIVE_INFINITY),{min:Kr(e,r),max:Kr(n,s),minDefined:tn(e),maxDefined:tn(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Kr(n,Kr(r,n)),max:Kr(r,Kr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tQ(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?gT(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=VJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Mt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=pT(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,g=An(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/r:g/(r-1),f+6>l&&(l=g/(r-(e.offset?.5:1)),c=this.maxHeight-Vd(e.grid)-n.padding-xT(e.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),a=UN(Math.min(Math.asin(An((d.highest.height+6)/l,-1,1)),Math.asin(An(c/u,-1,1))-Math.asin(An(p/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=xT(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Vd(i)+c):(e.height=this.maxHeight,e.width=Vd(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:p}=this._getLabelSizes(),g=r.padding*2,x=Bs(this.labelRotation),v=Math.cos(x),b=Math.sin(x);if(l){const w=r.mirror?0:b*f.width+v*p.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=r.mirror?0:v*f.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(u,d,b,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;c?u?(p=s*e.width,g=r*n.height):(p=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)lt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=gT(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/pT(n,r));let u=0,d=0,f,p,g,x,v,b,w,N,C,P,S;for(f=0;f<n;f+=c){if(x=e[f].label,v=this._resolveTickFontOptions(f),s.font=b=v.string,w=i[b]=i[b]||{data:{},gc:[]},N=v.lineHeight,C=P=0,!lt(x)&&!Vt(x))C=Pg(s,w.data,w.gc,C,x),P=N;else if(Vt(x))for(p=0,g=x.length;p<g;++p)S=x[p],!lt(S)&&!Vt(S)&&(C=Pg(s,w.data,w.gc,C,S),P+=N);a.push(C),l.push(P),u=Math.max(C,u),d=Math.max(P,d)}GJ(i,n);const A=a.indexOf(u),M=l.indexOf(d),T=_=>({width:a[_]||0,height:l[_]||0});return{first:T(0),last:T(n-1),widest:T(A),highest:T(M),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return PX(this._alignToPixels?nl(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=XJ(this.getContext(),e,r))}return this.$context||(this.$context=YJ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Bs(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=Vd(i),g=[],x=l.setContext(this.getContext()),v=x.display?x.width:0,b=v/2,w=function(z){return nl(r,z,v)};let N,C,P,S,A,M,T,_,I,D,R,G;if(a==="top")N=w(this.bottom),M=this.bottom-p,_=N-b,D=w(e.top)+b,G=e.bottom;else if(a==="bottom")N=w(this.top),D=e.top,G=w(e.bottom)-b,M=N+b,_=this.top+p;else if(a==="left")N=w(this.right),A=this.right-p,T=N-b,I=w(e.left)+b,R=e.right;else if(a==="right")N=w(this.left),I=e.left,R=w(e.right)-b,A=N+b,T=this.left+p;else if(n==="x"){if(a==="center")N=w((e.top+e.bottom)/2+.5);else if(ct(a)){const z=Object.keys(a)[0],B=a[z];N=w(this.chart.scales[z].getPixelForValue(B))}D=e.top,G=e.bottom,M=N+b,_=M+p}else if(n==="y"){if(a==="center")N=w((e.left+e.right)/2);else if(ct(a)){const z=Object.keys(a)[0],B=a[z];N=w(this.chart.scales[z].getPixelForValue(B))}A=N-b,T=A-p,I=e.left,R=e.right}const U=nt(s.ticks.maxTicksLimit,f),q=Math.max(1,Math.ceil(f/U));for(C=0;C<f;C+=q){const z=this.getContext(C),B=i.setContext(z),$=l.setContext(z),Q=B.lineWidth,H=B.color,V=$.dash||[],Y=$.dashOffset,Z=B.tickWidth,ee=B.tickColor,le=B.tickBorderDash||[],ge=B.tickBorderDashOffset;P=KJ(this,C,c),P!==void 0&&(S=nl(r,P,Q),u?A=T=I=R=S:M=_=D=G=S,g.push({tx1:A,ty1:M,tx2:T,ty2:_,x1:I,y1:D,x2:R,y2:G,width:Q,color:H,borderDash:V,borderDashOffset:Y,tickWidth:Z,tickColor:ee,tickBorderDash:le,tickBorderDashOffset:ge}))}return this._ticksLength=f,this._borderValue=N,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,p=Vd(r.grid),g=p+d,x=f?-d:g,v=-Bs(this.labelRotation),b=[];let w,N,C,P,S,A,M,T,_,I,D,R,G="middle";if(s==="top")A=this.bottom-x,M=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+x,M=this._getXAxisLabelAlignment();else if(s==="left"){const q=this._getYAxisLabelAlignment(p);M=q.textAlign,S=q.x}else if(s==="right"){const q=this._getYAxisLabelAlignment(p);M=q.textAlign,S=q.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+g;else if(ct(s)){const q=Object.keys(s)[0],z=s[q];A=this.chart.scales[q].getPixelForValue(z)+g}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-g;else if(ct(s)){const q=Object.keys(s)[0],z=s[q];S=this.chart.scales[q].getPixelForValue(z)}M=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?G="top":c==="end"&&(G="bottom"));const U=this._getLabelSizes();for(w=0,N=l.length;w<N;++w){C=l[w],P=C.label;const q=i.setContext(this.getContext(w));T=this.getPixelForTick(w)+i.labelOffset,_=this._resolveTickFontOptions(w),I=_.lineHeight,D=Vt(P)?P.length:1;const z=D/2,B=q.color,$=q.textStrokeColor,Q=q.textStrokeWidth;let H=M;a?(S=T,M==="inner"&&(w===N-1?H=this.options.reverse?"left":"right":w===0?H=this.options.reverse?"right":"left":H="center"),s==="top"?u==="near"||v!==0?R=-D*I+I/2:u==="center"?R=-U.highest.height/2-z*I+I:R=-U.highest.height+I/2:u==="near"||v!==0?R=I/2:u==="center"?R=U.highest.height/2-z*I:R=U.highest.height-D*I,f&&(R*=-1),v!==0&&!q.showLabelBackdrop&&(S+=I/2*Math.sin(v))):(A=T,R=(1-D)*I/2);let V;if(q.showLabelBackdrop){const Y=or(q.backdropPadding),Z=U.heights[w],ee=U.widths[w];let le=R-Y.top,ge=0-Y.left;switch(G){case"middle":le-=Z/2;break;case"bottom":le-=Z;break}switch(M){case"center":ge-=ee/2;break;case"right":ge-=ee;break;case"inner":w===N-1?ge-=ee:w>0&&(ge-=ee/2);break}V={left:ge,top:le,width:ee+Y.width,height:Z+Y.height,color:q.backdropColor}}b.push({label:P,font:_,textOffset:R,options:{rotation:v,color:B,strokeColor:$,strokeWidth:Q,textAlign:H,textBaseline:G,translation:[S,A],backdrop:V}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Bs(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,p;this.isHorizontal()?(u=nl(e,this.left,a)-a/2,d=nl(e,this.right,l)+l/2,f=p=c):(f=nl(e,this.top,a)-a/2,p=nl(e,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&hx(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;Kl(r,u,0,d,c,l)}s&&fx(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Cn(r.font),a=or(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||ct(n)?(c+=a.bottom,Vt(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:p}=JJ(this,c,n,l);Kl(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:QJ(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=nt(e.grid&&e.grid.z,-1),s=nt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==oc.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Cn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sp{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;tZ(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,ZJ(e,a,r),this.override&&$t.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in $t[s]&&(delete $t[s][r],this.override&&delete ql[r])}}function ZJ(t,e,n){const r=Rh(Object.create(null),[n?$t.get(n):{},$t.get(e),t.defaults]);$t.set(e,r),t.defaultRoutes&&eZ(e,t.defaultRoutes),t.descriptors&&$t.describe(e,t.descriptors)}function eZ(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");$t.route(i,s,c,l)})}function tZ(t){return"id"in t&&"defaults"in t}class nZ{constructor(){this.controllers=new sp(Oo,"datasets",!0),this.elements=new sp(Na,"elements"),this.plugins=new sp(Object,"plugins"),this.scales=new sp(oc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):jt(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=HN(e);Mt(r["before"+s],[],r),n[e](r),Mt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var li=new nZ;class rZ{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(Mt(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=nt(r.options&&r.options.plugins,{}),i=sZ(r);return s===!1&&!n?[]:aZ(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function sZ(t){const e={},n=[],r=Object.keys(li.plugins.items);for(let i=0;i<r.length;i++)n.push(li.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function iZ(t,e){return!e&&t===!1?null:t===!0?{}:t}function aZ(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=iZ(r[c],s);u!==null&&i.push({plugin:l,options:oZ(t.config,{plugin:l,local:n[c]},u,a)})}return i}function oZ(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function E2(t,e){const n=$t.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function lZ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function cZ(t,e){return t===e?"_index_":"_value_"}function yT(t){if(t==="x"||t==="y"||t==="r")return t}function uZ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function M2(t,...e){if(yT(t))return t;for(const n of e){const r=n.axis||uZ(n.position)||t.length>1&&yT(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function bT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function dZ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return bT(t,"x",n[0])||bT(t,"y",n[0])}return{}}function hZ(t,e){const n=ql[t.type]||{scales:{}},r=e.scales||{},s=E2(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!ct(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=M2(a,l,dZ(a,t),$t.scales[l.type]),u=cZ(c,s),d=n.scales||{};i[a]=uh(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||E2(l,e),d=(ql[l]||{}).scales||{};Object.keys(d).forEach(f=>{const p=lZ(f,c),g=a[p+"AxisID"]||p;i[g]=i[g]||Object.create(null),uh(i[g],[{axis:p},r[g],d[f]])})}),Object.keys(i).forEach(a=>{const l=i[a];uh(l,[$t.scales[l.type],$t.scale])}),i}function AD(t){const e=t.options||(t.options={});e.plugins=nt(e.plugins,{}),e.scales=hZ(t,e)}function OD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fZ(t){return t=t||{},t.data=OD(t.data),AD(t),t}const vT=new Map,_D=new Set;function ip(t,e){let n=vT.get(t);return n||(n=e(),vT.set(t,n),_D.add(n)),n}const $d=(t,e,n)=>{const r=So(e,n);r!==void 0&&t.add(r)};class mZ{constructor(e){this._config=fZ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=OD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),AD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ip(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ip(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ip(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ip(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(f=>$d(c,e,f))),d.forEach(f=>$d(c,s,f)),d.forEach(f=>$d(c,ql[i]||{},f)),d.forEach(f=>$d(c,$t,f)),d.forEach(f=>$d(c,k2,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),_D.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,ql[n]||{},$t.datasets[n]||{},{type:n},$t,k2]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=wT(this._resolverCache,e,s);let c=a;if(gZ(a,n)){i.$shared=!1,r=Co(r)?r():r;const u=this.createResolver(e,r,l);c=wu(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=wT(this._resolverCache,e,r);return ct(n)?wu(i,n,void 0,s):i}}function wT(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:YN(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const pZ=t=>ct(t)&&Object.getOwnPropertyNames(t).some(e=>Co(t[e]));function gZ(t,e){const{isScriptable:n,isIndexable:r}=cD(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(Co(l)||pZ(l))||a&&Vt(l))return!0}return!1}var xZ="4.5.1";const yZ=["top","bottom","left","right","chartArea"];function NT(t,e){return t==="top"||t==="bottom"||yZ.indexOf(t)===-1&&e==="x"}function jT(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function ST(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Mt(n&&n.onComplete,[t],e)}function bZ(t){const e=t.chart,n=e.options.animation;Mt(n&&n.onProgress,[t],e)}function DD(t){return JN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Xp={},CT=t=>{const e=DD(t);return Object.values(Xp).filter(n=>n.canvas===e).pop()};function vZ(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function wZ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let gx=class{static defaults=$t;static instances=Xp;static overrides=ql;static registry=li;static version=xZ;static getChart=CT;static register(...e){li.add(...e),kT()}static unregister(...e){li.remove(...e),kT()}constructor(e,n){const r=this.config=new mZ(n),s=DD(e),i=CT(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||zJ(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=xX(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=DX(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Xp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ki.listen(this,"complete",ST),Ki.listen(this,"progress",bZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return lt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():G5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return W5(this.canvas,this.ctx),this}stop(){return Ki.stop(this),this}resize(e,n){Ki.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,G5(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Mt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};jt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=M2(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),jt(i,a=>{const l=a.options,c=l.id,u=M2(c,l),d=nt(l.type,a.dtype);(l.position===void 0||NT(l.position,u)!==NT(a.dposition))&&(l.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===d)f=r[c];else{const p=li.getScale(d);f=new p({id:c,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,e)}),jt(s,(a,l)=>{a||delete r[l]}),jt(r,a=>{ir.configure(this,a,a.options),ir.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(jT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||E2(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=li.getController(l),{datasetElementType:u,dataElementType:d}=$t.datasets[l];Object.assign(c,{dataElementType:li.getElement(d),datasetElementType:u&&li.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){jt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),p=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||jt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jT("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){jt(this.scales,e=>{ir.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!L5(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;vZ(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!L5(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ir.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],jt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Co(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ki.has(this)?this.attached&&!Ki.running(this)&&Ki.start(this):(this.draw(),ST({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=vD(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&hx(n,s),e.controller.draw(),s&&fx(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return sa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=yJ.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Fh(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ki.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),W5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Xp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};jt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){jt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},jt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!Tg(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=jX(e),u=wZ(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Mt(i.onHover,[e,l,this],this),c&&Mt(i.onClick,[e,l,this],this));const d=!Tg(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function kT(){return jt(gx.instances,t=>t._plugins.invalidate())}function NZ(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/a,rr(r-n));if(t.beginPath(),t.arc(s,i,a-u/2,r+f/2,n-f/2),l>0){const p=Math.min(u/l,rr(r-n));t.arc(s,i,l+u/2,n-p/2,r+p/2,!0)}else{const p=Math.min(u/2,a*rr(r-n));if(d==="round")t.arc(s,i,p,n-mt/2,r+mt/2,!0);else if(d==="bevel"){const g=2*p*p,x=-g*Math.cos(n+mt/2)+s,v=-g*Math.sin(n+mt/2)+i,b=g*Math.cos(r+mt/2)+s,w=g*Math.sin(r+mt/2)+i;t.lineTo(x,v),t.lineTo(b,w)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function jZ(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=s/l;t.beginPath(),t.arc(i,a,l,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+cn,r-cn),t.closePath(),t.clip()}function SZ(t){return GN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function CZ(t,e,n,r){const s=SZ(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return An(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:An(s.innerStart,0,a),innerEnd:An(s.innerEnd,0,a)}}function Bc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function _g(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),p=d>0?d+r+n+u:0;let g=0;const x=s-c;if(r){const q=d>0?d-r:0,z=f>0?f-r:0,B=(q+z)/2,$=B!==0?x*B/(B+r):x;g=(x-$)/2}const v=Math.max(.001,x*f-n/mt)/f,b=(x-v)/2,w=c+b+g,N=s-b-g,{outerStart:C,outerEnd:P,innerStart:S,innerEnd:A}=CZ(e,p,f,N-w),M=f-C,T=f-P,_=w+C/M,I=N-P/T,D=p+S,R=p+A,G=w+S/D,U=N-A/R;if(t.beginPath(),i){const q=(_+I)/2;if(t.arc(a,l,f,_,q),t.arc(a,l,f,q,I),P>0){const Q=Bc(T,I,a,l);t.arc(Q.x,Q.y,P,I,N+cn)}const z=Bc(R,N,a,l);if(t.lineTo(z.x,z.y),A>0){const Q=Bc(R,U,a,l);t.arc(Q.x,Q.y,A,N+cn,U+Math.PI)}const B=(N-A/p+(w+S/p))/2;if(t.arc(a,l,p,N-A/p,B,!0),t.arc(a,l,p,B,w+S/p,!0),S>0){const Q=Bc(D,G,a,l);t.arc(Q.x,Q.y,S,G+Math.PI,w-cn)}const $=Bc(M,w,a,l);if(t.lineTo($.x,$.y),C>0){const Q=Bc(M,_,a,l);t.arc(Q.x,Q.y,C,w-cn,_)}}else{t.moveTo(a,l);const q=Math.cos(_)*f+a,z=Math.sin(_)*f+l;t.lineTo(q,z);const B=Math.cos(I)*f+a,$=Math.sin(I)*f+l;t.lineTo(B,$)}t.closePath()}function kZ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){_g(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%Rt||Rt))}return _g(t,e,n,r,c,s),t.fill(),c}function TZ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:p,borderRadius:g}=c,x=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=p,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let v=e.endAngle;if(i){_g(t,e,n,r,v,s);for(let b=0;b<i;++b)t.stroke();isNaN(l)||(v=a+(l%Rt||Rt))}x&&jZ(t,e,v),c.selfJoin&&v-a>=mt&&g===0&&d!=="miter"&&NZ(t,e,v),i||(_g(t,e,n,r,v,s),t.stroke())}class EZ extends Na{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:i,distance:a}=Z_(s,{x:e,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=nt(f,c-l),x=zh(i,l,c)&&l!==c,v=g>=Rt||x,b=na(a,u+p,d+p);return v&&b}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:i,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,d=(s+i)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>Rt?Math.floor(r/Rt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(mt,r||0)),u=s*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,kZ(e,this,u,i,a),TZ(e,this,u,i,a),e.restore()}}function ID(t,e,n=e){t.lineCap=nt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(nt(n.borderDash,e.borderDash)),t.lineDashOffset=nt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=nt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=nt(n.borderWidth,e.borderWidth),t.strokeStyle=nt(n.borderColor,e.borderColor)}function MZ(t,e,n){t.lineTo(n.x,n.y)}function PZ(t){return t.stepped?qX:t.tension||t.cubicInterpolationMode==="monotone"?KX:MZ}function LD(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(i,l),d=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:u<c&&!d?r+u-c:u-c}}function AZ(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:u}=LD(s,n,r),d=PZ(i);let{move:f=!0,reverse:p}=r||{},g,x,v;for(g=0;g<=u;++g)x=s[(l+(p?u-g:g))%a],!x.skip&&(f?(t.moveTo(x.x,x.y),f=!1):d(t,v,x,p,i.stepped),v=x);return c&&(x=s[(l+(p?u:0))%a],d(t,v,x,p,i.stepped)),!!c}function OZ(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=LD(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,f=0,p,g,x,v,b,w;const N=P=>(a+(u?l-P:P))%i,C=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,w))};for(c&&(g=s[N(0)],t.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=s[N(p)],g.skip)continue;const P=g.x,S=g.y,A=P|0;A===x?(S<v?v=S:S>b&&(b=S),d=(f*d+P)/++f):(C(),t.lineTo(P,S),x=A,f=0,v=b=S),w=S}C()}function P2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?OZ:AZ}function _Z(t){return t.stepped?CQ:t.tension||t.cubicInterpolationMode==="monotone"?kQ:ll}function DZ(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),ID(t,e.options),t.stroke(s)}function IZ(t,e,n,r){const{segments:s,options:i}=e,a=P2(e);for(const l of s)ID(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const LZ=typeof Path2D=="function";function RZ(t,e,n,r){LZ&&!e.options.segment?DZ(t,e,n,r):IZ(t,e,n,r)}class xx extends Na{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;xQ(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=OQ(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=bD(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=_Z(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:p}=a[u],g=i[f],x=i[p];if(g===x){l.push(g);continue}const v=Math.abs((s-g[n])/(x[n]-g[n])),b=c(g,x,v,r.stepped);b[n]=e[n],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,n,r){return P2(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=P2(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),RZ(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function TT(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class FZ extends Na{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return TT(this,e,"x",n)}inYRange(e,n){return TT(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!sa(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,T2(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function RD(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=a/2,l=Math.min(n,s),c=Math.max(n,s),u=r-f,d=r+f):(f=i/2,l=n-f,c=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function io(t,e,n,r){return t?0:An(e,n,r)}function zZ(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=lD(r);return{t:io(s.top,i.top,0,n),r:io(s.right,i.right,0,e),b:io(s.bottom,i.bottom,0,n),l:io(s.left,i.left,0,e)}}function VZ(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=El(s),a=Math.min(e,n),l=t.borderSkipped,c=r||ct(s);return{topLeft:io(!c||l.top||l.left,i.topLeft,0,a),topRight:io(!c||l.top||l.right,i.topRight,0,a),bottomLeft:io(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:io(!c||l.bottom||l.right,i.bottomRight,0,a)}}function $Z(t){const e=RD(t),n=e.right-e.left,r=e.bottom-e.top,s=zZ(t,n/2,r/2),i=VZ(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function b1(t,e,n,r){const s=e===null,i=n===null,l=t&&!(s&&i)&&RD(t,r);return l&&(s||na(e,l.left,l.right))&&(i||na(n,l.top,l.bottom))}function BZ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function HZ(t,e){t.rect(e.x,e.y,e.w,e.h)}function v1(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class UZ extends Na{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=$Z(this),l=BZ(a.radius)?Vh:HZ;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,v1(a,n,i)),e.clip(),l(e,v1(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,v1(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return b1(this,e,n,r)}inXRange(e,n){return b1(this,e,null,n)}inYRange(e,n){return b1(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var WZ=Object.freeze({__proto__:null,ArcElement:EZ,BarElement:UZ,LineElement:xx,PointElement:FZ});const A2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ET=A2.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function FD(t){return A2[t%A2.length]}function zD(t){return ET[t%ET.length]}function qZ(t,e){return t.borderColor=FD(e),t.backgroundColor=zD(e),++e}function KZ(t,e){return t.backgroundColor=t.data.map(()=>FD(e++)),e}function GZ(t,e){return t.backgroundColor=t.data.map(()=>zD(e++)),e}function YZ(t){let e=0;return(n,r)=>{const s=t.getDatasetMeta(r).controller;s instanceof ej?e=KZ(n,e):s instanceof CD?e=GZ(n,e):s&&(e=qZ(n,e))}}function MT(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function XZ(t){return t&&(t.borderColor||t.backgroundColor)}function QZ(){return $t.borderColor!=="rgba(0,0,0,0.1)"||$t.backgroundColor!=="rgba(0,0,0,0.1)"}var JZ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=t.config,{elements:i}=s,a=MT(r)||XZ(s)||i&&MT(i)||QZ();if(!n.forceOverride&&a)return;const l=YZ(t);r.forEach(l)}};function ZZ(t,e,n,r,s){const i=s.samples||r;if(i>=n)return t.slice(e,e+n);const a=[],l=(n-2)/(i-2);let c=0;const u=e+n-1;let d=e,f,p,g,x,v;for(a[c++]=t[d],f=0;f<i-2;f++){let b=0,w=0,N;const C=Math.floor((f+1)*l)+1+e,P=Math.min(Math.floor((f+2)*l)+1,n)+e,S=P-C;for(N=C;N<P;N++)b+=t[N].x,w+=t[N].y;b/=S,w/=S;const A=Math.floor(f*l)+1+e,M=Math.min(Math.floor((f+1)*l)+1,n)+e,{x:T,y:_}=t[d];for(g=x=-1,N=A;N<M;N++)x=.5*Math.abs((T-b)*(t[N].y-_)-(T-t[N].x)*(w-_)),x>g&&(g=x,p=t[N],v=N);a[c++]=p,d=v}return a[c++]=t[u],a}function eee(t,e,n,r){let s=0,i=0,a,l,c,u,d,f,p,g,x,v;const b=[],w=e+n-1,N=t[e].x,P=t[w].x-N;for(a=e;a<e+n;++a){l=t[a],c=(l.x-N)/P*r,u=l.y;const S=c|0;if(S===d)u<x?(x=u,f=a):u>v&&(v=u,p=a),s=(i*s+l.x)/++i;else{const A=a-1;if(!lt(f)&&!lt(p)){const M=Math.min(f,p),T=Math.max(f,p);M!==g&&M!==A&&b.push({...t[M],x:s}),T!==g&&T!==A&&b.push({...t[T],x:s})}a>0&&A!==g&&b.push(t[A]),b.push(l),d=S,i=0,x=v=u,f=p=g=a}}return b}function VD(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function PT(t){t.data.datasets.forEach(e=>{VD(e)})}function tee(t,e){const n=e.length;let r=0,s;const{iScale:i}=t,{min:a,max:l,minDefined:c,maxDefined:u}=i.getUserBounds();return c&&(r=An(ra(e,i.axis,a).lo,0,n-1)),u?s=An(ra(e,i.axis,l).hi+1,r,n)-r:s=n-r,{start:r,count:s}}var nee={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){PT(t);return}const r=t.width;t.data.datasets.forEach((s,i)=>{const{_data:a,indexAxis:l}=s,c=t.getDatasetMeta(i),u=a||s.data;if(Jd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:p}=tee(c,u);const g=n.threshold||4*r;if(p<=g){VD(s);return}lt(a)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let x;switch(n.algorithm){case"lttb":x=ZZ(u,f,p,r,n);break;case"min-max":x=eee(u,f,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(t){PT(t)}};function ree(t,e,n){const r=t.segments,s=t.points,i=e.points,a=[];for(const l of r){let{start:c,end:u}=l;u=yx(c,u,s);const d=O2(n,s[c],s[u],l.loop);if(!e.segments){a.push({source:l,target:d,start:s[c],end:s[u]});continue}const f=bD(e,d);for(const p of f){const g=O2(n,i[p.start],i[p.end],p.loop),x=yD(l,s,g);for(const v of x)a.push({source:v,target:p,start:{[n]:AT(d,g,"start",Math.max)},end:{[n]:AT(d,g,"end",Math.min)}})}}return a}function O2(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=rr(s),i=rr(i)),{property:t,start:s,end:i}}function see(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:l})=>{l=yx(a,l,s);const c=s[a],u=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:u.y}))}),i}function yx(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function AT(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function $D(t,e){let n=[],r=!1;return Vt(t)?(r=!0,n=t):n=see(t,e),n.length?new xx({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function OT(t){return t&&t.fill!==!1}function iee(t,e,n){let s=t[e].fill;const i=[e];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!tn(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function aee(t,e,n){const r=uee(t);if(ct(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return tn(s)&&Math.floor(s)===s?oee(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function oee(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function lee(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ct(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function cee(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:ct(t)?r=t.value:r=e.getBaseValue(),r}function uee(t){const e=t.options,n=e.fill;let r=nt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function dee(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,a=r.points,l=hee(e,n);l.push($D({x:null,y:e.bottom},r));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)fee(s,a[d],l)}return new xx({points:s,options:{}})}function hee(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function fee(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:l,point:c}=mee(i,e,"x");if(!(!c||a&&l)){if(a)r.unshift(c);else if(t.push(c),!l)break}}t.push(...r)}function mee(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,a=t.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],f=a[d.start][n],p=a[d.end][n];if(na(s,f,p)){l=s===f,c=s===p;break}}return{first:l,last:c,point:r}}class BD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:Rt},e.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function pee(t){const{chart:e,fill:n,line:r}=t;if(tn(n))return gee(e,n);if(n==="stack")return dee(t);if(n==="shape")return!0;const s=xee(t);return s instanceof BD?s:$D(s,r)}function gee(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function xee(t){return(t.scale||{}).getPointPositionForValue?bee(t):yee(t)}function yee(t){const{scale:e={},fill:n}=t,r=lee(n,e);if(tn(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function bee(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,a=cee(n,e,i),l=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,i);return new BD({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(e.getPointPositionForValue(c,a));return l}function w1(t,e,n){const r=pee(e),{chart:s,index:i,line:a,scale:l,axis:c}=e,u=a.options,d=u.fill,f=u.backgroundColor,{above:p=f,below:g=f}=d||{},x=s.getDatasetMeta(i),v=vD(s,x);r&&a.points.length&&(hx(t,n),vee(t,{line:a,target:r,above:p,below:g,area:n,scale:l,axis:c,clip:v}),fx(t))}function vee(t,e){const{line:n,target:r,above:s,below:i,area:a,scale:l,clip:c}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?(_T(t,r,a.top),N1(t,{line:n,target:r,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),_T(t,r,a.bottom)):u==="y"&&(DT(t,r,a.left),N1(t,{line:n,target:r,color:i,scale:l,property:u,clip:c}),t.restore(),t.save(),DT(t,r,a.right),d=s)),N1(t,{line:n,target:r,color:d,scale:l,property:u,clip:c}),t.restore()}function _T(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[yx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function DT(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[yx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function N1(t,e){const{line:n,target:r,property:s,color:i,scale:a,clip:l}=e,c=ree(n,r,s);for(const{source:u,target:d,start:f,end:p}of c){const{style:{backgroundColor:g=i}={}}=u,x=r!==!0;t.save(),t.fillStyle=g,wee(t,a,l,x&&O2(s,f,p)),t.beginPath();const v=!!n.pathSegment(t,u);let b;if(x){v?t.closePath():IT(t,r,p,s);const w=!!r.pathSegment(t,d,{move:v,reverse:!0});b=v&&w,b||IT(t,r,f,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function wee(t,e,n,r){const s=e.chart.chartArea,{property:i,start:a,end:l}=r||{};if(i==="x"||i==="y"){let c,u,d,f;i==="x"?(c=a,u=s.top,d=l,f=s.bottom):(c=s.left,u=a,d=s.right,f=l),t.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function IT(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var Nee={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,a,l,c;for(a=0;a<r;++a)i=t.getDatasetMeta(a),l=i.dataset,c=null,l&&l.options&&l instanceof xx&&(c={visible:t.isDatasetVisible(a),index:a,fill:aee(l,a,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(a=0;a<r;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=iee(s,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&w1(t.ctx,l,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;OT(i)&&w1(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!OT(r)||n.drawTime!=="beforeDatasetDraw"||w1(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const LT=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},jee=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class RT extends Na{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Mt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Cn(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=LT(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let f=e;i.textAlign="left",i.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((x,v)=>{const b=r+n/2+i.measureText(x.text).width;(v===0||u[u.length-1]+b+2*l>a)&&(f+=d,u[u.length-(v>0?0:1)]=0,g+=d,p++),c[v]={left:0,top:g,row:p,width:b,height:s},u[u.length-1]+=b+l}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=l,p=0,g=0,x=0,v=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:N,itemHeight:C}=See(r,n,i,b,s);w>0&&g+C+2*l>d&&(f+=p+l,u.push({width:p,height:g}),x+=p+l,v++,p=g=0),c[w]={left:x,top:g,col:v,width:N,height:C},p=Math.max(p,N),g+=C+l}),f+=p,u.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=uu(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=er(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=er(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=er(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=er(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;hx(e,this),this._draw(),fx(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=$t.color,c=uu(e.rtl,this.left,this.width),u=Cn(a.font),{padding:d}=a,f=u.size,p=f/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:x,boxHeight:v,itemHeight:b}=LT(a,f),w=function(A,M,T){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;s.save();const _=nt(T.lineWidth,1);if(s.fillStyle=nt(T.fillStyle,l),s.lineCap=nt(T.lineCap,"butt"),s.lineDashOffset=nt(T.lineDashOffset,0),s.lineJoin=nt(T.lineJoin,"miter"),s.lineWidth=_,s.strokeStyle=nt(T.strokeStyle,l),s.setLineDash(nt(T.lineDash,[])),a.usePointStyle){const I={radius:v*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:_},D=c.xPlus(A,x/2),R=M+p;oD(s,I,D,R,a.pointStyleWidth&&x)}else{const I=M+Math.max((f-v)/2,0),D=c.leftForLtr(A,x),R=El(T.borderRadius);s.beginPath(),Object.values(R).some(G=>G!==0)?Vh(s,{x:D,y:I,w:x,h:v,radius:R}):s.rect(D,I,x,v),s.fill(),_!==0&&s.stroke()}s.restore()},N=function(A,M,T){Kl(s,T.text,A,M+b/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},C=this.isHorizontal(),P=this._computeTitleHeight();C?g={x:er(i,this.left+d,this.right-r[0]),y:this.top+d+P,line:0}:g={x:this.left+d,y:er(i,this.top+P+d,this.bottom-n[0].height),line:0},pD(this.ctx,e.textDirection);const S=b+d;this.legendItems.forEach((A,M)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const T=s.measureText(A.text).width,_=c.textAlign(A.textAlign||(A.textAlign=a.textAlign)),I=x+p+T;let D=g.x,R=g.y;c.setWidth(this.width),C?M>0&&D+I+d>this.right&&(R=g.y+=S,g.line++,D=g.x=er(i,this.left+d,this.right-r[g.line])):M>0&&R+S>this.bottom&&(D=g.x=D+n[g.line].width+d,g.line++,R=g.y=er(i,this.top+P+d,this.bottom-n[g.line].height));const G=c.x(D);if(w(G,R,A),D=IX(_,D+x+p,C?D+I:this.right,e.rtl),N(c.x(D),R,A),C)g.x+=I+d;else if(typeof A.text!="string"){const U=u.lineHeight;g.y+=HD(A,U)+d}else g.y+=S}),gD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Cn(n.font),s=or(n.padding);if(!n.display)return;const i=uu(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,f=er(e.align,f,this.right-p);else{const x=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=u+er(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=er(l,f,f+p);a.textAlign=i.textAlign(qN(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Kl(a,n.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,n=Cn(e.font),r=or(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(na(e,this.left,this.right)&&na(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],na(e,s.left,s.left+s.width)&&na(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Tee(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=jee(s,r);s&&!i&&Mt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Mt(n.onHover,[e,r,this],this)}else r&&Mt(n.onClick,[e,r,this],this)}}function See(t,e,n,r,s){const i=Cee(r,t,e,n),a=kee(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function Cee(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function kee(t,e,n){let r=t;return typeof e.text!="string"&&(r=HD(e,n)),r}function HD(t,e){const n=t.text?t.text.length:0;return e*n}function Tee(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Eee={id:"legend",_element:RT,start(t,e,n){const r=t.legend=new RT({ctx:t.ctx,options:n,chart:t});ir.configure(t,r,n),ir.addBox(t,r)},stop(t){ir.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ir.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=or(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class nj extends Na{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Vt(r.text)?r.text.length:1;this._padding=or(r.padding);const i=s*Cn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,d,f;return this.isHorizontal()?(d=er(l,r,i),f=n+e,u=i-r):(a.position==="left"?(d=r+e,f=er(l,s,n),c=mt*-.5):(d=i-e,f=er(l,n,s),c=mt*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Cn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);Kl(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:qN(n.align),textBaseline:"middle",translation:[a,l]})}}function Mee(t,e){const n=new nj({ctx:t.ctx,options:e,chart:t});ir.configure(t,n,e),ir.addBox(t,n),t.titleBlock=n}var Pee={id:"title",_element:nj,start(t,e,n){Mee(t,n)},stop(t){const e=t.titleBlock;ir.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ir.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ap=new WeakMap;var Aee={id:"subtitle",start(t,e,n){const r=new nj({ctx:t.ctx,options:n,chart:t});ir.configure(t,r,n),ir.addBox(t,r),ap.set(t,r)},stop(t){ir.removeBox(t,ap.get(t)),ap.delete(t)},beforeUpdate(t,e,n){const r=ap.get(t);ir.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const eh={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=C2(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function ai(t,e){return e&&(Vt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Gi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Oee(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function FT(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=Cn(e.bodyFont),u=Cn(e.titleFont),d=Cn(e.footerFont),f=i.length,p=s.length,g=r.length,x=or(e.padding);let v=x.height,b=0,w=r.reduce((P,S)=>P+S.before.length+S.lines.length+S.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),w){const P=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=g*P+(w-g)*c.lineHeight+(w-1)*e.bodySpacing}p&&(v+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let N=0;const C=function(P){b=Math.max(b,n.measureText(P).width+N)};return n.save(),n.font=u.string,jt(t.title,C),n.font=c.string,jt(t.beforeBody.concat(t.afterBody),C),N=e.displayColors?a+2+e.boxPadding:0,jt(r,P=>{jt(P.before,C),jt(P.lines,C),jt(P.after,C)}),N=0,n.font=d.string,jt(t.footer,C),n.restore(),b+=x.width,{width:b,height:v}}function _ee(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Dee(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function Iee(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),Dee(u,t,e,n)&&(u="center"),u}function zT(t,e,n){const r=n.yAlign||e.yAlign||_ee(t,n);return{xAlign:n.xAlign||e.xAlign||Iee(t,e,n,r),yAlign:r}}function Lee(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Ree(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function VT(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=El(a);let x=Lee(e,l);const v=Ree(e,c,u);return c==="center"?l==="left"?x+=u:l==="right"&&(x-=u):l==="left"?x-=Math.max(d,p)+s:l==="right"&&(x+=Math.max(f,g)+s),{x:An(x,0,r.width-e.width),y:An(v,0,r.height-e.height)}}function op(t,e,n){const r=or(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function $T(t){return ai([],Gi(t))}function Fee(t,e,n){return Ao(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function BT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const UD={beforeTitle:$i,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:$i,beforeBody:$i,beforeLabel:$i,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return lt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$i,afterBody:$i,beforeFooter:$i,footer:$i,afterFooter:$i};function Pr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?UD[e].call(n,r):s}class HT extends Na{static positioners=eh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new wD(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Fee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Pr(r,"beforeTitle",this,e),i=Pr(r,"title",this,e),a=Pr(r,"afterTitle",this,e);let l=[];return l=ai(l,Gi(s)),l=ai(l,Gi(i)),l=ai(l,Gi(a)),l}getBeforeBody(e,n){return $T(Pr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return jt(e,i=>{const a={before:[],lines:[],after:[]},l=BT(r,i);ai(a.before,Gi(Pr(l,"beforeLabel",this,i))),ai(a.lines,Pr(l,"label",this,i)),ai(a.after,Gi(Pr(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return $T(Pr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Pr(r,"beforeFooter",this,e),i=Pr(r,"footer",this,e),a=Pr(r,"afterFooter",this,e);let l=[];return l=ai(l,Gi(s)),l=ai(l,Gi(i)),l=ai(l,Gi(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(Oee(this.chart,n[c]));return e.filter&&(l=l.filter((d,f,p)=>e.filter(d,f,p,r))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,r))),jt(l,d=>{const f=BT(e.callbacks,d);s.push(Pr(f,"labelColor",this,d)),i.push(Pr(f,"labelPointStyle",this,d)),a.push(Pr(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=eh[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=FT(this,r),u=Object.assign({},l,c),d=zT(this.chart,r,u),f=VT(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=El(l),{x:p,y:g}=e,{width:x,height:v}=n;let b,w,N,C,P,S;return i==="center"?(P=g+v/2,s==="left"?(b=p,w=b-a,C=P+a,S=P-a):(b=p+x,w=b+a,C=P-a,S=P+a),N=b):(s==="left"?w=p+Math.max(c,d)+a:s==="right"?w=p+x-Math.max(u,f)-a:w=this.caretX,i==="top"?(C=g,P=C-a,b=w-a,N=w+a):(C=g+v,P=C+a,b=w+a,N=w-a),S=C),{x1:b,x2:w,x3:N,y1:C,y2:P,y3:S}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=uu(r.rtl,this.x,this.width);for(e.x=op(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Cn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=Cn(i.bodyFont),f=op(this,"left",i),p=s.x(f),g=c<d.lineHeight?(d.lineHeight-c)/2:0,x=n.y+g;if(i.usePointStyle){const v={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=s.leftForLtr(p,u)+u/2,w=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,T2(e,v,b,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,T2(e,v,b,w)}else{e.lineWidth=ct(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(p,u),b=s.leftForLtr(s.xPlus(p,1),u-2),w=El(a.borderRadius);Object.values(w).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Vh(e,{x:v,y:x,w:u,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Vh(e,{x:b,y:x+1,w:u-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,x,u,c),e.strokeRect(v,x,u,c),e.fillStyle=a.backgroundColor,e.fillRect(b,x+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,f=Cn(r.bodyFont);let p=f.lineHeight,g=0;const x=uu(r.rtl,this.x,this.width),v=function(T){n.fillText(T,x.x(e.x+g),e.y+p/2),e.y+=p+i},b=x.textAlign(a);let w,N,C,P,S,A,M;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=op(this,b,r),n.fillStyle=r.bodyColor,jt(this.beforeBody,v),g=l&&b!=="right"?a==="center"?u/2+d:u+2+d:0,P=0,A=s.length;P<A;++P){for(w=s[P],N=this.labelTextColors[P],n.fillStyle=N,jt(w.before,v),C=w.lines,l&&C.length&&(this._drawColorBox(n,e,P,x,r),p=Math.max(f.lineHeight,c)),S=0,M=C.length;S<M;++S)v(C[S]),p=f.lineHeight;jt(w.after,v)}g=0,p=f.lineHeight,jt(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=uu(r.rtl,this.x,this.width);for(e.x=op(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Cn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:x}=El(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+u-p,c),n.quadraticCurveTo(l+u,c,l+u,c+p),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+u,c+d-x),n.quadraticCurveTo(l+u,c+d,l+u-x,c+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+g,c+d),n.quadraticCurveTo(l,c+d,l,c+d-g),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=eh[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=FT(this,e),c=Object.assign({},a,this._size),u=zT(n,e,c),d=VT(e,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=or(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),pD(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),gD(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!Tg(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!Tg(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=eh[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}var zee={id:"tooltip",_element:HT,positioners:eh,afterInit(t,e,n){n&&(t.tooltip=new HT({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:UD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Vee=Object.freeze({__proto__:null,Colors:JZ,Decimation:nee,Filler:Nee,Legend:Eee,SubTitle:Aee,Title:Pee,Tooltip:zee});const $ee=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Bee(t,e,n,r){const s=t.indexOf(e);if(s===-1)return $ee(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const Hee=(t,e)=>t===null?null:An(Math.round(t),0,e);function UT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Uee extends oc{static id="category";static defaults={ticks:{callback:UT}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(lt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Bee(r,e,nt(n,e),this._addedLabels),Hee(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return UT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Wee(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:p}=t,g=i||1,x=d-1,{min:v,max:b}=e,w=!lt(a),N=!lt(l),C=!lt(u),P=(b-v)/(f+1);let S=F5((b-v)/x/g)*g,A,M,T,_;if(S<1e-14&&!w&&!N)return[{value:v},{value:b}];_=Math.ceil(b/S)-Math.floor(v/S),_>x&&(S=F5(_*S/x/g)*g),lt(c)||(A=Math.pow(10,c),S=Math.ceil(S*A)/A),s==="ticks"?(M=Math.floor(v/S)*S,T=Math.ceil(b/S)*S):(M=v,T=b),w&&N&&i&&EX((l-a)/i,S/1e3)?(_=Math.round(Math.min((l-a)/S,d)),S=(l-a)/_,M=a,T=l):C?(M=w?a:M,T=N?l:T,_=u-1,S=(T-M)/_):(_=(T-M)/S,dh(_,Math.round(_),S/1e3)?_=Math.round(_):_=Math.ceil(_));const I=Math.max(z5(S),z5(M));A=Math.pow(10,lt(c)?I:c),M=Math.round(M*A)/A,T=Math.round(T*A)/A;let D=0;for(w&&(p&&M!==a?(n.push({value:a}),M<a&&D++,dh(Math.round((M+D*S)*A)/A,a,WT(a,P,t))&&D++):M<a&&D++);D<_;++D){const R=Math.round((M+D*S)*A)/A;if(N&&R>l)break;n.push({value:R})}return N&&p&&T!==l?n.length&&dh(n[n.length-1].value,l,WT(l,P,t))?n[n.length-1].value=l:n.push({value:l}):(!N||T===l)&&n.push({value:T}),n}function WT(t,e,{horizontal:n,minRotation:r}){const s=Bs(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class Dg extends oc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return lt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=vi(s),u=vi(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=Wee(s,i);return e.bounds==="ticks"&&J_(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return kf(e,this.chart.options.locale,this.options.ticks.format)}}class qee extends Dg{static id="linear";static defaults={ticks:{callback:dx.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tn(e)?e:0,this.max=tn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Bs(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Bh=t=>Math.floor(ro(t)),sl=(t,e)=>Math.pow(10,Bh(t)+e);function qT(t){return t/Math.pow(10,Bh(t))===1}function KT(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function Kee(t,e){const n=e-t;let r=Bh(n);for(;KT(t,e,r)>10;)r++;for(;KT(t,e,r)<10;)r--;return Math.min(r,Bh(t))}function Gee(t,{min:e,max:n}){e=Kr(t.min,e);const r=[],s=Bh(e);let i=Kee(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=s>i?Math.pow(10,s):0,u=Math.round((e-c)*a)/a,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,i)),p=Kr(t.min,Math.round((c+d+f*Math.pow(10,i))*a)/a);for(;p<n;)r.push({value:p,major:qT(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,a=i>=0?1:a),p=Math.round((c+d+f*Math.pow(10,i))*a)/a;const g=Kr(t.max,p);return r.push({value:g,major:qT(g),significand:f}),r}class Yee extends oc{static id="logarithmic";static defaults={ticks:{callback:dx.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Dg.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return tn(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tn(e)?Math.max(0,e):null,this.max=tn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tn(this._userMin)&&(this.min=e===sl(this.min,0)?sl(this.min,-1):sl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=l=>r=e?r:l,a=l=>s=n?s:l;r===s&&(r<=0?(i(1),a(10)):(i(sl(r,-1)),a(sl(s,1)))),r<=0&&i(sl(s,-1)),s<=0&&a(sl(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=Gee(n,this);return e.bounds==="ticks"&&J_(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":kf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ro(e),this._valueRange=ro(this.max)-ro(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ro(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function _2(t){const e=t.ticks;if(e.display&&t.display){const n=or(e.backdropPadding);return nt(e.font&&e.font.size,$t.font.size)+n.height}return 0}function Xee(t,e,n){return n=Vt(n)?n:[n],{w:WX(t,e.string,n),h:n.length*e.lineHeight}}function GT(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function Qee(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,a=t.options.pointLabels,l=a.centerPointLabels?mt/i:0;for(let c=0;c<i;c++){const u=a.setContext(t.getPointLabelContext(c));s[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+s[c],l),f=Cn(u.font),p=Xee(t.ctx,f,t._pointLabels[c]);r[c]=p;const g=rr(t.getIndexAngle(c)+l),x=Math.round(UN(g)),v=GT(x,d.x,p.w,0,180),b=GT(x,d.y,p.h,90,270);Jee(n,e,g,v,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=tte(t,r,s)}function Jee(t,e,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,c=0;r.start<e.l?(l=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-l)):r.end>e.r&&(l=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),s.start<e.t?(c=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function Zee(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:a,size:l}=n,c=t.getPointPosition(e,r+s+a,i),u=Math.round(UN(rr(c.angle+cn))),d=ste(c.y,l.h,u),f=nte(u),p=rte(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:p,top:d,right:p+l.w,bottom:d+l.h}}function ete(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(sa({x:n,y:r},e)||sa({x:n,y:i},e)||sa({x:s,y:r},e)||sa({x:s,y:i},e))}function tte(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:a,display:l}=i.pointLabels,c={extra:_2(i)/2,additionalAngle:a?mt/s:0};let u;for(let d=0;d<s;d++){c.padding=n[d],c.size=e[d];const f=Zee(t,d,c);r.push(f),l==="auto"&&(f.visible=ete(f,u),f.visible&&(u=f))}return r}function nte(t){return t===0||t===180?"center":t<180?"left":"right"}function rte(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function ste(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function ite(t,e,n){const{left:r,top:s,right:i,bottom:a}=n,{backdropColor:l}=e;if(!lt(l)){const c=El(e.borderRadius),u=or(e.backdropPadding);t.fillStyle=l;const d=r-u.left,f=s-u.top,p=i-r+u.width,g=a-s+u.height;Object.values(c).some(x=>x!==0)?(t.beginPath(),Vh(t,{x:d,y:f,w:p,h:g,radius:c}),t.fill()):t.fillRect(d,f,p,g)}}function ate(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const a=r.setContext(t.getPointLabelContext(s));ite(n,a,i);const l=Cn(a.font),{x:c,y:u,textAlign:d}=i;Kl(n,t._pointLabels[s],c,u+l.lineHeight/2,l,{color:a.color,textAlign:d,textBaseline:"middle"})}}function WD(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Rt);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=t.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function ote(t,e,n,r,s){const i=t.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!r||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),WD(t,n,a,r),i.closePath(),i.stroke(),i.restore())}function lte(t,e,n){return Ao(t,{label:n,index:e,type:"pointLabel"})}class cte extends Dg{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=or(_2(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=tn(e)&&!isNaN(e)?e:0,this.max=tn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_2(this.options))}generateTickLabels(e){Dg.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=Mt(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Qee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=Rt/(this._pointLabels.length||1),r=this.options.startAngle||0;return rr(e*n+Bs(r))}getDistanceFromCenterForValue(e){if(lt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(lt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return lte(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-cn+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),WD(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,a=this._pointLabels.length;let l,c,u;if(n.pointLabels.display&&ate(this,a),s.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(f),g=s.setContext(p),x=i.setContext(p);ote(this,g,c,a,x)}}),r.display){for(e.save(),l=a-1;l>=0;l--){const d=r.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:p}=d;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(c)),d=Cn(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=or(u.backdropPadding);e.fillRect(-a/2-f.left,-i-d.size/2-f.top,a+f.width,d.size+f.height)}Kl(e,l.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}const bx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ir=Object.keys(bx);function YT(t,e){return t-e}function XT(t,e){if(lt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),tn(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(vu(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function QT(t,e,n,r){const s=Ir.length;for(let i=Ir.indexOf(t);i<s-1;++i){const a=bx[Ir[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return Ir[i]}return Ir[s-1]}function ute(t,e,n,r,s){for(let i=Ir.length-1;i>=Ir.indexOf(n);i--){const a=Ir[i];if(bx[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Ir[n?Ir.indexOf(n):0]}function dte(t){for(let e=Ir.indexOf(t)+1,n=Ir.length;e<n;++e)if(bx[Ir[e]].common)return Ir[e]}function JT(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=WN(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function hte(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function ZT(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:hte(t,r,s,n)}class D2 extends oc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new fJ._date(e.adapters.date);s.init(n),uh(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:XT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=tn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=tn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=OX(s,i,a);return this._unit=n.unit||(r.autoSkip?QT(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):ute(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:dte(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),ZT(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=An(n,0,a),r=An(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||QT(i.minUnit,n,r,this._getLabelCapacity(n)),l=nt(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=vu(c)||c===!0,d={};let f=n,p,g;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<r;p=+e.add(p,l,a),g++)JT(d,p,x);return(p===r||s.bounds==="ticks"||g===1)&&JT(d,p,x),Object.keys(d).sort(YT).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Mt(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],p=r[n],g=u&&f&&p&&p.major;return this._adapter.format(e,s||(g?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Bs(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,ZT(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(XT(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return tD(e.sort(YT))}}function lp(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=ra(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=ra(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class fte extends D2{static id="timeseries";static defaults=D2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=lp(n,this.min),this._tableRange=lp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(lp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return lp(this._table,r*this._tableRange+this._minPos,!0)}}var mte=Object.freeze({__proto__:null,CategoryScale:Uee,LinearScale:qee,LogarithmicScale:Yee,RadialLinearScale:cte,TimeScale:D2,TimeSeriesScale:fte});const pte=[hJ,WZ,Vee,mte],qD="label";function eE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function gte(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function KD(t,e){t.labels=e}function GD(t,e,n=qD){const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function xte(t,e=qD){const n={labels:[],datasets:[]};return KD(n,t.labels),GD(n,t.datasets,e),n}function yte(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...p}=t,g=k.useRef(null),x=k.useRef(null),v=()=>{g.current&&(x.current=new gx(g.current,{type:a,data:xte(l,i),options:c&&{...c},plugins:u}),eE(e,x.current))},b=()=>{eE(e,null),x.current&&(x.current.destroy(),x.current=null)};return k.useEffect(()=>{!s&&x.current&&c&&gte(x.current,c)},[s,c]),k.useEffect(()=>{!s&&x.current&&KD(x.current.config.data,l.labels)},[s,l.labels]),k.useEffect(()=>{!s&&x.current&&l.datasets&&GD(x.current.config.data,l.datasets,i)},[s,l.datasets]),k.useEffect(()=>{x.current&&(s?(b(),setTimeout(v)):x.current.update(f))},[s,c,l.labels,l.datasets,f]),k.useEffect(()=>{x.current&&(b(),setTimeout(v))},[a]),k.useEffect(()=>(v(),()=>b()),[]),o.jsx("canvas",{ref:g,role:"img",height:n,width:r,...p,children:d})}const bte=k.forwardRef(yte);function vte(t,e){return gx.register(e),k.forwardRef((n,r)=>o.jsx(bte,{...n,ref:r,type:t}))}const wte=vte("line",SD);gx.register(...pte);function Nte({dashboardStatistic:t,statisticFollow:e}){const n={all:"Tng doanh thu & s n hng",member:"Doanh thu & n hng - Khch thnh vin",guest:"Doanh thu & n hng - Khch vng lai"},r={labels:t.map(i=>i.period),datasets:[{label:"Doanh thu (VND)",data:t.map(i=>Number(e==="all"?i.totalRevenue:e==="member"?i.member.memberRevenue:i.guest.guestRevenue)),backgroundColor:"green",borderColor:"green",borderWidth:2,tension:.4,yAxisID:"y-doanhthu"},{label:"Tng n hng",data:t.map(i=>Number(e==="all"?i.totalOrders:e==="member"?i.member.memberOrders:i.guest.guestOrders)),backgroundColor:"orange",borderColor:"orange",borderWidth:2,tension:.4,yAxisID:"y-donhang"}]},s={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{font:{size:14},padding:20}},title:{display:!0,text:n[e],font:{size:18,weight:"bold"},padding:{bottom:20}},tooltip:{callbacks:{label:function(i){const a=i.dataset.label||"",l=i.parsed.y;return a.includes("Doanh thu")?`${a}: ${new Intl.NumberFormat("vi-VN").format(l)} `:`${a}: ${l} n`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},"y-doanhthu":{type:"linear",position:"left",beginAtZero:!0,title:{display:!0,text:"Doanh thu (VND)",font:{size:14}},ticks:{callback:function(i){return new Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"short"}).format(i)}}},"y-donhang":{type:"linear",position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1},title:{display:!0,text:"S n hng",font:{size:14}},ticks:{stepSize:1,font:{size:12}}}}};return o.jsx("div",{className:"w-full h-[50rem]",children:o.jsx(wte,{data:r,options:s})})}function jte(){const[t,e]=k.useState({startDate:"",endDate:"",groupBy:"day"}),[n,r]=k.useState(t),[s,i]=k.useState("all"),{data:a,isLoading:l}=Ae({queryKey:["overview",n],queryFn:()=>KY(n)}),{data:c,isLoading:u}=Ae({queryKey:["dashboardStatistic",n],queryFn:()=>GY(n)}),d=g=>{const{name:x,value:v}=g.target;e(b=>({...b,[x]:v}))},f=()=>{r({...t})},p=g=>Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"long"}).format(g);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Tng quan"}),o.jsx("p",{className:"pt-2",children:"Shop bn qun o .NTK"}),o.jsxs("div",{className:"flex gap-4 text-[1.4rem] py-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupBy",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupBy",id:"groupBy",value:t.groupBy,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"px-6 h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>f(),children:[o.jsx(F,{icon:Wn}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>r({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:LN})})]})]})]}),l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:Array.from({length:4}).map((g,x)=>o.jsxs("div",{className:" shadow-md border border-gray-200 space-y-4 bg-gray-100 p-8 rounded-lg animate-pulse",children:[o.jsx("span",{className:"block w-[20rem] h-[1.5rem] rounded-full bg-gray-200"}),o.jsx("div",{className:"w-[4rem] h-[4rem] bg-gray-200 rounded-xl"}),o.jsx("span",{className:"block w-[15rem] h-[1.5rem] bg-gray-200 rounded-full"})]},x))}):a&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:[o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#7686ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng n hng"}),o.jsx("div",{className:"text-[3.2rem]",children:a.totalOrders}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#00d193] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Doanh thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalRevenue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#ff9a5b] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng cha thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalUnpaid)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#6c62ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Gi tr TB / n"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.avgOrderValue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]})]})]}),o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-bold",children:"Thng k doanh thu"}),o.jsxs("div",{className:"space-y-2 mt-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"all",name:"radio",className:"",checked:s==="all",style:{scale:"1.2"},onChange:()=>i("all")}),o.jsx("label",{htmlFor:"all",children:"Tt c"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"member",name:"radio",className:"",checked:s==="member",style:{scale:"1.2"},onChange:()=>i("member")}),o.jsx("label",{htmlFor:"member",children:"Khch thnh vin"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"guest",name:"radio",className:"",checked:s==="guest",style:{scale:"1.2"},onChange:()=>i("guest")}),o.jsx("label",{htmlFor:"guest",children:"Khch vng lai"})]})]}),u?o.jsx("div",{children:"ang ti d liu"}):o.jsx(Nte,{dashboardStatistic:c,statisticFollow:s})]})]})}const $u=async({queryKey:t})=>{const[,e]=t,n=Object.fromEntries(Object.entries(e).filter(([s,i])=>i!==null&&i!==""));return await fe.get("/api/v1/product/get-product",{params:n})},Ste=async()=>(await fe.get("/api/v1/variant-size/get-size")).data,Cte=async()=>(await fe.get("/api/v1/variant-color/get-color")).data,kte=async t=>await fe.get("/api/v1/product/get-popular",{params:t}),Tte=async t=>{const{limit:e,page:n}=t;return await fe.get("/api/v1/product/best-sell",{params:{limit:e,page:n}})},Ete=async t=>await fe.get(`/api/v1/product/detail/${t}`),Mte=async t=>await fe.get(`/api/v1/product/admin/detail/${t}`),YD=async({productId:t,rating:e,page:n,sort:r})=>await fe.get(`/api/v1/evaluate/get-evaluate/${t}`,{params:{rating:e,page:n,sort:r,limit:20}}),Pte=async(t,e)=>await fe.get("/api/v1/product/by-slugs",{params:{slugs:t.join("/"),...e}}),Ate=async t=>await fe.get("/api/v1/product/child-of-cate",{params:{currentSlug:t}}),Ote=async(t,e)=>{const n={};return!e&&t&&(n.session_id=t),await fe.get("/api/v1/search/recent",{params:n})},_te=async({query:t,userId:e})=>{const n=Object.fromEntries(Object.entries(t).filter(([s,i])=>!(e&&s==="session_id"||i===null||i==="")));return await fe.get("/api/v1/product/search",{params:n})},Dte=async({query:t,userId:e})=>{const n=Object.fromEntries(Object.entries(t).filter(([s,i])=>!(e&&s==="session_id"||i===null)));return await fe.get("/api/v1/product/sort",{params:n})},Ite=async({queryKey:t})=>{const[e,n]=t,r={};return n.categoryName&&(r.categoryName=n.categoryName),n.isActive&&n.isActive!=="all"&&(r.isActive=n.isActive==="true"),(await fe.get("/api/v1/category/get-categories",{params:r})).data},_o=async()=>(await fe.get("/api/v1/category/get-all-category")).data,Lte=async t=>{try{if(!t||t.length===0)throw new Error("Slugs phi l mt mng!");const e=t.filter(s=>s&&typeof s=="string"&&s.trim().length>0);if(e.length===0)throw new Error("Slugs khng hp l!");const n=e.join("/");return(await fe.get("/api/v1/category/get-category-by-slugs",{params:{slugs:n}})).data}catch(e){if(e instanceof uU){if(e.response)throw new Error(e.response.data?.message||"Ly d liu tht bi!");if(e.request)throw new Error("Khng c kt ni mng. Vui lng kim tra kt ni ca bn!")}throw e}};function vx({category:t,allCategories:e,level:n=0}){if(!t.isActive)return null;const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(be.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>o.jsx(vx,{category:i,allCategories:e,level:n+1},i.id))]},t.id)}function Rte(){const[t,e]=k.useState({open:!1,data:null}),[n,r]=k.useState(!1),[s,i]=k.useState({productName:"",price:null,categoryId:null}),[a,l]=k.useState({...s,page:1,limit:30}),{data:c,isLoading:u,isError:d,refetch:f}=Ae({queryKey:["products",a],queryFn:$u}),{data:p=[]}=Ae({queryKey:["getAllCategory"],queryFn:_o}),g=c&&c.data||[],x=c?.totalPages||1,v=async w=>{if(!w||!w.id){ce.error("Khng c id ca sn phm!");return}r(!0);try{const N=await fe.delete(`/api/v1/product/toggle-hidden-product/${w.id}`);N.status&&(ce.success(N.status||`${w.isActive?"n":"Hin"} sn phm thnh cng`),await f(),r(!1),e({open:!1,data:null}))}catch(N){console.log(N),r(!1),ce.error(N.message)}},b=()=>{l(w=>({...w,categoryId:s.categoryId,productName:s.productName,price:s.price}))};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 z-30 flex justify-between items-center pb-[1.5rem] border-b-[.1rem] border-b-gray-300",children:[o.jsx("h3",{className:"text-[2.5rem] font-semibold text-gray-600",children:"Sn phm"}),o.jsx("div",{children:o.jsxs(Ze,{to:"action",className:"text-white flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer ",children:[o.jsx(F,{icon:zu}),"Thm sn phm"]})})]}),o.jsxs("div",{className:" flex-1 overflow-auto hide-scrollbar",children:[o.jsx("div",{className:"mt-[3rem]",children:o.jsxs("div",{className:"w-full border-[.1rem] border-gray-300 mt-4 p-[2rem] flex items-end gap-[2rem]",children:[o.jsxs("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"productName",className:"text-gray-700",children:"Tn sn phm"}),o.jsx("input",{type:"text",name:"productName",id:"productName",placeholder:"Nhp tm kim...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:w=>i(N=>({...N,[w.target.name]:w.target.value}))})]}),o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"price",className:"text-gray-700",children:"Gi sn phm"}),o.jsx("input",{type:"number",name:"price",id:"price",placeholder:"Nhp gi...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:w=>i(N=>({...N,[w.target.name]:w.target.value}))})]}),o.jsxs("div",{className:"w-[30rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"categoryId",className:"text-gray-700",children:"Danh mc"}),o.jsxs("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:w=>i(N=>({...N,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),p?.filter(w=>w.isActive).map(w=>o.jsx(vx,{category:w,allCategories:p,level:0},w.id))]})]}),o.jsxs("button",{className:"w-[15%] flex items-center justify-center gap-[1rem] px-[1.5rem] h-[4rem] bg-[var(--main-button)] text-white rounded-[.5rem] cursor-pointer hover:bg-[var(--main-button-hover)]",onClick:()=>b(),children:[o.jsx(F,{icon:Vr}),"Lc"]})]})}),o.jsx("div",{className:"mt-[2rem] border border-gray-300/50 rounded-md overflow-hidden",children:u?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"ang ti..."})]})}):d?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-red-500",children:"C li xy ra khi ti d liu!"})}):o.jsx(o.Fragment,{children:o.jsxs("table",{className:"min-w-full table-auto text-[1.4rem] rounded-lg shadow-sm overflow-hidden",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Sn phm"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Danh mc"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Gi"}),o.jsx("th",{className:"px-6 py-4 text-center text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:g.length>0?g?.map((w,N)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[o.jsx("td",{className:" px-6 py-4",children:N}),o.jsx("td",{className:" px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:w.mainImage,alt:"main image",className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{children:[o.jsx("h4",{className:"max-w-[25rem] font-medium text-gray-900 text-limit-1",children:w.productName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem]",children:["ID: ",w.id]})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:`py-1 ${w.isActive?"text-green-700 bg-green-100":"text-red-700 bg-red-100 "} text-center rounded-full`,children:w.isActive?"ang hot ng":"Dng hot ng"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:p?.find(C=>C.id===w.category?.id)?.categoryName??"Cha c danh mc"}),o.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(w.price)}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsxs(Ze,{to:`detail/${w.id}`,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(F,{icon:Ws,className:"w-4 h-4"}),o.jsx("span",{children:"Chi tit"})]}),o.jsxs(Ze,{to:`action/${w.id}`,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(F,{icon:Ms,className:"w-4 h-4"}),o.jsx("span",{children:"Sa"})]}),o.jsx("button",{className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",onClick:()=>{e({open:!0,data:w})},children:o.jsxs("span",{children:[w.isActive?"n":"Hin"," sn phm"]})})]})})]},w.id)):o.jsx("tr",{"aria-colspan":6,children:o.jsx("td",{children:o.jsx("div",{children:"Khng c sn phm no"})})})})]})})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>l(w=>({...w,page:Math.max(w.page-1,1)})),disabled:a.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:x},(w,N)=>N+1).filter(w=>Math.abs(w-a.page)<=2).map(w=>o.jsx("button",{onClick:()=>l(N=>({...N,page:w})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${a.page===w?"bg-blue-500 text-white":"bg-gray-200"}`,children:w},w)),o.jsx("button",{onClick:()=>l(w=>({...w,page:Math.min(w.page+1,x)})),disabled:a.page===x,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]})]}),t.open&&o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>e({open:!1,data:null}),children:o.jsx(F,{icon:Ct,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn mun ",t.data?.isActive?"n":"hin"," sn phm ny?"]}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${n?"mt-[1rem]":"mt-[3rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${n?"cursor-not-allowed":""}`,disabled:n,onClick:()=>e({open:!1,data:null}),children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${n?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:n,onClick:()=>v(t.data),children:n?o.jsx("div",{className:"w-5 h-5 mx-auto border-2 border-white border-t-transparent rounded-full animate-spin"}):t.data?.isActive?"n":"Hin"})]})]})})]})}function XD(t,e,n=0){const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(be.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>XD(i,e,n+1))]},t.id)}function Fte({setOpenAction:t,openAction:e,refetch:n,dataUpdate:r,parents:s}){const[i,a]=k.useState({categoryName:"",image:void 0,parentId:null,sortOrder:0}),[l,c]=k.useState(!1),[u,d]=k.useState(null),[f,p]=k.useState(null);k.useEffect(()=>{e?.action==="edit"?(a({categoryName:r.categoryName,image:r.image,parentId:r?.parentId,sortOrder:r?.sortOrder}),p(r.image)):(a({categoryName:"",image:void 0,parentId:null,sortOrder:0}),p(null))},[e?.action,r]);const g=b=>{const{name:w,value:N}=b.target;if(w==="image"){const C=b.target.files?.[0];if(!C)return;const P=URL.createObjectURL(C);p(P),a(S=>({...S,image:C}))}else a(C=>({...C,categoryName:N}))},x=async()=>{if(d(null),i.categoryName===""){d("Vui lng nhp tn danh mc!");return}if(!i.parentId&&!i.image){d("Vui lng chn hnh nh!");return}c(!0);try{const b=new FormData;b.append("categoryName",i.categoryName),i.parentId!==null&&i.parentId!==void 0&&b.append("parentId",String(i.parentId)),b.append("sortOrder",String(i.sortOrder)),i.image instanceof File&&b.append("image",i.image);const w=await fe.post("/api/v1/category/create",b,{headers:{"Content-Type":"multipart/form-data"}});w.status&&(a({categoryName:"",image:"",parentId:null,sortOrder:0}),await n(),ce.success(w.message||"Thm danh mc thnh cng!"),t(null),c(!1))}catch(b){c(!1),d(b.message)}},v=async()=>{try{c(!0);const b=new FormData;b.append("categoryName",i.categoryName),i.image instanceof File&&b.append("image",i.image);const w=await fe.patch(`/api/v1/category/edit/${r.id}`,b,{headers:{"Content-Type":"multipart/form-data"}});w.status?(ce.success(w.message||" lu thay i!"),await n(),t(null)):ce.error(w.message||"Li khng th cp nht thng tin!")}catch(b){ce.error(b.message||"Li server!")}finally{c(!1)}};return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 bg-[#3636362c] flex items-center justify-center z-[900]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200",onClick:()=>t(null),children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-gray-600 text-center font-bold mb-[2rem]",children:e?.action==="add"?"Thm danh mc":"Chnh sa danh mc"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"categoryName",className:"text-gray-600",children:"Tn danh mc"}),o.jsx("input",{type:"text",name:"categoryName",id:"categoryName",value:i.categoryName,placeholder:"Nhp tn...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",onChange:b=>g(b)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Danh mc cha (ty chn)"}),o.jsxs("select",{value:i.parentId||"",onChange:b=>a(w=>({...w,parentId:b.target.value?Number(b.target.value):null})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600 pr-10 bg-white",children:[o.jsx("option",{value:"",children:"-- Khng c danh mc cha --"}),s.filter(b=>b.isActive).filter(b=>e?.action==="edit"?b.id!==r?.id:!0).filter(b=>!b.parentId).map(b=>XD(b,s,0))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Th t hin th"}),o.jsx("input",{type:"number",value:i.sortOrder,onChange:b=>a(w=>({...w,sortOrder:b.target.value===""?"":Number(b.target.value)})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",min:"0",placeholder:"S cng nh cng hin th trc"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"nh cho danh mc:"}),o.jsxs("label",{className:"w-[6.5rem] h-[6.5rem] mt-[.5rem] border border-dashed border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer",children:[f?o.jsx("img",{src:f,alt:"nh danh mc",className:"w-full h-full border-collapse border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer object-cover"}):o.jsx(F,{icon:xa,className:"text-gray-400"}),o.jsx("input",{id:"image",type:"file",name:"image",hidden:!0,onChange:b=>g(b)})]})]})]}),u&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:u}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:`h-[3.2rem] w-[6rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem]  ${l?"cursor-not-allowed":"cursor-pointer"}`,onClick:()=>t(null),disabled:l,children:"Hy"}),o.jsx("button",{className:`h-[3.2rem] w-[8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] ${l?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,onClick:()=>{e?.action==="add"?x():v()},disabled:l,children:l?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.action==="add"?"Thm":"Lu"})]})]})})}function zte({setOpenToggleActive:t,openToggleActive:e,refetch:n}){const[r,s]=k.useState(!1),[i,a]=k.useState(null),l=async()=>{e?.id||a("Khng c id ca danh mc"),s(!0);try{let c=null;console.log(e),e?.title==="active"?c=await fe.patch(`/api/v1/category/active/${e?.id}`):c=await fe.patch(`/api/v1/category/inactive/${e?.id}`),c?.status&&(t(!1),s(!1),await n())}catch(c){s(!1),console.log(c),a(c.message)}};return o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>t(!1),children:o.jsx(F,{icon:Ct,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn c chc mun"," ",e?.title==="active"?"kch hot":"dng hot ng"," ","danh mc ny?"]}),i&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:i}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${r?"mt-[1rem]":"mt-[4rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${r?"cursor-not-allowed":""}`,onClick:()=>t(!1),disabled:r,children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${r?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:r,onClick:()=>l(),children:r?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.title==="active"?"C":"Dng"})]})]})})}function Vte(){const[t,e]=k.useState(null),[n,r]=k.useState(null),[s,i]=k.useState(null),[a,l]=k.useState(new Set),[c,u]=k.useState({categoryName:"",isActive:"all"}),[d,f]=k.useState({categoryName:"",isActive:"all"}),{data:p=[],isLoading:g,isError:x,refetch:v}=Ae({queryKey:["categories",d],queryFn:Ite}),b=(P,S)=>{u(A=>({...A,[P]:S}))},w=()=>{f(c)},N=P=>{l(S=>{const A=new Set(S);return A.has(P)?A.delete(P):A.add(P),A})},C=(P,S=0)=>{const A=p.filter(G=>G.parentId===P.id),M=A.length>0,T=a.has(P.id),_=A.filter(G=>G.isActive),I=A.filter(G=>!G.isActive),D=_.length,R=I.length;return o.jsxs("div",{children:[o.jsxs("div",{className:`
            group relative flex items-center justify-between 
            border border-gray-300
            bg-white hover:bg-gray-50 transition-all duration-200
            ${S===0?"my-3 rounded-lg shadow-sm":"my-3 ml-10 rounded-r-lg"}
          `,children:[o.jsxs("div",{className:"flex items-center gap-5 flex-1 px-6 py-5",children:[o.jsx("button",{onClick:()=>M&&N(P.id),className:`w-[2.6rem] h-[2.6rem] flex items-center justify-center rounded-full transition-all
                ${M?"hover:bg-gray-200 cursor-pointer":"opacity-0 cursor-default"}`,disabled:!M,children:o.jsx(F,{icon:T?$_:ux,className:`text-gray-500 text-[1.4rem] transition-transform duration-200 ${T?"rotate-0":""}`})}),P.image?o.jsx("img",{src:P.image,alt:P.categoryName,className:"w-[5rem] h-[5rem] rounded-lg object-cover"}):o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-lg bg-gray-100 flex items-center justify-center",children:o.jsx(F,{icon:F_,className:"text-[2rem] text-gray-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800 text-[1.6rem]",children:P.categoryName}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx("span",{className:`px-3 py-1 text-[1.2rem] font-bold rounded-full ${P.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.isActive?"ang hot ng":"Dng hot ng"}),M&&o.jsxs("div",{className:"flex items-center gap-3",children:[D>0&&o.jsxs("span",{className:"text-[1.2rem] text-green-700 font-medium",children:[D," hot ng"]}),R>0&&o.jsxs("span",{className:"text-[1.2rem] text-red-600 font-medium",children:[R,"  dng"]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 pr-6",children:[o.jsxs("button",{onClick:()=>{r({action:"edit"}),i(P)},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-[1.4rem] font-medium transition flex items-center gap-2",children:[o.jsx(F,{icon:Ms}),"Sa"]}),P.isActive?o.jsx("button",{onClick:()=>e({title:"inactive",id:P.id}),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-[1.4rem] font-medium transition",children:"Dng"}):o.jsx("button",{onClick:()=>e({title:"active",id:P.id}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-[1.4rem] font-medium transition",children:"Kch hot"})]})]}),T&&M&&o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-10 top-0 h-6 w-6 border-l-2 border-b-2 border-gray-300 rounded-bl-lg"}),o.jsx("div",{className:"ml-10",children:A.map(G=>C(G,S+1))})]})]},P.id)};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] overflow-y-auto bg-white shadow-lg rounded-[1rem] flex flex-col pb-[2rem] hide-scrollbar",children:[o.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center pb-6 border-b border-gray-300 px-[2rem] pt-[2rem] z-[100]",children:[o.jsx("h3",{className:"text-3xl font-bold text-gray-700",children:"Danh mc"}),o.jsxs("button",{onClick:()=>r({action:"add"}),className:"flex items-center gap-2 px-5 py-3 bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium transition",children:[o.jsx(F,{icon:zu}),"Thm mi"]})]}),o.jsxs("div",{className:"mt-8 px-[2rem]",children:[o.jsx("h3",{className:"text-2xl font-semibold text-gray-600 mb-6",children:"Danh sch"}),o.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-6 flex items-end gap-6 mb-8",children:[o.jsxs("div",{className:"flex-1 max-w-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tn danh mc"}),o.jsx("input",{type:"text",value:c.categoryName,onChange:P=>b("categoryName",P.target.value),placeholder:"Nhp  tm kim...",className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 text-gray-600 rounded-lg focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"w-[22rem]",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Trng thi"}),o.jsxs("select",{value:String(c.isActive),onChange:P=>b("isActive",P.target.value),className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 rounded-lg focus:outline-none text-gray-600",children:[o.jsx("option",{value:"all",children:"Tt c trng thi"}),o.jsx("option",{value:"true",children:"ang hot ng"}),o.jsx("option",{value:"false",children:"Ngng hot ng"})]})]}),o.jsxs("button",{onClick:w,className:"h-[4rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium flex items-center justify-center gap-2 transition",children:[o.jsx(F,{icon:Vr}),"Lc"]})]}),g&&o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border",children:[o.jsx(F,{icon:kg,spin:!0,className:"text-5xl text-blue-500 mb-4"}),o.jsx("p",{className:"text-lg text-gray-600",children:"ang ti danh mc..."})]}),x&&!g&&o.jsxs("div",{className:"text-center py-16 bg-red-50 rounded-lg border border-red-200",children:[o.jsx(F,{icon:DN,className:"text-5xl text-red-500 mb-4"}),o.jsx("p",{className:"text-xl text-red-600 font-medium mb-4",children:"Li ti d liu"}),o.jsx("button",{onClick:()=>v(),className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:"Th li"})]}),o.jsx("div",{className:"space-y-2",children:!g&&!x&&p.length>0?p.filter(P=>!P.parentId).map(P=>C(P)):!g&&o.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:o.jsx("p",{className:"text-2xl text-gray-500",children:"Cha c danh mc no"})})})]}),n&&o.jsx(Fte,{setOpenAction:r,openAction:n,refetch:v,dataUpdate:n.action==="add"?void 0:s,parents:p}),t&&o.jsx(zte,{setOpenToggleActive:e,openToggleActive:t,refetch:v})]})}function $te(){const{user:t}=kt(),[e,n]=k.useState(!1),r=tt(),[s,i]=k.useState(void 0),[a,l]=k.useState(!1),[c,u]=k.useState(null),[d,f]=k.useState({user:{avatar:void 0,username:"",email:"",phone:void 0},gender:"",birthday:""});k.useEffect(()=>{t&&f({user:{avatar:t.avatar,username:t.username,email:t.email,phone:t.phone},gender:t?.staff.gender||"",birthday:t?.staff.birthday||""})},[t]);const p=x=>{const{name:v,value:b}=x.target;if(v==="avatar"){const w=x.target.files;if(!w||w.length===0)return;const N=URL.createObjectURL(w[0]);i(N),f(C=>({...C,user:{...C.user,[v]:w[0]}}))}else f(v==="gender"||v==="birthday"?w=>({...w,[v]:b}):w=>({...w,user:{...w.user,[v]:b}}))},g=async()=>{l(!0);try{(!t||!t.id)&&r("/dashboard/login");const x=new FormData;console.log(d),d.user.avatar&&d.user.avatar instanceof File&&x.append("avatar",d.user.avatar),x.append("user[username]",d.user.username),x.append("user[email]",d.user.email),d.user.phone&&x.append("user[phone]",d.user.phone.toString()),d.gender&&x.append("gender",d.gender),d.birthday&&x.append("birthday",new Date(d.birthday).toISOString()),(await fe.patch(`/api/v1/staff/update/${t?.staff.id}`,x,{headers:{"Content-Type":"multipart/form-data"}})).status&&(n(!1),l(!1),u(null))}catch(x){u(x?.message),l(!1)}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"pb-[2rem] border-b-[.1rem] border-b-gray-300 ",children:[o.jsx("h2",{className:"text-[2.5rem] font-bold text-gray-600",children:"H s ca ti"}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex gap-[1rem] mt-[3rem]",children:[o.jsxs("div",{className:"w-1/4 flex flex-col items-center",children:[o.jsx("img",{src:s||(typeof d.user.avatar=="string"?d.user.avatar:zN),alt:"Avatar",className:"w-[12rem] h-[12rem] rounded-full object-cover"}),o.jsxs("label",{htmlFor:"avatar",className:"block px-[2rem] py-[.5rem] rounded-sm border border-gray-300 cursor-pointer mt-[1rem] mb-[2rem]",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",onClick:()=>n(!0),children:d.user.avatar?"Thay i":"Thm hnh nh"}),o.jsx("input",{type:"file",id:"avatar",name:"avatar",hidden:!0,onChange:x=>p(x)})]}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Dung lng ti a: 1MB"}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"nh dng: .JPEG, .PNG"})]}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[2rem] pl-[5rem] border-l-[.1rem] border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-bold",children:"Thng tin c nhn"}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"text-gray-600 w-[14rem] text-end",children:"Tn ngi dng"}),o.jsx("input",{type:"text",value:d.user.username,id:"username",name:"username",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"email",className:"text-gray-600 w-[14rem] text-end",children:"Email"}),o.jsx("input",{type:"email",value:d.user.email,id:"email",name:"email",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"phone",className:"text-gray-600 w-[14rem] text-end",children:"S in thoi"}),o.jsx("input",{type:"text",value:e?d.user.phone:d.user.phone??"Cha cp nht",id:"phone",name:"phone",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"text-gray-600 w-[14rem] text-end",children:"Ngy sinh"}),o.jsx("input",{type:"text",value:e?d.birthday:d.birthday??"Cha cp nht",id:"birthday",name:"birthday",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"gender",className:"text-gray-600 w-[14rem] text-end",children:"Gii tnh"}),o.jsx("input",{type:"text",value:e?d.gender??"Cha cp nht":(d&&(d.gender==="female"?"N":"Nam"))??"Cha cp nht",id:"gender",name:"gender",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{children:[c&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mb-[.5rem]",children:c}),e?o.jsxs("div",{children:[o.jsx("button",{className:"w-[15rem] h-[4rem] rounded-[.5rem] bg-green-600 hover:bg-green-700 hover-linear text-white cursor-pointer",onClick:()=>g(),disabled:a,children:a?"ang x l...":"Lu cp nht"}),o.jsx("button",{className:"w-[10rem] h-[4rem] bg-gray-200 text-gray-600 hover:bg-gray-300 rounded-lg ml-[1rem] cursor-pointer hover-linear",onClick:()=>n(!1),disabled:a,children:"Hy"})]}):o.jsx("button",{className:"w-[20rem] h-[4rem] rounded-[.5rem] bg-[#1e90ff] hover:bg-[#0d87ff] text-white cursor-pointer",onClick:()=>n(!0),children:"Cp nht thng tin"})]})]})]})]})}const Bte=async t=>{const e={};return t.searchOrder&&(e.searchOrder=t.searchOrder),t.status&&(e.status=t.status),e.limit=t.limit,e.page=t.page,await fe.get("/api/v1/orders/orders-for-admin",{params:e})},Hte=async t=>(await fe.get("/api/v1/orders/get-orders",{params:t})).data,Ute=async t=>(await fe.get(`/api/v1/orders/lookup/${t}`,{params:{orderCode:t}})).data,rj=k.createContext({});function sj(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const ij=typeof window<"u",QD=ij?k.useLayoutEffect:k.useEffect,wx=k.createContext(null);function aj(t,e){t.indexOf(e)===-1&&t.push(e)}function oj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ya=(t,e,n)=>n>e?e:n<t?t:n;let lj=()=>{};const ba={},JD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ZD(t){return typeof t=="object"&&t!==null}const eI=t=>/^0[^.\s]+$/u.test(t);function cj(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cs=t=>t,Wte=(t,e)=>n=>e(t(n)),Tf=(...t)=>t.reduce(Wte),Hh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class uj{constructor(){this.subscriptions=[]}add(e){return aj(this.subscriptions,e),()=>oj(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=t=>t*1e3,Ss=t=>t/1e3;function tI(t,e){return e?t*(1e3/e):0}const nI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qte=1e-7,Kte=12;function Gte(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=nI(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>qte&&++l<Kte);return a}function Ef(t,e,n,r){if(t===e&&n===r)return Cs;const s=i=>Gte(i,0,1,t,n);return i=>i===0||i===1?i:nI(s(i),e,r)}const rI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sI=t=>e=>1-t(1-e),iI=Ef(.33,1.53,.69,.99),dj=sI(iI),aI=rI(dj),oI=t=>(t*=2)<1?.5*dj(t):.5*(2-Math.pow(2,-10*(t-1))),hj=t=>1-Math.sin(Math.acos(t)),lI=sI(hj),cI=rI(hj),Yte=Ef(.42,0,1,1),Xte=Ef(0,0,.58,1),uI=Ef(.42,0,.58,1),Qte=t=>Array.isArray(t)&&typeof t[0]!="number",dI=t=>Array.isArray(t)&&typeof t[0]=="number",Jte={linear:Cs,easeIn:Yte,easeInOut:uI,easeOut:Xte,circIn:hj,circInOut:cI,circOut:lI,backIn:dj,backInOut:aI,backOut:iI,anticipate:oI},Zte=t=>typeof t=="string",tE=t=>{if(dI(t)){lj(t.length===4);const[e,n,r,s]=t;return Ef(e,n,r,s)}else if(Zte(t))return Jte[t];return t},cp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ene(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,f=!1,p=!1)=>{const x=p&&s?n:r;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const tne=40;function hI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=cp.reduce((C,P)=>(C[P]=ene(i),C),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:p,render:g,postRender:x}=a,v=()=>{const C=ba.useManualTiming?s.timestamp:performance.now();n=!1,ba.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,tne),1)),s.timestamp=C,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),p.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},b=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:cp.reduce((C,P)=>{const S=a[P];return C[P]=(A,M=!1,T=!1)=>(n||b(),S.schedule(A,M,T)),C},{}),cancel:C=>{for(let P=0;P<cp.length;P++)a[cp[P]].cancel(C)},state:s,steps:a}}const{schedule:Bt,cancel:ko,state:Vn,steps:j1}=hI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cs,!0);let Qp;function nne(){Qp=void 0}const Lr={now:()=>(Qp===void 0&&Lr.set(Vn.isProcessing||ba.useManualTiming?Vn.timestamp:performance.now()),Qp),set:t=>{Qp=t,queueMicrotask(nne)}},fI=t=>e=>typeof e=="string"&&e.startsWith(t),fj=fI("--"),rne=fI("var(--"),mj=t=>rne(t)?sne.test(t.split("/*")[0].trim()):!1,sne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Uh={...Bu,transform:t=>ya(0,1,t)},up={...Bu,default:1},mh=t=>Math.round(t*1e5)/1e5,pj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ine(t){return t==null}const ane=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gj=(t,e)=>n=>!!(typeof n=="string"&&ane.test(n)&&n.startsWith(t)||e&&!ine(n)&&Object.prototype.hasOwnProperty.call(n,e)),mI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(pj);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},one=t=>ya(0,255,t),S1={...Bu,transform:t=>Math.round(one(t))},yl={test:gj("rgb","red"),parse:mI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+S1.transform(t)+", "+S1.transform(e)+", "+S1.transform(n)+", "+mh(Uh.transform(r))+")"};function lne(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const I2={test:gj("#"),parse:lne,transform:yl.transform},Mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wa=Mf("deg"),Ni=Mf("%"),Je=Mf("px"),cne=Mf("vh"),une=Mf("vw"),nE={...Ni,parse:t=>Ni.parse(t)/100,transform:t=>Ni.transform(t*100)},eu={test:gj("hsl","hue"),parse:mI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ni.transform(mh(e))+", "+Ni.transform(mh(n))+", "+mh(Uh.transform(r))+")"},fn={test:t=>yl.test(t)||I2.test(t)||eu.test(t),parse:t=>yl.test(t)?yl.parse(t):eu.test(t)?eu.parse(t):I2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yl.transform(t):eu.transform(t),getAnimatableNone:t=>{const e=fn.parse(t);return e.alpha=0,fn.transform(e)}},dne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hne(t){return isNaN(t)&&typeof t=="string"&&(t.match(pj)?.length||0)+(t.match(dne)?.length||0)>0}const pI="number",gI="color",fne="var",mne="var(",rE="${}",pne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(pne,c=>(fn.test(c)?(r.color.push(i),s.push(gI),n.push(fn.parse(c))):c.startsWith(mne)?(r.var.push(i),s.push(fne),n.push(c)):(r.number.push(i),s.push(pI),n.push(parseFloat(c))),++i,rE)).split(rE);return{values:n,split:l,indexes:r,types:s}}function xI(t){return Wh(t).values}function yI(t){const{split:e,types:n}=Wh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===pI?i+=mh(s[a]):l===gI?i+=fn.transform(s[a]):i+=s[a]}return i}}const gne=t=>typeof t=="number"?0:fn.test(t)?fn.getAnimatableNone(t):t;function xne(t){const e=xI(t);return yI(t)(e.map(gne))}const To={test:hne,parse:xI,createTransformer:yI,getAnimatableNone:xne};function C1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yne({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=C1(c,l,t+1/3),i=C1(c,l,t),a=C1(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Ig(t,e){return n=>n>0?e:t}const qt=(t,e,n)=>t+(e-t)*n,k1=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},bne=[I2,yl,eu],vne=t=>bne.find(e=>e.test(t));function sE(t){const e=vne(t);if(!e)return!1;let n=e.parse(t);return e===eu&&(n=yne(n)),n}const iE=(t,e)=>{const n=sE(t),r=sE(e);if(!n||!r)return Ig(t,e);const s={...n};return i=>(s.red=k1(n.red,r.red,i),s.green=k1(n.green,r.green,i),s.blue=k1(n.blue,r.blue,i),s.alpha=qt(n.alpha,r.alpha,i),yl.transform(s))},L2=new Set(["none","hidden"]);function wne(t,e){return L2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Nne(t,e){return n=>qt(t,e,n)}function xj(t){return typeof t=="number"?Nne:typeof t=="string"?mj(t)?Ig:fn.test(t)?iE:Cne:Array.isArray(t)?bI:typeof t=="object"?fn.test(t)?iE:jne:Ig}function bI(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>xj(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function jne(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=xj(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Sne(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const Cne=(t,e)=>{const n=To.createTransformer(e),r=Wh(t),s=Wh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?L2.has(t)&&!s.values.length||L2.has(e)&&!r.values.length?wne(t,e):Tf(bI(Sne(r,s),s.values),n):Ig(t,e)};function vI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qt(t,e,n):xj(t)(t,e)}const kne=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>ko(e),now:()=>Vn.isProcessing?Vn.timestamp:Lr.now()}},wI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Lg=2e4;function yj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Lg;)e+=n,r=t.next(e);return e>=Lg?1/0:e}function Tne(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(yj(r),Lg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Ss(s)}}const Ene=5;function NI(t,e,n){const r=Math.max(e-Ene,0);return tI(n-t(r),e-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},T1=.001;function Mne({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let s,i,a=1-e;a=ya(Xt.minDamping,Xt.maxDamping,a),t=ya(Xt.minDuration,Xt.maxDuration,Ss(t)),a<1?(s=u=>{const d=u*a,f=d*t,p=d-n,g=R2(u,a),x=Math.exp(-f);return T1-p/g*x},i=u=>{const f=u*a*t,p=f*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-f),v=R2(Math.pow(u,2),a);return(-s(u)+T1>0?-1:1)*((p-g)*x)/v}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-T1+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=Ane(s,i,l);if(t=wi(t),isNaN(c))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Pne=12;function Ane(t,e,n){let r=n;for(let s=1;s<Pne;s++)r=r-t(r)/e(r);return r}function R2(t,e){return t*Math.sqrt(1-e*e)}const One=["duration","bounce"],_ne=["stiffness","damping","mass"];function aE(t,e){return e.some(n=>t[n]!==void 0)}function Dne(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!aE(t,_ne)&&aE(t,One))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ya(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Xt.mass,stiffness:s,damping:i}}else{const n=Mne(t);e={...e,...n,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function Rg(t=Xt.visualDuration,e=Xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=Dne({...n,velocity:-Ss(n.velocity||0)}),x=p||0,v=u/(2*Math.sqrt(c*d)),b=a-i,w=Ss(Math.sqrt(c/d)),N=Math.abs(b)<5;r||(r=N?Xt.restSpeed.granular:Xt.restSpeed.default),s||(s=N?Xt.restDelta.granular:Xt.restDelta.default);let C;if(v<1){const S=R2(w,v);C=A=>{const M=Math.exp(-v*w*A);return a-M*((x+v*w*b)/S*Math.sin(S*A)+b*Math.cos(S*A))}}else if(v===1)C=S=>a-Math.exp(-w*S)*(b+(x+w*b)*S);else{const S=w*Math.sqrt(v*v-1);C=A=>{const M=Math.exp(-v*w*A),T=Math.min(S*A,300);return a-M*((x+v*w*b)*Math.sinh(T)+S*b*Math.cosh(T))/S}}const P={calculatedDuration:g&&f||null,next:S=>{const A=C(S);if(g)l.done=S>=f;else{let M=S===0?x:0;v<1&&(M=S===0?wi(x):NI(C,S,A));const T=Math.abs(M)<=r,_=Math.abs(a-A)<=s;l.done=T&&_}return l.value=l.done?a:A,l},toString:()=>{const S=Math.min(yj(P),Lg),A=wI(M=>P.next(S*M).value,S,30);return S+"ms "+A},toTransition:()=>{}};return P}Rg.applyToOptions=t=>{const e=Tne(t,100,Rg);return t.ease=e.ease,t.duration=wi(e.duration),t.type="keyframes",t};function F2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=T=>l!==void 0&&T<l||c!==void 0&&T>c,x=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let v=n*e;const b=f+v,w=a===void 0?b:a(b);w!==b&&(v=w-f);const N=T=>-v*Math.exp(-T/r),C=T=>w+N(T),P=T=>{const _=N(T),I=C(T);p.done=Math.abs(_)<=u,p.value=p.done?w:I};let S,A;const M=T=>{g(p.value)&&(S=T,A=Rg({keyframes:[p.value,x(p.value)],velocity:NI(C,T,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:T=>{let _=!1;return!A&&S===void 0&&(_=!0,P(T),M(T)),S!==void 0&&T>=S?A.next(T-S):(!_&&P(T),p)}}}function Ine(t,e,n){const r=[],s=n||ba.mix||vI,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Cs:e;l=Tf(c,l)}r.push(l)}return r}function Lne(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(lj(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Ine(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Hh(t[f],t[f+1],d);return l[f](p)};return n?d=>u(ya(t[0],t[i-1],d)):u}function Rne(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Hh(0,e,r);t.push(qt(n,1,s))}}function Fne(t){const e=[0];return Rne(e,t.length-1),e}function zne(t,e){return t.map(n=>n*e)}function Vne(t,e){return t.map(()=>e||uI).splice(0,t.length-1)}function ph({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Qte(r)?r.map(tE):tE(r),i={done:!1,value:e[0]},a=zne(n&&n.length===e.length?n:Fne(e),t),l=Lne(a,e,{ease:Array.isArray(s)?s:Vne(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const $ne=t=>t!==null;function bj(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter($ne),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const Bne={decay:F2,inertia:F2,tween:ph,keyframes:ph,spring:Rg};function jI(t){typeof t.type=="string"&&(t.type=Bne[t.type])}class vj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Hne=t=>t/100;class wj extends vj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Lr.now()&&this.tick(Lr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jI(e);const{type:n=ph,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const c=n||ph;c!==ph&&typeof l[0]!="number"&&(this.mixKeyframes=Tf(Hne,vI(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=yj(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,P=r;if(f){const T=Math.min(this.currentTime,s)/l;let _=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&_--,_=Math.min(_,f+1),!!(_%2)&&(p==="reverse"?(I=1-I,g&&(I-=g/l)):p==="mirror"&&(P=a)),C=ya(0,1,I)*l}const S=N?{done:!1,value:d[0]}:P.next(C);i&&(S.value=i(S.value));let{done:A}=S;!N&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return M&&x!==F2&&(S.value=bj(d,this.options,b,this.speed)),v&&v(S.value),M&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return Ss(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ss(e)}get time(){return Ss(this.currentTime)}set time(e){e=wi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Lr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ss(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=kne,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Une(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bl=t=>t*180/Math.PI,z2=t=>{const e=bl(Math.atan2(t[1],t[0]));return V2(e)},Wne={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:z2,rotateZ:z2,skewX:t=>bl(Math.atan(t[1])),skewY:t=>bl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},V2=t=>(t=t%360,t<0&&(t+=360),t),oE=z2,lE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lE,scaleY:cE,scale:t=>(lE(t)+cE(t))/2,rotateX:t=>V2(bl(Math.atan2(t[6],t[5]))),rotateY:t=>V2(bl(Math.atan2(-t[2],t[0]))),rotateZ:oE,rotate:oE,skewX:t=>bl(Math.atan(t[4])),skewY:t=>bl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $2(t){return t.includes("scale")?1:0}function B2(t,e){if(!t||t==="none")return $2(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=qne,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Wne,s=l}if(!s)return $2(e);const i=r[e],a=s[1].split(",").map(Gne);return typeof i=="function"?i(a):a[i]}const Kne=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return B2(n,e)};function Gne(t){return parseFloat(t.trim())}const Hu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uu=new Set(Hu),uE=t=>t===Bu||t===Je,Yne=new Set(["x","y","z"]),Xne=Hu.filter(t=>!Yne.has(t));function Qne(t){const e=[];return Xne.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Pl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>B2(e,"x"),y:(t,{transform:e})=>B2(e,"y")};Pl.translateX=Pl.x;Pl.translateY=Pl.y;const Al=new Set;let H2=!1,U2=!1,W2=!1;function SI(){if(U2){const t=Array.from(Al).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Qne(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}U2=!1,H2=!1,Al.forEach(t=>t.complete(W2)),Al.clear()}function CI(){Al.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(U2=!0)})}function Jne(){W2=!0,CI(),SI(),W2=!1}class Nj{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Al.add(this),H2||(H2=!0,Bt.read(CI),Bt.resolveKeyframes(SI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}Une(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Al.delete(this)}cancel(){this.state==="scheduled"&&(Al.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zne=t=>t.startsWith("--");function ere(t,e,n){Zne(e)?t.style.setProperty(e,n):t.style[e]=n}const tre=cj(()=>window.ScrollTimeline!==void 0),nre={};function rre(t,e){const n=cj(t);return()=>nre[e]??n()}const kI=rre(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),th=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:th([0,.65,.55,1]),circOut:th([.55,0,1,.45]),backIn:th([.31,.01,.66,-.59]),backOut:th([.33,1.53,.69,.99])};function TI(t,e){if(t)return typeof t=="function"?kI()?wI(t,e):"ease-out":dI(t)?th(t):Array.isArray(t)?t.map(n=>TI(n,e)||dE.easeOut):dE[t]}function sre(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const f=TI(l,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(d,p)}function EI(t){return typeof t=="function"&&"applyToOptions"in t}function ire({type:t,...e}){return EI(t)&&kI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class are extends vj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,lj(typeof e.type!="string");const u=ire(e);this.animation=sre(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=bj(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):ere(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ss(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ss(e)}get time(){return Ss(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=wi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tre()?(this.animation.timeline=e,Cs):n(this)}}const MI={anticipate:oI,backInOut:aI,circInOut:cI};function ore(t){return t in MI}function lre(t){typeof t.ease=="string"&&ore(t.ease)&&(t.ease=MI[t.ease])}const hE=10;class cre extends are{constructor(e){lre(e),jI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new wj({...a,autoplay:!1}),c=wi(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-hE).value,l.sample(c).value,hE),l.stop()}}const fE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(To.test(t)||t==="0")&&!t.startsWith("url("));function ure(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dre(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=fE(s,e),l=fE(i,e);return!a||!l?!1:ure(t)||(n==="spring"||EI(n))&&r}function q2(t){t.duration=0,t.type="keyframes"}const hre=new Set(["opacity","clipPath","filter","transform"]),fre=cj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mre(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return fre()&&n&&hre.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const pre=40;class gre extends vj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Lr.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...f},g=d?.KeyframeResolver||Nj;this.keyframeResolver=new g(l,(x,v,b)=>this.onKeyframesResolved(x,v,p,!b),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Lr.now(),dre(e,i,a,l)||((ba.instantAnimations||!c)&&d?.(bj(e,r,n)),e[0]=e[e.length-1],q2(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>pre?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!u&&mre(p)?new cre({...p,element:p.motionValue.owner.current}):new wj(p);g.finished.then(()=>this.notifyFinished()).catch(Cs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Jne()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const xre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yre(t){const e=xre.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function PI(t,e,n=1){const[r,s]=yre(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return JD(a)?parseFloat(a):a}return mj(s)?PI(s,e,n+1):s}function jj(t,e){return t?.[e]??t?.default??t}const AI=new Set(["width","height","top","left","right","bottom",...Hu]),bre={test:t=>t==="auto",parse:t=>t},OI=t=>e=>e.test(t),_I=[Bu,Je,Ni,Wa,une,cne,bre],mE=t=>_I.find(OI(t));function vre(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eI(t):!0}const wre=new Set(["brightness","contrast","saturate","opacity"]);function Nre(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(pj)||[];if(!r)return t;const s=n.replace(r,"");let i=wre.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const jre=/\b([a-z-]*)\(.*?\)/gu,K2={...To,getAnimatableNone:t=>{const e=t.match(jre);return e?e.map(Nre).join(" "):t}},pE={...Bu,transform:Math.round},Sre={rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:up,scaleX:up,scaleY:up,scaleZ:up,skew:Wa,skewX:Wa,skewY:Wa,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Uh,originX:nE,originY:nE,originZ:Je},Sj={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...Sre,zIndex:pE,fillOpacity:Uh,strokeOpacity:Uh,numOctaves:pE},Cre={...Sj,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:K2,WebkitFilter:K2},DI=t=>Cre[t];function II(t,e){let n=DI(t);return n!==K2&&(n=To),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kre=new Set(["auto","none","0"]);function Tre(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!kre.has(i)&&Wh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=II(n,s)}class Ere extends Nj{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),mj(u))){const d=PI(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!AI.has(r)||e.length!==2)return;const[s,i]=e,a=mE(s),l=mE(i);if(a!==l)if(uE(a)&&uE(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Pl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||vre(e[s]))&&r.push(s);r.length&&Tre(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Pl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Mre(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const LI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function RI(t){return ZD(t)&&"offsetHeight"in t}const gE=30,Pre=t=>!isNaN(parseFloat(t));class Are{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Lr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Pre(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uj);const r=this.events[e].add(n);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gE);return tI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ju(t,e){return new Are(t,e)}const{schedule:Cj}=hI(queueMicrotask,!1),Rs={x:!1,y:!1};function FI(){return Rs.x||Rs.y}function Ore(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function zI(t,e){const n=Mre(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function xE(t){return!(t.pointerType==="touch"||FI())}function _re(t,e,n={}){const[r,s,i]=zI(t,n),a=l=>{if(!xE(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{xE(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const VI=(t,e)=>e?t===e?!0:VI(t,e.parentElement):!1,kj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Dre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ire(t){return Dre.has(t.tagName)||t.tabIndex!==-1}const Jp=new WeakSet;function yE(t){return e=>{e.key==="Enter"&&t(e)}}function E1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Lre=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yE(()=>{if(Jp.has(n))return;E1(n,"down");const s=yE(()=>{E1(n,"up")}),i=()=>E1(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function bE(t){return kj(t)&&!FI()}function Rre(t,e,n={}){const[r,s,i]=zI(t,n),a=l=>{const c=l.currentTarget;if(!bE(l))return;Jp.add(c);const u=e(c,l),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Jp.has(c)&&Jp.delete(c),bE(g)&&typeof u=="function"&&u(g,{success:x})},f=g=>{d(g,c===window||c===document||n.useGlobalTarget||VI(c,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),RI(l)&&(l.addEventListener("focus",u=>Lre(u,s)),!Ire(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function $I(t){return ZD(t)&&"ownerSVGElement"in t}function Fre(t){return $I(t)&&t.tagName==="svg"}const ar=t=>!!(t&&t.getVelocity),zre=[..._I,fn,To],Vre=t=>zre.find(OI(t)),Tj=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $re(...t){return e=>{let n=!1;const r=t.map(s=>{const i=vE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():vE(t[s],null)}}}}function Bre(...t){return k.useCallback($re(...t),t)}class Hre extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=RI(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ure({children:t,isPresent:e,anchorX:n,root:r}){const s=k.useId(),i=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(Tj),c=Bre(i,t?.ref);return k.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p,right:g}=a.current;if(e||!i.current||!u||!d)return;const x=n==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[e]),o.jsx(Hre,{isPresent:e,childRef:i,sizeRef:a,children:k.cloneElement(t,{ref:c})})}const Wre=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=sj(qre),d=k.useId();let f=!0,p=k.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const x of u.values())if(!x)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&f&&(p={...p}),k.useMemo(()=>{u.forEach((g,x)=>u.set(x,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(Ure,{isPresent:n,anchorX:l,root:c,children:t})),o.jsx(wx.Provider,{value:p,children:t})};function qre(){return new Map}function BI(t=!0){const e=k.useContext(wx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=k.useId();k.useEffect(()=>{if(t)return s(i)},[t]);const a=k.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const dp=t=>t.key||"";function wE(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const HI=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=BI(a),f=k.useMemo(()=>wE(t),[t]),p=a&&!u?[]:f.map(dp),g=k.useRef(!0),x=k.useRef(f),v=sj(()=>new Map),[b,w]=k.useState(f),[N,C]=k.useState(f);QD(()=>{g.current=!1,x.current=f;for(let A=0;A<N.length;A++){const M=dp(N[A]);p.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[N,p.length,p.join("-")]);const P=[];if(f!==b){let A=[...f];for(let M=0;M<N.length;M++){const T=N[M],_=dp(T);p.includes(_)||(A.splice(M,0,T),P.push(T))}return i==="wait"&&P.length&&(A=P),C(wE(A)),w(f),null}const{forceRender:S}=k.useContext(rj);return o.jsx(o.Fragment,{children:N.map(A=>{const M=dp(A),T=a&&!u?!1:f===N||p.includes(M),_=()=>{if(v.has(M))v.set(M,!0);else return;let I=!0;v.forEach(D=>{D||(I=!1)}),I&&(S?.(),C(x.current),a&&d?.(),r&&r())};return o.jsx(Wre,{isPresent:T,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:T?void 0:_,anchorX:l,children:A},M)})})},UI=k.createContext({strict:!1}),NE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Su={};for(const t in NE)Su[t]={isEnabled:e=>NE[t].some(n=>!!e[n])};function Kre(t){for(const e in t)Su[e]={...Su[e],...t[e]}}const Gre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gre.has(t)}let WI=t=>!Fg(t);function Yre(t){typeof t=="function"&&(WI=e=>e.startsWith("on")?!Fg(e):t(e))}try{Yre(require("@emotion/is-prop-valid").default)}catch{}function Xre(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(WI(s)||n===!0&&Fg(s)||!e&&!Fg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Nx=k.createContext({});function jx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qh(t){return typeof t=="string"||Array.isArray(t)}const Ej=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mj=["initial",...Ej];function Sx(t){return jx(t.animate)||Mj.some(e=>qh(t[e]))}function qI(t){return!!(Sx(t)||t.variants)}function Qre(t,e){if(Sx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qh(n)?n:void 0,animate:qh(r)?r:void 0}}return t.inherit!==!1?e:{}}function Jre(t){const{initial:e,animate:n}=Qre(t,k.useContext(Nx));return k.useMemo(()=>({initial:e,animate:n}),[jE(e),jE(n)])}function jE(t){return Array.isArray(t)?t.join(" "):t}const Kh={};function Zre(t){for(const e in t)Kh[e]=t[e],fj(e)&&(Kh[e].isCSSVariable=!0)}function KI(t,{layout:e,layoutId:n}){return Uu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kh[t]||t==="opacity")}const ese={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tse=Hu.length;function nse(t,e,n){let r="",s=!0;for(let i=0;i<tse;i++){const a=Hu[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=LI(l,Sj[a]);if(!c){s=!1;const d=ese[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Pj(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Uu.has(c)){a=!0;continue}else if(fj(c)){s[c]=u;continue}else{const d=LI(u,Sj[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=nse(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Aj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GI(t,e,n){for(const r in e)!ar(e[r])&&!KI(r,n)&&(t[r]=e[r])}function rse({transformTemplate:t},e){return k.useMemo(()=>{const n=Aj();return Pj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function sse(t,e){const n=t.style||{},r={};return GI(r,n,t),Object.assign(r,rse(t,e)),r}function ise(t,e){const n={},r=sse(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ase={offset:"stroke-dashoffset",array:"stroke-dasharray"},ose={offset:"strokeDashoffset",array:"strokeDasharray"};function lse(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?ase:ose;t[i.offset]=Je.transform(-r);const a=Je.transform(e),l=Je.transform(n);t[i.array]=`${a} ${l}`}function YI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(Pj(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&lse(f,s,i,a,!1)}const XI=()=>({...Aj(),attrs:{}}),QI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cse(t,e,n,r){const s=k.useMemo(()=>{const i=XI();return YI(i,e,QI(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};GI(i,t.style,t),s.style={...i,...s.style}}return s}const use=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oj(t){return typeof t!="string"||t.includes("-")?!1:!!(use.indexOf(t)>-1||/[A-Z]/u.test(t))}function dse(t,e,n,{latestValues:r},s,i=!1){const l=(Oj(t)?cse:ise)(e,r,s,t),c=Xre(e,typeof t=="string",i),u=t!==k.Fragment?{...c,...l,ref:n}:{},{children:d}=e,f=k.useMemo(()=>ar(d)?d.get():d,[d]);return k.createElement(t,{...u,children:f})}function SE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _j(t,e,n,r){if(typeof e=="function"){const[s,i]=SE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=SE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Zp(t){return ar(t)?t.get():t}function hse({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:fse(n,r,s,t),renderState:e()}}function fse(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Zp(i[p]);let{initial:a,animate:l}=t;const c=Sx(t),u=qI(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!jx(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const x=_j(t,p[g]);if(x){const{transitionEnd:v,transition:b,...w}=x;for(const N in w){let C=w[N];if(Array.isArray(C)){const P=d?C.length-1:0;C=C[P]}C!==null&&(s[N]=C)}for(const N in v)s[N]=v[N]}}}return s}const JI=t=>(e,n)=>{const r=k.useContext(Nx),s=k.useContext(wx),i=()=>hse(t,e,r,s);return n?i():sj(i)};function Dj(t,e,n){const{style:r}=t,s={};for(const i in r)(ar(r[i])||e.style&&ar(e.style[i])||KI(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const mse=JI({scrapeMotionValuesFromProps:Dj,createRenderState:Aj});function ZI(t,e,n){const r=Dj(t,e,n);for(const s in t)if(ar(t[s])||ar(e[s])){const i=Hu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const pse=JI({scrapeMotionValuesFromProps:ZI,createRenderState:XI}),gse=Symbol.for("motionComponentSymbol");function tu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xse(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tu(n)&&(n.current=r))},[e])}const Ij=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yse="framerAppearId",eL="data-"+Ij(yse),tL=k.createContext({});function bse(t,e,n,r,s){const{visualElement:i}=k.useContext(Nx),a=k.useContext(UI),l=k.useContext(wx),c=k.useContext(Tj).reducedMotion,u=k.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=k.useContext(tL);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&vse(u.current,n,s,f);const p=k.useRef(!1);k.useInsertionEffect(()=>{d&&p.current&&d.update(n,l)});const g=n[eL],x=k.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return QD(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),d.enteringChildren=void 0)}),d}function vse(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&tu(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function nL(t){if(t)return t.options.allowProjection!==!1?t.projection:nL(t.parent)}function M1(t,{forwardMotionProps:e=!1}={},n,r){n&&Kre(n);const s=Oj(t)?pse:mse;function i(l,c){let u;const d={...k.useContext(Tj),...l,layoutId:wse(l)},{isStatic:f}=d,p=Jre(l),g=s(l,f);if(!f&&ij){Nse();const x=jse(d);u=x.MeasureLayout,p.visualElement=bse(t,g,d,r,x.ProjectionNode)}return o.jsxs(Nx.Provider,{value:p,children:[u&&p.visualElement?o.jsx(u,{visualElement:p.visualElement,...d}):null,dse(t,l,xse(g,p.visualElement,c),g,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=k.forwardRef(i);return a[gse]=t,a}function wse({layoutId:t}){const e=k.useContext(rj).id;return e&&t!==void 0?e+"-"+t:t}function Nse(t,e){k.useContext(UI).strict}function jse(t){const{drag:e,layout:n}=Su;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Sse(t,e){if(typeof Proxy>"u")return M1;const n=new Map,r=(i,a)=>M1(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,M1(a,void 0,t,e)),n.get(a))})}function rL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Cse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kse(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function P1(t){return t===void 0||t===1}function G2({scale:t,scaleX:e,scaleY:n}){return!P1(t)||!P1(e)||!P1(n)}function cl(t){return G2(t)||sL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sL(t){return CE(t.x)||CE(t.y)}function CE(t){return t&&t!=="0%"}function zg(t,e,n){const r=t-n,s=e*r;return n+s}function kE(t,e,n,r,s){return s!==void 0&&(t=zg(t,s,r)),zg(t,n,r)+e}function Y2(t,e=0,n=1,r,s){t.min=kE(t.min,e,n,r,s),t.max=kE(t.max,e,n,r,s)}function iL(t,{x:e,y:n}){Y2(t.x,e.translate,e.scale,e.originPoint),Y2(t.y,n.translate,n.scale,n.originPoint)}const TE=.999999999999,EE=1.0000000000001;function Tse(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ru(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,iL(t,a)),r&&cl(i.latestValues)&&ru(t,i.latestValues))}e.x<EE&&e.x>TE&&(e.x=1),e.y<EE&&e.y>TE&&(e.y=1)}function nu(t,e){t.min=t.min+e,t.max=t.max+e}function ME(t,e,n,r,s=.5){const i=qt(t.min,t.max,s);Y2(t,e,n,i,r)}function ru(t,e){ME(t.x,e.x,e.scaleX,e.scale,e.originX),ME(t.y,e.y,e.scaleY,e.scale,e.originY)}function aL(t,e){return rL(kse(t.getBoundingClientRect(),e))}function Ese(t,e,n){const r=aL(t,n),{scroll:s}=e;return s&&(nu(r.x,s.offset.x),nu(r.y,s.offset.y)),r}const PE=()=>({translate:0,scale:1,origin:0,originPoint:0}),su=()=>({x:PE(),y:PE()}),AE=()=>({min:0,max:0}),on=()=>({x:AE(),y:AE()}),X2={current:null},oL={current:!1};function Mse(){if(oL.current=!0,!!ij)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>X2.current=t.matches;t.addEventListener("change",e),e()}else X2.current=!1}const Pse=new WeakMap;function Ase(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ar(s))t.addValue(r,s);else if(ar(i))t.addValue(r,ju(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,ju(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const OE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ose{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Lr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Bt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Sx(n),this.isVariantNode=qI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];c[p]!==void 0&&ar(g)&&g.set(c[p])}}mount(e){this.current=e,Pse.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oL.current||Mse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:X2.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ko(this.notifyUpdate),ko(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Uu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Su){const n=Su[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OE.length;r++){const s=OE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Ase(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ju(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(JD(r)||eI(r))?r=parseFloat(r):!Vre(r)&&To.test(n)&&(r=II(e,n)),this.setBaseTarget(e,ar(r)?r.get():r)),ar(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=_j(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ar(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uj),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Cj.render(this.render)}}class lL extends Ose{constructor(){super(...arguments),this.KeyframeResolver=Ere}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ar(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cL(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function _se(t){return window.getComputedStyle(t)}class Dse extends lL{constructor(){super(...arguments),this.type="html",this.renderInstance=cL}readValueFromInstance(e,n){if(Uu.has(n))return this.projection?.isProjecting?$2(n):Kne(e,n);{const r=_se(e),s=(fj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return aL(e,n)}build(e,n,r){Pj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Dj(e,n,r)}}const uL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ise(t,e,n,r){cL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(uL.has(s)?s:Ij(s),e.attrs[s])}class Lse extends lL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uu.has(n)){const r=DI(n);return r&&r.default||0}return n=uL.has(n)?n:Ij(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZI(e,n,r)}build(e,n,r){YI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Ise(e,n,r,s)}mount(e){this.isSVGTag=QI(e.tagName),super.mount(e)}}const Rse=(t,e)=>Oj(t)?new Lse(e):new Dse(e,{allowProjection:t!==k.Fragment});function du(t,e,n){const r=t.getProps();return _j(r,e,n!==void 0?n:r.custom,t)}const Q2=t=>Array.isArray(t);function Fse(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ju(n))}function zse(t){return Q2(t)?t[t.length-1]||0:t}function Vse(t,e){const n=du(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=zse(i[a]);Fse(t,a,l)}}function $se(t){return!!(ar(t)&&t.add)}function J2(t,e){const n=t.getValue("willChange");if($se(n))return n.add(e);if(!n&&ba.WillChange){const r=new ba.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function dL(t){return t.props[eL]}const Bse=t=>t!==null;function Hse(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Bse),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Use={type:"spring",stiffness:500,damping:25,restSpeed:10},Wse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qse={type:"keyframes",duration:.8},Kse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gse=(t,{keyframes:e})=>e.length>2?qse:Uu.has(t)?t.startsWith("scale")?Wse(e[1]):Use:Kse;function Yse({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Lj=(t,e,n,r={},s,i)=>a=>{const l=jj(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-wi(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Yse(l)||Object.assign(d,Gse(t,d)),d.duration&&(d.duration=wi(d.duration)),d.repeatDelay&&(d.repeatDelay=wi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(q2(d),d.delay===0&&(f=!0)),(ba.instantAnimations||ba.skipAnimations)&&(f=!0,q2(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const p=Hse(d.keyframes,l);if(p!==void 0){Bt.update(()=>{d.onUpdate(p),d.onComplete()});return}}return l.isSync?new wj(d):new gre(d)};function Xse({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),p=l[d];if(p===void 0||u&&Xse(u,d))continue;const g={delay:n,...jj(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=dL(t);if(w){const N=window.MotionHandoffAnimation(w,d,Bt);N!==null&&(g.startTime=N,v=!0)}}J2(t,d),f.start(Lj(d,f,p,t.shouldReduceMotion&&AI.has(d)?{type:!1}:g,t,v));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Bt.update(()=>{a&&Vse(t,a)})}),c}function fL(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:l-i*r}function Z2(t,e,n={}){const r=du(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(hL(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return Qse(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function Qse(t,e,n=0,r=0,s=0,i=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(Z2(c,e,{...a,delay:n+(typeof r=="function"?0:r)+fL(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Jse(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Z2(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Z2(t,e,n);else{const s=typeof e=="function"?du(t,e,n.custom):e;r=Promise.all(hL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function mL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Zse=Mj.length;function pL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Zse;n++){const r=Mj[n],s=t.props[r];(qh(s)||s===!1)&&(e[r]=s)}return e}const eie=[...Ej].reverse(),tie=Ej.length;function nie(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jse(t,n,r)))}function rie(t){let e=nie(t),n=_E(),r=!0;const s=c=>(u,d)=>{const f=du(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=pL(t.parent)||{},f=[],p=new Set;let g={},x=1/0;for(let b=0;b<tie;b++){const w=eie[b],N=n[w],C=u[w]!==void 0?u[w]:d[w],P=qh(C),S=w===c?N.isActive:null;S===!1&&(x=b);let A=C===d[w]&&C!==u[w]&&P;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),N.protectedKeys={...g},!N.isActive&&S===null||!C&&!N.prevProp||jx(C)||typeof C=="boolean")continue;const M=sie(N.prevProp,C);let T=M||w===c&&N.isActive&&!A&&P||b>x&&P,_=!1;const I=Array.isArray(C)?C:[C];let D=I.reduce(s(w),{});S===!1&&(D={});const{prevResolvedValues:R={}}=N,G={...R,...D},U=B=>{T=!0,p.has(B)&&(_=!0,p.delete(B)),N.needsAnimating[B]=!0;const $=t.getValue(B);$&&($.liveStyle=!1)};for(const B in G){const $=D[B],Q=R[B];if(g.hasOwnProperty(B))continue;let H=!1;Q2($)&&Q2(Q)?H=!mL($,Q):H=$!==Q,H?$!=null?U(B):p.add(B):$!==void 0&&p.has(B)?U(B):N.protectedKeys[B]=!0}N.prevProp=C,N.prevResolvedValues=D,N.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(T=!1);const q=A&&M;T&&(!q||_)&&f.push(...I.map(B=>{const $={type:w};if(typeof B=="string"&&r&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,H=du(Q,B);if(Q.enteringChildren&&H){const{delayChildren:V}=H.transition||{};$.delay=fL(Q.enteringChildren,t,V)}}return{animation:B,options:$}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const w=du(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const N=t.getBaseTarget(w),C=t.getValue(w);C&&(C.liveStyle=!0),b[w]=N??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function l(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=_E()}}}function sie(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mL(e,t):!1}function il(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _E(){return{animate:il(!0),whileInView:il(),whileHover:il(),whileTap:il(),whileDrag:il(),whileFocus:il(),exit:il()}}class Do{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iie extends Do{constructor(e){super(e),e.animationState||(e.animationState=rie(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let aie=0;class oie extends Do{constructor(){super(...arguments),this.id=aie++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lie={animation:{Feature:iie},exit:{Feature:oie}};function Gh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pf(t){return{point:{x:t.pageX,y:t.pageY}}}const cie=t=>e=>kj(e)&&t(e,Pf(e));function gh(t,e,n,r){return Gh(t,e,cie(n),r)}const gL=1e-4,uie=1-gL,die=1+gL,xL=.01,hie=0-xL,fie=0+xL;function yr(t){return t.max-t.min}function mie(t,e,n){return Math.abs(t-e)<=n}function DE(t,e,n,r=.5){t.origin=r,t.originPoint=qt(e.min,e.max,t.origin),t.scale=yr(n)/yr(e),t.translate=qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uie&&t.scale<=die||isNaN(t.scale))&&(t.scale=1),(t.translate>=hie&&t.translate<=fie||isNaN(t.translate))&&(t.translate=0)}function xh(t,e,n,r){DE(t.x,e.x,n.x,r?r.originX:void 0),DE(t.y,e.y,n.y,r?r.originY:void 0)}function IE(t,e,n){t.min=n.min+e.min,t.max=t.min+yr(e)}function pie(t,e,n){IE(t.x,e.x,n.x),IE(t.y,e.y,n.y)}function LE(t,e,n){t.min=e.min-n.min,t.max=t.min+yr(e)}function yh(t,e,n){LE(t.x,e.x,n.x),LE(t.y,e.y,n.y)}function bs(t){return[t("x"),t("y")]}const yL=({current:t})=>t?t.ownerDocument.defaultView:null,RE=(t,e)=>Math.abs(t-e);function gie(t,e){const n=RE(t.x,e.x),r=RE(t.y,e.y);return Math.sqrt(n**2+r**2)}class bL{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=O1(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=gie(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=p,{timestamp:b}=Vn;this.history.push({...v,timestamp:b});const{onStart:w,onMove:N}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=A1(g,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=O1(p.type==="pointercancel"?this.lastMoveEventInfo:A1(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,w),v&&v(p,w)},!kj(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=Pf(e),c=A1(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Vn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,O1(c,this.history)),this.removeListeners=Tf(gh(this.contextWindow,"pointermove",this.handlePointerMove),gh(this.contextWindow,"pointerup",this.handlePointerUp),gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ko(this.updatePoint)}}function A1(t,e){return e?{point:e(t.point)}:t}function FE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function O1({point:t},e){return{point:t,delta:FE(t,vL(e)),offset:FE(t,xie(e)),velocity:yie(e,.1)}}function xie(t){return t[0]}function vL(t){return t[t.length-1]}function yie(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=vL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>wi(e)));)n--;if(!r)return{x:0,y:0};const i=Ss(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function bie(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qt(n,t,r.max):Math.min(t,n)),t}function zE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vie(t,{top:e,left:n,bottom:r,right:s}){return{x:zE(t.x,n,s),y:zE(t.y,e,r)}}function VE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wie(t,e){return{x:VE(t.x,e.x),y:VE(t.y,e.y)}}function Nie(t,e){let n=.5;const r=yr(t),s=yr(e);return s>r?n=Hh(e.min,e.max-r,t.min):r>s&&(n=Hh(t.min,t.max-s,e.min)),ya(0,1,n)}function jie(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ew=.35;function Sie(t=ew){return t===!1?t=0:t===!0&&(t=ew),{x:$E(t,"left","right"),y:$E(t,"top","bottom")}}function $E(t,e,n){return{min:BE(t,e),max:BE(t,n)}}function BE(t,e){return typeof t=="number"?t:t[e]||0}const Cie=new WeakMap;class kie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pf(f).point)},a=(f,p)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ore(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bs(w=>{let N=this.getAxisMotionValue(w).get()||0;if(Ni.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[w];P&&(N=yr(P)*(parseFloat(N)/100))}}this.originPoint[w]=N}),v&&Bt.postRender(()=>v(f,p)),J2(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(x&&this.currentDirection===null){this.currentDirection=Tie(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>bs(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new bL(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:yL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Bt.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!hp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=bie(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&tu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=vie(r.layoutBox,e):this.constraints=!1,this.elastic=Sie(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bs(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=jie(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Ese(r,s.root,this.visualElement.getTransformPagePoint());let a=wie(s.layout.layoutBox,i);if(n){const l=n(Cse(a));this.hasMutatedConstraints=!!l,l&&(a=rL(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=bs(d=>{if(!hp(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return J2(this.visualElement,e),r.start(Lj(e,r,0,n,this.visualElement,!1))}stopAnimation(){bs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bs(n=>{const{drag:r}=this.getProps();if(!hp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-qt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};bs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=Nie({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bs(a=>{if(!hp(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(qt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Cie.set(this.visualElement,this);const e=this.visualElement.current,n=gh(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();tu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bt.read(r);const a=Gh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(bs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=ew,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function hp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Tie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Eie extends Do{constructor(e){super(e),this.removeGroupControls=Cs,this.removeListeners=Cs,this.controls=new kie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const HE=t=>(e,n)=>{t&&Bt.postRender(()=>t(e,n))};class Mie extends Do{constructor(){super(...arguments),this.removePointerDownListener=Cs}onPointerDown(e){this.session=new bL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:HE(e),onStart:HE(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Bt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=gh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const n=UE(t,e.target.x),r=UE(t,e.target.y);return`${n}% ${r}%`}},Pie={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=To.parse(t);if(s.length>5)return r;const i=To.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=qt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let _1=!1;class Aie extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Zre(Oie),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),_1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,_1=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Bt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;_1=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wL(t){const[e,n]=BI(),r=k.useContext(rj);return o.jsx(Aie,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(tL),isPresent:e,safeToRemove:n})}const Oie={borderRadius:{...Bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bd,borderTopRightRadius:Bd,borderBottomLeftRadius:Bd,borderBottomRightRadius:Bd,boxShadow:Pie};function _ie(t,e,n){const r=ar(t)?t:ju(t);return r.start(Lj("",r,e,n)),r.animation}const Die=(t,e)=>t.depth-e.depth;class Iie{constructor(){this.children=[],this.isDirty=!1}add(e){aj(this.children,e),this.isDirty=!0}remove(e){oj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Die),this.isDirty=!1,this.children.forEach(e)}}function Lie(t,e){const n=Lr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ko(r),t(i-e))};return Bt.setup(r,!0),()=>ko(r)}const NL=["TopLeft","TopRight","BottomLeft","BottomRight"],Rie=NL.length,WE=t=>typeof t=="string"?parseFloat(t):t,qE=t=>typeof t=="number"||Je.test(t);function Fie(t,e,n,r,s,i){s?(t.opacity=qt(0,n.opacity??1,zie(r)),t.opacityExit=qt(e.opacity??1,0,Vie(r))):i&&(t.opacity=qt(e.opacity??1,n.opacity??1,r));for(let a=0;a<Rie;a++){const l=`border${NL[a]}Radius`;let c=KE(e,l),u=KE(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||qE(c)===qE(u)?(t[l]=Math.max(qt(WE(c),WE(u),r),0),(Ni.test(u)||Ni.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=qt(e.rotate||0,n.rotate||0,r))}function KE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zie=jL(0,.5,lI),Vie=jL(.5,.95,Cs);function jL(t,e,n){return r=>r<t?0:r>e?1:n(Hh(t,e,r))}function GE(t,e){t.min=e.min,t.max=e.max}function xs(t,e){GE(t.x,e.x),GE(t.y,e.y)}function YE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XE(t,e,n,r,s){return t-=e,t=zg(t,1/n,r),s!==void 0&&(t=zg(t,1/s,r)),t}function $ie(t,e=0,n=1,r=.5,s,i=t,a=t){if(Ni.test(e)&&(e=parseFloat(e),e=qt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=qt(i.min,i.max,r);t===i&&(l-=e),t.min=XE(t.min,e,n,l,s),t.max=XE(t.max,e,n,l,s)}function QE(t,e,[n,r,s],i,a){$ie(t,e[n],e[r],e[s],e.scale,i,a)}const Bie=["x","scaleX","originX"],Hie=["y","scaleY","originY"];function JE(t,e,n,r){QE(t.x,e,Bie,n?n.x:void 0,r?r.x:void 0),QE(t.y,e,Hie,n?n.y:void 0,r?r.y:void 0)}function ZE(t){return t.translate===0&&t.scale===1}function SL(t){return ZE(t.x)&&ZE(t.y)}function e6(t,e){return t.min===e.min&&t.max===e.max}function Uie(t,e){return e6(t.x,e.x)&&e6(t.y,e.y)}function t6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CL(t,e){return t6(t.x,e.x)&&t6(t.y,e.y)}function n6(t){return yr(t.x)/yr(t.y)}function r6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Wie{constructor(){this.members=[]}add(e){aj(this.members,e),e.scheduleRender()}remove(e){if(oj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qie(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const D1=["","X","Y","Z"],Kie=1e3;let Gie=0;function I1(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function kL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kL(r)}function TL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=Gie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qie),this.nodes.forEach(tae),this.nodes.forEach(nae),this.nodes.forEach(Jie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Iie)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uj),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=$I(a)&&!Fre(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{f=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=Lie(p,250),eg.hasAnimatedSinceResize&&(eg.hasAnimatedSinceResize=!1,this.nodes.forEach(a6)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||oae,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!CL(this.targetLayout,g),N=!f&&p;if(this.options.layoutRoot||this.resumeFrom||N||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...jj(x,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(d,N)}else f||a6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rae),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eae),this.nodes.forEach(Yie),this.nodes.forEach(Xie)):this.nodes.forEach(i6),this.clearAllSnapshots();const l=Lr.now();Vn.delta=ya(0,1e3/60,l-Vn.timestamp),Vn.timestamp=l,Vn.isProcessing=!0,j1.update.process(Vn),j1.preRender.process(Vn),j1.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zie),this.sharedNodes.forEach(sae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yr(this.snapshot.measuredBox.x)&&!yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!SL(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||cl(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),lae(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return on();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cae))){const{scroll:u}=this.root;u&&(nu(l.x,u.offset.x),nu(l.y,u.offset.y))}return l}removeElementScroll(a){const l=on();if(xs(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&xs(l,a),nu(l.x,d.offset.x),nu(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const c=on();xs(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ru(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cl(d.latestValues)&&ru(c,d.latestValues)}return cl(this.latestValues)&&ru(c,this.latestValues),c}removeTransform(a){const l=on();xs(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!cl(u.latestValues))continue;G2(u.latestValues)&&u.updateSnapshot();const d=on(),f=u.measurePageBox();xs(d,f),JE(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return cl(this.latestValues)&&JE(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),yh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xs(this.target,this.layout.layoutBox),iL(this.target,this.targetDelta)):xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),yh(this.relativeTargetOrigin,this.target,p.target),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||G2(this.parent.latestValues)||sL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;xs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Tse(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=on());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YE(this.prevProjectionDelta.x,this.projectionDelta.x),YE(this.prevProjectionDelta.y,this.projectionDelta.y)),xh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!r6(this.projectionDelta.x,this.prevProjectionDelta.x)||!r6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=su(),this.projectionDelta=su(),this.projectionDeltaWithTransform=su()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=su();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=on(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,b=this.getStack(),w=!b||b.members.length<=1,N=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(aae));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const S=P/1e3;o6(f.x,a.x,S),o6(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iae(this.relativeTarget,this.relativeTargetOrigin,p,S),C&&Uie(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=on()),xs(C,this.relativeTarget)),v&&(this.animationValues=d,Fie(d,u,this.latestValues,S,N,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{eg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ju(0)),this.currentAnimation=_ie(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&EL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||on();const f=yr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=yr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}xs(l,c),ru(l,d),xh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Wie),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&I1("z",a,u,this.animationValues);for(let d=0;d<D1.length;d++)I1(`rotate${D1[d]}`,a,u,this.animationValues),I1(`skew${D1[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Zp(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Zp(l?.pointerEvents)||""),this.hasProjected&&!cl(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=qie(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Kh){if(d[x]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=Kh[x],N=f==="none"?d[x]:v(d[x],u);if(b){const C=b.length;for(let P=0;P<C;P++)a[b[P]]=N}else w?this.options.visualElement.renderState.vars[x]=N:a[x]=N}this.options.layoutId&&(a.pointerEvents=u===this?Zp(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(s6),this.root.sharedNodes.clear()}}}function Yie(t){t.updateLayout()}function Xie(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?bs(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=yr(f);f.min=n[d].min,f.max=f.min+p}):EL(s,e.layoutBox,n)&&bs(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=yr(n[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=su();xh(a,n,e.layoutBox);const l=su();i?xh(l,t.applyTransform(r,!0),e.measuredBox):xh(l,n,e.layoutBox);const c=!SL(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=on();yh(g,e.layoutBox,f.layoutBox);const x=on();yh(x,n,p.layoutBox),CL(g,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Qie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Jie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Zie(t){t.clearSnapshot()}function s6(t){t.clearMeasurements()}function i6(t){t.isLayoutDirty=!1}function eae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function a6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tae(t){t.resolveTargetDelta()}function nae(t){t.calcProjection()}function rae(t){t.resetSkewAndRotation()}function sae(t){t.removeLeadSnapshot()}function o6(t,e,n){t.translate=qt(e.translate,0,n),t.scale=qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function l6(t,e,n,r){t.min=qt(e.min,n.min,r),t.max=qt(e.max,n.max,r)}function iae(t,e,n,r){l6(t.x,e.x,n.x,r),l6(t.y,e.y,n.y,r)}function aae(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oae={duration:.45,ease:[.4,0,.1,1]},c6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),u6=c6("applewebkit/")&&!c6("chrome/")?Math.round:Cs;function d6(t){t.min=u6(t.min),t.max=u6(t.max)}function lae(t){d6(t.x),d6(t.y)}function EL(t,e,n){return t==="position"||t==="preserve-aspect"&&!mie(n6(e),n6(n),.2)}function cae(t){return t!==t.root&&t.scroll?.wasRoot}const uae=TL({attachResizeListener:(t,e)=>Gh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),L1={current:void 0},ML=TL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!L1.current){const t=new uae({});t.mount(window),t.setOptions({layoutScroll:!0}),L1.current=t}return L1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dae={pan:{Feature:Mie},drag:{Feature:Eie,ProjectionNode:ML,MeasureLayout:wL}};function h6(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Bt.postRender(()=>i(e,Pf(e)))}class hae extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=_re(e,(n,r)=>(h6(this.node,r,"Start"),s=>h6(this.node,s,"End"))))}unmount(){}}class fae extends Do{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tf(Gh(this.node.current,"focus",()=>this.onFocus()),Gh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f6(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Bt.postRender(()=>i(e,Pf(e)))}class mae extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=Rre(e,(n,r)=>(f6(this.node,r,"Start"),(s,{success:i})=>f6(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tw=new WeakMap,R1=new WeakMap,pae=t=>{const e=tw.get(t.target);e&&e(t)},gae=t=>{t.forEach(pae)};function xae({root:t,...e}){const n=t||document;R1.has(n)||R1.set(n,{});const r=R1.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(gae,{root:t,...e})),r[s]}function yae(t,e,n){const r=xae(e);return tw.set(t,n),r.observe(t),()=>{tw.delete(t),r.unobserve(t)}}const bae={some:0,all:1};class vae extends Do{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:bae[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return yae(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wae(e,n))&&this.startObserver()}unmount(){}}function wae({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Nae={inView:{Feature:vae},tap:{Feature:mae},focus:{Feature:fae},hover:{Feature:hae}},jae={layout:{ProjectionNode:ML,MeasureLayout:wL}},Sae={...lie,...Nae,...dae,...jae},m6=Sse(Sae,Rse);function ut({children:t,open:e,className:n,duration:r,onClose:s}){return k.useEffect(()=>{if(e&&r&&s){const i=setTimeout(()=>{s()},r);return()=>clearTimeout(i)}},[e,r,s]),o.jsx(HI,{mode:"wait",children:e&&o.jsx(m6.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#3e3e3e95] z-[999]",onClick:s,children:o.jsx(m6.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.25},className:`${n}`,onClick:i=>i.stopPropagation(),children:t},"modal-content")},"modal-overlay")})}var Af=t=>t.type==="checkbox",vl=t=>t instanceof Date,_r=t=>t==null;const PL=t=>typeof t=="object";var yn=t=>!_r(t)&&!Array.isArray(t)&&PL(t)&&!vl(t),AL=t=>yn(t)&&t.target?Af(t.target)?t.target.checked:t.target.value:t,Cae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,OL=(t,e)=>t.has(Cae(e)),kae=t=>{const e=t.constructor&&t.constructor.prototype;return yn(e)&&e.hasOwnProperty("isPrototypeOf")},Rj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Rj&&(t instanceof Blob||r))&&(n||yn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!kae(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=jn(t[s]));else return t;return e}var Cx=t=>/^\w*$/.test(t),Qt=t=>t===void 0,Fj=t=>Array.isArray(t)?t.filter(Boolean):[],zj=t=>Fj(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(t,e,n)=>{if(!e||!yn(t))return n;const r=(Cx(e)?[e]:zj(e)).reduce((s,i)=>_r(s)?s:s[i],t);return Qt(r)||r===t?Qt(t[e])?n:t[e]:r},Gr=t=>typeof t=="boolean",Nt=(t,e,n)=>{let r=-1;const s=Cx(e)?[e]:zj(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=yn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Vg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_L=be.createContext(null);_L.displayName="HookFormContext";const Vj=()=>be.useContext(_L);var DL=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Fs.all&&(e._proxyFormState[a]=!r||Fs.all),n&&(n[a]=!0),t[a]}});return s};const $j=typeof window<"u"?be.useLayoutEffect:be.useEffect;function Tae(t){const e=Vj(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=be.useState(n._formState),c=be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $j(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),be.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),be.useMemo(()=>DL(a,n,c.current,!1),[a,n])}var Qr=t=>typeof t=="string",IL=(t,e,n,r,s)=>Qr(t)?(r&&e.watch.add(t),Te(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Te(n,i))):(r&&(e.watchAll=!0),n),nw=t=>_r(t)||!PL(t);function ta(t,e,n=new WeakSet){if(nw(t)||nw(e))return t===e;if(vl(t)&&vl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(vl(a)&&vl(l)||yn(a)&&yn(l)||Array.isArray(a)&&Array.isArray(l)?!ta(a,l,n):a!==l)return!1}}return!0}function Eae(t){const e=Vj(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=be.useRef(s),u=be.useRef(l),d=be.useRef(void 0);u.current=l;const f=be.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,g]=be.useState(u.current?u.current(f):f);return $j(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:x=>{if(!i){const v=IL(r,n._names,x.values||n._formValues,!1,c.current);if(u.current){const b=u.current(v);ta(b,d.current)||(g(b),d.current=b)}else g(v)}}}),[n,i,r,a]),be.useEffect(()=>n._removeUnmounted()),p}function Mae(t){const e=Vj(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=OL(s._names.array,n),c=be.useMemo(()=>Te(s._formValues,n,Te(s._defaultValues,n,a)),[s,n,a]),u=Eae({control:s,name:n,defaultValue:c,exact:!0}),d=Tae({control:s,name:n,exact:!0}),f=be.useRef(t),p=be.useRef(void 0),g=be.useRef(s.register(n,{...t.rules,value:u,...Gr(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const x=be.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Te(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Te(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Te(d.validatingFields,n)},error:{enumerable:!0,get:()=>Te(d.errors,n)}}),[d,n]),v=be.useCallback(C=>g.current.onChange({target:{value:AL(C),name:n},type:Vg.CHANGE}),[n]),b=be.useCallback(()=>g.current.onBlur({target:{value:Te(s._formValues,n),name:n},type:Vg.BLUR}),[n,s._formValues]),w=be.useCallback(C=>{const P=Te(s._fields,n);P&&C&&(P._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:S=>C.setCustomValidity(S),reportValidity:()=>C.reportValidity()})},[s._fields,n]),N=be.useMemo(()=>({name:n,value:u,...Gr(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:b,ref:w}),[n,r,d.disabled,v,b,w,u]);return be.useEffect(()=>{const C=s._options.shouldUnregister||i,P=p.current;P&&P!==n&&!l&&s.unregister(P),s.register(n,{...f.current.rules,...Gr(f.current.disabled)?{disabled:f.current.disabled}:{}});const S=(A,M)=>{const T=Te(s._fields,A);T&&T._f&&(T._f.mount=M)};if(S(n,!0),C){const A=jn(Te(s._options.defaultValues,n,f.current.defaultValue));Nt(s._defaultValues,n,A),Qt(Te(s._formValues,n))&&Nt(s._formValues,n,A)}return!l&&s.register(n),p.current=n,()=>{(l?C&&!s._state.action:C)?s.unregister(n):S(n,!1)}},[n,s,l,i]),be.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),be.useMemo(()=>({field:N,formState:d,fieldState:x}),[N,d,x])}const ji=t=>t.render(Mae(t));var LL=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},bh=t=>Array.isArray(t)?t:[t],p6=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function RL(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&yn(s)&&i){const a=RL(s,i);yn(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var Or=t=>yn(t)&&!Object.keys(t).length,Bj=t=>t.type==="file",zs=t=>typeof t=="function",$g=t=>{if(!Rj)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},FL=t=>t.type==="select-multiple",Hj=t=>t.type==="radio",Pae=t=>Hj(t)||Af(t),F1=t=>$g(t)&&t.isConnected;function Aae(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Qt(t)?r++:t[e[r++]];return t}function Oae(t){for(const e in t)if(t.hasOwnProperty(e)&&!Qt(t[e]))return!1;return!0}function hn(t,e){const n=Array.isArray(e)?e:Cx(e)?[e]:zj(e),r=n.length===1?t:Aae(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(yn(r)&&Or(r)||Array.isArray(r)&&Oae(r))&&hn(t,n.slice(0,-1)),t}var _ae=t=>{for(const e in t)if(zs(t[e]))return!0;return!1};function zL(t){return Array.isArray(t)||yn(t)&&!_ae(t)}function rw(t,e={}){for(const n in t)zL(t[n])?(e[n]=Array.isArray(t[n])?[]:{},rw(t[n],e[n])):Qt(t[n])||(e[n]=!0);return e}function Gc(t,e,n){n||(n=rw(e));for(const r in t)zL(t[r])?Qt(e)||nw(n[r])?n[r]=rw(t[r],Array.isArray(t[r])?[]:{}):Gc(t[r],_r(e)?{}:e[r],n[r]):n[r]=!ta(t[r],e[r]);return n}const g6={value:!1,isValid:!1},x6={value:!0,isValid:!0};var VL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Qt(t[0].attributes.value)?Qt(t[0].value)||t[0].value===""?x6:{value:t[0].value,isValid:!0}:x6:g6}return g6},$L=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Qt(t)?t:e?t===""?NaN:t&&+t:n&&Qr(t)?new Date(t):r?r(t):t;const y6={isValid:!1,value:null};var BL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,y6):y6;function b6(t){const e=t.ref;return Bj(e)?e.files:Hj(e)?BL(t.refs).value:FL(e)?[...e.selectedOptions].map(({value:n})=>n):Af(e)?VL(t.refs).value:$L(Qt(e.value)?t.ref.value:e.value,t)}var Dae=(t,e,n,r)=>{const s={};for(const i of t){const a=Te(e,i);a&&Nt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Bg=t=>t instanceof RegExp,Hd=t=>Qt(t)?t:Bg(t)?t.source:yn(t)?Bg(t.value)?t.value.source:t.value:t,v6=t=>({isOnSubmit:!t||t===Fs.onSubmit,isOnBlur:t===Fs.onBlur,isOnChange:t===Fs.onChange,isOnAll:t===Fs.all,isOnTouch:t===Fs.onTouched});const w6="AsyncFunction";var Iae=t=>!!t&&!!t.validate&&!!(zs(t.validate)&&t.validate.constructor.name===w6||yn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===w6)),Lae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),N6=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const vh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Te(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(vh(l,e))break}else if(yn(l)&&vh(l,e))break}}};function j6(t,e,n){const r=Te(t,n);if(r||Cx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Te(e,i),l=Te(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var Rae=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Or(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Fs.all))},Fae=(t,e,n)=>!t||!e||t===e||bh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),zae=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Vae=(t,e)=>!Fj(Te(t,e)).length&&hn(t,e),$ae=(t,e,n)=>{const r=bh(Te(t,n));return Nt(r,"root",e[n]),Nt(t,n,r),t};function S6(t,e,n="validate"){if(Qr(t)||Array.isArray(t)&&t.every(Qr)||Gr(t)&&!t)return{type:n,message:Qr(t)?t:"",ref:e}}var Hc=t=>yn(t)&&!Bg(t)?t:{value:t,message:""},C6=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:g,validate:x,name:v,valueAsNumber:b,mount:w}=t._f,N=Te(n,v);if(!w||e.has(v))return{};const C=l?l[0]:a,P=R=>{s&&C.reportValidity&&(C.setCustomValidity(Gr(R)?"":R||""),C.reportValidity())},S={},A=Hj(a),M=Af(a),T=A||M,_=(b||Bj(a))&&Qt(a.value)&&Qt(N)||$g(a)&&a.value===""||N===""||Array.isArray(N)&&!N.length,I=LL.bind(null,v,r,S),D=(R,G,U,q=Bi.maxLength,z=Bi.minLength)=>{const B=R?G:U;S[v]={type:R?q:z,message:B,ref:a,...I(R?q:z,B)}};if(i?!Array.isArray(N)||!N.length:c&&(!T&&(_||_r(N))||Gr(N)&&!N||M&&!VL(l).isValid||A&&!BL(l).isValid)){const{value:R,message:G}=Qr(c)?{value:!!c,message:c}:Hc(c);if(R&&(S[v]={type:Bi.required,message:G,ref:C,...I(Bi.required,G)},!r))return P(G),S}if(!_&&(!_r(f)||!_r(p))){let R,G;const U=Hc(p),q=Hc(f);if(!_r(N)&&!isNaN(N)){const z=a.valueAsNumber||N&&+N;_r(U.value)||(R=z>U.value),_r(q.value)||(G=z<q.value)}else{const z=a.valueAsDate||new Date(N),B=H=>new Date(new Date().toDateString()+" "+H),$=a.type=="time",Q=a.type=="week";Qr(U.value)&&N&&(R=$?B(N)>B(U.value):Q?N>U.value:z>new Date(U.value)),Qr(q.value)&&N&&(G=$?B(N)<B(q.value):Q?N<q.value:z<new Date(q.value))}if((R||G)&&(D(!!R,U.message,q.message,Bi.max,Bi.min),!r))return P(S[v].message),S}if((u||d)&&!_&&(Qr(N)||i&&Array.isArray(N))){const R=Hc(u),G=Hc(d),U=!_r(R.value)&&N.length>+R.value,q=!_r(G.value)&&N.length<+G.value;if((U||q)&&(D(U,R.message,G.message),!r))return P(S[v].message),S}if(g&&!_&&Qr(N)){const{value:R,message:G}=Hc(g);if(Bg(R)&&!N.match(R)&&(S[v]={type:Bi.pattern,message:G,ref:a,...I(Bi.pattern,G)},!r))return P(G),S}if(x){if(zs(x)){const R=await x(N,n),G=S6(R,C);if(G&&(S[v]={...G,...I(Bi.validate,G.message)},!r))return P(G.message),S}else if(yn(x)){let R={};for(const G in x){if(!Or(R)&&!r)break;const U=S6(await x[G](N,n),C,G);U&&(R={...U,...I(G,U.message)},P(U.message),r&&(S[v]=R))}if(!Or(R)&&(S[v]={ref:C,...R},!r))return S}}return P(!0),S};const Bae={mode:Fs.onSubmit,reValidateMode:Fs.onChange,shouldFocusError:!0};function Hae(t={}){let e={...Bae,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:zs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=yn(e.defaultValues)||yn(e.values)?jn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:jn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:p6(),state:p6()},g=e.criteriaMode===Fs.all,x=K=>re=>{clearTimeout(u),u=setTimeout(K,re)},v=async K=>{if(!e.disabled&&(d.isValid||f.isValid||K)){const re=e.resolver?Or((await M()).errors):await _(r,!0);re!==n.isValid&&p.state.next({isValid:re})}},b=(K,re)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((K||Array.from(l.mount)).forEach(ue=>{ue&&(re?Nt(n.validatingFields,ue,re):hn(n.validatingFields,ue))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Or(n.validatingFields)}))},w=(K,re=[],ue,Ee,Ce=!0,je=!0)=>{if(Ee&&ue&&!e.disabled){if(a.action=!0,je&&Array.isArray(Te(r,K))){const ze=ue(Te(r,K),Ee.argA,Ee.argB);Ce&&Nt(r,K,ze)}if(je&&Array.isArray(Te(n.errors,K))){const ze=ue(Te(n.errors,K),Ee.argA,Ee.argB);Ce&&Nt(n.errors,K,ze),Vae(n.errors,K)}if((d.touchedFields||f.touchedFields)&&je&&Array.isArray(Te(n.touchedFields,K))){const ze=ue(Te(n.touchedFields,K),Ee.argA,Ee.argB);Ce&&Nt(n.touchedFields,K,ze)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Gc(s,i)),p.state.next({name:K,isDirty:D(K,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Nt(i,K,re)},N=(K,re)=>{Nt(n.errors,K,re),p.state.next({errors:n.errors})},C=K=>{n.errors=K,p.state.next({errors:n.errors,isValid:!1})},P=(K,re,ue,Ee)=>{const Ce=Te(r,K);if(Ce){const je=Te(i,K,Qt(ue)?Te(s,K):ue);Qt(je)||Ee&&Ee.defaultChecked||re?Nt(i,K,re?je:b6(Ce._f)):U(K,je),a.mount&&v()}},S=(K,re,ue,Ee,Ce)=>{let je=!1,ze=!1;const dt={name:K};if(!e.disabled){if(!ue||Ee){(d.isDirty||f.isDirty)&&(ze=n.isDirty,n.isDirty=dt.isDirty=D(),je=ze!==dt.isDirty);const pt=ta(Te(s,K),re);ze=!!Te(n.dirtyFields,K),pt?hn(n.dirtyFields,K):Nt(n.dirtyFields,K,!0),dt.dirtyFields=n.dirtyFields,je=je||(d.dirtyFields||f.dirtyFields)&&ze!==!pt}if(ue){const pt=Te(n.touchedFields,K);pt||(Nt(n.touchedFields,K,ue),dt.touchedFields=n.touchedFields,je=je||(d.touchedFields||f.touchedFields)&&pt!==ue)}je&&Ce&&p.state.next(dt)}return je?dt:{}},A=(K,re,ue,Ee)=>{const Ce=Te(n.errors,K),je=(d.isValid||f.isValid)&&Gr(re)&&n.isValid!==re;if(e.delayError&&ue?(c=x(()=>N(K,ue)),c(e.delayError)):(clearTimeout(u),c=null,ue?Nt(n.errors,K,ue):hn(n.errors,K)),(ue?!ta(Ce,ue):Ce)||!Or(Ee)||je){const ze={...Ee,...je&&Gr(re)?{isValid:re}:{},errors:n.errors,name:K};n={...n,...ze},p.state.next(ze)}},M=async K=>{b(K,!0);const re=await e.resolver(i,e.context,Dae(K||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(K),re},T=async K=>{const{errors:re}=await M(K);if(K)for(const ue of K){const Ee=Te(re,ue);Ee?Nt(n.errors,ue,Ee):hn(n.errors,ue)}else n.errors=re;return re},_=async(K,re,ue={valid:!0})=>{for(const Ee in K){const Ce=K[Ee];if(Ce){const{_f:je,...ze}=Ce;if(je){const dt=l.array.has(je.name),pt=Ce._f&&Iae(Ce._f);pt&&d.validatingFields&&b([je.name],!0);const hr=await C6(Ce,l.disabled,i,g,e.shouldUseNativeValidation&&!re,dt);if(pt&&d.validatingFields&&b([je.name]),hr[je.name]&&(ue.valid=!1,re))break;!re&&(Te(hr,je.name)?dt?$ae(n.errors,hr,je.name):Nt(n.errors,je.name,hr[je.name]):hn(n.errors,je.name))}!Or(ze)&&await _(ze,re,ue)}}return ue.valid},I=()=>{for(const K of l.unMount){const re=Te(r,K);re&&(re._f.refs?re._f.refs.every(ue=>!F1(ue)):!F1(re._f.ref))&&te(K)}l.unMount=new Set},D=(K,re)=>!e.disabled&&(K&&re&&Nt(i,K,re),!ta(H(),s)),R=(K,re,ue)=>IL(K,l,{...a.mount?i:Qt(re)?s:Qr(K)?{[K]:re}:re},ue,re),G=K=>Fj(Te(a.mount?i:s,K,e.shouldUnregister?Te(s,K,[]):[])),U=(K,re,ue={})=>{const Ee=Te(r,K);let Ce=re;if(Ee){const je=Ee._f;je&&(!je.disabled&&Nt(i,K,$L(re,je)),Ce=$g(je.ref)&&_r(re)?"":re,FL(je.ref)?[...je.ref.options].forEach(ze=>ze.selected=Ce.includes(ze.value)):je.refs?Af(je.ref)?je.refs.forEach(ze=>{(!ze.defaultChecked||!ze.disabled)&&(Array.isArray(Ce)?ze.checked=!!Ce.find(dt=>dt===ze.value):ze.checked=Ce===ze.value||!!Ce)}):je.refs.forEach(ze=>ze.checked=ze.value===Ce):Bj(je.ref)?je.ref.value="":(je.ref.value=Ce,je.ref.type||p.state.next({name:K,values:jn(i)})))}(ue.shouldDirty||ue.shouldTouch)&&S(K,Ce,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&Q(K)},q=(K,re,ue)=>{for(const Ee in re){if(!re.hasOwnProperty(Ee))return;const Ce=re[Ee],je=K+"."+Ee,ze=Te(r,je);(l.array.has(K)||yn(Ce)||ze&&!ze._f)&&!vl(Ce)?q(je,Ce,ue):U(je,Ce,ue)}},z=(K,re,ue={})=>{const Ee=Te(r,K),Ce=l.array.has(K),je=jn(re);Nt(i,K,je),Ce?(p.array.next({name:K,values:jn(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ue.shouldDirty&&p.state.next({name:K,dirtyFields:Gc(s,i),isDirty:D(K,je)})):Ee&&!Ee._f&&!_r(je)?q(K,je,ue):U(K,je,ue),N6(K,l)&&p.state.next({...n,name:K}),p.state.next({name:a.mount?K:void 0,values:jn(i)})},B=async K=>{a.mount=!0;const re=K.target;let ue=re.name,Ee=!0;const Ce=Te(r,ue),je=pt=>{Ee=Number.isNaN(pt)||vl(pt)&&isNaN(pt.getTime())||ta(pt,Te(i,ue,pt))},ze=v6(e.mode),dt=v6(e.reValidateMode);if(Ce){let pt,hr;const Zs=re.type?b6(Ce._f):AL(K),jr=K.type===Vg.BLUR||K.type===Vg.FOCUS_OUT,Xx=!Lae(Ce._f)&&!e.resolver&&!Te(n.errors,ue)&&!Ce._f.deps||zae(jr,Te(n.touchedFields,ue),n.isSubmitted,dt,ze),dc=N6(ue,l,jr);Nt(i,ue,Zs),jr?(!re||!re.readOnly)&&(Ce._f.onBlur&&Ce._f.onBlur(K),c&&c(0)):Ce._f.onChange&&Ce._f.onChange(K);const hc=S(ue,Zs,jr),Qx=!Or(hc)||dc;if(!jr&&p.state.next({name:ue,type:K.type,values:jn(i)}),Xx)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?jr&&v():jr||v()),Qx&&p.state.next({name:ue,...dc?{}:hc});if(!jr&&dc&&p.state.next({...n}),e.resolver){const{errors:fc}=await M([ue]);if(je(Zs),Ee){const Yu=j6(n.errors,r,ue),mc=j6(fc,r,Yu.name||ue);pt=mc.error,ue=mc.name,hr=Or(fc)}}else b([ue],!0),pt=(await C6(Ce,l.disabled,i,g,e.shouldUseNativeValidation))[ue],b([ue]),je(Zs),Ee&&(pt?hr=!1:(d.isValid||f.isValid)&&(hr=await _(r,!0)));Ee&&(Ce._f.deps&&(!Array.isArray(Ce._f.deps)||Ce._f.deps.length>0)&&Q(Ce._f.deps),A(ue,hr,pt,hc))}},$=(K,re)=>{if(Te(n.errors,re)&&K.focus)return K.focus(),1},Q=async(K,re={})=>{let ue,Ee;const Ce=bh(K);if(e.resolver){const je=await T(Qt(K)?K:Ce);ue=Or(je),Ee=K?!Ce.some(ze=>Te(je,ze)):ue}else K?(Ee=(await Promise.all(Ce.map(async je=>{const ze=Te(r,je);return await _(ze&&ze._f?{[je]:ze}:ze)}))).every(Boolean),!(!Ee&&!n.isValid)&&v()):Ee=ue=await _(r);return p.state.next({...!Qr(K)||(d.isValid||f.isValid)&&ue!==n.isValid?{}:{name:K},...e.resolver||!K?{isValid:ue}:{},errors:n.errors}),re.shouldFocus&&!Ee&&vh(r,$,K?Ce:l.mount),Ee},H=(K,re)=>{let ue={...a.mount?i:s};return re&&(ue=RL(re.dirtyFields?n.dirtyFields:n.touchedFields,ue)),Qt(K)?ue:Qr(K)?Te(ue,K):K.map(Ee=>Te(ue,Ee))},V=(K,re)=>({invalid:!!Te((re||n).errors,K),isDirty:!!Te((re||n).dirtyFields,K),error:Te((re||n).errors,K),isValidating:!!Te(n.validatingFields,K),isTouched:!!Te((re||n).touchedFields,K)}),Y=K=>{K&&bh(K).forEach(re=>hn(n.errors,re)),p.state.next({errors:K?n.errors:{}})},Z=(K,re,ue)=>{const Ee=(Te(r,K,{_f:{}})._f||{}).ref,Ce=Te(n.errors,K)||{},{ref:je,message:ze,type:dt,...pt}=Ce;Nt(n.errors,K,{...pt,...re,ref:Ee}),p.state.next({name:K,errors:n.errors,isValid:!1}),ue&&ue.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},ee=(K,re)=>zs(K)?p.state.subscribe({next:ue=>"values"in ue&&K(R(void 0,re),ue)}):R(K,re,!0),le=K=>p.state.subscribe({next:re=>{Fae(K.name,re.name,K.exact)&&Rae(re,K.formState||d,vt,K.reRenderRoot)&&K.callback({values:{...i},...n,...re,defaultValues:s})}}).unsubscribe,ge=K=>(a.mount=!0,f={...f,...K.formState},le({...K,formState:f})),te=(K,re={})=>{for(const ue of K?bh(K):l.mount)l.mount.delete(ue),l.array.delete(ue),re.keepValue||(hn(r,ue),hn(i,ue)),!re.keepError&&hn(n.errors,ue),!re.keepDirty&&hn(n.dirtyFields,ue),!re.keepTouched&&hn(n.touchedFields,ue),!re.keepIsValidating&&hn(n.validatingFields,ue),!e.shouldUnregister&&!re.keepDefaultValue&&hn(s,ue);p.state.next({values:jn(i)}),p.state.next({...n,...re.keepDirty?{isDirty:D()}:{}}),!re.keepIsValid&&v()},de=({disabled:K,name:re})=>{(Gr(K)&&a.mount||K||l.disabled.has(re))&&(K?l.disabled.add(re):l.disabled.delete(re))},xe=(K,re={})=>{let ue=Te(r,K);const Ee=Gr(re.disabled)||Gr(e.disabled);return Nt(r,K,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:K}},name:K,mount:!0,...re}}),l.mount.add(K),ue?de({disabled:Gr(re.disabled)?re.disabled:e.disabled,name:K}):P(K,!0,re.value),{...Ee?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:Hd(re.min),max:Hd(re.max),minLength:Hd(re.minLength),maxLength:Hd(re.maxLength),pattern:Hd(re.pattern)}:{},name:K,onChange:B,onBlur:B,ref:Ce=>{if(Ce){xe(K,re),ue=Te(r,K);const je=Qt(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,ze=Pae(je),dt=ue._f.refs||[];if(ze?dt.find(pt=>pt===je):je===ue._f.ref)return;Nt(r,K,{_f:{...ue._f,...ze?{refs:[...dt.filter(F1),je,...Array.isArray(Te(s,K))?[{}]:[]],ref:{type:je.type,name:K}}:{ref:je}}}),P(K,!1,void 0,je)}else ue=Te(r,K,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(OL(l.array,K)&&a.action)&&l.unMount.add(K)}}},Se=()=>e.shouldFocusError&&vh(r,$,l.mount),rt=K=>{Gr(K)&&(p.state.next({disabled:K}),vh(r,(re,ue)=>{const Ee=Te(r,ue);Ee&&(re.disabled=Ee._f.disabled||K,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(Ce=>{Ce.disabled=Ee._f.disabled||K}))},0,!1))},Ge=(K,re)=>async ue=>{let Ee;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let Ce=jn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:je,values:ze}=await M();n.errors=je,Ce=jn(ze)}else await _(r);if(l.disabled.size)for(const je of l.disabled)hn(Ce,je);if(hn(n.errors,"root"),Or(n.errors)){p.state.next({errors:{}});try{await K(Ce,ue)}catch(je){Ee=je}}else re&&await re({...n.errors},ue),Se(),setTimeout(Se);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(n.errors)&&!Ee,submitCount:n.submitCount+1,errors:n.errors}),Ee)throw Ee},Oe=(K,re={})=>{Te(r,K)&&(Qt(re.defaultValue)?z(K,jn(Te(s,K))):(z(K,re.defaultValue),Nt(s,K,jn(re.defaultValue))),re.keepTouched||hn(n.touchedFields,K),re.keepDirty||(hn(n.dirtyFields,K),n.isDirty=re.defaultValue?D(K,jn(Te(s,K))):D()),re.keepError||(hn(n.errors,K),d.isValid&&v()),p.state.next({...n}))},ie=(K,re={})=>{const ue=K?jn(K):s,Ee=jn(ue),Ce=Or(K),je=Ce?s:Ee;if(re.keepDefaultValues||(s=ue),!re.keepValues){if(re.keepDirtyValues){const ze=new Set([...l.mount,...Object.keys(Gc(s,i))]);for(const dt of Array.from(ze))Te(n.dirtyFields,dt)?Nt(je,dt,Te(i,dt)):z(dt,Te(je,dt))}else{if(Rj&&Qt(K))for(const ze of l.mount){const dt=Te(r,ze);if(dt&&dt._f){const pt=Array.isArray(dt._f.refs)?dt._f.refs[0]:dt._f.ref;if($g(pt)){const hr=pt.closest("form");if(hr){hr.reset();break}}}}if(re.keepFieldsRef)for(const ze of l.mount)z(ze,Te(je,ze));else r={}}i=e.shouldUnregister?re.keepDefaultValues?jn(s):{}:jn(je),p.array.next({values:{...je}}),p.state.next({values:{...je}})}l={mount:re.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!re.keepIsValid||!!re.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:Ce?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!ta(K,s)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ce?{}:re.keepDirtyValues?re.keepDefaultValues&&i?Gc(s,i):n.dirtyFields:re.keepDefaultValues&&K?Gc(s,K):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Me=(K,re)=>ie(zs(K)?K(i):K,re),Xe=(K,re={})=>{const ue=Te(r,K),Ee=ue&&ue._f;if(Ee){const Ce=Ee.refs?Ee.refs[0]:Ee.ref;Ce.focus&&(Ce.focus(),re.shouldSelect&&zs(Ce.select)&&Ce.select())}},vt=K=>{n={...n,...K}},vn={control:{register:xe,unregister:te,getFieldState:V,handleSubmit:Ge,setError:Z,_subscribe:le,_runSchema:M,_focusError:Se,_getWatch:R,_getDirty:D,_setValid:v,_setFieldArray:w,_setDisabledField:de,_setErrors:C,_getFieldArray:G,_reset:ie,_resetDefaultValues:()=>zs(e.defaultValues)&&e.defaultValues().then(K=>{Me(K,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:rt,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(K){a=K},get _defaultValues(){return s},get _names(){return l},set _names(K){l=K},get _formState(){return n},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:ge,trigger:Q,register:xe,handleSubmit:Ge,watch:ee,setValue:z,getValues:H,reset:Me,resetField:Oe,clearErrors:Y,unregister:te,setError:Z,setFocus:Xe,getFieldState:V};return{...vn,formControl:vn}}function Qs(t={}){const e=be.useRef(void 0),n=be.useRef(void 0),[r,s]=be.useState({isDirty:!1,isValidating:!1,isLoading:zs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:zs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!zs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=Hae(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,$j(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),be.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),be.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),be.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),be.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),be.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),be.useEffect(()=>{t.values&&!ta(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),be.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=DL(r,i),e.current}var z1,k6;function Uae(){if(k6)return z1;k6=1;function t(w){this._maxSize=w,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(w){return this._values[w]},t.prototype.set=function(w,N){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=N};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),c=new t(a),u=new t(a);z1={Cache:t,split:f,normalizePath:d,setter:function(w){var N=d(w);return c.get(w)||c.set(w,function(P,S){for(var A=0,M=N.length,T=P;A<M-1;){var _=N[A];if(_==="__proto__"||_==="constructor"||_==="prototype")return P;T=T[N[A++]]}T[N[A]]=S})},getter:function(w,N){var C=d(w);return u.get(w)||u.set(w,function(S){for(var A=0,M=C.length;A<M;)if(S!=null||!N)S=S[C[A++]];else return;return S})},join:function(w){return w.reduce(function(N,C){return N+(g(C)||n.test(C)?"["+C+"]":(N?".":"")+C)},"")},forEach:function(w,N,C){p(Array.isArray(w)?w:f(w),N,C)}};function d(w){return l.get(w)||l.set(w,f(w).map(function(N){return N.replace(i,"$2")}))}function f(w){return w.match(e)||[""]}function p(w,N,C){var P=w.length,S,A,M,T;for(A=0;A<P;A++)S=w[A],S&&(b(S)&&(S='"'+S+'"'),T=g(S),M=!T&&/^\d+$/.test(S),N.call(C,S,T,M,A,w))}function g(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function x(w){return w.match(r)&&!w.match(n)}function v(w){return s.test(w)}function b(w){return!g(w)&&(x(w)||v(w))}return z1}var Ol=Uae(),V1,T6;function Wae(){if(T6)return V1;T6=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=d=>d.match(t)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,f)=>e(d).join(f).toLowerCase(),s=d=>e(d).reduce((f,p)=>`${f}${f?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return V1={words:e,upperFirst:n,camelCase:s,pascalCase:d=>n(s(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>e(d).map(n).join(" ")},V1}var $1=Wae(),fp={exports:{}},E6;function qae(){if(E6)return fp.exports;E6=1,fp.exports=function(s){return t(e(s),s)},fp.exports.array=t;function t(s,i){var a=s.length,l=new Array(a),c={},u=a,d=n(i),f=r(s);for(i.forEach(function(g){if(!f.has(g[0])||!f.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)c[u]||p(s[u],u,new Set);return l;function p(g,x,v){if(v.has(g)){var b;try{b=", node was:"+JSON.stringify(g)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!f.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!c[x]){c[x]=!0;var w=d.get(g)||new Set;if(w=Array.from(w),x=w.length){v.add(g);do{var N=w[--x];p(N,f.get(N),v)}while(x);v.delete(g)}l[--a]=g}}}function e(s){for(var i=new Set,a=0,l=s.length;a<l;a++){var c=s[a];i.add(c[0]),i.add(c[1])}return Array.from(i)}function n(s){for(var i=new Map,a=0,l=s.length;a<l;a++){var c=s[a];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(s){for(var i=new Map,a=0,l=s.length;a<l;a++)i.set(s[a],a);return i}return fp.exports}var Kae=qae();const Gae=ff(Kae),Yae=Object.prototype.toString,Xae=Error.prototype.toString,Qae=RegExp.prototype.toString,Jae=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Zae=/^Symbol\((.*)\)(.*)$/;function eoe(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function M6(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return eoe(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Jae.call(t).replace(Zae,"Symbol($1)");const r=Yae.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Xae.call(t)+"]":r==="RegExp"?Qae.call(t):null}function la(t,e){let n=M6(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=M6(this[r],e);return i!==null?i:s},2)}function HL(t){return t==null?[]:[].concat(t)}let UL,WL,qL,toe=/\$\{\s*(\w+)\s*\}/g;UL=Symbol.toStringTag;class P6{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[UL]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],HL(e).forEach(i=>{if(gr.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}WL=Symbol.hasInstance;qL=Symbol.toStringTag;class gr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(toe,(s,i)=>la(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new P6(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[qL]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,gr)}static[WL](e){return P6[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let hi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${la(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${la(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${la(n,!0)}\``+s}},Ar={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},qa={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},sw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},noe={isValue:"${path} field must be ${value}"},tg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},ng={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},roe={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${la(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${la(n,!0)}\``}return gr.formatError(hi.notType,t)}};Object.assign(Object.create(null),{mixed:hi,string:Ar,number:qa,date:sw,object:tg,array:ng,boolean:noe,tuple:roe});const kx=t=>t&&t.__isYupSchema__;class Hg{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new Hg(e,(l,c)=>{var u;let d=a(...l)?s:i;return(u=d?.(c))!=null?u:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!kx(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const mp={context:"$",value:"."};class lc{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===mp.context,this.isValue=this.key[0]===mp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?mp.context:this.isValue?mp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ol.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}lc.prototype.__isYupRef=!0;const ia=t=>t==null;function Uc(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},l,c){const{name:u,test:d,params:f,message:p,skipAbsent:g}=t;let{parent:x,context:v,abortEarly:b=a.spec.abortEarly,disableStackTrace:w=a.spec.disableStackTrace}=s;const N={value:n,parent:x,context:v};function C(D={}){const R=KL(Object.assign({value:n,originalValue:i,label:a.spec.label,path:D.path||r,spec:a.spec,disableStackTrace:D.disableStackTrace||w},f,D.params),N),G=new gr(gr.formatError(D.message||p,R),n,R.path,D.type||u,R.disableStackTrace);return G.params=R,G}const P=b?l:c;let S={path:r,parent:x,type:u,from:s.from,createError:C,resolve(D){return GL(D,N)},options:s,originalValue:i,schema:a};const A=D=>{gr.isError(D)?P(D):D?c(null):P(C())},M=D=>{gr.isError(D)?P(D):l(D)};if(g&&ia(n))return A(!0);let _;try{var I;if(_=d.call(S,n,S),typeof((I=_)==null?void 0:I.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(_).then(A,M)}}catch(D){M(D);return}A(_)}return e.OPTIONS=t,e}function KL(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=GL(t[n],e);return t}function GL(t,e){return lc.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function soe(t,e,n,r=n){let s,i,a;return e?(Ol.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let f=t.type==="tuple",p=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=f?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}i=d,a=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Ug extends Set{describe(){const e=[];for(const n of this.values())e.push(lc.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Ug(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function iu(t,e=new Map){if(kx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=iu(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,iu(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(iu(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=iu(s,e)}else throw Error(`Unable to clone ${t}`);return n}function ioe(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,s=!1;for(let i=0;i<t.length;i++){const a=t[i];if(a==="["&&!s){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(a==="]"&&!s){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(a==='"'){s=!s;continue}if(a==="."&&!r&&!s){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function aoe(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:ioe(n)}))}function YL(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return aoe(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>YL(s,r))}let is=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ug,this._blacklist=new Ug,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(hi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=iu(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&ia(i))return i;let a=la(e),l=la(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:a=e,strict:l=this.spec.strict}=n,c=e;l||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:a,options:n,tests:u},r,d=>{if(d.length)return s(d,c);this.runTests({path:i,value:c,originalValue:a,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:a,originalValue:l,path:c,options:u}=e,d=v=>{s||(s=!0,n(v,a))},f=v=>{s||(s=!0,r(v,a))},p=i.length,g=[];if(!p)return f([]);let x={value:a,originalValue:l,path:c,options:u,schema:this};for(let v=0;v<i.length;v++){const b=i[v];b(x,d,function(N){N&&(Array.isArray(N)?g.push(...N):g.push(N)),--p<=0&&f(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=r[l];const d=Object.assign({},a,{strict:!0,parent:r,value:u,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${c?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(f,p,g)=>this.resolve(d)._validate(u,d,p,g)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((a,l)=>s._validate(e,n,(c,u)=>{gr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new gr(c,u,void 0,void 0,i)):a(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,a=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,c)=>{throw gr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new gr(l,e,void 0,void 0,a);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(gr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(gr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):iu(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Uc({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Uc({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=hi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=hi.notNull){return this.nullability(!1,e)}required(e=hi.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=hi.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Uc(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=HL(e).map(i=>new lc(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Hg(s,n):Hg.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Uc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=hi.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Uc({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),r}notOneOf(e,n=hi.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Uc({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:a}=n.spec;return{meta:s,label:r,optional:i,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?KL(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(s instanceof gr)return{issues:YL(s)};throw s}}}}};is.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])is.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=soe(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])is.prototype[t]=is.prototype.oneOf;for(const t of["not","nope"])is.prototype[t]=is.prototype.notOneOf;const ooe=()=>!0;function Uj(t){return new XL(t)}class XL extends is{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:ooe},e))}}Uj.prototype=XL.prototype;const loe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function coe(t){const e=iw(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function iw(t){var e,n;const r=loe.exec(t);return r?{year:Hi(r[1]),month:Hi(r[2],1)-1,day:Hi(r[3],1),hour:Hi(r[4]),minute:Hi(r[5]),second:Hi(r[6]),millisecond:r[7]?Hi(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Hi(r[10]),minuteOffset:Hi(r[11])}:null}function Hi(t,e=0){return Number(t)||e}let uoe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,doe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,hoe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,foe="^\\d{4}-\\d{2}-\\d{2}",moe="\\d{2}:\\d{2}:\\d{2}",poe="(([+-]\\d{2}(:?\\d{2})?)|Z)",goe=new RegExp(`${foe}T${moe}(\\.\\d+)?${poe}$`),xoe=t=>ia(t)||t===t.trim(),yoe={}.toString();function mn(){return new QL}class QL extends is{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===yoe?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||hi.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Ar.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Ar.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Ar.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Ar.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Ar.email){return this.matches(uoe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ar.url){return this.matches(doe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ar.uuid){return this.matches(hoe,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(goe,{name:"datetime",message:n||Ar.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ar.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const a=iw(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Ar.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=iw(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ar.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:xoe})}lowercase(e=Ar.lowercase){return this.transform(n=>ia(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ia(n)||n===n.toLowerCase()})}uppercase(e=Ar.uppercase){return this.transform(n=>ia(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ia(n)||n===n.toUpperCase()})}}mn.prototype=QL.prototype;let boe=t=>t!=+t;function au(){return new JL}class JL extends is{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!boe(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=qa.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=qa.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=qa.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=qa.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=qa.positive){return this.moreThan(0,e)}negative(e=qa.negative){return this.lessThan(0,e)}integer(e=qa.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>ia(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>ia(s)?s:Math[e](s))}}au.prototype=JL.prototype;let voe=new Date(""),woe=t=>Object.prototype.toString.call(t)==="[object Date]";class Wj extends is{constructor(){super({type:"date",check(e){return woe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=coe(e),isNaN(e)?Wj.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(lc.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=sw.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=sw.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}Wj.INVALID_DATE=voe;function Noe(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let c=Ol.split(a)[0];r.add(c),s.has(`${l}-${c}`)||n.push([l,c])}for(const a of Object.keys(t)){let l=t[a];r.add(a),lc.isRef(l)&&l.isSibling?i(l.path,a):kx(l)&&"deps"in l&&l.deps.forEach(c=>i(c,a))}return Gae.array(Array.from(r),n).reverse()}function A6(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function ZL(t){return(e,n)=>A6(t,e)-A6(t,n)}const eR=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function rg(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=rg(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=rg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(rg)}):"optional"in t?t.optional():t}const joe=(t,e)=>{const n=[...Ol.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Ol.getter(Ol.join(n),!0)(t);return!!(s&&r in s)};let O6=t=>Object.prototype.toString.call(t)==="[object Object]";function _6(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Soe=ZL([]);function Yh(t){return new tR(t)}class tR extends is{constructor(e){super({type:"object",check(n){return O6(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Soe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of l){let p=i[f],g=f in s,x=s[f];if(p){let v;u.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:x,context:n.context,parent:c});let b=p instanceof is?p.spec:void 0,w=b?.strict;if(b!=null&&b.strip){d=d||f in s;continue}v=!n.__validating||!w?p.cast(x,u):x,v!==void 0&&(c[f]=v)}else g&&!a&&(c[f]=x);(g!==f in c||c[f]!==x)&&(d=!0)}return d?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(c,u)=>{if(!l||!O6(u)){s(c,u);return}a=a||u;let d=[];for(let f of this._nodes){let p=this.fields[f];!p||lc.isRef(p)||d.push(p.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},r,f=>{s(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const a=r[s];r[s]=a===void 0?i:a}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Noe(e,n),r._sortErrors=ZL(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return rg(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Ol.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return joe(i,e)&&(a=Object.assign({},i),r||delete a[e],a[n]=s(i)),a})}json(){return this.transform(eR)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||tg.exact,test(n){if(n==null)return!0;const r=_6(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=tg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=_6(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=tg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys($1.camelCase)}snakeCase(){return this.transformKeys($1.snakeCase)}constantCase(){return this.transformKeys(e=>$1.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=a.describe(l)}return r}}Yh.prototype=tR.prototype;function nR(t){return new rR(t)}class rR extends is{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((a,l)=>{const c=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:r,originalValue:a,value:a,index:l}));return c!==a&&(s=!0),c});return s?i:r}_validate(e,n={},r,s){var i;let a=this.innerType,l=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,u)=>{var d;if(!l||!a||!this._typeCheck(u)){s(c,u);return}let f=new Array(u.length);for(let g=0;g<u.length;g++){var p;f[g]=a.asNestedTest({options:n,index:g,parent:u,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:u,tests:f,originalValue:(d=n.originalValue)!=null?d:e,options:n},r,g=>s(g.concat(c),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(eR)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!kx(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+la(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=ng.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||ng.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||ng.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}nR.prototype=rR.prototype;const Coe=Yh({customerName:mn().required("Vui lng nhp tn khch hng").min(2,"Tn t nht phi c 2 k t"),customerEmail:mn().required("Vui lng nhp email khch hng").email("Email khng hp l"),customerPhone:mn().required("Vui lng nhp st khch hng").matches(/^(0|\+84)[3|5|7|8|9][0-9]{8}$/,"S in thoi khng hp l"),customerAddress:mn().required("Vui lng nhp a ch khch hng"),customerProvince:mn().required("Vui lng chn tnh thnh"),customerDistrict:mn().required("Vui lng chn huyn"),customerWard:mn().required("Chn phng"),paymentMethod:Uj().oneOf(Object.values(es),"Phng thc thanh ton khng hp l").required("Vui lng chn phng thc thanh ton"),customerNote:mn().optional().default(""),orderItems:nR().of(Yh({productId:au().required(),variantId:au().required(),quantity:au().min(1,"S lng ti thiu l 1").required(),price:au().required()})).min(1,"n hng phi c t nht mt sn phm").optional().required("Vui lng thm sn phm"),couponCode:mn().optional().default("")}).required(),D6=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Te(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},sR=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?D6(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>D6(s,n,t))}},koe=(t,e)=>{e.shouldUseNativeValidation&&sR(t,e);const n={};for(const r in t){const s=Te(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Toe(e.names||Object.keys(t),r)){const a=Object.assign({},Te(n,r));Nt(a,"root",i),Nt(n,r,a)}else Nt(n,r,i)}return n},Toe=(t,e)=>{const n=I6(e);return t.some(r=>I6(r).match(`^${n}\\.\\d+`))};function I6(t){return t.replace(/\]|\[/g,"")}function iR(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve((function(a,l){try{var c=(e?.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:s}))).then(function(u){return i.shouldUseNativeValidation&&sR({},i),{values:n.raw?Object.assign({},r):u,errors:{}}}))}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(a){if(!a.inner)throw a;return{values:{},errors:koe((l=a,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(l.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),c){var f=u[d.path].types,p=f&&f[d.type];u[d.path]=LL(d.path,c,u,d.type,p?[].concat(p,d.message):d.message)}return u},{})),i)};var l,c}))}catch(a){return Promise.reject(a)}}}const qj=async()=>await fe.get("/api/v1/province/get-province");function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Eoe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aR(t){var e=Eoe(t,"string");return Gl(e)=="symbol"?e:e+""}function nh(t,e,n){return(e=aR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){nh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t){if(Array.isArray(t))return t}function Poe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oR(t,e){if(t){if(typeof t=="string")return aw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aw(t,e):void 0}}function Aoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ca(t,e){return Moe(t)||Poe(t,e)||oR(t,e)||Aoe()}function Ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ja(t,e){if(t==null)return{};var n,r,s=Ooe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var _oe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Doe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,a=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,g=t.value,x=ja(t,_oe),v=k.useState(l!==void 0?l:n),b=ca(v,2),w=b[0],N=b[1],C=k.useState(c!==void 0?c:s),P=ca(C,2),S=P[0],A=P[1],M=k.useState(g!==void 0?g:a),T=ca(M,2),_=T[0],I=T[1],D=k.useCallback(function($,Q){typeof u=="function"&&u($,Q),I($)},[u]),R=k.useCallback(function($,Q){var H;typeof d=="function"&&(H=d($,Q)),N(H!==void 0?H:$)},[d]),G=k.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),U=k.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),q=l!==void 0?l:w,z=c!==void 0?c:S,B=g!==void 0?g:_;return Ke(Ke({},x),{},{inputValue:q,menuIsOpen:z,onChange:D,onInputChange:R,onMenuClose:U,onMenuOpen:G,value:B})}function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(null,arguments)}function Ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aR(r.key),r)}}function Loe(t,e,n){return e&&R6(t.prototype,e),n&&R6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ow(t,e)}function Roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wg(t)}function lR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lR=function(){return!!t})()}function Foe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zoe(t,e){if(e&&(Gl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Foe(t)}function Voe(t){var e=lR();return function(){var n,r=Wg(t);if(e){var s=Wg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return zoe(this,n)}}function $oe(t){if(Array.isArray(t))return aw(t)}function Boe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kj(t){return $oe(t)||Boe(t)||oR(t)||Hoe()}function Uoe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Woe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var qoe=(function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Woe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Uoe(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Jn="-ms-",qg="-moz-",gt="-webkit-",cR="comm",Gj="rule",Yj="decl",Koe="@import",uR="@keyframes",Goe="@layer",Yoe=Math.abs,Tx=String.fromCharCode,Xoe=Object.assign;function Qoe(t,e){return $n(t,0)^45?(((e<<2^$n(t,0))<<2^$n(t,1))<<2^$n(t,2))<<2^$n(t,3):0}function dR(t){return t.trim()}function Joe(t,e){return(t=e.exec(t))?t[0]:t}function xt(t,e,n){return t.replace(e,n)}function lw(t,e){return t.indexOf(e)}function $n(t,e){return t.charCodeAt(e)|0}function Xh(t,e,n){return t.slice(e,n)}function pi(t){return t.length}function Xj(t){return t.length}function pp(t,e){return e.push(t),t}function Zoe(t,e){return t.map(e).join("")}var Ex=1,Cu=1,hR=0,Br=0,pn=0,Wu="";function Mx(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Ex,column:Cu,length:a,return:""}}function Ud(t,e){return Xoe(Mx("",null,null,"",null,null,0),t,{length:-t.length},e)}function ele(){return pn}function tle(){return pn=Br>0?$n(Wu,--Br):0,Cu--,pn===10&&(Cu=1,Ex--),pn}function ts(){return pn=Br<hR?$n(Wu,Br++):0,Cu++,pn===10&&(Cu=1,Ex++),pn}function Si(){return $n(Wu,Br)}function sg(){return Br}function Of(t,e){return Xh(Wu,t,e)}function Qh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fR(t){return Ex=Cu=1,hR=pi(Wu=t),Br=0,[]}function mR(t){return Wu="",t}function ig(t){return dR(Of(Br-1,cw(t===91?t+2:t===40?t+1:t)))}function nle(t){for(;(pn=Si())&&pn<33;)ts();return Qh(t)>2||Qh(pn)>3?"":" "}function rle(t,e){for(;--e&&ts()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return Of(t,sg()+(e<6&&Si()==32&&ts()==32))}function cw(t){for(;ts();)switch(pn){case t:return Br;case 34:case 39:t!==34&&t!==39&&cw(pn);break;case 40:t===41&&cw(t);break;case 92:ts();break}return Br}function sle(t,e){for(;ts()&&t+pn!==57;)if(t+pn===84&&Si()===47)break;return"/*"+Of(e,Br-1)+"*"+Tx(t===47?t:ts())}function ile(t){for(;!Qh(Si());)ts();return Of(t,Br)}function ale(t){return mR(ag("",null,null,null,[""],t=fR(t),0,[0],t))}function ag(t,e,n,r,s,i,a,l,c){for(var u=0,d=0,f=a,p=0,g=0,x=0,v=1,b=1,w=1,N=0,C="",P=s,S=i,A=r,M=C;b;)switch(x=N,N=ts()){case 40:if(x!=108&&$n(M,f-1)==58){lw(M+=xt(ig(N),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:M+=ig(N);break;case 9:case 10:case 13:case 32:M+=nle(x);break;case 92:M+=rle(sg()-1,7);continue;case 47:switch(Si()){case 42:case 47:pp(ole(sle(ts(),sg()),e,n),c);break;default:M+="/"}break;case 123*v:l[u++]=pi(M)*w;case 125*v:case 59:case 0:switch(N){case 0:case 125:b=0;case 59+d:w==-1&&(M=xt(M,/\f/g,"")),g>0&&pi(M)-f&&pp(g>32?z6(M+";",r,n,f-1):z6(xt(M," ","")+";",r,n,f-2),c);break;case 59:M+=";";default:if(pp(A=F6(M,e,n,u,d,s,l,C,P=[],S=[],f),i),N===123)if(d===0)ag(M,e,A,A,P,i,f,l,S);else switch(p===99&&$n(M,3)===110?100:p){case 100:case 108:case 109:case 115:ag(t,A,A,r&&pp(F6(t,A,A,0,0,s,l,C,s,P=[],f),S),s,S,f,l,r?P:S);break;default:ag(M,A,A,A,[""],S,0,l,S)}}u=d=g=0,v=w=1,C=M="",f=a;break;case 58:f=1+pi(M),g=x;default:if(v<1){if(N==123)--v;else if(N==125&&v++==0&&tle()==125)continue}switch(M+=Tx(N),N*v){case 38:w=d>0?1:(M+="\f",-1);break;case 44:l[u++]=(pi(M)-1)*w,w=1;break;case 64:Si()===45&&(M+=ig(ts())),p=Si(),d=f=pi(C=M+=ile(sg())),N++;break;case 45:x===45&&pi(M)==2&&(v=0)}}return i}function F6(t,e,n,r,s,i,a,l,c,u,d){for(var f=s-1,p=s===0?i:[""],g=Xj(p),x=0,v=0,b=0;x<r;++x)for(var w=0,N=Xh(t,f+1,f=Yoe(v=a[x])),C=t;w<g;++w)(C=dR(v>0?p[w]+" "+N:xt(N,/&\f/g,p[w])))&&(c[b++]=C);return Mx(t,e,n,s===0?Gj:l,c,u,d)}function ole(t,e,n){return Mx(t,e,n,cR,Tx(ele()),Xh(t,2,-2),0)}function z6(t,e,n,r){return Mx(t,e,n,Yj,Xh(t,0,r),Xh(t,r+1,-1),r)}function hu(t,e){for(var n="",r=Xj(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function lle(t,e,n,r){switch(t.type){case Goe:if(t.children.length)break;case Koe:case Yj:return t.return=t.return||t.value;case cR:return"";case uR:return t.return=t.value+"{"+hu(t.children,r)+"}";case Gj:t.value=t.props.join(",")}return pi(n=hu(t.children,r))?t.return=t.value+"{"+n+"}":""}function cle(t){var e=Xj(t);return function(n,r,s,i){for(var a="",l=0;l<e;l++)a+=t[l](n,r,s,i)||"";return a}}function ule(t){return function(e){e.root||(e=e.return)&&t(e)}}function dle(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var hle=function(e,n,r){for(var s=0,i=0;s=i,i=Si(),s===38&&i===12&&(n[r]=1),!Qh(i);)ts();return Of(e,Br)},fle=function(e,n){var r=-1,s=44;do switch(Qh(s)){case 0:s===38&&Si()===12&&(n[r]=1),e[r]+=hle(Br-1,n,r);break;case 2:e[r]+=ig(s);break;case 4:if(s===44){e[++r]=Si()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Tx(s)}while(s=ts());return e},mle=function(e,n){return mR(fle(fR(e),n))},V6=new WeakMap,ple=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!V6.get(r))&&!s){V6.set(e,!0);for(var i=[],a=mle(n,i),l=r.props,c=0,u=0;c<a.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?a[c].replace(/&\f/g,l[d]):l[d]+" "+a[c]}}},gle=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pR(t,e){switch(Qoe(t,e)){case 5103:return gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+t+qg+t+Jn+t+t;case 6828:case 4268:return gt+t+Jn+t+t;case 6165:return gt+t+Jn+"flex-"+t+t;case 5187:return gt+t+xt(t,/(\w+).+(:[^]+)/,gt+"box-$1$2"+Jn+"flex-$1$2")+t;case 5443:return gt+t+Jn+"flex-item-"+xt(t,/flex-|-self/,"")+t;case 4675:return gt+t+Jn+"flex-line-pack"+xt(t,/align-content|flex-|-self/,"")+t;case 5548:return gt+t+Jn+xt(t,"shrink","negative")+t;case 5292:return gt+t+Jn+xt(t,"basis","preferred-size")+t;case 6060:return gt+"box-"+xt(t,"-grow","")+gt+t+Jn+xt(t,"grow","positive")+t;case 4554:return gt+xt(t,/([^-])(transform)/g,"$1"+gt+"$2")+t;case 6187:return xt(xt(xt(t,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),t,"")+t;case 5495:case 3959:return xt(t,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return xt(xt(t,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+Jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+t+t;case 4095:case 3583:case 4068:case 2532:return xt(t,/(.+)-inline(.+)/,gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pi(t)-1-e>6)switch($n(t,e+1)){case 109:if($n(t,e+4)!==45)break;case 102:return xt(t,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+qg+($n(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lw(t,"stretch")?pR(xt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if($n(t,e+1)!==115)break;case 6444:switch($n(t,pi(t)-3-(~lw(t,"!important")&&10))){case 107:return xt(t,":",":"+gt)+t;case 101:return xt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gt+($n(t,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+Jn+"$2box$3")+t}break;case 5936:switch($n(t,e+11)){case 114:return gt+t+Jn+xt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gt+t+Jn+xt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gt+t+Jn+xt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gt+t+Jn+t+t}return t}var xle=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Yj:e.return=pR(e.value,e.length);break;case uR:return hu([Ud(e,{value:xt(e.value,"@","@"+gt)})],s);case Gj:if(e.length)return Zoe(e.props,function(i){switch(Joe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hu([Ud(e,{props:[xt(i,/:(read-\w+)/,":"+qg+"$1")]})],s);case"::placeholder":return hu([Ud(e,{props:[xt(i,/:(plac\w+)/,":"+gt+"input-$1")]}),Ud(e,{props:[xt(i,/:(plac\w+)/,":"+qg+"$1")]}),Ud(e,{props:[xt(i,/:(plac\w+)/,Jn+"input-$1")]})],s)}return""})}},yle=[xle],ble=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||yle,i={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)i[b[w]]=!0;l.push(v)});var c,u=[ple,gle];{var d,f=[lle,ule(function(v){d.insert(v)})],p=cle(u.concat(s,f)),g=function(b){return hu(ale(b),p)};c=function(b,w,N,C){d=N,g(b?b+"{"+w.styles+"}":w.styles),C&&(x.inserted[w.name]=!0)}}var x={key:n,sheet:new qoe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return x.sheet.hydrate(l),x},B1={exports:{}},yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $6;function vle(){if($6)return yt;$6=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function C(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case e:switch(S=S.type,S){case c:case u:case r:case i:case s:case f:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case x:case g:case a:return S;default:return A}}case n:return A}}}function P(S){return C(S)===u}return yt.AsyncMode=c,yt.ConcurrentMode=u,yt.ContextConsumer=l,yt.ContextProvider=a,yt.Element=e,yt.ForwardRef=d,yt.Fragment=r,yt.Lazy=x,yt.Memo=g,yt.Portal=n,yt.Profiler=i,yt.StrictMode=s,yt.Suspense=f,yt.isAsyncMode=function(S){return P(S)||C(S)===c},yt.isConcurrentMode=P,yt.isContextConsumer=function(S){return C(S)===l},yt.isContextProvider=function(S){return C(S)===a},yt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},yt.isForwardRef=function(S){return C(S)===d},yt.isFragment=function(S){return C(S)===r},yt.isLazy=function(S){return C(S)===x},yt.isMemo=function(S){return C(S)===g},yt.isPortal=function(S){return C(S)===n},yt.isProfiler=function(S){return C(S)===i},yt.isStrictMode=function(S){return C(S)===s},yt.isSuspense=function(S){return C(S)===f},yt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===u||S===i||S===s||S===f||S===p||typeof S=="object"&&S!==null&&(S.$$typeof===x||S.$$typeof===g||S.$$typeof===a||S.$$typeof===l||S.$$typeof===d||S.$$typeof===b||S.$$typeof===w||S.$$typeof===N||S.$$typeof===v)},yt.typeOf=C,yt}var B6;function wle(){return B6||(B6=1,B1.exports=vle()),B1.exports}var H1,H6;function Nle(){if(H6)return H1;H6=1;var t=wle(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(x){return t.isMemo(x)?s:i[x.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function g(x,v,b){if(typeof v!="string"){if(p){var w=f(v);w&&w!==p&&g(x,w,b)}var N=c(v);u&&(N=N.concat(u(v)));for(var C=a(x),P=a(v),S=0;S<N.length;++S){var A=N[S];if(!n[A]&&!(b&&b[A])&&!(P&&P[A])&&!(C&&C[A])){var M=d(v,A);try{l(x,A,M)}catch{}}}}return x}return H1=g,H1}Nle();var jle=!0;function Sle(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var gR=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||jle===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},Cle=function(e,n,r){gR(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function kle(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Tle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ele=/[A-Z]|^ms/g,Mle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xR=function(e){return e.charCodeAt(1)===45},U6=function(e){return e!=null&&typeof e!="boolean"},U1=dle(function(t){return xR(t)?t:t.replace(Ele,"-$&").toLowerCase()}),W6=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Mle,function(r,s,i){return gi={name:s,styles:i,next:gi},s})}return Tle[e]!==1&&!xR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Jh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return gi={name:s.name,styles:s.styles,next:gi},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)gi={name:a.name,styles:a.styles,next:gi},a=a.next;var l=i.styles+";";return l}return Ple(t,e,n)}case"function":{if(t!==void 0){var c=gi,u=n(t);return gi=c,Jh(t,e,u)}break}}var d=n;return d}function Ple(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Jh(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;U6(l)&&(r+=U1(i)+":"+W6(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var c=0;c<a.length;c++)U6(a[c])&&(r+=U1(i)+":"+W6(i,a[c])+";");else{var u=Jh(t,e,a);switch(i){case"animation":case"animationName":{r+=U1(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var q6=/label:\s*([^\s;{]+)\s*(;|$)/g,gi;function yR(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";gi=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Jh(n,e,i);else{var a=i;s+=a[0]}for(var l=1;l<t.length;l++)if(s+=Jh(n,e,t[l]),r){var c=i;s+=c[l]}q6.lastIndex=0;for(var u="",d;(d=q6.exec(s))!==null;)u+="-"+d[1];var f=kle(s)+u;return{name:f,styles:s,next:gi}}var Ale=function(e){return e()},Ole=ZC.useInsertionEffect?ZC.useInsertionEffect:!1,_le=Ole||Ale,bR=k.createContext(typeof HTMLElement<"u"?ble({key:"css"}):null);bR.Provider;var Dle=function(e){return k.forwardRef(function(n,r){var s=k.useContext(bR);return e(n,s,r)})},Ile=k.createContext({}),Qj={}.hasOwnProperty,uw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Lle=function(e,n){var r={};for(var s in n)Qj.call(n,s)&&(r[s]=n[s]);return r[uw]=e,r},Rle=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return gR(n,r,s),_le(function(){return Cle(n,r,s)}),null},Fle=Dle(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[uw],i=[r],a="";typeof t.className=="string"?a=Sle(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var l=yR(i,void 0,k.useContext(Ile));a+=e.key+"-"+l.name;var c={};for(var u in t)Qj.call(t,u)&&u!=="css"&&u!==uw&&(c[u]=t[u]);return c.className=a,n&&(c.ref=n),k.createElement(k.Fragment,null,k.createElement(Rle,{cache:e,serialized:l,isStringTag:typeof s=="string"}),k.createElement(s,c))}),zle=Fle,$e=function(e,n){var r=arguments;if(n==null||!Qj.call(n,"css"))return k.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=zle,i[1]=Lle(e,n);for(var a=2;a<s;a++)i[a]=r[a];return k.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})($e||($e={}));function Jj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return yR(e)}function Vle(){var t=Jj.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function $le(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Ble=Math.min,Hle=Math.max,Kg=Math.round,gp=Math.floor,Gg=t=>({x:t,y:t});function Ule(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Px(){return typeof window<"u"}function vR(t){return NR(t)?(t.nodeName||"").toLowerCase():"#document"}function va(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wR(t){var e;return(e=(NR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NR(t){return Px()?t instanceof Node||t instanceof va(t).Node:!1}function Wle(t){return Px()?t instanceof Element||t instanceof va(t).Element:!1}function Zj(t){return Px()?t instanceof HTMLElement||t instanceof va(t).HTMLElement:!1}function K6(t){return!Px()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof va(t).ShadowRoot}const qle=new Set(["inline","contents"]);function jR(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=eS(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qle.has(s)}function Kle(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gle=new Set(["html","body","#document"]);function Yle(t){return Gle.has(vR(t))}function eS(t){return va(t).getComputedStyle(t)}function Xle(t){if(vR(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K6(t)&&t.host||wR(t);return K6(e)?e.host:e}function SR(t){const e=Xle(t);return Yle(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zj(e)&&jR(e)?e:SR(e)}function Yg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=SR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=va(s);if(i){const l=dw(a);return e.concat(a,a.visualViewport||[],jR(s)?s:[],l&&n?Yg(l):[])}return e.concat(s,Yg(s,[],n))}function dw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Qle(t){const e=eS(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zj(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Kg(n)!==i||Kg(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function tS(t){return Wle(t)?t:t.contextElement}function G6(t){const e=tS(t);if(!Zj(e))return Gg(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Qle(e);let a=(i?Kg(n.width):n.width)/r,l=(i?Kg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Jle=Gg(0);function Zle(t){const e=va(t);return!Kle()||!e.visualViewport?Jle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ece(t,e,n){return!1}function Y6(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=tS(t);let a=Gg(1);e&&(a=G6(t));const l=ece()?Zle(i):Gg(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const p=va(i),g=r;let x=p,v=dw(x);for(;v&&r&&g!==x;){const b=G6(v),w=v.getBoundingClientRect(),N=eS(v),C=w.left+(v.clientLeft+parseFloat(N.paddingLeft))*b.x,P=w.top+(v.clientTop+parseFloat(N.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=C,u+=P,x=va(v),v=dw(x)}}return Ule({width:d,height:f,x:c,y:u})}function CR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tce(t,e){let n=null,r;const s=wR(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||e(),!p||!g)return;const x=gp(f),v=gp(s.clientWidth-(d+p)),b=gp(s.clientHeight-(f+g)),w=gp(d),C={rootMargin:-x+"px "+-v+"px "+-b+"px "+-w+"px",threshold:Hle(0,Ble(1,c))||1};let P=!0;function S(A){const M=A[0].intersectionRatio;if(M!==c){if(!P)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!CR(u,t.getBoundingClientRect())&&a(),P=!1}try{n=new IntersectionObserver(S,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,C)}n.observe(t)}return a(!0),i}function nce(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=tS(t),d=s||i?[...u?Yg(u):[],...Yg(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&l?tce(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(w=>{let[N]=w;N&&N.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let x,v=c?Y6(t):null;c&&b();function b(){const w=Y6(t);v&&!CR(v,w)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(N=>{s&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),f?.(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(x)}}var hw=k.useLayoutEffect,rce=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Xg=function(){};function sce(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function ice(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(sce(t,a)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var X6=function(e){return mce(e)?e.filter(Boolean):Gl(e)==="object"&&e!==null?[e]:[]},kR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ja(e,rce);return Ke({},n)},nn=function(e,n,r){var s=e.cx,i=e.getStyles,a=e.getClassNames,l=e.className;return{css:i(n,e),className:s(r??{},a(n,e),l)}};function Ax(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function ace(t){return Ax(t)?window.innerHeight:t.clientHeight}function TR(t){return Ax(t)?window.pageYOffset:t.scrollTop}function Qg(t,e){if(Ax(t)){window.scrollTo(0,e);return}t.scrollTop=e}function oce(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function lce(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function xp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Xg,s=TR(t),i=e-s,a=10,l=0;function c(){l+=a;var u=lce(l,s,i,n);Qg(t,u),l<n?window.requestAnimationFrame(c):r(t)}c()}function Q6(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?Qg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&Qg(t,Math.max(e.offsetTop-s,0))}function cce(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function J6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function uce(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ER=!1,dce={get passive(){return ER=!0}},yp=typeof window<"u"?window:{};yp.addEventListener&&yp.removeEventListener&&(yp.addEventListener("p",Xg,dce),yp.removeEventListener("p",Xg,!1));var hce=ER;function fce(t){return t!=null}function mce(t){return Array.isArray(t)}function bp(t,e,n){return t?e:n}var pce=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(a){var l=ca(a,1),c=l[0];return!r.includes(c)});return i.reduce(function(a,l){var c=ca(l,2),u=c[0],d=c[1];return a[u]=d,a},{})},gce=["children","innerProps"],xce=["children","innerProps"];function yce(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,a=t.isFixedPosition,l=t.controlHeight,c=oce(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,p=n.getBoundingClientRect(),g=p.bottom,x=p.height,v=p.top,b=n.offsetParent.getBoundingClientRect(),w=b.top,N=a?window.innerHeight:ace(c),C=TR(c),P=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),A=w-S,M=N-v,T=A+C,_=f-C-v,I=g-N+C+P,D=C+v-S,R=160;switch(s){case"auto":case"bottom":if(M>=x)return{placement:"bottom",maxHeight:e};if(_>=x&&!a)return i&&xp(c,I,R),{placement:"bottom",maxHeight:e};if(!a&&_>=r||a&&M>=r){i&&xp(c,I,R);var G=a?M-P:_-P;return{placement:"bottom",maxHeight:G}}if(s==="auto"||a){var U=e,q=a?A:T;return q>=r&&(U=Math.min(q-P-l,e)),{placement:"top",maxHeight:U}}if(s==="bottom")return i&&Qg(c,I),{placement:"bottom",maxHeight:e};break;case"top":if(A>=x)return{placement:"top",maxHeight:e};if(T>=x&&!a)return i&&xp(c,D,R),{placement:"top",maxHeight:e};if(!a&&T>=r||a&&A>=r){var z=e;return(!a&&T>=r||a&&A>=r)&&(z=a?A-S:T-S),i&&xp(c,D,R),{placement:"top",maxHeight:z}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function bce(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var MR=function(e){return e==="auto"?"bottom":e},vce=function(e,n){var r,s=e.placement,i=e.theme,a=i.borderRadius,l=i.spacing,c=i.colors;return Ke((r={label:"menu"},nh(r,bce(s),"100%"),nh(r,"position","absolute"),nh(r,"width","100%"),nh(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},PR=k.createContext(null),wce=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=k.useContext(PR)||{},d=u.setPortalPlacement,f=k.useRef(null),p=k.useState(s),g=ca(p,2),x=g[0],v=g[1],b=k.useState(null),w=ca(b,2),N=w[0],C=w[1],P=c.spacing.controlHeight;return hw(function(){var S=f.current;if(S){var A=a==="fixed",M=l&&!A,T=yce({maxHeight:s,menuEl:S,minHeight:r,placement:i,shouldScroll:M,isFixedPosition:A,controlHeight:P});v(T.maxHeight),C(T.placement),d?.(T.placement)}},[s,i,a,l,r,d,P]),n({ref:f,placerProps:Ke(Ke({},e),{},{placement:N||MR(i),maxHeight:x})})},Nce=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return $e("div",Ye({},nn(e,"menu",{menu:!0}),{ref:r},s),n)},jce=Nce,Sce=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Ke({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},Cce=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return $e("div",Ye({},nn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},AR=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ke({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},kce=AR,Tce=AR,Ece=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=ja(e,gce);return $e("div",Ye({},nn(Ke(Ke({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},Mce=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=ja(e,xce);return $e("div",Ye({},nn(Ke(Ke({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},Pce=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},Ace=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,a=e.menuPlacement,l=e.menuPosition,c=k.useRef(null),u=k.useRef(null),d=k.useState(MR(a)),f=ca(d,2),p=f[0],g=f[1],x=k.useMemo(function(){return{setPortalPlacement:g}},[]),v=k.useState(null),b=ca(v,2),w=b[0],N=b[1],C=k.useCallback(function(){if(s){var M=cce(s),T=l==="fixed"?0:window.pageYOffset,_=M[p]+T;(_!==w?.offset||M.left!==w?.rect.left||M.width!==w?.rect.width)&&N({offset:_,rect:M})}},[s,l,p,w?.offset,w?.rect.left,w?.rect.width]);hw(function(){C()},[C]);var P=k.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=nce(s,c.current,C,{elementResize:"ResizeObserver"in window}))},[s,C]);hw(function(){P()},[P]);var S=k.useCallback(function(M){c.current=M,P()},[P]);if(!n&&l!=="fixed"||!w)return null;var A=$e("div",Ye({ref:S},nn(Ke(Ke({},e),{},{offset:w.offset,position:l,rect:w.rect}),"menuPortal",{"menu-portal":!0}),i),r);return $e(PR.Provider,{value:x},n?zA.createPortal(A,n):A)},Oce=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},_ce=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return $e("div",Ye({},nn(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},Dce=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Ke({alignItems:"center",display:s&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Ice=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return $e("div",Ye({},nn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},Lce=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Rce=function(e){var n=e.children,r=e.innerProps;return $e("div",Ye({},nn(e,"indicatorsContainer",{indicators:!0}),r),n)},Z6,Fce=["size"],zce=["innerProps","isRtl","size"],Vce={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},OR=function(e){var n=e.size,r=ja(e,Fce);return $e("svg",Ye({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Vce},r))},nS=function(e){return $e(OR,Ye({size:20},e),$e("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_R=function(e){return $e(OR,Ye({size:20},e),$e("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},DR=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return Ke({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},$ce=DR,Bce=function(e){var n=e.children,r=e.innerProps;return $e("div",Ye({},nn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||$e(_R,null))},Hce=DR,Uce=function(e){var n=e.children,r=e.innerProps;return $e("div",Ye({},nn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||$e(nS,null))},Wce=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return Ke({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},qce=function(e){var n=e.innerProps;return $e("span",Ye({},n,nn(e,"indicatorSeparator",{"indicator-separator":!0})))},Kce=Vle(Z6||(Z6=$le([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Gce=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,a=i.colors,l=i.spacing.baseUnit;return Ke({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:l*2})},W1=function(e){var n=e.delay,r=e.offset;return $e("span",{css:Jj({animation:"".concat(Kce," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Yce=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,a=ja(e,zce);return $e("div",Ye({},nn(Ke(Ke({},a),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),$e(W1,{delay:0,offset:r}),$e(W1,{delay:160,offset:!0}),$e(W1,{delay:320,offset:!r}))},Xce=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,a=i.colors,l=i.borderRadius,c=i.spacing;return Ke({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:s?a.primary:a.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},Qce=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,a=e.innerProps,l=e.menuIsOpen;return $e("div",Ye({ref:i},nn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),a,{"aria-disabled":r||void 0}),n)},Jce=Qce,Zce=["data"],eue=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},tue=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,a=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return $e("div",Ye({},nn(e,"group",{group:!0}),c),$e(a,Ye({},l,{selectProps:f,theme:d,getStyles:s,getClassNames:i,cx:r}),u),$e("div",null,n))},nue=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return Ke({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},rue=function(e){var n=kR(e);n.data;var r=ja(n,Zce);return $e("div",Ye({},nn(e,"groupHeading",{"group-heading":!0}),r))},sue=tue,iue=["innerRef","isDisabled","isHidden","inputClassName"],aue=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,a=i.spacing,l=i.colors;return Ke(Ke({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},oue),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:l.neutral80})},IR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},oue={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ke({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},IR)},lue=function(e){return Ke({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},IR)},cue=function(e){var n=e.cx,r=e.value,s=kR(e),i=s.innerRef,a=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=ja(s,iue);return $e("div",Ye({},nn(e,"input",{"input-container":!0}),{"data-value":r||""}),$e("input",Ye({className:n({input:!0},c),ref:i,style:lue(l),disabled:a},u)))},uue=cue,due=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors;return Ke({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},hue=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,a=e.cropWithEllipsis;return Ke({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},fue=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors,l=e.isFocused;return Ke({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},LR=function(e){var n=e.children,r=e.innerProps;return $e("div",r,n)},mue=LR,pue=LR;function gue(t){var e=t.children,n=t.innerProps;return $e("div",Ye({role:"button"},n),e||$e(nS,{size:14}))}var xue=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,a=e.isDisabled,l=e.removeProps,c=e.selectProps,u=r.Container,d=r.Label,f=r.Remove;return $e(u,{data:s,innerProps:Ke(Ke({},nn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:c},$e(d,{data:s,innerProps:Ke({},nn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),$e(f,{data:s,innerProps:Ke(Ke({},nn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},yue=xue,bue=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.theme,l=a.spacing,c=a.colors;return Ke({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},vue=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.innerRef,l=e.innerProps;return $e("div",Ye({},nn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:a,"aria-disabled":r},l),n)},wue=vue,Nue=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return Ke({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},jue=function(e){var n=e.children,r=e.innerProps;return $e("div",Ye({},nn(e,"placeholder",{placeholder:!0}),r),n)},Sue=jue,Cue=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,a=s.colors;return Ke({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},kue=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return $e("div",Ye({},nn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},Tue=kue,Eue={ClearIndicator:Uce,Control:Jce,DropdownIndicator:Bce,DownChevron:_R,CrossIcon:nS,Group:sue,GroupHeading:rue,IndicatorsContainer:Rce,IndicatorSeparator:qce,Input:uue,LoadingIndicator:Yce,Menu:jce,MenuList:Cce,MenuPortal:Ace,LoadingMessage:Mce,NoOptionsMessage:Ece,MultiValue:yue,MultiValueContainer:mue,MultiValueLabel:pue,MultiValueRemove:gue,Option:wue,Placeholder:Sue,SelectContainer:_ce,SingleValue:Tue,ValueContainer:Ice},Mue=function(e){return Ke(Ke({},Eue),e.components)},eM=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Pue(t,e){return!!(t===e||eM(t)&&eM(e))}function Aue(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Pue(t[n],e[n]))return!1;return!0}function Oue(t,e){e===void 0&&(e=Aue);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var a=t.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}var _ue={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Due=function(e){return $e("span",Ye({css:_ue},e))},tM=Due,Iue={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,a=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(n==="value"&&l)return"value ".concat(a," focused, ").concat(f(l,r),".");if(n==="menu"&&d){var p=c?" disabled":"",g="".concat(u?" selected":"").concat(p);return"".concat(a).concat(g,", ").concat(f(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Lue=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,a=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,p=c.getOptionLabel,g=c.inputValue,x=c.isMulti,v=c.isOptionDisabled,b=c.isSearchable,w=c.menuIsOpen,N=c.options,C=c.screenReaderStatus,P=c.tabSelectsValue,S=c.isLoading,A=c["aria-label"],M=c["aria-live"],T=k.useMemo(function(){return Ke(Ke({},Iue),f||{})},[f]),_=k.useMemo(function(){var q="";if(n&&T.onChange){var z=n.option,B=n.options,$=n.removedValue,Q=n.removedValues,H=n.value,V=function(de){return Array.isArray(de)?null:de},Y=$||z||V(H),Z=Y?p(Y):"",ee=B||Q||void 0,le=ee?ee.map(p):[],ge=Ke({isDisabled:Y&&v(Y,l),label:Z,labels:le},n);q=T.onChange(ge)}return q},[n,T,v,l,p]),I=k.useMemo(function(){var q="",z=r||s,B=!!(r&&l&&l.includes(r));if(z&&T.onFocus){var $={focused:z,label:p(z),isDisabled:v(z,l),isSelected:B,options:i,context:z===r?"menu":"value",selectValue:l,isAppleDevice:d};q=T.onFocus($)}return q},[r,s,p,v,T,i,l,d]),D=k.useMemo(function(){var q="";if(w&&N.length&&!S&&T.onFilter){var z=C({count:i.length});q=T.onFilter({inputValue:g,resultsMessage:z})}return q},[i,g,w,T,N,C,S]),R=n?.action==="initial-input-focus",G=k.useMemo(function(){var q="";if(T.guidance){var z=s?"value":w?"menu":"input";q=T.guidance({"aria-label":A,context:z,isDisabled:r&&v(r,l),isMulti:x,isSearchable:b,tabSelectsValue:P,isInitialFocus:R})}return q},[A,r,s,x,v,b,w,T,l,P,R]),U=$e(k.Fragment,null,$e("span",{id:"aria-selection"},_),$e("span",{id:"aria-focused"},I),$e("span",{id:"aria-results"},D),$e("span",{id:"aria-guidance"},G));return $e(k.Fragment,null,$e(tM,{id:u},R&&U),$e(tM,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!R&&U))},Rue=Lue,fw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Fue=new RegExp("["+fw.map(function(t){return t.letters}).join("")+"]","g"),RR={};for(var q1=0;q1<fw.length;q1++)for(var K1=fw[q1],G1=0;G1<K1.letters.length;G1++)RR[K1.letters[G1]]=K1.base;var FR=function(e){return e.replace(Fue,function(n){return RR[n]})},zue=Oue(FR),nM=function(e){return e.replace(/^\s+|\s+$/g,"")},Vue=function(e){return"".concat(e.label," ").concat(e.value)},$ue=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=Ke({ignoreCase:!0,ignoreAccents:!0,stringify:Vue,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,a=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?nM(r):r,f=c?nM(l(n)):l(n);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),a&&(d=zue(d),f=FR(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Bue=["innerRef"];function Hue(t){var e=t.innerRef,n=ja(t,Bue),r=pce(n,"onExited","in","enter","exit","appear");return $e("input",Ye({ref:e},r,{css:Jj({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Uue=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Wue(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,a=k.useRef(!1),l=k.useRef(!1),c=k.useRef(0),u=k.useRef(null),d=k.useCallback(function(b,w){if(u.current!==null){var N=u.current,C=N.scrollTop,P=N.scrollHeight,S=N.clientHeight,A=u.current,M=w>0,T=P-S-C,_=!1;T>w&&a.current&&(r&&r(b),a.current=!1),M&&l.current&&(i&&i(b),l.current=!1),M&&w>T?(n&&!a.current&&n(b),A.scrollTop=P,_=!0,a.current=!0):!M&&-w>C&&(s&&!l.current&&s(b),A.scrollTop=0,_=!0,l.current=!0),_&&Uue(b)}},[n,r,s,i]),f=k.useCallback(function(b){d(b,b.deltaY)},[d]),p=k.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),g=k.useCallback(function(b){var w=c.current-b.changedTouches[0].clientY;d(b,w)},[d]),x=k.useCallback(function(b){if(b){var w=hce?{passive:!1}:!1;b.addEventListener("wheel",f,w),b.addEventListener("touchstart",p,w),b.addEventListener("touchmove",g,w)}},[g,p,f]),v=k.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",p,!1),b.removeEventListener("touchmove",g,!1))},[g,p,f]);return k.useEffect(function(){if(e){var b=u.current;return x(b),function(){v(b)}}},[e,x,v]),function(b){u.current=b}}var rM=["boxSizing","height","overflow","paddingRight","position"],sM={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function iM(t){t.cancelable&&t.preventDefault()}function aM(t){t.stopPropagation()}function oM(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function lM(){return"ontouchstart"in window||navigator.maxTouchPoints}var cM=!!(typeof window<"u"&&window.document&&window.document.createElement),Wd=0,Wc={capture:!1,passive:!1};function que(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=k.useRef({}),i=k.useRef(null),a=k.useCallback(function(c){if(cM){var u=document.body,d=u&&u.style;if(r&&rM.forEach(function(x){var v=d&&d[x];s.current[x]=v}),r&&Wd<1){var f=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+f||0;Object.keys(sM).forEach(function(x){var v=sM[x];d&&(d[x]=v)}),d&&(d.paddingRight="".concat(g,"px"))}u&&lM()&&(u.addEventListener("touchmove",iM,Wc),c&&(c.addEventListener("touchstart",oM,Wc),c.addEventListener("touchmove",aM,Wc))),Wd+=1}},[r]),l=k.useCallback(function(c){if(cM){var u=document.body,d=u&&u.style;Wd=Math.max(Wd-1,0),r&&Wd<1&&rM.forEach(function(f){var p=s.current[f];d&&(d[f]=p)}),u&&lM()&&(u.removeEventListener("touchmove",iM,Wc),c&&(c.removeEventListener("touchstart",oM,Wc),c.removeEventListener("touchmove",aM,Wc)))}},[r]);return k.useEffect(function(){if(e){var c=i.current;return a(c),function(){l(c)}}},[e,a,l]),function(c){i.current=c}}var Kue=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Gue={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Yue(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,a=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Wue({isEnabled:s,onBottomArrive:i,onBottomLeave:a,onTopArrive:l,onTopLeave:c}),d=que({isEnabled:n}),f=function(g){u(g),d(g)};return $e(k.Fragment,null,n&&$e("div",{onClick:Kue,css:Gue}),e(f))}var Xue={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Que=function(e){var n=e.name,r=e.onFocus;return $e("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Xue,value:"",onChange:function(){}})},Jue=Que;function rS(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Zue(){return rS(/^iPhone/i)}function zR(){return rS(/^Mac/i)}function ede(){return rS(/^iPad/i)||zR()&&navigator.maxTouchPoints>1}function tde(){return Zue()||ede()}function nde(){return zR()||tde()}var rde=function(e){return e.label},sde=function(e){return e.label},ide=function(e){return e.value},ade=function(e){return!!e.isDisabled},ode={clearIndicator:Hce,container:Oce,control:Xce,dropdownIndicator:$ce,group:eue,groupHeading:nue,indicatorsContainer:Lce,indicatorSeparator:Wce,input:aue,loadingIndicator:Gce,loadingMessage:Tce,menu:vce,menuList:Sce,menuPortal:Pce,multiValue:due,multiValueLabel:hue,multiValueRemove:fue,noOptionsMessage:kce,option:bue,placeholder:Nue,singleValue:Cue,valueContainer:Dce},lde={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},cde=4,VR=4,ude=38,dde=VR*2,hde={baseUnit:VR,controlHeight:ude,menuGutter:dde},Y1={borderRadius:cde,colors:lde,spacing:hde},fde={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:J6(),captureMenuScroll:!J6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:$ue(),formatGroupLabel:rde,getOptionLabel:sde,getOptionValue:ide,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ade,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!uce(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function uM(t,e,n,r){var s=HR(t,e,n),i=UR(t,e,n),a=BR(t,e),l=Jg(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:a,value:l,index:r}}function og(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(a,l){return uM(t,a,e,l)}).filter(function(a){return hM(t,a)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=uM(t,n,e,r);return hM(t,i)?i:void 0}).filter(fce)}function $R(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Kj(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function dM(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Kj(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function mde(t,e){return $R(og(t,e))}function hM(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,a=e.label,l=e.value;return(!qR(t)||!i)&&WR(t,{label:a,value:l,data:s},r)}function pde(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function gde(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var X1=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},BR=function(e,n){return e.getOptionLabel(n)},Jg=function(e,n){return e.getOptionValue(n)};function HR(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function UR(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Jg(t,e);return n.some(function(s){return Jg(t,s)===r})}function WR(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var qR=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},xde=1,KR=(function(t){Roe(n,t);var e=Voe(n);function n(r){var s;if(Ioe(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,f=d.onChange,p=d.name;u.name=p,s.ariaOnChange(c,u),f(c,u)},s.setValue=function(c,u,d){var f=s.props,p=f.closeMenuOnSelect,g=f.isMulti,x=f.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:x}),p&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,f=u.isMulti,p=u.name,g=s.state.selectValue,x=f&&s.isOptionSelected(c,g),v=s.isOptionDisabled(c,g);if(x){var b=s.getOptionValue(c);s.setValue(g.filter(function(w){return s.getOptionValue(w)!==b}),"deselect-option",c)}else if(!v)f?s.setValue([].concat(Kj(g),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:p});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,f=s.getOptionValue(c),p=d.filter(function(x){return s.getOptionValue(x)!==f}),g=bp(u,p,p[0]||null);s.onChange(g,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(bp(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),p=bp(c,f,f[0]||null);d&&s.onChange(p,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return X1(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return dM(og(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return ice.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return BR(s.props,c)},s.getOptionValue=function(c){return Jg(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,f=ode[c](u,d);f.boxSizing="border-box";var p=s.props.styles[c];return p?p(f,u):f},s.getClassNames=function(c,u){var d,f;return(d=(f=s.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return Mue(s.props)},s.buildCategorizedOptions=function(){return og(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return $R(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:Ke({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,f=u.menuIsOpen;s.focusInput(),f?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Ax(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-s.initialTouchX),p=Math.abs(d.clientY-s.initialTouchY),g=5;s.userIsDragging=f>g||p>g}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return qR(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,f=u.backspaceRemovesValue,p=u.escapeClearsValue,g=u.inputValue,x=u.isClearable,v=u.isDisabled,b=u.menuIsOpen,w=u.onKeyDown,N=u.tabSelectsValue,C=u.openMenuOnFocus,P=s.state,S=P.focusedOption,A=P.focusedValue,M=P.selectValue;if(!v&&!(typeof w=="function"&&(w(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||g)return;s.focusValue("previous");break;case"ArrowRight":if(!d||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(A)s.removeValue(A);else{if(!f)return;d?s.popValue():x&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!b||!N||!S||C&&s.isOptionSelected(S,M))return;s.selectOption(S);break;case"Enter":if(c.keyCode===229)break;if(b){if(!S||s.isComposing)return;s.selectOption(S);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):x&&p&&s.clearValue();break;case" ":if(g)return;if(!b){s.openMenu("first");break}if(!S)return;s.selectOption(S);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++xde),s.state.selectValue=X6(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),a=s.buildFocusableOptions(),l=a.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=a[l],s.state.focusedOptionId=X1(i,a[l])}return s}return Loe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Q6(this.menuListRef,this.focusedOptionRef),nde()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,a=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!a&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&a&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!a&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Q6(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,a=this.state,l=a.selectValue,c=a.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,a=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=a.indexOf(l);l||(c=-1);var u=a.length-1,d=-1;if(a.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:a[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(a);a||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Y1):Ke(Ke({},Y1),this.props.theme):Y1})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,a=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,p=f.isMulti,g=f.isRtl,x=f.options,v=this.hasValue();return{clearValue:s,cx:i,getStyles:a,getClassNames:l,getValue:c,hasValue:v,isMulti:p,isRtl:g,options:x,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,a=s.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(s,i){return HR(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return UR(this.props,s,i)}},{key:"filterOption",value:function(s,i){return WR(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:a,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,a=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,f=s.menuIsOpen,p=s.required,g=this.getComponents(),x=g.Input,v=this.state,b=v.inputIsHidden,w=v.ariaSelection,N=this.commonProps,C=l||this.getElementId("input"),P=Ke(Ke(Ke({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?w?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?k.createElement(x,Ye({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},P)):k.createElement(Hue,Ye({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Xg,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},P))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),a=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,f=i.Placeholder,p=this.commonProps,g=this.props,x=g.controlShouldRenderValue,v=g.isDisabled,b=g.isMulti,w=g.inputValue,N=g.placeholder,C=this.state,P=C.selectValue,S=C.focusedValue,A=C.isFocused;if(!this.hasValue()||!x)return w?null:k.createElement(f,Ye({},p,{key:"placeholder",isDisabled:v,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),N);if(b)return P.map(function(T,_){var I=T===S,D="".concat(s.getOptionLabel(T),"-").concat(s.getOptionValue(T));return k.createElement(a,Ye({},p,{components:{Container:l,Label:c,Remove:u},isFocused:I,isDisabled:v,key:D,index:_,removeProps:{onClick:function(){return s.removeValue(T)},onTouchEnd:function(){return s.removeValue(T)},onMouseDown:function(G){G.preventDefault()}},data:T}),s.formatOptionLabel(T,"value"))});if(w)return null;var M=P[0];return k.createElement(d,Ye({},p,{data:M,isDisabled:v}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(i,Ye({},a,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return k.createElement(i,Ye({},a,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,a=s.IndicatorSeparator;if(!i||!a)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return k.createElement(a,Ye({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(i,Ye({},a,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),a=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,f=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,x=this.commonProps,v=this.state.focusedOption,b=this.props,w=b.captureMenuScroll,N=b.inputValue,C=b.isLoading,P=b.loadingMessage,S=b.minMenuHeight,A=b.maxMenuHeight,M=b.menuIsOpen,T=b.menuPlacement,_=b.menuPosition,I=b.menuPortalTarget,D=b.menuShouldBlockScroll,R=b.menuShouldScrollIntoView,G=b.noOptionsMessage,U=b.onMenuScrollToTop,q=b.onMenuScrollToBottom;if(!M)return null;var z=function(Z,ee){var le=Z.type,ge=Z.data,te=Z.isDisabled,de=Z.isSelected,xe=Z.label,Se=Z.value,rt=v===ge,Ge=te?void 0:function(){return s.onOptionHover(ge)},Oe=te?void 0:function(){return s.selectOption(ge)},ie="".concat(s.getElementId("option"),"-").concat(ee),Me={id:ie,onClick:Oe,onMouseMove:Ge,onMouseOver:Ge,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:de};return k.createElement(g,Ye({},x,{innerProps:Me,data:ge,isDisabled:te,isSelected:de,key:ie,label:xe,type:le,value:Se,isFocused:rt,innerRef:rt?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(Z.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(Y){if(Y.type==="group"){var Z=Y.data,ee=Y.options,le=Y.index,ge="".concat(s.getElementId("group"),"-").concat(le),te="".concat(ge,"-heading");return k.createElement(a,Ye({},x,{key:ge,data:Z,options:ee,Heading:l,headingProps:{id:te,data:Y.data},label:s.formatGroupLabel(Y.data)}),Y.options.map(function(de){return z(de,"".concat(le,"-").concat(de.index))}))}else if(Y.type==="option")return z(Y,"".concat(Y.index))});else if(C){var $=P({inputValue:N});if($===null)return null;B=k.createElement(f,x,$)}else{var Q=G({inputValue:N});if(Q===null)return null;B=k.createElement(p,x,Q)}var H={minMenuHeight:S,maxMenuHeight:A,menuPlacement:T,menuPosition:_,menuShouldScrollIntoView:R},V=k.createElement(wce,Ye({},x,H),function(Y){var Z=Y.ref,ee=Y.placerProps,le=ee.placement,ge=ee.maxHeight;return k.createElement(c,Ye({},x,H,{innerRef:Z,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:C,placement:le}),k.createElement(Yue,{captureEnabled:w,onTopArrive:U,onBottomArrive:q,lockEnabled:D},function(te){return k.createElement(u,Ye({},x,{innerRef:function(xe){s.getMenuListRef(xe),te(xe)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:s.getElementId("listbox")},isLoading:C,maxHeight:ge,focusedOption:v}),B)}))});return I||_==="fixed"?k.createElement(d,Ye({},x,{appendTo:I,controlElement:this.controlRef,menuPlacement:T,menuPosition:_}),V):V}},{key:"renderFormField",value:function(){var s=this,i=this.props,a=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return k.createElement(Jue,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(a){var p=f.map(function(v){return s.getOptionValue(v)}).join(a);return k.createElement("input",{name:u,type:"hidden",value:p})}else{var g=f.length>0?f.map(function(v,b){return k.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(v)})}):k.createElement("input",{name:u,type:"hidden",value:""});return k.createElement("div",null,g)}else{var x=f[0]?this.getOptionValue(f[0]):"";return k.createElement("input",{name:u,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,a=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,f=this.getFocusableOptions();return k.createElement(Rue,Ye({},s,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,a=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,f=u.id,p=u.isDisabled,g=u.menuIsOpen,x=this.state.isFocused,v=this.commonProps=this.getCommonProps();return k.createElement(l,Ye({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:x}),this.renderLiveRegion(),k.createElement(i,Ye({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:x,menuIsOpen:g}),k.createElement(c,Ye({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(a,Ye({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var a=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,f=i.prevWasFocused,p=i.instancePrefix,g=s.options,x=s.value,v=s.menuIsOpen,b=s.inputValue,w=s.isMulti,N=X6(x),C={};if(a&&(x!==a.value||g!==a.options||v!==a.menuIsOpen||b!==a.inputValue)){var P=v?mde(s,N):[],S=v?dM(og(s,N),"".concat(p,"-option")):[],A=l?pde(i,N):null,M=gde(i,P),T=X1(S,M);C={selectValue:N,focusedOption:M,focusedOptionId:T,focusableOptionsWithIds:S,focusedValue:A,clearFocusValueOnUpdate:!1}}var _=c!=null&&s!==a?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},I=u,D=d&&f;return d&&!D&&(I={value:bp(w,N,N[0]||null),options:N,action:"initial-input-focus"},D=!f),u?.action==="initial-input-focus"&&(I=null),Ke(Ke(Ke({},C),_),{},{prevProps:s,ariaSelection:I,prevWasFocused:D})}}]),n})(k.Component);KR.defaultProps=fde;var yde=k.forwardRef(function(t,e){var n=Doe(t);return k.createElement(KR,Ye({ref:e},n))}),ua=yde;function bde({openModalProduct:t,setOpenModalProduct:e,selectorderItems:n,products:r,setFilterProduct:s,setValue:i}){const[a,l]=k.useState(null),[c,u]=k.useState({productName:"",categoryId:void 0}),{data:d}=Ae({queryKey:["getAllCategory"],queryFn:_o}),f=()=>{s(g=>({...g,categoryId:c.categoryId,productName:c.productName}))},p=g=>{if(n.some(v=>v.variantId===g.variantId)){ce.error("Sn phm ny  c trong danh sch");return}i("orderItems",[...n,g],{shouldValidate:!0,shouldDirty:!0}),e(!1)};return o.jsxs(ut,{open:t,className:"relative w-[80rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(!1),children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[2rem]",children:"Chn sn phm"}),a?o.jsx(vde,{product:a,onBack:()=>l(null),onAdd:p}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] shadow-lg p-[2rem] border border-gray-100 rounded-xl",children:[o.jsx("input",{type:"text",name:"productName",placeholder:"Tn sn phm...",value:c.productName,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value}))}),o.jsxs("select",{name:"categoryId",id:"categoryId",value:c.categoryId,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 text-gray-600 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value})),children:[o.jsx("option",{value:"",children:"Danh mc"}),d?.map(g=>o.jsx("option",{value:g.id,children:g.categoryName},g.id))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onClick:()=>f(),children:[o.jsx(F,{icon:Vr}),o.jsx("span",{className:"block",children:"Lc"})]})]}),o.jsx("div",{className:"min-h-[28rem] max-h-[40rem] overflow-auto",children:r?.length>0?o.jsx("div",{className:"grid grid-cols-4 max-h-[40rem] gap-[2rem] mt-[2rem]",children:r?.map(g=>o.jsxs("div",{className:"border border-gray-200 shadow-lg rounded-xl p-4 hover:shadow-xl hover:scale-[1.02] hover-linear cursor-pointer group",onClick:()=>l(g),children:[o.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden",children:o.jsx("img",{src:g.mainImage,alt:g.productName,className:"w-full h-full object-cover"})}),o.jsx("h4",{className:"font-medium text-limit-1 text-gray-800 mb-1",children:g.productName}),o.jsxs("p",{className:"text-sm text-gray-500",children:[g.variants.length," phin bn"]}),o.jsx("p",{className:"text-[1.4rem] text-green-600 font-semibold mt-2",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g.price)})]},g.id))}):o.jsx("div",{className:"w-full text-center mt-[2rem]",children:"Khng c sn phm no"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] mt-[2rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:()=>e(!1),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",children:"Chn"})]})]})]})}function vde({product:t,onBack:e,onAdd:n}){const[r,s]=k.useState(null),[i,a]=k.useState(null),[l,c]=k.useState(1),u=()=>t.variants.find(w=>w.variantColor.id===i?.id&&w.variantSize.id===r?.id)?.inventory??0;k.useEffect(()=>{const b=u();if(!i||!r){c(1);return}c(w=>w>b?b>0?b:1:w)},[i,r]);const d=i&&r,f=t.variants.reduce((b,w)=>b+w.inventory,0),p=u(),g=k.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantColor.id,w.variantColor)),[...b.values()]},[t]),x=k.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantSize.id,w.variantSize)),[...b.values()]},[t]),v=()=>{const b=t.category.categoryName?.toUpperCase()||"";return b.includes("giy")||b.includes("dp")?EN:AN};return o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:" Quay li"}),o.jsxs("div",{className:"flex gap-[2rem] w-full max-h-[55rem] overflow-y-auto hide-scrollbar",children:[o.jsx("div",{className:"w-[30rem] h-[30rem] rounded-xl ",children:o.jsx("img",{src:t.mainImage,alt:`imgage-${t.productName}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800 font-bold",children:t.productName}),o.jsxs("div",{className:"flex items-center gap-[.1rem] mt-[1rem]",children:[o.jsx(F,{icon:Xr,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:Xr,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:Xr,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:Xr,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:Xr,className:"text-[1rem] text-amber-400"})]}),o.jsxs("div",{className:"mt-[1rem] flex items-center gap-[.5rem]",children:[o.jsx("span",{className:"text-gray-600",children:"Gi gc"}),o.jsx("span",{className:"text-green-600 text-[2rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.price)})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("span",{className:"block text-gray-600",children:"Chn mu:"}),o.jsx("div",{className:"flex items-center gap-[1rem] w-full flex-wrap mt-[.5rem]",children:g.map(b=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${i?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>a(b),children:[o.jsx(F,{icon:v(),className:"bg-gray-100 p-[.2rem]",style:{color:b.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:b.name})]},b.id))}),o.jsx("span",{className:"block text-gray-600 mt-[2rem]",children:"Chn size:"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap mt-[.5rem]",children:x?.map(b=>{const w=i?t.variants.find(N=>N.variantColor.id===i.id&&N.variantSize.id===b?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[2rem] py-[.6rem] border rounded-[.5rem] ${w?r?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!w,onClick:()=>s(b),children:o.jsx("span",{className:"text-[1.4rem]",children:b.name})},b.id)})}),o.jsxs("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:[o.jsx("span",{className:"block text-gray-600 ",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{i&&r&&c(b=>Math.max(1,b-1))},children:o.jsx(F,{icon:Ul,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:l,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!d,onChange:b=>c(Number(b.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{r&&i&&c(b=>Math.min(Number(t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r?.id)?.inventory),Number(b)+1))},children:o.jsx(F,{icon:xa,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 uppercase select-none",children:d?`Cn ${p} sn phm`:f>0?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex justify-end items-center mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:e,children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",onClick:()=>{if(!i||!r){ce.error("Vui lng chn mu sc v size!");return}const b=t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r.id);if(!b){ce.error("Sn phm khng tn ti trong kho!");return}n({productId:t.id,variantId:b.id,quantity:l,price:b.price??t.price})},children:"Chn"})]})]})]})]})}function wde({open:t,onClose:e,refetch:n}){const{register:r,handleSubmit:s,control:i,setValue:a,watch:l,formState:{errors:c,isSubmitting:u},reset:d}=Qs({resolver:iR(Coe),defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerProvince:"",customerDistrict:"",customerWard:"",customerNote:"",paymentMethod:es.COD,couponCode:"",orderItems:[]},mode:"onSubmit",reValidateMode:"onChange"}),{data:f}=Ae({queryKey:["province"],queryFn:qj}),[p,g]=k.useState({page:1,limit:20,productName:"",categoryId:void 0}),{data:x}=Ae({queryKey:["products",p],queryFn:$u}),[v,b]=k.useState(!1),w=l("customerProvince"),N=l("customerDistrict"),C=l("orderItems"),S=f?.find(z=>z.name===w)?.districts??[],M=S.find(z=>z.name===N)?.wards??[],T=f?.map(z=>({value:z.name,label:z.name})),_=S?.map(z=>({value:z.name,label:z.name})),I=M?.map(z=>({value:z.name,label:z.name})),R=C.reduce((z,B)=>{const $=x?.find(V=>V.id===B.productId),H=$?.variants.find(V=>V.id===B.variantId)?.price??$?.price??0;return z+H*B.quantity},0),G=async z=>{try{const B=await fe.post("/api/v1/orders/create",z);B.status?(ce.success(B.message||"To n hng thnh cng"),await n(),e()):ce.error(B.message||"To n hng tht bi")}catch(B){console.log(B),ce.error(B.message||"Li khng th t hng! ")}},U=(z,B)=>{const $=[...C],Q=$[z];B==="decre"?Q.quantity>1&&(Q.quantity-=1):Q.quantity+=1,a("orderItems",$,{shouldValidate:!0,shouldDirty:!0})},q=z=>{const B=C.filter(($,Q)=>Q!==z);a("orderItems",B,{shouldValidate:!0,shouldDirty:!0})};return o.jsxs(ut,{open:t,className:"relative w-[80%] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e(),d()},children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[3rem]",children:"To n hng"}),o.jsxs("form",{onSubmit:s(G),children:[o.jsxs("div",{className:"flex max-h-[55rem] overflow-auto",children:[o.jsxs("div",{className:"w-[45%] pr-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin sn phm"}),o.jsx("label",{className:"text-gray-600",children:"Thm sn phm"}),o.jsxs("div",{className:"w-full h-[10rem] mt-[.5rem] flex flex-col items-center justify-center border-[.3rem] border-gray-300 border-dashed rounded-xl text-gray-600 cursor-pointer",onClick:()=>b(!0),children:[o.jsx(F,{icon:$r,className:"text-[2rem] text-gray-500"}),o.jsx("span",{children:"Thm sn phm"})]}),c.orderItems&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.orderItems.message}),o.jsxs("label",{className:"block text-gray-600 mt-[2rem]",children:["Sn phm  chn (",C.length,")"]}),C.length===0&&o.jsx("div",{className:"p-[1.5rem] text-gray-500 text-center",children:"Cha c sn phm no"}),o.jsx("div",{className:"mt-[1rem] w-full max-h-[30rem] overflow-x-auto",children:o.jsx("div",{className:"min-w-[48rem] space-y-2",children:C.map((z,B)=>{const $=x.find(V=>V.id===z.productId),Q=$.variants.find(V=>V.id===z.variantId),H=Q?.price??$.price;return o.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border border-gray-300 rounded-xl bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[18rem]",children:[o.jsx("img",{src:$.mainImage,alt:`main image ${$.productName}`,className:"w-[4rem] h-[4rem] rounded-md object-cover"}),o.jsxs("div",{className:"max-w-[15rem]",children:[o.jsx("h5",{className:"text-gray-800 text-[1.4rem] text-limit-1",children:$.productName}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] border-r border-gray-500",children:["Size: ",Q?.variantSize.name]}),o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] pl-[.5rem]",children:["Mu: ",Q?.variantColor.name]})]}),o.jsx("span",{className:"text-[1.2rem] text-green-800 ",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(H)})]})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] min-w-[8rem]",children:[o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>U(B,"decre"),children:o.jsx(F,{icon:Ul,className:"text-[1rem]"})}),o.jsx("input",{type:"number",id:`quantity-${B}`,name:`quantity-${B}`,value:z.quantity,className:"w-[3.5rem] h-[2.5rem] rounded-lg border border-gray-300 outline-none text-[1rem] pl-[.5rem]"}),o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>U(B,"incre"),children:o.jsx(F,{icon:xa,className:"text-[1rem]"})})]}),o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[8rem]",children:[o.jsx("span",{className:"text-[1.4rem] select-none",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(H*z.quantity)}),o.jsx("button",{type:"button",className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg bg-red-100 cursor-pointer",onClick:()=>q(B),children:o.jsx(F,{icon:Vu,className:"text-[1.2rem] text-red-400"})})]})]},B)})})}),o.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm p-6 mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)})]}),o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium block mb-3",children:"M gim gi:"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"text",id:"couponCode",placeholder:"Nhp m gim gi",className:"flex-1 h-[4rem] px-4 outline-none border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),o.jsx("button",{type:"button",className:"w-28 h-[4rem] text-[1.4rem] font-medium rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transition-all shadow-sm hover:shadow-md",children:"p dng"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-3 mt-2",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Gim gi:"}),o.jsx("span",{className:"text-red-500 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"py-3 border-t border-gray-200 mt-4 pt-4",children:[o.jsx("h4",{className:"text-[1.4rem] text-gray-800 font-bold mb-2",children:"Phng thc thanh ton"}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs",children:""})}),o.jsx("p",{className:"text-[1.4rem]",children:"Thanh ton khi nhn hng (COD)"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-gray-200 mt-4 pt-4 bg-gray-50 -mx-6 px-6 rounded-b-xl",children:[o.jsx("span",{className:"text-gray-800 font-bold text-[1.8rem]",children:"Tng thanh ton:"}),o.jsx("span",{className:"text-green-600 font-bold text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)})]})]})]}),o.jsxs("div",{className:"w-[55%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerName",className:"text-gray-600",children:"Tn khch hng"}),o.jsx("input",{type:"text",id:"customerName",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerName")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email khch hng"}),o.jsx("input",{type:"email",id:"customerEmail",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem]  focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerEmail")}),c.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerEmail.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",id:"customerPhone",placeholder:"St khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerPhone")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]})}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem]  mt-[.5rem]",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(ji,{control:i,name:"customerProvince",render:({field:z})=>o.jsx(ua,{...z,options:T,placeholder:"Tnh...",isSearchable:!0,value:T?.find(B=>B.value===z.value)||null,onChange:B=>{z.onChange(B?.value),a("customerDistrict",""),a("customerWard","")},styles:{control:(B,$)=>({...B,height:"4rem"})},theme:B=>({...B,colors:{...B.colors,primary:"cyan"}})})}),c.customerProvince&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerProvince.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(ji,{control:i,name:"customerDistrict",render:({field:z})=>o.jsx(ua,{...z,options:_,placeholder:"Huyn...",isSearchable:!0,value:_?.find(B=>B.value===z.value)||null,onChange:B=>{z.onChange(B?.value),a("customerWard","")},styles:{control:B=>({...B,height:"4rem"})},theme:B=>({...B,colors:{...B.colors,primary:"cyan"}})})}),c.customerDistrict&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerDistrict.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(ji,{control:i,name:"customerWard",render:({field:z})=>o.jsx(ua,{...z,options:I,placeholder:"Phng...",isSearchable:!0,value:I?.find(B=>B.value===z.value)||null,onChange:B=>{z.onChange(B?.value)},styles:{control:B=>({...B,height:"4rem"})},theme:B=>({...B,colors:{...B.colors,primary:"cyan"}})})}),c.customerWard&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerWard.message})]})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"customerAddress",className:"text-gray-600",children:"Tn ng / x / s nh"}),o.jsx("input",{type:"text",id:"customerAddress",placeholder:"...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerAddress")}),c.customerAddress&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerAddress.message})]}),o.jsx("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerNote",className:"text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{id:"customerNote",placeholder:"Ghi ch...",rows:3,className:"w-full rounded-lg border border-gray-300 outline-none px-[1.5rem] pt-[.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerNote")}),c.customerNote&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerNote.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e(),d()},disabled:u,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:u,children:u?"ang to...":"To"})]})]}),o.jsx(bde,{openModalProduct:v,setOpenModalProduct:b,selectorderItems:C,products:x,setFilterProduct:g,setValue:a})]})}const Un=t=>({[Le.PENDING]:{text:"Ch xc nhn",bgColor:"bg-amber-100",textColor:"text-amber-600",borderColor:"border-amber-200"},[Le.CONFIRMED]:{text:" xc nhn",bgColor:"bg-blue-100",textColor:"text-blue-600",borderColor:"border-blue-200"},[Le.SHIPPING]:{text:"ang giao",bgColor:"bg-indigo-100",textColor:"text-indigo-600",borderColor:"border-indigo-200"},[Le.DELIVERED]:{text:" giao",bgColor:"bg-emerald-100",textColor:"text-emerald-600",borderColor:"border-emerald-200"},[Le.COMPLETED]:{text:"Hon thnh",bgColor:"bg-green-100",textColor:"text-green-600",borderColor:"border-green-200"},[Le.CANCELLED]:{text:" hy",bgColor:"bg-red-100",textColor:"text-red-600",borderColor:"border-red-200"}})[t]||{text:t,bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-200"};function GR({open:t,onClose:e,orderData:n,refetch:r}){const[s,i]=k.useState(null),[a,l]=k.useState(!1);k.useEffect(()=>{n&&i(n.status)},[n]);const c=async()=>{if(!n?.id){ce.error("Khng c id ca sn phm");return}l(!0);try{const u=await fe.patch(`/api/v1/orders/update-status/${n?.id}`,{status:s});u.status?(ce.success(u.message||"Cp nht thnh cng!"),await r(),e()):(ce.error(u.message||"Cp nht khng thnh cng!"),e())}catch(u){console.log(u),e(),ce.error(u.message||"Li khng th cp nht trng thi!")}finally{l(!1)}};return o.jsxs(ut,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-amber-600 text-center font-semibold mb-[2rem]",children:"Cp nht trng thi"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Trng thi n hng"}),o.jsx("select",{name:"status",id:"status",value:s??void 0,className:"w-full h-[4rem] rounded-lg border border-gray-300 mt-[.5rem] outline-none pl-[1.5rem] text-gray-600",onChange:u=>i(u.target.value),children:Object.entries(Le).map(([u,d])=>o.jsx("option",{value:d,children:Un(d).text},u))})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:a,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:a,onClick:()=>c(),children:a?"ang cp nht...":"Cp nht"})]})]})}var lg={exports:{}},Nde=lg.exports,fM;function jde(){return fM||(fM=1,(function(t,e){(function(n,r){t.exports=r(rc())})(typeof self<"u"?self:Nde,function(n){return(function(){var r={155:function(N){N.exports=n}},s={};function i(N){var C=s[N];if(C!==void 0)return C.exports;var P=s[N]={exports:{}};return r[N](P,P.exports,i),P.exports}i.d=function(N,C){for(var P in C)i.o(C,P)&&!i.o(N,P)&&Object.defineProperty(N,P,{enumerable:!0,get:C[P]})},i.o=function(N,C){return Object.prototype.hasOwnProperty.call(N,C)},i.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{useReactToPrint:function(){return w}});var l=i(155);const c="printWindow";function u({level:N="error",messages:C,suppressErrors:P=!1}){P||(N==="error"?console.error(C):N==="warning"?console.warn(C):console.debug(C))}function d(N,C){if(C||!N){const P=document.getElementById(c);P&&document.body.removeChild(P)}}function f(N){return N instanceof Error?N:new Error("Unknown Error")}function p(N,C){const{documentTitle:P,onAfterPrint:S,onPrintError:A,preserveAfterPrint:M,print:T,suppressErrors:_}=C;setTimeout(()=>{var I,D;if(N.contentWindow){let G=function(){S?.(),d(M)};var R=G;if(N.contentWindow.focus(),T)T(N).then(G).catch(U=>{A?A("print",f(U)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:_})});else{if(N.contentWindow.print){const U=(D=(I=N.contentDocument)===null||I===void 0?void 0:I.title)!==null&&D!==void 0?D:"",q=N.ownerDocument.title;P&&(N.ownerDocument.title=P,N.contentDocument&&(N.contentDocument.title=P)),N.contentWindow.print(),P&&(N.ownerDocument.title=q,N.contentDocument&&(N.contentDocument.title=U))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:_});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(U=>{var q,z;return((z=(q=navigator.userAgent)!==null&&q!==void 0?q:navigator.vendor)!==null&&z!==void 0?z:"opera"in window&&window.opera).match(U)})?setTimeout(G,500):G()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:_})},500)}function g(N){const C=[],P=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let S=P.nextNode();for(;S;)C.push(S),S=P.nextNode();return C}function x(N,C,P){const S=g(N),A=g(C);if(S.length===A.length)for(let M=0;M<S.length;M++){const T=S[M],_=A[M],I=T.shadowRoot;if(I!==null){const D=_.attachShadow({mode:I.mode});D.innerHTML=I.innerHTML,x(I,D,P)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,C],suppressErrors:P})}const v=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(N,C,P,S){var A,M,T,_,I;const{contentNode:D,clonedContentNode:R,clonedImgNodes:G,clonedVideoNodes:U,numResourcesToLoad:q,originalCanvasNodes:z}=P,{bodyClass:B,fonts:$,ignoreGlobalStyles:Q,pageStyle:H,nonce:V,suppressErrors:Y,copyShadowRoots:Z}=S;N.onload=null;const ee=(A=N.contentDocument)!==null&&A!==void 0?A:(M=N.contentWindow)===null||M===void 0?void 0:M.document;if(ee){const le=ee.body.appendChild(R);Z&&x(D,le,!!Y),$&&(!((T=N.contentDocument)===null||T===void 0)&&T.fonts&&(!((_=N.contentWindow)===null||_===void 0)&&_.FontFace)?$.forEach(Ge=>{const Oe=new FontFace(Ge.family,Ge.source,{weight:Ge.weight,style:Ge.style});N.contentDocument.fonts.add(Oe),Oe.loaded.then(()=>{C(Oe)}).catch(ie=>{C(Oe,["Failed loading the font:",Oe,"Load error:",f(ie)])})}):($.forEach(Ge=>{C(Ge)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:Y})));const ge=H??v,te=ee.createElement("style");V&&(te.setAttribute("nonce",V),ee.head.setAttribute("nonce",V)),te.appendChild(ee.createTextNode(ge)),ee.head.appendChild(te),B&&ee.body.classList.add(...B.split(" "));const de=ee.querySelectorAll("canvas");for(let Ge=0;Ge<z.length;++Ge){const Oe=z[Ge],ie=de[Ge];if(ie===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Oe],suppressErrors:Y});continue}const Me=ie.getContext("2d");Me&&Me.drawImage(Oe,0,0)}for(let Ge=0;Ge<G.length;Ge++){const Oe=G[Ge],ie=Oe.getAttribute("src");if(ie){const Me=new Image;Me.onload=()=>{C(Oe)},Me.onerror=(Xe,vt,Nr,vn,K)=>{C(Oe,["Error loading <img>",Oe,"Error",K])},Me.src=ie}else C(Oe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Oe])}for(let Ge=0;Ge<U.length;Ge++){const Oe=U[Ge];Oe.preload="auto";const ie=Oe.getAttribute("poster");if(ie){const Me=new Image;Me.onload=()=>{C(Oe)},Me.onerror=(Xe,vt,Nr,vn,K)=>{C(Oe,["Error loading video poster",ie,"for video",Oe,"Error:",K])},Me.src=ie}else Oe.readyState>=2?C(Oe):Oe.src?(Oe.onloadeddata=()=>{C(Oe)},Oe.onerror=(Me,Xe,vt,Nr,vn)=>{C(Oe,["Error loading video",Oe,"Error",vn])},Oe.onstalled=()=>{C(Oe,["Loading video stalled, skipping",Oe])}):C(Oe,["Error loading video, `src` is empty",Oe])}const xe="select",Se=D.querySelectorAll(xe),rt=ee.querySelectorAll(xe);for(let Ge=0;Ge<Se.length;Ge++)rt[Ge].value=Se[Ge].value;if(!Q){const Ge=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Oe=0,ie=Ge.length;Oe<ie;++Oe){const Me=Ge[Oe];if(Me.tagName.toLowerCase()==="style"){const Xe=ee.createElement(Me.tagName),vt=Me.sheet;if(vt){let Nr="";try{const vn=vt.cssRules.length;for(let K=0;K<vn;++K)typeof vt.cssRules[K].cssText=="string"&&(Nr+=`${vt.cssRules[K].cssText}\r
`)}catch(vn){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Me,`Original error: ${f(vn).message}`],level:"warning"})}Xe.setAttribute("id",`react-to-print-${Oe}`),V&&Xe.setAttribute("nonce",V),Xe.appendChild(ee.createTextNode(Nr)),ee.head.appendChild(Xe)}}else if(Me.getAttribute("href"))if(Me.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Me],level:"warning"}),C(Me);else{const Xe=ee.createElement(Me.tagName);for(let vt=0,Nr=Me.attributes.length;vt<Nr;++vt){const vn=Me.attributes[vt];vn&&Xe.setAttribute(vn.nodeName,(I=vn.nodeValue)!==null&&I!==void 0?I:"")}Xe.onload=()=>{C(Xe)},Xe.onerror=(vt,Nr,vn,K,re)=>{C(Xe,["Failed to load",Xe,"Error:",re])},V&&Xe.setAttribute("nonce",V),ee.head.appendChild(Xe)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Me],level:"warning"}),C(Me)}}}q===0&&p(N,S)}function w({bodyClass:N,contentRef:C,copyShadowRoots:P,documentTitle:S,fonts:A,ignoreGlobalStyles:M,nonce:T,onAfterPrint:_,onBeforePrint:I,onPrintError:D,pageStyle:R,preserveAfterPrint:G,print:U,printIframeProps:q,suppressErrors:z}){return(0,l.useCallback)($=>{function Q(){const H={bodyClass:N,contentRef:C,copyShadowRoots:P,documentTitle:S,fonts:A,ignoreGlobalStyles:M,nonce:T,onAfterPrint:_,onPrintError:D,pageStyle:R,preserveAfterPrint:G,print:U,suppressErrors:z},V=(function(ee){const le=document.createElement("iframe");return le.width=`${document.documentElement.clientWidth}px`,le.height=`${document.documentElement.clientHeight}px`,le.style.position="absolute",le.style.top=`-${document.documentElement.clientHeight+100}px`,le.style.left=`-${document.documentElement.clientWidth+100}px`,le.id=c,le.srcdoc="<!DOCTYPE html>",ee&&(ee.allow&&(le.allow=ee.allow),ee.referrerPolicy!==void 0&&(le.referrerPolicy=ee.referrerPolicy),ee.sandbox!==void 0&&(le.sandbox=ee.sandbox)),le})(q),Y=(function(ee,le){const{contentRef:ge,fonts:te,ignoreGlobalStyles:de,suppressErrors:xe}=le,Se=(function({contentRef:Xe,optionalContent:vt,suppressErrors:Nr}){return vt&&typeof vt=="function"?(Xe&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),vt()):Xe?Xe.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Nr})})({contentRef:ge,optionalContent:ee,suppressErrors:xe});if(!Se)return;const rt=Se.cloneNode(!0),Ge=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Oe=rt.querySelectorAll("img"),ie=rt.querySelectorAll("video"),Me=te?te.length:0;return{contentNode:Se,clonedContentNode:rt,clonedImgNodes:Oe,clonedVideoNodes:ie,numResourcesToLoad:(de?0:Ge.length)+Oe.length+ie.length+Me,originalCanvasNodes:Se.querySelectorAll("canvas")}})($,H);if(!Y)return void u({messages:["There is nothing to print"],suppressErrors:z});const Z=(function(ee,le,ge){const{suppressErrors:te}=ee,de=[],xe=[];return function(Se,rt){de.includes(Se)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",Se],suppressErrors:te}):(rt?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...rt],suppressErrors:te}),xe.push(Se)):de.push(Se),de.length+xe.length===le&&p(ge,ee))}})(H,Y.numResourcesToLoad,V);(function(ee,le,ge,te){ee.onload=()=>{b(ee,le,ge,te)},document.body.appendChild(ee)})(V,Z,Y,H)}d(G,!0),I?I().then(()=>{Q()}).catch(H=>{D?.("onBeforePrint",f(H))}):Q()},[N,C,P,S,A,M,T,_,I,D,R,G,U,z])}return a})()})})(lg)),lg.exports}var Sde=jde();const YR=be.forwardRef(({order:t},e)=>{const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=t.orderItems?.reduce((i,a)=>{const l=a.variant?.price!==null&&a.variant?.price!==void 0?a.variant.price:a.variant?.product?.price||0;return i+l*a.quantity},0)||0;return o.jsxs("div",{ref:e,style:{padding:"2rem"},className:"print-container",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-[2.2rem] font-bold mb-2",children:"NTK.SHOP"}),o.jsx("p",{className:"text-gray-700 mb-1",children:"phng L Bnh, Qun Ci Rng, TP. Cn Th"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"T: 0357 124 853"}),o.jsx("h2",{className:"text-[2.2rem] font-bold",children:"HA N THANH TON"})]}),o.jsxs("div",{className:"flex justify-between items-start mt-[4rem] mb-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy in:"}),o.jsx("span",{className:"font-semibold",children:r(new Date().toISOString())})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Khch hng:"}),o.jsx("span",{className:"font-semibold",children:t.customerName||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Email:"}),o.jsx("span",{className:"font-semibold",children:t.customerEmail||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"S in thoi:"}),o.jsx("span",{className:"font-semibold",children:t.customerPhone||"N/A"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy t hng:"}),o.jsx("span",{className:"font-semibold",children:t.createdAt?r(t.createdAt):"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"M n hng:"}),o.jsx("span",{className:"font-semibold",children:t.orderCode||"N/A"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{children:"a ch giao hng:"}),o.jsxs("span",{className:"font-semibold max-w-[20rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx("p",{className:"font-semibold text-gray-700",children:"Thng tin sn phm:"})}),o.jsxs("table",{className:"w-full border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Mt hng"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(i=>{const a=i.variant?.product,l=i.variant?.price!==null&&i.variant?.price!==void 0?i.variant.price:a?.price||0,c=l*i.quantity;return o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:o.jsxs("div",{className:"max-w-[30rem]",children:[o.jsx("p",{className:"font-medium text-gray-900",children:a?.productName||"Sn phm khng xc nh"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsxs("span",{className:"text-gray-600 pr-[.5rem] mr-[.5rem] border-r border-gray-400",children:["Size: ",i.variant?.variantSize?.name||"N/A"]}),o.jsxs("span",{className:"text-gray-600",children:["Color: ",i.variant?.variantColor?.name||"N/A"]})]})]})}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:n(l)}),o.jsxs("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:["x",i.quantity]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:n(c)})]},i.id)})})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsxs("div",{className:"w-80 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"font-medium",children:n(s)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"font-medium",children:n(0)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Gim gi:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-",n(0)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-300",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold",children:n(s)})]})]})}),o.jsxs("div",{className:"mt-12 text-center space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-300",children:[o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi mua hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi bn hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]})]}),o.jsx("p",{className:"text-gray-700 italic mt-8",children:"Cm n qu khch  mua hng ti NTK.SHOP!"})]})]})});YR.displayName="InvoicePrint";const mM=[{key:Le.PENDING,label:"Ch xc nhn",desc:"n hng ang ch xc nhn",icon:jo,color:"bg-blue-500"},{key:Le.CONFIRMED,label:" xc nhn",desc:"n hng ang c chun b",icon:PN,color:"bg-orange-500"},{key:Le.SHIPPING,label:"ang giao hng",desc:"n hng ang c vn chuyn",icon:cx,color:"bg-purple-500"},{key:Le.COMPLETED,label:" giao hng",desc:"n hng  c giao thnh cng",icon:Wl,color:"bg-green-500"}];function Cde({orderDetail:t,setOrderDetail:e,refetch:n}){const[r,s]=k.useState({open:!1,data:null}),i=k.useRef(null),[a,l]=k.useState({shippingProvider:"",trackingNumber:"",shippingNote:""}),[c,u]=k.useState(null),[d,f]=k.useState(!0),p=Sde.useReactToPrint({contentRef:i,documentTitle:`n hng #${t.orderCode}`});k.useEffect(()=>{t.shippingProvider&&t.trackingNumber&&(l({shippingProvider:t.shippingProvider||"",shippingNote:t.shippingNote||"",trackingNumber:t.trackingNumber||""}),f(!1))},[t]);const g=b=>{const{name:w,value:N}=b.target;l(C=>({...C,[w]:N}))},x=async()=>{try{if(a.shippingProvider===""){u("Vui lng chn nh vn chuyn!");return}if(a.trackingNumber===""){u("Vui lng nhp m n vn!");return}const b=await fe.patch(`/api/v1/orders/update-shipping/${t.id}`,a);b.status&&(ce.success(b.message),f(!1))}catch(b){ce.error(b.message)}},v=t.orderItems.reduce((b,w)=>b+w.price*w.quantity,0);return o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-start border-b-[.1rem] border-b-gray-300 pb-[2rem] mb-[2rem]",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-[2rem] font-semibold text-gray-600 mb-2",children:["Chi tit n hng #",t.orderCode]}),o.jsxs("button",{onClick:()=>e(null),className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 hover-linear cursor-pointer",children:[o.jsx(F,{icon:qs}),o.jsx("span",{children:"Quay li danh sch"})]})]}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsx("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-[1.4rem] font-medium ${Un(t.status).bgColor} ${Un(t.status).textColor}`,children:Un(t.status).text})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[o.jsxs("div",{className:"col-span-2 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin giao hng"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ngi nhn:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:t.customerName})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"S in thoi:"}),o.jsx("span",{className:"text-gray-800",children:t.customerPhone})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Email:"}),o.jsx("span",{className:"text-gray-800",children:t.customerEmail})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"a ch:"}),o.jsxs("span",{className:"text-gray-800 flex-1",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]}),t.customerNote&&o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ghi ch:"}),o.jsx("span",{className:"text-gray-800 flex-1 italic",children:t.customerNote})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin vn chuyn"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-start gap-[2rem] space-y-2.5",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingProvider",children:"Nh vn chuyn"}),o.jsxs("select",{name:"shippingProvider",id:"shippingProvider",value:a.shippingProvider,className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",onChange:b=>g(b),disabled:!d,children:[o.jsx("option",{value:"",children:"-Chn nh vn chuyn-"}),Object.entries(GA).map(([b,w],N)=>o.jsx("option",{value:b,children:w.text},N))]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"trackingNumber",children:"M vn n"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"trackingNumber",name:"trackingNumber",value:a.trackingNumber,placeholder:"Nhp m vn n...",onChange:b=>g(b),disabled:!d})]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingNote",children:"Ghi ch vn chuyn"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"shippingNote",name:"shippingNote",value:a.shippingNote,placeholder:"Ghi ch vn chuyn...",onChange:b=>g(b),disabled:!d})]}),c&&o.jsx("p",{className:"text-red-500",children:c}),t.shippingProvider&&t.trackingNumber?o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==Le.COMPLETED&&o.jsx(o.Fragment,{children:d?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-white px-6 py-3 bg-green-500 rounded-lg hover:bg-green-600",onClick:x,children:"Lu thay i"}),o.jsx("button",{className:"text-gray-600 px-6 py-3 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>f(!1),children:"Hy"})]}):o.jsxs("button",{className:"text-white px-4 py-3 bg-amber-500 rounded-lg hover:bg-amber-600 flex items-center gap-2",onClick:()=>f(!0),children:[o.jsx(F,{icon:Ms}),"Chnh sa"]})})}):o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==Le.COMPLETED&&o.jsx("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>x(),children:"Cp nht vn chuyn"})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 px-[2rem] py-[1.5rem] border-b border-gray-200",children:"Sn phm t mua"}),o.jsx("div",{className:"p-[2rem]",children:o.jsxs("table",{className:"w-full text-[1.4rem]",children:[o.jsx("thead",{className:"border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left pb-3 text-gray-600 font-semibold",children:"Sn phm"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-right pb-3 text-gray-600 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(b=>{const w=b.variant.product;return o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("td",{className:"py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx("img",{src:w.mainImage||"/placeholder.jpg",alt:w.productName,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"max-w-[20rem]",children:[o.jsx("div",{className:"font-medium text-gray-800 text-limit-1",children:w.productName}),o.jsxs("div",{className:"flex items-center text-gray-500",children:[o.jsxs("span",{className:"text-[1.2rem]",children:["Size:",b.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] pl-[1rem] ml-[1rem] border-l border-l-gray-500",children:["Mu:",b.variant.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center text-gray-600",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b.price)}),o.jsxs("td",{className:"text-center text-gray-600",children:["x",b.quantity]}),o.jsx("td",{className:"text-right font-semibold text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(b.price)*Number(b.quantity))})]},b.id)})})]})})]})]}),o.jsxs("div",{className:"space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-[1.2rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800",children:v})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.shippingFee)})]}),t.couponCode&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsxs("span",{children:["M gim gi (",t.couponCode,"):"]}),o.jsx("span",{children:"-0"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem] flex justify-between",children:[o.jsx("span",{className:"font-semibold text-gray-700 text-[1.5rem]",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.8rem] text-[var(--main-button)]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.totalAmount)})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem]",children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Phng thc thanh ton:"}),o.jsx("div",{className:"font-semibold text-gray-800",children:lN[t.paymentMethod].text})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Lch s n hng"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-[1.5rem] top-0 bottom-0 w-[2px] bg-gray-200"}),o.jsx("div",{className:"space-y-[2rem]",children:mM.map((b,w)=>{const N=mM.findIndex(C=>C.key===t.status)>=w;return o.jsxs("div",{className:"flex gap-[1.5rem] relative items-start",children:[o.jsx("div",{className:`w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${N?`${b.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:b.icon,className:"text-white text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:b.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:b.desc})]})]},b.key)})})]})]}),o.jsxs("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:[t.status!==Le.COMPLETED&&o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>s({open:!0,data:t}),children:[o.jsx(F,{icon:Ws}),"Cp nht"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear",onClick:()=>p(),children:[o.jsx(F,{icon:HG}),"In n"]})]})]})]}),o.jsx(GR,{open:r.open,orderData:r.data,onClose:()=>s({open:!1,data:null}),refetch:n}),o.jsx("div",{style:{display:"none"},children:o.jsx(YR,{order:t,ref:i})})]})}function kde({open:t,orderId:e,onClose:n,refetch:r}){const[s,i]=k.useState(!1),a=async()=>{if(!e){ce.error("Khng c id ca sn phm!");return}i(!0);try{const l=await fe.delete(`/api/v1/orders/delete-order/${e}`);l.status?(ce.success(l.message||"Xa n thnh cng!"),await r(),n()):(ce.error(l.message||"Xa n khng thnh cng!"),n())}catch(l){console.log(l),n(),ce.error(l.message||"Li khng th xa n hng!")}finally{i(!1)}};return o.jsxs(ut,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>n(),children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun xa n hng ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{n()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":"Xa"})]})]})}function Tde(){const[t,e]=k.useState(null),n=k.useRef(null),[r,s]=k.useState(null),[i,a]=k.useState(null),[l,c]=k.useState({open:!1,data:null}),[u,d]=k.useState({searchOrder:"",status:""}),[f,p]=k.useState({...u,limit:20,page:1}),{data:g,isLoading:x,refetch:v}=Ae({queryKey:["orders",f],queryFn:()=>Bte(f)}),b=g&&g.data||[],w=g?.pagination?.totalPages||1,[N,C]=k.useState(!1),P=()=>{p(S=>({...S,searchOrder:u.searchOrder,status:u.status}))};return k.useEffect(()=>{if(t===null)return;const S=A=>{t!==null&&n.current&&!n.current.contains(A.target)&&e(null)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[t]),o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] overflow-y-auto bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold ",children:"n hng"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear ",children:[o.jsx(F,{icon:pY}),"Export"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear ",onClick:()=>C(!0),children:[o.jsx(F,{icon:zu}),"To n"]})]})]}),r?o.jsx(Cde,{orderDetail:r,setOrderDetail:s,refetch:v}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsxs("div",{className:"w-[28rem] h-[4rem] relative text-[1.4rem]",children:[o.jsx(F,{icon:Wn,className:"absolute left-[2rem] top-[50%] translate-[-50%] text-[1.4rem] "}),o.jsx("input",{type:"text",id:"searchOrder",name:"searchOrder",placeholder:"Nhp tm kim (st, email)...",value:u.searchOrder,className:"w-full h-full border border-gray-300 rounded-xl px-[3.8rem] outline-none",onChange:S=>d(A=>({...A,[S.target.name]:S.target.value}))})]}),o.jsxs("select",{name:"status",id:"status",value:u.status,className:"w-[20rem] h-[4rem] text-[1.4rem]  px-[1.5rem] border border-gray-300 rounded-xl outline-none",onChange:S=>d(A=>({...A,[S.target.name]:S.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),Object.entries(Le).map(([S,A])=>o.jsx("option",{value:A,children:Un(A).text},S))]}),o.jsxs("button",{className:"w-[8rem] h-[4rem] flex items-center justify-center gap-[.5rem] rounded-xl outline-none bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] hover-linear text-white cursor-pointer text-[1.4rem]",onClick:()=>P(),children:[o.jsx(F,{icon:Vr,className:" text-white"}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg mt-[2rem]",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"M n"}),o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"Khch hng"}),o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"S in thoi"}),o.jsx("th",{className:"text-start px-6 py-4  font-semibold tracking-wide",children:"Tng tin"}),o.jsx("th",{className:"text-center px-6 py-4  font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4  font-semibold tracking-wide",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):b?.length===0?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-[4rem] text-gray-500",children:"Khng c n hng no"})})}):o.jsx("tbody",{children:b?.map((S,A)=>{const M=S.id===t?.id;return o.jsxs("tr",{children:[o.jsx("td",{className:"text-left px-6 py-4  tracking-wide",children:A+1}),o.jsxs("td",{className:"text-left px-6 py-4  tracking-wide",children:["#",S.orderCode]}),o.jsx("td",{className:"text-left px-6 py-4  tracking-wide",children:o.jsxs("div",{children:[o.jsx("div",{children:S.customerName}),o.jsx("div",{className:" text-[1.2rem]",children:S.customerEmail})]})}),o.jsx("td",{className:"text-start px-6 py-4  tracking-wide",children:S.customerPhone}),o.jsx("td",{className:"text-start px-6 py-4  tracking-wide",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S.totalAmount)}),o.jsx("td",{className:"text-center px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-5 py-2 rounded-full font-medium ${Un(S.status).bgColor} ${Un(S.status).textColor}`,children:Un(S.status).text})}),o.jsx("td",{className:"text-center px-6 py-4  tracking-wide",children:o.jsxs("div",{className:"flex justify-center items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>s(S),children:[o.jsx(F,{icon:Ws}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:T=>{T.stopPropagation(),e(M?null:S)},children:o.jsx(F,{icon:L_,className:"text-[1.8rem]"})}),M&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[14rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",ref:n,children:[o.jsxs("button",{type:"button",className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:T=>{T.stopPropagation(),c({open:!0,data:t}),e(null)},children:[o.jsx(F,{icon:Ms,className:"text-amber-600"}),o.jsx("span",{className:"text-amber-600",children:"Cp nht"})]}),S.status===Le.CANCELLED||S.status===Le.PENDING&&o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{a(S.id)},children:[o.jsx(F,{icon:Vu,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa n"})]})]})]})]})})]},S.id)})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>p(S=>({...S,page:Math.max(S.page-1,1)})),disabled:f.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:w},(S,A)=>A+1).filter(S=>Math.abs(S-f.page)<=2).map(S=>o.jsx("button",{onClick:()=>p(A=>({...A,page:S})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${f.page===S?"bg-blue-500 text-white":"bg-gray-200"}`,children:S},S)),o.jsx("button",{onClick:()=>p(S=>({...S,page:Math.min(S.page+1,w)})),disabled:f.page===w,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]})]}),o.jsx(wde,{open:N,onClose:()=>C(!1),refetch:v}),o.jsx(GR,{open:l.open,orderData:l.data,onClose:()=>c({open:!1,data:null}),refetch:v}),o.jsx(kde,{open:i!==null,orderId:i,onClose:()=>a(null),refetch:v})]})}const Ede=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await fe.get("/api/v1/staff/get-staffs",{params:e})).data},sS=async()=>(await fe.get("/api/v1/cart/my-cart")).data,XR=async t=>await fe.post("/api/v1/variant/variant-by-ids",{variantIds:t}),Zh={[uo.INVENTORY]:"Qun l kho",[uo.MANAGER]:"Qun l",[uo.SALE]:"Bn hng"};Kt.ADMIN+"",Kt.STAFF+"",Kt.USER+"";const Zg={[xi.ACTIVE]:"ang lm vic",[xi.ON_LEAVE]:"Tm ngh",[xi.PROBATION]:"ang th vic",[xi.RESIGNED]:" ngh"},Mde=(t=!1)=>Yh({gender:mn().oneOf(Object.values(fl),"Gii tnh khng hp l").required("Vui lng chn gii tnh"),user:Yh().shape({username:mn().required("Tn ng nhp l bt buc"),email:mn().email("Email khng hp l").required("Email l bt buc"),password:t?mn().notRequired():mn().min(6,"Mt khu phi t 6 k t tr ln").required("Mt khu l bt buc"),phone:mn().matches(/^\d{10,15}$/,"S in thoi khng hp l").required("S in thoi l bt buc"),role:mn().oneOf(Object.values(Kt),"Vai tr khng hp l").required("Vai tr l bt buc")}),birthday:mn().required("Ngy sinh l bt buc").test("is-valid-date","Ngy sinh khng hp l",e=>e?new Date(e)<=new Date:!1),salary:au().typeError("Lng phi l s").min(1,"Vui lng thm lng").required("Lng l bt buc"),startDate:mn().required("Ngy bt u l bt buc"),position:mn().oneOf(Object.values(uo),"V tr khng hp l").required("V tr l bt buc"),avatar:Uj().optional().test("fileSize","Dung lng nh ti a 10MB",e=>e?e.size<=10*1024*1024:!0).test("fileType","Ch chp nhn nh dng .jpg, .jpeg, .png",e=>e?["image/jpeg","image/png","image/jpg"].includes(e.type):!0).test("required-on-add","Vui lng chn hnh nh",function(e){return!(!t&&!e)})}).required();function Pde({actionStaff:t,setActionStaff:e,dataUpdate:n,refetch:r}){const{handleSubmit:s,register:i,formState:{errors:a,isSubmitting:l},setValue:c,reset:u}=Qs({resolver:iR(Mde(t.action==="edit")),defaultValues:{user:{username:"",email:"",password:"",phone:"",role:Kt.STAFF},gender:fl.MALE,birthday:"",salary:0,startDate:"",position:uo.SALE,avatar:void 0},mode:"onSubmit",reValidateMode:"onChange"}),[d,f]=k.useState(null);k.useEffect(()=>{t.open&&(t.action==="add"?(u({user:{username:"",email:"",password:"",phone:"",role:Kt.STAFF},gender:fl.MALE,birthday:"",salary:0,startDate:"",position:uo.SALE,avatar:void 0}),f(null)):n&&t.action==="edit"&&(u({user:{username:n.user.username,email:n.user.email,phone:n.user.phone,role:n.user.role},gender:n.gender,birthday:n.birthday?new Date(n.birthday).toISOString().split("T")[0]:"",salary:n.salary||0,startDate:n.startDate?new Date(n.startDate).toISOString().split("T")[0]:"",position:n.position}),n.user.avatar&&f(n.user.avatar||null)))},[t.action,t.open,n,u]);const p=v=>{const b=v.target.files?.[0];if(b){c("avatar",b,{shouldValidate:!0});const w=URL.createObjectURL(b);f(w)}},g=async v=>{const b={...v,salary:Number(v.salary),birthday:v.birthday,startDate:new Date(v.startDate).toISOString().split("T")[0]};console.log(b);try{const w=t.action==="add"?"/api/v1/staff/create":`/api/v1/staff/update/${t.data?.id}`;let N=null;t.action==="add"?N=await fe.post(w,b,{headers:{"Content-Type":"multipart/form-data"}}):N=await fe.patch(w,b,{headers:{"Content-Type":"multipart/form-data"}}),N.status&&(ce.success(N.message||`${t?.action==="add"?"Thm":"Cp nht"} nhn vin thnh cng!`),e({open:!1,action:"add",data:null}),u(),await r())}catch(w){console.log(w),ce.error(w.message||`Li khng th ${t?.action==="add"?"thm":"cp nht"} nhn vin`)}},x=()=>{u(),f(null),e({open:!1,data:null,action:"add"})};return o.jsxs(ut,{open:t.open,className:"relative w-[100rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:x,children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[2rem] text-center font-semibold text-green-600",children:t.action==="edit"?"Cp nht nhn vin":"Thm nhn vin"}),o.jsxs("form",{onSubmit:s(g),children:[o.jsxs("div",{className:"w-full max-h-[50rem] overflow-auto hide-scrollbar flex gap-[2.5rem] mt-[4rem]",children:[o.jsxs("div",{className:"w-[25rem] h-auto rounded-xl flex flex-col items-center justify-start",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"nh nhn vin"}),o.jsxs("label",{htmlFor:"avatar",className:`w-[15rem] h-[15rem] flex items-center justify-center rounded-xl border-[.2rem] border-dashed ${d?"border-cyan-500":"border-gray-500"} cursor-pointer`,children:[d?o.jsx("img",{src:d,alt:"avatar",className:"w-full h-full object-cover rounded-xl"}):o.jsx(F,{icon:$r,className:"text-gray-500 text-[2.2rem]"}),o.jsx("input",{type:"file",className:"hidden",id:"avatar",onChange:p})]}),a.avatar&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem] mt-[.5rem]",children:a.avatar.message})]}),o.jsxs("div",{className:"flex-1 border-l border-l-gray-300 pl-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"Thng tin nhn vin"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"staffName",children:"Tn nhn vin"}),o.jsx("input",{type:"text",id:"staffName",placeholder:"Nhp tn...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.username")}),a.user?.username&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.username.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"Nhp email...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.email")}),a.user?.email&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.email.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[t.action==="add"&&o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"password",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",placeholder:"Nhp mt khu...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.password")}),a.user?.password&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.password.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"phone",children:"S in thoi"}),o.jsx("input",{type:"tel",id:"phone",placeholder:"Nhp s in thoi...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.phone")}),a.user?.phone&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.phone.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"gender",children:"Gii tnh"}),o.jsxs("select",{id:"gender",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("gender"),children:[o.jsx("option",{value:fl.MALE,children:"Nam"}),o.jsx("option",{value:fl.FEMALE,children:"N"})]}),a.gender&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.gender.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"birthday",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("birthday")}),a.birthday&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.birthday.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"salary",children:"Lng"}),o.jsx("input",{type:"number",id:"salary",placeholder:"Nhp lng...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("salary")}),a.salary&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.salary.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"startDate",children:"Ngy bt u"}),o.jsx("input",{type:"date",id:"startDate",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("startDate")}),a.startDate&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.startDate.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"position",children:"V tr"}),o.jsx("select",{id:"position",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("position"),children:Object.entries(Zh).map(([v,b],w)=>o.jsx("option",{value:v,children:b},w))}),a.position&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.position.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",type:"button",onClick:x,disabled:l,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",type:"submit",disabled:l,children:l?"ang x l...":t.action==="edit"?"Cp nht":"Thm"})]})]}),l&&o.jsx(Po,{})]})}function Ade({openDelete:t,setOpenDelete:e,refetch:n}){const[r,s]=k.useState(!1),i=async()=>{try{s(!0);const a=await fe.delete(`/api/v1/staff/delete/${t}`);a.status&&(ce.success(a.message||"Xa nhn vin thnh cng!"),await n(),e(null),s(!1))}catch(a){console.log(a),ce.error(a.message||"Li khng th xa nhn vin!")}finally{s(!1)}};return o.jsxs(ut,{open:!!t,className:"relative bg-white rounded-lg shadow-lg w-[50rem] p-[2.5rem]",children:[o.jsx("button",{className:"absolute top-[1rem] right-[1rem] text-gray-500 hover:text-gray-600 w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>e(null),children:o.jsx(F,{icon:Ct})}),o.jsx("div",{className:"mb-6",children:o.jsx("p",{className:"text-gray-600 text-[1.8rem]",children:"Bn c chc chn mun xa nhn vin ny khng?"})}),o.jsxs("div",{className:"flex justify-end gap-[1rem] mt-[3rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e(null),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>i(),children:"Xa"})]}),r&&o.jsx(Po,{})]})}function Ode({staff:t,onClose:e}){if(!t)return null;const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=i=>({MALE:"Nam",FEMALE:"N",OTHER:"Khc"})[i]||i;return o.jsx(ut,{open:!!t,className:"fixed inset-0 flex items-center justify-center z-[300] p-[2rem]",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[90rem] max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"relative bg-gradient-to-r px-[3rem] py-[2rem]",children:[o.jsx("div",{children:o.jsx("h2",{className:"text-[2rem] font-bold text-gray-600 mb-[.5rem]",children:"Thng tin chi tit nhn vin"})}),o.jsx("button",{onClick:e,className:"absolute top-[1rem] right-[1rem] w-[4rem] h-[4rem] bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-600 hover-linear backdrop-blur-sm",children:o.jsx(F,{icon:Kn,className:"text-[2rem]"})})]}),o.jsx("div",{className:"overflow-y-auto hide-scrollbar flex-1 px-[3rem] pt-[2rem]",children:o.jsxs("div",{className:"grid grid-cols-12 gap-[2.5rem]",children:[o.jsxs("div",{className:"col-span-4 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-[2.5rem] border border-indigo-100 text-center",children:[o.jsx("div",{className:"w-[16rem] h-[16rem] mx-auto mb-[2rem] rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-[6rem] font-bold shadow-lg",children:t.user?.avatar?o.jsx("img",{src:t.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):t.user?.username?.charAt(0).toUpperCase()||"?"}),o.jsx("h3",{className:"text-[2.2rem] font-bold text-gray-800 mb-[.5rem]",children:t.user?.username||"Cha cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-500 mb-[1.5rem]",children:Zh[t.position]||"Cha cp nht"}),o.jsxs("span",{className:`inline-flex items-center gap-[.8rem] px-[1.6rem] py-[.8rem] rounded-full text-[1.4rem] font-semibold ${t.status===xi.ACTIVE?"bg-green-100 text-green-700":t.status===xi.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[o.jsx(F,{icon:Wl}),Zg[t.status]||"Cha cp nht"]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2rem] border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"text-[1.4rem] font-semibold text-gray-700 mb-[1.5rem] flex items-center gap-[1rem]",children:[o.jsx(F,{icon:s1,className:"text-indigo-600"}),"Thng k nhanh"]}),o.jsxs("div",{className:"space-y-[1.2rem]",children:[o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Lng c bn"}),o.jsx("span",{className:"text-[1.5rem] font-bold text-green-600",children:n(t.salary)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Ngy bt u"}),o.jsx("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:r(t.startDate)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem]",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thi gian lm vic"}),o.jsxs("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:[Math.floor((new Date().getTime()-new Date(t.startDate).getTime())/(1e3*60*60*24*30))," ","thng"]})]})]})]})]}),o.jsxs("div",{className:"col-span-8 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:Ji,className:"text-indigo-600"}),"Thng tin c nhn"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:oY,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"M nhn vin"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.staffCode})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Ji,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"H v tn"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.user?.username||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:aY,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"S in thoi"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:t.user?.phone||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:kG,className:"text-[1.8rem] text-red-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Email"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 break-all",children:t.user?.email||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-pink-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:WG,className:"text-[1.8rem] text-pink-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Gii tnh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:s(t.gender)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-yellow-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:vY,className:"text-[1.8rem] text-yellow-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy sinh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.birthday)})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:s1,className:"text-purple-600"}),"Thng tin cng vic"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:s1,className:"text-[1.8rem] text-indigo-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"V tr"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:Zh[t.position]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Wl,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Trng thi"}),o.jsx("span",{className:`inline-block px-[1.2rem] py-[.6rem] rounded-lg text-[1.4rem] font-semibold ${t.status===xi.ACTIVE?"bg-green-100 text-green-700":t.status===xi.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:Zg[t.status]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Kp,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Lng c bn"}),o.jsx("p",{className:"text-[1.8rem] text-green-600 font-bold",children:n(t.salary)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Gp,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy bt u lm vic"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.startDate)})]})]})]})]}),t.user&&o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:N2,className:"text-orange-600"}),"a ch"]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-orange-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:N2,className:"text-[1.8rem] text-orange-600"})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-[1.4rem] text-gray-900 leading-relaxed",children:t.address||"Cha cp nht a ch"})})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-[2.5rem] border border-gray-200 mb-[2rem]",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:e1,className:"text-gray-600"}),"Thng tin h thng"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:e1,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy to"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.createdAt)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:e1,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.updatedAt)})]})]})]})]})]})]})}),o.jsx("div",{className:"px-[3rem] py-[1rem] bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex justify-end gap-[1.5rem]",children:o.jsx("button",{onClick:e,className:"px-[2rem] py-[.8rem] text-[1.5rem] font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 hover-linear shadow-sm",children:"ng"})})]})})}function _de(){const[t,e]=k.useState({search:"",status:"",position:"",limit:10,page:1}),[n,r]=k.useState({search:"",status:"",position:"",limit:10,page:1}),[s,i]=k.useState({action:"add",open:!1,data:null}),[a,l]=k.useState(null),c=k.useRef(null),[u,d]=k.useState(null),[f,p]=k.useState(null),{data:g,isLoading:x,refetch:v}=Ae({queryKey:["staffs",t],queryFn:()=>Ede(t)});k.useEffect(()=>{if(!a)return;const w=N=>{a!==null&&c.current&&!c.current.contains(N.target)&&l(null)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[a]);const b=()=>{e(w=>({...w,search:n.search,status:n.status,limit:n.limit,page:n.page,position:n.position}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b border-b-gray-300 pb-8",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Danh sch nhn vin"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-[.5rem] items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear",onClick:()=>i({open:!0,data:null,action:"add"}),children:[o.jsx(F,{icon:$r}),o.jsx("p",{children:"Thm nhn vin"})]})})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsx("input",{type:"text",id:"search",name:"search",value:n.search,placeholder:"Nhp tm kim (tn, st)...",className:"border border-gray-300 w-[36rem] h-[4rem] rounded-lg pl-[1.5rem] outline-none text-gray-600 select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value}))}),o.jsxs("select",{name:"status",id:"status",value:n.status,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"Trng thi"}),Object.entries(Zg).map(([w,N])=>o.jsx("option",{value:w,children:N},w))]}),o.jsxs("select",{name:"position",id:"position",value:n.position,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"V tr"}),Object.entries(Zh).map(([w,N])=>o.jsx("option",{value:w,children:N},w))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] h-[4rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white",onClick:()=>b(),children:[o.jsx(F,{icon:Vr}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full border border-gray-300 mt-[2rem] text-[1.4rem] select-none",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"STT"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"H tn"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"in thoi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"V tr"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Trng thi"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):o.jsx("tbody",{children:g.map(w=>o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:w.staffCode}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.username}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.phone}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:Zh[w.position]}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:Zg[w.status]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:o.jsxs("div",{className:"flex justify-end items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>p(w),children:[o.jsx(F,{icon:Ws}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",ref:c,children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:()=>l(w),children:o.jsx(F,{icon:L_,className:"text-[1.8rem]"})}),a?.id===w.id&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[12rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{},children:[o.jsx(F,{icon:Ws,className:"text-green-600"}),o.jsx("span",{className:"text-green-600",onClick:()=>{i({open:!0,data:a,action:"edit"}),l(null)},children:"Cp nht"})]}),o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{d(w.id),l(null)},children:[o.jsx(F,{icon:Vu,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa"})]})]})]})]})})]},w.id))})]}),o.jsx(Pde,{actionStaff:s,setActionStaff:i,dataUpdate:s.data,refetch:v}),u&&o.jsx(Ade,{openDelete:u,setOpenDelete:d,refetch:v}),o.jsx(Ode,{staff:f,onClose:()=>p(null)})]})}function Dde(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-2xl mb-6",children:"Oops! Trang bn tm khng tn ti."}),o.jsx(Ze,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function pM({children:t,roles:e,redirectTo:n}){const{user:r,loading:s}=kt();return s?o.jsx(Po,{}):r?e&&!e?.includes(r?.role)?o.jsx(lu,{to:"/unauthorized",replace:!0}):o.jsx(o.Fragment,{children:t}):n?o.jsx(lu,{to:n,replace:!0}):o.jsx(lu,{to:"/login",replace:!0})}function Ide(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"403"}),o.jsx("p",{className:"text-xl mb-6",children:"Bn khng c quyn truy cp trang ny"}),o.jsx(Ze,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function Lde({children:t}){const{user:e}=kt();return e&&(e.role===Kt.ADMIN||e.role===Kt.STAFF)?o.jsx(lu,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function Rde(){const{register:t}=ac(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:s}}=Qs({defaultValues:{email:"",password:"",phone:"",username:""}}),[i,a]=k.useState(null),l=tt(),[c,u]=k.useState(!1),[d,f]=k.useState(!1),p=async g=>{try{await t({email:g.email,password:g.password,phone:g.phone,username:g.username}),l("/customer/account/profile")}catch(x){console.log(x),ce.error(x.message||"ng k ti khon tht bi!")}};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-orange-300 to-orange-600 rounded-full mx-auto mb-2 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng k"})]}),o.jsxs("form",{onSubmit:n(p),className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"H v tn"}),o.jsx("input",{type:"username",id:"username",placeholder:"username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("username",{required:"H tn khng c b trng"})}),r.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.username.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"your@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("email",{required:"Email khng c b trng",pattern:{value:/^\S+@\S+\.\S+$/,message:"Email khng hp l"}})}),r.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",placeholder:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("password",{required:"Mt khu khng c b trng",minLength:{value:6,message:"Mt khu phi t nht 6 k t"}})}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(F,{icon:Ws,className:"text-gray-600"}):o.jsx(F,{icon:IN,className:"text-gray-600"})})]}),r.password&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.password.message})]}),i&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-[1.2rem] text-red-600",children:i})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block font-medium text-gray-700 mb-2",children:"S in thoi"}),o.jsx("input",{type:"phone",id:"phone",placeholder:"Nhp s in thoi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("phone",{required:"S in thoi khng c b trng",pattern:{value:/^[0-9]{10}$/,message:"S in thoi phi gm 10 ch s"}})}),r.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.phone.message})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition mt-[1.8rem] ${s?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-orange-300 to-orange-600 hover:from-orange-400 hover:to-orange-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:s,children:s?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng k"})]}),o.jsx("div",{className:"mt-6 space-y-3 text-center",children:o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Bn  c ti khon?"," ",o.jsx(Ze,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng nhp"})]})})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>l("/admin/Register"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>u(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),s&&o.jsx(Po,{})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Fde={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M203.7 512.9s0 0 0 0l-37.8 26.7c-7.3 5.2-16.9 5.8-24.9 1.7S128 529 128 520l0-72-32 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120.4 0-91.9 64.9zm64.3-104.1c8.1-5.7 17.8-8.8 27.7-8.8L416 400c26.5 0 48-21.5 48-48l0-224c0-26.5-21.5-48-48-48L96 80c-26.5 0-48 21.5-48 48l0 224c0 26.5 21.5 48 48 48l56 0c10.4 0 19.3 6.6 22.6 15.9 .9 2.5 1.4 5.2 1.4 8.1l0 49.7c32.7-23.1 63.3-44.7 91.9-64.9z"]},zde={prefix:"far",iconName:"paper-plane",icon:[576,512,[61913],"f1d8","M290.5 287.7L491.4 86.9 359 456.3 290.5 287.7zM457.4 53L256.6 253.8 88 185.3 457.4 53zM38.1 216.8l205.8 83.6 83.6 205.8c5.3 13.1 18.1 21.7 32.3 21.7 14.7 0 27.8-9.2 32.8-23.1L570.6 8c3.5-9.8 1-20.6-6.3-28s-18.2-9.8-28-6.3L39.4 151.7c-13.9 5-23.1 18.1-23.1 32.8 0 14.2 8.6 27 21.7 32.3z"]},Vde={prefix:"far",iconName:"image",icon:[448,512,[],"f03e","M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm128 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm136 72c8.5 0 16.4 4.5 20.7 11.8l80 136c4.4 7.4 4.4 16.6 .1 24.1S352.6 384 344 384l-240 0c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l17.2 24.6 46.5-79c4.3-7.3 12.2-11.8 20.7-11.8z"]},QR={prefix:"far",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M171.5 38.8C192.3 4 236.5-10 274 7.6l7.2 3.8C316 32.3 330 76.5 312.4 114l0 0-14.1 30 109.7 0 7.4 .4c36.3 3.7 64.6 34.4 64.6 71.6 0 13.2-3.6 25.4-9.8 36 6.1 10.6 9.7 22.8 9.8 36 0 18.3-6.9 34.8-18 47.5 1.3 5.3 2 10.8 2 16.5 0 25.1-12.9 47-32.2 59.9-1.9 35.5-29.4 64.2-64.4 67.7l-7.4 .4-104.1 0c-18 0-35.9-3.4-52.6-9.9l-7.1-3-.7-.3-6.6-3.2-.7-.3-12.2-6.5c-12.3-6.5-23.3-14.7-32.9-24.1-4.1 26.9-27.3 47.4-55.3 47.4l-32 0c-30.9 0-56-25.1-56-56L0 200c0-30.9 25.1-56 56-56l32 0c10.8 0 20.9 3.1 29.5 8.5l50.1-106.5 .6-1.2 2.7-5 .6-.9zM56 192c-4.4 0-8 3.6-8 8l0 224c0 4.4 3.6 8 8 8l32 0c4.4 0 8-3.6 8-8l0-224c0-4.4-3.6-8-8-8l-32 0zM253.6 51c-14.8-6.9-32.3-1.6-40.7 12l-2.2 4-56.8 120.9c-3.5 7.5-5.5 15.5-6 23.7l-.1 4.2 0 112.9 .2 7.9c2.4 32.7 21.4 62.1 50.7 77.7l11.5 6.1 6.3 3.1c12.4 5.6 25.8 8.5 39.4 8.5l104.1 0 2.4-.1c12.1-1.2 21.6-11.5 21.6-23.9l-.2-2.6c-.1-.9-.2-1.7-.4-2.6-2.7-12.1 4.3-24.2 16-28 9.7-3.1 16.6-12.2 16.6-22.8 0-4.3-1.1-8.2-3.1-11.8-6.3-11.1-2.8-25.2 8-32 6.8-4.3 11.2-11.8 11.2-20.2 0-7.1-3.1-13.5-8.2-18-5.2-4.6-8.2-11.1-8.2-18s3-13.4 8.2-18c5.1-4.5 8.2-10.9 8.2-18l-.1-2.4c-1.1-11.3-10.1-20.3-21.4-21.4l-2.4-.1-147.5 0c-8.2 0-15.8-4.2-20.2-11.1-4.4-6.9-5-15.7-1.5-23.1L269 93.6c7-15 1.4-32.7-12.5-41L253.6 51z"]},iS={prefix:"far",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M144 128a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zm208 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0zM48 480c0-70.7 57.3-128 128-128l96 0c70.7 0 128 57.3 128 128l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8c0-97.2-78.8-176-176-176l-96 0C78.8 304 0 382.8 0 480l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8z"]},JR={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M288.1-32c9 0 17.3 5.1 21.4 13.1L383 125.3 542.9 150.7c8.9 1.4 16.3 7.7 19.1 16.3s.5 18-5.8 24.4L441.7 305.9 467 465.8c1.4 8.9-2.3 17.9-9.6 23.2s-17 6.1-25 2L288.1 417.6 143.8 491c-8 4.1-17.7 3.3-25-2s-11-14.2-9.6-23.2L134.4 305.9 20 191.4c-6.4-6.4-8.6-15.8-5.8-24.4s10.1-14.9 19.1-16.3l159.9-25.4 73.6-144.2c4.1-8 12.4-13.1 21.4-13.1zm0 76.8L230.3 158c-3.5 6.8-10 11.6-17.6 12.8l-125.5 20 89.8 89.9c5.4 5.4 7.9 13.1 6.7 20.7l-19.8 125.5 113.3-57.6c6.8-3.5 14.9-3.5 21.8 0l113.3 57.6-19.8-125.5c-1.2-7.6 1.3-15.3 6.7-20.7l89.8-89.9-125.5-20c-7.6-1.2-14.1-6-17.6-12.8L288.1 44.8z"]};const gM=[{id:1,icon:iS,iconColor:"text-blue-500",label:"Ti khon ca ti",path:"account",children:[{id:11,label:"H s",path:"account/profile"},{id:12,label:"a ch",path:"account/address"},{id:13,label:"Thit lp ring",path:"account/privacy"}]},{id:2,icon:PN,iconColor:"text-blue-500",label:"n hng ca ti",path:"order"},{id:3,icon:ON,iconColor:"text-pink-500",label:"Voucher ca ti",path:"my-voucher"},{id:4,icon:R_,iconColor:"text-red-500",label:"Sn phm yu thch",path:"favorite"}];function $de(){const{user:t}=kt(),e=tt(),n=ur(),[r,s]=k.useState([]);k.useEffect(()=>{const l=n.pathname;gM.forEach(c=>{c.children&&c.children.some(d=>l.includes(d.path))&&!r.includes(c.id)&&s(d=>[...d,c.id])})},[n.pathname]);const i=l=>{if(!l.children)return e(l.path);s(c=>c.includes(l.id)?c.filter(u=>u!==l.id):[...c,l.id])},a=l=>n.pathname.includes(l);return o.jsx("div",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] mt-[20rem] md:mt-[1rem]",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-0",children:[o.jsxs("div",{className:"hidden md:block w-full lg:w-[24rem] h-auto py-[1rem] px-[1rem] sm:px-[2rem] bg-white lg:bg-transparent rounded-md lg:rounded-none shadow-md lg:shadow-none",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:t?.avatar?o.jsx("img",{src:t?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:iS,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:t?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600",children:[o.jsx(F,{icon:Ms}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsx("nav",{className:"mt-[2rem] sm:mt-[3rem] space-y-2",children:gM.map(l=>o.jsxs("div",{className:"text-gray-800",onClick:()=>i(l),children:[o.jsxs("div",{className:"flex items-center gap-[1rem] cursor-pointer group py-2",children:[o.jsx(F,{icon:l.icon,className:`${l.iconColor} flex-shrink-0`}),o.jsx("span",{className:"group-hover:text-red-500 transition duration-150",children:l.label})]}),o.jsx("div",{className:`mt-[1.2rem] ${r&&r.length>0&&r?.includes(l.id)?"h-auto":"h-[0rem] overflow-hidden"} transition duration-300`,children:l.children&&l.children?.map(c=>{const u=a(c.path);return o.jsxs(Ze,{to:c.path,className:"block pl-[2rem] sm:pl-[3rem] space-y-6 text-start text-gray-600 cursor-pointer group",onClick:d=>d.stopPropagation(),children:[o.jsx("span",{className:`block group-hover:text-red-500 transition duration-150 ${u?"text-red-500":"text-gray-600"}`,children:c.label}),o.jsx("div",{})]},c.id)})})]},l.id))})]}),o.jsx("div",{className:"flex-1 w-full min-h-[calc(100vh-20rem)] bg-white shadow-md mb-[2rem] rounded-md",children:o.jsx(ic,{})})]})})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Bde={prefix:"fab",iconName:"google",icon:[512,512,[],"f1a0","M500 261.8C500 403.3 403.1 504 260 504 122.8 504 12 393.2 12 256S122.8 8 260 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9c-88.3-85.2-252.5-21.2-252.5 118.2 0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9l-140.8 0 0-85.3 236.1 0c2.3 12.7 3.9 24.9 3.9 41.4z"]},Hde={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},ZR={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},Ude={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]},Wde={prefix:"fab",iconName:"square-facebook",icon:[448,512,["facebook-square"],"f082","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l98.2 0 0-145.8-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 145.8 129 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]};const e8="/manage-sell-client/assets/cart_empty-Clt3I79b.png";function qde({showCart:t,setShowCart:e}){const{user:n}=kt(),r=Xs(),s=tt(),[i,a]=k.useState([]),[l,c]=k.useState([]),{data:u}=Ae({queryKey:["cart"],queryFn:sS,enabled:!!n});k.useEffect(()=>{if(n)if(u&&u.length>0){const g=u[0].items.map(x=>({id:x.variant.id,product:x.variant.product,variantSize:x.variant.variantSize,variantColor:x.variant.variantColor,price:x.price,quantity:x.quantity,inventory:x.variant.inventory}));a(g)}else a([]);else{const p=n?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(c(p),p.length===0){a([]);return}const g=p.map(v=>v.variantId);(async()=>{try{const v=await XR(g);if(v.status){const b=v.data.map(w=>{const N=p.find(C=>C.variantId===w.id);return{...w,quantity:N.quantity||1}});a(b)}}catch(v){console.log(v),ce.error(v.message)}})()}},[n,u,t]);const d=async(p,g)=>{const x=i.map(w=>w.id===p?{...w,quantity:g==="incre"?Math.min(w.inventory,w.quantity+1):Math.max(1,w.quantity-1)}:w);a(x);const v=x.find(w=>w.id===p).quantity,b={variantId:p,quantity:v};if(n)try{if((await fe.patch("/api/v1/cart-items/update-quantity",b)).status)return}catch(w){ce.error(w.message)}else{const w=l.map(N=>N.variantId===p?{...N,quantity:v}:N);localStorage.setItem("localCart",JSON.stringify(w))}},f=async p=>{const g=i.filter(x=>x.id!==p);if(a(g),n)try{if((await fe.delete(`/api/v1/cart-items/${p}`)).status){r.invalidateQueries({queryKey:["cart"]});return}}catch(x){ce.error(x.message)}else{const x=l.filter(v=>v.variantId!==p);localStorage.setItem("localCart",JSON.stringify(x)),window.dispatchEvent(new Event("localStorageUpdate"))}};return o.jsx(ut,{open:t,className:"w-[90%] md:w-[50rem] max-h-[55rem] bg-white rounded-md shadow-xl overflow-hidden px-2 py-4 md:p-5",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[o.jsx(F,{icon:MN,className:"text-red-500"}),o.jsxs("div",{className:"text-[1.4rem] md:text-[1.6rem] font-semibold text-gray-700",children:["GI HNG (",i?.length,")"]}),o.jsx("span",{className:"ml-auto cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1),children:o.jsx(F,{icon:Kn,className:"text-gray-600"})})]}),i?.length>0?o.jsx("div",{className:"overflow-y-auto hide-scrollbar max-h-[40rem]",children:i.map(p=>o.jsxs(Ze,{to:`/product-detail/${p.product.slug}`,className:"flex items-center justify-between p-4 md:p-5 border-b border-gray-200",children:[o.jsxs("div",{className:" flex items-center gap-[1rem]",children:[o.jsx("img",{src:p.product.mainImage,alt:"",className:"w-[4.8rem] h-[4.8rem] rounded-md object-cover"}),o.jsxs("div",{className:"w-[20rem]",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-800 text-limit-1",children:p.product.productName}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-[1rem]",children:[o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Size: ",o.jsx("span",{className:"",children:p.variantSize.name})]}),o.jsx("span",{className:"block h-[1.2rem] border-l border-l-gray-400"}),o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Mu: ",o.jsx("span",{className:"",children:p.variantColor.name})]})]}),o.jsx("div",{className:"text-red-500 text-[1rem] md:text-[1.4rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p.product.price)||Number(p.price))})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"decre"),children:o.jsx(F,{icon:Ul,className:"text-[1.2rem] text-gray-600"})}),o.jsx("span",{className:"text-gray-600 text-[1.2rem] md:text-[1.4rem]",children:p.quantity}),o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"incre"),children:o.jsx(F,{icon:$r,className:"text-[1.2rem] text-gray-600"})})]}),o.jsx("div",{children:o.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),g.preventDefault(),f(p.id)},children:o.jsx(F,{icon:Vu,className:"text-red-500 cursor-pointer ml-2"})})})]},p.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("img",{src:e8,alt:"cart empty",className:"w-40"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"Khng c sn phm trong gi hng"})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem] text-[1.2rem] md:text-[1.6rem]",children:[o.jsx("button",{className:"px-[2rem] h-[3.5rem] rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300 transition duration-300",onClick:()=>e(!1),children:"ng"}),o.jsx("button",{type:"button",className:"px-[2rem] h-[3.5rem] flex items-center rounded-md from-pink-400 to-red-500 bg-gradient-to-r hover:from-pink-500 hover:to-red-600 text-white transition duration-300",onClick:()=>{e(!1),s("/cart/detail")},children:"Chi tit gi hng"})]})]})})}const Kde=()=>{const{user:t}=kt(),[e,n]=k.useState(0),{data:r}=Ae({queryKey:["cart"],queryFn:sS,enabled:!!t,refetchOnWindowFocus:!1});return k.useEffect(()=>{if(t&&r&&r.length>0){const s=r[0].items.reduce((i,a)=>i+a.quantity,0);n(s)}else t&&(!r||r.length===0)&&n(0)},[t,r]),k.useEffect(()=>{if(!t){const i=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((l,c)=>l+c.quantity,0);n(i);const a=()=>{const c=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((u,d)=>u+d.quantity,0);n(c)};return window.addEventListener("storage",a),window.addEventListener("localStorageUpdate",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("localStorageUpdate",a)}}},[t]),e},t8=async t=>{let e=null;return t&&(e=Object.values(t).filter(r=>r!=="")),await fe.get("/api/v1/voucher/get-vouchers",{...t&&e?{params:e.join("/")}:{}})},aS=async()=>await fe.get("/api/v1/voucher/get-saved-voucher");var cg={exports:{}},Gde=cg.exports,xM;function Yde(){return xM||(xM=1,(function(t,e){(function(n,r){t.exports=r()})(Gde,(function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",d="week",f="month",p="quarter",g="year",x="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var q=["th","st","nd","rd"],z=U%100;return"["+U+(q[(z-20)%10]||q[z]||q[0])+"]"}},C=function(U,q,z){var B=String(U);return!B||B.length>=q?U:""+Array(q+1-B.length).join(z)+U},P={s:C,z:function(U){var q=-U.utcOffset(),z=Math.abs(q),B=Math.floor(z/60),$=z%60;return(q<=0?"+":"-")+C(B,2,"0")+":"+C($,2,"0")},m:function U(q,z){if(q.date()<z.date())return-U(z,q);var B=12*(z.year()-q.year())+(z.month()-q.month()),$=q.clone().add(B,f),Q=z-$<0,H=q.clone().add(B+(Q?-1:1),f);return+(-(B+(z-$)/(Q?$-H:H-$))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:f,y:g,w:d,d:u,D:x,h:c,m:l,s:a,ms:i,Q:p}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},S="en",A={};A[S]=N;var M="$isDayjsObject",T=function(U){return U instanceof R||!(!U||!U[M])},_=function U(q,z,B){var $;if(!q)return S;if(typeof q=="string"){var Q=q.toLowerCase();A[Q]&&($=Q),z&&(A[Q]=z,$=Q);var H=q.split("-");if(!$&&H.length>1)return U(H[0])}else{var V=q.name;A[V]=q,$=V}return!B&&$&&(S=$),$||!B&&S},I=function(U,q){if(T(U))return U.clone();var z=typeof q=="object"?q:{};return z.date=U,z.args=arguments,new R(z)},D=P;D.l=_,D.i=T,D.w=function(U,q){return I(U,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var R=(function(){function U(z){this.$L=_(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[M]=!0}var q=U.prototype;return q.parse=function(z){this.$d=(function(B){var $=B.date,Q=B.utc;if($===null)return new Date(NaN);if(D.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var H=$.match(b);if(H){var V=H[2]-1||0,Y=(H[7]||"0").substring(0,3);return Q?new Date(Date.UTC(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Y)):new Date(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Y)}}return new Date($)})(z),this.init()},q.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},q.$utils=function(){return D},q.isValid=function(){return this.$d.toString()!==v},q.isSame=function(z,B){var $=I(z);return this.startOf(B)<=$&&$<=this.endOf(B)},q.isAfter=function(z,B){return I(z)<this.startOf(B)},q.isBefore=function(z,B){return this.endOf(B)<I(z)},q.$g=function(z,B,$){return D.u(z)?this[B]:this.set($,z)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(z,B){var $=this,Q=!!D.u(B)||B,H=D.p(z),V=function(xe,Se){var rt=D.w($.$u?Date.UTC($.$y,Se,xe):new Date($.$y,Se,xe),$);return Q?rt:rt.endOf(u)},Y=function(xe,Se){return D.w($.toDate()[xe].apply($.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(Se)),$)},Z=this.$W,ee=this.$M,le=this.$D,ge="set"+(this.$u?"UTC":"");switch(H){case g:return Q?V(1,0):V(31,11);case f:return Q?V(1,ee):V(0,ee+1);case d:var te=this.$locale().weekStart||0,de=(Z<te?Z+7:Z)-te;return V(Q?le-de:le+(6-de),ee);case u:case x:return Y(ge+"Hours",0);case c:return Y(ge+"Minutes",1);case l:return Y(ge+"Seconds",2);case a:return Y(ge+"Milliseconds",3);default:return this.clone()}},q.endOf=function(z){return this.startOf(z,!1)},q.$set=function(z,B){var $,Q=D.p(z),H="set"+(this.$u?"UTC":""),V=($={},$[u]=H+"Date",$[x]=H+"Date",$[f]=H+"Month",$[g]=H+"FullYear",$[c]=H+"Hours",$[l]=H+"Minutes",$[a]=H+"Seconds",$[i]=H+"Milliseconds",$)[Q],Y=Q===u?this.$D+(B-this.$W):B;if(Q===f||Q===g){var Z=this.clone().set(x,1);Z.$d[V](Y),Z.init(),this.$d=Z.set(x,Math.min(this.$D,Z.daysInMonth())).$d}else V&&this.$d[V](Y);return this.init(),this},q.set=function(z,B){return this.clone().$set(z,B)},q.get=function(z){return this[D.p(z)]()},q.add=function(z,B){var $,Q=this;z=Number(z);var H=D.p(B),V=function(ee){var le=I(Q);return D.w(le.date(le.date()+Math.round(ee*z)),Q)};if(H===f)return this.set(f,this.$M+z);if(H===g)return this.set(g,this.$y+z);if(H===u)return V(1);if(H===d)return V(7);var Y=($={},$[l]=r,$[c]=s,$[a]=n,$)[H]||1,Z=this.$d.getTime()+z*Y;return D.w(Z,this)},q.subtract=function(z,B){return this.add(-1*z,B)},q.format=function(z){var B=this,$=this.$locale();if(!this.isValid())return $.invalidDate||v;var Q=z||"YYYY-MM-DDTHH:mm:ssZ",H=D.z(this),V=this.$H,Y=this.$m,Z=this.$M,ee=$.weekdays,le=$.months,ge=$.meridiem,te=function(Se,rt,Ge,Oe){return Se&&(Se[rt]||Se(B,Q))||Ge[rt].slice(0,Oe)},de=function(Se){return D.s(V%12||12,Se,"0")},xe=ge||function(Se,rt,Ge){var Oe=Se<12?"AM":"PM";return Ge?Oe.toLowerCase():Oe};return Q.replace(w,(function(Se,rt){return rt||(function(Ge){switch(Ge){case"YY":return String(B.$y).slice(-2);case"YYYY":return D.s(B.$y,4,"0");case"M":return Z+1;case"MM":return D.s(Z+1,2,"0");case"MMM":return te($.monthsShort,Z,le,3);case"MMMM":return te(le,Z);case"D":return B.$D;case"DD":return D.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return te($.weekdaysMin,B.$W,ee,2);case"ddd":return te($.weekdaysShort,B.$W,ee,3);case"dddd":return ee[B.$W];case"H":return String(V);case"HH":return D.s(V,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return xe(V,Y,!0);case"A":return xe(V,Y,!1);case"m":return String(Y);case"mm":return D.s(Y,2,"0");case"s":return String(B.$s);case"ss":return D.s(B.$s,2,"0");case"SSS":return D.s(B.$ms,3,"0");case"Z":return H}return null})(Se)||H.replace(":","")}))},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(z,B,$){var Q,H=this,V=D.p(B),Y=I(z),Z=(Y.utcOffset()-this.utcOffset())*r,ee=this-Y,le=function(){return D.m(H,Y)};switch(V){case g:Q=le()/12;break;case f:Q=le();break;case p:Q=le()/3;break;case d:Q=(ee-Z)/6048e5;break;case u:Q=(ee-Z)/864e5;break;case c:Q=ee/s;break;case l:Q=ee/r;break;case a:Q=ee/n;break;default:Q=ee}return $?Q:D.a(Q)},q.daysInMonth=function(){return this.endOf(f).$D},q.$locale=function(){return A[this.$L]},q.locale=function(z,B){if(!z)return this.$L;var $=this.clone(),Q=_(z,B,!0);return Q&&($.$L=Q),$},q.clone=function(){return D.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},U})(),G=R.prototype;return I.prototype=G,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",f],["$y",g],["$D",x]].forEach((function(U){G[U[1]]=function(q){return this.$g(q,U[0],U[1])}})),I.extend=function(U,q){return U.$i||(U(q,R,I),U.$i=!0),I},I.locale=_,I.isDayjs=T,I.unix=function(U){return I(1e3*U)},I.en=A[S],I.Ls=A,I.p={},I}))})(cg)),cg.exports}var Xde=Yde();const gn=ff(Xde);function qu({showNotify:t,content:e,duration:n,onClose:r,isSuccess:s=!0}){return o.jsxs(ut,{open:t,duration:n,onClose:r,className:"flex flex-col justify-center items-center gap-[1rem] min-w-[30rem] max-w-[50rem] min-h-[10rem] bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:`w-[4rem] h-[4rem] rounded-full ${s?"bg-green-500":"bg-red-500"} flex items-center justify-center`,children:s?o.jsx(F,{icon:ss,className:"text-[2rem] text-white"}):o.jsx(F,{icon:JG,className:"text-[2rem] text-white"})}),o.jsx("div",{className:"text-gray-600 select-none ",children:e})]})}function Qde({open:t,onClose:e,vouchers:n}){const{user:r}=kt(),s=tt(),[i,a]=k.useState({open:!1,content:"",isSuccess:!1}),{data:l,isLoading:c,refetch:u}=Ae({queryKey:["getSavedVouchers"],queryFn:()=>aS(),enabled:!!r}),d=l&&l.data;if(!n)return null;const f=x=>gn(x).format("HH:mm DD/MM/YYYY"),p=x=>{navigator.clipboard.writeText(x.voucherCode).then(()=>{a({open:!0,content:" sao chp m!",isSuccess:!0})}).catch(()=>{a({open:!0,content:"Sao chp m khng thnh cng!",isSuccess:!1})})},g=async x=>{try{(await fe.post(`/api/v1/voucher/save-voucher/${x.voucherCode}`)).status&&(a({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await u())}catch(v){console.log(v),a({open:!0,content:"Lu m khng thnh cng!",isSuccess:!1})}};return o.jsxs(o.Fragment,{children:[o.jsxs(ut,{open:t,className:"relative flex flex-col w-[90%] md:w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(F,{icon:Ct,className:"text-3xl"})}),o.jsx("h2",{className:"font-bold text-center text-pink-600",children:"Chi Tit Voucher"})]}),c?o.jsx("div",{className:"my-16 text-center",children:"ang ti d liu..."}):o.jsx("div",{className:"md:px-8 px-6 space-y-4 z-0",children:n&&n?.length>0?n?.map(x=>{const v=r&&d.some(b=>b.id===x.id);return o.jsxs("div",{className:"flex items-center bg-gradient-to-r from-pink-500 to-blue-600 rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden ",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-40 h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-56 h-56 bg-white rounded-full"})]}),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none",children:x.name}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-6 py-3 rounded-xl font-mono font-bold tracking-wider",children:x.voucherCode}),o.jsx("button",{onClick:()=>p(x),className:"flex items-center text-[1.4rem] gap-2 bg-white text-pink-600 px-4 py-3.5 rounded-xl hover:bg-gray-100 transition shadow-md",children:o.jsx(F,{icon:fY})})]}),o.jsxs("div",{className:"text-[1.4rem] md:text-[2.2rem] font-extrabold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1.2rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] md:text-[1.2rem] gap-2",children:["Thi hn: n ",f(x.endDate)]})]})}),r&&o.jsx("div",{className:"relative z-[100] ml-auto",children:o.jsx("button",{className:`px-8 py-3 rounded-xl ${v?"border border-white text-white":"bg-red-500 hover:bg-red-600"}  transition-colors duration-300 text-[1rem] md:text-[1.4rem] cursor-pointer`,onClick:()=>{r?g(x):s("/login")},children:v?" lu":"Lu m"})})]},x.id)}):o.jsx("div",{children:"Khng c d liu"})}),o.jsx("div",{className:"sticky bottom-0  bg-white border-t border-gray-200 md:px-8 px-6 py-6 text-end z-10",children:o.jsx("button",{onClick:e,className:"px-12 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})})]}),o.jsx(qu,{showNotify:i.open,duration:1e3,onClose:()=>a({open:!1,content:"",isSuccess:!1}),isSuccess:i.isSuccess,content:i.content})]})}function oS({open:t,onClose:e}){const n=tt();return o.jsxs(ut,{open:t,className:"relative w-[95%] md:w-[45rem] xl:w-[50rem] h-auto rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600",children:"Vui lng ng nhp  thc hin"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp"})]})]})}function n8({onClose:t}){const e=ur(),n=tt(),r=e.pathname.split("/").filter(Boolean),s=r.length>1?r.slice(1):[],{data:i,isLoading:a}=Ae({queryKey:["getAllCategory"],queryFn:()=>_o()}),l=f=>f.length===0?!1:f.every((p,g)=>p===s[g]),c=f=>{f.length!==0&&(n(`/category/${f.join("/")}`),t&&t())},u=({categories:f,parentSlugChain:p})=>o.jsx(o.Fragment,{children:f.map(g=>{const x=[...p,g.slug],v=l(x),b=g.children&&g.children.length>0,w=s.length>=x.length&&l(x);return o.jsxs("div",{className:"my-2",children:[o.jsxs("div",{onClick:N=>{N.stopPropagation(),c(x)},className:`
                  flex items-center justify-between px-3 md:px-5 py-3 md:py-4 rounded-lg cursor-pointer
                  transition-all text-[1.3rem] md:text-[1.4rem]
                  ${v?"bg-pink-50 text-pink-600 font-medium":"hover:bg-gray-100"}
                `,children:[o.jsx("span",{children:g.categoryName}),b&&o.jsx(F,{icon:w?bu:en,className:"text-[1.2rem]"})]}),b&&w&&o.jsx("div",{className:"ml-3 md:ml-4 mt-1 border-l-2 border-pink-300 pl-2 md:pl-3",children:o.jsx(u,{categories:g.children,parentSlugChain:x})})]},g.id)})}),d=()=>o.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 animate-pulse",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[5rem] md:h-[5rem] rounded-lg bg-gray-200"}),o.jsx("div",{className:"flex-1 h-[3rem] rounded-lg bg-gray-200"})]});return o.jsxs("div",{className:"bg-white h-full text-[1.4rem] md:text-[1.6rem] w-full md:w-[26rem] shadow-xl md:shadow-none",children:[o.jsxs("div",{className:"md:hidden sticky top-0 bg-white z-10 border-b border-gray-200 px-4 py-4 flex items-center justify-between",children:[o.jsx("h4",{className:"text-[1.8rem] font-bold text-gray-800",children:"Danh mc sn phm"}),t&&o.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:o.jsx(F,{icon:V_,className:"text-[2rem] text-gray-600"})})]}),o.jsx("h4",{className:"hidden md:block font-bold mb-[1rem] text-gray-600 pl-[1rem] px-1.5 py-1.5 md:px-[1rem] md:py-[1rem]",children:"Danh mc"}),o.jsx("div",{className:"px-3 md:px-[1rem] pb-4 overflow-y-auto h-[calc(100vh-8rem)] md:h-auto",children:a?o.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((f,p)=>o.jsx(d,{},p))}):o.jsx("div",{className:"space-y-2 md:space-y-4",children:i&&i.length>0&&i.map(f=>{const p=[f.slug],g=l(p),x=f.children&&f.children.length>0;return o.jsxs("div",{onClick:v=>{v.stopPropagation(),c(p)},children:[o.jsxs("div",{className:`
                        flex items-center justify-between px-3 md:px-4 py-3 rounded-lg cursor-pointer
                        transition-all group
                        ${g?"bg-pink-50 shadow-sm":"hover:bg-gray-50"}
                      `,children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[f.image?o.jsx("img",{src:f.image,alt:f.categoryName,className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg object-cover flex-shrink-0 shadow-sm"}):o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:F_,className:"text-[1.8rem] md:text-[2rem] text-gray-400"})}),o.jsx("span",{className:`text-[1.3rem] md:text-[1.5rem] truncate ${g?"text-pink-600":"text-gray-700"}`,children:f.categoryName})]}),x&&o.jsx(F,{icon:g?bu:en,className:`text-[1.2rem] flex-shrink-0 transition-transform duration-300 ${g?"text-pink-600":"text-gray-400"}`})]}),g&&x&&o.jsx("div",{className:"mt-2 ml-4 md:ml-6 border-l-2 border-pink-300 pl-3 md:pl-4",children:o.jsx(u,{categories:f.children,parentSlugChain:p})})]},f.id)})})})]})}const r8=()=>{const[t]=k.useState(()=>{let e=localStorage.getItem("search_session_id");return e||(e=crypto.randomUUID(),localStorage.setItem("search_session_id",e)),e});return t};function Jde(t,e=1e3){const[n,r]=k.useState(t);return k.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[e,t]),n}function yM({isMobile:t}){const{user:e}=kt(),[n]=Ei(),r=n.get("q"),s=tt(),[i,a]=k.useState(""),l=k.useRef(null),[c,u]=k.useState(!1),d=Jde(i,500),[f,p]=k.useState(!0),[g,x]=k.useState({open:!1,data:[]}),v=r8();if(!v)throw new Error("sessionId khng tn ti!");const{data:b,isLoading:w,refetch:N}=Ae({queryKey:["recentSearches",v],queryFn:()=>Ote(v,Number(e?.id)),enabled:c&&(!!e||!!v),staleTime:60*1e3}),C=b&&b.data||[];k.useEffect(()=>{r&&(a(r),x(I=>({...I,open:!1})))},[r]);const P=k.useCallback(async I=>{if(I.trim())try{(await fe.post("/api/v1/search/save",{query:I.trim(),...e?void 0:{session_id:v}})).status&&await N()}catch(D){console.log(D)}},[e,v,N]);k.useEffect(()=>{if(!d)return;const I=new AbortController;return p(!0),(async()=>{try{const R=await fe.get("/api/v1/product/suggest",{params:{productName:d}});R.status&&x(G=>({...G,data:R.suggestions}))}catch(R){console.log(R)}finally{p(!1)}})(),()=>I.abort()},[d]);const S=I=>{if(I.key==="Enter"){I.preventDefault();const D=i.trim();D&&(P(D),s(`/search?q=${encodeURIComponent(D)}`))}},A=I=>{I&&(a(I),x(D=>({...D,open:!1})),s(`/search?q=${encodeURIComponent(I)}`))},M=c,T=t?"mt-4 mb-2":"relative flex-1 max-w-2xl mx-4 lg:mx-8",_=t?"text-[1.4rem] w-full h-[3.5rem] pl-12 pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors":"text-[1.4rem] w-full h-[3.5rem] md:h-[4rem] pl-10 md:pl-[3.4rem] pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors";return o.jsxs("div",{className:T,ref:l,children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"text",className:_,placeholder:t?"Tm kim sn phm...":"Tm o thun, qun jean, giy sneaker...",value:i,onChange:I=>{const D=I.target.value;D.startsWith(" ")&&i===""||a(D)},onFocus:()=>u(!0),onBlur:()=>{setTimeout(()=>u(!1),200)},onKeyDown:S}),o.jsx(F,{icon:Wn,className:`text-gray-400 absolute top-1/2 -translate-y-1/2 ${t?"w-4 h-4 left-3":"w-4 h-4 md:w-5 md:h-5 left-3 md:left-4"}`})]}),M&&o.jsx("div",{className:"text-[1.4rem] absolute top-[calc(100%)] md:top-[calc(100%+.5rem)] left-0 bg-white w-full max-h-[400px] overflow-y-auto border border-gray-300 rounded-md shadow-xl z-50",children:i.trim()?o.jsx(o.Fragment,{children:f?o.jsx("div",{className:"p-5 text-center text-gray-500",children:"ang tm kim..."}):g.data.length>0?g.data.map((I,D)=>o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer transition-colors",onMouseDown:()=>A(I),children:[o.jsx(F,{icon:Wn,className:"text-gray-400 mr-3"}),I]},D)):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Khng tm thy sn phm ph hp"})}):o.jsx(o.Fragment,{children:w?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"ang ti..."}):C.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-5 text-[1.4rem] text-gray-500 font-medium border-b border-b-gray-300",children:"Tm kim gn y"}),C.map((I,D)=>{const R=typeof I=="string"?I:I.query;return o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer flex items-center gap-3 transition-colors",onClick:()=>A(I.query),children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{icon:lY,className:"text-gray-400"}),o.jsx("span",{className:"flex-1",children:R})]}),o.jsx("button",{className:"ml-auto cursor-pointer",children:o.jsx(F,{icon:Ct,className:"hover:text-gray-800 text-gray-500"})})]},D)})]}):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Cha c lch s tm kim"})})})]})}function s8({isFooter:t=!1}){return o.jsxs(Ze,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-red-600 text-white w-14 h-14 md:w-[3.5rem] md:h-[3.5rem] rounded-lg flex items-center justify-center font-bold text-lg md:text-xl",children:"K"}),o.jsxs("div",{className:"block",children:[o.jsx("div",{className:"text-[1.8rem] md:text-[2.2rem] font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:`text-[1rem] md:text-[1.2rem] ${t?"text-white":"text-gray-500"}  -mt-1`,children:"Style Your Life"})]})]})}function lS(){const[t,e]=k.useState(!1),{user:n}=kt(),{logout:r}=ac(),s=Kde(),[i,a]=k.useState(!0),[l,c]=k.useState(!1),u=tt(),[d,f]=k.useState(!1),p=ur(),g=k.useRef(null),[x,v]=k.useState(!1),[b,w]=k.useState(window.innerWidth<768),[N,C]=k.useState({open:!1,data:null}),[P,S]=k.useState(!1),{data:A,isLoading:M}=Ae({queryKey:["vouchers"],queryFn:()=>t8()}),T=A&&A.data,{data:_,isLoading:I}=Ae({queryKey:["getAllCategory"],queryFn:()=>_o()});k.useEffect(()=>{const U=()=>w(window.innerWidth<768);return window.addEventListener("resize",U),()=>{window.addEventListener("resize",U)}},[]),k.useEffect(()=>{const U=()=>{window.scrollY>50?a(!1):a(!0)};return p.pathname.includes("/customer")||window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)},[p]),k.useEffect(()=>{const U=q=>{g.current&&!g.current.contains(q?.target)&&S(!1)};return document.addEventListener("click",U),()=>{document.removeEventListener("click",U)}},[]);const D=U=>n?n.role===Kt.ADMIN||n.role===Kt.STAFF?u("/dashboard"):u(`/${U}`):u(`/${U}`),R=U=>{if(U)u(`/category/${U}`);else if(_){const q=_[0];u(`/category/${q.slug}`)}},G=U=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(U);return o.jsxs("header",{className:`${p.pathname.includes("/customer")?"fixed top-0 left-0 md:relative":"fixed top-0 left-0"} w-full bg-white z-[999] ${p.pathname.includes("/customer")?"":i?" shadow-none":"shadow-xl"}`,children:[M?o.jsx(o.Fragment,{}):T?.map((U,q)=>{if(!(q>=1))return o.jsx("div",{className:`px-4 md:px-8 lg:px-12 xl:px-[12rem] bg-gradient-to-r from-pink-600 to-red-500 w-full ${i?"h-[3.5rem] opacity-[1]":"opacity-0 h-[0] overflow-hidden"} flex items-center justify-between transition-all duration-300 cursor-pointer`,onClick:()=>{n?C({open:!0,data:T}):c(!0)},children:o.jsxs("p",{className:"text-[1rem] sm:text-[1.2rem] md:text-[1.4rem] text-white whitespace-nowrap overflow-hidden text-ellipsis px-2",children:[" ",U.name," - Gim"," ",U.type===mi.PERCENT?`${U.value}%`:`${G(U.value)}`," ",U.minOrderValue>0&&`- n t ${G(U.minOrderValue)}`]})},U.id)}),o.jsxs("div",{className:"relative md:px-8 lg:px-12 xl:px-[12rem] py-2 md:py-[1rem]",children:[o.jsxs("div",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(s8,{})}),o.jsxs("div",{className:"md:hidden flex items-center space-x-12",children:[o.jsxs("div",{className:" relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-8 h-8 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),n&&o.jsx("span",{className:"absolute -top-3 left-[1.5rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]}),o.jsx("div",{className:`w-15 h-15 ${n?"border-1":"border-2"} border-gray-400 rounded-full flex flex-col items-center justify-center gap-1 group transition-colors`,onClick:U=>{U.stopPropagation(),S(!P)},children:n?.avatar?o.jsx("img",{src:n.avatar,alt:"avatar user",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Ji,className:`${n?"text-pink-500":"text-gray-400"} group-hover:text-pink-600 text-[1.6rem]`})})]}),o.jsx("div",{className:"relative hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:o.jsx(yM,{isMobile:!1})}),o.jsxs("div",{className:"hidden md:flex items-center gap-4 lg:gap-6 z-[900]",children:[n?o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 group transition-colors",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",children:[o.jsx("p",{children:n.username.trim().split(" ").splice(-1,2)}),o.jsx("img",{src:n.avatar,alt:"User avatar",className:"w-[3.5rem] h-[3.5rem] rounded-full object-cover cursor-pointer"})]}),o.jsxs("div",{className:`absolute top-full mt-2 w-[22rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>D("customer/account/profile"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600",children:[o.jsx(F,{icon:Ji,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"Ti khon ca ti"})]}),o.jsxs("button",{onClick:()=>D("customer/order"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600",children:[o.jsx(F,{icon:jo,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"n hng ca ti"})]})]}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{r(),u("/")},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(F,{icon:v2,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng xut"})]})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group cursor-pointer",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsx(F,{icon:Ji,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline whitespace-nowrap",children:"Ti khon"}),o.jsxs("div",{className:`absolute top-full mt-2 w-[18rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 z-[1000] ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsxs("button",{onClick:()=>D("login"),className:"w-full px-4 py-4 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600 border-b border-gray-200",children:[o.jsx(F,{icon:FG,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng nhp"})]}),o.jsxs("button",{onClick:()=>D("register"),className:"w-full px-4 py-4 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600",children:[o.jsx(F,{icon:XG,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng k"})]})]})]}),o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group cursor-pointer",onClick:()=>u("/look-up-order"),children:[o.jsx(F,{icon:n1,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline whitespace-nowrap",children:"n hng"})]})]}),o.jsxs("div",{className:"relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-6 h-6 text-gray-600 group-hover:text-pink-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),o.jsx("span",{className:"text-[1.2rem] text-gray-600 group-hover:text-pink-600 group-hover:underline whitespace-nowrap transition-colors",children:"Gi hng"}),n&&s>0&&o.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s>99?"99+":s})]})]})]}),o.jsx("div",{className:"md:hidden mt-4 mb-2",children:o.jsx(yM,{isMobile:!0})})]}),P&&o.jsx("div",{ref:g,className:"fixed top-0 right-0 md:hidden w-full h-full bg-[#3e3e3e6f] border-t border-gray-200 z-[100]",onClick:U=>{U.stopPropagation(),S(!1)},children:o.jsx("div",{className:"flex flex-col gap-8 bg-white w-[80%] h-full p-[2rem]",onClick:U=>{U.stopPropagation()},children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:n?.avatar?o.jsx("img",{src:n?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Ji,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:n?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600 cursor-pointer",onClick:()=>{u("customer/account/profile"),S(!1)},children:[o.jsx(F,{icon:Ms}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsxs("button",{onClick:()=>{D("customer/account/profile"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Ji,className:"w-5"}),"Ti khon ca ti"]}),o.jsxs("button",{onClick:()=>{D("customer/order"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:jo,className:"w-5"}),"n hng ca ti"]}),o.jsxs("button",{onClick:()=>{D("customer/account/address"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:R_,className:"w-5"}),"a ch"]}),o.jsxs("button",{onClick:()=>{D("customer/my-voucher"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:ON,className:"w-5"}),"Voucher ca ti"]}),o.jsxs("button",{onClick:()=>{u("/customer/account/privacy"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:n1,className:"w-5"}),"Thit lp ring"]}),o.jsxs("button",{onClick:()=>{r(),u("/"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-red-600 text-[1.4rem]",children:[o.jsx(F,{icon:v2,className:"w-5"}),"ng xut"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{D("login"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Ji,className:"w-5"}),"ng nhp"]}),o.jsxs("button",{onClick:()=>{D("register"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Ji,className:"w-5"}),"ng k"]}),o.jsxs("button",{onClick:()=>{u("/look-up-order"),S(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:n1,className:"w-5"}),"Tra cu n"]})]})})})]}),o.jsx("div",{className:"md:block w-[100%] border-t border-t-gray-300 py-[1rem] px-4 md:px-8 lg:px-12 xl:px-[12rem]",children:o.jsxs("nav",{className:"flex items-center justify-between h-12",children:[o.jsxs("ul",{className:"flex items-center gap-4 lg:gap-8 overflow-x-auto scrollbar-hide",children:[o.jsx("li",{className:"relative group shrink-0 gap-2",children:o.jsxs("button",{className:"flex items-center text-[1.2rem] lg:text-[1.4rem] font-medium text-pink-600 hover:text-pink-700 whitespace-nowrap mt-1",onClick:()=>{b?v(!0):R()},children:[o.jsx(F,{icon:H_}),o.jsx("span",{children:"DANH MC"})]})}),I?o.jsx(o.Fragment,{}):_&&_.length>0&&_.filter(U=>!U.parentId).map(U=>o.jsx("li",{onClick:()=>R(U.slug),className:"shrink-0",children:o.jsx(Ze,{to:`/category/${U.slug}`,className:"font-medium text-[1.2rem] lg:text-[1.4rem] hover:text-pink-600 transition-colors uppercase whitespace-nowrap",children:U.categoryName})},U.id))]}),o.jsxs("div",{className:"hidden lg:flex items-center gap-4 text-[1.4rem] shrink-0",children:[o.jsx(Ze,{to:"/about-us",className:"hover:text-pink-600 text-gray-600 transition-colors whitespace-nowrap",children:"Gii thiu"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsxs("a",{href:"https://www.facebook.com/kien.trung.732841/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(F,{icon:Hde}),"Facebook"]}),o.jsxs("a",{href:"https://www.instagram.com/trungkien4420/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(F,{icon:ZR}),"Instagram"]})]})]})}),o.jsx(qde,{setShowCart:e,showCart:t}),b&&x&&o.jsx("div",{className:"fixed top-0 left-0 h-full w-full bg-[#36363650] z-[999]",onClick:()=>v(!1),children:o.jsx("div",{className:"w-[85%] max-w-[36rem] h-full bg-white",onClick:U=>U.stopPropagation(),children:o.jsx(n8,{onClose:()=>v(!1)})})}),o.jsx(Qde,{open:N.open,onClose:()=>C({open:!1,data:null}),vouchers:N.data}),o.jsx(oS,{open:l,onClose:()=>c(!1)})]})}function cS(){return o.jsxs("footer",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] py-8 bg-gray-700 text-white mt-20",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-4 pb-5 border-b border-b-gray-400 mb-8",children:[o.jsx(s8,{isFooter:!0}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ze,{to:"https://www.facebook.com/profile.php?id=100029756161612&locale=vi_VN",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:o.jsx(F,{icon:Wde,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Ze,{to:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:o.jsx(F,{icon:ZR,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Ze,{to:"#","aria-label":"Twitter",children:o.jsx(F,{icon:Ude,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Ze,{to:"#","aria-label":"Google",children:o.jsx(F,{icon:Bde,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"V Shop"}),o.jsx("p",{className:"text-gray-300 text-[1.4rem]",children:"Chuyn cung cp thi trang cht lng cao vi gi c hp l"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"H tr khch hng"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Ze,{to:"/huong-dan-mua-hang",className:"hover:text-primary",children:"Hng dn mua hng"})}),o.jsx("li",{children:o.jsx(Ze,{to:"/chinh-sach-doi-tra",className:"hover:text-primary",children:"Chnh sch i tr"})}),o.jsx("li",{children:o.jsx(Ze,{to:"/phuong-thuc-thanh-toan",className:"hover:text-primary",children:"Phng thc thanh ton"})}),o.jsx("li",{children:o.jsx(Ze,{to:"/van-chuyen",className:"hover:text-primary",children:"Vn chuyn"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Chnh sch"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Ze,{to:"/chinh-sach-bao-mat",className:"hover:text-primary",children:"Chnh sch bo mt"})}),o.jsx("li",{children:o.jsx(Ze,{to:"/dieu-khoan-su-dung",className:"hover:text-primary",children:"iu khon s dng"})}),o.jsx("li",{children:o.jsx(Ze,{to:"/quy-dinh-chung",className:"hover:text-primary",children:"Quy nh chung"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3 ",children:"Lin h"}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Hotline:"})," 0357 124 853"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Email:"})," nguyentrungkien040921@gmail.com"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Gi lm vic:"})," 8:00 - 22:00"]})]})]}),o.jsx("div",{className:" mt-8 pt-6 border-t border-gray-400 text-center text-gray-300 text-[1.4rem]",children:o.jsx("p",{children:" 2025 Shop Qun o. c pht trin bi Nguyn Trung Kin"})})]})}function Zde(){const t=ur();return o.jsxs("div",{children:[o.jsx(lS,{}),o.jsx("div",{className:`w-full h-auto ${t.pathname.includes("/customer")?"mt-[2.5rem]":"mt-[20rem] md:mt-[17rem]"}`,children:o.jsx(ic,{})}),o.jsx(cS,{})]})}function i8({open:t,item:e,dataGuest:n,onClose:r,refetch:s}){const{user:i}=kt(),[a,l]=k.useState({message:"",rating:5,images:[],showAccount:!0}),[c,u]=k.useState({message:"",images:""}),[d,f]=k.useState(!1),[p,g]=k.useState([]);k.useEffect(()=>{e&&l({message:"",rating:5,images:[],showAccount:!0})},[e]);const x=S=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S),v=S=>{l(A=>({...A,rating:S}))},b=S=>{const{files:A}=S.target;if(!A)return;const M=a.images,T=2-M.length;if(T<=0){u(I=>({...I,images:"Ch c upload ti a 2 nh!"}));return}const _=Array.from(A).slice(0,T);l(I=>({...I,rating:I?.rating||5,message:I?.message||"",images:[...M,..._]})),_.forEach(I=>{const D=URL.createObjectURL(I);g(R=>[...R,D])})},w=S=>{l(A=>({...A,images:A.images.filter((M,T)=>T!==S)})),g(A=>A.filter((M,T)=>T!==S))},N=async S=>{if(a.message.length>200){u(M=>({...M,message:"Ni dung khng c qu 200 k t!"}));return}if(a.images.length>2){u(M=>({...M,images:"Ch c upload ti a 2 nh!"}));return}f(!0);const A=new FormData;!i&&n&&(A.append("customerEmail",n?.customerEmail),A.append("customerName",n?.customerName)),A.append("rating",a.rating.toString()),A.append("showAccount",a.showAccount.toString()),A.append("orderItemId",S.toString()),a.message!==""&&A.append("message",a.message),a.images.length>0&&a.images.forEach(M=>{A.append("images",M)});try{const M=await fe.post("/api/v1/evaluate/add",A,{headers:{"Content-Type":"multipart/form-data"}});M.status&&(await s(),ce.success(M.message),r())}catch(M){console.log(M),ce.error(M.message)}finally{f(!1)}},C=S=>{u(A=>S?{...A,...S==="message"?{message:""}:{images:""}}:{images:"",message:""})},P=e&&e.variant.product;return o.jsxs(ut,{open:t,className:"relative w-[65rem] min-h-[20rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[1rem] right-[1rem]",onClick:S=>{S.stopPropagation(),r()},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsx("h2",{className:"text-[2rem] text-amber-500 mb-[2.5rem] font-bold text-center",children:"nh gi sn phm"}),o.jsx("div",{className:"space-y-8 max-h-[50rem] overflow-auto hide-scrollbar",children:e&&P?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border border-gray-300 rounded-md p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:P.mainImage,alt:P.productName,className:"w-[5rem] h-[5rem] rounded-sm object-cover"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"line-clamp-1",children:P.productName}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["Phn loi: size ",e.variant.variantSize.name,", mu"," ",e.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",e.quantity]})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500",children:x(e.price*e.quantity)})]}),o.jsxs("div",{className:"flex items-center mt-[1rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 mr-[.5rem]",children:["Sao nh gi:"," "]}),o.jsx("div",{className:"space-x-1",children:Array.from({length:5}).map((S,A)=>o.jsx("button",{type:"button",onClick:()=>v(A),children:o.jsx(F,{icon:A<=a.rating?Xr:JR,className:`text-[1.6rem] ${A<=a.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},A))})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"message",id:"message",rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",onChange:S=>{C("message"),l(A=>({...A,message:S.target.value}))}}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.message})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsxs("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:[p&&p.length>0&&p.map((S,A)=>o.jsxs("div",{className:"relative w-[8rem] h-[8rem] border border-gray-400 flex flex-col items-center justify-center rounded-md cursor-pointer",children:[o.jsx("img",{src:S,alt:`images-${A}`,className:"w-full h-full object-cover rounded-md"},S),o.jsx("button",{className:"absolute top-[-.5rem] right-[-.5rem] h-[2rem] w-[2rem] flex items-center justify-center rounded-full bg-red-500 hover:bg-red-600",onClick:()=>w(A),children:o.jsx(F,{icon:Ct,className:"text-white text-[1.2rem]"})})]},S)),o.jsxs("label",{htmlFor:`image-${e.id}`,className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(F,{icon:$r,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",id:`image-${e.id}`,name:"images",className:"hidden",accept:"images/*",multiple:!0,onChange:S=>{C("images"),b(S)}})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.images})]})]}),o.jsxs("div",{className:"flex justify-end mt-[3.5rem] gap-[1rem]",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:S=>{S.stopPropagation(),r()},disabled:d,children:"Hy"}),o.jsx("button",{type:"button",disabled:d,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",onClick:()=>{C(),N(e.id)},children:d?"ang x l...":"Gi nh gi"})]})]}):o.jsxs("div",{className:"border rounded-md border-gray-300 p-[2rem] animate-pulse",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-200 rounded-sm"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"w-full py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[20rem] py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]})]}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]}),o.jsx("div",{className:"flex items-center mt-[1rem]",children:o.jsx("p",{className:"w-[30rem] py-2.5 bg-gray-200"})}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",disabled:!0})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsx("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:o.jsxs("label",{className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(F,{icon:$r,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",className:"hidden",disabled:!0})]})})]}),o.jsx("div",{className:"flex justify-end mt-[1rem]",children:o.jsx("button",{type:"button",disabled:!0,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",children:"Gi nh gi"})})]})})]})}const Ox=()=>{const{user:t}=kt(),[e,n]=k.useState(!1),[r,s]=k.useState({show:!1,content:""}),i=Xs();return{addToCart:async l=>{n(!0);try{if(!t){let u=JSON.parse(localStorage.getItem("localCart")||"[]");for(const d of l){const f=u.find(p=>p.variantId===d.variantId);f?f.quantity+=d.quantity:u.push({variantId:d.variantId,quantity:d.quantity})}return localStorage.setItem("localCart",JSON.stringify(u)),window.dispatchEvent(new Event("localStorageUpdate")),s({show:!0,content:" thm vo gi hng!"}),!0}if((await fe.post("/api/v1/cart/add-to-cart",l)).status)return i.invalidateQueries({queryKey:["cart"]}),s({show:!0,content:" thm vo gi hng!"}),!0}catch{return s({show:!0,content:"C li xy ra!"}),!1}finally{n(!1)}},isLoading:e,notify:r,setNotify:s}},bM={[dl.CHANGE_OF_MIND]:"Ti i ",[dl.FOUND_BETTER_PRICE]:"Ti tm c gi tt hn",[dl.ORDER_BY_MISTAKE]:"Ti t nhm",[dl.WRONG_ADDRESS]:"Thay i a ch",[dl.OTHER]:"L do khc"};function a8({open:t,onClose:e,orderCode:n,refetch:r,status:s,cancelReason:i,cancelledAt:a,cancelledBy:l}){const{user:c}=kt(),[u,d]=k.useState(!1),[f,p]=k.useState(""),g=s===Le.CANCELLED,[x,v]=k.useState({customerEmail:"",customerPhone:"undefined"}),[b,w]=k.useState({customerEmail:"",customerPhone:"",reason:""}),N=()=>{let P=!0;const S={customerEmail:"",customerPhone:"",reason:""};return c||(x.customerEmail.trim()?/^\S+@\S+\.\S+$/.test(x.customerEmail)||(S.customerEmail="Email khng hp l!",P=!1):(S.customerEmail="Vui lng nhp email  t hng!",P=!1),x.customerPhone.trim()?/^0[1-9]\d{8}$/.test(x.customerPhone)||(S.customerPhone="S in thoi khng hp l!",P=!1):(S.customerPhone="Vui lng nhp s in thoi  t hng!",P=!1)),f||(S.reason="Vui lng chn l do hy n!",P=!1),w(S),P},C=async()=>{if(!n){ce.error("Khng tm thy m n hng");return}if(N()){d(!0);try{const P={reason:f};c||(P.customerEmail=x.customerEmail,P.customerPhone=x.customerPhone);const S=await fe.patch(`/api/v1/orders/cancel/${n}`,P);S.status&&(v({customerEmail:"",customerPhone:""}),p(""),w({customerEmail:"",customerPhone:"",reason:""}),await r?.(),ce.success(S.message||"Hy n hng thnh cng!"),e())}catch(P){console.log(P),ce.error(P.message||"C li xy ra!")}finally{d(!1)}}};return o.jsxs(ut,{open:t,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[1.8rem] md:text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Hy n hng"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:P=>{P.stopPropagation(),e()},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),g?o.jsxs("div",{className:"space-y-6 mb-[4rem]",children:[o.jsxs("div",{className:"flex justify-between ",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Thi gian hy"}),o.jsx("p",{className:"font-medium",children:a?new Date(a).toLocaleString("vi-VN"):""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Ngi hy"}),o.jsx("p",{className:"font-medium",children:l})]})]}),o.jsxs("div",{className:"w-full py-[1rem] rounded-md shadow-md flex flex-col justify-center px-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do hy n"}),o.jsx("p",{className:"",children:bM[i]})]}),o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(F,{icon:DN,className:"text-amber-600 mt-0.5"}),o.jsx("p",{className:" text-amber-800",children:"n hng  c hy v khng th khi phc. Bn c th t li n hng mi nu cn."})]})]}):o.jsxs(o.Fragment,{children:[!c&&o.jsxs("div",{className:"flex items-start space-x-6 mb-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email"}),o.jsx("input",{type:"email",name:"customerEmail",id:"customerEmail",value:x.customerEmail,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:P=>{v(S=>({...S,customerEmail:P.target.value})),b.customerEmail&&w(S=>({...S,customerEmail:""}))}}),b.customerEmail&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerEmail})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",name:"customerPhone",id:"customerPhone",value:x.customerPhone,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:P=>{v(S=>({...S,customerPhone:P.target.value})),b.customerPhone&&w(S=>({...S,customerPhone:""}))}}),b.customerPhone&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerPhone})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"block text-gray-600 pb-[1rem]",children:"L do hy n"}),Object.entries(bM).map(([P,S])=>o.jsxs("div",{className:"flex items-center space-x-6 py-4 pl-[2rem] cursor-pointer",children:[o.jsx("input",{type:"radio",id:`reason-${P}`,name:"reason",value:P,style:{scale:1.4,backgroundColor:"red"},className:"cursor-pointer",onChange:A=>{p(A.target.value)}}),o.jsx("label",{htmlFor:`reason-${P}`,className:"cursor-pointer select-none",children:S})]},P))]})]}),b.reason&&o.jsx("p",{className:"text-red-500 mt-2 pl-[2rem]",children:b.reason}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none",onClick:P=>{P.stopPropagation(),e()},children:s?"ng":"Hy"}),!s&&s!==Le.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300 outline-none",onClick:()=>C(),children:u?"ang x l...":"Hy n hng"})]})]})}const fu=[{key:Le.PENDING,label:"Ch xc nhn n  hng",desc:"Ch xc nhn",icon:jo,color:"bg-blue-500"},{key:Le.CONFIRMED,label:" xc nhn n hng",desc:" xc nhn",icon:PN,color:"bg-orange-500"},{key:Le.SHIPPING,label:"ang giao hng",desc:"ang vn chuyn",icon:cx,color:"bg-purple-500"},{key:Le.COMPLETED,label:" giao hng",desc:" giao hng",icon:Wl,color:"bg-green-500"}];function ehe({order:t,onClose:e}){const n=k.useMemo(()=>t?.orderItems?t.orderItems.reduce((i,a)=>i+a.price*a.quantity,0):0,[t?.orderItems]);if(k.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),!t)return;const r=i=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),s=i=>gn(i).format("HH:mm DD/MM/YYYY");return o.jsxs("div",{className:"min-h-screen px-4 sm:px-6 lg:px-8 pb-6 md:pb-8",children:[o.jsxs("div",{className:"py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("div",{children:o.jsxs("button",{type:"button",className:"px-5 py-2.5 bg-gray-100 hover:bg-gray-200 transition-colors rounded-md flex items-center gap-2 text-[1.2rem] md:text-[1.6rem]",onClick:e,children:[o.jsx(F,{icon:ls}),o.jsx("span",{className:"uppercase",children:"Tr li"})]})}),o.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end sm:justify-normal",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.6rem] font-medium",children:["M n hng: ",t.orderCode]}),o.jsx("div",{className:"hidden sm:block h-6 border-r border-gray-400"}),o.jsx("span",{className:`px-5 py-1.5 rounded-full text-[1.2rem] md:text-[1.6rem] font-medium
              ${Un(t.status).textColor} 
              ${Un(t.status).bgColor}`,children:Un(t.status).text})]})]}),t.status===Le.CANCELLED?o.jsxs("div",{className:"my-6 p-5 border border-amber-200 bg-amber-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] text-red-600 font-medium",children:" hy n hng"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["lc ",s(t.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:fu.map((i,a)=>{const l=fu.findIndex(c=>c.key===t.status)>=a;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[1rem] md:ap-[2rem] relative items-center",children:[o.jsx("div",{className:`lg:w-[6rem] lg:h-[6rem] md:w-[4rem] md:h-[4rem] w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${l?`${i.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:i.icon,className:"text-white md:text-[1.8rem] text-[1.2rem] lg:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800",children:i.label}),o.jsx("div",{className:"hidden md:block text-[.8rem] md:text-[1.2rem] text-gray-500 mt-[.2rem]",children:i.desc})]})]},i.key),a!==fu.length-1&&o.jsx("span",{className:"w-[2rem] md:w-[10rem] border border-green-500"})]},i.key)})}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"a ch nhn hng"}),o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-white",children:[o.jsx("p",{className:"font-medium",children:t.customerName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem] md:text-[1.4rem]",children:["(",t.customerPhone,")"]}),o.jsxs("p",{className:"text-gray-500 mt-1 text-[1.2rem] md:text-[1.4rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"Thng tin vn chuyn"}),o.jsx("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-gray-50",children:[Le.PENDING,Le.CONFIRMED].includes(t.status)?o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] italic",children:"n hng ang c x l v ng gi. Chng ti s cp nht m vn n ngay khi hng c giao cho n v vn chuyn."}):o.jsxs("div",{className:"space-y-3 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Nh vn chuyn:"})," ",t.shippingProvider?GA[t.shippingProvider]?.text||t.shippingProvider:"Cha xc nh"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"M vn n:"})," ",o.jsx("span",{className:"font-semibold",children:t.trackingNumber||"Cha c"})]}),t.shippingNote&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch:"})," ",o.jsx("span",{className:"italic",children:t.shippingNote})]}),o.jsxs("div",{className:"mt-4",children:[t.status===Le.SHIPPING&&t.trackingNumber&&t.shippingProvider&&o.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm md:text-base",children:[o.jsx(F,{icon:cx}),"Tra cu vn n"]}),t.status===Le.COMPLETED&&o.jsx("p",{className:"text-green-600 font-medium text-[1.4rem] md:text-[1.6rem]",children:"n hng  c giao thnh cng!"})]})]})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg shadow-sm p-4 md:p-6 bg-white",children:[o.jsx("div",{className:"space-y-5 md:space-y-6",children:t.orderItems.map(i=>{const a=i.variant.product;return o.jsx(Ze,{to:`/product-detail/${a.slug}`,className:"block border-b border-gray-200 pb-5 last:border-b-0 last:pb-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("img",{src:a.mainImage,alt:a.productName,className:"w-20 h-20 md:w-24 md:h-24 object-cover border border-gray-400 rounded"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium line-clamp-2 md:line-clamp-1",children:a.productName}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600 mt-1",children:["Size ",i.variant.variantSize.name,"  Mu"," ",i.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600",children:["S lng: x",i.quantity]})]})]}),o.jsx("p",{className:"text-red-600 font-medium text-[1.4rem] md:text-[1.6rem] whitespace-nowrap",children:r(i.price*i.quantity)})]})},i.id)})}),o.jsxs("div",{className:"mt-6 md:mt-8 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex flex-col gap-4 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),o.jsx("span",{children:r(n)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),o.jsx("span",{children:r(t.shippingFee)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Voucher gim gi"}),o.jsxs("span",{className:"text-red-600",children:["- ",r(t.discountAmount)]})]}),o.jsxs("div",{className:"flex justify-between font-medium text-[1.4rem] md:text-[1.6rem] pt-3 border-t",children:[o.jsx("span",{children:"Thnh tin"}),o.jsx("span",{className:"text-red-600",children:r(t.totalAmount)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Phng thc thanh ton"}),o.jsx("span",{children:lN[t.paymentMethod].text})]}),t.paymentMethod!==es.COD&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Trng thi thanh ton"}),o.jsx("span",{children:t?.payment?.status===Ja.SUCCESS?" thanh ton":"Cha thanh ton"})]})]}),t.paymentMethod===es.COD&&![Le.CANCELLED,Le.COMPLETED].includes(t.status)&&o.jsxs("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg text-center text-[1.4rem] md:text-[1.6rem]",children:["Vui lng thanh ton"," ",o.jsx("span",{className:"text-red-600 font-medium",children:r(t.totalAmount)})," ","khi nhn hng"]})]})]})]})}function the({open:t,data:e,onClose:n,refetch:r}){const s=async()=>{try{(await fe.patch(`/api/v1/orders/confirm-received/${e?.id}`)).status&&(n(),await r())}catch(i){console.log(i),ce.error(i.message||"Li khng th xc nhn!")}};return o.jsxs(ut,{open:t,className:"relative w-[95%] md:w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-amber-600 mb-[3rem] text-[1.4rem] md:text-[2rem]",children:"Vui lng xc nhn bn  nhn c n hng!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:i=>{i.stopPropagation(),n()},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"text-white px-6 py-2 bg-red-500 rounded-lg hover:bg-red-600",onClick:()=>s(),children:"Xc nhn"})]})]})}const vM={all:{title:"Tt c",color:"green"},[Le.PENDING]:{title:"Ch xc nhn",color:"green"},[Le.CONFIRMED]:{title:" xc nhn",color:"green"},[Le.SHIPPING]:{title:"ang giao hng",color:"green"},[Le.DELIVERED]:{title:" giao hng",color:"red"},[Le.COMPLETED]:{title:" hon thnh",color:"green"},[Le.CANCELLED]:{title:" hy",color:"red"}};function nhe(){const[t,e]=k.useState({searchOrders:"",status:"all"}),[n,r]=k.useState(""),[s,i]=k.useState("all"),[a,l]=k.useState({open:!1,orderCode:null,data:null}),[c,u]=k.useState({open:!1,data:null}),[d,f]=k.useState({open:!1,data:null}),{addToCart:p}=Ox(),g=tt(),[x,v]=k.useState({left:0,width:0}),[b,w]=k.useState({open:!1,data:null}),N=k.useRef([]),C=k.useMemo(()=>Object.keys(vM),[]),{data:P=[],isLoading:S,refetch:A}=Ae({queryKey:["orders",t],queryFn:({queryKey:D})=>Hte(D[1])});k.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),k.useEffect(()=>{const D=C.indexOf(s),R=N.current[D];R&&v({left:R.offsetLeft,width:R.offsetWidth})},[s,C]);const M=k.useCallback(D=>R=>{N.current[D]=R},[]),T=D=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D),_=async D=>{const R=D.orderItems.map(U=>({variantId:U.variant.id,quantity:U.quantity}));if(await p(R)){const U=R.map(q=>q.variantId).join(",");g(`/cart/detail?buyback=${U}`)}else ce.error("Thm sn phm vo gi hng tht bi!")},I=D=>new Date(D).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return o.jsxs(o.Fragment,{children:[c.open?o.jsx(ehe,{order:c.data,onClose:()=>u({data:null,open:!1})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"sticky top-0 pt-[2rem] bg-white z-0",children:o.jsx("div",{className:"relative w-full overflow-x-auto hide-scrollbar",children:o.jsxs("ul",{className:`relative flex items-center border-b border-b-gray-300 z-0 
                  w-max min-w-full
                  snap-x snap-mandatory
                  scrollbar-hide
                  md:snap-none md:w-full`,children:[C.map((D,R)=>{const G=vM[D],U=D===s;if(D!==Le.DELIVERED)return o.jsx("li",{ref:M(R),className:`px-[2rem] md:px-[4rem] pb-[1rem] md:pb-[1.5rem] cursor-pointer select-none\r
                        snap-start\r
                        flex-shrink-0`,onClick:()=>{const q=D==="all"?"all":D;e(z=>({...z,status:q})),i(D)},children:o.jsx("div",{className:`${U?"text-red-500":""}`,children:G.title})},D)}),o.jsx("span",{className:"absolute bottom-0 border-t-[.2rem] border-t-red-400 transition-all duration-300",style:{left:x.left,width:x.width}})]})})}),o.jsx("div",{className:"px-[1rem] md:px-[2rem] pb-[2rem]",children:S?o.jsx(Po,{}):o.jsxs("div",{className:"mt-[2rem] space-y-8",children:[o.jsxs("div",{className:"flex mt-[2rem] h-[4rem] w-full border border-gray-300 bg-white rounded-md",children:[o.jsx("button",{type:"button",className:"pl-[1.5rem] text-gray-500 cursor-pointer",onClick:()=>e(D=>({...D,searchOrders:n})),children:o.jsx(F,{icon:Wn})}),o.jsx("input",{type:"text",id:"searchOrders",name:"searchOrders",value:n,placeholder:"Bn c th tm kim theo ID, tn sn phm",className:"w-full h-full rounded-md outline-none pl-[1.5rem]",onChange:D=>r(D.target.value)})]}),P.length>0?o.jsx(o.Fragment,{children:P?.map(D=>o.jsxs("div",{className:"shadow-md p-[1.5rem] border border-gray-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center justify-end mb-[1.5rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 pr-[1rem] mr-[1rem] border-r border-r-gray-300",children:["Ngy t: ",I(D.createdAt)]}),o.jsx("p",{className:`text-[1.2rem] md:text-[1.6rem] px-[1rem] md:px-[2rem] py-[.2rem] rounded-full ${Un(D.status).textColor} ${Un(D.status).bgColor}`,children:Un(D.status).text})]}),D.orderItems.length>0&&D.orderItems.map(R=>{const G=R.variant.product,U=D.status===Le.COMPLETED&&D.orderItems.some(q=>q.evaluate.length===0);return o.jsxs("div",{className:"pb-[2rem] mb-[2rem] border-b border-b-gray-300",children:[o.jsxs("div",{className:"flex items-center justify-between my-[1rem] cursor-pointer",onClick:()=>u({open:!0,data:D}),children:[o.jsxs("div",{className:"flex space-x-6 md:items-center ",children:[o.jsx("img",{src:G.mainImage,alt:`mainImage-${G.productName}`,className:"w-[6rem] h-[6rem] object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("p",{className:"max-w-2xl line-clamp-1 text-gray-900 select-none",children:G.productName}),o.jsx("p",{className:"flex items-center space-x-2 text-[1.2rem] text-gray-600",children:o.jsxs("span",{className:"block",children:["Size ",R.variant.variantSize.name,", Mu"," ",R.variant.variantColor.name]})}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",R.quantity]})]})]}),o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[1.6rem]",children:T(R.price*R.quantity)})]}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem]",children:[!U&&[Le.CANCELLED,Le.COMPLETED].includes(D.status)&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>_(D),children:"Mua li"}),U&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>w({open:!0,data:R}),children:o.jsxs("div",{className:"md:text-[1.6rem] text-[1.4rem] flex items-center space-x-2 ",children:[o.jsx(F,{icon:JR,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})]},R.id)}),o.jsxs("div",{className:"flex flex-col items-end justify-center",children:[o.jsxs("p",{className:"text-gray-600 md:text-[1.6rem] text-[1.4rem]",children:["Tng tin:"," ",o.jsx("span",{className:"text-red-600 md:text-[2rem] text-[1.6rem]",children:T(D.totalAmount)})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[D.status===Le.CANCELLED&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:border-gray-400 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:D.orderCode,data:D}),children:"Chi tit hy n"}),D.status===Le.PENDING&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:D.orderCode,data:null}),children:"Hy n hng"}),D.status===Le.SHIPPING&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>u({open:!0,data:D}),children:"Chi tit n vn"}),o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-amber-500 text-amber-600 rounded-md cursor-pointer",onClick:()=>f({open:!0,data:D}),children:" nhn c hng"})]})]})]})]},D.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center mt-[5rem]",children:[o.jsx("img",{src:e8,alt:"no order",className:"w-[20rem]"}),o.jsx("p",{className:"text-gray-600 mt-[1em]",children:"Khng c n hng no"})]})]})})]}),o.jsx(i8,{open:b.open,item:b.data,onClose:()=>w({open:!1,data:null}),refetch:A}),o.jsx(a8,{open:a.open,onClose:()=>l({open:!1,orderCode:null,data:null}),orderCode:a.orderCode,refetch:A,status:a?.data?.status,cancelReason:a?.data?.reason,cancelledAt:a.data?.updatedAt,cancelledBy:a.data?.customerName}),o.jsx(the,{open:d.open,onClose:()=>f({open:!1,data:null}),data:d.data,refetch:A})]})}function rhe(){const[t]=Ei(),e=t.get("buyNowVariant"),n=t.get("buyback"),{user:r}=kt(),s=tt(),[i,a]=k.useState([]),[l,c]=k.useState(!1),[u,d]=k.useState([]),{data:f}=Ae({queryKey:["cart"],queryFn:sS,enabled:!!r});k.useEffect(()=>{window.scrollTo(0,0)},[]),k.useEffect(()=>{if(r)if(f&&f.length>0){const M=f[0].items.map(T=>({id:T.variant.id,product:T.variant.product,variantSize:T.variant.variantSize,variantColor:T.variant.variantColor,price:T.price,quantity:T.quantity,inventory:T.variant.inventory,selected:!1}));a(M)}else a([]);else{const A=r?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(d(A),A.length===0){a([]);return}const M=A.map(_=>_.variantId);(async()=>{try{const _=await XR(M);if(_.status){const I=_.data.map(D=>{const R=A.find(G=>G.variantId===D.id);return{...D,quantity:R.quantity||1,selected:!1}});a(I)}}catch(_){console.log(_),ce.error(_.message)}})()}},[r,f]),k.useEffect(()=>{if(!e&&!n||i.length===0)return;const A=[];if(n&&A.push(...n.split(",").map(Number).filter(D=>!isNaN(D)&&D>0)),e){const D=Number(e);!isNaN(D)&&D>0&&A.push(D)}if(A.length===0)return;const M=[...new Set(A)];if(!i.some(D=>M.includes(D.id)))return;let _=!1;a(D=>{let R=!1;const G=D.map(U=>M.includes(U.id)&&!U.selected?(_=!0,R=!0,{...U,selected:!0}):U);return R?G:D}),_&&setTimeout(()=>{const D=document.querySelector("tr.bg-blue-50");D&&D.scrollIntoView({behavior:"smooth",block:"center"})},300);const I=new URL(window.location.href);I.searchParams.delete("buyback"),I.searchParams.delete("buyNowVariant"),window.history.replaceState({},"",I)},[i]),k.useEffect(()=>{const A=i.length>0&&i.every(T=>T.selected),M=i.every(T=>!T.selected);c(A&&!M)},[i]);const p=async(A,M)=>{const T=i.map(D=>D.id===A?{...D,quantity:M==="incre"?Math.min(D.inventory,D.quantity+1):Math.max(1,D.quantity-1)}:D);a(T);const _=T.find(D=>D.id===A).quantity,I={variantId:A,quantity:_};if(r)try{if((await fe.patch("/api/v1/cart-items/update-quantity",I)).status)return}catch(D){ce.error(D.message)}else{const D=u.map(R=>R.variantId===A?{...R,quantity:_}:R);d(D),localStorage.setItem("localCart",JSON.stringify(D))}},g=async A=>{if(r)try{await fe.delete(`/api/v1/cart-items/${A}`),a(M=>M.filter(T=>T.id!==A))}catch(M){ce.error(M.message||"Xa tht bi")}else{const M=u.filter(T=>T.variantId!==A);localStorage.setItem("localCart",JSON.stringify(M)),d(M),a(T=>T.filter(_=>_.id!==A))}},x=()=>{const A=!l;c(A),a(i.map(M=>({...M,selected:A})))},v=A=>{e&&A===Number(e)&&t.delete("buyNowVariant"),a(i.map(M=>M.id===A?{...M,selected:!M.selected}:M))},b=A=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(A),w=()=>i.filter(A=>A.selected).reduce((A,M)=>{const T=M.price||M.product?.price||0;return A+T*M.quantity},0),N=i.filter(A=>A.selected),C=N.length,P=()=>{const A={items:N.map(M=>({variantId:M.id,productId:M.product.id,productName:M.product.productName,mainImage:M.product.mainImage,price:M.price||M.product.price,quantity:M.quantity,size:M.variantSize?.name||"",color:M.variantColor?.name||"",inventory:M.inventory})),subtotal:w(),total:w(),timestamp:new Date().toISOString()};sessionStorage.setItem("checkoutData",JSON.stringify(A)),r?sessionStorage.setItem("checkoutFrom","authenticated"):sessionStorage.setItem("checkoutFrom","guest"),s("/checkout")},S=()=>{if(C===0){ce.error("Vui lng chn sn phm  thanh ton");return}const A=N.find(M=>M.quantity>M.inventory);if(A){ce.error(`Sn phm "${A.product.productName}" khng  s lng`);return}P()};return o.jsxs("div",{className:"w-full h-auto bg-gray-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(F,{icon:MN,className:"text-[1.4rem] lg:text-[1.6rem] text-red-500"}),o.jsx("h1",{className:" font-bold text-gray-800",children:"Gi hng ca bn"})]}),o.jsxs("span",{className:"text-[1rem] sm:text-[1.2rem] lg:text-[1.4rem] text-gray-500 pl-0 sm:pl-4",children:["(",i.filter(A=>A.selected).length," sn phm c chn)"]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-lg overflow-x-auto",children:[o.jsx("div",{className:"lg:hidden",children:i.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem]",children:"Gi hng trng"})}):o.jsx("div",{className:"divide-y divide-gray-200",children:i.map(A=>o.jsxs("div",{className:`p-4 ${A.selected?"bg-blue-50":""} hover:bg-gray-50 transition`,onClick:()=>v(A.id),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("button",{className:"mt-1",type:"button",children:o.jsx(F,{icon:A.selected?t1:r1,className:`text-[1.4rem] ${A.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("img",{src:A.product.mainImage,alt:A.product.productName,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg object-cover flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem] font-medium text-gray-800 line-clamp-2",children:A.product.productName}),A.inventory<5&&o.jsxs("p",{className:"text-[1.2rem] text-red-500 mt-1",children:["Ch cn ",A.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 mt-1 flex flex-wrap items-center gap-1",children:[o.jsxs("span",{children:["Size: ",A.variantSize.name]}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:["Mu: ",A.variantColor.name]})]})]})]})})]}),o.jsx("button",{className:"text-red-500 hover:text-red-700 transition ml-2",onClick:M=>{M.stopPropagation(),g(A.id)},children:o.jsx(F,{icon:b2,className:"text-[1.4rem]"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:"text-[1.2rem] sm:text-[1.6rem] font-semibold text-red-600",children:b(Number(A.price||A.product.price))}),A.price&&o.jsx("p",{className:"text-[1.4rem] text-gray-400 line-through",children:b(A.price)})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:M=>{M.stopPropagation(),p(A.id,"decre")},disabled:A.quantity<=1,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(F,{icon:Ul,className:"text-gray-500 text-xs sm:text-sm"})}),o.jsx("span",{className:"w-6 sm:w-8 text-center text-[1.2rem] sm:text-base text-gray-600",children:A.quantity}),o.jsx("button",{onClick:M=>{M.stopPropagation(),p(A.id,"incre")},disabled:A.quantity>=A.inventory,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(F,{icon:xa,className:"text-gray-500 text-xs sm:text-sm"})})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-[1.4rem] sm:text-base font-semibold text-red-600",children:b(Number(A.price||A.product.price)*Number(A.quantity))})})]})]},A.id))})}),o.jsxs("div",{className:"hidden lg:block",children:[o.jsxs("table",{className:"w-full text-[1.6rem]",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-5 text-left pl-6 font-normal",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:x,children:o.jsx(F,{icon:l?t1:r1,className:`text-[2rem] ${l?"text-blue-600":"text-gray-300"}`})}),o.jsx("span",{children:"Sn phm"})]})}),o.jsx("th",{className:"py-5 font-normal",children:"n gi"}),o.jsx("th",{className:"py-5 font-normal",children:"S lng"}),o.jsx("th",{className:"py-5 font-normal",children:"Thnh tin"}),o.jsx("th",{className:"py-5 font-normal",children:"Thao tc"})]})}),o.jsx("tbody",{children:i.map(A=>o.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition",onClick:()=>v(A.id),children:[o.jsx("td",{className:"py-6 pl-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",children:o.jsx(F,{icon:A.selected?t1:r1,className:`text-[2rem] ${A.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("img",{src:A.product.mainImage,alt:A.product.productName,className:"w-20 h-20 rounded-lg object-cover"}),o.jsxs("div",{className:"max-w-xs",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1",children:A.product.productName}),A.inventory<5&&o.jsxs("p",{className:"text-sm text-red-500 mt-1",children:["Ch cn ",A.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 flex items-center gap-[.5rem]",children:[o.jsxs("span",{children:["size: ",A.variantSize.name]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("span",{children:["mu: ",A.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-red-600",children:b(Number(A.price||A.product.price))}),A.price&&o.jsx("p",{className:"text-sm text-gray-400 line-through",children:b(A.price)})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("button",{onClick:M=>{M.stopPropagation(),p(A.id,"decre")},disabled:A.quantity<=1,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(F,{icon:Ul,className:"text-gray-500"})}),o.jsx("span",{className:"w-8 text-center text-gray-600",children:A.quantity}),o.jsx("button",{onClick:M=>{M.stopPropagation(),p(A.id,"incre")},disabled:A.quantity>=A.inventory,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(F,{icon:xa,className:"text-gray-500"})})]})}),o.jsx("td",{className:"text-center text-[1.4rem] text-red-600",children:b(Number(A.price||A.product.price)*Number(A.quantity))}),o.jsx("td",{className:"text-center",children:o.jsx("button",{className:"text-red-500 hover:text-red-700 transition p-3",onClick:M=>{M.stopPropagation(),g(A.id)},children:o.jsx(F,{icon:b2,className:"text-[1.4rem]"})})})]},A.id))})]}),i.length===0&&o.jsx("div",{className:"text-center py-20 text-gray-500",children:o.jsx("p",{className:"text-2xl",children:"Gi hng trng"})})]})]}),o.jsx("div",{className:"w-full lg:w-[40rem]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 sticky top-4 sm:top-6",children:[o.jsx("h2",{className:"font-bold text-gray-800 text-[1.4rem] sm:text-[1.6rem] mb-4 sm:mb-6",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-4 sm:space-y-6 text-[1.4rem] sm:text-[1.6rem] text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Tm tnh (",C," sn phm):"]}),o.jsx("span",{className:"font-semibold",children:b(w())})]}),o.jsxs("div",{children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("div",{className:"mt-2 sm:mt-4 text-[1.4rem] sm:text-[1.6rem] text-green-600",children:"Ph vn chuyn s c tnh chnh xc da trn a ch nhn hng"})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4 sm:pt-6",children:o.jsxs("div",{className:"flex justify-between text-[1.4rem] sm:text-[1.6rem]",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.6rem] sm:text-[1.8rem] text-red-600",children:b(w())})]})})]}),o.jsx("button",{disabled:i.length===0,className:`w-full mt-6 sm:mt-8 py-3 sm:py-4 rounded-xl font-bold text-[1.4rem] sm:text-[1.6rem] transition ${C===0?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600 shadow-lg text-white"}`,onClick:()=>S(),children:C===0?"Vui lng chn sn phm":"Thanh ton ngay"}),o.jsx("div",{className:"mt-3 sm:mt-4 text-center text-[1rem] sm:text-[1.2rem] text-gray-500",children:"Min ph vn chuyn cho n t 500.000"})]})})]})]})}function uS({openActionAddress:t,onClose:e,onSuccess:n}){const{user:r}=kt(),{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Qs({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}});k.useEffect(()=>{if(t.action==="edit"&&t.dataUpdate){const T=t.dataUpdate;f({province:T.province,district:T.district,ward:T.ward,recipentName:T.recipentName,addressDetail:T.addressDetail,phone:T.phone,isDefault:T.isDefault})}},[t.action,t.dataUpdate,f]);const{data:p}=Ae({queryKey:["province"],queryFn:qj}),g=d("province"),x=d("district"),b=p?.find(T=>T.name===g)?.districts??[],N=b.find(T=>T.name===x)?.wards??[],C=p?.map(T=>({value:T.name,label:T.name})),P=b?.map(T=>({value:T.name,label:T.name})),S=N?.map(T=>({value:T.name,label:T.name})),A=async T=>{try{let _=null;if(r){if(t.action==="edit"&&t.dataUpdate?_=await fe.patch(`/api/v1/address/update/${t.dataUpdate.id}`,T):_=await fe.post("/api/v1/address/add",{...T}),_.status){f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e(),n?.();return}}else{const I={...T};localStorage.setItem("guest_address",JSON.stringify(I)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:I}})),e(),n?.()}}catch(_){console.log(_),ce.error(_.message)}},M=()=>{f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e()};return o.jsxs(ut,{open:t.open,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600 mb-[2.5rem] font-bold text-center",children:t.action==="add"&&!t.dataUpdate?"Thm a ch":"Cp nht a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:T=>{T.stopPropagation(),M()},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:T=>{T.stopPropagation(),T.preventDefault(),a(A)(T)},children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"space-y-8 md:space-y-0 md:flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(ji,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:T})=>o.jsx(ua,{...T,options:C,placeholder:"Tnh...",isSearchable:!0,value:C?.find(_=>_.value===T.value)||null,onChange:_=>{T.onChange(_?.value),u("district",""),u("ward","")},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(ji,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:T})=>o.jsx(ua,{...T,options:P,placeholder:"Huyn...",isSearchable:!0,value:P?.find(_=>_.value===T.value)||null,onChange:_=>{T.onChange(_?.value),u("ward","")},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(ji,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:T})=>o.jsx(ua,{...T,options:S,placeholder:"Phng...",isSearchable:!0,value:S?.find(_=>_.value===T.value)||null,onChange:_=>{T.onChange(_?.value)},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),r&&o.jsxs("label",{htmlFor:"isDefault",className:"flex items-center w-[11rem] gap-[1rem] mt-[1.5rem]",children:[o.jsx("span",{className:"select-none text-gray-600",children:"Mc nh"}),o.jsxs("div",{className:"relative inline-block w-12 h-6",children:[o.jsx("input",{id:"isDefault",type:"checkbox",className:"peer hidden",...i("isDefault"),disabled:d("addressDetail")===""}),o.jsx("div",{className:"absolute inset-0 bg-gray-300 rounded-full peer-checked:bg-blue-500 transition"}),o.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"})]})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:T=>{T.stopPropagation(),M()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":t.action==="edit"?"Lu":"Thm"})]})]})]})}function she({open:t,onSelect:e,onClose:n,selectedId:r}){const{refreshUser:s,user:i}=kt(),[a,l]=k.useState(null),c=Xs(),[u,d]=k.useState({open:!1,dataUpdate:null,action:"add"}),[f,p]=k.useState([]);k.useEffect(()=>{if(i&&i.address.length>0){const v=i.address;p(v)}},[i]),console.log(f),k.useEffect(()=>{if(t&&r&&f){const v=f.find(b=>b.id===r);v&&l(v)}},[r,f]);const g=()=>{e(a),s(),n()},x=async()=>{d({open:!1,dataUpdate:null,action:"add"}),await c.invalidateQueries({queryKey:["user"]})};return o.jsxs(o.Fragment,{children:[o.jsxs(ut,{open:t,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] max-h-[65rem] overflow-hidden rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[2rem] text-center text-orange-600 font-bold",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:()=>n(),children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2rem] space-y-4 min-h-[40rem] max-h-[50rem] overflow-auto hide-scrollbar",children:[o.jsxs("div",{className:"flex items-center justify-between mb-[2rem]",children:[o.jsx("h4",{className:"text-gray-800",children:"a ch"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.3rem] px-[1rem] py-[.5rem] rounded-md border border-gray-300 text-gray-500 hover:bg-gray-100 transition duration-300 cursor-pointer",onClick:()=>d({open:!0,dataUpdate:null,action:"add"}),children:[o.jsx(F,{icon:$r,className:"text-[1.4rem]"}),o.jsx("span",{children:"Thm a ch"})]})]}),f&&f?.length>0?o.jsx(o.Fragment,{children:f.map(v=>o.jsxs("label",{htmlFor:`select-${v.id}`,className:"block md:flex items-center justify-between border border-dashed rounded-md p-[1rem] md:p-[2rem] border-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("span",{className:"w-[2rem] h-[2rem] flex items-center justify-center",children:o.jsx("input",{type:"radio",id:`select-${v.id}`,name:"select",className:"scale-[1.5]",style:{accentColor:"red"},checked:a?.id===v.id,onChange:()=>{l(v)}})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:v.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:v.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:v.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[v.ward,", ",v.district,", ",v.province]}),v.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},v.id)]}),o.jsxs("div",{className:"flex md:flex-col items-center space-x-4 md:space-x-0 md:space-y-4 md:mt-0 mt-5",children:[o.jsx("button",{type:"button",className:"w-full px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>d({open:!0,dataUpdate:v,action:"edit"}),children:"Cp nht"}),o.jsx("button",{type:"button",className:"w-full px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>{const b=f.filter(w=>w.id!==v.id);if(localStorage.setItem("guest_addresses",JSON.stringify(b)),b.length>0){const w=b[b.length-1];localStorage.setItem("guest_latest_address",JSON.stringify(w)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:w}}))}else localStorage.removeItem("guest_latest_address"),localStorage.removeItem("guest_addresses"),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added"}}));p(b)},children:"Xa"})]})]},v.id))}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(F,{icon:RN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>g(),children:"Xc nhn"})]})]}),o.jsx(uS,{openActionAddress:u,onClose:()=>d({open:!1,dataUpdate:null,action:"add"}),onSuccess:x})]})}function ihe({open:t,onClose:e}){const n=tt();return o.jsxs(ut,{open:t,className:"relative w-[95%] md:w-[60rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:" text-gray-600 mb-[2.5rem]",children:"Email ny  c ti khon vui lng ng nhp  tip tc!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[3rem] flex items-center gap-[1rem] justify-end ",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp ngay"})]})]})}function ahe({open:t,selected:e,onClose:n,setSelectVoucher:r,conditionValue:s}){const[i,a]=k.useState(""),{data:l}=Ae({queryKey:["getSavedVouchers"],queryFn:()=>aS(),staleTime:120*1e3,enabled:t}),[c,u]=k.useState({open:!1,content:"",isSuccess:!0}),d=l&&l.data.filter(x=>!x.usedAt);console.log(d);const f=x=>gn(x).format("HH:mm DD/MM/YYYY"),p=x=>{if(new Date>new Date(x.endDate)){u({open:!0,content:"Voucher  ht hn!",isSuccess:!1});return}if(s&&s<x.minOrderValue){u({open:!0,content:"Gi n khng  iu kin s dng vocuher ny!",isSuccess:!1});return}r(b=>({...b,open:!1,voucher:x}))},g=async x=>{try{const v=await fe.post(`/api/v1/check-voucher/${x}`);v.status&&r({open:!1,voucher:v.data,conditionValue:v.data.minOrderValue})}catch(v){console.log(v),ce.error(v.message)}};return o.jsxs(ut,{open:t,className:"relative flex flex-col w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(F,{icon:Ct,className:"text-3xl"})}),o.jsx("h2",{className:"text-3xl  font-bold text-center text-pink-600",children:"Voucher gim gi"})]}),o.jsxs("div",{className:"px-8 space-y-4 z-0",children:[o.jsx("div",{className:"w-full p-8 bg-gray-100 rounded-2xl flex items-center justify-center mt-4",children:o.jsxs("div",{className:"w-4xl flex items-center space-x-4",children:[o.jsx("p",{children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",className:"flex-1 bg-white h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.5rem]",placeholder:"Nhp m voucher...",onChange:x=>a(x.target.value)}),o.jsx("button",{className:`h-[4rem] px-8 rounded-md ${i===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"}  transition-colors duration-300`,onClick:()=>g(i),children:"p dng"})]})}),d?.length>0?o.jsx("div",{className:"grid grid-cols-2 gap-[1rem]",children:d?.map(x=>{const v=e&&e.id===x.id,b=s&&x.minOrderValue<=s;return o.jsxs("div",{className:`flex items-center bg-gradient-to-r ${b?"from-pink-500 to-blue-600":"from-gray-300 to-gray-500"}  rounded-2xl p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-30 h-30 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-46 h-46 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative w-full z-10",children:[o.jsx("h3",{className:"text-[1.4rem] text-nowrap select-none",children:x.name}),o.jsxs("div",{className:"text-[2rem] font-bold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] gap-2",children:["HSD: n ",f(x.endDate)]}),o.jsx("div",{className:"w-full flex justify-end mt-2",children:o.jsx("button",{className:`text-[1.2rem] px-6 py-2 rounded-xl  ${b?`${v?"bg-red-500 text-white":"text-red-600 hover:text-red-700 hover:border-red-500 bg-white"} cursor-pointer`:"bg-gray-400 cursor-not-allowed"}  border border-transparent  transition-colors duration-300 `,onClick:()=>p(x),disabled:!b,children:v?"ang p dng":"p dng"})})]})]},x.id)})}):o.jsx("div",{className:"py-16 text-center",children:"ng nhp  lu voucher"})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-8 py-6 text-end z-10",children:o.jsx("button",{onClick:n,className:"px-12 py-3 bg-gray-200 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})}),o.jsx(qu,{content:c.content,duration:1e3,showNotify:c.open,isSuccess:c.isSuccess})]})}function ohe(){const{user:t,refreshUser:e}=kt(),n=tt(),[r,s]=k.useState({open:!1,selectedId:null}),[i,a]=k.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=k.useState(null),[u,d]=k.useState(!1),[f,p]=k.useState(0),[g,x]=k.useState(!1),[v,b]=k.useState(0),[w,N]=k.useState(0),[C,P]=k.useState(0),[S,A]=k.useState(!1),[M,T]=k.useState([]),[_,I]=k.useState({open:!1,voucher:null,conditionValue:null}),D=Xs(),{register:R,handleSubmit:G,formState:{errors:U,isSubmitting:q},setValue:z,watch:B}=Qs({defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerWard:"",customerDistrict:"",customerProvince:"",customerNote:"",paymentMethod:es.COD,couponCode:"",orderItems:[]}}),$=B("customerProvince"),Q=B("paymentMethod"),[H,V]=k.useState(null);k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),k.useEffect(()=>{if(t&&(z("customerPhone",t.phone?.toString()||""),z("customerEmail",t.email||""),t.address.length>0)){const te=t?.address.find(de=>de.isDefault);te&&(c(te),z("customerName",te.recipentName||t.username||""),z("customerAddress",te.addressDetail),z("customerWard",te.ward),z("customerDistrict",te.district),z("customerProvince",te.province),s({open:!1,selectedId:te.id}))}},[t,z]),k.useEffect(()=>{const te=()=>{if(t)return;const xe=localStorage.getItem("guest_address");if(xe){const Se=JSON.parse(xe);c(Se),z("customerAddress",Se.addressDetail),z("customerWard",Se.ward),z("customerDistrict",Se.district),z("customerProvince",Se.province)}else c(null),z("customerAddress",""),z("customerWard",""),z("customerDistrict",""),z("customerProvince","")};te();const de=xe=>{const Se=xe,{action:rt}=Se.detail||{};rt==="cleared"?(c(null),z("customerAddress",""),z("customerWard",""),z("customerDistrict",""),z("customerProvince","")):te()};return window.addEventListener("guest_address_updated",de),()=>{window.removeEventListener("guest_address_updated",de)}},[t,z]),k.useEffect(()=>{const te=sessionStorage.getItem("checkoutData");if(!te){ce.error("Khng tm thy thng tin n hng!"),n("/cart/detail");return}const de=JSON.parse(te),xe=de.items.map(Se=>({productId:Se.productId,variantId:Se.variantId,price:Number(Se.price),quantity:Se.quantity}));z("orderItems",xe),V(de)},[n,z]),k.useEffect(()=>{if(!t||!H||H?.items?.length===0)return;(async()=>{try{const de=H.items.map(Se=>Se.productId),xe=await fe.post("/api/v1/flashsale/check-products",{productIds:de});xe.status&&xe.data&&T(xe.data)}catch(de){console.log(de)}})()},[H,t]),k.useEffect(()=>{if(!H||!M.length){N(H?.subtotal||0);return}let te=0;H.items.forEach(de=>{const xe=M.find(rt=>rt.productId===de.productId);let Se;if(!xe||!xe.isFlashActive||xe.remainingSlot<=0)Se=de.price*de.quantity;else{const rt=Number(xe.sale_price),Ge=de.price,Oe=Math.min(de.quantity,Number(xe.remainingSlot)),ie=de.quantity-Oe;Se=Oe*rt+Ge*ie}te+=Se}),N(te)},[H,M]),k.useEffect(()=>{if(!H)return;let te=0;if(t&&_.voucher){const xe=_.voucher,Se=w;xe.type===mi.PERCENT?(te=Number(Se)*xe.value/100,te>xe.maxDiscount&&(te=xe.maxDiscount)):te=xe.value}b(te);const de=w+f-te;P(de)},[_.voucher,H,f,t,w]);const Y=async te=>{if(H){x(!0);try{const de=await fe.post("/api/v1/orders/calculate-shipping",{subTotal:w,customerProvince:te.province});if(de.status)p(de.data.shippingFee),P(w+de.data.shippingFee);else{const xe=w>=5e5?0:35e3;p(xe),P(w+xe)}}catch{const xe=w>=5e5?0:35e3;p(xe),P(w+xe)}finally{x(!1)}}};k.useEffect(()=>{H&&$&&Y({province:$})},[$,H]),k.useEffect(()=>{if(t===void 0)return;sessionStorage.getItem("checkoutFrom")==="authenticated"&&!t&&(ce.error("Phin ng nhp  ht hn! Vui lng chn li sn phm."),sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),n("/cart/detail",{replace:!0}))},[t,n]);const Z=te=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(te),ee=te=>{c(te),z("customerName",te.recipentName),z("customerPhone",te.phone.toString()),z("customerAddress",te.addressDetail),z("customerWard",te.ward),z("customerDistrict",te.district),z("customerProvince",te.province),s({open:!1,selectedId:te.id})},le=async te=>{try{const de={shippingFee:f,totalAmount:C,...te,..._.voucher&&v?{voucherCode:_.voucher.voucherCode,discountAmount:v}:{}};console.log(de);const xe=await fe.post("/api/v1/orders/create",de);if(xe.status){if(sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),!t){const Se=localStorage.getItem("guest_orders");if(Se){const rt=JSON.parse(Se);rt.push(xe.data.orderCode),localStorage.setItem("guest_orders",JSON.stringify(rt))}else localStorage.setItem("guest_orders",JSON.stringify([xe.data.orderCode]))}ce.success(xe.data.message||"t hng thnh cng!"),te.paymentMethod!==es.COD?window.location.href=xe.data.paymentUrl:n(`/order-confirmation/${xe.data.orderCode}`,{replace:!0}),t&&await e()}else xe.existingEmail&&A(!0)}catch(de){console.log(de),ce.error(de.message||"C li xy ra khi t hng. Vui lng th li!")}},ge=async()=>{a({open:!1,dataUpdate:null,action:"add"}),t&&await D.invalidateQueries({queryKey:["user"]})};return H?o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>n("/cart/detail",{replace:!0}),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4 sm:mb-6",children:[o.jsx(F,{icon:qs}),o.jsx("span",{children:"Quay li gi hng"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800",children:"Thanh ton"}),!t&&o.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-blue-800 text-[1.4rem]",children:["Bn ang mua hng vi t cch ",o.jsx("strong",{children:"khch vng lai"}),".",o.jsx("button",{onClick:()=>n("/login",{state:{from:"/checkout"}}),className:"ml-2 text-blue-600 underline font-medium cursor-pointer",children:"ng nhp"})," "," c th s dng voucher v cc m gim gi khc!"]})})]}),o.jsx("form",{onSubmit:G(le),children:o.jsxs("div",{className:"grid lg:grid-cols-5 gap-6 lg:gap-8",children:[o.jsx("div",{className:"lg:col-span-3 space-y-6 lg:space-y-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg pt-6 lg:pt-10 px-4 sm:px-6 lg:px-10 pb-6 lg:pb-18",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 lg:mb-6",children:[o.jsx(F,{icon:N2,className:"text-xl lg:text-2xl text-red-500"}),o.jsx("h2",{className:"font-bold",children:"Thng tin giao hng"})]}),o.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 lg:gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...R("customerName",{required:"Vui lng nhp h tn!"})}),U.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:U.customerName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerPhone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"tel",placeholder:"S in thoi *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",readOnly:!!t?.phone,...R("customerPhone",{required:"Vui lng nhp s in thoi!"})}),U.customerPhone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:U.customerPhone.message})]})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerEmail",className:"block text-gray-600",children:"Email"}),o.jsx("input",{type:"email",placeholder:"Email (ty chn)",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300 md:col-span-2 select-none",readOnly:!!t?.email,...R("customerEmail",{required:"Vui lng nhp email!"})}),U.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:U.customerEmail.message})]}),o.jsxs("div",{className:"w-full space-y-2",children:[o.jsx("label",{className:"block text-gray-600 font-medium",children:"a ch giao hng"}),o.jsx("div",{className:"space-y-4",children:l?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border border-dashed rounded-md p-4 lg:p-[2rem] border-gray-300 gap-4",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 lg:gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:l.recipentName}),o.jsx("span",{className:"hidden sm:block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:l.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:l.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[l.ward,", ",l.district,","," ",l.province]}),l.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm inline-block mt-2",children:"Mc nh"})]},l.id),o.jsx("div",{className:"flex space-y-2 sm:flex-col sm:space-y-4",children:o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-amber-500 border-amber-400 hover:border-amber-600 hover:text-amber-600 rounded-sm w-full sm:w-auto",onClick:()=>{t?s({open:!0,selectedId:l.id}):a({open:!0,action:"edit",dataUpdate:l})},children:"Thay i"})})]},l.id):o.jsxs("button",{type:"button",className:"flex items-center justify-center gap-[.5rem] text-center rounded-md px-4 lg:px-[2rem] py-3 lg:py-[.6rem] border border-dashed border-blue-500 cursor-pointer hover:border-blue-600 text-blue-500 hover:text-blue-600 w-full",onClick:()=>{t?s({open:!0,selectedId:null}):a({open:!0,action:"add",dataUpdate:null})},children:[o.jsx(F,{icon:$r,className:"text-[1.5rem] lg:text-[2rem]"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] lg:text-[1.6rem] select-none",children:"Thm a ch"})]})})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerNote",className:"block text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{placeholder:"Ghi ch cho shop (ty chn)",rows:2,className:"w-full pl-[1rem] lg:pl-[1.5rem] py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 md:col-span-2",...R("customerNote")})]})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-4 sm:px-6 py-6 lg:py-10 sticky top-4 lg:top-6",children:[o.jsxs("h2",{className:"font-bold text-gray-800 mb-4 lg:mb-6 flex items-center gap-3",children:[o.jsx(F,{icon:cx,className:"text-red-500"}),o.jsxs("span",{children:["n hng (",H.items.length," sn phm)"]})]}),o.jsx("div",{className:"space-y-4 max-h-64 sm:max-h-80 lg:max-h-96 overflow-y-auto pr-2 mb-4 lg:mb-6",children:H.items.map((te,de)=>{const xe=M.find(ie=>ie.productId===te.productId);let Se,rt,Ge=!1,Oe="";if(!xe||!xe.isFlashActive||xe.remainingSlot<=0)Se=te.price,rt=te.price*te.quantity;else{const ie=Number(xe.sale_price),Me=te.price,Xe=Math.min(te.quantity,xe.remainingSlot),vt=te.quantity-Xe;rt=Xe*ie+Me*vt,Se=ie,Ge=!0,Xe<te.quantity?Oe=`(FlashSale: p dng ${Xe}/${te.quantity} sp)`:Oe=`(FlashSale: ${xe.discount}% - cn ${xe.remainingSlot} slot)`}return o.jsxs("div",{className:"flex justify-between gap-3 lg:gap-4 pb-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex items-center gap-3 lg:gap-[1rem] min-w-0",children:[o.jsx("img",{src:te.mainImage,alt:te.productName,className:"w-22 h-22 lg:w-26 lg:h-26 rounded-lg object-cover border border-gray-300 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1 text-[1.4rem]",children:te.productName}),te.size&&te.color&&o.jsxs("p",{className:"text-[1.2rem] text-gray-500 truncate",children:[te.color," / ",te.size]}),o.jsxs("span",{className:"text-[1.2rem]",children:["S lng:","  ",te.quantity]}),o.jsxs("div",{className:"mt-1 text-[1.2rem] flex items-center",children:[Ge?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-red-400 line-through",children:Z(te.price)}),o.jsx("span",{className:"ml-2 font-bold text-red-600",children:Z(Se)})]}):o.jsx("span",{className:"font-semibold text-red-600",children:Z(Se)}),Oe&&o.jsx("span",{className:"ml-2 text-orange-600 text-[1rem] md:text-[1.2rem]",children:Oe})]})]})]}),o.jsx("p",{className:"text-red-600 whitespace-nowrap text-[1.4rem] flex-shrink-0",children:Z(rt)})]},de)})}),o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:_.voucher?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[o.jsx("p",{className:"text-blue-600",children:" p dng voucher:"}),o.jsxs("div",{className:"flex space-x-4 gap-2",children:[o.jsx("button",{type:"button",onClick:()=>I(te=>({...te,open:!0})),className:"text-blue-600 hover:text-blue-700 cursor-pointer text-[1.4rem]",children:"i"}),o.jsx("button",{type:"button",onClick:()=>{I({open:!1,voucher:null,conditionValue:w}),b(0)},className:"text-red-600 hover:text-red-700 cursor-pointer text-[1.4rem]",children:"B"})]})]}):o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:o.jsx("p",{className:"text-blue-600 cursor-pointer hover:text-blue-700 select-none text-center sm:text-left",onClick:()=>{t?I({open:!0,voucher:null,conditionValue:w}):d(!0)},children:"Chn hoc nhp m voucher"})})}),o.jsxs("div",{className:"mt-4 lg:mt-6 pt-4 lg:pt-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex justify-between text-[1.4rem]",children:[o.jsx("span",{className:"text-gray-800",children:"Tm tnh:"}),o.jsx("span",{children:Z(w)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600",children:g?o.jsx("span",{className:"text-gray-500",children:"ang tnh..."}):f===0?"Min ph":Z(f)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Voucher p dng:"}),o.jsxs("span",{className:"text-red-600",children:["- ",Z(v)]})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4",children:o.jsxs("div",{className:"flex justify-between font-bold",children:[o.jsx("span",{children:"Tng cng:"}),o.jsx("span",{className:"text-red-600",children:Z(C)})]})})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(F,{icon:cY,className:"text-lg text-green-600"}),o.jsx("h3",{className:"font-bold text-gray-800",children:"Thanh ton"})]}),o.jsx("div",{className:"space-y-3",children:Object.values(es).map(te=>o.jsxs("label",{className:`flex items-center gap-3 p-2 border-1 rounded-lg cursor-pointer transition-all ${Q===te?"border-pink-400 bg-pink-50":"border-gray-200 hover:border-gray-400"}`,children:[o.jsx("input",{type:"radio",name:"payment",value:te,checked:Q===te,onChange:()=>z("paymentMethod",te),className:"w-4 h-4 text-green-500"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F,{icon:QG,className:"text-lg text-green-600"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] uppercase truncate",children:te}),o.jsx("p",{className:"text-[1.2rem] text-gray-600 truncate",children:"Thanh ton khi nhn hng"})]})]})}),Q===te&&o.jsx(F,{icon:Wl,className:"text-lg text-pink-500 flex-shrink-0"})]},te))})]}),o.jsx("button",{className:"w-full mt-6 py-3 lg:py-5 uppercase bg-red-500 hover:bg-red-600 text-white text-lg lg:text-xl font-bold rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95",type:"submit",disabled:q,children:q?"ang x l":"T NGAY"})]})})]})}),r.open&&o.jsx(she,{open:r.open,onSelect:ee,selectedId:r.selectedId,onClose:()=>s({open:!1,selectedId:l?.id??null})}),o.jsx(uS,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:ge}),o.jsx(ihe,{open:S,onClose:()=>A(!1)}),o.jsx(HI,{children:_.open&&o.jsx(ahe,{open:_.open,selected:_.voucher,setSelectVoucher:I,onClose:()=>I(te=>({...te,open:!1})),conditionValue:_.conditionValue})}),o.jsx(oS,{open:u,onClose:()=>d(!1)})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-2xl text-gray-500",children:"ang ti thng tin n hng..."})})}function lhe(){const{user:t,refreshUser:e}=kt(),n=t?.address,[r,s]=k.useState(!1),[i,a]=k.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=k.useState({open:!1,delete:null}),u=async()=>{try{if(s(!0),(await fe.delete(`/api/v1/address/delete/${l.delete}`)).status){c({open:!1,delete:null}),await e();return}}catch(p){console.log(p),c({open:!1,delete:null}),ce.error(p.message)}finally{s(!1)}},d=async p=>{try{if((await fe.patch(`/api/v1/address/set-default/${p}`)).status){await e();return}}catch(g){console.log(g),ce.error(g.message)}},f=async()=>{await e()};return o.jsxs("div",{className:"p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"a ch ca ti"}),o.jsxs("button",{className:"flex items-center gap-[.5rem] px-5 py-2.5 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>a({open:!0,action:"add",dataUpdate:null}),children:[o.jsx(F,{icon:$r,className:"text-white"}),o.jsx("span",{className:"text-white",children:"Thm a ch"})]})]}),o.jsx("div",{className:"mt-[2rem] space-y-4",children:n&&n?.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h4",{className:"text-[1.8rem] text-gray-800 mb-[2rem]",children:"a ch"}),n.map(p=>o.jsxs("div",{className:"flex md:items-center flex-col md:flex-row justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:p.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:p.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:p.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[p.ward,", ",p.district,", ",p.province]}),p.isDefault&&o.jsx("button",{className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},p.id),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] md:mt-0 mt-5",children:[o.jsx("button",{className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>a({open:!0,dataUpdate:p,action:"edit"}),children:"Cp nht"}),!p.isDefault&&o.jsx("button",{className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>c({open:!0,delete:p.id}),children:"Xa"})]}),o.jsx("button",{className:`px-[1rem] py-[.4rem] text-[1.4rem] border ${p.isDefault?"text-gray-400 border-gray-200 cursor-not-allowed":"text-orange-500 border-orange-400 hover:border-orange-600 hover:text-orange-600"}  rounded-sm`,disabled:p.isDefault,onClick:()=>d(p.id),children:"Thit lp mc nh"})]})]},p.id))]}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(F,{icon:RN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})}),o.jsx(uS,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:f}),o.jsxs(ut,{open:l.open,className:"relative w-[50rem] min-h-[10rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[1.8rem] text-gray-800",children:"Bn c chc mun xa a ch ny?"}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-gray-600 bg-gray-200  hover:bg-gray-300 rounded-sm",onClick:()=>c({open:!1,delete:null}),disabled:r,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm",onClick:()=>u(),disabled:r,children:r?"ang x l...":"Xa"})]})]})]})}const che={[ul.NOT_USING]:"Ti khng cn s dng na",[ul.PRIVACY_CONCERNS]:"Lo ngi v quyn ring t",[ul.FOUND_BETTER_ALTERNATIVE]:"Tm c website/app tt hn",[ul.ACCOUNT_ISSUE]:"Gp vn  vi ti khon",[ul.OTHER]:"L do khc"};function uhe(){const{logout:t}=ac(),[e,n]=k.useState(!1),r=tt(),[s,i]=k.useState(!1),[a,l]=k.useState({reason:null,confirm:!1,password:""}),[c,u]=k.useState({reason:null,confirm:null,password:null}),d=async()=>{n(!0)},f=async()=>{u({reason:null,confirm:null,password:null});let p=!1;if(a.password===""&&(u(g=>({...g,password:"Vui lng nhp mt khu  xc thc!"})),p=!0),a.reason||(u(g=>({...g,reason:"Vui lng chn l do xa ti khon!"})),p=!0),a.confirm||(u(g=>({...g,confirm:"Vui lng xc nhn xa ti khon!"})),p=!0),!p){i(!0);try{const g=await fe.post("/api/v1/user/delete-account",a);g.status&&(localStorage.removeItem("guest_address"),ce.success(g.message||"Xa ti khon thnh cng!"),await t(),r("/"))}catch(g){console.log(g),ce.error(g.message||"Xa ti khon khng thnh cng!"),g.message.toLowerCase().includes("mt khu")&&u(x=>({...x,password:"Mt khu khng chnh xc!"}))}finally{i(!1)}}};return o.jsxs("div",{className:"p-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"Quyn ring t & Xa ti khon"})}),e?o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("button",{className:"flex items-center gap-[.5rem] px-8 py-2.5 rounded-md hover:bg-gray-50 hover:border-gray-400 transition duration-300 cursor-pointer border border-gray-300 text-[1.4rem]",onClick:()=>n(!1),disabled:s,children:[o.jsx(F,{icon:_N,className:"text-gray-600 text-[1.4rem]"}),o.jsx("span",{className:"text-gray-600",children:"Quay li"})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"password",className:"text-gray-600",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",name:"password",value:a.password,placeholder:"Nhp mt khu ti khon ca bn...",className:"w-full h-[4rem] rounded-md border border-gray-300 focus:border-cyan-400 outline-none px-[1.5rem] mt-[.5rem]",onChange:p=>{l(g=>({...g,password:p.target.value})),c.password&&u(g=>({...g,password:null}))}}),c.password&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem]",children:c.password}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do bn mun xa ti khon"}),o.jsxs("div",{className:"space-y-8 pl-[2rem] mt-[2rem]",children:[Object.entries(che).map(([p,g])=>o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("input",{type:"radio",id:`reason-${p}`,name:"reason",className:"cursor-pointer",style:{scale:1.5},checked:p===a.reason,onChange:()=>{l(x=>({...x,reason:p})),c.reason&&u(x=>({...x,reason:null}))}}),o.jsx("label",{htmlFor:`reason-${p}`,className:"text-gray-800 select-none cursor-pointer",children:g})]},p)),c.reason&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem] pl-[2rem]",children:c.reason})]})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"w-full h-auto p-[1rem] mb-[1rem] border border-amber-400 text-amber-800 bg-amber-50",children:" Xa ti khon tt s xa ton b d liu v gi hng v cc cu hnh thng tin c nhn. Bn c chc ch?"}),o.jsxs("div",{className:"flex items-center space-x-4 pl-[2rem]",children:[o.jsx("input",{type:"checkbox",id:"confirm",className:"",checked:a.confirm,style:{scale:1.5},onChange:p=>{l(g=>({...g,confirm:p.target.checked})),c.confirm&&u(g=>({...g,confirm:null}))}}),o.jsx("label",{htmlFor:"confirm",className:"text-gray-600",children:"Xc nhn xa ti khon"})]}),c.confirm&&o.jsx("p",{className:"text-red-500 mt-[.5rem] pl-[2rem] text-[1.4rem]",children:c.confirm})]}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm ${s?"cursor-not-allowed":""}`,onClick:()=>{f()},disabled:s,children:s?"ang x l...":"Xa ti khon"})})]})]}):o.jsxs("div",{className:"flex items-center justify-between mt-[2rem]",children:[o.jsx("h3",{className:" text-gray-600",children:"Yu cu xa ti khon"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.5rem] px-8 py-4 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>{d()},children:[o.jsx(F,{icon:Vu,className:"text-white text-[1.4rem]"}),o.jsx("span",{className:"text-white",children:"Xa ti khon"})]})]})]})}function dhe(){const{user:t}=kt(),[e,n]=k.useState(null),[r,s]=k.useState(!1),[i,a]=k.useState(void 0),[l,c]=k.useState(!1),[u,d]=k.useState(null),{register:f,formState:{errors:p,isSubmitting:g},reset:x,watch:v,setValue:b,handleSubmit:w}=Qs({defaultValues:{user:{username:"",email:"",phone:void 0,avatar:null},customer:{birthday:"",gender:""}}}),N=v("user.phone"),C=v("user.avatar");k.useEffect(()=>{t&&(x({user:{username:t.username,email:t.email,phone:t.phone},customer:{birthday:t?.customer?.birthday,gender:t?.customer?.gender}}),a(t.phone),t.avatar&&n(t.avatar))},[t,x]),k.useEffect(()=>{if(C&&C.length>0){const M=C[0],T=URL.createObjectURL(M);return n(T),()=>URL.revokeObjectURL(T)}},[C]);const P=async M=>{try{const T=new FormData;T.append("user[username]",M.user.username),T.append("user[email]",M.user.email),M.user.phone!==void 0&&M.user.phone!==null&&String(M.user.phone)!==""&&T.append("user[phone]",String(M.user.phone)),M.customer.gender&&String(M.customer.gender)!==""&&T.append("customer[gender]",M.customer.gender),M.customer.birthday&&T.append("customer[birthday]",new Date(M.customer.birthday).toISOString().split("T")[0]),M.user.avatar&&M.user.avatar.length>0&&T.append("avatar",M.user.avatar[0]);for(const I of T.entries())console.log(I[0],I[1]);const _=await fe.patch(`/api/v1/user/update-customer/${t?.customer.id}`,T,{headers:{"Content-Type":"multipart/form-data"}});_.status&&(d(_.message||"Cp nht thnh cng!"),c(!0),setTimeout(()=>{c(!1)},800))}catch(T){console.log(T),d(T.message||"Cp nht tht bi!"),c(!0),setTimeout(()=>{c(!1)},800)}},S=()=>{N&&/^[0-9]{10,11}$/.test(N.toString())&&s(!1)},A=()=>{b("user.phone",i),s(!1)};return o.jsxs("div",{className:"w-full h-full p-[1rem] xs:p-[1.5rem] sm:p-[2rem]",children:[o.jsxs("div",{className:"pb-[1.5rem] sm:pb-[1.9rem] border-b border-b-gray-200",children:[o.jsx("h4",{className:"text-[1.8rem] sm:text-[2rem] text-gray-800",children:"H S Ca Ti"}),o.jsx("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row mt-[2rem] sm:mt-[3rem] gap-6 lg:gap-0",children:[o.jsx("div",{className:"flex-1 order-2 lg:order-1",children:o.jsxs("form",{onSubmit:w(P),className:"space-y-8 md:space-y-10",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex text-[1.4rem] md:text-[1.6rem] items-center gap-[1rem] md:gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Tn"}),o.jsx("input",{type:"text",className:"md:flex-1 w-full h-[4rem] pl-[1.5rem] rounded-md border border-gray-300 outline-none text-gray-600",...f("user.username",{required:"Tn khng c  trng"})})]}),p.user?.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.username.message})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex md:flex-row items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"email",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Email"}),o.jsx("input",{type:"email",className:"md:flex-1 w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("user.email",{required:"Email khng c  trng"})})]}),p.user?.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.email.message})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"phone",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"S in thoi"}),N?o.jsxs("div",{className:"flex items-center gap-[.5rem] flex-wrap",children:[o.jsx("p",{className:"text-gray-600",children:N}),o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] rounded-md bg-blue-400 text-[1.2rem] text-white hover:bg-blue-500 hover:underline transition duration-150",onClick:()=>s(!0),children:"i"})]}):o.jsx("p",{className:"text-blue-500 hover:text-blue-600 underline cursor-pointer",onClick:()=>s(!0),children:"Thm s in thoi"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"gender",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Gii tnh"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] sm:gap-[2rem] text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"male",id:"male",...f("customer.gender")}),o.jsx("label",{htmlFor:"male",children:"Nam"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"female",id:"female",...f("customer.gender")}),o.jsx("label",{htmlFor:"female",children:"N"})]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full md:w-[20rem] h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("customer.birthday")})]}),o.jsx("div",{className:"flex items-center justify-start md:justify-end pt-4",children:o.jsx("button",{className:"w-full sm:w-auto px-[2rem] py-[.8rem] rounded-md bg-red-500 hover:bg-red-600 text-white transition duration-150 cursor-pointer",type:"submit",disabled:g,children:g?"ang x l...":"Lu"})})]})}),o.jsx("div",{className:"w-full lg:w-[30rem] h-auto pl-0 lg:pl-[4rem] ml-0 lg:ml-[4rem] border-l-0 lg:border-l border-l-gray-300 mb-[2rem] lg:mb-0 order-1 lg:order-2",children:o.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e?o.jsx("div",{className:"w-[10rem] md:w-[12rem] h-[10rem] md:h-[12rem] sm:w-[14rem] sm:h-[14rem] rounded-full flex items-center justify-center",children:o.jsx("img",{src:e,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}):o.jsx("div",{className:"w-[10rem] h-[10rem] sm:w-[12rem] sm:h-[12rem] rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center",children:o.jsx(F,{icon:iS,className:"text-[3rem] sm:text-[4rem] text-gray-400"})}),o.jsxs("label",{htmlFor:"avatar",className:"text-[1.4rem] md:text-[1.6rem] flex items-center justify-center w-[12rem] h-[3.8rem] rounded-md border border-gray-500 border-dashed cursor-pointer mt-[2rem] text-gray-600 hover:bg-gray-50 transition duration-150",children:[o.jsx("input",{type:"file",id:"avatar",className:"hidden",accept:"image/*",...f("user.avatar")}),"Chn nh"]})]})})]}),o.jsxs(ut,{open:r,className:"relative w-[90vw] sm:w-[32rem] md:w-2xl max-w-[90vw] min-h-[18rem] bg-white rounded-md p-[1.5rem] sm:p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1rem] right-[1rem] cursor-pointer w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition",onClick:()=>A(),children:o.jsx(F,{icon:Ct,className:"text-gray-600 hover:text-gray-800 text-[1.6rem]"})}),o.jsx("h3",{className:"text-gray-600 text-[1.6rem] sm:text-[1.8rem]",children:"Thay i s in thoi"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("input",{type:"number",className:"w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",placeholder:"Nhp s in thoi",...f("user.phone",{pattern:{value:/^[0-9]{10,11}$/,message:"S in thoi khng hp l"}})}),p.user?.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-2",children:p.user.phone.message})]}),o.jsx("button",{className:`block mt-[2rem] w-full sm:w-[10rem] h-[4rem] ${N&&/^[0-9]{10,11}$/.test(N.toString())?"bg-red-500 hover:bg-red-600 text-white":"bg-red-400 text-gray-200 cursor-not-allowed"} rounded-lg transition duration-150 ml-auto`,disabled:!N||!/^[0-9]{10,11}$/.test(N.toString()),onClick:S,children:"Tip theo"})]}),o.jsx(ut,{open:l,className:"relative w-[90vw] sm:w-[30rem] max-w-[90vw] min-h-[15rem] bg-white rounded-md p-[2rem] sm:p-[3rem] shadow-lg",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-[1.5rem]",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(F,{icon:ss,className:"text-white text-[3rem]"})}),o.jsx("h3",{className:"text-[1.6rem] text-gray-800 text-center",children:u})]})})]})}function hhe({children:t}){const{user:e,loading:n}=kt();return n?o.jsx("div",{children:"Loading..."}):e&&[Kt.ADMIN,Kt.STAFF].includes(e.role)?o.jsx(lu,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function fhe(){const{user:t}=kt(),{orderCode:e}=Gs(),n=tt(),[r,s]=k.useState(!1),[i,a]=k.useState(!1),l=k.useRef(!1);k.useEffect(()=>{window.scrollTo(0,0)},[]),k.useEffect(()=>{(async()=>{if(!e){s(!0),a(!1);return}try{a(!0),(await fe.get(`/api/v1/orders/verify/${e}`)).status&&s(!1)}catch(d){s(!0),l.current||(ce.error(d.message||"Khng th xc thc n hng!"),l.current=!0)}finally{a(!1)}})()},[e]);const c=()=>{n(t?"/customer/order":"/look-up-order")};return r&&!i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-gray-50 px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-[2rem] text-red-500 mb-4",children:""}),o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Khng tm thy n hng"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"M n hng khng hp l hoc  b xa."}),o.jsx("button",{onClick:()=>n("/"),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"V trang ch"})]})}):i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx(F,{icon:kg,className:"text-[2.5rem] text-blue-500 mb-4 animate-spin"}),o.jsx("p",{className:" text-gray-600",children:"ang xc thc n hng..."})]})}):o.jsx("div",{className:" bg-white pt-12 pb-18 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:" rounded-lg p-8 mb-6 text-center",children:[o.jsx(F,{icon:Wl,className:"text-6xl text-green-500 mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"t hng thnh cng!"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Cm n bn  t hng ti shop ca chng ti."}),o.jsx("p",{className:"text-center text-[1.4rem] text-gray-600",children:"Thng tin n hng s c thng bo qua email m bn  cung cp!"}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-[1rem]",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"M n hng:"}),o.jsx("p",{className:"font-bold text-blue-600",children:e})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>n("/"),className:"flex-1 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition",children:"V trang ch"}),o.jsx("button",{onClick:()=>{c()},className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"Xem n hng"})]})]})})}function mhe({productId:t,averageRating:e}){const{user:n}=kt(),r=Xs(),[s,i]=k.useState("all"),[a,l]=k.useState("newest"),[c,u]=k.useState(!1),{data:d,isLoading:f}=Ae({queryKey:["evaluates",t,a,s],queryFn:()=>YD({productId:t,rating:s,page:1,sort:a})}),p=d?.data||[],[g,x]=k.useState(null),[v,b]=k.useState({}),w=_=>v[_]??0,N=_=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(I=>o.jsx(F,{icon:Xr,className:`text-[1.4rem] ${I<=_?"text-yellow-400":"text-gray-300"}`},I))}),C=_=>`${new Date(_).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,P=(_,I)=>{x(_),b(D=>({...D,[_]:I}))},S=()=>{x(null)},A=()=>{if(g===null)return;const _=p.find(R=>R.id===g);if(!_||!_.images)return;const I=w(g),D=I>=_.images.length-1?0:I+1;b(R=>({...R,[g]:D}))},M=()=>{if(g===null)return;const _=p.find(R=>R.id===g);if(!_||!_.images)return;const I=w(g),D=I<=0?_.images.length-1:I-1;b(R=>({...R,[g]:D}))},T=async _=>{if(!n){u(!0);return}try{const I=["evaluates",t,a,s];r.setQueryData(I,R=>R?.data?{...R,data:R.data.map(G=>G.id===_?{...G,isLiked:!G.isLiked,helpfulCount:G.isLiked?G.helpfulCount-1:G.helpfulCount+1}:G)}:R);const D=await fe.post(`/api/v1/evaluate/toggle-helpful/${_}`);D.data.status&&r.setQueryData(I,R=>R?.data?{...R,data:R.data.map(G=>G.id===_?{...G,isLiked:D.data.isLiked,helpfulCount:D.data.helpfulCount??G.helpfulCount}:G)}:R)}catch(I){console.log(I);return}};return o.jsxs("div",{className:"w-full mt-4 sm:mt-6 md:mt-[2rem] p-3 sm:p-4 md:p-[2.5rem] bg-white rounded-lg",children:[o.jsx("h3",{className:"text-lg sm:text-xl md:text-[2.2rem] text-pink-600 uppercase mb-4 sm:mb-6 md:mb-8",children:"nh gi sn phm"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 md:gap-8 border border-[#bdb600] p-4 sm:p-6 md:p-[3rem] rounded-sm bg-[#fffff9] mb-4 sm:mb-6 md:mb-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-center sm:items-start justify-center",children:[o.jsxs("p",{className:"text-2xl sm:text-3xl md:text-[2.8rem] text-gray-800",children:[e," / 5"]}),o.jsx("div",{className:"mt-2",children:N(e)})]}),o.jsx("div",{className:"w-full sm:w-auto",children:o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>i("all"),children:["Tt c (",d&&d.summary.total,")"]}),[5,4,3,2,1].map(_=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s===_?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{i(_)},children:[_," Sao (",d&&d.summary.ratingCount[_],")"]},_))]})})]}),f&&o.jsxs("div",{className:"flex justify-center items-center py-8 sm:py-12 gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),p.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:p.map(_=>{const I=w(_.id);return o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow duration-300",children:o.jsxs("div",{className:"flex flex-row gap-3 sm:gap-4",children:[o.jsx("div",{className:"flex-shrink-0 flex sm:block",children:_.showAccount?_?.user?.avatar?o.jsx("img",{src:_.user.avatar,alt:"avatar"+_.user.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(_.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:_.showAccount?_.user?.username||_.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",C(_.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:N(_.rating)}),_.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:_.message}),_.images&&_.images.length>0&&o.jsx("div",{className:"mt-3 sm:mt-4 flex flex-wrap gap-2 sm:gap-3",children:_.images.map((D,R)=>o.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24",children:[o.jsx("img",{src:D,alt:`nh gi ${R+1}`,className:`w-full h-full object-cover rounded-lg border-2 cursor-pointer transition-all duration-300 
                                ${g===_.id&&I===R?"border-blue-500":"border-gray-200"}`,onClick:()=>P(_.id,R)}),_.images.length>1&&R===0&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded",children:["+",_.images.length-1]})]},R))}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mt-3 sm:mt-[1rem]",children:[o.jsx("span",{className:"text-[1.2rem] sm:text-[1.4rem] text-gray-600",children:"Bi nh gi ny hu ch"}),o.jsxs("button",{className:"cursor-pointer flex items-center gap-1 sm:gap-2 transition-all hover:scale-110",type:"button",onClick:()=>T(_.id),children:[o.jsx(F,{icon:_.isLiked?ZG:QR,className:`text-lg sm:text-xl transition-colors ${_.isLiked?"text-red-500":"text-gray-600"}`}),o.jsx("span",{className:`text-xs sm:text-[1.4rem] font-medium ${_.isLiked?"text-red-500":"text-gray-600"}`,children:_.helpfulCount})]})]}),_.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:"Admin"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:["Admin "," ",o.jsx("span",{className:"text-[1.2rem]",children:C(_.adminResponseAt)})]}),o.jsx("p",{className:"text-[1.6rem] mt-1",children:_.adminResponse})]})]})]}),g===_.id&&_.images&&_.images.length>0&&o.jsx("div",{className:"mt-4 sm:mt-8 relative rounded-xl overflow-hidden w-full sm:w-[40rem] mx-auto border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:_.images[I],alt:`nh ln ${I+1}`,className:"w-full max-h-[20rem] sm:max-h-[30rem] md:max-h-[40rem] object-contain"}),o.jsx("button",{type:"button",onClick:S,className:"absolute top-2 sm:top-4 right-2 sm:right-4 w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition",children:o.jsx(F,{icon:Kn,className:"text-gray-600 text-lg sm:text-2xl"})}),_.images.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:M,className:"absolute left-2 sm:left-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(F,{icon:_N,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsx("button",{type:"button",onClick:A,className:"absolute right-2 sm:right-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(F,{icon:ux,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsxs("div",{className:"absolute bottom-2 sm:bottom-6 left-1/2 -translate-x-1/2 px-3 sm:px-5 py-1 sm:py-2 bg-black/60 rounded-full text-white text-sm sm:text-lg",children:[I+1," / ",_.images.length]})]})]})})]})]})},_.id)})}),o.jsx(oS,{open:c,onClose:()=>u(!1)})]})}const dS=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await fe.get("/api/v1/flashsale/data",{params:e})},phe=async t=>await fe.get(`/api/v1/flashsale/${t}`),o8=async t=>await fe.get(`/api/v1/flashsale/${t}`),ghe=async t=>await fe.get(`/api/v1/flashsale/for-product/${t}`),hS=t=>{const e=new Date(t).getTime(),n=new Date().getTime(),r=e-n,s=Math.floor(r/(1e3*60*60)),i=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3);return{hours:s,minutes:i,seconds:a}};function xhe(){const{productSlug:t}=Gs(),e=tt(),{data:n,isLoading:r}=Ae({queryKey:["productdetail",t],queryFn:()=>Ete(t),enabled:!!t}),{data:s,isLoading:i}=Ae({queryKey:["flashSaleForProduct"],queryFn:()=>ghe(t)}),a=s&&s.data,[l,c]=k.useState({hours:0,minutes:0,seconds:0}),u=Math.floor(l.hours/24),d=n?.product,[f,p]=k.useState(null),[g,x]=k.useState(null),[v,b]=k.useState(1),[w,N]=k.useState(null),{addToCart:C,isLoading:P,notify:S,setNotify:A}=Ox(),[M,T]=k.useState([]),[_,I]=k.useState(0),D=k.useMemo(()=>{const Z=new Map;return d?.variants?.forEach(ee=>Z.set(ee.variantColor.id,ee.variantColor)),[...Z.values()]},[d]),R=k.useMemo(()=>{const Z=new Map;return d?.variants?.forEach(ee=>Z.set(ee.variantSize.id,ee.variantSize)),[...Z.values()]},[d]);k.useEffect(()=>{if(d&&d.mainImage&&d.listImageProduct){const ee=(d.listImageProduct.map(le=>le.imageUrl)||[]).filter(le=>le!==d.mainImage);T([d.mainImage,...ee])}},[d]),k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),k.useEffect(()=>{if(!a)return;const Z=()=>{const le=hS(a.endDate);c(le)};if(Z(),l.hours>=24)return;const ee=setInterval(()=>{Z()},1e3);return()=>clearInterval(ee)},[a,l.hours]);const G=(Z,ee)=>Math.round(Z*(1-ee/100)),U=()=>d?.variants.find(ee=>ee.variantColor.id===g?.id&&ee.variantSize.id===f?.id)?.inventory??0,q=g&&f,z=d?.variants.reduce((Z,ee)=>Z+ee.inventory,0),B=U(),$=Z=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Z),Q=()=>{const Z=d.category.categoryName?.toUpperCase()||"";return Z.includes("giy")||Z.includes("dp")?EN:AN},H=async Z=>{if(N(null),!g||!f){N("Vui lng chn thuc tnh sn phm!");return}const ee=d?.variants.find(ge=>ge.variantColor.id===g.id&&ge.variantSize.id===f.id)?.id;v<=0&&N("S lng sn phm t nht l 1!"),C([{variantId:ee,quantity:v}]),Z==="buy"&&e(`/cart/detail?buyNowVariant=${ee}`)},V=()=>{I(Z=>Z+1>M.length-1?0:Z+1)},Y=()=>{I(Z=>Z-1<0?M.length-1:Z-1)};return r?o.jsx(Po,{}):o.jsxs("div",{className:"relative w-full h-auto px-[1rem] md:px-[3rem] xl:px-[12rem]",children:[o.jsxs("div",{className:"w-full flex flex-wrap items-center gap-1 sm:gap-2 text-[1.2rem] md:text-[1.4rem] px-2 sm:px-4 md:px-6 lg:px-[3rem] md:py-2 py-1",children:[o.jsxs(Ze,{to:"/",className:"flex items-center gap-1 sm:gap-2 text-blue-800 hover:text-blue-600 transition-colors whitespace-nowrap",children:[o.jsx("span",{children:"Home"}),o.jsx(F,{icon:en,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]}),(()=>{if(!d?.category)return null;const Z=[];let ee=d.category;for(;ee;)Z.push(ee),ee=ee.parent;return Z.reverse().map((le,ge)=>o.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[o.jsx(Ze,{to:`/category/${le.slug}`,className:"flex items-center hover:text-blue-600 transition-colors text-blue-800",children:o.jsx("span",{className:"line-clamp-1 max-w-[80px] sm:max-w-[120px] md:max-w-[150px] lg:max-w-none",children:le.categoryName})}),ge<Z.length-1&&o.jsx(F,{icon:en,className:"mx-1 sm:mx-2 text-gray-400 text-[0.8rem] sm:text-[1rem]"}),o.jsx(F,{icon:en,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]},le.id))})(),o.jsx("span",{className:"text-gray-600 line-clamp-1 max-w-[100px] sm:max-w-[150px] md:max-w-[200px] lg:max-w-[300px] xl:max-w-none",children:d?.productName})]}),o.jsxs("div",{className:"w-full h-auto flex md:flex-row flex-col gap-[4rem] rounded-lg mt-[1rem] bg-white p-[1rem] md:p-[1.5rem]",children:[o.jsxs("div",{className:"relative w-full md:w-[40rem] xl:w-[50rem] h-auto",children:[o.jsx("img",{src:M[_],alt:d?.productName,className:"w-full md:h-[40rem] h-[35rem] xl:h-[50rem] object-cover"}),o.jsx("button",{onClick:Y,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 left-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(F,{icon:ls,className:"text-[1.8rem]"})}),o.jsx("button",{onClick:V,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 right-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(F,{icon:en,className:"text-[1.8rem]"})}),o.jsx("div",{className:"flex items-center space-x-4 mt-[1rem]",children:M.map((Z,ee)=>o.jsx("div",{className:`w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-md border ${_===ee?"border-2 border-amber-500":"border-gray-300"} `,onClick:()=>I(ee),children:o.jsx("img",{src:Z,alt:`imageItem-${ee}`,className:"w-full h-full object-cover rounded-md"})},Z))}),a&&o.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-[1.4rem] px-4 py-1 rounded-tl-4xl rounded-br-4xl shadow-lg z-10",children:["FLASH SALE -",a.discount,"%"]})]}),o.jsxs("div",{className:"flex-1 space-y-2 md:space-y-4",children:[o.jsx("h3",{className:"text-[1.4rem] md:text-[2rem] xl:text-[2.2rem] text-gray-800",children:d?.productName}),o.jsxs("div",{className:"flex items-center space-x-6 text-[1.2rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-gray-800",children:d.averageRating}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(Z=>o.jsx(F,{icon:Xr,className:`${Z<=d.averageRating?"text-yellow-400":"text-gray-300"}`},Z))})})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-800",children:d.reviewCount}),o.jsx("span",{className:" text-gray-500",children:"nh gi"})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:" text-gray-500",children:" bn"}),o.jsx("p",{className:"text-gray-800",children:d.soldCount})]})]}),a&&o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[2rem] xl:text-[2.2rem]",children:$(G(d.price,a.discount))}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem] line-through",children:$(d.price)}),o.jsxs("span",{className:"bg-red-600 text-white text-[1.2rem] md:text-[1.4rem] px-3 py-1 rounded-md",children:["-",a.discount,"%"]})]})}),a&&o.jsx("div",{className:"flex items-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3 text-[1.2rem] md:text-[1.4rem]",children:l.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white ",children:["Thi hn ",u," ngy"]}):["hours","minutes","seconds"].map((Z,ee)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-3 py-1 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(l[Z]).padStart(2,"0")})},ee),ee!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},ee))})}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn mu"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:D?.map(Z=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${g?.id===Z.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>x(Z),children:[o.jsx(F,{icon:Q(),className:"bg-gray-100 p-[.2rem]",style:{color:Z.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:Z.name})]},Z.id))})]}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn size"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:R?.map(Z=>{const ee=g?d.variants.find(le=>le.variantColor.id===g.id&&le.variantSize.id===Z?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border rounded-[.5rem] ${ee?f?.id===Z.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!ee,onClick:()=>p(Z),children:o.jsx("span",{className:"text-[1.4rem]",children:Z.name})},Z.id)})})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"S lng"}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${q?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{g&&f&&b(Z=>Math.max(1,Z-1))},children:o.jsx(F,{icon:Ul,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:v,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!q,onChange:Z=>b(Number(Z.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${q?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{f&&g&&b(Z=>Math.min(Number(d.variants.find(ee=>ee.variantColor.id===g.id&&ee.variantSize.id===f?.id)?.inventory),Number(Z)+1))},children:o.jsx(F,{icon:xa,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1rem] md:text-[1.4rem] text-gray-600 uppercase select-none",children:q?`Cn ${B} sn phm`:z>0?"Cn hng":"Ht hng"})]})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] text-red-500 mt-[4rem]",children:w}),o.jsxs("div",{className:"flex items-center  gap-[1rem] mt-[.5rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] border border-amber-500 hover:border-amber-600 text-amber-600 hover:text-amber-700 rounded-[.5rem] hover-linear select-none cursor-pointer",disabled:P,onClick:()=>H("add"),children:P?o.jsx("span",{children:"ang x l..."}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:MN}),o.jsx("span",{children:"Thm vo gi hng"})]})}),o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] bg-red-500 text-white hover:bg-red-600 rounded-[.5rem] hover-linear cursor-pointer",disabled:P,onClick:()=>H("buy"),children:P?"ang x l...":"Mua ngay"})]})]})]}),o.jsxs("div",{className:"w-full mt-[2rem] rounded-lg h-auto bg-white p-[1rem] md:p-[2.5rem]",children:[o.jsx("div",{className:"w-full py-[1rem] px-[1rem] md:px-[2rem] bg-gray-100 text-[1.4rem] md:text-[2rem] text-pink-600 mb-8 uppercase",children:"M t sn phm"}),o.jsx("div",{className:"prose prose-2xl max-w-none text-gray-600 px-[1rem] md:px-[2rem] text-[1.4rem]",dangerouslySetInnerHTML:{__html:d.description}})]}),o.jsx(mhe,{productId:d.id,averageRating:Number(d.averageRating)}),o.jsx(qu,{showNotify:S.show,content:S.content,duration:1e3,onClose:()=>A({show:!1,content:""})})]})}function yhe({open:t,onClose:e,dataChange:n,refetchOrder:r}){const{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Qs({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}});k.useEffect(()=>{if(n){const M=n;f({province:M.province,district:M.district,ward:M.ward,recipentName:M.recipentName,addressDetail:M.addressDetail,phone:M.phone,orderCode:M.orderCode})}},[n,f]);const{data:p}=Ae({queryKey:["province"],queryFn:qj}),g=d("province"),x=d("district"),b=p?.find(M=>M.name===g)?.districts??[],N=b.find(M=>M.name===x)?.wards??[],C=p?.map(M=>({value:M.name,label:M.name})),P=b?.map(M=>({value:M.name,label:M.name})),S=N?.map(M=>({value:M.name,label:M.name})),A=async M=>{const T={customerName:M.recipentName,customerAddress:M.addressDetail,customerPhone:M.phone,customerProvince:M.province,customerDistrict:M.district,customerWard:M.ward};try{const _=await fe.patch(`/api/v1/orders/change-address/${M.orderCode}`,T);_.status&&(await r(),ce.success(_.message),f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}),e())}catch(_){ce.error(_.message)}};return o.jsxs(ut,{open:t,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:M=>{M.stopPropagation(),e()},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:a(A),children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(ji,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:M})=>o.jsx(ua,{...M,options:C,placeholder:"Tnh...",isSearchable:!0,value:C?.find(T=>T.value===M.value)||null,onChange:T=>{M.onChange(T?.value),u("district",""),u("ward","")},styles:{control:T=>({...T,height:"4rem"})},theme:T=>({...T,colors:{...T.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(ji,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:M})=>o.jsx(ua,{...M,options:P,placeholder:"Huyn...",isSearchable:!0,value:P?.find(T=>T.value===M.value)||null,onChange:T=>{M.onChange(T?.value),u("ward","")},styles:{control:T=>({...T,height:"4rem"})},theme:T=>({...T,colors:{...T.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(ji,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:M})=>o.jsx(ua,{...M,options:S,placeholder:"Phng...",isSearchable:!0,value:S?.find(T=>T.value===M.value)||null,onChange:T=>{M.onChange(T?.value)},styles:{control:T=>({...T,height:"4rem"})},theme:T=>({...T,colors:{...T.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:M=>{M.stopPropagation(),e()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":"Thay i"})]})]})]})}function bhe(){const[t,e]=Ei(),n=t.get("code")||"",[r,s]=k.useState(n),[i,a]=k.useState("search"),{addToCart:l}=Ox(),c=tt(),[u,d]=k.useState(null),[f,p]=k.useState(!1),[g,x]=k.useState(null),[v,b]=k.useState({open:!1,data:null}),[w,N]=k.useState({open:!1,dataChange:null}),[C,P]=k.useState({open:!1,orderCode:null,data:null});k.useEffect(()=>{n!==r&&s(n)},[n]),k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const S=async z=>{if(!z.trim()){x("Vui lng nhp m n hng!");return}p(!0),x(null),d(null);try{const B=await Ute(z);d(B)}catch(B){x(B.message||"Khng tm thy n hng. Vui lng kim tra li m n hng."),d(null)}finally{p(!1)}},A=z=>{const B=r;if(!B.trim()){ce.error("Vui lng nhp m n hng!");return}s(B),e({code:B.trim()}),S(B.trim())},M=()=>{r.trim()&&S(r.trim())},T=z=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(z),_=z=>new Date(z).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),I=z=>{const B=z.target.value;s(B),B.trim()||(e({}),d(null),x(null))},D=()=>{if(!u)return;const z={orderCode:u?.orderCode,recipientName:u?.customerName,addressDetail:u?.customerAddress,phone:u?.customerPhone,province:u?.customerProvince,district:u?.customerDistrict,ward:u?.customerWard};N({open:!0,dataChange:z})},R=z=>z?z.replace(/(\d{3})\d{4}(\d{3})/,"$1xxxx$2"):"",G=z=>{if(!z)return"";const[B,$]=z.split("@");return B.length<=2?z:`${B[0]}${"*".repeat(B.length-2)}@${$}`},U=async z=>{const B=z.orderItems.map(Q=>({variantId:Q.variant.id,quantity:Q.quantity}));if(await l(B)){const Q=B.map(H=>H.variantId).join(",");c(`/cart/detail?buyback=${Q}`)}else ce.error("Thm sn phm vo gi hng tht bi!")},q=u&&u.paymentMethod===es.COD?u.status===Le.COMPLETED:!!u?.payment;return o.jsxs("div",{className:"min-h-screen bg-gray-50 py-6 px-4 sm:px-6 lg:px-[12rem]",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Tra cu n hng"}),o.jsx("p",{className:"text-gray-600",children:"Nhp m n hng  kim tra trng thi n hng ca bn"})]}),o.jsx("div",{className:"mb-6 border-b border-gray-200",children:o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:()=>a("search"),className:`cursor-pointer pb-4 px-2 font-medium transition-colors relative ${i==="search"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(F,{icon:Wn,className:"mr-2"}),"Tra cu n hng"]})})}),i==="search"&&o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("input",{type:"text",value:r,onChange:z=>I(z),placeholder:"Nhp m n hng (VD: ORDER-abc123)",className:"w-[40rem] h-[4rem] px-6 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-[1.4rem]",onKeyDown:z=>{z.key==="Enter"&&A()}}),o.jsx("button",{type:"button",disabled:f,className:"w-[12rem] h-[4rem] bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold rounded-lg transition flex items-center justify-center gap-2",onClick:()=>A(),children:f?o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:kg,spin:!0}),"ang tm..."]}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:Wn}),"Tra cu"]})})]}),o.jsxs("div",{className:"mt-4 flex items-start gap-2 text-[1.4rem] text-gray-600",children:[o.jsx(F,{icon:NY,className:"mt-0.5"}),o.jsx("p",{children:"M n hng c gi qua email sau khi t hng thnh cng. Vui lng kim tra email hoc tin nhn SMS."})]})]}),g&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 flex items-center justify-center gap-3",children:[o.jsx(F,{icon:DN,className:"text-2xl text-red-500"}),o.jsx("p",{className:"text-red-700",children:g})]}),f?o.jsxs("div",{className:"flex justify-center items-center py-10",children:[o.jsx(F,{icon:kg,spin:!0,className:"text-3xl text-blue-500 mr-3"}),o.jsx("span",{className:"text-lg",children:"ang ti d liu..."})]}):u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:" font-bold ",children:["n hng: ",u.orderCode]}),o.jsxs("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:["t ngy ",_(u.createdAt)]})]}),o.jsx("span",{className:`px-12 py-2 rounded-lg font-medium ${Un(u.status).bgColor} ${Un(u.status).textColor}`,children:Un(u.status).text})]}),u?.status===Le.CANCELLED?o.jsxs("div",{className:"w-full py-[2rem] border border-amber-200 bg-amber-50 px-[2rem]",children:[o.jsx("p",{className:"text-[1.8rem] text-red-500",children:" hy n hng"}),o.jsxs("p",{children:["lc ",_(u.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:fu.map((z,B)=>{const $=fu.findIndex(Q=>Q.key===u.status)>=B;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[2rem] relative items-center",children:[o.jsx("div",{className:`w-[6rem] h-[6rem] rounded-full flex items-center justify-center z-10
                              ${$?`${z.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:z.icon,className:"text-white text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:z.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:z.desc})]})]},z.key),B!==fu.length-1&&o.jsx("span",{className:"w-[10rem] border border-green-500"})]},z.key)})}),o.jsx("div",{className:"w-full border-t-1 border-gray-400 mt-[3rem]"}),o.jsxs("div",{className:"flex items-start flex-col space-y-4 mt-[3rem] w-4xl p-[2rem] border border-gray-300 rounded-md",children:[o.jsx("span",{className:"font-bold",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"H tn:"}),o.jsx("span",{className:"block text-end",children:u.customerName})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"S in thoi:"}),o.jsx("span",{className:"block text-end",children:R(u.customerPhone)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"Email:"}),o.jsx("span",{className:"block text-end",children:G(u.customerEmail)})]}),o.jsx("span",{className:"font-bold",children:"a ch nhn hng"}),o.jsxs("div",{className:"w-full mt-[1rem] border border-gray-300 rounded-md p-[2rem]",children:[o.jsx("p",{className:"text-gray-800",children:u.customerName}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:["(",R(u.customerPhone),")"]}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:[u.customerAddress,", ",u.customerWard,","," ",u.customerDistrict,","," ",u.customerPhone]})]})]}),o.jsxs("div",{className:"w-full border border-gray-200 rounded-md p-[1rem] mt-[2rem]",children:[o.jsxs("h3",{className:"text-[1.4rem] font-bold text-gray-800 pb-[2rem] flex items-center gap-2",children:[o.jsx(F,{icon:jo,className:"text-blue-500"}),"Sn phm (",u&&u.orderItems?.length,")"]}),u.orderItems&&u.orderItems?.length>0&&o.jsx("div",{className:"border border-gray-200 px-[2rem] py-[1rem] rounded-md",children:o.jsx("div",{className:"bg-white ",children:o.jsx("div",{className:"space-y-2",children:u.orderItems.map(z=>o.jsxs("div",{children:[o.jsxs(Ze,{to:`/product-detail/${z.variant.product.slug}`,className:"flex items-center gap-4 pb-6 last:border-0 py-[.5rem] border-b border-b-gray-200 cursor-pointer",children:[o.jsx("img",{src:z.variant.product.mainImage,alt:z.variant.product.productName,className:"w-28 h-28 object-cover rounded-md border border-gray-300 p-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800",children:z.variant.product.productName}),o.jsxs("span",{className:"flex items-center space-x-4 text-[1.2rem] text-gray-600",children:[o.jsxs("span",{children:[z.variant.variantColor.name," /"," ",z.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",z.quantity]})]}),o.jsxs("p",{className:"flex items-center space-x-1 text-[1rem] text-gray-600",children:[o.jsx("span",{children:"Gi:"}),o.jsx("span",{className:"text-red-600",children:T(z.price)})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-red-600",children:T(z.price*z.quantity)})})]}),o.jsx("div",{className:"flex flex-col items-end mt-[1rem]",children:o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[z.evaluate.length>0&&[Le.CANCELLED,Le.COMPLETED].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white hover:bg-red-600 cursor-pointer transition duration-300",onClick:()=>{U(u)},children:"Mua li"}),z.evaluate.length===0&&u.status===Le.COMPLETED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>b({open:!0,data:z}),children:o.jsxs("div",{className:"flex items-center space-x-2 ",children:[o.jsx(F,{icon:Xr,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})})]},z.id))})})}),o.jsxs("div",{className:"w-4xl ml-auto flex justify-between space-y-4 py-4 px-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"text-end text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Tng tin:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Phng thc thanh ton:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Trng thi"})]}),o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"block text-end text-gray-800",children:T(u.totalAmount)}),o.jsx("span",{className:"block text-end text-gray-800",children:T(u.shippingFee)}),o.jsx("span",{className:"block text-end font-bold text-red-500",children:T(u.totalAmount+Number(u.shippingFee))}),o.jsx("span",{className:"block text-end text-gray-800",children:lN[u.paymentMethod].text}),o.jsx("span",{className:`${q?"text-green-600":"text-red-600"} block text-end`,children:q?" thanh ton":"Cha thanh ton"})]})]})]}),u&&!q&&o.jsxs("div",{className:"text-center border border-amber-300 bg-amber-50 py-5 px-[1rem] mt-[1rem] rounded-md",children:["Vui lng thanh ton (",o.jsx("span",{className:"text-red-500",children:T(u.totalAmount+Number(u.shippingFee))}),") khi nhn hng!"]}),o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[u.status===Le.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md border border-gray-300 text-gray-600 hover:border-gray-400 cursor-pointer transition duration-300",onClick:()=>P({open:!0,orderCode:u.orderCode,data:u}),children:"Chi tit hy n"}),[Le.CONFIRMED,Le.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 cursor-pointer transition duration-300",onClick:()=>P({open:!0,orderCode:u.orderCode,data:null}),children:"Hy n"}),[Le.CONFIRMED,Le.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white cursor-pointer transition duration-300 hover:bg-red-600",onClick:()=>D(),children:"Thay i a ch"})]})]})}),o.jsx(i8,{open:v.open,item:v.data,dataGuest:{customerEmail:u.customerEmail,customerName:u.customerName},onClose:()=>b({open:!1,data:null}),refetch:M})]}):o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-10 text-center text-gray-600",children:[o.jsx(F,{icon:Wn,className:"text-5xl mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl",children:r?"Nhn 'Tra cu'  kim tra n hng ca bn.":"Cha c kt qu. Vui lng nhp m n hng  tra cu."})]})]})]}),o.jsx(yhe,{open:w.open,onClose:()=>N({open:!1,dataChange:null}),dataChange:w.dataChange,refetchOrder:M}),o.jsx(a8,{open:C.open,onClose:()=>P({open:!1,orderCode:null,data:null}),orderCode:C.orderCode,refetch:M,status:C?.data?.status,cancelReason:C?.data?.reason,cancelledAt:C.data?.updatedAt,cancelledBy:C.data?.customerName})]})}function vhe(){const[t]=Ei(),e=Number(t.get("resultCode")),n=t.get("orderId"),r=tt(),{user:s}=kt(),[i,a]=k.useState("loading"),[l,c]=k.useState("ang ti..."),u=async()=>{if(n)try{const d=await fe.get(`/api/v1/orders/confirm-payment/${n}`);console.log(d),d.status===!0?(a("success"),c(d.message||"Thanh ton thnh cng!")):d.status===!1?(a("failed"),c(d.message||d.reason||"Thanh ton tht bi!")):d.status==="pending"&&(a("pending"),c(d.message||"ang xc nhn thanh ton vi MoMo, vui lng ch trong giy lt..."))}catch(d){a("failed"),c("C li xy ra khi kim tra thanh ton. Vui lng lin h h tr."),console.error("Error checking payment:",d)}};return k.useEffect(()=>{if(!n){a("failed"),c("Khng tm thy thng tin n hng!");return}if(u(),e!==0){a("failed"),c("Thanh ton  b hy hoc tht bi.");return}const d=setInterval(()=>{i==="pending"&&(console.log(i),u())},3e3);return()=>{clearInterval(d)}},[n,e,i]),i==="loading"||i==="pending"?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[i==="pending"&&o.jsx("div",{className:"w-20 h-20 border-4 border-blue-400 border-dashed rounded-full animate-spin"}),o.jsx("p",{className:"mt-6 text-gray-700",children:l}),i==="pending"&&o.jsx("p",{className:"mt-2 text-gray-500",children:"ang ch xc nhn t MoMo..."})]}):i==="success"?o.jsx("div",{className:"w-full h-[calc(100vh-18rem)] pt-[4rem] px-[20rem] bg-white ",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-[7rem] h-[7rem] flex justify-center items-center mx-auto mb-[2rem] bg-[#2ddf2d] rounded-[50%] ",children:o.jsx(F,{icon:ss,className:"text-[#ffffff] text-[2.8rem]"})}),o.jsx("div",{className:"text-[2.8rem] mb-[.5rem] font-bold text-green-600",children:"Thanh ton thnh cng"}),o.jsx("p",{className:"text-gray-600",children:"Cm n khch hng  t hng."}),o.jsx("p",{className:"text-gray-600 text-center text-[1.4em]",children:"M n hng  gi n email ca khch hng. H thng s cp nht trng thi n v email ca bn"}),o.jsxs("div",{className:"flex justify-between items-center mt-[10rem]",children:[o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-gray-600 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>r("/"),children:[o.jsx(F,{icon:LG,className:"text-gray-500"}),"Quay v trang ch"]}),o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-white bg-blue-500 hover:bg-blue-600 cursor-pointer",onClick:()=>{s?r("/customer/account/order",{replace:!0}):r("/look-up-order",{replace:!0})},children:["Xem cc n hng",o.jsx(F,{icon:TG,className:""})]})]})]})}):o.jsx("div",{className:"flex flex-col items-center h-[calc(100vh-18rem)] bg-white pt-[5rem]",children:o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-lg text-center max-w-md",children:[o.jsx("div",{className:"text-red-600 text-[2.6rem] mb-4",children:""}),o.jsx("h1",{className:"text-[1.8rem] font-bold text-gray-800 mb-2",children:"Thanh ton tht bi"}),o.jsx("p",{className:"text-gray-600 mb-6",children:l}),o.jsx("button",{onClick:()=>window.location.href="/cart",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Quay li gi hng"})]})})}const l8=async(t,e,n)=>await fe.get("/api/v1/banner/list-banner",{params:{search:n,...e&&{status:e},...t&&{position:t}}}),ln={PRODUCT:"product",CATEGORY:"category",COLLECTION:"collection",FLASH_SALE:"flash_sale"},wl={HOME_SLIDER:"home_slider",HOME_TOP:"home_top",CATEGORY_TOP:"category_top"},Zn={ACTIVE:"active",PAUSED:"paused",EXPIRED:"expired"},fS=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==null&&r!==""));return await fe.get("/api/v1/collections",{params:e})},whe=async(t,e)=>(await fe.patch(`/api/v1/collections/${t}/toggle`,{status:e})).data,Nhe=async(t,e)=>t?await fe.get(`/api/v1/collections/by-slug/${t}`,{params:{sortBy:e}}):null,Q1=12,jhe={product:{title:"Chn sn phm",icon:jo,iconColor:"text-blue-500",iconBg:"bg-blue-50",searchPlaceholder:"Tm kim sn phm theo tn...",emptyText:"Khng tm thy sn phm no",badgeClass:"bg-blue-50 text-blue-600 border-blue-200"},category:{title:"Chn danh mc",icon:w2,iconColor:"text-orange-500",iconBg:"bg-orange-50",searchPlaceholder:"Tm kim danh mc...",emptyText:"Khng tm thy danh mc no",badgeClass:"bg-orange-50 text-orange-600 border-orange-200"}};async function She(){const t=await $u({queryKey:["product",{page:1,limit:1e3}]});return{data:(t.data??[]).map(e=>({slug:e.slug,name:e.productName,img:e.mainImage})),total:t.total??0}}async function Che(){const t=await _o(),e=r=>r.flatMap(s=>[{slug:s.slug,name:s.categoryName,img:s.image},...s.children?.length?e(s.children):[]]),n=e(t);return{data:n,total:n.length,rawData:t}}function khe({parent:t,selectedSlug:e,onSelect:n}){const[r,s]=k.useState(!0),i=t.slug===e,a=t.children?.length>0;return o.jsxs("div",{className:"border border-gray-100 rounded-xl overflow-hidden",children:[o.jsxs("div",{className:`flex items-center gap-3 px-[1.5rem] py-[1.2rem] ${i?"bg-cyan-50":"bg-gray-50"}`,children:[o.jsx("button",{type:"button",onClick:()=>s(l=>!l),className:`w-[2.4rem] h-[2.4rem] flex items-center justify-center rounded-md transition flex-shrink-0 ${a?"text-gray-400 hover:text-gray-600 hover:bg-gray-200":"invisible"}`,children:o.jsx(F,{icon:ux,className:`text-[1.1rem] transition-transform duration-200 ${r?"rotate-90":""}`})}),o.jsxs("button",{type:"button",onClick:()=>n({slug:t.slug,name:t.categoryName,img:t.image}),className:"flex items-center gap-[1rem] flex-1 text-left rounded-lg transition",children:[t.image?o.jsx("img",{src:t.image,alt:t.categoryName,className:"w-[4rem] h-[4rem] object-cover rounded-lg flex-shrink-0"}):o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:w2,className:"text-gray-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-[1.4rem] font-semibold truncate ${i?"text-cyan-600":"text-gray-800"}`,children:t.categoryName}),a&&o.jsxs("p",{className:"text-[1.2rem] text-gray-400",children:[t.children.length," danh mc con"]})]}),i&&o.jsx("div",{className:"w-[2.4rem] h-[2.4rem] rounded-full bg-cyan-500 flex items-center justify-center flex-shrink-0 mr-2",children:o.jsx(F,{icon:ss,className:"text-white text-[1.2rem]"})})]})]}),r&&a&&t.children.map(l=>{const c=l.slug===e;return o.jsxs("button",{type:"button",onClick:()=>n({slug:l.slug,name:l.categoryName,img:l.image}),className:`w-full flex items-center gap-[1rem] pl-[6rem] pr-[1.5rem] py-[1rem] border-t border-gray-100 transition ${c?"bg-cyan-50":"bg-white hover:bg-gray-50"}`,children:[l.image?o.jsx("img",{src:l.image,alt:l.categoryName,className:"w-[3.5rem] h-[3.5rem] object-cover rounded-lg flex-shrink-0"}):o.jsx("div",{className:"w-[3.5rem] h-[3.5rem] rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:w2,className:"text-gray-300 text-[1.2rem]"})}),o.jsx("span",{className:`text-[1.3rem] flex-1 text-left truncate ${c?"text-cyan-600 font-medium":"text-gray-600"}`,children:l.categoryName}),o.jsx("span",{className:"text-[1.1rem] px-2 py-0.5 rounded-full border bg-orange-50 text-orange-600 border-orange-200 font-medium flex-shrink-0",children:l.slug}),c&&o.jsx("div",{className:"w-[2.4rem] h-[2.4rem] rounded-full bg-cyan-500 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:ss,className:"text-white text-[1.2rem]"})})]},l.slug)})]})}function The({open:t,selectedSlug:e,selectType:n,onSelect:r,onClose:s}){const[i,a]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState(1),f=k.useRef(null),p=jhe[n];k.useEffect(()=>{const M=setTimeout(()=>{c(i),d(1)},350);return()=>clearTimeout(M)},[i]),k.useEffect(()=>{t?setTimeout(()=>f.current?.focus(),100):(a(""),c(""),d(1))},[t]),k.useEffect(()=>{const M=T=>{T.key==="Escape"&&t&&s()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[t,s]);const{data:g,isLoading:x,isFetching:v}=Ae({queryKey:["select-target-modal",n,l,u],queryFn:()=>n==="product"?She():Che(),enabled:t,placeholderData:M=>M}),b=g?.data??[],w=g?.rawData??[],N=g?.total??0,C=l?b.filter(M=>M.name.toLowerCase().includes(l.toLowerCase())):b,P=l?w.map(M=>({...M,children:M.children.filter(T=>T.categoryName.toLowerCase().includes(l.toLowerCase()))})).filter(M=>M.categoryName.toLowerCase().includes(l.toLowerCase())||M.children.length>0):w,S=C.slice((u-1)*Q1,u*Q1),A=Math.ceil(C.length/Q1);return o.jsxs(ut,{className:"relative w-[80%] md:w-[65%] h-auto bg-white space-y-[1.5rem] rounded-[1rem] shadow-xl p-[2rem]",open:t,children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("div",{className:`w-[4rem] h-[4rem] rounded-xl flex items-center justify-center ${p.iconBg}`,children:o.jsx(F,{icon:p.icon,className:`text-[1.8rem] ${p.iconColor}`})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-[1.8rem] font-bold text-gray-800",children:p.title}),N>0&&o.jsxs("p",{className:"text-[1.2rem] text-gray-400 mt-0.5",children:[N," kt qu",l?` cho "${l}"`:""]})]})]}),o.jsx("button",{type:"button",onClick:s,className:"absolute top-[1rem] right-[1rem] w-[3.5rem] h-[3.5rem] rounded-full flex items-center justify-center text-gray-400 hover:text-gray-700 hover:bg-gray-100 transition",children:o.jsx(F,{icon:Ct,className:"text-[1.8rem]"})}),o.jsxs("div",{className:"relative",children:[o.jsx(F,{icon:Wn,className:"absolute left-[1.5rem] top-1/2 -translate-y-1/2 text-gray-400 text-[1.4rem]"}),o.jsx("input",{ref:f,type:"text",value:i,onChange:M=>a(M.target.value),placeholder:p.searchPlaceholder,className:"w-full h-[4.5rem] pl-[4.5rem] pr-[4rem] border border-gray-200 rounded-xl text-gray-700 text-[1.4rem] outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-100 bg-white transition"}),i&&o.jsx("button",{type:"button",onClick:()=>a(""),className:"absolute right-[1.5rem] top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(F,{icon:Ct})})]}),o.jsx("div",{className:`overflow-y-auto max-h-[50rem] transition-opacity ${v?"opacity-60 pointer-events-none":""}`,children:x?o.jsxs("div",{className:"flex flex-col items-center justify-center h-[30rem] gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-cyan-500 rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-400 text-[1.4rem]",children:"ang ti..."})]}):n==="category"?P.length===0?o.jsx(wM,{config:p,keyword:l}):o.jsx("div",{className:"space-y-[1rem]",children:P.map(M=>o.jsx(khe,{parent:M,selectedSlug:e,onSelect:T=>{r(T),s()}},M.slug))}):S.length===0?o.jsx(wM,{config:p,keyword:l}):o.jsx("div",{className:"grid grid-cols-5 gap-[1.5rem]",children:S.map(M=>{const T=M.slug===e;return o.jsxs("div",{onClick:()=>{r(M),s()},className:`relative group rounded-xl border-2 text-left transition-all duration-200 ${T?"border-blue-400 shadow-lg shadow-blue-100":"border-gray-100 hover:border-blue-300 hover:shadow-md"}`,children:[o.jsxs("div",{className:"relative w-full bg-gray-100 overflow-hidden",children:[M.img?o.jsx("img",{src:M.img,alt:M.name,className:"w-full h-[18rem] object-cover"}):o.jsx("div",{className:"w-full h-[18rem] flex items-center justify-center",children:o.jsx(F,{icon:jo,className:"text-[3.5rem] text-gray-300"})}),T&&o.jsx("div",{className:"absolute inset-0 bg-gray-500/20 flex items-center justify-center",children:o.jsx("div",{className:"w-[3.5rem] h-[3.5rem] rounded-full bg-blue-500 flex items-center justify-center shadow-lg",children:o.jsx(F,{icon:ss,className:"text-white text-[1.6rem]"})})})]}),o.jsxs("div",{className:"p-2.5",children:[o.jsx("p",{className:`text-[1.3rem] leading-tight line-clamp-2 ${T?"text-blue-700 font-semibold":"text-gray-800"}`,children:M.name}),o.jsx("div",{className:"mt-[.8rem]",children:o.jsx("span",{className:"text-[1rem] px-2 py-0.5 rounded-full border font-medium bg-blue-50 text-blue-600 border-blue-200",children:M.slug})})]}),T&&o.jsx("div",{className:"absolute top-[.8rem] right-[.8rem]",children:o.jsx("span",{className:"bg-blue-500 text-white text-[1rem] px-2 py-0.5 rounded-full font-semibold shadow",children:" chn"})})]},M.slug)})})}),n==="product"&&A>1&&o.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-[1.5rem]",children:[o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:["Trang ",u,"/",A,"  ",C.length," sn phm"]}),o.jsxs("div",{className:"flex items-center gap-[.8rem]",children:[o.jsx("button",{type:"button",disabled:u<=1,onClick:()=>d(M=>M-1),className:"w-[3.5rem] h-[3.5rem] rounded-lg flex items-center justify-center border border-gray-200 text-gray-600 hover:border-cyan-400 hover:text-cyan-500 disabled:opacity-40 disabled:cursor-not-allowed transition",children:o.jsx(F,{icon:_N})}),Array.from({length:Math.min(5,A)},(M,T)=>{let _;return A<=5||u<=3?_=T+1:u>=A-2?_=A-4+T:_=u-2+T,o.jsx("button",{type:"button",onClick:()=>d(_),className:`w-[3.5rem] h-[3.5rem] rounded-lg flex items-center justify-center text-[1.3rem] font-medium transition ${u===_?"bg-cyan-500 text-white shadow-sm":"border border-gray-200 text-gray-600 hover:border-cyan-400 hover:text-cyan-500"}`,children:_},_)}),o.jsx("button",{type:"button",disabled:u>=A,onClick:()=>d(M=>M+1),className:"w-[3.5rem] h-[3.5rem] rounded-lg flex items-center justify-center border border-gray-200 text-gray-600 hover:border-cyan-400 hover:text-cyan-500 disabled:opacity-40 disabled:cursor-not-allowed transition",children:o.jsx(F,{icon:ux})})]})]}),o.jsx("div",{className:"flex items-center justify-end border-t border-gray-100 pt-[1.5rem]",children:o.jsx("button",{type:"button",onClick:s,className:"px-[2.5rem] py-[.9rem] rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 text-[1.4rem] font-medium transition",children:"ng"})})]})}function wM({config:t,keyword:e}){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-[25rem] gap-3",children:[o.jsx("div",{className:"w-[7rem] h-[7rem] rounded-full bg-gray-100 flex items-center justify-center",children:o.jsx(F,{icon:t.icon,className:"text-[3rem] text-gray-300"})}),o.jsx("p",{className:"text-gray-500 text-[1.5rem] font-medium",children:t.emptyText}),e&&o.jsx("p",{className:"text-gray-400 text-[1.3rem]",children:"Th tm kim vi t kha khc"})]})}const NM={[ln.COLLECTION]:"Collection",[ln.PRODUCT]:"Sn phm",[ln.CATEGORY]:"Danh mc",[ln.FLASH_SALE]:"Flash Sale"},Ehe={[ln.COLLECTION]:"bg-purple-100 text-purple-700",[ln.PRODUCT]:"bg-blue-100 text-blue-700",[ln.CATEGORY]:"bg-orange-100 text-orange-700",[ln.FLASH_SALE]:"bg-red-100 text-red-700"},vp={[wl.HOME_SLIDER]:"Slider trang ch",[wl.HOME_TOP]:"Top trang ch",[wl.CATEGORY_TOP]:"Top danh mc"},J1={[Zn.ACTIVE]:{label:"ang hot ng",badgeClass:"bg-green-500 text-white"},[Zn.PAUSED]:{label:"Tm dng",badgeClass:"bg-amber-500 text-white"},[Zn.EXPIRED]:{label:"Ht hn",badgeClass:"bg-gray-500 text-gray-300"}};function jM(t){return t?new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):""}function SM(t){return t?new Date(t).toISOString().slice(0,16):""}function Mhe(){const[t,e]=k.useState({open:!1,action:"add"}),[n,r]=k.useState(""),[s,i]=k.useState(""),[a,l]=k.useState(!1),[c,u]=k.useState(Zn.ACTIVE),[d,f]=k.useState(""),[p,g]=k.useState(!1),x=k.useRef(null),v=k.useRef(null),b=k.useRef({}),w=k.useRef(null),[N,C]=k.useState({open:!1,bannerId:null,toStatus:null}),[P,S]=k.useState(null),{register:A,handleSubmit:M,formState:{errors:T,isSubmitting:_},reset:I,setValue:D,watch:R}=Qs({defaultValues:{title:"",subTitle:"",redirectType:ln.COLLECTION,position:wl.HOME_SLIDER,targetSlug:void 0,redirectUrl:"",imageUrl:null,startDate:"",endDate:"",bannerId:void 0}}),G=R("redirectType"),{data:U,isLoading:q,refetch:z}=Ae({queryKey:["listBanner",s,c,d],queryFn:()=>l8(d,c,s)}),B=U&&U.data,{data:$}=Ae({queryKey:["collections"],queryFn:()=>fS({page:1,limit:1e3})}),Q=$&&$.data||[],{data:H}=Ae({queryKey:["flashsales"],queryFn:()=>dS({page:1,limit:1e3})}),V=H&&H.data||[],[Y,Z]=k.useState({open:!1,type:null}),[ee,le]=k.useState(null);k.useEffect(()=>()=>{P&&P.startsWith("blob:")&&URL.revokeObjectURL(P)},[P]),k.useEffect(()=>{const ie=b.current[c];!ie||!v.current||(v.current.style.width=`${ie.offsetWidth}px`,v.current.style.left=`${ie.offsetLeft}px`)},[c,B]),k.useEffect(()=>{const ie=Me=>{x.current&&!x.current.contains(Me.target)&&g(!1)};return document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[]),k.useEffect(()=>{le(null),D("targetSlug",void 0)},[G,D]);const ge=ie=>{const Me=ie.target.files;if(Me&&Me[0]){const Xe=Me[0],vt=URL.createObjectURL(Xe);D("imageUrl",Xe),S(vt)}},te=()=>{I({title:"",subTitle:"",redirectType:ln.COLLECTION,position:wl.HOME_SLIDER,targetSlug:void 0,redirectUrl:"",imageUrl:null,startDate:"",endDate:"",bannerId:void 0}),S(null),le(null)},de=async ie=>{try{const Me=new FormData;ie.title&&Me.append("title",ie.title),ie.subTitle&&Me.append("subTitle",ie.subTitle),ie.targetSlug&&Me.append("targetSlug",ie.targetSlug),Me.append("redirectType",ie.redirectType),Me.append("position",ie.position),ie.startDate&&Me.append("startDate",ie.startDate),ie.endDate&&Me.append("endDate",ie.endDate),ie.imageUrl instanceof File&&Me.append("imageUrl",ie.imageUrl);for(const vt of Me.entries())console.log(vt[0],vt[1]);let Xe;t.action==="add"?Xe=await fe.post("/api/v1/banner/create",Me,{headers:{"Content-Type":"multipart/form-data"}}):Xe=await fe.patch(`/api/v1/banner/update/${ie.bannerId}`,Me,{headers:{"Content-Type":"multipart/form-data"}}),Xe.status&&(te(),await z(),ce.success(Xe.message),e({open:!1,action:"add"}))}catch(Me){console.log(Me),ce.error(Me.message)}},xe=()=>{e({open:!1,action:"add"}),te()},Se=ie=>{if(w.current&&w.current.scrollTo({top:0,behavior:"smooth"}),e({open:!0,action:"edit"}),I({title:ie.title??"",subTitle:ie.subTitle??"",redirectType:ie.redirectType,position:ie.position,targetSlug:ie.targetSlug,imageUrl:ie.imageUrl,startDate:SM(ie.startDate),endDate:SM(ie.endDate),bannerId:ie.id}),S(ie.imageUrl),(ie.redirectType===ln.PRODUCT||ie.redirectType===ln.CATEGORY)&&ie.targetSlug){const Me=ie.targetInfo;le({slug:Me.slug,name:Me.name,img:Me.image})}},rt=async(ie,Me)=>{try{if(!ie||!Me){ce.error("Khng c bannerId");return}l(!0);const Xe=await fe.patch(`/api/v1/banner/change-status/${ie}`,{status:Me});Xe.status&&(ce.success(Xe.message),await z(),C({open:!1,bannerId:null,toStatus:null}))}catch(Xe){console.log(Xe),ce.error(Xe.message||"")}finally{l(!1)}},Ge=ie=>{if(ie===Zn.ACTIVE)return[{toStatus:Zn.PAUSED,label:"Ngng hot ng",btnClass:"bg-gray-500 hover:bg-gray-600 text-gray-300"}];if(ie===Zn.PAUSED)return[{toStatus:Zn.ACTIVE,label:"M hot ng",btnClass:"bg-green-500 hover:bg-green-600 text-white"}]},Oe=()=>{if(G===ln.COLLECTION)return o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{className:"text-gray-600 block mb-2",children:["Collection ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] outline-none focus:border-cyan-400 bg-white text-gray-700",...A("targetSlug",{required:"Vui lng chn collection!"}),children:[o.jsx("option",{value:"",children:"-- Chn collection --"}),Q.map(ie=>o.jsx("option",{value:ie.slug,children:ie.name},ie.id))]}),T.targetSlug&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.targetSlug.message})]});if(G===ln.FLASH_SALE)return o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{className:"text-gray-600 block mb-2",children:["Flash sale ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] outline-none focus:border-cyan-400 bg-white text-gray-700",...A("targetSlug",{required:"Vui lng chn flashSale!"}),children:[o.jsx("option",{value:"",children:"-- Chn flash sale --"}),V.length>0?V.map(ie=>o.jsx("option",{value:ie.slug,children:ie.name},ie.id)):o.jsx("option",{children:"Hy to flashSale"})]}),T.targetSlug&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.targetSlug.message})]});if(G===ln.PRODUCT||G===ln.CATEGORY){const ie=G===ln.PRODUCT;return o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{className:"text-gray-600 block mb-2",children:[ie?"Sn phm":"Danh mc",o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsx("button",{type:"button",onClick:()=>Z({open:!0,type:G}),className:`w-full h-[4rem] border-2 rounded-xl px-[1.5rem] flex items-center gap-3 transition-all text-left ${ee?"border-blue-400 bg-blue-50":"border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50/40"}`,children:ee?o.jsxs(o.Fragment,{children:[ee.img&&o.jsx("img",{src:ee.img,alt:ee.name,className:"w-[3rem] h-[3rem] object-cover rounded-lg flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[o.jsx("span",{className:"text-gray-800 font-medium text-[1.3rem] truncate",children:ee.name}),o.jsx("span",{className:"text-blue-500 text-[1.1rem]",children:ee.slug})]}),o.jsx("span",{className:"text-[1.2rem] text-blue-500 flex-shrink-0 underline",children:"i"})]}):o.jsxs("span",{className:"text-gray-400",children:["Nhn  chn ",ie?"sn phm":"danh mc","..."]})}),o.jsx("input",{type:"hidden",...A("targetSlug",{required:`Vui lng chn ${ie?"sn phm":"danh mc"}!`})}),T.targetSlug&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.targetSlug.message})]})}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsx("div",{className:"sticky top-0 bg-white z-10 pb-[2rem] border-b-[.1rem] border-b-gray-300",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Banner Slide Trang Ch"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Tm kim theo tn...",className:"w-[30rem] h-[4rem] focus:border-cyan-400 border border-gray-300 outline-none text-gray-600 px-[1.5rem] rounded-md",value:n,onChange:ie=>r(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&i(n)}),o.jsx("button",{className:"absolute top-[50%] translate-y-[-50%] right-0 px-5 h-full cursor-pointer",onClick:()=>i(n),children:o.jsx(F,{icon:Wn,className:"text-gray-600"})})]}),o.jsxs("div",{className:"relative",ref:x,children:[o.jsxs("button",{type:"button",className:"h-[4rem] px-4 flex items-center gap-2 border border-gray-300 rounded-md text-gray-600 hover:border-cyan-400 bg-white text-[1.4rem]",onClick:()=>g(ie=>!ie),children:[o.jsx(F,{icon:Vr,className:"text-[1.3rem]"}),d?vp[d]:"V tr",o.jsx(F,{icon:$_,className:"text-[1rem]"})]}),p&&o.jsxs("div",{className:"absolute top-[4.5rem] right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[18rem] overflow-hidden",children:[o.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer text-gray-600 text-[1.4rem] border-b border-gray-100",onClick:()=>{f(""),g(!1)},children:"Tt c v tr"}),Object.values(wl).map(ie=>o.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer text-[1.4rem] ${d===ie?"text-blue-500 font-medium bg-blue-50":"text-gray-600"}`,onClick:()=>{f(ie),g(!1)},children:vp[ie]},ie))]})]}),o.jsxs("button",{type:"button",className:`text-white text-[1.4rem] flex gap-1.5 items-center px-4 h-[4rem] bg-blue-500 rounded-md hover:bg-blue-600 cursor-pointer hover-linear ${_?"cursor-not-allowed":""}`,onClick:()=>{te(),w.current?.scrollTo({top:0,behavior:"smooth"}),e({open:!0,action:"add"})},disabled:_,children:[o.jsx(F,{icon:zu}),"Thm Banner Mi"]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar mt-[1rem]",ref:w,children:[t.open&&o.jsxs("div",{className:"mb-8 mt-4 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[o.jsx("h3",{className:`${t.action==="add"?"text-green-600":"text-amber-600"} mb-4 text-[1.8rem] font-semibold`,children:t.action==="add"?"To Banner Mi":"Cp nht banner"}),o.jsxs("form",{onSubmit:M(de),children:[o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem] mb-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"title",className:"text-gray-600",children:"Tiu  banner"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"title",placeholder:"Nhp tiu  cho banner...",...A("title")}),T.title&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.title.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"subTitle",className:"text-gray-600",children:"Ph "}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"subTitle",placeholder:"Nhp ph ...",...A("subTitle")}),T.subTitle&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.subTitle.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"position",className:"text-gray-600",children:["V tr hin th ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("select",{id:"position",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400 bg-white text-gray-700",...A("position",{required:"Vui lng chn v tr!"}),children:Object.values(wl).map(ie=>o.jsx("option",{value:ie,children:vp[ie]},ie))}),T.position&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.position.message})]})]}),o.jsxs("div",{className:"grid grid-cols-3 items-start gap-[2rem] mb-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"redirectType",className:"text-gray-600",children:["Loi lin kt ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("select",{id:"redirectType",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400 bg-white text-gray-700",...A("redirectType",{required:"Vui lng chn loi lin kt!"}),children:Object.values(ln).map(ie=>o.jsx("option",{value:ie,children:NM[ie]},ie))}),T.redirectType&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.redirectType.message})]}),o.jsx("div",{className:"w-full",children:Oe()}),o.jsxs("div",{className:"w-full",children:[o.jsx("p",{className:"text-gray-600",children:"Chn hnh nh cho Banner"}),o.jsxs("label",{htmlFor:"imageUrl",className:"flex items-center justify-center space-x-4 w-full h-[4rem] border border-dashed border-gray-500 rounded-md px-[1.5rem] mt-2 outline-none cursor-pointer hover:border-cyan-400 hover:bg-cyan-50 transition",children:[o.jsx(F,{icon:$r,className:"text-gray-500"}),o.jsx("span",{className:"text-gray-600",children:P?"Thay i nh":"Hnh nh"}),o.jsx("input",{type:"file",className:"hidden",id:"imageUrl",accept:"image/*",onChange:ie=>ge(ie)})]}),T.imageUrl&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:T.imageUrl.message})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem] mb-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"startDate",className:"text-gray-600",children:[o.jsx(F,{icon:Gp,className:"mr-1.5 text-gray-400"}),"Ngy bt u"]}),o.jsx("input",{type:"datetime-local",id:"startDate",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",...A("startDate")})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"endDate",className:"text-gray-600",children:[o.jsx(F,{icon:Gp,className:"mr-1.5 text-gray-400"}),"Ngy kt thc"]}),o.jsx("input",{type:"datetime-local",id:"endDate",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",...A("endDate")})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:P&&o.jsx("div",{className:"my-5",children:o.jsx("img",{src:P,alt:"displayImage",className:"w-full h-[35rem] object-cover rounded-md"})})}),t.action==="edit"&&o.jsx("input",{type:"number",className:"hidden",...A("bannerId")}),o.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>xe(),className:"bg-gray-200 text-gray-600 px-8 py-2 rounded-lg hover:bg-gray-300",disabled:_,children:"Hy"}),o.jsx("button",{className:`${t.action==="add"?"bg-green-600 hover:bg-green-700":"bg-amber-600 hover:bg-amber-700"} text-white px-8 py-2 rounded-lg`,type:"submit",disabled:_,children:_?"ang x l...":t.action==="add"?"Thm":"Cp nht"})]})]})]}),q?o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:o.jsx("div",{className:"w-16 h-16 border-4 border-dashed border-gray-300 border-t-blue-500 rounded-full animate-spin"})}):o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("div",{className:"relative flex items-center pb-4 border-b border-b-gray-200 gap-[2rem]",children:[Object.values(Zn).map(ie=>o.jsx("span",{ref:Me=>{b.current[ie]=Me},onClick:()=>u(ie),className:`cursor-pointer transition ${c===ie?"text-blue-500 font-medium":"text-gray-600"}`,children:J1[ie].label},ie)),o.jsx("div",{ref:v,className:"absolute bottom-0 h-1 bg-blue-500 transition-all duration-300"})]}),B&&B.length>0?o.jsx("div",{className:"grid grid-cols-2 mt-[2rem] gap-2.5",children:B.map(ie=>{const Me=Ge(ie.status);return o.jsxs("div",{className:"w-full h-[35rem] relative border border-gray-200 rounded-md group overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 flex items-stretch z-10",children:[o.jsxs("div",{className:"text-[1.4rem] px-2.5 py-1 bg-amber-200 rounded-br-lg",children:["STT:",ie.sortOrder]}),o.jsx("div",{className:`px-4 rounded-br-lg rounded-bl-lg py-1 text-[1.4rem] ${J1[ie.status].badgeClass}`,children:J1[ie.status].label})]}),o.jsx("div",{className:"absolute top-0 right-0 z-10",children:o.jsx("div",{className:"bg-blue-500 text-white text-[1.2rem] px-3 py-1.5 rounded-bl-lg",children:vp[ie.position]})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent z-[1]"}),o.jsx("img",{src:ie.imageUrl,alt:`banner-image-${ie.title}`,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute left-[3rem] space-y-2 bottom-[3rem] z-[2]",children:[o.jsx("p",{className:"text-white text-[2.5rem]",children:ie.title}),ie.subTitle&&o.jsx("p",{className:"text-[1.4rem] text-white",children:ie.subTitle}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:`text-[1.1rem] px-2 py-0.5 rounded-full font-medium ${Ehe[ie.redirectType]}`,children:NM[ie.redirectType]}),ie.redirectType===ln.COLLECTION&&ie.targetSlug&&o.jsxs("span",{className:"flex items-center gap-1 text-[1.1rem] text-purple-200 bg-purple-900/50 px-2 py-0.5 rounded-full",children:[o.jsx(F,{icon:jY}),"Collection #",ie.targetSlug]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-[1.2rem] text-gray-300",children:[(ie.startDate||ie.endDate)&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(F,{icon:Gp}),jM(ie.startDate)," "," ",jM(ie.endDate)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(F,{icon:yY}),ie.clickCount," lt click"]})]})]}),o.jsxs("div",{className:"absolute flex items-center justify-center space-x-4 inset-0 bg-[#36363659] group-hover:opacity-100 opacity-0 transition duration-300 rounded-md z-[3]",children:[o.jsxs("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md text-white ${ie.status!==Zn.ACTIVE?"cursor-not-allowed bg-gray-400":"bg-amber-500 hover:bg-amber-600"}`,onClick:()=>ie.status===Zn.ACTIVE&&Se(ie),disabled:ie.status!==Zn.ACTIVE,children:[o.jsx(F,{icon:Ms}),o.jsx("span",{children:" Cp nht"})]}),Me&&Me.map(Xe=>o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md ${Xe.btnClass}`,onClick:()=>C({open:!0,bannerId:ie.id,toStatus:Xe.toStatus}),children:Xe.label},Xe.toStatus))]})]},ie.id)})}):o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:"Cha c banner no"})]})]}),o.jsxs(ut,{open:N.open,className:"relative w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsxs("h2",{className:`text-[2rem] ${N.toStatus===Zn.ACTIVE?"text-green-600":"text-amber-600"} mb-[2.5rem] font-bold`,children:["Bn mun"," ",N.toStatus===Zn.ACTIVE?"kch hot":"tm dng"," ","banner ny?"]}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:ie=>{ie.stopPropagation(),C({open:!1,bannerId:null,toStatus:null})},children:o.jsx(F,{icon:Ct,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none ${a?"cursor-not-allowed":""}`,onClick:ie=>{ie.stopPropagation(),C({open:!1,bannerId:null,toStatus:null})},disabled:a,children:"ng"}),o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md ${N.toStatus===Zn.ACTIVE?"bg-green-500 hover:bg-green-600":"bg-amber-500 hover:bg-amber-600"} text-white transition duration-300 outline-none ${a?"cursor-not-allowed":""}`,onClick:()=>rt(N.bannerId,N.toStatus),disabled:a,children:a?"ang x l...":N.toStatus===Zn.ACTIVE?"Kch hot":"Tm dng"})]})]}),o.jsx(The,{open:Y.open,redirectType:Y.type??ln.PRODUCT,selectedSlug:R("targetSlug"),selectType:Y.type===ln.PRODUCT?"product":"category",onSelect:ie=>{D("targetSlug",ie.slug),le(ie)},onClose:()=>Z({open:!1,type:null})})]})}function CM(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function mS(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:CM(e[r])&&CM(t[r])&&Object.keys(e[r]).length>0&&mS(t[r],e[r])})}const c8={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ci(){const t=typeof document<"u"?document:{};return mS(t,c8),t}const Phe={document:c8,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function wr(){const t=typeof window<"u"?window:{};return mS(t,Phe),t}function Ahe(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function Ohe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function u8(t,e=0){return setTimeout(t,e)}function e0(){return Date.now()}function _he(t){const e=wr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Dhe(t,e="x"){const n=wr();let r,s,i;const a=_he(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function wp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ihe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Yr(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!Ihe(s)){const i=Object.keys(Object(s)).filter(a=>n.indexOf(a)<0);for(let a=0,l=i.length;a<l;a+=1){const c=i[a],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&(wp(e[c])&&wp(s[c])?s[c].__swiper__?e[c]=s[c]:Yr(e[c],s[c]):!wp(e[c])&&wp(s[c])?(e[c]={},s[c].__swiper__?e[c]=s[c]:Yr(e[c],s[c])):e[c]=s[c])}}}return e}function Np(t,e,n){t.style.setProperty(e,n)}function d8({swiper:t,targetPosition:e,side:n}){const r=wr(),s=-t.translate;let i=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>s?"next":"prev",u=(f,p)=>c==="next"&&f>=p||c==="prev"&&f<=p,d=()=>{a=new Date().getTime(),i===null&&(i=a);const f=Math.max(Math.min((a-i)/l,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=s+p*(e-s);if(u(g,e)&&(g=e),t.wrapperEl.scrollTo({[n]:g}),u(g,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:g})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function bi(t,e=""){const n=wr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Lhe(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Rhe(t,e){const n=wr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Lhe(t,e))),r}function t0(t){try{console.warn(t);return}catch{}}function n0(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Ahe(e)),n}function Fhe(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function zhe(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ao(t,e){return wr().getComputedStyle(t,null).getPropertyValue(e)}function r0(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function h8(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function mw(t,e,n){const r=wr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Mn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function ef(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Z1;function Vhe(){const t=wr(),e=Ci();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function f8(){return Z1||(Z1=Vhe()),Z1}let ev;function $he({userAgent:t}={}){const e=f8(),n=wr(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32";let g=r==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&e.touch&&x.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(i.os="android",i.android=!0),(u||f||d)&&(i.os="ios",i.ios=!0),i}function m8(t={}){return ev||(ev=$he(t)),ev}let tv;function Bhe(){const t=wr(),e=m8();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function p8(){return tv||(tv=Bhe()),tv}function Hhe({swiper:t,on:e,emit:n}){const r=wr();let s=null,i=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:f,height:p}=t;let g=f,x=p;d.forEach(({contentBoxSize:v,contentRect:b,target:w})=>{w&&w!==t.el||(g=b?b.width:(v[0]||v).inlineSize,x=b?b.height:(v[0]||v).blockSize)}),(g!==f||x!==p)&&a()})}),s.observe(t.el))},c=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),e("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function Uhe({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=wr(),a=(u,d={})=>{const f=i.MutationObserver||i.WebkitMutationObserver,p=new f(g=>{if(t.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const x=function(){r("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(x):i.setTimeout(x,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(p)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=h8(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var Whe={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(s,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(l=>{l.apply(s,r)})}),e}};function qhe(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ao(r,"padding-left")||0,10)-parseInt(ao(r,"padding-right")||0,10),n=n-parseInt(ao(r,"padding-top")||0,10)-parseInt(ao(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Khe(){const t=this;function e(I,D){return parseFloat(I.getPropertyValue(t.getDirectionLabel(D))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=bi(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,w=t.slidesGrid.length,N=t.size-x-v;let C=n.spaceBetween,P=-x,S=0,A=0;if(typeof N>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*N:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C-x-v,u.forEach(I=>{i?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Np(r,"--swiper-centered-offset-before",""),Np(r,"--swiper-centered-offset-after",""));const M=n.grid&&n.grid.rows>1&&t.grid;M?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let T;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(I=>typeof n.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<d;I+=1){T=0;const D=u[I];if(!(D&&(M&&t.grid.updateSlide(I,D,u),ao(D,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(T=n.virtual.slidesPerViewAutoSlideSize),T&&D&&(n.roundLengths&&(T=Math.floor(T)),D.style[t.getDirectionLabel("width")]=`${T}px`);else if(n.slidesPerView==="auto"){_&&(D.style[t.getDirectionLabel("width")]="");const R=getComputedStyle(D),G=D.style.transform,U=D.style.webkitTransform;if(G&&(D.style.transform="none"),U&&(D.style.webkitTransform="none"),n.roundLengths)T=t.isHorizontal()?mw(D,"width"):mw(D,"height");else{const q=e(R,"width"),z=e(R,"padding-left"),B=e(R,"padding-right"),$=e(R,"margin-left"),Q=e(R,"margin-right"),H=R.getPropertyValue("box-sizing");if(H&&H==="border-box")T=q+$+Q;else{const{clientWidth:V,offsetWidth:Y}=D;T=q+z+B+$+Q+(Y-V)}}G&&(D.style.transform=G),U&&(D.style.webkitTransform=U),n.roundLengths&&(T=Math.floor(T))}else T=(N-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(T=Math.floor(T)),D&&(D.style[t.getDirectionLabel("width")]=`${T}px`);D&&(D.swiperSlideSize=T),g.push(T),n.centeredSlides?(P=P+T/2+S/2+C,S===0&&I!==0&&(P=P-N/2-C),I===0&&(P=P-N/2-C),Math.abs(P)<1/1e3&&(P=0),n.roundLengths&&(P=Math.floor(P)),A%n.slidesPerGroup===0&&f.push(P),p.push(P)):(n.roundLengths&&(P=Math.floor(P)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&f.push(P),p.push(P),P=P+T+C),t.virtualSize+=T+C,S=T,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,N)+v,i&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),M&&t.grid.updateWrapperSize(T,f),!n.centeredSlides){const I=[];for(let D=0;D<f.length;D+=1){let R=f[D];n.roundLengths&&(R=Math.floor(R)),f[D]<=t.virtualSize-N&&I.push(R)}f=I,Math.floor(t.virtualSize-N)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-N)}if(l&&n.loop){const I=g[0]+C;if(n.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),R=I*n.slidesPerGroup;for(let G=0;G<D;G+=1)f.push(f[f.length-1]+R)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+I),p.push(p[p.length-1]+I),t.virtualSize+=I}if(f.length===0&&(f=[0]),C!==0){const I=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((D,R)=>!n.cssMode||n.loop?!0:R!==u.length-1).forEach(D=>{D.style[I]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let I=0;g.forEach(R=>{I+=R+(C||0)}),I-=C;const D=I>N?I-N:0;f=f.map(R=>R<=0?-x:R>D?D+v:R)}if(n.centerInsufficientSlides){let I=0;g.forEach(R=>{I+=R+(C||0)}),I-=C;const D=(x||0)+(v||0);if(I+D<N){const R=(N-I-D)/2;f.forEach((G,U)=>{f[U]=G-R}),p.forEach((G,U)=>{p[U]=G+R})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Np(r,"--swiper-centered-offset-before",`${-f[0]}px`),Np(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const I=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(R=>R+I),t.slidesGrid=t.slidesGrid.map(R=>R+D)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const I=`${n.containerModifierClass}backface-hidden`,D=t.el.classList.contains(I);d<=n.maxBackfaceHiddenSlides?D||t.el.classList.add(I):D&&t.el.classList.remove(I)}}function Ghe(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function Yhe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const kM=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Xhe(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),g=-(a-d),x=g+e.slidesSizesGrid[c],v=g>=0&&g<=e.size-e.slidesSizesGrid[c],b=g>=0&&g<e.size-1||x>1&&x<=e.size||g<=0&&x>=e.size;b&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c)),kM(u,b,n.slideVisibleClass),kM(u,v,n.slideFullyVisibleClass),u.progress=s?-f:f,u.originalProgress=s?-p:p}}function Qhe(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=f||s>=1,d&&(s=0),f&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],x=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=p?l=(v-p)/x:l=(v+x-g)/x,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const nv=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Jhe(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=f=>bi(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let c,u,d;if(i)if(n.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.find(f=>f.column===s),d=e.find(f=>f.column===s+1),u=e.find(f=>f.column===s-1)):c=e[s];c&&(a||(d=zhe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=Fhe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{nv(f,f===c,n.slideActiveClass),nv(f,f===d,n.slideNextClass),nv(f,f===u,n.slidePrevClass)}),t.emitSlidesClasses()}const ug=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},rv=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},pw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&rv(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%n+n)%n;(l<s||l>i)&&rv(t,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&rv(t,a)};function Zhe(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function efe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=t,u;const d=g=>{let x=g-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof c>"u"&&(c=Zhe(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const g=Math.min(s.slidesPerGroupSkip,c);u=g+Math.floor((c-g)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const f=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=d(c);else if(f){const g=e.slides.find(v=>v.column===c);let x=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(g),0)),p=Math.floor(x/s.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=c}else p=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:p,previousIndex:i,activeIndex:c}),e.initialized&&pw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function tfe(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,a=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var nfe={updateSize:qhe,updateSlides:Khe,updateAutoHeight:Ghe,updateSlidesOffset:Yhe,updateSlidesProgress:Xhe,updateProgress:Qhe,updateSlidesClasses:Jhe,updateActiveIndex:efe,updateClickedSlide:tfe};function rfe(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=Dhe(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function sfe(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function ife(){return-this.snapGrid[0]}function afe(){return-this.snapGrid[this.snapGrid.length-1]}function ofe(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const f=i.isHorizontal();if(e===0)l[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return d8({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var lfe={getTranslate:rfe,setTranslate:sfe,minTranslate:ife,maxTranslate:afe,translateTo:ofe};function cfe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function g8({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let a=n;a||(s>i?a="next":s<i?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==i&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function ufe(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),g8({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function dfe(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),g8({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var hfe={setTransition:cfe,transitionStart:ufe,transitionEnd:dfe};function ffe(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:x}=i;if(!x&&!r&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const v=Math.min(i.params.slidesPerGroupSkip,a);let b=v+Math.floor((a-v)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const w=-c[b];if(l.normalizeSlideIndex)for(let M=0;M<u.length;M+=1){const T=-Math.floor(w*100),_=Math.floor(u[M]*100),I=Math.floor(u[M+1]*100);typeof u[M+1]<"u"?T>=_&&T<I-(I-_)/2?a=M:T>=_&&T<I&&(a=M+1):T>=_&&(a=M)}if(i.initialized&&a!==f&&(!i.allowSlideNext&&(p?w>i.translate&&w>i.minTranslate():w<i.translate&&w<i.minTranslate())||!i.allowSlidePrev&&w>i.translate&&w>i.maxTranslate()&&(f||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(w);let N;a>f?N="next":a<f?N="prev":N="reset";const C=i.virtual&&i.params.virtual.enabled;if(!(C&&s)&&(p&&-w===i.translate||!p&&w===i.translate))return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(w),N!=="reset"&&(i.transitionStart(n,N),i.transitionEnd(n,N)),!1;if(l.cssMode){const M=i.isHorizontal(),T=p?w:-w;if(e===0)C&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),C&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[M?"scrollLeft":"scrollTop"]=T})):g[M?"scrollLeft":"scrollTop"]=T,C&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return d8({swiper:i,targetPosition:T,side:M?"left":"top"}),!0;g.scrollTo({[M?"left":"top"]:T,behavior:"smooth"})}return!0}const A=p8().isSafari;return C&&!s&&A&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(e),i.setTranslate(w),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,N),e===0?i.transitionEnd(n,N):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(T){!i||i.destroyed||T.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,N))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function mfe(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const v=a*s.params.grid.rows;l=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:d,slidesOffsetAfter:f}=s.params,p=u||!!d||!!f;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let x=c-l<g;if(p&&(x=x||l<Math.ceil(g/2)),r&&p&&s.params.slidesPerView!=="auto"&&!i&&(x=!1),x){const v=p?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?l+1:l-c+1,slideRealIndex:v==="next"?s.realIndex:void 0})}if(i){const v=a*s.params.grid.rows;a=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function pfe(t,e=!0,n){const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function gfe(t,e=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function p(N){return N<0?-Math.floor(Math.abs(N)):Math.floor(N)}const g=p(f),x=i.map(N=>p(N)),v=s.freeMode&&s.freeMode.enabled;let b=i[x.indexOf(g)-1];if(typeof b>"u"&&(s.cssMode||v)){let N;i.forEach((C,P)=>{g>=C&&(N=P)}),typeof N<"u"&&(b=v?i[N]:i[N>0?N-1:N])}let w=0;if(typeof b<"u"&&(w=a.indexOf(b),w<0&&(w=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),s.rewind&&r.isBeginning){const N=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(N,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function xfe(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function yfe(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function bfe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(bi(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),u8(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var vfe={slideTo:ffe,slideToLoop:mfe,slideNext:pfe,slidePrev:gfe,slideReset:xfe,slideToClosest:yfe,slideToClickedSlide:bfe};function wfe(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{bi(s,`.${r.slideClass}, swiper-slide`).forEach((x,v)=>{x.setAttribute("data-swiper-slide-index",v)})},a=()=>{const g=bi(s,`.${r.slideBlankClass}`);g.forEach(x=>{x.remove()}),g.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&a();const c=r.slidesPerGroup*(l?r.grid.rows:1),u=n.slides.length%c!==0,d=l&&n.slides.length%r.grid.rows!==0,f=g=>{for(let x=0;x<g;x+=1){const v=n.isElement?n0("swiper-slide",[r.slideBlankClass]):n0("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(v)}};if(u){if(r.loopAddBlankSlides){const g=c-n.slides.length%c;f(g),n.recalcSlides(),n.updateSlides()}else t0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const g=r.grid.rows-n.slides.length%r.grid.rows;f(g),n.recalcSlides(),n.updateSlides()}else t0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const p=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:p?void 0:"next",initial:e})}function Nfe({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:a,byMousewheel:l}={}){const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:f,slidesEl:p,params:g}=c,{centeredSlides:x,slidesOffsetBefore:v,slidesOffsetAfter:b,initialSlide:w}=g,N=x||!!v||!!b;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){e&&(!N&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):N&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=f,c.emit("loopFix");return}let C=g.slidesPerView;C==="auto"?C=c.slidesPerViewDynamic():(C=Math.ceil(parseFloat(g.slidesPerView,10)),N&&C%2===0&&(C=C+1));const P=g.slidesPerGroupAuto?C:g.slidesPerGroup;let S=N?Math.max(P,Math.ceil(C/2)):P;S%P!==0&&(S+=P-S%P),S+=g.loopAdditionalSlides,c.loopedSlides=S;const A=c.grid&&g.grid&&g.grid.rows>1;u.length<C+S||c.params.effect==="cards"&&u.length<C+S*2?t0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):A&&g.grid.fill==="row"&&t0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const M=[],T=[],_=A?Math.ceil(u.length/g.grid.rows):u.length,I=i&&_-w<C&&!N;let D=I?w:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find($=>$.classList.contains(g.slideActiveClass))):D=s;const R=n==="next"||!n,G=n==="prev"||!n;let U=0,q=0;const B=(A?u[s].column:s)+(N&&typeof r>"u"?-C/2+.5:0);if(B<S){U=Math.max(S-B,P);for(let $=0;$<S-B;$+=1){const Q=$-Math.floor($/_)*_;if(A){const H=_-Q-1;for(let V=u.length-1;V>=0;V-=1)u[V].column===H&&M.push(V)}else M.push(_-Q-1)}}else if(B+C>_-S){q=Math.max(B-(_-S*2),P),I&&(q=Math.max(q,C-_+w+1));for(let $=0;$<q;$+=1){const Q=$-Math.floor($/_)*_;A?u.forEach((H,V)=>{H.column===Q&&T.push(V)}):T.push(Q)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<C+S*2&&(T.includes(s)&&T.splice(T.indexOf(s),1),M.includes(s)&&M.splice(M.indexOf(s),1)),G&&M.forEach($=>{u[$].swiperLoopMoveDOM=!0,p.prepend(u[$]),u[$].swiperLoopMoveDOM=!1}),R&&T.forEach($=>{u[$].swiperLoopMoveDOM=!0,p.append(u[$]),u[$].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():A&&(M.length>0&&G||T.length>0&&R)&&c.slides.forEach(($,Q)=>{c.grid.updateSlide(Q,$,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),e){if(M.length>0&&G){if(typeof t>"u"){const $=c.slidesGrid[D],H=c.slidesGrid[D+U]-$;l?c.setTranslate(c.translate-H):(c.slideTo(D+Math.ceil(U),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-H,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-H))}else if(r){const $=A?M.length/g.grid.rows:M.length;c.slideTo(c.activeIndex+$,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(T.length>0&&R)if(typeof t>"u"){const $=c.slidesGrid[D],H=c.slidesGrid[D-q]-$;l?c.setTranslate(c.translate-H):(c.slideTo(D-q,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-H,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-H))}else{const $=A?T.length/g.grid.rows:T.length;c.slideTo(c.activeIndex-$,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const $={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(Q=>{!Q.destroyed&&Q.params.loop&&Q.loopFix({...$,slideTo:Q.params.slidesPerView===g.slidesPerView?e:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...$,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?e:!1})}c.emit("loopFix")}function jfe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Sfe={loopCreate:wfe,loopFix:Nfe,loopDestroy:jfe};function Cfe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function kfe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Tfe={setGrabCursor:Cfe,unsetGrabCursor:kfe};function Efe(t,e=this){function n(r){if(!r||r===Ci()||r===wr())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function TM(t,e,n){const r=wr(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function Mfe(t){const e=this,n=Ci();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){TM(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!Rhe(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(p?Efe(f,c):c.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const g=a.currentX,x=a.currentY;if(!TM(e,r,g))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=x,s.touchStartTime=e0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let v=!0;c.matches(s.focusableElements)&&(v=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&n.activeElement.blur();const b=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Pfe(t){const e=Ci(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(S=>S.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=e0());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let S;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:p*p+g*g>=25&&(S=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?S>s.touchAngle:90-S>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let x=n.isHorizontal()?p:g,v=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(x=Math.abs(x)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),i.diff=x,x*=s.touchRatio,a&&(x=-x,v=-v);const b=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const w=n.params.loop&&!s.cssMode,N=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(w&&N&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(S)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&w&&N&&Math.abs(x)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let C=!0,P=s.resistanceRatio;if(s.touchReleaseOnEdges&&(P=0),x>0?(w&&N&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(C=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+x)**P))):x<0&&(w&&N&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(C=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-x)**P))),C&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Afe(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(S=>S.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=e0(),p=f-n.touchStartTime;if(e.allowClick){const S=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(S&&S[0]||r.target,S),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=e0(),u8(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(a.followFinger?g=c?e.translate:-e.translate:g=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const x=g>=-e.maxTranslate()&&!e.params.loop;let v=0,b=e.slidesSizesGrid[0];for(let S=0;S<u.length;S+=S<a.slidesPerGroupSkip?1:a.slidesPerGroup){const A=S<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[S+A]<"u"?(x||g>=u[S]&&g<u[S+A])&&(v=S,b=u[S+A]-u[S]):(x||g>=u[S])&&(v=S,b=u[u.length-1]-u[u.length-2])}let w=null,N=null;a.rewind&&(e.isBeginning?N=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const C=(g-u[v])/b,P=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?w:v+P):e.slideTo(v)),e.swipeDirection==="prev"&&(C>1-a.longSwipesRatio?e.slideTo(v+P):N!==null&&C<0&&Math.abs(C)>a.longSwipesRatio?e.slideTo(N):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+P):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:v+P),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:v))}}function EM(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function Ofe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function _fe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Dfe(t){const e=this;ug(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Ife(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const x8=(t,e)=>{const n=Ci(),{params:r,el:s,wrapperEl:i,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",EM,!0):t[u]("observerUpdate",EM,!0),s[c]("load",t.onLoad,{capture:!0}))};function Lfe(){const t=this,{params:e}=t;t.onTouchStart=Mfe.bind(t),t.onTouchMove=Pfe.bind(t),t.onTouchEnd=Afe.bind(t),t.onDocumentTouchStart=Ife.bind(t),e.cssMode&&(t.onScroll=_fe.bind(t)),t.onClick=Ofe.bind(t),t.onLoad=Dfe.bind(t),x8(t,"on")}function Rfe(){x8(this,"off")}var Ffe={attachEvents:Lfe,detachEvents:Rfe};const MM=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function zfe(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=Ci(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),u=t.getBreakpoint(i,l,c);if(!u||t.currentBreakpoint===u)return;const f=(u in i?i[u]:void 0)||t.originalParams,p=MM(t,r),g=MM(t,f),x=t.params.grabCursor,v=f.grabCursor,b=r.enabled;p&&!g?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(s.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!v?t.unsetGrabCursor():!x&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof f[A]>"u")return;const M=r[A]&&r[A].enabled,T=f[A]&&f[A].enabled;M&&!T&&t[A].disable(),!M&&T&&t[A].enable()});const w=f.direction&&f.direction!==r.direction,N=r.loop&&(f.slidesPerView!==r.slidesPerView||w),C=r.loop;w&&n&&t.changeDirection(),Yr(t.params,f);const P=t.params.enabled,S=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!P?t.disable():!b&&P&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",f),n&&(N?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!C&&S?(t.loopCreate(e),t.updateSlides()):C&&!S&&t.loopDestroy()),t.emit("breakpoint",f)}function Vfe(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=wr(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var $fe={setBreakpoint:zfe,getBreakpoint:Vfe};function Bfe(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function Hfe(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=Bfe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function Ufe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Wfe={addClasses:Hfe,removeClasses:Ufe};function qfe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Kfe={checkOverflow:qfe},gw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Gfe(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Yr(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Yr(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Yr(e,r)}}const sv={eventsEmitter:Whe,update:nfe,translate:lfe,transition:hfe,slide:vfe,loop:Sfe,grabCursor:Tfe,events:Ffe,breakpoints:$fe,checkOverflow:Kfe,classes:Wfe},iv={};let pS=class Yi{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Yr({},r),n&&!r.el&&(r.el=n);const s=Ci();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const c=[];return s.querySelectorAll(r.el).forEach(u=>{const d=Yr({},r,{el:u});c.push(new Yi(d))}),c}const i=this;i.__swiper__=!0,i.support=f8(),i.device=m8({userAgent:r.userAgent}),i.browser=p8(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(c=>{c({params:r,swiper:i,extendParams:Gfe(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Yr({},gw,a);return i.params=Yr({},l,iv,r),i.originalParams=Yr({},i.params),i.passedParams=Yr({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(c=>{i.on(c,i.params.on[c])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=bi(n,`.${r.slideClass}, swiper-slide`),i=r0(s[0]);return r0(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=bi(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[u]?Math.ceil(i[u].swiperSlideSize):0,p;for(let g=u+1;g<i.length;g+=1)i[g]&&!p&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>c&&(p=!0));for(let g=u-1;g>=0;g-=1)i[g]&&!p&&(f+=i[g].swiperSlideSize,d+=1,f>c&&(p=!0))}else if(e==="current")for(let f=u+1;f<i.length;f+=1)(n?a[f]+l[f]-a[u]<c:a[f]-a[u]<c)&&(d+=1);else for(let f=u-1;f>=0;f-=1)a[u]-a[f]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&ug(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):bi(r,s())[0];return!a&&n.params.createElements&&(a=n0("div",n.params.wrapperClass),r.append(a),bi(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ao(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ao(r,"direction")==="rtl"),wrongRTL:ao(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?ug(n,i):i.addEventListener("load",a=>{ug(n,a.target)})}),pw(n),n.initialized=!0,pw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Ohe(r)),r.destroyed=!0),null}static extendDefaults(e){Yr(iv,e)}static get extendedDefaults(){return iv}static get defaults(){return gw}static installModule(e){Yi.prototype.__modules__||(Yi.prototype.__modules__=[]);const n=Yi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Yi.installModule(n)),Yi):(Yi.installModule(e),Yi)}};Object.keys(sv).forEach(t=>{Object.keys(sv[t]).forEach(e=>{pS.prototype[e]=sv[t][e]})});pS.use([Hhe,Uhe]);const y8=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Yl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function mu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Yl(e[r])&&Yl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:mu(t[r],e[r]):t[r]=e[r]})}function b8(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function v8(t={}){return t.pagination&&typeof t.pagination.el>"u"}function w8(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function N8(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Yfe(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Xfe({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:a,paginationEl:l}){const c=r.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:p,virtual:g,thumbs:x}=t;let v,b,w,N,C,P,S,A;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(w=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(N=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(C=!0);const M=T=>{t[T]&&(t[T].destroy(),T==="navigation"?(t.isElement&&(t[T].prevEl.remove(),t[T].nextEl.remove()),u[T].prevEl=void 0,u[T].nextEl=void 0,t[T].prevEl=void 0,t[T].nextEl=void 0):(t.isElement&&t[T].el.remove(),u[T].el=void 0,t[T].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?P=!0:!u.loop&&n.loop?S=!0:A=!0),c.forEach(T=>{if(Yl(u[T])&&Yl(n[T]))Object.assign(u[T],n[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in n[T]&&!n[T].enabled&&M(T);else{const _=n[T];(_===!0||_===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?_===!1&&M(T):u[T]=n[T]}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&g&&u.virtual.enabled?(g.slides=e,g.update(!0)):r.includes("virtual")&&g&&u.virtual.enabled&&(e&&(g.slides=e),g.update(!0)),r.includes("children")&&e&&u.loop&&(A=!0),v&&x.init()&&x.update(!0),b&&(t.controller.control=u.controller.control),w&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),N&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),C&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),ef(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),ef(i,t.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(P||A)&&t.loopDestroy(),(S||A)&&t.loopCreate(),t.update()}function Qfe(t={},e=!0){const n={on:{}},r={},s={};mu(n,gw),n._emitClasses=!0,n.init=!1;const i={},a=y8.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?Yl(t[c])?(n[c]={},s[c]={},mu(n[c],t[c]),mu(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function Jfe({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},a){b8(a)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),v8(a)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),w8(a)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}function Zfe(t,e,n,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return y8.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Yl(t[c])&&Yl(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}),d.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}))}else t[c]!==e[c]&&a(c)}),i}const eme=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s0.apply(this,arguments)}function j8(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function S8(t){const e=[];return be.Children.toArray(t).forEach(n=>{j8(n)?e.push(n):n.props&&n.props.children&&S8(n.props.children).forEach(r=>e.push(r))}),e}function tme(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return be.Children.toArray(t).forEach(r=>{if(j8(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=S8(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function nme(t,e,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,f)=>be.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function wh(t,e){return typeof window>"u"?k.useEffect(t,e):k.useLayoutEffect(t,e)}const PM=k.createContext(null),rme=k.createContext(null),_x=k.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...i}={},a)=>{let l=!1;const[c,u]=k.useState("swiper"),[d,f]=k.useState(null),[p,g]=k.useState(!1),x=k.useRef(!1),v=k.useRef(null),b=k.useRef(null),w=k.useRef(null),N=k.useRef(null),C=k.useRef(null),P=k.useRef(null),S=k.useRef(null),A=k.useRef(null),{params:M,passedParams:T,rest:_,events:I}=Qfe(i),{slides:D,slots:R}=tme(r),G=()=>{g(!p)};Object.assign(M.on,{_containerClasses($,Q){u(Q)}});const U=()=>{Object.assign(M.on,I),l=!0;const $={...M};if(delete $.wrapperClass,b.current=new pS($),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=D;const Q={cache:!1,slides:D,renderExternal:f,renderExternalUpdate:!1};mu(b.current.params.virtual,Q),mu(b.current.originalParams.virtual,Q)}};v.current||U(),b.current&&b.current.on("_beforeBreakpoint",G);const q=()=>{l||!I||!b.current||Object.keys(I).forEach($=>{b.current.on($,I[$])})},z=()=>{!I||!b.current||Object.keys(I).forEach($=>{b.current.off($,I[$])})};k.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",G)}),k.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),wh(()=>{if(a&&(a.current=v.current),!!v.current)return b.current.destroyed&&U(),Jfe({el:v.current,nextEl:C.current,prevEl:P.current,paginationEl:S.current,scrollbarEl:A.current,swiper:b.current},M),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),wh(()=>{q();const $=Zfe(T,w.current,D,N.current,Q=>Q.key);return w.current=T,N.current=D,$.length&&b.current&&!b.current.destroyed&&Xfe({swiper:b.current,slides:D,passedParams:T,changedParams:$,nextEl:C.current,prevEl:P.current,scrollbarEl:A.current,paginationEl:S.current}),()=>{z()}}),wh(()=>{eme(b.current)},[d]);function B(){return M.virtual?nme(b.current,D,d):D.map(($,Q)=>be.cloneElement($,{swiper:b.current,swiperSlideIndex:Q}))}return be.createElement(e,s0({ref:v,className:N8(`${c}${t?` ${t}`:""}`)},_),be.createElement(rme.Provider,{value:b.current},R["container-start"],be.createElement(n,{className:Yfe(M.wrapperClass)},R["wrapper-start"],B(),R["wrapper-end"]),b8(M)&&be.createElement(be.Fragment,null,be.createElement("div",{ref:P,className:"swiper-button-prev"}),be.createElement("div",{ref:C,className:"swiper-button-next"})),w8(M)&&be.createElement("div",{ref:A,className:"swiper-scrollbar"}),v8(M)&&be.createElement("div",{ref:S,className:"swiper-pagination"}),R["container-end"]))});_x.displayName="Swiper";const mo=k.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:i,virtualIndex:a,swiperSlideIndex:l,...c}={},u)=>{const d=k.useRef(null),[f,p]=k.useState("swiper-slide"),[g,x]=k.useState(!1);function v(C,P,S){P===d.current&&p(S)}wh(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),u&&(u.current=d.current),!(!d.current||!r)){if(r.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return r.on("_slideClass",v),()=>{r&&r.off("_slideClass",v)}}}),wh(()=>{r&&d.current&&!r.destroyed&&p(r.getSlideClasses(d.current))},[r]);const b={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},w=()=>typeof e=="function"?e(b):e,N=()=>{x(!0)};return be.createElement(t,s0({ref:d,className:N8(`${f}${n?` ${n}`:""}`),"data-swiper-slide-index":a,onLoad:N},c),s&&be.createElement(PM.Provider,{value:b},be.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},w(),i&&!g&&be.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&be.createElement(PM.Provider,{value:b},w(),i&&!g&&be.createElement("div",{className:"swiper-lazy-preloader"})))});mo.displayName="SwiperSlide";function C8(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=bi(t.el,`.${r[s]}`)[0];i||(i=n0("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}const sme='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function gS({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(g){let x;return g&&typeof g=="string"&&t.isElement&&(x=t.el.querySelector(g)||t.hostEl.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),t.params.uniqueNavElements&&typeof g=="string"&&x&&x.length>1&&t.el.querySelectorAll(g).length===1?x=t.el.querySelector(g):x&&x.length===1&&(x=x[0])),g&&!x?g:x)}function i(g,x){const v=t.params.navigation;g=Mn(g),g.forEach(b=>{b&&(b.classList[x?"add":"remove"](...v.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=x),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:g,prevEl:x}=t.navigation;if(t.params.loop){i(x,!1),i(g,!1);return}i(x,t.isBeginning&&!t.params.rewind),i(g,t.isEnd&&!t.params.rewind)}function l(g){g.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(g){g.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const g=t.params.navigation;if(t.params.navigation=C8(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=s(g.nextEl),v=s(g.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:v}),x=Mn(x),v=Mn(v);const b=(w,N)=>{if(w){if(g.addIcons&&w.matches(".swiper-button-next,.swiper-button-prev")&&!w.querySelector("svg")){const C=document.createElement("div");ef(C,sme),w.appendChild(C.querySelector("svg")),C.remove()}w.addEventListener("click",N==="next"?c:l)}!t.enabled&&w&&w.classList.add(...g.lockClass.split(" "))};x.forEach(w=>b(w,"next")),v.forEach(w=>b(w,"prev"))}function d(){let{nextEl:g,prevEl:x}=t.navigation;g=Mn(g),x=Mn(x);const v=(b,w)=>{b.removeEventListener("click",w==="next"?c:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};g.forEach(b=>v(b,"next")),x.forEach(b=>v(b,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?p():(u(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:g,prevEl:x}=t.navigation;if(g=Mn(g),x=Mn(x),t.enabled){a();return}[...g,...x].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),n("click",(g,x)=>{let{nextEl:v,prevEl:b}=t.navigation;v=Mn(v),b=Mn(b);const w=x.target;let N=b.includes(w)||v.includes(w);if(t.isElement&&!N){const C=x.path||x.composedPath&&x.composedPath();C&&(N=C.find(P=>v.includes(P)||b.includes(P)))}if(t.params.navigation.hideOnClick&&!N){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===w||t.pagination.el.contains(w)))return;let C;v.length?C=v[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(C=b[0].classList.contains(t.params.navigation.hiddenClass)),r(C===!0?"navigationShow":"navigationHide"),[...v,...b].filter(P=>!!P).forEach(P=>P.classList.toggle(t.params.navigation.hiddenClass))}});const f=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:f,disable:p,update:a,init:u,destroy:d})}function qd(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function xS({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let i,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(w,N){const{bulletActiveClass:C}=t.params.pagination;w&&(w=w[`${N==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${C}-${N}`),w=w[`${N==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${C}-${N}-${N}`)))}function u(w,N,C){if(w=w%C,N=N%C,N===w+1)return"next";if(N===w-1)return"previous"}function d(w){const N=w.target.closest(qd(t.params.pagination.bulletClass));if(!N)return;w.preventDefault();const C=r0(N)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===C)return;const P=u(t.realIndex,C,t.slides.length);P==="next"?t.slideNext():P==="previous"?t.slidePrev():t.slideToLoop(C)}else t.slideTo(C)}function f(){const w=t.rtl,N=t.params.pagination;if(l())return;let C=t.pagination.el;C=Mn(C);let P,S;const A=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,M=t.params.loop?Math.ceil(A/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(S=t.previousRealIndex||0,P=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(P=t.snapIndex,S=t.previousSnapIndex):(S=t.previousIndex||0,P=t.activeIndex||0),N.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const T=t.pagination.bullets;let _,I,D;if(N.dynamicBullets&&(i=mw(T[0],t.isHorizontal()?"width":"height"),C.forEach(R=>{R.style[t.isHorizontal()?"width":"height"]=`${i*(N.dynamicMainBullets+4)}px`}),N.dynamicMainBullets>1&&S!==void 0&&(a+=P-(S||0),a>N.dynamicMainBullets-1?a=N.dynamicMainBullets-1:a<0&&(a=0)),_=Math.max(P-a,0),I=_+(Math.min(T.length,N.dynamicMainBullets)-1),D=(I+_)/2),T.forEach(R=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(U=>`${N.bulletActiveClass}${U}`)].map(U=>typeof U=="string"&&U.includes(" ")?U.split(" "):U).flat();R.classList.remove(...G)}),C.length>1)T.forEach(R=>{const G=r0(R);G===P?R.classList.add(...N.bulletActiveClass.split(" ")):t.isElement&&R.setAttribute("part","bullet"),N.dynamicBullets&&(G>=_&&G<=I&&R.classList.add(...`${N.bulletActiveClass}-main`.split(" ")),G===_&&c(R,"prev"),G===I&&c(R,"next"))});else{const R=T[P];if(R&&R.classList.add(...N.bulletActiveClass.split(" ")),t.isElement&&T.forEach((G,U)=>{G.setAttribute("part",U===P?"bullet-active":"bullet")}),N.dynamicBullets){const G=T[_],U=T[I];for(let q=_;q<=I;q+=1)T[q]&&T[q].classList.add(...`${N.bulletActiveClass}-main`.split(" "));c(G,"prev"),c(U,"next")}}if(N.dynamicBullets){const R=Math.min(T.length,N.dynamicMainBullets+4),G=(i*R-i)/2-D*i,U=w?"right":"left";T.forEach(q=>{q.style[t.isHorizontal()?U:"top"]=`${G}px`})}}C.forEach((T,_)=>{if(N.type==="fraction"&&(T.querySelectorAll(qd(N.currentClass)).forEach(I=>{I.textContent=N.formatFractionCurrent(P+1)}),T.querySelectorAll(qd(N.totalClass)).forEach(I=>{I.textContent=N.formatFractionTotal(M)})),N.type==="progressbar"){let I;N.progressbarOpposite?I=t.isHorizontal()?"vertical":"horizontal":I=t.isHorizontal()?"horizontal":"vertical";const D=(P+1)/M;let R=1,G=1;I==="horizontal"?R=D:G=D,T.querySelectorAll(qd(N.progressbarFillClass)).forEach(U=>{U.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${G})`,U.style.transitionDuration=`${t.params.speed}ms`})}N.type==="custom"&&N.renderCustom?(ef(T,N.renderCustom(t,P+1,M)),_===0&&r("paginationRender",T)):(_===0&&r("paginationRender",T),r("paginationUpdate",T)),t.params.watchOverflow&&t.enabled&&T.classList[t.isLocked?"add":"remove"](N.lockClass)})}function p(){const w=t.params.pagination;if(l())return;const N=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let C=t.pagination.el;C=Mn(C);let P="";if(w.type==="bullets"){let S=t.params.loop?Math.ceil(N/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&S>N&&(S=N);for(let A=0;A<S;A+=1)w.renderBullet?P+=w.renderBullet.call(t,A,w.bulletClass):P+=`<${w.bulletElement} ${t.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?P=w.renderFraction.call(t,w.currentClass,w.totalClass):P=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?P=w.renderProgressbar.call(t,w.progressbarFillClass):P=`<span class="${w.progressbarFillClass}"></span>`),t.pagination.bullets=[],C.forEach(S=>{w.type!=="custom"&&ef(S,P||""),w.type==="bullets"&&t.pagination.bullets.push(...S.querySelectorAll(qd(w.bulletClass)))}),w.type!=="custom"&&r("paginationRender",C[0])}function g(){t.params.pagination=C8(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const w=t.params.pagination;if(!w.el)return;let N;typeof w.el=="string"&&t.isElement&&(N=t.el.querySelector(w.el)),!N&&typeof w.el=="string"&&(N=[...document.querySelectorAll(w.el)]),N||(N=w.el),!(!N||N.length===0)&&(t.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(N)&&N.length>1&&(N=[...t.el.querySelectorAll(w.el)],N.length>1&&(N=N.find(C=>h8(C,".swiper")[0]===t.el))),Array.isArray(N)&&N.length===1&&(N=N[0]),Object.assign(t.pagination,{el:N}),N=Mn(N),N.forEach(C=>{w.type==="bullets"&&w.clickable&&C.classList.add(...(w.clickableClass||"").split(" ")),C.classList.add(w.modifierClass+w.type),C.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(C.classList.add(`${w.modifierClass}${w.type}-dynamic`),a=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&C.classList.add(w.progressbarOppositeClass),w.clickable&&C.addEventListener("click",d),t.enabled||C.classList.add(w.lockClass)}))}function x(){const w=t.params.pagination;if(l())return;let N=t.pagination.el;N&&(N=Mn(N),N.forEach(C=>{C.classList.remove(w.hiddenClass),C.classList.remove(w.modifierClass+w.type),C.classList.remove(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(C.classList.remove(...(w.clickableClass||"").split(" ")),C.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(C=>C.classList.remove(...w.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const w=t.params.pagination;let{el:N}=t.pagination;N=Mn(N),N.forEach(C=>{C.classList.remove(w.horizontalClass,w.verticalClass),C.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?b():(g(),p(),f())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&f()}),n("snapIndexChange",()=>{f()}),n("snapGridLengthChange",()=>{p(),f()}),n("destroy",()=>{x()}),n("enable disable",()=>{let{el:w}=t.pagination;w&&(w=Mn(w),w.forEach(N=>N.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{f()}),n("click",(w,N)=>{const C=N.target,P=Mn(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&P&&P.length>0&&!C.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&C===t.navigation.nextEl||t.navigation.prevEl&&C===t.navigation.prevEl))return;const S=P[0].classList.contains(t.params.pagination.hiddenClass);r(S===!0?"paginationShow":"paginationHide"),P.forEach(A=>A.classList.toggle(t.params.pagination.hiddenClass))}});const v=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Mn(w),w.forEach(N=>N.classList.remove(t.params.pagination.paginationDisabledClass))),g(),p(),f()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Mn(w),w.forEach(N=>N.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:v,disable:b,render:p,update:f,init:g,destroy:x})}function yS({swiper:t,extendParams:e,on:n,emit:r,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),f,p,g,x,v,b,w;function N(B){!t||t.destroyed||!t.wrapperEl||B.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",N),!(w||B.detail&&B.detail.bySwiperTouchMove)&&_())}const C=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?f=!0:f&&(c=u,f=!1);const B=t.autoplay.paused?u:d+c-new Date().getTime();t.autoplay.timeLeft=B,r("autoplayTimeLeft",B,B/l),a=requestAnimationFrame(()=>{C()})},P=()=>{let B;return t.virtual&&t.params.virtual.enabled?B=t.slides.find(Q=>Q.classList.contains("swiper-slide-active")):B=t.slides[t.activeIndex],B?parseInt(B.getAttribute("data-swiper-autoplay"),10):void 0},S=B=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),C();let $=typeof B>"u"?t.params.autoplay.delay:B;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const Q=P();!Number.isNaN(Q)&&Q>0&&typeof B>"u"&&($=Q,l=Q,c=Q),u=$;const H=t.params.speed,V=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(H,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,H,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(H,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,H,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{S()})))};return $>0?(clearTimeout(i),i=setTimeout(()=>{V()},$)):requestAnimationFrame(()=>{V()}),$},A=()=>{d=new Date().getTime(),t.autoplay.running=!0,S(),r("autoplayStart")},M=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(a),r("autoplayStop")},T=(B,$)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),B||(b=!0);const Q=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",N):_()};if(t.autoplay.paused=!0,$){v&&(u=t.params.autoplay.delay),v=!1,Q();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),Q())},_=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),b?(b=!1,S(u)):S(),t.autoplay.paused=!1,r("autoplayResume"))},I=()=>{if(t.destroyed||!t.autoplay.running)return;const B=Ci();B.visibilityState==="hidden"&&(b=!0,T(!0)),B.visibilityState==="visible"&&_()},D=B=>{B.pointerType==="mouse"&&(b=!0,w=!0,!(t.animating||t.autoplay.paused)&&T(!0))},R=B=>{B.pointerType==="mouse"&&(w=!1,t.autoplay.paused&&_())},G=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",D),t.el.addEventListener("pointerleave",R))},U=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",D),t.el.removeEventListener("pointerleave",R))},q=()=>{Ci().addEventListener("visibilitychange",I)},z=()=>{Ci().removeEventListener("visibilitychange",I)};n("init",()=>{t.params.autoplay.enabled&&(G(),q(),A())}),n("destroy",()=>{U(),z(),t.autoplay.running&&M()}),n("_freeModeStaticRelease",()=>{(g||b)&&_()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?M():T(!0,!0)}),n("beforeTransitionStart",(B,$,Q)=>{t.destroyed||!t.autoplay.running||(Q||!t.params.autoplay.disableOnInteraction?T(!0,!0):M())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){M();return}p=!0,g=!1,b=!1,x=setTimeout(()=>{b=!0,g=!0,T(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(i),t.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&t.params.cssMode&&_(),g=!1,p=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:A,stop:M,pause:T,resume:_})}function ime(){const{data:t,isLoading:e}=Ae({queryKey:["listBanner"],queryFn:()=>l8()}),n=t&&t.data,r=i=>{switch(i.redirectType){case"product":return`/product-detail/${i.targetSlug}`;case"category":return`/category/${i.targetSlug}`;case"promotion":return`/promotion/${i.targetSlug}`;case"collection":return`/collections/${i.targetSlug}`;case"flash_sale":return"/flash-sale";default:return"/"}},s=()=>o.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 animate-pulse",children:[o.jsx("div",{className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] bg-gray-200"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 md:p-8",children:[o.jsx("div",{className:"h-8 sm:h-9 md:h-10 bg-gray-300 rounded w-full sm:w-3/4 mb-2 sm:mb-3"}),o.jsx("div",{className:"h-6 sm:h-7 bg-gray-300 rounded w-2/3 sm:w-1/2 mb-4 sm:mb-6"}),o.jsx("div",{className:"h-10 sm:h-12 bg-gray-300 rounded-full w-32 sm:w-40"})]})]});return o.jsxs("div",{className:"rounded-xl bg-white shadow-lg overflow-hidden px-2 xs:px-4 sm:px-8 md:px-4 lg:px-0",children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("button",{className:"custom-prev-btn absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-200 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(F,{icon:ls,className:"hover:text-[1.8rem]"})}),o.jsx(_x,{modules:[gS,xS,yS],spaceBetween:10,slidesPerView:1,slidesPerGroup:1,breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:1,spaceBetween:15},640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:20},1024:{slidesPerView:1,spaceBetween:20}},navigation:{nextEl:".custom-next-btn",prevEl:".custom-prev-btn",enabled:!0},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",renderBullet:function(i,a){return`<span class="${a} !bg-gray-300 hover:!bg-pink-500"></span>`}},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"w-full",children:e?o.jsxs(o.Fragment,{children:[o.jsx(mo,{children:o.jsx(s,{})}),o.jsx(mo,{children:o.jsx(s,{})})]}):n.map(i=>o.jsx(mo,{children:o.jsxs(Ze,{to:r(i),className:"block relative overflow-hidden group cursor-pointer",children:[o.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] object-cover transition-transform duration-700 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),o.jsx("div",{className:"absolute top-3 xs:top-4 sm:top-6 right-3 xs:right-4 sm:right-6 bg-red-600 text-white px-3 xs:px-4 sm:px-6 py-1 xs:py-2 sm:py-3 rounded-full text-xs xs:text-sm sm:text-base md:text-lg font-bold animate-pulse shadow-lg whitespace-nowrap",children:"NEW"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 xs:p-6 sm:p-8 md:p-10 lg:p-12 text-white",children:[o.jsx("h3",{className:"xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-2 xs:mb-3 leading-tight",children:i.title}),o.jsx("p",{className:"text-lg xs:text-base sm:text-lg md:text-xl text-white/90 mb-4 xs:mb-6 max-w-full sm:max-w-xl md:max-w-2xl line-clamp-2 xs:line-clamp-none",children:i.subTitle})]})]})},i.id))}),o.jsx("button",{className:"custom-next-btn absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-200 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(F,{icon:en,className:"hover:text-[1.8rem]"})})]}),o.jsx("div",{className:"swiper-pagination mt-2 xs:mt-3 sm:mt-4 flex justify-center"})]})}function Ku({showAddCart:t,setShowAddCart:e}){const[n,r]=k.useState(null),[s,i]=k.useState(null),[a,l]=k.useState(null),[c,u]=k.useState(1),[d,f]=k.useState(null),{addToCart:p,isLoading:g,notify:x,setNotify:v}=Ox(),b=()=>(t.data&&t.data.variants.find(_=>_.variantColor.id===a?.id&&_.variantSize.id===s?.id))?.inventory??0;k.useEffect(()=>{const T=b();if(!a||!s){u(1);return}u(_=>_>T?T>0?T:1:_)},[a,s]);const w=a&&s,N=t.data&&t.data?.variants?.reduce((T,_)=>T+_.inventory,0)||0,C=b(),P=k.useMemo(()=>{const T=new Map;return t.data&&t.data.variants.forEach(_=>T.set(_.variantColor.id,_.variantColor)),[...T.values()]},[t.data]),S=k.useMemo(()=>{const T=new Map;return t.data&&t.data.variants.forEach(_=>T.set(_.variantSize.id,_.variantSize)),[...T.values()]},[t.data]),A=()=>{const T=t.data&&t.data.category.categoryName?.toUpperCase()||"";return T.includes("giy")||T.includes("dp")?EN:AN},M=async()=>{if(f(null),!a||!s){f("Vui lng chn thuc tnh sn phm!");return}const T=t.data?.variants.find(I=>I.variantColor.id===a.id&&I.variantSize.id===s.id)?.id;c<=0&&f("S lng sn phm t nht l 1!"),p([{variantId:T,quantity:c}])};return o.jsxs(o.Fragment,{children:[o.jsxs(ut,{open:t.open,className:`relative \r
          w-[92vw] max-w-[90%] sm:max-w-[80%] md:max-w-[70%] lg:max-w-[55%]\r
          min-h-[30vh] max-h-[90vh] sm:max-h-[85vh] md:max-h-[80vh]\r
          bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-y-auto\r
          px-4 py-5 sm:px-6 sm:py-6 md:p-8 lg:p-10`,children:[o.jsx("button",{className:`absolute top-2 right-2 sm:top-3 sm:right-3 \r
            w-9 h-9 sm:w-10 sm:h-10 rounded-full \r
            flex items-center justify-center bg-gray-800 \r
            cursor-pointer hover:scale-110 transition-transform z-10`,onClick:()=>e({open:!1,data:null}),children:o.jsx(F,{icon:Kn,className:"text-white text-xl sm:text-2xl"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8 lg:gap-10",children:[o.jsxs("div",{className:"w-full md:w-[38%] lg:w-[40%] flex-shrink-0",children:[o.jsx("div",{className:"aspect-square w-full max-w-[380px] mx-auto md:mx-0",children:o.jsx("img",{src:n||t.data?.mainImage,alt:"mainImage",className:"w-full h-full rounded-xl object-cover shadow-sm"})}),o.jsx("div",{className:"mt-4 grid grid-cols-4 sm:grid-cols-5 gap-2 sm:gap-3 overflow-x-auto pb-2 scrollbar-thin",children:t.data?.listImageProduct&&t.data.listImageProduct.length>0&&t.data.listImageProduct.map(T=>o.jsx("div",{className:"cursor-pointer flex-shrink-0 w-20 sm:w-24 aspect-square",onClick:()=>r(T.imageUrl),children:o.jsx("img",{src:T.imageUrl,alt:`thumb-${t.data?.productName}`,className:`w-full h-full rounded-lg object-cover border-2 transition-all ${n===T.imageUrl?"border-blue-500 shadow-md":"border-transparent hover:border-gray-300"}`})},T.id))})]}),o.jsxs("div",{className:"flex-1 space-y-4 sm:space-y-5",children:[o.jsx("h2",{className:"text-[1.8rem] font-bold text-gray-800 line-clamp-2",children:t.data?.productName}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-gray-600 text-[1.4rem]",children:[o.jsxs("span",{children:["M sn phm: ",o.jsx("strong",{children:t.data?.id})]}),o.jsx("span",{className:"hidden sm:inline-block border-l border-gray-400 h-5"}),o.jsxs("span",{children:["Tnh trng:"," ",o.jsx("strong",{children:t.data?.variants.some(T=>T.inventory>0)?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Gi:"}),o.jsx("span",{className:"text-red-500 font-bold text-[1.6rem] sm:text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(t.data?.price))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2",children:"Chn mu:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:P.map(T=>o.jsxs("button",{className:`flex items-center gap-2 px-3 sm:px-4 py-2 border rounded-lg text-[1.4rem] transition-all ${a?.id===T.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300"}`,onClick:()=>l(T),onFocus:()=>f(null),children:[o.jsx(F,{icon:A(),className:"p-1 rounded bg-gray-100",style:{color:T.hexCode}}),o.jsx("span",{className:"text-gray-700",children:T.name})]},T.id))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2 mt-5 sm:mt-6",children:"Chn size:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:S?.map(T=>{const _=a&&t.data?.variants.some(I=>I.variantColor.id===a.id&&I.variantSize.id===T.id);return o.jsx("button",{className:`px-5 sm:px-6 py-2 border rounded-lg text-[1.4rem] transition-all ${_?s?.id===T.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300":"border-gray-200 text-gray-300 cursor-not-allowed"}`,disabled:!_,onClick:()=>i(T),onFocus:()=>f(null),children:T.name},T.id)})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 mt-6 sm:mt-8",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(T=>Math.max(1,T-1)),children:o.jsx(F,{icon:Ul,className:"text-base"})}),o.jsx("input",{type:"number",value:c,min:1,disabled:!w,onChange:T=>{const _=Number(T.target.value);isNaN(_)||u(_)},className:`w-20 sm:w-24 h-10 sm:h-11 text-center text-[1.4rem] border rounded-lg outline-none ${w?"border-gray-300 focus:border-blue-400":"bg-gray-100 text-gray-500 cursor-not-allowed"}`}),o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(T=>Math.min(C,T+1)),children:o.jsx(F,{icon:xa,className:"text-base"})})]}),o.jsx("span",{className:"text-[1.2rem] text-gray-600 font-medium uppercase",children:w?`Cn ${C} sn phm`:N>0?"Cn hng":"Ht hng"})]}),d&&o.jsx("p",{className:"text-red-500 text-[1.5rem] mt-4",children:d})]})]}),o.jsxs("div",{className:"flex flex-row items-center justify-end gap-3 sm:gap-4 mt-6 sm:mt-8",children:[o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition duration-300 text-[1.4rem]",onClick:()=>e({open:!1,data:null}),disabled:g,children:"Hy"}),o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-300 text-[1.4rem] font-medium",onClick:M,disabled:g||!w,children:g?"ang x l...":"Thm vo gi"})]})]}),o.jsx(qu,{showNotify:x.show,content:x.content,duration:1e3,onClose:()=>v({show:!1,content:""})})]})}function ame(){const t=tt(),[e]=k.useState({limit:10,page:1}),[n,r]=k.useState({open:!1,data:null}),{data:s,isLoading:i}=Ae({queryKey:["populars",e],queryFn:()=>kte(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500",children:"Sn phm ni bt"}),o.jsxs(Ze,{to:"/products?sort=popular",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(F,{icon:en})]})]}),o.jsxs("div",{className:"relative w-full",children:[o.jsx("button",{className:"lg:block hidden popular-prev absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(F,{icon:ls,className:"hover:text-[1.8rem]"})}),o.jsx(_x,{modules:[gS,xS,yS],spaceBetween:10,slidesPerView:1,slidesPerGroup:1,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".popular-next",prevEl:".popular-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:4,slidesPerGroup:4,navigation:!0},1024:{slidesPerView:4,slidesPerGroup:4,navigation:!0},1280:{slidesPerView:5,slidesPerGroup:5,navigation:!0}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(mo,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(mo,{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${l.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"})]})]})]},l.id))}),o.jsx("button",{className:"lg:block hidden popular-next absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(F,{icon:en,className:"hover:text-[1.8rem]"})})]}),o.jsx(Ku,{showAddCart:n,setShowAddCart:r})]})}function ome(){const t=tt(),[e]=k.useState({limit:10,page:1}),[n,r]=k.useState({open:!1,data:null}),{data:s,isLoading:i}=Ae({queryKey:["bestsell",e],queryFn:()=>Tte(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500",children:"Sn phm ban chay"}),o.jsxs(Ze,{to:"/products?sort=best_seller",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(F,{icon:en})]})]}),o.jsxs("div",{className:"relative ",children:[o.jsx("button",{className:"hidden lg:block bestsell-prev absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(F,{icon:ls,className:"hover:text-[1.8rem]"})}),o.jsx(_x,{modules:[gS,xS,yS],spaceBetween:10,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".bestsell-next",prevEl:".bestsell-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:3,slidesPerGroup:3,spaceBetween:10,navigation:!0},1024:{slidesPerView:4,slidesPerGroup:4,spaceBetween:10,navigation:!0},1280:{slidesPerView:5,slidesPerGroup:5,spaceBetween:10,navigation:!0}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(mo,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(mo,{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${l.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"})]})]})]},l.id))}),o.jsx("button",{className:"hidden lg:block bestsell-next absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(F,{icon:en,className:"hover:text-[1.8rem]"})})]}),o.jsx(Ku,{showAddCart:n,setShowAddCart:r})]})}function lme({open:t,onClose:e}){return o.jsxs(ut,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[1.6rem] pb-4 font-semibold",children:"Bn c chc mun hy FlashSale ny?"}),o.jsxs("div",{className:"pt-8 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"Khng"}),o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>{},children:"Hy"})]})]})}const cme={[ml.ACTIVE]:"ang din ra",[ml.SCHEDULE]:"Sp din ra",[ml.ENDED]:" kt thc",[ml.CANCELLED]:" hy"},bS=t=>{const e={ACTIVE:"bg-green-100 text-green-700",SCHEDULE:"bg-blue-100 text-blue-700",ENDED:"bg-gray-100 ",CANCELLED:"bg-red-100 text-red-700"},n={ACTIVE:"ang din ra",SCHEDULE:"Sp din ra",ENDED:" kt thc",CANCELLED:" hy"};return o.jsx("span",{className:`px-5 py-2 rounded-full text-[1.4rem] font-medium ${e[t]}`,children:n[t]})};function ume(){const t=tt(),[e,n]=k.useState({limit:20,page:1,name:"",status:""}),[r,s]=k.useState(e),[i,a]=k.useState(null),{data:l,isLoading:c}=Ae({queryKey:["flashsales",r],queryFn:()=>dS(e)}),u=l&&l.data||[],d=l&&l?.pagination.totalPages||1,f=()=>{s({...e})};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold",children:"FlashSale"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>t("create"),children:[o.jsx(F,{icon:zu}),"To Flash Sale"]})})]}),o.jsx("div",{className:"mt-[2rem] flex justify-between items-center gap-4",children:o.jsxs("div",{className:"flex gap-4 items-center flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-[40rem]",children:[o.jsx(F,{icon:Wn,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-[1.4rem]"}),o.jsx("input",{type:"text",placeholder:"Tm kim flash sale...",value:e.name,onChange:p=>n(g=>({...g,name:p.target.value})),className:"w-full pl-12 pr-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500"})]}),o.jsxs("select",{value:e.status,onChange:p=>n(g=>({...g,status:p.target.value})),className:"px-6 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"Tt c"}),Object.entries(ml).map(([p,g])=>o.jsx("option",{value:g,children:cme[g]},g))]}),o.jsxs("button",{className:"px-6 h-[4rem] rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300 cursor-pointer",onClick:()=>f(),children:[o.jsx(F,{icon:Vr}),o.jsx("span",{children:"Loc"})]})]})}),o.jsx("div",{className:"mt-[2rem] overflow-x-auto shadow-md",children:o.jsxs("table",{className:"w-full border border-gray-200",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-gray-200",children:[o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"STT"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Tn chng trnh"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian bt u"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian kt thc"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Gim gi"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Sn phm"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Trng thi"}),o.jsx("th",{className:"text-center py-4 px-4 text-[1.4rem] font-semibold ",children:"Thao tc"})]})}),o.jsx("tbody",{children:c?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"ang ti d liu..."})}):u.length>0?u.map((p,g)=>o.jsxs("tr",{className:" hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:++g}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] font-medium",children:p.name}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:gn(p.startDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:gn(p.endDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:o.jsxs("span",{className:"text-red-500 ",children:[p.discount,"%"]})}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:p?.flashSaleProduct?.length}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] ",children:bS(p.status)}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{className:"px-3 py-1 bg-green-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`detail/${p.id}`),children:o.jsx(F,{icon:Ws,className:"text-[1.4rem]"})}),o.jsx("button",{className:"px-3 py-1 bg-amber-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`edit/${p.id}`),children:o.jsx(F,{icon:Ms,className:"text-[1.4rem]"})}),o.jsx("button",{className:"text-[1.4rem] px-3 py-1 bg-red-500 hover:bg-red-600 cursor-pointer text-white rounded-lg transition-colors duration-300",onClick:()=>a(p.id),children:"Hy"})]})})]},p.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"Khng tm thy flash sale no"})})})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.max(p.page-1,1)})),disabled:e.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:d},(p,g)=>g+1).filter(p=>Math.abs(p-e.page)<=2).map(p=>o.jsx("button",{onClick:()=>n(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${e.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.min(p.page+1,d)})),disabled:e.page===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]}),i&&o.jsx(lme,{open:!!i,onClose:()=>a(null)})]})}const dme=()=>{const[t]=k.useState({limit:4,page:1,name:"",status:""}),{data:e,isLoading:n}=Ae({queryKey:["flashsales",t],queryFn:()=>dS(t)}),[r,s]=k.useState({}),i=k.useMemo(()=>e?.data,[e?.data]),a=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c)),l=(c,u)=>Math.round(c/u*100);return k.useEffect(()=>{if(!i||i.length===0)return;const c=()=>{const d={};i.forEach(f=>{d[f.id]=hS(f.endDate)}),s(d)};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[i]),n?o.jsx("div",{className:"text-center py-10",children:"ang ti flash sale..."}):i.length===0?null:o.jsx("div",{className:"space-y-12 mt-8",children:i?i.map(c=>{const u=r[c.id]||{hours:0,minutes:0,seconds:0},d=c.flashSaleProduct?.slice(0,5)||[],f=Math.floor(u.hours/24);return o.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl py-12 md:py-20 lg:py-25 px-4 md:px-8 lg:px-14 z-0",style:{background:`url(${c.bannerImage})`},children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 z-0"}),o.jsxs("div",{className:"relative p-6 md:p-8 z-100 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-2xl md:text-3xl font-bold text-white",children:[c.name," - Gim ",c.discount,"%"]}),o.jsx("p",{className:"text-yellow-200 mt-3",children:bS(c.status)})]}),o.jsxs("div",{className:"flex items-center gap-4 text-[1.4rem]",children:[o.jsx("span",{className:"text-white font-medium ",children:"Kt thc sau:"}),o.jsx("div",{className:"flex gap-3",children:u.hours>24?o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px] text-red-600",children:[f," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px]",children:[o.jsx("div",{className:" text-red-600",children:String(u[p]).padStart(2,"0")}),o.jsx("div",{children:p==="hours"?"Gi":p==="minutes"?"Pht":"Giy"})]},g))})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-6",children:d.length>0?d.map(p=>{const g=l(p.sold,p.quantity),x=p.product;return o.jsxs(Ze,{to:`/product-detail/${x.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",c.discount,"%"]}),o.jsx("div",{className:"relative h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:x.mainImage||"https://via.placeholder.com/300",alt:x.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-2 text-[1.4rem] md:text-[1.5rem] lg:text-[1.6rem]",children:x.productName||`Sn phm ${x.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 pb-5",children:[o.jsx("p",{className:"text-red-600 text-[1.2rem] md:text-[1.4rem] font-bold",children:a(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1rem] md:text-[1.2rem]",children:a(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1rem] md:text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"text-red-500",children:[g,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${g}%`}})})]})]})]},x.id)}):o.jsx("p",{className:"text-white text-[1.4rem] md:text-[1.6rem] py-25 text-center",children:"Cha c sn phm trong chng trnh ny"})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(Ze,{to:`/flash-sale/${c.slug}`,className:"inline-block px-10 py-4 bg-white text-red-600 rounded-full text-[1.4rem] md:text-[1.6rem] hover:bg-red-100 transition shadow-lg",children:"Xem tt c sn phm"})})]})]},c.id)}):o.jsx(o.Fragment,{})})};function hme(){const{data:t=[],isLoading:e}=Ae({queryKey:["getAllCategory"],queryFn:_o}),n=()=>o.jsx("div",{children:"ang ti d liu"});return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500 mb-6",children:"Danh mc"}),e?o.jsx(n,{}):t.length>0?o.jsx("div",{className:"w-full overflow-x-auto hide-scrollbar",children:o.jsx("div",{className:"h-auto grid grid-flow-col auto-cols-[12rem] gap-2.5",children:t.filter(r=>r.image).map(r=>o.jsxs(Ze,{to:`/category/${r.slug}`,className:"border flex items-center flex-col justify-center border-gray-200 rounded-lg p-2.5 group hover:border-gray-400 shadow-md transition-colors duration-300 cursor-pointer",children:[o.jsx("img",{src:r.image,alt:`image-${r.categoryName}`,className:"w-[8rem] h-[8rem] rounded-full object-cover group-hover:scale-[1.1] transition-transform duration-300"}),o.jsx("p",{className:"line-clamp-1 mt-1",children:r.categoryName})]},r.id))})}):o.jsx("div",{children:"Khng c danh mc no"})]})}function fme(){const t=tt(),[e,n]=k.useState([]),[r,s]=k.useState({open:!1,data:null}),[i,a]=k.useState({price:"desc",limit:10,page:1,sort:"latest"}),{data:l,isLoading:c}=Ae({queryKey:["products",i],queryFn:$u}),u=l&&i.page<l.totalPages;k.useEffect(()=>{if(!l)return;const f=l.data||[];n(p=>i.page===1?f:[...p,...f])},[l,i.page]);const d=()=>{a(f=>({...f,page:f.page+1}))};return c?o.jsx("div",{children:"ang ti d liu"}):o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500 mb-6",children:"Gi  hm nay"}),o.jsxs("div",{className:"text-center",children:[e.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.map(f=>o.jsxs("div",{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${f.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:f.mainImage||"https://via.placeholder.com/300",alt:f.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:f.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:p=>{p.stopPropagation(),s({open:!0,data:f})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:p=>{p.stopPropagation(),t(`/product-detail/${f.slug}`)},children:"Chi tit"})]})]})]},f.id))}),u&&o.jsx("button",{type:"button",className:"py-3 px-8 border border-gray-300 hover:border-gray-600 hover:text-gray-800 transition-colors duration-300 rounded-md mt-8 cursor-pointer",onClick:()=>d(),disabled:c,children:"Xem thm"})]}),o.jsx(Ku,{showAddCart:r,setShowAddCart:s})]})}function mme(){return o.jsxs(o.Fragment,{children:[o.jsx(ime,{}),o.jsx(dme,{}),o.jsx(hme,{}),o.jsx(ame,{}),o.jsx(ome,{}),o.jsx(fme,{})]})}const pme=async({session_id:t,userId:e})=>fe.get("/api/v1/chat/history",{params:{...e?{}:{session_id:t}}});function gme(){const{user:t}=kt(),e=r8(),[n,r]=k.useState(!1),s=k.useRef(null),[i,a]=k.useState([]),{data:l,isLoading:c}=Ae({queryKey:["historyChat",e,t?.id],queryFn:()=>pme({session_id:e,userId:Number(t?.id)})});k.useEffect(()=>{if(l?.data){const w=l.data.map(N=>({role:N.role==="assistant"?"assistant":"user",content:N.content,timestamp:N.timestamp}));a(w)}},[l]);const[u,d]=k.useState(null),[f,p]=k.useState(!1),g=k.useRef(null);k.useEffect(()=>{const w=N=>{g.current&&!g.current.contains(N.target)&&r(!1)};return document.addEventListener("click",w),()=>{document.removeEventListener("click",w)}},[]),k.useEffect(()=>{s.current?.scrollIntoView({behavior:"smooth"})},[i,n]);const x=async()=>{if(!u?.trim())return;const w={role:"user",content:u,timestamp:new Date().toISOString()},N=[...i,w];a(N),d(""),p(!0);try{const C=await fe.post("/api/v1/chat/create",{content:w.content,...t?{}:{session_id:e}});if(!C.status)throw new Error("Li t server!");const P={role:"assistant",content:C.data.message,timestamp:C.data.timestamp};a(S=>[...S,P])}catch{const P={role:"assistant",content:"Xin li,  c li x ra. Vui lng th li sau nh!",timestamp:new Date().toISOString()};a(S=>[...S,P])}finally{p(!1)}},v=w=>new Date(w).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),b=()=>o.jsxs("div",{className:"flex items-end gap-4 animate-pulse",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-200"}),o.jsxs("div",{className:"flex flex-col max-w-[70%] space-y-2",children:[o.jsx("div",{className:"h-20 bg-gray-200 rounded-4xl rounded-bl-none w-64"}),o.jsx("div",{className:"h-3 bg-gray-100 rounded w-16"})]})]});return o.jsxs("div",{className:"fixed bottom-14 right-8 z-[999]",ref:g,children:[o.jsxs("button",{onClick:()=>r(!0),className:"relative bg-green-600 text-white w-22 h-22 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-110 z-50 group ",children:[o.jsx(F,{icon:EG,className:"text-[2rem]"}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-8 h-8 text-[1.4rem] flex items-center justify-center animate-pulse",children:"1"})]}),n&&o.jsxs("div",{className:"absolute flex flex-col bottom-[6rem] right-0 md:right-[2rem] lg:right-[5rem] w-[35rem] md:w-[45rem] h-[55rem] rounded-xl shadow-2xl bg-white z-[999]",children:[o.jsx("button",{type:"button",className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors duration-300",onClick:()=>r(!1),children:o.jsx(F,{icon:Ct,className:"text-gray-500"})}),o.jsxs("div",{className:"w-full h-auto p-6 flex items-center space-x-4 bg-blue-500 rounded-tr-xl rounded-tl-xl text-white",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-[#ffffff48] flex items-center justify-center",children:o.jsx(F,{icon:x5})}),o.jsxs("div",{children:[o.jsx("p",{children:"Tr l AI"}),o.jsx("p",{className:"text-[1.2rem]",children:"Lun sn sn h tr khch hng"})]})]}),o.jsx("div",{className:"flex-1 flex flex-col space-y-8 w-full min-h-[15rem] p-6 overflow-y-auto hide-scrollbar",children:c?Array.from({length:4}).map((w,N)=>o.jsxs("div",{children:[o.jsx(b,{}),";"]},N)):i.length>0?i.map((w,N)=>{const C=w.role==="user";return o.jsxs("div",{className:`flex items-end gap-4 ${C?"justify-end":"justify-start"}`,children:[!C&&o.jsx("div",{className:"w-14 h-14 rounded-full bg-blue-500 text-white flex items-center justify-center",children:o.jsx(F,{icon:x5})}),o.jsxs("div",{className:"flex flex-col max-w-[70%]",children:[o.jsx("div",{className:`p-5 rounded-4xl text-[1.4rem] break-words whitespace-pre-wrap
                        ${C?"bg-blue-500 text-white rounded-br-none":"bg-white border border-gray-200 rounded-bl-none"}
                      `,children:w.content}),o.jsx("span",{className:`text-[1rem] text-gray-400 mt-1 ${C?"text-right":"text-left"}`,children:v(w.timestamp)})]}),C&&o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",children:o.jsx("img",{src:t?t.avatar:zN,alt:"avatar user",className:"w-full h-full object-cover rounded-full"})}),o.jsx("div",{ref:s})]},`${w.role}-${w.timestamp}-${N}`)}):o.jsx("div",{})}),o.jsxs("div",{className:"flex items-center space-x-4 w-full h-auto p-6 mt-auto border-t border-t-gray-200",children:[o.jsx("input",{type:"text",value:u??"",className:"flex-1 w-full h-[5rem] rounded-full border border-gray-300 outline-none px-[3rem]",placeholder:"Nhp tin nhn...",onChange:w=>d(w.target.value),onKeyDown:w=>{w.key==="Enter"&&x()}}),o.jsx("button",{className:"w-[5rem] h-[5rem] rounded-full flex items-center justify-center bg-blue-500 hover:bg-blue-600 transition-colors duration-300",onClick:x,children:o.jsx(F,{icon:zde,className:"text-white"})})]})]})]})}function xme(){return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(lS,{}),o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:[o.jsx(ic,{}),o.jsx(gme,{})]}),o.jsx(cS,{})]})}function yme(){const n=ur().pathname.split("/").filter(Boolean).slice(1),[r,s]=k.useState(!1),{data:i,isLoading:a,isError:l,error:c}=Ae({queryKey:["categories-by-slugs",n],queryFn:()=>Lte(n),enabled:n.length>0,retry:2});return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(lS,{}),o.jsxs("div",{className:"flex items-center space-x-2 text-[1.4rem] mt-[20rem] md:mt-[16.5rem] px-[1.5rem] md:px-[15rem] overflow-x-auto pb-2",children:[o.jsxs(Ze,{to:"/",className:"flex items-center space-x-2 text-blue-800 flex-shrink-0",children:[o.jsx("span",{children:"Home"}),o.jsx(F,{icon:en,className:"text-gray-400 cursor-pointer"})]}),a&&o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:"ang ti..."}),l&&o.jsx("div",{className:"flex-shrink-0 text-red-600",children:c instanceof Error?c.message:"C li xy ra"}),!a&&!l&&i&&n.map((u,d)=>{const p=i[d].categoryName,g="/category/"+n.slice(0,d+1).join("/");return o.jsxs("span",{className:"flex items-center flex-shrink-0",children:[o.jsx(Ze,{to:g,className:"text-blue-800 text-[1.4rem] whitespace-nowrap",children:p}),d<n.length-1&&o.jsx(F,{icon:en,className:"text-gray-400 mx-2"})]},u)})]}),o.jsx("button",{onClick:()=>s(!0),className:"md:hidden fixed bottom-8 right-4 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-95 transition-transform",children:o.jsx(F,{icon:H_,className:"text-[2rem]"})}),o.jsxs("div",{className:"flex gap-[2rem] px-[1.5rem] md:px-[12rem] mt-[1rem] relative",children:[o.jsxs("div",{className:`
            fixed md:static 
            top-0 left-0 
            h-full md:h-auto
            w-[85%] max-w-[32rem] md:w-auto
            bg-white md:bg-transparent 
            z-50 md:z-auto
            transition-transform duration-300 md:transition-none
            ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}
            overflow-y-auto md:overflow-visible
            shadow-2xl md:shadow-none
          `,children:[o.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[o.jsx("h3",{className:"text-[1.8rem] font-semibold",children:"Danh mc"}),o.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 rounded-full active:scale-95",children:o.jsx(F,{icon:V_,className:"text-[2rem]"})})]}),o.jsx("div",{className:"p-4 md:p-0",children:o.jsx(n8,{})})]}),r&&o.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),o.jsx("div",{className:"flex-1 w-full pb-[10rem] md:pb-0",children:o.jsx(ic,{})})]}),o.jsx(cS,{})]})}const k8="/manage-sell-client/assets/no-product-E6KspzCb.png";function T8({queryDefault:t,handleChangeSort:e,handleChangePrice:n,setQueryDefault:r}){const[s]=Ei(),i=s.get("sort");return o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsx("div",{className:"flex items-center gap-2 flex-wrap md:flex-nowrap",children:!i&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${t.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>e("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${t.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>e("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${t.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>e("best_seller"),children:"Bn chy"})]})}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi: ",t.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(F,{icon:bu,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${t.price==="asc"?"text-red-500":""}`,onClick:()=>n("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),t.price==="asc"&&o.jsx(F,{icon:ss,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${t.price==="desc"?"text-red-500":""}`,onClick:()=>n("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),t.price==="desc"&&o.jsx(F,{icon:ss,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>r(a=>({...a,price:t.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(F,{icon:t.price==="asc"?z_:B_,className:"text-[1rem] font-extralight"})]})]})}function av(){const t=tt(),{slug1:e,slug2:n,slug3:r}=Gs(),[s,i]=k.useState({open:!1,data:null}),a=[e,n,r].filter(Boolean),[l,c]=k.useState({page:1,limit:20,price:"asc",sort:"popular"}),u=a[a.length-1],{data:d,isLoading:f}=Ae({queryKey:["product-by-category",a,l],queryFn:()=>Pte(a,l)}),p=d?.data||[],{data:g,isLoading:x}=Ae({queryKey:["childOfCates",u],queryFn:()=>Ate(u)}),v=g&&g.data||[];k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const b=C=>{c(P=>({...P,sort:C}))},w=C=>{c(P=>({...P,price:C}))},N=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C);return o.jsxs("div",{className:"w-full h-auto rounded-lg",children:[o.jsx(T8,{handleChangePrice:w,handleChangeSort:b,queryDefault:l,setQueryDefault:c}),x?o.jsxs("div",{className:"w-full h-[15rem] flex flex-col gap-y-[1.5rem] items-center justify-center mt-[2rem]",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.3rem] md:text-[1.5rem] text-gray-600",children:"ang ti danh mc..."})]}):v&&v.length>0?o.jsx("div",{className:"md:my-[2rem] my-2.5",children:o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 md:gap-4",children:v.map(C=>o.jsxs(Ze,{to:`/category/${C.slug}`,className:"flex flex-col items-center justify-center p-3 md:p-4 rounded-lg border border-gray-200 bg-white shadow-sm hover:shadow-lg hover:border-red-300 hover:scale-[1.05] transition-all duration-300 cursor-pointer group",children:[o.jsxs("div",{className:"relative mb-2 md:mb-3",children:[o.jsx("div",{className:"absolute inset-0 rounded-full blur-md transition-opacity duration-300"}),o.jsx("img",{src:C.image,alt:C.categoryName,className:"relative w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-full object-cover border-2 border-gray-100"})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800 text-center line-clamp-2 group-hover:text-red-500 transition-colors duration-300",children:C.categoryName})]},C.id))})}):null,f?o.jsxs("div",{className:"w-full h-auto flex flex-col gap-y-[2rem] items-center justify-center mt-25",children:[o.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:"ang ti d liu..."})]}):p.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"md:text-[2rem] mt-[2rem]",children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-4 mt-[1rem] md:mt-[2rem]",children:p?.map(C=>o.jsxs("div",{className:"flex flex-col w-full h-auto border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 transition-all duration-300 cursor-pointer",onClick:()=>t(`/product-detail/${C.slug}`),children:[o.jsx("img",{src:C.mainImage,alt:`mainImage-${C.productName}`,className:"w-full h-[15rem] md:h-[18rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-1 text-[1.3rem] md:text-[1.5rem] leading-snug",children:C.productName}),o.jsx("span",{className:"text-red-500 text-[1.3rem] md:text-[1.5rem]",children:N(C.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem]",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:C.averageRating}),o.jsx(F,{icon:Xr,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:C.soldCount})]})]}),o.jsx("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:P=>{P.stopPropagation(),i({open:!0,data:C})},children:["Thm"," ",o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]})})]})]},C.id))})]}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:k8,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]}),o.jsx(Ku,{showAddCart:s,setShowAddCart:i})]})}function bme({open:t,onClose:e,data:n,refetch:r}){const[s,i]=k.useState(!1);if(!n)return;const a=async()=>{try{i(!0);const l=await fe.patch(`/api/v1/voucher/toggle/${n?.id}`);l.status&&(i(!1),await r(),ce.success(l.message),e())}catch(l){console.log(l),ce.error(l.message)}};return o.jsxs(ut,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun"," ",n?.status===fi.ACTIVE?"tt":"kch hot"," voucher ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":n?.status===fi.ACTIVE?"Tt":"Kch hot"})]})]})}function vme({open:t,onClose:e,dataDetail:n}){if(!n)return null;const r=u=>new Date(u).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),i=u=>{switch(u){case"ACTIVE":return"bg-green-100 text-green-700";case"INACTIVE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},a=u=>{switch(u){case"ACTIVE":return"ang hot ng";case"INACTIVE":return"Ngng hot ng";default:return u}},l=u=>u==="PERCENT"?"Phn trm":"S tin c nh",c=({icon:u,label:d,value:f})=>o.jsxs("div",{className:"flex items-start gap-[1.5rem] py-[1.2rem] border-b border-gray-100 last:border-b-0",children:[o.jsx("div",{className:"w-[2rem] flex justify-center mt-[0.2rem]",children:o.jsx(F,{icon:u,className:"text-blue-500 text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-[1.2rem] text-gray-500 mb-[0.3rem]",children:d}),o.jsx("p",{className:"text-[1.5rem] text-gray-800 font-medium",children:f})]})]});return o.jsxs(ut,{open:t,className:"relative w-[60rem] max-h-[76vh] hide-scrollbar overflow-y-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>e(),children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsxs("div",{className:"mb-[2rem]",children:[o.jsx("p",{className:"text-[2rem] text-gray-800 font-semibold mb-[0.5rem]",children:"Chi tit voucher"}),o.jsx("p",{className:"text-[1.3rem] text-gray-500",children:"Thng tin y  v voucher khuyn mi"})]}),o.jsx("div",{className:"shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:o.jsxs("div",{className:"flex items-center justify-between mb-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] bg-white rounded-full flex items-center justify-center shadow-sm",children:o.jsx(F,{icon:ON,className:"text-blue-600 text-[2rem]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.8rem] font-bold",children:n.name}),o.jsxs("p",{className:"text-[1.3rem] text-gray-600",children:["M voucher: ",n.voucherCode]})]})]}),o.jsx("span",{className:`px-[1.5rem] py-[0.6rem] rounded-full text-[1.2rem] font-semibold ${i(n.status)}`,children:a(n.status)})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-[2rem] mb-[2rem]",children:[o.jsxs("div",{className:"bg-blue-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(F,{icon:n.type==="PERCENT"?PG:Kp,className:"text-blue-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"Gi tr gim"})]}),o.jsx("p",{className:"text-[2.4rem] font-bold text-blue-600",children:n.type==="PERCENT"?`${n.value}%`:s(n.value)}),o.jsx("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:l(n.type)})]}),o.jsxs("div",{className:"bg-purple-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(F,{icon:eY,className:"text-purple-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"S dng"})]}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-purple-600",children:[n.usedCount,"/",n.usageLimit]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:["Cn li: ",n.usageLimit-n.usedCount]})]})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:[o.jsx(c,{icon:Kp,label:"Gi tr n hng ti thiu",value:s(n.minOrderValue)}),o.jsx(c,{icon:Kp,label:"Gim ti a",value:s(n.maxDiscount)}),o.jsx(c,{icon:dY,label:"Phm vi p dng",value:n.isGlobal?"Ton b h thng":"Gii hn"}),o.jsx(c,{icon:Cg,label:"Ngy bt u",value:r(n.startDate)}),o.jsx(c,{icon:Cg,label:"Ngy kt thc",value:r(n.endDate)})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[1.5rem] mb-[2rem]",children:[o.jsx("p",{className:"text-gray-500 mb-[0.5rem]",children:"Thi gian to"}),o.jsx("p",{className:"text-gray-700",children:r(n.createdAt)}),o.jsx("p",{className:"text-gray-500 mt-[1rem] mb-[0.5rem]",children:"Cp nht ln cui"}),o.jsx("p",{className:"text-gray-700",children:r(n.updatedAt)})]}),o.jsx("div",{className:"flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"px-[2.5rem] py-[1rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 text-[1.4rem] font-medium transition-colors",onClick:()=>e(),children:"ng"})})]})}function wme(){const[t,e]=k.useState({open:!1,data:null,action:"create"}),[n,r]=k.useState({open:!1,data:null}),[s,i]=k.useState({name:"",voucherCode:"",status:null}),[a,l]=k.useState({open:!1,dataDetail:null}),{data:c,isLoading:u,refetch:d}=Ae({queryKey:["vouchers",s],queryFn:()=>t8(s)}),f=c?.data||[],{register:p,handleSubmit:g,formState:{errors:x,isSubmitting:v},watch:b,reset:w}=Qs(),N=b("type");k.useEffect(()=>{t.data&&t.action==="edit"&&w({id:t.data.id,name:t.data.name,value:t.data.value,type:t.data.type,maxDiscount:t.data.maxDiscount||void 0,minOrderValue:t.data.minOrderValue||void 0,endDate:gn(t.data.endDate).format("YYYY-MM-DD"),usageLimit:t.data.usageLimit||void 0})},[t,w]);const C=async A=>{try{const M={name:A.name,type:A.type,value:A.value,maxDiscount:A.maxDiscount||0,minOrderValue:A.minOrderValue||0,endDate:new Date(A.endDate).toISOString(),usageLimit:A.usageLimit||0};let T=null;t.action==="create"?T=await fe.post("/api/v1/voucher/createGlobal",M):T=await fe.patch(`/api/v1/voucher/updateGlobal/${A.id}`,M),T.status&&(ce.success(T.message),d(),w(),e({open:!1,data:null,action:"create"}))}catch(M){ce.error(M?.response?.data?.message||"C li xy ra khi to voucher")}},P=()=>{d()},S=A=>{const{name:M,value:T}=A.target;i(_=>({..._,[M]:T}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Voucher ton cc"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{onClick:()=>e({open:!0,data:null,action:"create"}),className:"text-white text-[1.4rem] flex gap-2 items-center px-6 py-3 bg-blue-500 rounded-lg hover:bg-blue-600",children:[o.jsx(F,{icon:zu}),"To voucher ton cc"]})})]}),o.jsx("div",{className:"mt-[2rem]",children:t.open?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{w({name:"",value:void 0,type:void 0,maxDiscount:void 0,minOrderValue:void 0,endDate:"",usageLimit:void 0}),e({open:!1,data:null,action:"create"})},className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 mb-6",children:[o.jsx(F,{icon:qs}),"Quay li danh sch"]}),o.jsx("h4",{className:"text-[1.8rem] font-semibold mb-6",children:"To Voucher Ton Cc"}),o.jsxs("form",{onSubmit:g(C),children:[o.jsx("div",{className:"border border-gray-300 rounded-lg p-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Tn voucher *"}),o.jsx("input",{type:"text",...p("name",{required:"Vui lng nhp tn voucher"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: Gim 50k cho n t 300k"}),x.name&&o.jsx("span",{className:"text-red-500 text-sm",children:x.name.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Loi gim gi *"}),o.jsxs("select",{...p("type",{required:"Vui lng chn loi"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",children:[o.jsx("option",{value:"",children:"-- Chn loi --"}),o.jsx("option",{value:mi.PERCENT,children:"Gim theo phn trm"}),o.jsx("option",{value:mi.FIXED,children:"Gim gi c nh"})]}),x.type&&o.jsx("span",{className:"text-red-500 text-sm",children:x.type.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gi tr gim *"}),o.jsx("input",{type:"number",...p("value",{required:"Vui lng nhp gi tr",min:{value:1,message:"Gi tr phi  1"},max:N===mi.PERCENT?{value:100,message:"Ti a 100%"}:void 0}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 focus:border-blue-500 outline-none",placeholder:N===mi.PERCENT?"VD: 20":"VD: 50000"}),x.value&&o.jsx("span",{className:"text-red-500 text-sm",children:x.value.message})]}),N===mi.PERCENT&&o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gim ti a (VN)"}),o.jsx("input",{type:"number",...p("maxDiscount"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: 100000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"n ti thiu (VN)"}),o.jsx("input",{type:"number",...p("minOrderValue"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Ngy ht hn *"}),o.jsx("input",{type:"date",...p("endDate",{required:"Vui lng chn ngy"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500"}),x.endDate&&o.jsx("span",{className:"text-red-500 text-sm",children:x.endDate.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gii hn s dng (tng)"}),o.jsx("input",{type:"number",...p("usageLimit"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsx("input",{type:"number",hidden:!0,...p("id")})]})}),o.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>{e({open:!1,data:null,action:"create"}),w()},className:"px-8 py-3 bg-gray-200 hover:bg-gray-300 rounded-lg",disabled:v,children:"Hy"}),o.jsx("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg disabled:opacity-50",children:v?"ang x l...":"To voucher ton cc"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[o.jsx("input",{type:"text",name:"name",value:s.name,placeholder:"Tm theo tn voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:S}),o.jsx("input",{type:"text",name:"voucherCode",value:s.voucherCode,placeholder:"Tm theo m voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:S}),o.jsxs("select",{name:"status",value:s.status??"",className:"w-64 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:S,children:[o.jsx("option",{value:"",children:"-- Tt c trng thi --"}),o.jsx("option",{value:fi.ACTIVE,children:"Hot ng"}),o.jsx("option",{value:fi.INACTIVE,children:" dng"})]}),o.jsxs("button",{onClick:P,className:"px-8 h-[4rem] rounded-md bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2",children:[o.jsx(F,{icon:Vr}),"Lc"]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4",children:"Tn voucher"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Loi gim"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Ht hn"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Hnh ng"})]})}),o.jsx("tbody",{children:u?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8",children:"ang ti..."})}):f.length>0?f.map(A=>o.jsxs("tr",{className:"border-b border-b-gray-300",children:[o.jsx("td",{className:"px-6 py-4",children:A.name}),o.jsx("td",{className:"px-6 py-4",children:A.type===mi.PERCENT?"Phn trm":"Gi c nh"}),o.jsx("td",{className:"px-6 py-4",children:gn(A.endDate).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`px-6 py-1.5 rounded-full ${A.status===fi.ACTIVE?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.status===fi.ACTIVE?"Hot ng":" dng"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>{r({open:!0,data:A})},className:`px-6 py-1.5 rounded-md ${A.status===fi.ACTIVE?"bg-gray-200 hover:bg-gray-300":"bg-green-500 text-white hover:bg-green-600"}`,children:A.status===fi.ACTIVE?"Tt":"Bt"}),o.jsx("button",{className:"px-6 py-1.5 bg-amber-500 text-white rounded-md hover:bg-amber-600",onClick:()=>{e({open:!0,data:A,action:"edit"})},children:"Sa"}),o.jsx("button",{className:"px-6 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{l({open:!0,dataDetail:A})},children:"Chi tit"})]})})]},A.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"Khng c voucher no"})})})]})]})}),o.jsx(bme,{open:n.open,onClose:()=>{r({open:!1,data:null})},data:n.data,refetch:d}),o.jsx(vme,{open:a.open,dataDetail:a.dataDetail,onClose:()=>l({open:!1,dataDetail:null})})]})}function Nme(){return o.jsx("div",{children:"FavoriteProduct"})}function jme(){const{data:t,isLoading:e,refetch:n}=Ae({queryKey:["getSavedVouchers"],queryFn:()=>aS()}),[r,s]=k.useState(""),i=tt(),[a,l]=k.useState("AVAILABLE"),[c,u]=k.useState({open:!1,content:"",isSuccess:!1}),f=(t&&t.data)?.filter(g=>a==="ALL"?!0:g.state===a),p=async g=>{try{(await fe.post(`/api/v1/voucher/save-voucher/${g}`)).status&&(u({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await n())}catch(x){console.log(x),u({open:!0,content:x.message,isSuccess:!1})}};return o.jsxs("div",{className:"p-[1rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] text-gray-800",children:"Kho Voucher ca ti"}),o.jsx("div",{className:"w-full py-6 md:py-8 bg-gray-100 flex items-center justify-center mt-4 px-4",children:o.jsxs("div",{className:"w-full max-w-4xl flex flex-col md:flex-row items-center gap-4 md:gap-6 md:space-x-4",children:[o.jsx("p",{className:"text-[1.4rem] md:text-[1.6rem] w-full md:w-auto text-center md:text-left",children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",value:r,className:"w-full md:flex-1 bg-white h-[3.5rem] md:h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.2rem] md:px-[1.5rem] text-[1.4rem]",placeholder:"Nhp m voucher...",onChange:g=>s(g.target.value)}),o.jsx("button",{className:`w-full md:w-auto h-[3.5rem] md:h-[4rem] px-6 md:px-8 rounded-md ${r===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"} transition-colors duration-300 text-[1.4rem]`,onClick:()=>p(r),disabled:r==="",children:"Lu voucher"})]})}),o.jsx("div",{className:"flex flex-wrap gap-3 my-6 md:my-8",children:["ALL","AVAILABLE","USED","EXPIRED"].map(g=>o.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 md:px-6 md:py-2 rounded-lg transition-colors text-[1.2rem] md:text-[1.4rem] ${a===g?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g==="ALL"?"Tt c":g==="AVAILABLE"?"Kh dng":g==="USED"?" dng":"Ht hn"},g))}),o.jsx(o.Fragment,{children:e?o.jsx("div",{className:"text-center py-8 text-[1.4rem]",children:"ang ti d liu..."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-[1.5rem] md:gap-[2rem]",children:f?.map(g=>{const x=["USED","EXPIRED"].includes(g.state);return o.jsxs("div",{className:`flex flex-col md:flex-row items-center bg-gradient-to-r ${x?"from-gray-400 to-gray-500":"from-pink-500 to-violet-600"} rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-6 -right-6 w-28 h-28 md:-top-10 md:-right-10 md:w-40 md:h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-6 -left-6 w-36 h-36 md:-bottom-10 md:-left-10 md:w-56 md:h-56 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative z-10 mb-4 md:mb-0",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none line-clamp-2",children:g.name}),o.jsx("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-4 py-2 md:px-6 md:py-3 rounded-xl font-mono font-bold tracking-wider truncate max-w-[180px] md:max-w-none",children:g.voucherCode})}),o.jsxs("div",{className:"text-[1.6rem] md:text-[2.2rem] font-extrabold mb-1 md:mb-2",children:["Gim"," ",g.type==="PERCENT"?`${g.value}%`:`${g.value}`,g.maxDiscount&&o.jsxs("span",{className:"text-[1rem] md:text-[1.2rem] font-normal ml-1 md:ml-2 block md:inline",children:["(Ti a ",g.maxDiscount.toLocaleString(),")"]})]}),g.usedAt&&o.jsxs("div",{className:"text-[1.1rem] md:text-[1.2rem] opacity-90 mt-1",children:[" s dng: ",new Date(g.usedAt).toLocaleDateString("vi-VN")]})]})]}),o.jsx("div",{className:"relative z-[100] mt-4 md:mt-0 md:ml-auto w-full md:w-auto",children:o.jsx("button",{type:"button",className:`w-full md:w-auto px-6 py-3 md:px-8 md:py-4 rounded-xl ${x?"bg-gray-400":"border bg-white border-red-500 text-red-600 hover:border-red-600 hover:text-red-700"} transition-colors duration-300 text-[1.3rem] md:text-[1.4rem] cursor-pointer`,disabled:x,onClick:()=>{x||i("/")},children:g.usedAt?" s dng":"Dng ngay"})})]},g.id)})})}),o.jsx(qu,{showNotify:c.open,duration:1e3,onClose:()=>u({open:!1,content:"",isSuccess:!1}),isSuccess:c.isSuccess,content:c.content})]})}const Sme=[{label:"Danh sch khch hng",to:"/dashboard/customers"},{label:"Khch  mua",to:"/dashboard/customers/purchased"},{label:"Khch cha mua",to:"/dashboard/customers/no-order"},{label:"Thng k",to:"/dashboard/customers/statistic"}];function Cme(){const[t,e]=k.useState(""),n=tt(),r=()=>{t.trim()?n({search:`?keyword=${encodeURIComponent(t.trim())}`}):n({search:""})},s=i=>{i.key==="Enter"&&r()};return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:"Qun l khch hng thnh vin"}),o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:s,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:i=>e(i.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>r(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:Sme.map(i=>o.jsx(oN,{to:i.to,end:!0,className:({isActive:a})=>`pb-3 px-8 font-medium transition duration-300
                ${a?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:i.label},i.to))}),o.jsx("div",{children:o.jsx(ic,{})})]})}const vS=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return console.log(e),await fe.get("/api/v1/customer/get-customer",{params:e})},kme=async t=>(await fe.get(`/api/v1/customer/by-id/${t}`)).data,Tme=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await fe.get("/api/v1/orders/guests",{params:e})},Eme=async t=>(await fe.get("/api/v1/orders/guest-by-email",{params:{guestEmail:t}})).data,Mme=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await fe.get("/api/v1/orders/statistic-guest",{params:e})},Pme=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await fe.get("/api/v1/orders/statistic-guest/top-guest",{params:e})).data},Ame=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await fe.get("/api/v1/customer/statistic",{params:e})},Ome=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await fe.get("/api/v1/customer/statistic/top-customer",{params:e})).data};function wS({customers:t,isLoading:e}){const n=tt();return o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:e?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):t.length>0?t.map((r,s)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:s+1}),o.jsx("td",{className:"px-6 py-4",children:r.user.username}),o.jsx("td",{className:"px-6 py-4",children:r.user.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:r.user.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:r.user.orders.length}),o.jsx("td",{className:"px-6 py-4 text-center",children:gn(r.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/detail-customer/${r.customerCode}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng ID: ${r.id}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},r.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]})})}function _me(){const[t]=Ei(),e=t.get("keyword")||"",[n,r]=k.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=Ae({queryKey:["customers",e,n],queryFn:()=>vS({keyword:e,page:n,limit:s})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(wS,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]})]})}function Dme(){const[t]=Ei(),e=t.get("keyword")||"",[n,r]=k.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=Ae({queryKey:["customers","PURCHASED",e,n],queryFn:()=>vS({keyword:e,page:n,limit:s,state:"PURCHASED"})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(wS,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]})]})}function Ime(){const[t]=Ei(),e=t.get("keyword")||"",[n,r]=k.useState(1),{data:s,isLoading:i,isError:a,refetch:l}=Ae({queryKey:["customers",e,n],queryFn:()=>vS({keyword:e,page:n,limit:30,state:"NO_ORDER"})}),c=s?.data||[],u=s?.pagination?.totalPages||1;return i?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):a?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>l(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(wS,{customers:c,isLoading:i}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(d=>Math.max(d-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:u},(d,f)=>f+1).filter(d=>Math.abs(d-n)<=2).map(d=>o.jsx("button",{onClick:()=>r(d),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===d?"bg-blue-500 text-white":"bg-gray-200"}`,children:d},d)),o.jsx("button",{onClick:()=>r(d=>Math.min(d+1,u)),disabled:n===u,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]})]})}function Lme(){const t=tt(),[e,n]=k.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=k.useState({startDate:"",endDate:""}),[i,a]=k.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=Ae({queryKey:["statistic",i],queryFn:()=>Ame(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=Ae({queryKey:["customerTop"],queryFn:()=>Ome(r)}),v=S=>{const A=S.target.value;A&&n(M=>({...M,groupBy:A}))},b=S=>{const{name:A,value:M}=S.target;n(T=>({...T,[A]:M}))},w=S=>{const{name:A,value:M}=S.target;s(T=>({...T,[A]:M}))},N=()=>{a(e)},C=()=>{s(r),x()},P=S=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(F,{icon:Vr}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>N(),children:[o.jsx(F,{icon:Wn}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:LN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((S,A)=>S+A.totalCustomers,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((S,A)=>S+A.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:P(f.reduce((S,A)=>S+A.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:P(f.reduce((S,A)=>S+A.totalRevenue,0)/f.reduce((S,A)=>S+A.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((S,A)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(S.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):S.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:S.totalCustomers}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:S.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:P(S.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:P(S.avgOrderValue)})]},A))})]}),o.jsxs("div",{className:"w-[60rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>C(),children:[o.jsx(F,{icon:Vr}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(S=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/detail-customer/${S.customerCode}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:S.fullName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:S.email}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:P(S.totalRevenue)})]},S.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}function Rme(){const{customerCode:t}=Gs(),e=tt(),{data:n,isLoading:r,isError:s}=Ae({queryKey:["customer-detail",t],queryFn:()=>kme(t)});if(r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=u=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),c=n.user?.address?.find(u=>u.isDefault);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(F,{icon:qs}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tn ti khon:"})," ",i?.username||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy ng k:"})," ",gn(n.createdAt).format("DD/MM/YYYY HH:mm")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy sinh:"})," ",n?.birthday??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tnh:"})," ",c.province??"Cha cp nht"," "]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Qun:"})," ",c.district??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Huyn:"})," ",c.ward??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch chi tit:"})," ",c.addressDetail??"Cha cp nht"]})]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),a.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:a.map(u=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:u.orderCode}),o.jsx("td",{className:"px-4 py-5",children:gn(u.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:KA(u.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(u.totalAmount)})]},u.id))})]}):o.jsx("p",{className:"text-gray-500 text-center",children:"Khch hng cha c n hng no"})]})]})}function E8(){const t=tt(),[e,n]=k.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=k.useState({startDate:"",endDate:""}),[i,a]=k.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=Ae({queryKey:["statisticGuest",i],queryFn:()=>Mme(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=Ae({queryKey:["statisticGuest"],queryFn:()=>Pme(r)}),v=S=>{const A=S.target.value;A&&n(M=>({...M,groupBy:A}))},b=S=>{const{name:A,value:M}=S.target;n(T=>({...T,[A]:M}))},w=S=>{const{name:A,value:M}=S.target;s(T=>({...T,[A]:M}))},N=()=>{a(e)},C=()=>{s(r),x()},P=S=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(F,{icon:Vr}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>N(),children:[o.jsx(F,{icon:Wn}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:LN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((S,A)=>S+A.totalGuests,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((S,A)=>S+A.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:P(f.reduce((S,A)=>S+A.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:P(f.reduce((S,A)=>S+A.totalRevenue,0)/f.reduce((S,A)=>S+A.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex xl:flex-row flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((S,A)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(S.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):S.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:S.totalGuests}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:S.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:P(S.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:P(S.avgOrderValue)})]},A))})]}),o.jsxs("div",{className:"w-[45rem] h-[40rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>C(),children:[o.jsx(F,{icon:Vr}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(S=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/guest-detail/${S.customerEmail}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:S.customerName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:S.customerEmail}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:P(S.totalRevenue)})]},S.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}const Fme=[{label:"Danh sch khch hng",to:"/dashboard/guest-customers"},{label:"Thng k",to:"/dashboard/guest-customers/statistic"}];function zme(){const[t,e]=k.useState(""),n=tt(),s=ur().pathname==="/dashboard/guest-customers",[i,a]=k.useState({limit:30,page:1,keyword:""}),l=()=>{a(g=>({...g,keyword:t}))},c=g=>{g.key==="Enter"&&l()},{data:u,isLoading:d}=Ae({queryKey:["guestCustomers",i],queryFn:()=>Tme(i)}),f=u&&u.data,p=u?.pagination?.totalPages||1;return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:s?"Qun l khch hng vng lai":"Thng k khch hng vng lai"}),s&&o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:c,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:g=>e(g.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>l(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:Fme.map(g=>o.jsx(oN,{to:g.to,end:!0,className:({isActive:x})=>`pb-3 px-8 font-medium transition duration-300
                ${x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:g.label},g.to))}),s?o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:d?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):f.length>0?f.map((g,x)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:x+1}),o.jsx("td",{className:"px-6 py-4",children:g.fullName}),o.jsx("td",{className:"px-6 py-4",children:g.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:g.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:g.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center",children:gn(g.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/guest-detail/${g.email}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng: ${g.fullName}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},g.email)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.max(g.page-1,1)})),disabled:i.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:p},(g,x)=>x+1).filter(g=>Math.abs(g-i.page)<=2).map(g=>o.jsx("button",{onClick:()=>a(x=>({...x,page:g})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${i.page===g?"bg-blue-500 text-white":"bg-gray-200"}`,children:g},g)),o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.min(g.page+1,p)})),disabled:i.page===p,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]})]}):o.jsx(E8,{})]})}function Vme(){const{guestEmail:t}=Gs(),e=tt(),{data:n,isLoading:r,isError:s}=Ae({queryKey:["guestDetail",t],queryFn:()=>Eme(t)});if(console.log(n),r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=c=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(F,{icon:qs}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsx("div",{className:"space-y-5 text-[1.4rem]",children:o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch:"})," ",n?.address]})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),n.orders.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"H tn"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"S in thoi"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:n.orders.map(c=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:c.orderCode}),o.jsx("td",{className:"px-4 py-5",children:c.customerName}),o.jsx("td",{className:"px-4 py-5",children:c.customerPhone}),o.jsx("td",{className:"px-4 py-5",children:gn(c.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:KA(c.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(c.totalAmount)})]},c.id))})]}):o.jsx("p",{className:"text-gray-500 mt-16 text-center",children:"Khch hng cha c n hng no"})]})]})}function $me({open:t,onClose:e,setSelectedPro:n,selectedPro:r,setValue:s}){const[i,a]=k.useState({page:1,limit:20,productName:"",categoryId:void 0}),[l,c]=k.useState(i),[u,d]=k.useState([]),{data:f,isLoading:p}=Ae({queryKey:["products",l],queryFn:$u}),g=f&&f.data,{data:x=[]}=Ae({queryKey:["getAllCategory"],queryFn:_o});k.useEffect(()=>{r.length>0&&d(r)},[r]);const v=N=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(N),b=()=>{n(u);const N=u.map(C=>({productId:C.id,quantity:1,limit:1,origin_price:C.price}));s("flashSaleProducts",N),e()},w=()=>{c({...i})};return o.jsxs(ut,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(F,{icon:Kn,className:"text-gray-500"})}),o.jsx("div",{className:"border-gray-200",children:o.jsx("h3",{className:"text-[1.8rem] text-center border-b border-b-gray-300 pb-4 font-semibold",children:"Chn sn phm"})}),o.jsxs("div",{className:"my-5 flex items-center space-x-4 text-[1.4rem]",children:[o.jsxs("div",{className:"relative w-[35rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] left-4",children:o.jsx(F,{icon:Wn,className:"text-gray-500"})}),o.jsx("input",{type:"text",id:"productName",placeholder:"Nhp tn san phm...",value:l.productName,className:"w-full border border-gray-300 h-[4rem] rounded-lg pr-4 pl-14 outline-none",onChange:N=>{a(C=>({...C,[N.target.name]:N.target.value}))}})]}),o.jsx("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:o.jsxs("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:N=>a(C=>({...C,[N.target.name]:N.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),x?.filter(N=>N.isActive).map(N=>o.jsx(vx,{category:N,allCategories:x,level:0},N.id))]})}),o.jsxs("button",{className:"px-6 h-[4rem] flex items-center space-x-2 bg-blue-500 rounded-lg text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>w(),children:[o.jsx(F,{icon:Vr}),"Loc"]})]}),o.jsxs("div",{className:"pb-6 overflow-y-auto max-h-[60vh]",children:[o.jsx("p",{className:"pb-6",children:"Danh sach san phm"}),p?o.jsx("div",{className:"text-center my-24",children:"ang tai san phm..."}):g.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map(N=>{const C=u.length>0&&u.find(P=>P.id===N.id);return o.jsxs("div",{className:"group relative rounded-lg border border-gray-200 hover:border-blue-200 hover:shadow-lg hover:shadow-blue-200 transition-all duration-300",children:[o.jsx("img",{src:N.mainImage,alt:`mainImage ${N.productName}`,className:"w-full h-[12rem] object-cover rounded-tl-lg rounded-tr-lg"}),o.jsxs("div",{className:"p-1.5",children:[o.jsx("p",{className:"text-[1.4rem] line-clamp-1",children:N.productName}),o.jsx("p",{className:"text-[1.2rem] text-red-500",children:v(N.price)})]}),o.jsx("div",{className:`${C?"":"opacity-0"} group-hover:opacity-[100] flex absolute inset-0 bg-[#32323256] items-center justify-center rounded-lg transition-opacity duration-300`,onClick:()=>d(P=>P.find(S=>S.id===N.id)?P.filter(S=>S.id!==N.id):[...P,N]),children:o.jsx("button",{className:"w-9 h-9 bg-white text-green-500 rounded-md",children:C?o.jsx(F,{icon:ss,className:"font-bold"}):o.jsx(o.Fragment,{})})})]},N.id)})}):o.jsx("div",{className:"text-center py-24",children:"Khng co san phm nao"}),o.jsxs("div",{className:"mt-[2rem] flex justify-center items-center space-x-4",children:[o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Trc"}),o.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg text-[1.2rem]",children:"1"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"2"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Sau"})]})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-200 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"ng"}),o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{b()},children:"Chon"})]})]})}function AM(){const{id:t}=Gs(),e=t?"edit":"create",n=tt(),[r,s]=k.useState(!1),{register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Qs({defaultValues:{name:"",startDate:"",endDate:"",discount:"",description:"",bannerImage:null,flashSaleProducts:[]}}),[p,g]=k.useState(null),x=d("flashSaleProducts"),[v,b]=k.useState([]),[w,N]=k.useState([]);i("flashSaleProducts",{validate:T=>T.length>0||"Vui lng chn t nht 1 sn phm!"}),k.useEffect(()=>{t&&(async()=>{try{const _=await o8(Number(t));if(_.status&&_.data){const I=_.data;f({name:I.name,discount:I.discount,description:I.description,startDate:I.startDate.slice(0,10),endDate:I.endDate.slice(0,10),flashSaleProducts:I.flashSaleProduct.map(R=>({id:R.id,productId:R.product.id,quantity:R.quantity,limit:R.limit,origin_price:R.origin_price}))}),_.data.bannerImage&&g(_.data.bannerImage);const D=I.flashSaleProduct.map(R=>R.product);b(D)}}catch(_){console.log(_)}})()},[t,f]);const C=async T=>{if(x.length===0)return;const _=new Date(T.startDate).toISOString(),I=new Date(T.endDate).toISOString(),D=new FormData;D.append("name",T.name),D.append("description",T.description),D.append("startDate",_),D.append("endDate",I),D.append("discount",T.discount),e==="edit"&&w.length>0&&D.append("deletedIds",JSON.stringify(w));const R=T.flashSaleProducts.map(G=>({productId:G.productId,limit:G.limit,quantity:G.quantity,origin_price:G.origin_price}));D.append("flashSaleProducts",JSON.stringify(R)),T.bannerImage&&D.append("bannerImage",T.bannerImage);try{let G=null;e==="create"?G=await fe.post("/api/v1/flashsale/create",D,{headers:{"Content-Type":"multipart/form-data"}}):G=await fe.patch(`/api/v1/flashsale/${t}`,D,{headers:{"Content-Type":"multipart/form-data"}}),G.status&&(n("/dashboard/flashsale",{replace:!0}),f({name:"",startDate:"",endDate:"",discount:"",description:"",flashSaleProducts:[]}))}catch(G){console.log(G);const U=G;ce.error(U.message)}},P=T=>{if(T.target.files){const _=T.target.files[0];if(_){const I=URL.createObjectURL(_);g(I),u("bannerImage",_)}}},S=T=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(T),A=T=>{const _=x.find(D=>D.productId===T),I=x.filter(D=>D.productId!==T);u("flashSaleProducts",I),b(D=>D.filter(R=>R.id!==T)),e==="edit"&&_?.id&&N(D=>[...D,_.id])},M=(T,_)=>{const I=x?.map(D=>_===D.productId?{...D,quantity:T==="incre"?++D.quantity:Math.max(1,--D.quantity)}:D);u("flashSaleProducts",I)};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>n("/dashboard/flashsale"),children:o.jsx(F,{icon:qs,className:"text-[1.8rem] text-gray-600"})}),o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"To Flash Sale Mi"})]})}),o.jsx("div",{className:"mt-[2rem]",children:o.jsxs("form",{onSubmit:a(C),children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-6",children:"Thng tin chng trnh"}),o.jsxs("label",{htmlFor:"bannerImage",className:"w-full h-[25rem] flex items-center justify-center rounded-xl border border-dashed border-gray-400 cursor-pointer text-[1.4rem] group",children:[p?o.jsxs("div",{className:"w-full h-full rounded-xl relative",children:[o.jsx("img",{src:p,alt:"bannerImage",className:"w-full h-full object-cover rounded-xl"}),o.jsxs("div",{className:"opacity-0 group-hover:opacity-[100] flex items-center text-[1.8rem] justify-center absolute inset-0 bg-[#2f2f2f56] text-white transition-discrete duration-300",children:[o.jsx(F,{icon:Ms}),"Thay i"]})]}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"w-14 h-14 rounded-full border border-dashed border-gray-400 flex justify-center items-center",children:o.jsx(F,{icon:$r,className:"text-gray-500"})}),o.jsx("span",{children:"Thm nh"})]}),o.jsx("input",{type:"file",className:"hidden",id:"bannerImage",onChange:T=>P(T),disabled:c})]}),o.jsxs("div",{className:"my-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Tn chng trnh ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"Nhp tn chng trnh flash sale",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("name",{required:"Vui long nhp tn flashsale!"})}),l.name&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.name?.message})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Phn trm gim gi (%)"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",placeholder:"Nhp phn trm gim gi",min:"1",max:"100",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("discount",{required:"Vui long nhp tn giam gia!"})}),l.discount&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.discount?.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:"M t"}),o.jsx("textarea",{placeholder:"Nhp m t chi tit v chng trnh",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 resize-none",...i("description")})]})]}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-4",children:"Thi gian p dng"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy bt u ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("startDate",{required:"Vui long nhp ngay bt u!"})}),l.startDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.startDate?.message})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy kt thc ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("endDate",{required:"Vui long nhp ngay kt thuc!"})}),l.endDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.endDate?.message})]})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700",children:"Sn phm p dng"}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-4 h-[3.5rem] bg-green-500 rounded-lg hover:bg-green-600 transition-colors",onClick:()=>s(!0),type:"button",disabled:c,children:[o.jsx(F,{icon:xa}),"Thm sn phm"]})]}),l.flashSaleProducts&&o.jsx("p",{className:"text-red-500 text-[1.3rem]",children:l.flashSaleProducts.message}),o.jsx("div",{className:"space-y-3 max-h-[50rem] overflow-y-auto",children:v?.length>0?v?.map(T=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:T.mainImage,alt:`mainImage ${T.productName}`,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] font-medium text-gray-800",children:T.productName}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:S(T.price)})]})]}),o.jsx("button",{onClick:()=>A(T.id),className:"p-4 text-red-500 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(F,{icon:b2,className:"text-[1.8rem]"})})]}),o.jsxs("div",{className:"p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"S lng sn phm:"}),o.jsxs("div",{className:"flex items-center space-x-4 ",children:[o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>M("decre",T.id),children:"-"}),o.jsx("input",{type:"number",id:"quantity",className:"max-w-22 outline-none h-9 border border-gray-400 rounded-md text-[1.4rem] px-2",value:x?.find(_=>_.productId===T.id)?.quantity??1,onChange:_=>{const I=x.map(D=>D.productId===T.id?{...D,quantity:Number(_.target.value)}:D);u("flashSaleProducts",I)}}),o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>M("incre",T.id),children:"+"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"Gii hn s lng mi khch mua sn phm:"}),o.jsx("input",{type:"number",id:"limit",className:"h-9 min-w-10 max-w-25 border border-gray-400 rounded-md outline-none px-2",value:x.find(_=>_.productId===T.id)?.limit??1,max:10,onChange:_=>{const I=x.map(D=>({...D,limit:D.productId===T.id?Number(_.target.value):D.limit}));u("flashSaleProducts",I)}})]})]})]},T.id)):o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("p",{className:"text-[1.4rem]",children:"Cha c sn phm no c chn"}),o.jsx("p",{className:"text-[1.3rem] mt-2",children:'Nhn "Thm sn phm"  bt u'})]})})]})})]}),o.jsx("div",{className:"flex justify-end items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>n("/dashboard/flashsale"),disabled:c,children:"Hy"}),o.jsxs("button",{type:"submit",className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",disabled:c,children:[o.jsx(F,{icon:DG}),c?"ang x l...":"Lu Flash Sale"]})]})})]})}),r&&o.jsx($me,{open:r,onClose:()=>s(!1),setSelectedPro:b,selectedPro:v,setValue:u})]})}function Bme(){const{id:t}=Gs(),e=tt(),{data:n,isLoading:r,error:s}=Ae({queryKey:["flashSale",t],queryFn:()=>o8(Number(t)),enabled:!!t}),i=n&&n.data;if(r)return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-10rem)]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})});if(s||!i)return o.jsx("div",{className:"text-center py-26 text-red-600",children:"Khng th ti d liu Flash Sale. Vui lng th li sau."});const a=c=>gn(c).format("HH:mm DD/MM/YYYY"),l=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c));return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-6 md:p-8 rounded-xl text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-300 pb-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e(-1),className:"w-14 h-14 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(F,{icon:qs,className:"text-gray-700"})}),o.jsx("h1",{className:"text-3xl font-bold",children:"Chi tit Flash Sale"})]}),o.jsx("span",{children:bS(i.status)})]}),o.jsx("div",{className:"mb-10",children:o.jsx("img",{src:i.bannerImage,alt:i.name,className:"w-full h-[35rem] object-cover rounded-xl shadow-md",onError:c=>{c.target.src="/placeholder-banner.jpg",ce.error("Khng ti c banner")}})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Tn chng trnh"}),o.jsx("p",{className:" text-gray-700",children:i.name})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"M t"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:i.description||"Khng c m t"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Mc gim gi"}),o.jsxs("p",{className:"font-bold text-red-600",children:[i.discount,"%"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Thi gian p dng"}),o.jsxs("div",{className:"text-gray-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Bt u:"})," ",a(i.startDate)]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Kt thc:"})," ",a(i.endDate)]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Ngy to / cp nht"}),o.jsxs("p",{className:"text-gray-600",children:["To: ",a(i.createdAt)]}),o.jsxs("p",{className:"text-gray-600",children:["Cp nht: ",a(i.updatedAt)]})]})]})]}),o.jsxs("div",{className:"mt-12",children:[o.jsxs("h2",{className:"font-bold mb-6",children:["Sn phm p dng (",i.flashSaleProduct.length," sn phm)"]}),i.flashSaleProduct.length===0?o.jsx("p",{className:"text-gray-500 text-center py-10",children:"Cha c sn phm no trong flash sale ny"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:i.flashSaleProduct.map(c=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("img",{src:c.product.mainImage,alt:c.product.productName,className:"w-full h-[20rem] object-cover"}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"font-semibold line-clamp-2 mb-2",children:c.product.productName}),o.jsxs("div",{className:"flex text-[1.4rem] items-center gap-3 mb-3",children:[o.jsx("span",{className:"font-bold text-red-600",children:l(c.sale_price)}),o.jsx("span",{className:"text-gray-400 line-through",children:l(c.origin_price)}),o.jsxs("span",{className:"text-green-600",children:["-",i.discount,"%"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[1.2rem]",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"S lng:"}),o.jsxs("p",{children:[c.quantity," SP"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Gii hn/khch:"}),o.jsxs("p",{children:[c.limit," SP"]})]}),o.jsx("div",{children:o.jsxs("p",{className:"font-medium",children:[" bn: ",c.sold]})})]})]})]},c.id))})]})]})}function Hme(){const{slug:t}=Gs();tt();const[e,n]=k.useState({hours:0,minutes:0,seconds:0}),{data:r,isLoading:s,error:i}=Ae({queryKey:["flashSale",t],queryFn:()=>phe(t),enabled:!!t}),a=r&&r.data,l=r&&a&&a.flashSaleProduct,c=Math.floor(e.hours/24);k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),k.useEffect(()=>{if(!a)return;const p=()=>{const x=hS(a.endDate);n(x)};p();const g=setInterval(p,1e3);return()=>clearInterval(g)},[a]);const u=p=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p)),d=(p,g)=>Math.round(p/g*100),f=()=>o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0 overflow-hidden",children:[o.jsx("div",{className:"w-full h-full bg-gradient-to-b from-gray-300 to-gray-400 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),o.jsx("div",{className:"relative w-[85%] mx-auto pt-[40rem] z-10",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"h-12 w-3/4 mx-auto bg-gray-300 rounded-lg animate-pulse mb-3"}),o.jsx("div",{className:"h-6 w-1/2 mx-auto bg-gray-200 rounded animate-pulse"})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-r from-pink-300 to-red-300 rounded-lg px-4 py-4 min-w-[70px] animate-pulse"}),g!==2&&o.jsx("span",{className:"text-[2.2rem] text-transparent",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("div",{className:"h-8 w-48 bg-gray-300 rounded animate-pulse mb-4"})," ",o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:Array.from({length:10}).map((p,g)=>o.jsxs("div",{className:"group bg-white rounded-xl p-4 shadow animate-pulse flex flex-col",children:[o.jsx("div",{className:"absolute top-2 right-2 h-8 w-16 bg-red-300 rounded-full"}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3 bg-gray-300"}),o.jsx("div",{className:"h-5 w-4/5 bg-gray-300 rounded mb-2"}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("div",{className:"h-7 w-24 bg-red-300 rounded"}),o.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded"}),o.jsx("div",{className:"h-4 w-12 bg-gray-300 rounded"})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-300 h-full rounded-full w-3/5 animate-pulse"})})]})]},g))})]})]})})]});return o.jsx("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:s?o.jsx(f,{}):o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0",children:o.jsx("img",{src:a.bannerImage,alt:"Hnh nh flashSale",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"relative w-[85%] h-[50rem] z-100 mx-auto pt-[30rem]",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("h3",{className:"text-[2.5rem] font-bold text-red-600",children:[a.name," - Gim ",a.discount,"%"]}),o.jsxs("p",{children:[a.description," on m t"]})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:e.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:["Cn li ",c," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(e[p]).padStart(2,"0")})},g),g!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h4",{children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:l&&l.length>0?l.map(p=>{const g=p.product,x=d(p.sold,p.quantity);return o.jsxs(Ze,{to:`/product-detail/${g.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",a.discount,"%"]}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:g.mainImage||"https://via.placeholder.com/300",alt:g.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-1",children:g.productName||`Sn phm ${g.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] font-bold",children:u(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1.2rem]",children:u(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"font-bold text-red-500",children:[x,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${x}%`}})})]})]})]},g.id)}):o.jsx("div",{className:"py-25 text-center",children:"Khng c sn phm no"})})]})]})})]})})}function Ume(){const{id:t}=Gs(),{user:e}=kt(),n=tt(),[r,s]=k.useState("info"),[i,a]=k.useState("all"),[l,c]=k.useState("newest"),[u,d]=k.useState({open:!1,content:"",isSuccess:!0}),[f,p]=k.useState({open:!1,reviewId:null,message:""}),{data:g,isLoading:x}=Ae({queryKey:["productdetailForAdmin",t],queryFn:()=>Mte(Number(t)),enabled:!!t}),v=g&&g.product,b=g&&g.statistics,w=g&&g.flashSale,{data:N,isLoading:C,refetch:P}=Ae({queryKey:["evaluates",i,l,t],queryFn:()=>YD({productId:Number(t),rating:i,page:1,sort:l}),enabled:!!t}),S=N&&N.data||[],A=R=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(G=>o.jsx(F,{icon:Xr,className:`text-[1.4rem] ${G<=R?"text-yellow-400":"text-gray-300"}`},G))}),M=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),T=R=>new Date(R).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),_=async R=>{if(!e){n("/");return}try{(await fe.post(`/api/v1/evaluate/toggle-helpful/${R}`)).status&&await P()}catch(G){console.log(G);return}},I=async()=>{if(!f.message.trim()){d({open:!0,content:"Vui lng nhp ni dung phn hi!",isSuccess:!1}),setTimeout(()=>{d({open:!1,content:"",isSuccess:!0})},2e3);return}try{const R=await fe.post(`/api/v1/evaluate/response/${f.reviewId}`,{message:f.message});R.status&&(await P(),d({open:!0,content:R.message,isSuccess:!0}),setTimeout(()=>{d({open:!1,content:"",isSuccess:!0})},1e3))}catch(R){console.log(R)}},D=R=>R&&R.flashSaleProduct&&typeof R.flashSaleProduct.sale_price=="number";return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[x?o.jsx("div",{children:"ang ti d liu"}):o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 text-[1.8rem] font-bold",children:[o.jsx("span",{children:"Qun l sn phm"}),o.jsx("span",{children:"/"}),o.jsx("span",{children:v.productName})]}),o.jsx("div",{className:"flex py-2",children:o.jsxs(Ze,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(F,{icon:qs,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Ze,{to:`/dashboard/products/action/${v.id}`,className:"flex items-center gap-2 px-6 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[o.jsx(F,{icon:Ms}),"Chnh sa"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Doanh thu"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-green-700",children:M(b?.revenue??0)})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:" bn"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-blue-700",children:[b?.soldCount," SP"]})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Tn kho"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-red-500",children:b.inventory})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"nh gi"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-yellow-500 flex items-center gap-1",children:[v.averageRating,o.jsxs("span",{className:"text-[1.2rem] text-yellow-500 mt-1",children:["(",v.reviewCount," nh gi)"]})]})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[o.jsx("h3",{className:"font-bold mb-4",children:"Hnh nh chnh"}),o.jsx("img",{src:v.mainImage,alt:v.productName,className:"w-full rounded-lg border border-gray-200"}),o.jsx("h3",{className:"font-bold mb-4 mt-6",children:"nh ph"}),v.listImageProduct.length>0?o.jsx("div",{className:"grid grid-cols-4 gap-3",children:v.listImageProduct?.map(R=>o.jsx("div",{className:"w-full h-[10rem] border border-gray-300 rounded-md",children:o.jsx("img",{src:R.imageUrl,alt:"subImage",className:"w-full h-full rounded-lg object-cover"})},R.id))}):o.jsx("div",{className:"text-center",children:"Khng c nh ph"})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-1 p-1",children:[o.jsx("button",{onClick:()=>s("info"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="info"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"Thng tin chung"}),o.jsxs("button",{onClick:()=>s("variants"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="variants"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:["Bin th (",v.variants.length,")"]}),o.jsx("button",{onClick:()=>s("description"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="description"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"M t"}),o.jsx("button",{onClick:()=>s("review"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="review"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"nh gi"})]})}),o.jsxs("div",{className:"p-6",children:[r==="info"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h2",{className:"text-[2rem]",children:v.productName}),w&&o.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-[1.2rem] rounded-full",children:"Flash Sale"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"text-[2rem] text-gray-400 line-through",children:M(v.price)}),D(w)?o.jsx("p",{className:"text-[1.8rem] font-bold text-red-500",children:M(w.flashSaleProduct.sale_price)}):o.jsx("p",{className:"text-[2rem] font-bold text-red-500",children:M(v.price)})]})]}),D(w)&&o.jsxs("div",{className:"p-6 bg-orange-50 border-l-4 border-orange-500 rounded-lg",children:[o.jsx("h3",{className:"font-bold text-orange-700 mb-3 flex items-center gap-2",children:"Thng tin Flash Sale"}),o.jsxs("div",{className:"space-y-4 text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gim gi:"}),o.jsxs("p",{className:"font-semibold text-orange-600 ml-2",children:[w.discount,"%"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gi sau gim:"}),o.jsx("p",{className:"font-semibold text-red-600 ml-2",children:M(w.flashSaleProduct.sale_price)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"S lng Flash Sale cn li:"}),o.jsxs("p",{className:"font-semibold",children:[w.flashSaleProduct.quantity-w.flashSaleProduct.sold," ","/ ",w.flashSaleProduct.quantity]})]}),o.jsxs("div",{className:" flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Thi gian:"}),o.jsxs("p",{className:"font-semibold text-green-600 ml-2",children:[o.jsx("span",{className:"mr-4",children:T(w.startDate)}),"n",o.jsx("span",{className:"ml-4",children:T(w.endDate)})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi gc"}),o.jsx("p",{className:"font-semibold",children:M(v.price)})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi bn thc t"}),o.jsx("p",{className:"font-semibold",children:D(w)?M(w.flashSaleProduct.sale_price):M(v.price)})]})]})]}),r==="variants"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold",children:"Danh sch bin th"}),o.jsxs("span",{className:"text-gray-600",children:["Tng: ",v.variants.length," bin th"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"ID"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"Mu sc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Kch thc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Tn kho"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Gi"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Trng thi"})]})}),o.jsx("tbody",{children:v.variants.map(R=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 text-[1.4rem]",children:[o.jsxs("td",{className:"py-5 px-4 text-[1.4rem] text-gray-700",children:["#",R.id]}),o.jsx("td",{className:"py-5 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:R.variantColor.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-700",children:R.variantColor.name})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:R.variantSize.name}),o.jsx("td",{className:"text-center py-5 px-4",children:o.jsxs("span",{className:`text-[1.4rem] font-medium ${R.inventory<20?"text-red-600":"text-gray-900"}`,children:[R.inventory,R.inventory<20&&o.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(Sp ht)"})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:R.price?M(R.price):o.jsx("span",{className:"text-gray-400",children:"Gi chung"})}),o.jsx("td",{className:"py-5 px-4 text-center",children:R.inventory>0?o.jsx("span",{className:"px-6 py-2 bg-green-100 text-green-700 rounded-full",children:"Cn hng"}):o.jsx("span",{className:"px-6 py-2 bg-red-100 text-red-700 rounded-full",children:"Ht hng"})})]},R.id))})]})})]}),r==="description"&&o.jsx("div",{className:"prose max-w-none text-[1.6rem]",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:v.description}})}),r==="review"&&o.jsx("div",{children:o.jsxs("div",{className:"w-full sm:w-auto",children:[o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>a("all"),children:["Tt c (",N&&N.summary.total,")"]}),[5,4,3,2,1].map(R=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i===R?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{a(R)},children:[R," Sao (",N&&N.summary.ratingCount[R],")"]},R))]}),o.jsx("div",{className:"mt-8",children:C?o.jsx("div",{children:"ang ti d liu"}):S.length>0?o.jsx("div",{className:"space-y-4",children:S.map(R=>o.jsxs("div",{className:"flex items-start w-full h-auto shadow-md rounded-xl bg-white p-5 space-x-4",children:[o.jsx("div",{children:R.showAccount?R?.user?.avatar?o.jsx("img",{src:R?.user?.avatar,alt:"avatar"+R?.user?.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(R.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:R.showAccount?R.user?.username||R.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",T(R.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:A(R.rating)}),R.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:R.message}),o.jsxs("div",{className:"flex items-center space-x-5 text-[1rem] md:text-[1.3rem] mt-2 ",children:[o.jsxs("button",{onClick:()=>_(R.id),className:"cursor-pointer",children:[o.jsx(F,{icon:QR}),o.jsx("span",{className:` ${R.isLiked?"text-red-500":"text-gray-600"}`,children:R.helpfulCount})]}),!R.hasAdminResponse&&o.jsxs("button",{type:"button",className:"flex items-center space-x-2 hover:text-gray-800 cursor-pointer",onClick:()=>p({open:!0,reviewId:R.id,message:""}),children:[o.jsx(F,{icon:Fde}),o.jsx("span",{children:"Phn hi"})]})]}),f.open&&!R.hasAdminResponse&&f.reviewId===R.id&&o.jsxs("div",{className:"mt-4 w-full h-auto",children:[o.jsx("textarea",{rows:3,className:"w-full h-full border text-[1.4rem] p-4 outline-none focus:border-cyan-300 border-gray-300 rounded-md",placeholder:"Nhp phn hi...",value:f.message,onChange:G=>p(U=>({...U,message:G.target.value}))}),o.jsxs("div",{className:"flex items-center justify-end gap-2.5 mt-1 text-[1.4rem]",children:[o.jsx("button",{type:"button",className:"rounded-md px-5 py-2 bg-gray-200 text-gray-600 hover:bg-gray-300 transition-colors duration-300",onClick:()=>p({open:!1,reviewId:null,message:""}),children:o.jsx("span",{children:"ng"})}),o.jsxs("button",{className:"rounded-md px-5 py-2 bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>I(),children:[o.jsx(F,{icon:UG,className:"text-[1.4rem]"}),o.jsx("span",{children:"Gi"})]})]})]}),R.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("img",{src:e?.avatar,alt:`admin-${e?.username}`,className:"w-full h-full object-cover rounded-full"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:[e?.username," "," ",o.jsx("span",{className:"text-[1.2rem]",children:T(R.adminResponseAt)})]}),o.jsxs("p",{className:"text-[1.6rem] mt-1",children:["Ni dung: ",R.adminResponse]})]})]})]})]})]},R.id))}):o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]})})]})})]})]})})]})]}),o.jsx(qu,{content:u.content,duration:1e3,showNotify:u.open,isSuccess:u.isSuccess})]})}var ov={exports:{}},lv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM;function Wme(){if(OM)return lv;OM=1;var t=rc();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(f,p){var g=p(),x=r({inst:{value:g,getSnapshot:p}}),v=x[0].inst,b=x[1];return i(function(){v.value=g,v.getSnapshot=p,c(v)&&b({inst:v})},[f,g,p]),s(function(){return c(v)&&b({inst:v}),f(function(){c(v)&&b({inst:v})})},[f]),a(g),g}function c(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return lv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,lv}var _M;function M8(){return _M||(_M=1,ov.exports=Wme()),ov.exports}var P8=M8();function zn(t){this.content=t}zn.prototype={constructor:zn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new zn(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new zn(n)},addToStart:function(t,e){return new zn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new zn(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new zn(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=zn.from(t),t.size?new zn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=zn.from(t),t.size?new zn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=zn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};zn.from=function(t){if(t instanceof zn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new zn(e)};function A8(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=A8(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function O8(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),l=e.child(--i),c=a.nodeSize;if(a==l){n-=c,r-=c;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let u=0,d=Math.min(a.text.length,l.text.length);for(;u<d&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let u=O8(a.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class he{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,l=0;l<n;a++){let c=this.content[a],u=l+c.nodeSize;if(u>e&&r(c,s+l,i||null,a)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,s+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new he(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),s+=l.nodeSize),a=c}return new he(r,s)}cutByIndex(e,n){return e==n?he.empty:e==0&&n==this.content.length?this:new he(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new he(s,i)}addToStart(e){return new he([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new he(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return A8(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return O8(this,e,n,r)}findIndex(e){if(e==0)return jp(0,e);if(e==this.size)return jp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?jp(n+1,i):jp(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return he.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return he.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new he(n||e,r)}static from(e){if(!e)return he.empty;if(e instanceof he)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new he([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const cv={index:0,offset:0};function jp(t,e){return cv.index=t,cv.offset=e,cv}function i0(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!i0(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!i0(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Tt=class xw{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&i0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xw.none;if(e instanceof xw)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Tt.none=[];class a0 extends Error{}class ke{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=D8(this.content,e+this.openStart,n);return r&&new ke(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ke(_8(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ke.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ke(he.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new ke(e,r,s)}}ke.empty=new ke(he.empty,0,0);function _8(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(_8(i.content,e-s-1,n-s-1)))}function D8(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=D8(a.content,e-i-1,n,a);return l&&t.replaceChild(s,a.copy(l))}function qme(t,e,n){if(n.openStart>t.depth)throw new a0("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new a0("Inconsistent open depths");return I8(t,e,n,0)}function I8(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=I8(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return Dl(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=Kme(n,t);return Dl(i,R8(t,a,l,e,r))}else return Dl(i,o0(t,e,r))}function L8(t,e){if(!e.type.compatibleContent(t.type))throw new a0("Cannot join "+e.type.name+" onto "+t.type.name)}function yw(t,e,n){let r=t.node(n);return L8(r,e.node(n)),r}function _l(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Nh(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(_l(t.nodeAfter,r),i++));for(let l=i;l<a;l++)_l(s.child(l),r);e&&e.depth==n&&e.textOffset&&_l(e.nodeBefore,r)}function Dl(t,e){return t.type.checkContent(e),t.copy(e)}function R8(t,e,n,r,s){let i=t.depth>s&&yw(t,e,s+1),a=r.depth>s&&yw(n,r,s+1),l=[];return Nh(null,t,s,l),i&&a&&e.index(s)==n.index(s)?(L8(i,a),_l(Dl(i,R8(t,e,n,r,s+1)),l)):(i&&_l(Dl(i,o0(t,e,s+1)),l),Nh(e,n,s,l),a&&_l(Dl(a,o0(n,r,s+1)),l)),Nh(r,null,s,l),new he(l)}function o0(t,e,n){let r=[];if(Nh(null,t,n,r),t.depth>n){let s=yw(t,e,n+1);_l(Dl(s,o0(t,e,n+1)),r)}return Nh(e,null,n,r),new he(r)}function Kme(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(he.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class tf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Tt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new l0(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(i),u=i-c;if(r.push(a,l,s+c),!u||(a=a.child(l),a.isText))break;i=u-1,s+=c+1}return new tf(n,r,i)}static resolveCached(e,n){let r=DM.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else DM.set(e,r=new Gme);let s=r.elts[r.i]=tf.resolve(e,n);return r.i=(r.i+1)%Yme,s}}class Gme{constructor(){this.elts=[],this.i=0}}const Yme=12,DM=new WeakMap;class l0{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Xme=Object.create(null);let po=class bw{constructor(e,n,r,s=Tt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&i0(this.attrs,n||e.defaultAttrs||Xme)&&Tt.sameSet(this.marks,r||Tt.none)}copy(e=null){return e==this.content?this:new bw(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new bw(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ke.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),l=s.start(a),u=s.node(a).content.cut(s.pos-l,i.pos-l);return new ke(u,s.depth-a,i.depth-a)}replace(e,n,r){return qme(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return tf.resolveCached(this,e)}resolveNoCache(e){return tf.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),F8(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=he.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Tt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Tt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=he.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};po.prototype.text=void 0;class c0 extends po{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):F8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new c0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new c0(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function F8(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Xl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Qme(e,n);if(r.next==null)return Xl.empty;let s=z8(r);r.next&&r.err("Unexpected trailing text");let i=spe(rpe(s));return ipe(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,l){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return he.from(l.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:f}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let p=i(f,l.concat(d));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let l=s;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}Xl.empty=new Xl(!0);class Qme{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function z8(t){let e=[];do e.push(Jme(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Jme(t){let e=[];do e.push(Zme(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Zme(t){let e=npe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=epe(t,e);else break;return e}function IM(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function epe(t,e){let n=IM(t),r=n;return t.eat(",")&&(t.next!="}"?r=IM(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function tpe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function npe(t){if(t.eat("(")){let e=z8(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=tpe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function rpe(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,c){let u={term:c,to:l};return e[a].push(u),u}function s(a,l){a.forEach(c=>c.to=l)}function i(a,l){if(a.type=="choice")return a.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(a.type=="seq")for(let c=0;;c++){let u=i(a.exprs[c],l);if(c==a.exprs.length-1)return u;s(u,l=n())}else if(a.type=="star"){let c=n();return r(l,c),s(i(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return s(i(a.expr,l),c),s(i(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let c=l;for(let u=0;u<a.min;u++){let d=n();s(i(a.expr,c),d),c=d}if(a.max==-1)s(i(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let d=n();r(c,d),s(i(a.expr,c),d),c=d}return[r(c)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function V8(t,e){return e-t}function LM(t,e){let n=[];return r(e),n.sort(V8);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:l,to:c}=i[a];!l&&n.indexOf(c)==-1&&r(c)}}}function spe(t){let e=Object.create(null);return n(LM(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<s.length;d++)s[d][0]==l&&(u=s[d][1]);LM(t,c).forEach(d=>{u||s.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[r.join(",")]=new Xl(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let l=s[a][1].sort(V8);i.next.push({type:s[a][0],next:e[l.join(",")]||n(l)})}return i}}function ipe(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];a.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $8(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function B8(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function H8(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function U8(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ope(t,r,e[r]);return n}let RM=class W8{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=U8(e,r.attrs),this.defaultAttrs=$8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:B8(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new po(this,this.computeAttrs(e),he.from(n),Tt.setFrom(r))}createChecked(e=null,n,r){return n=he.from(n),this.checkContent(n),new po(this,this.computeAttrs(e),n,Tt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=he.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(he.empty,!0);return i?new po(this,e,n.append(i),Tt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){H8(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Tt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new W8(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ape(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class ope{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ape(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Dx{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=U8(e,s.attrs),this.excluded=null;let i=$8(this.attrs);this.instance=i?new Tt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Tt(this,B8(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new Dx(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){H8(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class q8{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=zn.from(e.nodes),n.marks=zn.from(e.marks||{}),this.nodes=RM.compile(this.spec.nodes,this),this.marks=Dx.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=Xl.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?FM(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:FM(this,a.split(" "))}this.nodeFromJSON=s=>po.fromJSON(this,s),this.markFromJSON=s=>Tt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof RM){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new c0(r,r.defaultAttrs,e,Tt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function FM(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function lpe(t){return t.tag!=null}function cpe(t){return t.style!=null}class go{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(lpe(s))this.tags.push(s);else if(cpe(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new VM(this,n,!1);return r.addAll(e,Tt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new VM(this,n,!0);return r.addAll(e,Tt.none,n.from,n.to),ke.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(hpe(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=$M(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=$M(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new go(e,go.schemaRules(e)))}}const K8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},upe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},G8={ol:!0,ul:!0},nf=1,vw=2,jh=4;function zM(t,e,n){return e!=null?(e?nf:0)|(e==="full"?vw:0):t&&t.whitespace=="pre"?nf|vw:n&~jh}class Sp{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Tt.none,this.match=i||(a&jh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&nf)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=he.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!K8.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class VM{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=zM(null,n.preserveWhitespace,0)|(r?jh:0);s?i=new Sp(s.type,s.attrs,Tt.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new Sp(null,null,Tt.none,!0,null,a):i=new Sp(e.schema.topNodeType,null,Tt.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&vw?"full":this.localPreserveWS||(s.options&nf)>0,{schema:a}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(a.linebreakReplacement.create(),n,!0),l[c]&&this.insertNode(a.text(l[c]),n,!/\S/.test(l[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;G8.hasOwnProperty(a)&&this.parser.normalizeLists&&dpe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:upe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(K8.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(i),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(i,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];a!=l;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],u=c.findWrapping(e);if(u&&(!s||s.length>u.length+l)&&(s=u,i=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=Tt.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):BM(l.type,e.type))&&(a=l.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=zM(e,i,a.options);a.options&jh&&a.content.length==0&&(l|=jh);let c=Tt.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):BM(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Sp(e,n,c,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=nf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(a(l-1,c))return!0;return!1}else{let d=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function dpe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&G8.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function hpe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function $M(t){let e={};for(let n in t)e[n]=t[n];return e}function BM(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||i.indexOf(d)<0&&a(d))return!0}};if(a(s.contentMatch))return!0}}class cc{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=uv(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let l=0,c=0;for(;l<i.length&&c<a.marks.length;){let u=a.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],d=this.serializeMark(u,a.isInline,n);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=dg(uv(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&dg(uv(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return dg(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new cc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=HM(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return HM(e.marks)}}function HM(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function uv(t){return t.document||window.document}const UM=new WeakMap;function fpe(t){let e=UM.get(t);return e===void 0&&UM.set(t,e=mpe(t)),e}function mpe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function dg(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=fpe(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l,c=n?t.createElementNS(n,s):t.createElement(s),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let p=e[f];if(p===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:x}=dg(t,p,n,r);if(c.appendChild(g),x){if(l)throw new RangeError("Multiple content holes");l=x}}}return{dom:c,contentDOM:l}}const Y8=65535,X8=Math.pow(2,16);function ppe(t,e){return t+e*X8}function WM(t){return t&Y8}function gpe(t){return(t-(t&Y8))/X8}const Q8=1,J8=2,hg=4,Z8=8;class ww{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Z8)>0}get deletedBefore(){return(this.delInfo&(Q8|hg))>0}get deletedAfter(){return(this.delInfo&(J8|hg))>0}get deletedAcross(){return(this.delInfo&hg)>0}}class Jr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Jr.empty)return Jr.empty}recover(e){let n=0,r=WM(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+gpe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[l+i],d=this.ranges[l+a],f=c+u;if(e<=f){let p=u?e==c?-1:e==f?1:n:n,g=c+s+(p<0?0:d);if(r)return g;let x=e==(n<0?c:f)?null:ppe(l/3,e-c),v=e==c?J8:e==f?Q8:hg;return(n<0?e!=c:e!=f)&&(v|=Z8),new ww(g,v,x)}s+=d-u}return r?e+s:new ww(e+s,0,null)}touches(e,n){let r=0,s=WM(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+i],d=c+u;if(e<=d&&l==s*3)return!0;r+=this.ranges[l+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],l=a-(this.inverted?i:0),c=a+(this.inverted?0:i),u=this.ranges[s+n],d=this.ranges[s+r];e(l,l+u,c,c+d),i+=d-u}}invert(){return new Jr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Jr.empty:new Jr(e<0?[0,-e,0]:[0,0,e])}}Jr.empty=new Jr([]);class rf{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new rf(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new rf;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new ww(e,s,null)}}const dv=Object.create(null);class dr{getMap(){return Jr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=dv[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in dv)throw new RangeError("Duplicate use of step JSON ID "+e);return dv[e]=n,n.prototype.jsonID=e,n}}class xn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new xn(e,null)}static fail(e){return new xn(null,e)}static fromReplace(e,n,r,s){try{return xn.ok(e.replace(n,r,s))}catch(i){if(i instanceof a0)return xn.fail(i.message);throw i}}}function NS(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(NS(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return he.fromArray(r)}class oo extends dr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new ke(NS(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return xn.fromReplace(e,this.from,this.to,i)}invert(){return new Hs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new oo(n.pos,r.pos,this.mark)}merge(e){return e instanceof oo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new oo(n.from,n.to,e.markFromJSON(n.mark))}}dr.jsonID("addMark",oo);class Hs extends dr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ke(NS(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return xn.fromReplace(e,this.from,this.to,r)}invert(){return new oo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Hs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Hs(n.from,n.to,e.markFromJSON(n.mark))}}dr.jsonID("removeMark",Hs);class lo extends dr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xn.fromReplace(e,this.pos,this.pos+1,new ke(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new lo(this.pos,n.marks[s]);return new lo(this.pos,this.mark)}}return new Ql(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new lo(n.pos,e.markFromJSON(n.mark))}}dr.jsonID("addNodeMark",lo);class Ql extends dr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xn.fromReplace(e,this.pos,this.pos+1,new ke(he.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new lo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ql(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ql(n.pos,e.markFromJSON(n.mark))}}dr.jsonID("removeNodeMark",Ql);class Pn extends dr{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Nw(e,this.from,this.to)?xn.fail("Structure replace would overwrite content"):xn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Jr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Pn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Pn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Pn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ke.empty:new ke(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Pn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ke.empty:new ke(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Pn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Pn(n.from,n.to,ke.fromJSON(e,n.slice),!!n.structure)}}dr.jsonID("replace",Pn);class Dn extends dr{constructor(e,n,r,s,i,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=l}apply(e){if(this.structure&&(Nw(e,this.from,this.gapFrom)||Nw(e,this.gapTo,this.to)))return xn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?xn.fromReplace(e,this.from,this.to,r):xn.fail("Content does not fit in gap")}getMap(){return new Jr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Dn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Dn(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Dn(n.from,n.to,n.gapFrom,n.gapTo,ke.fromJSON(e,n.slice),n.insert,!!n.structure)}}dr.jsonID("replaceAround",Dn);function Nw(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function xpe(t,e,n,r){let s=[],i=[],a,l;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let p=Math.max(u,e),g=Math.min(u+c.nodeSize,n),x=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(x)||(a&&a.to==p&&a.mark.eq(f[v])?a.to=g:s.push(a=new Hs(p,g,f[v])));l&&l.to==p?l.to=g:i.push(l=new oo(p,g,r))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function ype(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;i++;let c=null;if(r instanceof Dx){let u=a.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],p;for(let g=0;g<s.length;g++){let x=s[g];x.step==i-1&&f.eq(s[g].style)&&(p=x)}p?(p.to=u,p.step=i):s.push({style:f,from:Math.max(l,e),to:u,step:i})}}}),s.forEach(a=>t.step(new Hs(a.from,a.to,a.style)))}function jS(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),d=l+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new Pn(l,d,ke.empty));else{r=f;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||t.step(new Hs(l,d,u.marks[p]));if(s&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,x;for(;p=g.exec(u.text);)x||(x=new ke(he.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new Pn(l+p.index,l+p.index+p[0].length,x))}}l=d}if(!r.validEnd){let c=r.fillBefore(he.empty,!0);t.replace(l,l,new ke(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function bpe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Gu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,i=0;;--r){let a=t.$from.node(r),l=t.$from.index(r)+s,c=t.$to.indexAfter(r)-i;if(r<t.depth&&a.canReplace(l,c,n))return r;if(r==0||a.type.spec.isolating||!bpe(a,l,c))break;l&&(s=1),c<a.childCount&&(i=1)}return null}function vpe(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),l=s.after(i+1),c=a,u=l,d=he.empty,f=0;for(let x=i,v=!1;x>n;x--)v||r.index(x)>0?(v=!0,d=he.from(r.node(x).copy(d)),f++):c--;let p=he.empty,g=0;for(let x=i,v=!1;x>n;x--)v||s.after(x+1)<s.end(x)?(v=!0,p=he.from(s.node(x).copy(p)),g++):u++;t.step(new Dn(c,u,a,l,new ke(d.append(p),f,g),d.size-f,!0))}function SS(t,e,n=null,r=t){let s=wpe(t,e),i=s&&Npe(r,e);return i?s.map(qM).concat({type:e,attrs:n}).concat(i.map(qM)):null}function qM(t){return{type:t,attrs:null}}function wpe(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function Npe(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;c&&u<s;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:a}function jpe(t,e,n){let r=he.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=he.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new Dn(s,i,s,i,new ke(r,0,0),n.length,!0))}function Spe(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,c)&&Cpe(t.doc,t.mapping.slice(i).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!x?u=!1:!g&&x&&(u=!0)}u===!1&&t7(t,a,l,i),jS(t,t.mapping.slice(i).map(l,1),r,void 0,u===null);let d=t.mapping.slice(i),f=d.map(l,1),p=d.map(l+a.nodeSize,1);return t.step(new Dn(f,p,f+1,p-1,new ke(he.from(r.create(c,null,a.marks)),0,0),1,!0)),u===!0&&e7(t,a,l,i),!1}})}function e7(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(s.text);){let c=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function t7(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Cpe(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function kpe(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Dn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new ke(he.from(a),0,0),1,!0))}function da(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=n-2;u>i;u--,d--){let f=s.node(u),p=s.index(u);if(f.type.spec.isolating)return!1;let g=f.content.cutByIndex(p,f.childCount),x=r&&r[d+1];x&&(g=g.replaceChild(0,x.type.create(x.attrs)));let v=r&&r[d]||f;if(!f.canReplace(p+1,f.childCount)||!v.type.validContent(g))return!1}let l=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function Tpe(t,e,n=1,r){let s=t.doc.resolve(e),i=he.empty,a=he.empty;for(let l=s.depth,c=s.depth-n,u=n-1;l>c;l--,u--){i=he.from(s.node(l).copy(i));let d=r&&r[u];a=he.from(d?d.type.create(d.attrs,a):s.node(l).copy(a))}t.step(new Pn(e,e,new ke(i.append(a),n,n),!0))}function Io(t,e){let n=t.resolve(e),r=n.index();return n7(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Epe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function n7(t,e){return!!(t&&e&&!t.isLeaf&&Epe(t,e))}function Ix(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),l++,a=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),a=r.node(s+1)),i&&!i.isTextblock&&n7(i,a)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Mpe(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(s);d&&!f?r=!1:!d&&f&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);t7(t,d.node(),d.before(),l)}a.inlineContent&&jS(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let c=t.mapping.slice(l),u=c.map(e-n);if(t.step(new Pn(u,c.map(e+n,-1),ke.empty,!0)),r===!0){let d=t.doc.resolve(u);e7(t,d.node(),d.before(),t.steps.length)}return t}function Ppe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function r7(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(i==1)d=u.canReplace(c,c,s);else{let f=u.contentMatchAt(c).findWrapping(s.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Lx(t,e,n=e,r=ke.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return s7(s,i,r)?new Pn(e,n,r):new Ape(s,i,r).fit()}function s7(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Ape{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=he.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=he.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,l=s.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let c=new ke(i,a,l);return e>-1?new Dn(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Pn(r.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=hv(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(he.from(a),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:f};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=hv(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ke(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=hv(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new ke(rh(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ke(rh(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,u=0,d=[],{match:f,type:p}=this.frontier[n];if(s){for(let v=0;v<s.childCount;v++)d.push(s.child(v));f=f.matchFragment(s)}let g=l.size+e-(a.content.size-a.openEnd);for(;u<l.childCount;){let v=l.child(u),b=f.matchType(v.type);if(!b)break;u++,(u>1||c==0||v.content.size)&&(f=b,d.push(i7(v.mark(p.allowedMarks(v.marks)),u==1?c:0,u==l.childCount?g:-1)))}let x=u==l.childCount;x||(g=-1),this.placed=sh(this.placed,n,he.from(d)),this.frontier[n].match=f,x&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=l;v<g;v++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=x?e==0?ke.empty:new ke(rh(a.content,e-1,1),e-1,g<0?a.openEnd:e-1):new ke(rh(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!fv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=fv(e,n,s,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=fv(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sh(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=sh(this.placed,this.depth,he.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(he.empty,!0);n.childCount&&(this.placed=sh(this.placed,this.frontier.length,n))}}function rh(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(rh(t.firstChild.content,e-1,n)))}function sh(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(sh(t.lastChild.content,e-1,n)))}function hv(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function i7(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,i7(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(he.empty,!0)))),t.copy(r)}function fv(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!Ope(n,i.content,a)?l:null}function Ope(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function _pe(t){return t.spec.defining||t.spec.definingForContent}function Dpe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(s7(s,i,r))return t.step(new Pn(e,n,r));let a=o7(s,i);a[a.length-1]==0&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let p=s.depth,g=s.pos-1;p>0;p--,g--){let x=s.node(p).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(p)>-1?l=p:s.before(p)==g&&a.splice(1,0,-p)}let c=a.indexOf(l),u=[],d=r.openStart;for(let p=r.content,g=0;;g++){let x=p.firstChild;if(u.push(x),g==r.openStart)break;p=x.content}for(let p=d-1;p>=0;p--){let g=u[p],x=_pe(g.type);if(x&&!g.sameMarkup(s.node(Math.abs(l)-1)))d=p;else if(x||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+d+1)%(r.openStart+1),x=u[g];if(x)for(let v=0;v<a.length;v++){let b=a[(v+c)%a.length],w=!0;b<0&&(w=!1,b=-b);let N=s.node(b-1),C=s.index(b-1);if(N.canReplaceWith(C,C,x.type,x.marks))return t.replace(s.before(b),w?i.after(b):n,new ke(a7(r.content,0,r.openStart,g),g,r.openEnd))}}let f=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>f));p--){let g=a[p];g<0||(e=s.before(g),n=i.after(g))}}function a7(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(a7(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(he.empty,!0))}return t}function Ipe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=Ppe(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ke(he.from(r),0,0))}function Lpe(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=o7(r,s);for(let a=0;a<i.length;a++){let l=i[a],c=a==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function o7(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class pu extends dr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return xn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return xn.fromReplace(e,this.pos,this.pos+1,new ke(he.from(s),0,n.isLeaf?0:1))}getMap(){return Jr.empty}invert(e){return new pu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pu(n.pos,n.attr,n.value)}}dr.jsonID("attr",pu);class sf extends dr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return xn.ok(r)}getMap(){return Jr.empty}invert(e){return new sf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new sf(n.attr,n.value)}}dr.jsonID("docAttr",sf);let ku=class extends Error{};ku=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ku.prototype=Object.create(Error.prototype);ku.prototype.constructor=ku;ku.prototype.name="TransformError";class CS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new rf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ku(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ke.empty){let s=Lx(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new ke(he.from(r),0,0))}delete(e,n){return this.replace(e,n,ke.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Dpe(this,e,n,r),this}replaceRangeWith(e,n,r){return Ipe(this,e,n,r),this}deleteRange(e,n){return Lpe(this,e,n),this}lift(e,n){return vpe(this,e,n),this}join(e,n=1){return Mpe(this,e,n),this}wrap(e,n){return jpe(this,e,n),this}setBlockType(e,n=e,r,s=null){return Spe(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return kpe(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new pu(e,n,r)),this}setDocAttribute(e,n){return this.step(new sf(e,n)),this}addNodeMark(e,n){return this.step(new lo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Tt)n.isInSet(r.marks)&&this.step(new Ql(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new Ql(e,i)),s=i.removeFromSet(s);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return Tpe(this,e,n,r),this}addMark(e,n,r){return xpe(this,e,n,r),this}removeMark(e,n,r){return ype(this,e,n,r),this}clearIncompatible(e,n,r){return jS(this,e,n,r),this}}const mv=Object.create(null);class Qe{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new l7(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ke.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),l?ke.empty:n),l==0&&YM(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],c=e.mapping.slice(r),u=c.map(a.pos),d=c.map(l.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),YM(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Ue(e):Yc(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?Yc(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Yc(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ns(e.node(0))}static atStart(e){return Yc(e,e,0,0,1)||new ns(e)}static atEnd(e){return Yc(e,e,e.content.size,e.childCount,-1)||new ns(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=mv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in mv)throw new RangeError("Duplicate use of selection JSON ID "+e);return mv[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ue.between(this.$anchor,this.$head).getBookmark()}}Qe.prototype.visible=!0;class l7{constructor(e,n){this.$from=e,this.$to=n}}let KM=!1;function GM(t){!KM&&!t.parent.inlineContent&&(KM=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ue extends Qe{constructor(e,n=e){GM(e),GM(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Qe.near(r);let s=e.resolve(n.map(this.anchor));return new Ue(s.parent.inlineContent?s:r,r)}replace(e,n=ke.empty){if(super.replace(e,n),n==ke.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ue(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Qe.findFrom(n,r,!0)||Qe.findFrom(n,-r,!0);if(i)n=i.$head;else return Qe.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Qe.findFrom(e,-r,!0)||Qe.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Ue(e,n)}}Qe.jsonID("text",Ue);class Rx{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Rx(e.map(this.anchor),e.map(this.head))}resolve(e){return Ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class He extends Qe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Qe.near(i):new He(i)}content(){return new ke(he.from(this.node),0,0)}eq(e){return e instanceof He&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new kS(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new He(e.resolve(n.anchor))}static create(e,n){return new He(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}He.prototype.visible=!1;Qe.jsonID("node",He);class kS{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Rx(r,r):new kS(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&He.isSelectable(r)?new He(n):Qe.near(n)}}class ns extends Qe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ke.empty){if(n==ke.empty){e.delete(0,e.doc.content.size);let r=Qe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ns(e)}map(e){return new ns(e)}eq(e){return e instanceof ns}getBookmark(){return Rpe}}Qe.jsonID("all",ns);const Rpe={map(){return this},resolve(t){return new ns(t)}};function Yc(t,e,n,r,s,i=!1){if(e.inlineContent)return Ue.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let l=e.child(a);if(l.isAtom){if(!i&&He.isSelectable(l))return He.create(t,n-(s<0?l.nodeSize:0))}else{let c=Yc(t,l,n+s,s<0?l.childCount:0,s,i);if(c)return c}n+=l.nodeSize*s}return null}function YM(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Pn||s instanceof Dn))return;let i=t.mapping.maps[r],a;i.forEach((l,c,u,d)=>{a==null&&(a=d)}),t.setSelection(Qe.near(t.doc.resolve(a),n))}const XM=1,Cp=2,QM=4;class Fpe extends CS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|XM)&~Cp,this.storedMarks=null,this}get selectionSet(){return(this.updated&XM)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Cp,this}ensureMarks(e){return Tt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Cp)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Cp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Tt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Qe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=QM,this}get scrolledIntoView(){return(this.updated&QM)>0}}function JM(t,e){return!e||!t?t:t.bind(e)}class ih{constructor(e,n,r){this.name=e,this.init=JM(n.init,r),this.apply=JM(n.apply,r)}}const zpe=[new ih("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ih("selection",{init(t,e){return t.selection||Qe.atStart(e.doc)},apply(t){return t.selection}}),new ih("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ih("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class pv{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=zpe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ih(r.key,r.spec.state,r))})}}class ou{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=s?s[a].n:0,u=s?s[a].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ou(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new Fpe(this)}static create(e){let n=new pv(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ou(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new pv(this.schema,e.plugins),r=n.fields,s=new ou(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new pv(e.schema,e.plugins),i=new ou(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=po.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Qe.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=u.fromJSON.call(c,e,n[l],i);return}}i[a.name]=a.init(e,i)}}),i}}function c7(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=c7(s,e,{})),n[r]=s}return n}class Ft{constructor(e){this.spec=e,this.props={},e.props&&c7(e.props,this,this.props),this.key=e.key?e.key.key:u7("plugin")}getState(e){return e[this.key]}}const gv=Object.create(null);function u7(t){return t in gv?t+"$"+ ++gv[t]:(gv[t]=0,t+"$")}class rn{constructor(e="key"){this.key=u7(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const TS=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function d7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const h7=(t,e,n)=>{let r=d7(t,n);if(!r)return!1;let s=ES(r);if(!s){let a=r.blockRange(),l=a&&Gu(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(w7(t,s,e,-1))return!0;if(r.parent.content.size==0&&(Tu(i,"end")||He.isSelectable(i)))for(let a=r.depth;;a--){let l=Lx(t.doc,r.before(a),r.after(a),ke.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Tu(i,"end")?Qe.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):He.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},Vpe=(t,e,n)=>{let r=d7(t,n);if(!r)return!1;let s=ES(r);return s?f7(t,s,e):!1},$pe=(t,e,n)=>{let r=p7(t,n);if(!r)return!1;let s=MS(r);return s?f7(t,s,e):!1};function f7(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=Lx(t.doc,i,c,ke.empty);if(!u||u.from!=i||u instanceof Pn&&u.slice.size>=c-i)return!1;if(n){let d=t.tr.step(u);d.setSelection(Ue.create(d.doc,i)),n(d.scrollIntoView())}return!0}function Tu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const m7=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=ES(r)}let a=i&&i.nodeBefore;return!a||!He.isSelectable(a)?!1:(e&&e(t.tr.setSelection(He.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function ES(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function p7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const g7=(t,e,n)=>{let r=p7(t,n);if(!r)return!1;let s=MS(r);if(!s)return!1;let i=s.nodeAfter;if(w7(t,s,e,1))return!0;if(r.parent.content.size==0&&(Tu(i,"start")||He.isSelectable(i))){let a=Lx(t.doc,r.before(),r.after(),ke.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Tu(i,"start")?Qe.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):He.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},x7=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=MS(r)}let a=i&&i.nodeAfter;return!a||!He.isSelectable(a)?!1:(e&&e(t.tr.setSelection(He.create(t.doc,i.pos)).scrollIntoView()),!0)};function MS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Bpe=(t,e)=>{let n=t.selection,r=n instanceof He,s;if(r){if(n.node.isTextblock||!Io(t.doc,n.from))return!1;s=n.from}else if(s=Ix(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(He.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},Hpe=(t,e)=>{let n=t.selection,r;if(n instanceof He){if(n.node.isTextblock||!Io(t.doc,n.to))return!1;r=n.to}else if(r=Ix(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Upe=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Gu(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},y7=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function PS(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Wpe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=PS(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Qe.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},b7=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof ns||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=PS(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(a,i.createAndFill());l.setSelection(Ue.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},v7=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(da(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Gu(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function qpe(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof He&&e.selection.node.isBlock)return!r.parentOffset||!da(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,c=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),l=PS(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(c&&l?{type:l}:null),a=g;break}else{if(g==1)return!1;i.unshift(null)}let d=e.tr;(e.selection instanceof Ue||e.selection instanceof ns)&&d.deleteSelection();let f=d.mapping.map(r.pos),p=da(d.doc,f,i.length,i);if(p||(i[0]=l?{type:l}:null,p=da(d.doc,f,i.length,i)),!p)return!1;if(d.split(f,i.length,i),!c&&u&&r.node(a).type!=l){let g=d.mapping.map(r.before(a)),x=d.doc.resolve(g);l&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(a)),l)}return n&&n(d.scrollIntoView()),!0}}const Kpe=qpe(),Gpe=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(He.create(t.doc,s))),!0)};function Ype(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Io(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function w7(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&Ype(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let g=e.pos+i.nodeSize,x=he.empty;for(let w=a.length-1;w>=0;w--)x=he.from(a[w].create(null,x));x=he.from(s.copy(x));let v=t.tr.step(new Dn(e.pos-1,g,e.pos,g,new ke(x,1,0),a.length,!0)),b=v.doc.resolve(g+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&Io(v.doc,b.pos)&&v.join(b.pos),n(v.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&c?null:Qe.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&Gu(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&Tu(i,"start",!0)&&Tu(s,"end")){let g=s,x=[];for(;x.push(g),!g.isTextblock;)g=g.lastChild;let v=i,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,v.content)){if(n){let w=he.empty;for(let C=x.length-1;C>=0;C--)w=he.from(x[C].copy(w));let N=t.tr.step(new Dn(e.pos-x.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new ke(w,x.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function N7(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Ue.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const Xpe=N7(-1),Qpe=N7(1);function Jpe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),l=a&&SS(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function ZM(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(c,u)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let d=n.doc.resolve(u),f=d.index();s=d.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];i.setBlockType(l,c,t,e)}r(i.scrollIntoView())}return!0}}function AS(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}AS(TS,h7,m7);AS(TS,g7,x7);AS(y7,b7,v7,Kpe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Zpe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return ege(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function ege(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);i=new l0(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new l0(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=SS(i,n,r,e);return l?(t&&tge(t,e,l,s,n),!0):!1}function tge(t,e,n,r,s){let i=he.empty;for(let d=n.length-1;d>=0;d--)i=he.from(n[d].type.create(n[d].attrs,i));t.step(new Dn(e.start-(r?2:0),e.end,e.start,e.end,new ke(i,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==s&&(a=d+1);let l=n.length-a,c=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,p=!0;d<f;d++,p=!1)!p&&da(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return t}function nge(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?rge(e,n,t,i):sge(e,n,i):!0:!1}}function rge(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new Dn(i-1,a,i,a,new ke(he.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new l0(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const l=Gu(r);if(l==null)return!1;s.lift(r,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return Io(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function sge(t,e,n){let r=t.tr,s=n.parent;for(let g=n.end,x=n.endIndex-1,v=n.startIndex;x>v;x--)g-=s.child(x).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(l?0:1),d+1,a.content.append(c?he.empty:he.from(s))))return!1;let f=i.pos,p=f+a.nodeSize;return r.step(new Dn(f-(l?1:0),p+(c?1:0),f+1,p-1,new ke((l?he.empty:he.from(s.copy(he.empty))).append(c?he.empty:he.from(s.copy(he.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function ige(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=he.from(u?t.create():null),f=new ke(he.from(t.create(null,he.from(l.type.create(null,d)))),u?3:1,0),p=i.start,g=i.end;n(e.tr.step(new Dn(p-(u?3:1),g,p,g,f,1,!0)).scrollIntoView())}return!0}}const Bn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Eu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let jw=null;const Zi=function(t,e,n){let r=jw||(jw=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},age=function(){jw=null},Jl=function(t,e,n,r){return n&&(eP(t,e,n,r,-1)||eP(t,e,n,r,1))},oge=/^(img|br|input|textarea|hr)$/i;function eP(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:js(t))){let a=t.parentNode;if(!a||a.nodeType!=1||_f(t)||oge.test(t.nodeName)||t.contentEditable=="false")return!1;e=Bn(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?js(t):0}else return!1}}function js(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function lge(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=js(t)}else if(t.parentNode&&!_f(t))e=Bn(t),t=t.parentNode;else return null}}function cge(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!_f(t))e=Bn(t)+1,t=t.parentNode;else return null}}function uge(t,e,n){for(let r=e==0,s=e==js(t);r||s;){if(t==n)return!0;let i=Bn(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==js(t)}}function _f(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Fx=function(t){return t.focusNode&&Jl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function hl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function dge(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hge(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(js(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(js(r.startContainer),r.startOffset)}}}const ki=typeof navigator<"u"?navigator:null,tP=typeof document<"u"?document:null,Lo=ki&&ki.userAgent||"",Sw=/Edge\/(\d+)/.exec(Lo),j7=/MSIE \d/.exec(Lo),Cw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lo),zr=!!(j7||Cw||Sw),xo=j7?document.documentMode:Cw?+Cw[1]:Sw?+Sw[1]:0,ks=!zr&&/gecko\/(\d+)/i.test(Lo);ks&&+(/Firefox\/(\d+)/.exec(Lo)||[0,0])[1];const kw=!zr&&/Chrome\/(\d+)/.exec(Lo),On=!!kw,S7=kw?+kw[1]:0,lr=!zr&&!!ki&&/Apple Computer/.test(ki.vendor),Mu=lr&&(/Mobile\/\w+/.test(Lo)||!!ki&&ki.maxTouchPoints>2),Ns=Mu||(ki?/Mac/.test(ki.platform):!1),C7=ki?/Win/.test(ki.platform):!1,aa=/Android \d/.test(Lo),Df=!!tP&&"webkitFontSmoothing"in tP.documentElement.style,fge=Df?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function mge(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ui(t,e){return typeof t=="number"?t:t[e]}function pge(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function nP(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Eu(a);continue}let l=a,c=l==i.body,u=c?mge(i):pge(l),d=0,f=0;if(e.top<u.top+Ui(r,"top")?f=-(u.top-e.top+Ui(s,"top")):e.bottom>u.bottom-Ui(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Ui(s,"top")-u.top:e.bottom-u.bottom+Ui(s,"bottom")),e.left<u.left+Ui(r,"left")?d=-(u.left-e.left+Ui(s,"left")):e.right>u.right-Ui(r,"right")&&(d=e.right-u.right+Ui(s,"right")),d||f)if(c)i.defaultView.scrollBy(d,f);else{let g=l.scrollLeft,x=l.scrollTop;f&&(l.scrollTop+=f),d&&(l.scrollLeft+=d);let v=l.scrollLeft-g,b=l.scrollTop-x;e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b}}let p=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:Eu(a)}}function gge(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(i,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,s=c.top;break}}return{refDOM:r,refTop:s,stack:k7(t.dom)}}function k7(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Eu(r));return e}function xge({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;T7(n,r==0?0:r-e)}function T7(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let qc=null;function yge(t){if(t.setActive)return t.setActive();if(qc)return t.focus(qc);let e=k7(t);t.focus(qc==null?{get preventScroll(){return qc={preventScroll:!0},!0}}:void 0),qc||(qc=!1,T7(e,0))}function E7(t,e){let n,r=2e8,s,i=0,a=e.top,l=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Zi(d).getClientRects();else continue;for(let g=0;g<p.length;g++){let x=p[g];if(x.top<=a&&x.bottom>=l){a=Math.max(x.bottom,a),l=Math.min(x.top,l);let v=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(v<r){n=d,r=v,s=v&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&v&&(i=f+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!c&&x.left<=e.left&&x.right>=e.left&&(c=d,u={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(i=f+1)}}return!n&&c&&(n=c,s=u,r=0),n&&n.nodeType==3?bge(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:E7(n,s)}function bge(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=Ka(r,1);if(a.top!=a.bottom&&OS(e,a)){s={node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function OS(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function vge(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function wge(t,e,n){let{node:r,offset:s}=E7(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function Nge(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?s=l.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(s=l.posAfter),a=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function M7(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(OS(e,u))return M7(a,e,u)}}if((i=(i+1)%r)==s)break}return t}function jge(t,e){let n=t.dom.ownerDocument,r,s=0,i=hge(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!OS(e,u)||(a=M7(t.dom,e,u),!a))return null}if(lr)for(let u=a;r&&u;u=Eu(u))u.draggable&&(r=void 0);if(a=vge(a,e),r){if(ks&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let d=r.childNodes[s],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let u;Df&&s&&r.nodeType==1&&(u=r.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=Nge(t,r,s,e))}l==null&&(l=wge(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function rP(t){return t.top<t.bottom||t.left<t.right}function Ka(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(rP(r))return r}return Array.prototype.find.call(n,rP)||t.getBoundingClientRect()}const Sge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function P7(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=Df||ks;if(r.nodeType==3)if(a&&(Sge.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=Ka(Zi(r,s,s),n);if(ks&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=Ka(Zi(r,s-1,s-1),-1);if(u.top==c.top){let d=Ka(Zi(r,s,s+1),-1);if(d.top!=c.top)return Kd(d,d.left<u.left)}}return c}else{let c=s,u=s,d=n<0?1:-1;return n<0&&!s?(u++,d=-1):n>=0&&s==r.nodeValue.length?(c--,d=1):n<0?c--:u++,Kd(Ka(Zi(r,c,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==js(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return xv(c.getBoundingClientRect(),!1)}if(i==null&&s<js(r)){let c=r.childNodes[s];if(c.nodeType==1)return xv(c.getBoundingClientRect(),!0)}return xv(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==js(r))){let c=r.childNodes[s-1],u=c.nodeType==3?Zi(c,js(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Kd(Ka(u,1),!1)}if(i==null&&s<js(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?Zi(c,0,a?0:1):c.nodeType==1?c:null:null;if(u)return Kd(Ka(u,-1),!0)}return Kd(Ka(r.nodeType==3?Zi(r):r,-n),n>=0)}function Kd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function xv(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function A7(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function Cge(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return A7(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=P7(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Zi(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const kge=/[\u0590-\u08ac]/;function Tge(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,l=t.domSelection();return l?!kge.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:A7(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:v}=t.domSelectionRange(),b=x&&!g.contains(x.nodeType==1?x:x.parentNode)||c==x&&u==v;try{l.collapse(d,f),c&&(c!=d||u!=f)&&l.extend&&l.extend(c,u)}catch{}return p!=null&&(l.caretBidiLevel=p),b}):r.pos==r.start()||r.pos==r.end()}let sP=null,iP=null,aP=!1;function Ege(t,e,n){return sP==e&&iP==n?aP:(sP=e,iP=n,aP=n=="up"||n=="down"?Cge(t,e,n):Tge(t,e,n))}const Ts=0,oP=1,Nl=2,Ti=3;class If{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Ts,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Bn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let l=s.children[a];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>e||a instanceof _7){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof O7&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Bn(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Bn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,l=0;;l++){let c=this.children[l],u=a+c.size;if(s==-1&&e<=u){let d=a+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=a;for(let f=l;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=Bn(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Bn(f.dom);break}n+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let g=0,x=0;g<this.children.length;g++){let v=this.children[g],b=x+v.size;if(i>x&&a<b)return v.setSelection(e-x-v.border,n-x-v.border,r,s);x=b}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((ks||lr)&&e==n){let{node:g,offset:x}=l;if(g.nodeType==3){if(f=!!(x&&g.nodeValue[x-1]==`
`),f&&x==g.nodeValue.length)for(let v=g,b;v;v=v.parentNode){if(b=v.nextSibling){b.nodeName=="BR"&&(l=c={node:b.parentNode,offset:Bn(b)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=g.childNodes[x-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(ks&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||f&&lr)&&Jl(l.node,l.offset,d.anchorNode,d.anchorOffset)&&Jl(c.node,c.offset,d.focusNode,d.focusOffset))return;let p=!1;if((u.extend||e==n)&&!(f&&ks)){u.collapse(l.node,l.offset);try{e!=n&&u.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>n){let x=l;l=c,c=x}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+i.border,c=a-i.border;if(e>=l&&n<=c){this.dirty=e==r||n==a?Nl:oP,e==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ti:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Nl:Ti}r=a}this.dirty=Nl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Nl:oP;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class O7 extends If{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Ts&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Mge extends If{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Zl extends If{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=cc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Zl(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ti||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ti&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ts){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ts}}slice(e,n,r){let s=Zl.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Ew(i,n,a,r)),e>0&&(i=Ew(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class yo extends If{constructor(e,n,r,s,i,a,l,c,u){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,a){let l=i.nodeViews[n.type.name],c,u=l&&l(n,i,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,s),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=cc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=L7(d,r,n),u?c=new Pge(e,n,r,s,d,f||null,p,u,i,a+1):n.isText?new zx(e,n,r,s,d,p,i):new yo(e,n,r,s,d,f||null,p,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>he.empty)}return e}matchesNode(e,n,r){return this.dirty==Ts&&e.eq(this.node)&&u0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new Oge(this,a&&a.node,e);Ige(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?Tt.none:this.node.child(d).marks,r,e),c.placeWidget(u,e,s)},(u,d,f,p)=>{c.syncToMarks(u.marks,r,e);let g;c.findNodeMatch(u,d,f,p)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(g=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,d,f,g,e)||c.updateNextNode(u,d,f,e,p,s)||c.addNode(u,d,f,e,s),s+=u.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Nl)&&(a&&this.protectLocalComposition(e,a),D7(this.contentDOM,this.children,e),Mu&&Lge(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Ue)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=Rge(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new Mge(this,i,n,s);e.input.compositionNodes.push(a),this.children=Ew(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==Ti||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Ts}updateOuterDeco(e){if(u0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=I7(this.dom,this.nodeDOM,Tw(this.outerDeco,this.node,n),Tw(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function lP(t,e,n,r,s){L7(r,e,t);let i=new yo(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class zx extends yo{constructor(e,n,r,s,i,a,l){super(e,n,r,s,i,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Ti||this.dirty!=Ts&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ts||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Ts,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new zx(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ti)}get domAtom(){return!1}isText(e){return this.node.text==e}}class _7 extends If{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ts&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Pge extends yo{constructor(e,n,r,s,i,a,l,c,u,d){super(e,n,r,s,i,a,l,u,d),this.spec=c}update(e,n,r,s){if(this.dirty==Ti)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function D7(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=cP(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(a instanceof Zl){let c=r?r.previousSibling:t.lastChild;D7(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=cP(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Sh=function(t){t&&(this.nodeName=t)};Sh.prototype=Object.create(null);const jl=[new Sh];function Tw(t,e,n){if(t.length==0)return jl;let r=n?jl[0]:new Sh,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new Sh(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&s.length==1&&s.push(r=new Sh(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return s}function I7(t,e,n,r){if(n==jl&&r==jl)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let c;l&&l.nodeName==a.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=jl[0]),s=c}Age(s,l||jl[0],a)}return s}function Age(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function L7(t,e,n){return I7(t,t,jl,Tw(e,n,t.nodeType!=1))}function u0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function cP(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Oge{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=_ge(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Ts,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Zl.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==Ti&&a.dom==a.contentDOM&&(a.dirty=Nl),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof yo){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let d=c.dom,f,p=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Ti&&u0(n,c.outerDeco));if(!p&&c.update(e,n,r,s))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,e,n,r,s,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Nl,f.updateChildren(s,a+1),f.dirty=Ts),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!u0(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=yo.create(this.top,n,r,s,i,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let a=yo.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new O7(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Zl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof zx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((lr||On)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new _7(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function _ge(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Zl)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),a.push(l)}}return{index:s,matched:i,matches:a.reverse()}}function Dge(t,e){return t.type.side-e.type.side}function Ige(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,s,e.forChild(i,d),u),i+=d.nodeSize}return}let a=0,l=[],c=null;for(let u=0;;){let d,f;for(;a<s.length&&s[a].to==i;){let b=s[a++];b.widget&&(d?(f||(f=[d])).push(b):d=b)}if(d)if(f){f.sort(Dge);for(let b=0;b<f.length;b++)n(f[b],u,!!c)}else n(d,u,!!c);let p,g;if(c)g=-1,p=c,c=null;else if(u<t.childCount)g=u,p=t.child(u++);else break;for(let b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)l.push(s[a++]);let x=i+p.nodeSize;if(p.isText){let b=x;a<s.length&&s[a].from<b&&(b=s[a].from);for(let w=0;w<l.length;w++)l[w].to<b&&(b=l[w].to);b<x&&(c=p.cut(b-i),p=p.cut(0,b-i),x=b,g=-1)}else for(;a<s.length&&s[a].to<x;)a++;let v=p.isInline&&!p.isLeaf?l.filter(b=>!b.inline):l.slice();r(p,v,e.forChild(i,p),g),i=x}}function Lge(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Rge(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),l=i;if(i+=a.nodeSize,!a.isText)continue;let c=a.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?c.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function Ew(t,e,n,r,s){let i=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],u=l,d=l+=c.size;u>=n||d<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,r)),s&&(i.push(s),s=void 0),d>n&&i.push(c.slice(n-u,c.size,r)))}return i}function _S(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),c,u;if(Fx(n)){for(c=a;s&&!s.node;)s=s.parent;let f=s.node;if(s&&f.isAtom&&He.isSelectable(f)&&s.parent&&!(f.isInline&&uge(n.focusNode,n.focusOffset,s.dom))){let p=s.posBefore;u=new He(a==p?l:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,p=a;for(let g=0;g<n.rangeCount;g++){let x=n.getRangeAt(g);f=Math.min(f,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(f<0)return null;[c,a]=p==t.state.selection.anchor?[p,f]:[f,p],l=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;u=DS(t,d,l,f)}return u}function R7(t){return t.editable?t.hasFocus():z7(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ha(t,e=!1){let n=t.state.selection;if(F7(t,n),!!R7(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&On){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Jl(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)zge(t);else{let{anchor:r,head:s}=n,i,a;uP&&!(n instanceof Ue)&&(n.$from.parent.inlineContent||(i=dP(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=dP(t,n.to))),t.docView.setSelection(r,s,t,e),uP&&(i&&hP(i),a&&hP(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Fge(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const uP=lr||On&&S7<63;function dP(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(lr&&s&&s.contentEditable=="false")return yv(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return yv(s);if(i)return yv(i)}}function yv(t){return t.contentEditable="true",lr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function hP(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Fge(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!R7(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function zge(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Bn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&zr&&xo<=11&&(n.disabled=!0,n.disabled=!1)}function F7(t,e){if(e instanceof He){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(fP(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else fP(t)}function fP(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function DS(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Ue.between(e,n,r)}function mP(t){return t.editable&&!t.hasFocus()?!1:z7(t)}function z7(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Vge(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Jl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Mw(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Qe.findFrom(i,e)}function Ya(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function pP(t,e,n){let r=t.state.selection;if(r instanceof Ue)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Ya(t,new Ue(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Mw(t.state,e);return s&&s instanceof He?Ya(t,s):!1}else if(!(Ns&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?He.isSelectable(i)?Ya(t,new He(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Df?Ya(t,new Ue(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof He&&r.node.isInline)return Ya(t,new Ue(e>0?r.$to:r.$from));{let s=Mw(t.state,e);return s?Ya(t,s):!1}}}function d0(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ch(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Kc(t,e){return e<0?$ge(t):Bge(t)}function $ge(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(ks&&n.nodeType==1&&r<d0(n)&&Ch(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Ch(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(V7(n))break;{let l=n.previousSibling;for(;l&&Ch(l,-1);)s=n.parentNode,i=Bn(l),l=l.previousSibling;if(l)n=l,r=d0(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Pw(t,n,r):s&&Pw(t,s,i)}function Bge(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=d0(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Ch(l,1))i=n,a=++r;else break}else{if(V7(n))break;{let l=n.nextSibling;for(;l&&Ch(l,1);)i=l.parentNode,a=Bn(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=d0(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Pw(t,i,a)}function V7(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Hge(t,e){for(;t&&e==t.childNodes.length&&!_f(t);)e=Bn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Uge(t,e){for(;t&&!e&&!_f(t);)e=Bn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Pw(t,e,n){if(e.nodeType!=3){let i,a;(a=Hge(e,n))?(e=a,n=0):(i=Uge(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Fx(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ha(t)},50)}function gP(t,e){let n=t.state.doc.resolve(e);if(!(On||C7)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function xP(t,e,n){let r=t.state.selection;if(r instanceof Ue&&!r.empty||n.indexOf("s")>-1||Ns&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=Mw(t.state,e);if(a&&a instanceof He)return Ya(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,l=r instanceof ns?Qe.near(a,e):Qe.findFrom(a,e);return l?Ya(t,l):!1}return!1}function yP(t,e){if(!(t.state.selection instanceof Ue))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function bP(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Wge(t){if(!lr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;bP(t,r,"true"),setTimeout(()=>bP(t,r,"false"),20)}return!1}function qge(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Kge(t,e){let n=e.keyCode,r=qge(e);if(n==8||Ns&&n==72&&r=="c")return yP(t,-1)||Kc(t,-1);if(n==46&&!e.shiftKey||Ns&&n==68&&r=="c")return yP(t,1)||Kc(t,1);if(n==13||n==27)return!0;if(n==37||Ns&&n==66&&r=="c"){let s=n==37?gP(t,t.state.selection.from)=="ltr"?-1:1:-1;return pP(t,s,r)||Kc(t,s)}else if(n==39||Ns&&n==70&&r=="c"){let s=n==39?gP(t,t.state.selection.from)=="ltr"?1:-1:1;return pP(t,s,r)||Kc(t,s)}else{if(n==38||Ns&&n==80&&r=="c")return xP(t,-1,r)||Kc(t,-1);if(n==40||Ns&&n==78&&r=="c")return Wge(t)||xP(t,1,r)||Kc(t,1);if(r==(Ns?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function IS(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let a=t.someProp("clipboardSerializer")||cc.fromSchema(t.state.schema),l=q7(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=W7[u.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let x=l.createElement(d[g]);for(;c.firstChild;)x.appendChild(c.firstChild);c.appendChild(x),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function $7(t,e,n,r,s){let i=s.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=!!e&&(r||i||!n);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return l=new ke(he.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{l=p(l,t,!0)}),l;let f=t.someProp("clipboardTextParser",p=>p(e,s,r,t));if(f)l=f;else{let p=s.marks(),{schema:g}=t.state,x=cc.fromSchema(g);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=a.appendChild(document.createElement("p"));v&&b.appendChild(x.serializeNode(g.text(v,p)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=Qge(n),Df&&Jge(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||go.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Gge.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)l=Zge(vP(l,+d[1],+d[2]),d[4]);else if(l=ke.maxOpen(Yge(l.content,s),!0),l.openStart||l.openEnd){let f=0,p=0;for(let g=l.content.firstChild;f<l.openStart&&!g.type.spec.isolating;f++,g=g.firstChild);for(let g=l.content.lastChild;p<l.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);l=vP(l,f,p)}return t.someProp("transformPasted",f=>{l=f(l,t,c)}),l}const Gge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Yge(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(l=>{if(!a)return;let c=s.findWrapping(l.type),u;if(!c)return a=null;if(u=a.length&&i.length&&H7(c,i,l,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=U7(a[a.length-1],i.length));let d=B7(l,c);a.push(d),s=s.matchType(d.type),i=c}}),a)return he.from(a)}return t}function B7(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,he.from(t));return t}function H7(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=H7(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(he.from(B7(n,t,s+1))))}}function U7(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,U7(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(he.empty,!0);return t.copy(n.append(r))}function Aw(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(i=0),s<r-1&&(l=Aw(l,e,n,r,s+1,i)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(he.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function vP(t,e,n){return e<t.openStart&&(t=new ke(Aw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ke(Aw(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const W7={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wP=null;function q7(){return wP||(wP=document.implementation.createHTMLDocument("title"))}let bv=null;function Xge(t){let e=window.trustedTypes;return e?(bv||(bv=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),bv.createHTML(t)):t}function Qge(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=q7().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&W7[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=Xge(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function Jge(t){let e=t.querySelectorAll(On?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Zge(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;s=he.from(c.create(r[l+1],s)),i++,a++}return new ke(s,i,a)}const br={},vr={},e0e={touchstart:!0,touchmove:!0};class t0e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function n0e(t){for(let e in br){let n=br[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{s0e(t,r)&&!LS(t,r)&&(t.editable||!(r.type in vr))&&n(t,r)},e0e[e]?{passive:!0}:void 0)}lr&&t.dom.addEventListener("input",()=>null),Ow(t)}function co(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function r0e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Ow(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>LS(t,r))})}function LS(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function s0e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function i0e(t,e){!LS(t,e)&&br[e.type]&&(t.editable||!(e.type in vr))&&br[e.type](t,e)}vr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!G7(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(aa&&On&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Mu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,hl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Kge(t,n)?n.preventDefault():co(t,"key")};vr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};vr.keypress=(t,e)=>{let n=e;if(G7(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ns&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ue)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function Vx(t){return{left:t.clientX,top:t.clientY}}function a0e(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function RS(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,l=>a>i.depth?l(t,n,i.nodeAfter,i.before(a),s,!0):l(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function gu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function o0e(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&He.isSelectable(r)?(gu(t,new He(n)),!0):!1}function l0e(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof He&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if(He.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(gu(t,He.create(t.state.doc,s)),!0):!1}function c0e(t,e,n,r,s){return RS(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?l0e(t,n):o0e(t,n))}function u0e(t,e,n,r){return RS(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function d0e(t,e,n,r){return RS(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||h0e(t,n,r)}function h0e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(gu(t,Ue.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(a.inlineContent)gu(t,Ue.create(r,l+1,l+1+a.content.size));else if(He.isSelectable(a))gu(t,He.create(r,l));else continue;return!0}}function FS(t){return h0(t)}const K7=Ns?"metaKey":"ctrlKey";br.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=FS(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&a0e(n,t.input.lastClick)&&!n[K7]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(Vx(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new f0e(t,a,n,!!r)):(i=="doubleClick"?u0e:d0e)(t,a.pos,a.inside,n)?n.preventDefault():co(t,"pointer"))};class f0e{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[K7],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,a=d.depth?d.before():0}const l=s?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof He&&u.from<=a&&u.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ks&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),co(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ha(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Vx(e))),this.updateAllowDefault(e),this.allowDefault||!n?co(this.view,"pointer"):c0e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||lr&&this.mightDrag&&!this.mightDrag.node.isAtom||On&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gu(this.view,Qe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):co(this.view,"pointer")}move(e){this.updateAllowDefault(e),co(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}br.touchstart=t=>{t.input.lastTouch=Date.now(),FS(t),co(t,"pointer")};br.touchmove=t=>{t.input.lastTouch=Date.now(),co(t,"pointer")};br.contextmenu=t=>FS(t);function G7(t,e){return t.composing?!0:lr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const m0e=aa?5e3:-1;vr.compositionstart=vr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ue&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||On&&C7&&p0e(t)))t.markCursor=t.state.storedMarks||n.marks(),h0(t,!0),t.markCursor=null;else if(h0(t,!e.selection.empty),ks&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}Y7(t,m0e)};function p0e(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}vr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Y7(t,20))};function Y7(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>h0(t),e))}function X7(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=x0e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function g0e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=lge(e.focusNode,e.focusOffset),r=cge(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function x0e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function h0(t,e=!1){if(!(aa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),X7(t),e||t.docView&&t.docView.dirty){let n=_S(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function y0e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const af=zr&&xo<15||Mu&&fge<604;br.copy=vr.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=af?null:n.clipboardData,a=r.content(),{dom:l,text:c}=IS(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):y0e(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function b0e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function v0e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?of(t,r.value,null,s,e):of(t,r.textContent,r.innerHTML,s,e)},50)}function of(t,e,n,r,s){let i=$7(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||ke.empty)))return!0;if(!i)return!1;let a=b0e(i),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Q7(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}vr.paste=(t,e)=>{let n=e;if(t.composing&&!aa)return;let r=af?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&of(t,Q7(r),r.getData("text/html"),s,n)?n.preventDefault():v0e(t,n)};class J7{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const w0e=Ns?"altKey":"ctrlKey";function Z7(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[w0e]}br.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Vx(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof He?s.to-1:s.to))){if(r&&r.mightDrag)a=He.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=He.create(t.state.doc,f.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:u,slice:d}=IS(t,l);(!n.dataTransfer.files.length||!On||S7>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(af?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",af||n.dataTransfer.setData("text/plain",u),t.dragging=new J7(d,Z7(t,n),a)};br.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};vr.dragover=vr.dragenter=(t,e)=>e.preventDefault();vr.drop=(t,e)=>{try{N0e(t,e,t.dragging)}finally{t.dragging=null}};function N0e(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Vx(e));if(!r)return;let s=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",g=>{i=g(i,t,!1)}):i=$7(t,Q7(e.dataTransfer),af?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&Z7(t,e));if(t.someProp("handleDrop",g=>g(t,e,i||ke.empty,a))){e.preventDefault();return}if(!i)return;e.preventDefault();let l=i?r7(t.state.doc,s.pos,i):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&He.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new He(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,v,b,w)=>g=w),c.setSelection(DS(t,p,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}br.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ha(t)},20))};br.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};br.beforeinput=(t,e)=>{if(On&&aa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,hl(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in vr)br[t]=vr[t];function lf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class f0{constructor(e,n){this.toDOM=e,this.spec=n||Il,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new _n(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof f0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&lf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class bo{constructor(e,n){this.attrs=e,this.spec=n||Il}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new _n(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof bo&&lf(this.attrs,e.attrs)&&lf(this.spec,e.spec)}static is(e){return e.type instanceof bo}destroy(){}}class zS{constructor(e,n){this.attrs=e,this.spec=n||Il}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new _n(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof zS&&lf(this.attrs,e.attrs)&&lf(this.spec,e.spec)}destroy(){}}class _n{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new _n(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new _n(e,e,new f0(n,r))}static inline(e,n,r,s){return new _n(e,n,new bo(r,s))}static node(e,n,r,s){return new _n(e,n,new zS(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof bo}get widget(){return this.type instanceof f0}}const Xc=[],Il={};class Pt{constructor(e,n){this.local=e.length?e:Xc,this.children=n.length?n:Xc}static create(e,n){return n.length?m0(n,e,0,Il):nr}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==nr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Il)}mapInner(e,n,r,s,i){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,s);c&&c.type.valid(n,c)?(a||(a=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?j0e(this.children,a||[],e,n,r,s,i):a?new Pt(a.sort(Ll),Xc):nr}add(e,n){return n.length?this==nr?Pt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,c)=>{let u=c+r,d;if(d=tF(n,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,d,u+1):s.splice(i,0,c,c+l.nodeSize,m0(d,l,u+1,Il)),i+=3}});let a=eF(i?nF(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Pt(a.length?this.local.concat(a).sort(Ll):this.local,s||this.children)}remove(e){return e.length==0||this==nr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,c=r[i+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>l&&f.to<c&&(e[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(a,l+1);u!=nr?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let l=0;l<s.length;l++)s[l].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Pt(s,r):nr}forChild(e,n){if(this==nr)return this;if(n.isLeaf)return Pt.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>i&&c.type instanceof bo){let u=Math.max(i,c.from)-i,d=Math.min(a,c.to)-i;u<d&&(s||(s=[])).push(c.copy(u,d))}}if(s){let l=new Pt(s.sort(Ll),Xc);return r?new Za([l,r]):l}return r||nr}eq(e){if(this==e)return!0;if(!(e instanceof Pt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return VS(this.localsInner(e))}localsInner(e){if(this==nr)return Xc;if(e.inlineContent||!this.local.some(bo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof bo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=VS;const nr=Pt.empty;class Za{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Il));return Za.from(r)}forChild(e,n){if(n.isLeaf)return Pt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=nr&&(i instanceof Za?r=r.concat(i.members):r.push(i))}return Za.from(r)}eq(e){if(!(e instanceof Za)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?VS(r?n:n.sort(Ll)):Xc}static from(e){switch(e.length){case 0:return nr;case 1:return e[0];default:return new Za(e.every(n=>n instanceof Pt)?e:e.reduce((n,r)=>n.concat(r instanceof Pt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function j0e(t,e,n,r,s,i,a){let l=t.slice();for(let u=0,d=i;u<n.maps.length;u++){let f=0;n.maps[u].forEach((p,g,x,v)=>{let b=v-x-(g-p);for(let w=0;w<l.length;w+=3){let N=l[w+1];if(N<0||p>N+d-f)continue;let C=l[w]+d-f;g>=C?l[w+1]=p<=C?-2:-1:p>=d&&b&&(l[w]+=b,l[w+1]+=b)}f+=b}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(t[u]+i),f=d-s;if(f<0||f>=r.content.size){c=!0;continue}let p=n.map(t[u+1]+i,-1),g=p-s,{index:x,offset:v}=r.content.findIndex(f),b=r.maybeChild(x);if(b&&v==f&&v+b.nodeSize==g){let w=l[u+2].mapInner(n,b,d+1,t[u]+i+1,a);w!=nr?(l[u]=f,l[u+1]=g,l[u+2]=w):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=S0e(l,t,e,n,s,i,a),d=m0(u,r,0,a);e=d.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,p=0;f<d.children.length;f+=3){let g=d.children[f];for(;p<l.length&&l[p]<g;)p+=3;l.splice(p,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Pt(e.sort(Ll),l)}function eF(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new _n(s.from+e,s.to+e,s.type))}return n}function S0e(t,e,n,r,s,i,a){function l(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(r,s,u);f?n.push(f):a.onRemove&&a.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return n}function tF(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function nF(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function m0(t,e,n,r){let s=[],i=!1;e.forEach((l,c)=>{let u=tF(t,l,c+n);if(u){i=!0;let d=m0(u,l,n+c+1,r);d!=nr&&s.push(c,c+l.nodeSize,d)}});let a=eF(i?nF(t):t,-n).sort(Ll);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||s.length?new Pt(a,s):nr}function Ll(t,e){return t.from-e.from||t.to-e.to}function VS(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),NP(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),NP(e,s,r.copy(i.from,r.to)));break}}}return e}function NP(t,e,n){for(;e<t.length&&Ll(n,t[e])>0;)e++;t.splice(e,0,n)}function vv(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=nr&&e.push(r)}),t.cursorWrapper&&e.push(Pt.create(t.state.doc,[t.cursorWrapper.deco])),Za.from(e)}const C0e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},k0e=zr&&xo<=11;class T0e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class E0e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new T0e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);zr&&xo<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),k0e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,C0e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(mP(this.view)){if(this.suppressingSelectionUpdates)return ha(this.view);if(zr&&xo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Jl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Eu(i))n.add(i);for(let i=e.anchorNode;i;i=Eu(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&mP(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(i=i<0?f.from:Math.min(f.from,i),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(l=!0))}if(ks&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,p]=d;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of d){let g=p.parentNode;g&&g.nodeName=="LI"&&(!f||A0e(e,f)!=g)&&p.remove()}}}else if((On||lr)&&c.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of c)if(d.nodeName=="BR"&&d.parentNode){let f=d.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&d.parentNode.removeChild(d)}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Fx(r)&&(u=_S(e))&&u.eq(Qe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ha(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),M0e(e)),this.handleDOMChange(i,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ha(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(zr&&xo<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:p}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let a=s&&s.parentNode==e.target?Bn(s)+1:0,l=r.localPosFromDOM(e.target,a,-1),c=i&&i.parentNode==e.target?Bn(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let jP=new WeakMap,SP=!1;function M0e(t){if(!jP.has(t)&&(jP.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ks,SP)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),SP=!0}}function CP(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Jl(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function P0e(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return CP(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?CP(t,n):null}function A0e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function O0e(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],Fx(c)||u.push({node:c.focusNode,offset:c.focusOffset})),On&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let w=r.childNodes[b-1],N=w.pmViewDesc;if(w.nodeName=="BR"&&!N){i=b;break}if(!N||N.size)break}let f=t.state.doc,p=t.someProp("domParser")||go.fromSchema(t.state.schema),g=f.resolve(a),x=null,v=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:_0e,context:g});if(u&&u[0].pos!=null){let b=u[0].pos,w=u[1]&&u[1].pos;w==null&&(w=b),x={anchor:b+a,head:w+a}}return{doc:v,sel:x,from:a,to:l}}function _0e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(lr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||lr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const D0e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function I0e(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,T=_S(t,M);if(T&&!t.state.selection.eq(T)){if(On&&aa&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,hl(13,"Enter"))))return;let _=t.state.tr.setSelection(T);M=="pointer"?_.setMeta("pointer",!0):M=="key"&&_.scrollIntoView(),i&&_.setMeta("composition",i),t.dispatch(_)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,u=O0e(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let x=F0e(f.content,u.doc.content,u.from,p,g);if(x&&t.input.domChangeCount++,(Mu&&t.input.lastIOSEnter>Date.now()-225||aa)&&s.some(M=>M.nodeType==1&&!D0e.test(M.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",M=>M(t,hl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&c instanceof Ue&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))x={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let M=kP(t,t.state.doc,u.sel);if(M&&!M.eq(t.state.selection)){let T=t.state.tr.setSelection(M);i&&T.setMeta("composition",i),t.dispatch(T)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof Ue&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),zr&&xo<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>u.from&&u.doc.textBetween(x.start-u.from-1,x.start-u.from+1)==" "&&(x.start--,x.endA--,x.endB--);let v=u.doc.resolveNoCache(x.start-u.from),b=u.doc.resolveNoCache(x.endB-u.from),w=d.resolve(x.start),N=v.sameParent(b)&&v.parent.inlineContent&&w.end()>=x.endA;if((Mu&&t.input.lastIOSEnter>Date.now()-225&&(!N||s.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!N&&v.pos<u.doc.content.size&&(!v.sameParent(b)||!v.parent.inlineContent)&&v.pos<b.pos&&!/\S/.test(u.doc.textBetween(v.pos,b.pos,"","")))&&t.someProp("handleKeyDown",M=>M(t,hl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&R0e(d,x.start,x.endA,v,b)&&t.someProp("handleKeyDown",M=>M(t,hl(8,"Backspace")))){aa&&On&&t.domObserver.suppressSelectionUpdates();return}On&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),aa&&!N&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==x.endA&&(x.endB-=2,b=u.doc.resolveNoCache(x.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,hl(13,"Enter"))})},20));let C=x.start,P=x.endA,S=M=>{let T=M||t.state.tr.replace(C,P,u.doc.slice(x.start-u.from,x.endB-u.from));if(u.sel){let _=kP(t,T.doc,u.sel);_&&!(On&&t.composing&&_.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==C||_.head==T.mapping.map(P)-1)||zr&&_.empty&&_.head==C)&&T.setSelection(_)}return i&&T.setMeta("composition",i),T.scrollIntoView()},A;if(N)if(v.pos==b.pos){zr&&xo<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ha(t),20));let M=S(t.state.tr.delete(C,P)),T=d.resolve(x.start).marksAcross(d.resolve(x.endA));T&&M.ensureMarks(T),t.dispatch(M)}else if(x.endA==x.endB&&(A=L0e(v.parent.content.cut(v.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let M=S(t.state.tr);A.type=="add"?M.addMark(C,P,A.mark):M.removeMark(C,P,A.mark),t.dispatch(M)}else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let M=v.parent.textBetween(v.parentOffset,b.parentOffset),T=()=>S(t.state.tr.insertText(M,C,P));t.someProp("handleTextInput",_=>_(t,C,P,M,T))||t.dispatch(T())}else t.dispatch(S());else t.dispatch(S())}function kP(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:DS(t,e.resolve(n.anchor),e.resolve(n.head))}function L0e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,l,c;for(let d=0;d<r.length;d++)s=r[d].removeFromSet(s);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],a="add",c=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&i.length==1)l=i[0],a="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(he.from(u).eq(t))return{mark:l,type:a}}function R0e(t,e,n,r,s){if(n-e<=s.pos-r.pos||wv(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(wv(i,!0,!0));return!a.parent.isTextblock||a.pos>n||wv(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function wv(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function F0e(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&t.size<e.size){let c=r<=i&&r>=a?i-r:0;i-=c,i&&i<e.size&&TP(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-a),a=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<t.size&&TP(t.textBetween(i-1,i+1))&&(i+=c?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function TP(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class rF{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new t0e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(OP),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=PP(this),MP(this),this.nodeViews=AP(this),this.docView=lP(this.state.doc,EP(this),vv(this),this.dom,this),this.domObserver=new E0e(this,(r,s,i,a)=>I0e(this,r,s,i,a)),this.domObserver.start(),n0e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ow(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(OP),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(X7(this),a=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=AP(this);V0e(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Ow(this),this.editable=PP(this),MP(this);let c=vv(this),u=EP(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(s.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&gge(this);if(a){this.domObserver.stop();let g=f&&(zr||On)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&z0e(s.selection,e.selection);if(f){let x=On?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=g0e(this)),(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=lP(e.doc,u,c,this.dom,this)),x&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Vge(this))?ha(this,g):(F7(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&xge(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof He){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&nP(this,n.getBoundingClientRect(),e)}else nP(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new J7(e.slice,e.move,s<0?void 0:He.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(zr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&yge(this.dom),ha(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return jge(this,e)}coordsAtPos(e,n=1){return P7(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return Ege(this,n||this.state,e)}pasteHTML(e,n){return of(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return of(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return IS(this,e)}destroy(){this.docView&&(r0e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,age())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return i0e(this,e)}domSelectionRange(){let e=this.domSelection();return e?lr&&this.root.nodeType===11&&dge(this.dom.ownerDocument)==this.dom&&P0e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}rF.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function EP(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[_n.node(0,t.state.doc.content.size,e)]}function MP(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:_n.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function PP(t){return!t.someProp("editable",e=>e(t.state)===!1)}function z0e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function AP(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function V0e(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function OP(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Eo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$0e=typeof navigator<"u"&&/Mac/.test(navigator.platform),B0e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hn=0;Hn<10;Hn++)Eo[48+Hn]=Eo[96+Hn]=String(Hn);for(var Hn=1;Hn<=24;Hn++)Eo[Hn+111]="F"+Hn;for(var Hn=65;Hn<=90;Hn++)Eo[Hn]=String.fromCharCode(Hn+32),p0[Hn]=String.fromCharCode(Hn);for(var Nv in Eo)p0.hasOwnProperty(Nv)||(p0[Nv]=Eo[Nv]);function H0e(t){var e=$0e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||B0e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?p0:Eo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const U0e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),W0e=typeof navigator<"u"&&/Win/.test(navigator.platform);function q0e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))U0e?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function K0e(t){let e=Object.create(null);for(let n in t)e[q0e(n)]=t[n];return e}function jv(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function G0e(t){return new Ft({props:{handleKeyDown:$S(t)}})}function $S(t){let e=K0e(t);return function(n,r){let s=H0e(r),i,a=e[jv(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[jv(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(W0e&&r.ctrlKey&&r.altKey)&&(i=Eo[r.keyCode])&&i!=s){let l=e[jv(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var Y0e=Object.defineProperty,BS=(t,e)=>{for(var n in e)Y0e(t,n,{get:e[n],enumerable:!0})};function $x(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var Bx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>{const d=l(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a=[],l=!!t,c=t||s.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,p])=>[f,(...x)=>{const v=this.buildProps(c,e),b=p(...x)(v);return a.push(b),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a={tr:t,editor:r,view:i,state:$x({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}},sF={};BS(sF,{blur:()=>X0e,clearContent:()=>Q0e,clearNodes:()=>J0e,command:()=>Z0e,createParagraphNear:()=>exe,cut:()=>txe,deleteCurrentNode:()=>nxe,deleteNode:()=>rxe,deleteRange:()=>sxe,deleteSelection:()=>ixe,enter:()=>axe,exitCode:()=>oxe,extendMarkRange:()=>lxe,first:()=>cxe,focus:()=>dxe,forEach:()=>hxe,insertContent:()=>fxe,insertContentAt:()=>gxe,joinBackward:()=>bxe,joinDown:()=>yxe,joinForward:()=>vxe,joinItemBackward:()=>wxe,joinItemForward:()=>Nxe,joinTextblockBackward:()=>jxe,joinTextblockForward:()=>Sxe,joinUp:()=>xxe,keyboardShortcut:()=>kxe,lift:()=>Txe,liftEmptyBlock:()=>Exe,liftListItem:()=>Mxe,newlineInCode:()=>Pxe,resetAttributes:()=>Axe,scrollIntoView:()=>Oxe,selectAll:()=>_xe,selectNodeBackward:()=>Dxe,selectNodeForward:()=>Ixe,selectParentNode:()=>Lxe,selectTextblockEnd:()=>Rxe,selectTextblockStart:()=>Fxe,setContent:()=>zxe,setMark:()=>sye,setMeta:()=>iye,setNode:()=>aye,setNodeSelection:()=>oye,setTextDirection:()=>lye,setTextSelection:()=>cye,sinkListItem:()=>uye,splitBlock:()=>dye,splitListItem:()=>hye,toggleList:()=>fye,toggleMark:()=>mye,toggleNode:()=>pye,toggleWrap:()=>gye,undoInputRule:()=>xye,unsetAllMarks:()=>yye,unsetMark:()=>bye,unsetTextDirection:()=>vye,updateAttributes:()=>wye,wrapIn:()=>Nye,wrapInList:()=>jye});var X0e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Q0e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),J0e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),p=u.resolve(d.map(c+l.nodeSize)),g=f.blockRange(p);if(!g)return;const x=Gu(g);if(l.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(g.start,v)}(x||x===0)&&e.lift(g,x)})}),!0},Z0e=t=>e=>t(e),exe=()=>({state:t,dispatch:e})=>b7(t,e),txe=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new Ue(r.doc.resolve(Math.max(a-1,0)))),!0},nxe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1};function bn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var rxe=t=>({tr:e,state:n,dispatch:r})=>{const s=bn(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const c=i.before(a),u=i.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1},sxe=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},ixe=()=>({state:t,dispatch:e})=>TS(t,e),axe=()=>({commands:t})=>t.keyboardShortcut("Enter"),oxe=()=>({state:t,dispatch:e})=>Wpe(t,e);function HS(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function g0(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:HS(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function iF(t,e,n={}){return t.find(r=>r.type===e&&g0(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function _P(t,e,n={}){return!!iF(t,e,n)}function US(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!iF([...s.node.marks],e,n)))return;let a=s.index,l=t.start()+s.offset,c=a+1,u=l+s.node.nodeSize;for(;a>0&&_P([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&_P([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function Sa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var lxe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=Sa(t,r.schema),{doc:a,selection:l}=n,{$from:c,from:u,to:d}=l;if(s){const f=US(c,i,e);if(f&&f.from<=u&&f.to>=d){const p=Ue.create(a,f.from,f.to);n.setSelection(p)}}return!0},cxe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function aF(t){return t instanceof Ue}function Sl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function oF(t,e=null){if(!e)return null;const n=Qe.atStart(t),r=Qe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Ue.create(t,Sl(0,s,i),Sl(t.content.size,s,i)):Ue.create(t,Sl(e,s,i),Sl(e,s,i))}function uxe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function WS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var dxe=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(WS()||uxe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!aF(n.state.selection))return a(),!0;const l=oF(s.doc,t)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},hxe=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),fxe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),lF=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&lF(r)}return t};function kp(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return lF(n)}function cf(t,e,n){if(t instanceof po||t instanceof he)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return he.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),cf("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,l="";const c=new q8({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?go.fromSchema(c).parseSlice(kp(t),n.parseOptions):go.fromSchema(c).parse(kp(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=go.fromSchema(e);return n.slice?i.parseSlice(kp(t),n.parseOptions).content:i.parse(kp(t),n.parseOptions)}return cf("",e,n)}function mxe(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Pn||s instanceof Dn))return;const i=t.mapping.maps[r];let a=0;i.forEach((l,c,u,d)=>{a===0&&(a=d)}),t.setSelection(Qe.near(t.doc.resolve(a),n))}var pxe=t=>!("type"in t),gxe=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{cf(e,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){c(b)}try{l=cf(e,i.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(b){return c(b),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((pxe(l)?l:[l]).forEach(b=>{b.check(),p=p?b.isText&&b.marks.length===0:!1,g=g?b.isBlock:!1}),d===f&&g){const{parent:b}=r.doc.resolve(d);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(d-=1,f+=1)}let v;if(p){if(Array.isArray(e))v=e.map(b=>b.text||"").join("");else if(e instanceof he){let b="";e.forEach(w=>{w.text&&(b+=w.text)}),v=b}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,f)}else{v=l;const b=r.doc.resolve(d),w=b.node(),N=b.parentOffset===0,C=w.isText||w.isTextblock,P=w.content.size>0;N&&C&&P&&(d=Math.max(0,d-1)),r.replaceWith(d,f,v)}n.updateSelection&&mxe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},xxe=()=>({state:t,dispatch:e})=>Bpe(t,e),yxe=()=>({state:t,dispatch:e})=>Hpe(t,e),bxe=()=>({state:t,dispatch:e})=>h7(t,e),vxe=()=>({state:t,dispatch:e})=>g7(t,e),wxe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ix(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Nxe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ix(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},jxe=()=>({state:t,dispatch:e})=>Vpe(t,e),Sxe=()=>({state:t,dispatch:e})=>$pe(t,e);function cF(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Cxe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))WS()||cF()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var kxe=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=Cxe(t).split(/-(?!$)/),a=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const d=u.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function Mo(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?bn(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(f,p)=>{if(f.isText)return;const g=Math.max(r,p),x=Math.min(s,p+f.nodeSize);l.push({node:f,from:g,to:x})});const c=s-r,u=l.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>g0(f.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((f,p)=>f+p.to-p.from,0)>=c}var Txe=(t,e={})=>({state:n,dispatch:r})=>{const s=bn(t,n.schema);return Mo(n,s,e)?Upe(n,r):!1},Exe=()=>({state:t,dispatch:e})=>v7(t,e),Mxe=t=>({state:e,dispatch:n})=>{const r=bn(t,e.schema);return nge(r)(e,n)},Pxe=()=>({state:t,dispatch:e})=>y7(t,e);function Hx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function DP(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var Axe=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Hx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=bn(t,r.schema)),l==="mark"&&(a=Sa(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,f)=>{i&&i===d.type&&(c=!0,s&&n.setNodeMarkup(f,void 0,DP(d.attrs,e))),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&(c=!0,s&&n.addMark(f,f+d.nodeSize,a.create(DP(p.attrs,e))))})})}),c},Oxe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),_xe=()=>({tr:t,dispatch:e})=>{if(e){const n=new ns(t.doc);t.setSelection(n)}return!0},Dxe=()=>({state:t,dispatch:e})=>m7(t,e),Ixe=()=>({state:t,dispatch:e})=>x7(t,e),Lxe=()=>({state:t,dispatch:e})=>Gpe(t,e),Rxe=()=>({state:t,dispatch:e})=>Qpe(t,e),Fxe=()=>({state:t,dispatch:e})=>Xpe(t,e);function _w(t,e,n={},r={}){return cf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var zxe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:a,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const u=_w(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function uF(t,e){const n=Sa(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function dF(t,e){const n=new CS(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function Vxe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function $xe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function hF(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Ux(t){return e=>hF(e.$from,t)}function Ve(t,e,n){return t.config[e]===void 0&&t.parent?Ve(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ve(t.parent,e,n):null}):t.config[e]}function qS(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ve(e,"addExtensions",n);return r?[e,...qS(r())]:e}).flat(10)}function KS(t,e){const n=cc.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function fF(t){return typeof t=="function"}function bt(t,e=void 0,...n){return fF(t)?e?t.bind(e)(...n):t(...n):t}function Bxe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Pu(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function mF(t){const e=[],{nodeExtensions:n,markExtensions:r}=Pu(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:s},c=Ve(a,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([p,g])=>{e.push({type:f,name:p,attribute:{...i,...g}})})})})}),s.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=Ve(a,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const p={...i,...f};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,e.push({type:a.name,name:d,attribute:p})})}),e}function Ot(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=r[s]?r[s].split(" "):[],u=l.filter(d=>!c.includes(d));r[s]=[...c,...u].join(" ")}else if(s==="style"){const l=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[s]?r[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),l.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),r[s]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[s]=i}),r},{})}function x0(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ot(n,r),{})}function Hxe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function IP(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):Hxe(n.getAttribute(a.name));return l==null?i:{...i,[a.name]:l}},{});return{...r,...s}}}}function LP(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Bxe(n)?!1:n!=null))}function RP(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function Uxe(t,e){var n;const r=mF(t),{nodeExtensions:s,markExtensions:i}=Pu(t),a=(n=s.find(u=>Ve(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(s.map(u=>{const d=r.filter(w=>w.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((w,N)=>{const C=Ve(N,"extendNodeSchema",f);return{...w,...C?C(u):{}}},{}),g=LP({...p,content:bt(Ve(u,"content",f)),marks:bt(Ve(u,"marks",f)),group:bt(Ve(u,"group",f)),inline:bt(Ve(u,"inline",f)),atom:bt(Ve(u,"atom",f)),selectable:bt(Ve(u,"selectable",f)),draggable:bt(Ve(u,"draggable",f)),code:bt(Ve(u,"code",f)),whitespace:bt(Ve(u,"whitespace",f)),linebreakReplacement:bt(Ve(u,"linebreakReplacement",f)),defining:bt(Ve(u,"defining",f)),isolating:bt(Ve(u,"isolating",f)),attrs:Object.fromEntries(d.map(RP))}),x=bt(Ve(u,"parseHTML",f));x&&(g.parseDOM=x.map(w=>IP(w,d)));const v=Ve(u,"renderHTML",f);v&&(g.toDOM=w=>v({node:w,HTMLAttributes:x0(w,d)}));const b=Ve(u,"renderText",f);return b&&(g.toText=b),[u.name,g]})),c=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((b,w)=>{const N=Ve(w,"extendMarkSchema",f);return{...b,...N?N(u):{}}},{}),g=LP({...p,inclusive:bt(Ve(u,"inclusive",f)),excludes:bt(Ve(u,"excludes",f)),group:bt(Ve(u,"group",f)),spanning:bt(Ve(u,"spanning",f)),code:bt(Ve(u,"code",f)),attrs:Object.fromEntries(d.map(RP))}),x=bt(Ve(u,"parseHTML",f));x&&(g.parseDOM=x.map(b=>IP(b,d)));const v=Ve(u,"renderHTML",f);return v&&(g.toDOM=b=>v({mark:b,HTMLAttributes:x0(b,d)})),[u.name,g]}));return new q8({topNode:a,nodes:l,marks:c})}function Wxe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function GS(t){return t.sort((n,r)=>{const s=Ve(n,"priority")||100,i=Ve(r,"priority")||100;return s>i?-1:s<i?1:0})}function pF(t){const e=GS(qS(t)),n=Wxe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function gF(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,s,(c,u,d,f)=>{var p;c.isBlock&&u>r&&(l+=i);const g=a?.[c.type.name];if(g)return d&&(l+=g({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(l+=(p=c?.text)==null?void 0:p.slice(Math.max(r,u)-u,s-u))}),l}function qxe(t,e){const n={from:0,to:t.content.size};return gF(t,n,e)}function xF(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Kxe(t,e){const n=bn(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const a=i.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function yF(t,e){const n=Hx(typeof e=="string"?e:e.name,t.schema);return n==="node"?Kxe(t,e):n==="mark"?uF(t,e):{}}function Gxe(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function Yxe(t){const e=Gxe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function bF(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const u=e.slice(i).map(l,-1),d=e.slice(i).map(c),f=e.invert().map(u,-1),p=e.invert().map(d);r.push({oldRange:{from:f,to:p},newRange:{from:u,to:d}})})}),Yxe(r)}function YS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=US(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}var Xxe=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,a=null;for(;i>0&&a===null;){const l=s.node(i);l?.type.name===e?a=l:i-=1}return[a,i]};function Sv(t,e){return e.nodes[t]||e.marks[t]||null}function fg(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var Qxe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,l)=>{var c,u;const d=((u=(c=s.type.spec).toText)==null?void 0:u.call(c,{node:s,pos:i,parent:a,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,r-i))}),n};function Dw(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?Sa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>g0(f.attrs,n,{strict:!1}));let a=0;const l=[];if(s.forEach(({$from:f,$to:p})=>{const g=f.pos,x=p.pos;t.doc.nodesBetween(g,x,(v,b)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(g,b),N=Math.min(x,b+v.nodeSize),C=N-w;a+=C,l.push(...v.marks.map(P=>({mark:P,from:w,to:N})))})}),a===0)return!1;const c=l.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>g0(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),u=l.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+u:c)>=a}function Jxe(t,e,n={}){if(!e)return Mo(t,null,n)||Dw(t,null,n);const r=Hx(e,t.schema);return r==="node"?Mo(t,e,n):r==="mark"?Dw(t,e,n):!1}var Zxe=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=Ux(l=>l.type.name===e)(t.selection);if(!i)return!1;const a=t.doc.resolve(i.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},eye=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function FP(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function zP(t,e){const{nodeExtensions:n}=Pu(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=bt(Ve(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Wx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(Wx(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function vF(t){return t instanceof He}var wF=class NF{constructor(e){this.position=e}static fromJSON(e){return new NF(e.position)}toJSON(){return{position:this.position}}};function tye(t,e){const n=e.mapping.mapResult(t.position);return{position:new wF(n.pos),mapResult:n}}function nye(t){return new wF(t)}function rye(t,e,n){var r;const{selection:s}=e;let i=null;if(aF(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(d,f,p)=>{if(u)return!1;if(d.isInline){const g=!p||p.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=g&&x}return!u}),u})}var sye=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:l}=i,c=Sa(t,r.schema);if(s)if(a){const u=uF(r,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(p,g)=>{const x=Math.max(g,d),v=Math.min(g+p.nodeSize,f);p.marks.find(w=>w.type===c)?p.marks.forEach(w=>{c===w.type&&n.addMark(x,v,c.create({...w.attrs,...e}))}):n.addMark(x,v,c.create(e))})});return rye(r,n,c)},iye=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),aye=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=bn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>ZM(i,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>ZM(i,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},oye=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Sl(t,0,r.content.size),i=He.create(r,s);e.setSelection(i)}return!0},lye=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=i.from,l=i.to),s&&n.doc.nodesBetween(a,l,(c,u)=>{c.isText||n.setNodeMarkup(u,void 0,{...c.attrs,dir:t})}),!0},cye=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=Ue.atStart(r).from,l=Ue.atEnd(r).to,c=Sl(s,a,l),u=Sl(i,a,l),d=Ue.create(r,c,u);e.setSelection(d)}return!0},uye=t=>({state:e,dispatch:n})=>{const r=bn(t,e.schema);return ige(r)(e,n)};function VP(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var dye=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:l,$to:c}=i,u=s.extensionManager.attributes,d=fg(u,l.node().type.name,l.node().attrs);if(i instanceof He&&i.node.isBlock)return!l.parentOffset||!da(a,l.pos)?!1:(r&&(t&&VP(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:Vxe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=f&&p?[{type:p,attrs:d}]:void 0,x=da(e.doc,e.mapping.map(l.pos),1,g);if(!g&&!x&&da(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(x=!0,g=p?[{type:p,attrs:d}]:void 0),r){if(x&&(i instanceof Ue&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,g),p&&!f&&!l.parentOffset&&l.parent.type!==p)){const v=e.mapping.map(l.before()),b=e.doc.resolve(v);l.node(-1).canReplaceWith(b.index(),b.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&VP(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},hye=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const l=bn(t,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let w=he.empty;const N=c.index(-1)?1:c.index(-2)?2:3;for(let T=c.depth-N;T>=c.depth-3;T-=1)w=he.from(c.node(T).copy(w));const C=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,P={...fg(p,c.node().type.name,c.node().attrs),...e},S=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(P))||void 0;w=w.append(he.from(l.createAndFill(null,S)||void 0));const A=c.before(c.depth-(N-1));n.replace(A,c.after(-C),new ke(w,4-N,0));let M=-1;n.doc.nodesBetween(A,n.doc.content.size,(T,_)=>{if(M>-1)return!1;T.isTextblock&&T.content.size===0&&(M=_+1)}),M>-1&&n.setSelection(Ue.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const g=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,x={...fg(p,f.type.name,f.attrs),...e},v={...fg(p,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const b=g?[{type:l,attrs:x},{type:g,attrs:v}]:[{type:l,attrs:x}];if(!da(n.doc,c.pos,2))return!1;if(s){const{selection:w,storedMarks:N}=r,{splittableMarks:C}=i.extensionManager,P=N||w.$to.parentOffset&&w.$from.marks();if(n.split(c.pos,2,b).scrollIntoView(),!P||!s)return!0;const S=P.filter(A=>C.includes(A.type.name));n.ensureMarks(S)}return!0},Cv=(t,e)=>{const n=Ux(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Io(t.doc,n.pos)&&t.join(n.pos),!0},kv=(t,e)=>{const n=Ux(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Io(t.doc,r)&&t.join(r),!0},fye=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:p}=s.extensionManager,g=bn(t,a.schema),x=bn(e,a.schema),{selection:v,storedMarks:b}=a,{$from:w,$to:N}=v,C=w.blockRange(N),P=b||v.$to.parentOffset&&v.$from.marks();if(!C)return!1;const S=Ux(A=>zP(A.type.name,f))(v);if(C.depth>=1&&S&&C.depth-S.depth<=1){if(S.node.type===g)return u.liftListItem(x);if(zP(S.node.type.name,f)&&g.validContent(S.node.content)&&l)return c().command(()=>(i.setNodeMarkup(S.pos,g),!0)).command(()=>Cv(i,g)).command(()=>kv(i,g)).run()}return!n||!P||!l?c().command(()=>d().wrapInList(g,r)?!0:u.clearNodes()).wrapInList(g,r).command(()=>Cv(i,g)).command(()=>kv(i,g)).run():c().command(()=>{const A=d().wrapInList(g,r),M=P.filter(T=>p.includes(T.type.name));return i.ensureMarks(M),A?!0:u.clearNodes()}).wrapInList(g,r).command(()=>Cv(i,g)).command(()=>kv(i,g)).run()},mye=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=Sa(t,r.schema);return Dw(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},pye=(t,e,n={})=>({state:r,commands:s})=>{const i=bn(t,r.schema),a=bn(e,r.schema),l=Mo(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?s.setNode(a,c):s.setNode(i,{...c,...n})},gye=(t,e={})=>({state:n,commands:r})=>{const s=bn(t,n.schema);return Mo(n,s,e)?r.lift(s):r.wrapIn(s,e)},xye=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else a.delete(i.from,i.to)}return!0}}return!1},yye=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},bye=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=Sa(t,r.schema),{$from:u,empty:d,ranges:f}=l;if(!s)return!0;if(d&&a){let{from:p,to:g}=l;const x=(i=u.marks().find(b=>b.type===c))==null?void 0:i.attrs,v=US(u,c,x);v&&(p=v.from,g=v.to),n.removeMark(p,g,c)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},vye=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let i,a;return typeof t=="number"?(i=t,a=t):t&&"from"in t&&"to"in t?(i=t.from,a=t.to):(i=s.from,a=s.to),r&&e.doc.nodesBetween(i,a,(l,c)=>{if(l.isText)return;const u={...l.attrs};delete u.dir,e.setNodeMarkup(c,void 0,u)}),!0},wye=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Hx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=bn(t,r.schema)),l==="mark"&&(a=Sa(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;let p,g,x,v;n.selection.empty?r.doc.nodesBetween(d,f,(b,w)=>{i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b)}):r.doc.nodesBetween(d,f,(b,w)=>{w<d&&i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b),w>=d&&w<=f&&(i&&i===b.type&&(c=!0,s&&n.setNodeMarkup(w,void 0,{...b.attrs,...e})),a&&b.marks.length&&b.marks.forEach(N=>{if(a===N.type&&(c=!0,s)){const C=Math.max(w,d),P=Math.min(w+b.nodeSize,f);n.addMark(C,P,a.create({...N.attrs,...e}))}}))}),g&&(p!==void 0&&s&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(b=>{a===b.type&&s&&n.addMark(x,v,a.create({...b.attrs,...e}))}))}),c},Nye=(t,e={})=>({state:n,dispatch:r})=>{const s=bn(t,n.schema);return Jpe(s,e)(n,r)},jye=(t,e={})=>({state:n,dispatch:r})=>{const s=bn(t,n.schema);return Zpe(s,e)(n,r)},Sye=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},qx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Cye=(t,e)=>{if(HS(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Tp(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const f=Qxe(u)+i;return a.forEach(p=>{if(d)return;const g=Cye(f,p.find);if(!g)return;const x=c.state.tr,v=$x({state:c.state,transaction:x}),b={from:r-(g[0].length-i.length),to:s},{commands:w,chain:N,can:C}=new Bx({editor:n,state:v});p.handler({state:v,range:b,match:g,commands:w,chain:N,can:C})===null||!x.steps.length||(p.undoable&&x.setMeta(l,{transform:x,from:r,to:s,text:i}),c.dispatch(x),d=!0)}),d}function kye(t){const{editor:e,rules:n}=t,r=new Ft({state:{init(){return null},apply(s,i,a){const l=s.getMeta(r);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=KS(he.from(d),a.schema);const{from:f}=c,p=f+d.length;Tp({editor:e,from:f,to:p,text:d,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,l){return Tp({editor:e,from:i,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Tp({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Tp({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Tye(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ep(t){return Tye(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jF(t,e){const n={...t};return Ep(t)&&Ep(e)&&Object.keys(e).forEach(r=>{Ep(e[r])&&Ep(t[r])?n[r]=jF(t[r],e[r]):n[r]=e[r]}),n}var XS=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...bt(Ve(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...bt(Ve(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>jF(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ro=class SF extends XS{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new SF(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;const c=a.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Eye(t){return typeof t=="number"}var Mye=class{constructor(t){this.find=t.find,this.handler=t.handler}},Pye=(t,e,n)=>{if(HS(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Aye(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:u,can:d}=new Bx({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,s,(g,x)=>{var v,b,w,N,C;if((b=(v=g.type)==null?void 0:v.spec)!=null&&b.code||!(g.isText||g.isTextblock||g.isInline))return;const P=(C=(N=(w=g.content)==null?void 0:w.size)!=null?N:g.nodeSize)!=null?C:0,S=Math.max(r,x),A=Math.min(s,x+P);if(S>=A)return;const M=g.isText?g.text||"":g.textBetween(S-x,A-x,void 0,"");Pye(M,i.find,a).forEach(_=>{if(_.index===void 0)return;const I=S+_.index+1,D=I+_[0].length,R={from:n.tr.mapping.map(I),to:n.tr.mapping.map(D)},G=i.handler({state:n,range:R,match:_,commands:c,chain:u,can:d,pasteEvent:a,dropEvent:l});f.push(G)})}),f.every(g=>g!==null)}var Mp=null,Oye=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function _ye(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:f,to:p,rule:g,pasteEvt:x})=>{const v=d.tr,b=$x({state:d,transaction:v});if(!(!Aye({editor:e,state:b,from:Math.max(f-1,0),to:p.b-1,rule:g,pasteEvent:x,dropEvent:l})||!v.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Ft({view(f){const p=x=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(x.target)?f.dom.parentElement:null,r&&(Mp=e)},g=()=>{Mp&&(Mp=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(i=r===f.dom.parentElement,l=p,!i){const g=Mp;g?.isEditable&&setTimeout(()=>{const x=g.state.selection;x&&g.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(f,p)=>{var g;const x=(g=p.clipboardData)==null?void 0:g.getData("text/html");return a=p,s=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(f,p,g)=>{const x=f[0],v=x.getMeta("uiEvent")==="paste"&&!s,b=x.getMeta("uiEvent")==="drop"&&!i,w=x.getMeta("applyPasteRules"),N=!!w;if(!v&&!b&&!N)return;if(N){let{text:S}=w;typeof S=="string"?S=S:S=KS(he.from(S),g.schema);const{from:A}=w,M=A+S.length,T=Oye(S);return c({rule:d,state:g,from:A,to:{b:M},pasteEvt:T})}const C=p.doc.content.findDiffStart(g.doc.content),P=p.doc.content.findDiffEnd(g.doc.content);if(!(!Eye(C)||!P||C===P.b))return c({rule:d,state:g,from:C,to:P,pasteEvt:a})}}))}var Kx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=pF(t),this.schema=Uxe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Sv(e.name,this.schema)},r=Ve(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return GS([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Sv(r.name,this.schema)},i=[],a=Ve(r,"addKeyboardShortcuts",s);let l={};if(r.type==="mark"&&Ve(r,"exitable",s)&&(l.ArrowRight=()=>Ro.handleExit({editor:t,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([g,x])=>[g,()=>x({editor:t})]));l={...l,...p}}const c=G0e(l);i.push(c);const u=Ve(r,"addInputRules",s);if(FP(r,t.options.enableInputRules)&&u){const p=u();if(p&&p.length){const g=kye({editor:t,rules:p}),x=Array.isArray(g)?g:[g];i.push(...x)}}const d=Ve(r,"addPasteRules",s);if(FP(r,t.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const g=_ye({editor:t,rules:p});i.push(...g)}}const f=Ve(r,"addProseMirrorPlugins",s);if(f){const p=f();i.push(...p)}return i})}get attributes(){return mF(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Pu(this.extensions);return Object.fromEntries(e.filter(n=>!!Ve(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:bn(n.name,this.schema)},i=Ve(n,"addNodeView",s);if(!i)return[];const a=i();if(!a)return[];const l=(c,u,d,f,p)=>{const g=x0(c,r);return a({node:c,view:u,getPos:d,decorations:f,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Pu(this.extensions);return Object.fromEntries(e.filter(n=>!!Ve(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Sa(n.name,this.schema)},i=Ve(n,"addMarkView",s);if(!i)return[];const a=(l,c,u)=>{const d=x0(l,r);return i()({mark:l,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{Gye(l,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Sv(e.name,this.schema)};e.type==="mark"&&((n=bt(Ve(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=Ve(e,"onBeforeCreate",r),i=Ve(e,"onCreate",r),a=Ve(e,"onUpdate",r),l=Ve(e,"onSelectionUpdate",r),c=Ve(e,"onTransaction",r),u=Ve(e,"onFocus",r),d=Ve(e,"onBlur",r),f=Ve(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};Kx.resolve=pF;Kx.sort=GS;Kx.flatten=qS;var Dye={};BS(Dye,{ClipboardTextSerializer:()=>kF,Commands:()=>TF,Delete:()=>EF,Drop:()=>MF,Editable:()=>PF,FocusEvents:()=>OF,Keymap:()=>_F,Paste:()=>DF,Tabindex:()=>IF,TextDirection:()=>LF,focusEventsPluginKey:()=>AF});var St=class CF extends XS{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new CF(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},kF=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ft({key:new rn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),c=xF(n);return gF(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),TF=St.create({name:"commands",addCommands(){return{...sF}}}),EF=St.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var a,l,c,u;if((u=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const d=dF(t.before,[t,...e]);bF(d).forEach(g=>{d.mapping.mapResult(g.oldRange.from).deletedAfter&&d.mapping.mapResult(g.oldRange.to).deletedBefore&&d.before.nodesBetween(g.oldRange.from,g.oldRange.to,(x,v)=>{const b=v+x.nodeSize-2,w=g.oldRange.from<=v&&b<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:v,to:b,newFrom:d.mapping.map(v),newTo:d.mapping.map(b),deletedRange:g.oldRange,newRange:g.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((g,x)=>{var v,b;if(g instanceof Hs){const w=p.slice(x).map(g.from,-1),N=p.slice(x).map(g.to),C=p.invert().map(w,-1),P=p.invert().map(N),S=(v=d.doc.nodeAt(w-1))==null?void 0:v.marks.some(M=>M.eq(g.mark)),A=(b=d.doc.nodeAt(N))==null?void 0:b.marks.some(M=>M.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:C,to:P},newRange:{from:w,to:N},partial:!!(A||S),editor:this.editor,transaction:t,combinedTransform:d})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),MF=St.create({name:"drop",addProseMirrorPlugins(){return[new Ft({key:new rn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),PF=St.create({name:"editable",addProseMirrorPlugins(){return[new Ft({key:new rn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),AF=new rn("focusEvents"),OF=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ft({key:AF,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),_F=St.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:f}=c,{pos:p,parent:g}=f,x=f.parent.isTextblock&&p>0?l.doc.resolve(p-1):f,v=x.parent.type.spec.isolating,b=f.pos-f.parentOffset,w=v&&x.parent.childCount===1?b===f.pos:Qe.atStart(u).from===p;return!d||!g.type.isTextblock||g.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return WS()||cF()?i:s},addProseMirrorPlugins(){return[new Ft({key:new rn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),s=t.some(v=>v.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:l}=e.selection,c=Qe.atStart(e.doc).from,u=Qe.atEnd(e.doc).to;if(i||!(a===c&&l===u)||!Wx(n.doc))return;const p=n.tr,g=$x({state:n,transaction:p}),{commands:x}=new Bx({editor:this.editor,state:g});if(x.clearNodes(),!!p.steps.length)return p}})]}}),DF=St.create({name:"paste",addProseMirrorPlugins(){return[new Ft({key:new rn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),IF=St.create({name:"tabindex",addProseMirrorPlugins(){return[new Ft({key:new rn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),LF=St.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Pu(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ft({key:new rn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Iye=class Qc{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Qc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Qc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Qc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!s&&l.depth<=this.depth)return;const c=new Qc(l,this.editor,s,s?n:null);s&&(c.actualDepth=this.depth+1),e.push(new Qc(l,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(i[c]!==n[c])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(c=>n[c]===a.node.attrs[c])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Lye=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Rye(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var Fye=class extends Sye{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:tye,createMappablePosition:nye},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=oF(e,this.options.autofocus);this.editorState=ou.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Rye(Lye,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=fF(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[PF,kF.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),TF,OF,_F,IF,MF,DF,EF,LF.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Kx(r,this)}createCommandManager(){this.commandManager=new Bx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=_w(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=_w(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new rF(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return yF(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return Jxe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return KS(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return qxe(this.state.doc,{blockSeparator:e,textSerializers:{...xF(this.schema),...n}})}get isEmpty(){return Wx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Iye(e,this)}get $doc(){return this.$pos(0)}};function Au(t){return new qx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=bt(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];if(a){const c=l.search(/\S/),u=n.from+l.indexOf(a),d=u+a.length;if(YS(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(v=>v===t.type&&v!==g.mark.type)).filter(g=>g.to>u).length)return null;d<n.to&&i.delete(d,n.to),u>n.from&&i.delete(n.from+c,u);const p=n.from+c+a.length;i.addMark(n.from+c,p,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function RF(t){return new qx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=bt(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let l=n.to;const c=t.type.create(s);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>l?d=l:l=d+r[1].length;const f=r[0][r[0].length-1];i.insertText(f,a+r[0].length-1),i.replaceWith(d,l,c)}else if(r[0]){const u=t.type.isInline?a:a-1;i.insert(u,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function Iw(t){return new qx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=bt(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function Ou(t){return new qx({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=bt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),u=c&&SS(c,t.type,i);if(!u)return null;if(a.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,x=p||f.$to.parentOffset&&f.$from.marks();if(x){const v=x.filter(b=>g.includes(b.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,i).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Io(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}var zye=t=>"touches"in t,Vye=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.touches[0];if(!c)return;const u=c.clientX-this.startX,d=c.clientY-this.startY;this.handleResize(u,d)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,c=this.element.offsetHeight;this.onCommit(l,c),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,s,i,a;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(a=t.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),s=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),s&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,zye(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,s=this.startHeight;const i=t.includes("right"),a=t.includes("left"),l=t.includes("bottom"),c=t.includes("top");return i?r=this.startWidth+e:a&&(r=this.startWidth-e),l?s=this.startHeight+n:c&&(s=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,t):{width:r,height:s}}applyConstraints(t,e,n){var r,s,i,a;if(!n){let u=Math.max(this.minSize.width,t),d=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(u=Math.min(this.maxSize.width,u)),(s=this.maxSize)!=null&&s.height&&(d=Math.min(this.maxSize.height,d)),{width:u,height:d}}let l=t,c=e;return l<this.minSize.width&&(l=this.minSize.width,c=l/this.aspectRatio),c<this.minSize.height&&(c=this.minSize.height,l=c*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&l>this.maxSize.width&&(l=this.maxSize.width,c=l/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&c>this.maxSize.height&&(c=this.maxSize.height,l=c*this.aspectRatio),{width:l,height:c}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function $ye(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof He){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var Bye={};BS(Bye,{createAtomBlockMarkdownSpec:()=>Hye,createBlockMarkdownSpec:()=>Uye,createInlineMarkdownSpec:()=>Kye,parseAttributes:()=>QS,parseIndentedBlocks:()=>Lw,renderNestedMarkdownContent:()=>ZS,serializeAttributes:()=>JS});function QS(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const u=s.map(d=>d.trim().slice(1));e.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,u,d])=>{var f;const p=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),g=n[p];g&&(e[u]=g.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function JS(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Hye(t){const{nodeName:e,name:n,parseAttributes:r=QS,serializeAttributes:s=JS,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{const p={...i,...d.attributes};return f.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const p=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(f=d.match(p))==null?void 0:f.index;return g!==void 0?g:-1},tokenize(d,f,p){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=d.match(g);if(!x)return;const v=x[1]||"",b=r(v);if(!a.find(N=>!(N in b)))return{type:e,raw:x[0],attributes:b}}},renderMarkdown:d=>{const f=u(d.attrs||{}),p=s(f),g=p?` {${p}}`:"";return`:::${c}${g} :::`}}}function Uye(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=QS,serializeAttributes:i=JS,defaultAttributes:a={},content:l="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const p={};return c.forEach(g=>{g in f&&(p[g]=f[g])}),p};return{parseMarkdown:(f,p)=>{let g;if(r){const v=r(f);g=typeof v=="string"?[{type:"text",text:v}]:v}else l==="block"?g=p.parseChildren(f.tokens||[]):g=p.parseInline(f.tokens||[]);const x={...a,...f.attributes};return p.createNode(e,x,g)},markdownTokenizer:{name:e,level:"block",start(f){var p;const g=new RegExp(`^:::${u}`,"m"),x=(p=f.match(g))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(f,p,g){var x;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=f.match(v);if(!b)return;const[w,N=""]=b,C=s(N);let P=1;const S=w.length;let A="";const M=/^:::([\w-]*)(\s.*)?/gm,T=f.slice(S);for(M.lastIndex=0;;){const _=M.exec(T);if(_===null)break;const I=_.index,D=_[1];if(!((x=_[2])!=null&&x.endsWith(":::"))){if(D)P+=1;else if(P-=1,P===0){const R=T.slice(0,I);A=R.trim();const G=f.slice(0,S+I+_[0].length);let U=[];if(A)if(l==="block")for(U=g.blockTokens(R),U.forEach(q=>{q.text&&(!q.tokens||q.tokens.length===0)&&(q.tokens=g.inlineTokens(q.text))});U.length>0;){const q=U[U.length-1];if(q.type==="paragraph"&&(!q.text||q.text.trim()===""))U.pop();else break}else U=g.inlineTokens(A);return{type:e,raw:G,attributes:C,content:A,tokens:U}}}}}},renderMarkdown:(f,p)=>{const g=d(f.attrs||{}),x=i(g),v=x?` {${x}}`:"",b=p.renderChildren(f.content||[],`

`);return`:::${u}${v}

${b}

:::`}}}function Wye(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,a]=r;e[s]=i||a,r=n.exec(t)}return e}function qye(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Kye(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=Wye,serializeAttributes:i=qye,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=t,u=n||e,d=p=>{if(!c)return p;const g={};return c.forEach(x=>{const v=typeof x=="string"?x:x.name,b=typeof x=="string"?void 0:x.skipIfDefault;if(v in p){const w=p[v];if(b!==void 0&&w===b)return;g[v]=w}}),g},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const x={...a,...p.attributes};if(l)return g.createNode(e,x);const v=r?r(p):p.content||"";return v?g.createNode(e,x,[g.createTextNode(v)]):g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(p){const g=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),x=p.match(g),v=x?.index;return v!==void 0?v:-1},tokenize(p,g,x){const v=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),b=p.match(v);if(!b)return;let w="",N="";if(l){const[,P]=b;N=P}else{const[,P,S]=b;N=P,w=S||""}const C=s(N.trim());return{type:e,raw:b[0],content:w.trim(),attributes:C}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=d(p.attrs||{}),v=i(x),b=v?` ${v}`:"";return l?`[${u}${b}]`:`[${u}${b}]${g}[/${u}]`}}}function Lw(t,e,n){var r,s,i,a;const l=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<l.length;){const p=l[d],g=p.match(e.itemPattern);if(!g){if(c.length>0)break;if(p.trim()===""){d+=1,u=`${u}${p}
`;continue}else return}const x=e.extractItemData(g),{indentLevel:v,mainContent:b}=x;u=`${u}${p}
`;const w=[b];for(d+=1;d<l.length;){const S=l[d];if(S.trim()===""){const M=l.slice(d+1).findIndex(I=>I.trim()!=="");if(M===-1)break;if((((s=(r=l[d+1+M].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>v){w.push(S),u=`${u}${S}
`,d+=1;continue}else break}if((((a=(i=S.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:a.length)||0)>v)w.push(S),u=`${u}${S}
`,d+=1;else break}let N;const C=w.slice(1);if(C.length>0){const S=C.map(A=>A.slice(v+f)).join(`
`);S.trim()&&(e.customNestedParser?N=e.customNestedParser(S):N=n.blockTokens(S))}const P=e.createToken(x,N);c.push(P)}if(c.length!==0)return{items:c,raw:u}}function ZS(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...a]=t.content,l=e.renderChildren([i]),c=[`${s}${l}`];return a&&a.length>0&&a.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(p=>p?e.indent(p):"").join(`
`);c.push(f)}}),c.join(`
`)}function Gye(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,a=t;s.descendants((l,c)=>{const u=i.mapping.map(c),d=i.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(g=>{if(g!==a)return!1;f=g}),!f)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==f.attrs[g]&&(p=!0)}),p){const g=t.type.create({...t.attrs,...n});i.removeMark(u,d,t.type),i.addMark(u,d,g)}}),i.docChanged&&e.view.dispatch(i)}var Ln=class FF extends XS{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new FF(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ec(t){return new Mye({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=bt(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];let u=n.to;if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(YS(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(b=>b===t.type&&b!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&a.delete(p,n.to),f>n.from&&a.delete(n.from+d,f),u=n.from+d+l.length,a.addMark(n.from+d,u,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:Yye,getOwnPropertySymbols:Xye}=Object,{hasOwnProperty:Qye}=Object.prototype;function Tv(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function Pp(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,a=i.get(n),l=i.get(r);if(a&&l)return a===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function Jye(t){return t?.[Symbol.toStringTag]}function $P(t){return Yye(t).concat(Xye(t))}const Zye=Object.hasOwn||((t,e)=>Qye.call(t,e));function uc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ebe="__v",tbe="__o",nbe="_owner",{getOwnPropertyDescriptor:BP,keys:HP}=Object;function rbe(t,e){return t.byteLength===e.byteLength&&y0(new Uint8Array(t),new Uint8Array(e))}function sbe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ibe(t,e){return t.byteLength===e.byteLength&&y0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function abe(t,e){return uc(t.getTime(),e.getTime())}function obe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lbe(t,e){return t===e}function UP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let a,l,c=0;for(;(a=i.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const p=a.value,g=l.value;if(n.equals(p[0],g[0],c,f,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const cbe=uc;function ube(t,e,n){const r=HP(t);let s=r.length;if(HP(e).length!==s)return!1;for(;s-- >0;)if(!zF(t,e,n,r[s]))return!1;return!0}function Gd(t,e,n){const r=$P(t);let s=r.length;if($P(e).length!==s)return!1;let i,a,l;for(;s-- >0;)if(i=r[s],!zF(t,e,n,i)||(a=BP(t,i),l=BP(e,i),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function dbe(t,e){return uc(t.valueOf(),e.valueOf())}function hbe(t,e){return t.source===e.source&&t.flags===e.flags}function WP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let a,l;for(;(a=i.next())&&!a.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function y0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function fbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function zF(t,e,n,r){return(r===nbe||r===tbe||r===ebe)&&(t.$$typeof||e.$$typeof)?!0:Zye(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const mbe="[object ArrayBuffer]",pbe="[object Arguments]",gbe="[object Boolean]",xbe="[object DataView]",ybe="[object Date]",bbe="[object Error]",vbe="[object Map]",wbe="[object Number]",Nbe="[object Object]",jbe="[object RegExp]",Sbe="[object Set]",Cbe="[object String]",kbe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Tbe="[object URL]",Ebe=Object.prototype.toString;function Mbe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:a,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:x}){return function(b,w,N){if(b===w)return!0;if(b==null||w==null)return!1;const C=typeof b;if(C!==typeof w)return!1;if(C!=="object")return C==="number"?l(b,w,N):C==="function"?i(b,w,N):!1;const P=b.constructor;if(P!==w.constructor)return!1;if(P===Object)return c(b,w,N);if(Array.isArray(b))return e(b,w,N);if(P===Date)return r(b,w,N);if(P===RegExp)return d(b,w,N);if(P===Map)return a(b,w,N);if(P===Set)return f(b,w,N);const S=Ebe.call(b);if(S===ybe)return r(b,w,N);if(S===jbe)return d(b,w,N);if(S===vbe)return a(b,w,N);if(S===Sbe)return f(b,w,N);if(S===Nbe)return typeof b.then!="function"&&typeof w.then!="function"&&c(b,w,N);if(S===Tbe)return g(b,w,N);if(S===bbe)return s(b,w,N);if(S===pbe)return c(b,w,N);if(kbe[S])return p(b,w,N);if(S===mbe)return t(b,w,N);if(S===xbe)return n(b,w,N);if(S===gbe||S===wbe||S===Cbe)return u(b,w,N);if(x){let A=x[S];if(!A){const M=Jye(b);M&&(A=x[M])}if(A)return A(b,w,N)}return!1}}function Pbe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:rbe,areArraysEqual:n?Gd:sbe,areDataViewsEqual:ibe,areDatesEqual:abe,areErrorsEqual:obe,areFunctionsEqual:lbe,areMapsEqual:n?Tv(UP,Gd):UP,areNumbersEqual:cbe,areObjectsEqual:n?Gd:ube,arePrimitiveWrappersEqual:dbe,areRegExpsEqual:hbe,areSetsEqual:n?Tv(WP,Gd):WP,areTypedArraysEqual:n?Tv(y0,Gd):y0,areUrlsEqual:fbe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=Pp(r.areArraysEqual),i=Pp(r.areMapsEqual),a=Pp(r.areObjectsEqual),l=Pp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:l})}return r}function Abe(t){return function(e,n,r,s,i,a,l){return t(e,n,l)}}function Obe({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const _be=Fo();Fo({strict:!0});Fo({circular:!0});Fo({circular:!0,strict:!0});Fo({createInternalComparator:()=>uc});Fo({strict:!0,createInternalComparator:()=>uc});Fo({circular:!0,createInternalComparator:()=>uc});Fo({circular:!0,createInternalComparator:()=>uc,strict:!0});function Fo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=Pbe(t),a=Mbe(i),l=n?n(a):Abe(a);return Obe({circular:e,comparator:a,createState:r,equals:l,strict:s})}var Ev={exports:{}},Mv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP;function Dbe(){if(qP)return Mv;qP=1;var t=rc(),e=M8();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Mv.useSyncExternalStoreWithSelector=function(u,d,f,p,g){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function w(A){if(!N){if(N=!0,C=A,A=p(A),g!==void 0&&v.hasValue){var M=v.value;if(g(M,A))return P=M}return P=A}if(M=P,r(C,A))return M;var T=p(A);return g!==void 0&&g(M,T)?(C=A,M):(C=A,P=T)}var N=!1,C,P,S=f===void 0?null:f;return[function(){return w(d())},S===null?void 0:function(){return w(S())}]},[d,f,p,g]);var b=s(u,x[0],x[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},Mv}var KP;function Ibe(){return KP||(KP=1,Ev.exports=Dbe()),Ev.exports}var Lbe=Ibe(),Rbe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Fbe=({contentComponent:t})=>{const e=P8.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function zbe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:eB.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var Vbe=class extends be.Component{constructor(t){var e;super(t),this.editorContentRef=be.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=zbe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:Rbe(e,this.editorContentRef),...n}),t?.contentComponent&&o.jsx(Fbe,{contentComponent:t.contentComponent})]})}},$be=k.forwardRef((t,e)=>{const n=be.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return be.createElement(Vbe,{key:n,innerRef:e,...t})}),Bbe=be.memo($be),Hbe=typeof window<"u"?k.useLayoutEffect:k.useEffect,Ube=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Wbe(t){var e;const[n]=k.useState(()=>new Ube(t.editor)),r=Lbe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:_be);return Hbe(()=>n.watch(t.editor),[t.editor,n]),k.useDebugValue(r),r}var qbe=!1,Rw=typeof window>"u",Kbe=Rw||!!(typeof window<"u"&&window.next),Gbe=class VF{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Rw||Kbe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new Fye(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)==null?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?VF.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Ybe(t={},e=[]){const n=k.useRef(t);n.current=t;const[r]=k.useState(()=>new Gbe(n)),s=P8.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return k.useDebugValue(s),k.useEffect(r.onRender(e)),Wbe({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var Xbe=k.createContext({editor:null});Xbe.Consumer;var Qbe=k.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Jbe=()=>k.useContext(Qbe);be.forwardRef((t,e)=>{const{onDragStart:n}=Jbe(),r=t.as||"div";return o.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});be.createContext({markViewContentRef:()=>{}});var b0=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},Zbe=/^\s*>\s$/,e1e=Ln.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return b0("blockquote",{...Ot(this.options.HTMLAttributes,t),children:b0("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const l=e.renderChildren([s]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ou({find:Zbe,type:this.type})]}}),t1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,n1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,r1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,s1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,i1e=Ro.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return b0("strong",{...Ot(this.options.HTMLAttributes,t),children:b0("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Au({find:t1e,type:this.type}),Au({find:r1e,type:this.type})]},addPasteRules(){return[ec({find:n1e,type:this.type}),ec({find:s1e,type:this.type})]}}),a1e=/(^|[^`])`([^`]+)`(?!`)$/,o1e=/(^|[^`])`([^`]+)`(?!`)/g,l1e=Ro.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Au({find:a1e,type:this.type})]},addPasteRules(){return[ec({find:o1e,type:this.type})]}}),Pv=4,c1e=/^```([a-z]+)?[\s\n]$/,u1e=/^~~~([a-z]+)?[\s\n]$/,d1e=Ln.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Pv,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ot(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Pv,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:d}=s,g=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>l+x).join(`
`);return c.replaceWith(u,d,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Pv,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;return i.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var c;const{pos:u}=i,d=i.start(),f=i.end(),g=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let x=0,v=0;const b=u-d;for(let A=0;A<g.length;A+=1){if(v+g[A].length>=b){x=A;break}v+=g[A].length+1}const N=((c=g[x].match(/^ */))==null?void 0:c[0])||"",C=Math.min(N.length,n);if(C===0)return!0;let P=d;for(let A=0;A<x;A+=1)P+=g[A].length+1;return l.delete(P,P+C),u-P<=C&&l.setSelection(Ue.create(l.doc,P)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(g=>{var x;const v=((x=g.match(/^ */))==null?void 0:x[0])||"",b=Math.min(v.length,n);return g.slice(b)}).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(Qe.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[Iw({find:c1e,type:this.type,getAttributes:t=>({language:t[1]})}),Iw({find:u1e,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ft({key:new rn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s?.mode;if(!n||!i)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ue.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),h1e=Ln.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),f1e=Ln.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ot(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&a){const f=c.filter(p=>l.includes(p.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),m1e=Ln.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ot(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Iw({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),p1e=Ln.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ot(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!$ye(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return vF(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(Ue.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(He.create(a.doc,c.pos)):a.setSelection(Ue.create(a.doc,c.pos));else{const d=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(a.insert(u,f),a.setSelection(Ue.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[RF({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),g1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,x1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,y1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,b1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,v1e=Ro.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ot(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Au({find:g1e,type:this.type}),Au({find:y1e,type:this.type})]},addPasteRules(){return[ec({find:x1e,type:this.type}),ec({find:b1e,type:this.type})]}});const w1e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",N1e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Fw="numeric",zw="ascii",Vw="alpha",kh="asciinumeric",ah="alphanumeric",$w="domain",$F="emoji",j1e="scheme",S1e="slashscheme",Av="whitespace";function C1e(t,e){return t in e||(e[t]=[]),e[t]}function Cl(t,e,n){e[Fw]&&(e[kh]=!0,e[ah]=!0),e[zw]&&(e[kh]=!0,e[Vw]=!0),e[kh]&&(e[ah]=!0),e[Vw]&&(e[ah]=!0),e[ah]&&(e[$w]=!0),e[$F]&&(e[$w]=!0);for(const r in e){const s=C1e(r,n);s.indexOf(t)<0&&s.push(t)}}function k1e(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Dr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Dr.groups={};Dr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Dr.groups;let s;return e&&e.j?s=e:(s=new Dr(e),n&&r&&Cl(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Dr.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,l=s.go(t);if(l?(a=new Dr,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Dr,i){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(k1e(a.t,r),n);Cl(i,c,r)}else n&&Cl(i,n,r);a.t=i}return s.j[t]=a,a}};const at=(t,e,n,r,s)=>t.ta(e,n,r,s),Yt=(t,e,n,r,s)=>t.tr(e,n,r,s),GP=(t,e,n,r,s)=>t.ts(e,n,r,s),ve=(t,e,n,r,s)=>t.tt(e,n,r,s),Xi="WORD",Bw="UWORD",BF="ASCIINUMERICAL",HF="ALPHANUMERICAL",uf="LOCALHOST",Hw="TLD",Uw="UTLD",mg="SCHEME",Jc="SLASH_SCHEME",e4="NUM",Ww="WS",t4="NL",Th="OPENBRACE",Eh="CLOSEBRACE",v0="OPENBRACKET",w0="CLOSEBRACKET",N0="OPENPAREN",j0="CLOSEPAREN",S0="OPENANGLEBRACKET",C0="CLOSEANGLEBRACKET",k0="FULLWIDTHLEFTPAREN",T0="FULLWIDTHRIGHTPAREN",E0="LEFTCORNERBRACKET",M0="RIGHTCORNERBRACKET",P0="LEFTWHITECORNERBRACKET",A0="RIGHTWHITECORNERBRACKET",O0="FULLWIDTHLESSTHAN",_0="FULLWIDTHGREATERTHAN",D0="AMPERSAND",I0="APOSTROPHE",L0="ASTERISK",Xa="AT",R0="BACKSLASH",F0="BACKTICK",z0="CARET",eo="COLON",n4="COMMA",V0="DOLLAR",ci="DOT",$0="EQUALS",r4="EXCLAMATION",vs="HYPHEN",Mh="PERCENT",B0="PIPE",H0="PLUS",U0="POUND",Ph="QUERY",s4="QUOTE",UF="FULLWIDTHMIDDLEDOT",i4="SEMI",ui="SLASH",Ah="TILDE",W0="UNDERSCORE",WF="EMOJI",q0="SYM";var qF=Object.freeze({__proto__:null,ALPHANUMERICAL:HF,AMPERSAND:D0,APOSTROPHE:I0,ASCIINUMERICAL:BF,ASTERISK:L0,AT:Xa,BACKSLASH:R0,BACKTICK:F0,CARET:z0,CLOSEANGLEBRACKET:C0,CLOSEBRACE:Eh,CLOSEBRACKET:w0,CLOSEPAREN:j0,COLON:eo,COMMA:n4,DOLLAR:V0,DOT:ci,EMOJI:WF,EQUALS:$0,EXCLAMATION:r4,FULLWIDTHGREATERTHAN:_0,FULLWIDTHLEFTPAREN:k0,FULLWIDTHLESSTHAN:O0,FULLWIDTHMIDDLEDOT:UF,FULLWIDTHRIGHTPAREN:T0,HYPHEN:vs,LEFTCORNERBRACKET:E0,LEFTWHITECORNERBRACKET:P0,LOCALHOST:uf,NL:t4,NUM:e4,OPENANGLEBRACKET:S0,OPENBRACE:Th,OPENBRACKET:v0,OPENPAREN:N0,PERCENT:Mh,PIPE:B0,PLUS:H0,POUND:U0,QUERY:Ph,QUOTE:s4,RIGHTCORNERBRACKET:M0,RIGHTWHITECORNERBRACKET:A0,SCHEME:mg,SEMI:i4,SLASH:ui,SLASH_SCHEME:Jc,SYM:q0,TILDE:Ah,TLD:Hw,UNDERSCORE:W0,UTLD:Uw,UWORD:Bw,WORD:Xi,WS:Ww});const Wi=/[a-z]/,Yd=new RegExp("\\p{L}","u"),Ov=new RegExp("\\p{Emoji}","u"),qi=/\d/,_v=/\s/,YP="\r",Dv=`
`,T1e="",E1e="",Iv="";let Ap=null,Op=null;function M1e(t=[]){const e={};Dr.groups=e;const n=new Dr;Ap==null&&(Ap=XP(w1e)),Op==null&&(Op=XP(N1e)),ve(n,"'",I0),ve(n,"{",Th),ve(n,"}",Eh),ve(n,"[",v0),ve(n,"]",w0),ve(n,"(",N0),ve(n,")",j0),ve(n,"<",S0),ve(n,">",C0),ve(n,"",k0),ve(n,"",T0),ve(n,"",E0),ve(n,"",M0),ve(n,"",P0),ve(n,"",A0),ve(n,"",O0),ve(n,"",_0),ve(n,"&",D0),ve(n,"*",L0),ve(n,"@",Xa),ve(n,"`",F0),ve(n,"^",z0),ve(n,":",eo),ve(n,",",n4),ve(n,"$",V0),ve(n,".",ci),ve(n,"=",$0),ve(n,"!",r4),ve(n,"-",vs),ve(n,"%",Mh),ve(n,"|",B0),ve(n,"+",H0),ve(n,"#",U0),ve(n,"?",Ph),ve(n,'"',s4),ve(n,"/",ui),ve(n,";",i4),ve(n,"~",Ah),ve(n,"_",W0),ve(n,"\\",R0),ve(n,"",UF);const r=Yt(n,qi,e4,{[Fw]:!0});Yt(r,qi,r);const s=Yt(r,Wi,BF,{[kh]:!0}),i=Yt(r,Yd,HF,{[ah]:!0}),a=Yt(n,Wi,Xi,{[zw]:!0});Yt(a,qi,s),Yt(a,Wi,a),Yt(s,qi,s),Yt(s,Wi,s);const l=Yt(n,Yd,Bw,{[Vw]:!0});Yt(l,Wi),Yt(l,qi,i),Yt(l,Yd,l),Yt(i,qi,i),Yt(i,Wi),Yt(i,Yd,i);const c=ve(n,Dv,t4,{[Av]:!0}),u=ve(n,YP,Ww,{[Av]:!0}),d=Yt(n,_v,Ww,{[Av]:!0});ve(n,Iv,d),ve(u,Dv,c),ve(u,Iv,d),Yt(u,_v,d),ve(d,YP),ve(d,Dv),Yt(d,_v,d),ve(d,Iv,d);const f=Yt(n,Ov,WF,{[$F]:!0});ve(f,"#"),Yt(f,Ov,f),ve(f,T1e,f);const p=ve(f,E1e);ve(p,"#"),Yt(p,Ov,f);const g=[[Wi,a],[qi,s]],x=[[Wi,null],[Yd,l],[qi,i]];for(let v=0;v<Ap.length;v++)Ua(n,Ap[v],Hw,Xi,g);for(let v=0;v<Op.length;v++)Ua(n,Op[v],Uw,Bw,x);Cl(Hw,{tld:!0,ascii:!0},e),Cl(Uw,{utld:!0,alpha:!0},e),Ua(n,"file",mg,Xi,g),Ua(n,"mailto",mg,Xi,g),Ua(n,"http",Jc,Xi,g),Ua(n,"https",Jc,Xi,g),Ua(n,"ftp",Jc,Xi,g),Ua(n,"ftps",Jc,Xi,g),Cl(mg,{scheme:!0,ascii:!0},e),Cl(Jc,{slashscheme:!0,ascii:!0},e),t=t.sort((v,b)=>v[0]>b[0]?1:-1);for(let v=0;v<t.length;v++){const b=t[v][0],N=t[v][1]?{[j1e]:!0}:{[S1e]:!0};b.indexOf("-")>=0?N[$w]=!0:Wi.test(b)?qi.test(b)?N[kh]=!0:N[zw]=!0:N[Fw]=!0,GP(n,b,b,N)}return GP(n,"localhost",uf,{ascii:!0}),n.jd=new Dr(q0),{start:n,tokens:Object.assign({groups:e},qF)}}function KF(t,e){const n=P1e(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let l=t,c=null,u=0,d=null,f=-1,p=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(f=0,p=0,d=l):f>=0&&(f+=n[a].length,p++),u+=n[a].length,i+=n[a].length,a++;i-=f,a-=p,u-=f,s.push({t:d.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function P1e(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Ua(t,e,n,r,s){let i;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new Dr(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new Dr(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function XP(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const df={defaultProtocol:"http",events:null,format:QP,formatHref:QP,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function a4(t,e=null){let n=Object.assign({},df);t&&(n=Object.assign(n,t instanceof a4?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}a4.prototype={o:df,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:df[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function QP(t){return t}function GF(t,e){this.t="token",this.v=t,this.tk=e}GF.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=df.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),c&&(a.target=c),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:s,attributes:a,content:i,eventListeners:f}}};function Gx(t,e){class n extends GF{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const JP=Gx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ZP=Gx("text"),A1e=Gx("nl"),_p=Gx("url",{isLink:!0,toHref(t=df.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==uf&&t[1].t===eo}}),ys=t=>new Dr(t);function O1e({groups:t}){const e=t.domain.concat([D0,L0,Xa,R0,F0,z0,V0,$0,vs,e4,Mh,B0,H0,U0,ui,q0,Ah,W0]),n=[I0,eo,n4,ci,r4,Mh,Ph,s4,i4,S0,C0,Th,Eh,w0,v0,N0,j0,k0,T0,E0,M0,P0,A0,O0,_0],r=[D0,I0,L0,R0,F0,z0,V0,$0,vs,Th,Eh,Mh,B0,H0,U0,Ph,ui,q0,Ah,W0],s=ys(),i=ve(s,Ah);at(i,r,i),at(i,t.domain,i);const a=ys(),l=ys(),c=ys();at(s,t.domain,a),at(s,t.scheme,l),at(s,t.slashscheme,c),at(a,r,i),at(a,t.domain,a);const u=ve(a,Xa);ve(i,Xa,u),ve(l,Xa,u),ve(c,Xa,u);const d=ve(i,ci);at(d,r,i),at(d,t.domain,i);const f=ys();at(u,t.domain,f),at(f,t.domain,f);const p=ve(f,ci);at(p,t.domain,f);const g=ys(JP);at(p,t.tld,g),at(p,t.utld,g),ve(u,uf,g);const x=ve(f,vs);ve(x,vs,x),at(x,t.domain,f),at(g,t.domain,f),ve(g,ci,p),ve(g,vs,x);const v=ve(g,eo);at(v,t.numeric,JP);const b=ve(a,vs),w=ve(a,ci);ve(b,vs,b),at(b,t.domain,a),at(w,r,i),at(w,t.domain,a);const N=ys(_p);at(w,t.tld,N),at(w,t.utld,N),at(N,t.domain,a),at(N,r,i),ve(N,ci,w),ve(N,vs,b),ve(N,Xa,u);const C=ve(N,eo),P=ys(_p);at(C,t.numeric,P);const S=ys(_p),A=ys();at(S,e,S),at(S,n,A),at(A,e,S),at(A,n,A),ve(N,ui,S),ve(P,ui,S);const M=ve(l,eo),T=ve(c,eo),_=ve(T,ui),I=ve(_,ui);at(l,t.domain,a),ve(l,ci,w),ve(l,vs,b),at(c,t.domain,a),ve(c,ci,w),ve(c,vs,b),at(M,t.domain,S),ve(M,ui,S),ve(M,Ph,S),at(I,t.domain,S),at(I,e,S),ve(I,ui,S);const D=[[Th,Eh],[v0,w0],[N0,j0],[S0,C0],[k0,T0],[E0,M0],[P0,A0],[O0,_0]];for(let R=0;R<D.length;R++){const[G,U]=D[R],q=ve(S,G);ve(A,G,q),ve(q,U,S);const z=ys(_p);at(q,e,z);const B=ys();at(q,n),at(z,e,z),at(z,n,B),at(B,e,z),at(B,n,B),ve(z,U,S),ve(B,U,S)}return ve(s,uf,N),ve(s,t4,A1e),{start:s,tokens:qF}}function _1e(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let l=t,c=null,u=null,d=0,f=null,p=-1;for(;s<r&&!(c=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(u=c||l.go(n[s].t));)c=null,l=u,l.accepts()?(p=0,f=l):p>=0&&p++,s++,d++;if(p<0)s-=d,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(Lv(ZP,e,a)),a=[]),s-=p,d-=p;const g=f.t,x=n.slice(s-d,s);i.push(Lv(g,e,x))}}return a.length>0&&i.push(Lv(ZP,e,a)),i}function Lv(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const D1e=typeof console<"u"&&console&&console.warn||(()=>{}),I1e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",It={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function L1e(){return Dr.groups={},It.scanner=null,It.parser=null,It.tokenQueue=[],It.pluginQueue=[],It.customSchemes=[],It.initialized=!1,It}function eA(t,e=!1){if(It.initialized&&D1e(`linkifyjs: already initialized - will not register custom scheme "${t}" ${I1e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);It.customSchemes.push([t,e])}function R1e(){It.scanner=M1e(It.customSchemes);for(let t=0;t<It.tokenQueue.length;t++)It.tokenQueue[t][1]({scanner:It.scanner});It.parser=O1e(It.scanner.tokens);for(let t=0;t<It.pluginQueue.length;t++)It.pluginQueue[t][1]({scanner:It.scanner,parser:It.parser});return It.initialized=!0,It}function o4(t){return It.initialized||R1e(),_1e(It.parser.start,t,KF(It.scanner.start,t))}o4.scan=KF;function YF(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new a4(n),s=o4(t),i=[];for(let a=0;a<s.length;a++){const l=s[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var l4="[\0- -\u2029]",F1e=new RegExp(l4),z1e=new RegExp(`${l4}$`),V1e=new RegExp(l4,"g");function $1e(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function B1e(t){return new Ft({key:new rn("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=e.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,l=dF(n.doc,[...e]);if(bF(l).forEach(({newRange:u})=>{const d=$xe(r.doc,u,g=>g.isTextblock);let f,p;if(d.length>1)f=d[0],p=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const g=r.doc.textBetween(u.from,u.to," "," ");if(!z1e.test(g))return;f=d[0],p=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&p){const g=p.split(F1e).filter(Boolean);if(g.length<=0)return!1;const x=g[g.length-1],v=f.pos+p.lastIndexOf(x);if(!x)return!1;const b=o4(x).map(w=>w.toObject(t.defaultProtocol));if(!$1e(b))return!1;b.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{YS(w.from,w.to,r.doc).some(N=>N.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function H1e(t){return new Ft({key:new rn("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let f=r.target;const p=[];for(;f.nodeName!=="DIV";)p.push(f),f=f.parentNode;l=p.find(g=>g.nodeName==="A")}if(!l)return a;const c=yF(e.state,t.type.name),u=(s=l?.href)!=null?s:c.href,d=(i=l?.target)!=null?i:c.target;l&&u&&(window.open(u,d),a=!0)}return a}}})}function U1e(t){return new Ft({key:new rn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:a}=i,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=YF(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||s!==void 0&&!s(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function al(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(V1e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var W1e=Ro.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){eA(t);return}eA(t.scheme,t.optionalSlashes)})},onDestroy(){L1e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!al(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!al(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!al(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ot(this.options.HTMLAttributes,t),0]:["a",Ot(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!al(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!al(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ec({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=YF(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!al(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(B1e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!al(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(H1e({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(U1e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),q1e=Object.defineProperty,K1e=(t,e)=>{for(var n in e)q1e(t,n,{get:e[n],enumerable:!0})},G1e="listItem",tA="textStyle",nA=/^\s*([-+*])\s$/,XF=Ln.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(G1e,this.editor.getAttributes(tA)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ou({find:nA,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ou({find:nA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(tA),editor:this.editor})),[t]}}),QF=Ln.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>ZS(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Y1e={};K1e(Y1e,{findListItemPos:()=>Lf,getNextListDepth:()=>c4,handleBackspace:()=>qw,handleDelete:()=>Kw,hasListBefore:()=>JF,hasListItemAfter:()=>X1e,hasListItemBefore:()=>ZF,listItemHasSubList:()=>ez,nextListIsDeeper:()=>tz,nextListIsHigher:()=>nz});var Lf=(t,e)=>{const{$from:n}=e.selection,r=bn(t,e.schema);let s=null,i=n.depth,a=n.pos,l=null;for(;i>0&&l===null;)s=n.node(i),s.type===r?l=i:(i-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},c4=(t,e)=>{const n=Lf(t,e);if(!n)return!1;const[,r]=Xxe(e,t,n.$pos.pos+4);return r},JF=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},ZF=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},ez=(t,e,n)=>{if(!n)return!1;const r=bn(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},qw=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Mo(t.state,e)&&JF(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((p,g)=>{p.type.name===e&&u.push({node:p,pos:g})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!Mo(t.state,e)||!eye(t.state))return!1;const r=Lf(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=ez(e,t.state,i);return ZF(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},tz=(t,e)=>{const n=c4(t,e),r=Lf(t,e);return!r||!n?!1:n>r.depth},nz=(t,e)=>{const n=c4(t,e),r=Lf(t,e);return!r||!n?!1:n<r.depth},Kw=(t,e)=>{if(!Mo(t.state,e)||!Zxe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:tz(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():nz(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},X1e=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},rz=St.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Kw(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Kw(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&qw(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&qw(t,n,r)&&(e=!0)}),e}}}}),rA=/^(\s*)(\d+)\.\s+(.*)$/,Q1e=/^\s/;function J1e(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(rA);if(!i)break;const[,a,l,c]=i,u=a.length;let d=c,f=n+1;const p=[s];for(;f<t.length;){const g=t[f];if(g.match(rA))break;if(g.trim()==="")p.push(g),d+=`
`,f+=1;else if(g.match(Q1e))p.push(g),d+=`
${g.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:p.join(`
`)}),r=f,n=f}return[e,r]}function sz(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const a=t[i];if(a.indent===e){const l=a.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const g=n.blockTokens(d);u.push(...g)}let f=i+1;const p=[];for(;f<t.length&&t[f].indent>e;)p.push(t[f]),f+=1;if(p.length>0){const g=Math.min(...p.map(v=>v.indent)),x=sz(p,g,n);u.push({type:"list",ordered:!0,start:p[0].number,items:x,raw:p.map(v=>v.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:u}),i=f}else i+=1}return s}function Z1e(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var eve="listItem",sA="textStyle",iA=/^(\d+)\.\s$/,iz=Ln.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ot(this.options.HTMLAttributes,n),0]:["ol",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?Z1e(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,a]=J1e(s);if(i.length===0)return;const l=sz(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eve,this.editor.getAttributes(sA)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ou({find:iA,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ou({find:iA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(sA)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),tve=/^\s*(\[([( |x])?\])\s$/,nve=Ln.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ot(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return ZS(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,p;l.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=n();if(typeof g!="number")return!1;const x=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...x?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{s.setAttribute(d,f)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,a),s.append(i,c),Object.entries(e).forEach(([d,f])=>{s.setAttribute(d,f)}),{dom:s,contentDOM:c,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[Ou({find:tve,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),rve=Ln.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ot(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const a=Lw(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(i)},s=Lw(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,a)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});St.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(XF.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(QF.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(rz.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(iz.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(nve.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(rve.configure(this.options.taskList)),t}});var sve=Ln.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ot(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ive=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ave=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,ove=Ro.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Au({find:ive,type:this.type})]},addPasteRules(){return[ec({find:ave,type:this.type})]}}),lve=Ln.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),az=Ro.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ot(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),cve=az;function uve(t={}){return new Ft({view(e){return new dve(e,t)}})}class dve{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let f=e.nodeBefore,p=e.nodeAfter;if(f||p){let g=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(g){let x=g.getBoundingClientRect(),v=f?x.bottom:x.top;f&&p&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;r={left:x.left,right:x.right,top:v-b,bottom:v+b}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:f.left-p,right:f.left+p,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),p=f.width/c.offsetWidth,g=f.height/c.offsetHeight;u=f.left-c.scrollLeft*p,d=f.top-c.scrollTop*g}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=r7(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Jt extends Qe{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Jt.valid(r)?new Jt(r):Qe.near(r)}content(){return ke.empty}eq(e){return e instanceof Jt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Jt(e.resolve(n.pos))}getBookmark(){return new u4(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!hve(e)||!fve(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Jt.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let c=e.doc.resolve(s);if(Jt.valid(c))return c}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!He.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let l=e.doc.resolve(s);if(Jt.valid(l))return l}return null}}}Jt.prototype.visible=!1;Jt.findFrom=Jt.findGapCursorFrom;Qe.jsonID("gapcursor",Jt);class u4{constructor(e){this.pos=e}map(e){return new u4(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Jt.valid(n)?new Jt(n):Qe.near(n)}}function oz(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function hve(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||oz(s.type))return!0;if(s.inlineContent)return!1}}return!0}function fve(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||oz(s.type))return!0;if(s.inlineContent)return!1}}return!0}function mve(){return new Ft({props:{decorations:yve,createSelectionBetween(t,e,n){return e.pos==n.pos&&Jt.valid(n)?new Jt(n):null},handleClick:gve,handleKeyDown:pve,handleDOMEvents:{beforeinput:xve}}})}const pve=$S({ArrowLeft:Dp("horiz",-1),ArrowRight:Dp("horiz",1),ArrowUp:Dp("vert",-1),ArrowDown:Dp("vert",1)});function Dp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof Ue){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=Jt.findGapCursorFrom(l,e,c);return u?(s&&s(r.tr.setSelection(new Jt(u))),!0):!1}}function gve(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Jt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&He.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Jt(r))),!0)}function xve(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Jt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=he.empty;for(let a=r.length-1;a>=0;a--)s=he.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new ke(s,0,0));return i.setSelection(Ue.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function yve(t){if(!(t.selection instanceof Jt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Pt.create(t.doc,[_n.widget(t.selection.head,e,{key:"gapcursor"})])}var K0=200,In=function(){};In.prototype.append=function(e){return e.length?(e=In.from(e),!this.length&&e||e.length<K0&&this.leafAppend(e)||this.length<K0&&e.leafPrepend(this)||this.appendInner(e)):this};In.prototype.prepend=function(e){return e.length?In.from(e).append(this):this};In.prototype.appendInner=function(e){return new bve(this,e)};In.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?In.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};In.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};In.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};In.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};In.from=function(e){return e instanceof In?e:e&&e.length?new lz(e):In.empty};var lz=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,l){for(var c=i;c<a;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,l){for(var c=i-1;c>=a;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=K0)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=K0)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(In);In.empty=new lz([]);var bve=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(In);const vve=500;class Vs{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,l,c,u=[],d=[];return this.items.forEach((f,p)=>{if(!f.step){s||(s=this.remapping(r,p+1),i=s.maps.length),i--,d.push(f);return}if(s){d.push(new di(f.map));let g=f.step.map(s.slice(i)),x;g&&a.maybeStep(g).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],u.push(new di(x,void 0,void 0,u.length+d.length))),i--,x&&s.appendMap(x,i)}else a.maybeStep(f.step);if(f.selection)return l=s?f.selection.map(s.slice(i)):f.selection,c=new Vs(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,r,s){let i=[],a=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),p=new di(e.mapping.maps[d],f,n),g;(g=c&&c.merge(p))&&(p=g,d?i.pop():l=l.slice(0,l.length-1)),i.push(p),n&&(a++,n=void 0),s||(c=p)}let u=a-r.depth;return u>Nve&&(l=wve(l,u),a-=u),new Vs(l.append(i),a)}remapping(e,n){let r=new rf;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Vs(this.items.append(e.map(n=>new di(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},s);let c=n;this.items.forEach(p=>{let g=i.getMirror(--c);if(g==null)return;a=Math.min(a,g);let x=i.maps[g];if(p.step){let v=e.steps[g].invert(e.docs[g]),b=p.selection&&p.selection.map(i.slice(c+1,g));b&&l++,r.push(new di(x,v,b))}else r.push(new di(x))},s);let u=[];for(let p=n;p<a;p++)u.push(new di(i.maps[p]));let d=this.items.slice(0,s).append(u).append(r),f=new Vs(d,l);return f.emptyItemCount()>vve&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,l)=>{if(l>=e)s.push(a),a.selection&&i++;else if(a.step){let c=a.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=a.selection&&a.selection.map(n.slice(r));d&&i++;let f=new di(u.invert(),c,d),p,g=s.length-1;(p=s.length&&s[g].merge(f))?s[g]=p:s.push(f)}}else a.map&&r--},this.items.length,0),new Vs(In.from(s.reverse()),i)}}Vs.empty=new Vs(In.empty,0);function wve(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class di{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new di(n.getMap().invert(),n,this.selection)}}}class Qa{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const Nve=20;function jve(t,e,n,r){let s=n.getMeta(Rl),i;if(s)return s.historyState;n.getMeta(kve)&&(t=new Qa(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Rl))return a.getMeta(Rl).redo?new Qa(t.done.addTransform(n,void 0,r,pg(e)),t.undone,aA(n.mapping.maps),t.prevTime,t.prevComposition):new Qa(t.done,t.undone.addTransform(n,void 0,r,pg(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Sve(n,t.prevRanges)),u=a?Rv(t.prevRanges,n.mapping):aA(n.mapping.maps);return new Qa(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,pg(e)),Vs.empty,u,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Qa(t.done.rebased(n,i),t.undone.rebased(n,i),Rv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Qa(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Rv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Sve(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function aA(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function Rv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function Cve(t,e,n){let r=pg(e),s=Rl.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),c=new Qa(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(Rl,{redo:n,historyState:c})}let Fv=!1,oA=null;function pg(t){let e=t.plugins;if(oA!=e){Fv=!1,oA=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Fv=!0;break}}return Fv}const Rl=new rn("history"),kve=new rn("closeHistory");function Tve(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ft({key:Rl,state:{init(){return new Qa(Vs.empty,Vs.empty,null,0,-1)},apply(e,n,r){return jve(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?uz:r=="historyRedo"?dz:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function cz(t,e){return(n,r)=>{let s=Rl.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=Cve(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const uz=cz(!1,!0),dz=cz(!0,!0);St.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ft({key:new rn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const a=i-s,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-r,u=l-c,d=l;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var Eve=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[uve(this.options)]}});St.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ft({key:new rn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return Pt.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(s>=u&&s<=u+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(s>=u&&s<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(_n.node(u,u+c.nodeSize,{class:this.options.className}))}),Pt.create(t,i)}}})]}});var Mve=St.create({name:"gapCursor",addProseMirrorPlugins(){return[mve()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=bt(Ve(t,"allowGapCursor",n)))!=null?e:null}}});St.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ft({key:new rn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,u=!a.isLeaf&&Wx(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const f=_n.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});s.push(f)}return this.options.includeChildren}),Pt.create(t,s)}}})]}});St.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ft({key:new rn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||vF(n.selection)||t.view.dragging?null:Pt.create(n.doc,[_n.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function lA({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Pve=St.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new rn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Ft({key:e,appendTransaction:(s,i,a)=>{const{doc:l,tr:c,schema:u}=a,d=e.getState(a),f=l.content.size,p=u.nodes[n];if(d)return c.insert(f,p.create())},state:{init:(s,i)=>{const a=i.tr.doc.lastChild;return!lA({node:a,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const a=s.doc.lastChild;return!lA({node:a,types:r})}}})]}}),Ave=St.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>uz(t,e),redo:()=>({state:t,dispatch:e})=>dz(t,e)}},addProseMirrorPlugins(){return[Tve(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Ove=St.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(i1e.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(e1e.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(XF.configure(this.options.bulletList)),this.options.code!==!1&&s.push(l1e.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(d1e.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(h1e.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Eve.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Mve.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(f1e.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(m1e.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Ave.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(p1e.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(v1e.configure(this.options.italic)),this.options.listItem!==!1&&s.push(QF.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(rz.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(W1e.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(iz.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(sve.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(ove.configure(this.options.strike)),this.options.text!==!1&&s.push(lve.configure(this.options.text)),this.options.underline!==!1&&s.push(az.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Pve.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),_ve=Ove,Dve=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Ive=Dve,Lve=20,hz=(t,e=0)=>{const n=[];return!t.children.length||e>Lve||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...hz(r,e+1))}),n},Rve=t=>{if(!t.children.length)return;const e=hz(t);e&&e.forEach(n=>{var r,s;const i=n.getAttribute("style"),a=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${a};${i}`)})},fz=Ro.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Rve(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Ot(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Fve=St.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),zve=St.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Vve=St.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),$ve=St.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Bve=St.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});St.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(Fve.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(zve.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Vve.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push($ve.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(Bve.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(fz.configure(this.options.textStyle)),t}});let Gw,Yw;if(typeof WeakMap<"u"){let t=new WeakMap;Gw=e=>t.get(e),Yw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Gw=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},Yw=(r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s)}var Zt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,c),right:Math.max(r,l),bottom:Math.max(i,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?i-1:this.map[a]}s=i}}static get(t){return Gw(t)||Yw(t,Hve(t))}};function Hve(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Uve(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=t.child(u);d++;for(let x=0;;x++){for(;s<r.length&&r[s]!=0;)s++;if(x==f.childCount)break;const v=f.child(x),{colspan:b,rowspan:w,colwidth:N}=v.attrs;for(let C=0;C<w;C++){if(C+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:w-C});break}const P=s+C*e;for(let S=0;S<b;S++){r[P+S]==0?r[P+S]=d:(i||(i=[])).push({type:"collision",row:u,pos:d,n:b-S});const A=N&&N[S];if(A){const M=(P+S)%e*2,T=a[M];T==null||T!=A&&a[M+1]==1?(a[M]=A,a[M+1]=1):T==A&&a[M+1]++}}}s+=b,d+=v.nodeSize}const p=(u+1)*e;let g=0;for(;s<p;)r[s++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:u,n:g}),d++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Zt(e,n,r,i);let c=!1;for(let u=0;!c&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(c=!0);return c&&Wve(l,a,t),l}function Uve(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let c=0;c<l.childCount;c++){const u=l.child(c);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const l=s.child(a);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function Wve(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const d=e[(s+u)%t.width*2];d!=null&&(!c.colwidth||c.colwidth[u]!=d)&&((l||(l=qve(c)))[u]=d)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function qve(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function cr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}const to=new rn("selectingCells");function tc(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Kve(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Js(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Yx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=tc(e.$head)||Gve(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Gve(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Xw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Yve(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function d4(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function mz(t,e,n){const r=t.node(-1),s=Zt.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}function nc(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function pz(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function Xve(t,e,n){const r=cr(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}var At=class Qi extends Qe{constructor(e,n=e){const r=e.node(-1),s=Zt.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),l=e.node(0),c=s.cellsInRect(a).filter(d=>d!=n.pos-i);c.unshift(n.pos-i);const u=c.map(d=>{const f=r.nodeAt(d);if(!f)throw new RangeError(`No cell with offset ${d} found`);const p=i+d+1;return new l7(l.resolve(p),l.resolve(p+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(Xw(r)&&Xw(s)&&d4(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Qi.rowSelection(r,s):i&&this.isColSelection()?Qi.colSelection(r,s):new Qi(r,s)}return Ue.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=Zt.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let c=s.top;c<s.bottom;c++){const u=[];for(let d=c*n.width+s.left,f=s.left;f<s.right;f++,d++){const p=n.map[d];if(i[p])continue;i[p]=!0;const g=n.findCell(p);let x=e.nodeAt(p);if(!x)throw new RangeError(`No cell with offset ${p} found`);const v=s.left-g.left,b=g.right-s.right;if(v>0||b>0){let w=x.attrs;if(v>0&&(w=nc(w,0,v)),b>0&&(w=nc(w,w.colspan-b,b)),g.left<s.left){if(x=x.type.createAndFill(w),!x)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else x=x.type.create(w,x.content)}if(g.top<s.top||g.bottom>s.bottom){const w={...x.attrs,rowspan:Math.min(g.bottom,s.bottom)-Math.max(g.top,s.top)};g.top<s.top?x=x.type.createAndFill(w):x=x.type.create(w,x.content)}u.push(x)}a.push(e.child(c).copy(he.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new ke(he.from(l),1,1)}replace(e,n=ke.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:l,$to:c}=s[a],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),a?ke.empty:n)}const i=Qe.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new ke(he.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Zt.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=Zt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.top<=l.top?(a.top>0&&(e=c.resolve(i+s.map[a.left])),l.bottom<s.height&&(n=c.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+s.map[l.left])),a.bottom<s.height&&(e=c.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new Qi(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Zt.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof Qi&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=Zt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.left<=l.left?(a.left>0&&(e=c.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(n=c.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(e=c.resolve(i+s.map[s.width*(a.top+1)-1]))),new Qi(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Qi(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Qi(e.resolve(n),e.resolve(r))}getBookmark(){return new Qve(this.$anchorCell.pos,this.$headCell.pos)}};At.prototype.visible=!1;Qe.jsonID("cell",At);var Qve=class gz{constructor(e,n){this.anchor=e,this.head=n}map(e){return new gz(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&d4(n,r)?new At(n,r):Qe.near(r,1)}};function Jve(t){if(!(t.selection instanceof At))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(_n.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Pt.create(t.doc,e)}function Zve({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function e2e({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function t2e(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof He&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=At.create(s,r.from);else if(a=="row"){const l=s.resolve(r.from+1);i=At.rowSelection(l,l)}else if(!n){const l=Zt.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];i=At.create(s,c+1,u)}}else r instanceof Ue&&Zve(r)?i=Ue.create(s,r.from):r instanceof Ue&&e2e(r)&&(i=Ue.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}const n2e=new rn("fix-tables");function xz(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,l=0;a<i;a++){const c=e.child(a);for(let u=l,d=Math.min(s,a+3);u<d;u++)if(t.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<s&&t.child(l).sameMarkup(c)?xz(t.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function yz(t,e){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=r2e(t,s,i,n))};return e?e.doc!=t.doc&&xz(e.doc,t.doc,0,r):t.doc.descendants(r),n}function r2e(t,e,n,r){const s=Zt.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let c=0;c<s.height;c++)i.push(0);for(let c=0;c<s.problems.length;c++){const u=s.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let p=0;p<f.rowspan;p++)i[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,nc(f,f.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let a,l;for(let c=0;c<i.length;c++)i[c]&&(a==null&&(a=c),l=c);for(let c=0,u=n+1;c<s.height;c++){const d=e.child(c),f=u+d.nodeSize,p=i[c];if(p>0){let g="cell";d.firstChild&&(g=d.firstChild.type.spec.tableRole);const x=[];for(let b=0;b<p;b++){const w=cr(t.schema)[g].createAndFill();w&&x.push(w)}const v=(c==0||a==c-1)&&l==c?u+1:f-1;r.insert(r.mapping.map(v),x)}u=f}return r.setMeta(n2e,{fixTables:!0})}function Mi(t){const e=t.selection,n=Yx(t),r=n.node(-1),s=n.start(-1),i=Zt.get(r);return{...e instanceof At?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function bz(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;Xve(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+s;if(s>0&&s<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,pz(u.attrs,s-e.colCount(c))),a+=u.attrs.rowspan-1}else{const c=i==null?cr(r.type.schema).cell:r.nodeAt(e.map[l+i]).type,u=e.positionAt(a,s,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}function s2e(t,e){if(!Js(t))return!1;if(e){const n=Mi(t);e(bz(t.tr,n,n.left))}return!0}function i2e(t,e){if(!Js(t))return!1;if(e){const n=Mi(t);e(bz(t.tr,n,n.right))}return!0}function a2e(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+s,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(s>0&&e.map[l-1]==c||s<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(i).map(r+c),null,nc(d,s-e.colCount(c)));else{const f=t.mapping.slice(i).map(r+c);t.delete(f,f+u.nodeSize)}a+=d.rowspan}}function o2e(t,e){if(!Js(t))return!1;if(e){const n=Mi(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;a2e(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Zt.get(i)}e(r)}return!0}function l2e(t,e,n){var r;const s=cr(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))===null||r===void 0?void 0:r.type)!=s)return!1;return!0}function vz(t,{map:e,tableStart:n,table:r},s){let i=n;for(let u=0;u<s;u++)i+=r.child(u).nodeSize;const a=[];let l=s>0?-1:0;l2e(e,r,s+l)&&(l=s==0||s==e.height?null:0);for(let u=0,d=e.width*s;u<e.width;u++,d++)if(s>0&&s<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],p=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...p,rowspan:p.rowspan+1}),u+=p.colspan-1}else{var c;const f=l==null?cr(r.type.schema).cell:(c=r.nodeAt(e.map[d+l*e.width]))===null||c===void 0?void 0:c.type,p=f?.createAndFill();p&&a.push(p)}return t.insert(i,cr(r.type.schema).row.create(null,a)),t}function c2e(t,e){if(!Js(t))return!1;if(e){const n=Mi(t);e(vz(t.tr,n,n.top))}return!0}function u2e(t,e){if(!Js(t))return!1;if(e){const n=Mi(t);e(vz(t.tr,n,n.bottom))}return!0}function d2e(t,{map:e,table:n,tableStart:r},s){let i=0;for(let u=0;u<s;u++)i+=n.child(u).nodeSize;const a=i+n.child(s).nodeSize,l=t.mapping.maps.length;t.delete(i+r,a+r);const c=new Set;for(let u=0,d=s*e.width;u<e.width;u++,d++){const f=e.map[d];if(!c.has(f)){if(c.add(f),s>0&&f==e.map[d-e.width]){const p=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p,rowspan:p.rowspan-1}),u+=p.colspan-1}else if(s<e.height&&f==e.map[d+e.width]){const p=n.nodeAt(f),g=p.attrs,x=p.type.create({...g,rowspan:p.attrs.rowspan-1},p.content),v=e.positionAt(s+1,u,n);t.insert(t.mapping.slice(l).map(r+v),x),u+=g.colspan-1}}}}function h2e(t,e){if(!Js(t))return!1;if(e){const n=Mi(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;d2e(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Zt.get(n.table)}e(r)}return!0}function cA(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function f2e({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,l=s+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}function uA(t,e){const n=t.selection;if(!(n instanceof At)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Mi(t),{map:s}=r;if(f2e(s,r))return!1;if(e){const i=t.tr,a={};let l=he.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const p=s.map[d*s.width+f],g=r.table.nodeAt(p);if(!(a[p]||!g))if(a[p]=!0,c==null)c=p,u=g;else{cA(g)||(l=l.append(g.content));const x=i.mapping.map(p+r.tableStart);i.delete(x,x+g.nodeSize)}}if(c==null||u==null)return!0;if(i.setNodeMarkup(c+r.tableStart,null,{...pz(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),l.size>0){const d=c+1+u.content.size,f=cA(u)?c+1:d;i.replaceWith(f+r.tableStart,d+r.tableStart,l)}i.setSelection(new At(i.doc.resolve(c+r.tableStart))),e(i)}return!0}function dA(t,e){const n=cr(t.schema);return m2e(({node:r})=>n[r.type.spec.tableRole])(t,e)}function m2e(t){return(e,n)=>{const r=e.selection;let s,i;if(r instanceof At){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{var a;if(s=Kve(r.$from),!s)return!1;i=(a=tc(r.$from))===null||a===void 0?void 0:a.pos}if(s==null||i==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=Mi(e),f=e.tr;for(let g=0;g<d.right-d.left;g++)c.push(u?{...l,colwidth:u&&u[g]?[u[g]]:null}:l);let p;for(let g=d.top;g<d.bottom;g++){let x=d.map.positionAt(g,d.left,d.table);g==d.top&&(x+=s.nodeSize);for(let v=d.left,b=0;v<d.right;v++,b++)v==d.left&&g==d.top||f.insert(p=f.mapping.map(x+d.tableStart,1),t({node:s,row:g,col:v}).createAndFill(c[b]))}f.setNodeMarkup(i,t({node:s,row:d.top,col:d.left}),c[0]),r instanceof At&&f.setSelection(new At(f.doc.resolve(r.$anchorCell.pos),p?f.doc.resolve(p):void 0)),n(f)}return!0}}function p2e(t,e){return function(n,r){if(!Js(n))return!1;const s=Yx(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof At?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&i.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function g2e(t){return function(e,n){if(!Js(e))return!1;if(n){const r=cr(e.schema),s=Mi(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=a.map(c=>s.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[c],r.cell,l[c].attrs);if(i.steps.length===0)for(let c=0;c<a.length;c++)i.setNodeMarkup(s.tableStart+a[c],r.header_cell,l[c].attrs);n(i)}return!0}}function hA(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function hf(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?g2e(t):function(n,r){if(!Js(n))return!1;if(r){const s=cr(n.schema),i=Mi(n),a=n.tr,l=hA("row",i,s),c=hA("column",i,s),u=(t==="column"?l:t==="row"&&c)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:i.map.height}:t=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,f=t=="column"?c?s.cell:s.header_cell:t=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(d).forEach(p=>{const g=p+i.tableStart,x=a.doc.nodeAt(g);x&&a.setNodeMarkup(g,f,x.attrs)}),r(a)}return!0}}hf("row",{useDeprecatedLogic:!0});hf("column",{useDeprecatedLogic:!0});const x2e=hf("cell",{useDeprecatedLogic:!0});function y2e(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function fA(t){return function(e,n){if(!Js(e))return!1;const r=y2e(Yx(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(Ue.between(s,Yve(s))).scrollIntoView())}return!0}}function b2e(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Ip(t,e){const n=t.selection;if(!(n instanceof At))return!1;if(e){const r=t.tr,s=cr(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new ke(s,0,0))}),r.docChanged&&e(r)}return!0}function v2e(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,l=[];if(i=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=Qw(cr(a).row,new ke(u,d,f)).content),l.push(u)}else if(i=="cell"||i=="header_cell")l.push(n||r?Qw(cr(a).row,new ke(e,n,r)).content:e);else return null;return w2e(a,l)}function w2e(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=i.child(a).attrs;for(let u=s;u<s+l;u++)n[u]=(n[u]||0)+c}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(he.empty),n[s]<r){const i=cr(t).cell.createAndFill(),a=[];for(let l=n[s];l<r;l++)a.push(i);e[s]=e[s].append(he.from(a))}return{height:e.length,width:r,rows:e}}function Qw(t,e){const n=t.createAndFill();return new CS(n).replace(0,n.content.size,e).doc}function N2e({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=i[l]||0,f=0;d<r;f++){let p=c.child(f%c.childCount);d+p.attrs.colspan>r&&(p=p.type.createChecked(nc(p.attrs,p.attrs.colspan,d+p.attrs.colspan-r),p.content)),u.push(p),d+=p.attrs.colspan;for(let g=1;g<p.attrs.rowspan;g++)i[l+g]=(i[l+g]||0)+p.attrs.colspan}a.push(he.from(u))}n=a,t=r}if(e!=s){const i=[];for(let a=0,l=0;a<s;a++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);a+f.attrs.rowspan>s&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,s-f.attrs.rowspan)},f.content)),c.push(f)}i.push(he.from(c))}n=i,e=s}return{width:t,height:e,rows:n}}function j2e(t,e,n,r,s,i,a){const l=t.doc.type.schema,c=cr(l);let u,d;if(s>e.width)for(let f=0,p=0;f<e.height;f++){const g=n.child(f);p+=g.nodeSize;const x=[];let v;g.lastChild==null||g.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=d||(d=c.header_cell.createAndFill());for(let b=e.width;b<s;b++)x.push(v);t.insert(t.mapping.slice(a).map(p-1+r),x)}if(i>e.height){const f=[];for(let x=0,v=(e.height-1)*e.width;x<Math.max(e.width,s);x++){const b=x>=e.width?!1:n.nodeAt(e.map[v+x]).type==c.header_cell;f.push(b?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const p=c.row.create(null,he.from(f)),g=[];for(let x=e.height;x<i;x++)g.push(p);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),g)}return!!(u||d)}function mA(t,e,n,r,s,i,a,l){if(a==0||a==e.height)return!1;let c=!1;for(let u=s;u<i;u++){const d=a*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){c=!0;const p=n.nodeAt(f),{top:g,left:x}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p.attrs,rowspan:a-g}),t.insert(t.mapping.slice(l).map(e.positionAt(a,x,n)),p.type.createAndFill({...p.attrs,rowspan:g+p.attrs.rowspan-a})),u+=p.attrs.colspan-1}}return c}function pA(t,e,n,r,s,i,a,l){if(a==0||a==e.width)return!1;let c=!1;for(let u=s;u<i;u++){const d=u*e.width+a,f=e.map[d];if(e.map[d-1]==f){c=!0;const p=n.nodeAt(f),g=e.colCount(f),x=t.mapping.slice(l).map(f+r);t.setNodeMarkup(x,null,nc(p.attrs,a-g,p.attrs.colspan-(a-g))),t.insert(x+p.nodeSize,p.type.createAndFill(nc(p.attrs,0,a-g))),u+=p.attrs.rowspan-1}}return c}function gA(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=Zt.get(i);const{top:l,left:c}=r,u=c+s.width,d=l+s.height,f=t.tr;let p=0;function g(){if(i=n?f.doc.nodeAt(n-1):f.doc,!i)throw new Error("No table found");a=Zt.get(i),p=f.mapping.maps.length}j2e(f,a,i,n,u,d,p)&&g(),mA(f,a,i,n,c,u,l,p)&&g(),mA(f,a,i,n,c,u,d,p)&&g(),pA(f,a,i,n,l,d,c,p)&&g(),pA(f,a,i,n,l,d,u,p)&&g();for(let x=l;x<d;x++){const v=a.positionAt(x,c,i),b=a.positionAt(x,u,i);f.replace(f.mapping.slice(p).map(v+n),f.mapping.slice(p).map(b+n),new ke(s.rows[x-l],0,0))}g(),f.setSelection(new At(f.doc.resolve(n+a.positionAt(l,c,i)),f.doc.resolve(n+a.positionAt(d-1,u-1,i)))),e(f)}const S2e=$S({ArrowLeft:Lp("horiz",-1),ArrowRight:Lp("horiz",1),ArrowUp:Lp("vert",-1),ArrowDown:Lp("vert",1),"Shift-ArrowLeft":Rp("horiz",-1),"Shift-ArrowRight":Rp("horiz",1),"Shift-ArrowUp":Rp("vert",-1),"Shift-ArrowDown":Rp("vert",1),Backspace:Ip,"Mod-Backspace":Ip,Delete:Ip,"Mod-Delete":Ip});function gg(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Lp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof At)return gg(n,r,Qe.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=wz(s,t,e);if(a==null)return!1;if(t=="horiz")return gg(n,r,Qe.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(a),c=mz(l,t,e);let u;return c?u=Qe.near(c,1):e<0?u=Qe.near(n.doc.resolve(l.before(-1)),-1):u=Qe.near(n.doc.resolve(l.after(-1)),1),gg(n,r,u)}}}function Rp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof At)a=i;else{const c=wz(s,t,e);if(c==null)return!1;a=new At(n.doc.resolve(c))}const l=mz(a.$headCell,t,e);return l?gg(n,r,new At(a.$anchorCell,l)):!1}}function C2e(t,e){const n=t.state.doc,r=tc(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new At(r))),!0):!1}function k2e(t,e,n){if(!Js(t.state))return!1;let r=v2e(n);const s=t.state.selection;if(s instanceof At){r||(r={width:1,height:1,rows:[he.from(Qw(cr(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),l=Zt.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=N2e(r,l.right-l.left,l.bottom-l.top),gA(t.state,t.dispatch,a,l,r),!0}else if(r){const i=Yx(t.state),a=i.start(-1);return gA(t.state,t.dispatch,a,Zt.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function T2e(t,e){var n;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=xA(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof At)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=tc(t.state.selection.$anchor))!=null&&((n=zv(t,e))===null||n===void 0?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(c,u){let d=zv(t,u);const f=to.getState(t.state)==null;if(!d||!d4(c,d))if(f)d=c;else return;const p=new At(c,d);if(f||!t.state.selection.eq(p)){const g=t.state.tr.setSelection(p);f&&g.setMeta(to,c.pos),t.dispatch(g)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),to.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(to,-1))}function l(c){const u=c,d=to.getState(t.state);let f;if(d!=null)f=t.state.doc.resolve(d);else if(xA(t,u.target)!=r&&(f=zv(t,e),!f))return a();f&&i(f,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function wz(t,e,n){if(!(t.state.selection instanceof Ue))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(s),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function xA(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function zv(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;let{inside:r,pos:s}=n;return r>=0&&tc(t.state.doc.resolve(r))||tc(t.state.doc.resolve(s))}var E2e=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Jw(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Jw(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Jw(t,e,n,r,s,i){let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let f=0,p=0;f<u.childCount;f++){const{colspan:g,colwidth:x}=u.child(f).attrs;for(let v=0;v<g;v++,p++){const b=s==p?i:x&&x[v],w=b?b+"px":"";if(a+=b||r,b||(l=!1),c)c.style.width!=w&&(c.style.width=w),c=c.nextSibling;else{const N=document.createElement("col");N.style.width=w,e.appendChild(N)}}}for(;c;){var d;const f=c.nextSibling;(d=c.parentNode)===null||d===void 0||d.removeChild(c),c=f}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const Zr=new rn("tableColumnResizing");function M2e({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=E2e,lastColumnResizable:s=!0}={}){const i=new Ft({key:Zr,state:{init(a,l){var c;const u=(c=i.spec)===null||c===void 0||(c=c.props)===null||c===void 0?void 0:c.nodeViews,d=cr(l.schema).table.name;return r&&u&&(u[d]=(f,p)=>new r(f,n,p)),new P2e(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=Zr.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{A2e(a,l,t,s)},mouseleave:a=>{O2e(a)},mousedown:(a,l)=>{_2e(a,l,e,n)}},decorations:a=>{const l=Zr.getState(a);if(l&&l.activeHandle>-1)return F2e(a,l.activeHandle)},nodeViews:{}}});return i}var P2e=class xg{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Zr);if(r&&r.setHandle!=null)return new xg(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new xg(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return Xw(e.doc.resolve(s))||(s=-1),new xg(s,n.dragging)}return n}};function A2e(t,e,n,r){if(!t.editable)return;const s=Zr.getState(t.state);if(s&&!s.dragging){const i=I2e(e.target);let a=-1;if(i){const{left:l,right:c}=i.getBoundingClientRect();e.clientX-l<=n?a=yA(t,e,"left",n):c-e.clientX<=n&&(a=yA(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),u=Zt.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}Nz(t,a)}}}function O2e(t){if(!t.editable)return;const e=Zr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&Nz(t,-1)}function _2e(t,e,n,r){var s;if(!t.editable)return!1;const i=(s=t.dom.ownerDocument.defaultView)!==null&&s!==void 0?s:window,a=Zr.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),c=D2e(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Zr,{setDragging:{startX:e.clientX,startWidth:c}}));function u(f){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",d);const p=Zr.getState(t.state);p?.dragging&&(L2e(t,p.activeHandle,bA(p.dragging,f,n)),t.dispatch(t.state.tr.setMeta(Zr,{setDragging:null})))}function d(f){if(!f.which)return u(f);const p=Zr.getState(t.state);if(p&&p.dragging){const g=bA(p.dragging,f,n);vA(t,p.activeHandle,g,r)}}return vA(t,a.activeHandle,c,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",d),e.preventDefault(),!0}function D2e(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let a=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function I2e(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function yA(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,l=tc(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const c=Zt.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function bA(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Nz(t,e){t.dispatch(t.state.tr.setMeta(Zr,{setHandle:e}))}function L2e(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=Zt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let u=0;u<i.height;u++){const d=u*i.width+l;if(u&&i.map[d]==i.map[d-i.width])continue;const f=i.map[d],p=s.nodeAt(f).attrs,g=p.colspan==1?0:l-i.colCount(f);if(p.colwidth&&p.colwidth[g]==n)continue;const x=p.colwidth?p.colwidth.slice():R2e(p.colspan);x[g]=n,c.setNodeMarkup(a+f,null,{...p,colwidth:x})}c.docChanged&&t.dispatch(c)}function vA(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),l=Zt.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let c=t.domAtPos(s.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&Jw(i,c.firstChild,c,r,l,n)}function R2e(t){return Array(t).fill(0)}function F2e(t,e){const n=[],r=t.doc.resolve(e),s=r.node(-1);if(!s)return Pt.empty;const i=Zt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<i.height;u++){const d=l+u*i.width;if((l==i.width-1||i.map[d]!=i.map[d+1])&&(u==0||i.map[d]!=i.map[d-i.width])){var c;const f=i.map[d],p=a+f+s.nodeAt(f).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",!((c=Zr.getState(t))===null||c===void 0)&&c.dragging&&n.push(_n.node(a+f,a+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),n.push(_n.widget(p,g))}}return Pt.create(t.doc,n)}function z2e({allowTableNodeSelection:t=!1}={}){return new Ft({key:to,state:{init(){return null},apply(e,n){const r=e.getMeta(to);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:Jve,handleDOMEvents:{mousedown:T2e},createSelectionBetween(e){return to.getState(e.state)!=null?e.state.selection:null},handleTripleClick:C2e,handleKeyDown:S2e,handlePaste:k2e},appendTransaction(e,n,r){return t2e(r,yz(r,n),t)}})}var jz=Ln.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),s=r?r.split(",").map(i=>parseInt(i,10)):null;if(!s){const i=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&i&&i[a]){const l=i[a].getAttribute("width");return l?[parseInt(l,10)]:null}}return s}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Ot(this.options.HTMLAttributes,t),0]}}),Sz=Ln.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Ot(this.options.HTMLAttributes,t),0]}}),Cz=Ln.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Ot(this.options.HTMLAttributes,t),0]}});function Zw(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function wA(t,e,n,r,s,i){var a;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let p=0,g=0;p<d.childCount;p+=1){const{colspan:x,colwidth:v}=d.child(p).attrs;for(let b=0;b<x;b+=1,g+=1){const w=s===g?i:v&&v[b],N=w?`${w}px`:"";if(l+=w||r,w||(c=!1),u){if(u.style.width!==N){const[C,P]=Zw(r,w);u.style.setProperty(C,P)}u=u.nextSibling}else{const C=document.createElement("col"),[P,S]=Zw(r,w);C.style.setProperty(P,S),e.appendChild(C)}}}for(;u;){const p=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=p}const f=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);c&&!f?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}var V2e=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),wA(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,wA(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function $2e(t,e,n,r){let s=0,i=!0;const a=[],l=t.firstChild;if(!l)return{};for(let f=0,p=0;f<l.childCount;f+=1){const{colspan:g,colwidth:x}=l.child(f).attrs;for(let v=0;v<g;v+=1,p+=1){const b=n===p?r:x&&x[v];s+=b||e,b||(i=!1);const[w,N]=Zw(e,b);a.push(["col",{style:`${w}: ${N}`}])}}const c=i?`${s}px`:"",u=i?"":`${s}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:u}}function NA(t,e){return t.createAndFill()}function B2e(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function H2e(t,e,n,r,s){const i=B2e(t),a=[],l=[];for(let u=0;u<n;u+=1){const d=NA(i.cell);if(d&&l.push(d),r){const f=NA(i.header_cell);f&&a.push(f)}}const c=[];for(let u=0;u<e;u+=1)c.push(i.row.createChecked(null,r&&u===0?a:l));return i.table.createChecked(null,c)}function U2e(t){return t instanceof At}var Fp=({editor:t})=>{const{selection:e}=t.state;if(!U2e(e))return!1;let n=0;const r=hF(e.ranges[0].$from,i=>i.type.name==="table");return r?.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},W2e="";function q2e(t){return(t||"").replace(/\s+/g," ").trim()}function K2e(t,e,n={}){var r;const s=(r=n.cellLineSeparator)!=null?r:W2e;if(!t||!t.content||t.content.length===0)return"";const i=[];t.content.forEach(x=>{const v=[];x.content&&x.content.forEach(b=>{let w="";b.content&&Array.isArray(b.content)&&b.content.length>1?w=b.content.map(S=>e.renderChildren(S)).join(s):w=b.content?e.renderChildren(b.content):"";const N=q2e(w),C=b.type==="tableHeader";v.push({text:N,isHeader:C})}),i.push(v)});const a=i.reduce((x,v)=>Math.max(x,v.length),0);if(a===0)return"";const l=new Array(a).fill(0);i.forEach(x=>{var v;for(let b=0;b<a;b+=1){const N=(((v=x[b])==null?void 0:v.text)||"").length;N>l[b]&&(l[b]=N),l[b]<3&&(l[b]=3)}});const c=(x,v)=>x+" ".repeat(Math.max(0,v-x.length)),u=i[0],d=u.some(x=>x.isHeader);let f=`
`;const p=new Array(a).fill(0).map((x,v)=>d&&u[v]&&u[v].text||"");return f+=`| ${p.map((x,v)=>c(x,l[v])).join(" | ")} |
`,f+=`| ${l.map(x=>"-".repeat(Math.max(3,x))).join(" | ")} |
`,(d?i.slice(1):i).forEach(x=>{f+=`| ${new Array(a).fill(0).map((v,b)=>c(x[b]&&x[b].text||"",l[b])).join(" | ")} |
`}),f}var G2e=K2e,kz=Ln.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:V2e,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=$2e(t,this.options.cellMinWidth),i=e.style;function a(){return i||(r?`width: ${r}`:`min-width: ${s}`)}const l=["table",Ot(this.options.HTMLAttributes,e,{style:a()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},l]:l},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(s=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const s=[];r.forEach(i=>{s.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},s))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>G2e(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const a=H2e(i.schema,t,e,n);if(s){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Ue.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>s2e(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>i2e(t,e),deleteColumn:()=>({state:t,dispatch:e})=>o2e(t,e),addRowBefore:()=>({state:t,dispatch:e})=>c2e(t,e),addRowAfter:()=>({state:t,dispatch:e})=>u2e(t,e),deleteRow:()=>({state:t,dispatch:e})=>h2e(t,e),deleteTable:()=>({state:t,dispatch:e})=>b2e(t,e),mergeCells:()=>({state:t,dispatch:e})=>uA(t,e),splitCell:()=>({state:t,dispatch:e})=>dA(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>hf("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>hf("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>x2e(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>uA(t,e)?!0:dA(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>p2e(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>fA(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>fA(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&yz(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=At.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Fp,"Mod-Backspace":Fp,Delete:Fp,"Mod-Delete":Fp}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[M2e({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],z2e({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:bt(Ve(t,"tableRole",e))}}});St.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(kz.configure(this.options.table)),this.options.tableCell!==!1&&t.push(jz.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(Sz.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(Cz.configure(this.options.tableRow)),t}});var Y2e=Cz,X2e=Sz,Q2e=jz,J2e=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Z2e=Ln.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Ot(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,i,a;const l=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",c=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",u=(a=(i=t.attrs)==null?void 0:i.title)!=null?a:"";return u?`![${c}](${l} "${u}")`:`![${c}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:a,editor:l})=>{const c=document.createElement("img");Object.entries(a).forEach(([f,p])=>{if(p!=null)switch(f){case"width":case"height":break;default:c.setAttribute(f,p);break}}),c.src=a.src;const u=new Vye({element:c,editor:l,node:s,getPos:i,onResize:(f,p)=>{c.style.width=`${f}px`,c.style.height=`${p}px`},onCommit:(f,p)=>{const g=i();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:f,height:p}).run()},onUpdate:(f,p,g)=>f.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),d=u.dom;return d.style.visibility="hidden",d.style.pointerEvents="none",c.onload=()=>{d.style.visibility="",d.style.pointerEvents=""},u}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[RF({find:J2e,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),ewe=Z2e;const twe=({value:t,onChange:e})=>{const n=Ybe({extensions:[_ve.configure({heading:{levels:[1,2,3]}}),cve,Ive.configure({types:["heading","paragraph"]}),kz.configure({resizable:!0}),Y2e,X2e,Q2e,ewe,fz],content:t||"<p></p>",editorProps:{attributes:{class:"prose prose-2xl max-w-none text-gray-600 focus:outline-none min-h-[300px] overflow-auto p-4 border border-gray-300 rounded-md"}},onUpdate:({editor:s})=>{e(s.getHTML())}});if(!n)return null;const r=()=>{const s=window.prompt("Nhp URL hnh nh:");s&&n.chain().focus().setImage({src:s}).run()};return o.jsxs("div",{className:"border border-gray-300 rounded-md",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border-b border-gray-300 bg-gray-50",children:[o.jsx("button",{type:"button",onClick:()=>{n.chain().focus().toggleHeading({level:1}).run()},className:`px-4 py-2 rounded hover:bg-gray-200 text-[2rem] font-bold ${n.isActive("heading",{level:1})?"bg-gray-300":""}`,children:"H1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-end text-[1.8rem] ${n.isActive("heading",{level:2})?"bg-gray-300":""}`,children:"H2"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:3}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-[1.6rem] ${n.isActive("heading",{level:3})?"bg-gray-300":""}`,children:"H3"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setParagraph().run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold leading-none ${n.isActive("paragraph")?"bg-gray-300":""}`,children:"P"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bold")?"bg-gray-300":""}`,children:o.jsx(F,{icon:qG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("italic")?"bg-gray-300":""}`,children:o.jsx(F,{icon:nY})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("underline")?"bg-gray-300":""}`,children:o.jsx(F,{icon:hY})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("strike")?"bg-gray-300":""}`,children:o.jsx(F,{icon:$G})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bulletList")?"bg-gray-300":""}`,children:o.jsx(F,{icon:gY})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("orderedList")?"bg-gray-300":""}`,children:o.jsx(F,{icon:rY})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"left"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:IG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"center"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:YG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-300 ${n.isActive({textAlign:"right"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:BG})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"p-2 rounded hover:bg-gray-200",children:o.jsx(F,{icon:VG})}),o.jsx("button",{type:"button",onClick:r,className:"p-2 rounded hover:bg-gray-200",children:o.jsx(F,{icon:GG})})]}),o.jsx(Bbe,{editor:n})]})};function nwe({openAddSizeColor:t,setOpenAddSizeColor:e,onSuccess:n}){const[r,s]=k.useState(!1),[i,a]=k.useState(""),[l,c]=k.useState("cloth"),[u,d]=k.useState(""),[f,p]=k.useState("#000000"),g=t.node==="size",x=async()=>{if(g){if(!i.trim()){ce.error("Vui lng nhp tn size!");return}}else if(!u.trim()){ce.error("Vui lng nhp tn mu!");return}s(!0);try{if(g){const b=await fe.post("api/v1/variant-size/create",{name:i.trim(),type:l});b.status&&ce.success(b.message||"Thm size thnh cng")}else{const b=await fe.post("api/v1/variant-color/create",{name:u.trim(),hexCode:f});b.status&&ce.success(b.message||"Thm mu thnh cng")}n(),e({open:!1,node:"size"}),a(""),d(""),p("#000000")}catch{ce.error("Thm tht bi. Vui lng th li.")}finally{s(!1)}},v=()=>{e({open:!1,node:"size"}),a(""),d(""),p("#000000")};return o.jsxs(ut,{open:t.open,className:"relative w-[50rem] bg-white p-[3rem] rounded-lg shadow-xl",children:[o.jsx("button",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",onClick:v,disabled:r,children:o.jsx(F,{icon:Ct,className:"text-gray-600"})}),o.jsx("h2",{className:"text-[2rem] text-center font-bold text-green-600 mb-6",children:g?"Thm Size Mi":"Thm Mu Mi"}),g?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn size ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:i,onChange:b=>a(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: XXL, 43",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Loi sn phm"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"cloth",checked:l==="cloth",onChange:()=>c("cloth"),disabled:r}),"Qun o"]}),o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"shoes",checked:l==="shoes",onChange:()=>c("shoes"),disabled:r}),"Giy dp"]})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn mu ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: Xanh ngc",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Chn mu"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("input",{type:"color",value:f,onChange:b=>p(b.target.value),className:"w-20 h-20 rounded-lg cursor-pointer border border-gray-300",disabled:r}),o.jsx("span",{className:"text-[1.6rem] font-mono",children:f})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[o.jsx("button",{onClick:v,disabled:r,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Hy"}),o.jsx("button",{onClick:x,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang thm..."]}):"Thm"})]})]})}function rwe({openActionVariant:t,setOpenActionVariant:e,setValue:n,variants:r,dataUpdate:s,dataSize:i,dataColor:a}){const[l,c]=k.useState("cloth"),u=Xs(),[d,f]=k.useState({open:!1,node:"size"}),[p,g]=k.useState({size:"",color:"",inventory:""}),[x,v]=k.useState({sizeId:null,colorId:null,price:null,inventory:null});k.useEffect(()=>{if(t.node==="edit"&&s){const C=i.find(P=>P.id===s.sizeId);v({sizeId:s.sizeId,colorId:s.colorId,price:s.price,inventory:s.inventory}),C&&c(C.type)}},[s,t,i]),k.useEffect(()=>{t.node==="add"&&(v({sizeId:null,colorId:null,price:null,inventory:null}),c("cloth"))},[t]);const b=()=>{if(!x.sizeId){g(P=>({...P,size:"Vui lng chn size cho sn phm!"}));return}if(!x.colorId){g(P=>({...P,color:"Vui lng chn mu sc cho sn phm!"}));return}if(!x.inventory){g(P=>({...P,inventory:"Vui lng nhp s lng tn kho!"}));return}if(r.some(P=>P.sizeId===Number(x.sizeId)&&P.colorId===Number(x.colorId))){ce.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}n("variants",[...r,{tempId:Date.now(),sizeId:Number(x.sizeId),colorId:Number(x.colorId),price:x.price?Number(x.price):null,inventory:Number(x.inventory),isEdited:!1}]),e({open:!1,node:"add",data:null})},w=()=>{if(x.sizeId)if(x.colorId){if(!x.inventory){g(M=>({...M,inventory:"Vui lng nhp s lng tn kho!"}));return}}else{g(M=>({...M,color:"Vui lng chn mu sc cho sn phm!"}));return}else{g(M=>({...M,size:"Vui lng chn size cho sn phm!"}));return}const C=s.id;if(r.some(M=>!(C?M.id===s.id:M.tempId===s.tempId)&&M.sizeId===Number(x.sizeId)&&M.colorId===Number(x.colorId))){ce.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}const S={tempId:s.tempId,sizeId:x.sizeId,colorId:x.colorId,price:x.price?Number(x.price):null,inventory:Number(x.inventory),...s.id&&{id:s.id},isEdited:!0},A=r.map(M=>M.tempId===s.tempId?S:M);n("variants",A),e({open:!1,node:"add",data:null})},N=()=>{u.invalidateQueries({queryKey:["variantSize"]}),u.invalidateQueries({queryKey:["variantColor"]})};return o.jsxs(ut,{open:t.open,className:"relative max-w-[75rem] bg-white p-[3rem] rounded-lg shadow-md",children:[o.jsx("button",{className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1.5rem] right-[1.5rem] p-2 hover:bg-gray-200 rounded-full",onClick:()=>e({open:!1,node:"add",data:null}),children:o.jsx(F,{icon:Ct,className:"text-gray-600"})}),o.jsx("h2",{className:`text-[2rem] text-center font-bold ${t.node==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.node==="add"?"Thm thuc tnh sn phm":"Chnh sa thuc tnh"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn size:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"size",open:!0}),children:[o.jsx("span",{children:"+"})," Thm size"]})]}),o.jsxs("div",{className:"flex items-center overflow-x-auto gap-[4rem] mt-[.5rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"cloth",className:"text-[1.4rem] text-gray-600",children:"Qun o"}),o.jsx("input",{type:"radio",id:"cloth",className:"",checked:l==="cloth",onChange:()=>c("cloth")})]}),o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"shoes",className:"text-[1.4rem] text-gray-600",children:"Giy dp"}),o.jsx("input",{type:"radio",id:"shoes",className:"",checked:l==="shoes",onChange:()=>c("shoes")})]})]}),o.jsx("div",{className:"w-full overflow-auto hide-scrollbar flex flex-nowrap items-center gap-[1rem] mt-[1rem] pt-[.5rem]",children:i?.map(C=>{if(C.type===l)return o.jsx("button",{className:`flex-shrink-0 px-[1.5rem] py-[.5rem] border-[.2rem] text-gray-600 border-gray-300 rounded-xl hover:border-blue-600 hover:translate-y-[-.2rem] hover-linear hover:shadow-xl ${C.id===x.sizeId?"bg-blue-500 border-none text-white shadow-xl shadow-blue-100":""}`,onClick:()=>{v(P=>({...P,sizeId:C.id})),g(P=>({...P,size:""}))},children:C.name},C.id)})}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.size}),o.jsxs("div",{className:"flex justify-between items-center mt-[2.5rem]",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn mu:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"color",open:!0}),children:[o.jsx("span",{children:"+"})," Thm mu"]})]}),o.jsx("div",{className:"w-full max-h-[24rem] overflow-y-auto grid grid-cols-4 gap-[1rem] mt-[1rem] pt-[.5rem]",children:a?.map(C=>o.jsxs("button",{className:`w-full flex items-center gap-[1rem] px-[2rem] py-[.6rem] border-[.2rem]  rounded-xl hover:translate-y-[-.2rem] hover-linear hover:shadow-xl hover:border-blue-500 ${C.id===x.colorId?"bg-blue-100 border-blue-500":"border-gray-300"}`,onClick:()=>{v(P=>({...P,colorId:C.id})),g(P=>({...P,color:""}))},children:[o.jsx("div",{className:"block w-[3rem] h-[3rem] rounded-full border-[.2rem] border-gray-300",style:{background:C.hexCode}}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:C.name})]},C.id))}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.color}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"price",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"Gi khc"}),o.jsx("input",{type:"number",id:"price",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 200000",value:x.price??"",onChange:C=>v(P=>({...P,price:C.target.value}))})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"inventory",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"S lng kho"}),o.jsx("input",{type:"number",id:"inventory",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 5",value:x.inventory??"",onChange:C=>{v(P=>({...P,inventory:C.target.value})),g(P=>({...P,inventory:""}))}}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.inventory})]})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] justify-end mt-[2rem]",children:[o.jsx("button",{className:" bg-gray-200 text-gray-600 py-2 rounded hover:bg-gray-300 px-[2rem] hover-linear",onClick:()=>e({open:!1,node:"add",data:null}),children:"Hy"}),o.jsx("button",{className:" bg-green-500 text-white py-2 rounded hover:bg-green-600 px-[2rem] hover-linear",onClick:()=>{t.node==="add"?b():w()},children:t.node==="edit"?"Lu":"Thm"})]}),o.jsx(nwe,{openAddSizeColor:d,setOpenAddSizeColor:f,onSuccess:N})]})}function jA(){const{id:t}=Gs(),e=t?"edit":"create",n=tt(),[r,s]=k.useState(!1),{control:i,register:a,handleSubmit:l,watch:c,setValue:u,formState:{errors:d,isSubmitting:f},reset:p}=Qs({defaultValues:{productName:"",price:null,description:"",mainImage:null,listImages:null,inventory:null,categoryId:void 0,variants:[]}}),{data:g=[]}=Ae({queryKey:["getAllCategory"],queryFn:_o});k.useEffect(()=>{if(!t)return;(async()=>{try{s(!0);const V=await fe.get(`/api/v1/product/admin/detail/${t}`);if(V.status&&V.product){const Y=V.product;if(p({id:Y.id,productName:Y.productName||"",price:Y.price||null,description:Y.description||"",inventory:Y.inventory||null,categoryId:Y.category.id||void 0,variants:Y.variants.map((Z,ee)=>({id:Z.id,sizeId:Z.variantSize.id||null,colorId:Z.variantColor.id||null,price:Z.price||null,inventory:Z.inventory||null,tempId:Z.id?`old-${Z.id}`:Date.now()+String(ee),isEdited:!1}))}),Y.mainImage&&C(Y.mainImage),Y.listImageProduct?.length>0){const Z=Y.listImageProduct.map(ee=>({id:ee.id,url:ee.imageUrl}));D(Z),G(Z.map(ee=>ee.id))}}}catch(V){console.log(V)}finally{s(!1)}})()},[t,p]);const{data:x,isLoading:v}=Ae({queryKey:["variantSize"],queryFn:Ste}),{data:b,isLoading:w}=Ae({queryKey:["variantColor"],queryFn:Cte}),[N,C]=k.useState(null),[P,S]=k.useState({open:!1,node:"add",data:null}),[A,M]=k.useState(!1),T=c("mainImage"),_=c("variants"),[I,D]=k.useState([]),[R,G]=k.useState([]),[U,q]=k.useState([]);k.useEffect(()=>{if(T&&T.length>0){const H=T[0],V=URL.createObjectURL(H);return C(V),()=>URL.revokeObjectURL(V)}},[T]),k.useEffect(()=>()=>{I.forEach(H=>{H.file&&H.url.startsWith("blob:")&&URL.revokeObjectURL(H.url)}),N?.startsWith("blob:")&&URL.revokeObjectURL(N)},[]);const z=H=>{D(V=>{const Y=V[H];return Y.file&&Y.url.startsWith("blob:")&&URL.revokeObjectURL(Y.url),V.filter((Z,ee)=>ee!==H)})},B=async H=>{try{const V=new FormData;if(V.append("productName",H.productName),H.price&&V.append("price",String(H.price)),V.append("description",H.description),H.categoryId&&V.append("categoryId",String(H.categoryId)),!H.variants||H.variants.length===0){ce.error("Vui lng chn t nht mt thuc tnh");return}for(let le=0;le<H.variants.length;le++){const ge=H.variants[le];if(!ge.sizeId||!ge.colorId){ce.error(`Vui lng chn y  size v color cho thuc tnh th ${le+1}`);return}}const Y=new Set;for(let le=0;le<H.variants.length;le++){const ge=H.variants[le],te=`${ge.sizeId}-${ge.colorId}`;if(Y.has(te)){ce.error(`Thuc tnh size v mu b trng lp  v tr ${le+1}`);return}Y.add(te)}if(H.variants&&H.variants.length>0)if(e==="create"){const le=_.map(ge=>{const{tempId:te,...de}=ge;return de});V.append("variants",JSON.stringify(le))}else{const le=_.filter(te=>!te.id).map(te=>({sizeId:te.sizeId,colorId:te.colorId,price:te.price,inventory:te.inventory})),ge=_.filter(te=>te.id&&te.isEdited).map(te=>({id:te.id,sizeId:te.sizeId,colorId:te.colorId,price:te.price,inventory:te.inventory}));V.append("editedVariants",JSON.stringify(ge)),V.append("newVariants",JSON.stringify(le)),V.append("deletedVariantIds",JSON.stringify(U))}if(H.mainImage&&H.mainImage.length>0&&V.append("mainImage",H.mainImage[0]),e==="edit"){const le=I.filter(de=>de.id&&!de.file).map(de=>de.id),ge=R.filter(de=>!le.includes(de)),te=I.filter(de=>de.file).map(de=>de.file);V.append("keptListImageIds",JSON.stringify(le)),V.append("deletedListImageIds",JSON.stringify(ge)),te.forEach(de=>{V.append("newImages",de)})}else I.filter(ge=>ge.file).map(ge=>ge.file).forEach(ge=>{V.append("listImages",ge)});const Z=e==="create"?"/api/v1/product/create":`/api/v1/product/update/${H.id}`;let ee=null;e==="create"?ee=await fe.post(Z,V,{headers:{"Content-Type":"multipart/form-data"}}):ee=await fe.patch(Z,V,{headers:{"Content-Type":"multipart/form-data"}}),ee.status&&(ce.success(ee.message||`${e==="create"?"Thm":"Cp nht"} sn phm thnh cng!`),e==="create"&&(p(),C(""),n("/dashboard/products")))}catch(V){console.log(V),ce.error("C li xy ra. Vui lng th li!")}},$=H=>{const V=_[H];V.id&&q(Y=>[...Y,Number(V.id)]),u("variants",_.filter((Y,Z)=>Z!==H))},Q=(H,V)=>{const Y=V.target.files?.[0];if(!Y)return;const Z=["image/jpeg","image/png","image/gif","image/webp"],ee=5*1024*1024;if(!Z.includes(Y.type)){ce.error("Ch chp nhn file nh (JPG, PNG, GIF, WEBP)"),V.target.value="";return}if(Y.size>ee){ce.error("Kch thc nh khng c vt qu 5MB"),V.target.value="";return}const le=URL.createObjectURL(Y);D(ge=>{const te=[...ge],de=te[H];return de.file&&de.url.startsWith("blob:")&&URL.revokeObjectURL(de.url),te[H]={file:Y,url:le},te}),V.target.value=""};return k.useMemo(()=>I.map(H=>({type:H.id?"old":"new",url:H.url,id:H.id})),[I]),e==="edit"&&r?o.jsx(Po,{}):o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex",children:o.jsxs(Ze,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(F,{icon:qs,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})}),o.jsx("h2",{className:`text-[2.5rem] ${e==="create"?"text-green-700":"text-amber-700"} text-center font-bold mb-[2rem]`,children:e==="create"?"Thm sn phm":"Chnh sa sn phm"}),o.jsx("form",{onSubmit:l(B),children:A?o.jsxs("div",{children:[o.jsx("label",{className:"text-green-600 text-[1.8rem]",children:"M t sn phm"}),o.jsx("div",{children:o.jsxs("button",{type:"button",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md my-[1rem] py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>{M(!1)},children:[o.jsx(F,{icon:qs,className:"text-gray-500"}),o.jsx("span",{children:"Quay li"})]})}),o.jsx(ji,{name:"description",control:i,render:({field:H})=>o.jsx(twe,{value:H.value||"",onChange:H.onChange})}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"h-[3.2rem] w-[10rem] flex items-center justify-center text-white bg-green-500 rounded text-[1.4rem] hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",type:"button",onClick:()=>M(!1),children:"p dng"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-[2rem]",children:[o.jsxs("div",{className:"w-[35%] text-center",children:[o.jsx("h4",{className:"font-bold",children:"Hnh nh sn phm"}),o.jsxs("div",{className:"my-[2rem]",children:[o.jsx("label",{className:"text-gray-600",children:"nh chnh"}),o.jsx("input",{type:"file",className:"hidden",id:"mainImage",accept:"image/*",...a("mainImage",{required:e==="create"?"Vui lng chn nh chnh":!1})}),o.jsx("label",{htmlFor:"mainImage",className:"cursor-pointer w-[20rem] h-[20rem] mx-auto border-2 border-dashed border-gray-300 rounded-md flex flex-col gap-y-[1rem] items-center justify-center hover:bg-gray-50",children:N?o.jsx("img",{src:N,alt:"Main",className:"w-full h-full object-cover rounded-md"}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:$r,className:"text-[1.8rem] text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh chnh"})]})}),d.mainImage&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.mainImage.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[1.4rem] text-gray-600 block mb-[.5rem]",children:"nh ph (ti a 4 nh)"}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"listImages",onChange:H=>{const V=Array.from(H.target.files??[]),Y=4,Z=["image/jpeg","image/png","image/gif","image/webp"];if(V.filter(Se=>!Z.includes(Se.type)).length>0){ce.error("Ch chp nhn file nh (JPG, PNG, GIF, WEBP)"),H.target.value="";return}const le=5*1024*1024;if(V.filter(Se=>Se.size>le).length>0){ce.error("Mi nh khng c vt qu 5MB"),H.target.value="";return}const te=I.length,de=Y-te;if(V.length>de){ce.error(`Ch c th thm ti a ${de} nh na!`),H.target.value="";return}const xe=V.map(Se=>({file:Se,url:URL.createObjectURL(Se)}));D(Se=>[...Se,...xe]),H.target.value=""}}),o.jsxs("label",{htmlFor:"listImages",className:"cursor-pointer w-full border-2 border-dashed border-gray-300 rounded-md flex gap-2.5 items-center justify-center py-[1rem] hover:bg-gray-50",children:[o.jsx(F,{icon:$r,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh ph"})]}),o.jsx("div",{className:"mt-[1rem] grid grid-cols-4 gap-[1rem]",children:I.map((H,V)=>{const Y=H.id?`old-${H.id}`:`new-${V}`;return o.jsxs("label",{htmlFor:`image-${V}`,className:"relative group",children:[o.jsx("img",{src:H.url,alt:`image-${V}`,className:"w-full h-[8rem] object-cover rounded-md border border-gray-300"}),o.jsx("input",{type:"file",id:`image-${V}`,accept:"image/jpeg,image/png,image/gif,image/webp",className:"hidden",onChange:Z=>Q(V,Z)}),o.jsx("button",{type:"button",onClick:()=>z(V),className:"absolute w-[2.5rem] h-[2.5rem] top-1 right-1 bg-white/80 rounded-full text-red-500 hover:bg-red-100 opacity-0 group-hover:opacity-100 transition",children:o.jsx(F,{icon:Kn,className:"text-[1.4rem]"})})]},Y)})})]})]}),o.jsxs("div",{className:"w-[65%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h4",{className:"font-bold ",children:"Thng tin sn phm"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("label",{htmlFor:"productName",className:"text-[1.4rem] text-gray-600",children:["Tn sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"productName",placeholder:"Tn sn phm...",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 px-[1.5rem] focus:border-cyan-300 focus:border-1",...a("productName",{required:"Vui lng nhp tn sn phm",minLength:{value:3,message:"Tn sn phm phi c t nht 3 k t"}})}),d.productName&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.productName.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"price",className:"text-[1.4rem] text-gray-600",children:["Gi sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",id:"price",placeholder:"VD: 250000",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("price",{required:"Vui lng nhp gi sn phm",min:{value:0,message:"Gi sn phm phi ln hn 0"}})}),d.price&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.price.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"categoryId",className:"text-[1.4rem] text-gray-600",children:["Danh mc sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"categoryId",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("categoryId",{required:"Vui lng chn danh mc sn phm"}),children:[o.jsx("option",{value:"",disabled:!0,children:"Chn danh mc sn phm"}),g.filter(H=>H.parentId===null&&H.isActive).map(H=>o.jsx(vx,{category:H,allCategories:g,level:0},H.id))]}),d.categoryId&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.categoryId.message})]})]}),o.jsx("input",{type:"number",className:"hidden",...a("id")}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"description",className:"text-[1.4rem] text-gray-600",children:"M t sn phm"}),o.jsxs("button",{type:"button",className:"flex items-center space-x-1 px-[2rem] py-[.6rem] rounded-md  border border-green-400 hover:border-green-600 text-green-500 hover:text-green-600  transition duration-300 cursor-pointer mt-[.5rem]",onClick:()=>M(!0),children:[o.jsx("span",{children:"M t"}),o.jsx(F,{icon:sY})]})]}),o.jsxs("div",{className:"mt-[2rem] border-t border-gray-300 pt-[2rem]",children:[o.jsx("label",{className:"text-[1.6rem] font-bold block mb-[1rem]",children:"Thuc tnh sn phm (tu chn)"}),o.jsx("button",{type:"button",className:"mb-[1rem] text-white bg-green-500 px-[1rem] py-[.5rem] rounded hover:bg-green-600",onClick:()=>S({open:!0,node:"add",data:null}),children:"+ Thm thuc tnh"})]}),o.jsx("div",{className:`flex flex-col divide-y ${_.length>0?"divide-gray-300 border border-gray-300":""} rounded-xl`,children:_?.map((H,V)=>{const Y=x?.find(ee=>ee.id===H.sizeId),Z=b?.find(ee=>ee.id===H.colorId);return o.jsxs("div",{className:"relative flex items-center px-[2rem] py-[1rem] hover:bg-gray-50",children:[o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Size: "}),o.jsx("span",{className:"block px-[1.5rem] py-[.4rem] bg-blue-200 rounded-md font-bold text-blue-800",children:Y?.name})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Mu: "}),o.jsx("span",{className:"block w-[2rem] h-[2rem] rounded-full border-[.2rem] border-gray-300",style:{background:Z?.hexCode}}),o.jsx("span",{children:Z?.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Gi: "}),o.jsx("span",{className:"text-amber-800 px-[1.5rem] py-[.4rem] bg-amber-100 rounded-md",children:H.price?Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(H.price)):"Khng"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Kho: "}),o.jsx("span",{className:"text-green-800 px-[1.5rem] py-[.4rem] bg-green-100 rounded-md",children:H.inventory})]})]}),o.jsx("div",{className:"absolute right-[6.5rem] w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-amber-100 hover:bg-amber-200 hover-linear cursor-pointer",onClick:()=>S({open:!0,node:"edit",data:H}),children:o.jsx(F,{icon:Ms,className:"text-[1.4rem] text-amber-600"})}),o.jsx("div",{className:"absolute right-[2rem]  w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-red-100 hover:bg-red-200 hover-linear cursor-pointer",onClick:()=>$(V),children:o.jsx(F,{icon:Vu,className:"text-red-600 text-[1.4rem]"})})]},H.id??H.tempId??V)})})]})]}),o.jsxs("div",{className:"mt-[3rem] flex items-center justify-end gap-[1rem]",children:[o.jsx(Ze,{to:"/dashboard/products",className:"flex items-center space-x-2 px-[2.5rem] py-[.8rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem] cursor-pointer",type:"button",children:o.jsx("span",{children:"Quay li"})}),o.jsx("button",{className:"px-[2.5rem] py-[.8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",type:"submit",disabled:f,children:o.jsx("span",{children:f?"ang x l...":e==="create"?"Thm":"Cp nht"})})]})]})}),o.jsx(rwe,{openActionVariant:P,setOpenActionVariant:S,setValue:u,variants:_,dataUpdate:P.node==="edit"?P.data:void 0,dataSize:x??[],isLoadingSize:v,dataColor:b??[],isLoadingColor:w})]})}function swe(){const{user:t}=kt(),[e]=Ei(),n=e.get("q"),[r,s]=k.useState({limit:20,page:1,productName:n||"",sort:"popular",price:"asc"});k.useEffect(()=>{n&&s(p=>({...p,productName:n}))},[n]);const{data:i,isLoading:a}=Ae({queryKey:["products",r,t?.id],queryFn:()=>_te({query:r,userId:t?.id})}),l=i&&i.data,c=i&&i.pagination.totalPage||1,u=p=>{s(g=>({...g,sort:p}))},d=p=>{s(g=>({...g,price:p}))},f=p=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p);return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:[o.jsx("h3",{className:"pb-5",children:l?.length>0?o.jsxs(o.Fragment,{children:["Tm thy ",o.jsx("span",{className:"text-red-500",children:l.length})," kt qu cho ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]}):o.jsxs(o.Fragment,{children:["Kt qu tm kim ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]})}),o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsxs("div",{className:"flex items-center md:gap-4 gap-2 lg:gap-6 flex-wrap md:flex-nowrap",children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("best_seller"),children:"Bn chy"})]}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi:"," ",r.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(F,{icon:bu,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${r.price==="asc"?"text-red-500":""}`,onClick:()=>d("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),r.price==="asc"&&o.jsx(F,{icon:ss,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${r.price==="desc"?"text-red-500":""}`,onClick:()=>d("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),r.price==="desc"&&o.jsx(F,{icon:ss,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>s(p=>({...p,price:r.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(F,{icon:r.price==="asc"?z_:B_,className:"text-[1rem] font-extralight"})]})]}),a?o.jsx("div",{className:"py-25 text-center",children:"ang ti d liu..."}):l.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4 mt-[2rem]",children:l.map(p=>o.jsxs(Ze,{to:`/product-detail/${p.slug}`,className:"flex flex-col w-full h-[28rem] md:h-[31rem] border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 hover:scale-[1.02] transition-all duration-300 cursor-pointer",children:[o.jsx("img",{src:p.mainImage,alt:`mainImage-${p.productName}`,className:"w-full h-[16rem] md:h-[20rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-2 text-[1.3rem] md:text-[1.5rem] leading-snug",children:p.productName}),o.jsx("span",{className:"text-red-500 font-semibold text-[1.3rem] md:text-[1.5rem]",children:f(p.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem] mt-auto",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:p.averageRating}),o.jsx(F,{icon:Xr,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:p.soldCount})]})]})]})]},p.id))}):o.jsx("div",{className:"py-25 text-center",children:l.length===0&&!a&&o.jsxs("div",{className:"py-20 text-center",children:[o.jsxs("p",{className:"text-[1.6rem] text-gray-500 text-nowrap",children:['Khng tm thy sn phm no cho "',n,'"']}),o.jsx("p",{className:"text-[1.4rem] text-gray-400 mt-2",children:"Th tm kim vi t kha khc"})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.max(p.page-1,1)})),disabled:r.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:ls,className:"text-gray-500"})}),Array.from({length:c},(p,g)=>g+1).filter(p=>Math.abs(p-r.page)<=2).map(p=>o.jsx("button",{onClick:()=>s(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-blue-600 ${r.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.min(p.page+1,c)})),disabled:r.page===c,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:en,className:"text-gray-500"})})]})]})}function iwe(){const t=tt(),[e,n]=Ei(),r=e.get("sort"),{user:s}=kt(),[i,a]=k.useState({limit:10,page:1,sort:"popular",price:"asc"}),[l,c]=k.useState({open:!1,data:null});k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),k.useEffect(()=>{r&&a(v=>({...v,sort:r}))},[r]);const{data:u,isLoading:d}=Ae({queryKey:["products",i],queryFn:()=>Dte({query:i,userId:s?.id})}),f=u?.data??[],p=v=>{a(b=>({...b,sort:v})),n({sort:v})},g=v=>{a(b=>({...b,price:v})),n(b=>(b.set("price",v),b))},x=()=>o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]});return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] ",children:[o.jsxs("div",{className:"bg-white p-5 rounded-xl",children:[o.jsx("h3",{className:"text-[2rem] mb-6 font-bold",children:r==="popular"?"Sn phm ni bt":r==="best_seller"?"Sn phm bn chy":"Sn phm mi nht"}),o.jsx(T8,{handleChangePrice:g,handleChangeSort:p,queryDefault:i,setQueryDefault:a}),d?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 mt-4",children:Array.from({length:10}).map((v,b)=>o.jsx(x,{},b))}):f.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 mt-4",children:f.map(v=>o.jsxs("div",{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${v.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:v.mainImage||"https://via.placeholder.com/300",alt:v.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:v.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:b=>{b.stopPropagation(),c({open:!0,data:v})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:b=>{b.stopPropagation(),t(`/product-detail/${v.slug}`)},children:"Chi tit"})]})]})]},v.id))}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:k8,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]})]}),o.jsx(Ku,{showAddCart:l,setShowAddCart:c})]})}const tr={ACTIVE:"active",INACTIVE:"inactive"};function awe({editingCollection:t,isModalOpen:e,setIsModalOpen:n,setEditingCollection:r}){const[s,i]=k.useState({name:"",description:"",imageUrl:null,status:tr.ACTIVE,startDate:"",endDate:"",isFeature:!1}),[a,l]=k.useState(null),[c,u]=k.useState(!1);k.useEffect(()=>{t?(console.log(t),i({name:t.name,description:t.description,imageUrl:t.imageUrl||null,status:t.status,startDate:gn(t.startDate).format("YYYY-MM-DD")||new Date().toISOString().split("T")[0],endDate:gn(t.endDate).format("YYYY-MM-DD")||new Date().toISOString().split("T")[0],isFeature:t.isFeature}),t.imageUrl&&l(t.imageUrl)):(i({name:"",description:"",imageUrl:null,status:tr.ACTIVE,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],isFeature:!1}),l(""))},[t]);const d=x=>{const v=x.target.files?.[0];if(v){if(!v.type.startsWith("image/")){ce.warn("Vui lng chn file nh!");return}if(v.size>5*1024*1024){ce.warn("Kch thc nh khng c vt qu 5MB!");return}const b=URL.createObjectURL(v);l(b),i(w=>({...w,imageUrl:v}))}},f=()=>{a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),l(null),i({...s,imageUrl:null});const x=document.getElementById("imageUrl");x&&(x.value="")},p=async x=>{if(x.preventDefault(),!s.imageUrl){ce.warn("Vui lng chn hnh nh");return}if(s.startDate&&s.endDate&&new Date(s.startDate)>new Date(s.endDate)){ce.warn("Ngy kt thc phi sau ngy bt u!");return}u(!0);try{const v=new FormData;v.append("name",s.name),s.description&&v.append("description",s.description),v.append("status",s.status),v.append("startDate",s.startDate),v.append("endDate",s.endDate),s.imageUrl instanceof File&&v.append("imageUrl",s.imageUrl),v.append("isFeature",s.isFeature?"true":"false");let b=null;t?b=await fe.patch(`/api/v1/collections/${t.id}/update`,v,{headers:{"Content-Type":"multipart/form-data"}}):b=await fe.post("/api/v1/collections/create",v,{headers:{"Content-Type":"multipart/form-data"}}),console.log(b),b.status&&(ce.success(b.message),g())}catch{ce.error("C li xy ra!")}finally{u(!1)}},g=()=>{n(!1),r(null),i({name:"",description:"",imageUrl:null,status:tr.ACTIVE,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],isFeature:!1}),l("")};return o.jsxs(ut,{open:e,className:"bg-white rounded-xl pb-[2rem] w-full max-w-[650px] max-h-[90vh] overflow-y-auto hide-scrollbar",children:[o.jsxs("div",{className:"pt-[2rem] px-[2rem] sticky top-0 bg-white",children:[o.jsx("h4",{className:`font-semibold pb-[1.5rem] ${t?"text-amber-600":"text-green-600"}  `,children:t?"Chnh sa Collection":"Thm Collection Mi"}),o.jsx("button",{className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1.5rem] right-[1.5rem] p-2 hover:bg-gray-200 rounded-full",onClick:()=>g(),children:o.jsx(F,{icon:Ct,className:"text-gray-600"})})]}),o.jsxs("form",{onSubmit:p,className:"w-full h-auto px-[2rem]",children:[o.jsxs("div",{className:"space-y-[1.25rem]",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block font-medium text-gray-700 mb-2",children:["Tn Collection ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:s.name,onChange:x=>i({...s,name:x.target.value}),className:"w-full px-[1rem] py-[0.75rem] border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Nhp tn collection"})]}),o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{className:"block font-medium text-gray-700 mb-2",children:["Ngy bt u ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",required:!0,value:s.startDate,onChange:x=>i({...s,startDate:x.target.value}),className:"w-full px-[1rem] py-[0.75rem] border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{className:"block font-medium text-gray-700 mb-2",children:["Ngy kt thc ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",required:!0,value:s.endDate,onChange:x=>i({...s,endDate:x.target.value}),className:"w-full px-[1rem] py-[0.75rem] border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"M t"}),o.jsx("textarea",{value:s.description??"",onChange:x=>i({...s,description:x.target.value}),className:"w-full px-[1rem] py-[0.75rem] border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 min-h-[100px]",placeholder:"Nhp m t cho collection"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block font-medium text-gray-700 mb-2",children:["Hnh nh ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("label",{htmlFor:"imageUrl",className:"flex items-center justify-center flex-col w-full h-[200px] border-2 border-dashed border-gray-400 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[o.jsx("input",{type:"file",id:"imageUrl",name:"imageUrl",accept:"image/*",onChange:d,className:"hidden"}),a?o.jsxs("div",{className:"relative w-full h-full p-4",children:[o.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-contain rounded-lg",onError:x=>{x.currentTarget.src="https://via.placeholder.com/300x200?text=Invalid+Image"}}),o.jsx("button",{type:"button",onClick:x=>{x.preventDefault(),f()},className:"absolute top-2 right-2 bg-red-500 text-white w-12 h-12 rounded-full hover:bg-red-600 transition-colors",title:"Xa nh",children:o.jsx(F,{icon:Ct})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx(F,{icon:Vde,className:"text-[1.8rem]"}),o.jsx("p",{className:" font-medium mb-1",children:"Chn nh collection"}),o.jsx("p",{className:"text-[1.2rem] text-gray-500",children:"PNG, JPG, GIF ti a 5MB"})]})]})]}),o.jsx("label",{className:"font-medium text-gray-700 cursor-pointer",children:"Trng thi collection"}),o.jsxs("div",{className:"pl-5 space-y-2 mt-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"radio",name:"status",style:{scale:"1.2"},id:tr.ACTIVE,value:tr.ACTIVE,checked:s.status===tr.ACTIVE,onChange:x=>i({...s,status:x.target.value}),className:"w-4 h-4 cursor-pointer"}),o.jsx("label",{htmlFor:tr.ACTIVE,className:"cursor-pointer",children:"Kch hot"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"radio",name:"status",style:{scale:"1.2"},id:tr.INACTIVE,value:tr.INACTIVE,checked:s.status===tr.INACTIVE,onChange:x=>i({...s,status:x.target.value}),className:"w-4 h-4 cursor-pointer"}),o.jsx("label",{htmlFor:tr.INACTIVE,className:"cursor-pointer",children:"Khng hot ng"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx("input",{type:"checkbox",checked:s.isFeature,onChange:x=>i({...s,isFeature:x.target.checked})}),o.jsx("label",{children:"Hin th ni bt (Feature)"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-[2rem]",children:[o.jsx("button",{type:"button",onClick:g,className:"flex-1 px-[1.5rem] py-[0.75rem] border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"flex-1 px-[1.5rem] py-[0.75rem] bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",disabled:c,children:t?"Cp nht":"Thm mi"})]})]})]})}function owe({isOpen:t,onClose:e,collection:n,refetch:r}){const[s,i]=k.useState(""),[a,l]=k.useState([]),[c,u]=k.useState(1),d=10,{data:f,isLoading:p}=Ae({queryKey:["getProducts",s,c],queryFn:$u,enabled:t}),g=f?.data||[],x=Math.ceil((f?.total||0)/d),v=g.filter(_=>!n?.collectionProducts.some(I=>I.productId===_.id)),b=_=>a.some(I=>I.productId===_),w=_=>a.find(I=>I.productId===_),N=_=>{l(I=>I.find(R=>R.productId===_.id)?I.filter(R=>R.productId!==_.id):[...I,{productId:_.id,sortOrder:I.length+1,isFeature:!1,specialPrice:_.price}])},C=(_,I)=>{l(D=>D.map(R=>R.productId===_?{...R,specialPrice:I}:R))},P=(_,I)=>{l(D=>D.map(R=>R.productId===_?{...R,isFeature:I}:R))},S=(_,I)=>{l(D=>D.map(R=>R.productId===_?{...R,sortOrder:I}:R))},A=()=>{a.length===v.length?l([]):l(v.map((_,I)=>({productId:_.id,sortOrder:I+1,isFeature:!1,specialPrice:_.price})))},M=async()=>{try{const _=await fe.patch(`/api/v1/collections/${n?.id}/products`,{collectionProducts:a});_.status&&(await r(),ce.success(_.message),e())}catch(_){ce.error(`Li server: ${_.message}`)}},T=_=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_);return t?o.jsxs(ut,{open:t,className:"bg-white rounded-xl pb-[2rem] w-full max-w-[75rem] max-h-[90vh] overflow-y-auto hide-scrollbar",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-b-gray-200",children:[o.jsxs("h3",{className:"text-[2rem] font-bold",children:['Thm sn phm vo "',n?.name,'"']}),o.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-[2rem]",children:o.jsx(F,{icon:Ct})})]}),o.jsx("div",{className:"p-6 border-b border-b-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Tm kim sn phm...",value:s,onChange:_=>i(_.target.value),className:"w-full px-[1rem] h-[4rem] pl-[3rem] border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"}),o.jsx(F,{icon:Wn,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-[1.4rem]"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:p?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4",children:"ang ti..."})]}):v.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"selectAll",checked:a.length===v.length,onChange:A,className:"w-5 h-5 text-blue-600"}),o.jsxs("label",{htmlFor:"selectAll",className:"text-[1.4rem] font-medium",children:["Chn tt c (",v.length," sn phm)"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:v.map(_=>{const I=b(_.id),D=w(_.id);return o.jsxs("div",{className:`border rounded-lg p-4 transition-all hover:cursor-pointer ${I?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-400"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:_.mainImage,alt:_.productName,className:"w-full h-[15rem] object-cover rounded-lg mb-3"}),o.jsx("input",{type:"checkbox",checked:I,style:{scale:"1.5"},className:"absolute top-2 right-2 cursor-pointer",onChange:()=>N(_)})]}),o.jsx("h4",{className:"font-medium text-[1.4rem] truncate mb-1",children:_.productName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem] mb-2",children:["Gi gc: ",T(_.price)]}),I&&D&&o.jsxs("div",{className:"mt-3 space-y-3 pt-3 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.2rem] text-gray-700 mb-1 font-medium",children:"Gi trong collection:"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:D.specialPrice||"",onChange:R=>C(_.id,Number(R.target.value)),className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-[1.3rem]",placeholder:"Nhp gi...",min:"0"}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-[1.2rem]",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.2rem] text-gray-700 mb-1 font-medium",children:"Th t:"}),o.jsx("input",{type:"number",value:D.sortOrder||"",onChange:R=>S(_.id,Number(R.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-[1.3rem]",placeholder:"Th t...",min:"0"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:`feature-${_.id}`,checked:D.isFeature,onChange:R=>P(_.id,R.target.checked),className:"w-4 h-4 text-blue-600"}),o.jsx("label",{htmlFor:`feature-${_.id}`,className:"text-[1.2rem] text-gray-700",children:"Sn phm ni bt"})]})]})]},_.id)})}),x>1&&o.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[o.jsx("button",{onClick:()=>u(_=>Math.max(1,_-1)),disabled:c===1,className:"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trc"}),o.jsxs("span",{className:"px-4 py-2",children:["Trang ",c," / ",x]}),o.jsx("button",{onClick:()=>u(_=>Math.min(x,_+1)),disabled:c===x,className:"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})]}):o.jsx("div",{className:"text-center py-16 text-gray-500",children:s?"Khng tm thy sn phm no":"Tt c sn phm  c thm vo collection"})}),o.jsxs("div",{className:"p-6 border-t border-t-gray-200 flex justify-between items-center",children:[o.jsxs("div",{className:"text-[1.4rem]",children:[" chn:"," ",o.jsx("span",{className:"font-semibold",children:a.length})," sn phm"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:e,className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-[1.4rem]",children:"Hy"}),o.jsxs("button",{onClick:M,disabled:a.length===0,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-[1.4rem]",children:["Thm (",a.length,")"]})]})]})]}):null}function lwe({isOpen:t,onClose:e,collection:n}){const r=Xs(),{mutate:s,isPending:i}=qU({mutationFn:u=>whe(u.id,u.status),onSuccess:(u,d)=>{const f=n?.name||"Collection",p=d.status===tr.INACTIVE;ce.success(`${p?"V hiu ha":"Kch hot"} collection "${f}" thnh cng!`),r.invalidateQueries({queryKey:["allCollections"]}),e()},onError:u=>{const d=u?.response?.data?.message||u?.message||"C li xy ra";ce.error(`C li xy ra: ${d}`)}});if(!n)return null;const a=n.status===tr.ACTIVE,l=a?tr.INACTIVE:tr.ACTIVE,c=()=>{if(!n){ce.error("Khng tm thy thng tin collection");return}s({id:n.id,status:l})};return o.jsxs(ut,{open:t,className:"relative bg-white rounded-xl pb-[2rem] w-[50rem] h-auto overflow-y-auto hide-scrollbar p-8",children:[o.jsx("div",{className:"flex items-start gap-4 mb-6",children:o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-[1.8rem] text-gray-800 mb-2",children:a?"V hiu ha collection?":"Kch hot collection?"}),o.jsx("p",{className:"text-gray-600 text-[1.4rem]",children:a?o.jsxs(o.Fragment,{children:["Collection"," ",o.jsxs("span",{className:"font-semibold",children:['"',n.name,'"']})," s khng hin th trn trang web. Bn c th kch hot li bt c lc no."]}):o.jsxs(o.Fragment,{children:["Collection"," ",o.jsxs("span",{className:"font-semibold",children:['"',n.name,'"']})," s c hin th tr li trn trang web."]})})]})}),o.jsx("button",{onClick:e,className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1rem] right-[1rem] p-2 hover:bg-gray-200 rounded-full transition-colors",disabled:i,children:o.jsx(F,{icon:Ct})}),o.jsxs("div",{className:"flex items-center justify-end mt-8 gap-2",children:[o.jsx("button",{className:"py-2 px-8 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors text-[1.4rem] font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:e,disabled:i,children:"Hy"}),o.jsx("button",{className:`py-2 px-8 text-white rounded-md transition-colors text-[1.4rem] font-medium ${a?"bg-orange-500 hover:bg-orange-600":"bg-green-500 hover:bg-green-600"} disabled:opacity-50 disabled:cursor-not-allowed`,onClick:c,disabled:i,children:i?"ang x l...":a?"V hiu ha":"Kch hot"})]})]})}function cwe({isOpen:t,onClose:e,collection:n}){if(!n)return null;const r=n.status==="active";return o.jsxs(ut,{open:t,className:"relative bg-white rounded-xl w-full max-w-[800px] max-h-[90vh] overflow-y-auto hide-scrollbar",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-[2rem] py-[1.5rem] z-10",children:[o.jsx("h3",{className:"text-[2rem] font-semibold ",children:"Chi tit Collection"}),o.jsx("button",{onClick:e,className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1.5rem] right-[1.5rem] hover:bg-gray-200 rounded-full transition-colors",children:o.jsx(F,{icon:Ct,className:""})})]}),o.jsxs("div",{className:"px-[2rem] py-[2rem] space-y-6",children:[o.jsx("div",{className:"w-full h-[25rem] bg-gray-100 rounded-lg overflow-hidden",children:o.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover",onError:s=>{s.currentTarget.src="https://via.placeholder.com/800x250?text=No+Image"}})}),o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-[2.4rem] font-bold  mb-2",children:n.name}),n.slug&&o.jsxs("p",{className:"text-gray-500 font-mono",children:["/",n.slug]})]}),o.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o.jsx("span",{className:`px-4 py-2 rounded-full  font-medium ${r?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:r?"Hot ng":"Khng hot ng"}),n.isFeature&&o.jsxs("span",{className:"px-4 py-2 rounded-full  font-medium bg-amber-100 text-amber-700",children:[o.jsx(F,{icon:Xr,className:"mr-2"}),"Ni bt"]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold  mb-2",children:"M t"}),o.jsx("p",{className:"  leading-relaxed",children:n.description||"Khng c m t"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(F,{icon:Cg,className:"text-blue-600 text-[1.6rem]"}),o.jsx("h4",{className:" font-semibold ",children:"Ngy bt u"})]}),o.jsx("p",{className:"text-[1.6rem] font-bold text-blue-700",children:n.startDate?gn(n.startDate).format("DD/MM/YYYY"):"Cha xc nh"})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(F,{icon:Cg,className:"text-purple-600 text-[1.6rem]"}),o.jsx("h4",{className:" font-semibold ",children:"Ngy kt thc"})]}),o.jsx("p",{className:"text-[1.6rem] font-bold text-purple-700",children:n.endDate?gn(n.endDate).format("DD/MM/YYYY"):"Cha xc nh"})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(F,{icon:jo,className:"text-green-600 text-[1.6rem]"}),o.jsx("h4",{className:" font-semibold ",children:"S sn phm"})]}),o.jsxs("p",{className:"text-[1.6rem] font-bold text-green-700",children:[n.collectionProducts?.length||0," sn phm"]})]}),o.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(F,{icon:Ws,className:"text-orange-600 text-[1.6rem]"}),o.jsx("h4",{className:" font-semibold ",children:"Lt xem"})]}),o.jsxs("p",{className:"text-[1.6rem] font-bold text-orange-700",children:[n.viewCount||0," lt"]})]})]}),n.collectionProducts&&n.collectionProducts.length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h4",{className:"text-[1.6rem] font-semibold  mb-4",children:["Sn phm trong collection (",n.collectionProducts.length,")"]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[300px] overflow-y-auto",children:n.collectionProducts.map((s,i)=>o.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-3 border border-gray-200 hover:border-blue-300 transition-colors",children:[s.product?.mainImage&&o.jsx("img",{src:s.product.mainImage,alt:s.product.productName,className:"w-12 h-12 object-cover rounded"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:" font-medium  truncate",children:s.product?.productName||`Sn phm ${i+1}`}),s.product?.price&&o.jsx("p",{className:"text-[1.2rem] text-gray-500",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(s.product.price)})]})]},i))})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between ",children:[o.jsx("span",{className:"text-gray-500",children:"Ngy to:"}),o.jsx("span",{className:"font-medium ",children:gn(n.createdAt).format("HH:mm - DD/MM/YYYY")})]}),o.jsxs("div",{className:"flex justify-between ",children:[o.jsx("span",{className:"text-gray-500",children:"Cp nht ln cui:"}),o.jsx("span",{className:"font-medium ",children:gn(n.updatedAt).format("HH:mm - DD/MM/YYYY")})]}),n.type&&o.jsxs("div",{className:"flex justify-between ",children:[o.jsx("span",{className:"text-gray-500",children:"Loi:"}),o.jsx("span",{className:"font-medium  capitalize",children:n.type})]})]})]}),o.jsx("div",{className:"sticky bottom-0 flex justify-end bg-white border-t border-gray-200 px-[2rem] py-[1.5rem]",children:o.jsx("button",{onClick:e,className:"px-[1.5rem] py-[0.75rem] bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors font-medium",children:"ng"})})]})}function uwe(){const[t,e]=k.useState({name:"",status:""}),[n,r]=k.useState({page:1,limit:10,...t}),{data:s,isLoading:i,refetch:a}=Ae({queryKey:["allCollections",n],queryFn:()=>fS(n)}),l=s&&s.data||[],[c,u]=k.useState(!1),[d,f]=k.useState(null),[p,g]=k.useState(!1),[x,v]=k.useState(null),[b,w]=k.useState(null),[N,C]=k.useState(null),P=_=>{v(_),g(!0)},S=_=>{f(_||null),u(!0)},A=_=>{const{name:I,value:D}=_.target;e(R=>({...R,[I]:D}))},M=()=>{r(_=>({..._,...t}))},T=()=>o.jsx("tbody",{className:"divide-y divide-gray-200",children:[...Array(5)].map((_,I)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg animate-pulse"})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded animate-pulse"})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsx("div",{className:"h-5 w-48 bg-gray-200 rounded animate-pulse"})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsx("div",{className:"flex items-center justify-center gap-2",children:o.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded animate-pulse"})})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"h-5 w-36 bg-gray-200 rounded animate-pulse"})})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"h-7 w-28 bg-gray-200 rounded-full animate-pulse"})})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg animate-pulse"}),o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg animate-pulse"})]})})]},I))});return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-700",children:"Collection"}),o.jsxs("button",{onClick:()=>S(),className:"bg-blue-600 hover:bg-blue-700 text-white px-[1.5rem] py-[0.75rem] rounded-lg font-medium transition-colors flex items-center gap-2",children:[o.jsx(F,{icon:$r}),"Thm Collection"]})]}),o.jsxs("div",{className:"mb-[1.5rem] flex items-center gap-4",children:[o.jsxs("div",{className:"relative w-[30rem]",children:[o.jsx("input",{type:"text",placeholder:"Tm kim collection...",value:t.name,name:"name",className:"w-full px-[1rem] h-[4rem] pl-[3rem] border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500",onChange:A}),o.jsx(F,{icon:Wn,className:"absolute text-[1.4rem] left-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),o.jsx("div",{className:"w-[20rem]",children:o.jsxs("select",{name:"status",id:"status",value:t.status,className:"w-full px-[1rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500",onChange:A,children:[o.jsx("option",{value:"",children:"Trng thi"}),Object.entries(tr).map(([_,I])=>o.jsx("option",{value:I,children:I==="active"?"Hot ng":I==="inactive"?"Khng hot ng":"Lch trnh"},_))]})}),o.jsxs("button",{className:"w-[10rem] px-[1rem] h-[4rem] pl-[1.5rem] bg-blue-500 hover:bg-blue-600 text-white rounded-lg focus:outline-none",onClick:M,children:[o.jsx(F,{icon:Vr}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4",children:"Hnh nh"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Tn Collection"}),o.jsx("th",{className:"text-left px-6 py-4",children:"M t"}),o.jsx("th",{className:"text-center px-6 py-4",children:"S sn phm"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Trng thi"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Thao tc"})]})}),i?o.jsx(T,{}):l.length>0?o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(_=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsx("img",{src:_.imageUrl,alt:_.name,className:"w-16 h-16 object-cover rounded-lg"})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:_.name}),o.jsx("td",{className:"px-[1rem] py-[1rem] max-w-[300px] truncate",children:_.description??"Khng c m t"}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsxs("span",{children:["(",_.collectionProducts.length,")"]}),o.jsx("button",{className:"text-blue-600 hover:text-blue-800 underline",onClick:()=>P(_),children:"Thm"})]})}),o.jsx("td",{className:"px-[1rem] py-[1rem] text-center",children:gn(_.createdAt).format("HH:mm - DD/MM/YYYY")}),o.jsx("td",{className:"px-[1rem] py-[1rem] text-center ",children:o.jsx("button",{className:`px-5 py-1 rounded-full ${_.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:_.status==="active"?"Hot ng":"Khng hot ng"})}),o.jsx("td",{className:"px-[1rem] py-[1rem]",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"p-2 text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",title:"Xem",onClick:()=>C(_),children:o.jsx(F,{icon:Ws,className:"text-[1.6rem]"})}),o.jsx("button",{onClick:()=>S(_),className:"p-2 text-amber-600 border border-amber-300 bg-amber-50 hover:bg-amber-100 rounded-lg transition-colors",title:"Chnh sa",children:o.jsx(F,{icon:Ms,className:"text-[1.6rem]"})}),o.jsx("button",{className:`p-2 ${_.status==="active"?"text-red-600 border-red-300 bg-red-50 hover:bg-red-100":"text-green-600 border-green-300 bg-green-50 hover:bg-green-100"}  border  rounded-lg transition-colors`,title:_.status==="active"?"V hiu ha":"Kch hot",onClick:()=>w(_),children:o.jsx(F,{icon:_.status==="active"?OG:Wl,className:"text-[1.6rem]"})})]})})]},_.id))}):o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-16",children:"Khng c sn phm no!"})})})]}),o.jsx(awe,{editingCollection:d,isModalOpen:c,setIsModalOpen:u,setEditingCollection:f}),o.jsx(owe,{isOpen:p,onClose:()=>g(!1),collection:x,refetch:a}),b&&o.jsx(lwe,{isOpen:!!b,onClose:()=>w(null),collection:b}),o.jsx(cwe,{isOpen:!!N,onClose:()=>C(null),collection:N})]})}function dwe(){const[t,e]=k.useState({page:1,limit:10}),{data:n,isLoading:r,refetch:s}=Ae({queryKey:["allCollections",t],queryFn:()=>fS(t)}),i=n&&n.data||[],a=()=>o.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md animate-pulse",children:[o.jsx("div",{className:"relative h-[18rem] bg-gray-200",children:o.jsx("div",{className:"absolute top-4 right-4 h-8 w-24 bg-gray-300 rounded-full"})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-4"}),o.jsx("div",{className:"space-y-2 mb-6",children:o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})}),o.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]})]});return o.jsxs("div",{className:"w-full h-auto bg-white py-6 px-4 sm:px-6 lg:px-[12rem]",children:[o.jsxs("div",{className:"",children:[o.jsx("h1",{className:"text-[2rem] font-bold mb-2",children:"Collections"}),o.jsx("p",{className:"text-gray-600",children:"Khm ph b su tp thi trang a dng ca chng ti"})]}),o.jsxs("div",{className:"mt-14",children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:r?Array.from({length:8}).map((l,c)=>o.jsx("div",{children:o.jsx(a,{})},c)):i.length>0?i.map(l=>o.jsxs(Ze,{to:`/collections/${l.slug}`,className:"group bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"relative h-[18rem] overflow-hidden bg-gray-200",children:[o.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),l.collectionProducts&&o.jsxs("div",{className:"absolute top-4 right-4 bg-pink-600 text-white px-3 py-1 rounded-full text-[1.4rem] ",children:[l.collectionProducts.length," sn phm"]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"mb-2 group-hover:text-pink-600 transition-colors",children:l.name}),l.description&&o.jsx("p",{className:"text-gray-600 text-[1.4rem] mb-4",children:l.description}),o.jsxs("div",{className:"flex text-[1.4rem] items-center text-pink-600 group-hover:gap-2 transition-all",children:[o.jsx("span",{children:"Xem thm"}),o.jsx(F,{icon:en})]})]})]},l.id)):o.jsx("div",{className:"text-center",children:"Khng c collection no!"})}),i.length===0&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),o.jsx("h3",{className:"  text-gray-700 mb-2",children:"Cha c danh mc no"}),o.jsx("p",{className:"text-gray-500",children:"Vui lng thm danh mc sn phm  hin th ti y"})]})]})]})}function hwe(){const{slug:t}=Gs(),[e,n]=k.useState(!1),[r,s]=k.useState("asc"),i=tt(),[a,l]=k.useState({open:!1,data:null}),c=k.useRef(null),{data:u,isLoading:d}=Ae({queryKey:["collection",t,r],queryFn:()=>Nhe(t,r),enabled:!!t}),f=u?.data,p=f?.collectionProducts?.map(v=>v.product)||[];k.useEffect(()=>{const v=b=>{c.current&&!c.current.contains(b.target)&&n(!1)};return document.addEventListener("click",v),()=>{document.removeEventListener("click",v)}},[]);const g=()=>o.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md animate-pulse",children:[o.jsx("div",{className:"relative h-[30rem] bg-gray-200"}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-3"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/2"})]})]}),x=()=>o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-[12rem]",children:[o.jsx("div",{className:"h-8 w-32 bg-gray-300 rounded mb-8 animate-pulse"}),o.jsx("div",{className:"h-[30rem] bg-gray-200 rounded-lg mb-8 animate-pulse"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((v,b)=>o.jsx(g,{},b))})]});return o.jsxs(o.Fragment,{children:[d?o.jsx(x,{}):f?o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-[12rem]",children:[o.jsx("h3",{className:"text-[2rem] font-bold mb-6",children:f&&f.name}),o.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg mb-12",children:o.jsxs("div",{className:"relative h-[35rem] overflow-hidden",children:[o.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[o.jsx("h1",{className:"text-[3.6rem] font-bold mb-3",children:f.name}),f.description&&o.jsx("p",{className:"text-[1.6rem] text-gray-100 max-w-3xl",children:f.description})]})]})}),o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg mb-12",onClick:()=>n(!e),children:[o.jsx("span",{className:" block",children:"Sp xp theo"}),o.jsxs("div",{className:"flex relative w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",ref:c,children:[o.jsxs("span",{className:" text-[1.2rem] md:text-[1.4rem]",children:["Gi: ",r==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(F,{icon:bu,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:`absolute top-[100%] left-0 w-full origin-top bg-white ${e?"scale-y-100 opacity-[1]":"scale-y-0 opacity-0"} transition-transform  duration-300 shadow-lg rounded-md z-10`,children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${r==="asc"?"text-red-500":""}`,onClick:()=>s("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),r==="asc"&&o.jsx(F,{icon:ss,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${r==="desc"?"text-red-500":""}`,onClick:()=>s("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),r==="desc"&&o.jsx(F,{icon:ss,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]})]}),p.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4",children:p.map(v=>o.jsxs("div",{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>i(`/product-detail/${v.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[18rem] lg:h-[20rem] overflow-hidden",children:o.jsx("img",{src:v.mainImage||"https://via.placeholder.com/300",alt:v.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:v.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v.price)})]}),o.jsx("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:b=>{b.stopPropagation(),l({open:!0,data:v})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]})})]})]},v.id))}):o.jsxs("div",{className:"text-center py-16 bg-white rounded-lg",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"Cha c sn phm no"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem]",children:"B su tp ny hin cha c sn phm"})]})]}):o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-16 px-4 text-center",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Khng tm thy b su tp"}),o.jsxs(Ze,{to:"/collections",className:"inline-block mt-4 text-pink-600 hover:text-pink-700",children:[o.jsx(F,{icon:qs,className:"mr-2"}),"Quay li danh sch"]})]}),o.jsx(Ku,{showAddCart:a,setShowAddCart:l}),";"]})}function fwe(){return o.jsxs(o.Fragment,{children:[o.jsxs(w$,{children:[o.jsxs(Fe,{path:"/",element:o.jsx(Lde,{children:o.jsx(xme,{})}),children:[o.jsx(Fe,{index:!0,element:o.jsx(mme,{})}),o.jsx(Fe,{path:"about",element:o.jsx(BY,{})})]}),o.jsxs(Fe,{path:"category",element:o.jsx(yme,{}),children:[o.jsx(Fe,{path:":slug1",element:o.jsx(av,{})}),o.jsx(Fe,{path:":slug1/:slug2",element:o.jsx(av,{})}),o.jsx(Fe,{path:":slug1/:slug2/:slug3",element:o.jsx(av,{})})]}),o.jsxs(Fe,{element:o.jsx(HY,{}),children:[o.jsx(Fe,{path:"/login",element:o.jsx($Y,{})}),o.jsx(Fe,{path:"/register",element:o.jsx(Rde,{})})]}),o.jsxs(Fe,{element:o.jsx(Zde,{}),children:[o.jsxs(Fe,{path:"customer",element:o.jsx(pM,{children:o.jsx($de,{})}),children:[o.jsx(Fe,{index:!0,element:o.jsx(lu,{to:"account/profile",replace:!0})}),o.jsx(Fe,{path:"account/profile",element:o.jsx(dhe,{})}),o.jsx(Fe,{path:"account/address",element:o.jsx(lhe,{})}),o.jsx(Fe,{path:"account/privacy",element:o.jsx(uhe,{})}),o.jsx(Fe,{path:"order",element:o.jsx(nhe,{})}),o.jsx(Fe,{path:"my-voucher",element:o.jsx(jme,{})}),o.jsx(Fe,{path:"favorite",element:o.jsx(Nme,{})})]}),o.jsx(Fe,{path:"collections",element:o.jsx(dwe,{})}),o.jsx(Fe,{path:"collections/:slug",element:o.jsx(hwe,{})}),o.jsx(Fe,{path:"cart/detail",element:o.jsx(rhe,{})}),o.jsx(Fe,{path:"checkout",element:o.jsx(ohe,{})}),o.jsx(Fe,{path:"payment-momo-redirect",element:o.jsx(vhe,{})}),o.jsx(Fe,{path:"order-confirmation/:orderCode",element:o.jsx(fhe,{})}),o.jsx(Fe,{path:"look-up-order",element:o.jsx(bhe,{})}),o.jsx(Fe,{path:"product-detail/:productSlug",element:o.jsx(xhe,{})}),o.jsx(Fe,{path:"products",element:o.jsx(iwe,{})}),o.jsx(Fe,{path:"search",element:o.jsx(swe,{})}),o.jsx(Fe,{path:"flash-sale/:slug",element:o.jsx(Hme,{})})]}),o.jsxs(Fe,{path:"/dashboard",element:o.jsx(pM,{roles:[Kt.ADMIN,Kt.STAFF],redirectTo:"/dashboard/login",children:o.jsx(qY,{})}),children:[o.jsx(Fe,{index:!0,element:o.jsx(jte,{})}),o.jsx(Fe,{path:"products",element:o.jsx(Rte,{})}),o.jsx(Fe,{path:"products/detail/:id",element:o.jsx(Ume,{})}),o.jsx(Fe,{path:"products/action",element:o.jsx(jA,{})}),o.jsx(Fe,{path:"products/action/:id",element:o.jsx(jA,{})}),o.jsx(Fe,{path:"categories",element:o.jsx(Vte,{})}),o.jsx(Fe,{path:"profile",element:o.jsx($te,{})}),o.jsx(Fe,{path:"orders/list-order",element:o.jsx(Tde,{})}),o.jsx(Fe,{path:"staff",element:o.jsx(_de,{})}),o.jsxs(Fe,{path:"customers",element:o.jsx(Cme,{}),children:[o.jsx(Fe,{index:!0,element:o.jsx(_me,{})}),o.jsx(Fe,{path:"purchased",element:o.jsx(Dme,{})}),o.jsx(Fe,{path:"no-order",element:o.jsx(Ime,{})}),o.jsx(Fe,{path:"statistic",element:o.jsx(Lme,{})})]}),o.jsx(Fe,{path:"detail-customer/:customerCode",element:o.jsx(Rme,{})}),o.jsx(Fe,{path:"guest-detail/:guestEmail",element:o.jsx(Vme,{})}),o.jsx(Fe,{path:"guest-customers",element:o.jsx(zme,{}),children:o.jsx(Fe,{path:"statistic",element:o.jsx(E8,{})})}),o.jsx(Fe,{path:"banner-slide",element:o.jsx(Mhe,{})}),o.jsx(Fe,{path:"collection",element:o.jsx(uwe,{})}),o.jsx(Fe,{path:"discount",element:o.jsx(wme,{})}),o.jsx(Fe,{path:"flashsale",element:o.jsx(ume,{})}),o.jsx(Fe,{path:"flashsale/create",element:o.jsx(AM,{})}),o.jsx(Fe,{path:"flashsale/edit/:id",element:o.jsx(AM,{})}),o.jsx(Fe,{path:"flashsale/detail/:id",element:o.jsx(Bme,{})})]}),o.jsx(Fe,{path:"/dashboard/login",element:o.jsx(hhe,{children:o.jsx(SY,{})})}),o.jsx(Fe,{path:"*",element:o.jsx(Dde,{})}),o.jsx(Fe,{path:"/unauthorized",element:o.jsx(Ide,{})})]}),o.jsx(IB,{position:"top-right",autoClose:3e3})]})}const mwe=k.createContext(null);function pwe({children:t}){const[e,n]=k.useState(null);return o.jsx(mwe.Provider,{value:{currCategory:e,setCurrCategory:n},children:t})}const gwe=new _U;M9.createRoot(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(W$,{children:o.jsx(DU,{client:gwe,children:o.jsx(pwe,{children:o.jsx(GU,{children:o.jsx(kY,{clientId:"703456349605-7lrmk34o85uaqde1iikmsn5cp8csm52e.apps.googleusercontent.com",children:o.jsx(fwe,{})})})})})})}));
