function uV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function O0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bb={exports:{}},dd={},vb={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m4;function dV(){if(m4)return it;m4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(B,J,ne){this.props=B,this.context=J,this.refs=v,this.updater=ne||g}b.prototype.isReactComponent={},b.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=b.prototype;function N(B,J,ne){this.props=B,this.context=J,this.refs=v,this.updater=ne||g}var C=N.prototype=new w;C.constructor=N,x(C,b.prototype),C.isPureReactComponent=!0;var T=Array.isArray,j=Object.prototype.hasOwnProperty,E={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(B,J,ne){var ie,le={},be=null,Ae=null;if(J!=null)for(ie in J.ref!==void 0&&(Ae=J.ref),J.key!==void 0&&(be=""+J.key),J)j.call(J,ie)&&!O.hasOwnProperty(ie)&&(le[ie]=J[ie]);var Le=arguments.length-2;if(Le===1)le.children=ne;else if(1<Le){for(var ae=Array(Le),fe=0;fe<Le;fe++)ae[fe]=arguments[fe+2];le.children=ae}if(B&&B.defaultProps)for(ie in Le=B.defaultProps,Le)le[ie]===void 0&&(le[ie]=Le[ie]);return{$$typeof:t,type:B,key:be,ref:Ae,props:le,_owner:E.current}}function _(B,J){return{$$typeof:t,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function I(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ne){return J[ne]})}var F=/\/+/g;function Y(B,J){return typeof B=="object"&&B!==null&&B.key!=null?I(""+B.key):J.toString(36)}function G(B,J,ne,ie,le){var be=typeof B;(be==="undefined"||be==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(be){case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=B,le=le(Ae),B=ie===""?"."+Y(Ae,0):ie,T(le)?(ne="",B!=null&&(ne=B.replace(F,"$&/")+"/"),G(le,J,ne,"",function(fe){return fe})):le!=null&&(D(le)&&(le=_(le,ne+(!le.key||Ae&&Ae.key===le.key?"":(""+le.key).replace(F,"$&/")+"/")+B)),J.push(le)),1;if(Ae=0,ie=ie===""?".":ie+":",T(B))for(var Le=0;Le<B.length;Le++){be=B[Le];var ae=ie+Y(be,Le);Ae+=G(be,J,ne,ae,le)}else if(ae=p(B),typeof ae=="function")for(B=ae.call(B),Le=0;!(be=B.next()).done;)be=be.value,ae=ie+Y(be,Le++),Ae+=G(be,J,ne,ae,le);else if(be==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ae}function W(B,J,ne){if(B==null)return B;var ie=[],le=0;return G(B,ie,"","",function(be){return J.call(ne,be,le++)}),ie}function R(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(ne){(B._status===0||B._status===-1)&&(B._status=1,B._result=ne)},function(ne){(B._status===0||B._status===-1)&&(B._status=2,B._result=ne)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var V={current:null},z={transition:null},q={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:z,ReactCurrentOwner:E};function Q(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:W,forEach:function(B,J,ne){W(B,function(){J.apply(this,arguments)},ne)},count:function(B){var J=0;return W(B,function(){J++}),J},toArray:function(B){return W(B,function(J){return J})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},it.Component=b,it.Fragment=n,it.Profiler=s,it.PureComponent=N,it.StrictMode=r,it.Suspense=l,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,it.act=Q,it.cloneElement=function(B,J,ne){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ie=x({},B.props),le=B.key,be=B.ref,Ae=B._owner;if(J!=null){if(J.ref!==void 0&&(be=J.ref,Ae=E.current),J.key!==void 0&&(le=""+J.key),B.type&&B.type.defaultProps)var Le=B.type.defaultProps;for(ae in J)j.call(J,ae)&&!O.hasOwnProperty(ae)&&(ie[ae]=J[ae]===void 0&&Le!==void 0?Le[ae]:J[ae])}var ae=arguments.length-2;if(ae===1)ie.children=ne;else if(1<ae){Le=Array(ae);for(var fe=0;fe<ae;fe++)Le[fe]=arguments[fe+2];ie.children=Le}return{$$typeof:t,type:B.type,key:le,ref:be,props:ie,_owner:Ae}},it.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},it.createElement=M,it.createFactory=function(B){var J=M.bind(null,B);return J.type=B,J},it.createRef=function(){return{current:null}},it.forwardRef=function(B){return{$$typeof:o,render:B}},it.isValidElement=D,it.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:R}},it.memo=function(B,J){return{$$typeof:u,type:B,compare:J===void 0?null:J}},it.startTransition=function(B){var J=z.transition;z.transition={};try{B()}finally{z.transition=J}},it.unstable_act=Q,it.useCallback=function(B,J){return V.current.useCallback(B,J)},it.useContext=function(B){return V.current.useContext(B)},it.useDebugValue=function(){},it.useDeferredValue=function(B){return V.current.useDeferredValue(B)},it.useEffect=function(B,J){return V.current.useEffect(B,J)},it.useId=function(){return V.current.useId()},it.useImperativeHandle=function(B,J,ne){return V.current.useImperativeHandle(B,J,ne)},it.useInsertionEffect=function(B,J){return V.current.useInsertionEffect(B,J)},it.useLayoutEffect=function(B,J){return V.current.useLayoutEffect(B,J)},it.useMemo=function(B,J){return V.current.useMemo(B,J)},it.useReducer=function(B,J,ne){return V.current.useReducer(B,J,ne)},it.useRef=function(B){return V.current.useRef(B)},it.useState=function(B){return V.current.useState(B)},it.useSyncExternalStore=function(B,J,ne){return V.current.useSyncExternalStore(B,J,ne)},it.useTransition=function(){return V.current.useTransition()},it.version="18.3.1",it}var p4;function mu(){return p4||(p4=1,vb.exports=dV()),vb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4;function fV(){if(g4)return dd;g4=1;var t=mu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,u){var d,h={},p=null,g=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)r.call(l,d)&&!i.hasOwnProperty(d)&&(h[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)h[d]===void 0&&(h[d]=l[d]);return{$$typeof:e,type:o,key:p,ref:g,props:h,_owner:s.current}}return dd.Fragment=n,dd.jsx=a,dd.jsxs=a,dd}var x4;function hV(){return x4||(x4=1,bb.exports=fV()),bb.exports}var c=hV(),A=mu();const ge=O0(A),y4=uV({__proto__:null,default:ge},[A]);var Mm={},wb={exports:{}},wr={},Sb={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4;function mV(){return b4||(b4=1,(function(t){function e(z,q){var Q=z.length;z.push(q);e:for(;0<Q;){var B=Q-1>>>1,J=z[B];if(0<s(J,q))z[B]=q,z[Q]=J,Q=B;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],Q=z.pop();if(Q!==q){z[0]=Q;e:for(var B=0,J=z.length,ne=J>>>1;B<ne;){var ie=2*(B+1)-1,le=z[ie],be=ie+1,Ae=z[be];if(0>s(le,Q))be<J&&0>s(Ae,le)?(z[B]=Ae,z[be]=Q,B=be):(z[B]=le,z[ie]=Q,B=ie);else if(be<J&&0>s(Ae,Q))z[B]=Ae,z[be]=Q,B=be;else break e}}return q}function s(z,q){var Q=z.sortIndex-q.sortIndex;return Q!==0?Q:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,p=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=z)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function T(z){if(v=!1,C(z),!x)if(n(l)!==null)x=!0,R(j);else{var q=n(u);q!==null&&V(T,q.startTime-z)}}function j(z,q){x=!1,v&&(v=!1,w(M),M=-1),g=!0;var Q=p;try{for(C(q),h=n(l);h!==null&&(!(h.expirationTime>q)||z&&!I());){var B=h.callback;if(typeof B=="function"){h.callback=null,p=h.priorityLevel;var J=B(h.expirationTime<=q);q=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),C(q)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var ie=n(u);ie!==null&&V(T,ie.startTime-q),ne=!1}return ne}finally{h=null,p=Q,g=!1}}var E=!1,O=null,M=-1,_=5,D=-1;function I(){return!(t.unstable_now()-D<_)}function F(){if(O!==null){var z=t.unstable_now();D=z;var q=!0;try{q=O(!0,z)}finally{q?Y():(E=!1,O=null)}}else E=!1}var Y;if(typeof N=="function")Y=function(){N(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=F,Y=function(){W.postMessage(null)}}else Y=function(){b(F,0)};function R(z){O=z,E||(E=!0,Y())}function V(z,q){M=b(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,R(j))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var Q=p;p=q;try{return z()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=p;p=z;try{return q()}finally{p=Q}},t.unstable_scheduleCallback=function(z,q,Q){var B=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?B+Q:B):Q=B,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,z={id:d++,callback:q,priorityLevel:z,startTime:Q,expirationTime:J,sortIndex:-1},Q>B?(z.sortIndex=Q,e(u,z),n(l)===null&&z===n(u)&&(v?(w(M),M=-1):v=!0,V(T,Q-B))):(z.sortIndex=J,e(l,z),x||g||(x=!0,R(j))),z},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(z){var q=p;return function(){var Q=p;p=q;try{return z.apply(this,arguments)}finally{p=Q}}}})(Nb)),Nb}var v4;function pV(){return v4||(v4=1,Sb.exports=mV()),Sb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4;function gV(){if(w4)return wr;w4=1;var t=mu(),e=pV();function n(f){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+f,y=1;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(f,m){a(f,m),a(f+"Capture",m)}function a(f,m){for(s[f]=m,f=0;f<m.length;f++)r.add(m[f])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(f){return l.call(h,f)?!0:l.call(d,f)?!1:u.test(f)?h[f]=!0:(d[f]=!0,!1)}function g(f,m,y,S){if(y!==null&&y.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return S?!1:y!==null?!y.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function x(f,m,y,S){if(m===null||typeof m>"u"||g(f,m,y,S))return!0;if(S)return!1;if(y!==null)switch(y.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(f,m,y,S,k,P,L){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=S,this.attributeNamespace=k,this.mustUseProperty=y,this.propertyName=f,this.type=m,this.sanitizeURL=P,this.removeEmptyString=L}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){b[f]=new v(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var m=f[0];b[m]=new v(m,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){b[f]=new v(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){b[f]=new v(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){b[f]=new v(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){b[f]=new v(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){b[f]=new v(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){b[f]=new v(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){b[f]=new v(f,5,!1,f.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function N(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var m=f.replace(w,N);b[m]=new v(m,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var m=f.replace(w,N);b[m]=new v(m,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var m=f.replace(w,N);b[m]=new v(m,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){b[f]=new v(f,1,!1,f.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){b[f]=new v(f,1,!1,f.toLowerCase(),null,!0,!0)});function C(f,m,y,S){var k=b.hasOwnProperty(m)?b[m]:null;(k!==null?k.type!==0:S||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,y,k,S)&&(y=null),S||k===null?p(m)&&(y===null?f.removeAttribute(m):f.setAttribute(m,""+y)):k.mustUseProperty?f[k.propertyName]=y===null?k.type===3?!1:"":y:(m=k.attributeName,S=k.attributeNamespace,y===null?f.removeAttribute(m):(k=k.type,y=k===3||k===4&&y===!0?"":""+y,S?f.setAttributeNS(S,m,y):f.setAttribute(m,y))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),z=Symbol.iterator;function q(f){return f===null||typeof f!="object"?null:(f=z&&f[z]||f["@@iterator"],typeof f=="function"?f:null)}var Q=Object.assign,B;function J(f){if(B===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);B=m&&m[1]||""}return`
`+B+f}var ne=!1;function ie(f,m){if(!f||ne)return"";ne=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(re){var S=re}Reflect.construct(f,[],m)}else{try{m.call()}catch(re){S=re}f.call(m.prototype)}else{try{throw Error()}catch(re){S=re}f()}}catch(re){if(re&&S&&typeof re.stack=="string"){for(var k=re.stack.split(`
`),P=S.stack.split(`
`),L=k.length-1,H=P.length-1;1<=L&&0<=H&&k[L]!==P[H];)H--;for(;1<=L&&0<=H;L--,H--)if(k[L]!==P[H]){if(L!==1||H!==1)do if(L--,H--,0>H||k[L]!==P[H]){var K=`
`+k[L].replace(" at new "," at ");return f.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",f.displayName)),K}while(1<=L&&0<=H);break}}}finally{ne=!1,Error.prepareStackTrace=y}return(f=f?f.displayName||f.name:"")?J(f):""}function le(f){switch(f.tag){case 5:return J(f.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return f=ie(f.type,!1),f;case 11:return f=ie(f.type.render,!1),f;case 1:return f=ie(f.type,!0),f;default:return""}}function be(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case O:return"Fragment";case E:return"Portal";case _:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case G:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case I:return(f.displayName||"Context")+".Consumer";case D:return(f._context.displayName||"Context")+".Provider";case F:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case W:return m=f.displayName||null,m!==null?m:be(f.type)||"Memo";case R:m=f._payload,f=f._init;try{return be(f(m))}catch{}}return null}function Ae(f){var m=f.type;switch(f.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=m.render,f=f.displayName||f.name||"",m.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(m);case 8:return m===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function Le(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ae(f){var m=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function fe(f){var m=ae(f)?"checked":"value",y=Object.getOwnPropertyDescriptor(f.constructor.prototype,m),S=""+f[m];if(!f.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,P=y.set;return Object.defineProperty(f,m,{configurable:!0,get:function(){return k.call(this)},set:function(L){S=""+L,P.call(this,L)}}),Object.defineProperty(f,m,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(L){S=""+L},stopTracking:function(){f._valueTracker=null,delete f[m]}}}}function Ye(f){f._valueTracker||(f._valueTracker=fe(f))}function ke(f){if(!f)return!1;var m=f._valueTracker;if(!m)return!0;var y=m.getValue(),S="";return f&&(S=ae(f)?f.checked?"true":"false":f.value),f=S,f!==y?(m.setValue(f),!0):!1}function xe(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function He(f,m){var y=m.checked;return Q({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??f._wrapperState.initialChecked})}function Ee(f,m){var y=m.defaultValue==null?"":m.defaultValue,S=m.checked!=null?m.checked:m.defaultChecked;y=Le(m.value!=null?m.value:y),f._wrapperState={initialChecked:S,initialValue:y,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function st(f,m){m=m.checked,m!=null&&C(f,"checked",m,!1)}function qt(f,m){st(f,m);var y=Le(m.value),S=m.type;if(y!=null)S==="number"?(y===0&&f.value===""||f.value!=y)&&(f.value=""+y):f.value!==""+y&&(f.value=""+y);else if(S==="submit"||S==="reset"){f.removeAttribute("value");return}m.hasOwnProperty("value")?gn(f,m.type,y):m.hasOwnProperty("defaultValue")&&gn(f,m.type,Le(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(f.defaultChecked=!!m.defaultChecked)}function mr(f,m,y){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var S=m.type;if(!(S!=="submit"&&S!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+f._wrapperState.initialValue,y||m===f.value||(f.value=m),f.defaultValue=m}y=f.name,y!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,y!==""&&(f.name=y)}function gn(f,m,y){(m!=="number"||xe(f.ownerDocument)!==f)&&(y==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+y&&(f.defaultValue=""+y))}var U=Array.isArray;function ee(f,m,y,S){if(f=f.options,m){m={};for(var k=0;k<y.length;k++)m["$"+y[k]]=!0;for(y=0;y<f.length;y++)k=m.hasOwnProperty("$"+f[y].value),f[y].selected!==k&&(f[y].selected=k),k&&S&&(f[y].defaultSelected=!0)}else{for(y=""+Le(y),m=null,k=0;k<f.length;k++){if(f[k].value===y){f[k].selected=!0,S&&(f[k].defaultSelected=!0);return}m!==null||f[k].disabled||(m=f[k])}m!==null&&(m.selected=!0)}}function oe(f,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},m,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Te(f,m){var y=m.value;if(y==null){if(y=m.children,m=m.defaultValue,y!=null){if(m!=null)throw Error(n(92));if(U(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),y=m}f._wrapperState={initialValue:Le(y)}}function Ne(f,m){var y=Le(m.value),S=Le(m.defaultValue);y!=null&&(y=""+y,y!==f.value&&(f.value=y),m.defaultValue==null&&f.defaultValue!==y&&(f.defaultValue=y)),S!=null&&(f.defaultValue=""+S)}function we(f){var m=f.textContent;m===f._wrapperState.initialValue&&m!==""&&m!==null&&(f.value=m)}function Re(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(f,m){return f==null||f==="http://www.w3.org/1999/xhtml"?Re(m):f==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var ht,ir=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,y,S,k){MSApp.execUnsafeLocalFunction(function(){return f(m,y,S,k)})}:f})(function(f,m){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=m;else{for(ht=ht||document.createElement("div"),ht.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ht.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;m.firstChild;)f.appendChild(m.firstChild)}});function Fs(f,m){if(m){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=m;return}}f.textContent=m}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Px=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(f){Px.forEach(function(m){m=m+f.charAt(0).toUpperCase()+f.substring(1),pr[m]=pr[f]})});function Wl(f,m,y){return m==null||typeof m=="boolean"||m===""?"":y||typeof m!="number"||m===0||pr.hasOwnProperty(f)&&pr[f]?(""+m).trim():m+"px"}function ql(f,m){f=f.style;for(var y in m)if(m.hasOwnProperty(y)){var S=y.indexOf("--")===0,k=Wl(y,m[y],S);y==="float"&&(y="cssFloat"),S?f.setProperty(y,k):f[y]=k}}var _x=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(f,m){if(m){if(_x[f]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Eu(f,m){if(f.indexOf("-")===-1)return typeof m.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=null;function Dx(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ix=null,Yl=null,Xl=null;function OC(f){if(f=Xu(f)){if(typeof Ix!="function")throw Error(n(280));var m=f.stateNode;m&&(m=Uh(m),Ix(f.stateNode,f.type,m))}}function PC(f){Yl?Xl?Xl.push(f):Xl=[f]:Yl=f}function _C(){if(Yl){var f=Yl,m=Xl;if(Xl=Yl=null,OC(f),m)for(f=0;f<m.length;f++)OC(m[f])}}function DC(f,m){return f(m)}function IC(){}var Lx=!1;function LC(f,m,y){if(Lx)return f(m,y);Lx=!0;try{return DC(f,m,y)}finally{Lx=!1,(Yl!==null||Xl!==null)&&(IC(),_C())}}function Mu(f,m){var y=f.stateNode;if(y===null)return null;var S=Uh(y);if(S===null)return null;y=S[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(f=f.type,S=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!S;break e;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(n(231,m,typeof y));return y}var Rx=!1;if(o)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){Rx=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Rx=!1}function g7(f,m,y,S,k,P,L,H,K){var re=Array.prototype.slice.call(arguments,3);try{m.apply(y,re)}catch(he){this.onError(he)}}var Ou=!1,Sh=null,Nh=!1,Fx=null,x7={onError:function(f){Ou=!0,Sh=f}};function y7(f,m,y,S,k,P,L,H,K){Ou=!1,Sh=null,g7.apply(x7,arguments)}function b7(f,m,y,S,k,P,L,H,K){if(y7.apply(this,arguments),Ou){if(Ou){var re=Sh;Ou=!1,Sh=null}else throw Error(n(198));Nh||(Nh=!0,Fx=re)}}function ko(f){var m=f,y=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(y=m.return),f=m.return;while(f)}return m.tag===3?y:null}function RC(f){if(f.tag===13){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function FC(f){if(ko(f)!==f)throw Error(n(188))}function v7(f){var m=f.alternate;if(!m){if(m=ko(f),m===null)throw Error(n(188));return m!==f?null:f}for(var y=f,S=m;;){var k=y.return;if(k===null)break;var P=k.alternate;if(P===null){if(S=k.return,S!==null){y=S;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===y)return FC(k),f;if(P===S)return FC(k),m;P=P.sibling}throw Error(n(188))}if(y.return!==S.return)y=k,S=P;else{for(var L=!1,H=k.child;H;){if(H===y){L=!0,y=k,S=P;break}if(H===S){L=!0,S=k,y=P;break}H=H.sibling}if(!L){for(H=P.child;H;){if(H===y){L=!0,y=P,S=k;break}if(H===S){L=!0,S=P,y=k;break}H=H.sibling}if(!L)throw Error(n(189))}}if(y.alternate!==S)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?f:m}function zC(f){return f=v7(f),f!==null?VC(f):null}function VC(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var m=VC(f);if(m!==null)return m;f=f.sibling}return null}var $C=e.unstable_scheduleCallback,BC=e.unstable_cancelCallback,w7=e.unstable_shouldYield,S7=e.unstable_requestPaint,nn=e.unstable_now,N7=e.unstable_getCurrentPriorityLevel,zx=e.unstable_ImmediatePriority,HC=e.unstable_UserBlockingPriority,Ch=e.unstable_NormalPriority,C7=e.unstable_LowPriority,UC=e.unstable_IdlePriority,jh=null,zs=null;function j7(f){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(jh,f,void 0,(f.current.flags&128)===128)}catch{}}var vs=Math.clz32?Math.clz32:E7,k7=Math.log,T7=Math.LN2;function E7(f){return f>>>=0,f===0?32:31-(k7(f)/T7|0)|0}var kh=64,Th=4194304;function Pu(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Eh(f,m){var y=f.pendingLanes;if(y===0)return 0;var S=0,k=f.suspendedLanes,P=f.pingedLanes,L=y&268435455;if(L!==0){var H=L&~k;H!==0?S=Pu(H):(P&=L,P!==0&&(S=Pu(P)))}else L=y&~k,L!==0?S=Pu(L):P!==0&&(S=Pu(P));if(S===0)return 0;if(m!==0&&m!==S&&(m&k)===0&&(k=S&-S,P=m&-m,k>=P||k===16&&(P&4194240)!==0))return m;if((S&4)!==0&&(S|=y&16),m=f.entangledLanes,m!==0)for(f=f.entanglements,m&=S;0<m;)y=31-vs(m),k=1<<y,S|=f[y],m&=~k;return S}function M7(f,m){switch(f){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A7(f,m){for(var y=f.suspendedLanes,S=f.pingedLanes,k=f.expirationTimes,P=f.pendingLanes;0<P;){var L=31-vs(P),H=1<<L,K=k[L];K===-1?((H&y)===0||(H&S)!==0)&&(k[L]=M7(H,m)):K<=m&&(f.expiredLanes|=H),P&=~H}}function Vx(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function WC(){var f=kh;return kh<<=1,(kh&4194240)===0&&(kh=64),f}function $x(f){for(var m=[],y=0;31>y;y++)m.push(f);return m}function _u(f,m,y){f.pendingLanes|=m,m!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,m=31-vs(m),f[m]=y}function O7(f,m){var y=f.pendingLanes&~m;f.pendingLanes=m,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=m,f.mutableReadLanes&=m,f.entangledLanes&=m,m=f.entanglements;var S=f.eventTimes;for(f=f.expirationTimes;0<y;){var k=31-vs(y),P=1<<k;m[k]=0,S[k]=-1,f[k]=-1,y&=~P}}function Bx(f,m){var y=f.entangledLanes|=m;for(f=f.entanglements;y;){var S=31-vs(y),k=1<<S;k&m|f[S]&m&&(f[S]|=m),y&=~k}}var yt=0;function qC(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var KC,Hx,GC,YC,XC,Ux=!1,Mh=[],fa=null,ha=null,ma=null,Du=new Map,Iu=new Map,pa=[],P7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QC(f,m){switch(f){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Du.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(m.pointerId)}}function Lu(f,m,y,S,k,P){return f===null||f.nativeEvent!==P?(f={blockedOn:m,domEventName:y,eventSystemFlags:S,nativeEvent:P,targetContainers:[k]},m!==null&&(m=Xu(m),m!==null&&Hx(m)),f):(f.eventSystemFlags|=S,m=f.targetContainers,k!==null&&m.indexOf(k)===-1&&m.push(k),f)}function _7(f,m,y,S,k){switch(m){case"focusin":return fa=Lu(fa,f,m,y,S,k),!0;case"dragenter":return ha=Lu(ha,f,m,y,S,k),!0;case"mouseover":return ma=Lu(ma,f,m,y,S,k),!0;case"pointerover":var P=k.pointerId;return Du.set(P,Lu(Du.get(P)||null,f,m,y,S,k)),!0;case"gotpointercapture":return P=k.pointerId,Iu.set(P,Lu(Iu.get(P)||null,f,m,y,S,k)),!0}return!1}function JC(f){var m=To(f.target);if(m!==null){var y=ko(m);if(y!==null){if(m=y.tag,m===13){if(m=RC(y),m!==null){f.blockedOn=m,XC(f.priority,function(){GC(y)});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Ah(f){if(f.blockedOn!==null)return!1;for(var m=f.targetContainers;0<m.length;){var y=qx(f.domEventName,f.eventSystemFlags,m[0],f.nativeEvent);if(y===null){y=f.nativeEvent;var S=new y.constructor(y.type,y);Gl=S,y.target.dispatchEvent(S),Gl=null}else return m=Xu(y),m!==null&&Hx(m),f.blockedOn=y,!1;m.shift()}return!0}function ZC(f,m,y){Ah(f)&&y.delete(m)}function D7(){Ux=!1,fa!==null&&Ah(fa)&&(fa=null),ha!==null&&Ah(ha)&&(ha=null),ma!==null&&Ah(ma)&&(ma=null),Du.forEach(ZC),Iu.forEach(ZC)}function Ru(f,m){f.blockedOn===m&&(f.blockedOn=null,Ux||(Ux=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,D7)))}function Fu(f){function m(k){return Ru(k,f)}if(0<Mh.length){Ru(Mh[0],f);for(var y=1;y<Mh.length;y++){var S=Mh[y];S.blockedOn===f&&(S.blockedOn=null)}}for(fa!==null&&Ru(fa,f),ha!==null&&Ru(ha,f),ma!==null&&Ru(ma,f),Du.forEach(m),Iu.forEach(m),y=0;y<pa.length;y++)S=pa[y],S.blockedOn===f&&(S.blockedOn=null);for(;0<pa.length&&(y=pa[0],y.blockedOn===null);)JC(y),y.blockedOn===null&&pa.shift()}var Ql=T.ReactCurrentBatchConfig,Oh=!0;function I7(f,m,y,S){var k=yt,P=Ql.transition;Ql.transition=null;try{yt=1,Wx(f,m,y,S)}finally{yt=k,Ql.transition=P}}function L7(f,m,y,S){var k=yt,P=Ql.transition;Ql.transition=null;try{yt=4,Wx(f,m,y,S)}finally{yt=k,Ql.transition=P}}function Wx(f,m,y,S){if(Oh){var k=qx(f,m,y,S);if(k===null)cy(f,m,S,Ph,y),QC(f,S);else if(_7(k,f,m,y,S))S.stopPropagation();else if(QC(f,S),m&4&&-1<P7.indexOf(f)){for(;k!==null;){var P=Xu(k);if(P!==null&&KC(P),P=qx(f,m,y,S),P===null&&cy(f,m,S,Ph,y),P===k)break;k=P}k!==null&&S.stopPropagation()}else cy(f,m,S,null,y)}}var Ph=null;function qx(f,m,y,S){if(Ph=null,f=Dx(S),f=To(f),f!==null)if(m=ko(f),m===null)f=null;else if(y=m.tag,y===13){if(f=RC(m),f!==null)return f;f=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;f=null}else m!==f&&(f=null);return Ph=f,null}function ej(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N7()){case zx:return 1;case HC:return 4;case Ch:case C7:return 16;case UC:return 536870912;default:return 16}default:return 16}}var ga=null,Kx=null,_h=null;function tj(){if(_h)return _h;var f,m=Kx,y=m.length,S,k="value"in ga?ga.value:ga.textContent,P=k.length;for(f=0;f<y&&m[f]===k[f];f++);var L=y-f;for(S=1;S<=L&&m[y-S]===k[P-S];S++);return _h=k.slice(f,1<S?1-S:void 0)}function Dh(f){var m=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&m===13&&(f=13)):f=m,f===10&&(f=13),32<=f||f===13?f:0}function Ih(){return!0}function nj(){return!1}function Ir(f){function m(y,S,k,P,L){this._reactName=y,this._targetInst=k,this.type=S,this.nativeEvent=P,this.target=L,this.currentTarget=null;for(var H in f)f.hasOwnProperty(H)&&(y=f[H],this[H]=y?y(P):P[H]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Ih:nj,this.isPropagationStopped=nj,this}return Q(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),m}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gx=Ir(Jl),zu=Q({},Jl,{view:0,detail:0}),R7=Ir(zu),Yx,Xx,Vu,Lh=Q({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jx,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Vu&&(Vu&&f.type==="mousemove"?(Yx=f.screenX-Vu.screenX,Xx=f.screenY-Vu.screenY):Xx=Yx=0,Vu=f),Yx)},movementY:function(f){return"movementY"in f?f.movementY:Xx}}),rj=Ir(Lh),F7=Q({},Lh,{dataTransfer:0}),z7=Ir(F7),V7=Q({},zu,{relatedTarget:0}),Qx=Ir(V7),$7=Q({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),B7=Ir($7),H7=Q({},Jl,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),U7=Ir(H7),W7=Q({},Jl,{data:0}),sj=Ir(W7),q7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y7(f){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(f):(f=G7[f])?!!m[f]:!1}function Jx(){return Y7}var X7=Q({},zu,{key:function(f){if(f.key){var m=q7[f.key]||f.key;if(m!=="Unidentified")return m}return f.type==="keypress"?(f=Dh(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?K7[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jx,charCode:function(f){return f.type==="keypress"?Dh(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Dh(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Q7=Ir(X7),J7=Q({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ij=Ir(J7),Z7=Q({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jx}),ez=Ir(Z7),tz=Q({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nz=Ir(tz),rz=Q({},Lh,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),sz=Ir(rz),iz=[9,13,27,32],Zx=o&&"CompositionEvent"in window,$u=null;o&&"documentMode"in document&&($u=document.documentMode);var az=o&&"TextEvent"in window&&!$u,aj=o&&(!Zx||$u&&8<$u&&11>=$u),oj=" ",lj=!1;function cj(f,m){switch(f){case"keyup":return iz.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uj(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Zl=!1;function oz(f,m){switch(f){case"compositionend":return uj(m);case"keypress":return m.which!==32?null:(lj=!0,oj);case"textInput":return f=m.data,f===oj&&lj?null:f;default:return null}}function lz(f,m){if(Zl)return f==="compositionend"||!Zx&&cj(f,m)?(f=tj(),_h=Kx=ga=null,Zl=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return aj&&m.locale!=="ko"?null:m.data;default:return null}}var cz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dj(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m==="input"?!!cz[f.type]:m==="textarea"}function fj(f,m,y,S){PC(S),m=$h(m,"onChange"),0<m.length&&(y=new Gx("onChange","change",null,y,S),f.push({event:y,listeners:m}))}var Bu=null,Hu=null;function uz(f){Aj(f,0)}function Rh(f){var m=sc(f);if(ke(m))return f}function dz(f,m){if(f==="change")return m}var hj=!1;if(o){var ey;if(o){var ty="oninput"in document;if(!ty){var mj=document.createElement("div");mj.setAttribute("oninput","return;"),ty=typeof mj.oninput=="function"}ey=ty}else ey=!1;hj=ey&&(!document.documentMode||9<document.documentMode)}function pj(){Bu&&(Bu.detachEvent("onpropertychange",gj),Hu=Bu=null)}function gj(f){if(f.propertyName==="value"&&Rh(Hu)){var m=[];fj(m,Hu,f,Dx(f)),LC(uz,m)}}function fz(f,m,y){f==="focusin"?(pj(),Bu=m,Hu=y,Bu.attachEvent("onpropertychange",gj)):f==="focusout"&&pj()}function hz(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Rh(Hu)}function mz(f,m){if(f==="click")return Rh(m)}function pz(f,m){if(f==="input"||f==="change")return Rh(m)}function gz(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var ws=typeof Object.is=="function"?Object.is:gz;function Uu(f,m){if(ws(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var y=Object.keys(f),S=Object.keys(m);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var k=y[S];if(!l.call(m,k)||!ws(f[k],m[k]))return!1}return!0}function xj(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function yj(f,m){var y=xj(f);f=0;for(var S;y;){if(y.nodeType===3){if(S=f+y.textContent.length,f<=m&&S>=m)return{node:y,offset:m-f};f=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=xj(y)}}function bj(f,m){return f&&m?f===m?!0:f&&f.nodeType===3?!1:m&&m.nodeType===3?bj(f,m.parentNode):"contains"in f?f.contains(m):f.compareDocumentPosition?!!(f.compareDocumentPosition(m)&16):!1:!1}function vj(){for(var f=window,m=xe();m instanceof f.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)f=m.contentWindow;else break;m=xe(f.document)}return m}function ny(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m&&(m==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||m==="textarea"||f.contentEditable==="true")}function xz(f){var m=vj(),y=f.focusedElem,S=f.selectionRange;if(m!==y&&y&&y.ownerDocument&&bj(y.ownerDocument.documentElement,y)){if(S!==null&&ny(y)){if(m=S.start,f=S.end,f===void 0&&(f=m),"selectionStart"in y)y.selectionStart=m,y.selectionEnd=Math.min(f,y.value.length);else if(f=(m=y.ownerDocument||document)&&m.defaultView||window,f.getSelection){f=f.getSelection();var k=y.textContent.length,P=Math.min(S.start,k);S=S.end===void 0?P:Math.min(S.end,k),!f.extend&&P>S&&(k=S,S=P,P=k),k=yj(y,P);var L=yj(y,S);k&&L&&(f.rangeCount!==1||f.anchorNode!==k.node||f.anchorOffset!==k.offset||f.focusNode!==L.node||f.focusOffset!==L.offset)&&(m=m.createRange(),m.setStart(k.node,k.offset),f.removeAllRanges(),P>S?(f.addRange(m),f.extend(L.node,L.offset)):(m.setEnd(L.node,L.offset),f.addRange(m)))}}for(m=[],f=y;f=f.parentNode;)f.nodeType===1&&m.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<m.length;y++)f=m[y],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var yz=o&&"documentMode"in document&&11>=document.documentMode,ec=null,ry=null,Wu=null,sy=!1;function wj(f,m,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;sy||ec==null||ec!==xe(S)||(S=ec,"selectionStart"in S&&ny(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Wu&&Uu(Wu,S)||(Wu=S,S=$h(ry,"onSelect"),0<S.length&&(m=new Gx("onSelect","select",null,m,y),f.push({event:m,listeners:S}),m.target=ec)))}function Fh(f,m){var y={};return y[f.toLowerCase()]=m.toLowerCase(),y["Webkit"+f]="webkit"+m,y["Moz"+f]="moz"+m,y}var tc={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},iy={},Sj={};o&&(Sj=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function zh(f){if(iy[f])return iy[f];if(!tc[f])return f;var m=tc[f],y;for(y in m)if(m.hasOwnProperty(y)&&y in Sj)return iy[f]=m[y];return f}var Nj=zh("animationend"),Cj=zh("animationiteration"),jj=zh("animationstart"),kj=zh("transitionend"),Tj=new Map,Ej="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(f,m){Tj.set(f,m),i(m,[f])}for(var ay=0;ay<Ej.length;ay++){var oy=Ej[ay],bz=oy.toLowerCase(),vz=oy[0].toUpperCase()+oy.slice(1);xa(bz,"on"+vz)}xa(Nj,"onAnimationEnd"),xa(Cj,"onAnimationIteration"),xa(jj,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(kj,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wz=new Set("cancel close invalid load scroll toggle".split(" ").concat(qu));function Mj(f,m,y){var S=f.type||"unknown-event";f.currentTarget=y,b7(S,m,void 0,f),f.currentTarget=null}function Aj(f,m){m=(m&4)!==0;for(var y=0;y<f.length;y++){var S=f[y],k=S.event;S=S.listeners;e:{var P=void 0;if(m)for(var L=S.length-1;0<=L;L--){var H=S[L],K=H.instance,re=H.currentTarget;if(H=H.listener,K!==P&&k.isPropagationStopped())break e;Mj(k,H,re),P=K}else for(L=0;L<S.length;L++){if(H=S[L],K=H.instance,re=H.currentTarget,H=H.listener,K!==P&&k.isPropagationStopped())break e;Mj(k,H,re),P=K}}}if(Nh)throw f=Fx,Nh=!1,Fx=null,f}function Mt(f,m){var y=m[py];y===void 0&&(y=m[py]=new Set);var S=f+"__bubble";y.has(S)||(Oj(m,f,2,!1),y.add(S))}function ly(f,m,y){var S=0;m&&(S|=4),Oj(y,f,S,m)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Ku(f){if(!f[Vh]){f[Vh]=!0,r.forEach(function(y){y!=="selectionchange"&&(wz.has(y)||ly(y,!1,f),ly(y,!0,f))});var m=f.nodeType===9?f:f.ownerDocument;m===null||m[Vh]||(m[Vh]=!0,ly("selectionchange",!1,m))}}function Oj(f,m,y,S){switch(ej(m)){case 1:var k=I7;break;case 4:k=L7;break;default:k=Wx}y=k.bind(null,m,y,f),k=void 0,!Rx||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(k=!0),S?k!==void 0?f.addEventListener(m,y,{capture:!0,passive:k}):f.addEventListener(m,y,!0):k!==void 0?f.addEventListener(m,y,{passive:k}):f.addEventListener(m,y,!1)}function cy(f,m,y,S,k){var P=S;if((m&1)===0&&(m&2)===0&&S!==null)e:for(;;){if(S===null)return;var L=S.tag;if(L===3||L===4){var H=S.stateNode.containerInfo;if(H===k||H.nodeType===8&&H.parentNode===k)break;if(L===4)for(L=S.return;L!==null;){var K=L.tag;if((K===3||K===4)&&(K=L.stateNode.containerInfo,K===k||K.nodeType===8&&K.parentNode===k))return;L=L.return}for(;H!==null;){if(L=To(H),L===null)return;if(K=L.tag,K===5||K===6){S=P=L;continue e}H=H.parentNode}}S=S.return}LC(function(){var re=P,he=Dx(y),me=[];e:{var de=Tj.get(f);if(de!==void 0){var Me=Gx,Pe=f;switch(f){case"keypress":if(Dh(y)===0)break e;case"keydown":case"keyup":Me=Q7;break;case"focusin":Pe="focus",Me=Qx;break;case"focusout":Pe="blur",Me=Qx;break;case"beforeblur":case"afterblur":Me=Qx;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=rj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=z7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=ez;break;case Nj:case Cj:case jj:Me=B7;break;case kj:Me=nz;break;case"scroll":Me=R7;break;case"wheel":Me=sz;break;case"copy":case"cut":case"paste":Me=U7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=ij}var _e=(m&4)!==0,rn=!_e&&f==="scroll",Z=_e?de!==null?de+"Capture":null:de;_e=[];for(var X=re,te;X!==null;){te=X;var ve=te.stateNode;if(te.tag===5&&ve!==null&&(te=ve,Z!==null&&(ve=Mu(X,Z),ve!=null&&_e.push(Gu(X,ve,te)))),rn)break;X=X.return}0<_e.length&&(de=new Me(de,Pe,null,y,he),me.push({event:de,listeners:_e}))}}if((m&7)===0){e:{if(de=f==="mouseover"||f==="pointerover",Me=f==="mouseout"||f==="pointerout",de&&y!==Gl&&(Pe=y.relatedTarget||y.fromElement)&&(To(Pe)||Pe[yi]))break e;if((Me||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,Me?(Pe=y.relatedTarget||y.toElement,Me=re,Pe=Pe?To(Pe):null,Pe!==null&&(rn=ko(Pe),Pe!==rn||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Me=null,Pe=re),Me!==Pe)){if(_e=rj,ve="onMouseLeave",Z="onMouseEnter",X="mouse",(f==="pointerout"||f==="pointerover")&&(_e=ij,ve="onPointerLeave",Z="onPointerEnter",X="pointer"),rn=Me==null?de:sc(Me),te=Pe==null?de:sc(Pe),de=new _e(ve,X+"leave",Me,y,he),de.target=rn,de.relatedTarget=te,ve=null,To(he)===re&&(_e=new _e(Z,X+"enter",Pe,y,he),_e.target=te,_e.relatedTarget=rn,ve=_e),rn=ve,Me&&Pe)t:{for(_e=Me,Z=Pe,X=0,te=_e;te;te=nc(te))X++;for(te=0,ve=Z;ve;ve=nc(ve))te++;for(;0<X-te;)_e=nc(_e),X--;for(;0<te-X;)Z=nc(Z),te--;for(;X--;){if(_e===Z||Z!==null&&_e===Z.alternate)break t;_e=nc(_e),Z=nc(Z)}_e=null}else _e=null;Me!==null&&Pj(me,de,Me,_e,!1),Pe!==null&&rn!==null&&Pj(me,rn,Pe,_e,!0)}}e:{if(de=re?sc(re):window,Me=de.nodeName&&de.nodeName.toLowerCase(),Me==="select"||Me==="input"&&de.type==="file")var Ie=dz;else if(dj(de))if(hj)Ie=pz;else{Ie=hz;var Ue=fz}else(Me=de.nodeName)&&Me.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ie=mz);if(Ie&&(Ie=Ie(f,re))){fj(me,Ie,y,he);break e}Ue&&Ue(f,de,re),f==="focusout"&&(Ue=de._wrapperState)&&Ue.controlled&&de.type==="number"&&gn(de,"number",de.value)}switch(Ue=re?sc(re):window,f){case"focusin":(dj(Ue)||Ue.contentEditable==="true")&&(ec=Ue,ry=re,Wu=null);break;case"focusout":Wu=ry=ec=null;break;case"mousedown":sy=!0;break;case"contextmenu":case"mouseup":case"dragend":sy=!1,wj(me,y,he);break;case"selectionchange":if(yz)break;case"keydown":case"keyup":wj(me,y,he)}var We;if(Zx)e:{switch(f){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Zl?cj(f,y)&&(Qe="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(Qe="onCompositionStart");Qe&&(aj&&y.locale!=="ko"&&(Zl||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Zl&&(We=tj()):(ga=he,Kx="value"in ga?ga.value:ga.textContent,Zl=!0)),Ue=$h(re,Qe),0<Ue.length&&(Qe=new sj(Qe,f,null,y,he),me.push({event:Qe,listeners:Ue}),We?Qe.data=We:(We=uj(y),We!==null&&(Qe.data=We)))),(We=az?oz(f,y):lz(f,y))&&(re=$h(re,"onBeforeInput"),0<re.length&&(he=new sj("onBeforeInput","beforeinput",null,y,he),me.push({event:he,listeners:re}),he.data=We))}Aj(me,m)})}function Gu(f,m,y){return{instance:f,listener:m,currentTarget:y}}function $h(f,m){for(var y=m+"Capture",S=[];f!==null;){var k=f,P=k.stateNode;k.tag===5&&P!==null&&(k=P,P=Mu(f,y),P!=null&&S.unshift(Gu(f,P,k)),P=Mu(f,m),P!=null&&S.push(Gu(f,P,k))),f=f.return}return S}function nc(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function Pj(f,m,y,S,k){for(var P=m._reactName,L=[];y!==null&&y!==S;){var H=y,K=H.alternate,re=H.stateNode;if(K!==null&&K===S)break;H.tag===5&&re!==null&&(H=re,k?(K=Mu(y,P),K!=null&&L.unshift(Gu(y,K,H))):k||(K=Mu(y,P),K!=null&&L.push(Gu(y,K,H)))),y=y.return}L.length!==0&&f.push({event:m,listeners:L})}var Sz=/\r\n?/g,Nz=/\u0000|\uFFFD/g;function _j(f){return(typeof f=="string"?f:""+f).replace(Sz,`
`).replace(Nz,"")}function Bh(f,m,y){if(m=_j(m),_j(f)!==m&&y)throw Error(n(425))}function Hh(){}var uy=null,dy=null;function fy(f,m){return f==="textarea"||f==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,Dj=typeof Promise=="function"?Promise:void 0,jz=typeof queueMicrotask=="function"?queueMicrotask:typeof Dj<"u"?function(f){return Dj.resolve(null).then(f).catch(kz)}:hy;function kz(f){setTimeout(function(){throw f})}function my(f,m){var y=m,S=0;do{var k=y.nextSibling;if(f.removeChild(y),k&&k.nodeType===8)if(y=k.data,y==="/$"){if(S===0){f.removeChild(k),Fu(m);return}S--}else y!=="$"&&y!=="$?"&&y!=="$!"||S++;y=k}while(y);Fu(m)}function ya(f){for(;f!=null;f=f.nextSibling){var m=f.nodeType;if(m===1||m===3)break;if(m===8){if(m=f.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return f}function Ij(f){f=f.previousSibling;for(var m=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return f;m--}else y==="/$"&&m++}f=f.previousSibling}return null}var rc=Math.random().toString(36).slice(2),Vs="__reactFiber$"+rc,Yu="__reactProps$"+rc,yi="__reactContainer$"+rc,py="__reactEvents$"+rc,Tz="__reactListeners$"+rc,Ez="__reactHandles$"+rc;function To(f){var m=f[Vs];if(m)return m;for(var y=f.parentNode;y;){if(m=y[yi]||y[Vs]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(f=Ij(f);f!==null;){if(y=f[Vs])return y;f=Ij(f)}return m}f=y,y=f.parentNode}return null}function Xu(f){return f=f[Vs]||f[yi],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function sc(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function Uh(f){return f[Yu]||null}var gy=[],ic=-1;function ba(f){return{current:f}}function At(f){0>ic||(f.current=gy[ic],gy[ic]=null,ic--)}function Ct(f,m){ic++,gy[ic]=f.current,f.current=m}var va={},Hn=ba(va),gr=ba(!1),Eo=va;function ac(f,m){var y=f.type.contextTypes;if(!y)return va;var S=f.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===m)return S.__reactInternalMemoizedMaskedChildContext;var k={},P;for(P in y)k[P]=m[P];return S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=m,f.__reactInternalMemoizedMaskedChildContext=k),k}function xr(f){return f=f.childContextTypes,f!=null}function Wh(){At(gr),At(Hn)}function Lj(f,m,y){if(Hn.current!==va)throw Error(n(168));Ct(Hn,m),Ct(gr,y)}function Rj(f,m,y){var S=f.stateNode;if(m=m.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var k in S)if(!(k in m))throw Error(n(108,Ae(f)||"Unknown",k));return Q({},y,S)}function qh(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||va,Eo=Hn.current,Ct(Hn,f),Ct(gr,gr.current),!0}function Fj(f,m,y){var S=f.stateNode;if(!S)throw Error(n(169));y?(f=Rj(f,m,Eo),S.__reactInternalMemoizedMergedChildContext=f,At(gr),At(Hn),Ct(Hn,f)):At(gr),Ct(gr,y)}var bi=null,Kh=!1,xy=!1;function zj(f){bi===null?bi=[f]:bi.push(f)}function Mz(f){Kh=!0,zj(f)}function wa(){if(!xy&&bi!==null){xy=!0;var f=0,m=yt;try{var y=bi;for(yt=1;f<y.length;f++){var S=y[f];do S=S(!0);while(S!==null)}bi=null,Kh=!1}catch(k){throw bi!==null&&(bi=bi.slice(f+1)),$C(zx,wa),k}finally{yt=m,xy=!1}}return null}var oc=[],lc=0,Gh=null,Yh=0,Jr=[],Zr=0,Mo=null,vi=1,wi="";function Ao(f,m){oc[lc++]=Yh,oc[lc++]=Gh,Gh=f,Yh=m}function Vj(f,m,y){Jr[Zr++]=vi,Jr[Zr++]=wi,Jr[Zr++]=Mo,Mo=f;var S=vi;f=wi;var k=32-vs(S)-1;S&=~(1<<k),y+=1;var P=32-vs(m)+k;if(30<P){var L=k-k%5;P=(S&(1<<L)-1).toString(32),S>>=L,k-=L,vi=1<<32-vs(m)+k|y<<k|S,wi=P+f}else vi=1<<P|y<<k|S,wi=f}function yy(f){f.return!==null&&(Ao(f,1),Vj(f,1,0))}function by(f){for(;f===Gh;)Gh=oc[--lc],oc[lc]=null,Yh=oc[--lc],oc[lc]=null;for(;f===Mo;)Mo=Jr[--Zr],Jr[Zr]=null,wi=Jr[--Zr],Jr[Zr]=null,vi=Jr[--Zr],Jr[Zr]=null}var Lr=null,Rr=null,It=!1,Ss=null;function $j(f,m){var y=rs(5,null,null,0);y.elementType="DELETED",y.stateNode=m,y.return=f,m=f.deletions,m===null?(f.deletions=[y],f.flags|=16):m.push(y)}function Bj(f,m){switch(f.tag){case 5:var y=f.type;return m=m.nodeType!==1||y.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(f.stateNode=m,Lr=f,Rr=ya(m.firstChild),!0):!1;case 6:return m=f.pendingProps===""||m.nodeType!==3?null:m,m!==null?(f.stateNode=m,Lr=f,Rr=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(y=Mo!==null?{id:vi,overflow:wi}:null,f.memoizedState={dehydrated:m,treeContext:y,retryLane:1073741824},y=rs(18,null,null,0),y.stateNode=m,y.return=f,f.child=y,Lr=f,Rr=null,!0):!1;default:return!1}}function vy(f){return(f.mode&1)!==0&&(f.flags&128)===0}function wy(f){if(It){var m=Rr;if(m){var y=m;if(!Bj(f,m)){if(vy(f))throw Error(n(418));m=ya(y.nextSibling);var S=Lr;m&&Bj(f,m)?$j(S,y):(f.flags=f.flags&-4097|2,It=!1,Lr=f)}}else{if(vy(f))throw Error(n(418));f.flags=f.flags&-4097|2,It=!1,Lr=f}}}function Hj(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Lr=f}function Xh(f){if(f!==Lr)return!1;if(!It)return Hj(f),It=!0,!1;var m;if((m=f.tag!==3)&&!(m=f.tag!==5)&&(m=f.type,m=m!=="head"&&m!=="body"&&!fy(f.type,f.memoizedProps)),m&&(m=Rr)){if(vy(f))throw Uj(),Error(n(418));for(;m;)$j(f,m),m=ya(m.nextSibling)}if(Hj(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,m=0;f;){if(f.nodeType===8){var y=f.data;if(y==="/$"){if(m===0){Rr=ya(f.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++}f=f.nextSibling}Rr=null}}else Rr=Lr?ya(f.stateNode.nextSibling):null;return!0}function Uj(){for(var f=Rr;f;)f=ya(f.nextSibling)}function cc(){Rr=Lr=null,It=!1}function Sy(f){Ss===null?Ss=[f]:Ss.push(f)}var Az=T.ReactCurrentBatchConfig;function Qu(f,m,y){if(f=y.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var S=y.stateNode}if(!S)throw Error(n(147,f));var k=S,P=""+f;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===P?m.ref:(m=function(L){var H=k.refs;L===null?delete H[P]:H[P]=L},m._stringRef=P,m)}if(typeof f!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,f))}return f}function Qh(f,m){throw f=Object.prototype.toString.call(m),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f))}function Wj(f){var m=f._init;return m(f._payload)}function qj(f){function m(Z,X){if(f){var te=Z.deletions;te===null?(Z.deletions=[X],Z.flags|=16):te.push(X)}}function y(Z,X){if(!f)return null;for(;X!==null;)m(Z,X),X=X.sibling;return null}function S(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function k(Z,X){return Z=Ma(Z,X),Z.index=0,Z.sibling=null,Z}function P(Z,X,te){return Z.index=te,f?(te=Z.alternate,te!==null?(te=te.index,te<X?(Z.flags|=2,X):te):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function L(Z){return f&&Z.alternate===null&&(Z.flags|=2),Z}function H(Z,X,te,ve){return X===null||X.tag!==6?(X=hb(te,Z.mode,ve),X.return=Z,X):(X=k(X,te),X.return=Z,X)}function K(Z,X,te,ve){var Ie=te.type;return Ie===O?he(Z,X,te.props.children,ve,te.key):X!==null&&(X.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&Wj(Ie)===X.type)?(ve=k(X,te.props),ve.ref=Qu(Z,X,te),ve.return=Z,ve):(ve=wm(te.type,te.key,te.props,null,Z.mode,ve),ve.ref=Qu(Z,X,te),ve.return=Z,ve)}function re(Z,X,te,ve){return X===null||X.tag!==4||X.stateNode.containerInfo!==te.containerInfo||X.stateNode.implementation!==te.implementation?(X=mb(te,Z.mode,ve),X.return=Z,X):(X=k(X,te.children||[]),X.return=Z,X)}function he(Z,X,te,ve,Ie){return X===null||X.tag!==7?(X=Fo(te,Z.mode,ve,Ie),X.return=Z,X):(X=k(X,te),X.return=Z,X)}function me(Z,X,te){if(typeof X=="string"&&X!==""||typeof X=="number")return X=hb(""+X,Z.mode,te),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return te=wm(X.type,X.key,X.props,null,Z.mode,te),te.ref=Qu(Z,null,X),te.return=Z,te;case E:return X=mb(X,Z.mode,te),X.return=Z,X;case R:var ve=X._init;return me(Z,ve(X._payload),te)}if(U(X)||q(X))return X=Fo(X,Z.mode,te,null),X.return=Z,X;Qh(Z,X)}return null}function de(Z,X,te,ve){var Ie=X!==null?X.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Ie!==null?null:H(Z,X,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return te.key===Ie?K(Z,X,te,ve):null;case E:return te.key===Ie?re(Z,X,te,ve):null;case R:return Ie=te._init,de(Z,X,Ie(te._payload),ve)}if(U(te)||q(te))return Ie!==null?null:he(Z,X,te,ve,null);Qh(Z,te)}return null}function Me(Z,X,te,ve,Ie){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Z=Z.get(te)||null,H(X,Z,""+ve,Ie);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case j:return Z=Z.get(ve.key===null?te:ve.key)||null,K(X,Z,ve,Ie);case E:return Z=Z.get(ve.key===null?te:ve.key)||null,re(X,Z,ve,Ie);case R:var Ue=ve._init;return Me(Z,X,te,Ue(ve._payload),Ie)}if(U(ve)||q(ve))return Z=Z.get(te)||null,he(X,Z,ve,Ie,null);Qh(X,ve)}return null}function Pe(Z,X,te,ve){for(var Ie=null,Ue=null,We=X,Qe=X=0,Nn=null;We!==null&&Qe<te.length;Qe++){We.index>Qe?(Nn=We,We=null):Nn=We.sibling;var dt=de(Z,We,te[Qe],ve);if(dt===null){We===null&&(We=Nn);break}f&&We&&dt.alternate===null&&m(Z,We),X=P(dt,X,Qe),Ue===null?Ie=dt:Ue.sibling=dt,Ue=dt,We=Nn}if(Qe===te.length)return y(Z,We),It&&Ao(Z,Qe),Ie;if(We===null){for(;Qe<te.length;Qe++)We=me(Z,te[Qe],ve),We!==null&&(X=P(We,X,Qe),Ue===null?Ie=We:Ue.sibling=We,Ue=We);return It&&Ao(Z,Qe),Ie}for(We=S(Z,We);Qe<te.length;Qe++)Nn=Me(We,Z,Qe,te[Qe],ve),Nn!==null&&(f&&Nn.alternate!==null&&We.delete(Nn.key===null?Qe:Nn.key),X=P(Nn,X,Qe),Ue===null?Ie=Nn:Ue.sibling=Nn,Ue=Nn);return f&&We.forEach(function(Aa){return m(Z,Aa)}),It&&Ao(Z,Qe),Ie}function _e(Z,X,te,ve){var Ie=q(te);if(typeof Ie!="function")throw Error(n(150));if(te=Ie.call(te),te==null)throw Error(n(151));for(var Ue=Ie=null,We=X,Qe=X=0,Nn=null,dt=te.next();We!==null&&!dt.done;Qe++,dt=te.next()){We.index>Qe?(Nn=We,We=null):Nn=We.sibling;var Aa=de(Z,We,dt.value,ve);if(Aa===null){We===null&&(We=Nn);break}f&&We&&Aa.alternate===null&&m(Z,We),X=P(Aa,X,Qe),Ue===null?Ie=Aa:Ue.sibling=Aa,Ue=Aa,We=Nn}if(dt.done)return y(Z,We),It&&Ao(Z,Qe),Ie;if(We===null){for(;!dt.done;Qe++,dt=te.next())dt=me(Z,dt.value,ve),dt!==null&&(X=P(dt,X,Qe),Ue===null?Ie=dt:Ue.sibling=dt,Ue=dt);return It&&Ao(Z,Qe),Ie}for(We=S(Z,We);!dt.done;Qe++,dt=te.next())dt=Me(We,Z,Qe,dt.value,ve),dt!==null&&(f&&dt.alternate!==null&&We.delete(dt.key===null?Qe:dt.key),X=P(dt,X,Qe),Ue===null?Ie=dt:Ue.sibling=dt,Ue=dt);return f&&We.forEach(function(cV){return m(Z,cV)}),It&&Ao(Z,Qe),Ie}function rn(Z,X,te,ve){if(typeof te=="object"&&te!==null&&te.type===O&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case j:e:{for(var Ie=te.key,Ue=X;Ue!==null;){if(Ue.key===Ie){if(Ie=te.type,Ie===O){if(Ue.tag===7){y(Z,Ue.sibling),X=k(Ue,te.props.children),X.return=Z,Z=X;break e}}else if(Ue.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&Wj(Ie)===Ue.type){y(Z,Ue.sibling),X=k(Ue,te.props),X.ref=Qu(Z,Ue,te),X.return=Z,Z=X;break e}y(Z,Ue);break}else m(Z,Ue);Ue=Ue.sibling}te.type===O?(X=Fo(te.props.children,Z.mode,ve,te.key),X.return=Z,Z=X):(ve=wm(te.type,te.key,te.props,null,Z.mode,ve),ve.ref=Qu(Z,X,te),ve.return=Z,Z=ve)}return L(Z);case E:e:{for(Ue=te.key;X!==null;){if(X.key===Ue)if(X.tag===4&&X.stateNode.containerInfo===te.containerInfo&&X.stateNode.implementation===te.implementation){y(Z,X.sibling),X=k(X,te.children||[]),X.return=Z,Z=X;break e}else{y(Z,X);break}else m(Z,X);X=X.sibling}X=mb(te,Z.mode,ve),X.return=Z,Z=X}return L(Z);case R:return Ue=te._init,rn(Z,X,Ue(te._payload),ve)}if(U(te))return Pe(Z,X,te,ve);if(q(te))return _e(Z,X,te,ve);Qh(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,X!==null&&X.tag===6?(y(Z,X.sibling),X=k(X,te),X.return=Z,Z=X):(y(Z,X),X=hb(te,Z.mode,ve),X.return=Z,Z=X),L(Z)):y(Z,X)}return rn}var uc=qj(!0),Kj=qj(!1),Jh=ba(null),Zh=null,dc=null,Ny=null;function Cy(){Ny=dc=Zh=null}function jy(f){var m=Jh.current;At(Jh),f._currentValue=m}function ky(f,m,y){for(;f!==null;){var S=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,S!==null&&(S.childLanes|=m)):S!==null&&(S.childLanes&m)!==m&&(S.childLanes|=m),f===y)break;f=f.return}}function fc(f,m){Zh=f,Ny=dc=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&m)!==0&&(yr=!0),f.firstContext=null)}function es(f){var m=f._currentValue;if(Ny!==f)if(f={context:f,memoizedValue:m,next:null},dc===null){if(Zh===null)throw Error(n(308));dc=f,Zh.dependencies={lanes:0,firstContext:f}}else dc=dc.next=f;return m}var Oo=null;function Ty(f){Oo===null?Oo=[f]:Oo.push(f)}function Gj(f,m,y,S){var k=m.interleaved;return k===null?(y.next=y,Ty(m)):(y.next=k.next,k.next=y),m.interleaved=y,Si(f,S)}function Si(f,m){f.lanes|=m;var y=f.alternate;for(y!==null&&(y.lanes|=m),y=f,f=f.return;f!==null;)f.childLanes|=m,y=f.alternate,y!==null&&(y.childLanes|=m),y=f,f=f.return;return y.tag===3?y.stateNode:null}var Sa=!1;function Ey(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yj(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ni(f,m){return{eventTime:f,lane:m,tag:0,payload:null,callback:null,next:null}}function Na(f,m,y){var S=f.updateQueue;if(S===null)return null;if(S=S.shared,(ct&2)!==0){var k=S.pending;return k===null?m.next=m:(m.next=k.next,k.next=m),S.pending=m,Si(f,y)}return k=S.interleaved,k===null?(m.next=m,Ty(S)):(m.next=k.next,k.next=m),S.interleaved=m,Si(f,y)}function em(f,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194240)!==0)){var S=m.lanes;S&=f.pendingLanes,y|=S,m.lanes=y,Bx(f,y)}}function Xj(f,m){var y=f.updateQueue,S=f.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var k=null,P=null;if(y=y.firstBaseUpdate,y!==null){do{var L={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};P===null?k=P=L:P=P.next=L,y=y.next}while(y!==null);P===null?k=P=m:P=P.next=m}else k=P=m;y={baseState:S.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:S.shared,effects:S.effects},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=m:f.next=m,y.lastBaseUpdate=m}function tm(f,m,y,S){var k=f.updateQueue;Sa=!1;var P=k.firstBaseUpdate,L=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var K=H,re=K.next;K.next=null,L===null?P=re:L.next=re,L=K;var he=f.alternate;he!==null&&(he=he.updateQueue,H=he.lastBaseUpdate,H!==L&&(H===null?he.firstBaseUpdate=re:H.next=re,he.lastBaseUpdate=K))}if(P!==null){var me=k.baseState;L=0,he=re=K=null,H=P;do{var de=H.lane,Me=H.eventTime;if((S&de)===de){he!==null&&(he=he.next={eventTime:Me,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Pe=f,_e=H;switch(de=m,Me=y,_e.tag){case 1:if(Pe=_e.payload,typeof Pe=="function"){me=Pe.call(Me,me,de);break e}me=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=_e.payload,de=typeof Pe=="function"?Pe.call(Me,me,de):Pe,de==null)break e;me=Q({},me,de);break e;case 2:Sa=!0}}H.callback!==null&&H.lane!==0&&(f.flags|=64,de=k.effects,de===null?k.effects=[H]:de.push(H))}else Me={eventTime:Me,lane:de,tag:H.tag,payload:H.payload,callback:H.callback,next:null},he===null?(re=he=Me,K=me):he=he.next=Me,L|=de;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;de=H,H=de.next,de.next=null,k.lastBaseUpdate=de,k.shared.pending=null}}while(!0);if(he===null&&(K=me),k.baseState=K,k.firstBaseUpdate=re,k.lastBaseUpdate=he,m=k.shared.interleaved,m!==null){k=m;do L|=k.lane,k=k.next;while(k!==m)}else P===null&&(k.shared.lanes=0);Do|=L,f.lanes=L,f.memoizedState=me}}function Qj(f,m,y){if(f=m.effects,m.effects=null,f!==null)for(m=0;m<f.length;m++){var S=f[m],k=S.callback;if(k!==null){if(S.callback=null,S=y,typeof k!="function")throw Error(n(191,k));k.call(S)}}}var Ju={},$s=ba(Ju),Zu=ba(Ju),ed=ba(Ju);function Po(f){if(f===Ju)throw Error(n(174));return f}function My(f,m){switch(Ct(ed,m),Ct(Zu,f),Ct($s,Ju),f=m.nodeType,f){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:lt(null,"");break;default:f=f===8?m.parentNode:m,m=f.namespaceURI||null,f=f.tagName,m=lt(m,f)}At($s),Ct($s,m)}function hc(){At($s),At(Zu),At(ed)}function Jj(f){Po(ed.current);var m=Po($s.current),y=lt(m,f.type);m!==y&&(Ct(Zu,f),Ct($s,y))}function Ay(f){Zu.current===f&&(At($s),At(Zu))}var Vt=ba(0);function nm(f){for(var m=f;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Oy=[];function Py(){for(var f=0;f<Oy.length;f++)Oy[f]._workInProgressVersionPrimary=null;Oy.length=0}var rm=T.ReactCurrentDispatcher,_y=T.ReactCurrentBatchConfig,_o=0,$t=null,xn=null,wn=null,sm=!1,td=!1,nd=0,Oz=0;function Un(){throw Error(n(321))}function Dy(f,m){if(m===null)return!1;for(var y=0;y<m.length&&y<f.length;y++)if(!ws(f[y],m[y]))return!1;return!0}function Iy(f,m,y,S,k,P){if(_o=P,$t=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,rm.current=f===null||f.memoizedState===null?Iz:Lz,f=y(S,k),td){P=0;do{if(td=!1,nd=0,25<=P)throw Error(n(301));P+=1,wn=xn=null,m.updateQueue=null,rm.current=Rz,f=y(S,k)}while(td)}if(rm.current=om,m=xn!==null&&xn.next!==null,_o=0,wn=xn=$t=null,sm=!1,m)throw Error(n(300));return f}function Ly(){var f=nd!==0;return nd=0,f}function Bs(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?$t.memoizedState=wn=f:wn=wn.next=f,wn}function ts(){if(xn===null){var f=$t.alternate;f=f!==null?f.memoizedState:null}else f=xn.next;var m=wn===null?$t.memoizedState:wn.next;if(m!==null)wn=m,xn=f;else{if(f===null)throw Error(n(310));xn=f,f={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},wn===null?$t.memoizedState=wn=f:wn=wn.next=f}return wn}function rd(f,m){return typeof m=="function"?m(f):m}function Ry(f){var m=ts(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=f;var S=xn,k=S.baseQueue,P=y.pending;if(P!==null){if(k!==null){var L=k.next;k.next=P.next,P.next=L}S.baseQueue=k=P,y.pending=null}if(k!==null){P=k.next,S=S.baseState;var H=L=null,K=null,re=P;do{var he=re.lane;if((_o&he)===he)K!==null&&(K=K.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),S=re.hasEagerState?re.eagerState:f(S,re.action);else{var me={lane:he,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};K===null?(H=K=me,L=S):K=K.next=me,$t.lanes|=he,Do|=he}re=re.next}while(re!==null&&re!==P);K===null?L=S:K.next=H,ws(S,m.memoizedState)||(yr=!0),m.memoizedState=S,m.baseState=L,m.baseQueue=K,y.lastRenderedState=S}if(f=y.interleaved,f!==null){k=f;do P=k.lane,$t.lanes|=P,Do|=P,k=k.next;while(k!==f)}else k===null&&(y.lanes=0);return[m.memoizedState,y.dispatch]}function Fy(f){var m=ts(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=f;var S=y.dispatch,k=y.pending,P=m.memoizedState;if(k!==null){y.pending=null;var L=k=k.next;do P=f(P,L.action),L=L.next;while(L!==k);ws(P,m.memoizedState)||(yr=!0),m.memoizedState=P,m.baseQueue===null&&(m.baseState=P),y.lastRenderedState=P}return[P,S]}function Zj(){}function ek(f,m){var y=$t,S=ts(),k=m(),P=!ws(S.memoizedState,k);if(P&&(S.memoizedState=k,yr=!0),S=S.queue,zy(rk.bind(null,y,S,f),[f]),S.getSnapshot!==m||P||wn!==null&&wn.memoizedState.tag&1){if(y.flags|=2048,sd(9,nk.bind(null,y,S,k,m),void 0,null),Sn===null)throw Error(n(349));(_o&30)!==0||tk(y,m,k)}return k}function tk(f,m,y){f.flags|=16384,f={getSnapshot:m,value:y},m=$t.updateQueue,m===null?(m={lastEffect:null,stores:null},$t.updateQueue=m,m.stores=[f]):(y=m.stores,y===null?m.stores=[f]:y.push(f))}function nk(f,m,y,S){m.value=y,m.getSnapshot=S,sk(m)&&ik(f)}function rk(f,m,y){return y(function(){sk(m)&&ik(f)})}function sk(f){var m=f.getSnapshot;f=f.value;try{var y=m();return!ws(f,y)}catch{return!0}}function ik(f){var m=Si(f,1);m!==null&&ks(m,f,1,-1)}function ak(f){var m=Bs();return typeof f=="function"&&(f=f()),m.memoizedState=m.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:f},m.queue=f,f=f.dispatch=Dz.bind(null,$t,f),[m.memoizedState,f]}function sd(f,m,y,S){return f={tag:f,create:m,destroy:y,deps:S,next:null},m=$t.updateQueue,m===null?(m={lastEffect:null,stores:null},$t.updateQueue=m,m.lastEffect=f.next=f):(y=m.lastEffect,y===null?m.lastEffect=f.next=f:(S=y.next,y.next=f,f.next=S,m.lastEffect=f)),f}function ok(){return ts().memoizedState}function im(f,m,y,S){var k=Bs();$t.flags|=f,k.memoizedState=sd(1|m,y,void 0,S===void 0?null:S)}function am(f,m,y,S){var k=ts();S=S===void 0?null:S;var P=void 0;if(xn!==null){var L=xn.memoizedState;if(P=L.destroy,S!==null&&Dy(S,L.deps)){k.memoizedState=sd(m,y,P,S);return}}$t.flags|=f,k.memoizedState=sd(1|m,y,P,S)}function lk(f,m){return im(8390656,8,f,m)}function zy(f,m){return am(2048,8,f,m)}function ck(f,m){return am(4,2,f,m)}function uk(f,m){return am(4,4,f,m)}function dk(f,m){if(typeof m=="function")return f=f(),m(f),function(){m(null)};if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function fk(f,m,y){return y=y!=null?y.concat([f]):null,am(4,4,dk.bind(null,m,f),y)}function Vy(){}function hk(f,m){var y=ts();m=m===void 0?null:m;var S=y.memoizedState;return S!==null&&m!==null&&Dy(m,S[1])?S[0]:(y.memoizedState=[f,m],f)}function mk(f,m){var y=ts();m=m===void 0?null:m;var S=y.memoizedState;return S!==null&&m!==null&&Dy(m,S[1])?S[0]:(f=f(),y.memoizedState=[f,m],f)}function pk(f,m,y){return(_o&21)===0?(f.baseState&&(f.baseState=!1,yr=!0),f.memoizedState=y):(ws(y,m)||(y=WC(),$t.lanes|=y,Do|=y,f.baseState=!0),m)}function Pz(f,m){var y=yt;yt=y!==0&&4>y?y:4,f(!0);var S=_y.transition;_y.transition={};try{f(!1),m()}finally{yt=y,_y.transition=S}}function gk(){return ts().memoizedState}function _z(f,m,y){var S=Ta(f);if(y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},xk(f))yk(m,y);else if(y=Gj(f,m,y,S),y!==null){var k=or();ks(y,f,S,k),bk(y,m,S)}}function Dz(f,m,y){var S=Ta(f),k={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(xk(f))yk(m,k);else{var P=f.alternate;if(f.lanes===0&&(P===null||P.lanes===0)&&(P=m.lastRenderedReducer,P!==null))try{var L=m.lastRenderedState,H=P(L,y);if(k.hasEagerState=!0,k.eagerState=H,ws(H,L)){var K=m.interleaved;K===null?(k.next=k,Ty(m)):(k.next=K.next,K.next=k),m.interleaved=k;return}}catch{}finally{}y=Gj(f,m,k,S),y!==null&&(k=or(),ks(y,f,S,k),bk(y,m,S))}}function xk(f){var m=f.alternate;return f===$t||m!==null&&m===$t}function yk(f,m){td=sm=!0;var y=f.pending;y===null?m.next=m:(m.next=y.next,y.next=m),f.pending=m}function bk(f,m,y){if((y&4194240)!==0){var S=m.lanes;S&=f.pendingLanes,y|=S,m.lanes=y,Bx(f,y)}}var om={readContext:es,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},Iz={readContext:es,useCallback:function(f,m){return Bs().memoizedState=[f,m===void 0?null:m],f},useContext:es,useEffect:lk,useImperativeHandle:function(f,m,y){return y=y!=null?y.concat([f]):null,im(4194308,4,dk.bind(null,m,f),y)},useLayoutEffect:function(f,m){return im(4194308,4,f,m)},useInsertionEffect:function(f,m){return im(4,2,f,m)},useMemo:function(f,m){var y=Bs();return m=m===void 0?null:m,f=f(),y.memoizedState=[f,m],f},useReducer:function(f,m,y){var S=Bs();return m=y!==void 0?y(m):m,S.memoizedState=S.baseState=m,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:m},S.queue=f,f=f.dispatch=_z.bind(null,$t,f),[S.memoizedState,f]},useRef:function(f){var m=Bs();return f={current:f},m.memoizedState=f},useState:ak,useDebugValue:Vy,useDeferredValue:function(f){return Bs().memoizedState=f},useTransition:function(){var f=ak(!1),m=f[0];return f=Pz.bind(null,f[1]),Bs().memoizedState=f,[m,f]},useMutableSource:function(){},useSyncExternalStore:function(f,m,y){var S=$t,k=Bs();if(It){if(y===void 0)throw Error(n(407));y=y()}else{if(y=m(),Sn===null)throw Error(n(349));(_o&30)!==0||tk(S,m,y)}k.memoizedState=y;var P={value:y,getSnapshot:m};return k.queue=P,lk(rk.bind(null,S,P,f),[f]),S.flags|=2048,sd(9,nk.bind(null,S,P,y,m),void 0,null),y},useId:function(){var f=Bs(),m=Sn.identifierPrefix;if(It){var y=wi,S=vi;y=(S&~(1<<32-vs(S)-1)).toString(32)+y,m=":"+m+"R"+y,y=nd++,0<y&&(m+="H"+y.toString(32)),m+=":"}else y=Oz++,m=":"+m+"r"+y.toString(32)+":";return f.memoizedState=m},unstable_isNewReconciler:!1},Lz={readContext:es,useCallback:hk,useContext:es,useEffect:zy,useImperativeHandle:fk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:mk,useReducer:Ry,useRef:ok,useState:function(){return Ry(rd)},useDebugValue:Vy,useDeferredValue:function(f){var m=ts();return pk(m,xn.memoizedState,f)},useTransition:function(){var f=Ry(rd)[0],m=ts().memoizedState;return[f,m]},useMutableSource:Zj,useSyncExternalStore:ek,useId:gk,unstable_isNewReconciler:!1},Rz={readContext:es,useCallback:hk,useContext:es,useEffect:zy,useImperativeHandle:fk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:mk,useReducer:Fy,useRef:ok,useState:function(){return Fy(rd)},useDebugValue:Vy,useDeferredValue:function(f){var m=ts();return xn===null?m.memoizedState=f:pk(m,xn.memoizedState,f)},useTransition:function(){var f=Fy(rd)[0],m=ts().memoizedState;return[f,m]},useMutableSource:Zj,useSyncExternalStore:ek,useId:gk,unstable_isNewReconciler:!1};function Ns(f,m){if(f&&f.defaultProps){m=Q({},m),f=f.defaultProps;for(var y in f)m[y]===void 0&&(m[y]=f[y]);return m}return m}function $y(f,m,y,S){m=f.memoizedState,y=y(S,m),y=y==null?m:Q({},m,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var lm={isMounted:function(f){return(f=f._reactInternals)?ko(f)===f:!1},enqueueSetState:function(f,m,y){f=f._reactInternals;var S=or(),k=Ta(f),P=Ni(S,k);P.payload=m,y!=null&&(P.callback=y),m=Na(f,P,k),m!==null&&(ks(m,f,k,S),em(m,f,k))},enqueueReplaceState:function(f,m,y){f=f._reactInternals;var S=or(),k=Ta(f),P=Ni(S,k);P.tag=1,P.payload=m,y!=null&&(P.callback=y),m=Na(f,P,k),m!==null&&(ks(m,f,k,S),em(m,f,k))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var y=or(),S=Ta(f),k=Ni(y,S);k.tag=2,m!=null&&(k.callback=m),m=Na(f,k,S),m!==null&&(ks(m,f,S,y),em(m,f,S))}};function vk(f,m,y,S,k,P,L){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(S,P,L):m.prototype&&m.prototype.isPureReactComponent?!Uu(y,S)||!Uu(k,P):!0}function wk(f,m,y){var S=!1,k=va,P=m.contextType;return typeof P=="object"&&P!==null?P=es(P):(k=xr(m)?Eo:Hn.current,S=m.contextTypes,P=(S=S!=null)?ac(f,k):va),m=new m(y,P),f.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=lm,f.stateNode=m,m._reactInternals=f,S&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=k,f.__reactInternalMemoizedMaskedChildContext=P),m}function Sk(f,m,y,S){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,S),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,S),m.state!==f&&lm.enqueueReplaceState(m,m.state,null)}function By(f,m,y,S){var k=f.stateNode;k.props=y,k.state=f.memoizedState,k.refs={},Ey(f);var P=m.contextType;typeof P=="object"&&P!==null?k.context=es(P):(P=xr(m)?Eo:Hn.current,k.context=ac(f,P)),k.state=f.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&($y(f,m,P,y),k.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(m=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),m!==k.state&&lm.enqueueReplaceState(k,k.state,null),tm(f,y,k,S),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308)}function mc(f,m){try{var y="",S=m;do y+=le(S),S=S.return;while(S);var k=y}catch(P){k=`
Error generating stack: `+P.message+`
`+P.stack}return{value:f,source:m,stack:k,digest:null}}function Hy(f,m,y){return{value:f,source:null,stack:y??null,digest:m??null}}function Uy(f,m){try{console.error(m.value)}catch(y){setTimeout(function(){throw y})}}var Fz=typeof WeakMap=="function"?WeakMap:Map;function Nk(f,m,y){y=Ni(-1,y),y.tag=3,y.payload={element:null};var S=m.value;return y.callback=function(){pm||(pm=!0,ib=S),Uy(f,m)},y}function Ck(f,m,y){y=Ni(-1,y),y.tag=3;var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var k=m.value;y.payload=function(){return S(k)},y.callback=function(){Uy(f,m)}}var P=f.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(y.callback=function(){Uy(f,m),typeof S!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})}),y}function jk(f,m,y){var S=f.pingCache;if(S===null){S=f.pingCache=new Fz;var k=new Set;S.set(m,k)}else k=S.get(m),k===void 0&&(k=new Set,S.set(m,k));k.has(y)||(k.add(y),f=Jz.bind(null,f,m,y),m.then(f,f))}function kk(f){do{var m;if((m=f.tag===13)&&(m=f.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return f;f=f.return}while(f!==null);return null}function Tk(f,m,y,S,k){return(f.mode&1)===0?(f===m?f.flags|=65536:(f.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(m=Ni(-1,1),m.tag=2,Na(y,m,1))),y.lanes|=1),f):(f.flags|=65536,f.lanes=k,f)}var zz=T.ReactCurrentOwner,yr=!1;function ar(f,m,y,S){m.child=f===null?Kj(m,null,y,S):uc(m,f.child,y,S)}function Ek(f,m,y,S,k){y=y.render;var P=m.ref;return fc(m,k),S=Iy(f,m,y,S,P,k),y=Ly(),f!==null&&!yr?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~k,Ci(f,m,k)):(It&&y&&yy(m),m.flags|=1,ar(f,m,S,k),m.child)}function Mk(f,m,y,S,k){if(f===null){var P=y.type;return typeof P=="function"&&!fb(P)&&P.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(m.tag=15,m.type=P,Ak(f,m,P,S,k)):(f=wm(y.type,null,S,m,m.mode,k),f.ref=m.ref,f.return=m,m.child=f)}if(P=f.child,(f.lanes&k)===0){var L=P.memoizedProps;if(y=y.compare,y=y!==null?y:Uu,y(L,S)&&f.ref===m.ref)return Ci(f,m,k)}return m.flags|=1,f=Ma(P,S),f.ref=m.ref,f.return=m,m.child=f}function Ak(f,m,y,S,k){if(f!==null){var P=f.memoizedProps;if(Uu(P,S)&&f.ref===m.ref)if(yr=!1,m.pendingProps=S=P,(f.lanes&k)!==0)(f.flags&131072)!==0&&(yr=!0);else return m.lanes=f.lanes,Ci(f,m,k)}return Wy(f,m,y,S,k)}function Ok(f,m,y){var S=m.pendingProps,k=S.children,P=f!==null?f.memoizedState:null;if(S.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(gc,Fr),Fr|=y;else{if((y&1073741824)===0)return f=P!==null?P.baseLanes|y:y,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:f,cachePool:null,transitions:null},m.updateQueue=null,Ct(gc,Fr),Fr|=f,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=P!==null?P.baseLanes:y,Ct(gc,Fr),Fr|=S}else P!==null?(S=P.baseLanes|y,m.memoizedState=null):S=y,Ct(gc,Fr),Fr|=S;return ar(f,m,k,y),m.child}function Pk(f,m){var y=m.ref;(f===null&&y!==null||f!==null&&f.ref!==y)&&(m.flags|=512,m.flags|=2097152)}function Wy(f,m,y,S,k){var P=xr(y)?Eo:Hn.current;return P=ac(m,P),fc(m,k),y=Iy(f,m,y,S,P,k),S=Ly(),f!==null&&!yr?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~k,Ci(f,m,k)):(It&&S&&yy(m),m.flags|=1,ar(f,m,y,k),m.child)}function _k(f,m,y,S,k){if(xr(y)){var P=!0;qh(m)}else P=!1;if(fc(m,k),m.stateNode===null)um(f,m),wk(m,y,S),By(m,y,S,k),S=!0;else if(f===null){var L=m.stateNode,H=m.memoizedProps;L.props=H;var K=L.context,re=y.contextType;typeof re=="object"&&re!==null?re=es(re):(re=xr(y)?Eo:Hn.current,re=ac(m,re));var he=y.getDerivedStateFromProps,me=typeof he=="function"||typeof L.getSnapshotBeforeUpdate=="function";me||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==S||K!==re)&&Sk(m,L,S,re),Sa=!1;var de=m.memoizedState;L.state=de,tm(m,S,L,k),K=m.memoizedState,H!==S||de!==K||gr.current||Sa?(typeof he=="function"&&($y(m,y,he,S),K=m.memoizedState),(H=Sa||vk(m,y,H,S,de,K,re))?(me||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(m.flags|=4194308)):(typeof L.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=S,m.memoizedState=K),L.props=S,L.state=K,L.context=re,S=H):(typeof L.componentDidMount=="function"&&(m.flags|=4194308),S=!1)}else{L=m.stateNode,Yj(f,m),H=m.memoizedProps,re=m.type===m.elementType?H:Ns(m.type,H),L.props=re,me=m.pendingProps,de=L.context,K=y.contextType,typeof K=="object"&&K!==null?K=es(K):(K=xr(y)?Eo:Hn.current,K=ac(m,K));var Me=y.getDerivedStateFromProps;(he=typeof Me=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(H!==me||de!==K)&&Sk(m,L,S,K),Sa=!1,de=m.memoizedState,L.state=de,tm(m,S,L,k);var Pe=m.memoizedState;H!==me||de!==Pe||gr.current||Sa?(typeof Me=="function"&&($y(m,y,Me,S),Pe=m.memoizedState),(re=Sa||vk(m,y,re,S,de,Pe,K)||!1)?(he||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,Pe,K),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,Pe,K)),typeof L.componentDidUpdate=="function"&&(m.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof L.componentDidUpdate!="function"||H===f.memoizedProps&&de===f.memoizedState||(m.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&de===f.memoizedState||(m.flags|=1024),m.memoizedProps=S,m.memoizedState=Pe),L.props=S,L.state=Pe,L.context=K,S=re):(typeof L.componentDidUpdate!="function"||H===f.memoizedProps&&de===f.memoizedState||(m.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||H===f.memoizedProps&&de===f.memoizedState||(m.flags|=1024),S=!1)}return qy(f,m,y,S,P,k)}function qy(f,m,y,S,k,P){Pk(f,m);var L=(m.flags&128)!==0;if(!S&&!L)return k&&Fj(m,y,!1),Ci(f,m,P);S=m.stateNode,zz.current=m;var H=L&&typeof y.getDerivedStateFromError!="function"?null:S.render();return m.flags|=1,f!==null&&L?(m.child=uc(m,f.child,null,P),m.child=uc(m,null,H,P)):ar(f,m,H,P),m.memoizedState=S.state,k&&Fj(m,y,!0),m.child}function Dk(f){var m=f.stateNode;m.pendingContext?Lj(f,m.pendingContext,m.pendingContext!==m.context):m.context&&Lj(f,m.context,!1),My(f,m.containerInfo)}function Ik(f,m,y,S,k){return cc(),Sy(k),m.flags|=256,ar(f,m,y,S),m.child}var Ky={dehydrated:null,treeContext:null,retryLane:0};function Gy(f){return{baseLanes:f,cachePool:null,transitions:null}}function Lk(f,m,y){var S=m.pendingProps,k=Vt.current,P=!1,L=(m.flags&128)!==0,H;if((H=L)||(H=f!==null&&f.memoizedState===null?!1:(k&2)!==0),H?(P=!0,m.flags&=-129):(f===null||f.memoizedState!==null)&&(k|=1),Ct(Vt,k&1),f===null)return wy(m),f=m.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((m.mode&1)===0?m.lanes=1:f.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(L=S.children,f=S.fallback,P?(S=m.mode,P=m.child,L={mode:"hidden",children:L},(S&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=L):P=Sm(L,S,0,null),f=Fo(f,S,y,null),P.return=m,f.return=m,P.sibling=f,m.child=P,m.child.memoizedState=Gy(y),m.memoizedState=Ky,f):Yy(m,L));if(k=f.memoizedState,k!==null&&(H=k.dehydrated,H!==null))return Vz(f,m,L,S,H,k,y);if(P){P=S.fallback,L=m.mode,k=f.child,H=k.sibling;var K={mode:"hidden",children:S.children};return(L&1)===0&&m.child!==k?(S=m.child,S.childLanes=0,S.pendingProps=K,m.deletions=null):(S=Ma(k,K),S.subtreeFlags=k.subtreeFlags&14680064),H!==null?P=Ma(H,P):(P=Fo(P,L,y,null),P.flags|=2),P.return=m,S.return=m,S.sibling=P,m.child=S,S=P,P=m.child,L=f.child.memoizedState,L=L===null?Gy(y):{baseLanes:L.baseLanes|y,cachePool:null,transitions:L.transitions},P.memoizedState=L,P.childLanes=f.childLanes&~y,m.memoizedState=Ky,S}return P=f.child,f=P.sibling,S=Ma(P,{mode:"visible",children:S.children}),(m.mode&1)===0&&(S.lanes=y),S.return=m,S.sibling=null,f!==null&&(y=m.deletions,y===null?(m.deletions=[f],m.flags|=16):y.push(f)),m.child=S,m.memoizedState=null,S}function Yy(f,m){return m=Sm({mode:"visible",children:m},f.mode,0,null),m.return=f,f.child=m}function cm(f,m,y,S){return S!==null&&Sy(S),uc(m,f.child,null,y),f=Yy(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function Vz(f,m,y,S,k,P,L){if(y)return m.flags&256?(m.flags&=-257,S=Hy(Error(n(422))),cm(f,m,L,S)):m.memoizedState!==null?(m.child=f.child,m.flags|=128,null):(P=S.fallback,k=m.mode,S=Sm({mode:"visible",children:S.children},k,0,null),P=Fo(P,k,L,null),P.flags|=2,S.return=m,P.return=m,S.sibling=P,m.child=S,(m.mode&1)!==0&&uc(m,f.child,null,L),m.child.memoizedState=Gy(L),m.memoizedState=Ky,P);if((m.mode&1)===0)return cm(f,m,L,null);if(k.data==="$!"){if(S=k.nextSibling&&k.nextSibling.dataset,S)var H=S.dgst;return S=H,P=Error(n(419)),S=Hy(P,S,void 0),cm(f,m,L,S)}if(H=(L&f.childLanes)!==0,yr||H){if(S=Sn,S!==null){switch(L&-L){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(S.suspendedLanes|L))!==0?0:k,k!==0&&k!==P.retryLane&&(P.retryLane=k,Si(f,k),ks(S,f,k,-1))}return db(),S=Hy(Error(n(421))),cm(f,m,L,S)}return k.data==="$?"?(m.flags|=128,m.child=f.child,m=Zz.bind(null,f),k._reactRetry=m,null):(f=P.treeContext,Rr=ya(k.nextSibling),Lr=m,It=!0,Ss=null,f!==null&&(Jr[Zr++]=vi,Jr[Zr++]=wi,Jr[Zr++]=Mo,vi=f.id,wi=f.overflow,Mo=m),m=Yy(m,S.children),m.flags|=4096,m)}function Rk(f,m,y){f.lanes|=m;var S=f.alternate;S!==null&&(S.lanes|=m),ky(f.return,m,y)}function Xy(f,m,y,S,k){var P=f.memoizedState;P===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:k}:(P.isBackwards=m,P.rendering=null,P.renderingStartTime=0,P.last=S,P.tail=y,P.tailMode=k)}function Fk(f,m,y){var S=m.pendingProps,k=S.revealOrder,P=S.tail;if(ar(f,m,S.children,y),S=Vt.current,(S&2)!==0)S=S&1|2,m.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Rk(f,y,m);else if(f.tag===19)Rk(f,y,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}S&=1}if(Ct(Vt,S),(m.mode&1)===0)m.memoizedState=null;else switch(k){case"forwards":for(y=m.child,k=null;y!==null;)f=y.alternate,f!==null&&nm(f)===null&&(k=y),y=y.sibling;y=k,y===null?(k=m.child,m.child=null):(k=y.sibling,y.sibling=null),Xy(m,!1,k,y,P);break;case"backwards":for(y=null,k=m.child,m.child=null;k!==null;){if(f=k.alternate,f!==null&&nm(f)===null){m.child=k;break}f=k.sibling,k.sibling=y,y=k,k=f}Xy(m,!0,y,null,P);break;case"together":Xy(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function um(f,m){(m.mode&1)===0&&f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2)}function Ci(f,m,y){if(f!==null&&(m.dependencies=f.dependencies),Do|=m.lanes,(y&m.childLanes)===0)return null;if(f!==null&&m.child!==f.child)throw Error(n(153));if(m.child!==null){for(f=m.child,y=Ma(f,f.pendingProps),m.child=y,y.return=m;f.sibling!==null;)f=f.sibling,y=y.sibling=Ma(f,f.pendingProps),y.return=m;y.sibling=null}return m.child}function $z(f,m,y){switch(m.tag){case 3:Dk(m),cc();break;case 5:Jj(m);break;case 1:xr(m.type)&&qh(m);break;case 4:My(m,m.stateNode.containerInfo);break;case 10:var S=m.type._context,k=m.memoizedProps.value;Ct(Jh,S._currentValue),S._currentValue=k;break;case 13:if(S=m.memoizedState,S!==null)return S.dehydrated!==null?(Ct(Vt,Vt.current&1),m.flags|=128,null):(y&m.child.childLanes)!==0?Lk(f,m,y):(Ct(Vt,Vt.current&1),f=Ci(f,m,y),f!==null?f.sibling:null);Ct(Vt,Vt.current&1);break;case 19:if(S=(y&m.childLanes)!==0,(f.flags&128)!==0){if(S)return Fk(f,m,y);m.flags|=128}if(k=m.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Ct(Vt,Vt.current),S)break;return null;case 22:case 23:return m.lanes=0,Ok(f,m,y)}return Ci(f,m,y)}var zk,Qy,Vk,$k;zk=function(f,m){for(var y=m.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Qy=function(){},Vk=function(f,m,y,S){var k=f.memoizedProps;if(k!==S){f=m.stateNode,Po($s.current);var P=null;switch(y){case"input":k=He(f,k),S=He(f,S),P=[];break;case"select":k=Q({},k,{value:void 0}),S=Q({},S,{value:void 0}),P=[];break;case"textarea":k=oe(f,k),S=oe(f,S),P=[];break;default:typeof k.onClick!="function"&&typeof S.onClick=="function"&&(f.onclick=Hh)}Kl(y,S);var L;y=null;for(re in k)if(!S.hasOwnProperty(re)&&k.hasOwnProperty(re)&&k[re]!=null)if(re==="style"){var H=k[re];for(L in H)H.hasOwnProperty(L)&&(y||(y={}),y[L]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(s.hasOwnProperty(re)?P||(P=[]):(P=P||[]).push(re,null));for(re in S){var K=S[re];if(H=k?.[re],S.hasOwnProperty(re)&&K!==H&&(K!=null||H!=null))if(re==="style")if(H){for(L in H)!H.hasOwnProperty(L)||K&&K.hasOwnProperty(L)||(y||(y={}),y[L]="");for(L in K)K.hasOwnProperty(L)&&H[L]!==K[L]&&(y||(y={}),y[L]=K[L])}else y||(P||(P=[]),P.push(re,y)),y=K;else re==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(P=P||[]).push(re,K)):re==="children"?typeof K!="string"&&typeof K!="number"||(P=P||[]).push(re,""+K):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(s.hasOwnProperty(re)?(K!=null&&re==="onScroll"&&Mt("scroll",f),P||H===K||(P=[])):(P=P||[]).push(re,K))}y&&(P=P||[]).push("style",y);var re=P;(m.updateQueue=re)&&(m.flags|=4)}},$k=function(f,m,y,S){y!==S&&(m.flags|=4)};function id(f,m){if(!It)switch(f.tailMode){case"hidden":m=f.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:S.sibling=null}}function Wn(f){var m=f.alternate!==null&&f.alternate.child===f.child,y=0,S=0;if(m)for(var k=f.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags&14680064,S|=k.flags&14680064,k.return=f,k=k.sibling;else for(k=f.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags,S|=k.flags,k.return=f,k=k.sibling;return f.subtreeFlags|=S,f.childLanes=y,m}function Bz(f,m,y){var S=m.pendingProps;switch(by(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(m),null;case 1:return xr(m.type)&&Wh(),Wn(m),null;case 3:return S=m.stateNode,hc(),At(gr),At(Hn),Py(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(Xh(m)?m.flags|=4:f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ss!==null&&(lb(Ss),Ss=null))),Qy(f,m),Wn(m),null;case 5:Ay(m);var k=Po(ed.current);if(y=m.type,f!==null&&m.stateNode!=null)Vk(f,m,y,S,k),f.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!S){if(m.stateNode===null)throw Error(n(166));return Wn(m),null}if(f=Po($s.current),Xh(m)){S=m.stateNode,y=m.type;var P=m.memoizedProps;switch(S[Vs]=m,S[Yu]=P,f=(m.mode&1)!==0,y){case"dialog":Mt("cancel",S),Mt("close",S);break;case"iframe":case"object":case"embed":Mt("load",S);break;case"video":case"audio":for(k=0;k<qu.length;k++)Mt(qu[k],S);break;case"source":Mt("error",S);break;case"img":case"image":case"link":Mt("error",S),Mt("load",S);break;case"details":Mt("toggle",S);break;case"input":Ee(S,P),Mt("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!P.multiple},Mt("invalid",S);break;case"textarea":Te(S,P),Mt("invalid",S)}Kl(y,P),k=null;for(var L in P)if(P.hasOwnProperty(L)){var H=P[L];L==="children"?typeof H=="string"?S.textContent!==H&&(P.suppressHydrationWarning!==!0&&Bh(S.textContent,H,f),k=["children",H]):typeof H=="number"&&S.textContent!==""+H&&(P.suppressHydrationWarning!==!0&&Bh(S.textContent,H,f),k=["children",""+H]):s.hasOwnProperty(L)&&H!=null&&L==="onScroll"&&Mt("scroll",S)}switch(y){case"input":Ye(S),mr(S,P,!0);break;case"textarea":Ye(S),we(S);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(S.onclick=Hh)}S=k,m.updateQueue=S,S!==null&&(m.flags|=4)}else{L=k.nodeType===9?k:k.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Re(y)),f==="http://www.w3.org/1999/xhtml"?y==="script"?(f=L.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof S.is=="string"?f=L.createElement(y,{is:S.is}):(f=L.createElement(y),y==="select"&&(L=f,S.multiple?L.multiple=!0:S.size&&(L.size=S.size))):f=L.createElementNS(f,y),f[Vs]=m,f[Yu]=S,zk(f,m,!1,!1),m.stateNode=f;e:{switch(L=Eu(y,S),y){case"dialog":Mt("cancel",f),Mt("close",f),k=S;break;case"iframe":case"object":case"embed":Mt("load",f),k=S;break;case"video":case"audio":for(k=0;k<qu.length;k++)Mt(qu[k],f);k=S;break;case"source":Mt("error",f),k=S;break;case"img":case"image":case"link":Mt("error",f),Mt("load",f),k=S;break;case"details":Mt("toggle",f),k=S;break;case"input":Ee(f,S),k=He(f,S),Mt("invalid",f);break;case"option":k=S;break;case"select":f._wrapperState={wasMultiple:!!S.multiple},k=Q({},S,{value:void 0}),Mt("invalid",f);break;case"textarea":Te(f,S),k=oe(f,S),Mt("invalid",f);break;default:k=S}Kl(y,k),H=k;for(P in H)if(H.hasOwnProperty(P)){var K=H[P];P==="style"?ql(f,K):P==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&ir(f,K)):P==="children"?typeof K=="string"?(y!=="textarea"||K!=="")&&Fs(f,K):typeof K=="number"&&Fs(f,""+K):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?K!=null&&P==="onScroll"&&Mt("scroll",f):K!=null&&C(f,P,K,L))}switch(y){case"input":Ye(f),mr(f,S,!1);break;case"textarea":Ye(f),we(f);break;case"option":S.value!=null&&f.setAttribute("value",""+Le(S.value));break;case"select":f.multiple=!!S.multiple,P=S.value,P!=null?ee(f,!!S.multiple,P,!1):S.defaultValue!=null&&ee(f,!!S.multiple,S.defaultValue,!0);break;default:typeof k.onClick=="function"&&(f.onclick=Hh)}switch(y){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Wn(m),null;case 6:if(f&&m.stateNode!=null)$k(f,m,f.memoizedProps,S);else{if(typeof S!="string"&&m.stateNode===null)throw Error(n(166));if(y=Po(ed.current),Po($s.current),Xh(m)){if(S=m.stateNode,y=m.memoizedProps,S[Vs]=m,(P=S.nodeValue!==y)&&(f=Lr,f!==null))switch(f.tag){case 3:Bh(S.nodeValue,y,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Bh(S.nodeValue,y,(f.mode&1)!==0)}P&&(m.flags|=4)}else S=(y.nodeType===9?y:y.ownerDocument).createTextNode(S),S[Vs]=m,m.stateNode=S}return Wn(m),null;case 13:if(At(Vt),S=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(It&&Rr!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Uj(),cc(),m.flags|=98560,P=!1;else if(P=Xh(m),S!==null&&S.dehydrated!==null){if(f===null){if(!P)throw Error(n(318));if(P=m.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[Vs]=m}else cc(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Wn(m),P=!1}else Ss!==null&&(lb(Ss),Ss=null),P=!0;if(!P)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=y,m):(S=S!==null,S!==(f!==null&&f.memoizedState!==null)&&S&&(m.child.flags|=8192,(m.mode&1)!==0&&(f===null||(Vt.current&1)!==0?yn===0&&(yn=3):db())),m.updateQueue!==null&&(m.flags|=4),Wn(m),null);case 4:return hc(),Qy(f,m),f===null&&Ku(m.stateNode.containerInfo),Wn(m),null;case 10:return jy(m.type._context),Wn(m),null;case 17:return xr(m.type)&&Wh(),Wn(m),null;case 19:if(At(Vt),P=m.memoizedState,P===null)return Wn(m),null;if(S=(m.flags&128)!==0,L=P.rendering,L===null)if(S)id(P,!1);else{if(yn!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(L=nm(f),L!==null){for(m.flags|=128,id(P,!1),S=L.updateQueue,S!==null&&(m.updateQueue=S,m.flags|=4),m.subtreeFlags=0,S=y,y=m.child;y!==null;)P=y,f=S,P.flags&=14680066,L=P.alternate,L===null?(P.childLanes=0,P.lanes=f,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=L.childLanes,P.lanes=L.lanes,P.child=L.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=L.memoizedProps,P.memoizedState=L.memoizedState,P.updateQueue=L.updateQueue,P.type=L.type,f=L.dependencies,P.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),y=y.sibling;return Ct(Vt,Vt.current&1|2),m.child}f=f.sibling}P.tail!==null&&nn()>xc&&(m.flags|=128,S=!0,id(P,!1),m.lanes=4194304)}else{if(!S)if(f=nm(L),f!==null){if(m.flags|=128,S=!0,y=f.updateQueue,y!==null&&(m.updateQueue=y,m.flags|=4),id(P,!0),P.tail===null&&P.tailMode==="hidden"&&!L.alternate&&!It)return Wn(m),null}else 2*nn()-P.renderingStartTime>xc&&y!==1073741824&&(m.flags|=128,S=!0,id(P,!1),m.lanes=4194304);P.isBackwards?(L.sibling=m.child,m.child=L):(y=P.last,y!==null?y.sibling=L:m.child=L,P.last=L)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=nn(),m.sibling=null,y=Vt.current,Ct(Vt,S?y&1|2:y&1),m):(Wn(m),null);case 22:case 23:return ub(),S=m.memoizedState!==null,f!==null&&f.memoizedState!==null!==S&&(m.flags|=8192),S&&(m.mode&1)!==0?(Fr&1073741824)!==0&&(Wn(m),m.subtreeFlags&6&&(m.flags|=8192)):Wn(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function Hz(f,m){switch(by(m),m.tag){case 1:return xr(m.type)&&Wh(),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return hc(),At(gr),At(Hn),Py(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 5:return Ay(m),null;case 13:if(At(Vt),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(n(340));cc()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return At(Vt),null;case 4:return hc(),null;case 10:return jy(m.type._context),null;case 22:case 23:return ub(),null;case 24:return null;default:return null}}var dm=!1,qn=!1,Uz=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function pc(f,m){var y=f.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){Kt(f,m,S)}else y.current=null}function Jy(f,m,y){try{y()}catch(S){Kt(f,m,S)}}var Bk=!1;function Wz(f,m){if(uy=Oh,f=vj(),ny(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else e:{y=(y=f.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var k=S.anchorOffset,P=S.focusNode;S=S.focusOffset;try{y.nodeType,P.nodeType}catch{y=null;break e}var L=0,H=-1,K=-1,re=0,he=0,me=f,de=null;t:for(;;){for(var Me;me!==y||k!==0&&me.nodeType!==3||(H=L+k),me!==P||S!==0&&me.nodeType!==3||(K=L+S),me.nodeType===3&&(L+=me.nodeValue.length),(Me=me.firstChild)!==null;)de=me,me=Me;for(;;){if(me===f)break t;if(de===y&&++re===k&&(H=L),de===P&&++he===S&&(K=L),(Me=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=Me}y=H===-1||K===-1?null:{start:H,end:K}}else y=null}y=y||{start:0,end:0}}else y=null;for(dy={focusedElem:f,selectionRange:y},Oh=!1,Oe=m;Oe!==null;)if(m=Oe,f=m.child,(m.subtreeFlags&1028)!==0&&f!==null)f.return=m,Oe=f;else for(;Oe!==null;){m=Oe;try{var Pe=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var _e=Pe.memoizedProps,rn=Pe.memoizedState,Z=m.stateNode,X=Z.getSnapshotBeforeUpdate(m.elementType===m.type?_e:Ns(m.type,_e),rn);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var te=m.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){Kt(m,m.return,ve)}if(f=m.sibling,f!==null){f.return=m.return,Oe=f;break}Oe=m.return}return Pe=Bk,Bk=!1,Pe}function ad(f,m,y){var S=m.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var k=S=S.next;do{if((k.tag&f)===f){var P=k.destroy;k.destroy=void 0,P!==void 0&&Jy(m,y,P)}k=k.next}while(k!==S)}}function fm(f,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&f)===f){var S=y.create;y.destroy=S()}y=y.next}while(y!==m)}}function Zy(f){var m=f.ref;if(m!==null){var y=f.stateNode;switch(f.tag){case 5:f=y;break;default:f=y}typeof m=="function"?m(f):m.current=f}}function Hk(f){var m=f.alternate;m!==null&&(f.alternate=null,Hk(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&(delete m[Vs],delete m[Yu],delete m[py],delete m[Tz],delete m[Ez])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Uk(f){return f.tag===5||f.tag===3||f.tag===4}function Wk(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Uk(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function eb(f,m,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,m?y.nodeType===8?y.parentNode.insertBefore(f,m):y.insertBefore(f,m):(y.nodeType===8?(m=y.parentNode,m.insertBefore(f,y)):(m=y,m.appendChild(f)),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=Hh));else if(S!==4&&(f=f.child,f!==null))for(eb(f,m,y),f=f.sibling;f!==null;)eb(f,m,y),f=f.sibling}function tb(f,m,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,m?y.insertBefore(f,m):y.appendChild(f);else if(S!==4&&(f=f.child,f!==null))for(tb(f,m,y),f=f.sibling;f!==null;)tb(f,m,y),f=f.sibling}var _n=null,Cs=!1;function Ca(f,m,y){for(y=y.child;y!==null;)qk(f,m,y),y=y.sibling}function qk(f,m,y){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(jh,y)}catch{}switch(y.tag){case 5:qn||pc(y,m);case 6:var S=_n,k=Cs;_n=null,Ca(f,m,y),_n=S,Cs=k,_n!==null&&(Cs?(f=_n,y=y.stateNode,f.nodeType===8?f.parentNode.removeChild(y):f.removeChild(y)):_n.removeChild(y.stateNode));break;case 18:_n!==null&&(Cs?(f=_n,y=y.stateNode,f.nodeType===8?my(f.parentNode,y):f.nodeType===1&&my(f,y),Fu(f)):my(_n,y.stateNode));break;case 4:S=_n,k=Cs,_n=y.stateNode.containerInfo,Cs=!0,Ca(f,m,y),_n=S,Cs=k;break;case 0:case 11:case 14:case 15:if(!qn&&(S=y.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){k=S=S.next;do{var P=k,L=P.destroy;P=P.tag,L!==void 0&&((P&2)!==0||(P&4)!==0)&&Jy(y,m,L),k=k.next}while(k!==S)}Ca(f,m,y);break;case 1:if(!qn&&(pc(y,m),S=y.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=y.memoizedProps,S.state=y.memoizedState,S.componentWillUnmount()}catch(H){Kt(y,m,H)}Ca(f,m,y);break;case 21:Ca(f,m,y);break;case 22:y.mode&1?(qn=(S=qn)||y.memoizedState!==null,Ca(f,m,y),qn=S):Ca(f,m,y);break;default:Ca(f,m,y)}}function Kk(f){var m=f.updateQueue;if(m!==null){f.updateQueue=null;var y=f.stateNode;y===null&&(y=f.stateNode=new Uz),m.forEach(function(S){var k=eV.bind(null,f,S);y.has(S)||(y.add(S),S.then(k,k))})}}function js(f,m){var y=m.deletions;if(y!==null)for(var S=0;S<y.length;S++){var k=y[S];try{var P=f,L=m,H=L;e:for(;H!==null;){switch(H.tag){case 5:_n=H.stateNode,Cs=!1;break e;case 3:_n=H.stateNode.containerInfo,Cs=!0;break e;case 4:_n=H.stateNode.containerInfo,Cs=!0;break e}H=H.return}if(_n===null)throw Error(n(160));qk(P,L,k),_n=null,Cs=!1;var K=k.alternate;K!==null&&(K.return=null),k.return=null}catch(re){Kt(k,m,re)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)Gk(m,f),m=m.sibling}function Gk(f,m){var y=f.alternate,S=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(js(m,f),Hs(f),S&4){try{ad(3,f,f.return),fm(3,f)}catch(_e){Kt(f,f.return,_e)}try{ad(5,f,f.return)}catch(_e){Kt(f,f.return,_e)}}break;case 1:js(m,f),Hs(f),S&512&&y!==null&&pc(y,y.return);break;case 5:if(js(m,f),Hs(f),S&512&&y!==null&&pc(y,y.return),f.flags&32){var k=f.stateNode;try{Fs(k,"")}catch(_e){Kt(f,f.return,_e)}}if(S&4&&(k=f.stateNode,k!=null)){var P=f.memoizedProps,L=y!==null?y.memoizedProps:P,H=f.type,K=f.updateQueue;if(f.updateQueue=null,K!==null)try{H==="input"&&P.type==="radio"&&P.name!=null&&st(k,P),Eu(H,L);var re=Eu(H,P);for(L=0;L<K.length;L+=2){var he=K[L],me=K[L+1];he==="style"?ql(k,me):he==="dangerouslySetInnerHTML"?ir(k,me):he==="children"?Fs(k,me):C(k,he,me,re)}switch(H){case"input":qt(k,P);break;case"textarea":Ne(k,P);break;case"select":var de=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!P.multiple;var Me=P.value;Me!=null?ee(k,!!P.multiple,Me,!1):de!==!!P.multiple&&(P.defaultValue!=null?ee(k,!!P.multiple,P.defaultValue,!0):ee(k,!!P.multiple,P.multiple?[]:"",!1))}k[Yu]=P}catch(_e){Kt(f,f.return,_e)}}break;case 6:if(js(m,f),Hs(f),S&4){if(f.stateNode===null)throw Error(n(162));k=f.stateNode,P=f.memoizedProps;try{k.nodeValue=P}catch(_e){Kt(f,f.return,_e)}}break;case 3:if(js(m,f),Hs(f),S&4&&y!==null&&y.memoizedState.isDehydrated)try{Fu(m.containerInfo)}catch(_e){Kt(f,f.return,_e)}break;case 4:js(m,f),Hs(f);break;case 13:js(m,f),Hs(f),k=f.child,k.flags&8192&&(P=k.memoizedState!==null,k.stateNode.isHidden=P,!P||k.alternate!==null&&k.alternate.memoizedState!==null||(sb=nn())),S&4&&Kk(f);break;case 22:if(he=y!==null&&y.memoizedState!==null,f.mode&1?(qn=(re=qn)||he,js(m,f),qn=re):js(m,f),Hs(f),S&8192){if(re=f.memoizedState!==null,(f.stateNode.isHidden=re)&&!he&&(f.mode&1)!==0)for(Oe=f,he=f.child;he!==null;){for(me=Oe=he;Oe!==null;){switch(de=Oe,Me=de.child,de.tag){case 0:case 11:case 14:case 15:ad(4,de,de.return);break;case 1:pc(de,de.return);var Pe=de.stateNode;if(typeof Pe.componentWillUnmount=="function"){S=de,y=de.return;try{m=S,Pe.props=m.memoizedProps,Pe.state=m.memoizedState,Pe.componentWillUnmount()}catch(_e){Kt(S,y,_e)}}break;case 5:pc(de,de.return);break;case 22:if(de.memoizedState!==null){Qk(me);continue}}Me!==null?(Me.return=de,Oe=Me):Qk(me)}he=he.sibling}e:for(he=null,me=f;;){if(me.tag===5){if(he===null){he=me;try{k=me.stateNode,re?(P=k.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(H=me.stateNode,K=me.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=Wl("display",L))}catch(_e){Kt(f,f.return,_e)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=re?"":me.memoizedProps}catch(_e){Kt(f,f.return,_e)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===f)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===f)break e;for(;me.sibling===null;){if(me.return===null||me.return===f)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:js(m,f),Hs(f),S&4&&Kk(f);break;case 21:break;default:js(m,f),Hs(f)}}function Hs(f){var m=f.flags;if(m&2){try{e:{for(var y=f.return;y!==null;){if(Uk(y)){var S=y;break e}y=y.return}throw Error(n(160))}switch(S.tag){case 5:var k=S.stateNode;S.flags&32&&(Fs(k,""),S.flags&=-33);var P=Wk(f);tb(f,P,k);break;case 3:case 4:var L=S.stateNode.containerInfo,H=Wk(f);eb(f,H,L);break;default:throw Error(n(161))}}catch(K){Kt(f,f.return,K)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function qz(f,m,y){Oe=f,Yk(f)}function Yk(f,m,y){for(var S=(f.mode&1)!==0;Oe!==null;){var k=Oe,P=k.child;if(k.tag===22&&S){var L=k.memoizedState!==null||dm;if(!L){var H=k.alternate,K=H!==null&&H.memoizedState!==null||qn;H=dm;var re=qn;if(dm=L,(qn=K)&&!re)for(Oe=k;Oe!==null;)L=Oe,K=L.child,L.tag===22&&L.memoizedState!==null?Jk(k):K!==null?(K.return=L,Oe=K):Jk(k);for(;P!==null;)Oe=P,Yk(P),P=P.sibling;Oe=k,dm=H,qn=re}Xk(f)}else(k.subtreeFlags&8772)!==0&&P!==null?(P.return=k,Oe=P):Xk(f)}}function Xk(f){for(;Oe!==null;){var m=Oe;if((m.flags&8772)!==0){var y=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:qn||fm(5,m);break;case 1:var S=m.stateNode;if(m.flags&4&&!qn)if(y===null)S.componentDidMount();else{var k=m.elementType===m.type?y.memoizedProps:Ns(m.type,y.memoizedProps);S.componentDidUpdate(k,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var P=m.updateQueue;P!==null&&Qj(m,P,S);break;case 3:var L=m.updateQueue;if(L!==null){if(y=null,m.child!==null)switch(m.child.tag){case 5:y=m.child.stateNode;break;case 1:y=m.child.stateNode}Qj(m,L,y)}break;case 5:var H=m.stateNode;if(y===null&&m.flags&4){y=H;var K=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&y.focus();break;case"img":K.src&&(y.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var re=m.alternate;if(re!==null){var he=re.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Fu(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qn||m.flags&512&&Zy(m)}catch(de){Kt(m,m.return,de)}}if(m===f){Oe=null;break}if(y=m.sibling,y!==null){y.return=m.return,Oe=y;break}Oe=m.return}}function Qk(f){for(;Oe!==null;){var m=Oe;if(m===f){Oe=null;break}var y=m.sibling;if(y!==null){y.return=m.return,Oe=y;break}Oe=m.return}}function Jk(f){for(;Oe!==null;){var m=Oe;try{switch(m.tag){case 0:case 11:case 15:var y=m.return;try{fm(4,m)}catch(K){Kt(m,y,K)}break;case 1:var S=m.stateNode;if(typeof S.componentDidMount=="function"){var k=m.return;try{S.componentDidMount()}catch(K){Kt(m,k,K)}}var P=m.return;try{Zy(m)}catch(K){Kt(m,P,K)}break;case 5:var L=m.return;try{Zy(m)}catch(K){Kt(m,L,K)}}}catch(K){Kt(m,m.return,K)}if(m===f){Oe=null;break}var H=m.sibling;if(H!==null){H.return=m.return,Oe=H;break}Oe=m.return}}var Kz=Math.ceil,hm=T.ReactCurrentDispatcher,nb=T.ReactCurrentOwner,ns=T.ReactCurrentBatchConfig,ct=0,Sn=null,ln=null,Dn=0,Fr=0,gc=ba(0),yn=0,od=null,Do=0,mm=0,rb=0,ld=null,br=null,sb=0,xc=1/0,ji=null,pm=!1,ib=null,ja=null,gm=!1,ka=null,xm=0,cd=0,ab=null,ym=-1,bm=0;function or(){return(ct&6)!==0?nn():ym!==-1?ym:ym=nn()}function Ta(f){return(f.mode&1)===0?1:(ct&2)!==0&&Dn!==0?Dn&-Dn:Az.transition!==null?(bm===0&&(bm=WC()),bm):(f=yt,f!==0||(f=window.event,f=f===void 0?16:ej(f.type)),f)}function ks(f,m,y,S){if(50<cd)throw cd=0,ab=null,Error(n(185));_u(f,y,S),((ct&2)===0||f!==Sn)&&(f===Sn&&((ct&2)===0&&(mm|=y),yn===4&&Ea(f,Dn)),vr(f,S),y===1&&ct===0&&(m.mode&1)===0&&(xc=nn()+500,Kh&&wa()))}function vr(f,m){var y=f.callbackNode;A7(f,m);var S=Eh(f,f===Sn?Dn:0);if(S===0)y!==null&&BC(y),f.callbackNode=null,f.callbackPriority=0;else if(m=S&-S,f.callbackPriority!==m){if(y!=null&&BC(y),m===1)f.tag===0?Mz(e4.bind(null,f)):zj(e4.bind(null,f)),jz(function(){(ct&6)===0&&wa()}),y=null;else{switch(qC(S)){case 1:y=zx;break;case 4:y=HC;break;case 16:y=Ch;break;case 536870912:y=UC;break;default:y=Ch}y=l4(y,Zk.bind(null,f))}f.callbackPriority=m,f.callbackNode=y}}function Zk(f,m){if(ym=-1,bm=0,(ct&6)!==0)throw Error(n(327));var y=f.callbackNode;if(yc()&&f.callbackNode!==y)return null;var S=Eh(f,f===Sn?Dn:0);if(S===0)return null;if((S&30)!==0||(S&f.expiredLanes)!==0||m)m=vm(f,S);else{m=S;var k=ct;ct|=2;var P=n4();(Sn!==f||Dn!==m)&&(ji=null,xc=nn()+500,Lo(f,m));do try{Xz();break}catch(H){t4(f,H)}while(!0);Cy(),hm.current=P,ct=k,ln!==null?m=0:(Sn=null,Dn=0,m=yn)}if(m!==0){if(m===2&&(k=Vx(f),k!==0&&(S=k,m=ob(f,k))),m===1)throw y=od,Lo(f,0),Ea(f,S),vr(f,nn()),y;if(m===6)Ea(f,S);else{if(k=f.current.alternate,(S&30)===0&&!Gz(k)&&(m=vm(f,S),m===2&&(P=Vx(f),P!==0&&(S=P,m=ob(f,P))),m===1))throw y=od,Lo(f,0),Ea(f,S),vr(f,nn()),y;switch(f.finishedWork=k,f.finishedLanes=S,m){case 0:case 1:throw Error(n(345));case 2:Ro(f,br,ji);break;case 3:if(Ea(f,S),(S&130023424)===S&&(m=sb+500-nn(),10<m)){if(Eh(f,0)!==0)break;if(k=f.suspendedLanes,(k&S)!==S){or(),f.pingedLanes|=f.suspendedLanes&k;break}f.timeoutHandle=hy(Ro.bind(null,f,br,ji),m);break}Ro(f,br,ji);break;case 4:if(Ea(f,S),(S&4194240)===S)break;for(m=f.eventTimes,k=-1;0<S;){var L=31-vs(S);P=1<<L,L=m[L],L>k&&(k=L),S&=~P}if(S=k,S=nn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*Kz(S/1960))-S,10<S){f.timeoutHandle=hy(Ro.bind(null,f,br,ji),S);break}Ro(f,br,ji);break;case 5:Ro(f,br,ji);break;default:throw Error(n(329))}}}return vr(f,nn()),f.callbackNode===y?Zk.bind(null,f):null}function ob(f,m){var y=ld;return f.current.memoizedState.isDehydrated&&(Lo(f,m).flags|=256),f=vm(f,m),f!==2&&(m=br,br=y,m!==null&&lb(m)),f}function lb(f){br===null?br=f:br.push.apply(br,f)}function Gz(f){for(var m=f;;){if(m.flags&16384){var y=m.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var k=y[S],P=k.getSnapshot;k=k.value;try{if(!ws(P(),k))return!1}catch{return!1}}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ea(f,m){for(m&=~rb,m&=~mm,f.suspendedLanes|=m,f.pingedLanes&=~m,f=f.expirationTimes;0<m;){var y=31-vs(m),S=1<<y;f[y]=-1,m&=~S}}function e4(f){if((ct&6)!==0)throw Error(n(327));yc();var m=Eh(f,0);if((m&1)===0)return vr(f,nn()),null;var y=vm(f,m);if(f.tag!==0&&y===2){var S=Vx(f);S!==0&&(m=S,y=ob(f,S))}if(y===1)throw y=od,Lo(f,0),Ea(f,m),vr(f,nn()),y;if(y===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=m,Ro(f,br,ji),vr(f,nn()),null}function cb(f,m){var y=ct;ct|=1;try{return f(m)}finally{ct=y,ct===0&&(xc=nn()+500,Kh&&wa())}}function Io(f){ka!==null&&ka.tag===0&&(ct&6)===0&&yc();var m=ct;ct|=1;var y=ns.transition,S=yt;try{if(ns.transition=null,yt=1,f)return f()}finally{yt=S,ns.transition=y,ct=m,(ct&6)===0&&wa()}}function ub(){Fr=gc.current,At(gc)}function Lo(f,m){f.finishedWork=null,f.finishedLanes=0;var y=f.timeoutHandle;if(y!==-1&&(f.timeoutHandle=-1,Cz(y)),ln!==null)for(y=ln.return;y!==null;){var S=y;switch(by(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Wh();break;case 3:hc(),At(gr),At(Hn),Py();break;case 5:Ay(S);break;case 4:hc();break;case 13:At(Vt);break;case 19:At(Vt);break;case 10:jy(S.type._context);break;case 22:case 23:ub()}y=y.return}if(Sn=f,ln=f=Ma(f.current,null),Dn=Fr=m,yn=0,od=null,rb=mm=Do=0,br=ld=null,Oo!==null){for(m=0;m<Oo.length;m++)if(y=Oo[m],S=y.interleaved,S!==null){y.interleaved=null;var k=S.next,P=y.pending;if(P!==null){var L=P.next;P.next=k,S.next=L}y.pending=S}Oo=null}return f}function t4(f,m){do{var y=ln;try{if(Cy(),rm.current=om,sm){for(var S=$t.memoizedState;S!==null;){var k=S.queue;k!==null&&(k.pending=null),S=S.next}sm=!1}if(_o=0,wn=xn=$t=null,td=!1,nd=0,nb.current=null,y===null||y.return===null){yn=1,od=m,ln=null;break}e:{var P=f,L=y.return,H=y,K=m;if(m=Dn,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var re=K,he=H,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var Me=kk(L);if(Me!==null){Me.flags&=-257,Tk(Me,L,H,P,m),Me.mode&1&&jk(P,re,m),m=Me,K=re;var Pe=m.updateQueue;if(Pe===null){var _e=new Set;_e.add(K),m.updateQueue=_e}else Pe.add(K);break e}else{if((m&1)===0){jk(P,re,m),db();break e}K=Error(n(426))}}else if(It&&H.mode&1){var rn=kk(L);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),Tk(rn,L,H,P,m),Sy(mc(K,H));break e}}P=K=mc(K,H),yn!==4&&(yn=2),ld===null?ld=[P]:ld.push(P),P=L;do{switch(P.tag){case 3:P.flags|=65536,m&=-m,P.lanes|=m;var Z=Nk(P,K,m);Xj(P,Z);break e;case 1:H=K;var X=P.type,te=P.stateNode;if((P.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(ja===null||!ja.has(te)))){P.flags|=65536,m&=-m,P.lanes|=m;var ve=Ck(P,H,m);Xj(P,ve);break e}}P=P.return}while(P!==null)}s4(y)}catch(Ie){m=Ie,ln===y&&y!==null&&(ln=y=y.return);continue}break}while(!0)}function n4(){var f=hm.current;return hm.current=om,f===null?om:f}function db(){(yn===0||yn===3||yn===2)&&(yn=4),Sn===null||(Do&268435455)===0&&(mm&268435455)===0||Ea(Sn,Dn)}function vm(f,m){var y=ct;ct|=2;var S=n4();(Sn!==f||Dn!==m)&&(ji=null,Lo(f,m));do try{Yz();break}catch(k){t4(f,k)}while(!0);if(Cy(),ct=y,hm.current=S,ln!==null)throw Error(n(261));return Sn=null,Dn=0,yn}function Yz(){for(;ln!==null;)r4(ln)}function Xz(){for(;ln!==null&&!w7();)r4(ln)}function r4(f){var m=o4(f.alternate,f,Fr);f.memoizedProps=f.pendingProps,m===null?s4(f):ln=m,nb.current=null}function s4(f){var m=f;do{var y=m.alternate;if(f=m.return,(m.flags&32768)===0){if(y=Bz(y,m,Fr),y!==null){ln=y;return}}else{if(y=Hz(y,m),y!==null){y.flags&=32767,ln=y;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{yn=6,ln=null;return}}if(m=m.sibling,m!==null){ln=m;return}ln=m=f}while(m!==null);yn===0&&(yn=5)}function Ro(f,m,y){var S=yt,k=ns.transition;try{ns.transition=null,yt=1,Qz(f,m,y,S)}finally{ns.transition=k,yt=S}return null}function Qz(f,m,y,S){do yc();while(ka!==null);if((ct&6)!==0)throw Error(n(327));y=f.finishedWork;var k=f.finishedLanes;if(y===null)return null;if(f.finishedWork=null,f.finishedLanes=0,y===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var P=y.lanes|y.childLanes;if(O7(f,P),f===Sn&&(ln=Sn=null,Dn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||gm||(gm=!0,l4(Ch,function(){return yc(),null})),P=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||P){P=ns.transition,ns.transition=null;var L=yt;yt=1;var H=ct;ct|=4,nb.current=null,Wz(f,y),Gk(y,f),xz(dy),Oh=!!uy,dy=uy=null,f.current=y,qz(y),S7(),ct=H,yt=L,ns.transition=P}else f.current=y;if(gm&&(gm=!1,ka=f,xm=k),P=f.pendingLanes,P===0&&(ja=null),j7(y.stateNode),vr(f,nn()),m!==null)for(S=f.onRecoverableError,y=0;y<m.length;y++)k=m[y],S(k.value,{componentStack:k.stack,digest:k.digest});if(pm)throw pm=!1,f=ib,ib=null,f;return(xm&1)!==0&&f.tag!==0&&yc(),P=f.pendingLanes,(P&1)!==0?f===ab?cd++:(cd=0,ab=f):cd=0,wa(),null}function yc(){if(ka!==null){var f=qC(xm),m=ns.transition,y=yt;try{if(ns.transition=null,yt=16>f?16:f,ka===null)var S=!1;else{if(f=ka,ka=null,xm=0,(ct&6)!==0)throw Error(n(331));var k=ct;for(ct|=4,Oe=f.current;Oe!==null;){var P=Oe,L=P.child;if((Oe.flags&16)!==0){var H=P.deletions;if(H!==null){for(var K=0;K<H.length;K++){var re=H[K];for(Oe=re;Oe!==null;){var he=Oe;switch(he.tag){case 0:case 11:case 15:ad(8,he,P)}var me=he.child;if(me!==null)me.return=he,Oe=me;else for(;Oe!==null;){he=Oe;var de=he.sibling,Me=he.return;if(Hk(he),he===re){Oe=null;break}if(de!==null){de.return=Me,Oe=de;break}Oe=Me}}}var Pe=P.alternate;if(Pe!==null){var _e=Pe.child;if(_e!==null){Pe.child=null;do{var rn=_e.sibling;_e.sibling=null,_e=rn}while(_e!==null)}}Oe=P}}if((P.subtreeFlags&2064)!==0&&L!==null)L.return=P,Oe=L;else e:for(;Oe!==null;){if(P=Oe,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:ad(9,P,P.return)}var Z=P.sibling;if(Z!==null){Z.return=P.return,Oe=Z;break e}Oe=P.return}}var X=f.current;for(Oe=X;Oe!==null;){L=Oe;var te=L.child;if((L.subtreeFlags&2064)!==0&&te!==null)te.return=L,Oe=te;else e:for(L=X;Oe!==null;){if(H=Oe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:fm(9,H)}}catch(Ie){Kt(H,H.return,Ie)}if(H===L){Oe=null;break e}var ve=H.sibling;if(ve!==null){ve.return=H.return,Oe=ve;break e}Oe=H.return}}if(ct=k,wa(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(jh,f)}catch{}S=!0}return S}finally{yt=y,ns.transition=m}}return!1}function i4(f,m,y){m=mc(y,m),m=Nk(f,m,1),f=Na(f,m,1),m=or(),f!==null&&(_u(f,1,m),vr(f,m))}function Kt(f,m,y){if(f.tag===3)i4(f,f,y);else for(;m!==null;){if(m.tag===3){i4(m,f,y);break}else if(m.tag===1){var S=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(ja===null||!ja.has(S))){f=mc(y,f),f=Ck(m,f,1),m=Na(m,f,1),f=or(),m!==null&&(_u(m,1,f),vr(m,f));break}}m=m.return}}function Jz(f,m,y){var S=f.pingCache;S!==null&&S.delete(m),m=or(),f.pingedLanes|=f.suspendedLanes&y,Sn===f&&(Dn&y)===y&&(yn===4||yn===3&&(Dn&130023424)===Dn&&500>nn()-sb?Lo(f,0):rb|=y),vr(f,m)}function a4(f,m){m===0&&((f.mode&1)===0?m=1:(m=Th,Th<<=1,(Th&130023424)===0&&(Th=4194304)));var y=or();f=Si(f,m),f!==null&&(_u(f,m,y),vr(f,y))}function Zz(f){var m=f.memoizedState,y=0;m!==null&&(y=m.retryLane),a4(f,y)}function eV(f,m){var y=0;switch(f.tag){case 13:var S=f.stateNode,k=f.memoizedState;k!==null&&(y=k.retryLane);break;case 19:S=f.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(m),a4(f,y)}var o4;o4=function(f,m,y){if(f!==null)if(f.memoizedProps!==m.pendingProps||gr.current)yr=!0;else{if((f.lanes&y)===0&&(m.flags&128)===0)return yr=!1,$z(f,m,y);yr=(f.flags&131072)!==0}else yr=!1,It&&(m.flags&1048576)!==0&&Vj(m,Yh,m.index);switch(m.lanes=0,m.tag){case 2:var S=m.type;um(f,m),f=m.pendingProps;var k=ac(m,Hn.current);fc(m,y),k=Iy(null,m,S,f,k,y);var P=Ly();return m.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,xr(S)?(P=!0,qh(m)):P=!1,m.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Ey(m),k.updater=lm,m.stateNode=k,k._reactInternals=m,By(m,S,f,y),m=qy(null,m,S,!0,P,y)):(m.tag=0,It&&P&&yy(m),ar(null,m,k,y),m=m.child),m;case 16:S=m.elementType;e:{switch(um(f,m),f=m.pendingProps,k=S._init,S=k(S._payload),m.type=S,k=m.tag=nV(S),f=Ns(S,f),k){case 0:m=Wy(null,m,S,f,y);break e;case 1:m=_k(null,m,S,f,y);break e;case 11:m=Ek(null,m,S,f,y);break e;case 14:m=Mk(null,m,S,Ns(S.type,f),y);break e}throw Error(n(306,S,""))}return m;case 0:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Ns(S,k),Wy(f,m,S,k,y);case 1:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Ns(S,k),_k(f,m,S,k,y);case 3:e:{if(Dk(m),f===null)throw Error(n(387));S=m.pendingProps,P=m.memoizedState,k=P.element,Yj(f,m),tm(m,S,null,y);var L=m.memoizedState;if(S=L.element,P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},m.updateQueue.baseState=P,m.memoizedState=P,m.flags&256){k=mc(Error(n(423)),m),m=Ik(f,m,S,y,k);break e}else if(S!==k){k=mc(Error(n(424)),m),m=Ik(f,m,S,y,k);break e}else for(Rr=ya(m.stateNode.containerInfo.firstChild),Lr=m,It=!0,Ss=null,y=Kj(m,null,S,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(cc(),S===k){m=Ci(f,m,y);break e}ar(f,m,S,y)}m=m.child}return m;case 5:return Jj(m),f===null&&wy(m),S=m.type,k=m.pendingProps,P=f!==null?f.memoizedProps:null,L=k.children,fy(S,k)?L=null:P!==null&&fy(S,P)&&(m.flags|=32),Pk(f,m),ar(f,m,L,y),m.child;case 6:return f===null&&wy(m),null;case 13:return Lk(f,m,y);case 4:return My(m,m.stateNode.containerInfo),S=m.pendingProps,f===null?m.child=uc(m,null,S,y):ar(f,m,S,y),m.child;case 11:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Ns(S,k),Ek(f,m,S,k,y);case 7:return ar(f,m,m.pendingProps,y),m.child;case 8:return ar(f,m,m.pendingProps.children,y),m.child;case 12:return ar(f,m,m.pendingProps.children,y),m.child;case 10:e:{if(S=m.type._context,k=m.pendingProps,P=m.memoizedProps,L=k.value,Ct(Jh,S._currentValue),S._currentValue=L,P!==null)if(ws(P.value,L)){if(P.children===k.children&&!gr.current){m=Ci(f,m,y);break e}}else for(P=m.child,P!==null&&(P.return=m);P!==null;){var H=P.dependencies;if(H!==null){L=P.child;for(var K=H.firstContext;K!==null;){if(K.context===S){if(P.tag===1){K=Ni(-1,y&-y),K.tag=2;var re=P.updateQueue;if(re!==null){re=re.shared;var he=re.pending;he===null?K.next=K:(K.next=he.next,he.next=K),re.pending=K}}P.lanes|=y,K=P.alternate,K!==null&&(K.lanes|=y),ky(P.return,y,m),H.lanes|=y;break}K=K.next}}else if(P.tag===10)L=P.type===m.type?null:P.child;else if(P.tag===18){if(L=P.return,L===null)throw Error(n(341));L.lanes|=y,H=L.alternate,H!==null&&(H.lanes|=y),ky(L,y,m),L=P.sibling}else L=P.child;if(L!==null)L.return=P;else for(L=P;L!==null;){if(L===m){L=null;break}if(P=L.sibling,P!==null){P.return=L.return,L=P;break}L=L.return}P=L}ar(f,m,k.children,y),m=m.child}return m;case 9:return k=m.type,S=m.pendingProps.children,fc(m,y),k=es(k),S=S(k),m.flags|=1,ar(f,m,S,y),m.child;case 14:return S=m.type,k=Ns(S,m.pendingProps),k=Ns(S.type,k),Mk(f,m,S,k,y);case 15:return Ak(f,m,m.type,m.pendingProps,y);case 17:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Ns(S,k),um(f,m),m.tag=1,xr(S)?(f=!0,qh(m)):f=!1,fc(m,y),wk(m,S,k),By(m,S,k,y),qy(null,m,S,!0,f,y);case 19:return Fk(f,m,y);case 22:return Ok(f,m,y)}throw Error(n(156,m.tag))};function l4(f,m){return $C(f,m)}function tV(f,m,y,S){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(f,m,y,S){return new tV(f,m,y,S)}function fb(f){return f=f.prototype,!(!f||!f.isReactComponent)}function nV(f){if(typeof f=="function")return fb(f)?1:0;if(f!=null){if(f=f.$$typeof,f===F)return 11;if(f===W)return 14}return 2}function Ma(f,m){var y=f.alternate;return y===null?(y=rs(f.tag,m,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=m,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&14680064,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,m=f.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y}function wm(f,m,y,S,k,P){var L=2;if(S=f,typeof f=="function")fb(f)&&(L=1);else if(typeof f=="string")L=5;else e:switch(f){case O:return Fo(y.children,k,P,m);case M:L=8,k|=8;break;case _:return f=rs(12,y,m,k|2),f.elementType=_,f.lanes=P,f;case Y:return f=rs(13,y,m,k),f.elementType=Y,f.lanes=P,f;case G:return f=rs(19,y,m,k),f.elementType=G,f.lanes=P,f;case V:return Sm(y,k,P,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case D:L=10;break e;case I:L=9;break e;case F:L=11;break e;case W:L=14;break e;case R:L=16,S=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return m=rs(L,y,m,k),m.elementType=f,m.type=S,m.lanes=P,m}function Fo(f,m,y,S){return f=rs(7,f,S,m),f.lanes=y,f}function Sm(f,m,y,S){return f=rs(22,f,S,m),f.elementType=V,f.lanes=y,f.stateNode={isHidden:!1},f}function hb(f,m,y){return f=rs(6,f,null,m),f.lanes=y,f}function mb(f,m,y){return m=rs(4,f.children!==null?f.children:[],f.key,m),m.lanes=y,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function rV(f,m,y,S,k){this.tag=m,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$x(0),this.expirationTimes=$x(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$x(0),this.identifierPrefix=S,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function pb(f,m,y,S,k,P,L,H,K){return f=new rV(f,m,y,H,K),m===1?(m=1,P===!0&&(m|=8)):m=0,P=rs(3,null,null,m),f.current=P,P.stateNode=f,P.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ey(P),f}function sV(f,m,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:S==null?null:""+S,children:f,containerInfo:m,implementation:y}}function c4(f){if(!f)return va;f=f._reactInternals;e:{if(ko(f)!==f||f.tag!==1)throw Error(n(170));var m=f;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(xr(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(f.tag===1){var y=f.type;if(xr(y))return Rj(f,y,m)}return m}function u4(f,m,y,S,k,P,L,H,K){return f=pb(y,S,!0,f,k,P,L,H,K),f.context=c4(null),y=f.current,S=or(),k=Ta(y),P=Ni(S,k),P.callback=m??null,Na(y,P,k),f.current.lanes=k,_u(f,k,S),vr(f,S),f}function Nm(f,m,y,S){var k=m.current,P=or(),L=Ta(k);return y=c4(y),m.context===null?m.context=y:m.pendingContext=y,m=Ni(P,L),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=Na(k,m,L),f!==null&&(ks(f,k,L,P),em(f,k,L)),L}function Cm(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function d4(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<m?y:m}}function gb(f,m){d4(f,m),(f=f.alternate)&&d4(f,m)}function iV(){return null}var f4=typeof reportError=="function"?reportError:function(f){console.error(f)};function xb(f){this._internalRoot=f}jm.prototype.render=xb.prototype.render=function(f){var m=this._internalRoot;if(m===null)throw Error(n(409));Nm(f,m,null,null)},jm.prototype.unmount=xb.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var m=f.containerInfo;Io(function(){Nm(null,f,null,null)}),m[yi]=null}};function jm(f){this._internalRoot=f}jm.prototype.unstable_scheduleHydration=function(f){if(f){var m=YC();f={blockedOn:null,target:f,priority:m};for(var y=0;y<pa.length&&m!==0&&m<pa[y].priority;y++);pa.splice(y,0,f),y===0&&JC(f)}};function yb(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function km(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function h4(){}function aV(f,m,y,S,k){if(k){if(typeof S=="function"){var P=S;S=function(){var re=Cm(L);P.call(re)}}var L=u4(m,S,f,0,null,!1,!1,"",h4);return f._reactRootContainer=L,f[yi]=L.current,Ku(f.nodeType===8?f.parentNode:f),Io(),L}for(;k=f.lastChild;)f.removeChild(k);if(typeof S=="function"){var H=S;S=function(){var re=Cm(K);H.call(re)}}var K=pb(f,0,!1,null,null,!1,!1,"",h4);return f._reactRootContainer=K,f[yi]=K.current,Ku(f.nodeType===8?f.parentNode:f),Io(function(){Nm(m,K,y,S)}),K}function Tm(f,m,y,S,k){var P=y._reactRootContainer;if(P){var L=P;if(typeof k=="function"){var H=k;k=function(){var K=Cm(L);H.call(K)}}Nm(m,L,f,k)}else L=aV(y,m,f,k,S);return Cm(L)}KC=function(f){switch(f.tag){case 3:var m=f.stateNode;if(m.current.memoizedState.isDehydrated){var y=Pu(m.pendingLanes);y!==0&&(Bx(m,y|1),vr(m,nn()),(ct&6)===0&&(xc=nn()+500,wa()))}break;case 13:Io(function(){var S=Si(f,1);if(S!==null){var k=or();ks(S,f,1,k)}}),gb(f,1)}},Hx=function(f){if(f.tag===13){var m=Si(f,134217728);if(m!==null){var y=or();ks(m,f,134217728,y)}gb(f,134217728)}},GC=function(f){if(f.tag===13){var m=Ta(f),y=Si(f,m);if(y!==null){var S=or();ks(y,f,m,S)}gb(f,m)}},YC=function(){return yt},XC=function(f,m){var y=yt;try{return yt=f,m()}finally{yt=y}},Ix=function(f,m,y){switch(m){case"input":if(qt(f,y),m=y.name,y.type==="radio"&&m!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<y.length;m++){var S=y[m];if(S!==f&&S.form===f.form){var k=Uh(S);if(!k)throw Error(n(90));ke(S),qt(S,k)}}}break;case"textarea":Ne(f,y);break;case"select":m=y.value,m!=null&&ee(f,!!y.multiple,m,!1)}},DC=cb,IC=Io;var oV={usingClientEntryPoint:!1,Events:[Xu,sc,Uh,PC,_C,cb]},ud={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lV={bundleType:ud.bundleType,version:ud.version,rendererPackageName:ud.rendererPackageName,rendererConfig:ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=zC(f),f===null?null:f.stateNode},findFiberByHostInstance:ud.findFiberByHostInstance||iV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Em.isDisabled&&Em.supportsFiber)try{jh=Em.inject(lV),zs=Em}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oV,wr.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yb(m))throw Error(n(200));return sV(f,m,null,y)},wr.createRoot=function(f,m){if(!yb(f))throw Error(n(299));var y=!1,S="",k=f4;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onRecoverableError!==void 0&&(k=m.onRecoverableError)),m=pb(f,1,!1,null,null,y,!1,S,k),f[yi]=m.current,Ku(f.nodeType===8?f.parentNode:f),new xb(m)},wr.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=zC(m),f=f===null?null:f.stateNode,f},wr.flushSync=function(f){return Io(f)},wr.hydrate=function(f,m,y){if(!km(m))throw Error(n(200));return Tm(null,f,m,!0,y)},wr.hydrateRoot=function(f,m,y){if(!yb(f))throw Error(n(405));var S=y!=null&&y.hydratedSources||null,k=!1,P="",L=f4;if(y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(P=y.identifierPrefix),y.onRecoverableError!==void 0&&(L=y.onRecoverableError)),m=u4(m,null,f,1,y??null,k,!1,P,L),f[yi]=m.current,Ku(f),S)for(f=0;f<S.length;f++)y=S[f],k=y._getVersion,k=k(y._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[y,k]:m.mutableSourceEagerHydrationData.push(y,k);return new jm(m)},wr.render=function(f,m,y){if(!km(m))throw Error(n(200));return Tm(null,f,m,!1,y)},wr.unmountComponentAtNode=function(f){if(!km(f))throw Error(n(40));return f._reactRootContainer?(Io(function(){Tm(null,null,f,!1,function(){f._reactRootContainer=null,f[yi]=null})}),!0):!1},wr.unstable_batchedUpdates=cb,wr.unstable_renderSubtreeIntoContainer=function(f,m,y,S){if(!km(y))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return Tm(f,m,y,!1,S)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var S4;function jA(){if(S4)return wb.exports;S4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wb.exports=gV(),wb.exports}var N4;function xV(){if(N4)return Mm;N4=1;var t=jA();return Mm.createRoot=t.createRoot,Mm.hydrateRoot=t.hydrateRoot,Mm}var yV=xV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C4="popstate";function bV(t={}){function e(s,i){let{pathname:a="/",search:o="",hash:l=""}=Rl(s.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),x1("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:df(i))}function r(s,i){Yr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return wV(e,n,r,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vV(){return Math.random().toString(36).substring(2,10)}function j4(t,e){return{usr:t.state,key:t.key,idx:e}}function x1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||r||vV()}}function df({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wV(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=d(),w=b==null?null:b-u;u=b,l&&l({action:o,location:v.location,delta:w})}function p(b,w){o="PUSH";let N=x1(v.location,b,w);n&&n(N,b),u=d()+1;let C=j4(N,u),T=v.createHref(N);try{a.pushState(C,"",T)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(T)}i&&l&&l({action:o,location:v.location,delta:1})}function g(b,w){o="REPLACE";let N=x1(v.location,b,w);n&&n(N,b),u=d();let C=j4(N,u),T=v.createHref(N);a.replaceState(C,"",T),i&&l&&l({action:o,location:v.location,delta:0})}function x(b){return SV(b)}let v={get action(){return o},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(C4,h),l=b,()=>{s.removeEventListener(C4,h),l=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return a.go(b)}};return v}function SV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:df(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kA(t,e,n="/"){return NV(t,e,n,!1)}function NV(t,e,n,r){let s=typeof e=="string"?Rl(e):e,i=ea(s.pathname||"/",n);if(i==null)return null;let a=TA(t);CV(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=IV(i);o=_V(a[l],u,r)}return o}function TA(t,e=[],n=[],r="",s=!1){let i=(a,o,l=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;zt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Gi([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(zt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),TA(a.children,e,p,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:OV(h,a.index),routesMeta:p})};return t.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let l of EA(a.path))i(a,o,!0,l)}),e}function EA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=EA(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function CV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jV=/^:[\w-]+$/,kV=3,TV=2,EV=1,MV=10,AV=-2,k4=t=>t==="*";function OV(t,e){let n=t.split("/"),r=n.length;return n.some(k4)&&(r+=AV),e&&(r+=TV),n.filter(s=>!k4(s)).reduce((s,i)=>s+(jV.test(i)?kV:i===""?EV:MV),r)}function PV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _V(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=ng({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=ng({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Gi([i,h.pathname]),pathnameBase:zV(Gi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Gi([i,h.pathnameBase]))}return a}function ng(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let x=o[p]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[p];return h&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function DV(t,e=!1,n=!0){Yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function IV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ea(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LV(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rl(t):t;return{pathname:n?n.startsWith("/")?n:RV(n,e):e,search:VV(r),hash:$V(s)}}function RV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mw(t){let e=FV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Aw(t,e,n,r=!1){let s;typeof t=="string"?s=Rl(t):(s={...t},zt(!s.pathname||!s.pathname.includes("?"),Cb("?","pathname","search",s)),zt(!s.pathname||!s.pathname.includes("#"),Cb("#","pathname","hash",s)),zt(!s.search||!s.search.includes("#"),Cb("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=LV(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Gi=t=>t.join("/").replace(/\/\/+/g,"/"),zV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$V=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var MA=["POST","PUT","PATCH","DELETE"];new Set(MA);var HV=["GET",...MA];new Set(HV);var pu=A.createContext(null);pu.displayName="DataRouter";var P0=A.createContext(null);P0.displayName="DataRouterState";A.createContext(!1);var AA=A.createContext({isTransitioning:!1});AA.displayName="ViewTransition";var UV=A.createContext(new Map);UV.displayName="Fetchers";var WV=A.createContext(null);WV.displayName="Await";var Is=A.createContext(null);Is.displayName="Navigation";var Yf=A.createContext(null);Yf.displayName="Location";var bs=A.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var Ow=A.createContext(null);Ow.displayName="RouteError";function qV(t,{relative:e}={}){zt(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Is),{hash:s,pathname:i,search:a}=Qf(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:Gi([n,i])),r.createHref({pathname:o,search:a,hash:s})}function gu(){return A.useContext(Yf)!=null}function rr(){return zt(gu(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Yf).location}var OA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PA(t){A.useContext(Is).static||A.useLayoutEffect(t)}function ut(){let{isDataRoute:t}=A.useContext(bs);return t?o$():KV()}function KV(){zt(gu(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(pu),{basename:e,navigator:n}=A.useContext(Is),{matches:r}=A.useContext(bs),{pathname:s}=rr(),i=JSON.stringify(Mw(r)),a=A.useRef(!1);return PA(()=>{a.current=!0}),A.useCallback((l,u={})=>{if(Yr(a.current,OA),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=Aw(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gi([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}var GV=A.createContext(null);function YV(t){let e=A.useContext(bs).outlet;return e&&A.createElement(GV.Provider,{value:t},e)}function Xf(){let{matches:t}=A.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Qf(t,{relative:e}={}){let{matches:n}=A.useContext(bs),{pathname:r}=rr(),s=JSON.stringify(Mw(n));return A.useMemo(()=>Aw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function XV(t,e){return _A(t,e)}function _A(t,e,n,r,s){zt(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Is),{matches:a}=A.useContext(bs),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let N=h&&h.path||"";DA(u,!h||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let p=rr(),g;if(e){let N=typeof e=="string"?Rl(e):e;zt(d==="/"||N.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),g=N}else g=p;let x=g.pathname||"/",v=x;if(d!=="/"){let N=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=kA(t,{pathname:v});Yr(h||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Yr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=t$(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Gi([d,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Gi([d,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r,s);return e&&w?A.createElement(Yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function QV(){let t=a$(),e=BV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:i},"ErrorBoundary")," or"," ",A.createElement("code",{style:i},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,a)}var JV=A.createElement(QV,null),ZV=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(bs.Provider,{value:this.props.routeContext},A.createElement(Ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e$({routeContext:t,match:e,children:n}){let r=A.useContext(pu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(bs.Provider,{value:t},n)}function t$(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let u=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);zt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,h)=>{let p,g=!1,x=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||JV,o&&(l<0&&h===0?(DA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):l===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),w=()=>{let N;return p?N=x:g?N=v:d.route.Component?N=A.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=u,A.createElement(e$,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:N})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?A.createElement(ZV,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):w()},null)}function Pw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n$(t){let e=A.useContext(pu);return zt(e,Pw(t)),e}function r$(t){let e=A.useContext(P0);return zt(e,Pw(t)),e}function s$(t){let e=A.useContext(bs);return zt(e,Pw(t)),e}function _w(t){let e=s$(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function i$(){return _w("useRouteId")}function a$(){let t=A.useContext(Ow),e=r$("useRouteError"),n=_w("useRouteError");return t!==void 0?t:e.errors?.[n]}function o$(){let{router:t}=n$("useNavigate"),e=_w("useNavigate"),n=A.useRef(!1);return PA(()=>{n.current=!0}),A.useCallback(async(s,i={})=>{Yr(n.current,OA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var T4={};function DA(t,e,n){!e&&!T4[t]&&(T4[t]=!0,Yr(!1,n))}A.memo(l$);function l$({routes:t,future:e,state:n,unstable_onError:r}){return _A(t,void 0,n,r,e)}function Bc({to:t,replace:e,state:n,relative:r}){zt(gu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=A.useContext(Is);Yr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=A.useContext(bs),{pathname:a}=rr(),o=ut(),l=Aw(t,Mw(i),a,r==="path"),u=JSON.stringify(l);return A.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function Fl(t){return YV(t.context)}function Je(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){zt(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=A.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Rl(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:p="default"}=n,g=A.useMemo(()=>{let x=ea(l,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:h,key:p},navigationType:r}},[a,l,u,d,h,p,r]);return Yr(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:A.createElement(Is.Provider,{value:o},A.createElement(Yf.Provider,{children:e,value:g}))}function u$({children:t,location:e}){return XV(y1(t),e)}function y1(t,e=[]){let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,y1(r.props.children,i));return}zt(r.type===Je,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=y1(r.props.children,i)),n.push(a)}),n}var Np="get",Cp="application/x-www-form-urlencoded";function _0(t){return t!=null&&typeof t.tagName=="string"}function d$(t){return _0(t)&&t.tagName.toLowerCase()==="button"}function f$(t){return _0(t)&&t.tagName.toLowerCase()==="form"}function h$(t){return _0(t)&&t.tagName.toLowerCase()==="input"}function m$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function p$(t,e){return t.button===0&&(!e||e==="_self")&&!m$(t)}function b1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function g$(t,e){let n=b1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Am=null;function x$(){if(Am===null)try{new FormData(document.createElement("form"),0),Am=!1}catch{Am=!0}return Am}var y$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jb(t){return t!=null&&!y$.has(t)?(Yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cp}"`),null):t}function b$(t,e){let n,r,s,i,a;if(f$(t)){let o=t.getAttribute("action");r=o?ea(o,e):null,n=t.getAttribute("method")||Np,s=jb(t.getAttribute("enctype"))||Cp,i=new FormData(t)}else if(d$(t)||h$(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?ea(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Np,s=jb(t.getAttribute("formenctype"))||jb(o.getAttribute("enctype"))||Cp,i=new FormData(o,t),!x$()){let{name:u,type:d,value:h}=t;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,h)}}else{if(_0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Np,r=null,s=Cp,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function v$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ea(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function w$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function N$(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await w$(i,n);return a.links?a.links():[]}return[]}));return T$(r.flat(1).filter(S$).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function E4(t,e,n,r,s,i){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return i==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function C$(t,e,{includeHydrateFallback:n}={}){return j$(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function j$(t){return[...new Set(t)]}function k$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function T$(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(k$(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function IA(){let t=A.useContext(pu);return Dw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function E$(){let t=A.useContext(P0);return Dw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Iw=A.createContext(void 0);Iw.displayName="FrameworkContext";function LA(){let t=A.useContext(Iw);return Dw(t,"You must render this element inside a <HydratedRouter> element"),t}function M$(t,e){let n=A.useContext(Iw),[r,s]=A.useState(!1),[i,a]=A.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,p=A.useRef(null);A.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(N=>{a(N.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),A.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:fd(o,g),onBlur:fd(l,x),onMouseEnter:fd(u,g),onMouseLeave:fd(d,x),onTouchStart:fd(h,g)}]:[!1,p,{}]}function fd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function A$({page:t,...e}){let{router:n}=IA(),r=A.useMemo(()=>kA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(P$,{page:t,matches:r,...e}):null}function O$(t){let{manifest:e,routeModules:n}=LA(),[r,s]=A.useState([]);return A.useEffect(()=>{let i=!1;return N$(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function P$({page:t,matches:e,...n}){let r=rr(),{manifest:s,routeModules:i}=LA(),{basename:a}=IA(),{loaderData:o,matches:l}=E$(),u=A.useMemo(()=>E4(t,e,l,s,r,"data"),[t,e,l,s,r]),d=A.useMemo(()=>E4(t,e,l,s,r,"assets"),[t,e,l,s,r]),h=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(w=>{let N=s.routes[w.route.id];!N||!N.hasLoader||(!u.some(C=>C.route.id===w.route.id)&&w.route.id in o&&i[w.route.id]?.shouldRevalidate||N.hasClientLoader?v=!0:x.add(w.route.id))}),x.size===0)return[];let b=v$(t,a,"data");return v&&x.size>0&&b.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,o,r,s,u,e,t,i]),p=A.useMemo(()=>C$(d,s),[d,s]),g=O$(d);return A.createElement(A.Fragment,null,h.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),g.map(({key:x,link:v})=>A.createElement("link",{key:x,nonce:n.nonce,...v})))}function _$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RA&&(window.__reactRouterVersion="7.9.1")}catch{}function D$({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=bV({window:n,v5Compat:!0}));let s=r.current,[i,a]=A.useState({action:s.action,location:s.location}),o=A.useCallback(l=>{A.startTransition(()=>a(l))},[a]);return A.useLayoutEffect(()=>s.listen(o),[s,o]),A.createElement(c$,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...p},g){let{basename:x}=A.useContext(Is),v=typeof u=="string"&&FA.test(u),b,w=!1;if(typeof u=="string"&&v&&(b=u,RA))try{let _=new URL(window.location.href),D=u.startsWith("//")?new URL(_.protocol+u):new URL(u),I=ea(D.pathname,x);D.origin===_.origin&&I!=null?u=I+D.search+D.hash:w=!0}catch{Yr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=qV(u,{relative:s}),[C,T,j]=M$(r,p),E=R$(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function O(_){e&&e(_),_.defaultPrevented||E(_)}let M=A.createElement("a",{...p,...j,href:b||N,onClick:w||i?e:O,ref:_$(g,T),target:l,"data-discover":!v&&n==="render"?"true":void 0});return C&&!v?A.createElement(A.Fragment,null,M,A.createElement(A$,{page:N})):M});Ht.displayName="Link";var Lw=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...u},d){let h=Qf(a,{relative:u.relative}),p=rr(),g=A.useContext(P0),{navigator:x,basename:v}=A.useContext(Is),b=g!=null&&B$(h)&&o===!0,w=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,N=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(N=N.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&v&&(C=ea(C,v)||C);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=N===w||!s&&N.startsWith(w)&&N.charAt(T)==="/",E=C!=null&&(C===w||!s&&C.startsWith(w)&&C.charAt(w.length)==="/"),O={isActive:j,isPending:E,isTransitioning:b},M=j?e:void 0,_;typeof r=="function"?_=r(O):_=[r,j?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(O):i;return A.createElement(Ht,{...u,"aria-current":M,className:_,ref:d,style:D,to:a,viewTransition:o},typeof l=="function"?l(O):l)});Lw.displayName="NavLink";var I$=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Np,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...p},g)=>{let x=V$(),v=$$(o,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&FA.test(o),N=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let T=C.nativeEvent.submitter,j=T?.getAttribute("formmethod")||a;x(T||C.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return A.createElement("form",{ref:g,method:b,action:v,onSubmit:r?l:N,...p,"data-discover":!w&&t==="render"?"true":void 0})});I$.displayName="Form";function L$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(t){let e=A.useContext(pu);return zt(e,L$(t)),e}function R$(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=ut(),l=rr(),u=Qf(t,{relative:i});return A.useCallback(d=>{if(p$(d,e)){d.preventDefault();let h=n!==void 0?n:df(l)===df(u);o(t,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,u,n,r,e,t,s,i,a])}function xu(t){Yr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(b1(t)),n=A.useRef(!1),r=rr(),s=A.useMemo(()=>g$(r.search,n.current?null:e.current),[r.search]),i=ut(),a=A.useCallback((o,l)=>{const u=b1(typeof o=="function"?o(new URLSearchParams(s)):o);n.current=!0,i("?"+u,l)},[i,s]);return[s,a]}var F$=0,z$=()=>`__${String(++F$)}__`;function V$(){let{router:t}=zA("useSubmit"),{basename:e}=A.useContext(Is),n=i$();return A.useCallback(async(r,s={})=>{let{action:i,method:a,encType:o,formData:l,body:u}=b$(r,e);if(s.navigate===!1){let d=s.fetcherKey||z$();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function $$(t,{relative:e}={}){let{basename:n}=A.useContext(Is),r=A.useContext(bs);zt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Qf(t||".",{relative:e})},a=rr();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Gi([n,i.pathname])),df(i)}function B$(t,{relative:e}={}){let n=A.useContext(AA);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zA("useViewTransitionState"),s=Qf(t,{relative:e});if(!n.isTransitioning)return!1;let i=ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ng(s.pathname,a)!=null||ng(s.pathname,i)!=null}var VA=jA();const H$=O0(VA);function $A(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=$A(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ll(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=$A(t))&&(r&&(r+=" "),r+=e);return r}function U$(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}U$(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Jf=t=>typeof t=="number"&&!isNaN(t),vl=t=>typeof t=="string",ta=t=>typeof t=="function",W$=t=>vl(t)||Jf(t),v1=t=>vl(t)||ta(t)?t:null,q$=(t,e)=>t===!1||Jf(t)&&t>0?t:e,w1=t=>A.isValidElement(t)||vl(t)||ta(t)||Jf(t);function K$(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function G$({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:o,done:l,nodeRef:u,isIn:d,playToast:h}){let p=n?`${t}--${a}`:t,g=n?`${e}--${a}`:e,x=A.useRef(0);return A.useLayoutEffect(()=>{let v=u.current,b=p.split(" "),w=N=>{N.target===u.current&&(h(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),x.current===0&&N.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),A.useEffect(()=>{let v=u.current,b=()=>{v.removeEventListener("animationend",b),r?K$(v,l,s):l()};d||(o?b():(x.current=1,v.className+=` ${g}`,v.addEventListener("animationend",b)))},[d]),ge.createElement(ge.Fragment,null,i)}}function M4(t,e){return{content:BA(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function BA(t,e,n=!1){return A.isValidElement(t)&&!vl(t.type)?A.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ta(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Y$({closeToast:t,theme:e,ariaLabel:n="close"}){return ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function X$({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:a,progress:o,rtl:l,isIn:u,theme:d}){let h=s||a&&o===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(p.transform=`scaleX(${o})`);let g=ll("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),x=ta(i)?i({rtl:l,type:r,defaultClassName:g}):ll(g,i),v={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{u&&n()}};return ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),ge.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:x,style:p,...v}))}var Q$=1,HA=()=>`${Q$++}`;function J$(t,e,n){let r=1,s=0,i=[],a=[],o=e,l=new Map,u=new Set,d=N=>(u.add(N),()=>u.delete(N)),h=()=>{a=Array.from(l.values()),u.forEach(N=>N())},p=({containerId:N,toastId:C,updateId:T})=>{let j=N?N!==t:t!==1,E=l.has(C)&&T==null;return j||E},g=(N,C)=>{l.forEach(T=>{var j;(C==null||C===T.props.toastId)&&((j=T.toggle)==null||j.call(T,N))})},x=N=>{var C,T;(T=(C=N.props)==null?void 0:C.onClose)==null||T.call(C,N.removalReason),N.isActive=!1},v=N=>{if(N==null)l.forEach(x);else{let C=l.get(N);C&&x(C)}h()},b=()=>{s-=i.length,i=[]},w=N=>{var C,T;let{toastId:j,updateId:E}=N.props,O=E==null;N.staleId&&l.delete(N.staleId),N.isActive=!0,l.set(j,N),h(),n(M4(N,O?"added":"updated")),O&&((T=(C=N.props).onOpen)==null||T.call(C))};return{id:t,props:o,observe:d,toggle:g,removeToast:v,toasts:l,clearQueue:b,buildToast:(N,C)=>{if(p(C))return;let{toastId:T,updateId:j,data:E,staleId:O,delay:M}=C,_=j==null;_&&s++;let D={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([F,Y])=>Y!=null)),toastId:T,updateId:j,data:E,isIn:!1,className:v1(C.className||o.toastClassName),progressClassName:v1(C.progressClassName||o.progressClassName),autoClose:C.isLoading?!1:q$(C.autoClose,o.autoClose),closeToast(F){l.get(T).removalReason=F,v(T)},deleteToast(){let F=l.get(T);if(F!=null){if(n(M4(F,"removed")),l.delete(T),s--,s<0&&(s=0),i.length>0){w(i.shift());return}h()}}};D.closeButton=o.closeButton,C.closeButton===!1||w1(C.closeButton)?D.closeButton=C.closeButton:C.closeButton===!0&&(D.closeButton=w1(o.closeButton)?o.closeButton:!0);let I={content:N,props:D,staleId:O};o.limit&&o.limit>0&&s>o.limit&&_?i.push(I):Jf(M)?setTimeout(()=>{w(I)},M):w(I)},setProps(N){o=N},setToggle:(N,C)=>{let T=l.get(N);T&&(T.toggle=C)},isToastActive:N=>{var C;return(C=l.get(N))==null?void 0:C.isActive},getSnapshot:()=>a}}var cr=new Map,ff=[],S1=new Set,Z$=t=>S1.forEach(e=>e(t)),UA=()=>cr.size>0;function e9(){ff.forEach(t=>qA(t.content,t.options)),ff=[]}var t9=(t,{containerId:e})=>{var n;return(n=cr.get(e||1))==null?void 0:n.toasts.get(t)};function WA(t,e){var n;if(e)return!!((n=cr.get(e))!=null&&n.isToastActive(t));let r=!1;return cr.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function n9(t){if(!UA()){ff=ff.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||W$(t))cr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=cr.get(t.containerId);e?e.removeToast(t.id):cr.forEach(n=>{n.removeToast(t.id)})}}var r9=(t={})=>{cr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function qA(t,e){w1(t)&&(UA()||ff.push({content:t,options:e}),cr.forEach(n=>{n.buildToast(t,e)}))}function s9(t){var e;(e=cr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function KA(t,e){cr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function i9(t){let e=t.containerId||1;return{subscribe(n){let r=J$(e,t,Z$);cr.set(e,r);let s=r.observe(n);return e9(),()=>{s(),cr.delete(e)}},setProps(n){var r;(r=cr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=cr.get(e))==null?void 0:n.getSnapshot()}}}function a9(t){return S1.add(t),()=>{S1.delete(t)}}function o9(t){return t&&(vl(t.toastId)||Jf(t.toastId))?t.toastId:HA()}function Zf(t,e){return qA(t,e),e.toastId}function D0(t,e){return{...e,type:e&&e.type||t,toastId:o9(e)}}function I0(t){return(e,n)=>Zf(e,D0(t,n))}function ue(t,e){return Zf(t,D0("default",e))}ue.loading=(t,e)=>Zf(t,D0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function l9(t,{pending:e,error:n,success:r},s){let i;e&&(i=vl(e)?ue.loading(e,s):ue.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,d,h)=>{if(d==null){ue.dismiss(i);return}let p={type:u,...a,...s,data:h},g=vl(d)?{render:d}:d;return i?ue.update(i,{...p,...g}):ue(g.render,{...p,...g}),h},l=ta(t)?t():t;return l.then(u=>o("success",r,u)).catch(u=>o("error",n,u)),l}ue.promise=l9;ue.success=I0("success");ue.info=I0("info");ue.error=I0("error");ue.warning=I0("warning");ue.warn=ue.warning;ue.dark=(t,e)=>Zf(t,D0("default",{theme:"dark",...e}));function c9(t){n9(t)}ue.dismiss=c9;ue.clearWaitingQueue=r9;ue.isActive=WA;ue.update=(t,e={})=>{let n=t9(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:HA()};i.toastId!==t&&(i.staleId=t);let a=i.render||s;delete i.render,Zf(a,i)}};ue.done=t=>{ue.update(t,{progress:1})};ue.onChange=a9;ue.play=t=>KA(!0,t);ue.pause=t=>KA(!1,t);function u9(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=A.useRef(i9(t)).current;s(t);let i=(e=A.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function a(o){if(!i)return[];let l=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;l.has(d)||l.set(d,[]),l.get(d).push(u)}),Array.from(l,u=>o(u[0],u[1]))}return{getToastToRender:a,isToastActive:WA,count:i?.length}}function d9(t){let[e,n]=A.useState(!1),[r,s]=A.useState(!1),i=A.useRef(null),a=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:h}=t;s9({id:t.toastId,containerId:t.containerId,fn:n}),A.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{g()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function x(O){if(t.draggable===!0||t.draggable===O.pointerType){N();let M=i.current;a.canCloseOnClick=!0,a.canDrag=!0,M.style.transition="none",t.draggableDirection==="x"?(a.start=O.clientX,a.removalDistance=M.offsetWidth*(t.draggablePercent/100)):(a.start=O.clientY,a.removalDistance=M.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function v(O){let{top:M,bottom:_,left:D,right:I}=i.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&t.pauseOnHover&&O.clientX>=D&&O.clientX<=I&&O.clientY>=M&&O.clientY<=_?w():b()}function b(){n(!0)}function w(){n(!1)}function N(){a.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",j)}function C(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",j)}function T(O){let M=i.current;if(a.canDrag&&M){a.didMove=!0,e&&w(),t.draggableDirection==="x"?a.delta=O.clientX-a.start:a.delta=O.clientY-a.start,a.start!==O.clientX&&(a.canCloseOnClick=!1);let _=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;M.style.transform=`translate3d(${_},0)`,M.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function j(){C();let O=i.current;if(a.canDrag&&a.didMove&&O){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let E={onPointerDown:x,onPointerUp:v};return o&&l&&(E.onMouseEnter=w,t.stacked||(E.onMouseLeave=b)),h&&(E.onClick=O=>{d&&d(O),a.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:E}}var f9=typeof window<"u"?A.useLayoutEffect:A.useEffect,L0=({theme:t,type:e,isLoading:n,...r})=>ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function h9(t){return ge.createElement(L0,{...t},ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function m9(t){return ge.createElement(L0,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function p9(t){return ge.createElement(L0,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function g9(t){return ge.createElement(L0,{...t},ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function x9(){return ge.createElement("div",{className:"Toastify__spinner"})}var N1={info:m9,warning:h9,success:p9,error:g9,spinner:x9},y9=t=>t in N1;function b9({theme:t,type:e,isLoading:n,icon:r}){let s=null,i={theme:t,type:e};return r===!1||(ta(r)?s=r({...i,isLoading:n}):A.isValidElement(r)?s=A.cloneElement(r,i):n?s=N1.spinner():y9(e)&&(s=N1[e](i))),s}var v9=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=d9(t),{closeButton:a,children:o,autoClose:l,onClick:u,type:d,hideProgressBar:h,closeToast:p,transition:g,position:x,className:v,style:b,progressClassName:w,updateId:N,role:C,progress:T,rtl:j,toastId:E,deleteToast:O,isIn:M,isLoading:_,closeOnClick:D,theme:I,ariaLabel:F}=t,Y=ll("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":D}),G=ta(v)?v({rtl:j,position:x,type:d,defaultClassName:Y}):ll(Y,v),W=b9(t),R=!!T||!l,V={closeToast:p,type:d,theme:I},z=null;return a===!1||(ta(a)?z=a(V):A.isValidElement(a)?z=A.cloneElement(a,V):z=Y$(V)),ge.createElement(g,{isIn:M,done:O,position:x,preventExitTransition:n,nodeRef:r,playToast:i},ge.createElement("div",{id:E,tabIndex:0,onClick:u,"data-in":M,className:G,...s,style:b,ref:r,...M&&{role:C,"aria-label":F}},W!=null&&ge.createElement("div",{className:ll("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!_})},W),BA(o,t,!e),z,!t.customProgressBar&&ge.createElement(X$,{...N&&!R?{key:`p-${N}`}:{},rtl:j,theme:I,delay:l,isRunning:e,isIn:M,closeToast:p,hide:h,type:d,className:w,controlledProgress:R,progress:T||0})))},w9=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),S9=G$(w9("bounce",!0)),N9={position:"top-right",transition:S9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function C9(t){let e={...N9,...t},n=t.stacked,[r,s]=A.useState(!0),i=A.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=u9(e),{className:u,style:d,rtl:h,containerId:p,hotKeys:g}=e;function x(b){let w=ll("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":h});return ta(u)?u({position:b,rtl:h,defaultClassName:w}):ll(w,v1(u))}function v(){n&&(s(!0),ue.play())}return f9(()=>{var b;if(n){let w=i.current.querySelectorAll('[data-in="true"]'),N=12,C=(b=e.position)==null?void 0:b.includes("top"),T=0,j=0;Array.from(w).reverse().forEach((E,O)=>{let M=E;M.classList.add("Toastify__toast--stacked"),O>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");let _=T*(r?.2:1)+(r?0:N*O);M.style.setProperty("--y",`${C?_:_*-1}px`),M.style.setProperty("--g",`${N}`),M.style.setProperty("--s",`${1-(r?j:0)}`),T+=M.offsetHeight,j+=.025})}},[r,l,n]),A.useEffect(()=>{function b(w){var N;let C=i.current;g(w)&&((N=C.querySelector('[tabIndex="0"]'))==null||N.focus(),s(!1),ue.pause()),w.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),ue.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),ge.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),ue.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((b,w)=>{let N=w.length?{...d}:{...d,pointerEvents:"none"};return ge.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:N,key:`c-${b}`},w.map(({content:C,props:T})=>ge.createElement(v9,{...T,stacked:n,collapseAll:v,isIn:o(T.toastId,T.containerId),key:`t-${T.key}`},C)))}))}var Ut;(function(t){t.ADMIN="admin",t.USER="user",t.STAFF="staff"})(Ut||(Ut={}));var Qo;(function(t){t.MALE="male",t.FEMALE="female"})(Qo||(Qo={}));var ri;(function(t){t.ACTIVE="active",t.PROBATION="probation",t.ON_LEAVE="on_leave",t.RESIGNED="resigned"})(ri||(ri={}));var Qa;(function(t){t.SALE="sale",t.INVENTORY="inventory",t.MANAGER="manager"})(Qa||(Qa={}));var A4;(function(t){t.BRONZE="bronze",t.SILVER="silver",t.GOLD="gold"})(A4||(A4={}));var Go;(function(t){t.NOT_USING="NOT_USING",t.PRIVACY_CONCERNS="PRIVACY_CONCERNS",t.FOUND_BETTER_ALTERNATIVE="FOUND_BETTER_ALTERNATIVE",t.ACCOUNT_ISSUE="ACCOUNT_ISSUE",t.OTHER="OTHER"})(Go||(Go={}));var De;(function(t){t.PENDING="pending",t.CONFIRMED="confirmed",t.SHIPPING="shipping",t.COMPLETED="completed",t.CANCELLED="cancelled",t.DELIVERED="delivered"})(De||(De={}));var Wr;(function(t){t.COD="cod",t.MOMO="momo",t.VNPAY="vnpay"})(Wr||(Wr={}));var Yo;(function(t){t.CHANGE_OF_MIND="CHANGE_OF_MIND",t.FOUND_BETTER_PRICE="FOUND_BETTER_PRICE",t.ORDER_BY_MISTAKE="ORDER_BY_MISTAKE",t.WRONG_ADDRESS="WRONG_ADDRESS",t.OTHER="OTHER"})(Yo||(Yo={}));var za;(function(t){t.PENDING="PENDING",t.SUCCESS="SUCCESS",t.FAILED="FAILED",t.CANCELLED="CANCELLED",t.REFUNDED="REFUNDED"})(za||(za={}));za.PENDING+"",za.SUCCESS+"",za.FAILED+"",za.CANCELLED+"",za.REFUNDED+"";var qs;(function(t){t.PENDING="PENDING",t.PICKED_UP="PICKED_UP",t.IN_TRANSIT="IN_TRANSIT",t.OUT_FOR_DELIVERY="OUT_FOR_DELIVERY",t.DELIVERED="DELIVERED",t.FAILED="FAILED",t.RETURNED="RETURNED",t.CANCELED="CANCELED"})(qs||(qs={}));var Ia;(function(t){t.GHN="GHN",t.GHTK="GHTK",t.VIETTEL_POST="VIETTEL_POST",t.VN_POST="VN_POST",t.J_T_EXPRESS="J_T_EXPRESS",t.INTERNAL="INTERNAL"})(Ia||(Ia={}));var Js;(function(t){t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE"})(Js||(Js={}));var Zs;(function(t){t.PERCENT="PERCENT",t.FIXED="FIXED"})(Zs||(Zs={}));const GA=t=>{switch(t){case De.PENDING:return{text:"Ch xc nhn",bgColor:"#fef3c7",textColor:"#92400e",borderColor:"#fbbf24"};case De.CONFIRMED:return{text:" xc nhn",bgColor:"#dbeafe",textColor:"#1e40af",borderColor:"#3b82f6"};case De.SHIPPING:return{text:"ang giao",bgColor:"#c3dafe",textColor:"#4c51bf",borderColor:"#818cf8"};case De.DELIVERED:return{text:" giao",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#34d399"};case De.COMPLETED:return{text:"Hon thnh",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#10b981"};case De.CANCELLED:return{text:" hy",bgColor:"#fee2e2",textColor:"#991b1b",borderColor:"#ef4444"};default:return{text:"Khng xc nh",bgColor:"#f3f4f6",textColor:"#6b7280",borderColor:"#d1d5db"}}},Rw={[Wr.COD]:{text:"Thanh ton khi nhn hng"},[Wr.MOMO]:{text:"Thanh ton qua v MOMO"},[Wr.VNPAY]:{text:"Thanh ton qua VNPay"}};qs.PENDING+"",qs.PICKED_UP+"",qs.IN_TRANSIT+"",qs.OUT_FOR_DELIVERY+"",qs.DELIVERED+"",qs.FAILED+"",qs.RETURNED+"",qs.CANCELED+"";const YA={[Ia.GHN]:{text:"Giao hng nhanh (GHN)"},[Ia.GHTK]:{text:"Giao hng tit kim (GHTK)"},[Ia.INTERNAL]:{text:"Ni b giao hng"},[Ia.J_T_EXPRESS]:{text:"J&T_Express"},[Ia.VIETTEL_POST]:{text:"Viettel Post"},[Ia.VN_POST]:{text:"Vn Post"}};function XA(t,e){return function(){return t.apply(e,arguments)}}const{toString:j9}=Object.prototype,{getPrototypeOf:Fw}=Object,{iterator:R0,toStringTag:QA}=Symbol,F0=(t=>e=>{const n=j9.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ls=t=>(t=t.toLowerCase(),e=>F0(e)===t),z0=t=>e=>typeof e===t,{isArray:yu}=Array,Jc=z0("undefined");function eh(t){return t!==null&&!Jc(t)&&t.constructor!==null&&!Jc(t.constructor)&&Ar(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const JA=Ls("ArrayBuffer");function k9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&JA(t.buffer),e}const T9=z0("string"),Ar=z0("function"),ZA=z0("number"),th=t=>t!==null&&typeof t=="object",E9=t=>t===!0||t===!1,jp=t=>{if(F0(t)!=="object")return!1;const e=Fw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(QA in t)&&!(R0 in t)},M9=t=>{if(!th(t)||eh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},A9=Ls("Date"),O9=Ls("File"),P9=Ls("Blob"),_9=Ls("FileList"),D9=t=>th(t)&&Ar(t.pipe),I9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ar(t.append)&&((e=F0(t))==="formdata"||e==="object"&&Ar(t.toString)&&t.toString()==="[object FormData]"))},L9=Ls("URLSearchParams"),[R9,F9,z9,V9]=["ReadableStream","Request","Response","Headers"].map(Ls),$9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),yu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(eh(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function eO(t,e){if(eh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tO=t=>!Jc(t)&&t!==Jo;function C1(){const{caseless:t,skipUndefined:e}=tO(this)&&this||{},n={},r=(s,i)=>{const a=t&&eO(n,i)||i;jp(n[a])&&jp(s)?n[a]=C1(n[a],s):jp(s)?n[a]=C1({},s):yu(s)?n[a]=s.slice():(!e||!Jc(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&nh(arguments[s],r);return n}const B9=(t,e,n,{allOwnKeys:r}={})=>(nh(e,(s,i)=>{n&&Ar(s)?t[i]=XA(s,n):t[i]=s},{allOwnKeys:r}),t),H9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),U9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},W9=(t,e,n,r)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&Fw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},q9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},K9=t=>{if(!t)return null;if(yu(t))return t;let e=t.length;if(!ZA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},G9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fw(Uint8Array)),Y9=(t,e)=>{const r=(t&&t[R0]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},X9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Q9=Ls("HTMLFormElement"),J9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),O4=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Z9=Ls("RegExp"),nO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nh(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},eB=t=>{nO(t,(e,n)=>{if(Ar(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tB=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return yu(t)?r(t):r(String(t).split(e)),n},nB=()=>{},rB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function sB(t){return!!(t&&Ar(t.append)&&t[QA]==="FormData"&&t[R0])}const iB=t=>{const e=new Array(10),n=(r,s)=>{if(th(r)){if(e.indexOf(r)>=0)return;if(eh(r))return r;if(!("toJSON"in r)){e[s]=r;const i=yu(r)?[]:{};return nh(r,(a,o)=>{const l=n(a,s+1);!Jc(l)&&(i[o]=l)}),e[s]=void 0,i}}return r};return n(t,0)},aB=Ls("AsyncFunction"),oB=t=>t&&(th(t)||Ar(t))&&Ar(t.then)&&Ar(t.catch),rO=((t,e)=>t?setImmediate:e?((n,r)=>(Jo.addEventListener("message",({source:s,data:i})=>{s===Jo&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Jo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ar(Jo.postMessage)),lB=typeof queueMicrotask<"u"?queueMicrotask.bind(Jo):typeof process<"u"&&process.nextTick||rO,cB=t=>t!=null&&Ar(t[R0]),se={isArray:yu,isArrayBuffer:JA,isBuffer:eh,isFormData:I9,isArrayBufferView:k9,isString:T9,isNumber:ZA,isBoolean:E9,isObject:th,isPlainObject:jp,isEmptyObject:M9,isReadableStream:R9,isRequest:F9,isResponse:z9,isHeaders:V9,isUndefined:Jc,isDate:A9,isFile:O9,isBlob:P9,isRegExp:Z9,isFunction:Ar,isStream:D9,isURLSearchParams:L9,isTypedArray:G9,isFileList:_9,forEach:nh,merge:C1,extend:B9,trim:$9,stripBOM:H9,inherits:U9,toFlatObject:W9,kindOf:F0,kindOfTest:Ls,endsWith:q9,toArray:K9,forEachEntry:Y9,matchAll:X9,isHTMLForm:Q9,hasOwnProperty:O4,hasOwnProp:O4,reduceDescriptors:nO,freezeMethods:eB,toObjectSet:tB,toCamelCase:J9,noop:nB,toFiniteNumber:rB,findKey:eO,global:Jo,isContextDefined:tO,isSpecCompliantForm:sB,toJSONObject:iB,isAsyncFn:aB,isThenable:oB,setImmediate:rO,asap:lB,isIterable:cB};function tt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}se.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const sO=tt.prototype,iO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iO[t]={value:t}});Object.defineProperties(tt,iO);Object.defineProperty(sO,"isAxiosError",{value:!0});tt.from=(t,e,n,r,s,i)=>{const a=Object.create(sO);se.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return tt.call(a,o,l,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const uB=null;function j1(t){return se.isPlainObject(t)||se.isArray(t)}function aO(t){return se.endsWith(t,"[]")?t.slice(0,-2):t}function P4(t,e,n){return t?t.concat(e).map(function(s,i){return s=aO(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function dB(t){return se.isArray(t)&&!t.some(j1)}const fB=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function V0(t,e,n){if(!se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!se.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(se.isDate(x))return x.toISOString();if(se.isBoolean(x))return x.toString();if(!l&&se.isBlob(x))throw new tt("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(x)||se.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,b){let w=x;if(x&&!b&&typeof x=="object"){if(se.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(se.isArray(x)&&dB(x)||(se.isFileList(x)||se.endsWith(v,"[]"))&&(w=se.toArray(x)))return v=aO(v),w.forEach(function(C,T){!(se.isUndefined(C)||C===null)&&e.append(a===!0?P4([v],T,i):a===null?v:v+"[]",u(C))}),!1}return j1(x)?!0:(e.append(P4(b,v,i),u(x)),!1)}const h=[],p=Object.assign(fB,{defaultVisitor:d,convertValue:u,isVisitable:j1});function g(x,v){if(!se.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(x),se.forEach(x,function(w,N){(!(se.isUndefined(w)||w===null)&&s.call(e,w,se.isString(N)?N.trim():N,v,p))===!0&&g(w,v?v.concat(N):[N])}),h.pop()}}if(!se.isObject(t))throw new TypeError("data must be an object");return g(t),e}function _4(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zw(t,e){this._pairs=[],t&&V0(t,this,e)}const oO=zw.prototype;oO.append=function(e,n){this._pairs.push([e,n])};oO.toString=function(e){const n=e?function(r){return e.call(this,r,_4)}:_4;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function hB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lO(t,e,n){if(!e)return t;const r=n&&n.encode||hB;se.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=se.isURLSearchParams(e)?e.toString():new zw(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class D4{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mB=typeof URLSearchParams<"u"?URLSearchParams:zw,pB=typeof FormData<"u"?FormData:null,gB=typeof Blob<"u"?Blob:null,xB={isBrowser:!0,classes:{URLSearchParams:mB,FormData:pB,Blob:gB},protocols:["http","https","file","blob","url","data"]},Vw=typeof window<"u"&&typeof document<"u",k1=typeof navigator=="object"&&navigator||void 0,yB=Vw&&(!k1||["ReactNative","NativeScript","NS"].indexOf(k1.product)<0),bB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vB=Vw&&window.location.href||"http://localhost",wB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vw,hasStandardBrowserEnv:yB,hasStandardBrowserWebWorkerEnv:bB,navigator:k1,origin:vB},Symbol.toStringTag,{value:"Module"})),Qn={...wB,...xB};function SB(t,e){return V0(t,new Qn.classes.URLSearchParams,{visitor:function(n,r,s,i){return Qn.isNode&&se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function NB(t){return se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CB(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function uO(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=n.length;return a=!a&&se.isArray(s)?s.length:a,l?(se.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!se.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&se.isArray(s[a])&&(s[a]=CB(s[a])),!o)}if(se.isFormData(t)&&se.isFunction(t.entries)){const n={};return se.forEachEntry(t,(r,s)=>{e(NB(r),s,n,0)}),n}return null}function jB(t,e,n){if(se.isString(t))try{return(e||JSON.parse)(t),se.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const rh={transitional:cO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=se.isObject(e);if(i&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return s?JSON.stringify(uO(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return SB(e,this.formSerializer).toString();if((o=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return V0(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),jB(e)):e}],transformResponse:[function(e){const n=this.transitional||rh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?tt.from(o,tt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qn.classes.FormData,Blob:Qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],t=>{rh.headers[t]={}});const kB=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TB=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&kB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},I4=Symbol("internals");function hd(t){return t&&String(t).trim().toLowerCase()}function kp(t){return t===!1||t==null?t:se.isArray(t)?t.map(kp):String(t)}function EB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const MB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kb(t,e,n,r,s){if(se.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function AB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function OB(t,e){const n=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let Or=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(o,l,u){const d=hd(l);if(!d)throw new Error("header name must be a non-empty string");const h=se.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||l]=kp(o))}const a=(o,l)=>se.forEach(o,(u,d)=>i(u,d,l));if(se.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(se.isString(e)&&(e=e.trim())&&!MB(e))a(TB(e),n);else if(se.isObject(e)&&se.isIterable(e)){let o={},l,u;for(const d of e){if(!se.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?se.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=hd(e),e){const r=se.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return EB(s);if(se.isFunction(n))return n.call(this,s,r);if(se.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hd(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=hd(a),a){const o=se.findKey(r,a);o&&(!n||kb(r,r[o],o,n))&&(delete r[o],s=!0)}}return se.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||kb(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return se.forEach(this,(s,i)=>{const a=se.findKey(r,i);if(a){n[a]=kp(s),delete n[i];return}const o=e?AB(i):String(i).trim();o!==i&&delete n[i],n[o]=kp(s),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return se.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[I4]=this[I4]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=hd(a);r[o]||(OB(s,a),r[o]=!0)}return se.isArray(e)?e.forEach(i):i(e),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Or.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});se.freezeMethods(Or);function Tb(t,e){const n=this||rh,r=e||n,s=Or.from(r.headers);let i=r.data;return se.forEach(t,function(o){i=o.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function dO(t){return!!(t&&t.__CANCEL__)}function bu(t,e,n){tt.call(this,t??"canceled",tt.ERR_CANCELED,e,n),this.name="CanceledError"}se.inherits(bu,tt,{__CANCEL__:!0});function fO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new tt("Request failed with status code "+n.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function PB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _B(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[i];a||(a=u),n[s]=l,r[s]=u;let h=i,p=0;for(;h!==s;)p+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function DB(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-h)))},()=>s&&a(s)]}const rg=(t,e,n=3)=>{let r=0;const s=_B(50,250);return DB(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-r,u=s(l),d=a<=o;r=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},L4=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},R4=t=>(...e)=>se.asap(()=>t(...e)),IB=Qn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Qn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Qn.origin),Qn.navigator&&/(msie|trident)/i.test(Qn.navigator.userAgent)):()=>!0,LB=Qn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];se.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),se.isString(r)&&a.push("path="+r),se.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function FB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function hO(t,e,n){let r=!RB(e);return t&&(r||n==!1)?FB(t,e):e}const F4=t=>t instanceof Or?{...t}:t;function wl(t,e){e=e||{};const n={};function r(u,d,h,p){return se.isPlainObject(u)&&se.isPlainObject(d)?se.merge.call({caseless:p},u,d):se.isPlainObject(d)?se.merge({},d):se.isArray(d)?d.slice():d}function s(u,d,h,p){if(se.isUndefined(d)){if(!se.isUndefined(u))return r(void 0,u,h,p)}else return r(u,d,h,p)}function i(u,d){if(!se.isUndefined(d))return r(void 0,d)}function a(u,d){if(se.isUndefined(d)){if(!se.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>s(F4(u),F4(d),h,!0)};return se.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||s,p=h(t[d],e[d],d);se.isUndefined(p)&&h!==o||(n[d]=p)}),n}const mO=t=>{const e=wl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;if(e.headers=a=Or.from(a),e.url=lO(hO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),se.isFormData(n)){if(Qn.hasStandardBrowserEnv||Qn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(se.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(Qn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&IB(e.url))){const l=s&&i&&LB.read(i);l&&a.set(s,l)}return e},zB=typeof XMLHttpRequest<"u",VB=zB&&function(t){return new Promise(function(n,r){const s=mO(t);let i=s.data;const a=Or.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=s,d,h,p,g,x;function v(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function w(){if(!b)return;const C=Or.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};fO(function(O){n(O),v()},function(O){r(O),v()},j),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new tt("Request aborted",tt.ECONNABORTED,t,b)),b=null)},b.onerror=function(T){const j=T&&T.message?T.message:"Network Error",E=new tt(j,tt.ERR_NETWORK,t,b);E.event=T||null,r(E),b=null},b.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||cO;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),r(new tt(T,j.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,t,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&se.forEach(a.toJSON(),function(T,j){b.setRequestHeader(j,T)}),se.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),o&&o!=="json"&&(b.responseType=s.responseType),u&&([p,x]=rg(u,!0),b.addEventListener("progress",p)),l&&b.upload&&([h,g]=rg(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=C=>{b&&(r(!C||C.type?new bu(null,t,b):C),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const N=PB(s.url);if(N&&Qn.protocols.indexOf(N)===-1){r(new tt("Unsupported protocol "+N+":",tt.ERR_BAD_REQUEST,t));return}b.send(i||null)})},$B=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof tt?d:new bu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new tt(`timeout ${e} of ms exceeded`,tt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>se.asap(o),l}},BB=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},HB=async function*(t,e){for await(const n of UB(t))yield*BB(n,e)},UB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},z4=(t,e,n,r)=>{const s=HB(t,e);let i=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){o(),l.close();return}let h=d.byteLength;if(n){let p=i+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},V4=64*1024,{isFunction:Om}=se,WB=(({Request:t,Response:e})=>({Request:t,Response:e}))(se.global),{ReadableStream:$4,TextEncoder:B4}=se.global,H4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qB=t=>{t=se.merge.call({skipUndefined:!0},WB,t);const{fetch:e,Request:n,Response:r}=t,s=e?Om(e):typeof fetch=="function",i=Om(n),a=Om(r);if(!s)return!1;const o=s&&Om($4),l=s&&(typeof B4=="function"?(x=>v=>x.encode(v))(new B4):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&o&&H4(()=>{let x=!1;const v=new n(Qn.origin,{body:new $4,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=a&&o&&H4(()=>se.isReadableStream(new r("").body)),h={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(v,b)=>{let w=v&&v[x];if(w)return w.call(v);throw new tt(`Response type '${x}' is not supported`,tt.ERR_NOT_SUPPORT,b)})});const p=async x=>{if(x==null)return 0;if(se.isBlob(x))return x.size;if(se.isSpecCompliantForm(x))return(await new n(Qn.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(se.isArrayBufferView(x)||se.isArrayBuffer(x))return x.byteLength;if(se.isURLSearchParams(x)&&(x=x+""),se.isString(x))return(await l(x)).byteLength},g=async(x,v)=>{const b=se.toFiniteNumber(x.getContentLength());return b??p(v)};return async x=>{let{url:v,method:b,data:w,signal:N,cancelToken:C,timeout:T,onDownloadProgress:j,onUploadProgress:E,responseType:O,headers:M,withCredentials:_="same-origin",fetchOptions:D}=mO(x),I=e||fetch;O=O?(O+"").toLowerCase():"text";let F=$B([N,C&&C.toAbortSignal()],T),Y=null;const G=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let W;try{if(E&&u&&b!=="get"&&b!=="head"&&(W=await g(M,w))!==0){let B=new n(v,{method:"POST",body:w,duplex:"half"}),J;if(se.isFormData(w)&&(J=B.headers.get("content-type"))&&M.setContentType(J),B.body){const[ne,ie]=L4(W,rg(R4(E)));w=z4(B.body,V4,ne,ie)}}se.isString(_)||(_=_?"include":"omit");const R=i&&"credentials"in n.prototype,V={...D,signal:F,method:b.toUpperCase(),headers:M.normalize().toJSON(),body:w,duplex:"half",credentials:R?_:void 0};Y=i&&new n(v,V);let z=await(i?I(Y,D):I(v,V));const q=d&&(O==="stream"||O==="response");if(d&&(j||q&&G)){const B={};["status","statusText","headers"].forEach(le=>{B[le]=z[le]});const J=se.toFiniteNumber(z.headers.get("content-length")),[ne,ie]=j&&L4(J,rg(R4(j),!0))||[];z=new r(z4(z.body,V4,ne,()=>{ie&&ie(),G&&G()}),B)}O=O||"text";let Q=await h[se.findKey(h,O)||"text"](z,x);return!q&&G&&G(),await new Promise((B,J)=>{fO(B,J,{data:Q,headers:Or.from(z.headers),status:z.status,statusText:z.statusText,config:x,request:Y})})}catch(R){throw G&&G(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,x,Y),{cause:R.cause||R}):tt.from(R,R&&R.code,x,Y)}}},KB=new Map,pO=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,o=a,l,u,d=KB;for(;o--;)l=i[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:qB(e)),d=u;return u};pO();const T1={http:uB,xhr:VB,fetch:{get:pO}};se.forEach(T1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const U4=t=>`- ${t}`,GB=t=>se.isFunction(t)||t===null||t===!1,gO={getAdapter:(t,e)=>{t=se.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let o;if(s=r,!GB(r)&&(s=T1[(o=String(r)).toLowerCase()],s===void 0))throw new tt(`Unknown adapter '${o}'`);if(s&&(se.isFunction(s)||(s=s.get(e))))break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(U4).join(`
`):" "+U4(a[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:T1};function Eb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bu(null,t)}function W4(t){return Eb(t),t.headers=Or.from(t.headers),t.data=Tb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gO.getAdapter(t.adapter||rh.adapter,t)(t).then(function(r){return Eb(t),r.data=Tb.call(t,t.transformResponse,r),r.headers=Or.from(r.headers),r},function(r){return dO(r)||(Eb(t),r&&r.response&&(r.response.data=Tb.call(t,t.transformResponse,r.response),r.response.headers=Or.from(r.response.headers))),Promise.reject(r)})}const xO="1.12.2",$0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const q4={};$0.transitional=function(e,n,r){function s(i,a){return"[Axios v"+xO+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(e===!1)throw new tt(s(a," has been removed"+(n?" in "+n:"")),tt.ERR_DEPRECATED);return n&&!q4[a]&&(q4[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,o):!0}};$0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function YB(t,e,n){if(typeof t!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const o=t[i],l=o===void 0||a(o,i,t);if(l!==!0)throw new tt("option "+i+" must be "+l,tt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tt("Unknown option "+i,tt.ERR_BAD_OPTION)}}const Tp={assertOptions:YB,validators:$0},Us=Tp.validators;let cl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new D4,response:new D4}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Tp.assertOptions(r,{silentJSONParsing:Us.transitional(Us.boolean),forcedJSONParsing:Us.transitional(Us.boolean),clarifyTimeoutError:Us.transitional(Us.boolean)},!1),s!=null&&(se.isFunction(s)?n.paramsSerializer={serialize:s}:Tp.assertOptions(s,{encode:Us.function,serialize:Us.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Tp.assertOptions(n,{baseUrl:Us.spelling("baseURL"),withXsrfToken:Us.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&se.merge(i.common,i[n.method]);i&&se.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Or.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!l){const x=[W4.bind(this),void 0];for(x.unshift(...o),x.push(...u),p=x.length,d=Promise.resolve(n);h<p;)d=d.then(x[h++],x[h++]);return d}p=o.length;let g=n;for(;h<p;){const x=o[h++],v=o[h++];try{g=x(g)}catch(b){v.call(this,b);break}}try{d=W4.call(this,g)}catch(x){return Promise.reject(x)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=wl(this.defaults,e);const n=hO(e.baseURL,e.url,e.allowAbsoluteUrls);return lO(n,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){cl.prototype[e]=function(n,r){return this.request(wl(r||{},{method:e,url:n,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,o){return this.request(wl(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}cl.prototype[e]=n(),cl.prototype[e+"Form"]=n(!0)});let XB=class yO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,o){r.reason||(r.reason=new bu(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new yO(function(s){e=s}),cancel:e}}};function QB(t){return function(n){return t.apply(null,n)}}function JB(t){return se.isObject(t)&&t.isAxiosError===!0}const E1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(E1).forEach(([t,e])=>{E1[e]=t});function bO(t){const e=new cl(t),n=XA(cl.prototype.request,e);return se.extend(n,cl.prototype,e,{allOwnKeys:!0}),se.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return bO(wl(t,s))},n}const on=bO(rh);on.Axios=cl;on.CanceledError=bu;on.CancelToken=XB;on.isCancel=dO;on.VERSION=xO;on.toFormData=V0;on.AxiosError=tt;on.Cancel=on.CanceledError;on.all=function(e){return Promise.all(e)};on.spread=QB;on.isAxiosError=JB;on.mergeConfig=wl;on.AxiosHeaders=Or;on.formToJSON=t=>uO(se.isHTMLForm(t)?new FormData(t):t);on.getAdapter=gO.getAdapter;on.HttpStatusCode=E1;on.default=on;const{Axios:Xve,AxiosError:Qve,CanceledError:Jve,isCancel:Zve,CancelToken:e1e,VERSION:t1e,all:n1e,Cancel:r1e,isAxiosError:s1e,spread:i1e,toFormData:a1e,AxiosHeaders:o1e,HttpStatusCode:l1e,formToJSON:c1e,getAdapter:u1e,mergeConfig:d1e}=on,Se=on.create({baseURL:"https://quan-ly-ban-quan-ao-server.onrender.com",timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});Se.interceptors.response.use(t=>t.data,async t=>{const e=t.response?.status;if(!t.response)return Promise.reject({message:"Khng th kt ni n server. Vui lng kim tra mng!",code:"NETWORK_ERROR"});if(e===403)return Promise.reject({message:"Bn khng c quyn thc hin hnh ng ny",code:"FORBIDDEN",status:e});if(e>=500)return Promise.reject({message:"Li my ch. Vui lng th li sau!",code:"SERVER_ERROR",status:e});const n=t.response?.data?.message||t.message||" c li xy ra";return Promise.reject({message:typeof n=="string"?n:n[0]||"Li khng xc nh",code:t.response?.data?.error||"BAD_REQUEST",status:e,data:t.response?.data})});var sh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZB={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},eH=class{#e=ZB;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Zo=new eH;function tH(t){setTimeout(t,0)}var Sl=typeof window>"u"||"Deno"in globalThis;function jr(){}function nH(t,e){return typeof t=="function"?t(e):t}function M1(t){return typeof t=="number"&&t>=0&&t!==1/0}function vO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ja(t,e){return typeof t=="function"?t(e):t}function us(t,e){return typeof t=="function"?t(e):t}function K4(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==$w(a,e.options))return!1}else if(!mf(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function G4(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hf(e.options.mutationKey)!==hf(i))return!1}else if(!mf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function $w(t,e){return(e?.queryKeyHashFn||hf)(t)}function hf(t){return JSON.stringify(t,(e,n)=>O1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function mf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>mf(t[n],e[n])):!1}var rH=Object.prototype.hasOwnProperty;function wO(t,e){if(t===e)return t;const n=Y4(t)&&Y4(e);if(!n&&!(O1(t)&&O1(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,o=n?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=n?u:i[u],h=t[d],p=e[d];if(h===p){o[d]=h,(n?u<s:rH.call(t,d))&&l++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){o[d]=p;continue}const g=wO(h,p);o[d]=g,g===h&&l++}return s===a&&l===s?t:o}function A1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Y4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function O1(t){if(!X4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!X4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function X4(t){return Object.prototype.toString.call(t)==="[object Object]"}function sH(t){return new Promise(e=>{Zo.setTimeout(e,t)})}function P1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wO(t,e):e}function iH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function aH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Bw=Symbol();function SO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Bw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function oH(t,e){return typeof t=="function"?t(...e):!!t}var lH=class extends sh{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Sl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Hw=new lH;function _1(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var cH=tH;function uH(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=cH;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Fn=uH(),dH=class extends sh{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Sl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},sg=new dH;function fH(t){return Math.min(1e3*2**t,3e4)}function NO(t){return(t??"online")==="online"?sg.isOnline():!0}var D1=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function CO(t){let e=!1,n=0,r;const s=_1(),i=()=>s.status!=="pending",a=v=>{if(!i()){const b=new D1(v);p(b),t.onCancel?.(b)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>Hw.isFocused()&&(t.networkMode==="always"||sg.isOnline())&&t.canRun(),d=()=>NO(t.networkMode)&&t.canRun(),h=v=>{i()||(r?.(),s.resolve(v))},p=v=>{i()||(r?.(),s.reject(v))},g=()=>new Promise(v=>{r=b=>{(i()||u())&&v(b)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(h).catch(w=>{if(i())return;const N=t.retry??(Sl?0:3),C=t.retryDelay??fH,T=typeof C=="function"?C(n,w):C,j=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,w);if(e||!j){p(w);return}n++,t.onFail?.(n,w),sH(T).then(()=>u()?void 0:g()).then(()=>{e?p(w):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?x():g().then(x),s)}}var jO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M1(this.gcTime)&&(this.#e=Zo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Sl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Zo.clearTimeout(this.#e),this.#e=void 0)}},hH=class extends jO{#e;#t;#n;#s;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Q4(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Q4(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=P1(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>us(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ja(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const o=SO(this.options,e),u=(()=>{const d={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#a=!1,this.options.persister?this.options.persister(o,u,this):o(u)},a=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=CO({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof D1&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof D1){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kO(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Fn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function kO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mH=class extends sh{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=_1(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),J4(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return I1(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return I1(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof us(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!A1(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Z4(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||us(this.options.enabled,this.#t)!==us(e.enabled,this.#t)||Ja(this.options.staleTime,this.#t)!==Ja(e.staleTime,this.#t))&&this.#g();const s=this.#x();r&&(this.#t!==n||us(this.options.enabled,this.#t)!==us(e.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return gH(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(jr)),e}#g(){this.#v();const t=Ja(this.options.staleTime,this.#t);if(Sl||this.#s.isStale||!M1(t))return;const n=vO(this.#s.dataUpdatedAt,t)+1;this.#c=Zo.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Sl||us(this.options.enabled,this.#t)===!1||!M1(this.#l)||this.#l===0)&&(this.#u=Zo.setInterval(()=>{(this.options.refetchIntervalInBackground||Hw.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#x())}#v(){this.#c&&(Zo.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Zo.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#s,i=this.#r,a=this.#o,l=t!==n?t.state:this.#n,{state:u}=t;let d={...u},h=!1,p;if(e._optimisticResults){const M=this.hasListeners(),_=!M&&J4(t,e),D=M&&Z4(t,n,e,r);(_||D)&&(d={...d,...kO(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=d;p=d.data;let b=!1;if(e.placeholderData!==void 0&&p===void 0&&v==="pending"){let M;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(M=s.data,b=!0):M=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,M!==void 0&&(v="success",p=P1(s?.data,M,e),h=!0)}if(e.select&&p!==void 0&&!b)if(s&&p===i?.data&&e.select===this.#p)p=this.#f;else try{this.#p=e.select,p=e.select(p),p=P1(s?.data,p,e),this.#f=p,this.#i=null}catch(M){this.#i=M}this.#i&&(g=this.#i,p=this.#f,x=Date.now(),v="error");const w=d.fetchStatus==="fetching",N=v==="pending",C=v==="error",T=N&&w,j=p!==void 0,O={status:v,fetchStatus:d.fetchStatus,isPending:N,isSuccess:v==="success",isError:C,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:C&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&j,isStale:Uw(t,e),refetch:this.refetch,promise:this.#a,isEnabled:us(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=I=>{O.status==="error"?I.reject(O.error):O.data!==void 0&&I.resolve(O.data)},_=()=>{const I=this.#a=O.promise=_1();M(I)},D=this.#a;switch(D.status){case"pending":t.queryHash===n.queryHash&&M(D);break;case"fulfilled":(O.status==="error"||O.data!==D.value)&&_();break;case"rejected":(O.status!=="error"||O.error!==D.reason)&&_();break}}return O}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),A1(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(a=>{const o=a;return this.#s[o]!==t[o]&&i.has(o)})};this.#N({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#N(t){Fn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function pH(t,e){return us(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function J4(t,e){return pH(t,e)||t.state.data!==void 0&&I1(t,e,e.refetchOnMount)}function I1(t,e,n){if(us(e.enabled,t)!==!1&&Ja(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Uw(t,e)}return!1}function Z4(t,e,n,r){return(t!==e||us(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Uw(t,n)}function Uw(t,e){return us(e.enabled,t)!==!1&&t.isStaleByTime(Ja(e.staleTime,t))}function gH(t,e){return!A1(t.getCurrentResult(),e)}function e3(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let d=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=SO(e.options,e.fetchOptions),g=async(x,v,b)=>{if(d)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const E={client:e.client,queryKey:e.queryKey,pageParam:v,direction:b?"backward":"forward",meta:e.options.meta};return h(E),E})(),C=await p(N),{maxPages:T}=e.options,j=b?aH:iH;return{pages:j(x.pages,C,T),pageParams:j(x.pageParams,v,T)}};if(s&&i.length){const x=s==="backward",v=x?xH:t3,b={pages:i,pageParams:a},w=v(r,b);o=await g(b,w,x)}else{const x=t??i.length;do{const v=l===0?a[0]??r.initialPageParam:t3(r,o);if(l>0&&v==null)break;o=await g(o,v),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function t3(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xH(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var yH=class extends jO{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||bH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=CO({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Fn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function bH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vH=class extends sh{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new yH({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Pm(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Pm(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Pm(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Pm(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>G4(e,n))}findAll(t={}){return this.getAll().filter(e=>G4(t,e))}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Fn.batch(()=>Promise.all(t.map(e=>e.continue().catch(jr))))}};function Pm(t){return t.options.scope?.id}var wH=class extends sh{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??$w(r,e);let i=this.get(s);return i||(i=new hH({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>K4(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>K4(t,n)):e}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},SH=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new wH,this.#t=t.mutationCache||new vH,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Hw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=sg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ja(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=nH(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Fn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Fn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Fn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Fn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(t,e={}){return Fn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Fn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Ja(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jr).catch(jr)}fetchInfiniteQuery(t){return t.behavior=e3(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jr).catch(jr)}ensureInfiniteQueryData(t){return t.behavior=e3(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(hf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{mf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(hf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{mf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$w(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Bw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},TO=A.createContext(void 0),xo=t=>{const e=A.useContext(TO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},NH=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(TO.Provider,{value:t,children:e})),EO=A.createContext(!1),CH=()=>A.useContext(EO);EO.Provider;function jH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kH=A.createContext(jH()),TH=()=>A.useContext(kH),EH=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},MH=t=>{A.useEffect(()=>{t.clearReset()},[t])},AH=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||oH(n,[t.error,r])),OH=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},PH=(t,e)=>t.isLoading&&t.isFetching&&!e,_H=(t,e)=>t?.suspense&&e.isPending,n3=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function DH(t,e,n){const r=CH(),s=TH(),i=xo(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",OH(a),EH(a,s),MH(s);const o=!i.getQueryCache().get(a.queryHash),[l]=A.useState(()=>new e(i,a)),u=l.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(h=>{const p=d?l.subscribe(Fn.batchCalls(h)):jr;return l.updateResult(),p},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(a)},[a,l]),_H(a,u))throw n3(a,l,s);if(AH({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!Sl&&PH(u,r)&&(o?n3(a,l,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(jr).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?u:l.trackResult(u)}function et(t,e){return DH(t,mH)}const IH=async()=>{try{const t=await Se.get("/api/v1/auth/me");return t?.user?t.user:null}catch(t){if(t?.response?.status===401)return null;throw t}},Wt=()=>{const t=xo(),{data:e,isLoading:n,refetch:r}=et({queryKey:["user"],queryFn:IH,staleTime:300*1e3,retry:(o,l)=>l.status!==401,refetchOnWindowFocus:!1,refetchOnMount:!1});return{user:e,loading:n,refreshUser:async()=>(await t.invalidateQueries({queryKey:["user"]}),await r()),clearUser:()=>{t.setQueryData(["user"],null)},setUser:o=>{t.setQueryData(["user"],o)}}},MO=A.createContext(null);function LH({children:t}){const{refreshUser:e,clearUser:n}=Wt(),r=async(a,o,l)=>{let u="/api/v1/auth/login";(a===Ut.ADMIN||a===Ut.STAFF)&&(u="/api/v1/auth/admin/login");try{const d=await Se.post(u,{email:o,password:l});if(d.status)await e();else throw new Error(d.message||"ng nhp tht bi")}catch(d){throw d}},s=async a=>{try{const o=await Se.post("/api/v1/auth/register",a);if(o.status)await e();else throw new Error(o.message||"ng k tht bi!")}catch(o){throw console.log(o),o.response.data}},i=async()=>{try{await Se.get("/api/v1/auth/logout"),sessionStorage.removeItem("checkoutData"),n(),await e()}catch(a){console.error("Logout error:",a)}};return c.jsx(MO.Provider,{value:{login:r,logout:i,register:s},children:t})}const vu=()=>{const t=A.useContext(MO);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function RH(t){if(Array.isArray(t))return t}function FH(t){if(Array.isArray(t))return L1(t)}function zH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AO(r.key),r)}}function $H(t,e,n){return e&&VH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ep(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ww(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,i=l},f:function(){try{a||n.return==null||n.return()}finally{if(o)throw i}}}}function nt(t,e,n){return(e=AO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){nt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0(t,e){return RH(t)||HH(t,e)||Ww(t,e)||UH()}function Ds(t){return FH(t)||BH(t)||Ww(t)||WH()}function qH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AO(t){var e=qH(t,"string");return typeof e=="symbol"?e:e+""}function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function Ww(t,e){if(t){if(typeof t=="string")return L1(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L1(t,e):void 0}}var s3=function(){},qw={},OO={},PO=null,_O={mark:s3,measure:s3};try{typeof window<"u"&&(qw=window),typeof document<"u"&&(OO=document),typeof MutationObserver<"u"&&(PO=MutationObserver),typeof performance<"u"&&(_O=performance)}catch{}var KH=qw.navigator||{},i3=KH.userAgent,a3=i3===void 0?"":i3,io=qw,Pt=OO,o3=PO,_m=_O;io.document;var la=!!Pt.documentElement&&!!Pt.head&&typeof Pt.addEventListener=="function"&&typeof Pt.createElement=="function",DO=~a3.indexOf("MSIE")||~a3.indexOf("Trident/"),Mb,GH=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,YH=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,IO={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},XH={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},LO=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],Bn="classic",ih="duotone",RO="sharp",FO="sharp-duotone",zO="chisel",VO="etch",$O="jelly",BO="jelly-duo",HO="jelly-fill",UO="notdog",WO="notdog-duo",qO="slab",KO="slab-press",GO="thumbprint",YO="utility",XO="utility-duo",QO="utility-fill",JO="whiteboard",QH="Classic",JH="Duotone",ZH="Sharp",eU="Sharp Duotone",tU="Chisel",nU="Etch",rU="Jelly",sU="Jelly Duo",iU="Jelly Fill",aU="Notdog",oU="Notdog Duo",lU="Slab",cU="Slab Press",uU="Thumbprint",dU="Utility",fU="Utility Duo",hU="Utility Fill",mU="Whiteboard",ZO=[Bn,ih,RO,FO,zO,VO,$O,BO,HO,UO,WO,qO,KO,GO,YO,XO,QO,JO];Mb={},nt(nt(nt(nt(nt(nt(nt(nt(nt(nt(Mb,Bn,QH),ih,JH),RO,ZH),FO,eU),zO,tU),VO,nU),$O,rU),BO,sU),HO,iU),UO,aU),nt(nt(nt(nt(nt(nt(nt(nt(Mb,WO,oU),qO,lU),KO,cU),GO,uU),YO,dU),XO,fU),QO,hU),JO,mU);var pU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},gU={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},xU=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),yU={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},eP=["fak","fa-kit","fakd","fa-kit-duotone"],l3={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},bU=["kit"],vU="kit",wU="kit-duotone",SU="Kit",NU="Kit Duotone";nt(nt({},vU,SU),wU,NU);var CU={kit:{"fa-kit":"fak"}},jU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},kU={kit:{fak:"fa-kit"}},c3={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ab,Dm={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},TU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],EU="classic",MU="duotone",AU="sharp",OU="sharp-duotone",PU="chisel",_U="etch",DU="jelly",IU="jelly-duo",LU="jelly-fill",RU="notdog",FU="notdog-duo",zU="slab",VU="slab-press",$U="thumbprint",BU="utility",HU="utility-duo",UU="utility-fill",WU="whiteboard",qU="Classic",KU="Duotone",GU="Sharp",YU="Sharp Duotone",XU="Chisel",QU="Etch",JU="Jelly",ZU="Jelly Duo",eW="Jelly Fill",tW="Notdog",nW="Notdog Duo",rW="Slab",sW="Slab Press",iW="Thumbprint",aW="Utility",oW="Utility Duo",lW="Utility Fill",cW="Whiteboard";Ab={},nt(nt(nt(nt(nt(nt(nt(nt(nt(nt(Ab,EU,qU),MU,KU),AU,GU),OU,YU),PU,XU),_U,QU),DU,JU),IU,ZU),LU,eW),RU,tW),nt(nt(nt(nt(nt(nt(nt(nt(Ab,FU,nW),zU,rW),VU,sW),$U,iW),BU,aW),HU,oW),UU,lW),WU,cW);var uW="kit",dW="kit-duotone",fW="Kit",hW="Kit Duotone";nt(nt({},uW,fW),dW,hW);var mW={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},pW={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},R1={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},gW=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],tP=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(TU,gW),xW=["solid","regular","light","thin","duotone","brands","semibold"],nP=[1,2,3,4,5,6,7,8,9,10],yW=nP.concat([11,12,13,14,15,16,17,18,19,20]),bW=["aw","fw","pull-left","pull-right"],vW=[].concat(Ds(Object.keys(pW)),xW,bW,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Dm.GROUP,Dm.SWAP_OPACITY,Dm.PRIMARY,Dm.SECONDARY]).concat(nP.map(function(t){return"".concat(t,"x")})).concat(yW.map(function(t){return"w-".concat(t)})),wW={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},na="___FONT_AWESOME___",F1=16,rP="fa",sP="svg-inline--fa",Nl="data-fa-i2svg",z1="data-fa-pseudo-element",SW="data-fa-pseudo-element-pending",Kw="data-prefix",Gw="data-icon",u3="fontawesome-i2svg",NW="async",CW=["HTML","HEAD","STYLE","SCRIPT"],iP=["::before","::after",":before",":after"],aP=(function(){try{return!0}catch{return!1}})();function ah(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Bn]}})}var oP=ye({},IO);oP[Bn]=ye(ye(ye(ye({},{"fa-duotone":"duotone"}),IO[Bn]),l3.kit),l3["kit-duotone"]);var jW=ah(oP),V1=ye({},yU);V1[Bn]=ye(ye(ye(ye({},{duotone:"fad"}),V1[Bn]),c3.kit),c3["kit-duotone"]);var d3=ah(V1),$1=ye({},R1);$1[Bn]=ye(ye({},$1[Bn]),kU.kit);var Yw=ah($1),B1=ye({},mW);B1[Bn]=ye(ye({},B1[Bn]),CU.kit);ah(B1);var kW=GH,lP="fa-layers-text",TW=YH,EW=ye({},pU);ah(EW);var MW=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ob=XH,AW=[].concat(Ds(bU),Ds(vW)),zd=io.FontAwesomeConfig||{};function OW(t){var e=Pt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function PW(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Pt&&typeof Pt.querySelector=="function"){var _W=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];_W.forEach(function(t){var e=B0(t,2),n=e[0],r=e[1],s=PW(OW(n));s!=null&&(zd[r]=s)})}var cP={styleDefault:"solid",familyDefault:Bn,cssPrefix:rP,replacementClass:sP,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zd.familyPrefix&&(zd.cssPrefix=zd.familyPrefix);var Zc=ye(ye({},cP),zd);Zc.autoReplaceSvg||(Zc.observeMutations=!1);var Ve={};Object.keys(cP).forEach(function(t){Object.defineProperty(Ve,t,{enumerable:!0,set:function(n){Zc[t]=n,Vd.forEach(function(r){return r(Ve)})},get:function(){return Zc[t]}})});Object.defineProperty(Ve,"familyPrefix",{enumerable:!0,set:function(e){Zc.cssPrefix=e,Vd.forEach(function(n){return n(Ve)})},get:function(){return Zc.cssPrefix}});io.FontAwesomeConfig=Ve;var Vd=[];function DW(t){return Vd.push(t),function(){Vd.splice(Vd.indexOf(t),1)}}var bc=F1,si={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function IW(t){if(!(!t||!la)){var e=Pt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Pt.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return Pt.head.insertBefore(e,r),t}}var LW="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function f3(){for(var t=12,e="";t-- >0;)e+=LW[Math.random()*62|0];return e}function wu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Xw(t){return t.classList?wu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function uP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function RW(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(uP(t[n]),'" ')},"").trim()}function H0(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Qw(t){return t.size!==si.size||t.x!==si.x||t.y!==si.y||t.rotate!==si.rotate||t.flipX||t.flipY}function FW(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(a," ").concat(o)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:u}}function zW(t){var e=t.transform,n=t.width,r=n===void 0?F1:n,s=t.height,i=s===void 0?F1:s,a="";return DO?a+="translate(".concat(e.x/bc-r/2,"em, ").concat(e.y/bc-i/2,"em) "):a+="translate(calc(-50% + ".concat(e.x/bc,"em), calc(-50% + ").concat(e.y/bc,"em)) "),a+="scale(".concat(e.size/bc*(e.flipX?-1:1),", ").concat(e.size/bc*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var VW=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function dP(){var t=rP,e=sP,n=Ve.cssPrefix,r=Ve.replacementClass,s=VW;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return s}var h3=!1;function Pb(){Ve.autoAddCss&&!h3&&(IW(dP()),h3=!0)}var $W={mixout:function(){return{dom:{css:dP,insertCss:Pb}}},hooks:function(){return{beforeDOMElementCreation:function(){Pb()},beforeI2svg:function(){Pb()}}}},ra=io||{};ra[na]||(ra[na]={});ra[na].styles||(ra[na].styles={});ra[na].hooks||(ra[na].hooks={});ra[na].shims||(ra[na].shims=[]);var Os=ra[na],fP=[],hP=function(){Pt.removeEventListener("DOMContentLoaded",hP),ag=1,fP.map(function(e){return e()})},ag=!1;la&&(ag=(Pt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pt.readyState),ag||Pt.addEventListener("DOMContentLoaded",hP));function BW(t){la&&(ag?setTimeout(t,0):fP.push(t))}function oh(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?uP(t):"<".concat(e," ").concat(RW(r),">").concat(i.map(oh).join(""),"</").concat(e,">")}function m3(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var _b=function(e,n,r,s){var i=Object.keys(e),a=i.length,o=n,l,u,d;for(r===void 0?(l=1,d=e[i[0]]):(l=0,d=r);l<a;l++)u=i[l],d=o(d,e[u],u,e);return d};function mP(t){return Ds(t).length!==1?null:t.codePointAt(0).toString(16)}function p3(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function H1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=p3(e);typeof Os.hooks.addPack=="function"&&!s?Os.hooks.addPack(t,p3(e)):Os.styles[t]=ye(ye({},Os.styles[t]||{}),i),t==="fas"&&H1("fa",e)}var pf=Os.styles,HW=Os.shims,pP=Object.keys(Yw),UW=pP.reduce(function(t,e){return t[e]=Object.keys(Yw[e]),t},{}),Jw=null,gP={},xP={},yP={},bP={},vP={};function WW(t){return~AW.indexOf(t)}function qW(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!WW(s)?s:null}var wP=function(){var e=function(i){return _b(pf,function(a,o,l){return a[l]=_b(o,i,{}),a},{})};gP=e(function(s,i,a){if(i[3]&&(s[i[3]]=a),i[2]){var o=i[2].filter(function(l){return typeof l=="number"});o.forEach(function(l){s[l.toString(16)]=a})}return s}),xP=e(function(s,i,a){if(s[a]=a,i[2]){var o=i[2].filter(function(l){return typeof l=="string"});o.forEach(function(l){s[l]=a})}return s}),vP=e(function(s,i,a){var o=i[2];return s[a]=a,o.forEach(function(l){s[l]=a}),s});var n="far"in pf||Ve.autoFetchSvg,r=_b(HW,function(s,i){var a=i[0],o=i[1],l=i[2];return o==="far"&&!n&&(o="fas"),typeof a=="string"&&(s.names[a]={prefix:o,iconName:l}),typeof a=="number"&&(s.unicodes[a.toString(16)]={prefix:o,iconName:l}),s},{names:{},unicodes:{}});yP=r.names,bP=r.unicodes,Jw=U0(Ve.styleDefault,{family:Ve.familyDefault})};DW(function(t){Jw=U0(t.styleDefault,{family:Ve.familyDefault})});wP();function Zw(t,e){return(gP[t]||{})[e]}function KW(t,e){return(xP[t]||{})[e]}function el(t,e){return(vP[t]||{})[e]}function SP(t){return yP[t]||{prefix:null,iconName:null}}function GW(t){var e=bP[t],n=Zw("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ao(){return Jw}var NP=function(){return{prefix:null,iconName:null,rest:[]}};function YW(t){var e=Bn,n=pP.reduce(function(r,s){return r[s]="".concat(Ve.cssPrefix,"-").concat(s),r},{});return ZO.forEach(function(r){(t.includes(n[r])||t.some(function(s){return UW[r].includes(s)}))&&(e=r)}),e}function U0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Bn:n,s=jW[r][t];if(r===ih&&!t)return"fad";var i=d3[r][t]||d3[r][s],a=t in Os.styles?t:null,o=i||a||null;return o}function XW(t){var e=[],n=null;return t.forEach(function(r){var s=qW(Ve.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function g3(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var x3=tP.concat(eP);function W0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=g3(t.filter(function(g){return x3.includes(g)})),a=g3(t.filter(function(g){return!x3.includes(g)})),o=i.filter(function(g){return s=g,!LO.includes(g)}),l=B0(o,1),u=l[0],d=u===void 0?null:u,h=YW(i),p=ye(ye({},XW(a)),{},{prefix:U0(d,{family:h})});return ye(ye(ye({},p),eq({values:t,family:h,styles:pf,config:Ve,canonical:p,givenPrefix:s})),QW(r,s,p))}function QW(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?SP(s):{},a=el(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!pf.far&&pf.fas&&!Ve.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var JW=ZO.filter(function(t){return t!==Bn||t!==ih}),ZW=Object.keys(R1).filter(function(t){return t!==Bn}).map(function(t){return Object.keys(R1[t])}).flat();function eq(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,a=t.styles,o=a===void 0?{}:a,l=t.config,u=l===void 0?{}:l,d=n===ih,h=e.includes("fa-duotone")||e.includes("fad"),p=u.familyDefault==="duotone",g=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(h||p||g)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&JW.includes(n)){var x=Object.keys(o).find(function(b){return ZW.includes(b)});if(x||u.autoFetchSvg){var v=xU.get(n).defaultShortPrefixId;r.prefix=v,r.iconName=el(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=ao()||"fas"),r}var tq=(function(){function t(){zH(this,t),this.definitions={}}return $H(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var a=s.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){n.definitions[o]=ye(ye({},n.definitions[o]||{}),a[o]),H1(o,a[o]);var l=Yw[Bn][o];l&&H1(l,a[o]),wP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var a=s[i],o=a.prefix,l=a.iconName,u=a.icon,d=u[2];n[o]||(n[o]={}),d.length>0&&d.forEach(function(h){typeof h=="string"&&(n[o][h]=u)}),n[o][l]=u}),n}}])})(),y3=[],_c={},Hc={},nq=Object.keys(Hc);function rq(t,e){var n=e.mixoutsTo;return y3=t,_c={},Object.keys(Hc).forEach(function(r){nq.indexOf(r)===-1&&delete Hc[r]}),y3.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(a){typeof s[a]=="function"&&(n[a]=s[a]),ig(s[a])==="object"&&Object.keys(s[a]).forEach(function(o){n[a]||(n[a]={}),n[a][o]=s[a][o]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(a){_c[a]||(_c[a]=[]),_c[a].push(i[a])})}r.provides&&r.provides(Hc)}),n}function U1(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=_c[t]||[];return i.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Cl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=_c[t]||[];s.forEach(function(i){i.apply(null,n)})}function oo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Hc[t]?Hc[t].apply(null,e):void 0}function W1(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ao();if(e)return e=el(n,e)||e,m3(CP.definitions,n,e)||m3(Os.styles,n,e)}var CP=new tq,sq=function(){Ve.autoReplaceSvg=!1,Ve.observeMutations=!1,Cl("noAuto")},iq={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return la?(Cl("beforeI2svg",e),oo("pseudoElements2svg",e),oo("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Ve.autoReplaceSvg===!1&&(Ve.autoReplaceSvg=!0),Ve.observeMutations=!0,BW(function(){oq({autoReplaceSvgRoot:n}),Cl("watch",e)})}},aq={icon:function(e){if(e===null)return null;if(ig(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:el(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=U0(e[0]);return{prefix:r,iconName:el(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Ve.cssPrefix,"-"))>-1||e.match(kW))){var s=W0(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||ao(),iconName:el(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=ao();return{prefix:i,iconName:el(i,e)||e}}}},Qr={noAuto:sq,config:Ve,dom:iq,parse:aq,library:CP,findIconDefinition:W1,toHtml:oh},oq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Pt:n;(Object.keys(Os.styles).length>0||Ve.autoFetchSvg)&&la&&Ve.autoReplaceSvg&&Qr.dom.i2svg({node:r})};function q0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return oh(r)})}}),Object.defineProperty(t,"node",{get:function(){if(la){var r=Pt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function lq(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,a=t.transform;if(Qw(a)&&n.found&&!r.found){var o=n.width,l=n.height,u={x:o/l/2,y:.5};s.style=H0(ye(ye({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function cq(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,a=i===!0?"".concat(e,"-").concat(Ve.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ye(ye({},s),{},{id:a}),children:r}]}]}function uq(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function eS(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,a=t.transform,o=t.symbol,l=t.maskId,u=t.extra,d=t.watchable,h=d===void 0?!1:d,p=r.found?r:n,g=p.width,x=p.height,v=[Ve.replacementClass,i?"".concat(Ve.cssPrefix,"-").concat(i):""].filter(function(j){return u.classes.indexOf(j)===-1}).filter(function(j){return j!==""||!!j}).concat(u.classes).join(" "),b={children:[],attributes:ye(ye({},u.attributes),{},{"data-prefix":s,"data-icon":i,class:v,role:u.attributes.role||"img",viewBox:"0 0 ".concat(g," ").concat(x)})};!uq(u.attributes)&&!u.attributes["aria-hidden"]&&(b.attributes["aria-hidden"]="true"),h&&(b.attributes[Nl]="");var w=ye(ye({},b),{},{prefix:s,iconName:i,main:n,mask:r,maskId:l,transform:a,symbol:o,styles:ye({},u.styles)}),N=r.found&&n.found?oo("generateAbstractMask",w)||{children:[],attributes:{}}:oo("generateAbstractIcon",w)||{children:[],attributes:{}},C=N.children,T=N.attributes;return w.children=C,w.attributes=T,o?cq(w):lq(w)}function b3(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,a=t.watchable,o=a===void 0?!1:a,l=ye(ye({},i.attributes),{},{class:i.classes.join(" ")});o&&(l[Nl]="");var u=ye({},i.styles);Qw(s)&&(u.transform=zW({transform:s,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=H0(u);d.length>0&&(l.style=d);var h=[];return h.push({tag:"span",attributes:l,children:[e]}),h}function dq(t){var e=t.content,n=t.extra,r=ye(ye({},n.attributes),{},{class:n.classes.join(" ")}),s=H0(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var Db=Os.styles;function q1(t){var e=t[0],n=t[1],r=t.slice(4),s=B0(r,1),i=s[0],a=null;return Array.isArray(i)?a={tag:"g",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Ob.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Ob.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Ob.PRIMARY),fill:"currentColor",d:i[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:a}}var fq={found:!1,width:512,height:512};function hq(t,e){!aP&&!Ve.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function K1(t,e){var n=e;return e==="fa"&&Ve.styleDefault!==null&&(e=ao()),new Promise(function(r,s){if(n==="fa"){var i=SP(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Db[e]&&Db[e][t]){var a=Db[e][t];return r(q1(a))}hq(t,e),r(ye(ye({},fq),{},{icon:Ve.showMissingIcons&&t?oo("missingIconAbstract")||{}:{}}))})}var v3=function(){},G1=Ve.measurePerformance&&_m&&_m.mark&&_m.measure?_m:{mark:v3,measure:v3},Td='FA "7.1.0"',mq=function(e){return G1.mark("".concat(Td," ").concat(e," begins")),function(){return jP(e)}},jP=function(e){G1.mark("".concat(Td," ").concat(e," ends")),G1.measure("".concat(Td," ").concat(e),"".concat(Td," ").concat(e," begins"),"".concat(Td," ").concat(e," ends"))},tS={begin:mq,end:jP},Mp=function(){};function w3(t){var e=t.getAttribute?t.getAttribute(Nl):null;return typeof e=="string"}function pq(t){var e=t.getAttribute?t.getAttribute(Kw):null,n=t.getAttribute?t.getAttribute(Gw):null;return e&&n}function gq(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ve.replacementClass)}function xq(){if(Ve.autoReplaceSvg===!0)return Ap.replace;var t=Ap[Ve.autoReplaceSvg];return t||Ap.replace}function yq(t){return Pt.createElementNS("http://www.w3.org/2000/svg",t)}function bq(t){return Pt.createElement(t)}function kP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?yq:bq:n;if(typeof t=="string")return Pt.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){s.setAttribute(a,t.attributes[a])});var i=t.children||[];return i.forEach(function(a){s.appendChild(kP(a,{ceFn:r}))}),s}function vq(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Ap={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(kP(s),n)}),n.getAttribute(Nl)===null&&Ve.keepOriginalSource){var r=Pt.createComment(vq(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Xw(n).indexOf(Ve.replacementClass))return Ap.replace(e);var s=new RegExp("".concat(Ve.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(o,l){return l===Ve.replacementClass||l.match(s)?o.toSvg.push(l):o.toNode.push(l),o},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var a=r.map(function(o){return oh(o)}).join(`
`);n.setAttribute(Nl,""),n.innerHTML=a}};function S3(t){t()}function TP(t,e){var n=typeof e=="function"?e:Mp;if(t.length===0)n();else{var r=S3;Ve.mutateApproach===NW&&(r=io.requestAnimationFrame||S3),r(function(){var s=xq(),i=tS.begin("mutate");t.map(s),i(),n()})}}var nS=!1;function EP(){nS=!0}function Y1(){nS=!1}var og=null;function N3(t){if(o3&&Ve.observeMutations){var e=t.treeCallback,n=e===void 0?Mp:e,r=t.nodeCallback,s=r===void 0?Mp:r,i=t.pseudoElementsCallback,a=i===void 0?Mp:i,o=t.observeMutationsRoot,l=o===void 0?Pt:o;og=new o3(function(u){if(!nS){var d=ao();wu(u).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!w3(h.addedNodes[0])&&(Ve.searchPseudoElements&&a(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&Ve.searchPseudoElements&&a([h.target],!0),h.type==="attributes"&&w3(h.target)&&~MW.indexOf(h.attributeName))if(h.attributeName==="class"&&pq(h.target)){var p=W0(Xw(h.target)),g=p.prefix,x=p.iconName;h.target.setAttribute(Kw,g||d),x&&h.target.setAttribute(Gw,x)}else gq(h.target)&&s(h.target)})}}),la&&og.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function wq(){og&&og.disconnect()}function Sq(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),a=i[0],o=i.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function Nq(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=W0(Xw(t));return s.prefix||(s.prefix=ao()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=KW(s.prefix,t.innerText)||Zw(s.prefix,mP(t.innerText))),!s.iconName&&Ve.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function Cq(t){var e=wu(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function jq(){return{iconName:null,prefix:null,transform:si,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function C3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Nq(t),r=n.iconName,s=n.prefix,i=n.rest,a=Cq(t),o=U1("parseNodeAttributes",{},t),l=e.styleParser?Sq(t):[];return ye({iconName:r,prefix:s,transform:si,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:a}},o)}var kq=Os.styles;function MP(t){var e=Ve.autoReplaceSvg==="nest"?C3(t,{styleParser:!1}):C3(t);return~e.extra.classes.indexOf(lP)?oo("generateLayersText",t,e):oo("generateSvgReplacementMutation",t,e)}function Tq(){return[].concat(Ds(eP),Ds(tP))}function j3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!la)return Promise.resolve();var n=Pt.documentElement.classList,r=function(h){return n.add("".concat(u3,"-").concat(h))},s=function(h){return n.remove("".concat(u3,"-").concat(h))},i=Ve.autoFetchSvg?Tq():LO.concat(Object.keys(kq));i.includes("fa")||i.push("fa");var a=[".".concat(lP,":not([").concat(Nl,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Nl,"])")})).join(", ");if(a.length===0)return Promise.resolve();var o=[];try{o=wu(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),s("complete");else return Promise.resolve();var l=tS.begin("onTree"),u=o.reduce(function(d,h){try{var p=MP(h);p&&d.push(p)}catch(g){aP||g.name==="MissingIcon"&&console.error(g)}return d},[]);return new Promise(function(d,h){Promise.all(u).then(function(p){TP(p,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),d()})}).catch(function(p){l(),h(p)})})}function Eq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;MP(t).then(function(n){n&&TP([n],e)})}function Mq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:W1(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:W1(s||{})),t(r,ye(ye({},n),{},{mask:s}))}}var Aq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?si:r,i=n.symbol,a=i===void 0?!1:i,o=n.mask,l=o===void 0?null:o,u=n.maskId,d=u===void 0?null:u,h=n.classes,p=h===void 0?[]:h,g=n.attributes,x=g===void 0?{}:g,v=n.styles,b=v===void 0?{}:v;if(e){var w=e.prefix,N=e.iconName,C=e.icon;return q0(ye({type:"icon"},e),function(){return Cl("beforeDOMElementCreation",{iconDefinition:e,params:n}),eS({icons:{main:q1(C),mask:l?q1(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:N,transform:ye(ye({},si),s),symbol:a,maskId:d,extra:{attributes:x,styles:b,classes:p}})})}},Oq={mixout:function(){return{icon:Mq(Aq)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=j3,n.nodeCallback=Eq,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?Pt:r,i=n.callback,a=i===void 0?function(){}:i;return j3(s,a)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,a=r.transform,o=r.symbol,l=r.mask,u=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([K1(s,i),l.iconName?K1(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var x=B0(g,2),v=x[0],b=x[1];h([n,eS({icons:{main:v,mask:b},prefix:i,iconName:s,transform:a,symbol:o,maskId:u,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.transform,o=n.styles,l=H0(o);l.length>0&&(s.style=l);var u;return Qw(a)&&(u=oo("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:s}}}},Pq={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return q0({type:"layer"},function(){Cl("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(o){Array.isArray(o)?o.map(function(l){a=a.concat(l.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Ve.cssPrefix,"-layers")].concat(Ds(i)).join(" ")},children:a}]})}}}},_q={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,a=r.attributes,o=a===void 0?{}:a,l=r.styles,u=l===void 0?{}:l;return q0({type:"counter",content:n},function(){return Cl("beforeDOMElementCreation",{content:n,params:r}),dq({content:n.toString(),extra:{attributes:o,styles:u,classes:["".concat(Ve.cssPrefix,"-layers-counter")].concat(Ds(i))}})})}}}},Dq={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?si:s,a=r.classes,o=a===void 0?[]:a,l=r.attributes,u=l===void 0?{}:l,d=r.styles,h=d===void 0?{}:d;return q0({type:"text",content:n},function(){return Cl("beforeDOMElementCreation",{content:n,params:r}),b3({content:n,transform:ye(ye({},si),i),extra:{attributes:u,styles:h,classes:["".concat(Ve.cssPrefix,"-layers-text")].concat(Ds(o))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,a=null,o=null;if(DO){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,o=u.height/l}return Promise.resolve([n,b3({content:n.innerHTML,width:a,height:o,transform:s,extra:i,watchable:!0})])}}},AP=new RegExp('"',"ug"),k3=[1105920,1112319],T3=ye(ye(ye(ye({},{FontAwesome:{normal:"fas",400:"fas"}}),gU),wW),jU),X1=Object.keys(T3).reduce(function(t,e){return t[e.toLowerCase()]=T3[e],t},{}),Iq=Object.keys(X1).reduce(function(t,e){var n=X1[e];return t[e]=n[900]||Ds(Object.entries(n))[0][1],t},{});function Lq(t){var e=t.replace(AP,"");return mP(Ds(e)[0]||"")}function Rq(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(AP,""),s=r.codePointAt(0),i=s>=k3[0]&&s<=k3[1],a=r.length===2?r[0]===r[1]:!1;return i||a||e}function Fq(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(X1[n]||{})[s]||Iq[n]}function E3(t,e){var n="".concat(SW).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=wu(t.children),a=i.filter(function(E){return E.getAttribute(z1)===e})[0],o=io.getComputedStyle(t,e),l=o.getPropertyValue("font-family"),u=l.match(TW),d=o.getPropertyValue("font-weight"),h=o.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&h!=="none"&&h!==""){var p=o.getPropertyValue("content"),g=Fq(l,d),x=Lq(p),v=u[0].startsWith("FontAwesome"),b=Rq(o),w=Zw(g,x),N=w;if(v){var C=GW(x);C.iconName&&C.prefix&&(w=C.iconName,g=C.prefix)}if(w&&!b&&(!a||a.getAttribute(Kw)!==g||a.getAttribute(Gw)!==N)){t.setAttribute(n,N),a&&t.removeChild(a);var T=jq(),j=T.extra;j.attributes[z1]=e,K1(w,g).then(function(E){var O=eS(ye(ye({},T),{},{icons:{main:E,mask:NP()},prefix:g,iconName:N,extra:j,watchable:!0})),M=Pt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(M,t.firstChild):t.appendChild(M),M.outerHTML=O.map(function(_){return oh(_)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function zq(t){return Promise.all([E3(t,"::before"),E3(t,"::after")])}function Vq(t){return t.parentNode!==document.head&&!~CW.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(z1)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var $q=function(e){return!!e&&iP.some(function(n){return e.includes(n)})},Bq=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(l){return l.trim()});r=r.flatMap(function(l){return l.includes("(")?l:l.split(",").map(function(u){return u.trim()})});var s=Ep(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if($q(a)){var o=iP.reduce(function(l,u){return l.replace(u,"")},a);o!==""&&o!=="*"&&n.add(o)}}}catch(l){s.e(l)}finally{s.f()}return n};function M3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(la){var n;if(e)n=t;else if(Ve.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=Ep(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var o=Ep(a.cssRules),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,d=Bq(u.selectorText),h=Ep(d),p;try{for(h.s();!(p=h.n()).done;){var g=p.value;r.add(g)}}catch(v){h.e(v)}finally{h.f()}}}catch(v){o.e(v)}finally{o.f()}}catch(v){Ve.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(a.href," (").concat(v.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(v){s.e(v)}finally{s.f()}if(!r.size)return;var x=Array.from(r).join(", ");try{n=t.querySelectorAll(x)}catch{}}return new Promise(function(v,b){var w=wu(n).filter(Vq).map(zq),N=tS.begin("searchPseudoElements");EP(),Promise.all(w).then(function(){N(),Y1(),v()}).catch(function(){N(),Y1(),b()})})}}var Hq={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=M3,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?Pt:r;Ve.searchPseudoElements&&M3(s)}}},A3=!1,Uq={mixout:function(){return{dom:{unwatch:function(){EP(),A3=!0}}}},hooks:function(){return{bootstrap:function(){N3(U1("mutationObserverCallbacks",{}))},noAuto:function(){wq()},watch:function(n){var r=n.observeMutationsRoot;A3?Y1():N3(U1("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},O3=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),a=i[0],o=i.slice(1).join("-");if(a&&o==="h")return r.flipX=!0,r;if(a&&o==="v")return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(a){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o;break}return r},n)},Wq={mixout:function(){return{parse:{transform:function(n){return O3(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=O3(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,a=n.iconWidth,o={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(u," ").concat(d)},p={transform:"translate(".concat(a/2*-1," -256)")},g={outer:o,inner:h,path:p};return{tag:"g",attributes:ye({},g.outer),children:[{tag:"g",attributes:ye({},g.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ye(ye({},r.icon.attributes),g.path)}]}]}}}},Ib={x:0,y:0,width:"100%",height:"100%"};function P3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function qq(t){return t.tag==="g"?t.children:[t]}var Kq={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?W0(s.split(" ").map(function(a){return a.trim()})):NP();return i.prefix||(i.prefix=ao()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.mask,o=n.maskId,l=n.transform,u=i.width,d=i.icon,h=a.width,p=a.icon,g=FW({transform:l,containerWidth:h,iconWidth:u}),x={tag:"rect",attributes:ye(ye({},Ib),{},{fill:"white"})},v=d.children?{children:d.children.map(P3)}:{},b={tag:"g",attributes:ye({},g.inner),children:[P3(ye({tag:d.tag,attributes:ye(ye({},d.attributes),g.path)},v))]},w={tag:"g",attributes:ye({},g.outer),children:[b]},N="mask-".concat(o||f3()),C="clip-".concat(o||f3()),T={tag:"mask",attributes:ye(ye({},Ib),{},{id:N,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,w]},j={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:qq(p)},T]};return r.push(j,{tag:"rect",attributes:ye({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(N,")")},Ib)}),{children:r,attributes:s}}}},Gq={provides:function(e){var n=!1;io.matchMedia&&(n=io.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ye(ye({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=ye(ye({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:ye(ye({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||o.children.push({tag:"animate",attributes:ye(ye({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ye(ye({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(o),r.push({tag:"path",attributes:ye(ye({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ye(ye({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ye(ye({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ye(ye({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},Yq={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},Xq=[$W,Oq,Pq,_q,Dq,Hq,Uq,Wq,Kq,Gq,Yq];rq(Xq,{mixoutsTo:Qr});Qr.noAuto;var gf=Qr.config;Qr.library;Qr.dom;var OP=Qr.parse;Qr.findIconDefinition;Qr.toHtml;var Qq=Qr.icon;Qr.layer;Qr.text;Qr.counter;function Jq(t){return t=t-0,t===t}function PP(t){return Jq(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function Zq(t){return t.charAt(0).toUpperCase()+t.slice(1)}var vc=new Map,eK=1e3;function tK(t){if(vc.has(t))return vc.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,a=t.slice(n,i).trim();if(a){const o=a.indexOf(":");if(o>0){const l=a.slice(0,o).trim(),u=a.slice(o+1).trim();if(l&&u){const d=PP(l);e[d.startsWith("webkit")?Zq(d):d]=u}}}n=i+1}if(vc.size===eK){const s=vc.keys().next().value;s&&vc.delete(s)}return vc.set(t,e),e}function _P(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(u=>_P(t,u)),s=e.attributes||{},i={};for(const[u,d]of Object.entries(s))switch(!0){case u==="class":{i.className=d;break}case u==="style":{i.style=tK(String(d));break}case u.startsWith("aria-"):case u.startsWith("data-"):{i[u.toLowerCase()]=d;break}default:i[PP(u)]=d}const{style:a,"aria-label":o,...l}=n;return a&&(i.style=i.style?{...i.style,...a}:a),o&&(i["aria-label"]=o,i["aria-hidden"]="false"),t(e.tag,{...l,...i},...r)}var nK=_P.bind(null,ge.createElement),_3=(t,e)=>{const n=A.useId();return t||(e?n:void 0)},rK=class{constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e=typeof process<"u"&&!1}catch{}this.scope=t,this.enabled=e}log(...t){this.enabled&&console.log(`[${this.scope}]`,...t)}warn(...t){this.enabled&&console.warn(`[${this.scope}]`,...t)}error(...t){this.enabled&&console.error(`[${this.scope}]`,...t)}},sK="searchPseudoElementsFullScan"in gf?"7.0.0":"6.0.0",iK=Number.parseInt(sK)>=7,$d="fa",ki={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},aK={left:"fa-pull-left",right:"fa-pull-right"},oK={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},lK={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Ti={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function cK(t){const e=gf.cssPrefix||gf.familyPrefix||$d;return e===$d?t:t.replace(new RegExp(`(?<=^|\\s)${$d}-`,"g"),`${e}-`)}function uK(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:a,spinPulse:o,spinReverse:l,pulse:u,fixedWidth:d,inverse:h,border:p,flip:g,size:x,rotation:v,pull:b,swapOpacity:w,rotateBy:N,widthAuto:C,className:T}=t,j=[];return T&&j.push(...T.split(" ")),e&&j.push(ki.beat),n&&j.push(ki.fade),r&&j.push(ki.beatFade),s&&j.push(ki.bounce),i&&j.push(ki.shake),a&&j.push(ki.spin),l&&j.push(ki.spinReverse),o&&j.push(ki.spinPulse),u&&j.push(ki.pulse),d&&j.push(Ti.fixedWidth),h&&j.push(Ti.inverse),p&&j.push(Ti.border),g===!0&&j.push(Ti.flip),(g==="horizontal"||g==="both")&&j.push(Ti.flipHorizontal),(g==="vertical"||g==="both")&&j.push(Ti.flipVertical),x!=null&&j.push(lK[x]),v!=null&&v!==0&&j.push(oK[v]),b!=null&&j.push(aK[b]),w&&j.push(Ti.swapOpacity),iK?(N&&j.push(Ti.rotateBy),C&&j.push(Ti.widthAuto),(gf.cssPrefix||gf.familyPrefix||$d)===$d?j:j.map(cK)):j}var dK=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function D3(t){if(t)return dK(t)?t:OP.icon(t)}function fK(t){return Object.keys(t)}var I3=new rK("FontAwesomeIcon"),DP={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},hK=new Set(Object.keys(DP)),$=ge.forwardRef((t,e)=>{const n={...DP,...t},{icon:r,mask:s,symbol:i,title:a,titleId:o,maskId:l,transform:u}=n,d=_3(l,!!s),h=_3(o,!!a),p=D3(r);if(!p)return I3.error("Icon lookup is undefined",r),null;const g=uK(n),x=typeof u=="string"?OP.transform(u):u,v=D3(s),b=Qq(p,{...g.length>0&&{classes:g},...x&&{transform:x},...v&&{mask:v},symbol:i,title:a,titleId:h,maskId:d});if(!b)return I3.error("Could not find icon",p),null;const{abstract:w}=b,N={ref:e};for(const C of fK(n))hK.has(C)||(N[C]=n[C]);return nK(w[0],N)});$.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Op={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},jl={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"]},fi={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M32 64C19.1 64 7.4 71.8 2.4 83.8S.2 109.5 9.4 118.6L192 301.3 192 416c0 8.5 3.4 16.6 9.4 22.6l64 64c9.2 9.2 22.9 11.9 34.9 6.9S320 492.9 320 480l0-178.7 182.6-182.6c9.2-9.2 11.9-22.9 6.9-34.9S492.9 64 480 64L32 64z"]},mK={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},K0={prefix:"fas",iconName:"truck",icon:[576,512,[128666,9951],"f0d1","M0 96C0 60.7 28.7 32 64 32l288 0c35.3 0 64 28.7 64 64l0 32 50.7 0c17 0 33.3 6.7 45.3 18.7L557.3 192c12 12 18.7 28.3 18.7 45.3L576 384c0 35.3-28.7 64-64 64l-3.3 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64l-102.6 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64L64 448c-35.3 0-64-28.7-64-64L0 96zM512 288l0-50.7-45.3-45.3-50.7 0 0 96 96 0zM192 424a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm232 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},pK={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M32.5 96c0-12.9 7.8-24.6 19.8-29.6S78 64.2 87.1 73.4l160 160c12.5 12.5 12.5 32.8 0 45.3l-160 160c-9.2 9.2-22.9 11.9-34.9 6.9S32.5 428.9 32.5 416l0-320z"]},rS={prefix:"fas",iconName:"shoe-prints",icon:[576,512,[],"f54b","M296 192c-21.1-12.1-42.3-24.2-72-29.3l0-140.3C257.7 13 311.4 0 352 0 448 0 576 48 576 128s-119.6 96-176 96c-48 0-76-16-104-32zM128 32l48 0 0 128-48 0c-35.3 0-64-28.7-64-64s28.7-64 64-64zM232 320c28-16 56-32 104-32 56.4 0 176 16 176 96S384 512 288 512c-40.5 0-94.3-13-128-22.4l0-140.3c29.7-5.2 50.9-17.3 72-29.4zM64 480c-35.3 0-64-28.7-64-64s28.7-64 64-64l48 0 0 128-48 0z"]},gK={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},xK=gK,yK={prefix:"fas",iconName:"percent",icon:[448,512,[62101,62785,"percentage"],"25","M192 128a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM448 384a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM438.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-384 384c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l384-384z"]},bK={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},ms=bK,vK={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},sa={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},wK={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M224 96c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c9.2 9.2 22.9 11.9 34.9 6.9S224 428.9 224 416l0-320z"]},L3={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},zl={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},IP={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},SK={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Vl=SK,Lb={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},xf={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]},NK={prefix:"fas",iconName:"table",icon:[448,512,[],"f0ce","M256 160l0 96 128 0 0-96-128 0zm-64 0l-128 0 0 96 128 0 0-96zM0 320L0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-96zm384 0l-128 0 0 96 128 0 0-96zM192 416l0-96-128 0 0 96 128 0z"]},Pp={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},LP={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},CK={prefix:"fas",iconName:"strikethrough",icon:[512,512,[],"f0cc","M96 157.5C96 88.2 152.2 32 221.5 32L368 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L221.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61l44.1 5.5 222 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l83.1 0C103 204.6 96 181.8 96 157.5zM349.2 336l65.5 0c.9 6.1 1.4 12.2 1.4 18.5 0 69.3-56.2 125.5-125.5 125.5L144 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-6.4-1-12.7-2.8-18.5z"]},jK={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},kK={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M64 64C64 28.7 92.7 0 128 0L341.5 0c17 0 33.3 6.7 45.3 18.7l42.5 42.5c12 12 18.7 28.3 18.7 45.3l0 37.5-384 0 0-80zM0 256c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 96c0 17.7-14.3 32-32 32l-32 0 0 64c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-64-32 0c-17.7 0-32-14.3-32-32l0-96zM128 416l0 32 256 0 0-96-256 0 0 64zM456 272a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},TK={prefix:"fas",iconName:"venus-mars",icon:[640,512,[9892],"f228","M480-64c-17.7 0-32 14.3-32 32S462.3 0 480 0L530.7 0 474 56.7c-26.3-15.7-57.1-24.7-90-24.7-35.4 0-68.4 10.5-96 28.5-27.6-18-60.6-28.5-96-28.5-97.2 0-176 78.8-176 176 0 86.3 62.1 158.1 144 173.1l0 34.9-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-34.9c23.3-4.3 44.9-13.1 64-25.6 27.6 18 60.6 28.5 96 28.5 97.2 0 176-78.8 176-176 0-41.1-14.1-79-37.8-109L576 45.3 576 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L480-64zM336 309.2c20.2-28.6 32-63.5 32-101.2s-11.8-72.6-32-101.2c14.6-6.9 30.8-10.8 48-10.8 61.9 0 112 50.1 112 112S445.9 320 384 320c-17.2 0-33.5-3.9-48-10.8zM288 150.3c10.2 16.9 16 36.6 16 57.7s-5.8 40.9-16 57.7c-10.2-16.9-16-36.6-16-57.7s5.8-40.9 16-57.7zm-48-43.5c-20.2 28.6-32 63.5-32 101.2s11.8 72.6 32 101.2c-14.5 6.9-30.8 10.8-48 10.8-61.9 0-112-50.1-112-112S130.1 96 192 96c17.2 0 33.5 3.9 48 10.8z"]},EK={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l32 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l224 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM288 160c0 35.3-28.7 64-64 64l-96 0 0-128 96 0c35.3 0 64 28.7 64 64zM128 416l0-128 128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0z"]},MK={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM342 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 315.2 137 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},Rb=MK,sS={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M560.3 237.2c10.4 11.8 28.3 14.4 41.8 5.5 14.7-9.8 18.7-29.7 8.9-44.4l-48-72c-2.8-4.2-6.6-7.7-11.1-10.2L351.4 4.7c-19.3-10.7-42.8-10.7-62.2 0L88.8 116c-5.4 3-9.7 7.4-12.6 12.8L27.7 218.7c-12.6 23.4-3.8 52.5 19.6 65.1l33 17.7 0 53.3c0 23 12.4 44.3 32.4 55.7l176 99.7c19.6 11.1 43.5 11.1 63.1 0l176-99.7c20.1-11.4 32.4-32.6 32.4-55.7l0-117.5zm-240-9.8L170.2 144 320.3 60.6 470.4 144 320.3 227.4zm-41.5 50.2l-21.3 46.2-165.8-88.8 25.4-47.2 161.7 89.8z"]},AK={prefix:"fas",iconName:"image",icon:[448,512,[],"f03e","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z"]},OK={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"]},qr={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},PK={prefix:"fas",iconName:"money-bill-wave",icon:[512,512,[],"f53a","M0 419.6L0 109.5c0-23.2 24.1-38.6 46.3-32 87.7 26.2 149.7 5.5 212.1-15.3 64.5-21.5 129.4-43.1 223.3-13.1 18.5 5.9 30.3 23.8 30.3 43.3l0 310.1c0 23.2-24.1 38.6-46.2 32-87.7-26.2-149.8-5.5-212.1 15.3-64.5 21.5-129.4 43.1-223.3 13.1-18.5-5.9-30.3-23.8-30.3-43.3zM336 256c0-53-35.8-96-80-96s-80 43-80 96 35.8 96 80 96 80-43 80-96zM120 413.6c4.4 0 7.9-3.8 7.2-8.1-4.6-27.8-27-49.5-55.2-53-4.4-.5-8 3.1-8 7.5l0 39.9c0 3.6 2.4 6.8 6 7.7 17.9 4.2 34.3 6.1 50 6.1zm318.5-51.1c5 .8 9.5-3 9.5-8l0-42.6c0-4.4-3.6-8.1-8-7.5-25.2 3.1-45.9 20.9-53.2 44.6-1.4 4.7 2.3 9.1 7.2 9.2 14.2 .4 29 1.7 44.4 4.3zM448 152l0-39.9c0-3.6-2.5-6.8-6-7.7-17.9-4.2-34.3-6.1-50-6.1-4.4 0-7.9 3.8-7.2 8.1 4.6 27.8 27 49.5 55.2 53 4.4 .5 8-3.1 8-7.5zM125.2 162.9c1.4-4.7-2.3-9.1-7.2-9.2-14.2-.4-29-1.7-44.4-4.3-5-.8-9.5 3-9.5 8L64 200c0 4.4 3.6 8.1 8 7.5 25.2-3.1 45.9-20.9 53.2-44.6z"]},lh={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},RP={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 448l384 0c35.3 0 64-28.7 64-64l0-240c0-35.3-28.7-64-64-64L298.7 80c-6.9 0-13.7-2.2-19.2-6.4L241.1 44.8C230 36.5 216.5 32 202.7 32L64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64z"]},_K={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},DK={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M80 160c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-48 0c-17.7 0-32-14.3-32-32L0 192c0-17.7 14.3-32 32-32l48 0zM270.6 16C297.9 16 320 38.1 320 65.4l0 4.2c0 6.8-1.3 13.6-3.8 19.9L288 160 448 160c26.5 0 48 21.5 48 48 0 19.7-11.9 36.6-28.9 44 17 7.4 28.9 24.3 28.9 44 0 23.4-16.8 42.9-39 47.1 4.4 7.3 7 15.8 7 24.9 0 22.2-15 40.8-35.4 46.3 2.2 5.5 3.4 11.5 3.4 17.7 0 26.5-21.5 48-48 48l-87.9 0c-36.3 0-71.6-12.4-99.9-35.1L184 435.2c-15.2-12.1-24-30.5-24-50l0-186.6c0-14.9 3.5-29.6 10.1-42.9L226.3 43.3C234.7 26.6 251.8 16 270.6 16z"]},IK={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},LK={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},Ed=LK,iS={prefix:"fas",iconName:"shirt",icon:[640,512,[128085,"t-shirt","tshirt"],"f553","M320.2 112c44.2 0 80-35.8 80-80l53.5 0c17 0 33.3 6.7 45.3 18.7L617.6 169.4c12.5 12.5 12.5 32.8 0 45.3l-50.7 50.7c-12.5 12.5-32.8 12.5-45.3 0l-41.4-41.4 0 224c0 35.3-28.7 64-64 64l-192 0c-35.3 0-64-28.7-64-64l0-224-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0L22.9 214.6c-12.5-12.5-12.5-32.8 0-45.3L141.5 50.7c12-12 28.3-18.7 45.3-18.7l53.5 0c0 44.2 35.8 80 80 80z"]},Su={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"]},R3={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M128 0C110.3 0 96 14.3 96 32l0 32-32 0C28.7 64 0 92.7 0 128l0 48 448 0 0-48c0-35.3-28.7-64-64-64l-32 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32-128 0 0-32c0-17.7-14.3-32-32-32zM0 224L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192-448 0z"]},RK={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0-133.3 320 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0 133.3-320-64 0c-17.7 0-32-14.3-32-32z"]},yf={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]},lg={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]},Fb={prefix:"fas",iconName:"book-journal-whills",icon:[448,512,["journal-whills"],"f66a","M96 512l320 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-66.7c18.6-6.6 32-24.4 32-45.3l0-288c0-26.5-21.5-48-48-48L96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96zM64 416c0-17.7 14.3-32 32-32l256 0 0 64-256 0c-17.7 0-32-14.3-32-32zM274.1 99.2c2.6-2.6 6.7-3.1 9.9-1.1 32.1 20 53.4 55.6 53.4 96.2 0 62.6-50.7 113.3-113.3 113.3S110.7 256.9 110.7 194.3c0-40.6 21.4-76.2 53.4-96.2 3.1-2 7.2-1.5 9.9 1.1s3.1 6.7 1.2 9.8c-5.2 8.6-8.2 18.7-8.2 29.5 0 15.1 5.9 28.8 15.5 39.1 2.5 2.7 2.9 6.7 .9 9.7-4.7 7.4-7.4 16.1-7.4 25.5 0 21.6 14.3 39.9 34 45.9l1-24.8c-7.1-4.4-11.8-12.2-11.8-21.1 0-9.6 5.5-18 13.5-22.1l3.3-81.8c.2-4.3 3.7-7.7 8-7.7s7.8 3.4 8 7.7l3.3 81.8c8 4.1 13.5 12.4 13.5 22.1 0 8.9-4.7 16.7-11.8 21.1l1 24.8c19.6-6 33.9-24.1 34-45.6l0-.6c-.1-9.3-2.7-17.9-7.4-25.2-1.9-3.1-1.6-7.1 .9-9.7 9.6-10.2 15.5-23.9 15.5-39.1 0-10.8-3-20.9-8.2-29.5-1.9-3.2-1.4-7.2 1.2-9.8z"]},zi={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},aS={prefix:"fas",iconName:"ticket",icon:[576,512,[127903],"f145","M64 64C28.7 64 0 92.7 0 128l0 64C0 200.8 7.4 207.7 15.7 210.6 34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6-18.8-6.5-32.3-24.4-32.3-45.4s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zM416 336l0-160-256 0 0 160 256 0zM112 160c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32l0-192z"]},FK={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M0 72C0 58.8 10.7 48 24 48l48 0c13.3 0 24 10.7 24 24l0 104 24 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-80-24 0C10.7 96 0 85.3 0 72zM30.4 301.2C41.8 292.6 55.7 288 70 288l4.9 0c33.7 0 61.1 27.4 61.1 61.1 0 19.6-9.4 37.9-25.2 49.4l-24 17.5 33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-90.7 0C13.1 464 0 450.9 0 434.7 0 425.3 4.5 416.5 12.1 411l70.5-51.3c3.4-2.5 5.4-6.4 5.4-10.6 0-7.2-5.9-13.1-13.1-13.1L70 336c-3.9 0-7.7 1.3-10.8 3.6L38.4 355.2c-10.6 8-25.6 5.8-33.6-4.8S-1 324.8 9.6 316.8l20.8-15.6zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},FP={prefix:"fas",iconName:"arrow-right",icon:[512,512,[8594],"f061","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Dr={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},On=Dr,zK={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},eu=zK,VK={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},$K={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64L0 96zm0 48l576 0 0 272c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 144zM247.3 416c20.2 0 35.3-19.4 22.4-35-14.7-17.7-36.9-29-61.7-29l-64 0c-24.8 0-47 11.3-61.7 29-12.9 15.6 2.2 35 22.4 35l142.5 0zM176 312a56 56 0 1 0 0-112 56 56 0 1 0 0 112zM360 208c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z"]},BK={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},cg={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},HK={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},zP={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},ni={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},UK={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},oS=UK,WK={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},lo={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},qK={prefix:"fas",iconName:"underline",icon:[384,512,[],"f0cd","M0 32C0 14.3 14.3 0 32 0L96 0c17.7 0 32 14.3 32 32S113.7 64 96 64l0 160c0 53 43 96 96 96s96-43 96-96l0-160c-17.7 0-32-14.3-32-32S270.3 0 288 0l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 160c0 88.4-71.6 160-160 160S32 312.4 32 224L32 64C14.3 64 0 49.7 0 32zM0 480c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32z"]},co={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},ys=co,KK={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]},bf={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M369.4 128l-34.3-48-222.1 0-34.3 48 290.7 0zM0 148.5c0-13.3 4.2-26.3 11.9-37.2L60.9 42.8C72.9 26 92.3 16 112.9 16l222.1 0c20.7 0 40.1 10 52.1 26.8l48.9 68.5c7.8 10.9 11.9 23.9 11.9 37.2L448 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 148.5z"]},lS={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},cS={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z"]},zb={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},GK={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},Vb={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M200 48l112 0c4.4 0 8 3.6 8 8l0 40-128 0 0-40c0-4.4 3.6-8 8-8zm-56 8l0 40-80 0C28.7 96 0 124.7 0 160l0 96 512 0 0-96c0-35.3-28.7-64-64-64l-80 0 0-40c0-30.9-25.1-56-56-56L200 0c-30.9 0-56 25.1-56 56zM512 304l-192 0 0 16c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-16-192 0 0 112c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-112z"]},uS={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},Q1=uS,F3={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},YK={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M96.5 0c-35.3 0-64 28.7-64 64l0 384c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-96 78.1 0-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l72-72c9.4-9.4 9.4-24.6 0-33.9l-72-72c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-78.1 0 0-133.5c0-17-6.7-33.3-18.7-45.3L291.2 18.7C279.2 6.7 263 0 246 0L96.5 0zM358 176l-93.5 0c-13.3 0-24-10.7-24-24L240.5 58.5 358 176zM224.5 328c0-13.3 10.7-24 24-24l104 0 0 48-104 0c-13.3 0-24-10.7-24-24z"]},XK={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},QK={prefix:"fas",iconName:"cake-candles",icon:[448,512,[127874,"birthday-cake","cake"],"f1fd","M86.4-10.5L61.8 31.6C58 38.1 56 45.6 56 53.2L56 56c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L105.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zm128 0L189.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L233.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zM317.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L361.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5L317.8 31.6zM128 160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.5C26.7 226.6 0 262.2 0 304l0 20.8c20.9 1.3 41.6 7.3 60.3 18l7.1 4.1c26.3 15 58.9 13.4 83.6-4.2 43.7-31.2 102.3-31.2 146 0 24.6 17.6 57.3 19.3 83.6 4.2l7.1-4.1c18.7-10.7 39.3-16.7 60.3-18l0-20.8c0-41.8-26.7-77.4-64-90.5l0-53.5c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48zM448 373c-12.7 1.2-25.1 5-36.5 11.5l-7.1 4.1c-42.6 24.3-95.4 21.7-135.3-6.8-27-19.3-63.2-19.3-90.2 0-39.9 28.5-92.7 31.2-135.3 6.8l-7.1-4.1C25.1 378 12.7 374.1 0 373l0 75c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-75z"]},JK=QK,ZK={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},eG=ZK;function tG(){const[t,e]=A.useState(!1),[n,r]=A.useState({email:"",password:""}),[s,i]=A.useState(!1),[a,o]=A.useState(null),l=ut(),{login:u}=vu(),d=p=>{const{name:g,value:x}=p.target;r(v=>({...v,[g]:x}))},h=async p=>{p.preventDefault(),e(!0);try{await u(Ut.ADMIN,n.email,n.password),l("/dashboard")}catch(g){g.response?.data?.message?o(g.response.data.message):g.response?.status===401?o("Email hoc mt khu khng ng!"):g.code==="ECONNABORTED"?o("Timeout! Vui lng th li."):o("C li xy ra, vui lng th li!")}finally{e(!1)}};return c.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-2xl rounded-2xl p-[2.5rem] border-t-4 border-blue-500",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-white text-4xl",children:""})}),c.jsx("h2",{className:"text-[2.2rem] font-bold text-slate-800 mb-2",children:"Qun Tr Vin"}),c.jsx("p",{className:"text-slate-600 mb-4",children:"Admin & Staff Portal"}),c.jsx("div",{className:"px-4 py-3 bg-amber-50 border border-amber-200 rounded-lg",children:c.jsxs("p",{className:"text-[1.2rem] text-amber-700 flex items-center justify-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Khu vc hn ch - Khng chia s thng tin ng nhp"]})})]}),c.jsxs("form",{onSubmit:h,className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",name:"email",placeholder:"admin@company.com",value:n.email,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>o(null),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",name:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>o(null),required:!0}),c.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{i(!s)},children:s?c.jsx($,{icon:sa,className:"text-gray-600"}):c.jsx($,{icon:lS,className:"text-gray-600"})})]})]}),a&&c.jsx("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded",children:c.jsx("p",{className:"text-sm text-red-700 font-medium",children:a})}),c.jsx("button",{className:`w-full py-3 rounded-lg text-white font-semibold transition-all mt-[1.8rem] ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,type:"submit",disabled:t,children:t?"ang xc thc...":"ng nhp qun tr"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx(Ht,{to:"/",className:"text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Lin h IT Support"})})]})})}function yo(){return c.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 flex items-center justify-center bg-[#4a4a4a52] z-[999]",children:c.jsxs("div",{className:" flex justify-center items-center space-x-2 p-4",children:[c.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full"}),c.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.1s"}}),c.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.2s"}})]})})}function nG(){const[t,e]=A.useState(!1),[n,r]=A.useState({email:"",password:""}),[s,i]=A.useState(null),a=ut(),l=rr().state?.from||"/",{login:u}=vu(),[d,h]=A.useState(!1),[p,g]=A.useState(!1),[x,v]=A.useState(!1),b=C=>{const{name:T,value:j}=C.target;r(E=>({...E,[T]:j}))},w=async()=>{try{if(x){const C=JSON.parse(localStorage.getItem("localCart")||"[]");C.length>0&&(await Se.post("/api/v1/cart/merge",{localItems:C})).status&&(ue.success(" gp gi hng ca bn!"),localStorage.removeItem("localCart"))}l==="/checkout"?a("/cart/detail",{replace:!0}):a(l,{replace:!0})}catch{ue.error("Li khi gp gi hng!"),a(l,{replace:!0})}},N=async C=>{C.preventDefault(),e(!0),i(null);try{await u(Ut.USER,n.email,n.password),await w()}catch(T){if(T.message?.includes(Ut.ADMIN||Ut.STAFF)){g(!0);return}i(T?.message||"ng nhp tht bi!")}finally{e(!1)}};return c.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[c.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),c.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng nhp"}),c.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem]",children:"Cho mng bn tr li! "})]}),c.jsxs("form",{onSubmit:N,className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",name:"email",id:"email",placeholder:"your@email.com",value:n.email,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:b,onFocus:()=>i(null),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:d?"text":"password",name:"password",id:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:b,onFocus:()=>i(null),required:!0}),c.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{h(!d)},children:d?c.jsx($,{icon:sa,className:"text-gray-600"}):c.jsx($,{icon:lS,className:"text-gray-600"})})]})]}),s&&c.jsx("p",{className:"text-[1.4rem] text-red-600",children:s}),c.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[c.jsx("label",{htmlFor:"mergeCart",children:"Gp gi hng khi ang nhp"}),c.jsx("input",{type:"checkbox",id:"mergeCart",name:"mergeCart",checked:x,className:"",style:{scale:1.2},onChange:C=>v(C.target.checked)})]}),c.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:t,children:t?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng nhp"})]}),c.jsxs("div",{className:"mt-6 space-y-3 text-center ",children:[c.jsx(Ht,{to:"/",className:"block text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Qun mt khu?"}),c.jsx("div",{className:"pt-4 border-t border-gray-200",children:c.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Cha c ti khon?"," ",c.jsx(Ht,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng k ngay"})]})})]})]}),p&&c.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:""})}),c.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>a("/admin/login"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),c.jsx("button",{onClick:()=>g(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),t&&c.jsx(yo,{})]})}function rG(){return c.jsx("div",{children:"AboutPage"})}function sG(){return c.jsx("div",{className:"overflow-hidden",children:c.jsx(Fl,{})})}const VP="/manage-sell-client/assets/avatar-default-zyCK33tM.png";function iG(){const{user:t}=Wt(),{logout:e}=vu(),n=ut(),[r,s]=A.useState(!1),i=A.useRef(null),a=async()=>{e(),n("/")};return A.useEffect(()=>{function o(l){i.current&&!i.current.contains(l.target)&&s(!1)}return r&&window.addEventListener("mousedown",o),()=>{window.removeEventListener("mousedown",o)}},[r]),c.jsxs("header",{className:"fixed w-full h-[6rem] bg-white backdrop-blur-md bg-opacity-95 flex items-center justify-between px-[2rem] shadow-lg border-b border-gray-200 z-50",children:[c.jsxs("div",{className:"flex items-center gap-[1rem]",children:[c.jsx("h1",{className:"text-[2.4rem] font-bold bg-gradient-to-r from-amber-600 to-amber-800 bg-clip-text text-transparent",children:"NTK."}),c.jsx("div",{className:"h-[3rem] w-[0.2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),c.jsx("span",{className:"text-[1.4rem] text-gray-600 font-medium",children:"Admin Dashboard"})]}),c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"relative w-[36rem] h-[4rem] border-2 border-gray-300 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-200 focus-within:border-amber-500 focus-within:shadow-lg",children:[c.jsx("input",{type:"text",placeholder:"Tm kim sn phm, n hng, khch hng...",className:"text-[1.4rem] pl-[2rem] pr-[6rem] w-full h-full outline-none border-none bg-gray-50 focus:bg-white transition-colors"}),c.jsx("button",{className:"w-[4rem] h-[4rem] absolute right-0 top-0 rounded-2xl border-none bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 transition-all duration-200 flex items-center justify-center text-white shadow-lg hover:shadow-xl",type:"submit",children:c.jsx($,{icon:ms,className:"text-[1.6rem]"})})]})}),c.jsxs("div",{className:"relative flex items-center gap-[2rem]",ref:i,children:[c.jsxs("button",{className:"flex items-center gap-[1.2rem] p-[0.8rem] rounded-xl transition-all duration-200 group cursor-pointer",onClick:()=>s(!r),children:[c.jsx("img",{src:t?.avatar??VP,alt:"Admin Avatar",className:"h-[4.8rem] w-[4.8rem] rounded-[50%] border border-amber-300 shadow-lg group-hover:border-amber-400 transition-all duration-200"}),c.jsxs("div",{className:"hidden md:block text-left",children:[c.jsx("div",{className:"font-bold text-[1.4rem] text-gray-800",children:t?.username}),c.jsx("div",{className:"text-[1.2rem] text-amber-600 font-medium",children:t?.role===Ut.ADMIN?"Super Admin":"Manager"})]}),c.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover:text-amber-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&c.jsxs("div",{className:"absolute right-0 top-[105%] w-[18rem] bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden animate-fadeIn z-10",children:[c.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-amber-50 hover:text-amber-700 transition-colors",onClick:()=>{n("/dashboard/profile"),s(!1)},children:"Trang c nhn"}),c.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors",onClick:a,children:"ng xut"})]})]})]})}const $b=[{id:1,label:"Dashboard",path:""},{id:2,label:"Sn phm",path:"products",children:[{id:21,label:"Sn phm",path:"products"},{id:22,label:"Danh mc",path:"categories"}]},{id:5,label:"n hng",path:"orders",children:[{id:23,label:"Danh sch n hng",path:"orders/list-order"}]},{id:6,label:"Nhn vin",path:"staff"},{id:7,label:"Khch hng thnh vin",path:"customers"},{id:8,label:"Khch vng lai",path:"guest-customers"},{id:9,label:"Gim gi",path:"discount"},{id:10,label:"Banner",path:"banner-slide"},{id:11,label:"C nhn",path:"profile"},{id:12,label:"Ci t",path:"setting"}];function aG(){const[t,e]=A.useState(()=>{const i=sessionStorage.getItem("sidebarSelected");return i?JSON.parse(i):{id:1,subId:void 0}}),n=i=>{if(i.children){const a={id:t?.id===i.id?null:i.id};e(a),sessionStorage.setItem("sidebarSelected",JSON.stringify(a))}else{const a={id:i.id};e(a),sessionStorage.setItem("sidebarSelected",JSON.stringify(a)),r(`/dashboard/${i.path}`)}},r=ut();if($b.length==0)return null;const s=(i,a)=>{const o={id:i,subId:a.id};e(o),sessionStorage.setItem("sidebarSelected",JSON.stringify(o)),r(`/dashboard/${a.path}`)};return $b.length===0?null:c.jsxs("aside",{className:"fixed top-[6rem] left-0 w-[15%] h-[calc(100vh-6rem)] bg-white shadow-xl overflow-auto hide-scrollbar border-r border-gray-200",children:[c.jsx("div",{className:"p-[2rem] border-b border-gray-100",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 px-[2rem] py-[1.2rem] rounded-xl text-center shadow-lg",children:c.jsx("h3",{className:"text-white font-bold text-[1.6rem]",children:" Admin Panel"})})}),c.jsxs("nav",{className:"p-[1.6rem]",children:[c.jsx("div",{className:"space-y-[0.8rem]",children:$b.map((i,a)=>c.jsxs("div",{children:[c.jsx("button",{className:`w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-100 group ${t?.id===i.id?"bg-gradient-to-r from-blue-100 to-blue-50 text-amber-900 shadow-md border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"}`,onClick:()=>n(i),children:c.jsxs("div",{className:"w-full flex items-center justify-between",children:[c.jsx("span",{className:"font-medium text-[1.4rem]",children:i.label}),i?.children&&c.jsx($,{icon:t?.id===i.id?GK:cg})]})}),c.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${t?.id===i.id?"max-h-[20rem] pb-2":"max-h-0"}`,children:i?.children?.map(o=>c.jsx("div",{className:"pl-[1rem] pt-4",children:c.jsx("button",{onClick:()=>s(i.id,o),className:`w-full text-left text-[1.4rem] ${t.subId===o.id?"bg-gray-100 text-gray-900 shadow-sm":""} text-gray-600 px-[1rem] py-[1.2rem] rounded-lg hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm`,children:o.label},o.id)},o.id))})]},a))}),c.jsx("div",{className:"mt-[3rem] pt-[2rem] border-t border-gray-200",children:c.jsxs("button",{className:"w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-200 text-red-600 hover:bg-red-50 hover:text-red-700 group",children:[c.jsx("div",{className:"w-[3.2rem] h-[3.2rem] rounded-lg flex items-center justify-center transition-all duration-200 bg-red-100 text-red-500 group-hover:bg-red-200",children:c.jsx($,{icon:Ed,className:"text-[1.4rem]"})}),c.jsx("span",{className:"font-medium text-[1.4rem]",children:"ng xut"})]})})]})]})}function oG(){return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br",children:[c.jsx(iG,{}),c.jsxs("div",{className:"flex",children:[c.jsx(aG,{}),c.jsx("main",{className:"flex-1 ml-[15%] p-[2rem] mt-[6rem]",children:c.jsx(Fl,{})})]})]})}const lG=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await Se.get("/api/v1/orders/dashboard-overview",{params:e})).data},cG=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await Se.get("/api/v1/orders/dashboard-statistics",{params:e})).data};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ch(t){return t+.5|0}const Ha=(t,e,n)=>Math.max(Math.min(t,n),e);function Md(t){return Ha(ch(t*2.55),0,255)}function Za(t){return Ha(ch(t*255),0,255)}function $i(t){return Ha(ch(t/2.55)/100,0,1)}function z3(t){return Ha(ch(t*100),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},J1=[..."0123456789ABCDEF"],uG=t=>J1[t&15],dG=t=>J1[(t&240)>>4]+J1[t&15],Im=t=>(t&240)>>4===(t&15),fG=t=>Im(t.r)&&Im(t.g)&&Im(t.b)&&Im(t.a);function hG(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ss[t[1]]*17,g:255&ss[t[2]]*17,b:255&ss[t[3]]*17,a:e===5?ss[t[4]]*17:255}:(e===7||e===9)&&(n={r:ss[t[1]]<<4|ss[t[2]],g:ss[t[3]]<<4|ss[t[4]],b:ss[t[5]]<<4|ss[t[6]],a:e===9?ss[t[7]]<<4|ss[t[8]]:255})),n}const mG=(t,e)=>t<255?e(t):"";function pG(t){var e=fG(t)?uG:dG;return t?"#"+e(t.r)+e(t.g)+e(t.b)+mG(t.a,e):void 0}const gG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $P(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function xG(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function yG(t,e,n){const r=$P(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function bG(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function dS(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),o=(i+a)/2;let l,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),l=bG(n,r,s,d,i),l=l*60+.5),[l|0,u||0,o]}function fS(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Za)}function hS(t,e,n){return fS($P,t,e,n)}function vG(t,e,n){return fS(yG,t,e,n)}function wG(t,e,n){return fS(xG,t,e,n)}function BP(t){return(t%360+360)%360}function SG(t){const e=gG.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Md(+e[5]):Za(+e[5]));const s=BP(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=vG(s,i,a):e[1]==="hsv"?r=wG(s,i,a):r=hS(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function NG(t,e){var n=dS(t);n[0]=BP(n[0]+e),n=hS(n),t.r=n[0],t.g=n[1],t.b=n[2]}function CG(t){if(!t)return;const e=dS(t),n=e[0],r=z3(e[1]),s=z3(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${$i(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const V3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jG(){const t={},e=Object.keys($3),n=Object.keys(V3);let r,s,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,V3[i]);i=parseInt($3[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let Lm;function kG(t){Lm||(Lm=jG(),Lm.transparent=[0,0,0,0]);const e=Lm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const TG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function EG(t){const e=TG.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Md(a):Ha(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Md(r):Ha(r,0,255)),s=255&(e[4]?Md(s):Ha(s,0,255)),i=255&(e[6]?Md(i):Ha(i,0,255)),{r,g:s,b:i,a:n}}}function MG(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$i(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Bb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,wc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function AG(t,e,n){const r=wc($i(t.r)),s=wc($i(t.g)),i=wc($i(t.b));return{r:Za(Bb(r+n*(wc($i(e.r))-r))),g:Za(Bb(s+n*(wc($i(e.g))-s))),b:Za(Bb(i+n*(wc($i(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Rm(t,e,n){if(t){let r=dS(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=hS(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function HP(t,e){return t&&Object.assign(e||{},t)}function B3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Za(t[3]))):(e=HP(t,{r:0,g:0,b:0,a:1}),e.a=Za(e.a)),e}function OG(t){return t.charAt(0)==="r"?EG(t):SG(t)}let UP=class Z1{constructor(e){if(e instanceof Z1)return e;const n=typeof e;let r;n==="object"?r=B3(e):n==="string"&&(r=hG(e)||kG(e)||OG(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=HP(this._rgb);return e&&(e.a=$i(e.a)),e}set rgb(e){this._rgb=B3(e)}rgbString(){return this._valid?MG(this._rgb):void 0}hexString(){return this._valid?pG(this._rgb):void 0}hslString(){return this._valid?CG(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=r.a-s.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=AG(this._rgb,e._rgb,n)),this}clone(){return new Z1(this.rgb)}alpha(e){return this._rgb.a=Za(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ch(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rm(this._rgb,2,e),this}darken(e){return Rm(this._rgb,2,-e),this}saturate(e){return Rm(this._rgb,1,e),this}desaturate(e){return Rm(this._rgb,1,-e),this}rotate(e){return NG(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ei(){}const PG=(()=>{let t=0;return()=>t++})();function at(t){return t==null}function Lt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ot(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function zr(t,e){return Zt(t)?t:e}function Ze(t,e){return typeof t>"u"?e:t}const _G=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,WP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function jt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function vt(t,e,n,r){let s,i,a;if(Lt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ot(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function ug(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function dg(t){if(Lt(t))return t.map(dg);if(ot(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=dg(t[n[s]]);return e}return t}function qP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function DG(t,e,n,r){if(!qP(t))return;const s=e[t],i=n[t];ot(s)&&ot(i)?vf(s,i,r):e[t]=dg(i)}function vf(t,e,n){const r=Lt(e)?e:[e],s=r.length;if(!ot(t))return t;n=n||{};const i=n.merger||DG;let a;for(let o=0;o<s;++o){if(a=r[o],!ot(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)i(l[u],t,a,n)}return t}function Bd(t,e){return vf(t,e,{merger:IG})}function IG(t,e,n){if(!qP(t))return;const r=e[t],s=n[t];ot(r)&&ot(s)?Bd(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=dg(s))}const H3={"":t=>t,x:t=>t.x,y:t=>t.y};function LG(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function RG(t){const e=LG(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function uo(t,e){return(H3[e]||(H3[e]=RG(e)))(t)}function mS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wf=t=>typeof t<"u",fo=t=>typeof t=="function",U3=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function FG(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ft=Math.PI,_t=2*ft,zG=_t+ft,fg=Number.POSITIVE_INFINITY,VG=ft/180,an=ft/2,zo=ft/4,W3=ft*2/3,Ua=Math.log10,ai=Math.sign;function Hd(t,e,n){return Math.abs(t-e)<n}function q3(t){const e=Math.round(t);t=Hd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ua(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function $G(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function BG(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function tu(t){return!BG(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function HG(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function KP(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Ps(t){return t*(ft/180)}function pS(t){return t*(180/ft)}function K3(t){if(!Zt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function GP(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ft&&(i+=_t),{angle:i,distance:s}}function e2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function UG(t,e){return(t-e+zG)%_t-ft}function Xn(t){return(t%_t+_t)%_t}function Sf(t,e,n,r){const s=Xn(t),i=Xn(e),a=Xn(n),o=Xn(i-s),l=Xn(a-s),u=Xn(s-i),d=Xn(s-a);return s===i||s===a||r&&i===a||o>l&&u<d}function kn(t,e,n){return Math.max(e,Math.min(n,t))}function WG(t){return kn(t,-32768,32767)}function Hi(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function gS(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Ui=(t,e,n,r)=>gS(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),qG=(t,e,n)=>gS(t,n,r=>t[r][e]>=n);function KG(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const YP=["push","pop","shift","splice","unshift"];function GG(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),YP.forEach(n=>{const r="_onData"+mS(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function G3(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(YP.forEach(i=>{delete t[i]}),delete t._chartjs)}function XP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const QP=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function JP(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,QP.call(window,()=>{r=!1,t.apply(e,n)}))}}function YG(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const xS=t=>t==="start"?"left":t==="end"?"right":"center",Gn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,XG=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function ZP(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:h,max:p,minDefined:g,maxDefined:x}=a.getUserBounds();if(g){if(s=Math.min(Ui(l,d,h).lo,n?r:Ui(e,d,a.getPixelForValue(h)).lo),u){const v=l.slice(0,s+1).reverse().findIndex(b=>!at(b[o.axis]));s-=Math.max(0,v)}s=kn(s,0,r-1)}if(x){let v=Math.max(Ui(l,a.axis,p,!0).hi+1,n?0:Ui(e,d,a.getPixelForValue(p),!0).hi+1);if(u){const b=l.slice(v-1).findIndex(w=>!at(w[o.axis]));v+=Math.max(0,b)}i=kn(v,s,r)-s}else i=r-s}return{start:s,count:i}}function e_(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Fm=t=>t===0||t===1,Y3=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*_t/n)),X3=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*_t/n)+1,Ud={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*an)+1,easeOutSine:t=>Math.sin(t*an),easeInOutSine:t=>-.5*(Math.cos(ft*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Fm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Fm(t)?t:Y3(t,.075,.3),easeOutElastic:t=>Fm(t)?t:X3(t,.075,.3),easeInOutElastic(t){return Fm(t)?t:t<.5?.5*Y3(t*2,.1125,.45):.5+.5*X3(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ud.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ud.easeInBounce(t*2)*.5:Ud.easeOutBounce(t*2-1)*.5+.5};function yS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Q3(t){return yS(t)?t:new UP(t)}function Hb(t){return yS(t)?t:new UP(t).saturate(.5).darken(.1).hexString()}const QG=["x","y","borderWidth","radius","tension"],JG=["color","borderColor","backgroundColor"];function ZG(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:JG},numbers:{type:"number",properties:QG}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function eY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const J3=new Map;function tY(t,e){e=e||{};const n=t+JSON.stringify(e);let r=J3.get(n);return r||(r=new Intl.NumberFormat(t,e),J3.set(n,r)),r}function uh(t,e,n){return tY(e,n).format(t)}const t_={values(t){return Lt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=nY(t,n)}const a=Ua(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),uh(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Ua(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?t_.numeric.call(this,t,e,n):""}};function nY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var G0={formatters:t_};function rY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:G0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const kl=Object.create(null),t2=Object.create(null);function Wd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Ub(t,e,n){return typeof e=="string"?vf(Wd(t,e),n):vf(Wd(t,""),e)}class sY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Hb(s.backgroundColor),this.hoverBorderColor=(r,s)=>Hb(s.borderColor),this.hoverColor=(r,s)=>Hb(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ub(this,e,n)}get(e){return Wd(this,e)}describe(e,n){return Ub(t2,e,n)}override(e,n){return Ub(kl,e,n)}route(e,n,r,s){const i=Wd(this,e),a=Wd(this,r),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[s];return ot(l)?Object.assign({},u,l):Ze(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Rt=new sY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZG,eY,rY]);function iY(t){return!t||at(t.size)||at(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function hg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function aY(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,u,d,h,p;for(l=0;l<o;l++)if(h=n[l],h!=null&&!Lt(h))a=hg(t,s,i,a,h);else if(Lt(h))for(u=0,d=h.length;u<d;u++)p=h[u],p!=null&&!Lt(p)&&(a=hg(t,s,i,a,p));t.restore();const g=i.length/2;if(g>n.length){for(l=0;l<g;l++)delete s[i[l]];i.splice(0,g)}return a}function Vo(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Z3(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function n2(t,e,n,r){n_(t,e,n,r,null)}function n_(t,e,n,r,s){let i,a,o,l,u,d,h,p;const g=e.pointStyle,x=e.rotation,v=e.radius;let b=(x||0)*VG;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,r,s/2,v,0,0,_t):t.arc(n,r,v,0,_t),t.closePath();break;case"triangle":d=s?s/2:v,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=W3,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=W3,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),t.closePath();break;case"rectRounded":u=v*.516,l=v-u,a=Math.cos(b+zo)*l,h=Math.cos(b+zo)*(s?s/2-u:l),o=Math.sin(b+zo)*l,p=Math.sin(b+zo)*(s?s/2-u:l),t.arc(n-h,r-o,u,b-ft,b-an),t.arc(n+p,r-a,u,b-an,b),t.arc(n+h,r+o,u,b,b+an),t.arc(n-p,r+a,u,b+an,b+ft),t.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*v,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}b+=zo;case"rectRot":h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+p,r-a),t.lineTo(n+h,r+o),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":b+=zo;case"cross":h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),b+=zo,h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=s?s/2:Math.cos(b)*v,o=Math.sin(b)*v,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:v),r+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Wi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Y0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function X0(t){t.restore()}function oY(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function lY(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function cY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),at(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function uY(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function dY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Tl(t,e,n,r,s,i={}){const a=Lt(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,cY(t,i),l=0;l<a.length;++l)u=a[l],i.backdrop&&dY(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),at(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),uY(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function Nf(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ft,ft,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ft,an,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,an,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-an,!0),t.lineTo(n+a.topLeft,r)}const fY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mY(t,e){const n=(""+t).match(fY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const pY=t=>+t||0;function bS(t,e){const n={},r=ot(e),s=r?Object.keys(e):e,i=ot(t)?r?a=>Ze(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=pY(i(a));return n}function r_(t){return bS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ul(t){return bS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function er(t){const e=r_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vn(t,e){t=t||{},e=e||Rt.font;let n=Ze(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ze(t.style,e.style);r&&!(""+r).match(hY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ze(t.family,e.family),lineHeight:mY(Ze(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ze(t.weight,e.weight),string:""};return s.string=iY(s),s}function Ad(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function gY(t,e,n){const{min:r,max:s}=t,i=WP(e,(s-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function bo(t,e){return Object.assign(Object.create(t),e)}function vS(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=o_("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:o=>vS([o,...t],e,i,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return i_(o,l,()=>CY(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return tT(o).includes(l)},ownKeys(o){return tT(o)},set(o,l,u){const d=o._storage||(o._storage=s());return o[l]=d[l]=u,delete o._keys,!0}})}function nu(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:s_(t,r),setContext:i=>nu(t,i,n,r),override:i=>nu(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return i_(i,a,()=>yY(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function s_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:fo(n)?n:()=>n,isIndexable:fo(r)?r:()=>r}}const xY=(t,e)=>t?t+mS(e):e,wS=(t,e)=>ot(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function i_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function yY(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let o=r[e];return fo(o)&&a.isScriptable(e)&&(o=bY(e,o,t,n)),Lt(o)&&o.length&&(o=vY(e,o,t,a.isIndexable)),wS(e,o)&&(o=nu(o,s,i&&i[e],a)),o}function bY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,a||r);return o.delete(t),wS(t,l)&&(l=SS(s._scopes,s,t,l)),l}function vY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ot(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=SS(u,s,t,d);e.push(nu(h,i,a&&a[t],o))}}return e}function a_(t,e,n){return fo(t)?t(e,n):t}const wY=(t,e)=>t===!0?e:typeof t=="string"?uo(e,t):void 0;function SY(t,e,n,r,s){for(const i of e){const a=wY(n,i);if(a){t.add(a);const o=a_(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function SS(t,e,n,r){const s=e._rootScopes,i=a_(e._fallback,n,r),a=[...t,...s],o=new Set;o.add(r);let l=eT(o,a,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=eT(o,a,i,l,r),l===null)?!1:vS(Array.from(o),[""],s,i,()=>NY(e,n,r))}function eT(t,e,n,r,s){for(;n;)n=SY(t,e,n,r,s);return n}function NY(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Lt(s)&&ot(n)?n:s||{}}function CY(t,e,n,r){let s;for(const i of e)if(s=o_(xY(i,t),n),typeof s<"u")return wS(t,s)?SS(n,r,t,s):s}function o_(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function tT(t){let e=t._keys;return e||(e=t._keys=jY(t._scopes)),e}function jY(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function l_(t,e,n,r){const{iScale:s}=t,{key:i="r"}=this._parsing,a=new Array(r);let o,l,u,d;for(o=0,l=r;o<l;++o)u=o+n,d=e[u],a[o]={r:s.parse(uo(d,i),u)};return a}const kY=Number.EPSILON||1e-14,ru=(t,e)=>e<t.length&&!t[e].skip&&t[e],c_=t=>t==="x"?"y":"x";function TY(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,o=e2(i,s),l=e2(a,i);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=r*u,p=r*d;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+p*(a.x-s.x),y:i.y+p*(a.y-s.y)}}}function EY(t,e,n){const r=t.length;let s,i,a,o,l,u=ru(t,0);for(let d=0;d<r-1;++d)if(l=u,u=ru(t,d+1),!(!l||!u)){if(Hd(e[d],0,kY)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function MY(t,e,n="x"){const r=c_(n),s=t.length;let i,a,o,l=ru(t,0);for(let u=0;u<s;++u){if(a=o,o=l,l=ru(t,u+1),!o)continue;const d=o[n],h=o[r];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${r}`]=h-i*e[u]),l&&(i=(l[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${r}`]=h+i*e[u])}}function AY(t,e="x"){const n=c_(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,o,l,u=ru(t,0);for(a=0;a<r;++a)if(o=l,l=u,u=ru(t,a+1),!!l){if(u){const d=u[e]-l[e];s[a]=d!==0?(u[n]-l[n])/d:0}i[a]=o?u?ai(s[a-1])!==ai(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}EY(t,s,i),MY(t,i,e)}function zm(t,e,n){return Math.max(Math.min(t,n),e)}function OY(t,e){let n,r,s,i,a,o=Wi(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=o,o=n<r-1&&Wi(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=zm(s.cp1x,e.left,e.right),s.cp1y=zm(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=zm(s.cp2x,e.left,e.right),s.cp2y=zm(s.cp2y,e.top,e.bottom)))}function PY(t,e,n,r,s){let i,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")AY(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=TY(u,o,t[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&OY(t,n)}function NS(){return typeof window<"u"&&typeof document<"u"}function CS(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function mg(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Q0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function _Y(t,e){return Q0(t).getPropertyValue(e)}const DY=["top","right","bottom","left"];function dl(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=DY[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const IY=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function LY(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,o,l;if(IY(s,i,t.target))o=s,l=i;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function Wo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Q0(n),i=s.boxSizing==="border-box",a=dl(s,"padding"),o=dl(s,"border","width"),{x:l,y:u,box:d}=LY(t,n),h=a.left+(d&&o.left),p=a.top+(d&&o.top);let{width:g,height:x}=e;return i&&(g-=a.width+o.width,x-=a.height+o.height),{x:Math.round((l-h)/g*n.width/r),y:Math.round((u-p)/x*n.height/r)}}function RY(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&CS(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=Q0(i),l=dl(o,"border","width"),u=dl(o,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,r=mg(o.maxWidth,i,"clientWidth"),s=mg(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||fg,maxHeight:s||fg}}const Wa=t=>Math.round(t*10)/10;function FY(t,e,n,r){const s=Q0(t),i=dl(s,"margin"),a=mg(s.maxWidth,t,"clientWidth")||fg,o=mg(s.maxHeight,t,"clientHeight")||fg,l=RY(t,e,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const p=dl(s,"border","width"),g=dl(s,"padding");u-=g.width+p.width,d-=g.height+p.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Wa(Math.min(u,a,l.maxWidth)),d=Wa(Math.min(d,o,l.maxHeight)),u&&!d&&(d=Wa(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=Wa(Math.floor(d*r))),{width:u,height:d}}function nT(t,e,n){const r=e||1,s=Wa(t.height*r),i=Wa(t.width*r);t.height=Wa(t.height),t.width=Wa(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const zY=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};NS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function rT(t,e){const n=_Y(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function qo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function VY(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function $Y(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=qo(t,s,n),o=qo(s,i,n),l=qo(i,e,n),u=qo(a,o,n),d=qo(o,l,n);return qo(u,d,n)}const BY=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},HY=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Uc(t,e,n){return t?BY(e,n):HY()}function u_(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function d_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function f_(t){return t==="angle"?{between:Sf,compare:UG,normalize:Xn}:{between:Hi,compare:(e,n)=>e-n,normalize:e=>e}}function sT({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function UY(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=f_(r),l=e.length;let{start:u,end:d,loop:h}=t,p,g;if(h){for(u+=l,d+=l,p=0,g=l;p<g&&a(o(e[u%l][r]),s,i);++p)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:h,style:t.style}}function h_(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:o,between:l,normalize:u}=f_(r),{start:d,end:h,loop:p,style:g}=UY(t,e,n),x=[];let v=!1,b=null,w,N,C;const T=()=>l(s,C,w)&&o(s,C)!==0,j=()=>o(i,w)===0||l(i,C,w),E=()=>v||T(),O=()=>!v||j();for(let M=d,_=d;M<=h;++M)N=e[M%a],!N.skip&&(w=u(N[r]),w!==C&&(v=l(w,s,i),b===null&&E()&&(b=o(w,s)===0?M:_),b!==null&&O()&&(x.push(sT({start:b,end:M,loop:p,count:a,style:g})),b=null),_=M,C=w));return b!==null&&x.push(sT({start:b,end:h,loop:p,count:a,style:g})),x}function m_(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=h_(r[s],t.points,e);i.length&&n.push(...i)}return n}function WY(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function qY(t,e,n,r){const s=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?o.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function KY(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=WY(n,s,i,r);if(r===!0)return iT(t,[{start:a,end:o,loop:i}],n,e);const l=o<a?o+s:o,u=!!t._fullLoop&&a===0&&o===s-1;return iT(t,qY(n,a,l,u),n,e)}function iT(t,e,n,r){return!r||!r.setContext||!n?e:GY(t,e,n,r)}function GY(t,e,n,r){const s=t._chart.getContext(),i=aT(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,u=[];let d=i,h=e[0].start,p=h;function g(x,v,b,w){const N=o?-1:1;if(x!==v){for(x+=l;n[x%l].skip;)x-=N;for(;n[v%l].skip;)v+=N;x%l!==v%l&&(u.push({start:x%l,end:v%l,loop:b,style:w}),d=w,h=v%l)}}for(const x of e){h=o?h:x.start;let v=n[h%l],b;for(p=h+1;p<=x.end;p++){const w=n[p%l];b=aT(r.setContext(bo(s,{type:"segment",p0:v,p1:w,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),YY(b,d)&&g(h,p-1,x.loop,d),v=w,d=b}h<p-1&&g(h,p-1,x.loop,d)}return u}function aT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function YY(t,e){if(!e)return!1;const n=[],r=function(s,i){return yS(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Vm(t,e,n){return t.options.clip?t[n]:e[n]}function XY(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Vm(n,e,"left"),right:Vm(n,e,"right"),top:Vm(r,e,"top"),bottom:Vm(r,e,"bottom")}:e}function p_(t,e){const n=e._clip;if(n.disabled)return!1;const r=XY(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class QY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=QP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Di=new QY;const oT="transparent",JY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Q3(t||oT),s=r.valid&&Q3(e||oT);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class ZY{constructor(e,n,r,s){const i=n[r];s=Ad([e.to,s,i,e.from]);const a=Ad([e.from,i,s]);this._active=!0,this._fn=e.fn||JY[e.type||typeof a],this._easing=Ud[e.easing]||Ud.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ad([e.to,n,s,e.from]),this._from=Ad([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<r),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class g_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ot(e))return;const n=Object.keys(Rt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ot(i))return;const a={};for(const o of n)a[o]=i[o];(Lt(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,s=tX(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&eX(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let h=i[u];const p=r.get(u);if(h)if(p&&h.active()){h.update(p,d,o);continue}else h.cancel();if(!p||!p.duration){e[u]=d;continue}i[u]=h=new ZY(p,e,u,d),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Di.add(this._chart,r),!0}}function eX(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function tX(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function lT(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function nX(t,e,n){if(n===!1)return!1;const r=lT(t,n),s=lT(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function rX(t){let e,n,r,s;return ot(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function x_(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function cT(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(d=!0,r.all)continue;break}u=t.values[l],Zt(u)&&(i||e===0||ai(e)===ai(u))&&(e+=u)}return!d&&!r.all?0:e}function sX(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[s]:d,[i]:t[d]};return o}function Wb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function iX(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function aX(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function oX(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function uT(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function dT(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,u=a.axis,d=iX(i,a,r),h=e.length;let p;for(let g=0;g<h;++g){const x=e[g],{[l]:v,[u]:b}=x,w=x._stacks||(x._stacks={});p=w[u]=oX(s,d,v),p[o]=b,p._top=uT(p,a,!0,r.type),p._bottom=uT(p,a,!1,r.type);const N=p._visualValues||(p._visualValues={});N[o]=b}}function qb(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function lX(t,e){return bo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function cX(t,e,n){return bo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function md(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Kb=t=>t==="reset"||t==="none",fT=(t,e)=>e?t:Object.assign({},t),uX=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:x_(n,!0),values:null};class vo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&md(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,p,g,x)=>h==="x"?p:h==="r"?x:g,i=n.xAxisID=Ze(r.xAxisID,qb(e,"x")),a=n.yAxisID=Ze(r.yAxisID,qb(e,"y")),o=n.rAxisID=Ze(r.rAxisID,qb(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,a,o),d=n.vAxisID=s(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&G3(this._data,this),e._stacked&&md(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ot(n)){const s=this._cachedMeta;this._data=sX(n,s)}else if(r!==n){if(r){G3(r,this);const s=this._cachedMeta;md(s),s._parsed=[]}n&&Object.isExtensible(n)&&GG(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Wb(n.vScale,n),n.stack!==r.stack&&(s=!0,md(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(dT(this,n._parsed),n._stacked=Wb(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,o=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,h,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{Lt(s[e])?p=this.parseArrayData(r,s,e,n):ot(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const g=()=>h[o]===null||u&&h[o]<u[o];for(d=0;d<n;++d)r._parsed[d+e]=h=p[d],l&&(g()&&(l=!1),u=h);r._sorted=l}a&&dT(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,u=i.getLabels(),d=i===a,h=new Array(s);let p,g,x;for(p=0,g=s;p<g;++p)x=p+r,h[p]={[o]:d||i.parse(u[x],x),[l]:a.parse(n[x],x)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,o=new Array(s);let l,u,d,h;for(l=0,u=s;l<u;++l)d=l+r,h=n[d],o[l]={x:i.parse(h[0],d),y:a.parse(h[1],d)};return o}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,h,p,g;for(d=0,h=s;d<h;++d)p=d+r,g=n[p],u[d]={x:i.parse(uo(g,o),p),y:a.parse(uo(g,l),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:x_(s,!0),values:n._stacks[e.axis]._visualValues};return cT(o,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const o=s&&r._stacks[n.axis];s&&o&&(s.values=o,a=cT(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,o=this._getOtherScale(e),l=uX(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=aX(o);let p,g;function x(){g=s[p];const v=g[o.axis];return!Zt(g[e.axis])||d>v||h<v}for(p=0;p<a&&!(!x()&&(this.updateRangeFromParsed(u,e,g,l),i));++p);if(i){for(p=a-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Zt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=rX(Ze(this.options.clip,nX(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,o,l),d=o;d<o+l;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=cX(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=lX(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],l=this.enableOptionSharing&&wf(r);if(o)return fT(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Rt.elements[e]),x=()=>this.getContext(r,s,n),v=u.resolveNamedOptions(p,g,x,h);return v.$shared&&(v.$shared=l,i[a]=Object.freeze(fT(v,l))),v}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(p,this.getContext(e,r,n))}const u=new g_(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Kb(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){Kb(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Kb(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&md(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function dX(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=XP(r.sort((s,i)=>s-i))}return t._cache.$bar}function fX(t){const e=t.iScale,n=dX(e,t.type);let r=e._length,s,i,a,o;const l=()=>{a===32767||a===-32768||(wf(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),l();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return r}function hX(t,e,n,r){const s=n.barThickness;let i,a;return at(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function mX(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:u}}function pX(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:i,min:a,max:o}}function y_(t,e,n,r){return Lt(t)?pX(t,e,n,r):e[n.axis]=n.parse(t,r),e}function hT(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,l=[];let u,d,h,p;for(u=n,d=n+r;u<d;++u)p=e[u],h={},h[s.axis]=o||s.parse(a[u],u),l.push(y_(p,h,i,u));return l}function Gb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function gX(t,e,n){return t!==0?ai(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function xX(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function yX(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:d}=xX(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[mT(d,a,o,l)]=!0,s=u)),i[mT(s,a,o,l)]=!0,t.borderSkipped=i}function mT(t,e,n,r){return r?(t=bX(t,e,n),t=pT(t,n,e)):t=pT(t,e,n),t}function bX(t,e,n){return t===e?n:t===n?e:t}function pT(t,e,n){return t==="start"?e:t==="end"?n:t}function vX(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class wX extends vo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return hT(e,n,r,s)}parseArrayData(e,n,r,s){return hT(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?o:l,d=a.axis==="x"?o:l,h=[];let p,g,x,v;for(p=r,g=r+s;p<g;++p)v=n[p],x={},x[i.axis]=i.parse(uo(v,u),p),h.push(y_(uo(v,d),x,a,p));return h}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,o=Gb(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,s);for(let g=n;g<n+r;g++){const x=this.getParsed(g),v=i||at(x[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),w=(x._stacks||{})[o.axis],N={horizontal:u,base:v.base,enableBorderRadius:!w||Gb(x._custom)||a===w._top||a===w._bottom,x:u?v.head:b.center,y:u?b.center:v.head,height:u?b.size:Math.abs(v.size),width:u?Math.abs(v.size):b.size};p&&(N.options=h||this.resolveDataElementOptions(g,e[g].active?"active":s));const C=N.options||e[g].options;yX(N,C,w,a),vX(N,C,d.ratio),this.updateElement(e[g],g,N,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],u=d=>{const h=d._parsed.find(g=>g[r.axis]===l),p=h&&h[d.vScale.axis];if(at(p)||isNaN(p))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Ze(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||fX(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),u=l._custom,d=Gb(u);let h=l[n.axis],p=0,g=r?this.applyStack(n,l,r):h,x,v;g!==h&&(p=g-h,g=h),d&&(h=u.barStart,g=u.barEnd-u.barStart,h!==0&&ai(h)!==ai(u.barEnd)&&(p=0),p+=h);const b=!at(i)&&!d?i:p;let w=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(p+g):x=w,v=x-w,Math.abs(v)<a){v=gX(v,n,o)*a,h===o&&(w-=v/2);const N=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),T=Math.min(N,C),j=Math.max(N,C);w=Math.max(Math.min(w,j),T),x=w+v,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(w))}if(w===n.getPixelForValue(o)){const N=ai(v)*n.getLineWidthForValue(o)/2;w+=N,v-=N}return{size:v,base:w,head:x,center:x+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=Ze(s.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?mX(e,n,s,d*u):hX(e,n,s,d*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(Ze(p,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;o=h.start+h.chunk*x+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class SX extends vo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){const i=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,n,r,s){const i=super.parseArrayData(e,n,r,s);for(let a=0;a<i.length;a++){const o=n[r+a];i[a]._custom=Ze(o[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,n,r,s){const i=super.parseObjectData(e,n,r,s);for(let a=0;a<i.length;a++){const o=n[r+a];i[a]._custom=Ze(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),o=s.getLabelForValue(a.x),l=i.getLabelForValue(a.y),u=a._custom;return{label:r[e]||"",value:"("+o+", "+l+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,s),d=a.axis,h=o.axis;for(let p=n;p<n+r;p++){const g=e[p],x=!i&&this.getParsed(p),v={},b=v[d]=i?a.getPixelForDecimal(.5):a.getPixelForValue(x[d]),w=v[h]=i?o.getBasePixel():o.getPixelForValue(x[h]);v.skip=isNaN(b)||isNaN(w),u&&(v.options=l||this.resolveDataElementOptions(p,g.active?"active":s),i&&(v.options.radius=0)),this.updateElement(g,p,v,s)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Ze(r&&r._custom,i),s}}function NX(t,e,n){let r=1,s=1,i=0,a=0;if(e<_t){const o=t,l=o+e,u=Math.cos(o),d=Math.sin(o),h=Math.cos(l),p=Math.sin(l),g=(C,T,j)=>Sf(C,o,l,!0)?1:Math.max(T,T*n,j,j*n),x=(C,T,j)=>Sf(C,o,l,!0)?-1:Math.min(T,T*n,j,j*n),v=g(0,u,h),b=g(an,d,p),w=x(ft,u,h),N=x(ft+an,d,p);r=(v-w)/2,s=(b-N)/2,i=-(v+w)/2,a=-(b+N)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class jS extends vo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(o||h.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(ot(r[e])){const{key:l="value"}=this._parsing;i=u=>+uo(r[u],l)}let a,o;for(a=e,o=e+n;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return Ps(this.options.rotation-90)}_getCircumference(){return Ps(this.options.circumference)}_getRotationExtents(){let e=_t,n=-_t;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(_G(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:x,offsetY:v}=NX(h,d,l),b=(r.width-a)/p,w=(r.height-a)/g,N=Math.max(Math.min(b,w)/2,0),C=WP(this.options.radius,N),T=Math.max(C*l,0),j=(C-T)/this._getVisibleDatasetWeightTotal();this.offsetX=x*C,this.offsetY=v*C,s.total=this.calculateTotal(),this.outerRadius=C-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/_t)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,d=(o.left+o.right)/2,h=(o.top+o.bottom)/2,p=i&&u.animateScale,g=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);let w=this._getRotation(),N;for(N=0;N<n;++N)w+=this._circumference(N,i);for(N=n;N<n+r;++N){const C=this._circumference(N,i),T=e[N],j={x:d+this.offsetX,y:h+this.offsetY,startAngle:w,endAngle:w+C,circumference:C,outerRadius:x,innerRadius:g};b&&(j.options=v||this.resolveDataElementOptions(N,T.active?"active":s)),w+=C,this.updateElement(T,N,j,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?_t*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=uh(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,o,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,o=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=o.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ze(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class b_ extends vo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=ZP(n,s,a);this._drawStart=o,this._drawCount=l,e_(n)&&(o=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,o,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),p=a.axis,g=o.axis,{spanGaps:x,segment:v}=this.options,b=tu(x)?x:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",N=n+r,C=e.length;let T=n>0&&this.getParsed(n-1);for(let j=0;j<C;++j){const E=e[j],O=w?E:{};if(j<n||j>=N){O.skip=!0;continue}const M=this.getParsed(j),_=at(M[g]),D=O[p]=a.getPixelForValue(M[p],j),I=O[g]=i||_?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,M,l):M[g],j);O.skip=isNaN(D)||isNaN(I)||_,O.stop=j>0&&Math.abs(M[p]-T[p])>b,v&&(O.parsed=M,O.raw=u.data[j]),h&&(O.options=d||this.resolveDataElementOptions(j,E.active?"active":s)),w||this.updateElement(E,j,O,s),T=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class v_ extends vo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=uh(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:i}}parseObjectData(e,n,r,s){return l_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),o=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,p=u.getIndexAngle(0)-.5*ft;let g=p,x;const v=360/this.countVisibleElements();for(x=0;x<n;++x)g+=this._computeAngle(x,s,v);for(x=n;x<n+r;x++){const b=e[x];let w=g,N=g+this._computeAngle(x,s,v),C=a.getDataVisibility(x)?u.getDistanceFromCenterForValue(this.getParsed(x).r):0;g=N,i&&(l.animateScale&&(C=0),l.animateRotate&&(w=N=p));const T={x:d,y:h,innerRadius:0,outerRadius:C,startAngle:w,endAngle:N,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,T,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Ps(this.resolveDataElementOptions(e,n).angle||r):0}}class CX extends jS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class jX extends vo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return l_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===s.length,options:a};this.updateElement(r,void 0,o,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){const i=this._cachedMeta.rScale,a=s==="reset";for(let o=n;o<n+r;o++){const l=e[o],u=this.resolveDataElementOptions(o,l.active?"active":s),d=i.getPointPositionForValue(o,this.getParsed(o).r),h=a?i.xCenter:d.x,p=a?i.yCenter:d.y,g={x:h,y:p,angle:d.angle,skip:isNaN(h)||isNaN(p),options:u};this.updateElement(l,o,g,s)}}}class kX extends vo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),o=s.getLabelForValue(a.x),l=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+o+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:a}=ZP(n,r,s);if(this._drawStart=i,this._drawCount=a,e_(n)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=n;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(d),p=this.includeOptions(s,h),g=a.axis,x=o.axis,{spanGaps:v,segment:b}=this.options,w=tu(v)?v:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||s==="none";let C=n>0&&this.getParsed(n-1);for(let T=n;T<n+r;++T){const j=e[T],E=this.getParsed(T),O=N?j:{},M=at(E[x]),_=O[g]=a.getPixelForValue(E[g],T),D=O[x]=i||M?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,E,l):E[x],T);O.skip=isNaN(_)||isNaN(D)||M,O.stop=T>0&&Math.abs(E[g]-C[g])>w,b&&(O.parsed=E,O.raw=u.data[T]),p&&(O.options=h||this.resolveDataElementOptions(T,j.active?"active":s)),N||this.updateElement(j,T,O,s),C=E}this.updateSharedOptions(h,s,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let o=0;for(let l=n.length-1;l>=0;--l)o=Math.max(o,n[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,a)/2}}var TX=Object.freeze({__proto__:null,BarController:wX,BubbleController:SX,DoughnutController:jS,LineController:b_,PieController:CX,PolarAreaController:v_,RadarController:jX,ScatterController:kX});function $o(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kS{static override(e){Object.assign(kS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return $o()}parse(){return $o()}format(){return $o()}add(){return $o()}diff(){return $o()}startOf(){return $o()}endOf(){return $o()}}var EX={_date:kS};function MX(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?qG:Ui;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const p=u(i,e,n-h),g=u(i,e,n+h);return{lo:p.lo,hi:g.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:h}=s._cachedMeta,{_parsed:p}=t,g=p.slice(0,d.lo+1).reverse().findIndex(v=>!at(v[h.axis]));d.lo-=Math.max(0,g);const x=p.slice(d.hi).findIndex(v=>!at(v[h.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function J0(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=i.length;o<l;++o){const{index:u,data:d}=i[o],{lo:h,hi:p}=MX(i[o],e,a,s);for(let g=h;g<=p;++g){const x=d[g];x.skip||r(x,u,g)}}}function AX(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Yb(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||J0(t,n,e,function(o,l,u){!s&&!Wi(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:l,index:u})},!0),i}function OX(t,e,n,r){let s=[];function i(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:h}=GP(a,{x:e.x,y:e.y});Sf(h,u,d)&&s.push({element:a,datasetIndex:o,index:l})}return J0(t,n,e,i),s}function PX(t,e,n,r,s,i){let a=[];const o=AX(n);let l=Number.POSITIVE_INFINITY;function u(d,h,p){const g=d.inRange(e.x,e.y,s);if(r&&!g)return;const x=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(x))&&!g)return;const b=o(e,x);b<l?(a=[{element:d,datasetIndex:h,index:p}],l=b):b===l&&a.push({element:d,datasetIndex:h,index:p})}return J0(t,n,e,u),a}function Xb(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?OX(t,e,n,s):PX(t,e,n,r,s,i)}function gT(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return J0(t,n,e,(l,u,d)=>{l[a]&&l[a](e[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,s))}),r&&!o?[]:i}var _X={modes:{index(t,e,n,r){const s=Wo(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Yb(t,s,i,r,a):Xb(t,s,i,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,h=u.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Wo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Yb(t,s,i,r,a):Xb(t,s,i,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(t,e,n,r){const s=Wo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Yb(t,s,i,r,a)},nearest(t,e,n,r){const s=Wo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Xb(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=Wo(e,t);return gT(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Wo(e,t);return gT(t,s,"y",n.intersect,r)}}};const w_=["left","top","right","bottom"];function pd(t,e){return t.filter(n=>n.pos===e)}function xT(t,e){return t.filter(n=>w_.indexOf(n.pos)===-1&&n.box.axis===e)}function gd(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function DX(t){const e=[];let n,r,s,i,a,o;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function IX(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!w_.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function LX(t,e){const n=IX(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*r:l&&e.availableWidth,o.height=s):(o.width=r,o.height=d?d*s:l&&e.availableHeight)}return n}function RX(t){const e=DX(t),n=gd(e.filter(u=>u.box.fullSize),!0),r=gd(pd(e,"left"),!0),s=gd(pd(e,"right")),i=gd(pd(e,"top"),!0),a=gd(pd(e,"bottom")),o=xT(e,"x"),l=xT(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:pd(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function yT(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function S_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function FX(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!ot(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&S_(a,i.getPadding());const o=Math.max(0,e.outerWidth-yT(a,t,"left","right")),l=Math.max(0,e.outerHeight-yT(a,t,"top","bottom")),u=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function zX(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function VX(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Od(t,e,n,r){const s=[];let i,a,o,l,u,d;for(i=0,a=t.length,u=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,VX(o.horizontal,e));const{same:h,other:p}=FX(e,n,o,r);u|=h&&s.length,d=d||p,l.fullSize||s.push(o)}return u&&Od(s,e,n,r)||d}function $m(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function bT(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,u=r[o.stack]||{placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const h=e.w*d,p=u.size||l.height;wf(u.start)&&(a=u.start),l.fullSize?$m(l,s.left,a,n.outerWidth-s.right-s.left,p):$m(l,e.left+u.placed,a,h,p),u.start=a,u.placed+=h,a=l.bottom}else{const h=e.h*d,p=u.size||l.width;wf(u.start)&&(i=u.start),l.fullSize?$m(l,i,s.top,p,n.outerHeight-s.bottom-s.top):$m(l,i,e.top+u.placed,p,h),u.start=i,u.placed+=h,i=l.right}}e.x=i,e.y=a}var Jn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=er(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=RX(t.boxes),l=o.vertical,u=o.horizontal;vt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=l.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},s);S_(p,er(r));const g=Object.assign({maxPadding:p,w:i,h:a,x:s.left,y:s.top},s),x=LX(l.concat(u),h);Od(o.fullSize,g,h,x),Od(l,g,h,x),Od(u,g,h,x)&&Od(l,g,h,x),zX(g),bT(o.leftAndTop,g,h,x),g.x+=g.w,g.y+=g.h,bT(o.rightAndBottom,g,h,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},vt(o.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class N_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class $X extends N_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _p="$chartjs",BX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vT=t=>t===null||t==="";function HX(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[_p]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vT(s)){const i=rT(t,"width");i!==void 0&&(t.width=i)}if(vT(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=rT(t,"height");i!==void 0&&(t.height=i)}return t}const C_=zY?{passive:!0}:!1;function UX(t,e,n){t&&t.addEventListener(e,n,C_)}function WX(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,C_)}function qX(t,e){const n=BX[t.type]||t.type,{x:r,y:s}=Wo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function pg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function KX(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||pg(o.addedNodes,r),a=a&&!pg(o.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function GX(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||pg(o.removedNodes,r),a=a&&!pg(o.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Cf=new Map;let wT=0;function j_(){const t=window.devicePixelRatio;t!==wT&&(wT=t,Cf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function YX(t,e){Cf.size||window.addEventListener("resize",j_),Cf.set(t,e)}function XX(t){Cf.delete(t),Cf.size||window.removeEventListener("resize",j_)}function QX(t,e,n){const r=t.canvas,s=r&&CS(r);if(!s)return;const i=JP((o,l)=>{const u=s.clientWidth;n(o,l),u<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),YX(t,i),a}function Qb(t,e,n){n&&n.disconnect(),e==="resize"&&XX(t)}function JX(t,e,n){const r=t.canvas,s=JP(i=>{t.ctx!==null&&n(qX(i,t))},t);return UX(r,e,s),s}class ZX extends N_{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(HX(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[_p])return!1;const r=n[_p].initial;["height","width"].forEach(i=>{const a=r[i];at(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[_p],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:KX,detach:GX,resize:QX}[n]||JX;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Qb,detach:Qb,resize:Qb}[n]||WX)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return FY(e,n,r,s)}isAttached(e){const n=e&&CS(e);return!!(n&&n.isConnected)}}function eQ(t){return!NS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?$X:ZX}let ca=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return tu(this.x)&&tu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}};function tQ(t,e){const n=t.options.ticks,r=nQ(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?sQ(e):[],a=i.length,o=i[0],l=i[a-1],u=[];if(a>s)return iQ(e,u,i,a/s),u;const d=rQ(i,e,s);if(a>0){let h,p;const g=a>1?Math.round((l-o)/(a-1)):null;for(Bm(e,u,d,at(g)?0:o-g,o),h=0,p=a-1;h<p;h++)Bm(e,u,d,i[h],i[h+1]);return Bm(e,u,d,l,at(g)?e.length:l+g),u}return Bm(e,u,d),u}function nQ(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function rQ(t,e,n){const r=aQ(t),s=e.length/n;if(!r)return Math.max(s,1);const i=$G(r);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function sQ(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function iQ(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Bm(t,e,n,r,s){const i=Ze(r,0),a=Math.min(Ze(s,t.length),t.length);let o=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(i+o*n))}function aQ(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const oQ=t=>t==="left"?"right":t==="right"?"left":t,ST=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,NT=(t,e)=>Math.min(e||t,t);function CT(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function lQ(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-o||l>a+o)))return l}function cQ(t,e){vt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function xd(t){return t.drawTicks?t.tickLength:0}function jT(t,e){if(!t.display)return 0;const n=vn(t.font,e),r=er(t.padding);return(Lt(t.text)?t.text.length:1)*n.lineHeight+r.height}function uQ(t,e){return bo(t,{scale:e,type:"scale"})}function dQ(t,e,n){return bo(t,{tick:n,index:e,type:"tick"})}function fQ(t,e,n){let r=xS(t);return(n&&e!=="right"||!n&&e==="right")&&(r=oQ(r)),r}function hQ(t,e,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:d}=l;let h=0,p,g,x;const v=a-s,b=o-i;if(t.isHorizontal()){if(g=Gn(r,i,o),ot(n)){const w=Object.keys(n)[0],N=n[w];x=d[w].getPixelForValue(N)+v-e}else n==="center"?x=(u.bottom+u.top)/2+v-e:x=ST(t,n,e);p=o-i}else{if(ot(n)){const w=Object.keys(n)[0],N=n[w];g=d[w].getPixelForValue(N)-b+e}else n==="center"?g=(u.left+u.right)/2-b+e:g=ST(t,n,e);x=Gn(r,a,s),h=n==="left"?-an:an}return{titleX:g,titleY:x,maxWidth:p,rotation:h}}class $l extends ca{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=zr(e,Number.POSITIVE_INFINITY),n=zr(n,Number.NEGATIVE_INFINITY),r=zr(r,Number.POSITIVE_INFINITY),s=zr(s,Number.NEGATIVE_INFINITY),{min:zr(e,r),max:zr(n,s),minDefined:Zt(e),maxDefined:Zt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:zr(n,zr(r,n)),max:zr(r,zr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gY(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?CT(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=tQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=jt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=NT(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,o,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,p=d.highest.height,g=kn(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/r:g/(r-1),h+6>o&&(o=g/(r-(e.offset?.5:1)),l=this.maxHeight-xd(e.grid)-n.padding-jT(e.title,this.chart.options.font),u=Math.sqrt(h*h+p*p),a=pS(Math.min(Math.asin(kn((d.highest.height+6)/o,-1,1)),Math.asin(kn(l/u,-1,1))-Math.asin(kn(p/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=jT(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=xd(i)+l):(e.height=this.maxHeight,e.width=xd(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:p}=this._getLabelSizes(),g=r.padding*2,x=Ps(this.labelRotation),v=Math.cos(x),b=Math.sin(x);if(o){const w=r.mirror?0:b*h.width+v*p.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=r.mirror?0:v*h.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(u,d,b,v)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;l?u?(p=s*e.width,g=r*n.height):(p=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)at(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=CT(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/NT(n,r));let u=0,d=0,h,p,g,x,v,b,w,N,C,T,j;for(h=0;h<n;h+=l){if(x=e[h].label,v=this._resolveTickFontOptions(h),s.font=b=v.string,w=i[b]=i[b]||{data:{},gc:[]},N=v.lineHeight,C=T=0,!at(x)&&!Lt(x))C=hg(s,w.data,w.gc,C,x),T=N;else if(Lt(x))for(p=0,g=x.length;p<g;++p)j=x[p],!at(j)&&!Lt(j)&&(C=hg(s,w.data,w.gc,C,j),T+=N);a.push(C),o.push(T),u=Math.max(C,u),d=Math.max(T,d)}cQ(i,n);const E=a.indexOf(u),O=o.indexOf(d),M=_=>({width:a[_]||0,height:o[_]||0});return{first:M(0),last:M(n-1),widest:M(E),highest:M(O),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return WG(this._alignToPixels?Vo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=dQ(this.getContext(),e,r))}return this.$context||(this.$context=uQ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ps(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>o*s?o/r:l/s:l*s<o*r?l/r:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=xd(i),g=[],x=o.setContext(this.getContext()),v=x.display?x.width:0,b=v/2,w=function(R){return Vo(r,R,v)};let N,C,T,j,E,O,M,_,D,I,F,Y;if(a==="top")N=w(this.bottom),O=this.bottom-p,_=N-b,I=w(e.top)+b,Y=e.bottom;else if(a==="bottom")N=w(this.top),I=e.top,Y=w(e.bottom)-b,O=N+b,_=this.top+p;else if(a==="left")N=w(this.right),E=this.right-p,M=N-b,D=w(e.left)+b,F=e.right;else if(a==="right")N=w(this.left),D=e.left,F=w(e.right)-b,E=N+b,M=this.left+p;else if(n==="x"){if(a==="center")N=w((e.top+e.bottom)/2+.5);else if(ot(a)){const R=Object.keys(a)[0],V=a[R];N=w(this.chart.scales[R].getPixelForValue(V))}I=e.top,Y=e.bottom,O=N+b,_=O+p}else if(n==="y"){if(a==="center")N=w((e.left+e.right)/2);else if(ot(a)){const R=Object.keys(a)[0],V=a[R];N=w(this.chart.scales[R].getPixelForValue(V))}E=N-b,M=E-p,D=e.left,F=e.right}const G=Ze(s.ticks.maxTicksLimit,h),W=Math.max(1,Math.ceil(h/G));for(C=0;C<h;C+=W){const R=this.getContext(C),V=i.setContext(R),z=o.setContext(R),q=V.lineWidth,Q=V.color,B=z.dash||[],J=z.dashOffset,ne=V.tickWidth,ie=V.tickColor,le=V.tickBorderDash||[],be=V.tickBorderDashOffset;T=lQ(this,C,l),T!==void 0&&(j=Vo(r,T,q),u?E=M=D=F=j:O=_=I=Y=j,g.push({tx1:E,ty1:O,tx2:M,ty2:_,x1:D,y1:I,x2:F,y2:Y,width:q,color:Q,borderDash:B,borderDashOffset:J,tickWidth:ne,tickColor:ie,tickBorderDash:le,tickBorderDashOffset:be}))}return this._ticksLength=h,this._borderValue=N,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=i,p=xd(r.grid),g=p+d,x=h?-d:g,v=-Ps(this.labelRotation),b=[];let w,N,C,T,j,E,O,M,_,D,I,F,Y="middle";if(s==="top")E=this.bottom-x,O=this._getXAxisLabelAlignment();else if(s==="bottom")E=this.top+x,O=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(p);O=W.textAlign,j=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(p);O=W.textAlign,j=W.x}else if(n==="x"){if(s==="center")E=(e.top+e.bottom)/2+g;else if(ot(s)){const W=Object.keys(s)[0],R=s[W];E=this.chart.scales[W].getPixelForValue(R)+g}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(e.left+e.right)/2-g;else if(ot(s)){const W=Object.keys(s)[0],R=s[W];j=this.chart.scales[W].getPixelForValue(R)}O=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const G=this._getLabelSizes();for(w=0,N=o.length;w<N;++w){C=o[w],T=C.label;const W=i.setContext(this.getContext(w));M=this.getPixelForTick(w)+i.labelOffset,_=this._resolveTickFontOptions(w),D=_.lineHeight,I=Lt(T)?T.length:1;const R=I/2,V=W.color,z=W.textStrokeColor,q=W.textStrokeWidth;let Q=O;a?(j=M,O==="inner"&&(w===N-1?Q=this.options.reverse?"left":"right":w===0?Q=this.options.reverse?"right":"left":Q="center"),s==="top"?u==="near"||v!==0?F=-I*D+D/2:u==="center"?F=-G.highest.height/2-R*D+D:F=-G.highest.height+D/2:u==="near"||v!==0?F=D/2:u==="center"?F=G.highest.height/2-R*D:F=G.highest.height-I*D,h&&(F*=-1),v!==0&&!W.showLabelBackdrop&&(j+=D/2*Math.sin(v))):(E=M,F=(1-I)*D/2);let B;if(W.showLabelBackdrop){const J=er(W.backdropPadding),ne=G.heights[w],ie=G.widths[w];let le=F-J.top,be=0-J.left;switch(Y){case"middle":le-=ne/2;break;case"bottom":le-=ne;break}switch(O){case"center":be-=ie/2;break;case"right":be-=ie;break;case"inner":w===N-1?be-=ie:w>0&&(be-=ie/2);break}B={left:be,top:le,width:ie+J.width,height:ne+J.height,color:W.backdropColor}}b.push({label:T,font:_,textOffset:F,options:{rotation:v,color:V,strokeColor:z,strokeWidth:q,textAlign:Q,textBaseline:Y,translation:[j,E],backdrop:B}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ps(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const l=s[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,h,p;this.isHorizontal()?(u=Vo(e,this.left,a)-a/2,d=Vo(e,this.right,o)+o/2,h=p=l):(h=Vo(e,this.top,a)-a/2,p=Vo(e,this.bottom,o)+o/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Y0(r,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,u=a.label,d=a.textOffset;Tl(r,u,0,d,l,o)}s&&X0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=vn(r.font),a=er(r.padding),o=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ot(n)?(l+=a.bottom,Lt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:p}=hQ(this,l,n,o);Tl(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:p,textAlign:fQ(o,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ze(e.grid&&e.grid.z,-1),s=Ze(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$l.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[r]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return vn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hm{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;gQ(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,mQ(e,a,r),this.override&&Rt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Rt[s]&&(delete Rt[s][r],this.override&&delete kl[r])}}function mQ(t,e,n){const r=vf(Object.create(null),[n?Rt.get(n):{},Rt.get(e),t.defaults]);Rt.set(e,r),t.defaultRoutes&&pQ(e,t.defaultRoutes),t.descriptors&&Rt.describe(e,t.descriptors)}function pQ(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Rt.route(i,s,l,o)})}function gQ(t){return"id"in t&&"defaults"in t}class xQ{constructor(){this.controllers=new Hm(vo,"datasets",!0),this.elements=new Hm(ca,"elements"),this.plugins=new Hm(Object,"plugins"),this.scales=new Hm($l,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):vt(s,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const s=mS(e);jt(r["before"+s],[],r),n[e](r),jt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Ks=new xQ;class yQ{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,o=a[r],l=[n,s,i.options];if(jt(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){at(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Ze(r.options&&r.options.plugins,{}),i=bQ(r);return s===!1&&!n?[]:wQ(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function bQ(t){const e={},n=[],r=Object.keys(Ks.plugins.items);for(let i=0;i<r.length;i++)n.push(Ks.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function vQ(t,e){return!e&&t===!1?null:t===!0?{}:t}function wQ(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const o of e){const l=o.id,u=vQ(r[l],s);u!==null&&i.push({plugin:o,options:SQ(t.config,{plugin:o,local:n[l]},u,a)})}return i}function SQ(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function r2(t,e){const n=Rt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function NQ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function CQ(t,e){return t===e?"_index_":"_value_"}function kT(t){if(t==="x"||t==="y"||t==="r")return t}function jQ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function s2(t,...e){if(kT(t))return t;for(const n of e){const r=n.axis||jQ(n.position)||t.length>1&&kT(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function TT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function kQ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return TT(t,"x",n[0])||TT(t,"y",n[0])}return{}}function TQ(t,e){const n=kl[t.type]||{scales:{}},r=e.scales||{},s=r2(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!ot(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=s2(a,o,kQ(a,t),Rt.scales[o.type]),u=CQ(l,s),d=n.scales||{};i[a]=Bd(Object.create(null),[{axis:l},o,d[l],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||r2(o,e),d=(kl[o]||{}).scales||{};Object.keys(d).forEach(h=>{const p=NQ(h,l),g=a[p+"AxisID"]||p;i[g]=i[g]||Object.create(null),Bd(i[g],[{axis:p},r[g],d[h]])})}),Object.keys(i).forEach(a=>{const o=i[a];Bd(o,[Rt.scales[o.type],Rt.scale])}),i}function k_(t){const e=t.options||(t.options={});e.plugins=Ze(e.plugins,{}),e.scales=TQ(t,e)}function T_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function EQ(t){return t=t||{},t.data=T_(t.data),k_(t),t}const ET=new Map,E_=new Set;function Um(t,e){let n=ET.get(t);return n||(n=e(),ET.set(t,n),E_.add(n)),n}const yd=(t,e,n)=>{const r=uo(e,n);r!==void 0&&t.add(r)};class MQ{constructor(e){this._config=EQ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=T_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),k_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Um(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Um(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Um(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Um(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>yd(l,e,h))),d.forEach(h=>yd(l,s,h)),d.forEach(h=>yd(l,kl[i]||{},h)),d.forEach(h=>yd(l,Rt,h)),d.forEach(h=>yd(l,t2,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),E_.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,kl[n]||{},Rt.datasets[n]||{},{type:n},Rt,t2]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=MT(this._resolverCache,e,s);let l=a;if(OQ(a,n)){i.$shared=!1,r=fo(r)?r():r;const u=this.createResolver(e,r,o);l=nu(a,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=MT(this._resolverCache,e,r);return ot(n)?nu(i,n,void 0,s):i}}function MT(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:vS(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(s,i)),i}const AQ=t=>ot(t)&&Object.getOwnPropertyNames(t).some(e=>fo(t[e]));function OQ(t,e){const{isScriptable:n,isIndexable:r}=s_(t);for(const s of e){const i=n(s),a=r(s),o=(a||i)&&t[s];if(i&&(fo(o)||AQ(o))||a&&Lt(o))return!0}return!1}var PQ="4.5.1";const _Q=["top","bottom","left","right","chartArea"];function AT(t,e){return t==="top"||t==="bottom"||_Q.indexOf(t)===-1&&e==="x"}function OT(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function PT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),jt(n&&n.onComplete,[t],e)}function DQ(t){const e=t.chart,n=e.options.animation;jt(n&&n.onProgress,[t],e)}function M_(t){return NS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Dp={},_T=t=>{const e=M_(t);return Object.values(Dp).filter(n=>n.canvas===e).pop()};function IQ(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function LQ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let Z0=class{static defaults=Rt;static instances=Dp;static overrides=kl;static registry=Ks;static version=PQ;static getChart=_T;static register(...e){Ks.add(...e),DT()}static unregister(...e){Ks.remove(...e),DT()}constructor(e,n){const r=this.config=new MQ(n),s=M_(e),i=_T(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||eQ(s)),this.platform.updateConfig(r);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=PG(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=YG(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Dp[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Di.listen(this,"complete",PT),Di.listen(this,"progress",DQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return at(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ks}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Z3(this.canvas,this.ctx),this}stop(){return Di.stop(this),this}resize(e,n){Di.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,nT(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),jt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};vt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=s2(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),vt(i,a=>{const o=a.options,l=o.id,u=s2(l,o),d=Ze(o.type,a.dtype);(o.position===void 0||AT(o.position,u)!==AT(a.dposition))&&(o.position=a.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const p=Ks.getScale(d);h=new p({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(o,e)}),vt(s,(a,o)=>{a||delete r[o]}),vt(r,a=>{Jn.configure(this,a,a.options),Jn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(OT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||r2(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Ks.getController(o),{datasetElementType:u,dataElementType:d}=Rt.datasets[o];Object.assign(l,{dataElementType:Ks.getElement(d),datasetElementType:u&&Ks.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){vt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),p=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(p),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||vt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(OT("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){vt(this.scales,e=>{Jn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!U3(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;IQ(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!U3(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],vt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,fo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Di.has(this)?this.attached&&!Di.running(this)&&Di.start(this):(this.draw(),PT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=p_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Y0(n,s),e.controller.draw(),s&&X0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Wi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=_X.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);wf(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Di.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Z3(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};vt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){vt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},vt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!ug(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=i(n,e),o=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,o=this._getActiveElements(e,s,r,a),l=FG(e),u=LQ(e,this._lastEvent,r,l);r&&(this._lastEvent=null,jt(i.onHover,[e,o,this],this),l&&jt(i.onClick,[e,o,this],this));const d=!ug(o,s);return(d||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function DT(){return vt(Z0.instances,t=>t._plugins.invalidate())}function RQ(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,h=Math.min(u/a,Xn(r-n));if(t.beginPath(),t.arc(s,i,a-u/2,r+h/2,n-h/2),o>0){const p=Math.min(u/o,Xn(r-n));t.arc(s,i,o+u/2,n-p/2,r+p/2,!0)}else{const p=Math.min(u/2,a*Xn(r-n));if(d==="round")t.arc(s,i,p,n-ft/2,r+ft/2,!0);else if(d==="bevel"){const g=2*p*p,x=-g*Math.cos(n+ft/2)+s,v=-g*Math.sin(n+ft/2)+i,b=g*Math.cos(r+ft/2)+s,w=g*Math.sin(r+ft/2)+i;t.lineTo(x,v),t.lineTo(b,w)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function FQ(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:l}=e;let u=s/o;t.beginPath(),t.arc(i,a,o,r-u,n+u),l>s?(u=s/l,t.arc(i,a,l,n+u,r-u,!0)):t.arc(i,a,s,n+an,r-an),t.closePath(),t.clip()}function zQ(t){return bS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function VQ(t,e,n,r){const s=zQ(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),o=l=>{const u=(n-Math.min(i,l))*r/2;return kn(l,0,Math.min(i,u))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:kn(s.innerStart,0,a),innerEnd:kn(s.innerEnd,0,a)}}function Sc(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function gg(t,e,n,r,s,i){const{x:a,y:o,startAngle:l,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+r+n-u,0),p=d>0?d+r+n+u:0;let g=0;const x=s-l;if(r){const W=d>0?d-r:0,R=h>0?h-r:0,V=(W+R)/2,z=V!==0?x*V/(V+r):x;g=(x-z)/2}const v=Math.max(.001,x*h-n/ft)/h,b=(x-v)/2,w=l+b+g,N=s-b-g,{outerStart:C,outerEnd:T,innerStart:j,innerEnd:E}=VQ(e,p,h,N-w),O=h-C,M=h-T,_=w+C/O,D=N-T/M,I=p+j,F=p+E,Y=w+j/I,G=N-E/F;if(t.beginPath(),i){const W=(_+D)/2;if(t.arc(a,o,h,_,W),t.arc(a,o,h,W,D),T>0){const q=Sc(M,D,a,o);t.arc(q.x,q.y,T,D,N+an)}const R=Sc(F,N,a,o);if(t.lineTo(R.x,R.y),E>0){const q=Sc(F,G,a,o);t.arc(q.x,q.y,E,N+an,G+Math.PI)}const V=(N-E/p+(w+j/p))/2;if(t.arc(a,o,p,N-E/p,V,!0),t.arc(a,o,p,V,w+j/p,!0),j>0){const q=Sc(I,Y,a,o);t.arc(q.x,q.y,j,Y+Math.PI,w-an)}const z=Sc(O,w,a,o);if(t.lineTo(z.x,z.y),C>0){const q=Sc(O,_,a,o);t.arc(q.x,q.y,C,w-an,_)}}else{t.moveTo(a,o);const W=Math.cos(_)*h+a,R=Math.sin(_)*h+o;t.lineTo(W,R);const V=Math.cos(D)*h+a,z=Math.sin(D)*h+o;t.lineTo(V,z)}t.closePath()}function $Q(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o}=e;let l=e.endAngle;if(i){gg(t,e,n,r,l,s);for(let u=0;u<i;++u)t.fill();isNaN(o)||(l=a+(o%_t||_t))}return gg(t,e,n,r,l,s),t.fill(),l}function BQ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:p,borderRadius:g}=l,x=l.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=p,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let v=e.endAngle;if(i){gg(t,e,n,r,v,s);for(let b=0;b<i;++b)t.stroke();isNaN(o)||(v=a+(o%_t||_t))}x&&FQ(t,e,v),l.selfJoin&&v-a>=ft&&g===0&&d!=="miter"&&RQ(t,e,v),i||(gg(t,e,n,r,v,s),t.stroke())}class HQ extends ca{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:i,distance:a}=GP(s,{x:e,y:n}),{startAngle:o,endAngle:l,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=Ze(h,l-o),x=Sf(i,o,l)&&o!==l,v=g>=_t||x,b=Hi(a,u+p,d+p);return v&&b}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:i,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:u}=this.options,d=(s+i)/2,h=(a+o+u+l)/2;return{x:n+Math.cos(d)*h,y:r+Math.sin(d)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>_t?Math.floor(r/_t):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*s,Math.sin(o)*s);const l=1-Math.sin(Math.min(ft,r||0)),u=s*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,$Q(e,this,u,i,a),BQ(e,this,u,i,a),e.restore()}}function A_(t,e,n=e){t.lineCap=Ze(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ze(n.borderDash,e.borderDash)),t.lineDashOffset=Ze(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ze(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ze(n.borderWidth,e.borderWidth),t.strokeStyle=Ze(n.borderColor,e.borderColor)}function UQ(t,e,n){t.lineTo(n.x,n.y)}function WQ(t){return t.stepped?oY:t.tension||t.cubicInterpolationMode==="monotone"?lY:UQ}function O_(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=e,l=Math.max(s,a),u=Math.min(i,o),d=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function qQ(t,e,n,r){const{points:s,options:i}=e,{count:a,start:o,loop:l,ilen:u}=O_(s,n,r),d=WQ(i);let{move:h=!0,reverse:p}=r||{},g,x,v;for(g=0;g<=u;++g)x=s[(o+(p?u-g:g))%a],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):d(t,v,x,p,i.stepped),v=x);return l&&(x=s[(o+(p?u:0))%a],d(t,v,x,p,i.stepped)),!!l}function KQ(t,e,n,r){const s=e.points,{count:i,start:a,ilen:o}=O_(s,n,r),{move:l=!0,reverse:u}=r||{};let d=0,h=0,p,g,x,v,b,w;const N=T=>(a+(u?o-T:T))%i,C=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,w))};for(l&&(g=s[N(0)],t.moveTo(g.x,g.y)),p=0;p<=o;++p){if(g=s[N(p)],g.skip)continue;const T=g.x,j=g.y,E=T|0;E===x?(j<v?v=j:j>b&&(b=j),d=(h*d+T)/++h):(C(),t.lineTo(T,j),x=E,h=0,v=b=j),w=j}C()}function i2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?KQ:qQ}function GQ(t){return t.stepped?VY:t.tension||t.cubicInterpolationMode==="monotone"?$Y:qo}function YQ(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),A_(t,e.options),t.stroke(s)}function XQ(t,e,n,r){const{segments:s,options:i}=e,a=i2(e);for(const o of s)A_(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const QQ=typeof Path2D=="function";function JQ(t,e,n,r){QQ&&!e.options.segment?YQ(t,e,n,r):XQ(t,e,n,r)}class ex extends ca{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;PY(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=KY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=m_(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],l=GQ(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:p}=a[u],g=i[h],x=i[p];if(g===x){o.push(g);continue}const v=Math.abs((s-g[n])/(x[n]-g[n])),b=l(g,x,v,r.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,r){return i2(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=i2(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of s)a&=i(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),JQ(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function IT(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class ZQ extends ca{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return IT(this,e,"x",n)}inYRange(e,n){return IT(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Wi(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,n2(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function P_(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,d,h;return t.horizontal?(h=a/2,o=Math.min(n,s),l=Math.max(n,s),u=r-h,d=r+h):(h=i/2,o=n-h,l=n+h,u=Math.min(r,s),d=Math.max(r,s)),{left:o,top:u,right:l,bottom:d}}function qa(t,e,n,r){return t?0:kn(e,n,r)}function eJ(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=r_(r);return{t:qa(s.top,i.top,0,n),r:qa(s.right,i.right,0,e),b:qa(s.bottom,i.bottom,0,n),l:qa(s.left,i.left,0,e)}}function tJ(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=ul(s),a=Math.min(e,n),o=t.borderSkipped,l=r||ot(s);return{topLeft:qa(!l||o.top||o.left,i.topLeft,0,a),topRight:qa(!l||o.top||o.right,i.topRight,0,a),bottomLeft:qa(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:qa(!l||o.bottom||o.right,i.bottomRight,0,a)}}function nJ(t){const e=P_(t),n=e.right-e.left,r=e.bottom-e.top,s=eJ(t,n/2,r/2),i=tJ(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Jb(t,e,n,r){const s=e===null,i=n===null,o=t&&!(s&&i)&&P_(t,r);return o&&(s||Hi(e,o.left,o.right))&&(i||Hi(n,o.top,o.bottom))}function rJ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function sJ(t,e){t.rect(e.x,e.y,e.w,e.h)}function Zb(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class iJ extends ca{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=nJ(this),o=rJ(a.radius)?Nf:sJ;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,Zb(a,n,i)),e.clip(),o(e,Zb(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,Zb(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Jb(this,e,n,r)}inXRange(e,n){return Jb(this,e,null,n)}inYRange(e,n){return Jb(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var aJ=Object.freeze({__proto__:null,ArcElement:HQ,BarElement:iJ,LineElement:ex,PointElement:ZQ});const a2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],LT=a2.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function __(t){return a2[t%a2.length]}function D_(t){return LT[t%LT.length]}function oJ(t,e){return t.borderColor=__(e),t.backgroundColor=D_(e),++e}function lJ(t,e){return t.backgroundColor=t.data.map(()=>__(e++)),e}function cJ(t,e){return t.backgroundColor=t.data.map(()=>D_(e++)),e}function uJ(t){let e=0;return(n,r)=>{const s=t.getDatasetMeta(r).controller;s instanceof jS?e=lJ(n,e):s instanceof v_?e=cJ(n,e):s&&(e=oJ(n,e))}}function RT(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function dJ(t){return t&&(t.borderColor||t.backgroundColor)}function fJ(){return Rt.borderColor!=="rgba(0,0,0,0.1)"||Rt.backgroundColor!=="rgba(0,0,0,0.1)"}var hJ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=t.config,{elements:i}=s,a=RT(r)||dJ(s)||i&&RT(i)||fJ();if(!n.forceOverride&&a)return;const o=uJ(t);r.forEach(o)}};function mJ(t,e,n,r,s){const i=s.samples||r;if(i>=n)return t.slice(e,e+n);const a=[],o=(n-2)/(i-2);let l=0;const u=e+n-1;let d=e,h,p,g,x,v;for(a[l++]=t[d],h=0;h<i-2;h++){let b=0,w=0,N;const C=Math.floor((h+1)*o)+1+e,T=Math.min(Math.floor((h+2)*o)+1,n)+e,j=T-C;for(N=C;N<T;N++)b+=t[N].x,w+=t[N].y;b/=j,w/=j;const E=Math.floor(h*o)+1+e,O=Math.min(Math.floor((h+1)*o)+1,n)+e,{x:M,y:_}=t[d];for(g=x=-1,N=E;N<O;N++)x=.5*Math.abs((M-b)*(t[N].y-_)-(M-t[N].x)*(w-_)),x>g&&(g=x,p=t[N],v=N);a[l++]=p,d=v}return a[l++]=t[u],a}function pJ(t,e,n,r){let s=0,i=0,a,o,l,u,d,h,p,g,x,v;const b=[],w=e+n-1,N=t[e].x,T=t[w].x-N;for(a=e;a<e+n;++a){o=t[a],l=(o.x-N)/T*r,u=o.y;const j=l|0;if(j===d)u<x?(x=u,h=a):u>v&&(v=u,p=a),s=(i*s+o.x)/++i;else{const E=a-1;if(!at(h)&&!at(p)){const O=Math.min(h,p),M=Math.max(h,p);O!==g&&O!==E&&b.push({...t[O],x:s}),M!==g&&M!==E&&b.push({...t[M],x:s})}a>0&&E!==g&&b.push(t[E]),b.push(o),d=j,i=0,x=v=u,h=p=g=a}}return b}function I_(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function FT(t){t.data.datasets.forEach(e=>{I_(e)})}function gJ(t,e){const n=e.length;let r=0,s;const{iScale:i}=t,{min:a,max:o,minDefined:l,maxDefined:u}=i.getUserBounds();return l&&(r=kn(Ui(e,i.axis,a).lo,0,n-1)),u?s=kn(Ui(e,i.axis,o).hi+1,r,n)-r:s=n-r,{start:r,count:s}}var xJ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){FT(t);return}const r=t.width;t.data.datasets.forEach((s,i)=>{const{_data:a,indexAxis:o}=s,l=t.getDatasetMeta(i),u=a||s.data;if(Ad([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=t.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:h,count:p}=gJ(l,u);const g=n.threshold||4*r;if(p<=g){I_(s);return}at(a)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let x;switch(n.algorithm){case"lttb":x=mJ(u,h,p,r,n);break;case"min-max":x=pJ(u,h,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(t){FT(t)}};function yJ(t,e,n){const r=t.segments,s=t.points,i=e.points,a=[];for(const o of r){let{start:l,end:u}=o;u=tx(l,u,s);const d=o2(n,s[l],s[u],o.loop);if(!e.segments){a.push({source:o,target:d,start:s[l],end:s[u]});continue}const h=m_(e,d);for(const p of h){const g=o2(n,i[p.start],i[p.end],p.loop),x=h_(o,s,g);for(const v of x)a.push({source:v,target:p,start:{[n]:zT(d,g,"start",Math.max)},end:{[n]:zT(d,g,"end",Math.min)}})}}return a}function o2(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=Xn(s),i=Xn(i)),{property:t,start:s,end:i}}function bJ(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:o})=>{o=tx(a,o,s);const l=s[a],u=s[o];r!==null?(i.push({x:l.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function tx(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function zT(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function L_(t,e){let n=[],r=!1;return Lt(t)?(r=!0,n=t):n=bJ(t,e),n.length?new ex({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function VT(t){return t&&t.fill!==!1}function vJ(t,e,n){let s=t[e].fill;const i=[e];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Zt(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function wJ(t,e,n){const r=jJ(t);if(ot(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Zt(s)&&Math.floor(s)===s?SJ(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function SJ(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function NJ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ot(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function CJ(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:ot(t)?r=t.value:r=e.getBaseValue(),r}function jJ(t){const e=t.options,n=e.fill;let r=Ze(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function kJ(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,a=r.points,o=TJ(e,n);o.push(L_({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)EJ(s,a[d],o)}return new ex({points:s,options:{}})}function TJ(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function EJ(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:o,point:l}=MJ(i,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function MJ(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,a=t.points;let o=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],h=a[d.start][n],p=a[d.end][n];if(Hi(s,h,p)){o=s===h,l=s===p;break}}return{first:o,last:l,point:r}}class R_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:_t},e.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function AJ(t){const{chart:e,fill:n,line:r}=t;if(Zt(n))return OJ(e,n);if(n==="stack")return kJ(t);if(n==="shape")return!0;const s=PJ(t);return s instanceof R_?s:L_(s,r)}function OJ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function PJ(t){return(t.scale||{}).getPointPositionForValue?DJ(t):_J(t)}function _J(t){const{scale:e={},fill:n}=t,r=NJ(n,e);if(Zt(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function DJ(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,a=CJ(n,e,i),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new R_({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)o.push(e.getPointPositionForValue(l,a));return o}function ev(t,e,n){const r=AJ(e),{chart:s,index:i,line:a,scale:o,axis:l}=e,u=a.options,d=u.fill,h=u.backgroundColor,{above:p=h,below:g=h}=d||{},x=s.getDatasetMeta(i),v=p_(s,x);r&&a.points.length&&(Y0(t,n),IJ(t,{line:a,target:r,above:p,below:g,area:n,scale:o,axis:l,clip:v}),X0(t))}function IJ(t,e){const{line:n,target:r,above:s,below:i,area:a,scale:o,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?($T(t,r,a.top),tv(t,{line:n,target:r,color:s,scale:o,property:u,clip:l}),t.restore(),t.save(),$T(t,r,a.bottom)):u==="y"&&(BT(t,r,a.left),tv(t,{line:n,target:r,color:i,scale:o,property:u,clip:l}),t.restore(),t.save(),BT(t,r,a.right),d=s)),tv(t,{line:n,target:r,color:d,scale:o,property:u,clip:l}),t.restore()}function $T(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=s[l],h=s[tx(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function BT(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=s[l],h=s[tx(l,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function tv(t,e){const{line:n,target:r,property:s,color:i,scale:a,clip:o}=e,l=yJ(n,r,s);for(const{source:u,target:d,start:h,end:p}of l){const{style:{backgroundColor:g=i}={}}=u,x=r!==!0;t.save(),t.fillStyle=g,LJ(t,a,o,x&&o2(s,h,p)),t.beginPath();const v=!!n.pathSegment(t,u);let b;if(x){v?t.closePath():HT(t,r,p,s);const w=!!r.pathSegment(t,d,{move:v,reverse:!0});b=v&&w,b||HT(t,r,h,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function LJ(t,e,n,r){const s=e.chart.chartArea,{property:i,start:a,end:o}=r||{};if(i==="x"||i==="y"){let l,u,d,h;i==="x"?(l=a,u=s.top,d=o,h=s.bottom):(l=s.left,u=a,d=s.right,h=o),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),t.rect(l,u,d-l,h-u),t.clip()}}function HT(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var RJ={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,a,o,l;for(a=0;a<r;++a)i=t.getDatasetMeta(a),o=i.dataset,l=null,o&&o.options&&o instanceof ex&&(l={visible:t.isDatasetVisible(a),index:a,fill:wJ(o,a,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,s.push(l);for(a=0;a<r;++a)l=s[a],!(!l||l.fill===!1)&&(l.fill=vJ(s,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const o=s[a].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&ev(t.ctx,o,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;VT(i)&&ev(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!VT(r)||n.drawTime!=="beforeDatasetDraw"||ev(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const UT=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},FJ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class WT extends ca{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=jt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=vn(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=UT(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,s,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+o;let h=e;i.textAlign="left",i.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((x,v)=>{const b=r+n/2+i.measureText(x.text).width;(v===0||u[u.length-1]+b+2*o>a)&&(h+=d,u[u.length-(v>0?0:1)]=0,g+=d,p++),l[v]={left:0,top:g,row:p,width:b,height:s},u[u.length-1]+=b+o}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=o,p=0,g=0,x=0,v=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:N,itemHeight:C}=zJ(r,n,i,b,s);w>0&&g+C+2*o>d&&(h+=p+o,u.push({width:p,height:g}),x+=p+o,v++,p=g=0),l[w]={left:x,top:g,col:v,width:N,height:C},p=Math.max(p,N),g+=C+o}),h+=p,u.push({width:p,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=Uc(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=Gn(r,this.left+s,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=Gn(r,this.left+s,this.right-this.lineWidths[o])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+s}else{let o=0,l=Gn(r,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=Gn(r,this.top+e+s,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Y0(e,this),this._draw(),X0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,o=Rt.color,l=Uc(e.rtl,this.left,this.width),u=vn(a.font),{padding:d}=a,h=u.size,p=h/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:x,boxHeight:v,itemHeight:b}=UT(a,h),w=function(E,O,M){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;s.save();const _=Ze(M.lineWidth,1);if(s.fillStyle=Ze(M.fillStyle,o),s.lineCap=Ze(M.lineCap,"butt"),s.lineDashOffset=Ze(M.lineDashOffset,0),s.lineJoin=Ze(M.lineJoin,"miter"),s.lineWidth=_,s.strokeStyle=Ze(M.strokeStyle,o),s.setLineDash(Ze(M.lineDash,[])),a.usePointStyle){const D={radius:v*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:_},I=l.xPlus(E,x/2),F=O+p;n_(s,D,I,F,a.pointStyleWidth&&x)}else{const D=O+Math.max((h-v)/2,0),I=l.leftForLtr(E,x),F=ul(M.borderRadius);s.beginPath(),Object.values(F).some(Y=>Y!==0)?Nf(s,{x:I,y:D,w:x,h:v,radius:F}):s.rect(I,D,x,v),s.fill(),_!==0&&s.stroke()}s.restore()},N=function(E,O,M){Tl(s,M.text,E,O+b/2,u,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},C=this.isHorizontal(),T=this._computeTitleHeight();C?g={x:Gn(i,this.left+d,this.right-r[0]),y:this.top+d+T,line:0}:g={x:this.left+d,y:Gn(i,this.top+T+d,this.bottom-n[0].height),line:0},u_(this.ctx,e.textDirection);const j=b+d;this.legendItems.forEach((E,O)=>{s.strokeStyle=E.fontColor,s.fillStyle=E.fontColor;const M=s.measureText(E.text).width,_=l.textAlign(E.textAlign||(E.textAlign=a.textAlign)),D=x+p+M;let I=g.x,F=g.y;l.setWidth(this.width),C?O>0&&I+D+d>this.right&&(F=g.y+=j,g.line++,I=g.x=Gn(i,this.left+d,this.right-r[g.line])):O>0&&F+j>this.bottom&&(I=g.x=I+n[g.line].width+d,g.line++,F=g.y=Gn(i,this.top+T+d,this.bottom-n[g.line].height));const Y=l.x(I);if(w(Y,F,E),I=XG(_,I+x+p,C?I+D:this.right,e.rtl),N(l.x(I),F,E),C)g.x+=D+d;else if(typeof E.text!="string"){const G=u.lineHeight;g.y+=F_(E,G)+d}else g.y+=j}),d_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=vn(n.font),s=er(n.padding);if(!n.display)return;const i=Uc(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,u=s.top+l;let d,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,h=Gn(e.align,h,this.right-p);else{const x=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=u+Gn(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=Gn(o,h,h+p);a.textAlign=i.textAlign(xS(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Tl(a,n.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,n=vn(e.font),r=er(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Hi(e,this.left,this.right)&&Hi(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Hi(e,s.left,s.left+s.width)&&Hi(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!BJ(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=FJ(s,r);s&&!i&&jt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&jt(n.onHover,[e,r,this],this)}else r&&jt(n.onClick,[e,r,this],this)}}function zJ(t,e,n,r,s){const i=VJ(r,t,e,n),a=$J(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function VJ(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function $J(t,e,n){let r=t;return typeof e.text!="string"&&(r=F_(e,n)),r}function F_(t,e){const n=t.text?t.text.length:0;return e*n}function BJ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var HJ={id:"legend",_element:WT,start(t,e,n){const r=t.legend=new WT({ctx:t.ctx,options:n,chart:t});Jn.configure(t,r,n),Jn.addBox(t,r)},stop(t){Jn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Jn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=er(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class TS extends ca{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Lt(r.text)?r.text.length:1;this._padding=er(r.padding);const i=s*vn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,o=a.align;let l=0,u,d,h;return this.isHorizontal()?(d=Gn(o,r,i),h=n+e,u=i-r):(a.position==="left"?(d=r+e,h=Gn(o,s,n),l=ft*-.5):(d=i-e,h=Gn(o,n,s),l=ft*.5),u=s-n),{titleX:d,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=vn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(i);Tl(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:xS(n.align),textBaseline:"middle",translation:[a,o]})}}function UJ(t,e){const n=new TS({ctx:t.ctx,options:e,chart:t});Jn.configure(t,n,e),Jn.addBox(t,n),t.titleBlock=n}var WJ={id:"title",_element:TS,start(t,e,n){UJ(t,n)},stop(t){const e=t.titleBlock;Jn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Jn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wm=new WeakMap;var qJ={id:"subtitle",start(t,e,n){const r=new TS({ctx:t.ctx,options:n,chart:t});Jn.configure(t,r,n),Jn.addBox(t,r),Wm.set(t,r)},stop(t){Jn.removeBox(t,Wm.get(t)),Wm.delete(t)},beforeUpdate(t,e,n){const r=Wm.get(t);Jn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pd={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=e2(e,u);d<s&&(s=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Ws(t,e){return e&&(Lt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ii(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function KJ(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function qT(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=vn(e.bodyFont),u=vn(e.titleFont),d=vn(e.footerFont),h=i.length,p=s.length,g=r.length,x=er(e.padding);let v=x.height,b=0,w=r.reduce((T,j)=>T+j.before.length+j.lines.length+j.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),w){const T=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;v+=g*T+(w-g)*l.lineHeight+(w-1)*e.bodySpacing}p&&(v+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let N=0;const C=function(T){b=Math.max(b,n.measureText(T).width+N)};return n.save(),n.font=u.string,vt(t.title,C),n.font=l.string,vt(t.beforeBody.concat(t.afterBody),C),N=e.displayColors?a+2+e.boxPadding:0,vt(r,T=>{vt(T.before,C),vt(T.lines,C),vt(T.after,C)}),N=0,n.font=d.string,vt(t.footer,C),n.restore(),b+=x.width,{width:b,height:v}}function GJ(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function YJ(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function XJ(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return r==="center"?u=s<=(o+l)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),YJ(u,t,e,n)&&(u="center"),u}function KT(t,e,n){const r=n.yAlign||e.yAlign||GJ(t,n);return{xAlign:n.xAlign||e.xAlign||XJ(t,e,n,r),yAlign:r}}function QJ(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function JJ(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function GT(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,u=s+i,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=ul(a);let x=QJ(e,o);const v=JJ(e,l,u);return l==="center"?o==="left"?x+=u:o==="right"&&(x-=u):o==="left"?x-=Math.max(d,p)+s:o==="right"&&(x+=Math.max(h,g)+s),{x:kn(x,0,r.width-e.width),y:kn(v,0,r.height-e.height)}}function qm(t,e,n){const r=er(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function YT(t){return Ws([],Ii(t))}function ZJ(t,e,n){return bo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function XT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const z_={beforeTitle:Ei,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ei,beforeBody:Ei,beforeLabel:Ei,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return at(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ei,afterBody:Ei,beforeFooter:Ei,footer:Ei,afterFooter:Ei};function Sr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?z_[e].call(n,r):s}class QT extends ca{static positioners=Pd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new g_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=ZJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Sr(r,"beforeTitle",this,e),i=Sr(r,"title",this,e),a=Sr(r,"afterTitle",this,e);let o=[];return o=Ws(o,Ii(s)),o=Ws(o,Ii(i)),o=Ws(o,Ii(a)),o}getBeforeBody(e,n){return YT(Sr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return vt(e,i=>{const a={before:[],lines:[],after:[]},o=XT(r,i);Ws(a.before,Ii(Sr(o,"beforeLabel",this,i))),Ws(a.lines,Sr(o,"label",this,i)),Ws(a.after,Ii(Sr(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return YT(Sr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Sr(r,"beforeFooter",this,e),i=Sr(r,"footer",this,e),a=Sr(r,"afterFooter",this,e);let o=[];return o=Ws(o,Ii(s)),o=Ws(o,Ii(i)),o=Ws(o,Ii(a)),o}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(KJ(this.chart,n[l]));return e.filter&&(o=o.filter((d,h,p)=>e.filter(d,h,p,r))),e.itemSort&&(o=o.sort((d,h)=>e.itemSort(d,h,r))),vt(o,d=>{const h=XT(e.callbacks,d);s.push(Sr(h,"labelColor",this,d)),i.push(Sr(h,"labelPointStyle",this,d)),a.push(Sr(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=Pd[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=qT(this,r),u=Object.assign({},o,l),d=KT(this.chart,r,u),h=GT(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=ul(o),{x:p,y:g}=e,{width:x,height:v}=n;let b,w,N,C,T,j;return i==="center"?(T=g+v/2,s==="left"?(b=p,w=b-a,C=T+a,j=T-a):(b=p+x,w=b+a,C=T-a,j=T+a),N=b):(s==="left"?w=p+Math.max(l,d)+a:s==="right"?w=p+x-Math.max(u,h)-a:w=this.caretX,i==="top"?(C=g,T=C-a,b=w-a,N=w+a):(C=g+v,T=C+a,b=w+a,N=w-a),j=C),{x1:b,x2:w,x3:N,y1:C,y2:T,y3:j}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,o,l;if(i){const u=Uc(r.rtl,this.x,this.width);for(e.x=qm(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=vn(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=vn(i.bodyFont),h=qm(this,"left",i),p=s.x(h),g=l<d.lineHeight?(d.lineHeight-l)/2:0,x=n.y+g;if(i.usePointStyle){const v={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=s.leftForLtr(p,u)+u/2,w=x+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,n2(e,v,b,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,n2(e,v,b,w)}else{e.lineWidth=ot(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(p,u),b=s.leftForLtr(s.xPlus(p,1),u-2),w=ul(a.borderRadius);Object.values(w).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Nf(e,{x:v,y:x,w:u,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Nf(e,{x:b,y:x+1,w:u-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,x,u,l),e.strokeRect(v,x,u,l),e.fillStyle=a.backgroundColor,e.fillRect(b,x+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=r,h=vn(r.bodyFont);let p=h.lineHeight,g=0;const x=Uc(r.rtl,this.x,this.width),v=function(M){n.fillText(M,x.x(e.x+g),e.y+p/2),e.y+=p+i},b=x.textAlign(a);let w,N,C,T,j,E,O;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=qm(this,b,r),n.fillStyle=r.bodyColor,vt(this.beforeBody,v),g=o&&b!=="right"?a==="center"?u/2+d:u+2+d:0,T=0,E=s.length;T<E;++T){for(w=s[T],N=this.labelTextColors[T],n.fillStyle=N,vt(w.before,v),C=w.lines,o&&C.length&&(this._drawColorBox(n,e,T,x,r),p=Math.max(h.lineHeight,l)),j=0,O=C.length;j<O;++j)v(C[j]),p=h.lineHeight;vt(w.after,v)}g=0,p=h.lineHeight,vt(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,o;if(i){const l=Uc(r.rtl,this.x,this.width);for(e.x=qm(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=vn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=r,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:x}=ul(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+h,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(o+u-p,l),n.quadraticCurveTo(o+u,l,o+u,l+p),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(o+u,l+d-x),n.quadraticCurveTo(o+u,l+d,o+u-x,l+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(o+g,l+d),n.quadraticCurveTo(o,l+d,o,l+d-g),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(o,l+h),n.quadraticCurveTo(o,l,o+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=Pd[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=qT(this,e),l=Object.assign({},a,this._size),u=KT(n,e,l),d=GT(e,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=er(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),u_(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),d_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),i=!ug(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),o=this._positionChanged(a,e),l=n||!ug(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=Pd[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}var eZ={id:"tooltip",_element:QT,positioners:Pd,afterInit(t,e,n){n&&(t.tooltip=new QT({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:z_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},tZ=Object.freeze({__proto__:null,Colors:hJ,Decimation:xJ,Filler:RJ,Legend:HJ,SubTitle:qJ,Title:WJ,Tooltip:eZ});const nZ=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function rZ(t,e,n,r){const s=t.indexOf(e);if(s===-1)return nZ(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const sZ=(t,e)=>t===null?null:kn(Math.round(t),0,e);function JT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class iZ extends $l{static id="category";static defaults={ticks:{callback:JT}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(at(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:rZ(r,e,Ze(n,e),this._addedLabels),sZ(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return JT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function aZ(t,e){const n=[],{bounds:s,step:i,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:h,includeBounds:p}=t,g=i||1,x=d-1,{min:v,max:b}=e,w=!at(a),N=!at(o),C=!at(u),T=(b-v)/(h+1);let j=q3((b-v)/x/g)*g,E,O,M,_;if(j<1e-14&&!w&&!N)return[{value:v},{value:b}];_=Math.ceil(b/j)-Math.floor(v/j),_>x&&(j=q3(_*j/x/g)*g),at(l)||(E=Math.pow(10,l),j=Math.ceil(j*E)/E),s==="ticks"?(O=Math.floor(v/j)*j,M=Math.ceil(b/j)*j):(O=v,M=b),w&&N&&i&&HG((o-a)/i,j/1e3)?(_=Math.round(Math.min((o-a)/j,d)),j=(o-a)/_,O=a,M=o):C?(O=w?a:O,M=N?o:M,_=u-1,j=(M-O)/_):(_=(M-O)/j,Hd(_,Math.round(_),j/1e3)?_=Math.round(_):_=Math.ceil(_));const D=Math.max(K3(j),K3(O));E=Math.pow(10,at(l)?D:l),O=Math.round(O*E)/E,M=Math.round(M*E)/E;let I=0;for(w&&(p&&O!==a?(n.push({value:a}),O<a&&I++,Hd(Math.round((O+I*j)*E)/E,a,ZT(a,T,t))&&I++):O<a&&I++);I<_;++I){const F=Math.round((O+I*j)*E)/E;if(N&&F>o)break;n.push({value:F})}return N&&p&&M!==o?n.length&&Hd(n[n.length-1].value,o,ZT(o,T,t))?n[n.length-1].value=o:n.push({value:o}):(!N||M===o)&&n.push({value:M}),n}function ZT(t,e,{horizontal:n,minRotation:r}){const s=Ps(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class xg extends $l{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return at(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=n?s:l,o=l=>i=r?i:l;if(e){const l=ai(s),u=ai(i);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=aZ(s,i);return e.bounds==="ticks"&&KP(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return uh(e,this.chart.options.locale,this.options.ticks.format)}}class oZ extends xg{static id="linear";static defaults={ticks:{callback:G0.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?e:0,this.max=Zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ps(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const jf=t=>Math.floor(Ua(t)),Bo=(t,e)=>Math.pow(10,jf(t)+e);function eE(t){return t/Math.pow(10,jf(t))===1}function tE(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function lZ(t,e){const n=e-t;let r=jf(n);for(;tE(t,e,r)>10;)r++;for(;tE(t,e,r)<10;)r--;return Math.min(r,jf(t))}function cZ(t,{min:e,max:n}){e=zr(t.min,e);const r=[],s=jf(e);let i=lZ(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),l=s>i?Math.pow(10,s):0,u=Math.round((e-l)*a)/a,d=Math.floor((e-l)/o/10)*o*10;let h=Math.floor((u-d)/Math.pow(10,i)),p=zr(t.min,Math.round((l+d+h*Math.pow(10,i))*a)/a);for(;p<n;)r.push({value:p,major:eE(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,a=i>=0?1:a),p=Math.round((l+d+h*Math.pow(10,i))*a)/a;const g=zr(t.max,p);return r.push({value:g,major:eE(g),significand:h}),r}class uZ extends $l{static id="logarithmic";static defaults={ticks:{callback:G0.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=xg.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Zt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?Math.max(0,e):null,this.max=Zt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zt(this._userMin)&&(this.min=e===Bo(this.min,0)?Bo(this.min,-1):Bo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=o=>r=e?r:o,a=o=>s=n?s:o;r===s&&(r<=0?(i(1),a(10)):(i(Bo(r,-1)),a(Bo(s,1)))),r<=0&&i(Bo(s,-1)),s<=0&&a(Bo(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=cZ(n,this);return e.bounds==="ticks"&&KP(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":uh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ua(e),this._valueRange=Ua(this.max)-Ua(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ua(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function l2(t){const e=t.ticks;if(e.display&&t.display){const n=er(e.backdropPadding);return Ze(e.font&&e.font.size,Rt.font.size)+n.height}return 0}function dZ(t,e,n){return n=Lt(n)?n:[n],{w:aY(t,e.string,n),h:n.length*e.lineHeight}}function nE(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function fZ(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?ft/i:0;for(let l=0;l<i;l++){const u=a.setContext(t.getPointLabelContext(l));s[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+s[l],o),h=vn(u.font),p=dZ(t.ctx,h,t._pointLabels[l]);r[l]=p;const g=Xn(t.getIndexAngle(l)+o),x=Math.round(pS(g)),v=nE(x,d.x,p.w,0,180),b=nE(x,d.y,p.h,90,270);hZ(n,e,g,v,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=gZ(t,r,s)}function hZ(t,e,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+o)),s.start<e.t?(l=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function mZ(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:a,size:o}=n,l=t.getPointPosition(e,r+s+a,i),u=Math.round(pS(Xn(l.angle+an))),d=bZ(l.y,o.h,u),h=xZ(u),p=yZ(l.x,o.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:p,top:d,right:p+o.w,bottom:d+o.h}}function pZ(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(Wi({x:n,y:r},e)||Wi({x:n,y:i},e)||Wi({x:s,y:r},e)||Wi({x:s,y:i},e))}function gZ(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:a,display:o}=i.pointLabels,l={extra:l2(i)/2,additionalAngle:a?ft/s:0};let u;for(let d=0;d<s;d++){l.padding=n[d],l.size=e[d];const h=mZ(t,d,l);r.push(h),o==="auto"&&(h.visible=pZ(h,u),h.visible&&(u=h))}return r}function xZ(t){return t===0||t===180?"center":t<180?"left":"right"}function yZ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function bZ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function vZ(t,e,n){const{left:r,top:s,right:i,bottom:a}=n,{backdropColor:o}=e;if(!at(o)){const l=ul(e.borderRadius),u=er(e.backdropPadding);t.fillStyle=o;const d=r-u.left,h=s-u.top,p=i-r+u.width,g=a-s+u.height;Object.values(l).some(x=>x!==0)?(t.beginPath(),Nf(t,{x:d,y:h,w:p,h:g,radius:l}),t.fill()):t.fillRect(d,h,p,g)}}function wZ(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const a=r.setContext(t.getPointLabelContext(s));vZ(n,a,i);const o=vn(a.font),{x:l,y:u,textAlign:d}=i;Tl(n,t._pointLabels[s],l,u+o.lineHeight/2,o,{color:a.color,textAlign:d,textBaseline:"middle"})}}function V_(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,_t);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=t.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function SZ(t,e,n,r,s){const i=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=l,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),V_(t,n,a,r),i.closePath(),i.stroke(),i.restore())}function NZ(t,e,n){return bo(t,{label:n,index:e,type:"pointLabel"})}class CZ extends xg{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:G0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=er(l2(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Zt(e)&&!isNaN(e)?e:0,this.max=Zt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/l2(this.options))}generateTickLabels(e){xg.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=jt(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?fZ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=_t/(this._pointLabels.length||1),r=this.options.startAngle||0;return Xn(e*n+Ps(r))}getDistanceFromCenterForValue(e){if(at(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(at(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return NZ(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-an+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),V_(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,a=this._pointLabels.length;let o,l,u;if(n.pointLabels.display&&wZ(this,a),s.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(h),g=s.setContext(p),x=i.setContext(p);SZ(this,g,l,a,x)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const d=r.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:p}=d;!p||!h||(e.lineWidth=p,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),d=vn(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const h=er(u.backdropPadding);e.fillRect(-a/2-h.left,-i-d.size/2-h.top,a+h.width,d.size+h.height)}Tl(e,o.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}const nx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Er=Object.keys(nx);function rE(t,e){return t-e}function sE(t,e){if(at(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Zt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(tu(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function iE(t,e,n,r){const s=Er.length;for(let i=Er.indexOf(t);i<s-1;++i){const a=nx[Er[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return Er[i]}return Er[s-1]}function jZ(t,e,n,r,s){for(let i=Er.length-1;i>=Er.indexOf(n);i--){const a=Er[i];if(nx[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Er[n?Er.indexOf(n):0]}function kZ(t){for(let e=Er.indexOf(t)+1,n=Er.length;e<n;++e)if(nx[Er[e]].common)return Er[e]}function aE(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=gS(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function TZ(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function oE(t,e,n){const r=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,r.push({value:o,major:!1});return i===0||!n?r:TZ(t,r,s,n)}class c2 extends $l{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new EX._date(e.adapters.date);s.init(n),Bd(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:sE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Zt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Zt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=KG(s,i,a);return this._unit=n.unit||(r.autoSkip?iE(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):jZ(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:kZ(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),oE(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=kn(n,0,a),r=kn(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||iE(i.minUnit,n,r,this._getLabelCapacity(n)),o=Ze(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,u=tu(l)||l===!0,d={};let h=n,p,g;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(p=h,g=0;p<r;p=+e.add(p,o,a),g++)aE(d,p,x);return(p===r||s.bounds==="ticks"||g===1)&&aE(d,p,x),Object.keys(d).sort(rE).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return jt(a,[e,n,r],this);const o=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],h=u&&o[u],p=r[n],g=u&&h&&p&&p.major;return this._adapter.format(e,s||(g?h:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Ps(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,oE(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(sE(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return XP(e.sort(rE))}}function Km(t,e,n){let r=0,s=t.length-1,i,a,o,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Ui(t,"pos",e)),{pos:i,time:o}=t[r],{pos:a,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Ui(t,"time",e)),{time:i,pos:o}=t[r],{time:a,pos:l}=t[s]);const u=a-i;return u?o+(l-o)*(e-i)/u:o}class EZ extends c2{static id="timeseries";static defaults=c2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Km(n,this.min),this._tableRange=Km(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=s.length;a<o;++a)d=s[a+1],l=s[a-1],u=s[a],Math.round((d+l)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Km(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Km(this._table,r*this._tableRange+this._minPos,!0)}}var MZ=Object.freeze({__proto__:null,CategoryScale:iZ,LinearScale:oZ,LogarithmicScale:uZ,RadialLinearScale:CZ,TimeScale:c2,TimeSeriesScale:EZ});const AZ=[TX,aJ,tZ,MZ],$_="label";function lE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function OZ(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function B_(t,e){t.labels=e}function H_(t,e,n=$_){const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function PZ(t,e=$_){const n={labels:[],datasets:[]};return B_(n,t.labels),H_(n,t.datasets,e),n}function _Z(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:u=[],fallbackContent:d,updateMode:h,...p}=t,g=A.useRef(null),x=A.useRef(null),v=()=>{g.current&&(x.current=new Z0(g.current,{type:a,data:PZ(o,i),options:l&&{...l},plugins:u}),lE(e,x.current))},b=()=>{lE(e,null),x.current&&(x.current.destroy(),x.current=null)};return A.useEffect(()=>{!s&&x.current&&l&&OZ(x.current,l)},[s,l]),A.useEffect(()=>{!s&&x.current&&B_(x.current.config.data,o.labels)},[s,o.labels]),A.useEffect(()=>{!s&&x.current&&o.datasets&&H_(x.current.config.data,o.datasets,i)},[s,o.datasets]),A.useEffect(()=>{x.current&&(s?(b(),setTimeout(v)):x.current.update(h))},[s,l,o.labels,o.datasets,h]),A.useEffect(()=>{x.current&&(b(),setTimeout(v))},[a]),A.useEffect(()=>(v(),()=>b()),[]),c.jsx("canvas",{ref:g,role:"img",height:n,width:r,...p,children:d})}const DZ=A.forwardRef(_Z);function IZ(t,e){return Z0.register(e),A.forwardRef((n,r)=>c.jsx(DZ,{...n,ref:r,type:t}))}const LZ=IZ("line",b_);Z0.register(...AZ);function RZ({dashboardStatistic:t,statisticFollow:e}){const n={all:"Tng doanh thu & s n hng",member:"Doanh thu & n hng - Khch thnh vin",guest:"Doanh thu & n hng - Khch vng lai"},r={labels:t.map(i=>i.period),datasets:[{label:"Doanh thu (VND)",data:t.map(i=>Number(e==="all"?i.totalRevenue:e==="member"?i.member.memberRevenue:i.guest.guestRevenue)),backgroundColor:"green",borderColor:"green",borderWidth:2,tension:.4,yAxisID:"y-doanhthu"},{label:"Tng n hng",data:t.map(i=>Number(e==="all"?i.totalOrders:e==="member"?i.member.memberOrders:i.guest.guestOrders)),backgroundColor:"orange",borderColor:"orange",borderWidth:2,tension:.4,yAxisID:"y-donhang"}]},s={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{font:{size:14},padding:20}},title:{display:!0,text:n[e],font:{size:18,weight:"bold"},padding:{bottom:20}},tooltip:{callbacks:{label:function(i){const a=i.dataset.label||"",o=i.parsed.y;return a.includes("Doanh thu")?`${a}: ${new Intl.NumberFormat("vi-VN").format(o)} `:`${a}: ${o} n`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},"y-doanhthu":{type:"linear",position:"left",beginAtZero:!0,title:{display:!0,text:"Doanh thu (VND)",font:{size:14}},ticks:{callback:function(i){return new Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"short"}).format(i)}}},"y-donhang":{type:"linear",position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1},title:{display:!0,text:"S n hng",font:{size:14}},ticks:{stepSize:1,font:{size:12}}}}};return c.jsx("div",{className:"w-full h-[50rem]",children:c.jsx(LZ,{data:r,options:s})})}function FZ(){const[t,e]=A.useState({startDate:"",endDate:"",groupBy:"day"}),[n,r]=A.useState(t),[s,i]=A.useState("all"),{data:a,isLoading:o}=et({queryKey:["overview",n],queryFn:()=>lG(n)}),{data:l,isLoading:u}=et({queryKey:["dashboardStatistic",n],queryFn:()=>cG(n)}),d=g=>{const{name:x,value:v}=g.target;e(b=>({...b,[x]:v}))},h=()=>{r({...t})},p=g=>Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"long"}).format(g);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[c.jsxs("div",{className:"",children:[c.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Tng quan"}),c.jsx("p",{className:"pt-2",children:"Shop bn qun o .NTK"}),c.jsxs("div",{className:"flex gap-4 text-[1.4rem] py-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"groupBy",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),c.jsxs("select",{name:"groupBy",id:"groupBy",value:t.groupBy,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[c.jsx("option",{value:"day",children:"Ngy"}),c.jsx("option",{value:"week",children:"Tun"}),c.jsx("option",{value:"month",children:"Thng"}),c.jsx("option",{value:"year",children:"Nm"})]})]}),c.jsxs("div",{className:"flex items-end gap-4",children:[c.jsxs("button",{className:"px-6 h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>h(),children:[c.jsx($,{icon:ms}),c.jsx("span",{children:"p dng"})]}),c.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>r({endDate:"",startDate:"",groupBy:"day"}),children:c.jsx($,{icon:cS})})]})]})]}),o?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:Array.from({length:4}).map((g,x)=>c.jsxs("div",{className:" shadow-md border border-gray-200 space-y-4 bg-gray-100 p-8 rounded-lg animate-pulse",children:[c.jsx("span",{className:"block w-[20rem] h-[1.5rem] rounded-full bg-gray-200"}),c.jsx("div",{className:"w-[4rem] h-[4rem] bg-gray-200 rounded-xl"}),c.jsx("span",{className:"block w-[15rem] h-[1.5rem] bg-gray-200 rounded-full"})]},x))}):a&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:[c.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#7686ff] text-white p-8 rounded-lg",children:[c.jsx("span",{className:"",children:"Tng n hng"}),c.jsx("div",{className:"text-[3.2rem]",children:a.totalOrders}),c.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),c.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#00d193] text-white p-8 rounded-lg",children:[c.jsx("span",{className:"",children:"Doanh thu"}),c.jsx("div",{className:"text-[3.2rem]",children:p(a.totalRevenue)}),c.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),c.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#ff9a5b] text-white p-8 rounded-lg",children:[c.jsx("span",{className:"",children:"Tng cha thu"}),c.jsx("div",{className:"text-[3.2rem]",children:p(a.totalUnpaid)}),c.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),c.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#6c62ff] text-white p-8 rounded-lg",children:[c.jsx("span",{className:"",children:"Gi tr TB / n"}),c.jsx("div",{className:"text-[3.2rem]",children:p(a.avgOrderValue)}),c.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]})]})]}),c.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[c.jsx("h3",{className:"text-[2rem] font-bold",children:"Thng k doanh thu"}),c.jsxs("div",{className:"space-y-2 mt-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("input",{type:"radio",id:"all",name:"radio",className:"",checked:s==="all",style:{scale:"1.2"},onChange:()=>i("all")}),c.jsx("label",{htmlFor:"all",children:"Tt c"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("input",{type:"radio",id:"member",name:"radio",className:"",checked:s==="member",style:{scale:"1.2"},onChange:()=>i("member")}),c.jsx("label",{htmlFor:"member",children:"Khch thnh vin"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("input",{type:"radio",id:"guest",name:"radio",className:"",checked:s==="guest",style:{scale:"1.2"},onChange:()=>i("guest")}),c.jsx("label",{htmlFor:"guest",children:"Khch vng lai"})]})]}),u?c.jsx("div",{children:"ang ti d liu"}):c.jsx(RZ,{dashboardStatistic:l,statisticFollow:s})]})]})}var dh=t=>t.type==="checkbox",tl=t=>t instanceof Date,kr=t=>t==null;const U_=t=>typeof t=="object";var mn=t=>!kr(t)&&!Array.isArray(t)&&U_(t)&&!tl(t),W_=t=>mn(t)&&t.target?dh(t.target)?t.target.checked:t.target.value:t,zZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,q_=(t,e)=>t.has(zZ(e)),VZ=t=>{const e=t.constructor&&t.constructor.prototype;return mn(e)&&e.hasOwnProperty("isPrototypeOf")},ES=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(ES&&(t instanceof Blob||r))&&(n||mn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!VZ(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=bn(t[s]));else return t;return e}var rx=t=>/^\w*$/.test(t),Xt=t=>t===void 0,MS=t=>Array.isArray(t)?t.filter(Boolean):[],AS=t=>MS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(t,e,n)=>{if(!e||!mn(t))return n;const r=(rx(e)?[e]:AS(e)).reduce((s,i)=>kr(s)?s:s[i],t);return Xt(r)||r===t?Xt(t[e])?n:t[e]:r},Vr=t=>typeof t=="boolean",bt=(t,e,n)=>{let r=-1;const s=rx(e)?[e]:AS(e),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let l=n;if(r!==a){const u=t[o];l=mn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const yg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Es={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},K_=ge.createContext(null);K_.displayName="HookFormContext";const OS=()=>ge.useContext(K_);var G_=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Es.all&&(e._proxyFormState[a]=!r||Es.all),n&&(n[a]=!0),t[a]}});return s};const PS=typeof window<"u"?ge.useLayoutEffect:ge.useEffect;function $Z(t){const e=OS(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,o]=ge.useState(n._formState),l=ge.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return PS(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:u=>{!r&&o({...n._formState,...u})}}),[s,r,i]),ge.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),ge.useMemo(()=>G_(a,n,l.current,!1),[a,n])}var Br=t=>typeof t=="string",Y_=(t,e,n,r,s)=>Br(t)?(r&&e.watch.add(t),je(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),je(n,i))):(r&&(e.watchAll=!0),n),u2=t=>kr(t)||!U_(t);function Bi(t,e,n=new WeakSet){if(u2(t)||u2(e))return t===e;if(tl(t)&&tl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(tl(a)&&tl(o)||mn(a)&&mn(o)||Array.isArray(a)&&Array.isArray(o)?!Bi(a,o,n):a!==o)return!1}}return!0}function BZ(t){const e=OS(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:o}=t||{},l=ge.useRef(s),u=ge.useRef(o),d=ge.useRef(void 0);u.current=o;const h=ge.useMemo(()=>n._getWatch(r,l.current),[n,r]),[p,g]=ge.useState(u.current?u.current(h):h);return PS(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:x=>{if(!i){const v=Y_(r,n._names,x.values||n._formValues,!1,l.current);if(u.current){const b=u.current(v);Bi(b,d.current)||(g(b),d.current=b)}else g(v)}}}),[n,i,r,a]),ge.useEffect(()=>n._removeUnmounted()),p}function HZ(t){const e=OS(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,o=q_(s._names.array,n),l=ge.useMemo(()=>je(s._formValues,n,je(s._defaultValues,n,a)),[s,n,a]),u=BZ({control:s,name:n,defaultValue:l,exact:!0}),d=$Z({control:s,name:n,exact:!0}),h=ge.useRef(t),p=ge.useRef(void 0),g=ge.useRef(s.register(n,{...t.rules,value:u,...Vr(t.disabled)?{disabled:t.disabled}:{}}));h.current=t;const x=ge.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!je(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!je(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!je(d.validatingFields,n)},error:{enumerable:!0,get:()=>je(d.errors,n)}}),[d,n]),v=ge.useCallback(C=>g.current.onChange({target:{value:W_(C),name:n},type:yg.CHANGE}),[n]),b=ge.useCallback(()=>g.current.onBlur({target:{value:je(s._formValues,n),name:n},type:yg.BLUR}),[n,s._formValues]),w=ge.useCallback(C=>{const T=je(s._fields,n);T&&C&&(T._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:j=>C.setCustomValidity(j),reportValidity:()=>C.reportValidity()})},[s._fields,n]),N=ge.useMemo(()=>({name:n,value:u,...Vr(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:b,ref:w}),[n,r,d.disabled,v,b,w,u]);return ge.useEffect(()=>{const C=s._options.shouldUnregister||i,T=p.current;T&&T!==n&&!o&&s.unregister(T),s.register(n,{...h.current.rules,...Vr(h.current.disabled)?{disabled:h.current.disabled}:{}});const j=(E,O)=>{const M=je(s._fields,E);M&&M._f&&(M._f.mount=O)};if(j(n,!0),C){const E=bn(je(s._options.defaultValues,n,h.current.defaultValue));bt(s._defaultValues,n,E),Xt(je(s._formValues,n))&&bt(s._formValues,n,E)}return!o&&s.register(n),p.current=n,()=>{(o?C&&!s._state.action:C)?s.unregister(n):j(n,!1)}},[n,s,o,i]),ge.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ge.useMemo(()=>({field:N,formState:d,fieldState:x}),[N,d,x])}const oi=t=>t.render(HZ(t));var X_=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},qd=t=>Array.isArray(t)?t:[t],cE=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function Q_(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&mn(s)&&i){const a=Q_(s,i);mn(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var Cr=t=>mn(t)&&!Object.keys(t).length,_S=t=>t.type==="file",Ms=t=>typeof t=="function",bg=t=>{if(!ES)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},J_=t=>t.type==="select-multiple",DS=t=>t.type==="radio",UZ=t=>DS(t)||dh(t),nv=t=>bg(t)&&t.isConnected;function WZ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Xt(t)?r++:t[e[r++]];return t}function qZ(t){for(const e in t)if(t.hasOwnProperty(e)&&!Xt(t[e]))return!1;return!0}function cn(t,e){const n=Array.isArray(e)?e:rx(e)?[e]:AS(e),r=n.length===1?t:WZ(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(mn(r)&&Cr(r)||Array.isArray(r)&&qZ(r))&&cn(t,n.slice(0,-1)),t}var KZ=t=>{for(const e in t)if(Ms(t[e]))return!0;return!1};function Z_(t){return Array.isArray(t)||mn(t)&&!KZ(t)}function d2(t,e={}){for(const n in t)Z_(t[n])?(e[n]=Array.isArray(t[n])?[]:{},d2(t[n],e[n])):Xt(t[n])||(e[n]=!0);return e}function Ec(t,e,n){n||(n=d2(e));for(const r in t)Z_(t[r])?Xt(e)||u2(n[r])?n[r]=d2(t[r],Array.isArray(t[r])?[]:{}):Ec(t[r],kr(e)?{}:e[r],n[r]):n[r]=!Bi(t[r],e[r]);return n}const uE={value:!1,isValid:!1},dE={value:!0,isValid:!0};var eD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Xt(t[0].attributes.value)?Xt(t[0].value)||t[0].value===""?dE:{value:t[0].value,isValid:!0}:dE:uE}return uE},tD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Xt(t)?t:e?t===""?NaN:t&&+t:n&&Br(t)?new Date(t):r?r(t):t;const fE={isValid:!1,value:null};var nD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,fE):fE;function hE(t){const e=t.ref;return _S(e)?e.files:DS(e)?nD(t.refs).value:J_(e)?[...e.selectedOptions].map(({value:n})=>n):dh(e)?eD(t.refs).value:tD(Xt(e.value)?t.ref.value:e.value,t)}var GZ=(t,e,n,r)=>{const s={};for(const i of t){const a=je(e,i);a&&bt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},vg=t=>t instanceof RegExp,bd=t=>Xt(t)?t:vg(t)?t.source:mn(t)?vg(t.value)?t.value.source:t.value:t,mE=t=>({isOnSubmit:!t||t===Es.onSubmit,isOnBlur:t===Es.onBlur,isOnChange:t===Es.onChange,isOnAll:t===Es.all,isOnTouch:t===Es.onTouched});const pE="AsyncFunction";var YZ=t=>!!t&&!!t.validate&&!!(Ms(t.validate)&&t.validate.constructor.name===pE||mn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===pE)),XZ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),gE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Kd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=je(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Kd(o,e))break}else if(mn(o)&&Kd(o,e))break}}};function xE(t,e,n){const r=je(t,n);if(r||rx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=je(e,i),o=je(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:n}}var QZ=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Cr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Es.all))},JZ=(t,e,n)=>!t||!e||t===e||qd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),ZZ=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,eee=(t,e)=>!MS(je(t,e)).length&&cn(t,e),tee=(t,e,n)=>{const r=qd(je(t,n));return bt(r,"root",e[n]),bt(t,n,r),t};function yE(t,e,n="validate"){if(Br(t)||Array.isArray(t)&&t.every(Br)||Vr(t)&&!t)return{type:n,message:Br(t)?t:"",ref:e}}var Nc=t=>mn(t)&&!vg(t)?t:{value:t,message:""},bE=async(t,e,n,r,s,i)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:p,pattern:g,validate:x,name:v,valueAsNumber:b,mount:w}=t._f,N=je(n,v);if(!w||e.has(v))return{};const C=o?o[0]:a,T=F=>{s&&C.reportValidity&&(C.setCustomValidity(Vr(F)?"":F||""),C.reportValidity())},j={},E=DS(a),O=dh(a),M=E||O,_=(b||_S(a))&&Xt(a.value)&&Xt(N)||bg(a)&&a.value===""||N===""||Array.isArray(N)&&!N.length,D=X_.bind(null,v,r,j),I=(F,Y,G,W=Mi.maxLength,R=Mi.minLength)=>{const V=F?Y:G;j[v]={type:F?W:R,message:V,ref:a,...D(F?W:R,V)}};if(i?!Array.isArray(N)||!N.length:l&&(!M&&(_||kr(N))||Vr(N)&&!N||O&&!eD(o).isValid||E&&!nD(o).isValid)){const{value:F,message:Y}=Br(l)?{value:!!l,message:l}:Nc(l);if(F&&(j[v]={type:Mi.required,message:Y,ref:C,...D(Mi.required,Y)},!r))return T(Y),j}if(!_&&(!kr(h)||!kr(p))){let F,Y;const G=Nc(p),W=Nc(h);if(!kr(N)&&!isNaN(N)){const R=a.valueAsNumber||N&&+N;kr(G.value)||(F=R>G.value),kr(W.value)||(Y=R<W.value)}else{const R=a.valueAsDate||new Date(N),V=Q=>new Date(new Date().toDateString()+" "+Q),z=a.type=="time",q=a.type=="week";Br(G.value)&&N&&(F=z?V(N)>V(G.value):q?N>G.value:R>new Date(G.value)),Br(W.value)&&N&&(Y=z?V(N)<V(W.value):q?N<W.value:R<new Date(W.value))}if((F||Y)&&(I(!!F,G.message,W.message,Mi.max,Mi.min),!r))return T(j[v].message),j}if((u||d)&&!_&&(Br(N)||i&&Array.isArray(N))){const F=Nc(u),Y=Nc(d),G=!kr(F.value)&&N.length>+F.value,W=!kr(Y.value)&&N.length<+Y.value;if((G||W)&&(I(G,F.message,Y.message),!r))return T(j[v].message),j}if(g&&!_&&Br(N)){const{value:F,message:Y}=Nc(g);if(vg(F)&&!N.match(F)&&(j[v]={type:Mi.pattern,message:Y,ref:a,...D(Mi.pattern,Y)},!r))return T(Y),j}if(x){if(Ms(x)){const F=await x(N,n),Y=yE(F,C);if(Y&&(j[v]={...Y,...D(Mi.validate,Y.message)},!r))return T(Y.message),j}else if(mn(x)){let F={};for(const Y in x){if(!Cr(F)&&!r)break;const G=yE(await x[Y](N,n),C,Y);G&&(F={...G,...D(Y,G.message)},T(G.message),r&&(j[v]=F))}if(!Cr(F)&&(j[v]={ref:C,...F},!r))return j}}return T(!0),j};const nee={mode:Es.onSubmit,reValidateMode:Es.onChange,shouldFocusError:!0};function ree(t={}){let e={...nee,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ms(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=mn(e.defaultValues)||mn(e.values)?bn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:bn(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:cE(),state:cE()},g=e.criteriaMode===Es.all,x=U=>ee=>{clearTimeout(u),u=setTimeout(U,ee)},v=async U=>{if(!e.disabled&&(d.isValid||h.isValid||U)){const ee=e.resolver?Cr((await O()).errors):await _(r,!0);ee!==n.isValid&&p.state.next({isValid:ee})}},b=(U,ee)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((U||Array.from(o.mount)).forEach(oe=>{oe&&(ee?bt(n.validatingFields,oe,ee):cn(n.validatingFields,oe))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Cr(n.validatingFields)}))},w=(U,ee=[],oe,Te,Ne=!0,we=!0)=>{if(Te&&oe&&!e.disabled){if(a.action=!0,we&&Array.isArray(je(r,U))){const Re=oe(je(r,U),Te.argA,Te.argB);Ne&&bt(r,U,Re)}if(we&&Array.isArray(je(n.errors,U))){const Re=oe(je(n.errors,U),Te.argA,Te.argB);Ne&&bt(n.errors,U,Re),eee(n.errors,U)}if((d.touchedFields||h.touchedFields)&&we&&Array.isArray(je(n.touchedFields,U))){const Re=oe(je(n.touchedFields,U),Te.argA,Te.argB);Ne&&bt(n.touchedFields,U,Re)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Ec(s,i)),p.state.next({name:U,isDirty:I(U,ee),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else bt(i,U,ee)},N=(U,ee)=>{bt(n.errors,U,ee),p.state.next({errors:n.errors})},C=U=>{n.errors=U,p.state.next({errors:n.errors,isValid:!1})},T=(U,ee,oe,Te)=>{const Ne=je(r,U);if(Ne){const we=je(i,U,Xt(oe)?je(s,U):oe);Xt(we)||Te&&Te.defaultChecked||ee?bt(i,U,ee?we:hE(Ne._f)):G(U,we),a.mount&&v()}},j=(U,ee,oe,Te,Ne)=>{let we=!1,Re=!1;const lt={name:U};if(!e.disabled){if(!oe||Te){(d.isDirty||h.isDirty)&&(Re=n.isDirty,n.isDirty=lt.isDirty=I(),we=Re!==lt.isDirty);const ht=Bi(je(s,U),ee);Re=!!je(n.dirtyFields,U),ht?cn(n.dirtyFields,U):bt(n.dirtyFields,U,!0),lt.dirtyFields=n.dirtyFields,we=we||(d.dirtyFields||h.dirtyFields)&&Re!==!ht}if(oe){const ht=je(n.touchedFields,U);ht||(bt(n.touchedFields,U,oe),lt.touchedFields=n.touchedFields,we=we||(d.touchedFields||h.touchedFields)&&ht!==oe)}we&&Ne&&p.state.next(lt)}return we?lt:{}},E=(U,ee,oe,Te)=>{const Ne=je(n.errors,U),we=(d.isValid||h.isValid)&&Vr(ee)&&n.isValid!==ee;if(e.delayError&&oe?(l=x(()=>N(U,oe)),l(e.delayError)):(clearTimeout(u),l=null,oe?bt(n.errors,U,oe):cn(n.errors,U)),(oe?!Bi(Ne,oe):Ne)||!Cr(Te)||we){const Re={...Te,...we&&Vr(ee)?{isValid:ee}:{},errors:n.errors,name:U};n={...n,...Re},p.state.next(Re)}},O=async U=>{b(U,!0);const ee=await e.resolver(i,e.context,GZ(U||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(U),ee},M=async U=>{const{errors:ee}=await O(U);if(U)for(const oe of U){const Te=je(ee,oe);Te?bt(n.errors,oe,Te):cn(n.errors,oe)}else n.errors=ee;return ee},_=async(U,ee,oe={valid:!0})=>{for(const Te in U){const Ne=U[Te];if(Ne){const{_f:we,...Re}=Ne;if(we){const lt=o.array.has(we.name),ht=Ne._f&&YZ(Ne._f);ht&&d.validatingFields&&b([we.name],!0);const ir=await bE(Ne,o.disabled,i,g,e.shouldUseNativeValidation&&!ee,lt);if(ht&&d.validatingFields&&b([we.name]),ir[we.name]&&(oe.valid=!1,ee))break;!ee&&(je(ir,we.name)?lt?tee(n.errors,ir,we.name):bt(n.errors,we.name,ir[we.name]):cn(n.errors,we.name))}!Cr(Re)&&await _(Re,ee,oe)}}return oe.valid},D=()=>{for(const U of o.unMount){const ee=je(r,U);ee&&(ee._f.refs?ee._f.refs.every(oe=>!nv(oe)):!nv(ee._f.ref))&&Ae(U)}o.unMount=new Set},I=(U,ee)=>!e.disabled&&(U&&ee&&bt(i,U,ee),!Bi(Q(),s)),F=(U,ee,oe)=>Y_(U,o,{...a.mount?i:Xt(ee)?s:Br(U)?{[U]:ee}:ee},oe,ee),Y=U=>MS(je(a.mount?i:s,U,e.shouldUnregister?je(s,U,[]):[])),G=(U,ee,oe={})=>{const Te=je(r,U);let Ne=ee;if(Te){const we=Te._f;we&&(!we.disabled&&bt(i,U,tD(ee,we)),Ne=bg(we.ref)&&kr(ee)?"":ee,J_(we.ref)?[...we.ref.options].forEach(Re=>Re.selected=Ne.includes(Re.value)):we.refs?dh(we.ref)?we.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(Ne)?Re.checked=!!Ne.find(lt=>lt===Re.value):Re.checked=Ne===Re.value||!!Ne)}):we.refs.forEach(Re=>Re.checked=Re.value===Ne):_S(we.ref)?we.ref.value="":(we.ref.value=Ne,we.ref.type||p.state.next({name:U,values:bn(i)})))}(oe.shouldDirty||oe.shouldTouch)&&j(U,Ne,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&q(U)},W=(U,ee,oe)=>{for(const Te in ee){if(!ee.hasOwnProperty(Te))return;const Ne=ee[Te],we=U+"."+Te,Re=je(r,we);(o.array.has(U)||mn(Ne)||Re&&!Re._f)&&!tl(Ne)?W(we,Ne,oe):G(we,Ne,oe)}},R=(U,ee,oe={})=>{const Te=je(r,U),Ne=o.array.has(U),we=bn(ee);bt(i,U,we),Ne?(p.array.next({name:U,values:bn(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&oe.shouldDirty&&p.state.next({name:U,dirtyFields:Ec(s,i),isDirty:I(U,we)})):Te&&!Te._f&&!kr(we)?W(U,we,oe):G(U,we,oe),gE(U,o)&&p.state.next({...n,name:U}),p.state.next({name:a.mount?U:void 0,values:bn(i)})},V=async U=>{a.mount=!0;const ee=U.target;let oe=ee.name,Te=!0;const Ne=je(r,oe),we=ht=>{Te=Number.isNaN(ht)||tl(ht)&&isNaN(ht.getTime())||Bi(ht,je(i,oe,ht))},Re=mE(e.mode),lt=mE(e.reValidateMode);if(Ne){let ht,ir;const Fs=ee.type?hE(Ne._f):W_(U),pr=U.type===yg.BLUR||U.type===yg.FOCUS_OUT,Px=!XZ(Ne._f)&&!e.resolver&&!je(n.errors,oe)&&!Ne._f.deps||ZZ(pr,je(n.touchedFields,oe),n.isSubmitted,lt,Re),Wl=gE(oe,o,pr);bt(i,oe,Fs),pr?(!ee||!ee.readOnly)&&(Ne._f.onBlur&&Ne._f.onBlur(U),l&&l(0)):Ne._f.onChange&&Ne._f.onChange(U);const ql=j(oe,Fs,pr),_x=!Cr(ql)||Wl;if(!pr&&p.state.next({name:oe,type:U.type,values:bn(i)}),Px)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?pr&&v():pr||v()),_x&&p.state.next({name:oe,...Wl?{}:ql});if(!pr&&Wl&&p.state.next({...n}),e.resolver){const{errors:Kl}=await O([oe]);if(we(Fs),Te){const Eu=xE(n.errors,r,oe),Gl=xE(Kl,r,Eu.name||oe);ht=Gl.error,oe=Gl.name,ir=Cr(Kl)}}else b([oe],!0),ht=(await bE(Ne,o.disabled,i,g,e.shouldUseNativeValidation))[oe],b([oe]),we(Fs),Te&&(ht?ir=!1:(d.isValid||h.isValid)&&(ir=await _(r,!0)));Te&&(Ne._f.deps&&(!Array.isArray(Ne._f.deps)||Ne._f.deps.length>0)&&q(Ne._f.deps),E(oe,ir,ht,ql))}},z=(U,ee)=>{if(je(n.errors,ee)&&U.focus)return U.focus(),1},q=async(U,ee={})=>{let oe,Te;const Ne=qd(U);if(e.resolver){const we=await M(Xt(U)?U:Ne);oe=Cr(we),Te=U?!Ne.some(Re=>je(we,Re)):oe}else U?(Te=(await Promise.all(Ne.map(async we=>{const Re=je(r,we);return await _(Re&&Re._f?{[we]:Re}:Re)}))).every(Boolean),!(!Te&&!n.isValid)&&v()):Te=oe=await _(r);return p.state.next({...!Br(U)||(d.isValid||h.isValid)&&oe!==n.isValid?{}:{name:U},...e.resolver||!U?{isValid:oe}:{},errors:n.errors}),ee.shouldFocus&&!Te&&Kd(r,z,U?Ne:o.mount),Te},Q=(U,ee)=>{let oe={...a.mount?i:s};return ee&&(oe=Q_(ee.dirtyFields?n.dirtyFields:n.touchedFields,oe)),Xt(U)?oe:Br(U)?je(oe,U):U.map(Te=>je(oe,Te))},B=(U,ee)=>({invalid:!!je((ee||n).errors,U),isDirty:!!je((ee||n).dirtyFields,U),error:je((ee||n).errors,U),isValidating:!!je(n.validatingFields,U),isTouched:!!je((ee||n).touchedFields,U)}),J=U=>{U&&qd(U).forEach(ee=>cn(n.errors,ee)),p.state.next({errors:U?n.errors:{}})},ne=(U,ee,oe)=>{const Te=(je(r,U,{_f:{}})._f||{}).ref,Ne=je(n.errors,U)||{},{ref:we,message:Re,type:lt,...ht}=Ne;bt(n.errors,U,{...ht,...ee,ref:Te}),p.state.next({name:U,errors:n.errors,isValid:!1}),oe&&oe.shouldFocus&&Te&&Te.focus&&Te.focus()},ie=(U,ee)=>Ms(U)?p.state.subscribe({next:oe=>"values"in oe&&U(F(void 0,ee),oe)}):F(U,ee,!0),le=U=>p.state.subscribe({next:ee=>{JZ(U.name,ee.name,U.exact)&&QZ(ee,U.formState||d,qt,U.reRenderRoot)&&U.callback({values:{...i},...n,...ee,defaultValues:s})}}).unsubscribe,be=U=>(a.mount=!0,h={...h,...U.formState},le({...U,formState:h})),Ae=(U,ee={})=>{for(const oe of U?qd(U):o.mount)o.mount.delete(oe),o.array.delete(oe),ee.keepValue||(cn(r,oe),cn(i,oe)),!ee.keepError&&cn(n.errors,oe),!ee.keepDirty&&cn(n.dirtyFields,oe),!ee.keepTouched&&cn(n.touchedFields,oe),!ee.keepIsValidating&&cn(n.validatingFields,oe),!e.shouldUnregister&&!ee.keepDefaultValue&&cn(s,oe);p.state.next({values:bn(i)}),p.state.next({...n,...ee.keepDirty?{isDirty:I()}:{}}),!ee.keepIsValid&&v()},Le=({disabled:U,name:ee})=>{(Vr(U)&&a.mount||U||o.disabled.has(ee))&&(U?o.disabled.add(ee):o.disabled.delete(ee))},ae=(U,ee={})=>{let oe=je(r,U);const Te=Vr(ee.disabled)||Vr(e.disabled);return bt(r,U,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:U}},name:U,mount:!0,...ee}}),o.mount.add(U),oe?Le({disabled:Vr(ee.disabled)?ee.disabled:e.disabled,name:U}):T(U,!0,ee.value),{...Te?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:bd(ee.min),max:bd(ee.max),minLength:bd(ee.minLength),maxLength:bd(ee.maxLength),pattern:bd(ee.pattern)}:{},name:U,onChange:V,onBlur:V,ref:Ne=>{if(Ne){ae(U,ee),oe=je(r,U);const we=Xt(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Re=UZ(we),lt=oe._f.refs||[];if(Re?lt.find(ht=>ht===we):we===oe._f.ref)return;bt(r,U,{_f:{...oe._f,...Re?{refs:[...lt.filter(nv),we,...Array.isArray(je(s,U))?[{}]:[]],ref:{type:we.type,name:U}}:{ref:we}}}),T(U,!1,void 0,we)}else oe=je(r,U,{}),oe._f&&(oe._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(q_(o.array,U)&&a.action)&&o.unMount.add(U)}}},fe=()=>e.shouldFocusError&&Kd(r,z,o.mount),Ye=U=>{Vr(U)&&(p.state.next({disabled:U}),Kd(r,(ee,oe)=>{const Te=je(r,oe);Te&&(ee.disabled=Te._f.disabled||U,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(Ne=>{Ne.disabled=Te._f.disabled||U}))},0,!1))},ke=(U,ee)=>async oe=>{let Te;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let Ne=bn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:we,values:Re}=await O();n.errors=we,Ne=bn(Re)}else await _(r);if(o.disabled.size)for(const we of o.disabled)cn(Ne,we);if(cn(n.errors,"root"),Cr(n.errors)){p.state.next({errors:{}});try{await U(Ne,oe)}catch(we){Te=we}}else ee&&await ee({...n.errors},oe),fe(),setTimeout(fe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},xe=(U,ee={})=>{je(r,U)&&(Xt(ee.defaultValue)?R(U,bn(je(s,U))):(R(U,ee.defaultValue),bt(s,U,bn(ee.defaultValue))),ee.keepTouched||cn(n.touchedFields,U),ee.keepDirty||(cn(n.dirtyFields,U),n.isDirty=ee.defaultValue?I(U,bn(je(s,U))):I()),ee.keepError||(cn(n.errors,U),d.isValid&&v()),p.state.next({...n}))},He=(U,ee={})=>{const oe=U?bn(U):s,Te=bn(oe),Ne=Cr(U),we=Ne?s:Te;if(ee.keepDefaultValues||(s=oe),!ee.keepValues){if(ee.keepDirtyValues){const Re=new Set([...o.mount,...Object.keys(Ec(s,i))]);for(const lt of Array.from(Re))je(n.dirtyFields,lt)?bt(we,lt,je(i,lt)):R(lt,je(we,lt))}else{if(ES&&Xt(U))for(const Re of o.mount){const lt=je(r,Re);if(lt&&lt._f){const ht=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(bg(ht)){const ir=ht.closest("form");if(ir){ir.reset();break}}}}if(ee.keepFieldsRef)for(const Re of o.mount)R(Re,je(we,Re));else r={}}i=e.shouldUnregister?ee.keepDefaultValues?bn(s):{}:bn(we),p.array.next({values:{...we}}),p.state.next({values:{...we}})}o={mount:ee.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:ee.keepSubmitCount?n.submitCount:0,isDirty:Ne?!1:ee.keepDirty?n.isDirty:!!(ee.keepDefaultValues&&!Bi(U,s)),isSubmitted:ee.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ne?{}:ee.keepDirtyValues?ee.keepDefaultValues&&i?Ec(s,i):n.dirtyFields:ee.keepDefaultValues&&U?Ec(s,U):ee.keepDirty?n.dirtyFields:{},touchedFields:ee.keepTouched?n.touchedFields:{},errors:ee.keepErrors?n.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ee=(U,ee)=>He(Ms(U)?U(i):U,ee),st=(U,ee={})=>{const oe=je(r,U),Te=oe&&oe._f;if(Te){const Ne=Te.refs?Te.refs[0]:Te.ref;Ne.focus&&(Ne.focus(),ee.shouldSelect&&Ms(Ne.select)&&Ne.select())}},qt=U=>{n={...n,...U}},gn={control:{register:ae,unregister:Ae,getFieldState:B,handleSubmit:ke,setError:ne,_subscribe:le,_runSchema:O,_focusError:fe,_getWatch:F,_getDirty:I,_setValid:v,_setFieldArray:w,_setDisabledField:Le,_setErrors:C,_getFieldArray:Y,_reset:He,_resetDefaultValues:()=>Ms(e.defaultValues)&&e.defaultValues().then(U=>{Ee(U,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Ye,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(U){a=U},get _defaultValues(){return s},get _names(){return o},set _names(U){o=U},get _formState(){return n},get _options(){return e},set _options(U){e={...e,...U}}},subscribe:be,trigger:q,register:ae,handleSubmit:ke,watch:ie,setValue:R,getValues:Q,reset:Ee,resetField:xe,clearErrors:J,unregister:Ae,setError:ne,setFocus:st,getFieldState:B};return{...gn,formControl:gn}}function gi(t={}){const e=ge.useRef(void 0),n=ge.useRef(void 0),[r,s]=ge.useState({isDirty:!1,isValidating:!1,isLoading:Ms(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ms(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ms(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=ree(t);e.current={...o,formState:r}}const i=e.current.control;return i._options=t,PS(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ge.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ge.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ge.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ge.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ge.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),ge.useEffect(()=>{t.values&&!Bi(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),ge.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=G_(r,i),e.current}const IS=A.createContext({});function LS(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const RS=typeof window<"u",rD=RS?A.useLayoutEffect:A.useEffect,sx=A.createContext(null);function FS(t,e){t.indexOf(e)===-1&&t.push(e)}function zS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ia=(t,e,n)=>n>e?e:n<t?t:n;let VS=()=>{};const aa={},sD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iD(t){return typeof t=="object"&&t!==null}const aD=t=>/^0[^.\s]+$/u.test(t);function $S(t){let e;return()=>(e===void 0&&(e=t()),e)}const ps=t=>t,see=(t,e)=>n=>e(t(n)),fh=(...t)=>t.reduce(see),kf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class BS{constructor(){this.subscriptions=[]}add(e){return FS(this.subscriptions,e),()=>zS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const li=t=>t*1e3,hs=t=>t/1e3;function oD(t,e){return e?t*(1e3/e):0}const lD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iee=1e-7,aee=12;function oee(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=lD(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>iee&&++o<aee);return a}function hh(t,e,n,r){if(t===e&&n===r)return ps;const s=i=>oee(i,0,1,t,n);return i=>i===0||i===1?i:lD(s(i),e,r)}const cD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,uD=t=>e=>1-t(1-e),dD=hh(.33,1.53,.69,.99),HS=uD(dD),fD=cD(HS),hD=t=>(t*=2)<1?.5*HS(t):.5*(2-Math.pow(2,-10*(t-1))),US=t=>1-Math.sin(Math.acos(t)),mD=uD(US),pD=cD(US),lee=hh(.42,0,1,1),cee=hh(0,0,.58,1),gD=hh(.42,0,.58,1),uee=t=>Array.isArray(t)&&typeof t[0]!="number",xD=t=>Array.isArray(t)&&typeof t[0]=="number",dee={linear:ps,easeIn:lee,easeInOut:gD,easeOut:cee,circIn:US,circInOut:pD,circOut:mD,backIn:HS,backInOut:fD,backOut:dD,anticipate:hD},fee=t=>typeof t=="string",vE=t=>{if(xD(t)){VS(t.length===4);const[e,n,r,s]=t;return hh(e,n,r,s)}else if(fee(t))return dee[t];return t},Gm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hee(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,h=!1,p=!1)=>{const x=p&&s?n:r;return h&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const mee=40;function yD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Gm.reduce((C,T)=>(C[T]=hee(i),C),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:p,render:g,postRender:x}=a,v=()=>{const C=aa.useManualTiming?s.timestamp:performance.now();n=!1,aa.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,mee),1)),s.timestamp=C,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),h.process(s),p.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},b=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:Gm.reduce((C,T)=>{const j=a[T];return C[T]=(E,O=!1,M=!1)=>(n||b(),j.schedule(E,O,M)),C},{}),cancel:C=>{for(let T=0;T<Gm.length;T++)a[Gm[T]].cancel(C)},state:s,steps:a}}const{schedule:Ft,cancel:ho,state:Ln,steps:rv}=yD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0);let Ip;function pee(){Ip=void 0}const Mr={now:()=>(Ip===void 0&&Mr.set(Ln.isProcessing||aa.useManualTiming?Ln.timestamp:performance.now()),Ip),set:t=>{Ip=t,queueMicrotask(pee)}},bD=t=>e=>typeof e=="string"&&e.startsWith(t),WS=bD("--"),gee=bD("var(--"),qS=t=>gee(t)?xee.test(t.split("/*")[0].trim()):!1,xee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tf={...Nu,transform:t=>ia(0,1,t)},Ym={...Nu,default:1},Gd=t=>Math.round(t*1e5)/1e5,KS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yee(t){return t==null}const bee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GS=(t,e)=>n=>!!(typeof n=="string"&&bee.test(n)&&n.startsWith(t)||e&&!yee(n)&&Object.prototype.hasOwnProperty.call(n,e)),vD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(KS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},vee=t=>ia(0,255,t),sv={...Nu,transform:t=>Math.round(vee(t))},nl={test:GS("rgb","red"),parse:vD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sv.transform(t)+", "+sv.transform(e)+", "+sv.transform(n)+", "+Gd(Tf.transform(r))+")"};function wee(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const f2={test:GS("#"),parse:wee,transform:nl.transform},mh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pa=mh("deg"),ci=mh("%"),Xe=mh("px"),See=mh("vh"),Nee=mh("vw"),wE={...ci,parse:t=>ci.parse(t)/100,transform:t=>ci.transform(t*100)},Dc={test:GS("hsl","hue"),parse:vD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ci.transform(Gd(e))+", "+ci.transform(Gd(n))+", "+Gd(Tf.transform(r))+")"},un={test:t=>nl.test(t)||f2.test(t)||Dc.test(t),parse:t=>nl.test(t)?nl.parse(t):Dc.test(t)?Dc.parse(t):f2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?nl.transform(t):Dc.transform(t),getAnimatableNone:t=>{const e=un.parse(t);return e.alpha=0,un.transform(e)}},Cee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jee(t){return isNaN(t)&&typeof t=="string"&&(t.match(KS)?.length||0)+(t.match(Cee)?.length||0)>0}const wD="number",SD="color",kee="var",Tee="var(",SE="${}",Eee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ef(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(Eee,l=>(un.test(l)?(r.color.push(i),s.push(SD),n.push(un.parse(l))):l.startsWith(Tee)?(r.var.push(i),s.push(kee),n.push(l)):(r.number.push(i),s.push(wD),n.push(parseFloat(l))),++i,SE)).split(SE);return{values:n,split:o,indexes:r,types:s}}function ND(t){return Ef(t).values}function CD(t){const{split:e,types:n}=Ef(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===wD?i+=Gd(s[a]):o===SD?i+=un.transform(s[a]):i+=s[a]}return i}}const Mee=t=>typeof t=="number"?0:un.test(t)?un.getAnimatableNone(t):t;function Aee(t){const e=ND(t);return CD(t)(e.map(Mee))}const mo={test:jee,parse:ND,createTransformer:CD,getAnimatableNone:Aee};function iv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Oee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=iv(l,o,t+1/3),i=iv(l,o,t),a=iv(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function wg(t,e){return n=>n>0?e:t}const Bt=(t,e,n)=>t+(e-t)*n,av=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Pee=[f2,nl,Dc],_ee=t=>Pee.find(e=>e.test(t));function NE(t){const e=_ee(t);if(!e)return!1;let n=e.parse(t);return e===Dc&&(n=Oee(n)),n}const CE=(t,e)=>{const n=NE(t),r=NE(e);if(!n||!r)return wg(t,e);const s={...n};return i=>(s.red=av(n.red,r.red,i),s.green=av(n.green,r.green,i),s.blue=av(n.blue,r.blue,i),s.alpha=Bt(n.alpha,r.alpha,i),nl.transform(s))},h2=new Set(["none","hidden"]);function Dee(t,e){return h2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Iee(t,e){return n=>Bt(t,e,n)}function YS(t){return typeof t=="number"?Iee:typeof t=="string"?qS(t)?wg:un.test(t)?CE:Fee:Array.isArray(t)?jD:typeof t=="object"?un.test(t)?CE:Lee:wg}function jD(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>YS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Lee(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=YS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Ree(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const Fee=(t,e)=>{const n=mo.createTransformer(e),r=Ef(t),s=Ef(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?h2.has(t)&&!s.values.length||h2.has(e)&&!r.values.length?Dee(t,e):fh(jD(Ree(r,s),s.values),n):wg(t,e)};function kD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Bt(t,e,n):YS(t)(t,e)}const zee=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ft.update(e,n),stop:()=>ho(e),now:()=>Ln.isProcessing?Ln.timestamp:Mr.now()}},TD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sg=2e4;function XS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sg;)e+=n,r=t.next(e);return e>=Sg?1/0:e}function Vee(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(XS(r),Sg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:hs(s)}}const $ee=5;function ED(t,e,n){const r=Math.max(e-$ee,0);return oD(n-t(r),e-r)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ov=.001;function Bee({duration:t=Yt.duration,bounce:e=Yt.bounce,velocity:n=Yt.velocity,mass:r=Yt.mass}){let s,i,a=1-e;a=ia(Yt.minDamping,Yt.maxDamping,a),t=ia(Yt.minDuration,Yt.maxDuration,hs(t)),a<1?(s=u=>{const d=u*a,h=d*t,p=d-n,g=m2(u,a),x=Math.exp(-h);return ov-p/g*x},i=u=>{const h=u*a*t,p=h*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),v=m2(Math.pow(u,2),a);return(-s(u)+ov>0?-1:1)*((p-g)*x)/v}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-ov+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,l=Uee(s,i,o);if(t=li(t),isNaN(l))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Hee=12;function Uee(t,e,n){let r=n;for(let s=1;s<Hee;s++)r=r-t(r)/e(r);return r}function m2(t,e){return t*Math.sqrt(1-e*e)}const Wee=["duration","bounce"],qee=["stiffness","damping","mass"];function jE(t,e){return e.some(n=>t[n]!==void 0)}function Kee(t){let e={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...t};if(!jE(t,qee)&&jE(t,Wee))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ia(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Yt.mass,stiffness:s,damping:i}}else{const n=Bee(t);e={...e,...n,mass:Yt.mass},e.isResolvedFromDuration=!0}return e}function Ng(t=Yt.visualDuration,e=Yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:g}=Kee({...n,velocity:-hs(n.velocity||0)}),x=p||0,v=u/(2*Math.sqrt(l*d)),b=a-i,w=hs(Math.sqrt(l/d)),N=Math.abs(b)<5;r||(r=N?Yt.restSpeed.granular:Yt.restSpeed.default),s||(s=N?Yt.restDelta.granular:Yt.restDelta.default);let C;if(v<1){const j=m2(w,v);C=E=>{const O=Math.exp(-v*w*E);return a-O*((x+v*w*b)/j*Math.sin(j*E)+b*Math.cos(j*E))}}else if(v===1)C=j=>a-Math.exp(-w*j)*(b+(x+w*b)*j);else{const j=w*Math.sqrt(v*v-1);C=E=>{const O=Math.exp(-v*w*E),M=Math.min(j*E,300);return a-O*((x+v*w*b)*Math.sinh(M)+j*b*Math.cosh(M))/j}}const T={calculatedDuration:g&&h||null,next:j=>{const E=C(j);if(g)o.done=j>=h;else{let O=j===0?x:0;v<1&&(O=j===0?li(x):ED(C,j,E));const M=Math.abs(O)<=r,_=Math.abs(a-E)<=s;o.done=M&&_}return o.value=o.done?a:E,o},toString:()=>{const j=Math.min(XS(T),Sg),E=TD(O=>T.next(j*O).value,j,30);return j+"ms "+E},toTransition:()=>{}};return T}Ng.applyToOptions=t=>{const e=Vee(t,100,Ng);return t.ease=e.ease,t.duration=li(e.duration),t.type="keyframes",t};function p2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},g=M=>o!==void 0&&M<o||l!==void 0&&M>l,x=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let v=n*e;const b=h+v,w=a===void 0?b:a(b);w!==b&&(v=w-h);const N=M=>-v*Math.exp(-M/r),C=M=>w+N(M),T=M=>{const _=N(M),D=C(M);p.done=Math.abs(_)<=u,p.value=p.done?w:D};let j,E;const O=M=>{g(p.value)&&(j=M,E=Ng({keyframes:[p.value,x(p.value)],velocity:ED(C,M,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:M=>{let _=!1;return!E&&j===void 0&&(_=!0,T(M),O(M)),j!==void 0&&M>=j?E.next(M-j):(!_&&T(M),p)}}}function Gee(t,e,n){const r=[],s=n||aa.mix||kD,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ps:e;o=fh(l,o)}r.push(o)}return r}function Yee(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(VS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Gee(e,r,s),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=kf(t[h],t[h+1],d);return o[h](p)};return n?d=>u(ia(t[0],t[i-1],d)):u}function Xee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=kf(0,e,r);t.push(Bt(n,1,s))}}function Qee(t){const e=[0];return Xee(e,t.length-1),e}function Jee(t,e){return t.map(n=>n*e)}function Zee(t,e){return t.map(()=>e||gD).splice(0,t.length-1)}function Yd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uee(r)?r.map(vE):vE(r),i={done:!1,value:e[0]},a=Jee(n&&n.length===e.length?n:Qee(e),t),o=Yee(a,e,{ease:Array.isArray(s)?s:Zee(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const ete=t=>t!==null;function QS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(ete),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const tte={decay:p2,inertia:p2,tween:Yd,keyframes:Yd,spring:Ng};function MD(t){typeof t.type=="string"&&(t.type=tte[t.type])}class JS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nte=t=>t/100;class ZS extends JS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mr.now()&&this.tick(Mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MD(e);const{type:n=Yd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Yd;l!==Yd&&typeof o[0]!="number"&&(this.mixKeyframes=fh(nte,kD(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=XS(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,T=r;if(h){const M=Math.min(this.currentTime,s)/o;let _=Math.floor(M),D=M%1;!D&&M>=1&&(D=1),D===1&&_--,_=Math.min(_,h+1),!!(_%2)&&(p==="reverse"?(D=1-D,g&&(D-=g/o)):p==="mirror"&&(T=a)),C=ia(0,1,D)*o}const j=N?{done:!1,value:d[0]}:T.next(C);i&&(j.value=i(j.value));let{done:E}=j;!N&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return O&&x!==p2&&(j.value=QS(d,this.options,b,this.speed)),v&&v(j.value),O&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return hs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hs(e)}get time(){return hs(this.currentTime)}set time(e){e=li(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=zee,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function rte(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const rl=t=>t*180/Math.PI,g2=t=>{const e=rl(Math.atan2(t[1],t[0]));return x2(e)},ste={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:g2,rotateZ:g2,skewX:t=>rl(Math.atan(t[1])),skewY:t=>rl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},x2=t=>(t=t%360,t<0&&(t+=360),t),kE=g2,TE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),EE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ite={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TE,scaleY:EE,scale:t=>(TE(t)+EE(t))/2,rotateX:t=>x2(rl(Math.atan2(t[6],t[5]))),rotateY:t=>x2(rl(Math.atan2(-t[2],t[0]))),rotateZ:kE,rotate:kE,skewX:t=>rl(Math.atan(t[4])),skewY:t=>rl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function y2(t){return t.includes("scale")?1:0}function b2(t,e){if(!t||t==="none")return y2(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=ite,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ste,s=o}if(!s)return y2(e);const i=r[e],a=s[1].split(",").map(ote);return typeof i=="function"?i(a):a[i]}const ate=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return b2(n,e)};function ote(t){return parseFloat(t.trim())}const Cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ju=new Set(Cu),ME=t=>t===Nu||t===Xe,lte=new Set(["x","y","z"]),cte=Cu.filter(t=>!lte.has(t));function ute(t){const e=[];return cte.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>b2(e,"x"),y:(t,{transform:e})=>b2(e,"y")};fl.translateX=fl.x;fl.translateY=fl.y;const hl=new Set;let v2=!1,w2=!1,S2=!1;function AD(){if(w2){const t=Array.from(hl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=ute(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}w2=!1,v2=!1,hl.forEach(t=>t.complete(S2)),hl.clear()}function OD(){hl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(w2=!0)})}function dte(){S2=!0,OD(),AD(),S2=!1}class eN{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(hl.add(this),v2||(v2=!0,Ft.read(OD),Ft.resolveKeyframes(AD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}rte(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hl.delete(this)}cancel(){this.state==="scheduled"&&(hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fte=t=>t.startsWith("--");function hte(t,e,n){fte(e)?t.style.setProperty(e,n):t.style[e]=n}const mte=$S(()=>window.ScrollTimeline!==void 0),pte={};function gte(t,e){const n=$S(t);return()=>pte[e]??n()}const PD=gte(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_d=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,AE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_d([0,.65,.55,1]),circOut:_d([.55,0,1,.45]),backIn:_d([.31,.01,.66,-.59]),backOut:_d([.33,1.53,.69,.99])};function _D(t,e){if(t)return typeof t=="function"?PD()?TD(t,e):"ease-out":xD(t)?_d(t):Array.isArray(t)?t.map(n=>_D(n,e)||AE.easeOut):AE[t]}function xte(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=_D(o,s);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(d,p)}function DD(t){return typeof t=="function"&&"applyToOptions"in t}function yte({type:t,...e}){return DD(t)&&PD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bte extends JS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,VS(typeof e.type!="string");const u=yte(e);this.animation=xte(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=QS(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):hte(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return hs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hs(e)}get time(){return hs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=li(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&mte()?(this.animation.timeline=e,ps):n(this)}}const ID={anticipate:hD,backInOut:fD,circInOut:pD};function vte(t){return t in ID}function wte(t){typeof t.ease=="string"&&vte(t.ease)&&(t.ease=ID[t.ease])}const OE=10;class Ste extends bte{constructor(e){wte(e),MD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new ZS({...a,autoplay:!1}),l=li(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-OE).value,o.sample(l).value,OE),o.stop()}}const PE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mo.test(t)||t==="0")&&!t.startsWith("url("));function Nte(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Cte(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=PE(s,e),o=PE(i,e);return!a||!o?!1:Nte(t)||(n==="spring"||DD(n))&&r}function N2(t){t.duration=0,t.type="keyframes"}const jte=new Set(["opacity","clipPath","filter","transform"]),kte=$S(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Tte(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return kte()&&n&&jte.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const Ete=40;class Mte extends JS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mr.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:d,...h},g=d?.KeyframeResolver||eN;this.keyframeResolver=new g(o,(x,v,b)=>this.onKeyframesResolved(x,v,p,!b),l,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Mr.now(),Cte(e,i,a,o)||((aa.instantAnimations||!l)&&d?.(QS(e,r,n)),e[0]=e[e.length-1],N2(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Ete?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!u&&Tte(p)?new Ste({...p,element:p.motionValue.owner.current}):new ZS(p);g.finished.then(()=>this.notifyFinished()).catch(ps),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dte()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Ate=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ote(t){const e=Ate.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function LD(t,e,n=1){const[r,s]=Ote(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return sD(a)?parseFloat(a):a}return qS(s)?LD(s,e,n+1):s}function tN(t,e){return t?.[e]??t?.default??t}const RD=new Set(["width","height","top","left","right","bottom",...Cu]),Pte={test:t=>t==="auto",parse:t=>t},FD=t=>e=>e.test(t),zD=[Nu,Xe,ci,Pa,Nee,See,Pte],_E=t=>zD.find(FD(t));function _te(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aD(t):!0}const Dte=new Set(["brightness","contrast","saturate","opacity"]);function Ite(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(KS)||[];if(!r)return t;const s=n.replace(r,"");let i=Dte.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Lte=/\b([a-z-]*)\(.*?\)/gu,C2={...mo,getAnimatableNone:t=>{const e=t.match(Lte);return e?e.map(Ite).join(" "):t}},DE={...Nu,transform:Math.round},Rte={rotate:Pa,rotateX:Pa,rotateY:Pa,rotateZ:Pa,scale:Ym,scaleX:Ym,scaleY:Ym,scaleZ:Ym,skew:Pa,skewX:Pa,skewY:Pa,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:Tf,originX:wE,originY:wE,originZ:Xe},nN={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe,...Rte,zIndex:DE,fillOpacity:Tf,strokeOpacity:Tf,numOctaves:DE},Fte={...nN,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:C2,WebkitFilter:C2},VD=t=>Fte[t];function $D(t,e){let n=VD(t);return n!==C2&&(n=mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zte=new Set(["auto","none","0"]);function Vte(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!zte.has(i)&&Ef(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=$D(n,s)}class $te extends eN{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),qS(u))){const d=LD(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!RD.has(r)||e.length!==2)return;const[s,i]=e,a=_E(s),o=_E(i);if(a!==o)if(ME(a)&&ME(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else fl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||_te(e[s]))&&r.push(s);r.length&&Vte(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=fl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function Bte(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const BD=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HD(t){return iD(t)&&"offsetHeight"in t}const IE=30,Hte=t=>!isNaN(parseFloat(t));class Ute{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Mr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Hte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new BS);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IE);return oD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function su(t,e){return new Ute(t,e)}const{schedule:rN}=yD(queueMicrotask,!1),Ts={x:!1,y:!1};function UD(){return Ts.x||Ts.y}function Wte(t){return t==="x"||t==="y"?Ts[t]?null:(Ts[t]=!0,()=>{Ts[t]=!1}):Ts.x||Ts.y?null:(Ts.x=Ts.y=!0,()=>{Ts.x=Ts.y=!1})}function WD(t,e){const n=Bte(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function LE(t){return!(t.pointerType==="touch"||UD())}function qte(t,e,n={}){const[r,s,i]=WD(t,n),a=o=>{if(!LE(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=h=>{LE(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const qD=(t,e)=>e?t===e?!0:qD(t,e.parentElement):!1,sN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Kte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gte(t){return Kte.has(t.tagName)||t.tabIndex!==-1}const Lp=new WeakSet;function RE(t){return e=>{e.key==="Enter"&&t(e)}}function lv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yte=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=RE(()=>{if(Lp.has(n))return;lv(n,"down");const s=RE(()=>{lv(n,"up")}),i=()=>lv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function FE(t){return sN(t)&&!UD()}function Xte(t,e,n={}){const[r,s,i]=WD(t,n),a=o=>{const l=o.currentTarget;if(!FE(o))return;Lp.add(l);const u=e(l,o),d=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Lp.has(l)&&Lp.delete(l),FE(g)&&typeof u=="function"&&u(g,{success:x})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||qD(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),HD(o)&&(o.addEventListener("focus",u=>Yte(u,s)),!Gte(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function KD(t){return iD(t)&&"ownerSVGElement"in t}function Qte(t){return KD(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),Jte=[...zD,un,mo],Zte=t=>Jte.find(FD(t)),iN=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function zE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ene(...t){return e=>{let n=!1;const r=t.map(s=>{const i=zE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zE(t[s],null)}}}}function tne(...t){return A.useCallback(ene(...t),t)}class nne extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=HD(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rne({children:t,isPresent:e,anchorX:n,root:r}){const s=A.useId(),i=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=A.useContext(iN),l=tne(i,t?.ref);return A.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=a.current;if(e||!i.current||!u||!d)return;const x=n==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");o&&(v.nonce=o);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[e]),c.jsx(nne,{isPresent:e,childRef:i,sizeRef:a,children:A.cloneElement(t,{ref:l})})}const sne=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,root:l})=>{const u=LS(ine),d=A.useId();let h=!0,p=A.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const x of u.values())if(!x)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&h&&(p={...p}),A.useMemo(()=>{u.forEach((g,x)=>u.set(x,!1))},[n]),A.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(rne,{isPresent:n,anchorX:o,root:l,children:t})),c.jsx(sx.Provider,{value:p,children:t})};function ine(){return new Map}function GD(t=!0){const e=A.useContext(sx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=A.useId();A.useEffect(()=>{if(t)return s(i)},[t]);const a=A.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Xm=t=>t.key||"";function VE(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const YD=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,d]=GD(a),h=A.useMemo(()=>VE(t),[t]),p=a&&!u?[]:h.map(Xm),g=A.useRef(!0),x=A.useRef(h),v=LS(()=>new Map),[b,w]=A.useState(h),[N,C]=A.useState(h);rD(()=>{g.current=!1,x.current=h;for(let E=0;E<N.length;E++){const O=Xm(N[E]);p.includes(O)?v.delete(O):v.get(O)!==!0&&v.set(O,!1)}},[N,p.length,p.join("-")]);const T=[];if(h!==b){let E=[...h];for(let O=0;O<N.length;O++){const M=N[O],_=Xm(M);p.includes(_)||(E.splice(O,0,M),T.push(M))}return i==="wait"&&T.length&&(E=T),C(VE(E)),w(h),null}const{forceRender:j}=A.useContext(IS);return c.jsx(c.Fragment,{children:N.map(E=>{const O=Xm(E),M=a&&!u?!1:h===N||p.includes(O),_=()=>{if(v.has(O))v.set(O,!0);else return;let D=!0;v.forEach(I=>{I||(D=!1)}),D&&(j?.(),C(x.current),a&&d?.(),r&&r())};return c.jsx(sne,{isPresent:M,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:M?void 0:_,anchorX:o,children:E},O)})})},XD=A.createContext({strict:!1}),$E={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iu={};for(const t in $E)iu[t]={isEnabled:e=>$E[t].some(n=>!!e[n])};function ane(t){for(const e in t)iu[e]={...iu[e],...t[e]}}const one=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||one.has(t)}let QD=t=>!Cg(t);function lne(t){typeof t=="function"&&(QD=e=>e.startsWith("on")?!Cg(e):t(e))}try{lne(require("@emotion/is-prop-valid").default)}catch{}function cne(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(QD(s)||n===!0&&Cg(s)||!e&&!Cg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ix=A.createContext({});function ax(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Mf(t){return typeof t=="string"||Array.isArray(t)}const aN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oN=["initial",...aN];function ox(t){return ax(t.animate)||oN.some(e=>Mf(t[e]))}function JD(t){return!!(ox(t)||t.variants)}function une(t,e){if(ox(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Mf(n)?n:void 0,animate:Mf(r)?r:void 0}}return t.inherit!==!1?e:{}}function dne(t){const{initial:e,animate:n}=une(t,A.useContext(ix));return A.useMemo(()=>({initial:e,animate:n}),[BE(e),BE(n)])}function BE(t){return Array.isArray(t)?t.join(" "):t}const Af={};function fne(t){for(const e in t)Af[e]=t[e],WS(e)&&(Af[e].isCSSVariable=!0)}function ZD(t,{layout:e,layoutId:n}){return ju.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Af[t]||t==="opacity")}const hne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mne=Cu.length;function pne(t,e,n){let r="",s=!0;for(let i=0;i<mne;i++){const a=Cu[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=BD(o,nN[a]);if(!l){s=!1;const d=hne[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function lN(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(ju.has(l)){a=!0;continue}else if(WS(l)){s[l]=u;continue}else{const d=BD(u,nN[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=pne(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const cN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eI(t,e,n){for(const r in e)!Zn(e[r])&&!ZD(r,n)&&(t[r]=e[r])}function gne({transformTemplate:t},e){return A.useMemo(()=>{const n=cN();return lN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xne(t,e){const n=t.style||{},r={};return eI(r,n,t),Object.assign(r,gne(t,e)),r}function yne(t,e){const n={},r=xne(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const bne={offset:"stroke-dashoffset",array:"stroke-dasharray"},vne={offset:"strokeDashoffset",array:"strokeDasharray"};function wne(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?bne:vne;t[i.offset]=Xe.transform(-r);const a=Xe.transform(e),o=Xe.transform(n);t[i.array]=`${a} ${o}`}function tI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,d){if(lN(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&wne(h,s,i,a,!1)}const nI=()=>({...cN(),attrs:{}}),rI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Sne(t,e,n,r){const s=A.useMemo(()=>{const i=nI();return tI(i,e,rI(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};eI(i,t.style,t),s.style={...i,...s.style}}return s}const Nne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uN(t){return typeof t!="string"||t.includes("-")?!1:!!(Nne.indexOf(t)>-1||/[A-Z]/u.test(t))}function Cne(t,e,n,{latestValues:r},s,i=!1){const o=(uN(t)?Sne:yne)(e,r,s,t),l=cne(e,typeof t=="string",i),u=t!==A.Fragment?{...l,...o,ref:n}:{},{children:d}=e,h=A.useMemo(()=>Zn(d)?d.get():d,[d]);return A.createElement(t,{...u,children:h})}function HE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function dN(t,e,n,r){if(typeof e=="function"){const[s,i]=HE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=HE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Rp(t){return Zn(t)?t.get():t}function jne({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:kne(n,r,s,t),renderState:e()}}function kne(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Rp(i[p]);let{initial:a,animate:o}=t;const l=ox(t),u=JD(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!ax(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const x=dN(t,p[g]);if(x){const{transitionEnd:v,transition:b,...w}=x;for(const N in w){let C=w[N];if(Array.isArray(C)){const T=d?C.length-1:0;C=C[T]}C!==null&&(s[N]=C)}for(const N in v)s[N]=v[N]}}}return s}const sI=t=>(e,n)=>{const r=A.useContext(ix),s=A.useContext(sx),i=()=>jne(t,e,r,s);return n?i():LS(i)};function fN(t,e,n){const{style:r}=t,s={};for(const i in r)(Zn(r[i])||e.style&&Zn(e.style[i])||ZD(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const Tne=sI({scrapeMotionValuesFromProps:fN,createRenderState:cN});function iI(t,e,n){const r=fN(t,e,n);for(const s in t)if(Zn(t[s])||Zn(e[s])){const i=Cu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Ene=sI({scrapeMotionValuesFromProps:iI,createRenderState:nI}),Mne=Symbol.for("motionComponentSymbol");function Ic(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ane(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ic(n)&&(n.current=r))},[e])}const hN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),One="framerAppearId",aI="data-"+hN(One),oI=A.createContext({});function Pne(t,e,n,r,s){const{visualElement:i}=A.useContext(ix),a=A.useContext(XD),o=A.useContext(sx),l=A.useContext(iN).reducedMotion,u=A.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=A.useContext(oI);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&_ne(u.current,n,s,h);const p=A.useRef(!1);A.useInsertionEffect(()=>{d&&p.current&&d.update(n,o)});const g=n[aI],x=A.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return rD(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),d.enteringChildren=void 0)}),d}function _ne(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Ic(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function lI(t){if(t)return t.options.allowProjection!==!1?t.projection:lI(t.parent)}function cv(t,{forwardMotionProps:e=!1}={},n,r){n&&ane(n);const s=uN(t)?Ene:Tne;function i(o,l){let u;const d={...A.useContext(iN),...o,layoutId:Dne(o)},{isStatic:h}=d,p=dne(o),g=s(o,h);if(!h&&RS){Ine();const x=Lne(d);u=x.MeasureLayout,p.visualElement=Pne(t,g,d,r,x.ProjectionNode)}return c.jsxs(ix.Provider,{value:p,children:[u&&p.visualElement?c.jsx(u,{visualElement:p.visualElement,...d}):null,Cne(t,o,Ane(g,p.visualElement,l),g,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=A.forwardRef(i);return a[Mne]=t,a}function Dne({layoutId:t}){const e=A.useContext(IS).id;return e&&t!==void 0?e+"-"+t:t}function Ine(t,e){A.useContext(XD).strict}function Lne(t){const{drag:e,layout:n}=iu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Rne(t,e){if(typeof Proxy>"u")return cv;const n=new Map,r=(i,a)=>cv(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,cv(a,void 0,t,e)),n.get(a))})}function cI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Fne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uv(t){return t===void 0||t===1}function j2({scale:t,scaleX:e,scaleY:n}){return!uv(t)||!uv(e)||!uv(n)}function Ko(t){return j2(t)||uI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uI(t){return UE(t.x)||UE(t.y)}function UE(t){return t&&t!=="0%"}function jg(t,e,n){const r=t-n,s=e*r;return n+s}function WE(t,e,n,r,s){return s!==void 0&&(t=jg(t,s,r)),jg(t,n,r)+e}function k2(t,e=0,n=1,r,s){t.min=WE(t.min,e,n,r,s),t.max=WE(t.max,e,n,r,s)}function dI(t,{x:e,y:n}){k2(t.x,e.translate,e.scale,e.originPoint),k2(t.y,n.translate,n.scale,n.originPoint)}const qE=.999999999999,KE=1.0000000000001;function Vne(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Rc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,dI(t,a)),r&&Ko(i.latestValues)&&Rc(t,i.latestValues))}e.x<KE&&e.x>qE&&(e.x=1),e.y<KE&&e.y>qE&&(e.y=1)}function Lc(t,e){t.min=t.min+e,t.max=t.max+e}function GE(t,e,n,r,s=.5){const i=Bt(t.min,t.max,s);k2(t,e,n,i,r)}function Rc(t,e){GE(t.x,e.x,e.scaleX,e.scale,e.originX),GE(t.y,e.y,e.scaleY,e.scale,e.originY)}function fI(t,e){return cI(zne(t.getBoundingClientRect(),e))}function $ne(t,e,n){const r=fI(t,n),{scroll:s}=e;return s&&(Lc(r.x,s.offset.x),Lc(r.y,s.offset.y)),r}const YE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fc=()=>({x:YE(),y:YE()}),XE=()=>({min:0,max:0}),sn=()=>({x:XE(),y:XE()}),T2={current:null},hI={current:!1};function Bne(){if(hI.current=!0,!!RS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>T2.current=t.matches;t.addEventListener("change",e),e()}else T2.current=!1}const Hne=new WeakMap;function Une(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Zn(s))t.addValue(r,s);else if(Zn(i))t.addValue(r,su(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,su(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const QE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wne{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Mr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ft.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=ox(n),this.isVariantNode=JD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&Zn(g)&&g.set(l[p])}}mount(e){this.current=e,Hne.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hI.current||Bne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T2.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ho(this.notifyUpdate),ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ju.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in iu){const n=iu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QE.length;r++){const s=QE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Une(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=su(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sD(r)||aD(r))?r=parseFloat(r):!Zte(r)&&mo.test(n)&&(r=$D(e,n)),this.setBaseTarget(e,Zn(r)?r.get():r)),Zn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=dN(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new BS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){rN.render(this.render)}}class mI extends Wne{constructor(){super(...arguments),this.KeyframeResolver=$te}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pI(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function qne(t){return window.getComputedStyle(t)}class Kne extends mI{constructor(){super(...arguments),this.type="html",this.renderInstance=pI}readValueFromInstance(e,n){if(ju.has(n))return this.projection?.isProjecting?y2(n):ate(e,n);{const r=qne(e),s=(WS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fI(e,n)}build(e,n,r){lN(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return fN(e,n,r)}}const gI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gne(t,e,n,r){pI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(gI.has(s)?s:hN(s),e.attrs[s])}class Yne extends mI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ju.has(n)){const r=VD(n);return r&&r.default||0}return n=gI.has(n)?n:hN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iI(e,n,r)}build(e,n,r){tI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Gne(e,n,r,s)}mount(e){this.isSVGTag=rI(e.tagName),super.mount(e)}}const Xne=(t,e)=>uN(t)?new Yne(e):new Kne(e,{allowProjection:t!==A.Fragment});function Wc(t,e,n){const r=t.getProps();return dN(r,e,n!==void 0?n:r.custom,t)}const E2=t=>Array.isArray(t);function Qne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,su(n))}function Jne(t){return E2(t)?t[t.length-1]||0:t}function Zne(t,e){const n=Wc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=Jne(i[a]);Qne(t,a,o)}}function ere(t){return!!(Zn(t)&&t.add)}function M2(t,e){const n=t.getValue("willChange");if(ere(n))return n.add(e);if(!n&&aa.WillChange){const r=new aa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function xI(t){return t.props[aI]}const tre=t=>t!==null;function nre(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(tre),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const rre={type:"spring",stiffness:500,damping:25,restSpeed:10},sre=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ire={type:"keyframes",duration:.8},are={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ore=(t,{keyframes:e})=>e.length>2?ire:ju.has(t)?t.startsWith("scale")?sre(e[1]):rre:are;function lre({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const mN=(t,e,n,r={},s,i)=>a=>{const o=tN(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-li(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};lre(o)||Object.assign(d,ore(t,d)),d.duration&&(d.duration=li(d.duration)),d.repeatDelay&&(d.repeatDelay=li(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(N2(d),d.delay===0&&(h=!0)),(aa.instantAnimations||aa.skipAnimations)&&(h=!0,N2(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!i&&e.get()!==void 0){const p=nre(d.keyframes,o);if(p!==void 0){Ft.update(()=>{d.onUpdate(p),d.onComplete()});return}}return o.isSync?new ZS(d):new Mte(d)};function cre({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const h=t.getValue(d,t.latestValues[d]??null),p=o[d];if(p===void 0||u&&cre(u,d))continue;const g={delay:n,...tN(i||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=xI(t);if(w){const N=window.MotionHandoffAnimation(w,d,Ft);N!==null&&(g.startTime=N,v=!0)}}M2(t,d),h.start(mN(d,h,p,t.shouldReduceMotion&&RD.has(d)?{type:!1}:g,t,v));const b=h.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Ft.update(()=>{a&&Zne(t,a)})}),l}function bI(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}function A2(t,e,n={}){const r=Wc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(yI(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return ure(t,e,l,u,d,h,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[l,u]=o==="beforeChildren"?[i,a]:[a,i];return l().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function ure(t,e,n=0,r=0,s=0,i=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(A2(l,e,{...a,delay:n+(typeof r=="function"?0:r)+bI(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function dre(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>A2(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=A2(t,e,n);else{const s=typeof e=="function"?Wc(t,e,n.custom):e;r=Promise.all(yI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const fre=oN.length;function wI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fre;n++){const r=oN[n],s=t.props[r];(Mf(s)||s===!1)&&(e[r]=s)}return e}const hre=[...aN].reverse(),mre=aN.length;function pre(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dre(t,n,r)))}function gre(t){let e=pre(t),n=JE(),r=!0;const s=l=>(u,d)=>{const h=Wc(t,d,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:p,transitionEnd:g,...x}=h;u={...u,...x,...g}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,d=wI(t.parent)||{},h=[],p=new Set;let g={},x=1/0;for(let b=0;b<mre;b++){const w=hre[b],N=n[w],C=u[w]!==void 0?u[w]:d[w],T=Mf(C),j=w===l?N.isActive:null;j===!1&&(x=b);let E=C===d[w]&&C!==u[w]&&T;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),N.protectedKeys={...g},!N.isActive&&j===null||!C&&!N.prevProp||ax(C)||typeof C=="boolean")continue;const O=xre(N.prevProp,C);let M=O||w===l&&N.isActive&&!E&&T||b>x&&T,_=!1;const D=Array.isArray(C)?C:[C];let I=D.reduce(s(w),{});j===!1&&(I={});const{prevResolvedValues:F={}}=N,Y={...F,...I},G=V=>{M=!0,p.has(V)&&(_=!0,p.delete(V)),N.needsAnimating[V]=!0;const z=t.getValue(V);z&&(z.liveStyle=!1)};for(const V in Y){const z=I[V],q=F[V];if(g.hasOwnProperty(V))continue;let Q=!1;E2(z)&&E2(q)?Q=!vI(z,q):Q=z!==q,Q?z!=null?G(V):p.add(V):z!==void 0&&p.has(V)?G(V):N.protectedKeys[V]=!0}N.prevProp=C,N.prevResolvedValues=I,N.isActive&&(g={...g,...I}),r&&t.blockInitialAnimation&&(M=!1);const W=E&&O;M&&(!W||_)&&h.push(...D.map(V=>{const z={type:w};if(typeof V=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,Q=Wc(q,V);if(q.enteringChildren&&Q){const{delayChildren:B}=Q.transition||{};z.delay=bI(q.enteringChildren,t,B)}}return{animation:V,options:z}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const w=Wc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const N=t.getBaseTarget(w),C=t.getValue(w);C&&(C.liveStyle=!0),b[w]=N??null}),h.push({animation:b})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function o(l,u){if(n[l].isActive===u)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,u)),n[l].isActive=u;const d=a(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=JE()}}}function xre(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vI(e,t):!1}function Ho(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JE(){return{animate:Ho(!0),whileInView:Ho(),whileHover:Ho(),whileTap:Ho(),whileDrag:Ho(),whileFocus:Ho(),exit:Ho()}}class wo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yre extends wo{constructor(e){super(e),e.animationState||(e.animationState=gre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ax(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bre=0;class vre extends wo{constructor(){super(...arguments),this.id=bre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wre={animation:{Feature:yre},exit:{Feature:vre}};function Of(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ph(t){return{point:{x:t.pageX,y:t.pageY}}}const Sre=t=>e=>sN(e)&&t(e,ph(e));function Xd(t,e,n,r){return Of(t,e,Sre(n),r)}const SI=1e-4,Nre=1-SI,Cre=1+SI,NI=.01,jre=0-NI,kre=0+NI;function ur(t){return t.max-t.min}function Tre(t,e,n){return Math.abs(t-e)<=n}function ZE(t,e,n,r=.5){t.origin=r,t.originPoint=Bt(e.min,e.max,t.origin),t.scale=ur(n)/ur(e),t.translate=Bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Nre&&t.scale<=Cre||isNaN(t.scale))&&(t.scale=1),(t.translate>=jre&&t.translate<=kre||isNaN(t.translate))&&(t.translate=0)}function Qd(t,e,n,r){ZE(t.x,e.x,n.x,r?r.originX:void 0),ZE(t.y,e.y,n.y,r?r.originY:void 0)}function e5(t,e,n){t.min=n.min+e.min,t.max=t.min+ur(e)}function Ere(t,e,n){e5(t.x,e.x,n.x),e5(t.y,e.y,n.y)}function t5(t,e,n){t.min=e.min-n.min,t.max=t.min+ur(e)}function Jd(t,e,n){t5(t.x,e.x,n.x),t5(t.y,e.y,n.y)}function ls(t){return[t("x"),t("y")]}const CI=({current:t})=>t?t.ownerDocument.defaultView:null,n5=(t,e)=>Math.abs(t-e);function Mre(t,e){const n=n5(t.x,e.x),r=n5(t.y,e.y);return Math.sqrt(n**2+r**2)}class jI{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=fv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=Mre(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=p,{timestamp:b}=Ln;this.history.push({...v,timestamp:b});const{onStart:w,onMove:N}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=dv(g,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=fv(p.type==="pointercancel"?this.lastMoveEventInfo:dv(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,w),v&&v(p,w)},!sN(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const o=ph(e),l=dv(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=Ln;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,fv(l,this.history)),this.removeListeners=fh(Xd(this.contextWindow,"pointermove",this.handlePointerMove),Xd(this.contextWindow,"pointerup",this.handlePointerUp),Xd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ho(this.updatePoint)}}function dv(t,e){return e?{point:e(t.point)}:t}function r5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fv({point:t},e){return{point:t,delta:r5(t,kI(e)),offset:r5(t,Are(e)),velocity:Ore(e,.1)}}function Are(t){return t[0]}function kI(t){return t[t.length-1]}function Ore(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=kI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>li(e)));)n--;if(!r)return{x:0,y:0};const i=hs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Pre(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Bt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Bt(n,t,r.max):Math.min(t,n)),t}function s5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _re(t,{top:e,left:n,bottom:r,right:s}){return{x:s5(t.x,n,s),y:s5(t.y,e,r)}}function i5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Dre(t,e){return{x:i5(t.x,e.x),y:i5(t.y,e.y)}}function Ire(t,e){let n=.5;const r=ur(t),s=ur(e);return s>r?n=kf(e.min,e.max-r,t.min):r>s&&(n=kf(t.min,t.max-s,e.min)),ia(0,1,n)}function Lre(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const O2=.35;function Rre(t=O2){return t===!1?t=0:t===!0&&(t=O2),{x:a5(t,"left","right"),y:a5(t,"top","bottom")}}function a5(t,e,n){return{min:o5(t,e),max:o5(t,n)}}function o5(t,e){return typeof t=="number"?t:t[e]||0}const Fre=new WeakMap;class zre{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ph(h).point)},a=(h,p)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wte(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(w=>{let N=this.getAxisMotionValue(w).get()||0;if(ci.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const T=C.layout.layoutBox[w];T&&(N=ur(T)*(parseFloat(N)/100))}}this.originPoint[w]=N}),v&&Ft.postRender(()=>v(h,p)),M2(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(x&&this.currentDirection===null){this.currentDirection=Vre(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),b&&b(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ls(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new jI(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:CI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Ft.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Pre(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Ic(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_re(r.layoutBox,e):this.constraints=!1,this.elastic=Rre(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ls(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Lre(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ic(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$ne(r,s.root,this.visualElement.getTransformPagePoint());let a=Dre(s.layout.layoutBox,i);if(n){const o=n(Fne(a));this.hasMutatedConstraints=!!o,o&&(a=cI(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ls(d=>{if(!Qm(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return M2(this.visualElement,e),r.start(mN(e,r,0,n,this.visualElement,!1))}stopAnimation(){ls(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ls(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ls(n=>{const{drag:r}=this.getProps();if(!Qm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-Bt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ic(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ls(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=Ire({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ls(a=>{if(!Qm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Bt(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Fre.set(this.visualElement,this);const e=this.visualElement.current,n=Xd(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ic(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ft.read(r);const a=Of(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ls(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=O2,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Qm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Vre(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $re extends wo{constructor(e){super(e),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new zre(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const l5=t=>(e,n)=>{t&&Ft.postRender(()=>t(e,n))};class Bre extends wo{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(e){this.session=new jI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:l5(e),onStart:l5(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Ft.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Xd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xe.test(t))t=parseFloat(t);else return t;const n=c5(t,e.target.x),r=c5(t,e.target.y);return`${n}% ${r}%`}},Hre={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=mo.parse(t);if(s.length>5)return r;const i=mo.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=Bt(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let hv=!1;class Ure extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;fne(Wre),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),hv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Fp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,hv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Ft.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;hv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TI(t){const[e,n]=GD(),r=A.useContext(IS);return c.jsx(Ure,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(oI),isPresent:e,safeToRemove:n})}const Wre={borderRadius:{...vd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vd,borderTopRightRadius:vd,borderBottomLeftRadius:vd,borderBottomRightRadius:vd,boxShadow:Hre};function qre(t,e,n){const r=Zn(t)?t:su(t);return r.start(mN("",r,e,n)),r.animation}const Kre=(t,e)=>t.depth-e.depth;class Gre{constructor(){this.children=[],this.isDirty=!1}add(e){FS(this.children,e),this.isDirty=!0}remove(e){zS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Kre),this.isDirty=!1,this.children.forEach(e)}}function Yre(t,e){const n=Mr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ho(r),t(i-e))};return Ft.setup(r,!0),()=>ho(r)}const EI=["TopLeft","TopRight","BottomLeft","BottomRight"],Xre=EI.length,u5=t=>typeof t=="string"?parseFloat(t):t,d5=t=>typeof t=="number"||Xe.test(t);function Qre(t,e,n,r,s,i){s?(t.opacity=Bt(0,n.opacity??1,Jre(r)),t.opacityExit=Bt(e.opacity??1,0,Zre(r))):i&&(t.opacity=Bt(e.opacity??1,n.opacity??1,r));for(let a=0;a<Xre;a++){const o=`border${EI[a]}Radius`;let l=f5(e,o),u=f5(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||d5(l)===d5(u)?(t[o]=Math.max(Bt(u5(l),u5(u),r),0),(ci.test(u)||ci.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Bt(e.rotate||0,n.rotate||0,r))}function f5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Jre=MI(0,.5,mD),Zre=MI(.5,.95,ps);function MI(t,e,n){return r=>r<t?0:r>e?1:n(kf(t,e,r))}function h5(t,e){t.min=e.min,t.max=e.max}function is(t,e){h5(t.x,e.x),h5(t.y,e.y)}function m5(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function p5(t,e,n,r,s){return t-=e,t=jg(t,1/n,r),s!==void 0&&(t=jg(t,1/s,r)),t}function ese(t,e=0,n=1,r=.5,s,i=t,a=t){if(ci.test(e)&&(e=parseFloat(e),e=Bt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Bt(i.min,i.max,r);t===i&&(o-=e),t.min=p5(t.min,e,n,o,s),t.max=p5(t.max,e,n,o,s)}function g5(t,e,[n,r,s],i,a){ese(t,e[n],e[r],e[s],e.scale,i,a)}const tse=["x","scaleX","originX"],nse=["y","scaleY","originY"];function x5(t,e,n,r){g5(t.x,e,tse,n?n.x:void 0,r?r.x:void 0),g5(t.y,e,nse,n?n.y:void 0,r?r.y:void 0)}function y5(t){return t.translate===0&&t.scale===1}function AI(t){return y5(t.x)&&y5(t.y)}function b5(t,e){return t.min===e.min&&t.max===e.max}function rse(t,e){return b5(t.x,e.x)&&b5(t.y,e.y)}function v5(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OI(t,e){return v5(t.x,e.x)&&v5(t.y,e.y)}function w5(t){return ur(t.x)/ur(t.y)}function S5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sse{constructor(){this.members=[]}add(e){FS(this.members,e),e.scheduleRender()}remove(e){if(zS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ise(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const mv=["","X","Y","Z"],ase=1e3;let ose=0;function pv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&PI(r)}function _I({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e?.()){this.id=ose++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(use),this.nodes.forEach(mse),this.nodes.forEach(pse),this.nodes.forEach(dse)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gre)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new BS),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=KD(a)&&!Qte(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{h=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=Yre(p,250),Fp.hasAnimatedSinceResize&&(Fp.hasAnimatedSinceResize=!1,this.nodes.forEach(j5)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||vse,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!OI(this.targetLayout,g),N=!h&&p;if(this.options.layoutRoot||this.resumeFrom||N||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...tN(x,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(d,N)}else h||j5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gse),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(C5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hse),this.nodes.forEach(lse),this.nodes.forEach(cse)):this.nodes.forEach(C5),this.clearAllSnapshots();const o=Mr.now();Ln.delta=ia(0,1e3/60,o-Ln.timestamp),Ln.timestamp=o,Ln.isProcessing=!0,rv.update.process(Ln),rv.preRender.process(Ln),rv.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fse),this.sharedNodes.forEach(xse)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ur(this.snapshot.measuredBox.x)&&!ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!AI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ko(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),wse(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return sn();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Sse))){const{scroll:u}=this.root;u&&(Lc(o.x,u.offset.x),Lc(o.y,u.offset.y))}return o}removeElementScroll(a){const o=sn();if(is(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&is(o,a),Lc(o.x,d.offset.x),Lc(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=sn();is(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ko(d.latestValues)&&Rc(l,d.latestValues)}return Ko(this.latestValues)&&Rc(l,this.latestValues),l}removeTransform(a){const o=sn();is(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ko(u.latestValues))continue;j2(u.latestValues)&&u.updateSnapshot();const d=sn(),h=u.measurePageBox();is(d,h),x5(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ko(this.latestValues)&&x5(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Jd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ere(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),dI(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Jd(this.relativeTargetOrigin,this.target,p.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||j2(this.parent.latestValues)||uI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;is(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Vne(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=sn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m5(this.prevProjectionDelta.x,this.projectionDelta.x),m5(this.prevProjectionDelta.y,this.projectionDelta.y)),Qd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!S5(this.projectionDelta.x,this.prevProjectionDelta.x)||!S5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fc(),this.projectionDelta=Fc(),this.projectionDeltaWithTransform=Fc()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Fc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=sn(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,b=this.getStack(),w=!b||b.members.length<=1,N=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(bse));this.animationProgress=0;let C;this.mixTargetDelta=T=>{const j=T/1e3;k5(h.x,a.x,j),k5(h.y,a.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yse(this.relativeTarget,this.relativeTargetOrigin,p,j),C&&rse(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=sn()),is(C,this.relativeTarget)),v&&(this.animationValues=d,Qre(d,u,this.latestValues,j,N,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{Fp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=su(0)),this.currentAnimation=qre(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ase),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&DI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||sn();const h=ur(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const p=ur(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}is(o,l),Rc(o,d),Qd(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new sse),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&pv("z",a,u,this.animationValues);for(let d=0;d<mv.length;d++)pv(`rotate${mv[d]}`,a,u,this.animationValues),pv(`skew${mv[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Rp(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Rp(o?.pointerEvents)||""),this.hasProjected&&!Ko(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=ise(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),a.transform=h;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Af){if(d[x]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=Af[x],N=h==="none"?d[x]:v(d[x],u);if(b){const C=b.length;for(let T=0;T<C;T++)a[b[T]]=N}else w?this.options.visualElement.renderState.vars[x]=N:a[x]=N}this.options.layoutId&&(a.pointerEvents=u===this?Rp(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(N5),this.root.sharedNodes.clear()}}}function lse(t){t.updateLayout()}function cse(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?ls(d=>{const h=i?e.measuredBox[d]:e.layoutBox[d],p=ur(h);h.min=n[d].min,h.max=h.min+p}):DI(s,e.layoutBox,n)&&ls(d=>{const h=i?e.measuredBox[d]:e.layoutBox[d],p=ur(n[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Fc();Qd(a,n,e.layoutBox);const o=Fc();i?Qd(o,t.applyTransform(r,!0),e.measuredBox):Qd(o,n,e.layoutBox);const l=!AI(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=sn();Jd(g,e.layoutBox,h.layoutBox);const x=sn();Jd(x,n,p.layoutBox),OI(g,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function use(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dse(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fse(t){t.clearSnapshot()}function N5(t){t.clearMeasurements()}function C5(t){t.isLayoutDirty=!1}function hse(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mse(t){t.resolveTargetDelta()}function pse(t){t.calcProjection()}function gse(t){t.resetSkewAndRotation()}function xse(t){t.removeLeadSnapshot()}function k5(t,e,n){t.translate=Bt(e.translate,0,n),t.scale=Bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function T5(t,e,n,r){t.min=Bt(e.min,n.min,r),t.max=Bt(e.max,n.max,r)}function yse(t,e,n,r){T5(t.x,e.x,n.x,r),T5(t.y,e.y,n.y,r)}function bse(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vse={duration:.45,ease:[.4,0,.1,1]},E5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),M5=E5("applewebkit/")&&!E5("chrome/")?Math.round:ps;function A5(t){t.min=M5(t.min),t.max=M5(t.max)}function wse(t){A5(t.x),A5(t.y)}function DI(t,e,n){return t==="position"||t==="preserve-aspect"&&!Tre(w5(e),w5(n),.2)}function Sse(t){return t!==t.root&&t.scroll?.wasRoot}const Nse=_I({attachResizeListener:(t,e)=>Of(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gv={current:void 0},II=_I({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gv.current){const t=new Nse({});t.mount(window),t.setOptions({layoutScroll:!0}),gv.current=t}return gv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cse={pan:{Feature:Bre},drag:{Feature:$re,ProjectionNode:II,MeasureLayout:TI}};function O5(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ft.postRender(()=>i(e,ph(e)))}class jse extends wo{mount(){const{current:e}=this.node;e&&(this.unmount=qte(e,(n,r)=>(O5(this.node,r,"Start"),s=>O5(this.node,s,"End"))))}unmount(){}}class kse extends wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fh(Of(this.node.current,"focus",()=>this.onFocus()),Of(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P5(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ft.postRender(()=>i(e,ph(e)))}class Tse extends wo{mount(){const{current:e}=this.node;e&&(this.unmount=Xte(e,(n,r)=>(P5(this.node,r,"Start"),(s,{success:i})=>P5(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const P2=new WeakMap,xv=new WeakMap,Ese=t=>{const e=P2.get(t.target);e&&e(t)},Mse=t=>{t.forEach(Ese)};function Ase({root:t,...e}){const n=t||document;xv.has(n)||xv.set(n,{});const r=xv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Mse,{root:t,...e})),r[s]}function Ose(t,e,n){const r=Ase(e);return P2.set(t,n),r.observe(t),()=>{P2.delete(t),r.unobserve(t)}}const Pse={some:0,all:1};class _se extends wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Pse[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return Ose(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dse(e,n))&&this.startObserver()}unmount(){}}function Dse({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ise={inView:{Feature:_se},tap:{Feature:Tse},focus:{Feature:kse},hover:{Feature:jse}},Lse={layout:{ProjectionNode:II,MeasureLayout:TI}},Rse={...wre,...Ise,...Cse,...Lse},_5=Rne(Rse,Xne);function St({children:t,open:e,className:n,duration:r,onClose:s}){return A.useEffect(()=>{if(e&&r&&s){const i=setTimeout(()=>{s()},r);return()=>clearTimeout(i)}},[e,r,s]),c.jsx(YD,{mode:"wait",children:e&&c.jsx(_5.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#3e3e3e95] z-[999]",onClick:s,children:c.jsx(_5.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.25},className:`${n}`,onClick:i=>i.stopPropagation(),children:t},"modal-content")},"modal-overlay")})}function Fse({openAddSizeColor:t,setOpenAddSizeColor:e,onSuccess:n}){const[r,s]=A.useState(!1),[i,a]=A.useState(""),[o,l]=A.useState("cloth"),[u,d]=A.useState(""),[h,p]=A.useState("#000000"),g=t.node==="size",x=async()=>{if(g){if(!i.trim()){ue.error("Vui lng nhp tn size!");return}}else if(!u.trim()){ue.error("Vui lng nhp tn mu!");return}s(!0);try{if(g){const b=await Se.post("api/v1/variant-size/create",{name:i.trim(),type:o});b.status&&ue.success(b.message||"Thm size thnh cng")}else{const b=await Se.post("api/v1/variant-color/create",{name:u.trim(),hexCode:h});b.status&&ue.success(b.message||"Thm mu thnh cng")}n(),e({open:!1,node:"size"}),a(""),d(""),p("#000000")}catch{ue.error("Thm tht bi. Vui lng th li.")}finally{s(!1)}},v=()=>{e({open:!1,node:"size"}),a(""),d(""),p("#000000")};return c.jsxs(St,{open:t.open,className:"relative w-[50rem] bg-white p-[3rem] rounded-lg shadow-xl",children:[c.jsx("button",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",onClick:v,disabled:r,children:c.jsx($,{icon:On,className:"text-gray-600"})}),c.jsx("h2",{className:"text-[2rem] text-center font-bold text-green-600 mb-6",children:g?"Thm Size Mi":"Thm Mu Mi"}),g?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn size ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:i,onChange:b=>a(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: XXL, 43",disabled:r})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Loi sn phm"}),c.jsxs("div",{className:"flex gap-6",children:[c.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[c.jsx("input",{type:"radio",name:"sizeType",value:"cloth",checked:o==="cloth",onChange:()=>l("cloth"),disabled:r}),"Qun o"]}),c.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[c.jsx("input",{type:"radio",name:"sizeType",value:"shoes",checked:o==="shoes",onChange:()=>l("shoes"),disabled:r}),"Giy dp"]})]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn mu ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: Xanh ngc",disabled:r})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Chn mu"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"color",value:h,onChange:b=>p(b.target.value),className:"w-20 h-20 rounded-lg cursor-pointer border border-gray-300",disabled:r}),c.jsx("span",{className:"text-[1.6rem] font-mono",children:h})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[c.jsx("button",{onClick:v,disabled:r,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Hy"}),c.jsx("button",{onClick:x,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:r?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang thm..."]}):"Thm"})]})]})}function zse({openActionVariant:t,setOpenActionVariant:e,setValue:n,variants:r,dataUpdate:s,dataSize:i,dataColor:a}){const[o,l]=A.useState("cloth"),u=xo(),[d,h]=A.useState({open:!1,node:"size"}),[p,g]=A.useState({size:"",color:"",inventory:""}),[x,v]=A.useState({sizeId:null,colorId:null,price:null,inventory:null});A.useEffect(()=>{if(t.node==="edit"&&s){const C=i.find(T=>T.id===s.sizeId);v({sizeId:s.sizeId,colorId:s.colorId,price:s.price,inventory:s.inventory}),C&&l(C.type)}},[s,t,i]),A.useEffect(()=>{t.node==="add"&&(v({sizeId:null,colorId:null,price:null,inventory:null}),l("cloth"))},[t]);const b=()=>{if(!x.sizeId){g(T=>({...T,size:"Vui lng chn size cho sn phm!"}));return}if(!x.colorId){g(T=>({...T,color:"Vui lng chn mu sc cho sn phm!"}));return}if(!x.inventory){g(T=>({...T,inventory:"Vui lng nhp s lng tn kho!"}));return}if(r.some(T=>T.sizeId===Number(x.sizeId)&&T.colorId===Number(x.colorId))){ue.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}n("variants",[...r,{tempId:Date.now(),sizeId:Number(x.sizeId),colorId:Number(x.colorId),price:x.price?Number(x.price):null,inventory:Number(x.inventory),isEdited:!1}]),e({open:!1,node:"add",data:null})},w=()=>{if(x.sizeId)if(x.colorId){if(!x.inventory){g(O=>({...O,inventory:"Vui lng nhp s lng tn kho!"}));return}}else{g(O=>({...O,color:"Vui lng chn mu sc cho sn phm!"}));return}else{g(O=>({...O,size:"Vui lng chn size cho sn phm!"}));return}const C=s.id;if(r.some(O=>!(C?O.id===s.id:O.tempId===s.tempId)&&O.sizeId===Number(x.sizeId)&&O.colorId===Number(x.colorId))){ue.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}const j={tempId:s.tempId,sizeId:x.sizeId,colorId:x.colorId,price:x.price?Number(x.price):null,inventory:Number(x.inventory),...s.id&&{id:s.id},isEdited:!0},E=r.map(O=>O.tempId===s.tempId?j:O);n("variants",E),e({open:!1,node:"add",data:null})},N=()=>{u.invalidateQueries({queryKey:["variantSize"]}),u.invalidateQueries({queryKey:["variantColor"]})};return c.jsxs(St,{open:t.open,className:"relative max-w-[75rem] bg-white p-[3rem] rounded-lg shadow-md",children:[c.jsx("button",{className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1.5rem] right-[1.5rem] p-2 hover:bg-gray-200 rounded-full",onClick:()=>e({open:!1,node:"add",data:null}),children:c.jsx($,{icon:On,className:"text-gray-600"})}),c.jsx("h2",{className:`text-[2rem] text-center font-bold ${t.node==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.node==="add"?"Thm thuc tnh sn phm":"Chnh sa thuc tnh"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:c.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn size:"})}),c.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>h({node:"size",open:!0}),children:[c.jsx("span",{children:"+"})," Thm size"]})]}),c.jsxs("div",{className:"flex items-center overflow-x-auto gap-[4rem] mt-[.5rem]",children:[c.jsxs("div",{className:"flex items-center gap-[1rem]",children:[c.jsx("label",{htmlFor:"cloth",className:"text-[1.4rem] text-gray-600",children:"Qun o"}),c.jsx("input",{type:"radio",id:"cloth",className:"",checked:o==="cloth",onChange:()=>l("cloth")})]}),c.jsxs("div",{className:"flex items-center gap-[1rem]",children:[c.jsx("label",{htmlFor:"shoes",className:"text-[1.4rem] text-gray-600",children:"Giy dp"}),c.jsx("input",{type:"radio",id:"shoes",className:"",checked:o==="shoes",onChange:()=>l("shoes")})]})]}),c.jsx("div",{className:"w-full overflow-auto hide-scrollbar flex flex-nowrap items-center gap-[1rem] mt-[1rem] pt-[.5rem]",children:i?.map(C=>{if(C.type===o)return c.jsx("button",{className:`flex-shrink-0 px-[1.5rem] py-[.5rem] border-[.2rem] text-gray-600 border-gray-300 rounded-xl hover:border-blue-600 hover:translate-y-[-.2rem] hover-linear hover:shadow-xl ${C.id===x.sizeId?"bg-blue-500 border-none text-white shadow-xl shadow-blue-100":""}`,onClick:()=>{v(T=>({...T,sizeId:C.id})),g(T=>({...T,size:""}))},children:C.name},C.id)})}),c.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.size}),c.jsxs("div",{className:"flex justify-between items-center mt-[2.5rem]",children:[c.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:c.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn mu:"})}),c.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>h({node:"color",open:!0}),children:[c.jsx("span",{children:"+"})," Thm mu"]})]}),c.jsx("div",{className:"w-full max-h-[24rem] overflow-y-auto grid grid-cols-4 gap-[1rem] mt-[1rem] pt-[.5rem]",children:a?.map(C=>c.jsxs("button",{className:`w-full flex items-center gap-[1rem] px-[2rem] py-[.6rem] border-[.2rem]  rounded-xl hover:translate-y-[-.2rem] hover-linear hover:shadow-xl hover:border-blue-500 ${C.id===x.colorId?"bg-blue-100 border-blue-500":"border-gray-300"}`,onClick:()=>{v(T=>({...T,colorId:C.id})),g(T=>({...T,color:""}))},children:[c.jsx("div",{className:"block w-[3rem] h-[3rem] rounded-full border-[.2rem] border-gray-300",style:{background:C.hexCode}}),c.jsx("p",{className:"text-[1.4rem] text-gray-600",children:C.name})]},C.id))}),c.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.color}),c.jsxs("div",{className:"flex items-start gap-[2rem]",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"price",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"Gi khc"}),c.jsx("input",{type:"number",id:"price",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 200000",value:x.price??"",onChange:C=>v(T=>({...T,price:C.target.value}))})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"inventory",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"S lng kho"}),c.jsx("input",{type:"number",id:"inventory",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 5",value:x.inventory??"",onChange:C=>{v(T=>({...T,inventory:C.target.value})),g(T=>({...T,inventory:""}))}}),c.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.inventory})]})]}),c.jsxs("div",{className:"flex items-center gap-[1.5rem] justify-end mt-[2rem]",children:[c.jsx("button",{className:" bg-gray-200 text-gray-600 py-2 rounded hover:bg-gray-300 px-[2rem] hover-linear",onClick:()=>e({open:!1,node:"add",data:null}),children:"Hy"}),c.jsx("button",{className:" bg-green-500 text-white py-2 rounded hover:bg-green-600 px-[2rem] hover-linear",onClick:()=>{t.node==="add"?b():w()},children:t.node==="edit"?"Lu":"Thm"})]}),c.jsx(Fse,{openAddSizeColor:d,setOpenAddSizeColor:h,onSuccess:N})]})}const LI=async({queryKey:t})=>{const[,e]=t,n=Object.fromEntries(Object.entries(e).filter(([s,i])=>i!==null&&i!==""));return await Se.get("/api/v1/product/get-product",{params:n})},Vse=async()=>(await Se.get("/api/v1/variant-size/get-size")).data,$se=async()=>(await Se.get("/api/v1/variant-color/get-color")).data,Bse=async t=>await Se.get("/api/v1/product/get-popular",{params:t}),Hse=async t=>await Se.get(`/api/v1/product/detail/${t}`),Use=async({productId:t,rating:e,page:n,sort:r})=>await Se.get(`/api/v1/evaluate/get-evaluate/${t}`,{params:{rating:e,page:n,sort:r,limit:20}}),Wse=async(t,e)=>await Se.get("/api/v1/product/by-slugs",{params:{slugs:t.join("/"),...e}});function pN({category:t,allCategories:e,level:n=0}){if(!t.isActive)return null;const r=e.filter(i=>i.parentId===t.id),s=n*24;return c.jsxs(ge.Fragment,{children:[c.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>c.jsx(pN,{category:i,allCategories:e,level:n+1},i.id))]},t.id)}var yv={exports:{}},bv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D5;function qse(){if(D5)return bv;D5=1;var t=mu();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(h,p){var g=p(),x=r({inst:{value:g,getSnapshot:p}}),v=x[0].inst,b=x[1];return i(function(){v.value=g,v.getSnapshot=p,l(v)&&b({inst:v})},[h,g,p]),s(function(){return l(v)&&b({inst:v}),h(function(){l(v)&&b({inst:v})})},[h]),a(g),g}function l(h){var p=h.getSnapshot;h=h.value;try{var g=p();return!n(h,g)}catch{return!0}}function u(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return bv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,bv}var I5;function RI(){return I5||(I5=1,yv.exports=qse()),yv.exports}var FI=RI();function In(t){this.content=t}In.prototype={constructor:In,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new In(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new In(n)},addToStart:function(t,e){return new In([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new In(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new In(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=In.from(t),t.size?new In(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=In.from(t),t.size?new In(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=In.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};In.from=function(t){if(t instanceof In)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new In(e)};function zI(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=zI(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function VI(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),o=e.child(--i),l=a.nodeSize;if(a==o){n-=l,r-=l;continue}if(!a.sameMarkup(o))return{a:n,b:r};if(a.isText&&a.text!=o.text){let u=0,d=Math.min(a.text.length,o.text.length);for(;u<d&&a.text[a.text.length-u-1]==o.text[o.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||o.content.size){let u=VI(a.content,o.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class ce{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,o=0;o<n;a++){let l=this.content[a],u=o+l.nodeSize;if(u>e&&r(l,s+o,i||null,a)!==!1&&l.content.size){let d=o+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),r,s+d)}o=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(o,l)=>{let u=o.isText?o.text.slice(Math.max(e,l)-l,n-l):o.isLeaf?s?typeof s=="function"?s(o):s:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&u||o.isTextblock)&&r&&(a?a=!1:i+=r),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new ce(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let o=this.content[i],l=a+o.nodeSize;l>e&&((a<e||l>n)&&(o.isText?o=o.cut(Math.max(0,e-a),Math.min(o.text.length,n-a)):o=o.cut(Math.max(0,e-a-1),Math.min(o.content.size,n-a-1))),r.push(o),s+=o.nodeSize),a=l}return new ce(r,s)}cutByIndex(e,n){return e==n?ce.empty:e==0&&n==this.content.length?this:new ce(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new ce(s,i)}addToStart(e){return new ce([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ce(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return zI(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return VI(this,e,n,r)}findIndex(e){if(e==0)return Jm(0,e);if(e==this.size)return Jm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?Jm(n+1,i):Jm(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ce.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ce(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ce.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ce(n||e,r)}static from(e){if(!e)return ce.empty;if(e instanceof ce)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ce([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ce.empty=new ce([],0);const vv={index:0,offset:0};function Jm(t,e){return vv.index=t,vv.offset=e,vv}function kg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!kg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!kg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Nt=class _2{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&kg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return _2.none;if(e instanceof _2)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Nt.none=[];class Tg extends Error{}class Ce{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=BI(this.content,e+this.openStart,n);return r&&new Ce(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ce($I(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ce.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ce(ce.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Ce(e,r,s)}}Ce.empty=new Ce(ce.empty,0,0);function $I(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:o}=t.findIndex(n);if(s==e||i.isText){if(o!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy($I(i.content,e-s-1,n-s-1)))}function BI(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let o=BI(a.content,e-i-1,n,a);return o&&t.replaceChild(s,a.copy(o))}function Kse(t,e,n){if(n.openStart>t.depth)throw new Tg("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Tg("Inconsistent open depths");return HI(t,e,n,0)}function HI(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=HI(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,o=a.content;return pl(a,o.cut(0,t.parentOffset).append(n.content).append(o.cut(e.parentOffset)))}else{let{start:a,end:o}=Gse(n,t);return pl(i,WI(t,a,o,e,r))}else return pl(i,Eg(t,e,r))}function UI(t,e){if(!e.type.compatibleContent(t.type))throw new Tg("Cannot join "+e.type.name+" onto "+t.type.name)}function D2(t,e,n){let r=t.node(n);return UI(r,e.node(n)),r}function ml(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Zd(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(ml(t.nodeAfter,r),i++));for(let o=i;o<a;o++)ml(s.child(o),r);e&&e.depth==n&&e.textOffset&&ml(e.nodeBefore,r)}function pl(t,e){return t.type.checkContent(e),t.copy(e)}function WI(t,e,n,r,s){let i=t.depth>s&&D2(t,e,s+1),a=r.depth>s&&D2(n,r,s+1),o=[];return Zd(null,t,s,o),i&&a&&e.index(s)==n.index(s)?(UI(i,a),ml(pl(i,WI(t,e,n,r,s+1)),o)):(i&&ml(pl(i,Eg(t,e,s+1)),o),Zd(e,n,s,o),a&&ml(pl(a,Eg(n,r,s+1)),o)),Zd(r,null,s,o),new ce(o)}function Eg(t,e,n){let r=[];if(Zd(null,t,n,r),t.depth>n){let s=D2(t,e,n+1);ml(pl(s,Eg(t,e,n+1)),r)}return Zd(e,null,n,r),new ce(r)}function Gse(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(ce.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Pf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Nt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let o=r;r=s,s=o}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Mg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:o,offset:l}=a.content.findIndex(i),u=i-l;if(r.push(a,o,s+l),!u||(a=a.child(o),a.isText))break;i=u-1,s+=l+1}return new Pf(n,r,i)}static resolveCached(e,n){let r=L5.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else L5.set(e,r=new Yse);let s=r.elts[r.i]=Pf.resolve(e,n);return r.i=(r.i+1)%Xse,s}}class Yse{constructor(){this.elts=[],this.i=0}}const Xse=12,L5=new WeakMap;class Mg{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Qse=Object.create(null);let eo=class I2{constructor(e,n,r,s=Nt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||ce.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&kg(this.attrs,n||e.defaultAttrs||Qse)&&Nt.sameSet(this.marks,r||Nt.none)}copy(e=null){return e==this.content?this:new I2(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new I2(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ce.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),o=s.start(a),u=s.node(a).content.cut(s.pos-o,i.pos-o);return new Ce(u,s.depth-a,i.depth-a)}replace(e,n,r){return Kse(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Pf.resolveCached(this,e)}resolveNoCache(e){return Pf.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),qI(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ce.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),o=a&&a.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Nt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Nt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=ce.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};eo.prototype.text=void 0;class Ag extends eo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):qI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ag(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ag(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function qI(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class El{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Jse(e,n);if(r.next==null)return El.empty;let s=KI(r);r.next&&r.err("Unexpected trailing text");let i=iie(sie(s));return aie(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,o){let l=a.matchFragment(e,r);if(l&&(!n||l.validEnd))return ce.from(o.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:h}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let p=i(h,o.concat(d));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let o=s;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:o,next:l}=i.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!s.type||l.validEnd)&&(r.push({match:o.contentMatch,type:o,via:s}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}El.empty=new El(!0);class Jse{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function KI(t){let e=[];do e.push(Zse(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Zse(t){let e=[];do e.push(eie(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function eie(t){let e=rie(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=tie(t,e);else break;return e}function R5(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function tie(t,e){let n=R5(t),r=n;return t.eat(",")&&(t.next!="}"?r=R5(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function nie(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function rie(t){if(t.eat("(")){let e=KI(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=nie(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function sie(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,o,l){let u={term:l,to:o};return e[a].push(u),u}function s(a,o){a.forEach(l=>l.to=o)}function i(a,o){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(i(u,o)),[]);if(a.type=="seq")for(let l=0;;l++){let u=i(a.exprs[l],o);if(l==a.exprs.length-1)return u;s(u,o=n())}else if(a.type=="star"){let l=n();return r(o,l),s(i(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return s(i(a.expr,o),l),s(i(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(o)].concat(i(a.expr,o));if(a.type=="range"){let l=o;for(let u=0;u<a.min;u++){let d=n();s(i(a.expr,l),d),l=d}if(a.max==-1)s(i(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let d=n();r(l,d),s(i(a.expr,l),d),l=d}return[r(l)]}else{if(a.type=="name")return[r(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function GI(t,e){return e-t}function F5(t,e){let n=[];return r(e),n.sort(GI);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:o,to:l}=i[a];!o&&n.indexOf(l)==-1&&r(l)}}}function iie(t){let e=Object.create(null);return n(F5(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:o,to:l})=>{if(!o)return;let u;for(let d=0;d<s.length;d++)s[d][0]==o&&(u=s[d][1]);F5(t,l).forEach(d=>{u||s.push([o,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[r.join(",")]=new El(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let o=s[a][1].sort(GI);i.next.push({type:s[a][0],next:e[o.join(",")]||n(o)})}return i}}function aie(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let o=0;o<s.next.length;o++){let{type:l,next:u}=s.next[o];a.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function YI(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function XI(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function QI(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function JI(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new lie(t,r,e[r]);return n}let z5=class ZI{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=JI(e,r.attrs),this.defaultAttrs=YI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==El.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:XI(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new eo(this,this.computeAttrs(e),ce.from(n),Nt.setFrom(r))}createChecked(e=null,n,r){return n=ce.from(n),this.checkContent(n),new eo(this,this.computeAttrs(e),n,Nt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ce.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(ce.empty,!0);return i?new eo(this,e,n.append(i),Nt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){QI(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Nt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new ZI(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function oie(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class lie{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?oie(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class lx{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=JI(e,s.attrs),this.excluded=null;let i=YI(this.attrs);this.instance=i?new Nt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Nt(this,XI(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new lx(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){QI(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let eL=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=In.from(e.nodes),n.marks=In.from(e.marks||{}),this.nodes=z5.compile(this.spec.nodes,this),this.marks=lx.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",o=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=El.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=o=="_"?null:o?V5(this,o.split(" ")):o==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:V5(this,a.split(" "))}this.nodeFromJSON=s=>eo.fromJSON(this,s),this.markFromJSON=s=>Nt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof z5){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Ag(r,r.defaultAttrs,e,Nt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function V5(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let o in t.marks){let l=t.marks[o];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function cie(t){return t.tag!=null}function uie(t){return t.style!=null}class to{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(cie(s))this.tags.push(s);else if(uie(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new B5(this,n,!1);return r.addAll(e,Nt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new B5(this,n,!0);return r.addAll(e,Nt.none,n.from,n.to),Ce.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(hie(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],o=a.style;if(!(o.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let o=n[a];if((o.priority==null?50:o.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=H5(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=H5(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new to(e,to.schemaRules(e)))}}const tL={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},die={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},nL={ol:!0,ul:!0},_f=1,L2=2,ef=4;function $5(t,e,n){return e!=null?(e?_f:0)|(e==="full"?L2:0):t&&t.whitespace=="pre"?_f|L2:n&~ef}class Zm{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Nt.none,this.match=i||(a&ef?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ce.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&_f)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=ce.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ce.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!tL.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class B5{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=$5(null,n.preserveWhitespace,0)|(r?ef:0);s?i=new Zm(s.type,s.attrs,Nt.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new Zm(null,null,Nt.none,!0,null,a):i=new Zm(e.schema.topNodeType,null,Nt.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&L2?"full":this.localPreserveWS||(s.options&_f)>0,{schema:a}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let o=r.split(/\r?\n|\r/);for(let l=0;l<o.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),n,!0),o[l]&&this.insertNode(a.text(o[l]),n,!/\S/.test(o[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),o;nL.hasOwnProperty(a)&&this.parser.normalizeLists&&fie(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));e:if(l?l.ignore:die.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,d=this.needsBlock;if(tL.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=l&&l.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),u&&this.sync(i),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,l,u,l.consuming===!1?o:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let o=void 0;;){let l=this.parser.matchStyle(i,a,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(o)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,o=s==null?null:e.childNodes[s];a!=o;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,o=0;a>=0;a--){let l=this.nodes[a],u=l.findWrapping(e);if(u&&(!s||s.length>u.length+o)&&(s=u,i=l,!u.length))break;if(l.solid){if(r)break;o+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=Nt.none;for(let o of s.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):U5(o.type,e.type))&&(a=o.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let o=$5(e,i,a.options);a.options&ef&&a.content.length==0&&(o|=ef);let l=Nt.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):U5(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new Zm(e,n,l,s,null,o)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=_f)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(o,l)=>{for(;o>=0;o--){let u=n[o];if(u==""){if(o==n.length-1||o==0)continue;for(;l>=i;l--)if(a(o-1,l))return!0;return!1}else{let d=l>0||l==0&&s?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function fie(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&nL.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function hie(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function H5(t){let e={};for(let n in t)e[n]=t[n];return e}function U5(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=o=>{i.push(o);for(let l=0;l<o.edgeCount;l++){let{type:u,next:d}=o.edge(l);if(u==e||i.indexOf(d)<0&&a(d))return!0}};if(a(s.contentMatch))return!0}}class Bl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=wv(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let o=0,l=0;for(;o<i.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(i[o][0])||u.type.spec.spanning===!1)break;o++,l++}for(;o<i.length;)s=i.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],d=this.serializeMark(u,a.isInline,n);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=zp(wv(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&zp(wv(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return zp(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=W5(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return W5(e.marks)}}function W5(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function wv(t){return t.document||window.document}const q5=new WeakMap;function mie(t){let e=q5.get(t);return e===void 0&&q5.set(t,e=pie(t)),e}function pie(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function zp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=mie(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let o,l=n?t.createElementNS(n,s):t.createElement(s),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let h in u)if(u[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),u[h]):h=="style"&&l.style?l.style.cssText=u[h]:l.setAttribute(h,u[h])}}for(let h=d;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:x}=zp(t,p,n,r);if(l.appendChild(g),x){if(o)throw new RangeError("Multiple content holes");o=x}}}return{dom:l,contentDOM:o}}const rL=65535,sL=Math.pow(2,16);function gie(t,e){return t+e*sL}function K5(t){return t&rL}function xie(t){return(t-(t&rL))/sL}const iL=1,aL=2,Vp=4,oL=8;class R2{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&oL)>0}get deletedBefore(){return(this.delInfo&(iL|Vp))>0}get deletedAfter(){return(this.delInfo&(aL|Vp))>0}get deletedAcross(){return(this.delInfo&Vp)>0}}class Hr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Hr.empty)return Hr.empty}recover(e){let n=0,r=K5(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+xie(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?s:0);if(l>e)break;let u=this.ranges[o+i],d=this.ranges[o+a],h=l+u;if(e<=h){let p=u?e==l?-1:e==h?1:n:n,g=l+s+(p<0?0:d);if(r)return g;let x=e==(n<0?l:h)?null:gie(o/3,e-l),v=e==l?aL:e==h?iL:Vp;return(n<0?e!=l:e!=h)&&(v|=oL),new R2(g,v,x)}s+=d-u}return r?e+s:new R2(e+s,0,null)}touches(e,n){let r=0,s=K5(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[o+i],d=l+u;if(e<=d&&o==s*3)return!0;r+=this.ranges[o+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],o=a-(this.inverted?i:0),l=a+(this.inverted?0:i),u=this.ranges[s+n],d=this.ranges[s+r];e(o,o+u,l,l+d),i+=d-u}}invert(){return new Hr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Hr.empty:new Hr(e<0?[0,-e,0]:[0,0,e])}}Hr.empty=new Hr([]);class Df{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Df(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Df;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],o=a.mapResult(e,n);if(o.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(o.recover);continue}}s|=o.delInfo,e=o.pos}return r?e:new R2(e,s,null)}}const Sv=Object.create(null);class sr{getMap(){return Hr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Sv[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Sv)throw new RangeError("Duplicate use of step JSON ID "+e);return Sv[e]=n,n.prototype.jsonID=e,n}}class hn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new hn(e,null)}static fail(e){return new hn(null,e)}static fromReplace(e,n,r,s){try{return hn.ok(e.replace(n,r,s))}catch(i){if(i instanceof Tg)return hn.fail(i.message);throw i}}}function gN(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(gN(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return ce.fromArray(r)}class Ka extends sr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Ce(gN(n.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return hn.fromReplace(e,this.from,this.to,i)}invert(){return new _s(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ka(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ka&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ka(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ka(n.from,n.to,e.markFromJSON(n.mark))}}sr.jsonID("addMark",Ka);class _s extends sr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ce(gN(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return hn.fromReplace(e,this.from,this.to,r)}invert(){return new Ka(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _s(n.pos,r.pos,this.mark)}merge(e){return e instanceof _s&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _s(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _s(n.from,n.to,e.markFromJSON(n.mark))}}sr.jsonID("removeMark",_s);class Ga extends sr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return hn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return hn.fromReplace(e,this.pos,this.pos+1,new Ce(ce.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Ga(this.pos,n.marks[s]);return new Ga(this.pos,this.mark)}}return new Ml(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ga(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ga(n.pos,e.markFromJSON(n.mark))}}sr.jsonID("addNodeMark",Ga);class Ml extends sr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return hn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return hn.fromReplace(e,this.pos,this.pos+1,new Ce(ce.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ga(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ml(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ml(n.pos,e.markFromJSON(n.mark))}}sr.jsonID("removeNodeMark",Ml);class jn extends sr{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&F2(e,this.from,this.to)?hn.fail("Structure replace would overwrite content"):hn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hr([this.from,this.to-this.from,this.slice.size])}invert(e){return new jn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new jn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof jn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ce.empty:new Ce(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new jn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ce.empty:new Ce(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new jn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new jn(n.from,n.to,Ce.fromJSON(e,n.slice),!!n.structure)}}sr.jsonID("replace",jn);class Mn extends sr{constructor(e,n,r,s,i,a,o=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=o}apply(e){if(this.structure&&(F2(e,this.from,this.gapFrom)||F2(e,this.gapTo,this.to)))return hn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return hn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?hn.fromReplace(e,this.from,this.to,r):hn.fail("Content does not fit in gap")}getMap(){return new Hr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Mn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Mn(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Mn(n.from,n.to,n.gapFrom,n.gapTo,Ce.fromJSON(e,n.slice),n.insert,!!n.structure)}}sr.jsonID("replaceAround",Mn);function F2(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function yie(t,e,n,r){let s=[],i=[],a,o;t.doc.nodesBetween(e,n,(l,u,d)=>{if(!l.isInline)return;let h=l.marks;if(!r.isInSet(h)&&d.type.allowsMarkType(r.type)){let p=Math.max(u,e),g=Math.min(u+l.nodeSize,n),x=r.addToSet(h);for(let v=0;v<h.length;v++)h[v].isInSet(x)||(a&&a.to==p&&a.mark.eq(h[v])?a.to=g:s.push(a=new _s(p,g,h[v])));o&&o.to==p?o.to=g:i.push(o=new Ka(p,g,r))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function bie(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,o)=>{if(!a.isInline)return;i++;let l=null;if(r instanceof lx){let u=a.marks,d;for(;d=r.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let u=Math.min(o+a.nodeSize,n);for(let d=0;d<l.length;d++){let h=l[d],p;for(let g=0;g<s.length;g++){let x=s[g];x.step==i-1&&h.eq(s[g].style)&&(p=x)}p?(p.to=u,p.step=i):s.push({style:h,from:Math.max(o,e),to:u,step:i})}}}),s.forEach(a=>t.step(new _s(a.from,a.to,a.style)))}function xN(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],o=e+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),d=o+u.nodeSize,h=r.matchType(u.type);if(!h)a.push(new jn(o,d,Ce.empty));else{r=h;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||t.step(new _s(o,d,u.marks[p]));if(s&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,x;for(;p=g.exec(u.text);)x||(x=new Ce(ce.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new jn(o+p.index,o+p.index+p[0].length,x))}}o=d}if(!r.validEnd){let l=r.fillBefore(ce.empty,!0);t.replace(o,o,new Ce(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function vie(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ku(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,i=0;;--r){let a=t.$from.node(r),o=t.$from.index(r)+s,l=t.$to.indexAfter(r)-i;if(r<t.depth&&a.canReplace(o,l,n))return r;if(r==0||a.type.spec.isolating||!vie(a,o,l))break;o&&(s=1),l<a.childCount&&(i=1)}return null}function wie(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),o=s.after(i+1),l=a,u=o,d=ce.empty,h=0;for(let x=i,v=!1;x>n;x--)v||r.index(x)>0?(v=!0,d=ce.from(r.node(x).copy(d)),h++):l--;let p=ce.empty,g=0;for(let x=i,v=!1;x>n;x--)v||s.after(x+1)<s.end(x)?(v=!0,p=ce.from(s.node(x).copy(p)),g++):u++;t.step(new Mn(l,u,a,o,new Ce(d.append(p),h,g),d.size-h,!0))}function yN(t,e,n=null,r=t){let s=Sie(t,e),i=s&&Nie(r,e);return i?s.map(G5).concat({type:e,attrs:n}).concat(i.map(G5)):null}function G5(t){return{type:t,attrs:null}}function Sie(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function Nie(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;l&&u<s;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:a}function Cie(t,e,n){let r=ce.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let o=n[a].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ce.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new Mn(s,i,s,i,new Ce(r,0,0),n.length,!0))}function jie(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,o)=>{let l=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,l)&&kie(t.doc,t.mapping.slice(i).map(o),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!x?u=!1:!g&&x&&(u=!0)}u===!1&&cL(t,a,o,i),xN(t,t.mapping.slice(i).map(o,1),r,void 0,u===null);let d=t.mapping.slice(i),h=d.map(o,1),p=d.map(o+a.nodeSize,1);return t.step(new Mn(h,p,h+1,p-1,new Ce(ce.from(r.create(l,null,a.marks)),0,0),1,!0)),u===!0&&lL(t,a,o,i),!1}})}function lL(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(s.text);){let l=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function cL(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function kie(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function Tie(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Mn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Ce(ce.from(a),0,0),1,!0))}function Yi(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=n-2;u>i;u--,d--){let h=s.node(u),p=s.index(u);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(p,h.childCount),x=r&&r[d+1];x&&(g=g.replaceChild(0,x.type.create(x.attrs)));let v=r&&r[d]||h;if(!h.canReplace(p+1,h.childCount)||!v.type.validContent(g))return!1}let o=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(o,o,l?l.type:s.node(i+1).type)}function Eie(t,e,n=1,r){let s=t.doc.resolve(e),i=ce.empty,a=ce.empty;for(let o=s.depth,l=s.depth-n,u=n-1;o>l;o--,u--){i=ce.from(s.node(o).copy(i));let d=r&&r[u];a=ce.from(d?d.type.create(d.attrs,a):s.node(o).copy(a))}t.step(new jn(e,e,new Ce(i.append(a),n,n),!0))}function So(t,e){let n=t.resolve(e),r=n.index();return uL(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Mie(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function uL(t,e){return!!(t&&e&&!t.isLeaf&&Mie(t,e))}function cx(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,o=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),o++,a=r.node(s).maybeChild(o)):(i=r.node(s).maybeChild(o-1),a=r.node(s+1)),i&&!i.isTextblock&&uL(i,a)&&r.node(s).canReplace(o,o+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Aie(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let d=a.whitespace=="pre",h=!!a.contentMatch.matchType(s);d&&!h?r=!1:!d&&h&&(r=!0)}let o=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);cL(t,d.node(),d.before(),o)}a.inlineContent&&xN(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(o),u=l.map(e-n);if(t.step(new jn(u,l.map(e+n,-1),Ce.empty,!0)),r===!0){let d=t.doc.resolve(u);lL(t,d.node(),d.before(),t.steps.length)}return t}function Oie(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function dL(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let o=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(o>0?1:0),u=r.node(a),d=!1;if(i==1)d=u.canReplace(l,l,s);else{let h=u.contentMatchAt(l).findWrapping(s.firstChild.type);d=h&&u.canReplaceWith(l,l,h[0])}if(d)return o==0?r.pos:o<0?r.before(a+1):r.after(a+1)}return null}function ux(t,e,n=e,r=Ce.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return fL(s,i,r)?new jn(e,n,r):new Pie(s,i,r).fit()}function fL(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Pie{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ce.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ce.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,o=s.depth;for(;a&&o&&i.childCount==1;)i=i.firstChild.content,a--,o--;let l=new Ce(i,a,o);return e>-1?new Mn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new jn(r.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Nv(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:u}=this.frontier[o],d,h=null;if(n==1&&(a?u.matchType(a.type)||(h=u.fillBefore(ce.from(a),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:o,parent:i,inject:h};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:o,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Nv(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Ce(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Nv(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new Ce(Dd(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Ce(Dd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let a=this.unplaced,o=r?r.content:a.content,l=a.openStart-e,u=0,d=[],{match:h,type:p}=this.frontier[n];if(s){for(let v=0;v<s.childCount;v++)d.push(s.child(v));h=h.matchFragment(s)}let g=o.size+e-(a.content.size-a.openEnd);for(;u<o.childCount;){let v=o.child(u),b=h.matchType(v.type);if(!b)break;u++,(u>1||l==0||v.content.size)&&(h=b,d.push(hL(v.mark(p.allowedMarks(v.marks)),u==1?l:0,u==o.childCount?g:-1)))}let x=u==o.childCount;x||(g=-1),this.placed=Id(this.placed,n,ce.from(d)),this.frontier[n].match=h,x&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=o;v<g;v++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=x?e==0?Ce.empty:new Ce(Dd(a.content,e-1,1),e-1,g<0?a.openEnd:e-1):new Ce(Dd(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Cv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Cv(e,n,s,r,i);if(a){for(let o=n-1;o>=0;o--){let{match:l,type:u}=this.frontier[o],d=Cv(e,o,u,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Id(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Id(this.placed,this.depth,ce.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ce.empty,!0);n.childCount&&(this.placed=Id(this.placed,this.frontier.length,n))}}function Dd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Dd(t.firstChild.content,e-1,n)))}function Id(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Id(t.lastChild.content,e-1,n)))}function Nv(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function hL(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,hL(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ce.empty,!0)))),t.copy(r)}function Cv(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let o=r.fillBefore(i.content,!0,a);return o&&!_ie(n,i.content,a)?o:null}function _ie(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Die(t){return t.spec.defining||t.spec.definingForContent}function Iie(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(fL(s,i,r))return t.step(new jn(e,n,r));let a=pL(s,i);a[a.length-1]==0&&a.pop();let o=-(s.depth+1);a.unshift(o);for(let p=s.depth,g=s.pos-1;p>0;p--,g--){let x=s.node(p).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(p)>-1?o=p:s.before(p)==g&&a.splice(1,0,-p)}let l=a.indexOf(o),u=[],d=r.openStart;for(let p=r.content,g=0;;g++){let x=p.firstChild;if(u.push(x),g==r.openStart)break;p=x.content}for(let p=d-1;p>=0;p--){let g=u[p],x=Die(g.type);if(x&&!g.sameMarkup(s.node(Math.abs(o)-1)))d=p;else if(x||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+d+1)%(r.openStart+1),x=u[g];if(x)for(let v=0;v<a.length;v++){let b=a[(v+l)%a.length],w=!0;b<0&&(w=!1,b=-b);let N=s.node(b-1),C=s.index(b-1);if(N.canReplaceWith(C,C,x.type,x.marks))return t.replace(s.before(b),w?i.after(b):n,new Ce(mL(r.content,0,r.openStart,g),g,r.openEnd))}}let h=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>h));p--){let g=a[p];g<0||(e=s.before(g),n=i.after(g))}}function mL(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(mL(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(ce.empty,!0))}return t}function Lie(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=Oie(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new Ce(ce.from(r),0,0))}function Rie(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=pL(r,s);for(let a=0;a<i.length;a++){let o=i[a],l=a==i.length-1;if(l&&o==0||r.node(o).type.contentMatch.validEnd)return t.delete(r.start(o),s.end(o));if(o>0&&(l||r.node(o-1).canReplace(r.index(o-1),s.indexAfter(o-1))))return t.delete(r.before(o),s.after(o))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function pL(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class qc extends sr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return hn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return hn.fromReplace(e,this.pos,this.pos+1,new Ce(ce.from(s),0,n.isLeaf?0:1))}getMap(){return Hr.empty}invert(e){return new qc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new qc(n.pos,n.attr,n.value)}}sr.jsonID("attr",qc);class If extends sr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return hn.ok(r)}getMap(){return Hr.empty}invert(e){return new If(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new If(n.attr,n.value)}}sr.jsonID("docAttr",If);let au=class extends Error{};au=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};au.prototype=Object.create(Error.prototype);au.prototype.constructor=au;au.prototype.name="TransformError";class bN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Df}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new au(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ce.empty){let s=ux(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new Ce(ce.from(r),0,0))}delete(e,n){return this.replace(e,n,Ce.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Iie(this,e,n,r),this}replaceRangeWith(e,n,r){return Lie(this,e,n,r),this}deleteRange(e,n){return Rie(this,e,n),this}lift(e,n){return wie(this,e,n),this}join(e,n=1){return Aie(this,e,n),this}wrap(e,n){return Cie(this,e,n),this}setBlockType(e,n=e,r,s=null){return jie(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return Tie(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new qc(e,n,r)),this}setDocAttribute(e,n){return this.step(new If(e,n)),this}addNodeMark(e,n){return this.step(new Ga(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Nt)n.isInSet(r.marks)&&this.step(new Ml(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new Ml(e,i)),s=i.removeFromSet(s);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(e,n=1,r){return Eie(this,e,n,r),this}addMark(e,n,r){return yie(this,e,n,r),this}removeMark(e,n,r){return bie(this,e,n,r),this}clearIncompatible(e,n,r){return xN(this,e,n,r),this}}const jv=Object.create(null);class Ge{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new gL(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ce.empty){let r=n.content.lastChild,s=null;for(let o=0;o<n.openEnd;o++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:l,$to:u}=a[o],d=e.mapping.slice(i);e.replaceRange(d.map(l.pos),d.map(u.pos),o?Ce.empty:n),o==0&&Q5(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:o}=s[i],l=e.mapping.slice(r),u=l.map(a.pos),d=l.map(o.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),Q5(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Be(e):Mc(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?Mc(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Mc(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Kr(e.node(0))}static atStart(e){return Mc(e,e,0,0,1)||new Kr(e)}static atEnd(e){return Mc(e,e,e.content.size,e.childCount,-1)||new Kr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=jv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in jv)throw new RangeError("Duplicate use of selection JSON ID "+e);return jv[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Be.between(this.$anchor,this.$head).getBookmark()}}Ge.prototype.visible=!0;class gL{constructor(e,n){this.$from=e,this.$to=n}}let Y5=!1;function X5(t){!Y5&&!t.parent.inlineContent&&(Y5=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Be extends Ge{constructor(e,n=e){X5(e),X5(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ge.near(r);let s=e.resolve(n.map(this.anchor));return new Be(s.parent.inlineContent?s:r,r)}replace(e,n=Ce.empty){if(super.replace(e,n),n==Ce.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Be&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new dx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Be(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Ge.findFrom(n,r,!0)||Ge.findFrom(n,-r,!0);if(i)n=i.$head;else return Ge.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ge.findFrom(e,-r,!0)||Ge.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Be(e,n)}}Ge.jsonID("text",Be);class dx{constructor(e,n){this.anchor=e,this.head=n}map(e){return new dx(e.map(this.anchor),e.map(this.head))}resolve(e){return Be.between(e.resolve(this.anchor),e.resolve(this.head))}}class $e extends Ge{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Ge.near(i):new $e(i)}content(){return new Ce(ce.from(this.node),0,0)}eq(e){return e instanceof $e&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new vN(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new $e(e.resolve(n.anchor))}static create(e,n){return new $e(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}$e.prototype.visible=!1;Ge.jsonID("node",$e);class vN{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new dx(r,r):new vN(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&$e.isSelectable(r)?new $e(n):Ge.near(n)}}class Kr extends Ge{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ce.empty){if(n==Ce.empty){e.delete(0,e.doc.content.size);let r=Ge.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Kr(e)}map(e){return new Kr(e)}eq(e){return e instanceof Kr}getBookmark(){return Fie}}Ge.jsonID("all",Kr);const Fie={map(){return this},resolve(t){return new Kr(t)}};function Mc(t,e,n,r,s,i=!1){if(e.inlineContent)return Be.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let o=e.child(a);if(o.isAtom){if(!i&&$e.isSelectable(o))return $e.create(t,n-(s<0?o.nodeSize:0))}else{let l=Mc(t,o,n+s,s<0?o.childCount:0,s,i);if(l)return l}n+=o.nodeSize*s}return null}function Q5(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof jn||s instanceof Mn))return;let i=t.mapping.maps[r],a;i.forEach((o,l,u,d)=>{a==null&&(a=d)}),t.setSelection(Ge.near(t.doc.resolve(a),n))}const J5=1,ep=2,Z5=4;class zie extends bN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|J5)&~ep,this.storedMarks=null,this}get selectionSet(){return(this.updated&J5)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ep,this}ensureMarks(e){return Nt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ep)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ep,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Nt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ge.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Z5,this}get scrolledIntoView(){return(this.updated&Z5)>0}}function eM(t,e){return!e||!t?t:t.bind(e)}class Ld{constructor(e,n,r){this.name=e,this.init=eM(n.init,r),this.apply=eM(n.apply,r)}}const Vie=[new Ld("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ld("selection",{init(t,e){return t.selection||Ge.atStart(e.doc)},apply(t){return t.selection}}),new Ld("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ld("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class kv{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Vie.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ld(r.key,r.spec.state,r))})}}class zc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let l=s?s[a].n:0,u=s?s[a].state:this,d=l<n.length&&o.spec.appendTransaction.call(o,l?n.slice(l):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new zc(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new zie(this)}static create(e){let n=new kv(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zc(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new kv(this.schema,e.plugins),r=n.fields,s=new zc(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new kv(e.schema,e.plugins),i=new zc(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=eo.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Ge.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let o in r){let l=r[o],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){i[a.name]=u.fromJSON.call(l,e,n[o],i);return}}i[a.name]=a.init(e,i)}}),i}}function xL(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=xL(s,e,{})),n[r]=s}return n}class Dt{constructor(e){this.spec=e,this.props={},e.props&&xL(e.props,this,this.props),this.key=e.key?e.key.key:yL("plugin")}getState(e){return e[this.key]}}const Tv=Object.create(null);function yL(t){return t in Tv?t+"$"+ ++Tv[t]:(Tv[t]=0,t+"$")}class tn{constructor(e="key"){this.key=yL(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const wN=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function bL(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const vL=(t,e,n)=>{let r=bL(t,n);if(!r)return!1;let s=SN(r);if(!s){let a=r.blockRange(),o=a&&ku(a);return o==null?!1:(e&&e(t.tr.lift(a,o).scrollIntoView()),!0)}let i=s.nodeBefore;if(ML(t,s,e,-1))return!0;if(r.parent.content.size==0&&(ou(i,"end")||$e.isSelectable(i)))for(let a=r.depth;;a--){let o=ux(t.doc,r.before(a),r.after(a),Ce.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(ou(i,"end")?Ge.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):$e.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},$ie=(t,e,n)=>{let r=bL(t,n);if(!r)return!1;let s=SN(r);return s?wL(t,s,e):!1},Bie=(t,e,n)=>{let r=NL(t,n);if(!r)return!1;let s=NN(r);return s?wL(t,s,e):!1};function wL(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let a=e.nodeAfter,o=a,l=e.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let d=o.firstChild;if(!d)return!1;o=d}let u=ux(t.doc,i,l,Ce.empty);if(!u||u.from!=i||u instanceof jn&&u.slice.size>=l-i)return!1;if(n){let d=t.tr.step(u);d.setSelection(Be.create(d.doc,i)),n(d.scrollIntoView())}return!0}function ou(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const SL=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=SN(r)}let a=i&&i.nodeBefore;return!a||!$e.isSelectable(a)?!1:(e&&e(t.tr.setSelection($e.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function SN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function NL(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const CL=(t,e,n)=>{let r=NL(t,n);if(!r)return!1;let s=NN(r);if(!s)return!1;let i=s.nodeAfter;if(ML(t,s,e,1))return!0;if(r.parent.content.size==0&&(ou(i,"start")||$e.isSelectable(i))){let a=ux(t.doc,r.before(),r.after(),Ce.empty);if(a&&a.slice.size<a.to-a.from){if(e){let o=t.tr.step(a);o.setSelection(ou(i,"start")?Ge.findFrom(o.doc.resolve(o.mapping.map(s.pos)),1):$e.create(o.doc,o.mapping.map(s.pos))),e(o.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},jL=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=NN(r)}let a=i&&i.nodeAfter;return!a||!$e.isSelectable(a)?!1:(e&&e(t.tr.setSelection($e.create(t.doc,i.pos)).scrollIntoView()),!0)};function NN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Hie=(t,e)=>{let n=t.selection,r=n instanceof $e,s;if(r){if(n.node.isTextblock||!So(t.doc,n.from))return!1;s=n.from}else if(s=cx(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection($e.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},Uie=(t,e)=>{let n=t.selection,r;if(n instanceof $e){if(n.node.isTextblock||!So(t.doc,n.to))return!1;r=n.to}else if(r=cx(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Wie=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&ku(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},kL=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function CN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const qie=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=CN(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let o=n.after(),l=t.tr.replaceWith(o,o,a.createAndFill());l.setSelection(Ge.near(l.doc.resolve(o),1)),e(l.scrollIntoView())}return!0},TL=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Kr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=CN(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,o=t.tr.insert(a,i.createAndFill());o.setSelection(Be.create(o.doc,a+1)),e(o.scrollIntoView())}return!0},EL=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Yi(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&ku(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function Kie(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof $e&&e.selection.node.isBlock)return!r.parentOffset||!Yi(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,o,l=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){l=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),o=CN(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(l&&o?{type:o}:null),a=g;break}else{if(g==1)return!1;i.unshift(null)}let d=e.tr;(e.selection instanceof Be||e.selection instanceof Kr)&&d.deleteSelection();let h=d.mapping.map(r.pos),p=Yi(d.doc,h,i.length,i);if(p||(i[0]=o?{type:o}:null,p=Yi(d.doc,h,i.length,i)),!p)return!1;if(d.split(h,i.length,i),!l&&u&&r.node(a).type!=o){let g=d.mapping.map(r.before(a)),x=d.doc.resolve(g);o&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,o)&&d.setNodeMarkup(d.mapping.map(r.before(a)),o)}return n&&n(d.scrollIntoView()),!0}}const Gie=Kie(),Yie=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection($e.create(t.doc,s))),!0)};function Xie(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||So(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function ML(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,o,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&Xie(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(o=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&o.matchType(a[0]||i.type).validEnd){if(n){let g=e.pos+i.nodeSize,x=ce.empty;for(let w=a.length-1;w>=0;w--)x=ce.from(a[w].create(null,x));x=ce.from(s.copy(x));let v=t.tr.step(new Mn(e.pos-1,g,e.pos,g,new Ce(x,1,0),a.length,!0)),b=v.doc.resolve(g+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&So(v.doc,b.pos)&&v.join(b.pos),n(v.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&l?null:Ge.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),p=h&&ku(h);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(h,p).scrollIntoView()),!0;if(u&&ou(i,"start",!0)&&ou(s,"end")){let g=s,x=[];for(;x.push(g),!g.isTextblock;)g=g.lastChild;let v=i,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,v.content)){if(n){let w=ce.empty;for(let C=x.length-1;C>=0;C--)w=ce.from(x[C].copy(w));let N=t.tr.step(new Mn(e.pos-x.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new Ce(w,x.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function AL(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Be.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const Qie=AL(-1),Jie=AL(1);function Zie(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),o=a&&yN(a,t,e);return o?(r&&r(n.tr.wrap(a,o).scrollIntoView()),!0):!1}}function tM(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:o}}=n.selection.ranges[i];n.doc.nodesBetween(a,o,(l,u)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let d=n.doc.resolve(u),h=d.index();s=d.parent.canReplaceWith(h,h+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[a];i.setBlockType(o,l,t,e)}r(i.scrollIntoView())}return!0}}function jN(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}jN(wN,vL,SL);jN(wN,CL,jL);jN(kL,TL,EL,Gie);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function eae(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let o=r?n.tr:null;return tae(o,a,t,e)?(r&&r(o.scrollIntoView()),!0):!1}}function tae(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=a.resolve(e.start-2);i=new Mg(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Mg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let o=yN(i,n,r,e);return o?(t&&nae(t,e,o,s,n),!0):!1}function nae(t,e,n,r,s){let i=ce.empty;for(let d=n.length-1;d>=0;d--)i=ce.from(n[d].type.create(n[d].attrs,i));t.step(new Mn(e.start-(r?2:0),e.end,e.start,e.end,new Ce(i,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==s&&(a=d+1);let o=n.length-a,l=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,h=e.endIndex,p=!0;d<h;d++,p=!1)!p&&Yi(t.doc,l,o)&&(t.split(l,o),l+=2*o),l+=u.child(d).nodeSize;return t}function rae(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?sae(e,n,t,i):iae(e,n,i):!0:!1}}function sae(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new Mn(i-1,a,i,a,new Ce(ce.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Mg(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const o=ku(r);if(o==null)return!1;s.lift(r,o);let l=s.doc.resolve(s.mapping.map(i,-1)-1);return So(s.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&s.join(l.pos),e(s.scrollIntoView()),!0}function iae(t,e,n){let r=t.tr,s=n.parent;for(let g=n.end,x=n.endIndex-1,v=n.startIndex;x>v;x--)g-=s.child(x).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,l=n.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(o?0:1),d+1,a.content.append(l?ce.empty:ce.from(s))))return!1;let h=i.pos,p=h+a.nodeSize;return r.step(new Mn(h-(o?1:0),p+(l?1:0),h+1,p-1,new Ce((o?ce.empty:ce.from(s.copy(ce.empty))).append(l?ce.empty:ce.from(s.copy(ce.empty))),o?0:1,l?0:1),o?0:1)),e(r.scrollIntoView()),!0}function aae(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let o=i.parent,l=o.child(a-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==o.type,d=ce.from(u?t.create():null),h=new Ce(ce.from(t.create(null,ce.from(o.type.create(null,d)))),u?3:1,0),p=i.start,g=i.end;n(e.tr.step(new Mn(p-(u?3:1),g,p,g,h,1,!0)).scrollIntoView())}return!0}}const zn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},lu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let z2=null;const Vi=function(t,e,n){let r=z2||(z2=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},oae=function(){z2=null},Al=function(t,e,n,r){return n&&(nM(t,e,n,r,-1)||nM(t,e,n,r,1))},lae=/^(img|br|input|textarea|hr)$/i;function nM(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:fs(t))){let a=t.parentNode;if(!a||a.nodeType!=1||gh(t)||lae.test(t.nodeName)||t.contentEditable=="false")return!1;e=zn(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?fs(t):0}else return!1}}function fs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function cae(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=fs(t)}else if(t.parentNode&&!gh(t))e=zn(t),t=t.parentNode;else return null}}function uae(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gh(t))e=zn(t)+1,t=t.parentNode;else return null}}function dae(t,e,n){for(let r=e==0,s=e==fs(t);r||s;){if(t==n)return!0;let i=zn(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==fs(t)}}function gh(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const fx=function(t){return t.focusNode&&Al(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Xo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function fae(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function hae(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(fs(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(fs(r.startContainer),r.startOffset)}}}const hi=typeof navigator<"u"?navigator:null,rM=typeof document<"u"?document:null,No=hi&&hi.userAgent||"",V2=/Edge\/(\d+)/.exec(No),OL=/MSIE \d/.exec(No),$2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(No),Pr=!!(OL||$2||V2),no=OL?document.documentMode:$2?+$2[1]:V2?+V2[1]:0,gs=!Pr&&/gecko\/(\d+)/i.test(No);gs&&+(/Firefox\/(\d+)/.exec(No)||[0,0])[1];const B2=!Pr&&/Chrome\/(\d+)/.exec(No),Tn=!!B2,PL=B2?+B2[1]:0,tr=!Pr&&!!hi&&/Apple Computer/.test(hi.vendor),cu=tr&&(/Mobile\/\w+/.test(No)||!!hi&&hi.maxTouchPoints>2),ds=cu||(hi?/Mac/.test(hi.platform):!1),_L=hi?/Win/.test(hi.platform):!1,qi=/Android \d/.test(No),xh=!!rM&&"webkitFontSmoothing"in rM.documentElement.style,mae=xh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pae(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ai(t,e){return typeof t=="number"?t:t[e]}function gae(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function sM(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=lu(a);continue}let o=a,l=o==i.body,u=l?pae(i):gae(o),d=0,h=0;if(e.top<u.top+Ai(r,"top")?h=-(u.top-e.top+Ai(s,"top")):e.bottom>u.bottom-Ai(r,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+Ai(s,"top")-u.top:e.bottom-u.bottom+Ai(s,"bottom")),e.left<u.left+Ai(r,"left")?d=-(u.left-e.left+Ai(s,"left")):e.right>u.right-Ai(r,"right")&&(d=e.right-u.right+Ai(s,"right")),d||h)if(l)i.defaultView.scrollBy(d,h);else{let g=o.scrollLeft,x=o.scrollTop;h&&(o.scrollTop+=h),d&&(o.scrollLeft+=d);let v=o.scrollLeft-g,b=o.scrollTop-x;e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b}}let p=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:lu(a)}}function xae(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let o=t.root.elementFromPoint(i,a);if(!o||o==t.dom||!t.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=n-20){r=o,s=l.top;break}}return{refDOM:r,refTop:s,stack:DL(t.dom)}}function DL(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=lu(r));return e}function yae({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;IL(n,r==0?0:r-e)}function IL(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Cc=null;function bae(t){if(t.setActive)return t.setActive();if(Cc)return t.focus(Cc);let e=DL(t);t.focus(Cc==null?{get preventScroll(){return Cc={preventScroll:!0},!0}}:void 0),Cc||(Cc=!1,IL(e,0))}function LL(t,e){let n,r=2e8,s,i=0,a=e.top,o=e.top,l,u;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Vi(d).getClientRects();else continue;for(let g=0;g<p.length;g++){let x=p[g];if(x.top<=a&&x.bottom>=o){a=Math.max(x.bottom,a),o=Math.min(x.top,o);let v=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(v<r){n=d,r=v,s=v&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&v&&(i=h+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!l&&x.left<=e.left&&x.right>=e.left&&(l=d,u={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(i=h+1)}}return!n&&l&&(n=l,s=u,r=0),n&&n.nodeType==3?vae(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:LL(n,s)}function vae(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=_a(r,1);if(a.top!=a.bottom&&kN(e,a)){s={node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function kN(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function wae(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Sae(t,e,n){let{node:r,offset:s}=LL(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function Nae(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let o=t.docView.nearestDesc(i,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?s=o.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(s=o.posAfter),a=!0),!o.contentDOM&&s<0&&!o.node.isText))return(o.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;i=o.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function RL(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let o=a.getClientRects();for(let l=0;l<o.length;l++){let u=o[l];if(kN(e,u))return RL(a,e,u)}}if((i=(i+1)%r)==s)break}return t}function Cae(t,e){let n=t.dom.ownerDocument,r,s=0,i=hae(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!kN(e,u)||(a=RL(t.dom,e,u),!a))return null}if(tr)for(let u=a;r&&u;u=lu(u))u.draggable&&(r=void 0);if(a=wae(a,e),r){if(gs&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let d=r.childNodes[s],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&s++}let u;xh&&s&&r.nodeType==1&&(u=r.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(o=Nae(t,r,s,e))}o==null&&(o=Sae(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function iM(t){return t.top<t.bottom||t.left<t.right}function _a(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(iM(r))return r}return Array.prototype.find.call(n,iM)||t.getBoundingClientRect()}const jae=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function FL(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=xh||gs;if(r.nodeType==3)if(a&&(jae.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=_a(Vi(r,s,s),n);if(gs&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=_a(Vi(r,s-1,s-1),-1);if(u.top==l.top){let d=_a(Vi(r,s,s+1),-1);if(d.top!=l.top)return wd(d,d.left<u.left)}}return l}else{let l=s,u=s,d=n<0?1:-1;return n<0&&!s?(u++,d=-1):n>=0&&s==r.nodeValue.length?(l--,d=1):n<0?l--:u++,wd(_a(Vi(r,l,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==fs(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return Ev(l.getBoundingClientRect(),!1)}if(i==null&&s<fs(r)){let l=r.childNodes[s];if(l.nodeType==1)return Ev(l.getBoundingClientRect(),!0)}return Ev(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==fs(r))){let l=r.childNodes[s-1],u=l.nodeType==3?Vi(l,fs(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return wd(_a(u,1),!1)}if(i==null&&s<fs(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Vi(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return wd(_a(u,-1),!0)}return wd(_a(r.nodeType==3?Vi(r):r,-n),n>=0)}function wd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ev(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function zL(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function kae(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return zL(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(i,!0);if(!o)break;if(o.node.isBlock){i=o.contentDOM||o.dom;break}i=o.dom.parentNode}let a=FL(t,s.pos,1);for(let o=i.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=Vi(o,0,o.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const Tae=/[\u0590-\u08ac]/;function Eae(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,o=t.domSelection();return o?!Tae.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?i:a:zL(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),p=o.caretBidiLevel;o.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:v}=t.domSelectionRange(),b=x&&!g.contains(x.nodeType==1?x:x.parentNode)||l==x&&u==v;try{o.collapse(d,h),l&&(l!=d||u!=h)&&o.extend&&o.extend(l,u)}catch{}return p!=null&&(o.caretBidiLevel=p),b}):r.pos==r.start()||r.pos==r.end()}let aM=null,oM=null,lM=!1;function Mae(t,e,n){return aM==e&&oM==n?lM:(aM=e,oM=n,lM=n=="up"||n=="down"?kae(t,e,n):Eae(t,e,n))}const xs=0,cM=1,sl=2,mi=3;class yh{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=xs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>zn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let o=s.children[a];if(o.size){s=o;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],o=i+a.size;if(o>e||a instanceof $L){s=e-i;break}i=o}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof VL&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?zn(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?zn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,o=0;;o++){let l=this.children[o],u=a+l.size;if(s==-1&&e<=u){let d=a+l.border;if(e>=d&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=a;for(let h=o;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=zn(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(u>n||o==this.children.length-1)){n=u;for(let d=o+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=zn(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let g=0,x=0;g<this.children.length;g++){let v=this.children[g],b=x+v.size;if(i>x&&a<b)return v.setSelection(e-x-v.border,n-x-v.border,r,s);x=b}let o=this.domFromPos(e,e?-1:1),l=n==e?o:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),h=!1;if((gs||tr)&&e==n){let{node:g,offset:x}=o;if(g.nodeType==3){if(h=!!(x&&g.nodeValue[x-1]==`
`),h&&x==g.nodeValue.length)for(let v=g,b;v;v=v.parentNode){if(b=v.nextSibling){b.nodeName=="BR"&&(o=l={node:b.parentNode,offset:zn(b)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=g.childNodes[x-1];h=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(gs&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||h&&tr)&&Al(o.node,o.offset,d.anchorNode,d.anchorOffset)&&Al(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((u.extend||e==n)&&!(h&&gs)){u.collapse(o.node,o.offset);try{e!=n&&u.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>n){let x=o;o=l,l=x}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(o.node,o.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let o=r+i.border,l=a-i.border;if(e>=o&&n<=l){this.dirty=e==r||n==a?sl:cM,e==o&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=mi:i.markDirty(e-o,n-o);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?sl:mi}r=a}this.dirty=sl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?sl:cM;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class VL extends yh{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==xs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Aae extends yh{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ol extends yh{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=Bl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ol(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&mi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=mi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=xs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=xs}}slice(e,n,r){let s=Ol.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=U2(i,n,a,r)),e>0&&(i=U2(i,0,e,r));for(let o=0;o<i.length;o++)i[o].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ro extends yh{constructor(e,n,r,s,i,a,o,l,u){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=o}static create(e,n,r,s,i,a){let o=i.nodeViews[n.type.name],l,u=o&&o(n,i,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,s),d=u&&u.dom,h=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Bl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=UL(d,r,n),u?l=new Oae(e,n,r,s,d,h||null,p,u,i,a+1):n.isText?new hx(e,n,r,s,d,p,i):new ro(e,n,r,s,d,h||null,p,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ce.empty)}return e}matchesNode(e,n,r){return this.dirty==xs&&e.eq(this.node)&&Og(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,o=i&&i.pos<0,l=new _ae(this,a&&a.node,e);Lae(this.node,this.innerDeco,(u,d,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?Nt.none:this.node.child(d).marks,r,e),l.placeWidget(u,e,s)},(u,d,h,p)=>{l.syncToMarks(u.marks,r,e);let g;l.findNodeMatch(u,d,h,p)||o&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(g=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(u,d,h,g,e)||l.updateNextNode(u,d,h,e,p,s)||l.addNode(u,d,h,e,s),s+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==sl)&&(a&&this.protectLocalComposition(e,a),BL(this.contentDOM,this.children,e),cu&&Rae(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Be)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,o=Fae(this.node.content,a,r-n,s-n);return o<0?null:{node:i,pos:o,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new Aae(this,i,n,s);e.input.compositionNodes.push(a),this.children=U2(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==mi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=xs}updateOuterDeco(e){if(Og(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=HL(this.dom,this.nodeDOM,H2(this.outerDeco,this.node,n),H2(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function uM(t,e,n,r,s){UL(r,e,t);let i=new ro(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class hx extends ro{constructor(e,n,r,s,i,a,o){super(e,n,r,s,i,null,a,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==mi||this.dirty!=xs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=xs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=xs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new hx(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=mi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class $L extends yh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Oae extends ro{constructor(e,n,r,s,i,a,o,l,u,d){super(e,n,r,s,i,a,o,u,d),this.spec=l}update(e,n,r,s){if(this.dirty==mi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function BL(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],o=a.dom;if(o.parentNode==t){for(;o!=r;)r=dM(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(o,r);if(a instanceof Ol){let l=r?r.previousSibling:t.lastChild;BL(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=dM(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const tf=function(t){t&&(this.nodeName=t)};tf.prototype=Object.create(null);const il=[new tf];function H2(t,e,n){if(t.length==0)return il;let r=n?il[0]:new tf,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new tf(a.nodeName));for(let o in a){let l=a[o];l!=null&&(n&&s.length==1&&s.push(r=new tf(e.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+l:o=="style"?r.style=(r.style?r.style+";":"")+l:o!="nodeName"&&(r[o]=l))}}}return s}function HL(t,e,n,r){if(n==il&&r==il)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],o=n[i];if(i){let l;o&&o.nodeName==a.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(s),o=il[0]),s=l}Pae(s,o||il[0],a)}return s}function Pae(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function UL(t,e,n){return HL(t,t,il,H2(e,n,t.nodeType!=1))}function Og(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function dM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class _ae{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Dae(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=xs,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){o=l;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let l=Ol.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let u=this.top.children[o];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=o;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==mi&&a.dom==a.contentDOM&&(a.dirty=sl),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof ro){let u=this.preMatch.matched.get(l);if(u!=null&&u!=i)return!1;let d=l.dom,h,p=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=mi&&Og(n,l.outerDeco));if(!p&&l.update(e,n,r,s))return this.destroyBetween(this.index,o),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(l,e,n,r,s,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=sl,h.updateChildren(s,a+1),h.dirty=xs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Og(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let o=ro.create(this.top,n,r,s,i,a);if(o.contentDOM){o.children=e.children,e.children=[];for(let l of o.children)l.parent=o}return e.destroy(),o}addNode(e,n,r,s,i){let a=ro.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new VL(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ol;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof hx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((tr||Tn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new $L(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Dae(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let o;for(;;)if(r){let u=n.children[r-1];if(u instanceof Ol)n=u,r=u.children.length;else{o=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=o.node;if(l){if(l!=t.child(s-1))break;--s,i.set(o,s),a.push(o)}}return{index:s,matched:i,matches:a.reverse()}}function Iae(t,e){return t.type.side-e.type.side}function Lae(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,s,e.forChild(i,d),u),i+=d.nodeSize}return}let a=0,o=[],l=null;for(let u=0;;){let d,h;for(;a<s.length&&s[a].to==i;){let b=s[a++];b.widget&&(d?(h||(h=[d])).push(b):d=b)}if(d)if(h){h.sort(Iae);for(let b=0;b<h.length;b++)n(h[b],u,!!l)}else n(d,u,!!l);let p,g;if(l)g=-1,p=l,l=null;else if(u<t.childCount)g=u,p=t.child(u++);else break;for(let b=0;b<o.length;b++)o[b].to<=i&&o.splice(b--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)o.push(s[a++]);let x=i+p.nodeSize;if(p.isText){let b=x;a<s.length&&s[a].from<b&&(b=s[a].from);for(let w=0;w<o.length;w++)o[w].to<b&&(b=o[w].to);b<x&&(l=p.cut(b-i),p=p.cut(0,b-i),x=b,g=-1)}else for(;a<s.length&&s[a].to<x;)a++;let v=p.isInline&&!p.isLeaf?o.filter(b=>!b.inline):o.slice();r(p,v,e.forChild(i,p),g),i=x}}function Rae(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Fae(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),o=i;if(i+=a.nodeSize,!a.isText)continue;let l=a.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;l+=u.text}if(i>=n){if(i>=r&&l.slice(r-e.length-o,r-o)==e)return r-e.length;let u=o<r?l.lastIndexOf(e,r-o-1):-1;if(u>=0&&u+e.length+o>=n)return o+u;if(n==r&&l.length>=r+e.length-o&&l.slice(r-o,r-o+e.length)==e)return r}}return-1}function U2(t,e,n,r,s){let i=[];for(let a=0,o=0;a<t.length;a++){let l=t[a],u=o,d=o+=l.size;u>=n||d<=e?i.push(l):(u<e&&i.push(l.slice(0,e-u,r)),s&&(i.push(s),s=void 0),d>n&&i.push(l.slice(n-u,l.size,r)))}return i}function TN(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let o=r.resolve(a),l,u;if(fx(n)){for(l=a;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&$e.isSelectable(h)&&s.parent&&!(h.isInline&&dae(n.focusNode,n.focusOffset,s.dom))){let p=s.posBefore;u=new $e(a==p?o:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=a,p=a;for(let g=0;g<n.rangeCount;g++){let x=n.getRangeAt(g);h=Math.min(h,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(h<0)return null;[l,a]=p==t.state.selection.anchor?[p,h]:[h,p],o=r.resolve(a)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!u){let h=e=="pointer"||t.state.selection.head<o.pos&&!i?1:-1;u=EN(t,d,o,h)}return u}function WL(t){return t.editable?t.hasFocus():KL(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Xi(t,e=!1){let n=t.state.selection;if(qL(t,n),!!WL(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Tn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Al(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Vae(t);else{let{anchor:r,head:s}=n,i,a;fM&&!(n instanceof Be)&&(n.$from.parent.inlineContent||(i=hM(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=hM(t,n.to))),t.docView.setSelection(r,s,t,e),fM&&(i&&mM(i),a&&mM(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zae(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const fM=tr||Tn&&PL<63;function hM(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(tr&&s&&s.contentEditable=="false")return Mv(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Mv(s);if(i)return Mv(i)}}function Mv(t){return t.contentEditable="true",tr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function mM(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function zae(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!WL(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Vae(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,zn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Pr&&no<=11&&(n.disabled=!0,n.disabled=!1)}function qL(t,e){if(e instanceof $e){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(pM(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else pM(t)}function pM(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function EN(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Be.between(e,n,r)}function gM(t){return t.editable&&!t.hasFocus()?!1:KL(t)}function KL(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $ae(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Al(e.node,e.offset,n.anchorNode,n.anchorOffset)}function W2(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Ge.findFrom(i,e)}function La(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function xM(t,e,n){let r=t.state.selection;if(r instanceof Be)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return La(t,new Be(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=W2(t.state,e);return s&&s instanceof $e?La(t,s):!1}else if(!(ds&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let o=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(o))&&!a.contentDOM?$e.isSelectable(i)?La(t,new $e(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):xh?La(t,new Be(t.state.doc.resolve(e<0?o:o+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof $e&&r.node.isInline)return La(t,new Be(e>0?r.$to:r.$from));{let s=W2(t.state,e);return s?La(t,s):!1}}}function Pg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function jc(t,e){return e<0?Bae(t):Hae(t)}function Bae(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(gs&&n.nodeType==1&&r<Pg(n)&&nf(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(nf(o,-1))s=n,i=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(GL(n))break;{let o=n.previousSibling;for(;o&&nf(o,-1);)s=n.parentNode,i=zn(o),o=o.previousSibling;if(o)n=o,r=Pg(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?q2(t,n,r):s&&q2(t,s,i)}function Hae(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Pg(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let o=n.childNodes[r];if(nf(o,1))i=n,a=++r;else break}else{if(GL(n))break;{let o=n.nextSibling;for(;o&&nf(o,1);)i=o.parentNode,a=zn(o)+1,o=o.nextSibling;if(o)n=o,r=0,s=Pg(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&q2(t,i,a)}function GL(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Uae(t,e){for(;t&&e==t.childNodes.length&&!gh(t);)e=zn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Wae(t,e){for(;t&&!e&&!gh(t);)e=zn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function q2(t,e,n){if(e.nodeType!=3){let i,a;(a=Uae(e,n))?(e=a,n=0):(i=Wae(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(fx(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Xi(t)},50)}function yM(t,e){let n=t.state.doc.resolve(e);if(!(Tn||_L)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function bM(t,e,n){let r=t.state.selection;if(r instanceof Be&&!r.empty||n.indexOf("s")>-1||ds&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=W2(t.state,e);if(a&&a instanceof $e)return La(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,o=r instanceof Kr?Ge.near(a,e):Ge.findFrom(a,e);return o?La(t,o):!1}return!1}function vM(t,e){if(!(t.state.selection instanceof Be))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function wM(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function qae(t){if(!tr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;wM(t,r,"true"),setTimeout(()=>wM(t,r,"false"),20)}return!1}function Kae(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Gae(t,e){let n=e.keyCode,r=Kae(e);if(n==8||ds&&n==72&&r=="c")return vM(t,-1)||jc(t,-1);if(n==46&&!e.shiftKey||ds&&n==68&&r=="c")return vM(t,1)||jc(t,1);if(n==13||n==27)return!0;if(n==37||ds&&n==66&&r=="c"){let s=n==37?yM(t,t.state.selection.from)=="ltr"?-1:1:-1;return xM(t,s,r)||jc(t,s)}else if(n==39||ds&&n==70&&r=="c"){let s=n==39?yM(t,t.state.selection.from)=="ltr"?1:-1:1;return xM(t,s,r)||jc(t,s)}else{if(n==38||ds&&n==80&&r=="c")return bM(t,-1,r)||jc(t,-1);if(n==40||ds&&n==78&&r=="c")return qae(t)||bM(t,1,r)||jc(t,1);if(r==(ds?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function MN(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let a=t.someProp("clipboardSerializer")||Bl.fromSchema(t.state.schema),o=eR(),l=o.createElement("div");l.appendChild(a.serializeFragment(r,{document:o}));let u=l.firstChild,d,h=0;for(;u&&u.nodeType==1&&(d=ZL[u.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let x=o.createElement(d[g]);for(;l.firstChild;)x.appendChild(l.firstChild);l.appendChild(x),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function YL(t,e,n,r,s){let i=s.parent.type.spec.code,a,o;if(!n&&!e)return null;let l=!!e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return o=new Ce(ce.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{o=p(o,t,!0)}),o;let h=t.someProp("clipboardTextParser",p=>p(e,s,r,t));if(h)o=h;else{let p=s.marks(),{schema:g}=t.state,x=Bl.fromSchema(g);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=a.appendChild(document.createElement("p"));v&&b.appendChild(x.serializeNode(g.text(v,p)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),a=Jae(n),xh&&Zae(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||to.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Yae.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)o=eoe(SM(o,+d[1],+d[2]),d[4]);else if(o=Ce.maxOpen(Xae(o.content,s),!0),o.openStart||o.openEnd){let h=0,p=0;for(let g=o.content.firstChild;h<o.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=o.content.lastChild;p<o.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);o=SM(o,h,p)}return t.someProp("transformPasted",h=>{o=h(o,t,l)}),o}const Yae=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Xae(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(o=>{if(!a)return;let l=s.findWrapping(o.type),u;if(!l)return a=null;if(u=a.length&&i.length&&QL(l,i,o,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=JL(a[a.length-1],i.length));let d=XL(o,l);a.push(d),s=s.matchType(d.type),i=l}}),a)return ce.from(a)}return t}function XL(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ce.from(t));return t}function QL(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=QL(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(ce.from(XL(n,t,s+1))))}}function JL(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,JL(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ce.empty,!0);return t.copy(n.append(r))}function K2(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(i=0),s<r-1&&(o=K2(o,e,n,r,s+1,i)),s>=n&&(o=e<0?a.contentMatchAt(0).fillBefore(o,i<=s).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(ce.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function SM(t,e,n){return e<t.openStart&&(t=new Ce(K2(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ce(K2(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ZL={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let NM=null;function eR(){return NM||(NM=document.implementation.createHTMLDocument("title"))}let Av=null;function Qae(t){let e=window.trustedTypes;return e?(Av||(Av=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Av.createHTML(t)):t}function Jae(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=eR().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&ZL[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=Qae(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function Zae(t){let e=t.querySelectorAll(Tn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function eoe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let o=r.length-2;o>=0;o-=2){let l=n.nodes[r[o]];if(!l||l.hasRequiredAttrs())break;s=ce.from(l.create(r[o+1],s)),i++,a++}return new Ce(s,i,a)}const dr={},fr={},toe={touchstart:!0,touchmove:!0};class noe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function roe(t){for(let e in dr){let n=dr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{ioe(t,r)&&!AN(t,r)&&(t.editable||!(r.type in fr))&&n(t,r)},toe[e]?{passive:!0}:void 0)}tr&&t.dom.addEventListener("input",()=>null),G2(t)}function Ya(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function soe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function G2(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>AN(t,r))})}function AN(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function ioe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function aoe(t,e){!AN(t,e)&&dr[e.type]&&(t.editable||!(e.type in fr))&&dr[e.type](t,e)}fr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!nR(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(qi&&Tn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),cu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Xo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Gae(t,n)?n.preventDefault():Ya(t,"key")};fr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};fr.keypress=(t,e)=>{let n=e;if(nR(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ds&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Be)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function mx(t){return{left:t.clientX,top:t.clientY}}function ooe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ON(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,o=>a>i.depth?o(t,n,i.nodeAfter,i.before(a),s,!0):o(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function Kc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function loe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&$e.isSelectable(r)?(Kc(t,new $e(n)),!0):!1}function coe(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof $e&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a);if($e.isSelectable(o)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(Kc(t,$e.create(t.state.doc,s)),!0):!1}function uoe(t,e,n,r,s){return ON(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?coe(t,n):loe(t,n))}function doe(t,e,n,r){return ON(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function foe(t,e,n,r){return ON(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||hoe(t,n,r)}function hoe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Kc(t,Be.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),o=s.before(i);if(a.inlineContent)Kc(t,Be.create(r,o+1,o+1+a.content.size));else if($e.isSelectable(a))Kc(t,$e.create(r,o));else continue;return!0}}function PN(t){return _g(t)}const tR=ds?"metaKey":"ctrlKey";dr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=PN(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&ooe(n,t.input.lastClick)&&!n[tR]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(mx(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new moe(t,a,n,!!r)):(i=="doubleClick"?doe:foe)(t,a.pos,a.inside,n)?n.preventDefault():Ya(t,"pointer"))};class moe{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[tR],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,a=d.depth?d.before():0}const o=s?null:r.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof $e&&u.from<=a&&u.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ya(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(mx(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ya(this.view,"pointer"):uoe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||tr&&this.mightDrag&&!this.mightDrag.node.isAtom||Tn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Kc(this.view,Ge.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ya(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ya(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}dr.touchstart=t=>{t.input.lastTouch=Date.now(),PN(t),Ya(t,"pointer")};dr.touchmove=t=>{t.input.lastTouch=Date.now(),Ya(t,"pointer")};dr.contextmenu=t=>PN(t);function nR(t,e){return t.composing?!0:tr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const poe=qi?5e3:-1;fr.compositionstart=fr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Be&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Tn&&_L&&goe(t)))t.markCursor=t.state.storedMarks||n.marks(),_g(t,!0),t.markCursor=null;else if(_g(t,!e.selection.empty),gs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}rR(t,poe)};function goe(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}fr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,rR(t,20))};function rR(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>_g(t),e))}function sR(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=yoe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function xoe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=cae(e.focusNode,e.focusOffset),r=uae(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function yoe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function _g(t,e=!1){if(!(qi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),sR(t),e||t.docView&&t.docView.dirty){let n=TN(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function boe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Lf=Pr&&no<15||cu&&mae<604;dr.copy=fr.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Lf?null:n.clipboardData,a=r.content(),{dom:o,text:l}=MN(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",o.innerHTML),i.setData("text/plain",l)):boe(t,o),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function voe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function woe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Rf(t,r.value,null,s,e):Rf(t,r.textContent,r.innerHTML,s,e)},50)}function Rf(t,e,n,r,s){let i=YL(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||Ce.empty)))return!0;if(!i)return!1;let a=voe(i),o=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function iR(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}fr.paste=(t,e)=>{let n=e;if(t.composing&&!qi)return;let r=Lf?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Rf(t,iR(r),r.getData("text/html"),s,n)?n.preventDefault():woe(t,n)};class aR{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Soe=ds?"altKey":"ctrlKey";function oR(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Soe]}dr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(mx(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof $e?s.to-1:s.to))){if(r&&r.mightDrag)a=$e.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(a=$e.create(t.state.doc,h.posBefore))}}let o=(a||t.state.selection).content(),{dom:l,text:u,slice:d}=MN(t,o);(!n.dataTransfer.files.length||!Tn||PL>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Lf?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lf||n.dataTransfer.setData("text/plain",u),t.dragging=new aR(d,oR(t,n),a)};dr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};fr.dragover=fr.dragenter=(t,e)=>e.preventDefault();fr.drop=(t,e)=>{try{Noe(t,e,t.dragging)}finally{t.dragging=null}};function Noe(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(mx(e));if(!r)return;let s=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",g=>{i=g(i,t,!1)}):i=YL(t,iR(e.dataTransfer),Lf?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&oR(t,e));if(t.someProp("handleDrop",g=>g(t,e,i||Ce.empty,a))){e.preventDefault();return}if(!i)return;e.preventDefault();let o=i?dL(t.state.doc,s.pos,i):s.pos;o==null&&(o=s.pos);let l=t.state.tr;if(a){let{node:g}=n;g?g.replace(l):l.deleteSelection()}let u=l.mapping.map(o),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,h=l.doc;if(d?l.replaceRangeWith(u,u,i.content.firstChild):l.replaceRange(u,u,i),l.doc.eq(h))return;let p=l.doc.resolve(u);if(d&&$e.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new $e(p));else{let g=l.mapping.map(o);l.mapping.maps[l.mapping.maps.length-1].forEach((x,v,b,w)=>g=w),l.setSelection(EN(t,p,l.doc.resolve(g)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}dr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Xi(t)},20))};dr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};dr.beforeinput=(t,e)=>{if(Tn&&qi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Xo(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in fr)dr[t]=fr[t];function Ff(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Dg{constructor(e,n){this.toDOM=e,this.spec=n||gl,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new En(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Dg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ff(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class so{constructor(e,n){this.attrs=e,this.spec=n||gl}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new En(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof so&&Ff(this.attrs,e.attrs)&&Ff(this.spec,e.spec)}static is(e){return e.type instanceof so}destroy(){}}class _N{constructor(e,n){this.attrs=e,this.spec=n||gl}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new En(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof _N&&Ff(this.attrs,e.attrs)&&Ff(this.spec,e.spec)}destroy(){}}class En{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new En(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new En(e,e,new Dg(n,r))}static inline(e,n,r,s){return new En(e,n,new so(r,s))}static node(e,n,r,s){return new En(e,n,new _N(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof so}get widget(){return this.type instanceof Dg}}const Ac=[],gl={};class kt{constructor(e,n){this.local=e.length?e:Ac,this.children=n.length?n:Ac}static create(e,n){return n.length?Ig(n,e,0,gl):Yn}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=n&&o.to>=e&&(!i||i(o.spec))&&r.push(o.copy(o.from+s,o.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let o=this.children[a]+1;this.children[a+2].findInner(e-o,n-o,r,s+o,i)}}map(e,n,r){return this==Yn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||gl)}mapInner(e,n,r,s,i){let a;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(e,r,s);l&&l.type.valid(n,l)?(a||(a=[])).push(l):i.onRemove&&i.onRemove(this.local[o].spec)}return this.children.length?Coe(this.children,a||[],e,n,r,s,i):a?new kt(a.sort(xl),Ac):Yn}add(e,n){return n.length?this==Yn?kt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((o,l)=>{let u=l+r,d;if(d=cR(n,o,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(o,d,u+1):s.splice(i,0,l,l+o.nodeSize,Ig(d,o,u+1,gl)),i+=3}});let a=lR(i?uR(n):n,-r);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||a.splice(o--,1);return new kt(a.length?this.local.concat(a).sort(xl):this.local,s||this.children)}remove(e){return e.length==0||this==Yn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,o=r[i]+n,l=r[i+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>o&&h.to<l&&(e[d]=null,(a||(a=[])).push(h));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(a,o+1);u!=Yn?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let o=0;o<s.length;o++)s[o].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(o--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new kt(s,r):Yn}forChild(e,n){if(this==Yn)return this;if(n.isLeaf)return kt.empty;let r,s;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}let i=e+1,a=i+n.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<a&&l.to>i&&l.type instanceof so){let u=Math.max(i,l.from)-i,d=Math.min(a,l.to)-i;u<d&&(s||(s=[])).push(l.copy(u,d))}}if(s){let o=new kt(s.sort(xl),Ac);return r?new Va([o,r]):o}return r||Yn}eq(e){if(this==e)return!0;if(!(e instanceof kt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return DN(this.localsInner(e))}localsInner(e){if(this==Yn)return Ac;if(e.inlineContent||!this.local.some(so.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof so||n.push(this.local[r]);return n}forEachSet(e){e(this)}}kt.empty=new kt([],[]);kt.removeOverlap=DN;const Yn=kt.empty;class Va{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,gl));return Va.from(r)}forChild(e,n){if(n.isLeaf)return kt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Yn&&(i instanceof Va?r=r.concat(i.members):r.push(i))}return Va.from(r)}eq(e){if(!(e instanceof Va)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?DN(r?n:n.sort(xl)):Ac}static from(e){switch(e.length){case 0:return Yn;case 1:return e[0];default:return new Va(e.every(n=>n instanceof kt)?e:e.reduce((n,r)=>n.concat(r instanceof kt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Coe(t,e,n,r,s,i,a){let o=t.slice();for(let u=0,d=i;u<n.maps.length;u++){let h=0;n.maps[u].forEach((p,g,x,v)=>{let b=v-x-(g-p);for(let w=0;w<o.length;w+=3){let N=o[w+1];if(N<0||p>N+d-h)continue;let C=o[w]+d-h;g>=C?o[w+1]=p<=C?-2:-1:p>=d&&b&&(o[w]+=b,o[w+1]+=b)}h+=b}),d=n.maps[u].map(d,-1)}let l=!1;for(let u=0;u<o.length;u+=3)if(o[u+1]<0){if(o[u+1]==-2){l=!0,o[u+1]=-1;continue}let d=n.map(t[u]+i),h=d-s;if(h<0||h>=r.content.size){l=!0;continue}let p=n.map(t[u+1]+i,-1),g=p-s,{index:x,offset:v}=r.content.findIndex(h),b=r.maybeChild(x);if(b&&v==h&&v+b.nodeSize==g){let w=o[u+2].mapInner(n,b,d+1,t[u]+i+1,a);w!=Yn?(o[u]=h,o[u+1]=g,o[u+2]=w):(o[u+1]=-2,l=!0)}else l=!0}if(l){let u=joe(o,t,e,n,s,i,a),d=Ig(u,r,0,a);e=d.local;for(let h=0;h<o.length;h+=3)o[h+1]<0&&(o.splice(h,3),h-=3);for(let h=0,p=0;h<d.children.length;h+=3){let g=d.children[h];for(;p<o.length&&o[p]<g;)p+=3;o.splice(p,0,d.children[h],d.children[h+1],d.children[h+2])}}return new kt(e.sort(xl),o)}function lR(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new En(s.from+e,s.to+e,s.type))}return n}function joe(t,e,n,r,s,i,a){function o(l,u){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(r,s,u);h?n.push(h):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)o(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+i+1);return n}function cR(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function uR(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ig(t,e,n,r){let s=[],i=!1;e.forEach((o,l)=>{let u=cR(t,o,l+n);if(u){i=!0;let d=Ig(u,o,n+l+1,r);d!=Yn&&s.push(l,l+o.nodeSize,d)}});let a=lR(i?uR(t):t,-n).sort(xl);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(r.onRemove&&r.onRemove(a[o].spec),a.splice(o--,1));return a.length||s.length?new kt(a,s):Yn}function xl(t,e){return t.from-e.from||t.to-e.to}function DN(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),CM(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),CM(e,s,r.copy(i.from,r.to)));break}}}return e}function CM(t,e,n){for(;e<t.length&&xl(n,t[e])>0;)e++;t.splice(e,0,n)}function Ov(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Yn&&e.push(r)}),t.cursorWrapper&&e.push(kt.create(t.state.doc,[t.cursorWrapper.deco])),Va.from(e)}const koe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Toe=Pr&&no<=11;class Eoe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Moe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Eoe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Pr&&no<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Toe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,koe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(gM(this.view)){if(this.suppressingSelectionUpdates)return Xi(this.view);if(Pr&&no<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Al(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=lu(i))n.add(i);for(let i=e.anchorNode;i;i=lu(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&gM(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,o=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],l);h&&(i=i<0?h.from:Math.min(h.from,i),a=a<0?h.to:Math.max(h.to,a),h.typeOver&&(o=!0))}if(gs&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,p]=d;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of d){let g=p.parentNode;g&&g.nodeName=="LI"&&(!h||Poe(e,h)!=g)&&p.remove()}}}else if((Tn||tr)&&l.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of l)if(d.nodeName=="BR"&&d.parentNode){let h=d.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&d.parentNode.removeChild(d)}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&fx(r)&&(u=TN(e))&&u.eq(Ge.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Xi(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),Aoe(e)),this.handleDOMChange(i,a,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Xi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Pr&&no<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:p}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let a=s&&s.parentNode==e.target?zn(s)+1:0,o=r.localPosFromDOM(e.target,a,-1),l=i&&i.parentNode==e.target?zn(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:o,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let jM=new WeakMap,kM=!1;function Aoe(t){if(!jM.has(t)&&(jM.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gs,kM)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kM=!0}}function TM(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Al(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function Ooe(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return TM(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?TM(t,n):null}function Poe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function _oe(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:o}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],fx(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Tn&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let w=r.childNodes[b-1],N=w.pmViewDesc;if(w.nodeName=="BR"&&!N){i=b;break}if(!N||N.size)break}let h=t.state.doc,p=t.someProp("domParser")||to.fromSchema(t.state.schema),g=h.resolve(a),x=null,v=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Doe,context:g});if(u&&u[0].pos!=null){let b=u[0].pos,w=u[1]&&u[1].pos;w==null&&(w=b),x={anchor:b+a,head:w+a}}return{doc:v,sel:x,from:a,to:o}}function Doe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(tr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||tr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ioe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Loe(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=TN(t,O);if(M&&!t.state.selection.eq(M)){if(Tn&&qi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",D=>D(t,Xo(13,"Enter"))))return;let _=t.state.tr.setSelection(M);O=="pointer"?_.setMeta("pointer",!0):O=="key"&&_.scrollIntoView(),i&&_.setMeta("composition",i),t.dispatch(_)}return}let a=t.state.doc.resolve(e),o=a.sharedDepth(n);e=a.before(o+1),n=t.state.doc.resolve(n).after(o+1);let l=t.state.selection,u=_oe(t,e,n),d=t.state.doc,h=d.slice(u.from,u.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let x=zoe(h.content,u.doc.content,u.from,p,g);if(x&&t.input.domChangeCount++,(cu&&t.input.lastIOSEnter>Date.now()-225||qi)&&s.some(O=>O.nodeType==1&&!Ioe.test(O.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",O=>O(t,Xo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&l instanceof Be&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))x={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let O=EM(t,t.state.doc,u.sel);if(O&&!O.eq(t.state.selection)){let M=t.state.tr.setSelection(O);i&&M.setMeta("composition",i),t.dispatch(M)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof Be&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Pr&&no<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>u.from&&u.doc.textBetween(x.start-u.from-1,x.start-u.from+1)==" "&&(x.start--,x.endA--,x.endB--);let v=u.doc.resolveNoCache(x.start-u.from),b=u.doc.resolveNoCache(x.endB-u.from),w=d.resolve(x.start),N=v.sameParent(b)&&v.parent.inlineContent&&w.end()>=x.endA;if((cu&&t.input.lastIOSEnter>Date.now()-225&&(!N||s.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!N&&v.pos<u.doc.content.size&&(!v.sameParent(b)||!v.parent.inlineContent)&&v.pos<b.pos&&!/\S/.test(u.doc.textBetween(v.pos,b.pos,"","")))&&t.someProp("handleKeyDown",O=>O(t,Xo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&Foe(d,x.start,x.endA,v,b)&&t.someProp("handleKeyDown",O=>O(t,Xo(8,"Backspace")))){qi&&Tn&&t.domObserver.suppressSelectionUpdates();return}Tn&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),qi&&!N&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==x.endA&&(x.endB-=2,b=u.doc.resolveNoCache(x.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Xo(13,"Enter"))})},20));let C=x.start,T=x.endA,j=O=>{let M=O||t.state.tr.replace(C,T,u.doc.slice(x.start-u.from,x.endB-u.from));if(u.sel){let _=EM(t,M.doc,u.sel);_&&!(Tn&&t.composing&&_.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==C||_.head==M.mapping.map(T)-1)||Pr&&_.empty&&_.head==C)&&M.setSelection(_)}return i&&M.setMeta("composition",i),M.scrollIntoView()},E;if(N)if(v.pos==b.pos){Pr&&no<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xi(t),20));let O=j(t.state.tr.delete(C,T)),M=d.resolve(x.start).marksAcross(d.resolve(x.endA));M&&O.ensureMarks(M),t.dispatch(O)}else if(x.endA==x.endB&&(E=Roe(v.parent.content.cut(v.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let O=j(t.state.tr);E.type=="add"?O.addMark(C,T,E.mark):O.removeMark(C,T,E.mark),t.dispatch(O)}else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let O=v.parent.textBetween(v.parentOffset,b.parentOffset),M=()=>j(t.state.tr.insertText(O,C,T));t.someProp("handleTextInput",_=>_(t,C,T,O,M))||t.dispatch(M())}else t.dispatch(j());else t.dispatch(j())}function EM(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:EN(t,e.resolve(n.anchor),e.resolve(n.head))}function Roe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,o,l;for(let d=0;d<r.length;d++)s=r[d].removeFromSet(s);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(s.length==1&&i.length==0)o=s[0],a="add",l=d=>d.mark(o.addToSet(d.marks));else if(s.length==0&&i.length==1)o=i[0],a="remove",l=d=>d.mark(o.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(l(e.child(d)));if(ce.from(u).eq(t))return{mark:o,type:a}}function Foe(t,e,n,r,s){if(n-e<=s.pos-r.pos||Pv(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let o=i.nodeAfter;return o!=null&&n==e+o.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(Pv(i,!0,!0));return!a.parent.isTextblock||a.pos>n||Pv(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Pv(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function zoe(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:o}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(a,o));r-=a+l-i}if(a<i&&t.size<e.size){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<e.size&&MM(e.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}else if(o<i){let l=r<=i&&r>=o?i-r:0;i-=l,i&&i<t.size&&MM(t.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}return{start:i,endA:a,endB:o}}function MM(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class dR{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new noe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(DM),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=PM(this),OM(this),this.nodeViews=_M(this),this.docView=uM(this.state.doc,AM(this),Ov(this),this.dom,this),this.domObserver=new Moe(this,(r,s,i,a)=>Loe(this,r,s,i,a)),this.domObserver.start(),roe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&G2(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(DM),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(sR(this),a=!0),this.state=e;let o=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=_M(this);$oe(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&G2(this),this.editable=PM(this),OM(this);let l=Ov(this),u=AM(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,u,l);(h||!e.selection.eq(s.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&xae(this);if(a){this.domObserver.stop();let g=h&&(Pr||Tn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&Voe(s.selection,e.selection);if(h){let x=Tn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=xoe(this)),(i||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=uM(e.doc,u,l,this.dom,this)),x&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$ae(this))?Xi(this,g):(qL(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&yae(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof $e){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&sM(this,n.getBoundingClientRect(),e)}else sM(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new aR(e.slice,e.move,s<0?void 0:$e.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[e];if(o!=null&&(s=n?n(o):o))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let o=i[a].props[e];if(o!=null&&(s=n?n(o):o))return s}}hasFocus(){if(Pr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bae(this.dom),Xi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Cae(this,e)}coordsAtPos(e,n=1){return FL(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return Mae(this,n||this.state,e)}pasteHTML(e,n){return Rf(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Rf(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return MN(this,e)}destroy(){this.docView&&(soe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ov(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,oae())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return aoe(this,e)}domSelectionRange(){let e=this.domSelection();return e?tr&&this.root.nodeType===11&&fae(this.dom.ownerDocument)==this.dom&&Ooe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}dR.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function AM(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[En.node(0,t.state.doc.content.size,e)]}function OM(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:En.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function PM(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Voe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function _M(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function $oe(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function DM(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var po={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Lg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Boe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Hoe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vn=0;Vn<10;Vn++)po[48+Vn]=po[96+Vn]=String(Vn);for(var Vn=1;Vn<=24;Vn++)po[Vn+111]="F"+Vn;for(var Vn=65;Vn<=90;Vn++)po[Vn]=String.fromCharCode(Vn+32),Lg[Vn]=String.fromCharCode(Vn);for(var _v in po)Lg.hasOwnProperty(_v)||(Lg[_v]=po[_v]);function Uoe(t){var e=Boe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Hoe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Lg:po)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Woe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),qoe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Koe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let o=0;o<e.length-1;o++){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Woe?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function Goe(t){let e=Object.create(null);for(let n in t)e[Koe(n)]=t[n];return e}function Dv(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Yoe(t){return new Dt({props:{handleKeyDown:IN(t)}})}function IN(t){let e=Goe(t);return function(n,r){let s=Uoe(r),i,a=e[Dv(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let o=e[Dv(s,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(qoe&&r.ctrlKey&&r.altKey)&&(i=po[r.keyCode])&&i!=s){let o=e[Dv(i,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}var Xoe=Object.defineProperty,LN=(t,e)=>{for(var n in e)Xoe(t,n,{get:e[n],enumerable:!0})};function px(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var gx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,o])=>[a,(...u)=>{const d=o(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a=[],o=!!t,l=t||s.tr,u=()=>(!o&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(n).map(([h,p])=>[h,(...x)=>{const v=this.buildProps(l,e),b=p(...x)(v);return a.push(b),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...u)=>l(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a={tr:t,editor:r,view:i,state:px({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([o,l])=>[o,(...u)=>l(...u)(a)]))}};return a}},fR={};LN(fR,{blur:()=>Qoe,clearContent:()=>Joe,clearNodes:()=>Zoe,command:()=>ele,createParagraphNear:()=>tle,cut:()=>nle,deleteCurrentNode:()=>rle,deleteNode:()=>sle,deleteRange:()=>ile,deleteSelection:()=>ale,enter:()=>ole,exitCode:()=>lle,extendMarkRange:()=>cle,first:()=>ule,focus:()=>fle,forEach:()=>hle,insertContent:()=>mle,insertContentAt:()=>xle,joinBackward:()=>vle,joinDown:()=>ble,joinForward:()=>wle,joinItemBackward:()=>Sle,joinItemForward:()=>Nle,joinTextblockBackward:()=>Cle,joinTextblockForward:()=>jle,joinUp:()=>yle,keyboardShortcut:()=>Tle,lift:()=>Ele,liftEmptyBlock:()=>Mle,liftListItem:()=>Ale,newlineInCode:()=>Ole,resetAttributes:()=>Ple,scrollIntoView:()=>_le,selectAll:()=>Dle,selectNodeBackward:()=>Ile,selectNodeForward:()=>Lle,selectParentNode:()=>Rle,selectTextblockEnd:()=>Fle,selectTextblockStart:()=>zle,setContent:()=>Vle,setMark:()=>ice,setMeta:()=>ace,setNode:()=>oce,setNodeSelection:()=>lce,setTextDirection:()=>cce,setTextSelection:()=>uce,sinkListItem:()=>dce,splitBlock:()=>fce,splitListItem:()=>hce,toggleList:()=>mce,toggleMark:()=>pce,toggleNode:()=>gce,toggleWrap:()=>xce,undoInputRule:()=>yce,unsetAllMarks:()=>bce,unsetMark:()=>vce,unsetTextDirection:()=>wce,updateAttributes:()=>Sce,wrapIn:()=>Nce,wrapInList:()=>Cce});var Qoe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Joe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Zoe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(o,l)=>{if(o.type.isText)return;const{doc:u,mapping:d}=e,h=u.resolve(d.map(l)),p=u.resolve(d.map(l+o.nodeSize)),g=h.blockRange(p);if(!g)return;const x=ku(g);if(o.type.isTextblock){const{defaultType:v}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(g.start,v)}(x||x===0)&&e.lift(g,x)})}),!0},ele=t=>e=>t(e),tle=()=>({state:t,dispatch:e})=>TL(t,e),nle=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new Be(r.doc.resolve(Math.max(a-1,0)))),!0},rle=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const o=s.before(i),l=s.after(i);t.delete(o,l).scrollIntoView()}return!0}return!1};function pn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var sle=t=>({tr:e,state:n,dispatch:r})=>{const s=pn(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const l=i.before(a),u=i.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1},ile=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},ale=()=>({state:t,dispatch:e})=>wN(t,e),ole=()=>({commands:t})=>t.keyboardShortcut("Enter"),lle=()=>({state:t,dispatch:e})=>qie(t,e);function RN(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Rg(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:RN(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function hR(t,e,n={}){return t.find(r=>r.type===e&&Rg(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function IM(t,e,n={}){return!!hR(t,e,n)}function FN(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!hR([...s.node.marks],e,n)))return;let a=s.index,o=t.start()+s.offset,l=a+1,u=o+s.node.nodeSize;for(;a>0&&IM([...t.parent.child(a-1).marks],e,n);)a-=1,o-=t.parent.child(a).nodeSize;for(;l<t.parent.childCount&&IM([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:u}}function ua(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var cle=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=ua(t,r.schema),{doc:a,selection:o}=n,{$from:l,from:u,to:d}=o;if(s){const h=FN(l,i,e);if(h&&h.from<=u&&h.to>=d){const p=Be.create(a,h.from,h.to);n.setSelection(p)}}return!0},ule=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function mR(t){return t instanceof Be}function al(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function pR(t,e=null){if(!e)return null;const n=Ge.atStart(t),r=Ge.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Be.create(t,al(0,s,i),al(t.content.size,s,i)):Be.create(t,al(e,s,i),al(e,s,i))}function dle(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function zN(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var fle=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(zN()||dle())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!mR(n.state.selection))return a(),!0;const o=pR(s.doc,t)||n.state.selection,l=n.state.selection.eq(o);return i&&(l||s.setSelection(o),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},hle=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),mle=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),gR=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&gR(r)}return t};function tp(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return gR(n)}function zf(t,e,n){if(t instanceof eo||t instanceof ce)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ce.fromArray(t.map(o=>e.nodeFromJSON(o)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),zf("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,o="";const l=new eL({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,o=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?to.fromSchema(l).parseSlice(tp(t),n.parseOptions):to.fromSchema(l).parse(tp(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const i=to.fromSchema(e);return n.slice?i.parseSlice(tp(t),n.parseOptions).content:i.parse(tp(t),n.parseOptions)}return zf("",e,n)}function ple(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof jn||s instanceof Mn))return;const i=t.mapping.maps[r];let a=0;i.forEach((o,l,u,d)=>{a===0&&(a=d)}),t.setSelection(Ge.near(t.doc.resolve(a),n))}var gle=t=>!("type"in t),xle=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let o;const l=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{zf(e,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){l(b)}try{o=zf(e,i.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(b){return l(b),!1}let{from:d,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((gle(o)?o:[o]).forEach(b=>{b.check(),p=p?b.isText&&b.marks.length===0:!1,g=g?b.isBlock:!1}),d===h&&g){const{parent:b}=r.doc.resolve(d);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(d-=1,h+=1)}let v;if(p){if(Array.isArray(e))v=e.map(b=>b.text||"").join("");else if(e instanceof ce){let b="";e.forEach(w=>{w.text&&(b+=w.text)}),v=b}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,h)}else{v=o;const b=r.doc.resolve(d),w=b.node(),N=b.parentOffset===0,C=w.isText||w.isTextblock,T=w.content.size>0;N&&C&&T&&(d=Math.max(0,d-1)),r.replaceWith(d,h,v)}n.updateSelection&&ple(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},yle=()=>({state:t,dispatch:e})=>Hie(t,e),ble=()=>({state:t,dispatch:e})=>Uie(t,e),vle=()=>({state:t,dispatch:e})=>vL(t,e),wle=()=>({state:t,dispatch:e})=>CL(t,e),Sle=()=>({state:t,dispatch:e,tr:n})=>{try{const r=cx(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Nle=()=>({state:t,dispatch:e,tr:n})=>{try{const r=cx(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Cle=()=>({state:t,dispatch:e})=>$ie(t,e),jle=()=>({state:t,dispatch:e})=>Bie(t,e);function xR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function kle(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let o=0;o<e.length-1;o+=1){const l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))zN()||xR()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var Tle=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=kle(t).split(/-(?!$)/),a=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,o))});return l?.steps.forEach(u=>{const d=u.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function go(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?pn(e,t.schema):null,o=[];t.doc.nodesBetween(r,s,(h,p)=>{if(h.isText)return;const g=Math.max(r,p),x=Math.min(s,p+h.nodeSize);o.push({node:h,from:g,to:x})});const l=s-r,u=o.filter(h=>a?a.name===h.node.type.name:!0).filter(h=>Rg(h.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((h,p)=>h+p.to-p.from,0)>=l}var Ele=(t,e={})=>({state:n,dispatch:r})=>{const s=pn(t,n.schema);return go(n,s,e)?Wie(n,r):!1},Mle=()=>({state:t,dispatch:e})=>EL(t,e),Ale=t=>({state:e,dispatch:n})=>{const r=pn(t,e.schema);return rae(r)(e,n)},Ole=()=>({state:t,dispatch:e})=>kL(t,e);function xx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function LM(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var Ple=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const o=xx(typeof t=="string"?t:t.name,r.schema);if(!o)return!1;o==="node"&&(i=pn(t,r.schema)),o==="mark"&&(a=ua(t,r.schema));let l=!1;return n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,h)=>{i&&i===d.type&&(l=!0,s&&n.setNodeMarkup(h,void 0,LM(d.attrs,e))),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&(l=!0,s&&n.addMark(h,h+d.nodeSize,a.create(LM(p.attrs,e))))})})}),l},_le=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Dle=()=>({tr:t,dispatch:e})=>{if(e){const n=new Kr(t.doc);t.setSelection(n)}return!0},Ile=()=>({state:t,dispatch:e})=>SL(t,e),Lle=()=>({state:t,dispatch:e})=>jL(t,e),Rle=()=>({state:t,dispatch:e})=>Yie(t,e),Fle=()=>({state:t,dispatch:e})=>Jie(t,e),zle=()=>({state:t,dispatch:e})=>Qie(t,e);function Y2(t,e,n={},r={}){return zf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Vle=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:a,commands:o})=>{const{doc:l}=i;if(r.preserveWhitespace!=="full"){const u=Y2(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&i.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function yR(t,e){const n=ua(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,l=>{a.push(...l.marks)});const o=a.find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function bR(t,e){const n=new bN(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function $le(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Ble(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function vR(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function yx(t){return e=>vR(e.$from,t)}function Fe(t,e,n){return t.config[e]===void 0&&t.parent?Fe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Fe(t.parent,e,n):null}):t.config[e]}function VN(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Fe(e,"addExtensions",n);return r?[e,...VN(r())]:e}).flat(10)}function $N(t,e){const n=Bl.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function wR(t){return typeof t=="function"}function xt(t,e=void 0,...n){return wR(t)?e?t.bind(e)(...n):t(...n):t}function Hle(t={}){return Object.keys(t).length===0&&t.constructor===Object}function uu(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function SR(t){const e=[],{nodeExtensions:n,markExtensions:r}=uu(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:s},l=Fe(a,"addGlobalAttributes",o);if(!l)return;l().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([p,g])=>{e.push({type:h,name:p,attribute:{...i,...g}})})})})}),s.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},l=Fe(a,"addAttributes",o);if(!l)return;const u=l();Object.entries(u).forEach(([d,h])=>{const p={...i,...h};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,e.push({type:a.name,name:d,attribute:p})})}),e}function Et(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const o=i?String(i).split(" "):[],l=r[s]?r[s].split(" "):[],u=o.filter(d=>!l.includes(d));r[s]=[...l,...u].join(" ")}else if(s==="style"){const o=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[s]?r[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;l.forEach(d=>{const[h,p]=d.split(":").map(g=>g.trim());u.set(h,p)}),o.forEach(d=>{const[h,p]=d.split(":").map(g=>g.trim());u.set(h,p)}),r[s]=Array.from(u.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else r[s]=i}),r},{})}function Fg(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Et(n,r),{})}function Ule(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function RM(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(n):Ule(n.getAttribute(a.name));return o==null?i:{...i,[a.name]:o}},{});return{...r,...s}}}}function FM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Hle(n)?!1:n!=null))}function zM(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function Wle(t,e){var n;const r=SR(t),{nodeExtensions:s,markExtensions:i}=uu(t),a=(n=s.find(u=>Fe(u,"topNode")))==null?void 0:n.name,o=Object.fromEntries(s.map(u=>{const d=r.filter(w=>w.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((w,N)=>{const C=Fe(N,"extendNodeSchema",h);return{...w,...C?C(u):{}}},{}),g=FM({...p,content:xt(Fe(u,"content",h)),marks:xt(Fe(u,"marks",h)),group:xt(Fe(u,"group",h)),inline:xt(Fe(u,"inline",h)),atom:xt(Fe(u,"atom",h)),selectable:xt(Fe(u,"selectable",h)),draggable:xt(Fe(u,"draggable",h)),code:xt(Fe(u,"code",h)),whitespace:xt(Fe(u,"whitespace",h)),linebreakReplacement:xt(Fe(u,"linebreakReplacement",h)),defining:xt(Fe(u,"defining",h)),isolating:xt(Fe(u,"isolating",h)),attrs:Object.fromEntries(d.map(zM))}),x=xt(Fe(u,"parseHTML",h));x&&(g.parseDOM=x.map(w=>RM(w,d)));const v=Fe(u,"renderHTML",h);v&&(g.toDOM=w=>v({node:w,HTMLAttributes:Fg(w,d)}));const b=Fe(u,"renderText",h);return b&&(g.toText=b),[u.name,g]})),l=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((b,w)=>{const N=Fe(w,"extendMarkSchema",h);return{...b,...N?N(u):{}}},{}),g=FM({...p,inclusive:xt(Fe(u,"inclusive",h)),excludes:xt(Fe(u,"excludes",h)),group:xt(Fe(u,"group",h)),spanning:xt(Fe(u,"spanning",h)),code:xt(Fe(u,"code",h)),attrs:Object.fromEntries(d.map(zM))}),x=xt(Fe(u,"parseHTML",h));x&&(g.parseDOM=x.map(b=>RM(b,d)));const v=Fe(u,"renderHTML",h);return v&&(g.toDOM=b=>v({mark:b,HTMLAttributes:Fg(b,d)})),[u.name,g]}));return new eL({topNode:a,nodes:o,marks:l})}function qle(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function BN(t){return t.sort((n,r)=>{const s=Fe(n,"priority")||100,i=Fe(r,"priority")||100;return s>i?-1:s<i?1:0})}function NR(t){const e=BN(VN(t)),n=qle(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function CR(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let o="";return t.nodesBetween(r,s,(l,u,d,h)=>{var p;l.isBlock&&u>r&&(o+=i);const g=a?.[l.type.name];if(g)return d&&(o+=g({node:l,pos:u,parent:d,index:h,range:e})),!1;l.isText&&(o+=(p=l?.text)==null?void 0:p.slice(Math.max(r,u)-u,s-u))}),o}function Kle(t,e){const n={from:0,to:t.content.size};return CR(t,n,e)}function jR(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Gle(t,e){const n=pn(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,o=>{i.push(o)});const a=i.reverse().find(o=>o.type.name===n.name);return a?{...a.attrs}:{}}function kR(t,e){const n=xx(typeof e=="string"?e:e.name,t.schema);return n==="node"?Gle(t,e):n==="mark"?yR(t,e):{}}function Yle(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function Xle(t){const e=Yle(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function TR(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((o,l)=>{a.push({from:o,to:l})});else{const{from:o,to:l}=n[i];if(o===void 0||l===void 0)return;a.push({from:o,to:l})}a.forEach(({from:o,to:l})=>{const u=e.slice(i).map(o,-1),d=e.slice(i).map(l),h=e.invert().map(u,-1),p=e.invert().map(d);r.push({oldRange:{from:h,to:p},newRange:{from:u,to:d}})})}),Xle(r)}function HN(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=FN(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}var Qle=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,a=null;for(;i>0&&a===null;){const o=s.node(i);o?.type.name===e?a=o:i-=1}return[a,i]};function Iv(t,e){return e.nodes[t]||e.marks[t]||null}function $p(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var Jle=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,o)=>{var l,u;const d=((u=(l=s.type.spec).toText)==null?void 0:u.call(l,{node:s,pos:i,parent:a,index:o}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,r-i))}),n};function X2(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?ua(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>Rg(h.attrs,n,{strict:!1}));let a=0;const o=[];if(s.forEach(({$from:h,$to:p})=>{const g=h.pos,x=p.pos;t.doc.nodesBetween(g,x,(v,b)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(g,b),N=Math.min(x,b+v.nodeSize),C=N-w;a+=C,o.push(...v.marks.map(T=>({mark:T,from:w,to:N})))})}),a===0)return!1;const l=o.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>Rg(h.mark.attrs,n,{strict:!1})).reduce((h,p)=>h+p.to-p.from,0),u=o.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,p)=>h+p.to-p.from,0);return(l>0?l+u:l)>=a}function Zle(t,e,n={}){if(!e)return go(t,null,n)||X2(t,null,n);const r=xx(e,t.schema);return r==="node"?go(t,e,n):r==="mark"?X2(t,e,n):!1}var ece=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=yx(o=>o.type.name===e)(t.selection);if(!i)return!1;const a=t.doc.resolve(i.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},tce=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function VM(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function $M(t,e){const{nodeExtensions:n}=uu(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=xt(Fe(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function bx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(bx(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function ER(t){return t instanceof $e}var MR=class AR{constructor(e){this.position=e}static fromJSON(e){return new AR(e.position)}toJSON(){return{position:this.position}}};function nce(t,e){const n=e.mapping.mapResult(t.position);return{position:new MR(n.pos),mapResult:n}}function rce(t){return new MR(t)}function sce(t,e,n){var r;const{selection:s}=e;let i=null;if(mR(s)&&(i=s.$cursor),i){const o=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(o)||!o.some(u=>u.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:o,$to:l})=>{let u=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(o.pos,l.pos,(d,h,p)=>{if(u)return!1;if(d.isInline){const g=!p||p.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=g&&x}return!u}),u})}var ice=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:o}=i,l=ua(t,r.schema);if(s)if(a){const u=yR(r,l);n.addStoredMark(l.create({...u,...e}))}else o.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;r.doc.nodesBetween(d,h,(p,g)=>{const x=Math.max(g,d),v=Math.min(g+p.nodeSize,h);p.marks.find(w=>w.type===l)?p.marks.forEach(w=>{l===w.type&&n.addMark(x,v,l.create({...w.attrs,...e}))}):n.addMark(x,v,l.create(e))})});return sce(r,n,l)},ace=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),oce=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=pn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:o})=>tM(i,{...a,...e})(n)?!0:o.clearNodes()).command(({state:o})=>tM(i,{...a,...e})(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lce=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=al(t,0,r.content.size),i=$e.create(r,s);e.setSelection(i)}return!0},cce=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let a,o;return typeof e=="number"?(a=e,o=e):e&&"from"in e&&"to"in e?(a=e.from,o=e.to):(a=i.from,o=i.to),s&&n.doc.nodesBetween(a,o,(l,u)=>{l.isText||n.setNodeMarkup(u,void 0,{...l.attrs,dir:t})}),!0},uce=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=Be.atStart(r).from,o=Be.atEnd(r).to,l=al(s,a,o),u=al(i,a,o),d=Be.create(r,l,u);e.setSelection(d)}return!0},dce=t=>({state:e,dispatch:n})=>{const r=pn(t,e.schema);return aae(r)(e,n)};function BM(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var fce=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:o,$to:l}=i,u=s.extensionManager.attributes,d=$p(u,o.node().type.name,o.node().attrs);if(i instanceof $e&&i.node.isBlock)return!o.parentOffset||!Yi(a,o.pos)?!1:(r&&(t&&BM(n,s.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,p=o.depth===0?void 0:$le(o.node(-1).contentMatchAt(o.indexAfter(-1)));let g=h&&p?[{type:p,attrs:d}]:void 0,x=Yi(e.doc,e.mapping.map(o.pos),1,g);if(!g&&!x&&Yi(e.doc,e.mapping.map(o.pos),1,p?[{type:p}]:void 0)&&(x=!0,g=p?[{type:p,attrs:d}]:void 0),r){if(x&&(i instanceof Be&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,g),p&&!h&&!o.parentOffset&&o.parent.type!==p)){const v=e.mapping.map(o.before()),b=e.doc.resolve(v);o.node(-1).canReplaceWith(b.index(),b.index()+1,p)&&e.setNodeMarkup(e.mapping.map(o.before()),p)}t&&BM(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},hce=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const o=pn(t,r.schema),{$from:l,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(u))return!1;const h=l.node(-1);if(h.type!==o)return!1;const p=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let w=ce.empty;const N=l.index(-1)?1:l.index(-2)?2:3;for(let M=l.depth-N;M>=l.depth-3;M-=1)w=ce.from(l.node(M).copy(w));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...$p(p,l.node().type.name,l.node().attrs),...e},j=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(T))||void 0;w=w.append(ce.from(o.createAndFill(null,j)||void 0));const E=l.before(l.depth-(N-1));n.replace(E,l.after(-C),new Ce(w,4-N,0));let O=-1;n.doc.nodesBetween(E,n.doc.content.size,(M,_)=>{if(O>-1)return!1;M.isTextblock&&M.content.size===0&&(O=_+1)}),O>-1&&n.setSelection(Be.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const g=u.pos===l.end()?h.contentMatchAt(0).defaultType:null,x={...$p(p,h.type.name,h.attrs),...e},v={...$p(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const b=g?[{type:o,attrs:x},{type:g,attrs:v}]:[{type:o,attrs:x}];if(!Yi(n.doc,l.pos,2))return!1;if(s){const{selection:w,storedMarks:N}=r,{splittableMarks:C}=i.extensionManager,T=N||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,b).scrollIntoView(),!T||!s)return!0;const j=T.filter(E=>C.includes(E.type.name));n.ensureMarks(j)}return!0},Lv=(t,e)=>{const n=yx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&So(t.doc,n.pos)&&t.join(n.pos),!0},Rv=(t,e)=>{const n=yx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&So(t.doc,r)&&t.join(r),!0},mce=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:o,chain:l,commands:u,can:d})=>{const{extensions:h,splittableMarks:p}=s.extensionManager,g=pn(t,a.schema),x=pn(e,a.schema),{selection:v,storedMarks:b}=a,{$from:w,$to:N}=v,C=w.blockRange(N),T=b||v.$to.parentOffset&&v.$from.marks();if(!C)return!1;const j=yx(E=>$M(E.type.name,h))(v);if(C.depth>=1&&j&&C.depth-j.depth<=1){if(j.node.type===g)return u.liftListItem(x);if($M(j.node.type.name,h)&&g.validContent(j.node.content)&&o)return l().command(()=>(i.setNodeMarkup(j.pos,g),!0)).command(()=>Lv(i,g)).command(()=>Rv(i,g)).run()}return!n||!T||!o?l().command(()=>d().wrapInList(g,r)?!0:u.clearNodes()).wrapInList(g,r).command(()=>Lv(i,g)).command(()=>Rv(i,g)).run():l().command(()=>{const E=d().wrapInList(g,r),O=T.filter(M=>p.includes(M.type.name));return i.ensureMarks(O),E?!0:u.clearNodes()}).wrapInList(g,r).command(()=>Lv(i,g)).command(()=>Rv(i,g)).run()},pce=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=ua(t,r.schema);return X2(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},gce=(t,e,n={})=>({state:r,commands:s})=>{const i=pn(t,r.schema),a=pn(e,r.schema),o=go(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),o?s.setNode(a,l):s.setNode(i,{...l,...n})},xce=(t,e={})=>({state:n,commands:r})=>{const s=pn(t,n.schema);return go(n,s,e)?r.lift(s):r.wrapIn(s,e)},yce=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,o=i.transform;for(let l=o.steps.length-1;l>=0;l-=1)a.step(o.steps[l].invert(o.docs[l]));if(i.text){const l=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else a.delete(i.from,i.to)}return!0}}return!1},bce=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},vce=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:o}=n,l=ua(t,r.schema),{$from:u,empty:d,ranges:h}=o;if(!s)return!0;if(d&&a){let{from:p,to:g}=o;const x=(i=u.marks().find(b=>b.type===l))==null?void 0:i.attrs,v=FN(u,l,x);v&&(p=v.from,g=v.to),n.removeMark(p,g,l)}else h.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},wce=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let i,a;return typeof t=="number"?(i=t,a=t):t&&"from"in t&&"to"in t?(i=t.from,a=t.to):(i=s.from,a=s.to),r&&e.doc.nodesBetween(i,a,(o,l)=>{if(o.isText)return;const u={...o.attrs};delete u.dir,e.setNodeMarkup(l,void 0,u)}),!0},Sce=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const o=xx(typeof t=="string"?t:t.name,r.schema);if(!o)return!1;o==="node"&&(i=pn(t,r.schema)),o==="mark"&&(a=ua(t,r.schema));let l=!1;return n.selection.ranges.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;let p,g,x,v;n.selection.empty?r.doc.nodesBetween(d,h,(b,w)=>{i&&i===b.type&&(l=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,h),p=w,g=b)}):r.doc.nodesBetween(d,h,(b,w)=>{w<d&&i&&i===b.type&&(l=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,h),p=w,g=b),w>=d&&w<=h&&(i&&i===b.type&&(l=!0,s&&n.setNodeMarkup(w,void 0,{...b.attrs,...e})),a&&b.marks.length&&b.marks.forEach(N=>{if(a===N.type&&(l=!0,s)){const C=Math.max(w,d),T=Math.min(w+b.nodeSize,h);n.addMark(C,T,a.create({...N.attrs,...e}))}}))}),g&&(p!==void 0&&s&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(b=>{a===b.type&&s&&n.addMark(x,v,a.create({...b.attrs,...e}))}))}),l},Nce=(t,e={})=>({state:n,dispatch:r})=>{const s=pn(t,n.schema);return Zie(s,e)(n,r)},Cce=(t,e={})=>({state:n,dispatch:r})=>{const s=pn(t,n.schema);return eae(s,e)(n,r)},jce=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},vx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},kce=(t,e)=>{if(RN(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function np(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:o}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const h=Jle(u)+i;return a.forEach(p=>{if(d)return;const g=kce(h,p.find);if(!g)return;const x=l.state.tr,v=px({state:l.state,transaction:x}),b={from:r-(g[0].length-i.length),to:s},{commands:w,chain:N,can:C}=new gx({editor:n,state:v});p.handler({state:v,range:b,match:g,commands:w,chain:N,can:C})===null||!x.steps.length||(p.undoable&&x.setMeta(o,{transform:x,from:r,to:s,text:i}),l.dispatch(x),d=!0)}),d}function Tce(t){const{editor:e,rules:n}=t,r=new Dt({state:{init(){return null},apply(s,i,a){const o=s.getMeta(r);if(o)return o;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=$N(ce.from(d),a.schema);const{from:h}=l,p=h+d.length;np({editor:e,from:h,to:p,text:d,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,o){return np({editor:e,from:i,to:a,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&np({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?np({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Ece(t){return Object.prototype.toString.call(t).slice(8,-1)}function rp(t){return Ece(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function OR(t,e){const n={...t};return rp(t)&&rp(e)&&Object.keys(e).forEach(r=>{rp(e[r])&&rp(t[r])?n[r]=OR(t[r],e[r]):n[r]=e[r]}),n}var UN=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...xt(Fe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...xt(Fe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>OR(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Co=class PR extends UN{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new PR(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;const l=a.find(u=>u?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Mce(t){return typeof t=="number"}var Ace=class{constructor(t){this.find=t.find,this.handler=t.handler}},Oce=(t,e,n)=>{if(RN(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Pce(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:o}=t,{commands:l,chain:u,can:d}=new gx({editor:e,state:n}),h=[];return n.doc.nodesBetween(r,s,(g,x)=>{var v,b,w,N,C;if((b=(v=g.type)==null?void 0:v.spec)!=null&&b.code||!(g.isText||g.isTextblock||g.isInline))return;const T=(C=(N=(w=g.content)==null?void 0:w.size)!=null?N:g.nodeSize)!=null?C:0,j=Math.max(r,x),E=Math.min(s,x+T);if(j>=E)return;const O=g.isText?g.text||"":g.textBetween(j-x,E-x,void 0,"");Oce(O,i.find,a).forEach(_=>{if(_.index===void 0)return;const D=j+_.index+1,I=D+_[0].length,F={from:n.tr.mapping.map(D),to:n.tr.mapping.map(I)},Y=i.handler({state:n,range:F,match:_,commands:l,chain:u,can:d,pasteEvent:a,dropEvent:o});h.push(Y)})}),h.every(g=>g!==null)}var sp=null,_ce=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Dce(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const l=({state:d,from:h,to:p,rule:g,pasteEvt:x})=>{const v=d.tr,b=px({state:d,transaction:v});if(!(!Pce({editor:e,state:b,from:Math.max(h-1,0),to:p.b-1,rule:g,pasteEvent:x,dropEvent:o})||!v.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Dt({view(h){const p=x=>{var v;r=(v=h.dom.parentElement)!=null&&v.contains(x.target)?h.dom.parentElement:null,r&&(sp=e)},g=()=>{sp&&(sp=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(h,p)=>{if(i=r===h.dom.parentElement,o=p,!i){const g=sp;g?.isEditable&&setTimeout(()=>{const x=g.state.selection;x&&g.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(h,p)=>{var g;const x=(g=p.clipboardData)==null?void 0:g.getData("text/html");return a=p,s=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(h,p,g)=>{const x=h[0],v=x.getMeta("uiEvent")==="paste"&&!s,b=x.getMeta("uiEvent")==="drop"&&!i,w=x.getMeta("applyPasteRules"),N=!!w;if(!v&&!b&&!N)return;if(N){let{text:j}=w;typeof j=="string"?j=j:j=$N(ce.from(j),g.schema);const{from:E}=w,O=E+j.length,M=_ce(j);return l({rule:d,state:g,from:E,to:{b:O},pasteEvt:M})}const C=p.doc.content.findDiffStart(g.doc.content),T=p.doc.content.findDiffEnd(g.doc.content);if(!(!Mce(C)||!T||C===T.b))return l({rule:d,state:g,from:C,to:T,pasteEvt:a})}}))}var wx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=NR(t),this.schema=Wle(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Iv(e.name,this.schema)},r=Fe(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return BN([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Iv(r.name,this.schema)},i=[],a=Fe(r,"addKeyboardShortcuts",s);let o={};if(r.type==="mark"&&Fe(r,"exitable",s)&&(o.ArrowRight=()=>Co.handleExit({editor:t,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([g,x])=>[g,()=>x({editor:t})]));o={...o,...p}}const l=Yoe(o);i.push(l);const u=Fe(r,"addInputRules",s);if(VM(r,t.options.enableInputRules)&&u){const p=u();if(p&&p.length){const g=Tce({editor:t,rules:p}),x=Array.isArray(g)?g:[g];i.push(...x)}}const d=Fe(r,"addPasteRules",s);if(VM(r,t.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const g=Dce({editor:t,rules:p});i.push(...g)}}const h=Fe(r,"addProseMirrorPlugins",s);if(h){const p=h();i.push(...p)}return i})}get attributes(){return SR(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=uu(this.extensions);return Object.fromEntries(e.filter(n=>!!Fe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:pn(n.name,this.schema)},i=Fe(n,"addNodeView",s);if(!i)return[];const a=i();if(!a)return[];const o=(l,u,d,h,p)=>{const g=Fg(l,r);return a({node:l,view:u,getPos:d,decorations:h,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=uu(this.extensions);return Object.fromEntries(e.filter(n=>!!Fe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ua(n.name,this.schema)},i=Fe(n,"addMarkView",s);if(!i)return[];const a=(o,l,u)=>{const d=Fg(o,r);return i()({mark:o,view:l,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:h=>{Yce(o,t,h)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Iv(e.name,this.schema)};e.type==="mark"&&((n=xt(Fe(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=Fe(e,"onBeforeCreate",r),i=Fe(e,"onCreate",r),a=Fe(e,"onUpdate",r),o=Fe(e,"onSelectionUpdate",r),l=Fe(e,"onTransaction",r),u=Fe(e,"onFocus",r),d=Fe(e,"onBlur",r),h=Fe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}};wx.resolve=NR;wx.sort=BN;wx.flatten=VN;var Ice={};LN(Ice,{ClipboardTextSerializer:()=>DR,Commands:()=>IR,Delete:()=>LR,Drop:()=>RR,Editable:()=>FR,FocusEvents:()=>VR,Keymap:()=>$R,Paste:()=>BR,Tabindex:()=>HR,TextDirection:()=>UR,focusEventsPluginKey:()=>zR});var wt=class _R extends UN{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new _R(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},DR=wt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Dt({key:new tn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(d=>d.$from.pos)),o=Math.max(...i.map(d=>d.$to.pos)),l=jR(n);return CR(r,{from:a,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),IR=wt.create({name:"commands",addCommands(){return{...fR}}}),LR=wt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var a,o,l,u;if((u=(l=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:l.call(o,t))!=null?u:t.getMeta("y-sync$"))return;const d=bR(t.before,[t,...e]);TR(d).forEach(g=>{d.mapping.mapResult(g.oldRange.from).deletedAfter&&d.mapping.mapResult(g.oldRange.to).deletedBefore&&d.before.nodesBetween(g.oldRange.from,g.oldRange.to,(x,v)=>{const b=v+x.nodeSize-2,w=g.oldRange.from<=v&&b<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:v,to:b,newFrom:d.mapping.map(v),newTo:d.mapping.map(b),deletedRange:g.oldRange,newRange:g.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((g,x)=>{var v,b;if(g instanceof _s){const w=p.slice(x).map(g.from,-1),N=p.slice(x).map(g.to),C=p.invert().map(w,-1),T=p.invert().map(N),j=(v=d.doc.nodeAt(w-1))==null?void 0:v.marks.some(O=>O.eq(g.mark)),E=(b=d.doc.nodeAt(N))==null?void 0:b.marks.some(O=>O.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:C,to:T},newRange:{from:w,to:N},partial:!!(E||j),editor:this.editor,transaction:t,combinedTransform:d})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),RR=wt.create({name:"drop",addProseMirrorPlugins(){return[new Dt({key:new tn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),FR=wt.create({name:"editable",addProseMirrorPlugins(){return[new Dt({key:new tn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zR=new tn("focusEvents"),VR=wt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Dt({key:zR,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),$R=wt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:l,doc:u}=o,{empty:d,$anchor:h}=l,{pos:p,parent:g}=h,x=h.parent.isTextblock&&p>0?o.doc.resolve(p-1):h,v=x.parent.type.spec.isolating,b=h.pos-h.parentOffset,w=v&&x.parent.childCount===1?b===h.pos:Ge.atStart(u).from===p;return!d||!g.type.isTextblock||g.textContent.length||!w||w&&h.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return zN()||xR()?i:s},addProseMirrorPlugins(){return[new Dt({key:new tn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),s=t.some(v=>v.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:o}=e.selection,l=Ge.atStart(e.doc).from,u=Ge.atEnd(e.doc).to;if(i||!(a===l&&o===u)||!bx(n.doc))return;const p=n.tr,g=px({state:n,transaction:p}),{commands:x}=new gx({editor:this.editor,state:g});if(x.clearNodes(),!!p.steps.length)return p}})]}}),BR=wt.create({name:"paste",addProseMirrorPlugins(){return[new Dt({key:new tn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),HR=wt.create({name:"tabindex",addProseMirrorPlugins(){return[new Dt({key:new tn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),UR=wt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=uu(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Dt({key:new tn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Lce=class Oc{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Oc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Oc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Oc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!s&&o.depth<=this.depth)return;const l=new Oc(o,this.editor,s,s?n:null);s&&(l.actualDepth=this.depth+1),e.push(new Oc(o,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let o=0;o<a.length;o+=1){const l=a[o];if(i[l]!==n[l])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(l=>n[l]===a.node.attrs[l])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Rce=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Fce(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var zce=class extends jce{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:nce,createMappablePosition:rce},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=pR(e,this.options.autofocus);this.editorState=zc.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Fce(Rce,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=wR(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[FR,DR.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),IR,VR,$R,HR,RR,BR,LR,UR.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new wx(r,this)}createCommandManager(){this.commandManager=new gx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Y2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Y2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new dR(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),o=a?.getMeta("focus"),l=a?.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return kR(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return Zle(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return $N(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Kle(this.state.doc,{blockSeparator:e,textSerializers:{...jR(this.schema),...n}})}get isEmpty(){return bx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Lce(e,this)}get $doc(){return this.$pos(0)}};function du(t){return new vx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=xt(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],o=r[0];if(a){const l=o.search(/\S/),u=n.from+o.indexOf(a),d=u+a.length;if(HN(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(v=>v===t.type&&v!==g.mark.type)).filter(g=>g.to>u).length)return null;d<n.to&&i.delete(d,n.to),u>n.from&&i.delete(n.from+l,u);const p=n.from+l+a.length;i.addMark(n.from+l,p,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function WR(t){return new vx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=xt(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let o=n.to;const l=t.type.create(s);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>o?d=o:o=d+r[1].length;const h=r[0][r[0].length-1];i.insertText(h,a+r[0].length-1),i.replaceWith(d,o,l)}else if(r[0]){const u=t.type.isInline?a:a-1;i.insert(u,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(o))}i.scrollIntoView()},undoable:t.undoable})}function Q2(t){return new vx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=xt(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function fu(t){return new vx({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=xt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),u=l&&yN(l,t.type,i);if(!u)return null;if(a.wrap(l,u),t.keepMarks&&t.editor){const{selection:h,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,x=p||h.$to.parentOffset&&h.$from.marks();if(x){const v=x.filter(b=>g.includes(b.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(h,i).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&So(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}var Vce=t=>"touches"in t,$ce=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.clientX-this.startX,u=o.clientY-this.startY;this.handleResize(l,u)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.touches[0];if(!l)return;const u=l.clientX-this.startX,d=l.clientY-this.startY;this.handleResize(u,d)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(o,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,s,i,a;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(a=t.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),s=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),s&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,Vce(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,s=this.startHeight;const i=t.includes("right"),a=t.includes("left"),o=t.includes("bottom"),l=t.includes("top");return i?r=this.startWidth+e:a&&(r=this.startWidth-e),o?s=this.startHeight+n:l&&(s=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(o?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,t):{width:r,height:s}}applyConstraints(t,e,n){var r,s,i,a;if(!n){let u=Math.max(this.minSize.width,t),d=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(u=Math.min(this.maxSize.width,u)),(s=this.maxSize)!=null&&s.height&&(d=Math.min(this.maxSize.height,d)),{width:u,height:d}}let o=t,l=e;return o<this.minSize.width&&(o=this.minSize.width,l=o/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,o=l*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&o>this.maxSize.width&&(o=this.maxSize.width,l=o/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&l>this.maxSize.height&&(l=this.maxSize.height,o=l*this.aspectRatio),{width:o,height:l}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function Bce(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof $e){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var Hce={};LN(Hce,{createAtomBlockMarkdownSpec:()=>Uce,createBlockMarkdownSpec:()=>Wce,createInlineMarkdownSpec:()=>Gce,parseAttributes:()=>WN,parseIndentedBlocks:()=>J2,renderNestedMarkdownContent:()=>KN,serializeAttributes:()=>qN});function WN(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const u=s.map(d=>d.trim().slice(1));e.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,u,d])=>{var h;const p=parseInt(((h=d.match(/__QUOTED_(\d+)__/))==null?void 0:h[1])||"0",10),g=n[p];g&&(e[u]=g.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function qN(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Uce(t){const{nodeName:e,name:n,parseAttributes:r=WN,serializeAttributes:s=qN,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:o}=t,l=n||e,u=d=>{if(!o)return d;const h={};return o.forEach(p=>{p in d&&(h[p]=d[p])}),h};return{parseMarkdown:(d,h)=>{const p={...i,...d.attributes};return h.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(d){var h;const p=new RegExp(`^:::${l}(?:\\s|$)`,"m"),g=(h=d.match(p))==null?void 0:h.index;return g!==void 0?g:-1},tokenize(d,h,p){const g=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=d.match(g);if(!x)return;const v=x[1]||"",b=r(v);if(!a.find(N=>!(N in b)))return{type:e,raw:x[0],attributes:b}}},renderMarkdown:d=>{const h=u(d.attrs||{}),p=s(h),g=p?` {${p}}`:"";return`:::${l}${g} :::`}}}function Wce(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=WN,serializeAttributes:i=qN,defaultAttributes:a={},content:o="block",allowedAttributes:l}=t,u=n||e,d=h=>{if(!l)return h;const p={};return l.forEach(g=>{g in h&&(p[g]=h[g])}),p};return{parseMarkdown:(h,p)=>{let g;if(r){const v=r(h);g=typeof v=="string"?[{type:"text",text:v}]:v}else o==="block"?g=p.parseChildren(h.tokens||[]):g=p.parseInline(h.tokens||[]);const x={...a,...h.attributes};return p.createNode(e,x,g)},markdownTokenizer:{name:e,level:"block",start(h){var p;const g=new RegExp(`^:::${u}`,"m"),x=(p=h.match(g))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(h,p,g){var x;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=h.match(v);if(!b)return;const[w,N=""]=b,C=s(N);let T=1;const j=w.length;let E="";const O=/^:::([\w-]*)(\s.*)?/gm,M=h.slice(j);for(O.lastIndex=0;;){const _=O.exec(M);if(_===null)break;const D=_.index,I=_[1];if(!((x=_[2])!=null&&x.endsWith(":::"))){if(I)T+=1;else if(T-=1,T===0){const F=M.slice(0,D);E=F.trim();const Y=h.slice(0,j+D+_[0].length);let G=[];if(E)if(o==="block")for(G=g.blockTokens(F),G.forEach(W=>{W.text&&(!W.tokens||W.tokens.length===0)&&(W.tokens=g.inlineTokens(W.text))});G.length>0;){const W=G[G.length-1];if(W.type==="paragraph"&&(!W.text||W.text.trim()===""))G.pop();else break}else G=g.inlineTokens(E);return{type:e,raw:Y,attributes:C,content:E,tokens:G}}}}}},renderMarkdown:(h,p)=>{const g=d(h.attrs||{}),x=i(g),v=x?` {${x}}`:"",b=p.renderChildren(h.content||[],`

`);return`:::${u}${v}

${b}

:::`}}}function qce(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,a]=r;e[s]=i||a,r=n.exec(t)}return e}function Kce(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Gce(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=qce,serializeAttributes:i=Kce,defaultAttributes:a={},selfClosing:o=!1,allowedAttributes:l}=t,u=n||e,d=p=>{if(!l)return p;const g={};return l.forEach(x=>{const v=typeof x=="string"?x:x.name,b=typeof x=="string"?void 0:x.skipIfDefault;if(v in p){const w=p[v];if(b!==void 0&&w===b)return;g[v]=w}}),g},h=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const x={...a,...p.attributes};if(o)return g.createNode(e,x);const v=r?r(p):p.content||"";return v?g.createNode(e,x,[g.createTextNode(v)]):g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(p){const g=o?new RegExp(`\\[${h}\\s*[^\\]]*\\]`):new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`),x=p.match(g),v=x?.index;return v!==void 0?v:-1},tokenize(p,g,x){const v=o?new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`),b=p.match(v);if(!b)return;let w="",N="";if(o){const[,T]=b;N=T}else{const[,T,j]=b;N=T,w=j||""}const C=s(N.trim());return{type:e,raw:b[0],content:w.trim(),attributes:C}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=d(p.attrs||{}),v=i(x),b=v?` ${v}`:"";return o?`[${u}${b}]`:`[${u}${b}]${g}[/${u}]`}}}function J2(t,e,n){var r,s,i,a;const o=t.split(`
`),l=[];let u="",d=0;const h=e.baseIndentSize||2;for(;d<o.length;){const p=o[d],g=p.match(e.itemPattern);if(!g){if(l.length>0)break;if(p.trim()===""){d+=1,u=`${u}${p}
`;continue}else return}const x=e.extractItemData(g),{indentLevel:v,mainContent:b}=x;u=`${u}${p}
`;const w=[b];for(d+=1;d<o.length;){const j=o[d];if(j.trim()===""){const O=o.slice(d+1).findIndex(D=>D.trim()!=="");if(O===-1)break;if((((s=(r=o[d+1+O].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>v){w.push(j),u=`${u}${j}
`,d+=1;continue}else break}if((((a=(i=j.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:a.length)||0)>v)w.push(j),u=`${u}${j}
`,d+=1;else break}let N;const C=w.slice(1);if(C.length>0){const j=C.map(E=>E.slice(v+h)).join(`
`);j.trim()&&(e.customNestedParser?N=e.customNestedParser(j):N=n.blockTokens(j))}const T=e.createToken(x,N);l.push(T)}if(l.length!==0)return{items:l,raw:u}}function KN(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...a]=t.content,o=e.renderChildren([i]),l=[`${s}${o}`];return a&&a.length>0&&a.forEach(u=>{const d=e.renderChildren([u]);if(d){const h=d.split(`
`).map(p=>p?e.indent(p):"").join(`
`);l.push(h)}}),l.join(`
`)}function Yce(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,a=t;s.descendants((o,l)=>{const u=i.mapping.map(l),d=i.mapping.map(l)+o.nodeSize;let h=null;if(o.marks.forEach(g=>{if(g!==a)return!1;h=g}),!h)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==h.attrs[g]&&(p=!0)}),p){const g=t.type.create({...t.attrs,...n});i.removeMark(u,d,t.type),i.addMark(u,d,g)}}),i.docChanged&&e.view.dispatch(i)}var Pn=class qR extends UN{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new qR(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Pl(t){return new Ace({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=xt(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,o=r[r.length-1],l=r[0];let u=n.to;if(o){const d=l.search(/\S/),h=n.from+l.indexOf(o),p=h+o.length;if(HN(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(b=>b===t.type&&b!==x.mark.type)).filter(x=>x.to>h).length)return null;p<n.to&&a.delete(p,n.to),h>n.from&&a.delete(n.from+d,h),u=n.from+d+o.length,a.addMark(n.from+d,u,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:Xce,getOwnPropertySymbols:Qce}=Object,{hasOwnProperty:Jce}=Object.prototype;function Fv(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function ip(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,a=i.get(n),o=i.get(r);if(a&&o)return a===r&&o===n;i.set(n,r),i.set(r,n);const l=t(n,r,s);return i.delete(n),i.delete(r),l}}function Zce(t){return t?.[Symbol.toStringTag]}function HM(t){return Xce(t).concat(Qce(t))}const eue=Object.hasOwn||((t,e)=>Jce.call(t,e));function Hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const tue="__v",nue="__o",rue="_owner",{getOwnPropertyDescriptor:UM,keys:WM}=Object;function sue(t,e){return t.byteLength===e.byteLength&&zg(new Uint8Array(t),new Uint8Array(e))}function iue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function aue(t,e){return t.byteLength===e.byteLength&&zg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function oue(t,e){return Hl(t.getTime(),e.getTime())}function lue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function cue(t,e){return t===e}function qM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let a,o,l=0;for(;(a=i.next())&&!a.done;){const u=e.entries();let d=!1,h=0;for(;(o=u.next())&&!o.done;){if(s[h]){h++;continue}const p=a.value,g=o.value;if(n.equals(p[0],g[0],l,h,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){d=s[h]=!0;break}h++}if(!d)return!1;l++}return!0}const uue=Hl;function due(t,e,n){const r=WM(t);let s=r.length;if(WM(e).length!==s)return!1;for(;s-- >0;)if(!KR(t,e,n,r[s]))return!1;return!0}function Sd(t,e,n){const r=HM(t);let s=r.length;if(HM(e).length!==s)return!1;let i,a,o;for(;s-- >0;)if(i=r[s],!KR(t,e,n,i)||(a=UM(t,i),o=UM(e,i),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function fue(t,e){return Hl(t.valueOf(),e.valueOf())}function hue(t,e){return t.source===e.source&&t.flags===e.flags}function KM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let a,o;for(;(a=i.next())&&!a.done;){const l=e.values();let u=!1,d=0;for(;(o=l.next())&&!o.done;){if(!s[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function zg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function mue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KR(t,e,n,r){return(r===rue||r===nue||r===tue)&&(t.$$typeof||e.$$typeof)?!0:eue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const pue="[object ArrayBuffer]",gue="[object Arguments]",xue="[object Boolean]",yue="[object DataView]",bue="[object Date]",vue="[object Error]",wue="[object Map]",Sue="[object Number]",Nue="[object Object]",Cue="[object RegExp]",jue="[object Set]",kue="[object String]",Tue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Eue="[object URL]",Mue=Object.prototype.toString;function Aue({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:a,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:x}){return function(b,w,N){if(b===w)return!0;if(b==null||w==null)return!1;const C=typeof b;if(C!==typeof w)return!1;if(C!=="object")return C==="number"?o(b,w,N):C==="function"?i(b,w,N):!1;const T=b.constructor;if(T!==w.constructor)return!1;if(T===Object)return l(b,w,N);if(Array.isArray(b))return e(b,w,N);if(T===Date)return r(b,w,N);if(T===RegExp)return d(b,w,N);if(T===Map)return a(b,w,N);if(T===Set)return h(b,w,N);const j=Mue.call(b);if(j===bue)return r(b,w,N);if(j===Cue)return d(b,w,N);if(j===wue)return a(b,w,N);if(j===jue)return h(b,w,N);if(j===Nue)return typeof b.then!="function"&&typeof w.then!="function"&&l(b,w,N);if(j===Eue)return g(b,w,N);if(j===vue)return s(b,w,N);if(j===gue)return l(b,w,N);if(Tue[j])return p(b,w,N);if(j===pue)return t(b,w,N);if(j===yue)return n(b,w,N);if(j===xue||j===Sue||j===kue)return u(b,w,N);if(x){let E=x[j];if(!E){const O=Zce(b);O&&(E=x[O])}if(E)return E(b,w,N)}return!1}}function Oue({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:sue,areArraysEqual:n?Sd:iue,areDataViewsEqual:aue,areDatesEqual:oue,areErrorsEqual:lue,areFunctionsEqual:cue,areMapsEqual:n?Fv(qM,Sd):qM,areNumbersEqual:uue,areObjectsEqual:n?Sd:due,arePrimitiveWrappersEqual:fue,areRegExpsEqual:hue,areSetsEqual:n?Fv(KM,Sd):KM,areTypedArraysEqual:n?Fv(zg,Sd):zg,areUrlsEqual:mue,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=ip(r.areArraysEqual),i=ip(r.areMapsEqual),a=ip(r.areObjectsEqual),o=ip(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:o})}return r}function Pue(t){return function(e,n,r,s,i,a,o){return t(e,n,o)}}function _ue({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(o,l){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(o,l,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(o,l){return e(o,l,i)}}const Due=jo();jo({strict:!0});jo({circular:!0});jo({circular:!0,strict:!0});jo({createInternalComparator:()=>Hl});jo({strict:!0,createInternalComparator:()=>Hl});jo({circular:!0,createInternalComparator:()=>Hl});jo({circular:!0,createInternalComparator:()=>Hl,strict:!0});function jo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=Oue(t),a=Aue(i),o=n?n(a):Pue(a);return _ue({circular:e,comparator:a,createState:r,equals:o,strict:s})}var zv={exports:{}},Vv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM;function Iue(){if(GM)return Vv;GM=1;var t=mu(),e=RI();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return Vv.useSyncExternalStoreWithSelector=function(u,d,h,p,g){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=o(function(){function w(E){if(!N){if(N=!0,C=E,E=p(E),g!==void 0&&v.hasValue){var O=v.value;if(g(O,E))return T=O}return T=E}if(O=T,r(C,E))return O;var M=p(E);return g!==void 0&&g(O,M)?(C=E,O):(C=E,T=M)}var N=!1,C,T,j=h===void 0?null:h;return[function(){return w(d())},j===null?void 0:function(){return w(j())}]},[d,h,p,g]);var b=s(u,x[0],x[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),l(b),b},Vv}var YM;function Lue(){return YM||(YM=1,zv.exports=Iue()),zv.exports}var Rue=Lue(),Fue=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},zue=({contentComponent:t})=>{const e=FI.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return c.jsx(c.Fragment,{children:Object.values(e)})};function Vue(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:H$.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var $ue=class extends ge.Component{constructor(t){var e;super(t),this.editorContentRef=ge.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=Vue(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:Fue(e,this.editorContentRef),...n}),t?.contentComponent&&c.jsx(zue,{contentComponent:t.contentComponent})]})}},Bue=A.forwardRef((t,e)=>{const n=ge.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ge.createElement($ue,{key:n,innerRef:e,...t})}),Hue=ge.memo(Bue),Uue=typeof window<"u"?A.useLayoutEffect:A.useEffect,Wue=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function que(t){var e;const[n]=A.useState(()=>new Wue(t.editor)),r=Rue.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Due);return Uue(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(r),r}var Kue=!1,Z2=typeof window>"u",Gue=Z2||!!(typeof window<"u"&&window.next),Yue=class GR{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Z2||Gue?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new zce(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)==null?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?GR.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Xue(t={},e=[]){const n=A.useRef(t);n.current=t;const[r]=A.useState(()=>new Yue(n)),s=FI.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(s),A.useEffect(r.onRender(e)),que({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var Que=A.createContext({editor:null});Que.Consumer;var Jue=A.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Zue=()=>A.useContext(Jue);ge.forwardRef((t,e)=>{const{onDragStart:n}=Zue(),r=t.as||"div";return c.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});ge.createContext({markViewContentRef:()=>{}});var Vg=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},ede=/^\s*>\s$/,tde=Pn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Vg("blockquote",{...Et(this.options.HTMLAttributes,t),children:Vg("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const o=e.renderChildren([s]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(o.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[fu({find:ede,type:this.type})]}}),nde=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,rde=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sde=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ide=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,ade=Co.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Vg("strong",{...Et(this.options.HTMLAttributes,t),children:Vg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[du({find:nde,type:this.type}),du({find:sde,type:this.type})]},addPasteRules(){return[Pl({find:rde,type:this.type}),Pl({find:ide,type:this.type})]}}),ode=/(^|[^`])`([^`]+)`(?!`)$/,lde=/(^|[^`])`([^`]+)`(?!`)/g,cde=Co.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Et(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[du({find:ode,type:this.type})]},addPasteRules(){return[Pl({find:lde,type:this.type})]}}),$v=4,ude=/^```([a-z]+)?[\s\n]$/,dde=/^~~~([a-z]+)?[\s\n]$/,fde=Pn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:$v,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Et(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:$v,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;if(i.parent.type!==this.type)return!1;const o=" ".repeat(n);return a?t.commands.insertContent(o):t.commands.command(({tr:l})=>{const{from:u,to:d}=s,g=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>o+x).join(`
`);return l.replaceWith(u,d,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:$v,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;return i.parent.type!==this.type?!1:a?t.commands.command(({tr:o})=>{var l;const{pos:u}=i,d=i.start(),h=i.end(),g=r.doc.textBetween(d,h,`
`,`
`).split(`
`);let x=0,v=0;const b=u-d;for(let E=0;E<g.length;E+=1){if(v+g[E].length>=b){x=E;break}v+=g[E].length+1}const N=((l=g[x].match(/^ */))==null?void 0:l[0])||"",C=Math.min(N.length,n);if(C===0)return!0;let T=d;for(let E=0;E<x;E+=1)T+=g[E].length+1;return o.delete(T,T+C),u-T<=C&&o.setSelection(Be.create(o.doc,T)),!0}):t.commands.command(({tr:o})=>{const{from:l,to:u}=s,p=r.doc.textBetween(l,u,`
`,`
`).split(`
`).map(g=>{var x;const v=((x=g.match(/^ */))==null?void 0:x[0])||"",b=Math.min(v.length,n);return g.slice(b)}).join(`
`);return o.replaceWith(l,u,r.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const o=s.after();return o===void 0?!1:r.nodeAt(o)?t.commands.command(({tr:u})=>(u.setSelection(Ge.near(r.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[Q2({find:ude,type:this.type,getAttributes:t=>({language:t[1]})}),Q2({find:dde,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Dt({key:new tn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s?.mode;if(!n||!i)return!1;const{tr:a,schema:o}=t.state,l=o.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(Be.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),hde=Pn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),mde=Pn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Et(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=r.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&l&&a){const h=l.filter(p=>o.includes(p.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),pde=Pn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Et(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Q2({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),gde=Pn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Et(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Bce(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return ER(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:a,dispatch:o})=>{if(o){const{$to:l}=a.selection,u=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(Be.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection($e.create(a.doc,l.pos)):a.setSelection(Be.create(a.doc,l.pos));else{const d=i.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,h=d?.create();h&&(a.insert(u,h),a.setSelection(Be.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[WR({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xde=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,yde=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,bde=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,vde=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,wde=Co.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[du({find:xde,type:this.type}),du({find:bde,type:this.type})]},addPasteRules(){return[Pl({find:yde,type:this.type}),Pl({find:vde,type:this.type})]}});const Sde="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Nde="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ew="numeric",tw="ascii",nw="alpha",rf="asciinumeric",Rd="alphanumeric",rw="domain",YR="emoji",Cde="scheme",jde="slashscheme",Bv="whitespace";function kde(t,e){return t in e||(e[t]=[]),e[t]}function ol(t,e,n){e[ew]&&(e[rf]=!0,e[Rd]=!0),e[tw]&&(e[rf]=!0,e[nw]=!0),e[rf]&&(e[Rd]=!0),e[nw]&&(e[Rd]=!0),e[Rd]&&(e[rw]=!0),e[YR]&&(e[rw]=!0);for(const r in e){const s=kde(r,n);s.indexOf(t)<0&&s.push(t)}}function Tde(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Tr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Tr.groups={};Tr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Tr.groups;let s;return e&&e.j?s=e:(s=new Tr(e),n&&r&&ol(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Tr.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,o=s.go(t);if(o?(a=new Tr,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new Tr,i){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(Tde(a.t,r),n);ol(i,l,r)}else n&&ol(i,n,r);a.t=i}return s.j[t]=a,a}};const rt=(t,e,n,r,s)=>t.ta(e,n,r,s),Gt=(t,e,n,r,s)=>t.tr(e,n,r,s),XM=(t,e,n,r,s)=>t.ts(e,n,r,s),pe=(t,e,n,r,s)=>t.tt(e,n,r,s),Li="WORD",sw="UWORD",XR="ASCIINUMERICAL",QR="ALPHANUMERICAL",Vf="LOCALHOST",iw="TLD",aw="UTLD",Bp="SCHEME",Pc="SLASH_SCHEME",GN="NUM",ow="WS",YN="NL",sf="OPENBRACE",af="CLOSEBRACE",$g="OPENBRACKET",Bg="CLOSEBRACKET",Hg="OPENPAREN",Ug="CLOSEPAREN",Wg="OPENANGLEBRACKET",qg="CLOSEANGLEBRACKET",Kg="FULLWIDTHLEFTPAREN",Gg="FULLWIDTHRIGHTPAREN",Yg="LEFTCORNERBRACKET",Xg="RIGHTCORNERBRACKET",Qg="LEFTWHITECORNERBRACKET",Jg="RIGHTWHITECORNERBRACKET",Zg="FULLWIDTHLESSTHAN",e0="FULLWIDTHGREATERTHAN",t0="AMPERSAND",n0="APOSTROPHE",r0="ASTERISK",Ra="AT",s0="BACKSLASH",i0="BACKTICK",a0="CARET",$a="COLON",XN="COMMA",o0="DOLLAR",Gs="DOT",l0="EQUALS",QN="EXCLAMATION",cs="HYPHEN",of="PERCENT",c0="PIPE",u0="PLUS",d0="POUND",lf="QUERY",JN="QUOTE",JR="FULLWIDTHMIDDLEDOT",ZN="SEMI",Ys="SLASH",cf="TILDE",f0="UNDERSCORE",ZR="EMOJI",h0="SYM";var e8=Object.freeze({__proto__:null,ALPHANUMERICAL:QR,AMPERSAND:t0,APOSTROPHE:n0,ASCIINUMERICAL:XR,ASTERISK:r0,AT:Ra,BACKSLASH:s0,BACKTICK:i0,CARET:a0,CLOSEANGLEBRACKET:qg,CLOSEBRACE:af,CLOSEBRACKET:Bg,CLOSEPAREN:Ug,COLON:$a,COMMA:XN,DOLLAR:o0,DOT:Gs,EMOJI:ZR,EQUALS:l0,EXCLAMATION:QN,FULLWIDTHGREATERTHAN:e0,FULLWIDTHLEFTPAREN:Kg,FULLWIDTHLESSTHAN:Zg,FULLWIDTHMIDDLEDOT:JR,FULLWIDTHRIGHTPAREN:Gg,HYPHEN:cs,LEFTCORNERBRACKET:Yg,LEFTWHITECORNERBRACKET:Qg,LOCALHOST:Vf,NL:YN,NUM:GN,OPENANGLEBRACKET:Wg,OPENBRACE:sf,OPENBRACKET:$g,OPENPAREN:Hg,PERCENT:of,PIPE:c0,PLUS:u0,POUND:d0,QUERY:lf,QUOTE:JN,RIGHTCORNERBRACKET:Xg,RIGHTWHITECORNERBRACKET:Jg,SCHEME:Bp,SEMI:ZN,SLASH:Ys,SLASH_SCHEME:Pc,SYM:h0,TILDE:cf,TLD:iw,UNDERSCORE:f0,UTLD:aw,UWORD:sw,WORD:Li,WS:ow});const Oi=/[a-z]/,Nd=new RegExp("\\p{L}","u"),Hv=new RegExp("\\p{Emoji}","u"),Pi=/\d/,Uv=/\s/,QM="\r",Wv=`
`,Ede="",Mde="",qv="";let ap=null,op=null;function Ade(t=[]){const e={};Tr.groups=e;const n=new Tr;ap==null&&(ap=JM(Sde)),op==null&&(op=JM(Nde)),pe(n,"'",n0),pe(n,"{",sf),pe(n,"}",af),pe(n,"[",$g),pe(n,"]",Bg),pe(n,"(",Hg),pe(n,")",Ug),pe(n,"<",Wg),pe(n,">",qg),pe(n,"",Kg),pe(n,"",Gg),pe(n,"",Yg),pe(n,"",Xg),pe(n,"",Qg),pe(n,"",Jg),pe(n,"",Zg),pe(n,"",e0),pe(n,"&",t0),pe(n,"*",r0),pe(n,"@",Ra),pe(n,"`",i0),pe(n,"^",a0),pe(n,":",$a),pe(n,",",XN),pe(n,"$",o0),pe(n,".",Gs),pe(n,"=",l0),pe(n,"!",QN),pe(n,"-",cs),pe(n,"%",of),pe(n,"|",c0),pe(n,"+",u0),pe(n,"#",d0),pe(n,"?",lf),pe(n,'"',JN),pe(n,"/",Ys),pe(n,";",ZN),pe(n,"~",cf),pe(n,"_",f0),pe(n,"\\",s0),pe(n,"",JR);const r=Gt(n,Pi,GN,{[ew]:!0});Gt(r,Pi,r);const s=Gt(r,Oi,XR,{[rf]:!0}),i=Gt(r,Nd,QR,{[Rd]:!0}),a=Gt(n,Oi,Li,{[tw]:!0});Gt(a,Pi,s),Gt(a,Oi,a),Gt(s,Pi,s),Gt(s,Oi,s);const o=Gt(n,Nd,sw,{[nw]:!0});Gt(o,Oi),Gt(o,Pi,i),Gt(o,Nd,o),Gt(i,Pi,i),Gt(i,Oi),Gt(i,Nd,i);const l=pe(n,Wv,YN,{[Bv]:!0}),u=pe(n,QM,ow,{[Bv]:!0}),d=Gt(n,Uv,ow,{[Bv]:!0});pe(n,qv,d),pe(u,Wv,l),pe(u,qv,d),Gt(u,Uv,d),pe(d,QM),pe(d,Wv),Gt(d,Uv,d),pe(d,qv,d);const h=Gt(n,Hv,ZR,{[YR]:!0});pe(h,"#"),Gt(h,Hv,h),pe(h,Ede,h);const p=pe(h,Mde);pe(p,"#"),Gt(p,Hv,h);const g=[[Oi,a],[Pi,s]],x=[[Oi,null],[Nd,o],[Pi,i]];for(let v=0;v<ap.length;v++)Oa(n,ap[v],iw,Li,g);for(let v=0;v<op.length;v++)Oa(n,op[v],aw,sw,x);ol(iw,{tld:!0,ascii:!0},e),ol(aw,{utld:!0,alpha:!0},e),Oa(n,"file",Bp,Li,g),Oa(n,"mailto",Bp,Li,g),Oa(n,"http",Pc,Li,g),Oa(n,"https",Pc,Li,g),Oa(n,"ftp",Pc,Li,g),Oa(n,"ftps",Pc,Li,g),ol(Bp,{scheme:!0,ascii:!0},e),ol(Pc,{slashscheme:!0,ascii:!0},e),t=t.sort((v,b)=>v[0]>b[0]?1:-1);for(let v=0;v<t.length;v++){const b=t[v][0],N=t[v][1]?{[Cde]:!0}:{[jde]:!0};b.indexOf("-")>=0?N[rw]=!0:Oi.test(b)?Pi.test(b)?N[rf]=!0:N[tw]=!0:N[ew]=!0,XM(n,b,b,N)}return XM(n,"localhost",Vf,{ascii:!0}),n.jd=new Tr(h0),{start:n,tokens:Object.assign({groups:e},e8)}}function t8(t,e){const n=Ode(e.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let o=t,l=null,u=0,d=null,h=-1,p=-1;for(;a<r&&(l=o.go(n[a]));)o=l,o.accepts()?(h=0,p=0,d=o):h>=0&&(h+=n[a].length,p++),u+=n[a].length,i+=n[a].length,a++;i-=h,a-=p,u-=h,s.push({t:d.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function Ode(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Oa(t,e,n,r,s){let i;const a=e.length;for(let o=0;o<a-1;o++){const l=e[o];t.j[l]?i=t.j[l]:(i=new Tr(r),i.jr=s.slice(),t.j[l]=i),t=i}return i=new Tr(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function JM(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const $f={defaultProtocol:"http",events:null,format:ZM,formatHref:ZM,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function eC(t,e=null){let n=Object.assign({},$f);t&&(n=Object.assign(n,t instanceof eC?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}eC.prototype={o:$f,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:$f[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function ZM(t){return t}function n8(t,e){this.t="token",this.v=t,this.tk=e}n8.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=$f.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},o=t.get("className",n,e),l=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return a.href=r,o&&(a.class=o),l&&(a.target=l),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:s,attributes:a,content:i,eventListeners:h}}};function Sx(t,e){class n extends n8{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const e6=Sx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),t6=Sx("text"),Pde=Sx("nl"),lp=Sx("url",{isLink:!0,toHref(t=$f.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Vf&&t[1].t===$a}}),as=t=>new Tr(t);function _de({groups:t}){const e=t.domain.concat([t0,r0,Ra,s0,i0,a0,o0,l0,cs,GN,of,c0,u0,d0,Ys,h0,cf,f0]),n=[n0,$a,XN,Gs,QN,of,lf,JN,ZN,Wg,qg,sf,af,Bg,$g,Hg,Ug,Kg,Gg,Yg,Xg,Qg,Jg,Zg,e0],r=[t0,n0,r0,s0,i0,a0,o0,l0,cs,sf,af,of,c0,u0,d0,lf,Ys,h0,cf,f0],s=as(),i=pe(s,cf);rt(i,r,i),rt(i,t.domain,i);const a=as(),o=as(),l=as();rt(s,t.domain,a),rt(s,t.scheme,o),rt(s,t.slashscheme,l),rt(a,r,i),rt(a,t.domain,a);const u=pe(a,Ra);pe(i,Ra,u),pe(o,Ra,u),pe(l,Ra,u);const d=pe(i,Gs);rt(d,r,i),rt(d,t.domain,i);const h=as();rt(u,t.domain,h),rt(h,t.domain,h);const p=pe(h,Gs);rt(p,t.domain,h);const g=as(e6);rt(p,t.tld,g),rt(p,t.utld,g),pe(u,Vf,g);const x=pe(h,cs);pe(x,cs,x),rt(x,t.domain,h),rt(g,t.domain,h),pe(g,Gs,p),pe(g,cs,x);const v=pe(g,$a);rt(v,t.numeric,e6);const b=pe(a,cs),w=pe(a,Gs);pe(b,cs,b),rt(b,t.domain,a),rt(w,r,i),rt(w,t.domain,a);const N=as(lp);rt(w,t.tld,N),rt(w,t.utld,N),rt(N,t.domain,a),rt(N,r,i),pe(N,Gs,w),pe(N,cs,b),pe(N,Ra,u);const C=pe(N,$a),T=as(lp);rt(C,t.numeric,T);const j=as(lp),E=as();rt(j,e,j),rt(j,n,E),rt(E,e,j),rt(E,n,E),pe(N,Ys,j),pe(T,Ys,j);const O=pe(o,$a),M=pe(l,$a),_=pe(M,Ys),D=pe(_,Ys);rt(o,t.domain,a),pe(o,Gs,w),pe(o,cs,b),rt(l,t.domain,a),pe(l,Gs,w),pe(l,cs,b),rt(O,t.domain,j),pe(O,Ys,j),pe(O,lf,j),rt(D,t.domain,j),rt(D,e,j),pe(D,Ys,j);const I=[[sf,af],[$g,Bg],[Hg,Ug],[Wg,qg],[Kg,Gg],[Yg,Xg],[Qg,Jg],[Zg,e0]];for(let F=0;F<I.length;F++){const[Y,G]=I[F],W=pe(j,Y);pe(E,Y,W),pe(W,G,j);const R=as(lp);rt(W,e,R);const V=as();rt(W,n),rt(R,e,R),rt(R,n,V),rt(V,e,R),rt(V,n,V),pe(R,G,j),pe(V,G,j)}return pe(s,Vf,N),pe(s,YN,Pde),{start:s,tokens:e8}}function Dde(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let o=t,l=null,u=null,d=0,h=null,p=-1;for(;s<r&&!(l=o.go(n[s].t));)a.push(n[s++]);for(;s<r&&(u=l||o.go(n[s].t));)l=null,o=u,o.accepts()?(p=0,h=o):p>=0&&p++,s++,d++;if(p<0)s-=d,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(Kv(t6,e,a)),a=[]),s-=p,d-=p;const g=h.t,x=n.slice(s-d,s);i.push(Kv(g,e,x))}}return a.length>0&&i.push(Kv(t6,e,a)),i}function Kv(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const Ide=typeof console<"u"&&console&&console.warn||(()=>{}),Lde="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ot={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Rde(){return Tr.groups={},Ot.scanner=null,Ot.parser=null,Ot.tokenQueue=[],Ot.pluginQueue=[],Ot.customSchemes=[],Ot.initialized=!1,Ot}function n6(t,e=!1){if(Ot.initialized&&Ide(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Lde}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ot.customSchemes.push([t,e])}function Fde(){Ot.scanner=Ade(Ot.customSchemes);for(let t=0;t<Ot.tokenQueue.length;t++)Ot.tokenQueue[t][1]({scanner:Ot.scanner});Ot.parser=_de(Ot.scanner.tokens);for(let t=0;t<Ot.pluginQueue.length;t++)Ot.pluginQueue[t][1]({scanner:Ot.scanner,parser:Ot.parser});return Ot.initialized=!0,Ot}function tC(t){return Ot.initialized||Fde(),Dde(Ot.parser.start,t,t8(Ot.scanner.start,t))}tC.scan=t8;function r8(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new eC(n),s=tC(t),i=[];for(let a=0;a<s.length;a++){const o=s[a];o.isLink&&(!e||o.t===e)&&r.check(o)&&i.push(o.toFormattedObject(r))}return i}var nC="[\0- -\u2029]",zde=new RegExp(nC),Vde=new RegExp(`${nC}$`),$de=new RegExp(nC,"g");function Bde(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Hde(t){return new Dt({key:new tn("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=e.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,o=bR(n.doc,[...e]);if(TR(o).forEach(({newRange:u})=>{const d=Ble(r.doc,u,g=>g.isTextblock);let h,p;if(d.length>1)h=d[0],p=r.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(d.length){const g=r.doc.textBetween(u.from,u.to," "," ");if(!Vde.test(g))return;h=d[0],p=r.doc.textBetween(h.pos,u.to,void 0," ")}if(h&&p){const g=p.split(zde).filter(Boolean);if(g.length<=0)return!1;const x=g[g.length-1],v=h.pos+p.lastIndexOf(x);if(!x)return!1;const b=tC(x).map(w=>w.toObject(t.defaultProtocol));if(!Bde(b))return!1;b.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{HN(w.from,w.to,r.doc).some(N=>N.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function Ude(t){return new Dt({key:new tn("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let h=r.target;const p=[];for(;h.nodeName!=="DIV";)p.push(h),h=h.parentNode;o=p.find(g=>g.nodeName==="A")}if(!o)return a;const l=kR(e.state,t.type.name),u=(s=o?.href)!=null?s:l.href,d=(i=o?.target)!=null?i:l.target;o&&u&&(window.open(u,d),a=!0)}return a}}})}function Wde(t){return new Dt({key:new tn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:a}=i,{empty:o}=a;if(o)return!1;let l="";r.content.forEach(d=>{l+=d.textContent});const u=r8(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!u||s!==void 0&&!s(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function Uo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace($de,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var qde=Co.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){n6(t);return}n6(t.scheme,t.optionalSlashes)})},onDestroy(){Rde()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Uo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Uo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Uo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Et(this.options.HTMLAttributes,t),0]:["a",Et(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Uo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Uo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Pl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=r8(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Uo(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Hde({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Uo(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(Ude({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Wde({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Kde=Object.defineProperty,Gde=(t,e)=>{for(var n in e)Kde(t,n,{get:e[n],enumerable:!0})},Yde="listItem",r6="textStyle",s6=/^\s*([-+*])\s$/,s8=Pn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Et(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Yde,this.editor.getAttributes(r6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=fu({find:s6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fu({find:s6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(r6),editor:this.editor})),[t]}}),i8=Pn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Et(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),o=e.parseChildren(a);n.push(...o)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>KN(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Xde={};Gde(Xde,{findListItemPos:()=>bh,getNextListDepth:()=>rC,handleBackspace:()=>lw,handleDelete:()=>cw,hasListBefore:()=>a8,hasListItemAfter:()=>Qde,hasListItemBefore:()=>o8,listItemHasSubList:()=>l8,nextListIsDeeper:()=>c8,nextListIsHigher:()=>u8});var bh=(t,e)=>{const{$from:n}=e.selection,r=pn(t,e.schema);let s=null,i=n.depth,a=n.pos,o=null;for(;i>0&&o===null;)s=n.node(i),s.type===r?o=i:(i-=1,a-=1);return o===null?null:{$pos:e.doc.resolve(a),depth:o}},rC=(t,e)=>{const n=bh(t,e);if(!n)return!1;const[,r]=Qle(e,t,n.$pos.pos+4);return r},a8=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},o8=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},l8=(t,e,n)=>{if(!n)return!1;const r=pn(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},lw=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!go(t.state,e)&&a8(t.state,e,n)){const{$anchor:o}=t.state.selection,l=t.state.doc.resolve(o.before()-1),u=[];l.node().descendants((p,g)=>{p.type.name===e&&u.push({node:p,pos:g})});const d=u.at(-1);if(!d)return!1;const h=t.state.doc.resolve(l.start()+d.pos+1);return t.chain().cut({from:o.start()-1,to:o.end()+1},h.end()).joinForward().run()}if(!go(t.state,e)||!tce(t.state))return!1;const r=bh(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=l8(e,t.state,i);return o8(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},c8=(t,e)=>{const n=rC(t,e),r=bh(t,e);return!r||!n?!1:n>r.depth},u8=(t,e)=>{const n=rC(t,e),r=bh(t,e);return!r||!n?!1:n<r.depth},cw=(t,e)=>{if(!go(t.state,e)||!ece(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:c8(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():u8(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Qde=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},d8=wt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&cw(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&cw(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&lw(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&lw(t,n,r)&&(e=!0)}),e}}}}),i6=/^(\s*)(\d+)\.\s+(.*)$/,Jde=/^\s/;function Zde(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(i6);if(!i)break;const[,a,o,l]=i,u=a.length;let d=l,h=n+1;const p=[s];for(;h<t.length;){const g=t[h];if(g.match(i6))break;if(g.trim()==="")p.push(g),d+=`
`,h+=1;else if(g.match(Jde))p.push(g),d+=`
${g.slice(u+2)}`,h+=1;else break}e.push({indent:u,number:parseInt(o,10),content:d.trim(),raw:p.join(`
`)}),r=h,n=h}return[e,r]}function f8(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const a=t[i];if(a.indent===e){const o=a.content.split(`
`),l=((r=o[0])==null?void 0:r.trim())||"",u=[];l&&u.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const d=o.slice(1).join(`
`).trim();if(d){const g=n.blockTokens(d);u.push(...g)}let h=i+1;const p=[];for(;h<t.length&&t[h].indent>e;)p.push(t[h]),h+=1;if(p.length>0){const g=Math.min(...p.map(v=>v.indent)),x=f8(p,g,n);u.push({type:"list",ordered:!0,start:p[0].number,items:x,raw:p.map(v=>v.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:u}),i=h}else i+=1}return s}function efe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var tfe="listItem",a6="textStyle",o6=/^(\d+)\.\s$/,h8=Pn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Et(this.options.HTMLAttributes,n),0]:["ol",Et(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?efe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,a]=Zde(s);if(i.length===0)return;const o=f8(i,0,n);return o.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:o,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tfe,this.editor.getAttributes(a6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=fu({find:o6,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fu({find:o6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(a6)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),nfe=/^\s*(\[([( |x])?\])\s$/,rfe=Pn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Et(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return KN(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),u=d=>{var h,p;o.ariaLabel=((p=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:p.call(h,d,o.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),i.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:h}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=n();if(typeof g!="number")return!1;const x=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...x?.attrs,checked:h}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,h)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,h])=>{s.setAttribute(d,h)}),s.dataset.checked=t.attrs.checked,o.checked=t.attrs.checked,i.append(o,a),s.append(i,l),Object.entries(e).forEach(([d,h])=>{s.setAttribute(d,h)}),{dom:s,contentDOM:l,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[fu({find:nfe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),sfe=Pn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Et(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const a=J2(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(i)},s=J2(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,a)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});wt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(s8.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(i8.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(d8.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(h8.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(rfe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(sfe.configure(this.options.taskList)),t}});var ife=Pn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Et(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),afe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ofe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,lfe=Co.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Et(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[du({find:afe,type:this.type})]},addPasteRules(){return[Pl({find:ofe,type:this.type})]}}),cfe=Pn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),m8=Co.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Et(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),ufe=m8;function dfe(t={}){return new Dt({view(e){return new ffe(e,t)}})}class ffe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,o=i.height/s.offsetHeight;if(n){let h=e.nodeBefore,p=e.nodeAfter;if(h||p){let g=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(g){let x=g.getBoundingClientRect(),v=h?x.bottom:x.top;h&&p&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*o;r={left:x.left,right:x.right,top:v-b,bottom:v+b}}}}if(!r){let h=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:h.left-p,right:h.left+p,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,d=-pageYOffset;else{let h=l.getBoundingClientRect(),p=h.width/l.offsetWidth,g=h.height/l.offsetHeight;u=h.left-l.scrollLeft*p,d=h.top-l.scrollTop*g}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/o+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=dL(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Qt extends Ge{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Qt.valid(r)?new Qt(r):Ge.near(r)}content(){return Ce.empty}eq(e){return e instanceof Qt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Qt(e.resolve(n.pos))}getBookmark(){return new sC(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!hfe(e)||!mfe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Qt.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let o=e.node(a);if(n>0?e.indexAfter(a)<o.childCount:e.index(a)>0){i=o.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let l=e.doc.resolve(s);if(Qt.valid(l))return l}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!$e.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let o=e.doc.resolve(s);if(Qt.valid(o))return o}return null}}}Qt.prototype.visible=!1;Qt.findFrom=Qt.findGapCursorFrom;Ge.jsonID("gapcursor",Qt);class sC{constructor(e){this.pos=e}map(e){return new sC(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Qt.valid(n)?new Qt(n):Ge.near(n)}}function p8(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function hfe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||p8(s.type))return!0;if(s.inlineContent)return!1}}return!0}function mfe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||p8(s.type))return!0;if(s.inlineContent)return!1}}return!0}function pfe(){return new Dt({props:{decorations:bfe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Qt.valid(n)?new Qt(n):null},handleClick:xfe,handleKeyDown:gfe,handleDOMEvents:{beforeinput:yfe}}})}const gfe=IN({ArrowLeft:cp("horiz",-1),ArrowRight:cp("horiz",1),ArrowUp:cp("vert",-1),ArrowDown:cp("vert",1)});function cp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,o=e>0?a.$to:a.$from,l=a.empty;if(a instanceof Be){if(!i.endOfTextblock(n)||o.depth==0)return!1;l=!1,o=r.doc.resolve(e>0?o.after():o.before())}let u=Qt.findGapCursorFrom(o,e,l);return u?(s&&s(r.tr.setSelection(new Qt(u))),!0):!1}}function xfe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Qt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&$e.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Qt(r))),!0)}function yfe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Qt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=ce.empty;for(let a=r.length-1;a>=0;a--)s=ce.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new Ce(s,0,0));return i.setSelection(Be.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function bfe(t){if(!(t.selection instanceof Qt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",kt.create(t.doc,[En.widget(t.selection.head,e,{key:"gapcursor"})])}var m0=200,An=function(){};An.prototype.append=function(e){return e.length?(e=An.from(e),!this.length&&e||e.length<m0&&this.leafAppend(e)||this.length<m0&&e.leafPrepend(this)||this.appendInner(e)):this};An.prototype.prepend=function(e){return e.length?An.from(e).append(this):this};An.prototype.appendInner=function(e){return new vfe(this,e)};An.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?An.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};An.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};An.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};An.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};An.from=function(e){return e instanceof An?e:e&&e.length?new g8(e):An.empty};var g8=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,o){for(var l=i;l<a;l++)if(s(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,o){for(var l=i-1;l>=a;l--)if(s(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=m0)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=m0)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(An);An.empty=new g8([]);var vfe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var o=this.left.length;if(s<o&&this.left.forEachInner(r,s,Math.min(i,o),a)===!1||i>o&&this.right.forEachInner(r,Math.max(s-o,0),Math.min(this.length,i)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var o=this.left.length;if(s>o&&this.right.forEachInvertedInner(r,s-o,Math.max(i,o)-o,a+o)===!1||i<o&&this.left.forEachInvertedInner(r,Math.min(s,o),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(An);const wfe=500;class As{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,o,l,u=[],d=[];return this.items.forEach((h,p)=>{if(!h.step){s||(s=this.remapping(r,p+1),i=s.maps.length),i--,d.push(h);return}if(s){d.push(new Xs(h.map));let g=h.step.map(s.slice(i)),x;g&&a.maybeStep(g).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],u.push(new Xs(x,void 0,void 0,u.length+d.length))),i--,x&&s.appendMap(x,i)}else a.maybeStep(h.step);if(h.selection)return o=s?h.selection.map(s.slice(i)):h.selection,l=new As(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:o}}addTransform(e,n,r,s){let i=[],a=this.eventCount,o=this.items,l=!s&&o.length?o.get(o.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),p=new Xs(e.mapping.maps[d],h,n),g;(g=l&&l.merge(p))&&(p=g,d?i.pop():o=o.slice(0,o.length-1)),i.push(p),n&&(a++,n=void 0),s||(l=p)}let u=a-r.depth;return u>Nfe&&(o=Sfe(o,u),a-=u),new As(o.append(i),a)}remapping(e,n){let r=new Df;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new As(this.items.append(e.map(n=>new Xs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,o=this.eventCount;this.items.forEach(p=>{p.selection&&o--},s);let l=n;this.items.forEach(p=>{let g=i.getMirror(--l);if(g==null)return;a=Math.min(a,g);let x=i.maps[g];if(p.step){let v=e.steps[g].invert(e.docs[g]),b=p.selection&&p.selection.map(i.slice(l+1,g));b&&o++,r.push(new Xs(x,v,b))}else r.push(new Xs(x))},s);let u=[];for(let p=n;p<a;p++)u.push(new Xs(i.maps[p]));let d=this.items.slice(0,s).append(u).append(r),h=new As(d,o);return h.emptyItemCount()>wfe&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,o)=>{if(o>=e)s.push(a),a.selection&&i++;else if(a.step){let l=a.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let d=a.selection&&a.selection.map(n.slice(r));d&&i++;let h=new Xs(u.invert(),l,d),p,g=s.length-1;(p=s.length&&s[g].merge(h))?s[g]=p:s.push(h)}}else a.map&&r--},this.items.length,0),new As(An.from(s.reverse()),i)}}As.empty=new As(An.empty,0);function Sfe(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Xs{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Xs(n.getMap().invert(),n,this.selection)}}}class Fa{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const Nfe=20;function Cfe(t,e,n,r){let s=n.getMeta(yl),i;if(s)return s.historyState;n.getMeta(Tfe)&&(t=new Fa(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(yl))return a.getMeta(yl).redo?new Fa(t.done.addTransform(n,void 0,r,Hp(e)),t.undone,l6(n.mapping.maps),t.prevTime,t.prevComposition):new Fa(t.done,t.undone.addTransform(n,void 0,r,Hp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!jfe(n,t.prevRanges)),u=a?Gv(t.prevRanges,n.mapping):l6(n.mapping.maps);return new Fa(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Hp(e)),As.empty,u,n.time,o??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Fa(t.done.rebased(n,i),t.undone.rebased(n,i),Gv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Fa(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Gv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function jfe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function l6(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function Gv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function kfe(t,e,n){let r=Hp(e),s=yl.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),o=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),l=new Fa(n?o:i.remaining,n?i.remaining:o,null,0,-1);return i.transform.setSelection(a).setMeta(yl,{redo:n,historyState:l})}let Yv=!1,c6=null;function Hp(t){let e=t.plugins;if(c6!=e){Yv=!1,c6=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Yv=!0;break}}return Yv}const yl=new tn("history"),Tfe=new tn("closeHistory");function Efe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Dt({key:yl,state:{init(){return new Fa(As.empty,As.empty,null,0,-1)},apply(e,n,r){return Cfe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?y8:r=="historyRedo"?b8:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function x8(t,e){return(n,r)=>{let s=yl.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=kfe(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const y8=x8(!1,!0),b8=x8(!0,!0);wt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Dt({key:new tn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const a=i-s,o=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(o,l);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,l=i-r,u=o-l,d=o;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var Mfe=wt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dfe(this.options)]}});wt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Dt({key:new tn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return kt.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((l,u)=>{if(l.isText)return;if(!(s>=u&&s<=u+l.nodeSize-1))return!1;a+=1});let o=0;return t.descendants((l,u)=>{if(l.isText||!(s>=u&&s<=u+l.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";i.push(En.node(u,u+l.nodeSize,{class:this.options.className}))}),kt.create(t,i)}}})]}});var Afe=wt.create({name:"gapCursor",addProseMirrorPlugins(){return[pfe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=xt(Fe(t,"allowGapCursor",n)))!=null?e:null}}});wt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Dt({key:new tn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((a,o)=>{const l=r>=o&&r<=o+a.nodeSize,u=!a.isLeaf&&bx(a);if((l||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const h=En.node(o,o+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:l}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),kt.create(t,s)}}})]}});wt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Dt({key:new tn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||ER(n.selection)||t.view.dragging?null:kt.create(n.doc,[En.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function u6({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Ofe=wt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new tn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Dt({key:e,appendTransaction:(s,i,a)=>{const{doc:o,tr:l,schema:u}=a,d=e.getState(a),h=o.content.size,p=u.nodes[n];if(d)return l.insert(h,p.create())},state:{init:(s,i)=>{const a=i.tr.doc.lastChild;return!u6({node:a,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const a=s.doc.lastChild;return!u6({node:a,types:r})}}})]}}),Pfe=wt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>y8(t,e),redo:()=>({state:t,dispatch:e})=>b8(t,e)}},addProseMirrorPlugins(){return[Efe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),_fe=wt.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(ade.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(tde.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(s8.configure(this.options.bulletList)),this.options.code!==!1&&s.push(cde.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(fde.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(hde.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Mfe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Afe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(mde.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(pde.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Pfe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(gde.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(wde.configure(this.options.italic)),this.options.listItem!==!1&&s.push(i8.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(d8.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(qde.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(h8.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(ife.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(lfe.configure(this.options.strike)),this.options.text!==!1&&s.push(cfe.configure(this.options.text)),this.options.underline!==!1&&s.push(m8.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Ofe.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),Dfe=_fe,Ife=wt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Lfe=Ife,Rfe=20,v8=(t,e=0)=>{const n=[];return!t.children.length||e>Rfe||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...v8(r,e+1))}),n},Ffe=t=>{if(!t.children.length)return;const e=v8(t);e&&e.forEach(n=>{var r,s;const i=n.getAttribute("style"),a=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${a};${i}`)})},w8=Co.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Ffe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Et(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),zfe=wt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),o=i.slice(1).join(":").trim();if(a==="background-color")return o.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Vfe=wt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),o=i.slice(1).join(":").trim();if(a==="color")return o.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),$fe=wt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Bfe=wt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Hfe=wt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});wt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(zfe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Vfe.configure(this.options.color)),this.options.fontFamily!==!1&&t.push($fe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(Bfe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(Hfe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(w8.configure(this.options.textStyle)),t}});let uw,dw;if(typeof WeakMap<"u"){let t=new WeakMap;uw=e=>t.get(e),dw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;uw=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},dw=(r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s)}var Jt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let o=1;i<this.width&&this.map[e+o]==n;o++)i++;for(let o=1;a<this.height&&this.map[e+this.width*o]==n;o++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:o,top:l,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,l),right:Math.max(r,o),bottom:Math.max(i,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const o=(t+1)*this.width;for(;a<o&&this.map[a]<s;)a++;return a==o?i-1:this.map[a]}s=i}}static get(t){return uw(t)||dw(t,Ufe(t))}};function Ufe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Wfe(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const h=t.child(u);d++;for(let x=0;;x++){for(;s<r.length&&r[s]!=0;)s++;if(x==h.childCount)break;const v=h.child(x),{colspan:b,rowspan:w,colwidth:N}=v.attrs;for(let C=0;C<w;C++){if(C+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:w-C});break}const T=s+C*e;for(let j=0;j<b;j++){r[T+j]==0?r[T+j]=d:(i||(i=[])).push({type:"collision",row:u,pos:d,n:b-j});const E=N&&N[j];if(E){const O=(T+j)%e*2,M=a[O];M==null||M!=E&&a[O+1]==1?(a[O]=E,a[O+1]=1):M==E&&a[O+1]++}}}s+=b,d+=v.nodeSize}const p=(u+1)*e;let g=0;for(;s<p;)r[s++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:u,n:g}),d++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const o=new Jt(e,n,r,i);let l=!1;for(let u=0;!l&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(l=!0);return l&&qfe(o,a,t),o}function Wfe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const o=t.child(a);for(let l=0;l<o.childCount;l++){const u=o.child(l);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const o=s.child(a);i+=o.attrs.colspan,o.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function qfe(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let o=null;const l=a.attrs;for(let u=0;u<l.colspan;u++){const d=e[(s+u)%t.width*2];d!=null&&(!l.colwidth||l.colwidth[u]!=d)&&((o||(o=Kfe(l)))[u]=d)}o&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:o})}}function Kfe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function nr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}const Ba=new tn("selectingCells");function _l(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Gfe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Rs(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Nx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=_l(e.$head)||Yfe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Yfe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function fw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Xfe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function iC(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function S8(t,e,n){const r=t.node(-1),s=Jt.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}function Dl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function N8(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function Qfe(t,e,n){const r=nr(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}var Tt=class Ri extends Ge{constructor(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),o=e.node(0),l=s.cellsInRect(a).filter(d=>d!=n.pos-i);l.unshift(n.pos-i);const u=l.map(d=>{const h=r.nodeAt(d);if(!h)throw new RangeError(`No cell with offset ${d} found`);const p=i+d+1;return new gL(o.resolve(p),o.resolve(p+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(fw(r)&&fw(s)&&iC(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Ri.rowSelection(r,s):i&&this.isColSelection()?Ri.colSelection(r,s):new Ri(r,s)}return Be.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let l=s.top;l<s.bottom;l++){const u=[];for(let d=l*n.width+s.left,h=s.left;h<s.right;h++,d++){const p=n.map[d];if(i[p])continue;i[p]=!0;const g=n.findCell(p);let x=e.nodeAt(p);if(!x)throw new RangeError(`No cell with offset ${p} found`);const v=s.left-g.left,b=g.right-s.right;if(v>0||b>0){let w=x.attrs;if(v>0&&(w=Dl(w,0,v)),b>0&&(w=Dl(w,w.colspan-b,b)),g.left<s.left){if(x=x.type.createAndFill(w),!x)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else x=x.type.create(w,x.content)}if(g.top<s.top||g.bottom>s.bottom){const w={...x.attrs,rowspan:Math.min(g.bottom,s.bottom)-Math.max(g.top,s.top)};g.top<s.top?x=x.type.createAndFill(w):x=x.type.create(w,x.content)}u.push(x)}a.push(e.child(l).copy(ce.from(u)))}const o=this.isColSelection()&&this.isRowSelection()?e:a;return new Ce(ce.from(o),1,1)}replace(e,n=Ce.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:o,$to:l}=s[a],u=e.mapping.slice(r);e.replace(u.map(o.pos),u.map(l.pos),a?Ce.empty:n)}const i=Ge.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new Ce(ce.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Jt.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),o=s.findCell(n.pos-i),l=e.node(0);return a.top<=o.top?(a.top>0&&(e=l.resolve(i+s.map[a.left])),o.bottom<s.height&&(n=l.resolve(i+s.map[s.width*(s.height-1)+o.right-1]))):(o.top>0&&(n=l.resolve(i+s.map[o.left])),a.bottom<s.height&&(e=l.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new Ri(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,o=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,o)==n.width}eq(e){return e instanceof Ri&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),o=s.findCell(n.pos-i),l=e.node(0);return a.left<=o.left?(a.left>0&&(e=l.resolve(i+s.map[a.top*s.width])),o.right<s.width&&(n=l.resolve(i+s.map[s.width*(o.top+1)-1]))):(o.left>0&&(n=l.resolve(i+s.map[o.top*s.width])),a.right<s.width&&(e=l.resolve(i+s.map[s.width*(a.top+1)-1]))),new Ri(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ri(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Ri(e.resolve(n),e.resolve(r))}getBookmark(){return new Jfe(this.$anchorCell.pos,this.$headCell.pos)}};Tt.prototype.visible=!1;Ge.jsonID("cell",Tt);var Jfe=class C8{constructor(e,n){this.anchor=e,this.head=n}map(e){return new C8(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&iC(n,r)?new Tt(n,r):Ge.near(r,1)}};function Zfe(t){if(!(t.selection instanceof Tt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(En.node(r,r+n.nodeSize,{class:"selectedCell"}))}),kt.create(t.doc,e)}function ehe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function the({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function nhe(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof $e&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=Tt.create(s,r.from);else if(a=="row"){const o=s.resolve(r.from+1);i=Tt.rowSelection(o,o)}else if(!n){const o=Jt.get(r.node),l=r.from+1,u=l+o.map[o.width*o.height-1];i=Tt.create(s,l+1,u)}}else r instanceof Be&&ehe(r)?i=Be.create(s,r.from):r instanceof Be&&the(r)&&(i=Be.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}const rhe=new tn("fix-tables");function j8(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,o=0;a<i;a++){const l=e.child(a);for(let u=o,d=Math.min(s,a+3);u<d;u++)if(t.child(u)==l){o=u+1,n+=l.nodeSize;continue e}r(l,n),o<s&&t.child(o).sameMarkup(l)?j8(t.child(o),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function k8(t,e){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=she(t,s,i,n))};return e?e.doc!=t.doc&&j8(e.doc,t.doc,0,r):t.doc.descendants(r),n}function she(t,e,n,r){const s=Jt.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let l=0;l<s.height;l++)i.push(0);for(let l=0;l<s.problems.length;l++){const u=s.problems[l];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const h=d.attrs;for(let p=0;p<h.rowspan;p++)i[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Dl(h,h.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let a,o;for(let l=0;l<i.length;l++)i[l]&&(a==null&&(a=l),o=l);for(let l=0,u=n+1;l<s.height;l++){const d=e.child(l),h=u+d.nodeSize,p=i[l];if(p>0){let g="cell";d.firstChild&&(g=d.firstChild.type.spec.tableRole);const x=[];for(let b=0;b<p;b++){const w=nr(t.schema)[g].createAndFill();w&&x.push(w)}const v=(l==0||a==l-1)&&o==l?u+1:h-1;r.insert(r.mapping.map(v),x)}u=h}return r.setMeta(rhe,{fixTables:!0})}function xi(t){const e=t.selection,n=Nx(t),r=n.node(-1),s=n.start(-1),i=Jt.get(r);return{...e instanceof Tt?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function T8(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;Qfe(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const o=a*e.width+s;if(s>0&&s<e.width&&e.map[o-1]==e.map[o]){const l=e.map[o],u=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,N8(u.attrs,s-e.colCount(l))),a+=u.attrs.rowspan-1}else{const l=i==null?nr(r.type.schema).cell:r.nodeAt(e.map[o+i]).type,u=e.positionAt(a,s,r);t.insert(t.mapping.map(n+u),l.createAndFill())}}return t}function ihe(t,e){if(!Rs(t))return!1;if(e){const n=xi(t);e(T8(t.tr,n,n.left))}return!0}function ahe(t,e){if(!Rs(t))return!1;if(e){const n=xi(t);e(T8(t.tr,n,n.right))}return!0}function ohe(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const o=a*e.width+s,l=e.map[o],u=n.nodeAt(l),d=u.attrs;if(s>0&&e.map[o-1]==l||s<e.width-1&&e.map[o+1]==l)t.setNodeMarkup(t.mapping.slice(i).map(r+l),null,Dl(d,s-e.colCount(l)));else{const h=t.mapping.slice(i).map(r+l);t.delete(h,h+u.nodeSize)}a+=d.rowspan}}function lhe(t,e){if(!Rs(t))return!1;if(e){const n=xi(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;ohe(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Jt.get(i)}e(r)}return!0}function che(t,e,n){var r;const s=nr(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))===null||r===void 0?void 0:r.type)!=s)return!1;return!0}function E8(t,{map:e,tableStart:n,table:r},s){let i=n;for(let u=0;u<s;u++)i+=r.child(u).nodeSize;const a=[];let o=s>0?-1:0;che(e,r,s+o)&&(o=s==0||s==e.height?null:0);for(let u=0,d=e.width*s;u<e.width;u++,d++)if(s>0&&s<e.height&&e.map[d]==e.map[d-e.width]){const h=e.map[d],p=r.nodeAt(h).attrs;t.setNodeMarkup(n+h,null,{...p,rowspan:p.rowspan+1}),u+=p.colspan-1}else{var l;const h=o==null?nr(r.type.schema).cell:(l=r.nodeAt(e.map[d+o*e.width]))===null||l===void 0?void 0:l.type,p=h?.createAndFill();p&&a.push(p)}return t.insert(i,nr(r.type.schema).row.create(null,a)),t}function uhe(t,e){if(!Rs(t))return!1;if(e){const n=xi(t);e(E8(t.tr,n,n.top))}return!0}function dhe(t,e){if(!Rs(t))return!1;if(e){const n=xi(t);e(E8(t.tr,n,n.bottom))}return!0}function fhe(t,{map:e,table:n,tableStart:r},s){let i=0;for(let u=0;u<s;u++)i+=n.child(u).nodeSize;const a=i+n.child(s).nodeSize,o=t.mapping.maps.length;t.delete(i+r,a+r);const l=new Set;for(let u=0,d=s*e.width;u<e.width;u++,d++){const h=e.map[d];if(!l.has(h)){if(l.add(h),s>0&&h==e.map[d-e.width]){const p=n.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(o).map(h+r),null,{...p,rowspan:p.rowspan-1}),u+=p.colspan-1}else if(s<e.height&&h==e.map[d+e.width]){const p=n.nodeAt(h),g=p.attrs,x=p.type.create({...g,rowspan:p.attrs.rowspan-1},p.content),v=e.positionAt(s+1,u,n);t.insert(t.mapping.slice(o).map(r+v),x),u+=g.colspan-1}}}}function hhe(t,e){if(!Rs(t))return!1;if(e){const n=xi(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;fhe(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Jt.get(n.table)}e(r)}return!0}function d6(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function mhe({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,o=s+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[o]==n[o+1])return!0;i+=t,o+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}function f6(t,e){const n=t.selection;if(!(n instanceof Tt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=xi(t),{map:s}=r;if(mhe(s,r))return!1;if(e){const i=t.tr,a={};let o=ce.empty,l,u;for(let d=r.top;d<r.bottom;d++)for(let h=r.left;h<r.right;h++){const p=s.map[d*s.width+h],g=r.table.nodeAt(p);if(!(a[p]||!g))if(a[p]=!0,l==null)l=p,u=g;else{d6(g)||(o=o.append(g.content));const x=i.mapping.map(p+r.tableStart);i.delete(x,x+g.nodeSize)}}if(l==null||u==null)return!0;if(i.setNodeMarkup(l+r.tableStart,null,{...N8(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),o.size>0){const d=l+1+u.content.size,h=d6(u)?l+1:d;i.replaceWith(h+r.tableStart,d+r.tableStart,o)}i.setSelection(new Tt(i.doc.resolve(l+r.tableStart))),e(i)}return!0}function h6(t,e){const n=nr(t.schema);return phe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function phe(t){return(e,n)=>{const r=e.selection;let s,i;if(r instanceof Tt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{var a;if(s=Gfe(r.$from),!s)return!1;i=(a=_l(r.$from))===null||a===void 0?void 0:a.pos}if(s==null||i==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let o=s.attrs;const l=[],u=o.colwidth;o.rowspan>1&&(o={...o,rowspan:1}),o.colspan>1&&(o={...o,colspan:1});const d=xi(e),h=e.tr;for(let g=0;g<d.right-d.left;g++)l.push(u?{...o,colwidth:u&&u[g]?[u[g]]:null}:o);let p;for(let g=d.top;g<d.bottom;g++){let x=d.map.positionAt(g,d.left,d.table);g==d.top&&(x+=s.nodeSize);for(let v=d.left,b=0;v<d.right;v++,b++)v==d.left&&g==d.top||h.insert(p=h.mapping.map(x+d.tableStart,1),t({node:s,row:g,col:v}).createAndFill(l[b]))}h.setNodeMarkup(i,t({node:s,row:d.top,col:d.left}),l[0]),r instanceof Tt&&h.setSelection(new Tt(h.doc.resolve(r.$anchorCell.pos),p?h.doc.resolve(p):void 0)),n(h)}return!0}}function ghe(t,e){return function(n,r){if(!Rs(n))return!1;const s=Nx(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof Tt?n.selection.forEachCell((a,o)=>{a.attrs[t]!==e&&i.setNodeMarkup(o,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function xhe(t){return function(e,n){if(!Rs(e))return!1;if(n){const r=nr(e.schema),s=xi(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),o=a.map(l=>s.table.nodeAt(l));for(let l=0;l<a.length;l++)o[l].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[l],r.cell,o[l].attrs);if(i.steps.length===0)for(let l=0;l<a.length;l++)i.setNodeMarkup(s.tableStart+a[l],r.header_cell,o[l].attrs);n(i)}return!0}}function m6(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function Bf(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?xhe(t):function(n,r){if(!Rs(n))return!1;if(r){const s=nr(n.schema),i=xi(n),a=n.tr,o=m6("row",i,s),l=m6("column",i,s),u=(t==="column"?o:t==="row"&&l)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:i.map.height}:t=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,h=t=="column"?l?s.cell:s.header_cell:t=="row"?o?s.cell:s.header_cell:s.cell;i.map.cellsInRect(d).forEach(p=>{const g=p+i.tableStart,x=a.doc.nodeAt(g);x&&a.setNodeMarkup(g,h,x.attrs)}),r(a)}return!0}}Bf("row",{useDeprecatedLogic:!0});Bf("column",{useDeprecatedLogic:!0});const yhe=Bf("cell",{useDeprecatedLogic:!0});function bhe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function p6(t){return function(e,n){if(!Rs(e))return!1;const r=bhe(Nx(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(Be.between(s,Xfe(s))).scrollIntoView())}return!0}}function vhe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function up(t,e){const n=t.selection;if(!(n instanceof Tt))return!1;if(e){const r=t.tr,s=nr(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new Ce(s,0,0))}),r.docChanged&&e(r)}return!0}function whe(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,o=[];if(i=="row")for(let l=0;l<e.childCount;l++){let u=e.child(l).content;const d=l?0:Math.max(0,n-1),h=l<e.childCount-1?0:Math.max(0,r-1);(d||h)&&(u=hw(nr(a).row,new Ce(u,d,h)).content),o.push(u)}else if(i=="cell"||i=="header_cell")o.push(n||r?hw(nr(a).row,new Ce(e,n,r)).content:e);else return null;return She(a,o)}function She(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:o,colspan:l}=i.child(a).attrs;for(let u=s;u<s+o;u++)n[u]=(n[u]||0)+l}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(ce.empty),n[s]<r){const i=nr(t).cell.createAndFill(),a=[];for(let o=n[s];o<r;o++)a.push(i);e[s]=e[s].append(ce.from(a))}return{height:e.length,width:r,rows:e}}function hw(t,e){const n=t.createAndFill();return new bN(n).replace(0,n.content.size,e).doc}function Nhe({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let o=0;o<n.length;o++){const l=n[o],u=[];for(let d=i[o]||0,h=0;d<r;h++){let p=l.child(h%l.childCount);d+p.attrs.colspan>r&&(p=p.type.createChecked(Dl(p.attrs,p.attrs.colspan,d+p.attrs.colspan-r),p.content)),u.push(p),d+=p.attrs.colspan;for(let g=1;g<p.attrs.rowspan;g++)i[o+g]=(i[o+g]||0)+p.attrs.colspan}a.push(ce.from(u))}n=a,t=r}if(e!=s){const i=[];for(let a=0,o=0;a<s;a++,o++){const l=[],u=n[o%e];for(let d=0;d<u.childCount;d++){let h=u.child(d);a+h.attrs.rowspan>s&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,s-h.attrs.rowspan)},h.content)),l.push(h)}i.push(ce.from(l))}n=i,e=s}return{width:t,height:e,rows:n}}function Che(t,e,n,r,s,i,a){const o=t.doc.type.schema,l=nr(o);let u,d;if(s>e.width)for(let h=0,p=0;h<e.height;h++){const g=n.child(h);p+=g.nodeSize;const x=[];let v;g.lastChild==null||g.lastChild.type==l.cell?v=u||(u=l.cell.createAndFill()):v=d||(d=l.header_cell.createAndFill());for(let b=e.width;b<s;b++)x.push(v);t.insert(t.mapping.slice(a).map(p-1+r),x)}if(i>e.height){const h=[];for(let x=0,v=(e.height-1)*e.width;x<Math.max(e.width,s);x++){const b=x>=e.width?!1:n.nodeAt(e.map[v+x]).type==l.header_cell;h.push(b?d||(d=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const p=l.row.create(null,ce.from(h)),g=[];for(let x=e.height;x<i;x++)g.push(p);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),g)}return!!(u||d)}function g6(t,e,n,r,s,i,a,o){if(a==0||a==e.height)return!1;let l=!1;for(let u=s;u<i;u++){const d=a*e.width+u,h=e.map[d];if(e.map[d-e.width]==h){l=!0;const p=n.nodeAt(h),{top:g,left:x}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(o).map(h+r),null,{...p.attrs,rowspan:a-g}),t.insert(t.mapping.slice(o).map(e.positionAt(a,x,n)),p.type.createAndFill({...p.attrs,rowspan:g+p.attrs.rowspan-a})),u+=p.attrs.colspan-1}}return l}function x6(t,e,n,r,s,i,a,o){if(a==0||a==e.width)return!1;let l=!1;for(let u=s;u<i;u++){const d=u*e.width+a,h=e.map[d];if(e.map[d-1]==h){l=!0;const p=n.nodeAt(h),g=e.colCount(h),x=t.mapping.slice(o).map(h+r);t.setNodeMarkup(x,null,Dl(p.attrs,a-g,p.attrs.colspan-(a-g))),t.insert(x+p.nodeSize,p.type.createAndFill(Dl(p.attrs,0,a-g))),u+=p.attrs.rowspan-1}}return l}function y6(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=Jt.get(i);const{top:o,left:l}=r,u=l+s.width,d=o+s.height,h=t.tr;let p=0;function g(){if(i=n?h.doc.nodeAt(n-1):h.doc,!i)throw new Error("No table found");a=Jt.get(i),p=h.mapping.maps.length}Che(h,a,i,n,u,d,p)&&g(),g6(h,a,i,n,l,u,o,p)&&g(),g6(h,a,i,n,l,u,d,p)&&g(),x6(h,a,i,n,o,d,l,p)&&g(),x6(h,a,i,n,o,d,u,p)&&g();for(let x=o;x<d;x++){const v=a.positionAt(x,l,i),b=a.positionAt(x,u,i);h.replace(h.mapping.slice(p).map(v+n),h.mapping.slice(p).map(b+n),new Ce(s.rows[x-o],0,0))}g(),h.setSelection(new Tt(h.doc.resolve(n+a.positionAt(o,l,i)),h.doc.resolve(n+a.positionAt(d-1,u-1,i)))),e(h)}const jhe=IN({ArrowLeft:dp("horiz",-1),ArrowRight:dp("horiz",1),ArrowUp:dp("vert",-1),ArrowDown:dp("vert",1),"Shift-ArrowLeft":fp("horiz",-1),"Shift-ArrowRight":fp("horiz",1),"Shift-ArrowUp":fp("vert",-1),"Shift-ArrowDown":fp("vert",1),Backspace:up,"Mod-Backspace":up,Delete:up,"Mod-Delete":up});function Up(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function dp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof Tt)return Up(n,r,Ge.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=M8(s,t,e);if(a==null)return!1;if(t=="horiz")return Up(n,r,Ge.near(n.doc.resolve(i.head+e),e));{const o=n.doc.resolve(a),l=S8(o,t,e);let u;return l?u=Ge.near(l,1):e<0?u=Ge.near(n.doc.resolve(o.before(-1)),-1):u=Ge.near(n.doc.resolve(o.after(-1)),1),Up(n,r,u)}}}function fp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof Tt)a=i;else{const l=M8(s,t,e);if(l==null)return!1;a=new Tt(n.doc.resolve(l))}const o=S8(a.$headCell,t,e);return o?Up(n,r,new Tt(a.$anchorCell,o)):!1}}function khe(t,e){const n=t.state.doc,r=_l(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Tt(r))),!0):!1}function The(t,e,n){if(!Rs(t.state))return!1;let r=whe(n);const s=t.state.selection;if(s instanceof Tt){r||(r={width:1,height:1,rows:[ce.from(hw(nr(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),o=Jt.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=Nhe(r,o.right-o.left,o.bottom-o.top),y6(t.state,t.dispatch,a,o,r),!0}else if(r){const i=Nx(t.state),a=i.start(-1);return y6(t.state,t.dispatch,a,Jt.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function Ehe(t,e){var n;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=b6(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof Tt)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=_l(t.state.selection.$anchor))!=null&&((n=Xv(t,e))===null||n===void 0?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(l,u){let d=Xv(t,u);const h=Ba.getState(t.state)==null;if(!d||!iC(l,d))if(h)d=l;else return;const p=new Tt(l,d);if(h||!t.state.selection.eq(p)){const g=t.state.tr.setSelection(p);h&&g.setMeta(Ba,l.pos),t.dispatch(g)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",o),Ba.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ba,-1))}function o(l){const u=l,d=Ba.getState(t.state);let h;if(d!=null)h=t.state.doc.resolve(d);else if(b6(t,u.target)!=r&&(h=Xv(t,e),!h))return a();h&&i(h,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",o)}function M8(t,e,n){if(!(t.state.selection instanceof Be))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(s),o=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(o)?a:null}}return null}function b6(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Xv(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;let{inside:r,pos:s}=n;return r>=0&&_l(t.state.doc.resolve(r))||_l(t.state.doc.resolve(s))}var Mhe=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),mw(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,mw(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function mw(t,e,n,r,s,i){let a=0,o=!0,l=e.firstChild;const u=t.firstChild;if(u){for(let h=0,p=0;h<u.childCount;h++){const{colspan:g,colwidth:x}=u.child(h).attrs;for(let v=0;v<g;v++,p++){const b=s==p?i:x&&x[v],w=b?b+"px":"";if(a+=b||r,b||(o=!1),l)l.style.width!=w&&(l.style.width=w),l=l.nextSibling;else{const N=document.createElement("col");N.style.width=w,e.appendChild(N)}}}for(;l;){var d;const h=l.nextSibling;(d=l.parentNode)===null||d===void 0||d.removeChild(l),l=h}o?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const Ur=new tn("tableColumnResizing");function Ahe({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Mhe,lastColumnResizable:s=!0}={}){const i=new Dt({key:Ur,state:{init(a,o){var l;const u=(l=i.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,d=nr(o.schema).table.name;return r&&u&&(u[d]=(h,p)=>new r(h,n,p)),new Ohe(-1,!1)},apply(a,o){return o.apply(a)}},props:{attributes:a=>{const o=Ur.getState(a);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,o)=>{Phe(a,o,t,s)},mouseleave:a=>{_he(a)},mousedown:(a,o)=>{Dhe(a,o,e,n)}},decorations:a=>{const o=Ur.getState(a);if(o&&o.activeHandle>-1)return zhe(a,o.activeHandle)},nodeViews:{}}});return i}var Ohe=class Wp{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Ur);if(r&&r.setHandle!=null)return new Wp(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Wp(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return fw(e.doc.resolve(s))||(s=-1),new Wp(s,n.dragging)}return n}};function Phe(t,e,n,r){if(!t.editable)return;const s=Ur.getState(t.state);if(s&&!s.dragging){const i=Lhe(e.target);let a=-1;if(i){const{left:o,right:l}=i.getBoundingClientRect();e.clientX-o<=n?a=v6(t,e,"left",n):l-e.clientX<=n&&(a=v6(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const o=t.state.doc.resolve(a),l=o.node(-1),u=Jt.get(l),d=o.start(-1);if(u.colCount(o.pos-d)+o.nodeAfter.attrs.colspan-1==u.width-1)return}A8(t,a)}}}function _he(t){if(!t.editable)return;const e=Ur.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&A8(t,-1)}function Dhe(t,e,n,r){var s;if(!t.editable)return!1;const i=(s=t.dom.ownerDocument.defaultView)!==null&&s!==void 0?s:window,a=Ur.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const o=t.state.doc.nodeAt(a.activeHandle),l=Ihe(t,a.activeHandle,o.attrs);t.dispatch(t.state.tr.setMeta(Ur,{setDragging:{startX:e.clientX,startWidth:l}}));function u(h){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",d);const p=Ur.getState(t.state);p?.dragging&&(Rhe(t,p.activeHandle,w6(p.dragging,h,n)),t.dispatch(t.state.tr.setMeta(Ur,{setDragging:null})))}function d(h){if(!h.which)return u(h);const p=Ur.getState(t.state);if(p&&p.dragging){const g=w6(p.dragging,h,n);S6(t,p.activeHandle,g,r)}}return S6(t,a.activeHandle,l,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",d),e.preventDefault(),!0}function Ihe(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let a=i.node.childNodes[i.offset].offsetWidth,o=n;if(r)for(let l=0;l<n;l++)r[l]&&(a-=r[l],o--);return a/o}function Lhe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function v6(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,o=_l(t.state.doc.resolve(a));if(!o)return-1;if(n=="right")return o.pos;const l=Jt.get(o.node(-1)),u=o.start(-1),d=l.map.indexOf(o.pos-u);return d%l.width==0?-1:u+l.map[d-1]}function w6(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function A8(t,e){t.dispatch(t.state.tr.setMeta(Ur,{setHandle:e}))}function Rhe(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=Jt.get(s),a=r.start(-1),o=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let u=0;u<i.height;u++){const d=u*i.width+o;if(u&&i.map[d]==i.map[d-i.width])continue;const h=i.map[d],p=s.nodeAt(h).attrs,g=p.colspan==1?0:o-i.colCount(h);if(p.colwidth&&p.colwidth[g]==n)continue;const x=p.colwidth?p.colwidth.slice():Fhe(p.colspan);x[g]=n,l.setNodeMarkup(a+h,null,{...p,colwidth:x})}l.docChanged&&t.dispatch(l)}function S6(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),o=Jt.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let l=t.domAtPos(s.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&mw(i,l.firstChild,l,r,o,n)}function Fhe(t){return Array(t).fill(0)}function zhe(t,e){const n=[],r=t.doc.resolve(e),s=r.node(-1);if(!s)return kt.empty;const i=Jt.get(s),a=r.start(-1),o=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<i.height;u++){const d=o+u*i.width;if((o==i.width-1||i.map[d]!=i.map[d+1])&&(u==0||i.map[d]!=i.map[d-i.width])){var l;const h=i.map[d],p=a+h+s.nodeAt(h).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",!((l=Ur.getState(t))===null||l===void 0)&&l.dragging&&n.push(En.node(a+h,a+h+s.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),n.push(En.widget(p,g))}}return kt.create(t.doc,n)}function Vhe({allowTableNodeSelection:t=!1}={}){return new Dt({key:Ba,state:{init(){return null},apply(e,n){const r=e.getMeta(Ba);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:Zfe,handleDOMEvents:{mousedown:Ehe},createSelectionBetween(e){return Ba.getState(e.state)!=null?e.state.selection:null},handleTripleClick:khe,handleKeyDown:jhe,handlePaste:The},appendTransaction(e,n,r){return nhe(r,k8(r,n),t)}})}var O8=Pn.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),s=r?r.split(",").map(i=>parseInt(i,10)):null;if(!s){const i=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&i&&i[a]){const o=i[a].getAttribute("width");return o?[parseInt(o,10)]:null}}return s}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Et(this.options.HTMLAttributes,t),0]}}),P8=Pn.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Et(this.options.HTMLAttributes,t),0]}}),_8=Pn.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Et(this.options.HTMLAttributes,t),0]}});function pw(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function N6(t,e,n,r,s,i){var a;let o=0,l=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let p=0,g=0;p<d.childCount;p+=1){const{colspan:x,colwidth:v}=d.child(p).attrs;for(let b=0;b<x;b+=1,g+=1){const w=s===g?i:v&&v[b],N=w?`${w}px`:"";if(o+=w||r,w||(l=!1),u){if(u.style.width!==N){const[C,T]=pw(r,w);u.style.setProperty(C,T)}u=u.nextSibling}else{const C=document.createElement("col"),[T,j]=pw(r,w);C.style.setProperty(T,j),e.appendChild(C)}}}for(;u;){const p=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=p}const h=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);l&&!h?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}var $he=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),N6(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,N6(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function Bhe(t,e,n,r){let s=0,i=!0;const a=[],o=t.firstChild;if(!o)return{};for(let h=0,p=0;h<o.childCount;h+=1){const{colspan:g,colwidth:x}=o.child(h).attrs;for(let v=0;v<g;v+=1,p+=1){const b=n===p?r:x&&x[v];s+=b||e,b||(i=!1);const[w,N]=pw(e,b);a.push(["col",{style:`${w}: ${N}`}])}}const l=i?`${s}px`:"",u=i?"":`${s}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:u}}function C6(t,e){return t.createAndFill()}function Hhe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function Uhe(t,e,n,r,s){const i=Hhe(t),a=[],o=[];for(let u=0;u<n;u+=1){const d=C6(i.cell);if(d&&o.push(d),r){const h=C6(i.header_cell);h&&a.push(h)}}const l=[];for(let u=0;u<e;u+=1)l.push(i.row.createChecked(null,r&&u===0?a:o));return i.table.createChecked(null,l)}function Whe(t){return t instanceof Tt}var hp=({editor:t})=>{const{selection:e}=t.state;if(!Whe(e))return!1;let n=0;const r=vR(e.ranges[0].$from,i=>i.type.name==="table");return r?.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},qhe="";function Khe(t){return(t||"").replace(/\s+/g," ").trim()}function Ghe(t,e,n={}){var r;const s=(r=n.cellLineSeparator)!=null?r:qhe;if(!t||!t.content||t.content.length===0)return"";const i=[];t.content.forEach(x=>{const v=[];x.content&&x.content.forEach(b=>{let w="";b.content&&Array.isArray(b.content)&&b.content.length>1?w=b.content.map(j=>e.renderChildren(j)).join(s):w=b.content?e.renderChildren(b.content):"";const N=Khe(w),C=b.type==="tableHeader";v.push({text:N,isHeader:C})}),i.push(v)});const a=i.reduce((x,v)=>Math.max(x,v.length),0);if(a===0)return"";const o=new Array(a).fill(0);i.forEach(x=>{var v;for(let b=0;b<a;b+=1){const N=(((v=x[b])==null?void 0:v.text)||"").length;N>o[b]&&(o[b]=N),o[b]<3&&(o[b]=3)}});const l=(x,v)=>x+" ".repeat(Math.max(0,v-x.length)),u=i[0],d=u.some(x=>x.isHeader);let h=`
`;const p=new Array(a).fill(0).map((x,v)=>d&&u[v]&&u[v].text||"");return h+=`| ${p.map((x,v)=>l(x,o[v])).join(" | ")} |
`,h+=`| ${o.map(x=>"-".repeat(Math.max(3,x))).join(" | ")} |
`,(d?i.slice(1):i).forEach(x=>{h+=`| ${new Array(a).fill(0).map((v,b)=>l(x[b]&&x[b].text||"",o[b])).join(" | ")} |
`}),h}var Yhe=Ghe,D8=Pn.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:$he,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=Bhe(t,this.options.cellMinWidth),i=e.style;function a(){return i||(r?`width: ${r}`:`min-width: ${s}`)}const o=["table",Et(this.options.HTMLAttributes,e,{style:a()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},o]:o},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(s=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const s=[];r.forEach(i=>{s.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},s))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>Yhe(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const a=Uhe(i.schema,t,e,n);if(s){const o=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Be.near(r.doc.resolve(o)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>ihe(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>ahe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>lhe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>uhe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>dhe(t,e),deleteRow:()=>({state:t,dispatch:e})=>hhe(t,e),deleteTable:()=>({state:t,dispatch:e})=>vhe(t,e),mergeCells:()=>({state:t,dispatch:e})=>f6(t,e),splitCell:()=>({state:t,dispatch:e})=>h6(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Bf("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Bf("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>yhe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>f6(t,e)?!0:h6(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>ghe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>p6(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>p6(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&k8(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Tt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:hp,"Mod-Backspace":hp,Delete:hp,"Mod-Delete":hp}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Ahe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Vhe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:xt(Fe(t,"tableRole",e))}}});wt.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(D8.configure(this.options.table)),this.options.tableCell!==!1&&t.push(O8.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(P8.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(_8.configure(this.options.tableRow)),t}});var Xhe=_8,Qhe=P8,Jhe=O8,Zhe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,eme=Pn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Et(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,i,a;const o=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",u=(a=(i=t.attrs)==null?void 0:i.title)!=null?a:"";return u?`![${l}](${o} "${u}")`:`![${l}](${o})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:a,editor:o})=>{const l=document.createElement("img");Object.entries(a).forEach(([h,p])=>{if(p!=null)switch(h){case"width":case"height":break;default:l.setAttribute(h,p);break}}),l.src=a.src;const u=new $ce({element:l,editor:o,node:s,getPos:i,onResize:(h,p)=>{l.style.width=`${h}px`,l.style.height=`${p}px`},onCommit:(h,p)=>{const g=i();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:h,height:p}).run()},onUpdate:(h,p,g)=>h.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),d=u.dom;return d.style.visibility="hidden",d.style.pointerEvents="none",l.onload=()=>{d.style.visibility="",d.style.pointerEvents=""},u}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[WR({find:Zhe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),tme=eme;const nme=({value:t,onChange:e})=>{const n=Xue({extensions:[Dfe.configure({heading:{levels:[1,2,3]}}),ufe,Lfe.configure({types:["heading","paragraph"]}),D8.configure({resizable:!0}),Xhe,Qhe,Jhe,tme,w8],content:t||"<p></p>",editorProps:{attributes:{class:"prose prose-2xl max-w-none text-gray-600 focus:outline-none min-h-[300px] overflow-auto p-4 border border-gray-300 rounded-md"}},onUpdate:({editor:s})=>{e(s.getHTML())}});if(!n)return null;const r=()=>{const s=window.prompt("Nhp URL hnh nh:");s&&n.chain().focus().setImage({src:s}).run()};return c.jsxs("div",{className:"border border-gray-300 rounded-md",children:[c.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border-b border-gray-300 bg-gray-50",children:[c.jsx("button",{type:"button",onClick:()=>{n.chain().focus().toggleHeading({level:1}).run()},className:`px-4 py-2 rounded hover:bg-gray-200 text-[2rem] font-bold ${n.isActive("heading",{level:1})?"bg-gray-300":""}`,children:"H1"}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-end text-[1.8rem] ${n.isActive("heading",{level:2})?"bg-gray-300":""}`,children:"H2"}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:3}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-[1.6rem] ${n.isActive("heading",{level:3})?"bg-gray-300":""}`,children:"H3"}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().setParagraph().run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold leading-none ${n.isActive("paragraph")?"bg-gray-300":""}`,children:"P"}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bold")?"bg-gray-300":""}`,children:c.jsx($,{icon:EK})}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("italic")?"bg-gray-300":""}`,children:c.jsx($,{icon:RK})}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("underline")?"bg-gray-300":""}`,children:c.jsx($,{icon:qK})}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("strike")?"bg-gray-300":""}`,children:c.jsx($,{icon:CK})}),c.jsx("div",{className:"w-px bg-gray-400 mx-1"}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bulletList")?"bg-gray-300":""}`,children:c.jsx($,{icon:XK})}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("orderedList")?"bg-gray-300":""}`,children:c.jsx($,{icon:FK})}),c.jsx("div",{className:"w-px bg-gray-400 mx-1"}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"left"})?"bg-gray-300":""}`,children:c.jsx($,{icon:vK})}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"center"})?"bg-gray-300":""}`,children:c.jsx($,{icon:OK})}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-300 ${n.isActive({textAlign:"right"})?"bg-gray-300":""}`,children:c.jsx($,{icon:jK})}),c.jsx("div",{className:"w-px bg-gray-400 mx-1"}),c.jsx("button",{type:"button",onClick:()=>n.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"p-2 rounded hover:bg-gray-200",children:c.jsx($,{icon:NK})}),c.jsx("button",{type:"button",onClick:r,className:"p-2 rounded hover:bg-gray-200",children:c.jsx($,{icon:AK})})]}),c.jsx(Hue,{editor:n})]})};function rme({openActionProduct:t,setOpenActionProduct:e,dataCategories:n,dataUpdate:r,refetch:s}){const{control:i,register:a,handleSubmit:o,watch:l,setValue:u,formState:{errors:d,isSubmitting:h},reset:p}=gi({defaultValues:{productName:"",price:null,description:"",mainImage:null,listImages:null,inventory:null,categoryId:void 0,variants:[]}}),{data:g,isLoading:x}=et({queryKey:["variantSize"],queryFn:Vse}),{data:v,isLoading:b}=et({queryKey:["variantColor"],queryFn:$se}),[w,N]=A.useState(null),[C,T]=A.useState([]),[j,E]=A.useState({open:!1,node:"add",data:null}),[O,M]=A.useState(!1),[_,D]=A.useState(!1),I=l("mainImage"),F=l("listImages"),Y=l("variants"),[G,W]=A.useState([]),[R,V]=A.useState([]),[z,q]=A.useState([]),[Q,B]=A.useState([]),[J,ne]=A.useState([]);A.useEffect(()=>{if(I&&I.length>0){const ae=I[0],fe=URL.createObjectURL(ae);return N(fe),()=>URL.revokeObjectURL(fe)}},[I]),A.useEffect(()=>{if(F&&F.length>0){const ae=Array.from(F).map(fe=>URL.createObjectURL(fe));return T(ae),()=>ae.forEach(fe=>URL.revokeObjectURL(fe))}},[F]),A.useEffect(()=>()=>{Q.forEach(ae=>URL.revokeObjectURL(ae.url))},[Q]),A.useEffect(()=>{if(t.open){if(t?.action==="edit"&&r){if(p({productName:r.productName||"",price:r.price||null,description:r.description||"",inventory:r.inventory||null,categoryId:r.category.id||void 0,variants:r.variants.map((ae,fe)=>({id:ae.id,sizeId:ae.variantSize.id||null,colorId:ae.variantColor.id||null,price:ae.price||null,inventory:ae.inventory||null,tempId:ae.id?`old-${ae.id}`:Date.now()+String(fe),isEdited:!1}))}),r.mainImage&&N(r.mainImage),r.listImageProduct?.length>0){const ae=r.listImageProduct;W(ae),V(ae.map(fe=>fe.id)),T(ae.map(fe=>fe.imageUrl))}}else p({productName:"",price:null,description:"",mainImage:null,listImages:null,inventory:null,categoryId:void 0,variants:[]}),N(null),T([]),W([]),V([]),q([]),B([]),ne([]);D(!0)}else D(!1)},[t,r,p]);const ie=ae=>{const fe=R.length;if(ae<fe){const ke=G[ae].id;V(xe=>xe.filter(He=>He!==ke)),q(xe=>[...xe,ke])}else{const ke=ae-fe;B(xe=>{const He=xe.filter((Ee,st)=>st!==ke);return xe[ke]&&URL.revokeObjectURL(xe[ke].url),He})}T(ke=>ke.filter((xe,He)=>He!==ae))},le=async ae=>{try{const fe=new FormData;if(fe.append("productName",ae.productName),ae.price&&fe.append("price",String(ae.price)),fe.append("description",ae.description),ae.categoryId&&fe.append("categoryId",String(ae.categoryId)??""),!ae.variants||ae.variants.length===0){ue.error("Vui lng chn t nht mt thuc tnh");return}for(let xe=0;xe<ae.variants.length;xe++){const He=ae.variants[xe];if(!He.sizeId||!He.colorId){ue.error(`Vui lng chn y  size v color cho thuc tnh th ${xe+1}`);return}}if(ae.variants&&ae.variants.length>0)if(t?.action==="add"){const xe=Y.map(He=>{const{tempId:Ee,...st}=He;return st});fe.append("variants",JSON.stringify(xe))}else{const xe=Y.filter(Ee=>!Ee.id).map(Ee=>({sizeId:Ee.sizeId,colorId:Ee.colorId,price:Ee.price,inventory:Ee.inventory})),He=Y.filter(Ee=>Ee.id&&Ee.isEdited).map(Ee=>({id:Ee.id,sizeId:Ee.sizeId,colorId:Ee.colorId,price:Ee.price,inventory:Ee.inventory}));fe.append("editedVariants",JSON.stringify(He)),fe.append("newVariants",JSON.stringify(xe)),fe.append("deletedVariantIds",JSON.stringify(J))}ae.mainImage&&ae.mainImage.length>0&&fe.append("mainImage",ae.mainImage[0]),t?.action==="edit"?(fe.append("keptListImageIds",JSON.stringify(R)),fe.append("deletedListImageIds",JSON.stringify(z)),Q.forEach(xe=>{fe.append("newImages",xe.file)})):ae.listImages&&Array.from(ae.listImages).forEach(xe=>{fe.append("listImages",xe)});const Ye=t?.action==="add"?"/api/v1/product/create":`/api/v1/product/update/${r.id}`;let ke=null;t?.action==="add"?ke=await Se.post(Ye,fe,{headers:{"Content-Type":"multipart/form-data"}}):ke=await Se.patch(Ye,fe,{headers:{"Content-Type":"multipart/form-data"}}),ke.status&&(ue.success(ke.message||`${t?.action==="add"?"Thm":"Cp nht"} sn phm thnh cng!`),t.action==="add"&&(e({open:!1,action:"add",id:void 0}),p()),await s())}catch(fe){console.log(fe),ue.error("C li xy ra. Vui lng th li!")}},be=ae=>{const fe=Y[ae];fe.id&&ne(Ye=>[...Ye,Number(fe.id)]),u("variants",Y.filter((Ye,ke)=>ke!==ae))},Ae=(ae,fe)=>{const Ye=fe.target.files?.[0];if(!Ye)return;const ke=URL.createObjectURL(Ye),xe=R.length;if(ae<xe){const He=R[ae];V(Ee=>Ee.filter(st=>st!==He)),q(Ee=>[...Ee,He]),B(Ee=>[...Ee,{file:Ye,url:ke}])}else{const He=ae-xe;B(Ee=>{const st=[...Ee];return console.log(st),URL.revokeObjectURL(st[He]?.url),st[He]={file:Ye,url:ke},st})}return T(He=>{const Ee=[...He];return Ee[ae]=ke,Ee}),()=>{Q.forEach(He=>URL.revokeObjectURL(He.url))}},Le=A.useMemo(()=>t?.action==="edit"?[...G.filter(ae=>R.includes(ae.id)).map(ae=>({type:"old",url:ae.imageUrl,id:ae.id})),...Q.map(ae=>({type:"new",url:ae.url}))]:C.map(ae=>({type:"new",url:ae})),[t,G,R,Q,C]);return!_&&t.open?c.jsx(yo,{}):c.jsxs("div",{className:"w-full rounded-[1rem] flex flex-col ",children:[c.jsx("h2",{className:`text-[2.5rem] ${t?.action==="add"?"text-green-700":"text-amber-700"} text-center font-bold mb-[2rem]`,children:t?.action==="add"?"Thm sn phm":"Chnh sa sn phm"}),c.jsx("form",{onSubmit:o(le),children:O?c.jsxs("div",{children:[c.jsx("label",{className:"text-green-600 text-[1.8rem]",children:"M t sn phm"}),c.jsx("div",{children:c.jsxs("button",{type:"button",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md my-[1rem] py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>{M(!1)},children:[c.jsx($,{icon:lo,className:"text-gray-500"}),c.jsx("span",{children:"Quay li"})]})}),c.jsx(oi,{name:"description",control:i,render:({field:ae})=>c.jsx(nme,{value:ae.value||"",onChange:ae.onChange})}),c.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:c.jsx("button",{className:"h-[3.2rem] w-[10rem] flex items-center justify-center text-white bg-green-500 rounded text-[1.4rem] hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",type:"button",onClick:()=>M(!1),children:"p dng"})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-[2rem]",children:[c.jsxs("div",{className:"w-[35%] text-center",children:[c.jsx("h4",{className:"font-bold",children:"Hnh nh sn phm"}),c.jsxs("div",{className:"my-[2rem]",children:[c.jsx("label",{className:"text-gray-600",children:"nh chnh"}),c.jsx("input",{type:"file",className:"hidden",id:"mainImage",accept:"image/*",...a("mainImage",{required:t?.action==="add"?"Vui lng chn nh chnh":!1})}),c.jsx("label",{htmlFor:"mainImage",className:"cursor-pointer w-[20rem] h-[20rem] mx-auto border-2 border-dashed border-gray-300 rounded-md flex flex-col gap-y-[1rem] items-center justify-center hover:bg-gray-50",children:w?c.jsx("img",{src:w,alt:"Main",className:"w-full h-full object-cover rounded-md"}):c.jsxs(c.Fragment,{children:[c.jsx($,{icon:ys,className:"text-[1.8rem] text-gray-400"}),c.jsx("span",{className:"text-gray-400",children:"Chn nh chnh"})]})}),d.mainImage&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.mainImage.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[1.4rem] text-gray-600 block mb-[.5rem]",children:"nh ph (ti a 4 nh)"}),c.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"listImages",onChange:ae=>{const fe=Array.from(ae.target.files??[]),Ye=4;if(t?.action==="edit"){const ke=R.length+Q.length,xe=Ye-ke;if(fe.length>xe){ue.error(`Ch c th thm ti a ${xe} nh na!`),ae.target.value="";return}const He=fe.map(Ee=>({file:Ee,url:URL.createObjectURL(Ee)}));B(Ee=>[...Ee,...He]),T(Ee=>[...Ee,...He.map(st=>st.url)])}else{if(fe.length>Ye){ue.error(`Ch c chn ti a ${Ye} nh ph!`);const ke=new DataTransfer;fe.slice(0,Ye).forEach(xe=>ke.items.add(xe)),ae.target.files=ke.files}u("listImages",ae.target.files,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})}}}),c.jsxs("label",{htmlFor:"listImages",className:"cursor-pointer w-full border-2 border-dashed border-gray-300 rounded-md flex gap-2.5 items-center justify-center py-[1rem] hover:bg-gray-50",children:[c.jsx($,{icon:ys,className:"text-gray-400"}),c.jsx("span",{className:"text-gray-400",children:"Chn nh ph"})]}),c.jsx("div",{className:"mt-[1rem] grid grid-cols-4 gap-[1rem]",children:Le.map((ae,fe)=>c.jsxs("label",{htmlFor:`image-${fe}`,className:"relative group",children:[c.jsx("img",{src:ae.url,alt:`image-${fe}`,className:"w-full h-[8rem] object-cover rounded-md border border-gray-300"}),c.jsx("input",{type:"file",id:`image-${fe}`,className:"hidden",onChange:Ye=>Ae(fe,Ye)}),c.jsx("button",{type:"button",onClick:()=>ie(fe),className:"absolute w-[2.5rem] h-[2.5rem] top-1 right-1 bg-white/80 rounded-full text-red-500 hover:bg-red-100 opacity-0 group-hover:opacity-100 transition",children:c.jsx($,{icon:Dr,className:"text-[1.4rem]"})})]},fe))})]})]}),c.jsxs("div",{className:"w-[65%] pl-[2rem] border-l border-l-gray-300",children:[c.jsx("h4",{className:"font-bold ",children:"Thng tin sn phm"}),c.jsxs("div",{className:"mt-[2rem]",children:[c.jsxs("label",{htmlFor:"productName",className:"text-[1.4rem] text-gray-600",children:["Tn sn phm ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"productName",placeholder:"Tn sn phm...",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 px-[1.5rem] focus:border-cyan-300 focus:border-1",...a("productName",{required:"Vui lng nhp tn sn phm",minLength:{value:3,message:"Tn sn phm phi c t nht 3 k t"}})}),d.productName&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.productName.message})]}),c.jsxs("div",{className:"mt-[2rem] flex items-center gap-[2rem]",children:[c.jsxs("div",{className:"w-full",children:[c.jsxs("label",{htmlFor:"price",className:"text-[1.4rem] text-gray-600",children:["Gi sn phm ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",id:"price",placeholder:"VD: 250000",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("price",{required:"Vui lng nhp gi sn phm",min:{value:0,message:"Gi sn phm phi ln hn 0"}})}),d.price&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.price.message})]}),c.jsxs("div",{className:"w-full",children:[c.jsxs("label",{htmlFor:"categoryId",className:"text-[1.4rem] text-gray-600",children:["Danh mc sn phm ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{id:"categoryId",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("categoryId",{required:"Vui lng chn danh mc sn phm"}),children:[c.jsx("option",{value:"",disabled:!0,children:"Chn danh mc sn phm"}),n.filter(ae=>ae.parentId===null&&ae.isActive).map(ae=>c.jsx(pN,{category:ae,allCategories:n,level:0},ae.id))]}),d.categoryId&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.categoryId.message})]})]}),c.jsxs("div",{className:"mt-[2rem]",children:[c.jsx("label",{htmlFor:"description",className:"text-[1.4rem] text-gray-600",children:"M t sn phm"}),c.jsxs("button",{type:"button",className:"flex items-center space-x-1 px-[2rem] py-[.6rem] rounded-md  bg-green-500 hover:bg-green-600 text-white  transition duration-300 cursor-pointer mt-[.5rem]",onClick:()=>M(!0),children:[c.jsx("span",{children:"M t"}),c.jsx($,{icon:FP})]})]}),c.jsxs("div",{className:"mt-[2rem] border-t border-gray-300 pt-[2rem]",children:[c.jsx("label",{className:"text-[1.6rem] font-bold block mb-[1rem]",children:"Thuc tnh sn phm (tu chn)"}),c.jsx("button",{type:"button",className:"mb-[1rem] text-white bg-green-500 px-[1rem] py-[.5rem] rounded hover:bg-green-600",onClick:()=>E({open:!0,node:"add",data:null}),children:"+ Thm thuc tnh"})]}),c.jsx("div",{className:`flex flex-col divide-y ${Y.length>0?"divide-gray-300 border border-gray-300":""} rounded-xl`,children:Y?.map((ae,fe)=>{const Ye=g?.find(xe=>xe.id===ae.sizeId),ke=v?.find(xe=>xe.id===ae.colorId);return c.jsxs("div",{className:"relative flex items-center px-[2rem] py-[1rem] hover:bg-gray-50",children:[c.jsxs("div",{className:"w-[20rem] flex flex-col gap-[1rem]",children:[c.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[c.jsx("span",{children:"Size: "}),c.jsx("span",{className:"block px-[1.5rem] py-[.4rem] bg-blue-200 rounded-md font-bold text-blue-800",children:Ye?.name})]}),c.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[c.jsx("span",{children:"Mu: "}),c.jsx("span",{className:"block w-[2rem] h-[2rem] rounded-full border-[.2rem] border-gray-300",style:{background:ke?.hexCode}}),c.jsx("span",{children:ke?.name})]})]}),c.jsxs("div",{className:"flex flex-col gap-[1rem]",children:[c.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[c.jsx("span",{children:"Gi: "}),c.jsx("span",{className:"text-amber-800 px-[1.5rem] py-[.4rem] bg-amber-100 rounded-md",children:ae.price?Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(ae.price)):"Khng"})]}),c.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[c.jsx("span",{children:"Kho: "}),c.jsx("span",{className:"text-green-800 px-[1.5rem] py-[.4rem] bg-green-100 rounded-md",children:ae.inventory})]})]}),c.jsx("div",{className:"absolute right-[6.5rem] w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-amber-100 hover:bg-amber-200 hover-linear cursor-pointer",onClick:()=>E({open:!0,node:"edit",data:ae}),children:c.jsx($,{icon:Vl,className:"text-[1.4rem] text-amber-600"})}),c.jsx("div",{className:"absolute right-[2rem]  w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-red-100 hover:bg-red-200 hover-linear cursor-pointer",onClick:()=>be(fe),children:c.jsx($,{icon:Su,className:"text-red-600 text-[1.4rem]"})})]},ae.id??ae.tempId??fe)})})]})]}),c.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[c.jsxs("button",{className:"flex items-center space-x-2 px-[2.5rem] py-[.8rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem] cursor-pointer",type:"button",onClick:()=>e({open:!1,action:"add",id:void 0}),disabled:h,children:[c.jsx($,{icon:lo}),c.jsx("span",{children:"Quay li danh sch"})]}),c.jsx("button",{className:"px-[2.5rem] py-[.8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",type:"submit",disabled:h,children:h?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsx("span",{children:t?.action==="add"?"Thm":"Cp nht"})})]})]})}),c.jsx(zse,{openActionVariant:j,setOpenActionVariant:E,setValue:u,variants:Y,dataUpdate:j.node==="edit"?j.data:void 0,dataSize:g??[],isLoadingSize:x,dataColor:v??[],isLoadingColor:b})]})}const sme=async({queryKey:t})=>{const[e,n]=t,r={};return n.categoryName&&(r.categoryName=n.categoryName),n.isActive&&n.isActive!=="all"&&(r.isActive=n.isActive==="true"),(await Se.get("/api/v1/category/get-categories",{params:r})).data},Cx=async()=>(await Se.get("/api/v1/category/get-all-category")).data,ime=async t=>{const e=t.join("/");return(await Se.get("/api/v1/category/get-category-by-slugs",{params:{slugs:e}})).data};function ame(){const[t,e]=A.useState({open:!1,action:"add",id:void 0}),[n,r]=A.useState({open:!1,data:null}),[s,i]=A.useState(!1),[a,o]=A.useState({productName:"",price:null,categoryId:null}),[l,u]=A.useState({...a,page:1,limit:30}),{data:d,isLoading:h,isError:p,refetch:g}=et({queryKey:["products",l],queryFn:LI}),{data:x=[]}=et({queryKey:["getAllCategory"],queryFn:Cx}),v=d&&d.data||[],b=d?.totalPages||1,w=async C=>{if(!C||!C.id){ue.error("Khng c id ca sn phm!");return}i(!0);try{const T=await Se.delete(`/api/v1/product/toggle-hidden-product/${C.id}`);T.status&&(ue.success(T.status||`${C.isActive?"n":"Hin"} sn phm thnh cng`),await g(),i(!1),r({open:!1,data:null}))}catch(T){console.log(T),i(!1),ue.error(T.message)}},N=()=>{u(C=>({...C,categoryId:a.categoryId,productName:a.productName,price:a.price}))};return c.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[c.jsxs("div",{className:"sticky top-0 z-30 flex justify-between items-center pb-[1.5rem] border-b-[.1rem] border-b-gray-300",children:[c.jsx("h3",{className:"text-[2.5rem] font-semibold text-gray-600",children:"Sn phm"}),c.jsx("div",{children:c.jsxs("button",{className:"text-white flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer ",onClick:()=>e({action:"add",id:void 0,open:!0}),children:[c.jsx($,{icon:lh}),"Thm sn phm"]})})]}),c.jsxs("div",{className:" flex-1 overflow-auto hide-scrollbar",children:[t.open?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-[1rem]",children:c.jsxs("button",{type:"button",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>e({open:!1,action:"add",id:void 0}),children:[c.jsx($,{icon:lo,className:"text-gray-500"}),c.jsx("span",{children:"Quay li danh sch"})]})}),c.jsx(rme,{openActionProduct:t,setOpenActionProduct:e,dataCategories:x,dataUpdate:t?.action==="edit"?v?.find(C=>C.id===t.id):void 0,refetch:g})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-[3rem]",children:c.jsxs("div",{className:"w-full border-[.1rem] border-gray-300 mt-4 p-[2rem] flex items-end gap-[2rem]",children:[c.jsxs("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:[c.jsx("label",{htmlFor:"productName",className:"text-gray-700",children:"Tn sn phm"}),c.jsx("input",{type:"text",name:"productName",id:"productName",placeholder:"Nhp tm kim...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:C=>o(T=>({...T,[C.target.name]:C.target.value}))})]}),c.jsxs("div",{className:"w-[20rem] flex flex-col gap-[.5rem]",children:[c.jsx("label",{htmlFor:"price",className:"text-gray-700",children:"Gi sn phm"}),c.jsx("input",{type:"number",name:"price",id:"price",placeholder:"Nhp gi...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:C=>o(T=>({...T,[C.target.name]:C.target.value}))})]}),c.jsxs("div",{className:"w-[30rem] flex flex-col gap-[.5rem]",children:[c.jsx("label",{htmlFor:"categoryId",className:"text-gray-700",children:"Danh mc"}),c.jsx("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:C=>o(T=>({...T,[C.target.name]:C.target.value})),children:x?.filter(C=>C.isActive).map(C=>c.jsx(pN,{category:C,allCategories:x,level:0},C.id))})]}),c.jsxs("button",{className:"w-[15%] flex items-center justify-center gap-[1rem] px-[1.5rem] h-[4rem] bg-[var(--main-button)] text-white rounded-[.5rem] cursor-pointer hover:bg-[var(--main-button-hover)]",onClick:()=>N(),children:[c.jsx($,{icon:fi}),"Lc"]})]})}),c.jsx("div",{className:"mt-[2rem] border border-gray-300/50 rounded-md overflow-hidden",children:h?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500",children:"ang ti..."})]})}):p?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("p",{className:"text-red-500",children:"C li xy ra khi ti d liu!"})}):c.jsx(c.Fragment,{children:c.jsxs("table",{className:"min-w-full table-auto text-[1.4rem] rounded-lg shadow-sm overflow-hidden",children:[c.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),c.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Sn phm"}),c.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),c.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Danh mc"}),c.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Gi"}),c.jsx("th",{className:"px-6 py-4 text-center text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:v.length>0?v?.map((C,T)=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("td",{className:" px-6 py-4",children:T}),c.jsx("td",{className:" px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:C.mainImage,alt:"main image",className:"w-16 h-16 object-cover rounded-md"}),c.jsxs("div",{children:[c.jsx("h4",{className:"max-w-[25rem] font-medium text-gray-900 text-limit-1",children:C.productName}),c.jsxs("p",{className:"text-gray-500 text-[1.2rem]",children:["ID: ",C.id]})]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("p",{className:`py-1 ${C.isActive?"text-green-600 bg-green-100 rounded-md":"text-red-600 bg-red-100 rounded-md "} text-center`,children:C.isActive?"ang hot ng":"Dng hot ng"})}),c.jsx("td",{className:"px-6 py-4 text-gray-700",children:x?.find(j=>j.id===C.category?.id)?.categoryName??"Cha c danh mc"}),c.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C.price)}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex justify-center gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",onClick:()=>e({action:"edit",id:C.id,open:!0}),children:[c.jsx($,{icon:Vl,className:"w-4 h-4"}),c.jsx("span",{children:"Sa"})]}),c.jsx("button",{className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",onClick:()=>{r({open:!0,data:C})},children:c.jsxs("span",{children:[C.isActive?"n":"Hin"," sn phm"]})})]})})]},C.id)):c.jsx("tr",{"aria-colspan":6,children:c.jsx("td",{children:c.jsx("div",{children:"Khng c sn phm no"})})})})]})})})]}),c.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[c.jsx("button",{onClick:()=>u(C=>({...C,page:Math.max(C.page-1,1)})),disabled:l.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:zl,className:"text-gray-500"})}),Array.from({length:b},(C,T)=>T+1).filter(C=>Math.abs(C-l.page)<=2).map(C=>c.jsx("button",{onClick:()=>u(T=>({...T,page:C})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${l.page===C?"bg-blue-500 text-white":"bg-gray-200"}`,children:C},C)),c.jsx("button",{onClick:()=>u(C=>({...C,page:Math.min(C.page+1,b)})),disabled:l.page===b,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:qr,className:"text-gray-500"})})]})]}),n.open&&c.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:c.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[c.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>r({open:!1,data:null}),children:c.jsx($,{icon:On,className:"text-gray-500"})}),c.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn mun ",n.data?.isActive?"n":"hin"," sn phm ny?"]}),c.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${s?"mt-[1rem]":"mt-[3rem]"}`,children:[c.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${s?"cursor-not-allowed":""}`,disabled:s,onClick:()=>r({open:!1,data:null}),children:"Hy"}),c.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${s?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:s,onClick:()=>w(n.data),children:s?c.jsx("div",{className:"w-5 h-5 mx-auto border-2 border-white border-t-transparent rounded-full animate-spin"}):n.data?.isActive?"n":"Hin"})]})]})})]})}function ome({setOpenAction:t,openAction:e,refetch:n,dataUpdate:r,parents:s}){const[i,a]=A.useState({categoryName:"",image:void 0,parentId:null,sortOrder:0}),[o,l]=A.useState(!1),[u,d]=A.useState(null),[h,p]=A.useState(null),g=(w,N,C=0)=>{const T=N.filter(E=>E.parentId===w.id),j=C*24;return c.jsxs(ge.Fragment,{children:[c.jsxs("option",{value:w.id,style:{paddingLeft:`${j}px`},children:[" ".repeat(C),w.categoryName,!w.isActive&&" ( dng)"]}),T.filter(E=>E.isActive).map(E=>g(E,N,C+1))]},w.id)};A.useEffect(()=>{e?.action==="edit"?(a({categoryName:r.categoryName,image:r.image,parentId:r?.parentId,sortOrder:r?.sortOrder}),p(r.image)):(a({categoryName:"",image:void 0,parentId:null,sortOrder:0}),p(null))},[e?.action,r]);const x=w=>{const{name:N,value:C}=w.target;if(N==="image"){const T=w.target.files?.[0];if(!T)return;const j=URL.createObjectURL(T);p(j),a(E=>({...E,image:T}))}else a(T=>({...T,categoryName:C}))},v=async()=>{if(d(null),i.categoryName===""){d("Vui lng nhp tn danh mc!");return}if(!i.parentId&&!i.image){d("Vui lng chn hnh nh!");return}l(!0);try{const w=new FormData;w.append("categoryName",i.categoryName),i.parentId!==null&&i.parentId!==void 0&&w.append("parentId",String(i.parentId)),w.append("sortOrder",String(i.sortOrder)),i.image instanceof File&&w.append("image",i.image);const N=await Se.post("/api/v1/category/create",w,{headers:{"Content-Type":"multipart/form-data"}});N.status&&(a({categoryName:"",image:"",parentId:null,sortOrder:0}),await n(),ue.success(N.message||"Thm danh mc thnh cng!"),t(null),l(!1))}catch(w){l(!1),d(w.message)}},b=async()=>{try{l(!0);const w=new FormData;w.append("categoryName",i.categoryName),i.image instanceof File&&w.append("image",i.image);const N=await Se.patch(`/api/v1/category/edit/${r.id}`,w,{headers:{"Content-Type":"multipart/form-data"}});N.status?(ue.success(N.message||" lu thay i!"),await n(),t(null)):ue.error(N.message||"Li khng th cp nht thng tin!")}catch(w){ue.error(w.message||"Li server!")}finally{l(!1)}};return c.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 bg-[#3636362c] flex items-center justify-center z-[900]",children:c.jsxs("div",{className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200",onClick:()=>t(null),children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsx("h2",{className:"text-[2rem] text-gray-600 text-center font-bold mb-[2rem]",children:e?.action==="add"?"Thm danh mc":"Chnh sa danh mc"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"categoryName",className:"text-gray-600",children:"Tn danh mc"}),c.jsx("input",{type:"text",name:"categoryName",id:"categoryName",value:i.categoryName,placeholder:"Nhp tn...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",onChange:w=>x(w)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-gray-600",children:"Danh mc cha (ty chn)"}),c.jsxs("select",{value:i.parentId||"",onChange:w=>a(N=>({...N,parentId:w.target.value?Number(w.target.value):null})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600 pr-10 bg-white",children:[c.jsx("option",{value:"",children:"-- Khng c danh mc cha --"}),s.filter(w=>w.isActive).filter(w=>e?.action==="edit"?w.id!==r?.id:!0).filter(w=>!w.parentId).map(w=>g(w,s,0))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-gray-600",children:"Th t hin th"}),c.jsx("input",{type:"number",value:i.sortOrder,onChange:w=>a(N=>({...N,sortOrder:w.target.value===""?"":Number(w.target.value)})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",min:"0",placeholder:"S cng nh cng hin th trc"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"nh cho danh mc:"}),c.jsxs("label",{className:"w-[6.5rem] h-[6.5rem] mt-[.5rem] border border-dashed border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer",children:[h?c.jsx("img",{src:h,alt:"nh danh mc",className:"w-full h-full border-collapse border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer object-cover"}):c.jsx($,{icon:co,className:"text-gray-400"}),c.jsx("input",{id:"image",type:"file",name:"image",hidden:!0,onChange:w=>x(w)})]})]})]}),u&&c.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:u}),c.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[c.jsx("button",{className:`h-[3.2rem] w-[6rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem]  ${o?"cursor-not-allowed":"cursor-pointer"}`,onClick:()=>t(null),disabled:o,children:"Hy"}),c.jsx("button",{className:`h-[3.2rem] w-[8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] ${o?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,onClick:()=>{e?.action==="add"?v():b()},disabled:o,children:o?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.action==="add"?"Thm":"Lu"})]})]})})}function lme({setOpenToggleActive:t,openToggleActive:e,refetch:n}){const[r,s]=A.useState(!1),[i,a]=A.useState(null),o=async()=>{e?.id||a("Khng c id ca danh mc"),s(!0);try{let l=null;console.log(e),e?.title==="active"?l=await Se.patch(`/api/v1/category/active/${e?.id}`):l=await Se.patch(`/api/v1/category/inactive/${e?.id}`),l?.status&&(t(!1),s(!1),await n())}catch(l){s(!1),console.log(l),a(l.message)}};return c.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:c.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[c.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>t(!1),children:c.jsx($,{icon:On,className:"text-gray-500"})}),c.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn c chc mun"," ",e?.title==="active"?"kch hot":"dng hot ng"," ","danh mc ny?"]}),i&&c.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:i}),c.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${r?"mt-[1rem]":"mt-[4rem]"}`,children:[c.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${r?"cursor-not-allowed":""}`,onClick:()=>t(!1),disabled:r,children:"Hy"}),c.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${r?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:r,onClick:()=>o(),children:r?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.title==="active"?"C":"Dng"})]})]})})}function cme(){const[t,e]=A.useState(null),[n,r]=A.useState(null),[s,i]=A.useState(null),[a,o]=A.useState(new Set),[l,u]=A.useState({categoryName:"",isActive:"all"}),[d,h]=A.useState({categoryName:"",isActive:"all"}),{data:p=[],isLoading:g,isError:x,refetch:v}=et({queryKey:["categories",d],queryFn:sme}),b=(T,j)=>{u(E=>({...E,[T]:j}))},w=()=>{h(l)},N=T=>{o(j=>{const E=new Set(j);return E.has(T)?E.delete(T):E.add(T),E})},C=(T,j=0)=>{const E=p.filter(Y=>Y.parentId===T.id),O=E.length>0,M=a.has(T.id),_=E.filter(Y=>Y.isActive),D=E.filter(Y=>!Y.isActive),I=_.length,F=D.length;return c.jsxs("div",{children:[c.jsxs("div",{className:`
            group relative flex items-center justify-between 
            border border-gray-300
            bg-white hover:bg-gray-50 transition-all duration-200
            ${j===0?"my-3 rounded-lg shadow-sm":"my-3 ml-10 rounded-r-lg"}
          `,children:[c.jsxs("div",{className:"flex items-center gap-5 flex-1 px-6 py-5",children:[c.jsx("button",{onClick:()=>O&&N(T.id),className:`w-[2.6rem] h-[2.6rem] flex items-center justify-center rounded-full transition-all
                ${O?"hover:bg-gray-200 cursor-pointer":"opacity-0 cursor-default"}`,disabled:!O,children:c.jsx($,{icon:M?BK:LP,className:`text-gray-500 text-[1.4rem] transition-transform duration-200 ${M?"rotate-0":""}`})}),T.image?c.jsx("img",{src:T.image,alt:T.categoryName,className:"w-[5rem] h-[5rem] rounded-lg object-cover"}):c.jsx("div",{className:"w-[5rem] h-[5rem] rounded-lg bg-gray-100 flex items-center justify-center",children:c.jsx($,{icon:RP,className:"text-[2rem] text-gray-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-gray-800 text-[1.6rem]",children:T.categoryName}),c.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[c.jsx("span",{className:`px-3 py-1 text-[1.2rem] font-bold rounded-full ${T.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.isActive?"ang hot ng":"Dng hot ng"}),O&&c.jsxs("div",{className:"flex items-center gap-3",children:[I>0&&c.jsxs("span",{className:"text-[1.2rem] text-green-700 font-medium",children:[I," hot ng"]}),F>0&&c.jsxs("span",{className:"text-[1.2rem] text-red-600 font-medium",children:[F,"  dng"]})]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 pr-6",children:[c.jsxs("button",{onClick:()=>{r({action:"edit"}),i(T)},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-[1.4rem] font-medium transition flex items-center gap-2",children:[c.jsx($,{icon:Vl}),"Sa"]}),T.isActive?c.jsx("button",{onClick:()=>e({title:"inactive",id:T.id}),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-[1.4rem] font-medium transition",children:"Dng"}):c.jsx("button",{onClick:()=>e({title:"active",id:T.id}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-[1.4rem] font-medium transition",children:"Kch hot"})]})]}),M&&O&&c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-10 top-0 h-6 w-6 border-l-2 border-b-2 border-gray-300 rounded-bl-lg"}),c.jsx("div",{className:"ml-10",children:E.map(Y=>C(Y,j+1))})]})]},T.id)};return c.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] overflow-y-auto bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[c.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center pb-6 border-b border-gray-300",children:[c.jsx("h3",{className:"text-3xl font-bold text-gray-700",children:"Danh mc"}),c.jsxs("button",{onClick:()=>r({action:"add"}),className:"flex items-center gap-2 px-5 py-3 bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium transition",children:[c.jsx($,{icon:lh}),"Thm mi"]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-2xl font-semibold text-gray-600 mb-6",children:"Danh sch"}),c.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-6 flex items-end gap-6 mb-8",children:[c.jsxs("div",{className:"flex-1 max-w-md",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tn danh mc"}),c.jsx("input",{type:"text",value:l.categoryName,onChange:T=>b("categoryName",T.target.value),placeholder:"Nhp  tm kim...",className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 text-gray-600 rounded-lg focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{className:"w-[22rem]",children:[c.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Trng thi"}),c.jsxs("select",{value:String(l.isActive),onChange:T=>b("isActive",T.target.value),className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 rounded-lg focus:outline-none text-gray-600",children:[c.jsx("option",{value:"all",children:"Tt c trng thi"}),c.jsx("option",{value:"true",children:"ang hot ng"}),c.jsx("option",{value:"false",children:"Ngng hot ng"})]})]}),c.jsxs("button",{onClick:w,className:"h-[4rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium flex items-center justify-center gap-2 transition",children:[c.jsx($,{icon:fi}),"Lc"]})]}),g&&c.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border",children:[c.jsx($,{icon:lg,spin:!0,className:"text-5xl text-blue-500 mb-4"}),c.jsx("p",{className:"text-lg text-gray-600",children:"ang ti danh mc..."})]}),x&&!g&&c.jsxs("div",{className:"text-center py-16 bg-red-50 rounded-lg border border-red-200",children:[c.jsx($,{icon:oS,className:"text-5xl text-red-500 mb-4"}),c.jsx("p",{className:"text-xl text-red-600 font-medium mb-4",children:"Li ti d liu"}),c.jsx("button",{onClick:()=>v(),className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:"Th li"})]}),c.jsx("div",{className:"space-y-2",children:!g&&!x&&p.length>0?p.filter(T=>!T.parentId).map(T=>C(T)):!g&&c.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:c.jsx("p",{className:"text-2xl text-gray-500",children:"Cha c danh mc no"})})})]}),n&&c.jsx(ome,{setOpenAction:r,openAction:n,refetch:v,dataUpdate:n.action==="add"?void 0:s,parents:p}),t&&c.jsx(lme,{setOpenToggleActive:e,openToggleActive:t,refetch:v})]})}function ume(){const{user:t}=Wt(),[e,n]=A.useState(!1),r=ut(),[s,i]=A.useState(void 0),[a,o]=A.useState(!1),[l,u]=A.useState(null),[d,h]=A.useState({user:{avatar:void 0,username:"",email:"",phone:void 0},gender:"",birthday:""});A.useEffect(()=>{t&&h({user:{avatar:t.avatar,username:t.username,email:t.email,phone:t.phone},gender:t?.staff.gender||"",birthday:t?.staff.birthday||""})},[t]);const p=x=>{const{name:v,value:b}=x.target;if(v==="avatar"){const w=x.target.files;if(!w||w.length===0)return;const N=URL.createObjectURL(w[0]);i(N),h(C=>({...C,user:{...C.user,[v]:w[0]}}))}else h(v==="gender"||v==="birthday"?w=>({...w,[v]:b}):w=>({...w,user:{...w.user,[v]:b}}))},g=async()=>{o(!0);try{(!t||!t.id)&&r("/dashboard/login");const x=new FormData;console.log(d),d.user.avatar&&d.user.avatar instanceof File&&x.append("avatar",d.user.avatar),x.append("user[username]",d.user.username),x.append("user[email]",d.user.email),d.user.phone&&x.append("user[phone]",d.user.phone.toString()),d.gender&&x.append("gender",d.gender),d.birthday&&x.append("birthday",new Date(d.birthday).toISOString()),(await Se.patch(`/api/v1/staff/update/${t?.staff.id}`,x,{headers:{"Content-Type":"multipart/form-data"}})).status&&(n(!1),o(!1),u(null))}catch(x){u(x?.message),o(!1)}};return c.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[c.jsxs("div",{className:"pb-[2rem] border-b-[.1rem] border-b-gray-300 ",children:[c.jsx("h2",{className:"text-[2.5rem] font-bold text-gray-600",children:"H s ca ti"}),c.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"Qun l thng tin h s  bo mt ti khon"})]}),c.jsxs("div",{className:"flex gap-[1rem] mt-[3rem]",children:[c.jsxs("div",{className:"w-1/4 flex flex-col items-center",children:[c.jsx("img",{src:s||(typeof d.user.avatar=="string"?d.user.avatar:VP),alt:"Avatar",className:"w-[12rem] h-[12rem] rounded-full object-cover"}),c.jsxs("label",{htmlFor:"avatar",className:"block px-[2rem] py-[.5rem] rounded-sm border border-gray-300 cursor-pointer mt-[1rem] mb-[2rem]",children:[c.jsx("span",{className:"text-gray-600 text-[1.4rem]",onClick:()=>n(!0),children:d.user.avatar?"Thay i":"Thm hnh nh"}),c.jsx("input",{type:"file",id:"avatar",name:"avatar",hidden:!0,onChange:x=>p(x)})]}),c.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Dung lng ti a: 1MB"}),c.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"nh dng: .JPEG, .PNG"})]}),c.jsxs("div",{className:"flex-1 flex flex-col gap-[2rem] pl-[5rem] border-l-[.1rem] border-l-gray-300",children:[c.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-bold",children:"Thng tin c nhn"}),c.jsxs("div",{className:"flex items-center gap-[2rem]",children:[c.jsx("label",{htmlFor:"username",className:"text-gray-600 w-[14rem] text-end",children:"Tn ngi dng"}),c.jsx("input",{type:"text",value:d.user.username,id:"username",name:"username",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),c.jsxs("div",{className:"flex items-center gap-[2rem]",children:[c.jsx("label",{htmlFor:"email",className:"text-gray-600 w-[14rem] text-end",children:"Email"}),c.jsx("input",{type:"email",value:d.user.email,id:"email",name:"email",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),c.jsxs("div",{className:"flex items-center gap-[2rem]",children:[c.jsx("label",{htmlFor:"phone",className:"text-gray-600 w-[14rem] text-end",children:"S in thoi"}),c.jsx("input",{type:"text",value:e?d.user.phone:d.user.phone??"Cha cp nht",id:"phone",name:"phone",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),c.jsxs("div",{className:"flex items-center gap-[2rem]",children:[c.jsx("label",{htmlFor:"birthday",className:"text-gray-600 w-[14rem] text-end",children:"Ngy sinh"}),c.jsx("input",{type:"text",value:e?d.birthday:d.birthday??"Cha cp nht",id:"birthday",name:"birthday",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),c.jsxs("div",{className:"flex items-center gap-[2rem]",children:[c.jsx("label",{htmlFor:"gender",className:"text-gray-600 w-[14rem] text-end",children:"Gii tnh"}),c.jsx("input",{type:"text",value:e?d.gender??"Cha cp nht":(d&&(d.gender==="female"?"N":"Nam"))??"Cha cp nht",id:"gender",name:"gender",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),c.jsxs("div",{children:[l&&c.jsx("p",{className:"text-red-500 text-[1.4rem] mb-[.5rem]",children:l}),e?c.jsxs("div",{children:[c.jsx("button",{className:"w-[15rem] h-[4rem] rounded-[.5rem] bg-green-600 hover:bg-green-700 hover-linear text-white cursor-pointer",onClick:()=>g(),disabled:a,children:a?"ang x l...":"Lu cp nht"}),c.jsx("button",{className:"w-[10rem] h-[4rem] bg-gray-200 text-gray-600 hover:bg-gray-300 rounded-lg ml-[1rem] cursor-pointer hover-linear",onClick:()=>n(!1),disabled:a,children:"Hy"})]}):c.jsx("button",{className:"w-[20rem] h-[4rem] rounded-[.5rem] bg-[#1e90ff] hover:bg-[#0d87ff] text-white cursor-pointer",onClick:()=>n(!0),children:"Cp nht thng tin"})]})]})]})]})}const dme=async t=>{const e={};return t.searchOrder&&(e.searchOrder=t.searchOrder),t.status&&(e.status=t.status),e.limit=t.limit,e.page=t.page,await Se.get("/api/v1/orders/orders-for-admin",{params:e})},fme=async t=>(await Se.get("/api/v1/orders/get-orders",{params:t})).data,hme=async t=>(await Se.get(`/api/v1/orders/lookup/${t}`,{params:{orderCode:t}})).data;var Qv,j6;function mme(){if(j6)return Qv;j6=1;function t(w){this._maxSize=w,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(w){return this._values[w]},t.prototype.set=function(w,N){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=N};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,o=new t(a),l=new t(a),u=new t(a);Qv={Cache:t,split:h,normalizePath:d,setter:function(w){var N=d(w);return l.get(w)||l.set(w,function(T,j){for(var E=0,O=N.length,M=T;E<O-1;){var _=N[E];if(_==="__proto__"||_==="constructor"||_==="prototype")return T;M=M[N[E++]]}M[N[E]]=j})},getter:function(w,N){var C=d(w);return u.get(w)||u.set(w,function(j){for(var E=0,O=C.length;E<O;)if(j!=null||!N)j=j[C[E++]];else return;return j})},join:function(w){return w.reduce(function(N,C){return N+(g(C)||n.test(C)?"["+C+"]":(N?".":"")+C)},"")},forEach:function(w,N,C){p(Array.isArray(w)?w:h(w),N,C)}};function d(w){return o.get(w)||o.set(w,h(w).map(function(N){return N.replace(i,"$2")}))}function h(w){return w.match(e)||[""]}function p(w,N,C){var T=w.length,j,E,O,M;for(E=0;E<T;E++)j=w[E],j&&(b(j)&&(j='"'+j+'"'),M=g(j),O=!M&&/^\d+$/.test(j),N.call(C,j,M,O,E,w))}function g(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function x(w){return w.match(r)&&!w.match(n)}function v(w){return s.test(w)}function b(w){return!g(w)&&(x(w)||v(w))}return Qv}var bl=mme(),Jv,k6;function pme(){if(k6)return Jv;k6=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=d=>d.match(t)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,h)=>e(d).join(h).toLowerCase(),s=d=>e(d).reduce((h,p)=>`${h}${h?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return Jv={words:e,upperFirst:n,camelCase:s,pascalCase:d=>n(s(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>e(d).map(n).join(" ")},Jv}var Zv=pme(),mp={exports:{}},T6;function gme(){if(T6)return mp.exports;T6=1,mp.exports=function(s){return t(e(s),s)},mp.exports.array=t;function t(s,i){var a=s.length,o=new Array(a),l={},u=a,d=n(i),h=r(s);for(i.forEach(function(g){if(!h.has(g[0])||!h.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)l[u]||p(s[u],u,new Set);return o;function p(g,x,v){if(v.has(g)){var b;try{b=", node was:"+JSON.stringify(g)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!h.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!l[x]){l[x]=!0;var w=d.get(g)||new Set;if(w=Array.from(w),x=w.length){v.add(g);do{var N=w[--x];p(N,h.get(N),v)}while(x);v.delete(g)}o[--a]=g}}}function e(s){for(var i=new Set,a=0,o=s.length;a<o;a++){var l=s[a];i.add(l[0]),i.add(l[1])}return Array.from(i)}function n(s){for(var i=new Map,a=0,o=s.length;a<o;a++){var l=s[a];i.has(l[0])||i.set(l[0],new Set),i.has(l[1])||i.set(l[1],new Set),i.get(l[0]).add(l[1])}return i}function r(s){for(var i=new Map,a=0,o=s.length;a<o;a++)i.set(s[a],a);return i}return mp.exports}var xme=gme();const yme=O0(xme),bme=Object.prototype.toString,vme=Error.prototype.toString,wme=RegExp.prototype.toString,Sme=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Nme=/^Symbol\((.*)\)(.*)$/;function Cme(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function E6(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Cme(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Sme.call(t).replace(Nme,"Symbol($1)");const r=bme.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+vme.call(t)+"]":r==="RegExp"?wme.call(t):null}function Qi(t,e){let n=E6(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=E6(this[r],e);return i!==null?i:s},2)}function I8(t){return t==null?[]:[].concat(t)}let L8,R8,F8,jme=/\$\{\s*(\w+)\s*\}/g;L8=Symbol.toStringTag;class M6{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[L8]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],I8(e).forEach(i=>{if(lr.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}R8=Symbol.hasInstance;F8=Symbol.toStringTag;class lr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(jme,(s,i)=>Qi(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new M6(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[F8]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,lr)}static[R8](e){return M6[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Qs={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Qi(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Qi(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Qi(n,!0)}\``+s}},Nr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Da={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},gw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},kme={isValue:"${path} field must be ${value}"},qp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Kp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Tme={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Qi(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Qi(n,!0)}\``}return lr.formatError(Qs.notType,t)}};Object.assign(Object.create(null),{mixed:Qs,string:Nr,number:Da,date:gw,object:qp,array:Kp,boolean:kme,tuple:Tme});const jx=t=>t&&t.__isYupSchema__;class p0{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...o)=>o.every(l=>l===r);return new p0(e,(o,l)=>{var u;let d=a(...o)?s:i;return(u=d?.(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!jx(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const pp={context:"$",value:"."};class Ul{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===pp.context,this.isValue=this.key[0]===pp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?pp.context:this.isValue?pp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&bl.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ul.prototype.__isYupRef=!0;const Ki=t=>t==null;function kc(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},o,l){const{name:u,test:d,params:h,message:p,skipAbsent:g}=t;let{parent:x,context:v,abortEarly:b=a.spec.abortEarly,disableStackTrace:w=a.spec.disableStackTrace}=s;const N={value:n,parent:x,context:v};function C(I={}){const F=z8(Object.assign({value:n,originalValue:i,label:a.spec.label,path:I.path||r,spec:a.spec,disableStackTrace:I.disableStackTrace||w},h,I.params),N),Y=new lr(lr.formatError(I.message||p,F),n,F.path,I.type||u,F.disableStackTrace);return Y.params=F,Y}const T=b?o:l;let j={path:r,parent:x,type:u,from:s.from,createError:C,resolve(I){return V8(I,N)},options:s,originalValue:i,schema:a};const E=I=>{lr.isError(I)?T(I):I?l(null):T(C())},O=I=>{lr.isError(I)?T(I):o(I)};if(g&&Ki(n))return E(!0);let _;try{var D;if(_=d.call(j,n,j),typeof((D=_)==null?void 0:D.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(_).then(E,O)}}catch(I){O(I);return}E(_)}return e.OPTIONS=t,e}function z8(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=V8(t[n],e);return t}function V8(t,e){return Ul.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function Eme(t,e,n,r=n){let s,i,a;return e?(bl.forEach(e,(o,l,u)=>{let d=l?o.slice(1,o.length-1):o;t=t.resolve({context:r,parent:s,value:n});let h=t.type==="tuple",p=u?parseInt(d,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=h?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}i=d,a=l?"["+o+"]":"."+o}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class g0 extends Set{describe(){const e=[];for(const n of this.values())e.push(Ul.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new g0(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function Vc(t,e=new Map){if(jx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Vc(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,Vc(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Vc(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=Vc(s,e)}else throw Error(`Unable to clone ${t}`);return n}function Mme(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,s=!1;for(let i=0;i<t.length;i++){const a=t[i];if(a==="["&&!s){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(a==="]"&&!s){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(a==='"'){s=!s;continue}if(a==="."&&!r&&!s){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function Ame(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:Mme(n)}))}function $8(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return Ame(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>$8(s,r))}class Xr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new g0,this._blacklist=new g0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Qs.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Vc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Ki(i))return i;let a=Qi(e),o=Qi(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:a=e,strict:o=this.spec.strict}=n,l=e;o||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:l,originalValue:a,options:n,tests:u},r,d=>{if(d.length)return s(d,l);this.runTests({path:i,value:l,originalValue:a,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:a,originalValue:o,path:l,options:u}=e,d=v=>{s||(s=!0,n(v,a))},h=v=>{s||(s=!0,r(v,a))},p=i.length,g=[];if(!p)return h([]);let x={value:a,originalValue:o,path:l,options:u,schema:this};for(let v=0;v<i.length;v++){const b=i[v];b(x,d,function(N){N&&(Array.isArray(N)?g.push(...N):g.push(N)),--p<=0&&h(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:a}){const o=e??n;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=r[o];const d=Object.assign({},a,{strict:!0,parent:r,value:u,originalValue:i[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${s||""}[${l?o:`"${o}"`}]`:(s?`${s}.`:"")+e});return(h,p,g)=>this.resolve(d)._validate(u,d,p,g)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((a,o)=>s._validate(e,n,(l,u)=>{lr.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new lr(l,u,void 0,void 0,i)):a(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,a=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(o,l)=>{throw lr.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new lr(o,e,void 0,void 0,a);i=l}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(lr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(lr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Vc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=kc({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=kc({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Qs.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Qs.notNull){return this.nullability(!1,e)}required(e=Qs.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Qs.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=kc(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=I8(e).map(i=>new Ul(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new p0(s,n):p0.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=kc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Qs.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=kc({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),r}notOneOf(e,n=Qs.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=kc({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:a}=n.spec;return{meta:s,label:r,optional:i,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((l,u,d)=>d.findIndex(h=>h.OPTIONS.name===l.OPTIONS.name)===u).map(l=>{const u=l.OPTIONS.params&&e?z8(Object.assign({},l.OPTIONS.params),e):l.OPTIONS.params;return{name:l.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(s instanceof lr)return{issues:$8(s)};throw s}}}}}Xr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Xr.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=Eme(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Xr.prototype[t]=Xr.prototype.oneOf;for(const t of["not","nope"])Xr.prototype[t]=Xr.prototype.notOneOf;const Ome=()=>!0;function aC(t){return new B8(t)}class B8 extends Xr{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Ome},e))}}aC.prototype=B8.prototype;const Pme=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function _me(t){const e=xw(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function xw(t){var e,n;const r=Pme.exec(t);return r?{year:_i(r[1]),month:_i(r[2],1)-1,day:_i(r[3],1),hour:_i(r[4]),minute:_i(r[5]),second:_i(r[6]),millisecond:r[7]?_i(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:_i(r[10]),minuteOffset:_i(r[11])}:null}function _i(t,e=0){return Number(t)||e}let Dme=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ime=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Lme=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Rme="^\\d{4}-\\d{2}-\\d{2}",Fme="\\d{2}:\\d{2}:\\d{2}",zme="(([+-]\\d{2}(:?\\d{2})?)|Z)",Vme=new RegExp(`${Rme}T${Fme}(\\.\\d+)?${zme}$`),$me=t=>Ki(t)||t===t.trim(),Bme={}.toString();function dn(){return new H8}class H8 extends Xr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===Bme?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Qs.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Nr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Nr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Nr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Nr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Nr.email){return this.matches(Dme,{name:"email",message:e,excludeEmptyString:!0})}url(e=Nr.url){return this.matches(Ime,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Nr.uuid){return this.matches(Lme,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(Vme,{name:"datetime",message:n||Nr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Nr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const a=xw(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Nr.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=xw(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Nr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:$me})}lowercase(e=Nr.lowercase){return this.transform(n=>Ki(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ki(n)||n===n.toLowerCase()})}uppercase(e=Nr.uppercase){return this.transform(n=>Ki(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ki(n)||n===n.toUpperCase()})}}dn.prototype=H8.prototype;let Hme=t=>t!=+t;function $c(){return new U8}class U8 extends Xr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Hme(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=Da.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Da.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Da.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Da.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Da.positive){return this.moreThan(0,e)}negative(e=Da.negative){return this.lessThan(0,e)}integer(e=Da.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ki(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Ki(s)?s:Math[e](s))}}$c.prototype=U8.prototype;let Ume=new Date(""),Wme=t=>Object.prototype.toString.call(t)==="[object Date]";class oC extends Xr{constructor(){super({type:"date",check(e){return Wme(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=_me(e),isNaN(e)?oC.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Ul.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=gw.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=gw.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}oC.INVALID_DATE=Ume;function qme(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,o])=>`${a}-${o}`));function i(a,o){let l=bl.split(a)[0];r.add(l),s.has(`${o}-${l}`)||n.push([o,l])}for(const a of Object.keys(t)){let o=t[a];r.add(a),Ul.isRef(o)&&o.isSibling?i(o.path,a):jx(o)&&"deps"in o&&o.deps.forEach(l=>i(l,a))}return yme.array(Array.from(r),n).reverse()}function A6(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function W8(t){return(e,n)=>A6(t,e)-A6(t,n)}const q8=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Gp(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Gp(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Gp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Gp)}):"optional"in t?t.optional():t}const Kme=(t,e)=>{const n=[...bl.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=bl.getter(bl.join(n),!0)(t);return!!(s&&r in s)};let O6=t=>Object.prototype.toString.call(t)==="[object Object]";function P6(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Gme=W8([]);function Hf(t){return new K8(t)}class K8 extends Xr{constructor(e){super({type:"object",check(n){return O6(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Gme,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(s).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const h of o){let p=i[h],g=h in s,x=s[h];if(p){let v;u.path=(n.path?`${n.path}.`:"")+h,p=p.resolve({value:x,context:n.context,parent:l});let b=p instanceof Xr?p.spec:void 0,w=b?.strict;if(b!=null&&b.strip){d=d||h in s;continue}v=!n.__validating||!w?p.cast(x,u):x,v!==void 0&&(l[h]=v)}else g&&!a&&(l[h]=x);(g!==h in l||l[h]!==x)&&(d=!0)}return d?l:s}_validate(e,n={},r,s){let{from:i=[],originalValue:a=e,recursive:o=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(l,u)=>{if(!o||!O6(u)){s(l,u);return}a=a||u;let d=[];for(let h of this._nodes){let p=this.fields[h];!p||Ul.isRef(p)||d.push(p.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},r,h=>{s(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const a=r[s];r[s]=a===void 0?i:a}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=qme(e,n),r._sortErrors=W8(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Gp(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=bl.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return Kme(i,e)&&(a=Object.assign({},i),r||delete a[e],a[n]=s(i)),a})}json(){return this.transform(q8)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||qp.exact,test(n){if(n==null)return!0;const r=P6(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=qp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=P6(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=qp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(Zv.camelCase)}snakeCase(){return this.transformKeys(Zv.snakeCase)}constantCase(){return this.transformKeys(e=>Zv.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(n.fields)){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),r.fields[i]=a.describe(o)}return r}}Hf.prototype=K8.prototype;function G8(t){return new Y8(t)}class Y8 extends Xr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${o}]`,parent:r,originalValue:a,value:a,index:o}));return l!==a&&(s=!0),l});return s?i:r}_validate(e,n={},r,s){var i;let a=this.innerType,o=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(l,u)=>{var d;if(!o||!a||!this._typeCheck(u)){s(l,u);return}let h=new Array(u.length);for(let g=0;g<u.length;g++){var p;h[g]=a.asNestedTest({options:n,index:g,parent:u,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:u,tests:h,originalValue:(d=n.originalValue)!=null?d:e,options:n},r,g=>s(g.concat(l),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(q8)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!jx(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Qi(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Kp.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||Kp.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||Kp.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}G8.prototype=Y8.prototype;const Yme=Hf({customerName:dn().required("Vui lng nhp tn khch hng").min(2,"Tn t nht phi c 2 k t"),customerEmail:dn().required("Vui lng nhp email khch hng").email("Email khng hp l"),customerPhone:dn().required("Vui lng nhp st khch hng").matches(/^(0|\+84)[3|5|7|8|9][0-9]{8}$/,"S in thoi khng hp l"),customerAddress:dn().required("Vui lng nhp a ch khch hng"),customerProvince:dn().required("Vui lng chn tnh thnh"),customerDistrict:dn().required("Vui lng chn huyn"),customerWard:dn().required("Chn phng"),paymentMethod:aC().oneOf(Object.values(Wr),"Phng thc thanh ton khng hp l").required("Vui lng chn phng thc thanh ton"),customerNote:dn().optional().default(""),orderItems:G8().of(Hf({productId:$c().required(),variantId:$c().required(),quantity:$c().min(1,"S lng ti thiu l 1").required(),price:$c().required()})).min(1,"n hng phi c t nht mt sn phm").optional().required("Vui lng thm sn phm"),couponCode:dn().optional().default("")}).required(),_6=(t,e,n)=>{if(t&&"reportValidity"in t){const r=je(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},X8=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?_6(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>_6(s,n,t))}},Xme=(t,e)=>{e.shouldUseNativeValidation&&X8(t,e);const n={};for(const r in t){const s=je(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Qme(e.names||Object.keys(t),r)){const a=Object.assign({},je(n,r));bt(a,"root",i),bt(n,r,a)}else bt(n,r,i)}return n},Qme=(t,e)=>{const n=D6(e);return t.some(r=>D6(r).match(`^${n}\\.\\d+`))};function D6(t){return t.replace(/\]|\[/g,"")}function Q8(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve((function(a,o){try{var l=(e?.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:s}))).then(function(u){return i.shouldUseNativeValidation&&X8({},i),{values:n.raw?Object.assign({},r):u,errors:{}}}))}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l})(0,function(a){if(!a.inner)throw a;return{values:{},errors:Xme((o=a,l=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(o.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),l){var h=u[d.path].types,p=h&&h[d.type];u[d.path]=X_(d.path,l,u,d.type,p?[].concat(p,d.message):d.message)}return u},{})),i)};var o,l}))}catch(a){return Promise.reject(a)}}}const lC=async()=>await Se.get("/api/v1/province/get-province");function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Jme(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J8(t){var e=Jme(t,"string");return Il(e)=="symbol"?e:e+""}function Fd(t,e,n){return(e=J8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(n),!0).forEach(function(r){Fd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zme(t){if(Array.isArray(t))return t}function epe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Z8(t,e){if(t){if(typeof t=="string")return yw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yw(t,e):void 0}}function tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ji(t,e){return Zme(t)||epe(t,e)||Z8(t,e)||tpe()}function npe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function da(t,e){if(t==null)return{};var n,r,s=npe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var rpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function spe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,a=i===void 0?null:i,o=t.inputValue,l=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,p=t.onMenuOpen,g=t.value,x=da(t,rpe),v=A.useState(o!==void 0?o:n),b=Ji(v,2),w=b[0],N=b[1],C=A.useState(l!==void 0?l:s),T=Ji(C,2),j=T[0],E=T[1],O=A.useState(g!==void 0?g:a),M=Ji(O,2),_=M[0],D=M[1],I=A.useCallback(function(z,q){typeof u=="function"&&u(z,q),D(z)},[u]),F=A.useCallback(function(z,q){var Q;typeof d=="function"&&(Q=d(z,q)),N(Q!==void 0?Q:z)},[d]),Y=A.useCallback(function(){typeof p=="function"&&p(),E(!0)},[p]),G=A.useCallback(function(){typeof h=="function"&&h(),E(!1)},[h]),W=o!==void 0?o:w,R=l!==void 0?l:j,V=g!==void 0?g:_;return qe(qe({},x),{},{inputValue:W,menuIsOpen:R,onChange:I,onInputChange:F,onMenuClose:G,onMenuOpen:Y,value:V})}function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ke.apply(null,arguments)}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J8(r.key),r)}}function ape(t,e,n){return e&&L6(t.prototype,e),n&&L6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bw(t,e)}function ope(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x0(t)}function eF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!t})()}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cpe(t,e){if(e&&(Il(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function upe(t){var e=eF();return function(){var n,r=x0(t);if(e){var s=x0(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return cpe(this,n)}}function dpe(t){if(Array.isArray(t))return yw(t)}function fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cC(t){return dpe(t)||fpe(t)||Z8(t)||hpe()}function mpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ppe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gpe=(function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ppe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=mpe(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Kn="-ms-",y0="-moz-",mt="-webkit-",tF="comm",uC="rule",dC="decl",xpe="@import",nF="@keyframes",ype="@layer",bpe=Math.abs,kx=String.fromCharCode,vpe=Object.assign;function wpe(t,e){return Rn(t,0)^45?(((e<<2^Rn(t,0))<<2^Rn(t,1))<<2^Rn(t,2))<<2^Rn(t,3):0}function rF(t){return t.trim()}function Spe(t,e){return(t=e.exec(t))?t[0]:t}function pt(t,e,n){return t.replace(e,n)}function vw(t,e){return t.indexOf(e)}function Rn(t,e){return t.charCodeAt(e)|0}function Uf(t,e,n){return t.slice(e,n)}function ei(t){return t.length}function fC(t){return t.length}function gp(t,e){return e.push(t),t}function Npe(t,e){return t.map(e).join("")}var Tx=1,hu=1,sF=0,_r=0,fn=0,Tu="";function Ex(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Tx,column:hu,length:a,return:""}}function Cd(t,e){return vpe(Ex("",null,null,"",null,null,0),t,{length:-t.length},e)}function Cpe(){return fn}function jpe(){return fn=_r>0?Rn(Tu,--_r):0,hu--,fn===10&&(hu=1,Tx--),fn}function Gr(){return fn=_r<sF?Rn(Tu,_r++):0,hu++,fn===10&&(hu=1,Tx++),fn}function ui(){return Rn(Tu,_r)}function Yp(){return _r}function vh(t,e){return Uf(Tu,t,e)}function Wf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iF(t){return Tx=hu=1,sF=ei(Tu=t),_r=0,[]}function aF(t){return Tu="",t}function Xp(t){return rF(vh(_r-1,ww(t===91?t+2:t===40?t+1:t)))}function kpe(t){for(;(fn=ui())&&fn<33;)Gr();return Wf(t)>2||Wf(fn)>3?"":" "}function Tpe(t,e){for(;--e&&Gr()&&!(fn<48||fn>102||fn>57&&fn<65||fn>70&&fn<97););return vh(t,Yp()+(e<6&&ui()==32&&Gr()==32))}function ww(t){for(;Gr();)switch(fn){case t:return _r;case 34:case 39:t!==34&&t!==39&&ww(fn);break;case 40:t===41&&ww(t);break;case 92:Gr();break}return _r}function Epe(t,e){for(;Gr()&&t+fn!==57;)if(t+fn===84&&ui()===47)break;return"/*"+vh(e,_r-1)+"*"+kx(t===47?t:Gr())}function Mpe(t){for(;!Wf(ui());)Gr();return vh(t,_r)}function Ape(t){return aF(Qp("",null,null,null,[""],t=iF(t),0,[0],t))}function Qp(t,e,n,r,s,i,a,o,l){for(var u=0,d=0,h=a,p=0,g=0,x=0,v=1,b=1,w=1,N=0,C="",T=s,j=i,E=r,O=C;b;)switch(x=N,N=Gr()){case 40:if(x!=108&&Rn(O,h-1)==58){vw(O+=pt(Xp(N),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:O+=Xp(N);break;case 9:case 10:case 13:case 32:O+=kpe(x);break;case 92:O+=Tpe(Yp()-1,7);continue;case 47:switch(ui()){case 42:case 47:gp(Ope(Epe(Gr(),Yp()),e,n),l);break;default:O+="/"}break;case 123*v:o[u++]=ei(O)*w;case 125*v:case 59:case 0:switch(N){case 0:case 125:b=0;case 59+d:w==-1&&(O=pt(O,/\f/g,"")),g>0&&ei(O)-h&&gp(g>32?F6(O+";",r,n,h-1):F6(pt(O," ","")+";",r,n,h-2),l);break;case 59:O+=";";default:if(gp(E=R6(O,e,n,u,d,s,o,C,T=[],j=[],h),i),N===123)if(d===0)Qp(O,e,E,E,T,i,h,o,j);else switch(p===99&&Rn(O,3)===110?100:p){case 100:case 108:case 109:case 115:Qp(t,E,E,r&&gp(R6(t,E,E,0,0,s,o,C,s,T=[],h),j),s,j,h,o,r?T:j);break;default:Qp(O,E,E,E,[""],j,0,o,j)}}u=d=g=0,v=w=1,C=O="",h=a;break;case 58:h=1+ei(O),g=x;default:if(v<1){if(N==123)--v;else if(N==125&&v++==0&&jpe()==125)continue}switch(O+=kx(N),N*v){case 38:w=d>0?1:(O+="\f",-1);break;case 44:o[u++]=(ei(O)-1)*w,w=1;break;case 64:ui()===45&&(O+=Xp(Gr())),p=ui(),d=h=ei(C=O+=Mpe(Yp())),N++;break;case 45:x===45&&ei(O)==2&&(v=0)}}return i}function R6(t,e,n,r,s,i,a,o,l,u,d){for(var h=s-1,p=s===0?i:[""],g=fC(p),x=0,v=0,b=0;x<r;++x)for(var w=0,N=Uf(t,h+1,h=bpe(v=a[x])),C=t;w<g;++w)(C=rF(v>0?p[w]+" "+N:pt(N,/&\f/g,p[w])))&&(l[b++]=C);return Ex(t,e,n,s===0?uC:o,l,u,d)}function Ope(t,e,n){return Ex(t,e,n,tF,kx(Cpe()),Uf(t,2,-2),0)}function F6(t,e,n,r){return Ex(t,e,n,dC,Uf(t,0,r),Uf(t,r+1,-1),r)}function Gc(t,e){for(var n="",r=fC(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Ppe(t,e,n,r){switch(t.type){case ype:if(t.children.length)break;case xpe:case dC:return t.return=t.return||t.value;case tF:return"";case nF:return t.return=t.value+"{"+Gc(t.children,r)+"}";case uC:t.value=t.props.join(",")}return ei(n=Gc(t.children,r))?t.return=t.value+"{"+n+"}":""}function _pe(t){var e=fC(t);return function(n,r,s,i){for(var a="",o=0;o<e;o++)a+=t[o](n,r,s,i)||"";return a}}function Dpe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Ipe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Lpe=function(e,n,r){for(var s=0,i=0;s=i,i=ui(),s===38&&i===12&&(n[r]=1),!Wf(i);)Gr();return vh(e,_r)},Rpe=function(e,n){var r=-1,s=44;do switch(Wf(s)){case 0:s===38&&ui()===12&&(n[r]=1),e[r]+=Lpe(_r-1,n,r);break;case 2:e[r]+=Xp(s);break;case 4:if(s===44){e[++r]=ui()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kx(s)}while(s=Gr());return e},Fpe=function(e,n){return aF(Rpe(iF(e),n))},z6=new WeakMap,zpe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!z6.get(r))&&!s){z6.set(e,!0);for(var i=[],a=Fpe(n,i),o=r.props,l=0,u=0;l<a.length;l++)for(var d=0;d<o.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,o[d]):o[d]+" "+a[l]}}},Vpe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function oF(t,e){switch(wpe(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+y0+t+Kn+t+t;case 6828:case 4268:return mt+t+Kn+t+t;case 6165:return mt+t+Kn+"flex-"+t+t;case 5187:return mt+t+pt(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return mt+t+Kn+"flex-item-"+pt(t,/flex-|-self/,"")+t;case 4675:return mt+t+Kn+"flex-line-pack"+pt(t,/align-content|flex-|-self/,"")+t;case 5548:return mt+t+Kn+pt(t,"shrink","negative")+t;case 5292:return mt+t+Kn+pt(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+pt(t,"-grow","")+mt+t+Kn+pt(t,"grow","positive")+t;case 4554:return mt+pt(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return pt(pt(pt(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return pt(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return pt(pt(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4095:case 3583:case 4068:case 2532:return pt(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ei(t)-1-e>6)switch(Rn(t,e+1)){case 109:if(Rn(t,e+4)!==45)break;case 102:return pt(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+y0+(Rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vw(t,"stretch")?oF(pt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rn(t,e+1)!==115)break;case 6444:switch(Rn(t,ei(t)-3-(~vw(t,"!important")&&10))){case 107:return pt(t,":",":"+mt)+t;case 101:return pt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(Rn(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Kn+"$2box$3")+t}break;case 5936:switch(Rn(t,e+11)){case 114:return mt+t+Kn+pt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+Kn+pt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+Kn+pt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mt+t+Kn+t+t}return t}var $pe=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case dC:e.return=oF(e.value,e.length);break;case nF:return Gc([Cd(e,{value:pt(e.value,"@","@"+mt)})],s);case uC:if(e.length)return Npe(e.props,function(i){switch(Spe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Gc([Cd(e,{props:[pt(i,/:(read-\w+)/,":"+y0+"$1")]})],s);case"::placeholder":return Gc([Cd(e,{props:[pt(i,/:(plac\w+)/,":"+mt+"input-$1")]}),Cd(e,{props:[pt(i,/:(plac\w+)/,":"+y0+"$1")]}),Cd(e,{props:[pt(i,/:(plac\w+)/,Kn+"input-$1")]})],s)}return""})}},Bpe=[$pe],Hpe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||Bpe,i={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)i[b[w]]=!0;o.push(v)});var l,u=[zpe,Vpe];{var d,h=[Ppe,Dpe(function(v){d.insert(v)})],p=_pe(u.concat(s,h)),g=function(b){return Gc(Ape(b),p)};l=function(b,w,N,C){d=N,g(b?b+"{"+w.styles+"}":w.styles),C&&(x.inserted[w.name]=!0)}}var x={key:n,sheet:new gpe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return x.sheet.hydrate(o),x},e1={exports:{}},gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V6;function Upe(){if(V6)return gt;V6=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,h=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function C(j){if(typeof j=="object"&&j!==null){var E=j.$$typeof;switch(E){case e:switch(j=j.type,j){case l:case u:case r:case i:case s:case h:return j;default:switch(j=j&&j.$$typeof,j){case o:case d:case x:case g:case a:return j;default:return E}}case n:return E}}}function T(j){return C(j)===u}return gt.AsyncMode=l,gt.ConcurrentMode=u,gt.ContextConsumer=o,gt.ContextProvider=a,gt.Element=e,gt.ForwardRef=d,gt.Fragment=r,gt.Lazy=x,gt.Memo=g,gt.Portal=n,gt.Profiler=i,gt.StrictMode=s,gt.Suspense=h,gt.isAsyncMode=function(j){return T(j)||C(j)===l},gt.isConcurrentMode=T,gt.isContextConsumer=function(j){return C(j)===o},gt.isContextProvider=function(j){return C(j)===a},gt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},gt.isForwardRef=function(j){return C(j)===d},gt.isFragment=function(j){return C(j)===r},gt.isLazy=function(j){return C(j)===x},gt.isMemo=function(j){return C(j)===g},gt.isPortal=function(j){return C(j)===n},gt.isProfiler=function(j){return C(j)===i},gt.isStrictMode=function(j){return C(j)===s},gt.isSuspense=function(j){return C(j)===h},gt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===u||j===i||j===s||j===h||j===p||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===g||j.$$typeof===a||j.$$typeof===o||j.$$typeof===d||j.$$typeof===b||j.$$typeof===w||j.$$typeof===N||j.$$typeof===v)},gt.typeOf=C,gt}var $6;function Wpe(){return $6||($6=1,e1.exports=Upe()),e1.exports}var t1,B6;function qpe(){if(B6)return t1;B6=1;var t=Wpe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(x){return t.isMemo(x)?s:i[x.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;function g(x,v,b){if(typeof v!="string"){if(p){var w=h(v);w&&w!==p&&g(x,w,b)}var N=l(v);u&&(N=N.concat(u(v)));for(var C=a(x),T=a(v),j=0;j<N.length;++j){var E=N[j];if(!n[E]&&!(b&&b[E])&&!(T&&T[E])&&!(C&&C[E])){var O=d(v,E);try{o(x,E,O)}catch{}}}}return x}return t1=g,t1}qpe();var Kpe=!0;function Gpe(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var lF=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||Kpe===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},Ype=function(e,n,r){lF(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Xpe(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Qpe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Jpe=/[A-Z]|^ms/g,Zpe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cF=function(e){return e.charCodeAt(1)===45},H6=function(e){return e!=null&&typeof e!="boolean"},n1=Ipe(function(t){return cF(t)?t:t.replace(Jpe,"-$&").toLowerCase()}),U6=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Zpe,function(r,s,i){return ti={name:s,styles:i,next:ti},s})}return Qpe[e]!==1&&!cF(e)&&typeof n=="number"&&n!==0?n+"px":n};function qf(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ti={name:s.name,styles:s.styles,next:ti},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)ti={name:a.name,styles:a.styles,next:ti},a=a.next;var o=i.styles+";";return o}return ege(t,e,n)}case"function":{if(t!==void 0){var l=ti,u=n(t);return ti=l,qf(t,e,u)}break}}var d=n;return d}function ege(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=qf(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var o=a;H6(o)&&(r+=n1(i)+":"+U6(i,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var l=0;l<a.length;l++)H6(a[l])&&(r+=n1(i)+":"+U6(i,a[l])+";");else{var u=qf(t,e,a);switch(i){case"animation":case"animationName":{r+=n1(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var W6=/label:\s*([^\s;{]+)\s*(;|$)/g,ti;function uF(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";ti=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=qf(n,e,i);else{var a=i;s+=a[0]}for(var o=1;o<t.length;o++)if(s+=qf(n,e,t[o]),r){var l=i;s+=l[o]}W6.lastIndex=0;for(var u="",d;(d=W6.exec(s))!==null;)u+="-"+d[1];var h=Xpe(s)+u;return{name:h,styles:s,next:ti}}var tge=function(e){return e()},nge=y4.useInsertionEffect?y4.useInsertionEffect:!1,rge=nge||tge,dF=A.createContext(typeof HTMLElement<"u"?Hpe({key:"css"}):null);dF.Provider;var sge=function(e){return A.forwardRef(function(n,r){var s=A.useContext(dF);return e(n,s,r)})},ige=A.createContext({}),hC={}.hasOwnProperty,Sw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",age=function(e,n){var r={};for(var s in n)hC.call(n,s)&&(r[s]=n[s]);return r[Sw]=e,r},oge=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return lF(n,r,s),rge(function(){return Ype(n,r,s)}),null},lge=sge(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[Sw],i=[r],a="";typeof t.className=="string"?a=Gpe(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var o=uF(i,void 0,A.useContext(ige));a+=e.key+"-"+o.name;var l={};for(var u in t)hC.call(t,u)&&u!=="css"&&u!==Sw&&(l[u]=t[u]);return l.className=a,n&&(l.ref=n),A.createElement(A.Fragment,null,A.createElement(oge,{cache:e,serialized:o,isStringTag:typeof s=="string"}),A.createElement(s,l))}),cge=lge,ze=function(e,n){var r=arguments;if(n==null||!hC.call(n,"css"))return A.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=cge,i[1]=age(e,n);for(var a=2;a<s;a++)i[a]=r[a];return A.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ze||(ze={}));function mC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return uF(e)}function uge(){var t=mC.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function dge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const fge=Math.min,hge=Math.max,b0=Math.round,xp=Math.floor,v0=t=>({x:t,y:t});function mge(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Mx(){return typeof window<"u"}function fF(t){return mF(t)?(t.nodeName||"").toLowerCase():"#document"}function oa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hF(t){var e;return(e=(mF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mF(t){return Mx()?t instanceof Node||t instanceof oa(t).Node:!1}function pge(t){return Mx()?t instanceof Element||t instanceof oa(t).Element:!1}function pC(t){return Mx()?t instanceof HTMLElement||t instanceof oa(t).HTMLElement:!1}function q6(t){return!Mx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oa(t).ShadowRoot}const gge=new Set(["inline","contents"]);function pF(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=gC(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!gge.has(s)}function xge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yge=new Set(["html","body","#document"]);function bge(t){return yge.has(fF(t))}function gC(t){return oa(t).getComputedStyle(t)}function vge(t){if(fF(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q6(t)&&t.host||hF(t);return q6(e)?e.host:e}function gF(t){const e=vge(t);return bge(e)?t.ownerDocument?t.ownerDocument.body:t.body:pC(e)&&pF(e)?e:gF(e)}function w0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=gF(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=oa(s);if(i){const o=Nw(a);return e.concat(a,a.visualViewport||[],pF(s)?s:[],o&&n?w0(o):[])}return e.concat(s,w0(s,[],n))}function Nw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wge(t){const e=gC(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=pC(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,o=b0(n)!==i||b0(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function xC(t){return pge(t)?t:t.contextElement}function K6(t){const e=xC(t);if(!pC(e))return v0(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=wge(e);let a=(i?b0(n.width):n.width)/r,o=(i?b0(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Sge=v0(0);function Nge(t){const e=oa(t);return!xge()||!e.visualViewport?Sge:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Cge(t,e,n){return!1}function G6(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=xC(t);let a=v0(1);e&&(a=K6(t));const o=Cge()?Nge(i):v0(0);let l=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const p=oa(i),g=r;let x=p,v=Nw(x);for(;v&&r&&g!==x;){const b=K6(v),w=v.getBoundingClientRect(),N=gC(v),C=w.left+(v.clientLeft+parseFloat(N.paddingLeft))*b.x,T=w.top+(v.clientTop+parseFloat(N.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=C,u+=T,x=oa(v),v=Nw(x)}}return mge({width:d,height:h,x:l,y:u})}function xF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jge(t,e){let n=null,r;const s=hF(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=u;if(o||e(),!p||!g)return;const x=xp(h),v=xp(s.clientWidth-(d+p)),b=xp(s.clientHeight-(h+g)),w=xp(d),C={rootMargin:-x+"px "+-v+"px "+-b+"px "+-w+"px",threshold:hge(0,fge(1,l))||1};let T=!0;function j(E){const O=E[0].intersectionRatio;if(O!==l){if(!T)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!xF(u,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(j,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,C)}n.observe(t)}return a(!0),i}function kge(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=xC(t),d=s||i?[...u?w0(u):[],...w0(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&o?jge(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(w=>{let[N]=w;N&&N.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let x,v=l?G6(t):null;l&&b();function b(){const w=G6(t);v&&!xF(v,w)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(N=>{s&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),h?.(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(x)}}var Cw=A.useLayoutEffect,Tge=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],S0=function(){};function Ege(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Mge(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(Ege(t,a)));return i.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var Y6=function(e){return Fge(e)?e.filter(Boolean):Il(e)==="object"&&e!==null?[e]:[]},yF=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=da(e,Tge);return qe({},n)},en=function(e,n,r){var s=e.cx,i=e.getStyles,a=e.getClassNames,o=e.className;return{css:i(n,e),className:s(r??{},a(n,e),o)}};function Ax(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Age(t){return Ax(t)?window.innerHeight:t.clientHeight}function bF(t){return Ax(t)?window.pageYOffset:t.scrollTop}function N0(t,e){if(Ax(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Oge(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function Pge(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function yp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S0,s=bF(t),i=e-s,a=10,o=0;function l(){o+=a;var u=Pge(o,s,i,n);N0(t,u),o<n?window.requestAnimationFrame(l):r(t)}l()}function X6(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?N0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&N0(t,Math.max(e.offsetTop-s,0))}function _ge(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Q6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Dge(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var vF=!1,Ige={get passive(){return vF=!0}},bp=typeof window<"u"?window:{};bp.addEventListener&&bp.removeEventListener&&(bp.addEventListener("p",S0,Ige),bp.removeEventListener("p",S0,!1));var Lge=vF;function Rge(t){return t!=null}function Fge(t){return Array.isArray(t)}function vp(t,e,n){return t?e:n}var zge=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(a){var o=Ji(a,1),l=o[0];return!r.includes(l)});return i.reduce(function(a,o){var l=Ji(o,2),u=l[0],d=l[1];return a[u]=d,a},{})},Vge=["children","innerProps"],$ge=["children","innerProps"];function Bge(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,a=t.isFixedPosition,o=t.controlHeight,l=Oge(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=l.getBoundingClientRect(),h=d.height,p=n.getBoundingClientRect(),g=p.bottom,x=p.height,v=p.top,b=n.offsetParent.getBoundingClientRect(),w=b.top,N=a?window.innerHeight:Age(l),C=bF(l),T=parseInt(getComputedStyle(n).marginBottom,10),j=parseInt(getComputedStyle(n).marginTop,10),E=w-j,O=N-v,M=E+C,_=h-C-v,D=g-N+C+T,I=C+v-j,F=160;switch(s){case"auto":case"bottom":if(O>=x)return{placement:"bottom",maxHeight:e};if(_>=x&&!a)return i&&yp(l,D,F),{placement:"bottom",maxHeight:e};if(!a&&_>=r||a&&O>=r){i&&yp(l,D,F);var Y=a?O-T:_-T;return{placement:"bottom",maxHeight:Y}}if(s==="auto"||a){var G=e,W=a?E:M;return W>=r&&(G=Math.min(W-T-o,e)),{placement:"top",maxHeight:G}}if(s==="bottom")return i&&N0(l,D),{placement:"bottom",maxHeight:e};break;case"top":if(E>=x)return{placement:"top",maxHeight:e};if(M>=x&&!a)return i&&yp(l,I,F),{placement:"top",maxHeight:e};if(!a&&M>=r||a&&E>=r){var R=e;return(!a&&M>=r||a&&E>=r)&&(R=a?E-j:M-j),i&&yp(l,I,F),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function Hge(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var wF=function(e){return e==="auto"?"bottom":e},Uge=function(e,n){var r,s=e.placement,i=e.theme,a=i.borderRadius,o=i.spacing,l=i.colors;return qe((r={label:"menu"},Fd(r,Hge(s),"100%"),Fd(r,"position","absolute"),Fd(r,"width","100%"),Fd(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},SF=A.createContext(null),Wge=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,u=A.useContext(SF)||{},d=u.setPortalPlacement,h=A.useRef(null),p=A.useState(s),g=Ji(p,2),x=g[0],v=g[1],b=A.useState(null),w=Ji(b,2),N=w[0],C=w[1],T=l.spacing.controlHeight;return Cw(function(){var j=h.current;if(j){var E=a==="fixed",O=o&&!E,M=Bge({maxHeight:s,menuEl:j,minHeight:r,placement:i,shouldScroll:O,isFixedPosition:E,controlHeight:T});v(M.maxHeight),C(M.placement),d?.(M.placement)}},[s,i,a,o,r,d,T]),n({ref:h,placerProps:qe(qe({},e),{},{placement:N||wF(i),maxHeight:x})})},qge=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return ze("div",Ke({},en(e,"menu",{menu:!0}),{ref:r},s),n)},Kge=qge,Gge=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return qe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},Yge=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return ze("div",Ke({},en(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},NF=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return qe({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},Xge=NF,Qge=NF,Jge=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=da(e,Vge);return ze("div",Ke({},en(qe(qe({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},Zge=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=da(e,$ge);return ze("div",Ke({},en(qe(qe({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},e0e=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},t0e=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,a=e.menuPlacement,o=e.menuPosition,l=A.useRef(null),u=A.useRef(null),d=A.useState(wF(a)),h=Ji(d,2),p=h[0],g=h[1],x=A.useMemo(function(){return{setPortalPlacement:g}},[]),v=A.useState(null),b=Ji(v,2),w=b[0],N=b[1],C=A.useCallback(function(){if(s){var O=_ge(s),M=o==="fixed"?0:window.pageYOffset,_=O[p]+M;(_!==w?.offset||O.left!==w?.rect.left||O.width!==w?.rect.width)&&N({offset:_,rect:O})}},[s,o,p,w?.offset,w?.rect.left,w?.rect.width]);Cw(function(){C()},[C]);var T=A.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&l.current&&(u.current=kge(s,l.current,C,{elementResize:"ResizeObserver"in window}))},[s,C]);Cw(function(){T()},[T]);var j=A.useCallback(function(O){l.current=O,T()},[T]);if(!n&&o!=="fixed"||!w)return null;var E=ze("div",Ke({ref:j},en(qe(qe({},e),{},{offset:w.offset,position:o,rect:w.rect}),"menuPortal",{"menu-portal":!0}),i),r);return ze(SF.Provider,{value:x},n?VA.createPortal(E,n):E)},n0e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},r0e=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return ze("div",Ke({},en(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},s0e=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return qe({alignItems:"center",display:s&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},i0e=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return ze("div",Ke({},en(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},a0e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},o0e=function(e){var n=e.children,r=e.innerProps;return ze("div",Ke({},en(e,"indicatorsContainer",{indicators:!0}),r),n)},J6,l0e=["size"],c0e=["innerProps","isRtl","size"],u0e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},CF=function(e){var n=e.size,r=da(e,l0e);return ze("svg",Ke({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:u0e},r))},yC=function(e){return ze(CF,Ke({size:20},e),ze("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},jF=function(e){return ze(CF,Ke({size:20},e),ze("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},kF=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return qe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},d0e=kF,f0e=function(e){var n=e.children,r=e.innerProps;return ze("div",Ke({},en(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ze(jF,null))},h0e=kF,m0e=function(e){var n=e.children,r=e.innerProps;return ze("div",Ke({},en(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ze(yC,null))},p0e=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return qe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},g0e=function(e){var n=e.innerProps;return ze("span",Ke({},n,en(e,"indicatorSeparator",{"indicator-separator":!0})))},x0e=uge(J6||(J6=dge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),y0e=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,a=i.colors,o=i.spacing.baseUnit;return qe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2})},r1=function(e){var n=e.delay,r=e.offset;return ze("span",{css:mC({animation:"".concat(x0e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},b0e=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,a=da(e,c0e);return ze("div",Ke({},en(qe(qe({},a),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ze(r1,{delay:0,offset:r}),ze(r1,{delay:160,offset:!0}),ze(r1,{delay:320,offset:!r}))},v0e=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,a=i.colors,o=i.borderRadius,l=i.spacing;return qe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:s?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},w0e=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return ze("div",Ke({ref:i},en(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":o}),a,{"aria-disabled":r||void 0}),n)},S0e=w0e,N0e=["data"],C0e=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},j0e=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,a=e.Heading,o=e.headingProps,l=e.innerProps,u=e.label,d=e.theme,h=e.selectProps;return ze("div",Ke({},en(e,"group",{group:!0}),l),ze(a,Ke({},o,{selectProps:h,theme:d,getStyles:s,getClassNames:i,cx:r}),u),ze("div",null,n))},k0e=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return qe({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},T0e=function(e){var n=yF(e);n.data;var r=da(n,N0e);return ze("div",Ke({},en(e,"groupHeading",{"group-heading":!0}),r))},E0e=j0e,M0e=["innerRef","isDisabled","isHidden","inputClassName"],A0e=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,a=i.spacing,o=i.colors;return qe(qe({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},O0e),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},TF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},O0e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":qe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},TF)},P0e=function(e){return qe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},TF)},_0e=function(e){var n=e.cx,r=e.value,s=yF(e),i=s.innerRef,a=s.isDisabled,o=s.isHidden,l=s.inputClassName,u=da(s,M0e);return ze("div",Ke({},en(e,"input",{"input-container":!0}),{"data-value":r||""}),ze("input",Ke({className:n({input:!0},l),ref:i,style:P0e(o),disabled:a},u)))},D0e=_0e,I0e=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors;return qe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},L0e=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,a=e.cropWithEllipsis;return qe({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},R0e=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors,o=e.isFocused;return qe({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},EF=function(e){var n=e.children,r=e.innerProps;return ze("div",r,n)},F0e=EF,z0e=EF;function V0e(t){var e=t.children,n=t.innerProps;return ze("div",Ke({role:"button"},n),e||ze(yC,{size:14}))}var $0e=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,a=e.isDisabled,o=e.removeProps,l=e.selectProps,u=r.Container,d=r.Label,h=r.Remove;return ze(u,{data:s,innerProps:qe(qe({},en(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:l},ze(d,{data:s,innerProps:qe({},en(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ze(h,{data:s,innerProps:qe(qe({},en(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},o),selectProps:l}))},B0e=$0e,H0e=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.theme,o=a.spacing,l=a.colors;return qe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?l.primary:s?l.primary25:"transparent",color:r?l.neutral20:i?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?l.primary:l.primary50}})},U0e=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.innerRef,o=e.innerProps;return ze("div",Ke({},en(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:a,"aria-disabled":r},o),n)},W0e=U0e,q0e=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return qe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},K0e=function(e){var n=e.children,r=e.innerProps;return ze("div",Ke({},en(e,"placeholder",{placeholder:!0}),r),n)},G0e=K0e,Y0e=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,a=s.colors;return qe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},X0e=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return ze("div",Ke({},en(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},Q0e=X0e,J0e={ClearIndicator:m0e,Control:S0e,DropdownIndicator:f0e,DownChevron:jF,CrossIcon:yC,Group:E0e,GroupHeading:T0e,IndicatorsContainer:o0e,IndicatorSeparator:g0e,Input:D0e,LoadingIndicator:b0e,Menu:Kge,MenuList:Yge,MenuPortal:t0e,LoadingMessage:Zge,NoOptionsMessage:Jge,MultiValue:B0e,MultiValueContainer:F0e,MultiValueLabel:z0e,MultiValueRemove:V0e,Option:W0e,Placeholder:G0e,SelectContainer:r0e,SingleValue:Q0e,ValueContainer:i0e},Z0e=function(e){return qe(qe({},J0e),e.components)},Z6=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function exe(t,e){return!!(t===e||Z6(t)&&Z6(e))}function txe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!exe(t[n],e[n]))return!1;return!0}function nxe(t,e){e===void 0&&(e=txe);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var a=t.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}var rxe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},sxe=function(e){return ze("span",Ke({css:rxe},e))},eA=sxe,ixe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,a=i===void 0?"":i,o=e.selectValue,l=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,h=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(n==="value"&&o)return"value ".concat(a," focused, ").concat(h(o,r),".");if(n==="menu"&&d){var p=l?" disabled":"",g="".concat(u?" selected":"").concat(p);return"".concat(a).concat(g,", ").concat(h(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},axe=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,u=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,p=l.getOptionLabel,g=l.inputValue,x=l.isMulti,v=l.isOptionDisabled,b=l.isSearchable,w=l.menuIsOpen,N=l.options,C=l.screenReaderStatus,T=l.tabSelectsValue,j=l.isLoading,E=l["aria-label"],O=l["aria-live"],M=A.useMemo(function(){return qe(qe({},ixe),h||{})},[h]),_=A.useMemo(function(){var W="";if(n&&M.onChange){var R=n.option,V=n.options,z=n.removedValue,q=n.removedValues,Q=n.value,B=function(Le){return Array.isArray(Le)?null:Le},J=z||R||B(Q),ne=J?p(J):"",ie=V||q||void 0,le=ie?ie.map(p):[],be=qe({isDisabled:J&&v(J,o),label:ne,labels:le},n);W=M.onChange(be)}return W},[n,M,v,o,p]),D=A.useMemo(function(){var W="",R=r||s,V=!!(r&&o&&o.includes(r));if(R&&M.onFocus){var z={focused:R,label:p(R),isDisabled:v(R,o),isSelected:V,options:i,context:R===r?"menu":"value",selectValue:o,isAppleDevice:d};W=M.onFocus(z)}return W},[r,s,p,v,M,i,o,d]),I=A.useMemo(function(){var W="";if(w&&N.length&&!j&&M.onFilter){var R=C({count:i.length});W=M.onFilter({inputValue:g,resultsMessage:R})}return W},[i,g,w,M,N,C,j]),F=n?.action==="initial-input-focus",Y=A.useMemo(function(){var W="";if(M.guidance){var R=s?"value":w?"menu":"input";W=M.guidance({"aria-label":E,context:R,isDisabled:r&&v(r,o),isMulti:x,isSearchable:b,tabSelectsValue:T,isInitialFocus:F})}return W},[E,r,s,x,v,b,w,M,o,T,F]),G=ze(A.Fragment,null,ze("span",{id:"aria-selection"},_),ze("span",{id:"aria-focused"},D),ze("span",{id:"aria-results"},I),ze("span",{id:"aria-guidance"},Y));return ze(A.Fragment,null,ze(eA,{id:u},F&&G),ze(eA,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!F&&G))},oxe=axe,jw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],lxe=new RegExp("["+jw.map(function(t){return t.letters}).join("")+"]","g"),MF={};for(var s1=0;s1<jw.length;s1++)for(var i1=jw[s1],a1=0;a1<i1.letters.length;a1++)MF[i1.letters[a1]]=i1.base;var AF=function(e){return e.replace(lxe,function(n){return MF[n]})},cxe=nxe(AF),tA=function(e){return e.replace(/^\s+|\s+$/g,"")},uxe=function(e){return"".concat(e.label," ").concat(e.value)},dxe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=qe({ignoreCase:!0,ignoreAccents:!0,stringify:uxe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,a=s.ignoreAccents,o=s.stringify,l=s.trim,u=s.matchFrom,d=l?tA(r):r,h=l?tA(o(n)):o(n);return i&&(d=d.toLowerCase(),h=h.toLowerCase()),a&&(d=cxe(d),h=AF(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},fxe=["innerRef"];function hxe(t){var e=t.innerRef,n=da(t,fxe),r=zge(n,"onExited","in","enter","exit","appear");return ze("input",Ke({ref:e},r,{css:mC({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var mxe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function pxe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,a=A.useRef(!1),o=A.useRef(!1),l=A.useRef(0),u=A.useRef(null),d=A.useCallback(function(b,w){if(u.current!==null){var N=u.current,C=N.scrollTop,T=N.scrollHeight,j=N.clientHeight,E=u.current,O=w>0,M=T-j-C,_=!1;M>w&&a.current&&(r&&r(b),a.current=!1),O&&o.current&&(i&&i(b),o.current=!1),O&&w>M?(n&&!a.current&&n(b),E.scrollTop=T,_=!0,a.current=!0):!O&&-w>C&&(s&&!o.current&&s(b),E.scrollTop=0,_=!0,o.current=!0),_&&mxe(b)}},[n,r,s,i]),h=A.useCallback(function(b){d(b,b.deltaY)},[d]),p=A.useCallback(function(b){l.current=b.changedTouches[0].clientY},[]),g=A.useCallback(function(b){var w=l.current-b.changedTouches[0].clientY;d(b,w)},[d]),x=A.useCallback(function(b){if(b){var w=Lge?{passive:!1}:!1;b.addEventListener("wheel",h,w),b.addEventListener("touchstart",p,w),b.addEventListener("touchmove",g,w)}},[g,p,h]),v=A.useCallback(function(b){b&&(b.removeEventListener("wheel",h,!1),b.removeEventListener("touchstart",p,!1),b.removeEventListener("touchmove",g,!1))},[g,p,h]);return A.useEffect(function(){if(e){var b=u.current;return x(b),function(){v(b)}}},[e,x,v]),function(b){u.current=b}}var nA=["boxSizing","height","overflow","paddingRight","position"],rA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function sA(t){t.cancelable&&t.preventDefault()}function iA(t){t.stopPropagation()}function aA(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function oA(){return"ontouchstart"in window||navigator.maxTouchPoints}var lA=!!(typeof window<"u"&&window.document&&window.document.createElement),jd=0,Tc={capture:!1,passive:!1};function gxe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=A.useRef({}),i=A.useRef(null),a=A.useCallback(function(l){if(lA){var u=document.body,d=u&&u.style;if(r&&nA.forEach(function(x){var v=d&&d[x];s.current[x]=v}),r&&jd<1){var h=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+h||0;Object.keys(rA).forEach(function(x){var v=rA[x];d&&(d[x]=v)}),d&&(d.paddingRight="".concat(g,"px"))}u&&oA()&&(u.addEventListener("touchmove",sA,Tc),l&&(l.addEventListener("touchstart",aA,Tc),l.addEventListener("touchmove",iA,Tc))),jd+=1}},[r]),o=A.useCallback(function(l){if(lA){var u=document.body,d=u&&u.style;jd=Math.max(jd-1,0),r&&jd<1&&nA.forEach(function(h){var p=s.current[h];d&&(d[h]=p)}),u&&oA()&&(u.removeEventListener("touchmove",sA,Tc),l&&(l.removeEventListener("touchstart",aA,Tc),l.removeEventListener("touchmove",iA,Tc)))}},[r]);return A.useEffect(function(){if(e){var l=i.current;return a(l),function(){o(l)}}},[e,a,o]),function(l){i.current=l}}var xxe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},yxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function bxe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,a=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,u=pxe({isEnabled:s,onBottomArrive:i,onBottomLeave:a,onTopArrive:o,onTopLeave:l}),d=gxe({isEnabled:n}),h=function(g){u(g),d(g)};return ze(A.Fragment,null,n&&ze("div",{onClick:xxe,css:yxe}),e(h))}var vxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},wxe=function(e){var n=e.name,r=e.onFocus;return ze("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:vxe,value:"",onChange:function(){}})},Sxe=wxe;function bC(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Nxe(){return bC(/^iPhone/i)}function OF(){return bC(/^Mac/i)}function Cxe(){return bC(/^iPad/i)||OF()&&navigator.maxTouchPoints>1}function jxe(){return Nxe()||Cxe()}function kxe(){return OF()||jxe()}var Txe=function(e){return e.label},Exe=function(e){return e.label},Mxe=function(e){return e.value},Axe=function(e){return!!e.isDisabled},Oxe={clearIndicator:h0e,container:n0e,control:v0e,dropdownIndicator:d0e,group:C0e,groupHeading:k0e,indicatorsContainer:a0e,indicatorSeparator:p0e,input:A0e,loadingIndicator:y0e,loadingMessage:Qge,menu:Uge,menuList:Gge,menuPortal:e0e,multiValue:I0e,multiValueLabel:L0e,multiValueRemove:R0e,noOptionsMessage:Xge,option:H0e,placeholder:q0e,singleValue:Y0e,valueContainer:s0e},Pxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},_xe=4,PF=4,Dxe=38,Ixe=PF*2,Lxe={baseUnit:PF,controlHeight:Dxe,menuGutter:Ixe},o1={borderRadius:_xe,colors:Pxe,spacing:Lxe},Rxe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Q6(),captureMenuScroll:!Q6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:dxe(),formatGroupLabel:Txe,getOptionLabel:Exe,getOptionValue:Mxe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Axe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Dge(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function cA(t,e,n,r){var s=IF(t,e,n),i=LF(t,e,n),a=DF(t,e),o=C0(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:a,value:o,index:r}}function Jp(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(a,o){return cA(t,a,e,o)}).filter(function(a){return dA(t,a)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=cA(t,n,e,r);return dA(t,i)?i:void 0}).filter(Rge)}function _F(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,cC(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function uA(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,cC(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Fxe(t,e){return _F(Jp(t,e))}function dA(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,a=e.label,o=e.value;return(!FF(t)||!i)&&RF(t,{label:a,value:o,data:s},r)}function zxe(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function Vxe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var l1=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},DF=function(e,n){return e.getOptionLabel(n)},C0=function(e,n){return e.getOptionValue(n)};function IF(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function LF(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=C0(t,e);return n.some(function(s){return C0(t,s)===r})}function RF(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var FF=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},$xe=1,zF=(function(t){ope(n,t);var e=upe(n);function n(r){var s;if(ipe(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(l){s.controlRef=l},s.focusedOptionRef=null,s.getFocusedOptionRef=function(l){s.focusedOptionRef=l},s.menuListRef=null,s.getMenuListRef=function(l){s.menuListRef=l},s.inputRef=null,s.getInputRef=function(l){s.inputRef=l},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(l,u){var d=s.props,h=d.onChange,p=d.name;u.name=p,s.ariaOnChange(l,u),h(l,u)},s.setValue=function(l,u,d){var h=s.props,p=h.closeMenuOnSelect,g=h.isMulti,x=h.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:x}),p&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(l,{action:u,option:d})},s.selectOption=function(l){var u=s.props,d=u.blurInputOnSelect,h=u.isMulti,p=u.name,g=s.state.selectValue,x=h&&s.isOptionSelected(l,g),v=s.isOptionDisabled(l,g);if(x){var b=s.getOptionValue(l);s.setValue(g.filter(function(w){return s.getOptionValue(w)!==b}),"deselect-option",l)}else if(!v)h?s.setValue([].concat(cC(g),[l]),"select-option",l):s.setValue(l,"select-option");else{s.ariaOnChange(l,{action:"select-option",option:l,name:p});return}d&&s.blurInput()},s.removeValue=function(l){var u=s.props.isMulti,d=s.state.selectValue,h=s.getOptionValue(l),p=d.filter(function(x){return s.getOptionValue(x)!==h}),g=vp(u,p,p[0]||null);s.onChange(g,{action:"remove-value",removedValue:l}),s.focusInput()},s.clearValue=function(){var l=s.state.selectValue;s.onChange(vp(s.props.isMulti,[],null),{action:"clear",removedValues:l})},s.popValue=function(){var l=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),p=vp(l,h,h[0]||null);d&&s.onChange(p,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(l){return l1(s.state.focusableOptionsWithIds,l)},s.getFocusableOptionsWithIds=function(){return uA(Jp(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return Mge.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(l){return DF(s.props,l)},s.getOptionValue=function(l){return C0(s.props,l)},s.getStyles=function(l,u){var d=s.props.unstyled,h=Oxe[l](u,d);h.boxSizing="border-box";var p=s.props.styles[l];return p?p(h,u):h},s.getClassNames=function(l,u){var d,h;return(d=(h=s.props.classNames)[l])===null||d===void 0?void 0:d.call(h,u)},s.getElementId=function(l){return"".concat(s.state.instancePrefix,"-").concat(l)},s.getComponents=function(){return Z0e(s.props)},s.buildCategorizedOptions=function(){return Jp(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return _F(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(l,u){s.setState({ariaSelection:qe({value:l},u)})},s.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(l){s.blockOptionHover=!1},s.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},s.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,h=u.menuIsOpen;s.focusInput(),h?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),l.preventDefault()}},s.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(s.clearValue(),l.preventDefault(),s.openAfterFocus=!1,l.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(l){typeof s.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Ax(l.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(l)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-s.initialTouchX),p=Math.abs(d.clientY-s.initialTouchY),g=5;s.userIsDragging=h>g||p>g}},s.onTouchEnd=function(l){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(l.target)&&s.menuListRef&&!s.menuListRef.contains(l.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(l){s.userIsDragging||s.onControlMouseDown(l)},s.onClearIndicatorTouchEnd=function(l){s.userIsDragging||s.onClearIndicatorMouseDown(l)},s.onDropdownIndicatorTouchEnd=function(l){s.userIsDragging||s.onDropdownIndicatorMouseDown(l)},s.handleInputChange=function(l){var u=s.props.inputValue,d=l.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(l){s.props.onFocus&&s.props.onFocus(l),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(l){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(l),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(l){if(!(s.blockOptionHover||s.state.focusedOption===l)){var u=s.getFocusableOptions(),d=u.indexOf(l);s.setState({focusedOption:l,focusedOptionId:d>-1?s.getFocusedOptionId(l):null})}},s.shouldHideSelectedOptions=function(){return FF(s.props)},s.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),s.focus()},s.onKeyDown=function(l){var u=s.props,d=u.isMulti,h=u.backspaceRemovesValue,p=u.escapeClearsValue,g=u.inputValue,x=u.isClearable,v=u.isDisabled,b=u.menuIsOpen,w=u.onKeyDown,N=u.tabSelectsValue,C=u.openMenuOnFocus,T=s.state,j=T.focusedOption,E=T.focusedValue,O=T.selectValue;if(!v&&!(typeof w=="function"&&(w(l),l.defaultPrevented))){switch(s.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||g)return;s.focusValue("previous");break;case"ArrowRight":if(!d||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(E)s.removeValue(E);else{if(!h)return;d?s.popValue():x&&s.clearValue()}break;case"Tab":if(s.isComposing||l.shiftKey||!b||!N||!j||C&&s.isOptionSelected(j,O))return;s.selectOption(j);break;case"Enter":if(l.keyCode===229)break;if(b){if(!j||s.isComposing)return;s.selectOption(j);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):x&&p&&s.clearValue();break;case" ":if(g)return;if(!b){s.openMenu("first");break}if(!j)return;s.selectOption(j);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}l.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++$xe),s.state.selectValue=Y6(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),a=s.buildFocusableOptions(),o=a.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=a[o],s.state.focusedOptionId=l1(i,a[o])}return s}return ape(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&X6(this.menuListRef,this.focusedOptionRef),kxe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,a=i.isDisabled,o=i.menuIsOpen,l=this.state.isFocused;(l&&!a&&s.isDisabled||l&&o&&!s.menuIsOpen)&&this.focusInput(),l&&a&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(X6(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,a=this.state,o=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(o[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,a=i.selectValue,o=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(o);o||(l=-1);var u=a.length-1,d=-1;if(a.length){switch(s){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:a[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,u=o.indexOf(a);a||(u=-1),s==="up"?l=u>0?u-1:o.length-1:s==="down"?l=(u+1)%o.length:s==="pageup"?(l=u-i,l<0&&(l=0)):s==="pagedown"?(l=u+i,l>o.length-1&&(l=o.length-1)):s==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(o1):qe(qe({},o1),this.props.theme):o1})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,a=this.getStyles,o=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,p=h.isMulti,g=h.isRtl,x=h.options,v=this.hasValue();return{clearValue:s,cx:i,getStyles:a,getClassNames:o,getValue:l,hasValue:v,isMulti:p,isRtl:g,options:x,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,a=s.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(s,i){return IF(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return LF(this.props,s,i)}},{key:"filterOption",value:function(s,i){return RF(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:a,selectValue:o})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,a=s.isSearchable,o=s.inputId,l=s.inputValue,u=s.tabIndex,d=s.form,h=s.menuIsOpen,p=s.required,g=this.getComponents(),x=g.Input,v=this.state,b=v.inputIsHidden,w=v.ariaSelection,N=this.commonProps,C=o||this.getElementId("input"),T=qe(qe(qe({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?w?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?A.createElement(x,Ke({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},T)):A.createElement(hxe,Ke({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:S0,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},T))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),a=i.MultiValue,o=i.MultiValueContainer,l=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,h=i.Placeholder,p=this.commonProps,g=this.props,x=g.controlShouldRenderValue,v=g.isDisabled,b=g.isMulti,w=g.inputValue,N=g.placeholder,C=this.state,T=C.selectValue,j=C.focusedValue,E=C.isFocused;if(!this.hasValue()||!x)return w?null:A.createElement(h,Ke({},p,{key:"placeholder",isDisabled:v,isFocused:E,innerProps:{id:this.getElementId("placeholder")}}),N);if(b)return T.map(function(M,_){var D=M===j,I="".concat(s.getOptionLabel(M),"-").concat(s.getOptionValue(M));return A.createElement(a,Ke({},p,{components:{Container:o,Label:l,Remove:u},isFocused:D,isDisabled:v,key:I,index:_,removeProps:{onClick:function(){return s.removeValue(M)},onTouchEnd:function(){return s.removeValue(M)},onMouseDown:function(Y){Y.preventDefault()}},data:M}),s.formatOptionLabel(M,"value"))});if(w)return null;var O=T[0];return A.createElement(d,Ke({},p,{data:O,isDisabled:v}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,u=o.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(i,Ke({},a,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,u=o.isLoading,d=this.state.isFocused;if(!i||!u)return null;var h={"aria-hidden":"true"};return A.createElement(i,Ke({},a,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,a=s.IndicatorSeparator;if(!i||!a)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return A.createElement(a,Ke({},o,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var a=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(i,Ke({},a,{innerProps:u,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),a=i.Group,o=i.GroupHeading,l=i.Menu,u=i.MenuList,d=i.MenuPortal,h=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,x=this.commonProps,v=this.state.focusedOption,b=this.props,w=b.captureMenuScroll,N=b.inputValue,C=b.isLoading,T=b.loadingMessage,j=b.minMenuHeight,E=b.maxMenuHeight,O=b.menuIsOpen,M=b.menuPlacement,_=b.menuPosition,D=b.menuPortalTarget,I=b.menuShouldBlockScroll,F=b.menuShouldScrollIntoView,Y=b.noOptionsMessage,G=b.onMenuScrollToTop,W=b.onMenuScrollToBottom;if(!O)return null;var R=function(ne,ie){var le=ne.type,be=ne.data,Ae=ne.isDisabled,Le=ne.isSelected,ae=ne.label,fe=ne.value,Ye=v===be,ke=Ae?void 0:function(){return s.onOptionHover(be)},xe=Ae?void 0:function(){return s.selectOption(be)},He="".concat(s.getElementId("option"),"-").concat(ie),Ee={id:He,onClick:xe,onMouseMove:ke,onMouseOver:ke,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:Le};return A.createElement(g,Ke({},x,{innerProps:Ee,data:be,isDisabled:Ae,isSelected:Le,key:He,label:ae,type:le,value:fe,isFocused:Ye,innerRef:Ye?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ne.data,"menu"))},V;if(this.hasOptions())V=this.getCategorizedOptions().map(function(J){if(J.type==="group"){var ne=J.data,ie=J.options,le=J.index,be="".concat(s.getElementId("group"),"-").concat(le),Ae="".concat(be,"-heading");return A.createElement(a,Ke({},x,{key:be,data:ne,options:ie,Heading:o,headingProps:{id:Ae,data:J.data},label:s.formatGroupLabel(J.data)}),J.options.map(function(Le){return R(Le,"".concat(le,"-").concat(Le.index))}))}else if(J.type==="option")return R(J,"".concat(J.index))});else if(C){var z=T({inputValue:N});if(z===null)return null;V=A.createElement(h,x,z)}else{var q=Y({inputValue:N});if(q===null)return null;V=A.createElement(p,x,q)}var Q={minMenuHeight:j,maxMenuHeight:E,menuPlacement:M,menuPosition:_,menuShouldScrollIntoView:F},B=A.createElement(Wge,Ke({},x,Q),function(J){var ne=J.ref,ie=J.placerProps,le=ie.placement,be=ie.maxHeight;return A.createElement(l,Ke({},x,Q,{innerRef:ne,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:C,placement:le}),A.createElement(bxe,{captureEnabled:w,onTopArrive:G,onBottomArrive:W,lockEnabled:I},function(Ae){return A.createElement(u,Ke({},x,{innerRef:function(ae){s.getMenuListRef(ae),Ae(ae)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:s.getElementId("listbox")},isLoading:C,maxHeight:be,focusedOption:v}),V)}))});return D||_==="fixed"?A.createElement(d,Ke({},x,{appendTo:D,controlElement:this.controlRef,menuPlacement:M,menuPosition:_}),B):B}},{key:"renderFormField",value:function(){var s=this,i=this.props,a=i.delimiter,o=i.isDisabled,l=i.isMulti,u=i.name,d=i.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!o)return A.createElement(Sxe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||o))if(l)if(a){var p=h.map(function(v){return s.getOptionValue(v)}).join(a);return A.createElement("input",{name:u,type:"hidden",value:p})}else{var g=h.length>0?h.map(function(v,b){return A.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(v)})}):A.createElement("input",{name:u,type:"hidden",value:""});return A.createElement("div",null,g)}else{var x=h[0]?this.getOptionValue(h[0]):"";return A.createElement("input",{name:u,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,a=i.ariaSelection,o=i.focusedOption,l=i.focusedValue,u=i.isFocused,d=i.selectValue,h=this.getFocusableOptions();return A.createElement(oxe,Ke({},s,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:o,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,a=s.IndicatorsContainer,o=s.SelectContainer,l=s.ValueContainer,u=this.props,d=u.className,h=u.id,p=u.isDisabled,g=u.menuIsOpen,x=this.state.isFocused,v=this.commonProps=this.getCommonProps();return A.createElement(o,Ke({},v,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:x}),this.renderLiveRegion(),A.createElement(i,Ke({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:x,menuIsOpen:g}),A.createElement(l,Ke({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),A.createElement(a,Ke({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var a=i.prevProps,o=i.clearFocusValueOnUpdate,l=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,h=i.prevWasFocused,p=i.instancePrefix,g=s.options,x=s.value,v=s.menuIsOpen,b=s.inputValue,w=s.isMulti,N=Y6(x),C={};if(a&&(x!==a.value||g!==a.options||v!==a.menuIsOpen||b!==a.inputValue)){var T=v?Fxe(s,N):[],j=v?uA(Jp(s,N),"".concat(p,"-option")):[],E=o?zxe(i,N):null,O=Vxe(i,T),M=l1(j,O);C={selectValue:N,focusedOption:O,focusedOptionId:M,focusableOptionsWithIds:j,focusedValue:E,clearFocusValueOnUpdate:!1}}var _=l!=null&&s!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},D=u,I=d&&h;return d&&!I&&(D={value:vp(w,N,N[0]||null),options:N,action:"initial-input-focus"},I=!h),u?.action==="initial-input-focus"&&(D=null),qe(qe(qe({},C),_),{},{prevProps:s,ariaSelection:D,prevWasFocused:I})}}]),n})(A.Component);zF.defaultProps=Rxe;var Bxe=A.forwardRef(function(t,e){var n=spe(t);return A.createElement(zF,Ke({ref:e},n))}),Zi=Bxe;function Hxe({openModalProduct:t,setOpenModalProduct:e,selectorderItems:n,products:r,setFilterProduct:s,setValue:i}){const[a,o]=A.useState(null),[l,u]=A.useState({productName:"",categoryId:void 0}),{data:d}=et({queryKey:["getAllCategory"],queryFn:Cx}),h=()=>{s(g=>({...g,categoryId:l.categoryId,productName:l.productName}))},p=g=>{if(n.some(v=>v.variantId===g.variantId)){ue.error("Sn phm ny  c trong danh sch");return}i("orderItems",[...n,g],{shouldValidate:!0,shouldDirty:!0}),e(!1)};return c.jsxs(St,{open:t,className:"relative w-[80rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(!1),children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[2rem]",children:"Chn sn phm"}),a?c.jsx(Uxe,{product:a,onBack:()=>o(null),onAdd:p}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-[1.5rem] shadow-lg p-[2rem] border border-gray-100 rounded-xl",children:[c.jsx("input",{type:"text",name:"productName",placeholder:"Tn sn phm...",value:l.productName,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value}))}),c.jsxs("select",{name:"categoryId",id:"categoryId",value:l.categoryId,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 text-gray-600 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value})),children:[c.jsx("option",{value:"",children:"Danh mc"}),d?.map(g=>c.jsx("option",{value:g.id,children:g.categoryName},g.id))]}),c.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onClick:()=>h(),children:[c.jsx($,{icon:fi}),c.jsx("span",{className:"block",children:"Lc"})]})]}),c.jsx("div",{className:"min-h-[28rem] max-h-[40rem] overflow-auto",children:r?.length>0?c.jsx("div",{className:"grid grid-cols-4 max-h-[40rem] gap-[2rem] mt-[2rem]",children:r?.map(g=>c.jsxs("div",{className:"border border-gray-200 shadow-lg rounded-xl p-4 hover:shadow-xl hover:scale-[1.02] hover-linear cursor-pointer group",onClick:()=>o(g),children:[c.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden",children:c.jsx("img",{src:g.mainImage,alt:g.productName,className:"w-full h-full object-cover"})}),c.jsx("h4",{className:"font-medium text-limit-1 text-gray-800 mb-1",children:g.productName}),c.jsxs("p",{className:"text-sm text-gray-500",children:[g.variants.length," phin bn"]}),c.jsx("p",{className:"text-[1.4rem] text-green-600 font-semibold mt-2",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g.price)})]},g.id))}):c.jsx("div",{className:"w-full text-center mt-[2rem]",children:"Khng c sn phm no"})}),c.jsxs("div",{className:"flex items-center justify-end gap-[1rem] mt-[2rem]",children:[c.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:()=>e(!1),children:"Hy"}),c.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",children:"Chn"})]})]})]})}function Uxe({product:t,onBack:e,onAdd:n}){const[r,s]=A.useState(null),[i,a]=A.useState(null),[o,l]=A.useState(1),u=()=>t.variants.find(w=>w.variantColor.id===i?.id&&w.variantSize.id===r?.id)?.inventory??0;A.useEffect(()=>{const b=u();if(!i||!r){l(1);return}l(w=>w>b?b>0?b:1:w)},[i,r]);const d=i&&r,h=t.variants.reduce((b,w)=>b+w.inventory,0),p=u(),g=A.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantColor.id,w.variantColor)),[...b.values()]},[t]),x=A.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantSize.id,w.variantSize)),[...b.values()]},[t]),v=()=>{const b=t.category.categoryName?.toUpperCase()||"";return b.includes("giy")||b.includes("dp")?rS:iS};return c.jsxs("div",{className:"mt-[2rem]",children:[c.jsx("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:" Quay li"}),c.jsxs("div",{className:"flex gap-[2rem] w-full max-h-[55rem] overflow-y-auto hide-scrollbar",children:[c.jsx("div",{className:"w-[30rem] h-[30rem] rounded-xl ",children:c.jsx("img",{src:t.mainImage,alt:`imgage-${t.productName}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-[1.8rem] text-gray-800 font-bold",children:t.productName}),c.jsxs("div",{className:"flex items-center gap-[.1rem] mt-[1rem]",children:[c.jsx($,{icon:ni,className:"text-[1rem] text-amber-400"}),c.jsx($,{icon:ni,className:"text-[1rem] text-amber-400"}),c.jsx($,{icon:ni,className:"text-[1rem] text-amber-400"}),c.jsx($,{icon:ni,className:"text-[1rem] text-amber-400"}),c.jsx($,{icon:ni,className:"text-[1rem] text-amber-400"})]}),c.jsxs("div",{className:"mt-[1rem] flex items-center gap-[.5rem]",children:[c.jsx("span",{className:"text-gray-600",children:"Gi gc"}),c.jsx("span",{className:"text-green-600 text-[2rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.price)})]}),c.jsxs("div",{className:"mt-[1rem]",children:[c.jsx("span",{className:"block text-gray-600",children:"Chn mu:"}),c.jsx("div",{className:"flex items-center gap-[1rem] w-full flex-wrap mt-[.5rem]",children:g.map(b=>c.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${i?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>a(b),children:[c.jsx($,{icon:v(),className:"bg-gray-100 p-[.2rem]",style:{color:b.hexCode}}),c.jsx("span",{className:"text-[1.4rem] text-gray-600",children:b.name})]},b.id))}),c.jsx("span",{className:"block text-gray-600 mt-[2rem]",children:"Chn size:"}),c.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap mt-[.5rem]",children:x?.map(b=>{const w=i?t.variants.find(N=>N.variantColor.id===i.id&&N.variantSize.id===b?.id):!1;return c.jsx("button",{className:`flex items-center gap-[.5rem] px-[2rem] py-[.6rem] border rounded-[.5rem] ${w?r?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!w,onClick:()=>s(b),children:c.jsx("span",{className:"text-[1.4rem]",children:b.name})},b.id)})}),c.jsxs("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:[c.jsx("span",{className:"block text-gray-600 ",children:"S lng:"}),c.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[c.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{i&&r&&l(b=>Math.max(1,b-1))},children:c.jsx($,{icon:jl,className:"text-[1rem]"})}),c.jsx("input",{type:"number",value:o,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!d,onChange:b=>l(Number(b.target.value))}),c.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{r&&i&&l(b=>Math.min(Number(t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r?.id)?.inventory),Number(b)+1))},children:c.jsx($,{icon:co,className:"text-[1rem]"})})]}),c.jsx("span",{className:"text-[1.4rem] text-gray-600 uppercase select-none",children:d?`Cn ${p} sn phm`:h>0?"Cn hng":"Ht hng"})]})]}),c.jsxs("div",{className:"flex justify-end items-center mt-[2rem] gap-[1rem]",children:[c.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:e,children:"Hy"}),c.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",onClick:()=>{if(!i||!r){ue.error("Vui lng chn mu sc v size!");return}const b=t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r.id);if(!b){ue.error("Sn phm khng tn ti trong kho!");return}n({productId:t.id,variantId:b.id,quantity:o,price:b.price??t.price})},children:"Chn"})]})]})]})]})}function Wxe({open:t,onClose:e,refetch:n}){const{register:r,handleSubmit:s,control:i,setValue:a,watch:o,formState:{errors:l,isSubmitting:u},reset:d}=gi({resolver:Q8(Yme),defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerProvince:"",customerDistrict:"",customerWard:"",customerNote:"",paymentMethod:Wr.COD,couponCode:"",orderItems:[]},mode:"onSubmit",reValidateMode:"onChange"}),{data:h}=et({queryKey:["province"],queryFn:lC}),[p,g]=A.useState({page:1,limit:20,productName:"",categoryId:void 0}),{data:x}=et({queryKey:["products",p],queryFn:LI}),[v,b]=A.useState(!1),w=o("customerProvince"),N=o("customerDistrict"),C=o("orderItems"),j=h?.find(R=>R.name===w)?.districts??[],O=j.find(R=>R.name===N)?.wards??[],M=h?.map(R=>({value:R.name,label:R.name})),_=j?.map(R=>({value:R.name,label:R.name})),D=O?.map(R=>({value:R.name,label:R.name})),F=C.reduce((R,V)=>{const z=x?.find(B=>B.id===V.productId),Q=z?.variants.find(B=>B.id===V.variantId)?.price??z?.price??0;return R+Q*V.quantity},0),Y=async R=>{try{const V=await Se.post("/api/v1/orders/create",R);V.status?(ue.success(V.message||"To n hng thnh cng"),await n(),e()):ue.error(V.message||"To n hng tht bi")}catch(V){console.log(V),ue.error(V.message||"Li khng th t hng! ")}},G=(R,V)=>{const z=[...C],q=z[R];V==="decre"?q.quantity>1&&(q.quantity-=1):q.quantity+=1,a("orderItems",z,{shouldValidate:!0,shouldDirty:!0})},W=R=>{const V=C.filter((z,q)=>q!==R);a("orderItems",V,{shouldValidate:!0,shouldDirty:!0})};return c.jsxs(St,{open:t,className:"relative w-[80%] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e(),d()},children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[3rem]",children:"To n hng"}),c.jsxs("form",{onSubmit:s(Y),children:[c.jsxs("div",{className:"flex max-h-[55rem] overflow-auto",children:[c.jsxs("div",{className:"w-[45%] pr-[2rem]",children:[c.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin sn phm"}),c.jsx("label",{className:"text-gray-600",children:"Thm sn phm"}),c.jsxs("div",{className:"w-full h-[10rem] mt-[.5rem] flex flex-col items-center justify-center border-[.3rem] border-gray-300 border-dashed rounded-xl text-gray-600 cursor-pointer",onClick:()=>b(!0),children:[c.jsx($,{icon:ys,className:"text-[2rem] text-gray-500"}),c.jsx("span",{children:"Thm sn phm"})]}),l.orderItems&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.orderItems.message}),c.jsxs("label",{className:"block text-gray-600 mt-[2rem]",children:["Sn phm  chn (",C.length,")"]}),C.length===0&&c.jsx("div",{className:"p-[1.5rem] text-gray-500 text-center",children:"Cha c sn phm no"}),c.jsx("div",{className:"mt-[1rem] w-full max-h-[30rem] overflow-x-auto",children:c.jsx("div",{className:"min-w-[48rem] space-y-2",children:C.map((R,V)=>{const z=x.find(B=>B.id===R.productId),q=z.variants.find(B=>B.id===R.variantId),Q=q?.price??z.price;return c.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border border-gray-300 rounded-xl bg-gray-50",children:[c.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[18rem]",children:[c.jsx("img",{src:z.mainImage,alt:`main image ${z.productName}`,className:"w-[4rem] h-[4rem] rounded-md object-cover"}),c.jsxs("div",{className:"max-w-[15rem]",children:[c.jsx("h5",{className:"text-gray-800 text-[1.4rem] text-limit-1",children:z.productName}),c.jsxs("div",{className:"flex items-center",children:[c.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] border-r border-gray-500",children:["Size: ",q?.variantSize.name]}),c.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] pl-[.5rem]",children:["Mu: ",q?.variantColor.name]})]}),c.jsx("span",{className:"text-[1.2rem] text-green-800 ",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Q)})]})]}),c.jsxs("div",{className:"flex items-center gap-[.5rem] min-w-[8rem]",children:[c.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>G(V,"decre"),children:c.jsx($,{icon:jl,className:"text-[1rem]"})}),c.jsx("input",{type:"number",id:`quantity-${V}`,name:`quantity-${V}`,value:R.quantity,className:"w-[3.5rem] h-[2.5rem] rounded-lg border border-gray-300 outline-none text-[1rem] pl-[.5rem]"}),c.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>G(V,"incre"),children:c.jsx($,{icon:co,className:"text-[1rem]"})})]}),c.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[8rem]",children:[c.jsx("span",{className:"text-[1.4rem] select-none",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Q*R.quantity)}),c.jsx("button",{type:"button",className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg bg-red-100 cursor-pointer",onClick:()=>W(V),children:c.jsx($,{icon:Su,className:"text-[1.2rem] text-red-400"})})]})]},V)})})}),c.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm p-6 mt-6",children:[c.jsxs("div",{className:"flex justify-between items-center py-3",children:[c.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Tm tnh:"}),c.jsx("span",{className:"text-gray-800 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(F)})]}),c.jsxs("div",{className:"flex justify-between items-center py-3",children:[c.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Ph vn chuyn:"}),c.jsx("span",{className:"text-green-600 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium block mb-3",children:"M gim gi:"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"text",id:"couponCode",placeholder:"Nhp m gim gi",className:"flex-1 h-[4rem] px-4 outline-none border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),c.jsx("button",{type:"button",className:"w-28 h-[4rem] text-[1.4rem] font-medium rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transition-all shadow-sm hover:shadow-md",children:"p dng"})]})]}),c.jsxs("div",{className:"flex justify-between items-center py-3 mt-2",children:[c.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Gim gi:"}),c.jsx("span",{className:"text-red-500 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),c.jsxs("div",{className:"py-3 border-t border-gray-200 mt-4 pt-4",children:[c.jsx("h4",{className:"text-[1.4rem] text-gray-800 font-bold mb-2",children:"Phng thc thanh ton"}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-600 text-xs",children:""})}),c.jsx("p",{className:"text-[1.4rem]",children:"Thanh ton khi nhn hng (COD)"})]})]}),c.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-gray-200 mt-4 pt-4 bg-gray-50 -mx-6 px-6 rounded-b-xl",children:[c.jsx("span",{className:"text-gray-800 font-bold text-[1.8rem]",children:"Tng thanh ton:"}),c.jsx("span",{className:"text-green-600 font-bold text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(F)})]})]})]}),c.jsxs("div",{className:"w-[55%] pl-[2rem] border-l border-l-gray-300",children:[c.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin khch hng"}),c.jsxs("div",{className:"flex items-start gap-[2rem]",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"customerName",className:"text-gray-600",children:"Tn khch hng"}),c.jsx("input",{type:"text",id:"customerName",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerName")}),l.customerName&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerName.message})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email khch hng"}),c.jsx("input",{type:"email",id:"customerEmail",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem]  focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerEmail")}),l.customerEmail&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerEmail.message})]})]}),c.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),c.jsx("input",{type:"number",id:"customerPhone",placeholder:"St khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerPhone")}),l.customerName&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerName.message})]})}),c.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:c.jsxs("div",{className:"w-full",children:[c.jsx("label",{className:"text-gray-600",children:"a ch"}),c.jsxs("div",{className:"flex items-start gap-[2rem]  mt-[.5rem]",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(oi,{control:i,name:"customerProvince",render:({field:R})=>c.jsx(Zi,{...R,options:M,placeholder:"Tnh...",isSearchable:!0,value:M?.find(V=>V.value===R.value)||null,onChange:V=>{R.onChange(V?.value),a("customerDistrict",""),a("customerWard","")},styles:{control:(V,z)=>({...V,height:"4rem"})},theme:V=>({...V,colors:{...V.colors,primary:"cyan"}})})}),l.customerProvince&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerProvince.message})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(oi,{control:i,name:"customerDistrict",render:({field:R})=>c.jsx(Zi,{...R,options:_,placeholder:"Huyn...",isSearchable:!0,value:_?.find(V=>V.value===R.value)||null,onChange:V=>{R.onChange(V?.value),a("customerWard","")},styles:{control:V=>({...V,height:"4rem"})},theme:V=>({...V,colors:{...V.colors,primary:"cyan"}})})}),l.customerDistrict&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerDistrict.message})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(oi,{control:i,name:"customerWard",render:({field:R})=>c.jsx(Zi,{...R,options:D,placeholder:"Phng...",isSearchable:!0,value:D?.find(V=>V.value===R.value)||null,onChange:V=>{R.onChange(V?.value)},styles:{control:V=>({...V,height:"4rem"})},theme:V=>({...V,colors:{...V.colors,primary:"cyan"}})})}),l.customerWard&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerWard.message})]})]})]})}),c.jsxs("div",{className:"w-full mt-[2rem]",children:[c.jsx("label",{htmlFor:"customerAddress",className:"text-gray-600",children:"Tn ng / x / s nh"}),c.jsx("input",{type:"text",id:"customerAddress",placeholder:"...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerAddress")}),l.customerAddress&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerAddress.message})]}),c.jsx("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"customerNote",className:"text-gray-600",children:"Ghi ch"}),c.jsx("textarea",{id:"customerNote",placeholder:"Ghi ch...",rows:3,className:"w-full rounded-lg border border-gray-300 outline-none px-[1.5rem] pt-[.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerNote")}),l.customerNote&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.customerNote.message})]})})]})]}),c.jsxs("div",{className:"flex items-center justify-end mt-[2rem] gap-[1rem]",children:[c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e(),d()},disabled:u,children:"Hy"}),c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:u,children:u?"ang to...":"To"})]})]}),c.jsx(Hxe,{openModalProduct:v,setOpenModalProduct:b,selectorderItems:C,products:x,setFilterProduct:g,setValue:a})]})}const $n=t=>({[De.PENDING]:{text:"Ch xc nhn",bgColor:"bg-amber-100",textColor:"text-amber-600",borderColor:"border-amber-200"},[De.CONFIRMED]:{text:" xc nhn",bgColor:"bg-blue-100",textColor:"text-blue-600",borderColor:"border-blue-200"},[De.SHIPPING]:{text:"ang giao",bgColor:"bg-indigo-100",textColor:"text-indigo-600",borderColor:"border-indigo-200"},[De.DELIVERED]:{text:" giao",bgColor:"bg-emerald-100",textColor:"text-emerald-600",borderColor:"border-emerald-200"},[De.COMPLETED]:{text:"Hon thnh",bgColor:"bg-green-100",textColor:"text-green-600",borderColor:"border-green-200"},[De.CANCELLED]:{text:" hy",bgColor:"bg-red-100",textColor:"text-red-600",borderColor:"border-red-200"}})[t]||{text:t,bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-200"};function VF({open:t,onClose:e,orderData:n,refetch:r}){const[s,i]=A.useState(null),[a,o]=A.useState(!1);A.useEffect(()=>{n&&i(n.status)},[n]);const l=async()=>{if(!n?.id){ue.error("Khng c id ca sn phm");return}o(!0);try{const u=await Se.patch(`/api/v1/orders/update-status/${n?.id}`,{status:s});u.status?(ue.success(u.message||"Cp nht thnh cng!"),await r(),e()):(ue.error(u.message||"Cp nht khng thnh cng!"),e())}catch(u){console.log(u),e(),ue.error(u.message||"Li khng th cp nht trng thi!")}finally{o(!1)}};return c.jsxs(St,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsx("h2",{className:"text-[2rem] text-amber-600 text-center font-semibold mb-[2rem]",children:"Cp nht trng thi"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-gray-600",children:"Trng thi n hng"}),c.jsx("select",{name:"status",id:"status",value:s??void 0,className:"w-full h-[4rem] rounded-lg border border-gray-300 mt-[.5rem] outline-none pl-[1.5rem] text-gray-600",onChange:u=>i(u.target.value),children:Object.entries(De).map(([u,d])=>c.jsx("option",{value:d,children:$n(d).text},u))})]}),c.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:a,children:"Hy"}),c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:a,onClick:()=>l(),children:a?"ang cp nht...":"Cp nht"})]})]})}var Zp={exports:{}},qxe=Zp.exports,fA;function Kxe(){return fA||(fA=1,(function(t,e){(function(n,r){t.exports=r(mu())})(typeof self<"u"?self:qxe,function(n){return(function(){var r={155:function(N){N.exports=n}},s={};function i(N){var C=s[N];if(C!==void 0)return C.exports;var T=s[N]={exports:{}};return r[N](T,T.exports,i),T.exports}i.d=function(N,C){for(var T in C)i.o(C,T)&&!i.o(N,T)&&Object.defineProperty(N,T,{enumerable:!0,get:C[T]})},i.o=function(N,C){return Object.prototype.hasOwnProperty.call(N,C)},i.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{useReactToPrint:function(){return w}});var o=i(155);const l="printWindow";function u({level:N="error",messages:C,suppressErrors:T=!1}){T||(N==="error"?console.error(C):N==="warning"?console.warn(C):console.debug(C))}function d(N,C){if(C||!N){const T=document.getElementById(l);T&&document.body.removeChild(T)}}function h(N){return N instanceof Error?N:new Error("Unknown Error")}function p(N,C){const{documentTitle:T,onAfterPrint:j,onPrintError:E,preserveAfterPrint:O,print:M,suppressErrors:_}=C;setTimeout(()=>{var D,I;if(N.contentWindow){let Y=function(){j?.(),d(O)};var F=Y;if(N.contentWindow.focus(),M)M(N).then(Y).catch(G=>{E?E("print",h(G)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:_})});else{if(N.contentWindow.print){const G=(I=(D=N.contentDocument)===null||D===void 0?void 0:D.title)!==null&&I!==void 0?I:"",W=N.ownerDocument.title;T&&(N.ownerDocument.title=T,N.contentDocument&&(N.contentDocument.title=T)),N.contentWindow.print(),T&&(N.ownerDocument.title=W,N.contentDocument&&(N.contentDocument.title=G))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:_});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(G=>{var W,R;return((R=(W=navigator.userAgent)!==null&&W!==void 0?W:navigator.vendor)!==null&&R!==void 0?R:"opera"in window&&window.opera).match(G)})?setTimeout(Y,500):Y()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:_})},500)}function g(N){const C=[],T=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let j=T.nextNode();for(;j;)C.push(j),j=T.nextNode();return C}function x(N,C,T){const j=g(N),E=g(C);if(j.length===E.length)for(let O=0;O<j.length;O++){const M=j[O],_=E[O],D=M.shadowRoot;if(D!==null){const I=_.attachShadow({mode:D.mode});I.innerHTML=D.innerHTML,x(D,I,T)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,C],suppressErrors:T})}const v=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(N,C,T,j){var E,O,M,_,D;const{contentNode:I,clonedContentNode:F,clonedImgNodes:Y,clonedVideoNodes:G,numResourcesToLoad:W,originalCanvasNodes:R}=T,{bodyClass:V,fonts:z,ignoreGlobalStyles:q,pageStyle:Q,nonce:B,suppressErrors:J,copyShadowRoots:ne}=j;N.onload=null;const ie=(E=N.contentDocument)!==null&&E!==void 0?E:(O=N.contentWindow)===null||O===void 0?void 0:O.document;if(ie){const le=ie.body.appendChild(F);ne&&x(I,le,!!J),z&&(!((M=N.contentDocument)===null||M===void 0)&&M.fonts&&(!((_=N.contentWindow)===null||_===void 0)&&_.FontFace)?z.forEach(ke=>{const xe=new FontFace(ke.family,ke.source,{weight:ke.weight,style:ke.style});N.contentDocument.fonts.add(xe),xe.loaded.then(()=>{C(xe)}).catch(He=>{C(xe,["Failed loading the font:",xe,"Load error:",h(He)])})}):(z.forEach(ke=>{C(ke)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:J})));const be=Q??v,Ae=ie.createElement("style");B&&(Ae.setAttribute("nonce",B),ie.head.setAttribute("nonce",B)),Ae.appendChild(ie.createTextNode(be)),ie.head.appendChild(Ae),V&&ie.body.classList.add(...V.split(" "));const Le=ie.querySelectorAll("canvas");for(let ke=0;ke<R.length;++ke){const xe=R[ke],He=Le[ke];if(He===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",xe],suppressErrors:J});continue}const Ee=He.getContext("2d");Ee&&Ee.drawImage(xe,0,0)}for(let ke=0;ke<Y.length;ke++){const xe=Y[ke],He=xe.getAttribute("src");if(He){const Ee=new Image;Ee.onload=()=>{C(xe)},Ee.onerror=(st,qt,mr,gn,U)=>{C(xe,["Error loading <img>",xe,"Error",U])},Ee.src=He}else C(xe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',xe])}for(let ke=0;ke<G.length;ke++){const xe=G[ke];xe.preload="auto";const He=xe.getAttribute("poster");if(He){const Ee=new Image;Ee.onload=()=>{C(xe)},Ee.onerror=(st,qt,mr,gn,U)=>{C(xe,["Error loading video poster",He,"for video",xe,"Error:",U])},Ee.src=He}else xe.readyState>=2?C(xe):xe.src?(xe.onloadeddata=()=>{C(xe)},xe.onerror=(Ee,st,qt,mr,gn)=>{C(xe,["Error loading video",xe,"Error",gn])},xe.onstalled=()=>{C(xe,["Loading video stalled, skipping",xe])}):C(xe,["Error loading video, `src` is empty",xe])}const ae="select",fe=I.querySelectorAll(ae),Ye=ie.querySelectorAll(ae);for(let ke=0;ke<fe.length;ke++)Ye[ke].value=fe[ke].value;if(!q){const ke=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let xe=0,He=ke.length;xe<He;++xe){const Ee=ke[xe];if(Ee.tagName.toLowerCase()==="style"){const st=ie.createElement(Ee.tagName),qt=Ee.sheet;if(qt){let mr="";try{const gn=qt.cssRules.length;for(let U=0;U<gn;++U)typeof qt.cssRules[U].cssText=="string"&&(mr+=`${qt.cssRules[U].cssText}\r
`)}catch(gn){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ee,`Original error: ${h(gn).message}`],level:"warning"})}st.setAttribute("id",`react-to-print-${xe}`),B&&st.setAttribute("nonce",B),st.appendChild(ie.createTextNode(mr)),ie.head.appendChild(st)}}else if(Ee.getAttribute("href"))if(Ee.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ee],level:"warning"}),C(Ee);else{const st=ie.createElement(Ee.tagName);for(let qt=0,mr=Ee.attributes.length;qt<mr;++qt){const gn=Ee.attributes[qt];gn&&st.setAttribute(gn.nodeName,(D=gn.nodeValue)!==null&&D!==void 0?D:"")}st.onload=()=>{C(st)},st.onerror=(qt,mr,gn,U,ee)=>{C(st,["Failed to load",st,"Error:",ee])},B&&st.setAttribute("nonce",B),ie.head.appendChild(st)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ee],level:"warning"}),C(Ee)}}}W===0&&p(N,j)}function w({bodyClass:N,contentRef:C,copyShadowRoots:T,documentTitle:j,fonts:E,ignoreGlobalStyles:O,nonce:M,onAfterPrint:_,onBeforePrint:D,onPrintError:I,pageStyle:F,preserveAfterPrint:Y,print:G,printIframeProps:W,suppressErrors:R}){return(0,o.useCallback)(z=>{function q(){const Q={bodyClass:N,contentRef:C,copyShadowRoots:T,documentTitle:j,fonts:E,ignoreGlobalStyles:O,nonce:M,onAfterPrint:_,onPrintError:I,pageStyle:F,preserveAfterPrint:Y,print:G,suppressErrors:R},B=(function(ie){const le=document.createElement("iframe");return le.width=`${document.documentElement.clientWidth}px`,le.height=`${document.documentElement.clientHeight}px`,le.style.position="absolute",le.style.top=`-${document.documentElement.clientHeight+100}px`,le.style.left=`-${document.documentElement.clientWidth+100}px`,le.id=l,le.srcdoc="<!DOCTYPE html>",ie&&(ie.allow&&(le.allow=ie.allow),ie.referrerPolicy!==void 0&&(le.referrerPolicy=ie.referrerPolicy),ie.sandbox!==void 0&&(le.sandbox=ie.sandbox)),le})(W),J=(function(ie,le){const{contentRef:be,fonts:Ae,ignoreGlobalStyles:Le,suppressErrors:ae}=le,fe=(function({contentRef:st,optionalContent:qt,suppressErrors:mr}){return qt&&typeof qt=="function"?(st&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),qt()):st?st.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:mr})})({contentRef:be,optionalContent:ie,suppressErrors:ae});if(!fe)return;const Ye=fe.cloneNode(!0),ke=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),xe=Ye.querySelectorAll("img"),He=Ye.querySelectorAll("video"),Ee=Ae?Ae.length:0;return{contentNode:fe,clonedContentNode:Ye,clonedImgNodes:xe,clonedVideoNodes:He,numResourcesToLoad:(Le?0:ke.length)+xe.length+He.length+Ee,originalCanvasNodes:fe.querySelectorAll("canvas")}})(z,Q);if(!J)return void u({messages:["There is nothing to print"],suppressErrors:R});const ne=(function(ie,le,be){const{suppressErrors:Ae}=ie,Le=[],ae=[];return function(fe,Ye){Le.includes(fe)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",fe],suppressErrors:Ae}):(Ye?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Ye],suppressErrors:Ae}),ae.push(fe)):Le.push(fe),Le.length+ae.length===le&&p(be,ie))}})(Q,J.numResourcesToLoad,B);(function(ie,le,be,Ae){ie.onload=()=>{b(ie,le,be,Ae)},document.body.appendChild(ie)})(B,ne,J,Q)}d(Y,!0),D?D().then(()=>{q()}).catch(Q=>{I?.("onBeforePrint",h(Q))}):q()},[N,C,T,j,E,O,M,_,D,I,F,Y,G,R])}return a})()})})(Zp)),Zp.exports}var Gxe=Kxe();const $F=ge.forwardRef(({order:t},e)=>{const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=t.orderItems?.reduce((i,a)=>{const o=a.variant?.price!==null&&a.variant?.price!==void 0?a.variant.price:a.variant?.product?.price||0;return i+o*a.quantity},0)||0;return c.jsxs("div",{ref:e,style:{padding:"2rem"},className:"print-container",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-[2.2rem] font-bold mb-2",children:"NTK.SHOP"}),c.jsx("p",{className:"text-gray-700 mb-1",children:"phng L Bnh, Qun Ci Rng, TP. Cn Th"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"T: 0357 124 853"}),c.jsx("h2",{className:"text-[2.2rem] font-bold",children:"HA N THANH TON"})]}),c.jsxs("div",{className:"flex justify-between items-start mt-[4rem] mb-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{children:"Ngy in:"}),c.jsx("span",{className:"font-semibold",children:r(new Date().toISOString())})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{children:"Khch hng:"}),c.jsx("span",{className:"font-semibold",children:t.customerName||"N/A"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{children:"Email:"}),c.jsx("span",{className:"font-semibold",children:t.customerEmail||"N/A"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{children:"S in thoi:"}),c.jsx("span",{className:"font-semibold",children:t.customerPhone||"N/A"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{children:"Ngy t hng:"}),c.jsx("span",{className:"font-semibold",children:t.createdAt?r(t.createdAt):"N/A"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{children:"M n hng:"}),c.jsx("span",{className:"font-semibold",children:t.orderCode||"N/A"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{children:"a ch giao hng:"}),c.jsxs("span",{className:"font-semibold max-w-[20rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"font-semibold text-gray-700",children:"Thng tin sn phm:"})}),c.jsxs("table",{className:"w-full border border-gray-300",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[c.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Mt hng"}),c.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"n gi"}),c.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"S lng"}),c.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Thnh tin"})]})}),c.jsx("tbody",{children:t.orderItems?.map(i=>{const a=i.variant?.product,o=i.variant?.price!==null&&i.variant?.price!==void 0?i.variant.price:a?.price||0,l=o*i.quantity;return c.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[c.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:c.jsxs("div",{className:"max-w-[30rem]",children:[c.jsx("p",{className:"font-medium text-gray-900",children:a?.productName||"Sn phm khng xc nh"}),c.jsxs("div",{className:"flex items-center mt-1",children:[c.jsxs("span",{className:"text-gray-600 pr-[.5rem] mr-[.5rem] border-r border-gray-400",children:["Size: ",i.variant?.variantSize?.name||"N/A"]}),c.jsxs("span",{className:"text-gray-600",children:["Color: ",i.variant?.variantColor?.name||"N/A"]})]})]})}),c.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:n(o)}),c.jsxs("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:["x",i.quantity]}),c.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:n(l)})]},i.id)})})]}),c.jsx("div",{className:"mt-8 flex justify-end",children:c.jsxs("div",{className:"w-80 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[c.jsx("span",{className:"font-medium",children:"Tm tnh:"}),c.jsx("span",{className:"font-medium",children:n(s)})]}),c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[c.jsx("span",{className:"font-medium",children:"Ph vn chuyn:"}),c.jsx("span",{className:"font-medium",children:n(0)})]}),c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[c.jsx("span",{className:"font-medium",children:"Gim gi:"}),c.jsxs("span",{className:"font-medium text-red-600",children:["-",n(0)]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-300",children:[c.jsx("span",{className:"font-bold",children:"Tng cng:"}),c.jsx("span",{className:"font-bold",children:n(s)})]})]})}),c.jsxs("div",{className:"mt-12 text-center space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-300",children:[c.jsxs("div",{className:"text-center flex-1",children:[c.jsx("p",{className:"font-semibold mb-2",children:"Ngi mua hng"}),c.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]}),c.jsxs("div",{className:"text-center flex-1",children:[c.jsx("p",{className:"font-semibold mb-2",children:"Ngi bn hng"}),c.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]})]}),c.jsx("p",{className:"text-gray-700 italic mt-8",children:"Cm n qu khch  mua hng ti NTK.SHOP!"})]})]})});$F.displayName="InvoicePrint";const hA=[{key:De.PENDING,label:"Ch xc nhn",desc:"n hng ang ch xc nhn",icon:bf,color:"bg-blue-500"},{key:De.CONFIRMED,label:" xc nhn",desc:"n hng ang c chun b",icon:sS,color:"bg-orange-500"},{key:De.SHIPPING,label:"ang giao hng",desc:"n hng ang c vn chuyn",icon:K0,color:"bg-purple-500"},{key:De.COMPLETED,label:" giao hng",desc:"n hng  c giao thnh cng",icon:eu,color:"bg-green-500"}];function Yxe({orderDetail:t,setOrderDetail:e,refetch:n}){const[r,s]=A.useState({open:!1,data:null}),i=A.useRef(null),[a,o]=A.useState({shippingProvider:"",trackingNumber:"",shippingNote:""}),[l,u]=A.useState(null),[d,h]=A.useState(!0),p=Gxe.useReactToPrint({contentRef:i,documentTitle:`n hng #${t.orderCode}`});A.useEffect(()=>{console.log(t),t.shippingProvider&&t.trackingNumber&&(o({shippingProvider:t.shippingProvider||"",shippingNote:t.shippingNote||"",trackingNumber:t.trackingNumber||""}),h(!1))},[t]),console.log(d);const g=b=>{const{name:w,value:N}=b.target;o(C=>({...C,[w]:N}))},x=async()=>{try{if(a.shippingProvider===""){u("Vui lng chn nh vn chuyn!");return}if(a.trackingNumber===""){u("Vui lng nhp m n vn!");return}const b=await Se.patch(`/api/v1/orders/update-shipping/${t.id}`,a);b.status&&(ue.success(b.message),h(!1))}catch(b){console.log(b),ue.error(b.message)}},v=t.orderItems.reduce((b,w)=>b+w.price*w.quantity,0);return c.jsxs("div",{className:"mt-[1rem]",children:[c.jsxs("div",{className:"flex justify-between items-start border-b-[.1rem] border-b-gray-300 pb-[2rem] mb-[2rem]",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-[2rem] font-semibold text-gray-600 mb-2",children:["Chi tit n hng #",t.orderCode]}),c.jsxs("button",{onClick:()=>e(null),className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 hover-linear cursor-pointer",children:[c.jsx($,{icon:lo}),c.jsx("span",{children:"Quay li danh sch"})]})]}),c.jsx("div",{className:"flex items-center gap-[1.5rem]",children:c.jsx("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-[1.4rem] font-medium ${$n(t.status).bgColor} ${$n(t.status).textColor}`,children:$n(t.status).text})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[c.jsxs("div",{className:"col-span-2 space-y-[2rem]",children:[c.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[c.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin giao hng"}),c.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[c.jsxs("div",{className:"flex",children:[c.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ngi nhn:"}),c.jsx("span",{className:"text-gray-800 font-semibold",children:t.customerName})]}),c.jsxs("div",{className:"flex",children:[c.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"S in thoi:"}),c.jsx("span",{className:"text-gray-800",children:t.customerPhone})]}),c.jsxs("div",{className:"flex",children:[c.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Email:"}),c.jsx("span",{className:"text-gray-800",children:t.customerEmail})]}),c.jsxs("div",{className:"flex",children:[c.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"a ch:"}),c.jsxs("span",{className:"text-gray-800 flex-1",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]}),t.customerNote&&c.jsxs("div",{className:"flex",children:[c.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ghi ch:"}),c.jsx("span",{className:"text-gray-800 flex-1 italic",children:t.customerNote})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[c.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin vn chuyn"}),c.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[c.jsxs("div",{className:"flex items-start gap-[2rem] space-y-2.5",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"shippingProvider",children:"Nh vn chuyn"}),c.jsxs("select",{name:"shippingProvider",id:"shippingProvider",value:a.shippingProvider,className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",onChange:b=>g(b),disabled:!d,children:[c.jsx("option",{value:"",children:"-Chn nh vn chuyn-"}),Object.entries(YA).map(([b,w],N)=>c.jsx("option",{value:b,children:w.text},N))]})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"trackingNumber",children:"M vn n"}),c.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"trackingNumber",name:"trackingNumber",value:a.trackingNumber,placeholder:"Nhp m vn n...",onChange:b=>g(b),disabled:!d})]})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"shippingNote",children:"Ghi ch vn chuyn"}),c.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"shippingNote",name:"shippingNote",value:a.shippingNote,placeholder:"Ghi ch vn chuyn...",onChange:b=>g(b),disabled:!d})]}),l&&c.jsx("p",{className:"text-red-500",children:l}),t.shippingProvider&&t.trackingNumber?c.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==De.COMPLETED&&c.jsx(c.Fragment,{children:d?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"text-white px-6 py-3 bg-green-500 rounded-lg hover:bg-green-600",onClick:x,children:"Lu thay i"}),c.jsx("button",{className:"text-gray-600 px-6 py-3 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>h(!1),children:"Hy"})]}):c.jsxs("button",{className:"text-white px-4 py-3 bg-amber-500 rounded-lg hover:bg-amber-600 flex items-center gap-2",onClick:()=>h(!0),children:[c.jsx($,{icon:Vl}),"Chnh sa"]})})}):c.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==De.COMPLETED&&c.jsx("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>x(),children:"Cp nht vn chuyn"})})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[c.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 px-[2rem] py-[1.5rem] border-b border-gray-200",children:"Sn phm t mua"}),c.jsx("div",{className:"p-[2rem]",children:c.jsxs("table",{className:"w-full text-[1.4rem]",children:[c.jsx("thead",{className:"border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left pb-3 text-gray-600 font-semibold",children:"Sn phm"}),c.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"n gi"}),c.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"S lng"}),c.jsx("th",{className:"text-right pb-3 text-gray-600 font-semibold",children:"Thnh tin"})]})}),c.jsx("tbody",{children:t.orderItems?.map(b=>{const w=b.variant.product;return c.jsxs("tr",{className:"border-b border-gray-100",children:[c.jsx("td",{className:"py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:c.jsx("img",{src:w.mainImage||"/placeholder.jpg",alt:w.productName,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"max-w-[20rem]",children:[c.jsx("div",{className:"font-medium text-gray-800 text-limit-1",children:w.productName}),c.jsxs("div",{className:"flex items-center text-gray-500",children:[c.jsxs("span",{className:"text-[1.2rem]",children:["Size:",b.variant.variantSize.name]}),c.jsxs("span",{className:"text-[1.2rem] pl-[1rem] ml-[1rem] border-l border-l-gray-500",children:["Mu:",b.variant.variantColor.name]})]})]})]})}),c.jsx("td",{className:"text-center text-gray-600",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b.price)}),c.jsxs("td",{className:"text-center text-gray-600",children:["x",b.quantity]}),c.jsx("td",{className:"text-right font-semibold text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(b.price)*Number(b.quantity))})]},b.id)})})]})})]})]}),c.jsxs("div",{className:"space-y-[2rem]",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[c.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin thanh ton"}),c.jsxs("div",{className:"space-y-[1.2rem] text-[1.4rem]",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Tm tnh:"}),c.jsx("span",{className:"text-gray-800",children:v})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn:"}),c.jsx("span",{className:"text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.shippingFee)})]}),t.couponCode&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsxs("span",{children:["M gim gi (",t.couponCode,"):"]}),c.jsx("span",{children:"-0"})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem] flex justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-700 text-[1.5rem]",children:"Tng cng:"}),c.jsx("span",{className:"font-bold text-[1.8rem] text-[var(--main-button)]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.totalAmount)})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem]",children:[c.jsx("div",{className:"text-gray-600 mb-1",children:"Phng thc thanh ton:"}),c.jsx("div",{className:"font-semibold text-gray-800",children:Rw[t.paymentMethod].text})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[c.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Lch s n hng"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-[1.5rem] top-0 bottom-0 w-[2px] bg-gray-200"}),c.jsx("div",{className:"space-y-[2rem]",children:hA.map((b,w)=>{const N=hA.findIndex(C=>C.key===t.status)>=w;return c.jsxs("div",{className:"flex gap-[1.5rem] relative items-start",children:[c.jsx("div",{className:`w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${N?`${b.color}`:"bg-gray-300"}`,children:c.jsx($,{icon:b.icon,className:"text-white text-[1.4rem]"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:b.label}),c.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:b.desc})]})]},b.key)})})]})]}),c.jsxs("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:[t.status!==De.COMPLETED&&c.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>s({open:!0,data:t}),children:[c.jsx($,{icon:sa}),"Cp nht"]}),c.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear",onClick:()=>p(),children:[c.jsx($,{icon:kK}),"In n"]})]})]})]}),c.jsx(VF,{open:r.open,orderData:r.data,onClose:()=>s({open:!1,data:null}),refetch:n}),c.jsx("div",{style:{display:"none"},children:c.jsx($F,{order:t,ref:i})})]})}function Xxe({open:t,orderId:e,onClose:n,refetch:r}){const[s,i]=A.useState(!1),a=async()=>{if(!e){ue.error("Khng c id ca sn phm!");return}i(!0);try{const o=await Se.delete(`/api/v1/orders/delete-order/${e}`);o.status?(ue.success(o.message||"Xa n thnh cng!"),await r(),n()):(ue.error(o.message||"Xa n khng thnh cng!"),n())}catch(o){console.log(o),n(),ue.error(o.message||"Li khng th xa n hng!")}finally{i(!1)}};return c.jsxs(St,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>n(),children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun xa n hng ny? ",c.jsx("br",{})]}),c.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{n()},disabled:s,children:"Hy"}),c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":"Xa"})]})]})}function Qxe(){const[t,e]=A.useState(null),n=A.useRef(null),[r,s]=A.useState(null),[i,a]=A.useState(null),[o,l]=A.useState({open:!1,data:null}),[u,d]=A.useState({searchOrder:"",status:""}),[h,p]=A.useState({...u,limit:10,page:1}),{data:g,isLoading:x,refetch:v}=et({queryKey:["orders",h],queryFn:()=>dme(h)}),b=g&&g.data||[],w=g?.pagination?.totalPages||1,[N,C]=A.useState(!1),T=()=>{p(j=>({...j,searchOrder:u.searchOrder,status:u.status}))};return A.useEffect(()=>{if(t===null)return;const j=E=>{t!==null&&n.current&&!n.current.contains(E.target)&&e(null)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[t]),c.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] overflow-y-auto bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[c.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[c.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"n hng"}),c.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[c.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear ",children:[c.jsx($,{icon:YK}),"Export"]}),c.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear ",onClick:()=>C(!0),children:[c.jsx($,{icon:lh}),"To n"]})]})]}),r?c.jsx(Yxe,{orderDetail:r,setOrderDetail:s,refetch:v}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[c.jsxs("div",{className:"w-[28rem] h-[4rem] relative text-[1.4rem]",children:[c.jsx($,{icon:ms,className:"absolute left-[2rem] top-[50%] translate-[-50%] text-[1.4rem] text-gray-600"}),c.jsx("input",{type:"text",id:"searchOrder",name:"searchOrder",placeholder:"Nhp tm kim (st, email)...",value:u.searchOrder,className:"w-full h-full border border-gray-300 rounded-xl px-[3.8rem] outline-none",onChange:j=>d(E=>({...E,[j.target.name]:j.target.value}))})]}),c.jsxs("select",{name:"status",id:"status",value:u.status,className:"w-[20rem] h-[4rem] text-[1.4rem] text-gray-600 px-[1.5rem] border border-gray-300 rounded-xl outline-none",onChange:j=>d(E=>({...E,[j.target.name]:j.target.value})),children:[c.jsx("option",{value:"",hidden:!0,children:"Trng thi n"}),Object.entries(De).map(([j,E])=>c.jsx("option",{value:E,children:$n(E).text},j))]}),c.jsxs("button",{className:"w-[8rem] h-[4rem] flex items-center justify-center gap-[.5rem] rounded-xl outline-none bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] hover-linear text-white cursor-pointer text-[1.4rem]",onClick:()=>T(),children:[c.jsx($,{icon:fi,className:" text-white"}),c.jsx("span",{children:"Lc"})]})]}),c.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg mt-[2rem]",children:[c.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-300",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),c.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"M n"}),c.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Khch hng"}),c.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"S in thoi"}),c.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Tng tin"}),c.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),c.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),x?c.jsx("tbody",{children:c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):b?.length===0?c.jsx("tbody",{children:c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-center py-[4rem] text-gray-500",children:"Khng c n hng no"})})}):c.jsx("tbody",{children:b?.map((j,E)=>{const O=j.id===t?.id;return c.jsxs("tr",{children:[c.jsx("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:E+1}),c.jsxs("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:["#",j.orderCode]}),c.jsx("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-gray-800",children:j.customerName}),c.jsx("div",{className:"text-gray-600 text-[1rem]",children:j.customerEmail})]})}),c.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:j.customerPhone}),c.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j.totalAmount)}),c.jsx("td",{className:"text-center px-6 py-4",children:c.jsx("span",{className:`inline-flex items-center px-5 py-2 rounded-full text-[1.2rem] font-medium ${$n(j.status).bgColor} ${$n(j.status).textColor}`,children:$n(j.status).text})}),c.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:c.jsxs("div",{className:"flex justify-center items-center gap-[1rem]",children:[c.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>s(j),children:[c.jsx($,{icon:sa}),c.jsx("span",{children:"Xem"})]}),c.jsxs("div",{className:"relative z-[200]",ref:n,children:[c.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:()=>e(j),children:c.jsx($,{icon:IP,className:"text-[1.8rem]"})}),O&&c.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[14rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[c.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{},children:[c.jsx($,{icon:sa,className:"text-green-600"}),c.jsx("span",{className:"text-green-600",onClick:()=>{l({open:!0,data:t}),e(null)},children:"Cp nht"})]}),j.status===De.CANCELLED||j.status===De.PENDING&&c.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{a(j.id)},children:[c.jsx($,{icon:Su,className:"text-red-500"}),c.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa n"})]})]})]})]})})]},j.id)})})]}),c.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[c.jsx("button",{onClick:()=>p(j=>({...j,page:Math.max(j.page-1,1)})),disabled:h.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:zl,className:"text-gray-500"})}),Array.from({length:w},(j,E)=>E+1).filter(j=>Math.abs(j-h.page)<=2).map(j=>c.jsx("button",{onClick:()=>p(E=>({...E,page:j})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${h.page===j?"bg-blue-500 text-white":"bg-gray-200"}`,children:j},j)),c.jsx("button",{onClick:()=>p(j=>({...j,page:Math.min(j.page+1,w)})),disabled:h.page===w,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:qr,className:"text-gray-500"})})]})]}),c.jsx(Wxe,{open:N,onClose:()=>C(!1),refetch:v}),c.jsx(VF,{open:o.open,orderData:o.data,onClose:()=>l({open:!1,data:null}),refetch:v}),c.jsx(Xxe,{open:i!==null,orderId:i,onClose:()=>a(null),refetch:v})]})}const Jxe=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await Se.get("/api/v1/staff/get-staffs",{params:e})).data},vC=async()=>(await Se.get("/api/v1/cart/my-cart")).data,BF=async t=>await Se.post("/api/v1/variant/variant-by-ids",{variantIds:t}),Kf={[Qa.INVENTORY]:"Qun l kho",[Qa.MANAGER]:"Qun l",[Qa.SALE]:"Bn hng"};Ut.ADMIN+"",Ut.STAFF+"",Ut.USER+"";const j0={[ri.ACTIVE]:"ang lm vic",[ri.ON_LEAVE]:"Tm ngh",[ri.PROBATION]:"ang th vic",[ri.RESIGNED]:" ngh"},Zxe=(t=!1)=>Hf({gender:dn().oneOf(Object.values(Qo),"Gii tnh khng hp l").required("Vui lng chn gii tnh"),user:Hf().shape({username:dn().required("Tn ng nhp l bt buc"),email:dn().email("Email khng hp l").required("Email l bt buc"),password:t?dn().notRequired():dn().min(6,"Mt khu phi t 6 k t tr ln").required("Mt khu l bt buc"),phone:dn().matches(/^\d{10,15}$/,"S in thoi khng hp l").required("S in thoi l bt buc"),role:dn().oneOf(Object.values(Ut),"Vai tr khng hp l").required("Vai tr l bt buc")}),birthday:dn().required("Ngy sinh l bt buc").test("is-valid-date","Ngy sinh khng hp l",e=>e?new Date(e)<=new Date:!1),salary:$c().typeError("Lng phi l s").min(1,"Vui lng thm lng").required("Lng l bt buc"),startDate:dn().required("Ngy bt u l bt buc"),position:dn().oneOf(Object.values(Qa),"V tr khng hp l").required("V tr l bt buc"),avatar:aC().optional().test("fileSize","Dung lng nh ti a 10MB",e=>e?e.size<=10*1024*1024:!0).test("fileType","Ch chp nhn nh dng .jpg, .jpeg, .png",e=>e?["image/jpeg","image/png","image/jpg"].includes(e.type):!0).test("required-on-add","Vui lng chn hnh nh",function(e){return!(!t&&!e)})}).required();function eye({actionStaff:t,setActionStaff:e,dataUpdate:n,refetch:r}){const{handleSubmit:s,register:i,formState:{errors:a,isSubmitting:o},setValue:l,reset:u}=gi({resolver:Q8(Zxe(t.action==="edit")),defaultValues:{user:{username:"",email:"",password:"",phone:"",role:Ut.STAFF},gender:Qo.MALE,birthday:"",salary:0,startDate:"",position:Qa.SALE,avatar:void 0},mode:"onSubmit",reValidateMode:"onChange"}),[d,h]=A.useState(null);A.useEffect(()=>{t.open&&(t.action==="add"?(u({user:{username:"",email:"",password:"",phone:"",role:Ut.STAFF},gender:Qo.MALE,birthday:"",salary:0,startDate:"",position:Qa.SALE,avatar:void 0}),h(null)):n&&t.action==="edit"&&(u({user:{username:n.user.username,email:n.user.email,phone:n.user.phone,role:n.user.role},gender:n.gender,birthday:n.birthday?new Date(n.birthday).toISOString().split("T")[0]:"",salary:n.salary||0,startDate:n.startDate?new Date(n.startDate).toISOString().split("T")[0]:"",position:n.position}),n.user.avatar&&h(n.user.avatar||null)))},[t.action,t.open,n,u]);const p=v=>{const b=v.target.files?.[0];if(b){l("avatar",b,{shouldValidate:!0});const w=URL.createObjectURL(b);h(w)}},g=async v=>{const b={...v,salary:Number(v.salary),birthday:v.birthday,startDate:new Date(v.startDate).toISOString().split("T")[0]};console.log(b);try{const w=t.action==="add"?"/api/v1/staff/create":`/api/v1/staff/update/${t.data?.id}`;let N=null;t.action==="add"?N=await Se.post(w,b,{headers:{"Content-Type":"multipart/form-data"}}):N=await Se.patch(w,b,{headers:{"Content-Type":"multipart/form-data"}}),N.status&&(ue.success(N.message||`${t?.action==="add"?"Thm":"Cp nht"} nhn vin thnh cng!`),e({open:!1,action:"add",data:null}),u(),await r())}catch(w){console.log(w),ue.error(w.message||`Li khng th ${t?.action==="add"?"thm":"cp nht"} nhn vin`)}},x=()=>{u(),h(null),e({open:!1,data:null,action:"add"})};return c.jsxs(St,{open:t.open,className:"relative w-[100rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:x,children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsx("h3",{className:" text-[2rem] text-center font-semibold text-green-600",children:t.action==="edit"?"Cp nht nhn vin":"Thm nhn vin"}),c.jsxs("form",{onSubmit:s(g),children:[c.jsxs("div",{className:"w-full max-h-[50rem] overflow-auto hide-scrollbar flex gap-[2.5rem] mt-[4rem]",children:[c.jsxs("div",{className:"w-[25rem] h-auto rounded-xl flex flex-col items-center justify-start",children:[c.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"nh nhn vin"}),c.jsxs("label",{htmlFor:"avatar",className:`w-[15rem] h-[15rem] flex items-center justify-center rounded-xl border-[.2rem] border-dashed ${d?"border-cyan-500":"border-gray-500"} cursor-pointer`,children:[d?c.jsx("img",{src:d,alt:"avatar",className:"w-full h-full object-cover rounded-xl"}):c.jsx($,{icon:ys,className:"text-gray-500 text-[2.2rem]"}),c.jsx("input",{type:"file",className:"hidden",id:"avatar",onChange:p})]}),a.avatar&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem] mt-[.5rem]",children:a.avatar.message})]}),c.jsxs("div",{className:"flex-1 border-l border-l-gray-300 pl-[2rem]",children:[c.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"Thng tin nhn vin"}),c.jsxs("div",{className:"flex items-start gap-[2rem]",children:[c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"staffName",children:"Tn nhn vin"}),c.jsx("input",{type:"text",id:"staffName",placeholder:"Nhp tn...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.username")}),a.user?.username&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.username.message})]}),c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",placeholder:"Nhp email...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.email")}),a.user?.email&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.email.message})]})]}),c.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[t.action==="add"&&c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"password",children:"Mt khu"}),c.jsx("input",{type:"password",id:"password",placeholder:"Nhp mt khu...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.password")}),a.user?.password&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.password.message})]}),c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"phone",children:"S in thoi"}),c.jsx("input",{type:"tel",id:"phone",placeholder:"Nhp s in thoi...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.phone")}),a.user?.phone&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.phone.message})]})]}),c.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"gender",children:"Gii tnh"}),c.jsxs("select",{id:"gender",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("gender"),children:[c.jsx("option",{value:Qo.MALE,children:"Nam"}),c.jsx("option",{value:Qo.FEMALE,children:"N"})]}),a.gender&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.gender.message})]}),c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"birthday",children:"Ngy sinh"}),c.jsx("input",{type:"date",id:"birthday",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("birthday")}),a.birthday&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.birthday.message})]})]}),c.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"salary",children:"Lng"}),c.jsx("input",{type:"number",id:"salary",placeholder:"Nhp lng...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("salary")}),a.salary&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.salary.message})]}),c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"startDate",children:"Ngy bt u"}),c.jsx("input",{type:"date",id:"startDate",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("startDate")}),a.startDate&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.startDate.message})]})]}),c.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("label",{className:"text-gray-600",htmlFor:"position",children:"V tr"}),c.jsx("select",{id:"position",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("position"),children:Object.entries(Kf).map(([v,b],w)=>c.jsx("option",{value:v,children:b},w))}),a.position&&c.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.position.message})]})})]})]}),c.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",type:"button",onClick:x,disabled:o,children:"Hy"}),c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",type:"submit",disabled:o,children:o?"ang x l...":t.action==="edit"?"Cp nht":"Thm"})]})]}),o&&c.jsx(yo,{})]})}function tye({openDelete:t,setOpenDelete:e,refetch:n}){const[r,s]=A.useState(!1),i=async()=>{try{s(!0);const a=await Se.delete(`/api/v1/staff/delete/${t}`);a.status&&(ue.success(a.message||"Xa nhn vin thnh cng!"),await n(),e(null),s(!1))}catch(a){console.log(a),ue.error(a.message||"Li khng th xa nhn vin!")}finally{s(!1)}};return c.jsxs(St,{open:!!t,className:"relative bg-white rounded-lg shadow-lg w-[50rem] p-[2.5rem]",children:[c.jsx("button",{className:"absolute top-[1rem] right-[1rem] text-gray-500 hover:text-gray-600 w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>e(null),children:c.jsx($,{icon:On})}),c.jsx("div",{className:"mb-6",children:c.jsx("p",{className:"text-gray-600 text-[1.8rem]",children:"Bn c chc chn mun xa nhn vin ny khng?"})}),c.jsxs("div",{className:"flex justify-end gap-[1rem] mt-[3rem]",children:[c.jsx("button",{className:"px-[1.5rem] py-[.5rem] text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e(null),children:"Hy"}),c.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>i(),children:"Xa"})]}),r&&c.jsx(yo,{})]})}function nye({staff:t,onClose:e}){if(!t)return null;const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=i=>({MALE:"Nam",FEMALE:"N",OTHER:"Khc"})[i]||i;return c.jsx(St,{open:!!t,className:"fixed inset-0 flex items-center justify-center z-[300] p-[2rem]",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[90rem] max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"relative bg-gradient-to-r px-[3rem] py-[2rem]",children:[c.jsx("div",{children:c.jsx("h2",{className:"text-[2rem] font-bold text-gray-600 mb-[.5rem]",children:"Thng tin chi tit nhn vin"})}),c.jsx("button",{onClick:e,className:"absolute top-[1rem] right-[1rem] w-[4rem] h-[4rem] bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-600 hover-linear backdrop-blur-sm",children:c.jsx($,{icon:Dr,className:"text-[2rem]"})})]}),c.jsx("div",{className:"overflow-y-auto hide-scrollbar flex-1 px-[3rem] pt-[2rem]",children:c.jsxs("div",{className:"grid grid-cols-12 gap-[2.5rem]",children:[c.jsxs("div",{className:"col-span-4 space-y-[2rem]",children:[c.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-[2.5rem] border border-indigo-100 text-center",children:[c.jsx("div",{className:"w-[16rem] h-[16rem] mx-auto mb-[2rem] rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-[6rem] font-bold shadow-lg",children:t.user?.avatar?c.jsx("img",{src:t.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):t.user?.username?.charAt(0).toUpperCase()||"?"}),c.jsx("h3",{className:"text-[2.2rem] font-bold text-gray-800 mb-[.5rem]",children:t.user?.username||"Cha cp nht"}),c.jsx("p",{className:"text-[1.4rem] text-gray-500 mb-[1.5rem]",children:Kf[t.position]||"Cha cp nht"}),c.jsxs("span",{className:`inline-flex items-center gap-[.8rem] px-[1.6rem] py-[.8rem] rounded-full text-[1.4rem] font-semibold ${t.status===ri.ACTIVE?"bg-green-100 text-green-700":t.status===ri.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[c.jsx($,{icon:eu}),j0[t.status]||"Cha cp nht"]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-[2rem] border border-gray-200 shadow-sm",children:[c.jsxs("h4",{className:"text-[1.4rem] font-semibold text-gray-700 mb-[1.5rem] flex items-center gap-[1rem]",children:[c.jsx($,{icon:Vb,className:"text-indigo-600"}),"Thng k nhanh"]}),c.jsxs("div",{className:"space-y-[1.2rem]",children:[c.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[c.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Lng c bn"}),c.jsx("span",{className:"text-[1.5rem] font-bold text-green-600",children:n(t.salary)})]}),c.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[c.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Ngy bt u"}),c.jsx("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:r(t.startDate)})]}),c.jsxs("div",{className:"flex justify-between items-center py-[1rem]",children:[c.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thi gian lm vic"}),c.jsxs("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:[Math.floor((new Date().getTime()-new Date(t.startDate).getTime())/(1e3*60*60*24*30))," ","thng"]})]})]})]})]}),c.jsxs("div",{className:"col-span-8 space-y-[2rem]",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[c.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[c.jsx($,{icon:zi,className:"text-indigo-600"}),"Thng tin c nhn"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:$K,className:"text-[1.8rem] text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"M nhn vin"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.staffCode})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:zi,className:"text-[1.8rem] text-purple-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"H v tn"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.user?.username||"Cha cp nht"})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:VK,className:"text-[1.8rem] text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"S in thoi"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900",children:t.user?.phone||"Cha cp nht"})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:mK,className:"text-[1.8rem] text-red-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Email"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900 break-all",children:t.user?.email||"Cha cp nht"})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-pink-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:TK,className:"text-[1.8rem] text-pink-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Gii tnh"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900",children:s(t.gender)})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-yellow-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:JK,className:"text-[1.8rem] text-yellow-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy sinh"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.birthday)})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[c.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[c.jsx($,{icon:Vb,className:"text-purple-600"}),"Thng tin cng vic"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:Vb,className:"text-[1.8rem] text-indigo-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"V tr"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:Kf[t.position]||"Cha cp nht"})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:eu,className:"text-[1.8rem] text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Trng thi"}),c.jsx("span",{className:`inline-block px-[1.2rem] py-[.6rem] rounded-lg text-[1.4rem] font-semibold ${t.status===ri.ACTIVE?"bg-green-100 text-green-700":t.status===ri.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:j0[t.status]||"Cha cp nht"})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:Op,className:"text-[1.8rem] text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Lng c bn"}),c.jsx("p",{className:"text-[1.8rem] text-green-600 font-bold",children:n(t.salary)})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:xK,className:"text-[1.8rem] text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy bt u lm vic"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.startDate)})]})]})]})]}),t.user&&c.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[c.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[c.jsx($,{icon:Q1,className:"text-orange-600"}),"a ch"]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-orange-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:Q1,className:"text-[1.8rem] text-orange-600"})}),c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"text-[1.4rem] text-gray-900 leading-relaxed",children:t.address||"Cha cp nht a ch"})})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-[2.5rem] border border-gray-200 mb-[2rem]",children:[c.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[c.jsx($,{icon:Lb,className:"text-gray-600"}),"Thng tin h thng"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:Lb,className:"text-[1.8rem] text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy to"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.createdAt)})]})]}),c.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:c.jsx($,{icon:Lb,className:"text-[1.8rem] text-purple-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy cp nht"}),c.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.updatedAt)})]})]})]})]})]})]})}),c.jsx("div",{className:"px-[3rem] py-[1rem] bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex justify-end gap-[1.5rem]",children:c.jsx("button",{onClick:e,className:"px-[2rem] py-[.8rem] text-[1.5rem] font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 hover-linear shadow-sm",children:"ng"})})]})})}function rye(){const[t,e]=A.useState({search:"",status:"",position:"",limit:10,page:1}),[n,r]=A.useState({search:"",status:"",position:"",limit:10,page:1}),[s,i]=A.useState({action:"add",open:!1,data:null}),[a,o]=A.useState(null),l=A.useRef(null),[u,d]=A.useState(null),[h,p]=A.useState(null),{data:g,isLoading:x,refetch:v}=et({queryKey:["staffs",t],queryFn:()=>Jxe(t)});A.useEffect(()=>{if(!a)return;const w=N=>{a!==null&&l.current&&!l.current.contains(N.target)&&o(null)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[a]);const b=()=>{e(w=>({...w,search:n.search,status:n.status,limit:n.limit,page:n.page,position:n.position}))};return c.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg rounded-xl p-[2rem]",children:[c.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b border-b-gray-300 pb-8",children:[c.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Danh sch nhn vin"}),c.jsx("div",{className:"flex items-center gap-[1.5rem]",children:c.jsxs("button",{className:"text-white text-[1.4rem] flex gap-[.5rem] items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear",onClick:()=>i({open:!0,data:null,action:"add"}),children:[c.jsx($,{icon:ys}),c.jsx("p",{children:"Thm nhn vin"})]})})]}),c.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[c.jsx("input",{type:"text",id:"search",name:"search",value:n.search,placeholder:"Nhp tm kim (tn, st)...",className:"border border-gray-300 w-[36rem] h-[4rem] rounded-lg pl-[1.5rem] outline-none text-gray-600 select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value}))}),c.jsxs("select",{name:"status",id:"status",value:n.status,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value})),children:[c.jsx("option",{value:"",hidden:!0,children:"Trng thi"}),Object.entries(j0).map(([w,N])=>c.jsx("option",{value:w,children:N},w))]}),c.jsxs("select",{name:"position",id:"position",value:n.position,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value})),children:[c.jsx("option",{value:"",hidden:!0,children:"V tr"}),Object.entries(Kf).map(([w,N])=>c.jsx("option",{value:w,children:N},w))]}),c.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] h-[4rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white",onClick:()=>b(),children:[c.jsx($,{icon:fi}),c.jsx("span",{children:"Lc"})]})]}),c.jsxs("table",{className:"w-full border border-gray-300 mt-[2rem] text-[1.4rem] select-none",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[c.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"STT"}),c.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"H tn"}),c.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"in thoi"}),c.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"V tr"}),c.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Trng thi"}),c.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Hnh ng"})]})}),x?c.jsx("tbody",{children:c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):c.jsx("tbody",{children:g.map(w=>c.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[c.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:w.staffCode}),c.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.username}),c.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.phone}),c.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:Kf[w.position]}),c.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:j0[w.status]}),c.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:c.jsxs("div",{className:"flex justify-end items-center gap-[1rem]",children:[c.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>p(w),children:[c.jsx($,{icon:sa}),c.jsx("span",{children:"Xem"})]}),c.jsxs("div",{className:"relative z-[200]",ref:l,children:[c.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:()=>o(w),children:c.jsx($,{icon:IP,className:"text-[1.8rem]"})}),a?.id===w.id&&c.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[12rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[c.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{},children:[c.jsx($,{icon:sa,className:"text-green-600"}),c.jsx("span",{className:"text-green-600",onClick:()=>{i({open:!0,data:a,action:"edit"}),o(null)},children:"Cp nht"})]}),c.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{d(w.id),o(null)},children:[c.jsx($,{icon:Su,className:"text-red-500"}),c.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa"})]})]})]})]})})]},w.id))})]}),c.jsx(eye,{actionStaff:s,setActionStaff:i,dataUpdate:s.data,refetch:v}),u&&c.jsx(tye,{openDelete:u,setOpenDelete:d,refetch:v}),c.jsx(nye,{staff:h,onClose:()=>p(null)})]})}function sye(){return c.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[c.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-2xl mb-6",children:"Oops! Trang bn tm khng tn ti."}),c.jsx(Ht,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function mA({children:t,roles:e,redirectTo:n}){const{user:r,loading:s}=Wt();return s?c.jsx(yo,{}):r?e&&!e?.includes(r?.role)?c.jsx(Bc,{to:"/unauthorized",replace:!0}):c.jsx(c.Fragment,{children:t}):n?c.jsx(Bc,{to:n,replace:!0}):c.jsx(Bc,{to:"/login",replace:!0})}function iye(){return c.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"403"}),c.jsx("p",{className:"text-xl mb-6",children:"Bn khng c quyn truy cp trang ny"}),c.jsx(Ht,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function aye({children:t}){const{user:e}=Wt();return e&&(e.role===Ut.ADMIN||e.role===Ut.STAFF)?c.jsx(Bc,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:t})}function oye(){const{register:t}=vu(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:s}}=gi({defaultValues:{email:"",password:"",phone:"",username:""}}),[i,a]=A.useState(null),o=ut(),[l,u]=A.useState(!1),[d,h]=A.useState(!1),p=async g=>{try{await t({email:g.email,password:g.password,phone:g.phone,username:g.username}),o("/customer/account/profile")}catch(x){console.log(x),ue.error(x.message||"ng k ti khon tht bi!")}};return c.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[c.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-orange-300 to-orange-600 rounded-full mx-auto mb-2 flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),c.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng k"})]}),c.jsxs("form",{onSubmit:n(p),className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"H v tn"}),c.jsx("input",{type:"username",id:"username",placeholder:"username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("username",{required:"H tn khng c b trng"})}),r.username&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.username.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",placeholder:"your@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("email",{required:"Email khng c b trng",pattern:{value:/^\S+@\S+\.\S+$/,message:"Email khng hp l"}})}),r.email&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:d?"text":"password",id:"password",placeholder:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("password",{required:"Mt khu khng c b trng",minLength:{value:6,message:"Mt khu phi t nht 6 k t"}})}),c.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{h(!d)},children:d?c.jsx($,{icon:sa,className:"text-gray-600"}):c.jsx($,{icon:lS,className:"text-gray-600"})})]}),r.password&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.password.message})]}),i&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-[1.2rem] text-red-600",children:i})}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block font-medium text-gray-700 mb-2",children:"S in thoi"}),c.jsx("input",{type:"phone",id:"phone",placeholder:"Nhp s in thoi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("phone",{required:"S in thoi khng c b trng",pattern:{value:/^[0-9]{10}$/,message:"S in thoi phi gm 10 ch s"}})}),r.phone&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.phone.message})]}),c.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition mt-[1.8rem] ${s?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-orange-300 to-orange-600 hover:from-orange-400 hover:to-orange-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:s,children:s?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng k"})]}),c.jsx("div",{className:"mt-6 space-y-3 text-center",children:c.jsx("div",{className:"pt-4 border-t border-gray-200",children:c.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Bn  c ti khon?"," ",c.jsx(Ht,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng nhp"})]})})})]}),l&&c.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:""})}),c.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>o("/admin/Register"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),c.jsx("button",{onClick:()=>u(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),s&&c.jsx(yo,{})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var lye={prefix:"far",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M171.5 38.8C192.3 4 236.5-10 274 7.6l7.2 3.8C316 32.3 330 76.5 312.4 114l0 0-14.1 30 109.7 0 7.4 .4c36.3 3.7 64.6 34.4 64.6 71.6 0 13.2-3.6 25.4-9.8 36 6.1 10.6 9.7 22.8 9.8 36 0 18.3-6.9 34.8-18 47.5 1.3 5.3 2 10.8 2 16.5 0 25.1-12.9 47-32.2 59.9-1.9 35.5-29.4 64.2-64.4 67.7l-7.4 .4-104.1 0c-18 0-35.9-3.4-52.6-9.9l-7.1-3-.7-.3-6.6-3.2-.7-.3-12.2-6.5c-12.3-6.5-23.3-14.7-32.9-24.1-4.1 26.9-27.3 47.4-55.3 47.4l-32 0c-30.9 0-56-25.1-56-56L0 200c0-30.9 25.1-56 56-56l32 0c10.8 0 20.9 3.1 29.5 8.5l50.1-106.5 .6-1.2 2.7-5 .6-.9zM56 192c-4.4 0-8 3.6-8 8l0 224c0 4.4 3.6 8 8 8l32 0c4.4 0 8-3.6 8-8l0-224c0-4.4-3.6-8-8-8l-32 0zM253.6 51c-14.8-6.9-32.3-1.6-40.7 12l-2.2 4-56.8 120.9c-3.5 7.5-5.5 15.5-6 23.7l-.1 4.2 0 112.9 .2 7.9c2.4 32.7 21.4 62.1 50.7 77.7l11.5 6.1 6.3 3.1c12.4 5.6 25.8 8.5 39.4 8.5l104.1 0 2.4-.1c12.1-1.2 21.6-11.5 21.6-23.9l-.2-2.6c-.1-.9-.2-1.7-.4-2.6-2.7-12.1 4.3-24.2 16-28 9.7-3.1 16.6-12.2 16.6-22.8 0-4.3-1.1-8.2-3.1-11.8-6.3-11.1-2.8-25.2 8-32 6.8-4.3 11.2-11.8 11.2-20.2 0-7.1-3.1-13.5-8.2-18-5.2-4.6-8.2-11.1-8.2-18s3-13.4 8.2-18c5.1-4.5 8.2-10.9 8.2-18l-.1-2.4c-1.1-11.3-10.1-20.3-21.4-21.4l-2.4-.1-147.5 0c-8.2 0-15.8-4.2-20.2-11.1-4.4-6.9-5-15.7-1.5-23.1L269 93.6c7-15 1.4-32.7-12.5-41L253.6 51z"]},wC={prefix:"far",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M144 128a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zm208 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0zM48 480c0-70.7 57.3-128 128-128l96 0c70.7 0 128 57.3 128 128l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8c0-97.2-78.8-176-176-176l-96 0C78.8 304 0 382.8 0 480l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8z"]},HF={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M288.1-32c9 0 17.3 5.1 21.4 13.1L383 125.3 542.9 150.7c8.9 1.4 16.3 7.7 19.1 16.3s.5 18-5.8 24.4L441.7 305.9 467 465.8c1.4 8.9-2.3 17.9-9.6 23.2s-17 6.1-25 2L288.1 417.6 143.8 491c-8 4.1-17.7 3.3-25-2s-11-14.2-9.6-23.2L134.4 305.9 20 191.4c-6.4-6.4-8.6-15.8-5.8-24.4s10.1-14.9 19.1-16.3l159.9-25.4 73.6-144.2c4.1-8 12.4-13.1 21.4-13.1zm0 76.8L230.3 158c-3.5 6.8-10 11.6-17.6 12.8l-125.5 20 89.8 89.9c5.4 5.4 7.9 13.1 6.7 20.7l-19.8 125.5 113.3-57.6c6.8-3.5 14.9-3.5 21.8 0l113.3 57.6-19.8-125.5c-1.2-7.6 1.3-15.3 6.7-20.7l89.8-89.9-125.5-20c-7.6-1.2-14.1-6-17.6-12.8L288.1 44.8z"]};const pA=[{id:1,icon:wC,iconColor:"text-blue-500",label:"Ti khon ca ti",path:"account",children:[{id:11,label:"H s",path:"account/profile"},{id:12,label:"a ch",path:"account/address"},{id:13,label:"Thit lp ring",path:"account/privacy"}]},{id:2,icon:sS,iconColor:"text-blue-500",label:"n hng ca ti",path:"order"},{id:3,icon:aS,iconColor:"text-pink-500",label:"Voucher ca ti",path:"my-voucher"},{id:4,icon:Pp,iconColor:"text-red-500",label:"Sn phm yu thch",path:"favorite"}];function cye(){const{user:t}=Wt(),e=ut(),n=rr(),[r,s]=A.useState([]);A.useEffect(()=>{const o=n.pathname;pA.forEach(l=>{l.children&&l.children.some(d=>o.includes(d.path))&&!r.includes(l.id)&&s(d=>[...d,l.id])})},[n.pathname]);const i=o=>{if(!o.children)return e(o.path);s(l=>l.includes(o.id)?l.filter(u=>u!==o.id):[...l,o.id])},a=o=>n.pathname.includes(o);return c.jsx("div",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] mt-[15rem] md:mt-[1rem]",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-0",children:[c.jsxs("div",{className:"hidden md:block w-full lg:w-[24rem] h-auto py-[1rem] px-[1rem] sm:px-[2rem] bg-white lg:bg-transparent rounded-md lg:rounded-none shadow-md lg:shadow-none",children:[c.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:t?.avatar?c.jsx("img",{src:t?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):c.jsx($,{icon:wC,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),c.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[c.jsx("p",{className:"font-bold truncate",children:t?.username}),c.jsxs("div",{className:"text-[1.4rem] text-gray-600",children:[c.jsx($,{icon:Vl}),c.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),c.jsx("nav",{className:"mt-[2rem] sm:mt-[3rem] space-y-2",children:pA.map(o=>c.jsxs("div",{className:"text-gray-800",onClick:()=>i(o),children:[c.jsxs("div",{className:"flex items-center gap-[1rem] cursor-pointer group py-2",children:[c.jsx($,{icon:o.icon,className:`${o.iconColor} flex-shrink-0`}),c.jsx("span",{className:"group-hover:text-red-500 transition duration-150",children:o.label})]}),c.jsx("div",{className:`mt-[1.2rem] ${r&&r.length>0&&r?.includes(o.id)?"h-auto":"h-[0rem] overflow-hidden"} transition duration-300`,children:o.children&&o.children?.map(l=>{const u=a(l.path);return c.jsxs(Ht,{to:l.path,className:"block pl-[2rem] sm:pl-[3rem] space-y-6 text-start text-gray-600 cursor-pointer group",onClick:d=>d.stopPropagation(),children:[c.jsx("span",{className:`block group-hover:text-red-500 transition duration-150 ${u?"text-red-500":"text-gray-600"}`,children:l.label}),c.jsx("div",{})]},l.id)})})]},o.id))})]}),c.jsx("div",{className:"flex-1 w-full min-h-[calc(100vh-20rem)] bg-white shadow-md mb-[2rem] rounded-md",children:c.jsx(Fl,{})})]})})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var uye={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},dye={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};const UF="/manage-sell-client/assets/cart_empty-Clt3I79b.png";function fye({showCart:t,setShowCart:e}){const{user:n}=Wt(),r=xo(),s=ut(),[i,a]=A.useState([]),[o,l]=A.useState([]),{data:u}=et({queryKey:["cart"],queryFn:vC,enabled:!!n});A.useEffect(()=>{if(n)if(u&&u.length>0){const g=u[0].items.map(x=>({id:x.variant.id,product:x.variant.product,variantSize:x.variant.variantSize,variantColor:x.variant.variantColor,price:x.price,quantity:x.quantity,inventory:x.variant.inventory}));a(g)}else a([]);else{const p=n?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(l(p),p.length===0){a([]);return}const g=p.map(v=>v.variantId);(async()=>{try{const v=await BF(g);if(v.status){const b=v.data.map(w=>{const N=p.find(C=>C.variantId===w.id);return{...w,quantity:N.quantity||1}});a(b)}}catch(v){console.log(v),ue.error(v.message)}})()}},[n,u,t]);const d=async(p,g)=>{const x=i.map(w=>w.id===p?{...w,quantity:g==="incre"?Math.min(w.inventory,w.quantity+1):Math.max(1,w.quantity-1)}:w);a(x);const v=x.find(w=>w.id===p).quantity,b={variantId:p,quantity:v};if(n)try{if((await Se.patch("/api/v1/cart-items/update-quantity",b)).status)return}catch(w){ue.error(w.message)}else{const w=o.map(N=>N.variantId===p?{...N,quantity:v}:N);localStorage.setItem("localCart",JSON.stringify(w))}},h=async p=>{const g=i.filter(x=>x.id!==p);if(a(g),n)try{if((await Se.delete(`/api/v1/cart-items/delete/${p}`)).status){r.invalidateQueries({queryKey:["cart"]});return}}catch(x){ue.error(x.message)}else{const x=o.filter(v=>v.variantId!==p);localStorage.setItem("localCart",JSON.stringify(x)),window.dispatchEvent(new Event("localStorageUpdate"))}};return c.jsx(St,{open:t,className:"w-[90%] md:w-[50rem] max-h-[55rem] bg-white rounded-md shadow-xl overflow-hidden px-2 py-4 md:p-5",children:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[c.jsx($,{icon:xf,className:"text-red-500"}),c.jsxs("div",{className:"text-[1.4rem] md:text-[1.6rem] font-semibold text-gray-700",children:["GI HNG (",i?.length,")"]}),c.jsx("span",{className:"ml-auto cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1),children:c.jsx($,{icon:Dr,className:"text-gray-600"})})]}),i?.length>0?c.jsx("div",{className:"overflow-y-auto hide-scrollbar max-h-[40rem]",children:i.map(p=>c.jsxs(Ht,{to:`/product-detail/${p.product.slug}`,className:"flex items-center justify-between p-4 md:p-5 border-b border-gray-200",children:[c.jsxs("div",{className:" flex items-center gap-[1rem]",children:[c.jsx("img",{src:p.product.mainImage,alt:"",className:"w-[4.8rem] h-[4.8rem] rounded-md object-cover"}),c.jsxs("div",{className:"w-[20rem]",children:[c.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-800 text-limit-1",children:p.product.productName}),c.jsxs("div",{className:"flex items-center gap-1 md:gap-[1rem]",children:[c.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Size: ",c.jsx("span",{className:"",children:p.variantSize.name})]}),c.jsx("span",{className:"block h-[1.2rem] border-l border-l-gray-400"}),c.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Mu: ",c.jsx("span",{className:"",children:p.variantColor.name})]})]}),c.jsx("div",{className:"text-red-500 text-[1rem] md:text-[1.4rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p.product.price)||Number(p.price))})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"decre"),children:c.jsx($,{icon:jl,className:"text-[1.2rem] text-gray-600"})}),c.jsx("span",{className:"text-gray-600 text-[1.2rem] md:text-[1.4rem]",children:p.quantity}),c.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"incre"),children:c.jsx($,{icon:ys,className:"text-[1.2rem] text-gray-600"})})]}),c.jsx("div",{children:c.jsx("button",{type:"button",onClick:()=>h(p.id),children:c.jsx($,{icon:Su,className:"text-red-500 cursor-pointer ml-2"})})})]},p.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[c.jsx("img",{src:UF,alt:"cart empty",className:"w-40"}),c.jsx("p",{className:"mt-4 text-gray-500",children:"Khng c sn phm trong gi hng"})]}),c.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem] text-[1.2rem] md:text-[1.6rem]",children:[c.jsx("button",{className:"px-[2rem] h-[3.5rem] rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300 transition duration-300",onClick:()=>e(!1),children:"ng"}),c.jsx("button",{type:"button",className:"px-[2rem] h-[3.5rem] flex items-center rounded-md from-pink-400 to-red-500 bg-gradient-to-r hover:from-pink-500 hover:to-red-600 text-white transition duration-300",onClick:()=>{e(!1),s("/cart/detail")},children:"Chi tit gi hng"})]})]})})}const hye=()=>{const{user:t}=Wt(),[e,n]=A.useState(0),{data:r}=et({queryKey:["cart"],queryFn:vC,enabled:!!t,refetchOnWindowFocus:!1});return A.useEffect(()=>{if(t&&r&&r.length>0){const s=r[0].items.reduce((i,a)=>i+a.quantity,0);n(s)}else t&&(!r||r.length===0)&&n(0)},[t,r]),A.useEffect(()=>{if(!t){const i=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((o,l)=>o+l.quantity,0);n(i);const a=()=>{const l=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((u,d)=>u+d.quantity,0);n(l)};return window.addEventListener("storage",a),window.addEventListener("localStorageUpdate",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("localStorageUpdate",a)}}},[t]),e},WF=async t=>{let e=null;return t&&(e=Object.values(t).filter(r=>r!=="")),await Se.get("/api/v1/voucher/get-vouchers",{...t&&e?{params:e.join("/")}:{}})},SC=async()=>await Se.get("/api/v1/voucher/get-saved-voucher");var eg={exports:{}},mye=eg.exports,gA;function pye(){return gA||(gA=1,(function(t,e){(function(n,r){t.exports=r()})(mye,(function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",o="minute",l="hour",u="day",d="week",h="month",p="quarter",g="year",x="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var W=["th","st","nd","rd"],R=G%100;return"["+G+(W[(R-20)%10]||W[R]||W[0])+"]"}},C=function(G,W,R){var V=String(G);return!V||V.length>=W?G:""+Array(W+1-V.length).join(R)+G},T={s:C,z:function(G){var W=-G.utcOffset(),R=Math.abs(W),V=Math.floor(R/60),z=R%60;return(W<=0?"+":"-")+C(V,2,"0")+":"+C(z,2,"0")},m:function G(W,R){if(W.date()<R.date())return-G(R,W);var V=12*(R.year()-W.year())+(R.month()-W.month()),z=W.clone().add(V,h),q=R-z<0,Q=W.clone().add(V+(q?-1:1),h);return+(-(V+(R-z)/(q?z-Q:Q-z))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:h,y:g,w:d,d:u,D:x,h:l,m:o,s:a,ms:i,Q:p}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},j="en",E={};E[j]=N;var O="$isDayjsObject",M=function(G){return G instanceof F||!(!G||!G[O])},_=function G(W,R,V){var z;if(!W)return j;if(typeof W=="string"){var q=W.toLowerCase();E[q]&&(z=q),R&&(E[q]=R,z=q);var Q=W.split("-");if(!z&&Q.length>1)return G(Q[0])}else{var B=W.name;E[B]=W,z=B}return!V&&z&&(j=z),z||!V&&j},D=function(G,W){if(M(G))return G.clone();var R=typeof W=="object"?W:{};return R.date=G,R.args=arguments,new F(R)},I=T;I.l=_,I.i=M,I.w=function(G,W){return D(G,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var F=(function(){function G(R){this.$L=_(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[O]=!0}var W=G.prototype;return W.parse=function(R){this.$d=(function(V){var z=V.date,q=V.utc;if(z===null)return new Date(NaN);if(I.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var Q=z.match(b);if(Q){var B=Q[2]-1||0,J=(Q[7]||"0").substring(0,3);return q?new Date(Date.UTC(Q[1],B,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,J)):new Date(Q[1],B,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,J)}}return new Date(z)})(R),this.init()},W.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},W.$utils=function(){return I},W.isValid=function(){return this.$d.toString()!==v},W.isSame=function(R,V){var z=D(R);return this.startOf(V)<=z&&z<=this.endOf(V)},W.isAfter=function(R,V){return D(R)<this.startOf(V)},W.isBefore=function(R,V){return this.endOf(V)<D(R)},W.$g=function(R,V,z){return I.u(R)?this[V]:this.set(z,R)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(R,V){var z=this,q=!!I.u(V)||V,Q=I.p(R),B=function(ae,fe){var Ye=I.w(z.$u?Date.UTC(z.$y,fe,ae):new Date(z.$y,fe,ae),z);return q?Ye:Ye.endOf(u)},J=function(ae,fe){return I.w(z.toDate()[ae].apply(z.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(fe)),z)},ne=this.$W,ie=this.$M,le=this.$D,be="set"+(this.$u?"UTC":"");switch(Q){case g:return q?B(1,0):B(31,11);case h:return q?B(1,ie):B(0,ie+1);case d:var Ae=this.$locale().weekStart||0,Le=(ne<Ae?ne+7:ne)-Ae;return B(q?le-Le:le+(6-Le),ie);case u:case x:return J(be+"Hours",0);case l:return J(be+"Minutes",1);case o:return J(be+"Seconds",2);case a:return J(be+"Milliseconds",3);default:return this.clone()}},W.endOf=function(R){return this.startOf(R,!1)},W.$set=function(R,V){var z,q=I.p(R),Q="set"+(this.$u?"UTC":""),B=(z={},z[u]=Q+"Date",z[x]=Q+"Date",z[h]=Q+"Month",z[g]=Q+"FullYear",z[l]=Q+"Hours",z[o]=Q+"Minutes",z[a]=Q+"Seconds",z[i]=Q+"Milliseconds",z)[q],J=q===u?this.$D+(V-this.$W):V;if(q===h||q===g){var ne=this.clone().set(x,1);ne.$d[B](J),ne.init(),this.$d=ne.set(x,Math.min(this.$D,ne.daysInMonth())).$d}else B&&this.$d[B](J);return this.init(),this},W.set=function(R,V){return this.clone().$set(R,V)},W.get=function(R){return this[I.p(R)]()},W.add=function(R,V){var z,q=this;R=Number(R);var Q=I.p(V),B=function(ie){var le=D(q);return I.w(le.date(le.date()+Math.round(ie*R)),q)};if(Q===h)return this.set(h,this.$M+R);if(Q===g)return this.set(g,this.$y+R);if(Q===u)return B(1);if(Q===d)return B(7);var J=(z={},z[o]=r,z[l]=s,z[a]=n,z)[Q]||1,ne=this.$d.getTime()+R*J;return I.w(ne,this)},W.subtract=function(R,V){return this.add(-1*R,V)},W.format=function(R){var V=this,z=this.$locale();if(!this.isValid())return z.invalidDate||v;var q=R||"YYYY-MM-DDTHH:mm:ssZ",Q=I.z(this),B=this.$H,J=this.$m,ne=this.$M,ie=z.weekdays,le=z.months,be=z.meridiem,Ae=function(fe,Ye,ke,xe){return fe&&(fe[Ye]||fe(V,q))||ke[Ye].slice(0,xe)},Le=function(fe){return I.s(B%12||12,fe,"0")},ae=be||function(fe,Ye,ke){var xe=fe<12?"AM":"PM";return ke?xe.toLowerCase():xe};return q.replace(w,(function(fe,Ye){return Ye||(function(ke){switch(ke){case"YY":return String(V.$y).slice(-2);case"YYYY":return I.s(V.$y,4,"0");case"M":return ne+1;case"MM":return I.s(ne+1,2,"0");case"MMM":return Ae(z.monthsShort,ne,le,3);case"MMMM":return Ae(le,ne);case"D":return V.$D;case"DD":return I.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return Ae(z.weekdaysMin,V.$W,ie,2);case"ddd":return Ae(z.weekdaysShort,V.$W,ie,3);case"dddd":return ie[V.$W];case"H":return String(B);case"HH":return I.s(B,2,"0");case"h":return Le(1);case"hh":return Le(2);case"a":return ae(B,J,!0);case"A":return ae(B,J,!1);case"m":return String(J);case"mm":return I.s(J,2,"0");case"s":return String(V.$s);case"ss":return I.s(V.$s,2,"0");case"SSS":return I.s(V.$ms,3,"0");case"Z":return Q}return null})(fe)||Q.replace(":","")}))},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(R,V,z){var q,Q=this,B=I.p(V),J=D(R),ne=(J.utcOffset()-this.utcOffset())*r,ie=this-J,le=function(){return I.m(Q,J)};switch(B){case g:q=le()/12;break;case h:q=le();break;case p:q=le()/3;break;case d:q=(ie-ne)/6048e5;break;case u:q=(ie-ne)/864e5;break;case l:q=ie/s;break;case o:q=ie/r;break;case a:q=ie/n;break;default:q=ie}return z?q:I.a(q)},W.daysInMonth=function(){return this.endOf(h).$D},W.$locale=function(){return E[this.$L]},W.locale=function(R,V){if(!R)return this.$L;var z=this.clone(),q=_(R,V,!0);return q&&(z.$L=q),z},W.clone=function(){return I.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},G})(),Y=F.prototype;return D.prototype=Y,[["$ms",i],["$s",a],["$m",o],["$H",l],["$W",u],["$M",h],["$y",g],["$D",x]].forEach((function(G){Y[G[1]]=function(W){return this.$g(W,G[0],G[1])}})),D.extend=function(G,W){return G.$i||(G(W,F,D),G.$i=!0),D},D.locale=_,D.isDayjs=M,D.unix=function(G){return D(1e3*G)},D.en=E[j],D.Ls=E,D.p={},D}))})(eg)),eg.exports}var gye=pye();const pi=O0(gye);function wh({showNotify:t,content:e,duration:n,onClose:r,isSuccess:s=!0}){return c.jsxs(St,{open:t,duration:n,onClose:r,className:"flex flex-col justify-center items-center gap-[1rem] min-w-[30rem] max-w-[50rem] min-h-[10rem] bg-white p-[3rem] rounded-lg",children:[c.jsx("div",{className:`w-[4rem] h-[4rem] rounded-full ${s?"bg-green-500":"bg-red-500"} flex items-center justify-center`,children:s?c.jsx($,{icon:yf,className:"text-[2rem] text-white"}):c.jsx($,{icon:_K,className:"text-[2rem] text-white"})}),c.jsx("div",{className:"text-gray-600 select-none ",children:e})]})}function xye({open:t,onClose:e,vouchers:n}){const{user:r}=Wt(),s=ut(),[i,a]=A.useState({open:!1,content:"",isSuccess:!1}),{data:o,isLoading:l,refetch:u}=et({queryKey:["getSavedVouchers"],queryFn:()=>SC(),enabled:!!r}),d=o&&o.data;if(!n)return null;const h=x=>pi(x).format("HH:mm DD/MM/YYYY"),p=x=>{navigator.clipboard.writeText(x.voucherCode).then(()=>{a({open:!0,content:" sao chp m!",isSuccess:!0})}).catch(()=>{a({open:!0,content:"Sao chp m khng thnh cng!",isSuccess:!1})})},g=async x=>{try{(await Se.post(`/api/v1/voucher/save-voucher/${x.voucherCode}`)).status&&(a({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await u())}catch(v){console.log(v),a({open:!0,content:"Lu m khng thnh cng!",isSuccess:!1})}};return c.jsxs(c.Fragment,{children:[c.jsxs(St,{open:t,className:"relative flex flex-col w-[90%] md:w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[c.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:c.jsx($,{icon:On,className:"text-3xl"})}),c.jsx("h2",{className:"font-bold text-center text-pink-600",children:"Chi Tit Voucher"})]}),l?c.jsx("div",{className:"my-16 text-center",children:"ang ti d liu..."}):c.jsx("div",{className:"md:px-8 px-6 space-y-4 z-0",children:n&&n?.length>0?n?.map(x=>{const v=r&&d.some(b=>b.id===x.id);return c.jsxs("div",{className:"flex items-center bg-gradient-to-r from-pink-500 to-blue-600 rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden ",children:[c.jsxs("div",{className:"absolute inset-0 opacity-20",children:[c.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-40 h-40 bg-white rounded-full"}),c.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-56 h-56 bg-white rounded-full"})]}),c.jsx(c.Fragment,{children:c.jsxs("div",{className:"relative z-10",children:[c.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none",children:x.name}),c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-6 py-3 rounded-xl font-mono font-bold tracking-wider",children:x.voucherCode}),c.jsx("button",{onClick:()=>p(x),className:"flex items-center text-[1.4rem] gap-2 bg-white text-pink-600 px-4 py-3.5 rounded-xl hover:bg-gray-100 transition shadow-md",children:c.jsx($,{icon:KK})})]}),c.jsxs("div",{className:"text-[1.4rem] md:text-[2.2rem] font-extrabold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&c.jsxs("span",{className:"text-[1.2rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),c.jsxs("div",{className:"text-[1rem] md:text-[1.2rem] gap-2",children:["Thi hn: n ",h(x.endDate)]})]})}),r&&c.jsx("div",{className:"relative z-[100] ml-auto",children:c.jsx("button",{className:`px-8 py-3 rounded-xl ${v?"border border-white text-white":"bg-red-500 hover:bg-red-600"}  transition-colors duration-300 text-[1rem] md:text-[1.4rem] cursor-pointer`,onClick:()=>{r?g(x):s("/login")},children:v?" lu":"Lu m"})})]},x.id)}):c.jsx("div",{children:"Khng c d liu"})}),c.jsx("div",{className:"sticky bottom-0  bg-white border-t border-gray-200 md:px-8 px-6 py-6 text-end z-10",children:c.jsx("button",{onClick:e,className:"px-12 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})})]}),c.jsx(wh,{showNotify:i.open,duration:1e3,onClose:()=>a({open:!1,content:"",isSuccess:!1}),isSuccess:i.isSuccess,content:i.content})]})}function NC({open:t,onClose:e}){const n=ut();return c.jsxs(St,{open:t,className:"relative w-[50rem] h-auto rounded-lg bg-white p-[2rem]",children:[c.jsx("h2",{className:"text-[2rem] text-gray-600",children:"Vui lng ng nhp  thc hin"}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp"})]})]})}function CC(){const[t,e]=A.useState(!1),{user:n}=Wt(),{logout:r}=vu(),s=hye(),[i,a]=A.useState(!0),[o,l]=A.useState(!1),u=ut(),[d,h]=A.useState(!1),p=rr(),g=A.useRef(null),[x,v]=A.useState({open:!1,data:null}),[b,w]=A.useState(!1),{data:N,isLoading:C}=et({queryKey:["vouchers"],queryFn:()=>WF()}),T=N&&N.data,{data:j,isLoading:E}=et({queryKey:["getAllCategory"],queryFn:()=>Cx()});A.useEffect(()=>{const D=()=>{window.scrollY>50?a(!1):a(!0)};return p.pathname.includes("/customer")||window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[p]),A.useEffect(()=>{const D=I=>{g.current&&!g.current.contains(I?.target)&&w(!1)};return document.addEventListener("click",D),()=>{document.removeEventListener("click",D)}},[]);const O=D=>n?n.role===Ut.ADMIN||n.role===Ut.STAFF?u("/dashboard"):u(`/${D}`):u(`/${D}`),M=D=>{if(D)u(`/category/${D}`);else if(j){const I=j[0];u(`/category/${I.slug}`)}},_=D=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D);return c.jsxs("header",{className:`${p.pathname.includes("/customer")?"fixed top-0 left-0 md:relative":"fixed top-0 left-0"} w-full bg-white z-[999] ${p.pathname.includes("/customer")?"":i?" shadow-none":"shadow-xl"}`,children:[C?c.jsx(c.Fragment,{}):T?.map((D,I)=>{if(!(I>=1))return c.jsx("div",{className:`px-4 md:px-8 lg:px-12 xl:px-[12rem] bg-gradient-to-r from-pink-600 to-red-500 w-full ${i?"h-[3.5rem] opacity-[1]":"opacity-0 h-[0] overflow-hidden"} flex items-center justify-between transition-all duration-300 cursor-pointer`,onClick:()=>{n?v({open:!0,data:T}):l(!0)},children:c.jsxs("p",{className:"text-[1rem] sm:text-[1.2rem] md:text-[1.4rem] text-white whitespace-nowrap overflow-hidden text-ellipsis px-2",children:[" ",D.name," - Gim"," ",D.type===Zs.PERCENT?`${D.value}%`:`${_(D.value)}`," ",D.minOrderValue>0&&`- n t ${_(D.minOrderValue)}`]})},D.id)}),c.jsxs("div",{className:"relative md:px-8 lg:px-12 xl:px-[12rem] py-2 md:py-[1rem]",children:[c.jsxs("div",{className:"px-4",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(Ht,{to:"/",className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-red-600 text-white w-14 h-14 md:w-[3.5rem] md:h-[3.5rem] rounded-lg flex items-center justify-center font-bold text-lg md:text-xl",children:"K"}),c.jsxs("div",{className:"block",children:[c.jsx("div",{className:"text-[1.8rem] md:text-[2.2rem] font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent",children:"NTK."}),c.jsx("div",{className:"text-[1rem] md:text-[1.2rem] text-gray-500 -mt-1",children:"Style Your Life"})]})]})}),c.jsxs("div",{className:"md:hidden flex items-center space-x-12",children:[c.jsxs("div",{className:" relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[c.jsx("svg",{className:"w-8 h-8 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),n&&c.jsx("span",{className:"absolute -top-3 left-[1.5rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]}),c.jsx("button",{className:"flex flex-col items-center justify-center gap-1 group transition-colors",onClick:D=>{D.stopPropagation(),w(!b)},children:c.jsx($,{icon:F3,className:"text-gray-600 group-hover:text-pink-600 text-[2rem]"})})]}),c.jsx("div",{className:"hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:c.jsxs("div",{className:"relative w-full",children:[c.jsx("input",{type:"text",className:"text-[1.4rem] w-full h-[3.5rem] md:h-[4rem] pl-10 md:pl-[3.4rem] pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors",placeholder:"Tm o thun, qun jean, giy sneaker..."}),c.jsx($,{icon:ms,className:"w-4 h-4 md:w-5 md:h-5 text-gray-400 absolute left-3 md:left-4 top-1/2 -translate-y-1/2"})]})}),c.jsxs("div",{className:"hidden md:flex items-center gap-4 lg:gap-6 z-[900]",children:[n?c.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 group transition-colors",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[c.jsx($,{icon:zi,className:"text-gray-600 group-hover:text-pink-600"}),c.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer group-hover:text-pink-600 whitespace-nowrap",children:n.username}),c.jsxs("div",{className:`absolute top-full mt-2 w-[22rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[c.jsxs("div",{className:"py-2",children:[c.jsxs("button",{onClick:()=>O("customer/account/profile"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[c.jsx($,{icon:zi,className:"w-[1.6rem]"}),c.jsx("span",{className:"text-[1.4rem] ",children:"Ti khon ca ti"})]}),c.jsxs("button",{onClick:()=>O("customer/order"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[c.jsx($,{icon:bf,className:" w-[1.6rem]"}),c.jsx("span",{className:"text-[1.4rem]",children:"n hng ca ti"})]}),c.jsxs("button",{onClick:()=>O("customer/favorite"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[c.jsx($,{icon:Pp,className:" w-[1.6rem]"}),c.jsx("span",{className:"text-[1.4rem] ",children:"Sn phm yu thch"})]})]}),c.jsx("div",{className:"border-t border-gray-200",children:c.jsxs("button",{onClick:()=>{r(),u("/")},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[c.jsx($,{icon:Ed,className:" w-[1.6rem]"}),c.jsx("span",{className:"text-[1.4rem]",children:"ng xut"})]})})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[c.jsx($,{icon:zi}),c.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer whitespace-nowrap",children:"Ti khon"}),c.jsxs("div",{className:`absolute top-[100%] mt-2 w-[18rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 z-[1000] ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[c.jsx("div",{className:"border-t border-gray-200",children:c.jsxs("button",{onClick:()=>O("login"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[c.jsx($,{icon:Ed,className:" w-[1.6rem]"}),c.jsx("span",{className:"text-[1.4rem]",children:"ng nhp"})]})}),c.jsx("div",{className:"border-t border-gray-200",children:c.jsxs("button",{onClick:()=>O("register"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[c.jsx($,{icon:Ed,className:" w-[1.6rem]"}),c.jsx("span",{className:"text-[1.4rem]",children:"ng k"})]})})]})]}),c.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group",onClick:()=>u("/look-up-order"),children:[c.jsx($,{icon:Fb}),c.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer whitespace-nowrap",children:"n hng"})]})]}),c.jsxs(Ht,{to:"/",className:"flex flex-col items-center gap-1 hover:text-pink-600 transition-colors relative group",children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),c.jsx("span",{className:"text-[1.2rem] group-hover:underline whitespace-nowrap",children:"Yu thch"}),c.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:"5"})]}),c.jsxs("div",{className:"relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[c.jsx("svg",{className:"w-6 h-6 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),c.jsx("span",{className:"text-[1.2rem] group-hover:text-pink-600 group-hover:underline whitespace-nowrap",children:"Gi hng"}),n&&c.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]})]})]}),c.jsx("div",{className:"md:hidden mt-4 mb-2",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"text-[1.4rem] w-full h-[3.5rem] pl-12 pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors",placeholder:"Tm kim sn phm..."}),c.jsx($,{icon:ms,className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]})})]}),b&&c.jsx("div",{ref:g,className:"fixed top-0 right-0 md:hidden w-full h-full bg-[#3e3e3e6f] border-t border-gray-200",onClick:D=>{D.stopPropagation(),w(!1)},children:c.jsx("div",{className:"flex flex-col gap-8 bg-white w-[80%] h-full p-[2rem]",onClick:D=>{D.stopPropagation()},children:n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:n?.avatar?c.jsx("img",{src:n?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):c.jsx($,{icon:zi,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),c.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[c.jsx("p",{className:"font-bold truncate",children:n?.username}),c.jsxs("div",{className:"text-[1.4rem] text-gray-600 cursor-pointer",onClick:()=>{u("customer/account/profile"),w(!1)},children:[c.jsx($,{icon:Vl}),c.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),c.jsxs("button",{onClick:()=>{O("customer/account/profile"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:zi,className:"w-5"}),"Ti khon ca ti"]}),c.jsxs("button",{onClick:()=>{O("customer/order"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:bf,className:"w-5"}),"n hng ca ti"]}),c.jsxs("button",{onClick:()=>{O("customer/favorite"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:Pp,className:"w-5"}),"Sn phm yu thch"]}),c.jsxs("button",{onClick:()=>{O("customer/account/address"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:Pp,className:"w-5"}),"a ch"]}),c.jsxs("button",{onClick:()=>{O("customer/my-voucher"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:aS,className:"w-5"}),"Voucher ca ti"]}),c.jsxs("button",{onClick:()=>{u("/customer/account/privacy"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:Fb,className:"w-5"}),"Thit lp ring"]}),c.jsxs("button",{onClick:()=>{r(),u("/"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-red-600 text-[1.4rem]",children:[c.jsx($,{icon:Ed,className:"w-5"}),"ng xut"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{O("login"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:zi,className:"w-5"}),"ng nhp"]}),c.jsxs("button",{onClick:()=>{O("register"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:zi,className:"w-5"}),"ng k"]}),c.jsxs("button",{onClick:()=>{u("/look-up-order"),w(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[c.jsx($,{icon:Fb,className:"w-5"}),"Tra cu n"]})]})})})]}),c.jsx("div",{className:"hidden md:block border-t border-t-gray-300 py-[1rem] px-4 md:px-8 lg:px-12 xl:px-[12rem]",children:c.jsxs("nav",{className:"flex items-center justify-between h-12",children:[c.jsxs("ul",{className:"flex items-center gap-4 lg:gap-8 overflow-x-auto scrollbar-hide",children:[c.jsx("li",{className:"relative group shrink-0",children:c.jsxs("button",{className:"flex items-center gap-1 text-[1.2rem] lg:text-[1.4rem] font-semibold text-pink-600 hover:text-pink-700 whitespace-nowrap",onClick:()=>M(),children:[c.jsx($,{icon:F3}),"DANH MC"]})}),E?c.jsx(c.Fragment,{}):j&&j.length>0&&j.filter(D=>!D.parentId).map(D=>c.jsx("li",{onClick:()=>M(D.slug),className:"shrink-0",children:c.jsx(Ht,{to:`/category/${D.slug}`,className:"font-medium text-[1.2rem] lg:text-[1.4rem] hover:text-pink-600 transition-colors uppercase whitespace-nowrap",children:D.categoryName})},D.id))]}),c.jsxs("div",{className:"hidden lg:flex items-center gap-4 text-[1.4rem] shrink-0",children:[c.jsx(Ht,{to:"/about-us",className:"hover:text-pink-600 text-gray-600 transition-colors whitespace-nowrap",children:"Gii thiu"}),c.jsx("span",{className:"text-gray-300",children:"|"}),c.jsxs("a",{href:"https://www.facebook.com/kien.trung.732841/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[c.jsx($,{icon:uye}),"Facebook"]}),c.jsxs("a",{href:"https://www.instagram.com/trungkien4420/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[c.jsx($,{icon:dye}),"Instagram"]})]})]})}),c.jsx(fye,{setShowCart:e,showCart:t}),c.jsx(xye,{open:x.open,onClose:()=>v({open:!1,data:null}),vouchers:x.data}),c.jsx(NC,{open:o,onClose:()=>l(!1)})]})}function yye(){const t=rr();return c.jsxs("div",{children:[c.jsx(CC,{}),c.jsx("div",{className:`w-full h-auto ${t.pathname.includes("/customer")?"mt-[2.5rem]":"mt-[15rem] md:mt-[17rem]"}`,children:c.jsx(Fl,{})})]})}function qF({open:t,item:e,dataGuest:n,onClose:r,refetch:s}){const{user:i}=Wt(),[a,o]=A.useState({message:"",rating:5,images:[],showAccount:!0}),[l,u]=A.useState({message:"",images:""}),[d,h]=A.useState(!1),[p,g]=A.useState([]);A.useEffect(()=>{e&&o({message:"",rating:5,images:[],showAccount:!0})},[e]);const x=j=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j),v=j=>{o(E=>({...E,rating:j}))},b=j=>{const{files:E}=j.target;if(!E)return;const O=a.images,M=2-O.length;if(M<=0){u(D=>({...D,images:"Ch c upload ti a 2 nh!"}));return}const _=Array.from(E).slice(0,M);o(D=>({...D,rating:D?.rating||5,message:D?.message||"",images:[...O,..._]})),_.forEach(D=>{const I=URL.createObjectURL(D);g(F=>[...F,I])})},w=j=>{o(E=>({...E,images:E.images.filter((O,M)=>M!==j)})),g(E=>E.filter((O,M)=>M!==j))},N=async j=>{if(a.message.length>200){u(O=>({...O,message:"Ni dung khng c qu 200 k t!"}));return}if(a.images.length>2){u(O=>({...O,images:"Ch c upload ti a 2 nh!"}));return}h(!0);const E=new FormData;!i&&n&&(E.append("customerEmail",n?.customerEmail),E.append("customerName",n?.customerName)),E.append("rating",a.rating.toString()),E.append("showAccount",a.showAccount.toString()),E.append("orderItemId",j.toString()),a.message!==""&&E.append("message",a.message),a.images.length>0&&a.images.forEach(O=>{E.append("images",O)});try{const O=await Se.post("/api/v1/evaluate/add",E,{headers:{"Content-Type":"multipart/form-data"}});O.status&&(await s(),ue.success(O.message),r())}catch(O){console.log(O),ue.error(O.message)}finally{h(!1)}},C=j=>{u(E=>j?{...E,...j==="message"?{message:""}:{images:""}}:{images:"",message:""})},T=e&&e.variant.product;return c.jsxs(St,{open:t,className:"relative w-[65rem] min-h-[20rem] rounded-lg bg-white p-[2.5rem]",children:[c.jsx("button",{type:"button",className:"absolute top-[1rem] right-[1rem]",onClick:j=>{j.stopPropagation(),r()},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsx("h2",{className:"text-[2rem] text-amber-500 mb-[2.5rem] font-bold text-center",children:"nh gi sn phm"}),c.jsx("div",{className:"space-y-8 max-h-[50rem] overflow-auto hide-scrollbar",children:e&&T?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"border border-gray-300 rounded-md p-[2rem]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("img",{src:T.mainImage,alt:T.productName,className:"w-[5rem] h-[5rem] rounded-sm object-cover"}),c.jsxs("div",{className:"max-w-xl",children:[c.jsx("p",{className:"line-clamp-1",children:T.productName}),c.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["Phn loi: size ",e.variant.variantSize.name,", mu"," ",e.variant.variantColor.name]}),c.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",e.quantity]})]})]}),c.jsx("p",{className:"text-[1.4rem] text-red-500",children:x(e.price*e.quantity)})]}),c.jsxs("div",{className:"flex items-center mt-[1rem]",children:[c.jsxs("p",{className:"text-[1.4rem] text-gray-600 mr-[.5rem]",children:["Sao nh gi:"," "]}),c.jsx("div",{className:"space-x-1",children:Array.from({length:5}).map((j,E)=>c.jsx("button",{type:"button",onClick:()=>v(E),children:c.jsx($,{icon:E<=a.rating?ni:HF,className:`text-[1.6rem] ${E<=a.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},E))})]}),c.jsxs("div",{className:"mt-[1rem]",children:[c.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"message",id:"message",rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",onChange:j=>{C("message"),o(E=>({...E,message:j.target.value}))}}),c.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:l.message})]}),c.jsxs("div",{className:"mt-[1rem]",children:[c.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),c.jsxs("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:[p&&p.length>0&&p.map((j,E)=>c.jsxs("div",{className:"relative w-[8rem] h-[8rem] border border-gray-400 flex flex-col items-center justify-center rounded-md cursor-pointer",children:[c.jsx("img",{src:j,alt:`images-${E}`,className:"w-full h-full object-cover rounded-md"},j),c.jsx("button",{className:"absolute top-[-.5rem] right-[-.5rem] h-[2rem] w-[2rem] flex items-center justify-center rounded-full bg-red-500 hover:bg-red-600",onClick:()=>w(E),children:c.jsx($,{icon:On,className:"text-white text-[1.2rem]"})})]},j)),c.jsxs("label",{htmlFor:`image-${e.id}`,className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[c.jsx($,{icon:ys,className:"text-gray-500 text-[1.4rem]"}),c.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),c.jsx("input",{type:"file",id:`image-${e.id}`,name:"images",className:"hidden",accept:"images/*",multiple:!0,onChange:j=>{C("images"),b(j)}})]})]}),c.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:l.images})]})]}),c.jsxs("div",{className:"flex justify-end mt-[3.5rem] gap-[1rem]",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:j=>{j.stopPropagation(),r()},disabled:d,children:"Hy"}),c.jsx("button",{type:"button",disabled:d,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",onClick:()=>{C(),N(e.id)},children:d?"ang x l...":"Gi nh gi"})]})]}):c.jsxs("div",{className:"border rounded-md border-gray-300 p-[2rem] animate-pulse",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-200 rounded-sm"}),c.jsxs("div",{className:"max-w-xl",children:[c.jsx("p",{className:"w-full py-2.5 bg-gray-200"}),c.jsx("p",{className:"w-[20rem] py-2.5 bg-gray-200"}),c.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]})]}),c.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]}),c.jsx("div",{className:"flex items-center mt-[1rem]",children:c.jsx("p",{className:"w-[30rem] py-2.5 bg-gray-200"})}),c.jsxs("div",{className:"mt-[1rem]",children:[c.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",disabled:!0})]}),c.jsxs("div",{className:"mt-[1rem]",children:[c.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),c.jsx("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:c.jsxs("label",{className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[c.jsx($,{icon:ys,className:"text-gray-500 text-[1.4rem]"}),c.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),c.jsx("input",{type:"file",className:"hidden",disabled:!0})]})})]}),c.jsx("div",{className:"flex justify-end mt-[1rem]",children:c.jsx("button",{type:"button",disabled:!0,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",children:"Gi nh gi"})})]})})]})}const Ox=()=>{const{user:t}=Wt(),[e,n]=A.useState(!1),[r,s]=A.useState({show:!1,content:""}),i=xo();return{addToCart:async o=>{n(!0);try{if(!t){let u=JSON.parse(localStorage.getItem("localCart")||"[]");for(const d of o){const h=u.find(p=>p.variantId===d.variantId);h?h.quantity+=d.quantity:u.push({variantId:d.variantId,quantity:d.quantity})}return localStorage.setItem("localCart",JSON.stringify(u)),window.dispatchEvent(new Event("localStorageUpdate")),s({show:!0,content:" thm vo gi hng!"}),!0}if((await Se.post("/api/v1/cart/add-to-cart",o)).status)return i.invalidateQueries({queryKey:["cart"]}),s({show:!0,content:" thm vo gi hng!"}),!0}catch{return s({show:!0,content:"C li xy ra!"}),!1}finally{n(!1)}},isLoading:e,notify:r,setNotify:s}},xA={[Yo.CHANGE_OF_MIND]:"Ti i ",[Yo.FOUND_BETTER_PRICE]:"Ti tm c gi tt hn",[Yo.ORDER_BY_MISTAKE]:"Ti t nhm",[Yo.WRONG_ADDRESS]:"Thay i a ch",[Yo.OTHER]:"L do khc"};function KF({open:t,onClose:e,orderCode:n,refetch:r,status:s,cancelReason:i,cancelledAt:a,cancelledBy:o}){const{user:l}=Wt(),[u,d]=A.useState(!1),[h,p]=A.useState(""),g=s===De.CANCELLED,[x,v]=A.useState({customerEmail:"",customerPhone:"undefined"}),[b,w]=A.useState({customerEmail:"",customerPhone:"",reason:""}),N=()=>{let T=!0;const j={customerEmail:"",customerPhone:"",reason:""};return l||(x.customerEmail.trim()?/^\S+@\S+\.\S+$/.test(x.customerEmail)||(j.customerEmail="Email khng hp l!",T=!1):(j.customerEmail="Vui lng nhp email  t hng!",T=!1),x.customerPhone.trim()?/^0[1-9]\d{8}$/.test(x.customerPhone)||(j.customerPhone="S in thoi khng hp l!",T=!1):(j.customerPhone="Vui lng nhp s in thoi  t hng!",T=!1)),h||(j.reason="Vui lng chn l do hy n!",T=!1),w(j),T},C=async()=>{if(!n){ue.error("Khng tm thy m n hng");return}if(N()){d(!0);try{const T={reason:h};l||(T.customerEmail=x.customerEmail,T.customerPhone=x.customerPhone);const j=await Se.patch(`/api/v1/orders/cancel/${n}`,T);j.status&&(v({customerEmail:"",customerPhone:""}),p(""),w({customerEmail:"",customerPhone:"",reason:""}),await r?.(),ue.success(j.message||"Hy n hng thnh cng!"),e())}catch(T){console.log(T),ue.error(T.message||"C li xy ra!")}finally{d(!1)}}};return c.jsxs(St,{open:t,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[c.jsx("h2",{className:"text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Hy n hng"}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:T=>{T.stopPropagation(),e()},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),g?c.jsxs("div",{className:"space-y-6 mb-[4rem]",children:[c.jsxs("div",{className:"flex justify-between ",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Thi gian hy"}),c.jsx("p",{className:"font-medium",children:a?new Date(a).toLocaleString("vi-VN"):""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Ngi hy"}),c.jsx("p",{className:"font-medium",children:o})]})]}),c.jsxs("div",{className:"w-full py-[1rem] rounded-md shadow-md flex flex-col justify-center px-[2rem]",children:[c.jsx("p",{className:"text-gray-600",children:"L do hy n"}),c.jsx("p",{className:"",children:xA[i]})]}),c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[c.jsx($,{icon:oS,className:"text-amber-600 mt-0.5"}),c.jsx("p",{className:" text-amber-800",children:"n hng  c hy v khng th khi phc. Bn c th t li n hng mi nu cn."})]})]}):c.jsxs(c.Fragment,{children:[!l&&c.jsxs("div",{className:"flex items-start space-x-6 mb-[2rem]",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email"}),c.jsx("input",{type:"email",name:"customerEmail",id:"customerEmail",value:x.customerEmail,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:T=>{v(j=>({...j,customerEmail:T.target.value})),b.customerEmail&&w(j=>({...j,customerEmail:""}))}}),b.customerEmail&&c.jsx("p",{className:"text-red-500 mt-1",children:b.customerEmail})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),c.jsx("input",{type:"number",name:"customerPhone",id:"customerPhone",value:x.customerPhone,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:T=>{v(j=>({...j,customerPhone:T.target.value})),b.customerPhone&&w(j=>({...j,customerPhone:""}))}}),b.customerPhone&&c.jsx("p",{className:"text-red-500 mt-1",children:b.customerPhone})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"block text-gray-600 pb-[1rem]",children:"L do hy n"}),Object.entries(xA).map(([T,j])=>c.jsxs("div",{className:"flex items-center space-x-6 py-4 pl-[2rem] cursor-pointer",children:[c.jsx("input",{type:"radio",id:`reason-${T}`,name:"reason",value:T,style:{scale:1.4,backgroundColor:"red"},className:"cursor-pointer",onChange:E=>{p(E.target.value)}}),c.jsx("label",{htmlFor:`reason-${T}`,className:"cursor-pointer select-none",children:j})]},T))]})]}),b.reason&&c.jsx("p",{className:"text-red-500 mt-2 pl-[2rem]",children:b.reason}),c.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none",onClick:T=>{T.stopPropagation(),e()},children:s?"ng":"Hy"}),!s&&s!==De.CANCELLED&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300 outline-none",onClick:()=>C(),children:u?"ang x l...":"Hy n hng"})]})]})}const Yc=[{key:De.PENDING,label:"Ch xc nhn n  hng",desc:"Ch xc nhn",icon:bf,color:"bg-blue-500"},{key:De.CONFIRMED,label:" xc nhn n hng",desc:" xc nhn",icon:sS,color:"bg-orange-500"},{key:De.SHIPPING,label:"ang giao hng",desc:"ang vn chuyn",icon:K0,color:"bg-purple-500"},{key:De.COMPLETED,label:" giao hng",desc:" giao hng",icon:eu,color:"bg-green-500"}];function bye({order:t,onClose:e}){const n=A.useMemo(()=>t?.orderItems?t.orderItems.reduce((i,a)=>i+a.price*a.quantity,0):0,[t?.orderItems]);if(A.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),!t)return;const r=i=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),s=i=>pi(i).format("HH:mm DD/MM/YYYY");return c.jsxs("div",{className:"px-[2rem] pb-[2rem]",children:[c.jsxs("div",{className:"py-[1rem] flex items-center justify-between",children:[c.jsxs("button",{type:"button",className:"px-6 py-2.5 outline-none bg-gray-100 hover:bg-gray-200 transition-colors duration-300 cursor-pointer rounded-md ",onClick:()=>e(),children:[c.jsx($,{icon:zl,className:"text-[1.4rem]"}),c.jsx("span",{className:"uppercase text-[1.4rem]",children:"tr li"})]}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("span",{children:["M n hng: ",t.orderCode]}),c.jsx("span",{className:"block h-[2rem] border-r border-r-gray-500"}),c.jsx("button",{className:`px-8 py-2 rounded-full ${$n(t.status).textColor} ${$n(t.status).bgColor}`,children:$n(t.status).text})]})]}),t?.status===De.CANCELLED?c.jsxs("div",{className:"w-full py-[2rem] border border-amber-200 bg-amber-50 px-[2rem]",children:[c.jsx("p",{className:"text-[1.8rem] text-red-500",children:" hy n hng"}),c.jsxs("p",{children:["lc ",s(t.updatedAt)]})]}):c.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:Yc.map((i,a)=>{const o=Yc.findIndex(l=>l.key===t.status)>=a;return c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"flex flex-col gap-[2rem] relative items-center",children:[c.jsx("div",{className:`w-[6rem] h-[6rem] rounded-full flex items-center justify-center z-10
                ${o?`${i.color}`:"bg-gray-300"}`,children:c.jsx($,{icon:i.icon,className:"text-white text-[2rem]"})}),c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:i.label}),c.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:i.desc})]})]},i.key),a!==Yc.length-1&&c.jsx("span",{className:"w-[10rem] border border-green-500"})]},i.key)})}),c.jsx("div",{className:"w-full border-t-1 border-gray-400 mt-[3rem]"}),c.jsxs("div",{className:"px-[2rem] mt-[3rem]",children:[c.jsx("span",{className:"text-[1.8rem]",children:"a ch nhn hng"}),c.jsxs("div",{className:"mt-[1rem] border border-gray-300 rounded-md p-[2rem]",children:[c.jsx("p",{children:t.customerName}),c.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:["(",t.customerPhone,")"]}),c.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerPhone]})]})]}),c.jsxs("div",{className:"p-[2rem]",children:[c.jsx("span",{className:"text-[1.8rem] mb-[1rem] block",children:"Thng tin vn chuyn"}),c.jsx("div",{className:"border border-gray-300 rounded-md py-[1rem] px-[2rem] bg-gray-50",children:[De.PENDING,De.CONFIRMED].includes(t.status)?c.jsx("p",{className:"text-[1.5rem italic",children:"n hng ang c x l v ng gi. Chng ti s cp nht m vn n ngay khi hng c giao cho n v vn chuyn."}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-3 text-[1.5rem]",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Nh vn chuyn:"})," ",c.jsx("span",{className:"text-gray-900",children:t.shippingProvider?YA[t.shippingProvider]?.text||t.shippingProvider:"Cha xc nh"})]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"M vn n:"})," ",c.jsx("span",{className:"text-gray-900 font-semibold",children:t.trackingNumber||"Cha c"})]}),t.shippingNote&&c.jsxs("p",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch:"})," ",c.jsx("span",{className:"text-gray-900 italic",children:t.shippingNote})]})]}),t.status===De.SHIPPING?t.trackingNumber&&t.shippingProvider&&c.jsx("div",{className:"mt-4",children:c.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[c.jsx($,{icon:K0}),"Tra cu vn n"]})}):t.status===De.COMPLETED?c.jsx("p",{className:"text-[1.5rem] text-green-600 font-medium mt-3",children:"n hng  c giao thnh cng!"}):c.jsx("p",{className:"text-[1.5rem] text-gray-600 mt-3",children:"Thng tin vn chuyn cha c cp nht."})]})})]}),c.jsx("div",{className:"px-[2rem]",children:c.jsxs("div",{className:"shadow-md p-[2rem] border border-gray-200 rounded-md mt-[2rem]",children:[t.orderItems.length>0&&t.orderItems.map(i=>{const a=i.variant.product;return c.jsx(Ht,{to:`/product-detail/${a.slug}`,className:"block pb-[1rem] mb-[2rem] border-b border-b-gray-300",children:c.jsxs("div",{className:"flex items-center justify-between my-[1rem] cursor-pointer",children:[c.jsxs("div",{className:"flex space-x-6 items-center ",children:[c.jsx("img",{src:a.mainImage,alt:`mainImage-${a.productName}`,className:"w-[6rem] h-[6rem] object-cover border border-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"max-w-2xl line-clamp-1 text-gray-900 select-none",children:a.productName}),c.jsxs("p",{className:"flex items-center space-x-2 text-[1.2rem] text-gray-600",children:[c.jsx("span",{children:"Phn loi:"}),c.jsxs("span",{className:"block",children:["Size ",i.variant.variantSize.name,", Mu"," ",i.variant.variantColor.name]})]}),c.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",i.quantity]})]})]}),c.jsx("p",{className:"text-red-600 text-[1.6rem]",children:r(i.price*i.quantity)})]},i.id)},i.id)}),c.jsxs("div",{className:"flex items-center justify-between ml-auto w-3xl ",children:[c.jsxs("div",{className:"flex flex-col items-end space-y-6",children:[c.jsx("p",{className:"text-gray-600",children:"Tm tnh: "}),c.jsx("p",{className:"text-gray-600",children:"Ph vn chuyn: "}),c.jsx("p",{className:"text-gray-600",children:"Voucher gim gi: "}),c.jsx("p",{className:"text-gray-600",children:"Thnh tin: "}),c.jsx("p",{className:"text-gray-600",children:"Phng thc thanh ton: "}),t.paymentMethod!==Wr.COD&&c.jsx("p",{className:"text-gray-600",children:"Trng thi thanh ton: "})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-6",children:[c.jsx("span",{className:"text-gray-800",children:r(n)}),c.jsx("span",{className:"text-gray-800",children:r(t.shippingFee)}),c.jsxs("span",{className:"text-red-600",children:["- ",r(t.discountAmount)]}),c.jsx("span",{className:"text-red-600",children:r(t.totalAmount)}),c.jsx("span",{className:"text-gray-800",children:Rw[t.paymentMethod].text}),c.jsx("span",{className:"text-gray-800",children:t?.payment?.status===za.SUCCESS?" thanh ton":"Cha thanh ton"})]})]}),t.paymentMethod===Wr.COD&&![De.CANCELLED,De.COMPLETED].includes(t.status)&&c.jsxs("div",{className:"w-full py-4 bg-amber-50 mt-[1rem] text-center border border-amber-200",children:["Vui lng thanh ton"," ",c.jsx("span",{className:"text-red-500",children:r(t.totalAmount)})," ","khi nhn hng"]})]},t.id)})]})}function vye({open:t,data:e,onClose:n,refetch:r}){const s=async()=>{try{(await Se.patch(`/api/v1/orders/confirm-received/${e?.id}`)).status&&(n(),await r())}catch(i){console.log(i),ue.error(i.message||"Li khng th xc nhn!")}};return c.jsxs(St,{open:t,className:"relative w-[60rem] rounded-lg bg-white p-[2rem]",children:[c.jsx("h2",{className:"text-[2rem] text-amber-600 mb-[3rem]",children:"Vui lng xc nhn bn  nhn c n hng!"}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:i=>{i.stopPropagation(),n()},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsxs("div",{className:"flex items-center justify-end gap-[1rem]",children:[c.jsx("button",{type:"button",className:"text-gray-600 px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>n(),children:"Hy"}),c.jsx("button",{type:"button",className:"text-white px-6 py-2 bg-red-500 rounded-lg hover:bg-red-600",onClick:()=>s(),children:"Xc nhn"})]})]})}const yA={all:{title:"Tt c",color:"green"},[De.PENDING]:{title:"Ch xc nhn",color:"green"},[De.CONFIRMED]:{title:" xc nhn",color:"green"},[De.SHIPPING]:{title:"ang giao hng",color:"green"},[De.DELIVERED]:{title:" giao hng",color:"red"},[De.COMPLETED]:{title:" hon thnh",color:"green"},[De.CANCELLED]:{title:" hy",color:"red"}};function wye(){const[t,e]=A.useState({searchOrders:"",status:"all"}),[n,r]=A.useState(""),[s,i]=A.useState("all"),[a,o]=A.useState({open:!1,orderCode:null,data:null}),[l,u]=A.useState({open:!1,data:null}),[d,h]=A.useState({open:!1,data:null}),{addToCart:p}=Ox(),g=ut(),[x,v]=A.useState({left:0,width:0}),[b,w]=A.useState({open:!1,data:null}),N=A.useRef([]),C=A.useMemo(()=>Object.keys(yA),[]),{data:T=[],isLoading:j,refetch:E}=et({queryKey:["orders",t],queryFn:({queryKey:I})=>fme(I[1])});A.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),A.useEffect(()=>{const I=C.indexOf(s),F=N.current[I];F&&v({left:F.offsetLeft,width:F.offsetWidth})},[s,C]);const O=A.useCallback(I=>F=>{N.current[I]=F},[]),M=I=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(I),_=async I=>{const F=I.orderItems.map(G=>({variantId:G.variant.id,quantity:G.quantity}));if(await p(F)){const G=F.map(W=>W.variantId).join(",");g(`/cart/detail?buyback=${G}`)}else ue.error("Thm sn phm vo gi hng tht bi!")},D=I=>new Date(I).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return c.jsxs(c.Fragment,{children:[l.open?c.jsx(bye,{order:l.data,onClose:()=>u({data:null,open:!1})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"sticky top-0 pt-[2rem] bg-white z-0",children:c.jsx("div",{className:"relative w-full overflow-x-auto",children:c.jsxs("ul",{className:`relative flex items-center border-b border-b-gray-300 z-0 
                  w-max min-w-full
                  snap-x snap-mandatory
                  scrollbar-hide
                  md:snap-none md:w-full`,children:[C.map((I,F)=>{const Y=yA[I],G=I===s;if(I!==De.DELIVERED)return c.jsx("li",{ref:O(F),className:`px-[4rem] pb-[1.5rem] cursor-pointer select-none\r
                        snap-start\r
                        flex-shrink-0`,onClick:()=>{const W=I==="all"?"all":I;e(R=>({...R,status:W})),i(I)},children:c.jsx("div",{className:`${G?"text-red-500":""}`,children:Y.title})},I)}),c.jsx("span",{className:"absolute bottom-0 border-t-[.2rem] border-t-red-400 transition-all duration-300",style:{left:x.left,width:x.width}})]})})}),c.jsx("div",{className:"px-[2rem] pb-[2rem]",children:j?c.jsx(yo,{}):c.jsxs("div",{className:"mt-[2rem] space-y-8",children:[c.jsxs("div",{className:"flex mt-[2rem] h-[4rem] w-full border border-gray-300 bg-white rounded-md",children:[c.jsx("button",{type:"button",className:"pl-[1.5rem] text-gray-500 cursor-pointer",onClick:()=>e(I=>({...I,searchOrders:n})),children:c.jsx($,{icon:ms})}),c.jsx("input",{type:"text",id:"searchOrders",name:"searchOrders",value:n,placeholder:"Bn c th tm kim theo ID, tn sn phm",className:"w-full h-full rounded-md outline-none pl-[1.5rem]",onChange:I=>r(I.target.value)})]}),T.length>0?c.jsx(c.Fragment,{children:T?.map(I=>c.jsxs("div",{className:"shadow-md p-[1.5rem] border border-gray-200 rounded-md",children:[c.jsxs("div",{className:"flex items-center justify-end mb-[1.5rem]",children:[c.jsxs("p",{className:"text-[1.4rem] text-gray-600 pr-[1rem] mr-[1rem] border-r border-r-gray-300",children:["Ngy t: ",D(I.createdAt)]}),c.jsx("p",{className:`px-[2rem] py-[.2rem] rounded-full ${$n(I.status).textColor} ${$n(I.status).bgColor}`,children:$n(I.status).text})]}),I.orderItems.length>0&&I.orderItems.map(F=>{const Y=F.variant.product,G=I.status===De.COMPLETED&&I.orderItems.some(W=>W.evaluate.length===0);return c.jsxs("div",{className:"pb-[2rem] mb-[2rem] border-b border-b-gray-300",children:[c.jsxs("div",{className:"flex items-center justify-between my-[1rem] cursor-pointer",onClick:()=>u({open:!0,data:I}),children:[c.jsxs("div",{className:"flex space-x-6 items-center ",children:[c.jsx("img",{src:Y.mainImage,alt:`mainImage-${Y.productName}`,className:"w-[6rem] h-[6rem] object-cover border border-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"max-w-2xl line-clamp-1 text-gray-900 select-none",children:Y.productName}),c.jsxs("p",{className:"flex items-center space-x-2 text-[1.2rem] text-gray-600",children:[c.jsx("span",{children:"Phn loi:"}),c.jsxs("span",{className:"block",children:["Size ",F.variant.variantSize.name,", Mu"," ",F.variant.variantColor.name]})]}),c.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",F.quantity]})]})]}),c.jsx("p",{className:"text-red-600 text-[1.6rem]",children:M(F.price*F.quantity)})]}),c.jsxs("div",{className:"flex items-center justify-end gap-[1rem]",children:[!G&&[De.CANCELLED,De.COMPLETED].includes(I.status)&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>_(I),children:"Mua li"}),G&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>w({open:!0,data:F}),children:c.jsxs("div",{className:"flex items-center space-x-2 ",children:[c.jsx($,{icon:HF,className:"text-[1.4rem]"}),c.jsx("span",{className:"",children:"nh gi"})]})})]})]},F.id)}),c.jsxs("div",{className:"flex flex-col items-end justify-center",children:[c.jsxs("p",{className:"text-gray-600",children:["Tng tin:"," ",c.jsx("span",{className:"text-red-600 text-[2rem]",children:M(I.totalAmount)})]}),c.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[I.status===De.CANCELLED&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] border border-gray-300 hover:border-gray-400 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>o({open:!0,orderCode:I.orderCode,data:I}),children:"Chi tit hy n"}),I.status===De.PENDING&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] border border-gray-300 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>o({open:!0,orderCode:I.orderCode,data:null}),children:"Hy n hng"}),I.status===De.SHIPPING&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>u({open:!0,data:I}),children:"Chi tit n vn"}),c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] border border-amber-500 text-amber-600 rounded-md cursor-pointer",onClick:()=>h({open:!0,data:I}),children:" nhn c hng"})]})]})]})]},I.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center mt-[5rem]",children:[c.jsx("img",{src:UF,alt:"no order",className:"w-[20rem]"}),c.jsx("p",{className:"text-gray-600 mt-[1em]",children:"Khng c n hng no"})]})]})})]}),c.jsx(qF,{open:b.open,item:b.data,onClose:()=>w({open:!1,data:null}),refetch:E}),c.jsx(KF,{open:a.open,onClose:()=>o({open:!1,orderCode:null,data:null}),orderCode:a.orderCode,refetch:E,status:a?.data?.status,cancelReason:a?.data?.reason,cancelledAt:a.data?.updatedAt,cancelledBy:a.data?.customerName}),c.jsx(vye,{open:d.open,onClose:()=>h({open:!1,data:null}),data:d.data,refetch:E})]})}function Sye(){const[t]=xu(),e=t.get("buyNowVariant"),n=t.get("buyback"),{user:r}=Wt(),s=ut(),[i,a]=A.useState([]),[o,l]=A.useState(!1),[u,d]=A.useState([]),{data:h}=et({queryKey:["cart"],queryFn:vC,enabled:!!r});A.useEffect(()=>{window.scrollTo(0,0)},[]),A.useEffect(()=>{if(r)if(h&&h.length>0){const O=h[0].items.map(M=>({id:M.variant.id,product:M.variant.product,variantSize:M.variant.variantSize,variantColor:M.variant.variantColor,price:M.price,quantity:M.quantity,inventory:M.variant.inventory,selected:!1}));a(O)}else a([]);else{const E=r?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(d(E),E.length===0){a([]);return}const O=E.map(_=>_.variantId);(async()=>{try{const _=await BF(O);if(_.status){const D=_.data.map(I=>{const F=E.find(Y=>Y.variantId===I.id);return{...I,quantity:F.quantity||1,selected:!1}});a(D)}}catch(_){console.log(_),ue.error(_.message)}})()}},[r,h]),A.useEffect(()=>{if(!e&&!n||i.length===0)return;const E=[];if(n&&E.push(...n.split(",").map(Number).filter(I=>!isNaN(I)&&I>0)),e){const I=Number(e);!isNaN(I)&&I>0&&E.push(I)}if(E.length===0)return;const O=[...new Set(E)];if(!i.some(I=>O.includes(I.id)))return;let _=!1;a(I=>{let F=!1;const Y=I.map(G=>O.includes(G.id)&&!G.selected?(_=!0,F=!0,{...G,selected:!0}):G);return F?Y:I}),_&&setTimeout(()=>{const I=document.querySelector("tr.bg-blue-50");I&&I.scrollIntoView({behavior:"smooth",block:"center"})},300);const D=new URL(window.location.href);D.searchParams.delete("buyback"),D.searchParams.delete("buyNowVariant"),window.history.replaceState({},"",D)},[i]),A.useEffect(()=>{const E=i.length>0&&i.every(M=>M.selected),O=i.every(M=>!M.selected);l(E&&!O)},[i]);const p=async(E,O)=>{const M=i.map(I=>I.id===E?{...I,quantity:O==="incre"?Math.min(I.inventory,I.quantity+1):Math.max(1,I.quantity-1)}:I);a(M);const _=M.find(I=>I.id===E).quantity,D={variantId:E,quantity:_};if(r)try{if((await Se.patch("/api/v1/cart-items/update-quantity",D)).status)return}catch(I){ue.error(I.message)}else{const I=u.map(F=>F.variantId===E?{...F,quantity:_}:F);d(I),localStorage.setItem("localCart",JSON.stringify(I))}},g=async E=>{if(r)try{await Se.delete(`/api/v1/cart-items/${E}`),a(O=>O.filter(M=>M.id!==E))}catch(O){ue.error(O.message||"Xa tht bi")}else{const O=u.filter(M=>M.variantId!==E);localStorage.setItem("localCart",JSON.stringify(O)),d(O),a(M=>M.filter(_=>_.id!==E))}},x=()=>{const E=!o;l(E),a(i.map(O=>({...O,selected:E})))},v=E=>{a(i.map(O=>O.id===E?{...O,selected:!O.selected}:O))},b=E=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(E),w=()=>i.filter(E=>E.selected).reduce((E,O)=>{const M=O.price||O.product?.price||0;return E+M*O.quantity},0),N=i.filter(E=>E.selected),C=N.length,T=()=>{const E={items:N.map(O=>({variantId:O.id,productId:O.product.id,productName:O.product.productName,mainImage:O.product.mainImage,price:O.price||O.product.price,quantity:O.quantity,size:O.variantSize?.name||"",color:O.variantColor?.name||"",inventory:O.inventory})),subtotal:w(),total:w(),timestamp:new Date().toISOString()};sessionStorage.setItem("checkoutData",JSON.stringify(E)),r?sessionStorage.setItem("checkoutFrom","authenticated"):sessionStorage.setItem("checkoutFrom","guest"),s("/checkout")},j=()=>{if(C===0){ue.error("Vui lng chn sn phm  thanh ton");return}const E=N.find(O=>O.quantity>O.inventory);if(E){ue.error(`Sn phm "${E.product.productName}" khng  s lng`);return}T()};return c.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($,{icon:xf,className:"text-2xl sm:text-3xl lg:text-4xl text-red-500"}),c.jsx("h1",{className:" font-bold text-gray-800",children:"Gi hng ca bn"})]}),c.jsxs("span",{className:"text-sm sm:text-base lg:text-[1.4rem] text-gray-500 pl-0 sm:pl-4",children:["(",i.filter(E=>E.selected).length," sn phm c chn)"]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[c.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-lg overflow-x-auto",children:[c.jsx("div",{className:"lg:hidden",children:i.length===0?c.jsx("div",{className:"text-center py-12 text-gray-500",children:c.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem]",children:"Gi hng trng"})}):c.jsx("div",{className:"divide-y divide-gray-200",children:i.map(E=>c.jsxs("div",{className:`p-4 ${E.selected?"bg-blue-50":""} hover:bg-gray-50 transition`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx("button",{onClick:()=>v(E.id),className:"mt-1",children:c.jsx($,{icon:E.selected?Rb:zb,className:`text-[1.4rem] ${E.selected?"text-blue-600":"text-gray-300"}`})}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("img",{src:E.product.mainImage,alt:E.product.productName,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg object-cover flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem] font-medium text-gray-800 line-clamp-2",children:E.product.productName}),E.inventory<5&&c.jsxs("p",{className:"text-[1.2rem] text-red-500 mt-1",children:["Ch cn ",E.inventory," sn phm"]}),c.jsxs("div",{className:"text-[1.2rem] text-gray-600 mt-1 flex flex-wrap items-center gap-1",children:[c.jsxs("span",{children:["Size: ",E.variantSize.name]}),c.jsx("span",{className:"mx-1",children:""}),c.jsxs("span",{children:["Mu: ",E.variantColor.name]})]})]})]})})]}),c.jsx("button",{className:"text-red-500 hover:text-red-700 transition ml-2",onClick:()=>g(E.id),children:c.jsx($,{icon:L3,className:"text-[1.4rem]"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-[1.2rem] sm:text-[1.6rem] font-semibold text-red-600",children:b(Number(E.price||E.product.price))}),E.price&&c.jsx("p",{className:"text-[1.4rem] text-gray-400 line-through",children:b(E.price)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>p(E.id,"decre"),disabled:E.quantity<=1,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c.jsx($,{icon:jl,className:"text-gray-500 text-xs sm:text-sm"})}),c.jsx("span",{className:"w-6 sm:w-8 text-center text-[1.2rem] sm:text-base text-gray-600",children:E.quantity}),c.jsx("button",{onClick:()=>p(E.id,"incre"),disabled:E.quantity>=E.inventory,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c.jsx($,{icon:co,className:"text-gray-500 text-xs sm:text-sm"})})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"text-[1.4rem] sm:text-base font-semibold text-red-600",children:b(Number(E.price||E.product.price)*Number(E.quantity))})})]})]},E.id))})}),c.jsxs("div",{className:"hidden lg:block",children:[c.jsxs("table",{className:"w-full text-[1.6rem]",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-800",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-5 text-left pl-6 font-normal",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:x,children:c.jsx($,{icon:o?Rb:zb,className:`text-[2rem] ${o?"text-blue-600":"text-gray-300"}`})}),c.jsx("span",{children:"Sn phm"})]})}),c.jsx("th",{className:"py-5 font-normal",children:"n gi"}),c.jsx("th",{className:"py-5 font-normal",children:"S lng"}),c.jsx("th",{className:"py-5 font-normal",children:"Thnh tin"}),c.jsx("th",{className:"py-5 font-normal",children:"Thao tc"})]})}),c.jsx("tbody",{children:i.map(E=>c.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition",children:[c.jsx("td",{className:"py-6 pl-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>v(E.id),children:c.jsx($,{icon:E.selected?Rb:zb,className:`text-[2rem] ${E.selected?"text-blue-600":"text-gray-300"}`})}),c.jsx("img",{src:E.product.mainImage,alt:E.product.productName,className:"w-20 h-20 rounded-lg object-cover"}),c.jsxs("div",{className:"max-w-xs",children:[c.jsx("p",{className:"text-gray-800 line-clamp-1",children:E.product.productName}),E.inventory<5&&c.jsxs("p",{className:"text-sm text-red-500 mt-1",children:["Ch cn ",E.inventory," sn phm"]}),c.jsxs("div",{className:"text-[1.2rem] text-gray-600 flex items-center gap-[.5rem]",children:[c.jsxs("span",{children:["size: ",E.variantSize.name]}),c.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),c.jsxs("span",{children:["mu: ",E.variantColor.name]})]})]})]})}),c.jsx("td",{className:"text-center",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[1.4rem] text-red-600",children:b(Number(E.price||E.product.price))}),E.price&&c.jsx("p",{className:"text-sm text-gray-400 line-through",children:b(E.price)})]})}),c.jsx("td",{className:"text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx("button",{onClick:()=>p(E.id,"decre"),disabled:E.quantity<=1,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx($,{icon:jl,className:"text-gray-500"})}),c.jsx("span",{className:"w-8 text-center text-gray-600",children:E.quantity}),c.jsx("button",{onClick:()=>p(E.id,"incre"),disabled:E.quantity>=E.inventory,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx($,{icon:co,className:"text-gray-500"})})]})}),c.jsx("td",{className:"text-center text-[1.4rem] text-red-600",children:b(Number(E.price||E.product.price)*Number(E.quantity))}),c.jsx("td",{className:"text-center",children:c.jsx("button",{className:"text-red-500 hover:text-red-700 transition p-3",onClick:()=>g(E.id),children:c.jsx($,{icon:L3,className:"text-[1.4rem]"})})})]},E.id))})]}),i.length===0&&c.jsx("div",{className:"text-center py-20 text-gray-500",children:c.jsx("p",{className:"text-2xl",children:"Gi hng trng"})})]})]}),c.jsx("div",{className:"w-full lg:w-[40rem]",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 sticky top-4 sm:top-6",children:[c.jsx("h2",{className:"font-bold text-gray-800 text-[1.4rem] sm:text-[1.6rem] mb-4 sm:mb-6",children:"Thng tin thanh ton"}),c.jsxs("div",{className:"space-y-4 sm:space-y-6 text-[1.4rem] sm:text-[1.6rem] text-gray-600",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["Tm tnh (",C," sn phm):"]}),c.jsx("span",{className:"font-semibold",children:b(w())})]}),c.jsxs("div",{children:[c.jsx("span",{children:"Ph vn chuyn:"}),c.jsx("div",{className:"mt-2 sm:mt-4 text-[1.4rem] sm:text-[1.6rem] text-green-600",children:"Ph vn chuyn s c tnh chnh xc da trn a ch nhn hng"})]}),c.jsx("div",{className:"border-t border-t-gray-400 pt-4 sm:pt-6",children:c.jsxs("div",{className:"flex justify-between text-[1.4rem] sm:text-[1.6rem]",children:[c.jsx("span",{className:"font-bold",children:"Tng cng:"}),c.jsx("span",{className:"font-bold text-[1.6rem] sm:text-[1.8rem] text-red-600",children:b(w())})]})})]}),c.jsx("button",{disabled:i.length===0,className:`w-full mt-6 sm:mt-8 py-3 sm:py-4 rounded-xl font-bold text-[1.4rem] sm:text-[1.6rem] transition ${C===0?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600 shadow-lg text-white"}`,onClick:()=>j(),children:C===0?"Vui lng chn sn phm":"Thanh ton ngay"}),c.jsx("div",{className:"mt-3 sm:mt-4 text-center text-[1rem] sm:text-[1.2rem] text-gray-500",children:"Min ph vn chuyn cho n t 500.000"})]})})]})]})}function jC({openActionAddress:t,onClose:e,onSuccess:n}){const{user:r}=Wt(),{control:s,register:i,handleSubmit:a,formState:{errors:o,isSubmitting:l},setValue:u,watch:d,reset:h}=gi({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}});A.useEffect(()=>{if(t.action==="edit"&&t.dataUpdate){const M=t.dataUpdate;h({province:M.province,district:M.district,ward:M.ward,recipentName:M.recipentName,addressDetail:M.addressDetail,phone:M.phone,isDefault:M.isDefault})}},[t.action,t.dataUpdate,h]);const{data:p}=et({queryKey:["province"],queryFn:lC}),g=d("province"),x=d("district"),b=p?.find(M=>M.name===g)?.districts??[],N=b.find(M=>M.name===x)?.wards??[],C=p?.map(M=>({value:M.name,label:M.name})),T=b?.map(M=>({value:M.name,label:M.name})),j=N?.map(M=>({value:M.name,label:M.name})),E=async M=>{try{let _=null;if(r){if(t.action==="edit"&&t.dataUpdate?_=await Se.patch(`/api/v1/address/update/${t.dataUpdate.id}`,M):_=await Se.post("/api/v1/address/add",{...M}),_.status){h({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e(),n?.();return}}else{const D={...M};localStorage.setItem("guest_address",JSON.stringify(D)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:D}})),e(),n?.()}}catch(_){console.log(_),ue.error(_.message)}},O=()=>{h({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e()};return c.jsxs(St,{open:t.open,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[c.jsx("h2",{className:"text-[2rem] text-gray-600 mb-[2.5rem] font-bold text-center",children:t.action==="add"&&!t.dataUpdate?"Thm a ch":"Cp nht a ch"}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:M=>{M.stopPropagation(),O()},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsxs("form",{onSubmit:M=>{M.stopPropagation(),M.preventDefault(),a(E)(M)},children:[c.jsx("div",{className:" flex items-start gap-[2rem]",children:c.jsxs("div",{className:"w-full space-y-6",children:[c.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),c.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),o.recipentName&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.recipentName.message})]}),c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),c.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),o.phone&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.phone.message})]})]}),c.jsx("label",{className:"text-gray-600",children:"a ch"}),c.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[c.jsx("div",{className:"flex-1",children:c.jsxs(c.Fragment,{children:[c.jsx(oi,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:M})=>c.jsx(Zi,{...M,options:C,placeholder:"Tnh...",isSearchable:!0,value:C?.find(_=>_.value===M.value)||null,onChange:_=>{M.onChange(_?.value),u("district",""),u("ward","")},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),o.province&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.province.message})]})}),c.jsx("div",{className:"flex-1",children:c.jsxs(c.Fragment,{children:[c.jsx(oi,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:M})=>c.jsx(Zi,{...M,options:T,placeholder:"Huyn...",isSearchable:!0,value:T?.find(_=>_.value===M.value)||null,onChange:_=>{M.onChange(_?.value),u("ward","")},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),o.district&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.district.message})]})}),c.jsx("div",{className:"flex-1",children:c.jsxs(c.Fragment,{children:[c.jsx(oi,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:M})=>c.jsx(Zi,{...M,options:j,placeholder:"Phng...",isSearchable:!0,value:j?.find(_=>_.value===M.value)||null,onChange:_=>{M.onChange(_?.value)},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),o.ward&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.ward.message})]})})]})]})}),c.jsxs("div",{className:"w-full mt-[2rem]",children:[c.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),c.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),o.addressDetail&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.addressDetail.message})]}),r&&c.jsxs("label",{htmlFor:"isDefault",className:"flex items-center w-[11rem] gap-[1rem] mt-[1.5rem]",children:[c.jsx("span",{className:"select-none text-gray-600",children:"Mc nh"}),c.jsxs("div",{className:"relative inline-block w-12 h-6",children:[c.jsx("input",{id:"isDefault",type:"checkbox",className:"peer hidden",...i("isDefault"),disabled:d("addressDetail")===""}),c.jsx("div",{className:"absolute inset-0 bg-gray-300 rounded-full peer-checked:bg-blue-500 transition"}),c.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"})]})]}),c.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:M=>{M.stopPropagation(),O()},disabled:l,children:"Hy"}),c.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:l,children:l?"ang x l...":t.action==="edit"?"Lu":"Thm"})]})]})]})}function Nye({open:t,onSelect:e,onClose:n,selectedId:r}){const{refreshUser:s,user:i}=Wt(),[a,o]=A.useState(null),l=xo(),[u,d]=A.useState({open:!1,dataUpdate:null,action:"add"}),[h,p]=A.useState([]);A.useEffect(()=>{if(i&&i.address.length>0){const v=i.address;p(v)}},[i]),console.log(h),A.useEffect(()=>{if(t&&r&&h){const v=h.find(b=>b.id===r);v&&o(v)}},[r,h]);const g=()=>{e(a),s(),n()},x=async()=>{d({open:!1,dataUpdate:null,action:"add"}),await l.invalidateQueries({queryKey:["user"]})};return c.jsxs(c.Fragment,{children:[c.jsxs(St,{open:t,className:"relative w-[60rem] min-h-[20rem] max-h-[65rem] overflow-hidden rounded-lg bg-white p-[2.5rem]",children:[c.jsx("h2",{className:"text-[2rem] text-center text-orange-600 font-bold",children:"Thay i a ch"}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:()=>n(),children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsxs("div",{className:"mt-[2rem] space-y-4 min-h-[40rem] max-h-[50rem] overflow-auto hide-scrollbar",children:[c.jsxs("div",{className:"flex items-center justify-between mb-[2rem]",children:[c.jsx("h4",{className:"text-gray-800",children:"a ch"}),c.jsxs("button",{type:"button",className:"flex items-center gap-[.3rem] px-[1rem] py-[.5rem] rounded-md border border-gray-300 text-gray-500 hover:bg-gray-100 transition duration-300 cursor-pointer",onClick:()=>d({open:!0,dataUpdate:null,action:"add"}),children:[c.jsx($,{icon:ys,className:"text-[1.4rem]"}),c.jsx("span",{children:"Thm a ch"})]})]}),h&&h?.length>0?c.jsx(c.Fragment,{children:h.map(v=>c.jsxs("label",{htmlFor:`select-${v.id}`,className:"flex items-center justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[c.jsxs("div",{className:"flex items-center gap-[2rem]",children:[c.jsx("span",{className:"w-[2rem] h-[2rem] flex items-center justify-center",children:c.jsx("input",{type:"radio",id:`select-${v.id}`,name:"select",className:"scale-[1.5] ",style:{accentColor:"red"},checked:a?.id===v.id,onChange:()=>{o(v)}})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[c.jsx("span",{className:"text-gray-800",children:v.recipentName}),c.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),c.jsx("span",{className:"text-[1.4rem]",children:v.phone})]}),c.jsx("p",{className:"text-[1.4rem] text-gray-500",children:v.addressDetail}),c.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[v.ward,", ",v.district,", ",v.province]}),v.isDefault&&c.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},v.id)]}),c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsx("div",{className:"flex items-center gap-[1rem] ",children:c.jsx("button",{type:"button",className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>d({open:!0,dataUpdate:v,action:"edit"}),children:"Cp nht"})}),c.jsx("button",{type:"button",className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>{const b=h.filter(w=>w.id!==v.id);if(localStorage.setItem("guest_addresses",JSON.stringify(b)),b.length>0){const w=b[b.length-1];localStorage.setItem("guest_latest_address",JSON.stringify(w)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:w}}))}else localStorage.removeItem("guest_latest_address"),localStorage.removeItem("guest_addresses"),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added"}}));p(b)},children:"Xa"})]})]},v.id))}):c.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[c.jsx($,{icon:uS,className:"text-[2rem] text-red-500"}),c.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})]}),c.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:()=>n(),children:"Hy"}),c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>g(),children:"Xc nhn"})]})]}),c.jsx(jC,{openActionAddress:u,onClose:()=>d({open:!1,dataUpdate:null,action:"add"}),onSuccess:x})]})}function Cye({open:t,onClose:e}){const n=ut();return c.jsxs(St,{open:t,className:"relative w-[60rem] rounded-lg bg-white p-[3rem]",children:[c.jsx("h2",{className:"text-[1.8rem] text-gray-600 mb-[2.5rem] font-bold",children:"Email ny  c ti khon vui lng ng nhp  tip tc!"}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsxs("div",{className:"mt-[3rem] flex items-center gap-[1rem] justify-end",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),c.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp ngay"})]})]})}function jye({open:t,selected:e,onClose:n,setSelectVoucher:r,conditionValue:s}){const[i,a]=A.useState(""),{data:o}=et({queryKey:["getSavedVouchers"],queryFn:()=>SC(),staleTime:120*1e3,enabled:t}),[l,u]=A.useState({open:!1,content:"",isSuccess:!0}),d=o&&o.data.filter(x=>!x.usedAt);console.log(d);const h=x=>pi(x).format("HH:mm DD/MM/YYYY"),p=x=>{if(new Date>new Date(x.endDate)){u({open:!0,content:"Voucher  ht hn!",isSuccess:!1});return}if(s&&s<x.minOrderValue){u({open:!0,content:"Gi n khng  iu kin s dng vocuher ny!",isSuccess:!1});return}r(b=>({...b,open:!1,voucher:x}))},g=async x=>{try{const v=await Se.post(`/api/v1/check-voucher/${x}`);v.status&&r({open:!1,voucher:v.data,conditionValue:v.data.minOrderValue})}catch(v){console.log(v),ue.error(v.message)}};return c.jsxs(St,{open:t,className:"relative flex flex-col w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[c.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[c.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:c.jsx($,{icon:On,className:"text-3xl"})}),c.jsx("h2",{className:"text-3xl  font-bold text-center text-pink-600",children:"Voucher gim gi"})]}),c.jsxs("div",{className:"px-8 space-y-4 z-0",children:[c.jsx("div",{className:"w-full p-8 bg-gray-100 rounded-2xl flex items-center justify-center mt-4",children:c.jsxs("div",{className:"w-4xl flex items-center space-x-4",children:[c.jsx("p",{children:"M voucher"}),c.jsx("input",{type:"text",id:"voucher",name:"voucher",className:"flex-1 bg-white h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.5rem]",placeholder:"Nhp m voucher...",onChange:x=>a(x.target.value)}),c.jsx("button",{className:`h-[4rem] px-8 rounded-md ${i===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"}  transition-colors duration-300`,onClick:()=>g(i),children:"p dng"})]})}),d?.length>0?c.jsx("div",{className:"grid grid-cols-2 gap-[1rem]",children:d?.map(x=>{const v=e&&e.id===x.id,b=s&&x.minOrderValue<=s;return c.jsxs("div",{className:`flex items-center bg-gradient-to-r ${b?"from-pink-500 to-blue-600":"from-gray-300 to-gray-500"}  rounded-2xl p-6 text-white shadow-lg relative overflow-hidden`,children:[c.jsxs("div",{className:"absolute inset-0 opacity-20",children:[c.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-30 h-30 bg-white rounded-full"}),c.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-46 h-46 bg-white rounded-full"})]}),c.jsxs("div",{className:"relative w-full z-10",children:[c.jsx("h3",{className:"text-[1.4rem] text-nowrap select-none",children:x.name}),c.jsxs("div",{className:"text-[2rem] font-bold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&c.jsxs("span",{className:"text-[1rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),c.jsxs("div",{className:"text-[1rem] gap-2",children:["HSD: n ",h(x.endDate)]}),c.jsx("div",{className:"w-full flex justify-end mt-2",children:c.jsx("button",{className:`text-[1.2rem] px-6 py-2 rounded-xl  ${b?`${v?"bg-red-500 text-white":"text-red-600 hover:text-red-700 hover:border-red-500 bg-white"} cursor-pointer`:"bg-gray-400 cursor-not-allowed"}  border border-transparent  transition-colors duration-300 `,onClick:()=>p(x),disabled:!b,children:v?"ang p dng":"p dng"})})]})]},x.id)})}):c.jsx("div",{className:"py-16 text-center",children:"ng nhp  lu voucher"})]}),c.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-8 py-6 text-end z-10",children:c.jsx("button",{onClick:n,className:"px-12 py-3 bg-gray-200 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})}),c.jsx(wh,{content:l.content,duration:1e3,showNotify:l.open,isSuccess:l.isSuccess})]})}function kye(){const{user:t,refreshUser:e}=Wt(),n=ut(),[r,s]=A.useState({open:!1,selectedId:null}),[i,a]=A.useState({open:!1,dataUpdate:null,action:"add"}),[o,l]=A.useState(null),[u,d]=A.useState(!1),[h,p]=A.useState(0),[g,x]=A.useState(!1),[v,b]=A.useState(0),[w,N]=A.useState(0),[C,T]=A.useState(!1),[j,E]=A.useState({open:!1,voucher:null,conditionValue:null}),O=xo(),{register:M,handleSubmit:_,formState:{errors:D,isSubmitting:I},setValue:F,watch:Y}=gi({defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerWard:"",customerDistrict:"",customerProvince:"",customerNote:"",paymentMethod:Wr.COD,couponCode:"",orderItems:[]}}),G=Y("customerProvince"),W=Y("paymentMethod"),[R,V]=A.useState(null);A.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),A.useEffect(()=>{if(t&&(F("customerPhone",t.phone?.toString()||""),F("customerEmail",t.email||""),t.address.length>0)){const ne=t?.address.find(ie=>ie.isDefault);ne&&(l(ne),F("customerName",ne.recipentName||t.username||""),F("customerAddress",ne.addressDetail),F("customerWard",ne.ward),F("customerDistrict",ne.district),F("customerProvince",ne.province),s({open:!1,selectedId:ne.id}))}},[t,F]),A.useEffect(()=>{const ne=()=>{if(t)return;const le=localStorage.getItem("guest_address");if(le){const be=JSON.parse(le);l(be),F("customerAddress",be.addressDetail),F("customerWard",be.ward),F("customerDistrict",be.district),F("customerProvince",be.province)}else l(null),F("customerAddress",""),F("customerWard",""),F("customerDistrict",""),F("customerProvince","")};ne();const ie=le=>{const be=le,{action:Ae}=be.detail||{};Ae==="cleared"?(l(null),F("customerAddress",""),F("customerWard",""),F("customerDistrict",""),F("customerProvince","")):ne()};return window.addEventListener("guest_address_updated",ie),()=>{window.removeEventListener("guest_address_updated",ie)}},[t,F]),A.useEffect(()=>{const ne=sessionStorage.getItem("checkoutData");if(!ne){ue.error("Khng tm thy thng tin n hng!"),n("/cart/detail");return}const ie=JSON.parse(ne),le=ie.items.map(be=>({productId:be.productId,variantId:be.variantId,price:Number(be.price),quantity:be.quantity}));F("orderItems",le),V(ie)},[n,F]),A.useEffect(()=>{if(!R)return;let ne=0;if(t&&j.voucher){const le=j.voucher,be=R?.subtotal;le.type===Zs.PERCENT?(ne=Number(be)*le.value/100,ne>le.maxDiscount&&(ne=le.maxDiscount)):ne=le.value}b(ne);const ie=R.subtotal+h-ne;N(ie)},[j.voucher,R,h,t]);const z=async ne=>{if(R){x(!0);try{const ie=await Se.post("/api/v1/orders/calculate-shipping",{subTotal:R.subtotal,customerProvince:ne.province});if(ie.status)p(ie.data.shippingFee),N(R.subtotal+ie.data.shippingFee);else{const le=R.subtotal>=5e5?0:35e3;p(le),N(R.subtotal+le)}}catch{const le=R.subtotal>=5e5?0:35e3;p(le),N(R.subtotal+le)}finally{x(!1)}}};A.useEffect(()=>{R&&G&&z({province:G})},[G,R]),A.useEffect(()=>{if(t===void 0)return;sessionStorage.getItem("checkoutFrom")==="authenticated"&&!t&&(ue.error("Phin ng nhp  ht hn! Vui lng chn li sn phm."),sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),n("/cart/detail",{replace:!0}))},[t,n]);const q=ne=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ne),Q=ne=>{l(ne),F("customerName",ne.recipentName),F("customerPhone",ne.phone.toString()),F("customerAddress",ne.addressDetail),F("customerWard",ne.ward),F("customerDistrict",ne.district),F("customerProvince",ne.province),s({open:!1,selectedId:ne.id})},B=async ne=>{try{const ie={shippingFee:h,totalAmount:w,...ne,...j.voucher&&v?{voucherCode:j.voucher.voucherCode,discountAmount:v}:{}},le=await Se.post("/api/v1/orders/create",ie);if(le.status){if(sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),!t){const be=localStorage.getItem("guest_orders");if(be){const Ae=JSON.parse(be);Ae.push(le.data.orderCode),localStorage.setItem("guest_orders",JSON.stringify(Ae))}else localStorage.setItem("guest_orders",JSON.stringify([le.data.orderCode]))}ue.success(le.data.message||"t hng thnh cng!"),ne.paymentMethod!==Wr.COD?window.location.href=le.data.paymentUrl:n(`/order-confirmation/${le.data.orderCode}`,{replace:!0}),t&&await e()}else le.existingEmail&&T(!0)}catch(ie){console.log(ie),ue.error(ie.message||"C li xy ra khi t hng. Vui lng th li!")}},J=async()=>{a({open:!1,dataUpdate:null,action:"add"}),t&&await O.invalidateQueries({queryKey:["user"]})};return R?c.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:()=>n("/cart/detail"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4 sm:mb-6",children:[c.jsx($,{icon:lo}),c.jsx("span",{children:"Quay li gi hng"})]}),c.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800",children:"Thanh ton"}),!t&&c.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("p",{className:"text-blue-800 text-[1.4rem]",children:["Bn ang mua hng vi t cch ",c.jsx("strong",{children:"khch vng lai"}),".",c.jsx("button",{onClick:()=>n("/login",{state:{from:"/checkout"}}),className:"ml-2 text-blue-600 underline font-medium cursor-pointer",children:"ng nhp"})," "," nhn u i thnh vin!"]})})]}),c.jsx("form",{onSubmit:_(B),children:c.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8",children:[c.jsx("div",{className:"lg:col-span-2 space-y-6 lg:space-y-8",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg pt-6 lg:pt-10 px-4 sm:px-6 lg:px-10 pb-6 lg:pb-18",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4 lg:mb-6",children:[c.jsx($,{icon:Q1,className:"text-xl lg:text-2xl text-red-500"}),c.jsx("h2",{className:"font-bold",children:"Thng tin giao hng"})]}),c.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 lg:gap-[2rem]",children:[c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"customerName",className:"block text-gray-600",children:"H v tn"}),c.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...M("customerName",{required:"Vui lng nhp h tn!"})}),D.customerName&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:D.customerName.message})]}),c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"customerPhone",className:"block text-gray-600",children:"S in thoi"}),c.jsx("input",{type:"tel",placeholder:"S in thoi *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",readOnly:!!t?.phone,...M("customerPhone",{required:"Vui lng nhp s in thoi!"})}),D.customerPhone&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:D.customerPhone.message})]})]}),c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"customerEmail",className:"block text-gray-600",children:"Email"}),c.jsx("input",{type:"email",placeholder:"Email (ty chn)",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300 md:col-span-2 select-none",readOnly:!!t?.email,...M("customerEmail",{required:"Vui lng nhp email!"})}),D.customerEmail&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:D.customerEmail.message})]}),c.jsxs("div",{className:"w-full space-y-2",children:[c.jsx("label",{className:"block text-gray-600 font-medium",children:"a ch giao hng"}),c.jsx("div",{className:"space-y-4",children:o?c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border border-dashed rounded-md p-4 lg:p-[2rem] border-gray-300 gap-4",children:[c.jsxs("div",{className:"space-y-2 flex-1",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 lg:gap-[1rem] text-gray-500",children:[c.jsx("span",{className:"text-gray-800",children:o.recipentName}),c.jsx("span",{className:"hidden sm:block h-[1.5rem] border-l border-l-gray-300"}),c.jsx("span",{className:"text-[1.4rem]",children:o.phone})]}),c.jsx("p",{className:"text-[1.4rem] text-gray-500",children:o.addressDetail}),c.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[o.ward,", ",o.district,","," ",o.province]}),o.isDefault&&c.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm inline-block mt-2",children:"Mc nh"})]},o.id),c.jsx("div",{className:"flex space-y-2 sm:flex-col sm:space-y-4",children:c.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-amber-500 border-amber-400 hover:border-amber-600 hover:text-amber-600 rounded-sm w-full sm:w-auto",onClick:()=>{t?s({open:!0,selectedId:o.id}):a({open:!0,action:"edit",dataUpdate:o})},children:"Thay i"})})]},o.id):c.jsxs("button",{type:"button",className:"flex items-center justify-center gap-[.5rem] text-center rounded-md px-4 lg:px-[2rem] py-3 lg:py-[.6rem] border border-dashed border-blue-500 cursor-pointer hover:border-blue-600 text-blue-500 hover:text-blue-600 w-full",onClick:()=>{t?s({open:!0,selectedId:null}):a({open:!0,action:"add",dataUpdate:null})},children:[c.jsx($,{icon:ys,className:"text-[1.5rem] lg:text-[2rem]"}),c.jsx("p",{className:"text-gray-500 text-[1.4rem] lg:text-[1.6rem] select-none",children:"Thm a ch"})]})})]}),c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"customerNote",className:"block text-gray-600",children:"Ghi ch"}),c.jsx("textarea",{placeholder:"Ghi ch cho shop (ty chn)",rows:2,className:"w-full pl-[1rem] lg:pl-[1.5rem] py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 md:col-span-2",...M("customerNote")})]})]})]})}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-4 sm:px-6 py-6 lg:py-10 sticky top-4 lg:top-6",children:[c.jsxs("h2",{className:"font-bold text-gray-800 mb-4 lg:mb-6 flex items-center gap-3",children:[c.jsx($,{icon:K0,className:"text-red-500"}),c.jsxs("span",{children:["n hng (",R.items.length," sn phm)"]})]}),c.jsx("div",{className:"space-y-4 max-h-64 sm:max-h-80 lg:max-h-96 overflow-y-auto pr-2 mb-4 lg:mb-6",children:R.items.map((ne,ie)=>c.jsxs("div",{className:"flex justify-between gap-3 lg:gap-4 pb-4 border-b border-gray-100 last:border-0",children:[c.jsxs("div",{className:"flex items-center gap-3 lg:gap-[1rem] min-w-0",children:[c.jsx("img",{src:ne.mainImage,alt:ne.productName,className:"w-16 h-16 lg:w-20 lg:h-20 rounded-lg object-cover border flex-shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"text-gray-800 line-clamp-1 text-[1.4rem]",children:ne.productName}),ne.size&&ne.color&&c.jsxs("p",{className:"text-[1.2rem] text-gray-500 truncate",children:[ne.color," / ",ne.size]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["x",ne.quantity]})]})]}),c.jsx("p",{className:"text-red-600 whitespace-nowrap text-[1.4rem] flex-shrink-0",children:q(ne.price*ne.quantity)})]},ie))}),c.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:j.voucher?c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[c.jsx("p",{className:"text-blue-600",children:" p dng voucher:"}),c.jsxs("div",{className:"flex space-x-4 gap-2",children:[c.jsx("button",{type:"button",onClick:()=>E(ne=>({...ne,open:!0})),className:"text-blue-600 hover:text-blue-700 cursor-pointer text-[1.4rem]",children:"i"}),c.jsx("button",{type:"button",onClick:()=>{E({open:!1,voucher:null,conditionValue:R.subtotal}),b(0)},className:"text-red-600 hover:text-red-700 cursor-pointer text-[1.4rem]",children:"B"})]})]}):c.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:c.jsx("p",{className:"text-blue-600 cursor-pointer hover:text-blue-700 select-none text-center sm:text-left",onClick:()=>{t?E({open:!0,voucher:null,conditionValue:R.subtotal}):d(!0)},children:"Chn hoc nhp m voucher"})})}),c.jsxs("div",{className:"mt-4 lg:mt-6 pt-4 lg:pt-6 space-y-4 lg:space-y-6",children:[c.jsxs("div",{className:"flex justify-between text-[1.4rem]",children:[c.jsx("span",{className:"text-gray-800",children:"Tm tnh:"}),c.jsx("span",{children:q(R.subtotal)})]}),c.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[c.jsx("span",{children:"Ph vn chuyn:"}),c.jsx("span",{className:"text-green-600",children:g?c.jsx("span",{className:"text-gray-500",children:"ang tnh..."}):h===0?"Min ph":q(h)})]}),c.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[c.jsx("span",{children:"Voucher p dng:"}),c.jsxs("span",{className:"text-red-600",children:["- ",q(v)]})]}),c.jsx("div",{className:"border-t border-t-gray-400 pt-4",children:c.jsxs("div",{className:"flex justify-between font-bold",children:[c.jsx("span",{children:"Tng cng:"}),c.jsx("span",{className:"text-red-600",children:q(w)})]})})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx($,{icon:HK,className:"text-lg text-green-600"}),c.jsx("h3",{className:"font-bold text-gray-800",children:"Thanh ton"})]}),c.jsx("div",{className:"space-y-3",children:Object.values(Wr).map(ne=>c.jsxs("label",{className:`flex items-center gap-3 p-2 border-1 rounded-lg cursor-pointer transition-all ${W===ne?"border-pink-400 bg-pink-50":"border-gray-200 hover:border-gray-400"}`,children:[c.jsx("input",{type:"radio",name:"payment",value:ne,checked:W===ne,onChange:()=>F("paymentMethod",ne),className:"w-4 h-4 text-green-500"}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($,{icon:PK,className:"text-lg text-green-600"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-[1.4rem] uppercase truncate",children:ne}),c.jsx("p",{className:"text-[1.2rem] text-gray-600 truncate",children:"Thanh ton khi nhn hng"})]})]})}),W===ne&&c.jsx($,{icon:eu,className:"text-lg text-pink-500 flex-shrink-0"})]},ne))})]}),c.jsx("button",{className:"w-full mt-6 py-3 lg:py-5 uppercase bg-red-500 hover:bg-red-600 text-white text-lg lg:text-xl font-bold rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95",type:"submit",disabled:I,children:I?"ang x l":"T NGAY"})]})})]})}),r.open&&c.jsx(Nye,{open:r.open,onSelect:Q,selectedId:r.selectedId,onClose:()=>s({open:!1,selectedId:o?.id??null})}),c.jsx(jC,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:J}),c.jsx(Cye,{open:C,onClose:()=>T(!1)}),c.jsx(YD,{children:j.open&&c.jsx(jye,{open:j.open,selected:j.voucher,setSelectVoucher:E,onClose:()=>E(ne=>({...ne,open:!1})),conditionValue:j.conditionValue})}),c.jsx(NC,{open:u,onClose:()=>d(!1)})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-2xl text-gray-500",children:"ang ti thng tin n hng..."})})}function Tye(){const{user:t,refreshUser:e}=Wt(),n=t?.address,[r,s]=A.useState(!1),[i,a]=A.useState({open:!1,dataUpdate:null,action:"add"}),[o,l]=A.useState({open:!1,delete:null}),u=async()=>{try{if(s(!0),(await Se.delete(`/api/v1/address/delete/${o.delete}`)).status){l({open:!1,delete:null}),await e();return}}catch(p){console.log(p),l({open:!1,delete:null}),ue.error(p.message)}finally{s(!1)}},d=async p=>{try{if((await Se.patch(`/api/v1/address/set-default/${p}`)).status){await e();return}}catch(g){console.log(g),ue.error(g.message)}},h=async()=>{await e()};return c.jsxs("div",{className:"p-[2rem]",children:[c.jsxs("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:[c.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"a ch ca ti"}),c.jsxs("button",{className:"flex items-center gap-[.5rem] px-5 py-2.5 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>a({open:!0,action:"add",dataUpdate:null}),children:[c.jsx($,{icon:ys,className:"text-white"}),c.jsx("span",{className:"text-white",children:"Thm a ch"})]})]}),c.jsx("div",{className:"mt-[2rem] space-y-4",children:n&&n?.length>0?c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:"text-[1.8rem] text-gray-800 mb-[2rem]",children:"a ch"}),n.map(p=>c.jsxs("div",{className:"flex items-center justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[c.jsx("span",{className:"text-gray-800",children:p.recipentName}),c.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),c.jsx("span",{className:"text-[1.4rem]",children:p.phone})]}),c.jsx("p",{className:"text-[1.4rem] text-gray-500",children:p.addressDetail}),c.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[p.ward,", ",p.district,", ",p.province]}),p.isDefault&&c.jsx("button",{className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},p.id),c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-[1rem] ",children:[c.jsx("button",{className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>a({open:!0,dataUpdate:p,action:"edit"}),children:"Cp nht"}),!p.isDefault&&c.jsx("button",{className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>l({open:!0,delete:p.id}),children:"Xa"})]}),c.jsx("button",{className:`px-[1rem] py-[.4rem] text-[1.4rem] border ${p.isDefault?"text-gray-400 border-gray-200 cursor-not-allowed":"text-orange-500 border-orange-400 hover:border-orange-600 hover:text-orange-600"}  rounded-sm`,disabled:p.isDefault,onClick:()=>d(p.id),children:"Thit lp mc nh"})]})]},p.id))]}):c.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[c.jsx($,{icon:uS,className:"text-[2rem] text-red-500"}),c.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})}),c.jsx(jC,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:h}),c.jsxs(St,{open:o.open,className:"relative w-[50rem] min-h-[10rem] rounded-lg bg-white p-[2.5rem]",children:[c.jsx("h2",{className:"text-[1.8rem] text-gray-800",children:"Bn c chc mun xa a ch ny?"}),c.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[c.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-gray-600 bg-gray-200  hover:bg-gray-300 rounded-sm",onClick:()=>l({open:!1,delete:null}),disabled:r,children:"Hy"}),c.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm",onClick:()=>u(),disabled:r,children:r?"ang x l...":"Xa"})]})]})]})}const Eye={[Go.NOT_USING]:"Ti khng cn s dng na",[Go.PRIVACY_CONCERNS]:"Lo ngi v quyn ring t",[Go.FOUND_BETTER_ALTERNATIVE]:"Tm c website/app tt hn",[Go.ACCOUNT_ISSUE]:"Gp vn  vi ti khon",[Go.OTHER]:"L do khc"};function Mye(){const{logout:t}=vu(),[e,n]=A.useState(!1),r=ut(),[s,i]=A.useState(!1),[a,o]=A.useState({reason:null,confirm:!1,password:""}),[l,u]=A.useState({reason:null,confirm:null,password:null}),d=async()=>{n(!0)},h=async()=>{u({reason:null,confirm:null,password:null});let p=!1;if(a.password===""&&(u(g=>({...g,password:"Vui lng nhp mt khu  xc thc!"})),p=!0),a.reason||(u(g=>({...g,reason:"Vui lng chn l do xa ti khon!"})),p=!0),a.confirm||(u(g=>({...g,confirm:"Vui lng xc nhn xa ti khon!"})),p=!0),!p){i(!0);try{const g=await Se.post("/api/v1/user/delete-account",a);g.status&&(localStorage.removeItem("guest_address"),ue.success(g.message||"Xa ti khon thnh cng!"),await t(),r("/"))}catch(g){console.log(g),ue.error(g.message||"Xa ti khon khng thnh cng!"),g.message.toLowerCase().includes("mt khu")&&u(x=>({...x,password:"Mt khu khng chnh xc!"}))}finally{i(!1)}}};return c.jsxs("div",{className:"p-[2rem]",children:[c.jsx("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:c.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"Quyn ring t & Xa ti khon"})}),e?c.jsxs("div",{className:"mt-[2rem]",children:[c.jsxs("button",{className:"flex items-center gap-[.5rem] px-8 py-2.5 rounded-md hover:bg-gray-50 hover:border-gray-400 transition duration-300 cursor-pointer border border-gray-300 text-[1.4rem]",onClick:()=>n(!1),disabled:s,children:[c.jsx($,{icon:zP,className:"text-gray-600 text-[1.4rem]"}),c.jsx("span",{className:"text-gray-600",children:"Quay li"})]}),c.jsxs("div",{className:"mt-[2rem]",children:[c.jsx("label",{htmlFor:"password",className:"text-gray-600",children:"Mt khu"}),c.jsx("input",{type:"password",id:"password",name:"password",value:a.password,placeholder:"Nhp mt khu ti khon ca bn...",className:"w-full h-[4rem] rounded-md border border-gray-300 focus:border-cyan-400 outline-none px-[1.5rem] mt-[.5rem]",onChange:p=>{o(g=>({...g,password:p.target.value})),l.password&&u(g=>({...g,password:null}))}}),l.password&&c.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem]",children:l.password}),c.jsxs("div",{className:"mt-[2rem]",children:[c.jsx("p",{className:"text-gray-600",children:"L do bn mun xa ti khon"}),c.jsxs("div",{className:"space-y-8 pl-[2rem] mt-[2rem]",children:[Object.entries(Eye).map(([p,g])=>c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsx("input",{type:"radio",id:`reason-${p}`,name:"reason",className:"cursor-pointer",style:{scale:1.5},checked:p===a.reason,onChange:()=>{o(x=>({...x,reason:p})),l.reason&&u(x=>({...x,reason:null}))}}),c.jsx("label",{htmlFor:`reason-${p}`,className:"text-gray-800 select-none cursor-pointer",children:g})]},p)),l.reason&&c.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem] pl-[2rem]",children:l.reason})]})]}),c.jsxs("div",{className:"mt-[2rem]",children:[c.jsx("p",{className:"w-full h-auto p-[1rem] mb-[1rem] border border-amber-400 text-amber-800 bg-amber-50",children:" Xa ti khon tt s xa ton b d liu v gi hng v cc cu hnh thng tin c nhn. Bn c chc ch?"}),c.jsxs("div",{className:"flex items-center space-x-4 pl-[2rem]",children:[c.jsx("input",{type:"checkbox",id:"confirm",className:"",checked:a.confirm,style:{scale:1.5},onChange:p=>{o(g=>({...g,confirm:p.target.checked})),l.confirm&&u(g=>({...g,confirm:null}))}}),c.jsx("label",{htmlFor:"confirm",className:"text-gray-600",children:"Xc nhn xa ti khon"})]}),l.confirm&&c.jsx("p",{className:"text-red-500 mt-[.5rem] pl-[2rem] text-[1.4rem]",children:l.confirm})]}),c.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:c.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm ${s?"cursor-not-allowed":""}`,onClick:()=>{h()},disabled:s,children:s?"ang x l...":"Xa ti khon"})})]})]}):c.jsxs("div",{className:"flex items-center justify-between mt-[2rem]",children:[c.jsx("h3",{className:" text-gray-600",children:"Yu cu xa ti khon"}),c.jsxs("button",{type:"button",className:"flex items-center gap-[.5rem] px-8 py-4 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>{d()},children:[c.jsx($,{icon:Su,className:"text-white text-[1.4rem]"}),c.jsx("span",{className:"text-white",children:"Xa ti khon"})]})]})]})}function Aye(){const{user:t}=Wt(),[e,n]=A.useState(null),[r,s]=A.useState(!1),[i,a]=A.useState(void 0),[o,l]=A.useState(!1),[u,d]=A.useState(null),{register:h,formState:{errors:p,isSubmitting:g},reset:x,watch:v,setValue:b,handleSubmit:w}=gi({defaultValues:{user:{username:"",email:"",phone:void 0,avatar:null},customer:{birthday:"",gender:""}}}),N=v("user.phone"),C=v("user.avatar");A.useEffect(()=>{t&&(x({user:{username:t.username,email:t.email,phone:t.phone},customer:{birthday:t.customer.birthday,gender:t.customer.gender}}),a(t.phone),t.avatar&&n(t.avatar))},[t,x]),A.useEffect(()=>{if(C&&C.length>0){const O=C[0],M=URL.createObjectURL(O);return n(M),()=>URL.revokeObjectURL(M)}},[C]);const T=async O=>{try{const M=new FormData;M.append("user[username]",O.user.username),M.append("user[email]",O.user.email),O.user.phone!==void 0&&O.user.phone!==null&&String(O.user.phone)!==""&&M.append("user[phone]",String(O.user.phone)),O.customer.gender&&String(O.customer.gender)!==""&&M.append("customer[gender]",O.customer.gender),M.append("customer[birthday]",new Date(O.customer.birthday).toISOString().split("T")[0]),O.user.avatar&&O.user.avatar.length>0&&M.append("avatar",O.user.avatar[0]);for(const D of M.entries())console.log(D[0],D[1]);const _=await Se.patch(`/api/v1/user/update-customer/${t?.customer.id}`,M,{headers:{"Content-Type":"multipart/form-data"}});_.status&&(d(_.message||"Cp nht thnh cng!"),l(!0),setTimeout(()=>{l(!1)},800))}catch(M){console.log(M),d(M.message||"Cp nht tht bi!"),l(!0),setTimeout(()=>{l(!1)},800)}},j=()=>{N&&/^[0-9]{10,11}$/.test(N.toString())&&s(!1)},E=()=>{b("user.phone",i),s(!1)};return c.jsxs("div",{className:"w-full h-full p-[1rem] xs:p-[1.5rem] sm:p-[2rem]",children:[c.jsxs("div",{className:"pb-[1.5rem] sm:pb-[1.9rem] border-b border-b-gray-200",children:[c.jsx("h4",{className:"text-[1.8rem] sm:text-[2rem] text-gray-800",children:"H S Ca Ti"}),c.jsx("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:"Qun l thng tin h s  bo mt ti khon"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row mt-[2rem] sm:mt-[3rem] gap-6 lg:gap-0",children:[c.jsx("div",{className:"flex-1 order-2 lg:order-1",children:c.jsxs("form",{onSubmit:w(T),className:"space-y-8 md:space-y-10",children:[c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex text-[1.4rem] md:text-[1.6rem] items-center gap-[1rem] md:gap-[2rem]",children:[c.jsx("label",{htmlFor:"username",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Tn"}),c.jsx("input",{type:"text",className:"md:flex-1 w-full h-[4rem] pl-[1.5rem] rounded-md border border-gray-300 outline-none text-gray-600",...h("user.username",{required:"Tn khng c  trng"})})]}),p.user?.username&&c.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.username.message})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex md:flex-row items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("label",{htmlFor:"email",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Email"}),c.jsx("input",{type:"email",className:"md:flex-1 w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...h("user.email",{required:"Email khng c  trng"})})]}),p.user?.email&&c.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.email.message})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("label",{htmlFor:"phone",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"S in thoi"}),N?c.jsxs("div",{className:"flex items-center gap-[.5rem] flex-wrap",children:[c.jsx("p",{className:"text-gray-600",children:N}),c.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] rounded-md bg-blue-400 text-[1.2rem] text-white hover:bg-blue-500 hover:underline transition duration-150",onClick:()=>s(!0),children:"i"})]}):c.jsx("p",{className:"text-blue-500 hover:text-blue-600 underline cursor-pointer",onClick:()=>s(!0),children:"Thm s in thoi"})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("label",{htmlFor:"gender",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Gii tnh"}),c.jsxs("div",{className:"flex items-center gap-[1.5rem] sm:gap-[2rem] text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[c.jsx("input",{type:"radio",value:"male",id:"male",...h("customer.gender")}),c.jsx("label",{htmlFor:"male",children:"Nam"})]}),c.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[c.jsx("input",{type:"radio",value:"female",id:"female",...h("customer.gender")}),c.jsx("label",{htmlFor:"female",children:"N"})]})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("label",{htmlFor:"birthday",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Ngy sinh"}),c.jsx("input",{type:"date",id:"birthday",className:"w-full md:w-[20rem] h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...h("customer.birthday")})]}),c.jsx("div",{className:"flex items-center justify-start md:justify-end pt-4",children:c.jsx("button",{className:"w-full sm:w-auto px-[2rem] py-[.8rem] rounded-md bg-red-500 hover:bg-red-600 text-white transition duration-150 cursor-pointer",type:"submit",disabled:g,children:g?"ang x l...":"Lu"})})]})}),c.jsx("div",{className:"w-full lg:w-[30rem] h-auto pl-0 lg:pl-[4rem] ml-0 lg:ml-[4rem] border-l-0 lg:border-l border-l-gray-300 mb-[2rem] lg:mb-0 order-1 lg:order-2",children:c.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e?c.jsx("div",{className:"w-[10rem] md:w-[12rem] h-[10rem] md:h-[12rem] sm:w-[14rem] sm:h-[14rem] rounded-full flex items-center justify-center",children:c.jsx("img",{src:e,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}):c.jsx("div",{className:"w-[10rem] h-[10rem] sm:w-[12rem] sm:h-[12rem] rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center",children:c.jsx($,{icon:wC,className:"text-[3rem] sm:text-[4rem] text-gray-400"})}),c.jsxs("label",{htmlFor:"avatar",className:"text-[1.4rem] md:text-[1.6rem] flex items-center justify-center w-[12rem] h-[3.8rem] rounded-md border border-gray-500 border-dashed cursor-pointer mt-[2rem] text-gray-600 hover:bg-gray-50 transition duration-150",children:[c.jsx("input",{type:"file",id:"avatar",className:"hidden",accept:"image/*",...h("user.avatar")}),"Chn nh"]})]})})]}),c.jsxs(St,{open:r,className:"relative w-[90vw] sm:w-[32rem] md:w-2xl max-w-[90vw] min-h-[18rem] bg-white rounded-md p-[1.5rem] sm:p-[2rem]",children:[c.jsx("div",{className:"absolute top-[1rem] right-[1rem] cursor-pointer w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition",onClick:()=>E(),children:c.jsx($,{icon:On,className:"text-gray-600 hover:text-gray-800 text-[1.6rem]"})}),c.jsx("h3",{className:"text-gray-600 text-[1.6rem] sm:text-[1.8rem]",children:"Thay i s in thoi"}),c.jsxs("div",{className:"mt-[2rem]",children:[c.jsx("input",{type:"number",className:"w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",placeholder:"Nhp s in thoi",...h("user.phone",{pattern:{value:/^[0-9]{10,11}$/,message:"S in thoi khng hp l"}})}),p.user?.phone&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-2",children:p.user.phone.message})]}),c.jsx("button",{className:`block mt-[2rem] w-full sm:w-[10rem] h-[4rem] ${N&&/^[0-9]{10,11}$/.test(N.toString())?"bg-red-500 hover:bg-red-600 text-white":"bg-red-400 text-gray-200 cursor-not-allowed"} rounded-lg transition duration-150 ml-auto`,disabled:!N||!/^[0-9]{10,11}$/.test(N.toString()),onClick:j,children:"Tip theo"})]}),c.jsx(St,{open:o,className:"relative w-[90vw] sm:w-[30rem] max-w-[90vw] min-h-[15rem] bg-white rounded-md p-[2rem] sm:p-[3rem] shadow-lg",children:c.jsxs("div",{className:"flex flex-col items-center justify-center gap-[1.5rem]",children:[c.jsx("div",{className:"w-[5rem] h-[5rem] rounded-full bg-green-500 flex items-center justify-center",children:c.jsx($,{icon:yf,className:"text-white text-[3rem]"})}),c.jsx("h3",{className:"text-[1.6rem] text-gray-800 text-center",children:u})]})})]})}function Oye({children:t}){const{user:e,loading:n}=Wt();return n?c.jsx("div",{children:"Loading..."}):e&&[Ut.ADMIN,Ut.STAFF].includes(e.role)?c.jsx(Bc,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:t})}function Pye(){const{user:t}=Wt(),{orderCode:e}=Xf(),n=ut(),[r,s]=A.useState(!1),[i,a]=A.useState(!1),o=A.useRef(!1);A.useEffect(()=>{window.scrollTo(0,0)},[]),A.useEffect(()=>{(async()=>{if(!e){s(!0),a(!1);return}try{a(!0),(await Se.get(`/api/v1/orders/verify/${e}`)).status&&s(!1)}catch(d){s(!0),o.current||(ue.error(d.message||"Khng th xc thc n hng!"),o.current=!0)}finally{a(!1)}})()},[e]);const l=()=>{n(t?"/customer/order":"/look-up-order")};return r&&!i?c.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-gray-50 px-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[2rem] text-red-500 mb-4",children:""}),c.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Khng tm thy n hng"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"M n hng khng hp l hoc  b xa."}),c.jsx("button",{onClick:()=>n("/"),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"V trang ch"})]})}):i?c.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-white",children:c.jsxs("div",{className:"text-center",children:[c.jsx($,{icon:lg,className:"text-[2.5rem] text-blue-500 mb-4 animate-spin"}),c.jsx("p",{className:" text-gray-600",children:"ang xc thc n hng..."})]})}):c.jsx("div",{className:"min-h-screen bg-white py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:" rounded-lg p-8 mb-6 text-center",children:[c.jsx($,{icon:eu,className:"text-6xl text-green-500 mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"t hng thnh cng!"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Cm n bn  t hng ti shop ca chng ti."}),c.jsx("p",{className:"text-center text-[1.4rem] w-4xl text-gray-600",children:"Thng tin n hng s c thng bo qua email m bn  cung cp!"}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-[1rem]",children:[c.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"M n hng:"}),c.jsx("p",{className:"font-bold text-blue-600",children:e})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>n("/"),className:"flex-1 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition",children:"V trang ch"}),c.jsx("button",{onClick:()=>{l()},className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"Xem n hng"})]})]})})}function _ye({productId:t,averageRating:e}){const{user:n}=Wt(),r=xo(),[s,i]=A.useState("all"),[a,o]=A.useState("newest"),[l,u]=A.useState(!1),{data:d,isLoading:h}=et({queryKey:["evaluates",t,a,s],queryFn:()=>Use({productId:t,rating:s,page:1,sort:a})}),p=d?.data||[],[g,x]=A.useState(null),[v,b]=A.useState({}),w=_=>v[_]??0,N=_=>c.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(D=>c.jsx($,{icon:ni,className:`text-[1.4rem] ${D<=_?"text-yellow-400":"text-gray-300"}`},D))}),C=_=>`${new Date(_).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,T=(_,D)=>{x(_),b(I=>({...I,[_]:D}))},j=()=>{x(null)},E=()=>{if(g===null)return;const _=p.find(F=>F.id===g);if(!_||!_.images)return;const D=w(g),I=D>=_.images.length-1?0:D+1;b(F=>({...F,[g]:I}))},O=()=>{if(g===null)return;const _=p.find(F=>F.id===g);if(!_||!_.images)return;const D=w(g),I=D<=0?_.images.length-1:D-1;b(F=>({...F,[g]:I}))},M=async _=>{if(!n){u(!0);return}try{const D=["evaluates",t,a,s];r.setQueryData(D,F=>F?.data?{...F,data:F.data.map(Y=>Y.id===_?{...Y,isLiked:!Y.isLiked,helpfulCount:Y.isLiked?Y.helpfulCount-1:Y.helpfulCount+1}:Y)}:F);const I=await Se.post(`/api/v1/evaluate/toggle-helpful/${_}`);I.data.status&&r.setQueryData(D,F=>F?.data?{...F,data:F.data.map(Y=>Y.id===_?{...Y,isLiked:I.data.isLiked,helpfulCount:I.data.helpfulCount??Y.helpfulCount}:Y)}:F)}catch(D){console.log(D);return}};return c.jsxs("div",{className:"w-full mt-4 sm:mt-6 md:mt-[2rem] p-3 sm:p-4 md:p-[2.5rem] bg-white rounded-lg",children:[c.jsx("h3",{className:"text-lg sm:text-xl md:text-[2.2rem] text-pink-600 uppercase mb-4 sm:mb-6 md:mb-8",children:"nh gi sn phm"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 md:gap-8 border border-[#bdb600] p-4 sm:p-6 md:p-[3rem] rounded-sm bg-[#fffff9] mb-4 sm:mb-6 md:mb-[2rem]",children:[c.jsxs("div",{className:"flex flex-col items-center sm:items-start justify-center",children:[c.jsxs("p",{className:"text-2xl sm:text-3xl md:text-[2.5rem] font-bold text-gray-800",children:[e," / 5"]}),c.jsx("div",{className:"mt-2",children:N(e)})]}),c.jsx("div",{className:"w-full sm:w-auto",children:c.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[c.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>i("all"),children:["Tt c (",d&&d.summary.total,")"]}),[5,4,3,2,1].map(_=>c.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s===_?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{i(_)},children:[_," Sao (",d&&d.summary.ratingCount[_],")"]},_))]})})]}),h&&c.jsxs("div",{className:"flex justify-center items-center py-8 sm:py-12 gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),p.length===0?c.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[c.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),c.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]}):c.jsx("div",{className:"space-y-4 sm:space-y-6",children:p.map(_=>{const D=w(_.id);return c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow duration-300",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[c.jsx("div",{className:"flex-shrink-0 flex sm:block",children:_.showAccount?_?.user?.avatar?c.jsx("img",{src:_.user.avatar,alt:"avatar"+_.user.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(_.user?.username?.[0]||"K").toUpperCase()}):c.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[c.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:_.showAccount?_.user?.username||_.customerName||"Khch hng":"n danh"}),c.jsxs("span",{className:"text-xs sm:text-[1.4rem] text-gray-500",children:[" ",C(_.createdAt)]})]}),c.jsx("div",{className:"mb-3 sm:mb-4",children:N(_.rating)}),_.message&&c.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-sm sm:text-base",children:_.message}),_.images&&_.images.length>0&&c.jsx("div",{className:"mt-3 sm:mt-4 flex flex-wrap gap-2 sm:gap-3",children:_.images.map((I,F)=>c.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24",children:[c.jsx("img",{src:I,alt:`nh gi ${F+1}`,className:`w-full h-full object-cover rounded-lg border-2 cursor-pointer transition-all duration-300 
                                ${g===_.id&&D===F?"border-blue-500":"border-gray-200"}`,onClick:()=>T(_.id,F)}),_.images.length>1&&F===0&&c.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded",children:["+",_.images.length-1]})]},F))}),c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mt-3 sm:mt-[1rem]",children:[c.jsx("span",{className:"text-xs sm:text-[1.4rem] text-gray-600",children:"Bi nh gi ny hu ch"}),c.jsxs("button",{className:"cursor-pointer flex items-center gap-1 sm:gap-2 transition-all hover:scale-110",type:"button",onClick:()=>M(_.id),children:[c.jsx($,{icon:_.isLiked?DK:lye,className:`text-lg sm:text-xl transition-colors ${_.isLiked?"text-red-500":"text-gray-600"}`}),c.jsx("span",{className:`text-xs sm:text-[1.4rem] font-medium ${_.isLiked?"text-red-500":"text-gray-600"}`,children:_.helpfulCount})]})]}),g===_.id&&_.images&&_.images.length>0&&c.jsx("div",{className:"mt-4 sm:mt-8 relative rounded-xl overflow-hidden w-full sm:w-[40rem] mx-auto border border-gray-200 shadow-sm",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:_.images[D],alt:`nh ln ${D+1}`,className:"w-full max-h-[20rem] sm:max-h-[30rem] md:max-h-[40rem] object-contain"}),c.jsx("button",{type:"button",onClick:j,className:"absolute top-2 sm:top-4 right-2 sm:right-4 w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition",children:c.jsx($,{icon:Dr,className:"text-gray-600 text-lg sm:text-2xl"})}),_.images.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:O,className:"absolute left-2 sm:left-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:c.jsx($,{icon:zP,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),c.jsx("button",{type:"button",onClick:E,className:"absolute right-2 sm:right-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:c.jsx($,{icon:LP,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),c.jsxs("div",{className:"absolute bottom-2 sm:bottom-6 left-1/2 -translate-x-1/2 px-3 sm:px-5 py-1 sm:py-2 bg-black/60 rounded-full text-white text-sm sm:text-lg",children:[D+1," / ",_.images.length]})]})]})})]})]})},_.id)})}),c.jsx(NC,{open:l,onClose:()=>u(!1)})]})}function Dye(){const{productSlug:t}=Xf(),e=ut(),{data:n,isLoading:r}=et({queryKey:["productdetail",t],queryFn:()=>Hse(t),enabled:!!t}),s=n?.product,[i,a]=A.useState(null),[o,l]=A.useState(null),[u,d]=A.useState(1),[h,p]=A.useState(null),{addToCart:g,isLoading:x,notify:v,setNotify:b}=Ox(),w=A.useMemo(()=>{const D=new Map;return s?.variants?.forEach(I=>D.set(I.variantColor.id,I.variantColor)),[...D.values()]},[s]),N=A.useMemo(()=>{const D=new Map;return s?.variants?.forEach(I=>D.set(I.variantSize.id,I.variantSize)),[...D.values()]},[s]),C=()=>s?.variants.find(I=>I.variantColor.id===o?.id&&I.variantSize.id===i?.id)?.inventory??0,T=o&&i,j=s?.variants.reduce((D,I)=>D+I.inventory,0),E=C(),O=D=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D),M=()=>{const D=s.category.categoryName?.toUpperCase()||"";return D.includes("giy")||D.includes("dp")?rS:iS},_=async D=>{if(p(null),!o||!i){p("Vui lng chn thuc tnh sn phm!");return}const I=s?.variants.find(Y=>Y.variantColor.id===o.id&&Y.variantSize.id===i.id)?.id;u<=0&&p("S lng sn phm t nht l 1!"),g([{variantId:I,quantity:u}]),D==="buy"&&e(`/cart/detail?buyNowVariant=${I}`)};return r?c.jsx(yo,{}):c.jsxs("div",{className:"relative w-full h-auto px-[1rem] md:px-[3rem] xl:px-[12rem]",children:[c.jsxs("div",{className:"w-full flex flex-wrap items-center gap-1 sm:gap-2 text-[1.2rem] md:text-[1.4rem] px-2 sm:px-4 md:px-6 lg:px-[3rem] py-2",children:[c.jsxs(Ht,{to:"/",className:"flex items-center gap-1 sm:gap-2 text-blue-800 hover:text-blue-600 transition-colors whitespace-nowrap",children:[c.jsx("span",{children:"Home"}),c.jsx($,{icon:qr,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]}),(()=>{if(!s?.category)return null;const D=[];let I=s.category;for(;I;)D.push(I),I=I.parent;return D.reverse().map((F,Y)=>c.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[c.jsx(Ht,{to:`/category/${F.slug}`,className:"flex items-center hover:text-blue-600 transition-colors text-blue-800",children:c.jsx("span",{className:"line-clamp-1 max-w-[80px] sm:max-w-[120px] md:max-w-[150px] lg:max-w-none",children:F.categoryName})}),Y<D.length-1&&c.jsx($,{icon:qr,className:"mx-1 sm:mx-2 text-gray-400 text-[0.8rem] sm:text-[1rem]"}),c.jsx($,{icon:qr,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]},F.id))})(),c.jsx("span",{className:"text-gray-600 line-clamp-1 max-w-[100px] sm:max-w-[150px] md:max-w-[200px] lg:max-w-[300px] xl:max-w-none",children:s?.productName})]}),c.jsxs("div",{className:"w-full h-auto flex md:flex-row flex-col gap-[4rem] rounded-lg mt-[1rem] bg-white p-[1rem] md:p-[1.5rem]",children:[c.jsxs("div",{className:"w-full md:w-[40rem] xl:w-[50rem] h-auto",children:[c.jsx("img",{src:s?.mainImage,alt:s?.productName,className:"w-full md:h-[40rem] h-[25rem] xl:h-[50rem] object-cover"}),c.jsx("div",{className:"flex items-center space-x-4 mt-[1rem]",children:s?.listImageProduct.map(D=>c.jsx("div",{className:"w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-md ",children:c.jsx("img",{src:D.imageUrl,alt:`imageItem-${D.id}`,className:"w-full h-full object-cover rounded-md"})},D.id))})]}),c.jsxs("div",{className:"flex-1 space-y-2 md:space-y-4",children:[c.jsx("h3",{className:"text-[1.4rem] md:text-[2rem] xl:text-[2.2rem] text-gray-800",children:s?.productName}),c.jsxs("div",{className:"flex items-center space-x-6 text-[1.2rem] md:text-[1.6rem]",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"text-gray-800",children:s.averageRating}),c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(D=>c.jsx($,{icon:ni,className:`${D<=s.averageRating?"text-yellow-400":"text-gray-300"}`},D))})})]}),c.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),c.jsxs("p",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-gray-800",children:s.reviewCount}),c.jsx("span",{className:" text-gray-500 mt-0.5",children:"nh gi"})]}),c.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:" text-gray-500 mt-0.5",children:" bn"}),c.jsx("p",{className:"text-gray-800",children:s.soldCount})]})]}),c.jsx("div",{className:"flex items-center",children:c.jsx("p",{className:"text-red-500 text-[2rem] md:text-[2.2rem] xl:text-[2.5rem]",children:O(s?.price)})}),c.jsxs("div",{className:"space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("span",{className:"block text-gray-600 text-start",children:"M gim gi bn c th s dng:"}),c.jsx("div",{className:"flex items-center space-x-8 mt-[1rem]",children:c.jsxs("span",{className:"relative block px-[2.5rem] py-[.5rem] text-[1.2rem] md:text-[1.4rem] bg-gray-800 text-white select-none rounded-xl",onClick:()=>{navigator.clipboard.writeText("Hello")},children:["DECL01",c.jsx("span",{className:"absolute w-[1.8rem] h-[1rem] top-[50%] translate-y-[-50%] left-[-1rem] bg-white rounded-full"}),c.jsx("span",{className:"absolute top-[50%] translate-y-[-50%] right-[-1rem] w-[1.8rem] h-[1rem] bg-white rounded-full"})]})})]}),c.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn mu"}),c.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:w?.map(D=>c.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${o?.id===D.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>l(D),children:[c.jsx($,{icon:M(),className:"bg-gray-100 p-[.2rem]",style:{color:D.hexCode}}),c.jsx("span",{className:"text-[1.4rem] text-gray-600",children:D.name})]},D.id))})]}),c.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn size"}),c.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:N?.map(D=>{const I=o?s.variants.find(F=>F.variantColor.id===o.id&&F.variantSize.id===D?.id):!1;return c.jsx("button",{className:`flex items-center gap-[.5rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border rounded-[.5rem] ${I?i?.id===D.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!I,onClick:()=>a(D),children:c.jsx("span",{className:"text-[1.4rem]",children:D.name})},D.id)})})]}),c.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"S lng"}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[c.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${T?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{o&&i&&d(D=>Math.max(1,D-1))},children:c.jsx($,{icon:jl,className:"text-[1rem]"})}),c.jsx("input",{type:"number",value:u,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!T,onChange:D=>d(Number(D.target.value))}),c.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${T?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{i&&o&&d(D=>Math.min(Number(s.variants.find(I=>I.variantColor.id===o.id&&I.variantSize.id===i?.id)?.inventory),Number(D)+1))},children:c.jsx($,{icon:co,className:"text-[1rem]"})})]}),c.jsx("span",{className:"text-[1rem] md:text-[1.4rem] text-gray-600 uppercase select-none",children:T?`Cn ${E} sn phm`:j>0?"Cn hng":"Ht hng"})]})]}),c.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] text-red-500 mt-[4rem]",children:h}),c.jsxs("div",{className:"flex items-center  gap-[1rem] mt-[.5rem] text-[1.4rem] md:text-[1.6rem]",children:[c.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] border border-amber-500 hover:border-amber-600 text-amber-600 hover:text-amber-700 rounded-[.5rem] hover-linear select-none cursor-pointer",disabled:x,onClick:()=>_("add"),children:x?c.jsx("span",{children:"ang x l..."}):c.jsxs(c.Fragment,{children:[c.jsx($,{icon:xf}),c.jsx("span",{children:"Thm vo gi hng"})]})}),c.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] bg-red-500 text-white hover:bg-red-600 rounded-[.5rem] hover-linear cursor-pointer",disabled:x,onClick:()=>_("buy"),children:x?"ang x l...":"Mua ngay"})]})]})]}),c.jsxs("div",{className:"w-full mt-[2rem] rounded-lg h-auto bg-white p-[1rem] md:p-[2.5rem]",children:[c.jsx("div",{className:"w-full py-[1rem] px-[1rem] md:px-[2rem] bg-gray-100 text-[1.4rem] md:text-[2rem] text-pink-600 mb-8 uppercase",children:"M t sn phm"}),c.jsx("div",{className:"prose prose-2xl max-w-none text-gray-600 px-[1rem] md:px-[2rem] text-[1.4rem]",dangerouslySetInnerHTML:{__html:s.description}})]}),c.jsx(_ye,{productId:s.id,averageRating:Number(s.averageRating)}),c.jsx(wh,{showNotify:v.show,content:v.content,duration:1e3,onClose:()=>b({show:!1,content:""})})]})}function Iye({open:t,onClose:e,dataChange:n,refetchOrder:r}){const{control:s,register:i,handleSubmit:a,formState:{errors:o,isSubmitting:l},setValue:u,watch:d,reset:h}=gi({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}});A.useEffect(()=>{if(n){const O=n;h({province:O.province,district:O.district,ward:O.ward,recipentName:O.recipentName,addressDetail:O.addressDetail,phone:O.phone,orderCode:O.orderCode})}},[n,h]);const{data:p}=et({queryKey:["province"],queryFn:lC}),g=d("province"),x=d("district"),b=p?.find(O=>O.name===g)?.districts??[],N=b.find(O=>O.name===x)?.wards??[],C=p?.map(O=>({value:O.name,label:O.name})),T=b?.map(O=>({value:O.name,label:O.name})),j=N?.map(O=>({value:O.name,label:O.name})),E=async O=>{const M={customerName:O.recipentName,customerAddress:O.addressDetail,customerPhone:O.phone,customerProvince:O.province,customerDistrict:O.district,customerWard:O.ward};try{const _=await Se.patch(`/api/v1/orders/change-address/${O.orderCode}`,M);_.status&&(await r(),ue.success(_.message),h({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}),e())}catch(_){ue.error(_.message)}};return c.jsxs(St,{open:t,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[c.jsx("h2",{className:"text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Thay i a ch"}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:O=>{O.stopPropagation(),e()},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsxs("form",{onSubmit:a(E),children:[c.jsx("div",{className:" flex items-start gap-[2rem]",children:c.jsxs("div",{className:"w-full space-y-6",children:[c.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),c.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),o.recipentName&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.recipentName.message})]}),c.jsxs("div",{className:"w-full space-y-1",children:[c.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),c.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),o.phone&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.phone.message})]})]}),c.jsx("label",{className:"text-gray-600",children:"a ch"}),c.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[c.jsx("div",{className:"flex-1",children:c.jsxs(c.Fragment,{children:[c.jsx(oi,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:O})=>c.jsx(Zi,{...O,options:C,placeholder:"Tnh...",isSearchable:!0,value:C?.find(M=>M.value===O.value)||null,onChange:M=>{O.onChange(M?.value),u("district",""),u("ward","")},styles:{control:M=>({...M,height:"4rem"})},theme:M=>({...M,colors:{...M.colors,primary:"cyan"}})})}),o.province&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.province.message})]})}),c.jsx("div",{className:"flex-1",children:c.jsxs(c.Fragment,{children:[c.jsx(oi,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:O})=>c.jsx(Zi,{...O,options:T,placeholder:"Huyn...",isSearchable:!0,value:T?.find(M=>M.value===O.value)||null,onChange:M=>{O.onChange(M?.value),u("ward","")},styles:{control:M=>({...M,height:"4rem"})},theme:M=>({...M,colors:{...M.colors,primary:"cyan"}})})}),o.district&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.district.message})]})}),c.jsx("div",{className:"flex-1",children:c.jsxs(c.Fragment,{children:[c.jsx(oi,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:O})=>c.jsx(Zi,{...O,options:j,placeholder:"Phng...",isSearchable:!0,value:j?.find(M=>M.value===O.value)||null,onChange:M=>{O.onChange(M?.value)},styles:{control:M=>({...M,height:"4rem"})},theme:M=>({...M,colors:{...M.colors,primary:"cyan"}})})}),o.ward&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.ward.message})]})})]})]})}),c.jsxs("div",{className:"w-full mt-[2rem]",children:[c.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),c.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),o.addressDetail&&c.jsx("span",{className:"text-red-500 text-[1.4rem]",children:o.addressDetail.message})]}),c.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:O=>{O.stopPropagation(),e()},disabled:l,children:"Hy"}),c.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:l,children:l?"ang x l...":"Thay i"})]})]})]})}function Lye(){const[t,e]=xu(),n=t.get("code")||"",[r,s]=A.useState(n),[i,a]=A.useState("search"),{addToCart:o}=Ox(),l=ut(),[u,d]=A.useState(null),[h,p]=A.useState(!1),[g,x]=A.useState(null),[v,b]=A.useState({open:!1,data:null}),[w,N]=A.useState({open:!1,dataChange:null}),[C,T]=A.useState({open:!1,orderCode:null,data:null});A.useEffect(()=>{n!==r&&s(n)},[n]),A.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const j=async R=>{if(!R.trim()){x("Vui lng nhp m n hng!");return}p(!0),x(null),d(null);try{const V=await hme(R);d(V)}catch(V){x(V.message||"Khng tm thy n hng. Vui lng kim tra li m n hng."),d(null)}finally{p(!1)}},E=R=>{const V=r;if(!V.trim()){ue.error("Vui lng nhp m n hng!");return}s(V),e({code:V.trim()}),j(V.trim())},O=()=>{r.trim()&&j(r.trim())},M=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),_=R=>new Date(R).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),D=R=>{const V=R.target.value;s(V),V.trim()||(e({}),d(null),x(null))},I=()=>{if(!u)return;const R={orderCode:u?.orderCode,recipientName:u?.customerName,addressDetail:u?.customerAddress,phone:u?.customerPhone,province:u?.customerProvince,district:u?.customerDistrict,ward:u?.customerWard};N({open:!0,dataChange:R})},F=R=>R?R.replace(/(\d{3})\d{4}(\d{3})/,"$1xxxx$2"):"",Y=R=>{if(!R)return"";const[V,z]=R.split("@");return V.length<=2?R:`${V[0]}${"*".repeat(V.length-2)}@${z}`},G=async R=>{const V=R.orderItems.map(q=>({variantId:q.variant.id,quantity:q.quantity}));if(await o(V)){const q=V.map(Q=>Q.variantId).join(",");l(`/cart/detail?buyback=${q}`)}else ue.error("Thm sn phm vo gi hng tht bi!")},W=u&&u.paymentMethod===Wr.COD?u.status===De.COMPLETED:!!u?.payment;return c.jsxs("div",{className:"min-h-screen bg-gray-50 py-6 px-4 sm:px-6 lg:px-[12rem]",children:[c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Tra cu n hng"}),c.jsx("p",{className:"text-gray-600",children:"Nhp m n hng  kim tra trng thi n hng ca bn"})]}),c.jsx("div",{className:"mb-6 border-b border-gray-200",children:c.jsx("div",{className:"flex gap-4",children:c.jsxs("button",{onClick:()=>a("search"),className:`cursor-pointer pb-4 px-2 font-medium transition-colors relative ${i==="search"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[c.jsx($,{icon:ms,className:"mr-2"}),"Tra cu n hng"]})})}),i==="search"&&c.jsxs("div",{children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",value:r,onChange:R=>D(R),placeholder:"Nhp m n hng (VD: ORDER-abc123)",className:"w-[40rem] h-[4rem] px-6 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-[1.4rem]",onKeyDown:R=>{R.key==="Enter"&&E()}}),c.jsx("button",{type:"button",disabled:h,className:"w-[12rem] h-[4rem] bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold rounded-lg transition flex items-center justify-center gap-2",onClick:()=>E(),children:h?c.jsxs(c.Fragment,{children:[c.jsx($,{icon:lg,spin:!0}),"ang tm..."]}):c.jsxs(c.Fragment,{children:[c.jsx($,{icon:ms}),"Tra cu"]})})]}),c.jsxs("div",{className:"mt-4 flex items-start gap-2 text-[1.4rem] text-gray-600",children:[c.jsx($,{icon:eG,className:"mt-0.5"}),c.jsx("p",{children:"M n hng c gi qua email sau khi t hng thnh cng. Vui lng kim tra email hoc tin nhn SMS."})]})]}),g&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 flex items-center justify-center gap-3",children:[c.jsx($,{icon:oS,className:"text-2xl text-red-500"}),c.jsx("p",{className:"text-red-700",children:g})]}),h?c.jsxs("div",{className:"flex justify-center items-center py-10",children:[c.jsx($,{icon:lg,spin:!0,className:"text-3xl text-blue-500 mr-3"}),c.jsx("span",{className:"text-lg",children:"ang ti d liu..."})]}):u?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:" font-bold ",children:["n hng: ",u.orderCode]}),c.jsxs("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:["t ngy ",_(u.createdAt)]})]}),c.jsx("span",{className:`px-12 py-2 rounded-lg font-medium ${$n(u.status).bgColor} ${$n(u.status).textColor}`,children:$n(u.status).text})]}),u?.status===De.CANCELLED?c.jsxs("div",{className:"w-full py-[2rem] border border-amber-200 bg-amber-50 px-[2rem]",children:[c.jsx("p",{className:"text-[1.8rem] text-red-500",children:" hy n hng"}),c.jsxs("p",{children:["lc ",_(u.updatedAt)]})]}):c.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:Yc.map((R,V)=>{const z=Yc.findIndex(q=>q.key===u.status)>=V;return c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"flex flex-col gap-[2rem] relative items-center",children:[c.jsx("div",{className:`w-[6rem] h-[6rem] rounded-full flex items-center justify-center z-10
                              ${z?`${R.color}`:"bg-gray-300"}`,children:c.jsx($,{icon:R.icon,className:"text-white text-[2rem]"})}),c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:R.label}),c.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:R.desc})]})]},R.key),V!==Yc.length-1&&c.jsx("span",{className:"w-[10rem] border border-green-500"})]},R.key)})}),c.jsx("div",{className:"w-full border-t-1 border-gray-400 mt-[3rem]"}),c.jsxs("div",{className:"flex items-start flex-col space-y-4 mt-[3rem] w-4xl p-[2rem] border border-gray-300 rounded-md",children:[c.jsx("span",{className:"font-bold",children:"Thng tin khch hng"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-start w-sm text-gray-600",children:"H tn:"}),c.jsx("span",{className:"block text-end",children:u.customerName})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-start w-sm text-gray-600",children:"S in thoi:"}),c.jsx("span",{className:"block text-end",children:F(u.customerPhone)})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-start w-sm text-gray-600",children:"Email:"}),c.jsx("span",{className:"block text-end",children:Y(u.customerEmail)})]}),c.jsx("span",{className:"font-bold",children:"a ch nhn hng"}),c.jsxs("div",{className:"w-full mt-[1rem] border border-gray-300 rounded-md p-[2rem]",children:[c.jsx("p",{className:"text-gray-800",children:u.customerName}),c.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:["(",F(u.customerPhone),")"]}),c.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:[u.customerAddress,", ",u.customerWard,","," ",u.customerDistrict,","," ",u.customerPhone]})]})]}),c.jsxs("div",{className:"w-full border border-gray-200 rounded-md p-[1rem] mt-[2rem]",children:[c.jsxs("h3",{className:"text-[1.4rem] font-bold text-gray-800 pb-[2rem] flex items-center gap-2",children:[c.jsx($,{icon:bf,className:"text-blue-500"}),"Sn phm (",u&&u.orderItems?.length,")"]}),u.orderItems&&u.orderItems?.length>0&&c.jsx("div",{className:"border border-gray-200 px-[2rem] py-[1rem] rounded-md",children:c.jsx("div",{className:"bg-white ",children:c.jsx("div",{className:"space-y-2",children:u.orderItems.map(R=>c.jsxs("div",{children:[c.jsxs(Ht,{to:`/product-detail/${R.variant.product.slug}`,className:"flex items-center gap-4 pb-6 last:border-0 py-[.5rem] border-b border-b-gray-200 cursor-pointer",children:[c.jsx("img",{src:R.variant.product.mainImage,alt:R.variant.product.productName,className:"w-28 h-28 object-cover rounded-md border border-gray-300 p-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-gray-800",children:R.variant.product.productName}),c.jsxs("span",{className:"flex items-center space-x-4 text-[1.2rem] text-gray-600",children:[c.jsxs("span",{children:[R.variant.variantColor.name," /"," ",R.variant.variantSize.name]}),c.jsxs("span",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",R.quantity]})]}),c.jsxs("p",{className:"flex items-center space-x-1 text-[1rem] text-gray-600",children:[c.jsx("span",{children:"Gi:"}),c.jsx("span",{className:"text-red-600",children:M(R.price)})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"text-red-600",children:M(R.price*R.quantity)})})]}),c.jsx("div",{className:"flex flex-col items-end mt-[1rem]",children:c.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[R.evaluate.length>0&&[De.CANCELLED,De.COMPLETED].includes(u.status)&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white hover:bg-red-600 cursor-pointer transition duration-300",onClick:()=>{G(u)},children:"Mua li"}),R.evaluate.length===0&&u.status===De.COMPLETED&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>b({open:!0,data:R}),children:c.jsxs("div",{className:"flex items-center space-x-2 ",children:[c.jsx($,{icon:ni,className:"text-[1.4rem]"}),c.jsx("span",{className:"",children:"nh gi"})]})})]})})]},R.id))})})}),c.jsxs("div",{className:"w-4xl ml-auto flex justify-between space-y-4 py-4 px-[2rem]",children:[c.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[c.jsx("span",{className:"text-end text-gray-600",children:"Tm tnh:"}),c.jsx("span",{className:"text-end text-gray-600",children:"Ph vn chuyn:"}),c.jsx("span",{className:"text-end text-gray-600",children:"Tng tin:"}),c.jsx("span",{className:"text-end text-gray-600",children:"Phng thc thanh ton:"}),c.jsx("span",{className:"text-end text-gray-600",children:"Trng thi"})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[c.jsx("span",{className:"block text-end text-gray-800",children:M(u.totalAmount)}),c.jsx("span",{className:"block text-end text-gray-800",children:M(u.shippingFee)}),c.jsx("span",{className:"block text-end font-bold text-red-500",children:M(u.totalAmount+Number(u.shippingFee))}),c.jsx("span",{className:"block text-end text-gray-800",children:Rw[u.paymentMethod].text}),c.jsx("span",{className:`${W?"text-green-600":"text-red-600"} block text-end`,children:W?" thanh ton":"Cha thanh ton"})]})]})]}),u&&!W&&c.jsxs("div",{className:"text-center border border-amber-300 bg-amber-50 py-5 px-[1rem] mt-[1rem] rounded-md",children:["Vui lng thanh ton (",c.jsx("span",{className:"text-red-500",children:M(u.totalAmount+Number(u.shippingFee))}),") khi nhn hng!"]}),c.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[u.status===De.CANCELLED&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md border border-gray-300 text-gray-600 hover:border-gray-400 cursor-pointer transition duration-300",onClick:()=>T({open:!0,orderCode:u.orderCode,data:u}),children:"Chi tit hy n"}),[De.CONFIRMED,De.PENDING].includes(u.status)&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 cursor-pointer transition duration-300",onClick:()=>T({open:!0,orderCode:u.orderCode,data:null}),children:"Hy n"}),[De.CONFIRMED,De.PENDING].includes(u.status)&&c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white cursor-pointer transition duration-300 hover:bg-red-600",onClick:()=>I(),children:"Thay i a ch"})]})]})}),c.jsx(qF,{open:v.open,item:v.data,dataGuest:{customerEmail:u.customerEmail,customerName:u.customerName},onClose:()=>b({open:!1,data:null}),refetch:O})]}):c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-10 text-center text-gray-600",children:[c.jsx($,{icon:ms,className:"text-5xl mb-4 text-gray-400"}),c.jsx("p",{className:"text-xl",children:r?"Nhn 'Tra cu'  kim tra n hng ca bn.":"Cha c kt qu. Vui lng nhp m n hng  tra cu."})]})]})]}),c.jsx(Iye,{open:w.open,onClose:()=>N({open:!1,dataChange:null}),dataChange:w.dataChange,refetchOrder:O}),c.jsx(KF,{open:C.open,onClose:()=>T({open:!1,orderCode:null,data:null}),orderCode:C.orderCode,refetch:O,status:C?.data?.status,cancelReason:C?.data?.reason,cancelledAt:C.data?.updatedAt,cancelledBy:C.data?.customerName})]})}function Rye(){const[t]=xu(),e=Number(t.get("resultCode")),n=t.get("orderId"),r=ut(),{user:s}=Wt(),[i,a]=A.useState("loading"),[o,l]=A.useState("ang ti..."),u=async()=>{if(n)try{const d=await Se.get(`/api/v1/orders/confirm-payment/${n}`);console.log(d),d.status===!0?(a("success"),l(d.message||"Thanh ton thnh cng!")):d.status===!1?(a("failed"),l(d.message||d.reason||"Thanh ton tht bi!")):d.status==="pending"&&(a("pending"),l(d.message||"ang xc nhn thanh ton vi MoMo, vui lng ch trong giy lt..."))}catch(d){a("failed"),l("C li xy ra khi kim tra thanh ton. Vui lng lin h h tr."),console.error("Error checking payment:",d)}};return A.useEffect(()=>{if(!n){a("failed"),l("Khng tm thy thng tin n hng!");return}if(u(),e!==0){a("failed"),l("Thanh ton  b hy hoc tht bi.");return}const d=setInterval(()=>{i==="pending"&&(console.log(i),u())},3e3);return()=>{clearInterval(d)}},[n,e,i]),i==="loading"||i==="pending"?c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[i==="pending"&&c.jsx("div",{className:"w-20 h-20 border-4 border-blue-400 border-dashed rounded-full animate-spin"}),c.jsx("p",{className:"mt-6 text-gray-700",children:o}),i==="pending"&&c.jsx("p",{className:"mt-2 text-gray-500",children:"ang ch xc nhn t MoMo..."})]}):i==="success"?c.jsx("div",{className:"w-full h-[calc(100vh-18rem)] pt-[4rem] px-[20rem] bg-white ",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-[7rem] h-[7rem] flex justify-center items-center mx-auto mb-[2rem] bg-[#2ddf2d] rounded-[50%] ",children:c.jsx($,{icon:yf,className:"text-[#ffffff] text-[2.8rem]"})}),c.jsx("div",{className:"text-[2.8rem] mb-[.5rem] font-bold text-green-600",children:"Thanh ton thnh cng"}),c.jsx("p",{className:"text-gray-600",children:"Cm n khch hng  t hng."}),c.jsx("p",{className:"text-gray-600 text-center text-[1.4em]",children:"M n hng  gi n email ca khch hng. H thng s cp nht trng thi n v email ca bn"}),c.jsxs("div",{className:"flex justify-between items-center mt-[10rem]",children:[c.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-gray-600 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>r("/"),children:[c.jsx($,{icon:wK,className:"text-gray-500"}),"Quay v trang ch"]}),c.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-white bg-blue-500 hover:bg-blue-600 cursor-pointer",onClick:()=>{s?r("/customer/account/order",{replace:!0}):r("/look-up-order",{replace:!0})},children:["Xem cc n hng",c.jsx($,{icon:pK,className:""})]})]})]})}):c.jsx("div",{className:"flex flex-col items-center h-[calc(100vh-18rem)] bg-white pt-[5rem]",children:c.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-lg text-center max-w-md",children:[c.jsx("div",{className:"text-red-600 text-[2.6rem] mb-4",children:""}),c.jsx("h1",{className:"text-[1.8rem] font-bold text-gray-800 mb-2",children:"Thanh ton tht bi"}),c.jsx("p",{className:"text-gray-600 mb-6",children:o}),c.jsx("button",{onClick:()=>window.location.href="/cart",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Quay li gi hng"})]})})}const GF=async(t,e)=>(await Se.get("/api/v1/banner/list-banner",{params:{search:t,active:e}})).data;function Fye(){const[t,e]=A.useState({open:!1,action:"add"}),[n,r]=A.useState(""),[s,i]=A.useState(""),[a,o]=A.useState(!1),[l,u]=A.useState("active"),d=A.useRef(null),h=A.useRef(null),p=A.useRef(null),g=A.useRef(null),[x,v]=A.useState({open:!1,bannerId:null,action:"inactive"}),{register:b,handleSubmit:w,formState:{errors:N,isSubmitting:C},reset:T,setValue:j}=gi({defaultValues:{title:"",subTitle:"",link:"",bannerId:void 0,imageUrl:null}}),[E,O]=A.useState(null),{data:M,isLoading:_,refetch:D}=et({queryKey:["listBanner",s,l],queryFn:()=>GF(s,l)});A.useEffect(()=>()=>{E&&URL.revokeObjectURL(E)},[E]),A.useEffect(()=>{const R=l==="active"?h.current:p.current;!R||!d.current||R&&d.current&&(d.current.style.width=`${R.offsetWidth}px`,d.current.style.left=`${R.offsetLeft}px`)},[l,M]);const I=R=>{const V=R.target.files;if(V&&V[0]){const z=V[0],q=URL.createObjectURL(z);j("imageUrl",z),O(q)}},F=async R=>{try{let V;const z={title:R.title,subTitle:R.subTitle,link:R.link,imageUrl:R.imageUrl};t.action==="add"?V=await Se.post("/api/v1/banner/create",z,{headers:{"Content-Type":"multipart/form-data"}}):V=await Se.patch(`/api/v1/banner/update/${R.bannerId}`,z,{headers:{"Content-Type":"multipart/form-data"}}),V.status&&(T({title:"",subTitle:"",link:"",imageUrl:null}),await D(),ue.success(V.message),e({open:!1,action:"add"}))}catch(V){console.log(V),ue.error(V.message)}},Y=()=>{e({open:!1,action:"add"}),T({title:"",subTitle:"",link:"",imageUrl:null})},G=R=>{g.current&&g.current.scrollTo({top:0,behavior:"smooth"}),e({open:!0,action:"edit"}),T({title:R.title,subTitle:R.subTitle,link:R.link,bannerId:R.id}),R.title&&O(R.imageUrl)},W=async R=>{try{if(!R){ue.error("Khng c bannerId");return}o(!0);const V=await Se.patch(`/api/v1/banner/toggle-active/${R}`);V.status&&(ue.success(V.message),await D(),v({open:!1,bannerId:null,action:"active"}))}catch(V){console.log(V),ue.error(V.message||"")}finally{o(!1)}};return c.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[c.jsx("div",{className:"sticky top-0 bg-white z-10 pb-[2rem] border-b-[.1rem] border-b-gray-300",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Banner Slide Trang Ch"}),c.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Tm kim theo tn...",className:"w-[30rem] h-[4rem] focus:border-cyan-400 border border-gray-300 outline-none text-gray-600 px-[1.5rem] rounded-md",value:n,onChange:R=>r(R.target.value)}),c.jsx("button",{className:"absolute top-[50%] translate-y-[-50%] right-0 px-5 h-full cursor-pointer",onClick:()=>i(n),children:c.jsx($,{icon:ms,className:"text-gray-600"})})]}),c.jsxs("button",{type:"button",className:`text-white text-[1.4rem] flex gap-1.5 items-center px-4 h-[4rem] bg-blue-500 rounded-md hover:bg-blue-600 cursor-pointer hover-linear ${C?"cursor-not-allowed":""}`,onClick:()=>{T({title:"",subTitle:"",link:"",imageUrl:null}),g.current?.scrollTo({top:0,behavior:"smooth"}),O(null),e({open:!0,action:"add"})},disabled:C,children:[c.jsx($,{icon:lh}),"Thm Banner Mi"]})]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar mt-[1rem]",ref:g,children:[t.open&&c.jsxs("div",{className:"mb-8 mt-4 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[c.jsx("h3",{className:`${t.action==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.action==="add"?"To Banner Mi":"Cp nht banner"}),c.jsxs("form",{onSubmit:w(F),children:[c.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"title",className:"text-gray-600",children:"Tiu  banner"}),c.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"title",placeholder:"Nhp tiu  cho banner...",...b("title")}),N.title&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.title.message})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"subTitle",className:"text-gray-600",children:"Ph "}),c.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"subTitle",placeholder:"Nhp tiu ph ...",...b("subTitle")}),N.subTitle&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.subTitle.message})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{htmlFor:"link",className:"text-gray-600",children:"Link ch"}),c.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"link",placeholder:"Nhp link...",...b("link",{required:"Vui lng nhp link ch!"})}),N.link&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.link.message})]}),c.jsxs("div",{className:"w-full",children:[c.jsx("p",{className:"text-gray-600",children:"Chn hnh nh cho Banner"}),c.jsxs("label",{htmlFor:"imageUrl",className:"flex items-center justify-center space-x-4 w-full h-[4rem] border border-dashed border-gray-500 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400 cursor-pointer",children:[c.jsx($,{icon:ys,className:"text-gray-500"}),c.jsx("span",{className:"text-gray-600",children:"Hnh nh"}),c.jsx("input",{type:"file",className:"hidden",id:"imageUrl",accept:"image/*",onChange:R=>I(R)})]}),N.imageUrl&&c.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.imageUrl.message})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:E&&c.jsx("div",{className:"my-5",children:c.jsx("img",{src:E,alt:"displayImage",className:"w-full h-[35rem] object-cover"})})}),t.action==="edit"&&c.jsx("input",{type:"number",className:"hidden",...b("bannerId")}),c.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[c.jsx("button",{type:"button",onClick:()=>Y(),className:"bg-gray-200 text-gray-600 px-8 py-2 rounded-lg hover:bg-gray-300",disabled:C,children:"Hy"}),c.jsx("button",{className:`${t.action==="add"?"bg-green-600 hover:bg-green-700":"bg-amber-600 hover:bg-amber-700"}  text-white px-8 py-2 rounded-lg `,type:"submit",disabled:C,children:C?"ang x l...":t.action==="add"?"Thm":"Cp nht"})]})]})]}),_?c.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:c.jsx("div",{className:"w-16 h-16 border-4 border-dashed border-gray-300 border-t-blue-500 rounded-full animate-spin"})}):c.jsxs("div",{className:"mt-[2rem]",children:[c.jsxs("div",{className:"relative flex items-center pb-4 border-b border-b-gray-200",children:[c.jsx("span",{ref:h,onClick:()=>u("active"),className:`cursor-pointer pr-[1rem] transition
                    ${l==="active"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"ang hot ng"}),c.jsx("span",{ref:p,onClick:()=>u("inactive"),className:`cursor-pointer pl-[1rem] transition
                    ${l==="inactive"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"Dng hot ng"}),c.jsx("div",{ref:d,className:"absolute bottom-0 h-1 bg-blue-500 transition-all duration-300"})]}),M&&M.length>0?c.jsx(c.Fragment,{children:c.jsx("div",{className:"grid grid-cols-2 mt-[2rem] gap-2.5",children:M.map(R=>c.jsxs("div",{className:"w-full h-[35rem] relative  border border-gray-200 rounded-md group",children:[c.jsxs("div",{className:"absolute top-0 left-0 flex items-center space-x-4",children:[c.jsxs("div",{className:"text-[1.4rem] px-2.5 py-1 bg-amber-200 rounded-br-lg ",children:["STT:",R.sortOrder]}),c.jsx("div",{className:`px-4 rounded-br-lg rounded-bl-lg ${R.isActive?"bg-green-500 text-white":"bg-gray-500 text-gray-300"} py-1 text-[1.4rem]`,children:R.isActive?"ang hot ng":"Dng hot ng"})]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),c.jsx("img",{src:R.imageUrl,alt:`banner-image-${R.title}`,className:"w-full h-full object-cover"}),c.jsxs("div",{className:"absolute left-[3rem] space-y-2 bottom-[3rem]",children:[c.jsx("p",{className:"text-white text-[2.5rem]",children:R.title}),c.jsx("p",{className:"text-[1.4rem] text-white",children:R.subTitle})]}),c.jsxs("div",{className:"absolute flex items-center justify-center space-x-4 inset-0 bg-[#36363659] group-hover:opacity-100 opacity-0 transition duration-300 rounded-md",children:[c.jsxs("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md  text-white ${R.isActive?"bg-amber-500 hover:bg-amber-600":"cursor-not-allowed bg-gray-400"}`,onClick:()=>G(R),disabled:!R.isActive,children:[c.jsx($,{icon:Vl}),c.jsx("span",{children:"Cp nht"})]}),c.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md ${R.isActive?"bg-gray-500 hover:bg-gray-600 text-gray-300":"bg-green-500 hover:bg-green-600 text-white"} `,onClick:()=>v({open:!0,bannerId:R.id,action:R.isActive?"inactive":"active"}),children:c.jsx("span",{children:R.isActive?"Ngng hot ng":"M hot ng"})})]})]},R.id))})}):c.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:"Cha c banner no"})]})]}),c.jsxs(St,{open:x.open,className:"relative w-[60rem] rounded-lg bg-white p-[2rem]",children:[c.jsxs("h2",{className:`text-[2rem] ${x.action==="inactive"?"text-amber-600":"text-green-600"}  mb-[2.5rem] font-bold`,children:["Bn mun"," ",x.action==="active"?"kch hot":"tm dng"," banner ny?"]}),c.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:R=>{R.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},children:c.jsx($,{icon:On,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),c.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[c.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none ${C?"cursor-not-allowed":""}`,onClick:R=>{R.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},disabled:C,children:"ng"}),c.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md ${x.action==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}  text-white transition duration-300 outline-none ${C?"cursor-not-allowed":""}`,onClick:()=>{W(x.bannerId)},disabled:C,children:a?"ang x l...":x.action==="active"?"Kch hot":"Dng"})]})]})]})}function bA(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function kC(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:bA(e[r])&&bA(t[r])&&Object.keys(e[r]).length>0&&kC(t[r],e[r])})}const YF={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function di(){const t=typeof document<"u"?document:{};return kC(t,YF),t}const zye={document:YF,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function hr(){const t=typeof window<"u"?window:{};return kC(t,zye),t}function Vye(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function $ye(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function XF(t,e=0){return setTimeout(t,e)}function k0(){return Date.now()}function Bye(t){const e=hr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Hye(t,e="x"){const n=hr();let r,s,i;const a=Bye(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(o=>o.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function wp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Uye(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function $r(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!Uye(s)){const i=Object.keys(Object(s)).filter(a=>n.indexOf(a)<0);for(let a=0,o=i.length;a<o;a+=1){const l=i[a],u=Object.getOwnPropertyDescriptor(s,l);u!==void 0&&u.enumerable&&(wp(e[l])&&wp(s[l])?s[l].__swiper__?e[l]=s[l]:$r(e[l],s[l]):!wp(e[l])&&wp(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:$r(e[l],s[l])):e[l]=s[l])}}}return e}function Sp(t,e,n){t.style.setProperty(e,n)}function QF({swiper:t,targetPosition:e,side:n}){const r=hr(),s=-t.translate;let i=null,a;const o=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",u=(h,p)=>l==="next"&&h>=p||l==="prev"&&h<=p,d=()=>{a=new Date().getTime(),i===null&&(i=a);const h=Math.max(Math.min((a-i)/o,1),0),p=.5-Math.cos(h*Math.PI)/2;let g=s+p*(e-s);if(u(g,e)&&(g=e),t.wrapperEl.scrollTo({[n]:g}),u(g,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:g})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function ii(t,e=""){const n=hr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Wye(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function qye(t,e){const n=hr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Wye(t,e))),r}function T0(t){try{console.warn(t);return}catch{}}function E0(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Vye(e)),n}function Kye(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Gye(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Xa(t,e){return hr().getComputedStyle(t,null).getPropertyValue(e)}function M0(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function JF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function kw(t,e,n){const r=hr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Cn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Gf(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let c1;function Yye(){const t=hr(),e=di();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function ZF(){return c1||(c1=Yye()),c1}let u1;function Xye({userAgent:t}={}){const e=ZF(),n=hr(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},a=n.screen.width,o=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32";let g=r==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&e.touch&&x.indexOf(`${a}x${o}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),l&&!p&&(i.os="android",i.android=!0),(u||h||d)&&(i.os="ios",i.ios=!0),i}function e7(t={}){return u1||(u1=Xye(t)),u1}let d1;function Qye(){const t=hr(),e=e7();let n=!1;function r(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(r()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[l,u]=o.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function t7(){return d1||(d1=Qye()),d1}function Jye({swiper:t,on:e,emit:n}){const r=hr();let s=null,i=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},o=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:h,height:p}=t;let g=h,x=p;d.forEach(({contentBoxSize:v,contentRect:b,target:w})=>{w&&w!==t.el||(g=b?b.width:(v[0]||v).inlineSize,x=b?b.height:(v[0]||v).blockSize)}),(g!==h||x!==p)&&a()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){o();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),e("destroy",()=>{l(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function Zye({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=hr(),a=(u,d={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,p=new h(g=>{if(t.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const x=function(){r("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(x):i.setTimeout(x,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(p)},o=()=>{if(t.params.observer){if(t.params.observeParents){const u=JF(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",o),n("destroy",l)}var ebe={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(o=>{o.apply(s,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(o=>{o.apply(s,r)})}),e}};function tbe(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Xa(r,"padding-left")||0,10)-parseInt(Xa(r,"padding-right")||0,10),n=n-parseInt(Xa(r,"padding-top")||0,10)-parseInt(Xa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function nbe(){const t=this;function e(D,I){return parseFloat(D.getPropertyValue(t.getDirectionLabel(I))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:a}=t,o=t.virtual&&n.virtual.enabled,l=o?t.virtual.slides.length:t.slides.length,u=ii(s,`.${t.params.slideClass}, swiper-slide`),d=o?t.virtual.slides.length:u.length;let h=[];const p=[],g=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,w=t.slidesGrid.length,N=t.size-x-v;let C=n.spaceBetween,T=-x,j=0,E=0;if(typeof N>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*N:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C-x-v,u.forEach(D=>{i?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Sp(r,"--swiper-centered-offset-before",""),Sp(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let M;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(D=>typeof n.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<d;D+=1){M=0;const I=u[D];if(!(I&&(O&&t.grid.updateSlide(D,I,u),Xa(I,"display")==="none"))){if(o&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(M=n.virtual.slidesPerViewAutoSlideSize),M&&I&&(n.roundLengths&&(M=Math.floor(M)),I.style[t.getDirectionLabel("width")]=`${M}px`);else if(n.slidesPerView==="auto"){_&&(I.style[t.getDirectionLabel("width")]="");const F=getComputedStyle(I),Y=I.style.transform,G=I.style.webkitTransform;if(Y&&(I.style.transform="none"),G&&(I.style.webkitTransform="none"),n.roundLengths)M=t.isHorizontal()?kw(I,"width"):kw(I,"height");else{const W=e(F,"width"),R=e(F,"padding-left"),V=e(F,"padding-right"),z=e(F,"margin-left"),q=e(F,"margin-right"),Q=F.getPropertyValue("box-sizing");if(Q&&Q==="border-box")M=W+z+q;else{const{clientWidth:B,offsetWidth:J}=I;M=W+R+V+z+q+(J-B)}}Y&&(I.style.transform=Y),G&&(I.style.webkitTransform=G),n.roundLengths&&(M=Math.floor(M))}else M=(N-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(M=Math.floor(M)),I&&(I.style[t.getDirectionLabel("width")]=`${M}px`);I&&(I.swiperSlideSize=M),g.push(M),n.centeredSlides?(T=T+M/2+j/2+C,j===0&&D!==0&&(T=T-N/2-C),D===0&&(T=T-N/2-C),Math.abs(T)<1/1e3&&(T=0),n.roundLengths&&(T=Math.floor(T)),E%n.slidesPerGroup===0&&h.push(T),p.push(T)):(n.roundLengths&&(T=Math.floor(T)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&h.push(T),p.push(T),T=T+M+C),t.virtualSize+=M+C,j=M,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,N)+v,i&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),O&&t.grid.updateWrapperSize(M,h),!n.centeredSlides){const D=[];for(let I=0;I<h.length;I+=1){let F=h[I];n.roundLengths&&(F=Math.floor(F)),h[I]<=t.virtualSize-N&&D.push(F)}h=D,Math.floor(t.virtualSize-N)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-N)}if(o&&n.loop){const D=g[0]+C;if(n.slidesPerGroup>1){const I=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),F=D*n.slidesPerGroup;for(let Y=0;Y<I;Y+=1)h.push(h[h.length-1]+F)}for(let I=0;I<t.virtual.slidesBefore+t.virtual.slidesAfter;I+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+D),p.push(p[p.length-1]+D),t.virtualSize+=D}if(h.length===0&&(h=[0]),C!==0){const D=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((I,F)=>!n.cssMode||n.loop?!0:F!==u.length-1).forEach(I=>{I.style[D]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let D=0;g.forEach(F=>{D+=F+(C||0)}),D-=C;const I=D>N?D-N:0;h=h.map(F=>F<=0?-x:F>I?I+v:F)}if(n.centerInsufficientSlides){let D=0;g.forEach(F=>{D+=F+(C||0)}),D-=C;const I=(x||0)+(v||0);if(D+I<N){const F=(N-D-I)/2;h.forEach((Y,G)=>{h[G]=Y-F}),p.forEach((Y,G)=>{p[G]=Y+F})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Sp(r,"--swiper-centered-offset-before",`${-h[0]}px`),Sp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const D=-t.snapGrid[0],I=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(F=>F+D),t.slidesGrid=t.slidesGrid.map(F=>F+I)}if(d!==l&&t.emit("slidesLengthChange"),h.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!o&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const D=`${n.containerModifierClass}backface-hidden`,I=t.el.classList.contains(D);d<=n.maxBackfaceHiddenSlides?I||t.el.classList.add(D):I&&t.el.classList.remove(D)}}function rbe(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=o=>r?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{n.push(o)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const o=e.activeIndex+i;if(o>e.slides.length&&!r)break;n.push(a(o))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const o=n[i].offsetHeight;s=o>s?o:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function sbe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const vA=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function ibe(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=n.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const u=r[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+o),p=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+o),g=-(a-d),x=g+e.slidesSizesGrid[l],v=g>=0&&g<=e.size-e.slidesSizesGrid[l],b=g>=0&&g<e.size-1||x>1&&x<=e.size||g<=0&&x>=e.size;b&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),vA(u,b,n.slideVisibleClass),vA(u,v,n.slideFullyVisibleClass),u.progress=s?-h:h,u.originalProgress=s?-p:p}}function abe(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:o}=e;const l=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[h],x=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=p?o=(v-p)/x:o=(v+x-g)/x,o>1&&(o-=1)}Object.assign(e,{progress:s,progressLoop:o,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!l&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(l&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const f1=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function obe(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,o=h=>ii(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,u,d;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${h}"]`)}else l=o(`[data-swiper-slide-index="${s}"]`);else a?(l=e.find(h=>h.column===s),d=e.find(h=>h.column===s+1),u=e.find(h=>h.column===s-1)):l=e[s];l&&(a||(d=Gye(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=Kye(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{f1(h,h===l,n.slideActiveClass),f1(h,h===d,n.slideNextClass),f1(h,h===u,n.slidePrevClass)}),t.emitSlidesClasses()}const tg=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},h1=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Tw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,o=[a-e];o.push(...Array.from({length:e}).map((l,u)=>a+r+u)),t.slides.forEach((l,u)=>{o.includes(l.column)&&h1(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const o=(a%n+n)%n;(o<s||o>i)&&h1(t,o)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&h1(t,a)};function lbe(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function cbe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:o}=e;let l=t,u;const d=g=>{let x=g-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof l>"u"&&(l=lbe(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const g=Math.min(s.slidesPerGroupSkip,l);u=g+Math.floor((l-g)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===i&&!e.params.loop){u!==o&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=d(l);else if(h){const g=e.slides.find(v=>v.column===l);let x=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(g),0)),p=Math.floor(x/s.grid.rows)}else if(e.slides[l]){const g=e.slides[l].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:o,snapIndex:u,previousRealIndex:a,realIndex:p,previousIndex:i,activeIndex:l}),e.initialized&&Tw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function ube(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!s&&o.matches&&o.matches(`.${r.slideClass}, swiper-slide`)&&(s=o)});let i=!1,a;if(s){for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===s){i=!0,a=o;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var dbe={updateSize:tbe,updateSlides:nbe,updateAutoHeight:rbe,updateSlidesOffset:sbe,updateSlidesProgress:ibe,updateProgress:abe,updateSlidesClasses:obe,updateActiveIndex:cbe,updateClickedSlide:ube};function fbe(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=Hye(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function hbe(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let o=0,l=0;const u=0;n.isHorizontal()?o=r?-t:t:l=t,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?o:l,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-o:-l:s.virtualTranslate||(n.isHorizontal()?o-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${o}px, ${l}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function mbe(){return-this.snapGrid[0]}function pbe(){return-this.snapGrid[this.snapGrid.length-1]}function gbe(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:a,wrapperEl:o}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const l=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>l?d=l:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const h=i.isHorizontal();if(e===0)o[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return QF({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;o.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var xbe={getTranslate:fbe,setTranslate:hbe,minTranslate:mbe,maxTranslate:pbe,translateTo:gbe};function ybe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function n7({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let a=n;a||(s>i?a="next":s<i?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==i&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function bbe(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),n7({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function vbe(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),n7({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var wbe={setTransition:ybe,transitionStart:bbe,transitionEnd:vbe};function Sbe(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:p,wrapperEl:g,enabled:x}=i;if(!x&&!r&&!s||i.destroyed||i.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const v=Math.min(i.params.slidesPerGroupSkip,a);let b=v+Math.floor((a-v)/i.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const w=-l[b];if(o.normalizeSlideIndex)for(let O=0;O<u.length;O+=1){const M=-Math.floor(w*100),_=Math.floor(u[O]*100),D=Math.floor(u[O+1]*100);typeof u[O+1]<"u"?M>=_&&M<D-(D-_)/2?a=O:M>=_&&M<D&&(a=O+1):M>=_&&(a=O)}if(i.initialized&&a!==h&&(!i.allowSlideNext&&(p?w>i.translate&&w>i.minTranslate():w<i.translate&&w<i.minTranslate())||!i.allowSlidePrev&&w>i.translate&&w>i.maxTranslate()&&(h||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(w);let N;a>h?N="next":a<h?N="prev":N="reset";const C=i.virtual&&i.params.virtual.enabled;if(!(C&&s)&&(p&&-w===i.translate||!p&&w===i.translate))return i.updateActiveIndex(a),o.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),o.effect!=="slide"&&i.setTranslate(w),N!=="reset"&&(i.transitionStart(n,N),i.transitionEnd(n,N)),!1;if(o.cssMode){const O=i.isHorizontal(),M=p?w:-w;if(e===0)C&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),C&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[O?"scrollLeft":"scrollTop"]=M})):g[O?"scrollLeft":"scrollTop"]=M,C&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return QF({swiper:i,targetPosition:M,side:O?"left":"top"}),!0;g.scrollTo({[O?"left":"top"]:M,behavior:"smooth"})}return!0}const E=t7().isSafari;return C&&!s&&E&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(e),i.setTranslate(w),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,N),e===0?i.transitionEnd(n,N):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(M){!i||i.destroyed||M.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,N))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function Nbe(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let o;if(i){const v=a*s.params.grid.rows;o=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else o=s.getSlideIndexByData(a);const l=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:d,slidesOffsetAfter:h}=s.params,p=u||!!d||!!h;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let x=l-o<g;if(p&&(x=x||o<Math.ceil(g/2)),r&&p&&s.params.slidesPerView!=="auto"&&!i&&(x=!1),x){const v=p?o<s.activeIndex?"prev":"next":o-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?o+1:o-l+1,slideRealIndex:v==="next"?s.realIndex:void 0})}if(i){const v=a*s.params.grid.rows;a=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function Cbe(t,e=!0,n){const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let o=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:o,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function jbe(t,e=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:o,enabled:l,animating:u}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=o?r.translate:-r.translate;function p(N){return N<0?-Math.floor(Math.abs(N)):Math.floor(N)}const g=p(h),x=i.map(N=>p(N)),v=s.freeMode&&s.freeMode.enabled;let b=i[x.indexOf(g)-1];if(typeof b>"u"&&(s.cssMode||v)){let N;i.forEach((C,T)=>{g>=C&&(N=T)}),typeof N<"u"&&(b=v?i[N]:i[N>0?N-1:N])}let w=0;if(typeof b<"u"&&(w=a.indexOf(b),w<0&&(w=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),s.rewind&&r.isBeginning){const N=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(N,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function kbe(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Tbe(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),o=a+Math.floor((i-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){const u=s.snapGrid[o],d=s.snapGrid[o+1];l-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[o-1],d=s.snapGrid[o];l-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function Ebe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,o=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(o?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(ii(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),XF(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var Mbe={slideTo:Sbe,slideToLoop:Nbe,slideNext:Cbe,slidePrev:jbe,slideReset:kbe,slideToClosest:Tbe,slideToClickedSlide:Ebe};function Abe(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{ii(s,`.${r.slideClass}, swiper-slide`).forEach((x,v)=>{x.setAttribute("data-swiper-slide-index",v)})},a=()=>{const g=ii(s,`.${r.slideBlankClass}`);g.forEach(x=>{x.remove()}),g.length>0&&(n.recalcSlides(),n.updateSlides())},o=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||o)&&a();const l=r.slidesPerGroup*(o?r.grid.rows:1),u=n.slides.length%l!==0,d=o&&n.slides.length%r.grid.rows!==0,h=g=>{for(let x=0;x<g;x+=1){const v=n.isElement?E0("swiper-slide",[r.slideBlankClass]):E0("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(v)}};if(u){if(r.loopAddBlankSlides){const g=l-n.slides.length%l;h(g),n.recalcSlides(),n.updateSlides()}else T0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const g=r.grid.rows-n.slides.length%r.grid.rows;h(g),n.recalcSlides(),n.updateSlides()}else T0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const p=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:p?void 0:"next",initial:e})}function Obe({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:a,byMousewheel:o}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:p,params:g}=l,{centeredSlides:x,slidesOffsetBefore:v,slidesOffsetAfter:b,initialSlide:w}=g,N=x||!!v||!!b;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&g.virtual.enabled){e&&(!N&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):N&&l.snapIndex<g.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,l.emit("loopFix");return}let C=g.slidesPerView;C==="auto"?C=l.slidesPerViewDynamic():(C=Math.ceil(parseFloat(g.slidesPerView,10)),N&&C%2===0&&(C=C+1));const T=g.slidesPerGroupAuto?C:g.slidesPerGroup;let j=N?Math.max(T,Math.ceil(C/2)):T;j%T!==0&&(j+=T-j%T),j+=g.loopAdditionalSlides,l.loopedSlides=j;const E=l.grid&&g.grid&&g.grid.rows>1;u.length<C+j||l.params.effect==="cards"&&u.length<C+j*2?T0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):E&&g.grid.fill==="row"&&T0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const O=[],M=[],_=E?Math.ceil(u.length/g.grid.rows):u.length,D=i&&_-w<C&&!N;let I=D?w:l.activeIndex;typeof s>"u"?s=l.getSlideIndex(u.find(z=>z.classList.contains(g.slideActiveClass))):I=s;const F=n==="next"||!n,Y=n==="prev"||!n;let G=0,W=0;const V=(E?u[s].column:s)+(N&&typeof r>"u"?-C/2+.5:0);if(V<j){G=Math.max(j-V,T);for(let z=0;z<j-V;z+=1){const q=z-Math.floor(z/_)*_;if(E){const Q=_-q-1;for(let B=u.length-1;B>=0;B-=1)u[B].column===Q&&O.push(B)}else O.push(_-q-1)}}else if(V+C>_-j){W=Math.max(V-(_-j*2),T),D&&(W=Math.max(W,C-_+w+1));for(let z=0;z<W;z+=1){const q=z-Math.floor(z/_)*_;E?u.forEach((Q,B)=>{Q.column===q&&M.push(B)}):M.push(q)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&u.length<C+j*2&&(M.includes(s)&&M.splice(M.indexOf(s),1),O.includes(s)&&O.splice(O.indexOf(s),1)),Y&&O.forEach(z=>{u[z].swiperLoopMoveDOM=!0,p.prepend(u[z]),u[z].swiperLoopMoveDOM=!1}),F&&M.forEach(z=>{u[z].swiperLoopMoveDOM=!0,p.append(u[z]),u[z].swiperLoopMoveDOM=!1}),l.recalcSlides(),g.slidesPerView==="auto"?l.updateSlides():E&&(O.length>0&&Y||M.length>0&&F)&&l.slides.forEach((z,q)=>{l.grid.updateSlide(q,z,l.slides)}),g.watchSlidesProgress&&l.updateSlidesOffset(),e){if(O.length>0&&Y){if(typeof t>"u"){const z=l.slidesGrid[I],Q=l.slidesGrid[I+G]-z;o?l.setTranslate(l.translate-Q):(l.slideTo(I+Math.ceil(G),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Q))}else if(r){const z=E?O.length/g.grid.rows:O.length;l.slideTo(l.activeIndex+z,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(M.length>0&&F)if(typeof t>"u"){const z=l.slidesGrid[I],Q=l.slidesGrid[I-W]-z;o?l.setTranslate(l.translate-Q):(l.slideTo(I-W,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Q,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Q))}else{const z=E?M.length/g.grid.rows:M.length;l.slideTo(l.activeIndex-z,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!a){const z={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(q=>{!q.destroyed&&q.params.loop&&q.loopFix({...z,slideTo:q.params.slidesPerView===g.slidesPerView?e:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...z,slideTo:l.controller.control.params.slidesPerView===g.slidesPerView?e:!1})}l.emit("loopFix")}function Pbe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var _be={loopCreate:Abe,loopFix:Obe,loopDestroy:Pbe};function Dbe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ibe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Lbe={setGrabCursor:Dbe,unsetGrabCursor:Ibe};function Rbe(t,e=this){function n(r){if(!r||r===di()||r===hr())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function wA(t,e,n){const r=hr(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function Fbe(t){const e=this,n=di();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){wA(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:o}=e;if(!o||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=r.target;if(i.touchEventsTarget==="wrapper"&&!qye(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(p?Rbe(h,l):l.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const g=a.currentX,x=a.currentY;if(!wA(e,r,g))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=x,s.touchStartTime=k0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let v=!0;l.matches(s.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&n.activeElement.blur();const b=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!l.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function zbe(t){const e=di(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:o}=n;if(!o||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(j=>j.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=k0());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=h;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let j;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:p*p+g*g>=25&&(j=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let x=n.isHorizontal()?p:g,v=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(x=Math.abs(x)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),i.diff=x,x*=s.touchRatio,a&&(x=-x,v=-v);const b=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const w=n.params.loop&&!s.cssMode,N=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(w&&N&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&w&&N&&Math.abs(x)>=1){Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let C=!0,T=s.resistanceRatio;if(s.touchReleaseOnEdges&&(T=0),x>0?(w&&N&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(C=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+x)**T))):x<0&&(w&&N&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(C=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-x)**T))),C&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Vbe(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(j=>j.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:o,rtlTranslate:l,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=k0(),p=h-n.touchStartTime;if(e.allowClick){const j=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(j&&j[0]||r.target,j),e.emit("tap click",r),p<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=k0(),XF(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||o.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(a.followFinger?g=l?e.translate:-e.translate:g=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const x=g>=-e.maxTranslate()&&!e.params.loop;let v=0,b=e.slidesSizesGrid[0];for(let j=0;j<u.length;j+=j<a.slidesPerGroupSkip?1:a.slidesPerGroup){const E=j<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[j+E]<"u"?(x||g>=u[j]&&g<u[j+E])&&(v=j,b=u[j+E]-u[j]):(x||g>=u[j])&&(v=j,b=u[u.length-1]-u[u.length-2])}let w=null,N=null;a.rewind&&(e.isBeginning?N=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const C=(g-u[v])/b,T=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?w:v+T):e.slideTo(v)),e.swipeDirection==="prev"&&(C>1-a.longSwipesRatio?e.slideTo(v+T):N!==null&&C<0&&Math.abs(C)>a.longSwipesRatio?e.slideTo(N):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+T):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:v+T),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:v))}}function SA(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function $be(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Bbe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Hbe(t){const e=this;tg(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Ube(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const r7=(t,e)=>{const n=di(),{params:r,el:s,wrapperEl:i,device:a}=t,o=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:o}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",t.onClick,!0),r.cssMode&&i[l]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",SA,!0):t[u]("observerUpdate",SA,!0),s[l]("load",t.onLoad,{capture:!0}))};function Wbe(){const t=this,{params:e}=t;t.onTouchStart=Fbe.bind(t),t.onTouchMove=zbe.bind(t),t.onTouchEnd=Vbe.bind(t),t.onDocumentTouchStart=Ube.bind(t),e.cssMode&&(t.onScroll=Bbe.bind(t)),t.onClick=$be.bind(t),t.onLoad=Hbe.bind(t),r7(t,"on")}function qbe(){r7(this,"off")}var Kbe={attachEvents:Wbe,detachEvents:qbe};const NA=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Gbe(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=di(),o=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),u=t.getBreakpoint(i,o,l);if(!u||t.currentBreakpoint===u)return;const h=(u in i?i[u]:void 0)||t.originalParams,p=NA(t,r),g=NA(t,h),x=t.params.grabCursor,v=h.grabCursor,b=r.enabled;p&&!g?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(s.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!v?t.unsetGrabCursor():!x&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof h[E]>"u")return;const O=r[E]&&r[E].enabled,M=h[E]&&h[E].enabled;O&&!M&&t[E].disable(),!O&&M&&t[E].enable()});const w=h.direction&&h.direction!==r.direction,N=r.loop&&(h.slidesPerView!==r.slidesPerView||w),C=r.loop;w&&n&&t.changeDirection(),$r(t.params,h);const T=t.params.enabled,j=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!T?t.disable():!b&&T&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",h),n&&(N?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!C&&j?(t.loopCreate(e),t.updateSlides()):C&&!j&&t.loopDestroy()),t.emit("breakpoint",h)}function Ybe(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=hr(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:i*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){const{point:l,value:u}=a[o];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}var Xbe={setBreakpoint:Gbe,getBreakpoint:Ybe};function Qbe(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function Jbe(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=Qbe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function Zbe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var eve={addClasses:Jbe,removeClasses:Zbe};function tve(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var nve={checkOverflow:tve},Ew={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function rve(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){$r(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){$r(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),$r(e,r)}}const m1={eventsEmitter:ebe,update:dbe,translate:xbe,transition:wbe,slide:Mbe,loop:_be,grabCursor:Lbe,events:Kbe,breakpoints:Xbe,checkOverflow:nve,classes:eve},p1={};let TC=class Fi{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=$r({},r),n&&!r.el&&(r.el=n);const s=di();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const l=[];return s.querySelectorAll(r.el).forEach(u=>{const d=$r({},r,{el:u});l.push(new Fi(d))}),l}const i=this;i.__swiper__=!0,i.support=ZF(),i.device=e7({userAgent:r.userAgent}),i.browser=t7(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(l=>{l({params:r,swiper:i,extendParams:rve(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const o=$r({},Ew,a);return i.params=$r({},o,p1,r),i.originalParams=$r({},i.params),i.passedParams=$r({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(l=>{i.on(l,i.params.on[l])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=ii(n,`.${r.slideClass}, swiper-slide`),i=M0(s[0]);return M0(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ii(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[u]?Math.ceil(i[u].swiperSlideSize):0,p;for(let g=u+1;g<i.length;g+=1)i[g]&&!p&&(h+=Math.ceil(i[g].swiperSlideSize),d+=1,h>l&&(p=!0));for(let g=u-1;g>=0;g-=1)i[g]&&!p&&(h+=i[g].swiperSlideSize,d+=1,h>l&&(p=!0))}else if(e==="current")for(let h=u+1;h<i.length;h+=1)(n?a[h]+o[h]-a[u]<l:a[h]-a[u]<l)&&(d+=1);else for(let h=u-1;h>=0;h-=1)a[u]-a[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&tg(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):ii(r,s())[0];return!a&&n.params.createElements&&(a=E0("div",n.params.wrapperClass),r.append(a),ii(r,`.${n.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Xa(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Xa(r,"direction")==="rtl"),wrongRTL:Xa(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?tg(n,i):i.addEventListener("load",a=>{tg(n,a.target)})}),Tw(n),n.initialized=!0,Tw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:a,slides:o}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),$ye(r)),r.destroyed=!0),null}static extendDefaults(e){$r(p1,e)}static get extendedDefaults(){return p1}static get defaults(){return Ew}static installModule(e){Fi.prototype.__modules__||(Fi.prototype.__modules__=[]);const n=Fi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Fi.installModule(n)),Fi):(Fi.installModule(e),Fi)}};Object.keys(m1).forEach(t=>{Object.keys(m1[t]).forEach(e=>{TC.prototype[e]=m1[t][e]})});TC.use([Jye,Zye]);const s7=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ll(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Xc(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ll(e[r])&&Ll(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Xc(t[r],e[r]):t[r]=e[r]})}function i7(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function a7(t={}){return t.pagination&&typeof t.pagination.el>"u"}function o7(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function l7(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function sve(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function ive({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:a,paginationEl:o}){const l=r.filter(M=>M!=="children"&&M!=="direction"&&M!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:p,virtual:g,thumbs:x}=t;let v,b,w,N,C,T,j,E;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||o)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(w=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(N=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(C=!0);const O=M=>{t[M]&&(t[M].destroy(),M==="navigation"?(t.isElement&&(t[M].prevEl.remove(),t[M].nextEl.remove()),u[M].prevEl=void 0,u[M].nextEl=void 0,t[M].prevEl=void 0,t[M].nextEl=void 0):(t.isElement&&t[M].el.remove(),u[M].el=void 0,t[M].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?T=!0:!u.loop&&n.loop?j=!0:E=!0),l.forEach(M=>{if(Ll(u[M])&&Ll(n[M]))Object.assign(u[M],n[M]),(M==="navigation"||M==="pagination"||M==="scrollbar")&&"enabled"in n[M]&&!n[M].enabled&&O(M);else{const _=n[M];(_===!0||_===!1)&&(M==="navigation"||M==="pagination"||M==="scrollbar")?_===!1&&O(M):u[M]=n[M]}}),l.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&g&&u.virtual.enabled?(g.slides=e,g.update(!0)):r.includes("virtual")&&g&&u.virtual.enabled&&(e&&(g.slides=e),g.update(!0)),r.includes("children")&&e&&u.loop&&(E=!0),v&&x.init()&&x.update(!0),b&&(t.controller.control=u.controller.control),w&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-pagination"),o.part.add("pagination"),t.el.appendChild(o)),o&&(u.pagination.el=o),d.init(),d.render(),d.update()),N&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),C&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Gf(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Gf(i,t.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(T||E)&&t.loopDestroy(),(j||E)&&t.loopCreate(),t.update()}function ave(t={},e=!0){const n={on:{}},r={},s={};Xc(n,Ew),n._emitClasses=!0,n.init=!1;const i={},a=s7.map(l=>l.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(l=>{typeof t[l]>"u"||(a.indexOf(l)>=0?Ll(t[l])?(n[l]={},s[l]={},Xc(n[l],t[l]),Xc(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function ove({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},a){i7(a)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),a7(a)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),o7(a)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}function lve(t,e,n,r,s){const i=[];if(!e)return i;const a=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),u=n.map(s);l.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return s7.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Ll(t[l])&&Ll(e[l])){const u=Object.keys(t[l]),d=Object.keys(e[l]);u.length!==d.length?a(l):(u.forEach(h=>{t[l][h]!==e[l][h]&&a(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&a(l)}))}else t[l]!==e[l]&&a(l)}),i}const cve=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(this,arguments)}function c7(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function u7(t){const e=[];return ge.Children.toArray(t).forEach(n=>{c7(n)?e.push(n):n.props&&n.props.children&&u7(n.props.children).forEach(r=>e.push(r))}),e}function uve(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ge.Children.toArray(t).forEach(r=>{if(c7(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=u7(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function dve(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,o=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let d=o;d<l;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,h)=>ge.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function uf(t,e){return typeof window>"u"?A.useEffect(t,e):A.useLayoutEffect(t,e)}const CA=A.createContext(null),fve=A.createContext(null),EC=A.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...i}={},a)=>{let o=!1;const[l,u]=A.useState("swiper"),[d,h]=A.useState(null),[p,g]=A.useState(!1),x=A.useRef(!1),v=A.useRef(null),b=A.useRef(null),w=A.useRef(null),N=A.useRef(null),C=A.useRef(null),T=A.useRef(null),j=A.useRef(null),E=A.useRef(null),{params:O,passedParams:M,rest:_,events:D}=ave(i),{slides:I,slots:F}=uve(r),Y=()=>{g(!p)};Object.assign(O.on,{_containerClasses(z,q){u(q)}});const G=()=>{Object.assign(O.on,D),o=!0;const z={...O};if(delete z.wrapperClass,b.current=new TC(z),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=I;const q={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};Xc(b.current.params.virtual,q),Xc(b.current.originalParams.virtual,q)}};v.current||G(),b.current&&b.current.on("_beforeBreakpoint",Y);const W=()=>{o||!D||!b.current||Object.keys(D).forEach(z=>{b.current.on(z,D[z])})},R=()=>{!D||!b.current||Object.keys(D).forEach(z=>{b.current.off(z,D[z])})};A.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",Y)}),A.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),uf(()=>{if(a&&(a.current=v.current),!!v.current)return b.current.destroyed&&G(),ove({el:v.current,nextEl:C.current,prevEl:T.current,paginationEl:j.current,scrollbarEl:E.current,swiper:b.current},O),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),uf(()=>{W();const z=lve(M,w.current,I,N.current,q=>q.key);return w.current=M,N.current=I,z.length&&b.current&&!b.current.destroyed&&ive({swiper:b.current,slides:I,passedParams:M,changedParams:z,nextEl:C.current,prevEl:T.current,scrollbarEl:E.current,paginationEl:j.current}),()=>{R()}}),uf(()=>{cve(b.current)},[d]);function V(){return O.virtual?dve(b.current,I,d):I.map((z,q)=>ge.cloneElement(z,{swiper:b.current,swiperSlideIndex:q}))}return ge.createElement(e,A0({ref:v,className:l7(`${l}${t?` ${t}`:""}`)},_),ge.createElement(fve.Provider,{value:b.current},F["container-start"],ge.createElement(n,{className:sve(O.wrapperClass)},F["wrapper-start"],V(),F["wrapper-end"]),i7(O)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{ref:T,className:"swiper-button-prev"}),ge.createElement("div",{ref:C,className:"swiper-button-next"})),o7(O)&&ge.createElement("div",{ref:E,className:"swiper-scrollbar"}),a7(O)&&ge.createElement("div",{ref:j,className:"swiper-pagination"}),F["container-end"]))});EC.displayName="Swiper";const Qc=A.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:i,virtualIndex:a,swiperSlideIndex:o,...l}={},u)=>{const d=A.useRef(null),[h,p]=A.useState("swiper-slide"),[g,x]=A.useState(!1);function v(C,T,j){T===d.current&&p(j)}uf(()=>{if(typeof o<"u"&&(d.current.swiperSlideIndex=o),u&&(u.current=d.current),!(!d.current||!r)){if(r.destroyed){h!=="swiper-slide"&&p("swiper-slide");return}return r.on("_slideClass",v),()=>{r&&r.off("_slideClass",v)}}}),uf(()=>{r&&d.current&&!r.destroyed&&p(r.getSlideClasses(d.current))},[r]);const b={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},w=()=>typeof e=="function"?e(b):e,N=()=>{x(!0)};return ge.createElement(t,A0({ref:d,className:l7(`${h}${n?` ${n}`:""}`),"data-swiper-slide-index":a,onLoad:N},l),s&&ge.createElement(CA.Provider,{value:b},ge.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},w(),i&&!g&&ge.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&ge.createElement(CA.Provider,{value:b},w(),i&&!g&&ge.createElement("div",{className:"swiper-lazy-preloader"})))});Qc.displayName="SwiperSlide";function d7(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=ii(t.el,`.${r[s]}`)[0];i||(i=E0("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}const hve='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function f7({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(g){let x;return g&&typeof g=="string"&&t.isElement&&(x=t.el.querySelector(g)||t.hostEl.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),t.params.uniqueNavElements&&typeof g=="string"&&x&&x.length>1&&t.el.querySelectorAll(g).length===1?x=t.el.querySelector(g):x&&x.length===1&&(x=x[0])),g&&!x?g:x)}function i(g,x){const v=t.params.navigation;g=Cn(g),g.forEach(b=>{b&&(b.classList[x?"add":"remove"](...v.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=x),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:g,prevEl:x}=t.navigation;if(t.params.loop){i(x,!1),i(g,!1);return}i(x,t.isBeginning&&!t.params.rewind),i(g,t.isEnd&&!t.params.rewind)}function o(g){g.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(g){g.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const g=t.params.navigation;if(t.params.navigation=d7(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=s(g.nextEl),v=s(g.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:v}),x=Cn(x),v=Cn(v);const b=(w,N)=>{if(w){if(g.addIcons&&w.matches(".swiper-button-next,.swiper-button-prev")&&!w.querySelector("svg")){const C=document.createElement("div");Gf(C,hve),w.appendChild(C.querySelector("svg")),C.remove()}w.addEventListener("click",N==="next"?l:o)}!t.enabled&&w&&w.classList.add(...g.lockClass.split(" "))};x.forEach(w=>b(w,"next")),v.forEach(w=>b(w,"prev"))}function d(){let{nextEl:g,prevEl:x}=t.navigation;g=Cn(g),x=Cn(x);const v=(b,w)=>{b.removeEventListener("click",w==="next"?l:o),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};g.forEach(b=>v(b,"next")),x.forEach(b=>v(b,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?p():(u(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:g,prevEl:x}=t.navigation;if(g=Cn(g),x=Cn(x),t.enabled){a();return}[...g,...x].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),n("click",(g,x)=>{let{nextEl:v,prevEl:b}=t.navigation;v=Cn(v),b=Cn(b);const w=x.target;let N=b.includes(w)||v.includes(w);if(t.isElement&&!N){const C=x.path||x.composedPath&&x.composedPath();C&&(N=C.find(T=>v.includes(T)||b.includes(T)))}if(t.params.navigation.hideOnClick&&!N){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===w||t.pagination.el.contains(w)))return;let C;v.length?C=v[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(C=b[0].classList.contains(t.params.navigation.hiddenClass)),r(C===!0?"navigationShow":"navigationHide"),[...v,...b].filter(T=>!!T).forEach(T=>T.classList.toggle(t.params.navigation.hiddenClass))}});const h=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:h,disable:p,update:a,init:u,destroy:d})}function kd(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function h7({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let i,a=0;function o(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function l(w,N){const{bulletActiveClass:C}=t.params.pagination;w&&(w=w[`${N==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${C}-${N}`),w=w[`${N==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${C}-${N}-${N}`)))}function u(w,N,C){if(w=w%C,N=N%C,N===w+1)return"next";if(N===w-1)return"previous"}function d(w){const N=w.target.closest(kd(t.params.pagination.bulletClass));if(!N)return;w.preventDefault();const C=M0(N)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===C)return;const T=u(t.realIndex,C,t.slides.length);T==="next"?t.slideNext():T==="previous"?t.slidePrev():t.slideToLoop(C)}else t.slideTo(C)}function h(){const w=t.rtl,N=t.params.pagination;if(o())return;let C=t.pagination.el;C=Cn(C);let T,j;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,O=t.params.loop?Math.ceil(E/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(j=t.previousRealIndex||0,T=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(T=t.snapIndex,j=t.previousSnapIndex):(j=t.previousIndex||0,T=t.activeIndex||0),N.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const M=t.pagination.bullets;let _,D,I;if(N.dynamicBullets&&(i=kw(M[0],t.isHorizontal()?"width":"height"),C.forEach(F=>{F.style[t.isHorizontal()?"width":"height"]=`${i*(N.dynamicMainBullets+4)}px`}),N.dynamicMainBullets>1&&j!==void 0&&(a+=T-(j||0),a>N.dynamicMainBullets-1?a=N.dynamicMainBullets-1:a<0&&(a=0)),_=Math.max(T-a,0),D=_+(Math.min(M.length,N.dynamicMainBullets)-1),I=(D+_)/2),M.forEach(F=>{const Y=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(G=>`${N.bulletActiveClass}${G}`)].map(G=>typeof G=="string"&&G.includes(" ")?G.split(" "):G).flat();F.classList.remove(...Y)}),C.length>1)M.forEach(F=>{const Y=M0(F);Y===T?F.classList.add(...N.bulletActiveClass.split(" ")):t.isElement&&F.setAttribute("part","bullet"),N.dynamicBullets&&(Y>=_&&Y<=D&&F.classList.add(...`${N.bulletActiveClass}-main`.split(" ")),Y===_&&l(F,"prev"),Y===D&&l(F,"next"))});else{const F=M[T];if(F&&F.classList.add(...N.bulletActiveClass.split(" ")),t.isElement&&M.forEach((Y,G)=>{Y.setAttribute("part",G===T?"bullet-active":"bullet")}),N.dynamicBullets){const Y=M[_],G=M[D];for(let W=_;W<=D;W+=1)M[W]&&M[W].classList.add(...`${N.bulletActiveClass}-main`.split(" "));l(Y,"prev"),l(G,"next")}}if(N.dynamicBullets){const F=Math.min(M.length,N.dynamicMainBullets+4),Y=(i*F-i)/2-I*i,G=w?"right":"left";M.forEach(W=>{W.style[t.isHorizontal()?G:"top"]=`${Y}px`})}}C.forEach((M,_)=>{if(N.type==="fraction"&&(M.querySelectorAll(kd(N.currentClass)).forEach(D=>{D.textContent=N.formatFractionCurrent(T+1)}),M.querySelectorAll(kd(N.totalClass)).forEach(D=>{D.textContent=N.formatFractionTotal(O)})),N.type==="progressbar"){let D;N.progressbarOpposite?D=t.isHorizontal()?"vertical":"horizontal":D=t.isHorizontal()?"horizontal":"vertical";const I=(T+1)/O;let F=1,Y=1;D==="horizontal"?F=I:Y=I,M.querySelectorAll(kd(N.progressbarFillClass)).forEach(G=>{G.style.transform=`translate3d(0,0,0) scaleX(${F}) scaleY(${Y})`,G.style.transitionDuration=`${t.params.speed}ms`})}N.type==="custom"&&N.renderCustom?(Gf(M,N.renderCustom(t,T+1,O)),_===0&&r("paginationRender",M)):(_===0&&r("paginationRender",M),r("paginationUpdate",M)),t.params.watchOverflow&&t.enabled&&M.classList[t.isLocked?"add":"remove"](N.lockClass)})}function p(){const w=t.params.pagination;if(o())return;const N=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let C=t.pagination.el;C=Cn(C);let T="";if(w.type==="bullets"){let j=t.params.loop?Math.ceil(N/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&j>N&&(j=N);for(let E=0;E<j;E+=1)w.renderBullet?T+=w.renderBullet.call(t,E,w.bulletClass):T+=`<${w.bulletElement} ${t.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?T=w.renderFraction.call(t,w.currentClass,w.totalClass):T=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?T=w.renderProgressbar.call(t,w.progressbarFillClass):T=`<span class="${w.progressbarFillClass}"></span>`),t.pagination.bullets=[],C.forEach(j=>{w.type!=="custom"&&Gf(j,T||""),w.type==="bullets"&&t.pagination.bullets.push(...j.querySelectorAll(kd(w.bulletClass)))}),w.type!=="custom"&&r("paginationRender",C[0])}function g(){t.params.pagination=d7(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const w=t.params.pagination;if(!w.el)return;let N;typeof w.el=="string"&&t.isElement&&(N=t.el.querySelector(w.el)),!N&&typeof w.el=="string"&&(N=[...document.querySelectorAll(w.el)]),N||(N=w.el),!(!N||N.length===0)&&(t.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(N)&&N.length>1&&(N=[...t.el.querySelectorAll(w.el)],N.length>1&&(N=N.find(C=>JF(C,".swiper")[0]===t.el))),Array.isArray(N)&&N.length===1&&(N=N[0]),Object.assign(t.pagination,{el:N}),N=Cn(N),N.forEach(C=>{w.type==="bullets"&&w.clickable&&C.classList.add(...(w.clickableClass||"").split(" ")),C.classList.add(w.modifierClass+w.type),C.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(C.classList.add(`${w.modifierClass}${w.type}-dynamic`),a=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&C.classList.add(w.progressbarOppositeClass),w.clickable&&C.addEventListener("click",d),t.enabled||C.classList.add(w.lockClass)}))}function x(){const w=t.params.pagination;if(o())return;let N=t.pagination.el;N&&(N=Cn(N),N.forEach(C=>{C.classList.remove(w.hiddenClass),C.classList.remove(w.modifierClass+w.type),C.classList.remove(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(C.classList.remove(...(w.clickableClass||"").split(" ")),C.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(C=>C.classList.remove(...w.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const w=t.params.pagination;let{el:N}=t.pagination;N=Cn(N),N.forEach(C=>{C.classList.remove(w.horizontalClass,w.verticalClass),C.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?b():(g(),p(),h())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&h()}),n("snapIndexChange",()=>{h()}),n("snapGridLengthChange",()=>{p(),h()}),n("destroy",()=>{x()}),n("enable disable",()=>{let{el:w}=t.pagination;w&&(w=Cn(w),w.forEach(N=>N.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{h()}),n("click",(w,N)=>{const C=N.target,T=Cn(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&T&&T.length>0&&!C.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&C===t.navigation.nextEl||t.navigation.prevEl&&C===t.navigation.prevEl))return;const j=T[0].classList.contains(t.params.pagination.hiddenClass);r(j===!0?"paginationShow":"paginationHide"),T.forEach(E=>E.classList.toggle(t.params.pagination.hiddenClass))}});const v=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Cn(w),w.forEach(N=>N.classList.remove(t.params.pagination.paginationDisabledClass))),g(),p(),h()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Cn(w),w.forEach(N=>N.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:v,disable:b,render:p,update:h,init:g,destroy:x})}function m7({swiper:t,extendParams:e,on:n,emit:r,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,a,o=s&&s.autoplay?s.autoplay.delay:3e3,l=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),h,p,g,x,v,b,w;function N(V){!t||t.destroyed||!t.wrapperEl||V.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",N),!(w||V.detail&&V.detail.bySwiperTouchMove)&&_())}const C=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?h=!0:h&&(l=u,h=!1);const V=t.autoplay.paused?u:d+l-new Date().getTime();t.autoplay.timeLeft=V,r("autoplayTimeLeft",V,V/o),a=requestAnimationFrame(()=>{C()})},T=()=>{let V;return t.virtual&&t.params.virtual.enabled?V=t.slides.find(q=>q.classList.contains("swiper-slide-active")):V=t.slides[t.activeIndex],V?parseInt(V.getAttribute("data-swiper-autoplay"),10):void 0},j=V=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),C();let z=typeof V>"u"?t.params.autoplay.delay:V;o=t.params.autoplay.delay,l=t.params.autoplay.delay;const q=T();!Number.isNaN(q)&&q>0&&typeof V>"u"&&(z=q,o=q,l=q),u=z;const Q=t.params.speed,B=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(Q,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,Q,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(Q,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,Q,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return z>0?(clearTimeout(i),i=setTimeout(()=>{B()},z)):requestAnimationFrame(()=>{B()}),z},E=()=>{d=new Date().getTime(),t.autoplay.running=!0,j(),r("autoplayStart")},O=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(a),r("autoplayStop")},M=(V,z)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),V||(b=!0);const q=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",N):_()};if(t.autoplay.paused=!0,z){v&&(u=t.params.autoplay.delay),v=!1,q();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),q())},_=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),b?(b=!1,j(u)):j(),t.autoplay.paused=!1,r("autoplayResume"))},D=()=>{if(t.destroyed||!t.autoplay.running)return;const V=di();V.visibilityState==="hidden"&&(b=!0,M(!0)),V.visibilityState==="visible"&&_()},I=V=>{V.pointerType==="mouse"&&(b=!0,w=!0,!(t.animating||t.autoplay.paused)&&M(!0))},F=V=>{V.pointerType==="mouse"&&(w=!1,t.autoplay.paused&&_())},Y=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",I),t.el.addEventListener("pointerleave",F))},G=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",I),t.el.removeEventListener("pointerleave",F))},W=()=>{di().addEventListener("visibilitychange",D)},R=()=>{di().removeEventListener("visibilitychange",D)};n("init",()=>{t.params.autoplay.enabled&&(Y(),W(),E())}),n("destroy",()=>{G(),R(),t.autoplay.running&&O()}),n("_freeModeStaticRelease",()=>{(g||b)&&_()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?O():M(!0,!0)}),n("beforeTransitionStart",(V,z,q)=>{t.destroyed||!t.autoplay.running||(q||!t.params.autoplay.disableOnInteraction?M(!0,!0):O())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){O();return}p=!0,g=!1,b=!1,x=setTimeout(()=>{b=!0,g=!0,M(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(i),t.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&t.params.cssMode&&_(),g=!1,p=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:E,stop:O,pause:M,resume:_})}function mve(){const{data:t=[],isLoading:e}=et({queryKey:["listBanner"],queryFn:()=>GF()}),n=()=>c.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 animate-pulse",children:[c.jsx("div",{className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] bg-gray-200"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 md:p-8",children:[c.jsx("div",{className:"h-8 sm:h-9 md:h-10 bg-gray-300 rounded w-full sm:w-3/4 mb-2 sm:mb-3"}),c.jsx("div",{className:"h-6 sm:h-7 bg-gray-300 rounded w-2/3 sm:w-1/2 mb-4 sm:mb-6"}),c.jsx("div",{className:"h-10 sm:h-12 bg-gray-300 rounded-full w-32 sm:w-40"})]})]});return c.jsxs("div",{className:"rounded-xl bg-white shadow-lg overflow-hidden px-2 xs:px-4 sm:px-8 md:px-4 lg:px-0",children:[c.jsxs("div",{className:"relative w-full",children:[c.jsx("button",{className:"custom-prev-btn hidden lg:block absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-white/90 hover:bg-pink-500 p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:c.jsx("svg",{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 text-gray-700 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx(EC,{modules:[f7,h7,m7],spaceBetween:10,slidesPerView:1,slidesPerGroup:1,breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:1,spaceBetween:15},640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:20},1024:{slidesPerView:1,spaceBetween:20}},navigation:{nextEl:".custom-next-btn",prevEl:".custom-prev-btn"},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",renderBullet:function(r,s){return`<span class="${s} !bg-gray-300 hover:!bg-pink-500"></span>`}},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"w-full",children:e?c.jsxs(c.Fragment,{children:[c.jsx(Qc,{children:c.jsx(n,{})}),c.jsx(Qc,{children:c.jsx(n,{})})]}):t.map(r=>c.jsx(Qc,{children:c.jsxs(Ht,{to:r.link||"/",className:"block relative overflow-hidden group cursor-pointer",children:[c.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] object-cover transition-transform duration-700 group-hover:scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),c.jsx("div",{className:"absolute top-3 xs:top-4 sm:top-6 right-3 xs:right-4 sm:right-6 bg-red-600 text-white px-3 xs:px-4 sm:px-6 py-1 xs:py-2 sm:py-3 rounded-full text-xs xs:text-sm sm:text-base md:text-lg font-bold animate-pulse shadow-lg whitespace-nowrap",children:"NEW"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 xs:p-6 sm:p-8 md:p-10 lg:p-12 text-white",children:[c.jsx("h3",{className:"xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-2 xs:mb-3 leading-tight",children:r.title}),c.jsx("p",{className:"text-lg xs:text-base sm:text-lg md:text-xl text-white/90 mb-4 xs:mb-6 max-w-full sm:max-w-xl md:max-w-2xl line-clamp-2 xs:line-clamp-none",children:r.subTitle}),c.jsxs("button",{className:"bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 xs:py-3 sm:py-4 px-6 xs:px-8 sm:px-10 rounded-full text-[1.4rem] md:text-[1.6rem] inline-flex items-center gap-2 xs:gap-3 transition-all transform hover:scale-105 shadow-lg",children:["Mua ngay",c.jsx($,{icon:FP,className:"text-xs xs:text-sm sm:text-base"})]})]})]})},r.id))}),c.jsx("button",{className:"custom-next-btn hidden lg:block absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-white/90 hover:bg-pink-500 p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:c.jsx("svg",{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 text-gray-700 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),c.jsx("div",{className:"swiper-pagination mt-2 xs:mt-3 sm:mt-4 flex justify-center"})]})}function pve({showAddCart:t,setShowAddCart:e}){const[n,r]=A.useState(null),[s,i]=A.useState(null),[a,o]=A.useState(null),[l,u]=A.useState(1),[d,h]=A.useState(null),{addToCart:p,isLoading:g,notify:x,setNotify:v}=Ox(),b=()=>(t.data&&t.data.variants.find(_=>_.variantColor.id===a?.id&&_.variantSize.id===s?.id))?.inventory??0;A.useEffect(()=>{const M=b();if(!a||!s){u(1);return}u(_=>_>M?M>0?M:1:_)},[a,s]);const w=a&&s,N=t.data&&t.data.variants.reduce((M,_)=>M+_.inventory,0)||0,C=b(),T=A.useMemo(()=>{const M=new Map;return t.data&&t.data.variants.forEach(_=>M.set(_.variantColor.id,_.variantColor)),[...M.values()]},[t.data]),j=A.useMemo(()=>{const M=new Map;return t.data&&t.data.variants.forEach(_=>M.set(_.variantSize.id,_.variantSize)),[...M.values()]},[t.data]),E=()=>{const M=t.data&&t.data.category.categoryName?.toUpperCase()||"";return M.includes("giy")||M.includes("dp")?rS:iS},O=async()=>{if(h(null),!a||!s){h("Vui lng chn thuc tnh sn phm!");return}const M=t.data?.variants.find(D=>D.variantColor.id===a.id&&D.variantSize.id===s.id)?.id;l<=0&&h("S lng sn phm t nht l 1!"),p([{variantId:M,quantity:l}])};return c.jsxs(c.Fragment,{children:[c.jsxs(St,{open:t.open,className:"relative w-[68rem] min-h-[20rem] max-h-[55rem] bg-white rounded-lg shadow-xl p-[2rem]",children:[c.jsx("button",{className:"absolute top-[-.5rem] right-[-.5rem] w-[2.4rem] h-[2.4rem] rounded-full flex items-center justify-center bg-gray-800 cursor-pointer hover:scale-110 transition-transform",onClick:()=>e({open:!1,data:null}),children:c.jsx($,{icon:Dr,className:"text-white text-[1.4rem]"})}),c.jsxs("div",{className:"flex gap-[2rem]",children:[c.jsxs("div",{className:"w-[25rem] h-auto",children:[n?c.jsx("img",{src:n,alt:"mainImage",className:"w-[25rem] h-[25rem] rounded-lg object-cover"}):c.jsx("img",{src:t.data?.mainImage,alt:"mainImage",className:"w-[25rem] h-[25rem] rounded-lg object-cover"}),c.jsx("div",{className:"w-full grid grid-cols-4 gap-[1rem] mt-[1rem] overflow-x-auto",children:t.data?.listImageProduct.map(M=>c.jsx("div",{onClick:()=>r(M.imageUrl),children:c.jsx("img",{src:M.imageUrl,alt:`image-${t.data?.productName}`,className:"w-full h-auto rounded-lg object-cover"})},M.id))})]}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("h2",{className:"text-[1.8rem] font-bold text-gray-800 text-limit-1",children:t.data?.productName}),c.jsxs("div",{className:"flex items-center text-gray-600 text-[1.4rem] gap-[1rem]",children:[c.jsxs("span",{children:["M sn phm: ",c.jsx("strong",{children:t.data?.id})]}),c.jsx("span",{className:"border-l border-gray-400 h-[1.5rem]"}),c.jsxs("span",{children:["Tnh trng:"," ",c.jsx("strong",{children:t.data?.variants.some(M=>M.inventory>0)?"Cn hng":"Ht hng"})]})]}),c.jsxs("div",{className:"flex items-center gap-[2rem] ",children:[c.jsx("span",{className:"text-gray-600",children:"Gi:"}),c.jsx("span",{className:"text-red-500 font-bold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(t.data?.price))})]}),c.jsxs("div",{className:"mt-[1rem]",children:[c.jsx("span",{className:"block text-[1.4rem] text-gray-600",children:"Chn mu:"}),c.jsx("div",{className:"flex items-center gap-[1rem] w-full flex-wrap mt-[.5rem]",children:T.map(M=>c.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${a?.id===M.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>o(M),onFocus:()=>h(null),children:[c.jsx($,{icon:E(),className:"bg-gray-100 p-[.2rem]",style:{color:M.hexCode}}),c.jsx("span",{className:"text-[1.4rem] text-gray-600",children:M.name})]},M.id))}),c.jsx("span",{className:"block text-[1.4rem] text-gray-600 mt-[2rem]",children:"Chn size:"}),c.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap mt-[.5rem]",children:j?.map(M=>{const _=a&&t.data?t.data.variants.find(D=>D.variantColor.id===a.id&&D.variantSize.id===M?.id):!1;return c.jsx("button",{className:`flex items-center gap-[.5rem] px-[2rem] py-[.6rem] border rounded-[.5rem] ${_?s?.id===M.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!_,onClick:()=>i(M),onFocus:()=>h(null),children:c.jsx("span",{className:"text-[1.4rem]",children:M.name})},M.id)})}),c.jsxs("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:[c.jsx("span",{className:"block text-[1.4rem] text-gray-600 ",children:"S lng:"}),c.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[c.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${w?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{a&&s&&u(M=>Math.max(1,M-1))},children:c.jsx($,{icon:jl,className:"text-[1rem]"})}),c.jsx("input",{type:"number",value:l,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!w,min:1,onChange:M=>u(Number(M.target.value))}),c.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${w?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{s&&a&&u(M=>Math.min(Number(t.data&&t.data.variants.find(_=>_.variantColor.id===a.id&&_.variantSize.id===s?.id)?.inventory),Number(M)+1))},children:c.jsx($,{icon:co,className:"text-[1rem]"})})]}),c.jsx("span",{className:"text-[1.2rem] text-gray-600 uppercase select-none",children:w?`Cn ${C} sn phm`:N>0?"Cn hng":"Ht hng"})]})]}),c.jsx("p",{className:"text-red-500 text-[1.5rem] mt-[2rem] ml-auto",children:d})]})]}),c.jsxs("div",{className:"flex items-center justify-end mt-[1rem] gap-[1rem]",children:[c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition duration-300 cursor-pointer",onClick:()=>e({open:!1,data:null}),disabled:g,children:"Hy"}),c.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] bg-red-500 rounded-lg text-white hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>O(),disabled:g,children:g?"ang x l...":"Thm vo gi"})]})]}),c.jsx(wh,{showNotify:x.show,content:x.content,duration:1e3,onClose:()=>v({show:!1,content:""})})]})}function gve(){const t=ut(),[e]=A.useState({limit:10,page:1}),[n,r]=A.useState({open:!1,data:null}),{data:s,isLoading:i}=et({queryKey:["populars",e],queryFn:()=>Bse(e)}),a=s?.data??[];return c.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-blue-500",children:"Sn phm ni bt"}),c.jsx(Ht,{to:"/",className:"text-blue-500 text-[1.4rem] hover:underline",children:"Xem tt c "})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{className:"feature-prev-btn absolute top-1/2 left-2 md:left-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsx(EC,{modules:[f7,h7,m7],spaceBetween:10,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".feature-next-btn",prevEl:".feature-prev-btn"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4},1280:{slidesPerView:5,slidesPerGroup:5}},className:"popular-swiper py-8",children:i?Array.from({length:10}).map((o,l)=>c.jsx(Qc,{children:c.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[c.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),c.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),c.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${l}`)):a.map(o=>c.jsxs(Qc,{className:"group rounded-xl border border-gray-200 bg-white px-2 py-4 shadow-product hover:shadow-xl transition-shadow duration-300",children:[c.jsxs("div",{className:"relative w-full h-[18rem] md:h-[20rem] overflow-hidden rounded-xl",children:[c.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-full bg-red-500 px-3 py-1 text-white text-sm font-semibold",children:"Hot"}),c.jsx("img",{src:o.mainImage,alt:o.productName,className:"w-full h-full object-contain bg-white group-hover:scale-105 transition-transform duration-300"}),c.jsx("div",{className:"hidden xl:block absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c.jsxs("div",{className:"hidden xl:flex absolute w-full h-[4rem] bottom-[.5rem] right-[50%] translate-x-[50%] gap-[1rem] items-center justify-center rounded-xl translate-y-[4.5rem] group-hover:translate-y-0 transition duration-300",children:[c.jsxs("button",{className:"w-[10rem] h-[3.4rem] bg-white hover:bg-gray-200 rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:l=>{l.stopPropagation(),r({open:!0,data:o})},children:[c.jsx($,{icon:xf,className:"text-[1.6rem] text-gray-600"}),c.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thm"})]}),c.jsx("button",{className:"w-[4rem] h-[3.4rem] flex items-center justify-center bg-green-500 hover:bg-green-600 rounded-md cursor-pointer transition duration-300",onClick:l=>{l.stopPropagation(),t(`/product-detail/${o.slug}`)},children:c.jsx($,{icon:sa,className:"text-[2rem] text-white"})})]})]}),c.jsxs("div",{className:"mt-4 px-2 text-left",children:[c.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:o.productName}),c.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(o.price)})]}),c.jsxs("div",{className:"flex items-center xl:hidden gap-x-4 justify-end mt-2.5",children:[c.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-[1.2rem] mdtext-[1.4rem]",onClick:l=>{l.stopPropagation(),t(`/product-detail/${o.slug}`)},children:"Chi tit"}),c.jsxs("button",{className:"w-[8rem] md:w-[10rem] h-[3rem] md:h-[3.4rem] text-[1.2rem] mdtext-[1.4rem] bg-red-500 hover:bg-red-600 text-white rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:l=>{l.stopPropagation(),r({open:!0,data:o})},children:[c.jsx($,{icon:xf}),c.jsx("span",{children:"Thm"})]})]})]},o.id))}),c.jsx("button",{className:"feature-next-btn absolute top-1/2 right-2 md:right-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:c.jsx("span",{className:"text-2xl",children:""})})]}),c.jsx(pve,{showAddCart:n,setShowAddCart:r})]})}function xve(){return c.jsxs(c.Fragment,{children:[c.jsx(mve,{}),c.jsx(gve,{})]})}function yve(){return c.jsxs("div",{className:"overflow-hidden",children:[c.jsx(CC,{}),c.jsx("div",{className:"mt-[12rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:c.jsx(Fl,{})})]})}function bve(){const t=rr(),e=ut(),n=t.pathname.split("/").filter(Boolean),r=n.length>1?n.slice(1):[],{data:s,isLoading:i}=et({queryKey:["getAllCategory"],queryFn:()=>Cx()}),a=d=>d.length===0?!1:d.every((h,p)=>h===r[p]),o=d=>{d.length!==0&&(console.log(d.join("/")),e(`/category/${d.join("/")}`))},l=({categories:d,parentSlugChain:h})=>c.jsx(c.Fragment,{children:d.map(p=>{const g=[...h,p.slug],x=a(g),v=p.children&&p.children.length>0,b=r.length>=g.length&&a(g);return c.jsxs("div",{className:"my-2",children:[c.jsxs("div",{onClick:w=>{w.stopPropagation(),o(g)},className:`
                  flex items-center justify-between px-5 py-4 rounded-lg cursor-pointer
                  transition-all
                  ${x?"bg-gray-100":"hover:bg-gray-100"}
                `,children:[c.jsx("span",{children:p.categoryName}),v&&c.jsx($,{icon:b?cg:qr,className:""})]}),v&&b&&c.jsx("div",{className:"ml-4 mt-1 border-l-1 border-pink-400 pl-3",children:c.jsx(l,{categories:p.children,parentSlugChain:g})})]},p.id)})}),u=()=>c.jsx("div",{className:"flex flex-col",children:c.jsxs("li",{className:"flex items-center gap-[1rem] cursor-pointer hover-linear py-[.8rem] px-[1.5rem] rounded-[.5rem]",children:[c.jsx("div",{className:"w-[5rem] h-[5rem] rounded-lg bg-gray-200"}),c.jsx("span",{className:"flex-1 py-4 rounded-lg bg-gray-200"})]})});return c.jsxs("div",{className:"w-[26rem] bg-white px-[1rem] py-[1rem] rounded-[.5rem]",children:[c.jsx("h4",{className:"font-bold mb-[1rem] text-gray-600 pl-[1rem]",children:"Danh mc"}),c.jsx(c.Fragment,{children:i?Array.from({length:5}).map((d,h)=>c.jsx(u,{},h)):c.jsx("div",{className:"space-y-4",children:s&&s.length>0&&s.map(d=>{const h=[d.slug],p=a(h),g=d.children&&d.children.length>0;return c.jsxs("div",{className:"",onClick:x=>{x.stopPropagation(),o(h)},children:[c.jsxs("div",{className:`
                    flex items-center justify-between px-4 py-3 rounded-lg cursor-pointer
                    transition-all group
                    ${p?"bg-gray-100":"hover:bg-gray-100"}
                  `,children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[d.image?c.jsx("img",{src:d.image,alt:d.categoryName,className:"w-[4rem] h-[4rem] rounded-lg object-cover"}):c.jsx("div",{className:"w-[5rem] h-[5rem] rounded-lg bg-gray-100 flex items-center justify-center",children:c.jsx($,{icon:RP,className:"text-[2rem]"})}),c.jsx("span",{className:"",children:d.categoryName})]}),g&&c.jsx($,{icon:p?cg:qr,className:"transition-transform "})]}),p&&g&&c.jsx("div",{className:"mt-2 ml-6 border-l-1 border-pink-400 pl-4",children:c.jsx(l,{categories:d.children,parentSlugChain:h})})]},d.id)})})})]})}function vve(){const n=rr().pathname.split("/").filter(Boolean).slice(1),{data:r,isLoading:s}=et({queryKey:["categories-by-slugs",n],queryFn:()=>ime(n),enabled:n.length>0});return c.jsxs("div",{className:"overflow-hidden",children:[c.jsx(CC,{}),c.jsxs("div",{className:"flex items-center space-x-2 text-[1.4rem] mt-[16.5rem] px-[15rem]",children:[c.jsxs(Ht,{to:"/",className:"block space-x-2 text-blue-800 ",children:[c.jsx("span",{children:"Home"}),c.jsx($,{icon:qr,className:"text-gray-400 cursor-pointer"})]}),s?c.jsx("div",{children:"ang ti..."}):n.map((i,a)=>{const l=r[a].categoryName,u="/category/"+n.slice(0,a+1).join("/");return c.jsxs("span",{children:[c.jsx(Ht,{to:u,className:"text-blue-800 text-[1.4rem]",children:l}),a<n.length-1&&c.jsx($,{icon:qr,className:"text-gray-400 mx-2"})]},i)})]}),c.jsxs("div",{className:"flex gap-[2rem] px-[12rem] mt-[1rem]",children:[c.jsx(bve,{}),c.jsx("div",{className:"w-[80%]",children:c.jsx(Fl,{})})]})]})}const wve="/manage-sell-client/assets/no-product-E6KspzCb.png";function g1(){const{slug1:t,slug2:e,slug3:n}=Xf(),r=[t,e,n].filter(Boolean),[s,i]=A.useState({page:1,limit:20,price:"asc",sort:"popular"}),{data:a,isLoading:o}=et({queryKey:["product-by-category",r,s],queryFn:()=>Wse(r,s)}),l=a?.data||[],u=p=>{i(g=>({...g,sort:p}))},d=p=>{i(g=>({...g,price:p}))},h=p=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p);return c.jsxs("div",{className:"w-full h-auto rounded-lg",children:[c.jsxs("div",{className:"w-full py-4 bg-gray-200 flex items-center space-x-6 px-[2rem] rounded-lg",children:[c.jsx("span",{children:"Sp xp theo"}),c.jsx("button",{type:"button",className:`px-6 h-[3.4rem]  cursor-pointer ${s.sort==="popular"?"bg-red-500 text-white rounded-md hover:bg-red-600":"bg-white"}`,onClick:()=>u("popular"),children:"Ph bin"}),c.jsx("button",{type:"button",className:`px-4 h-[3.4rem] ${s.sort==="latest"?"bg-red-500 text-white rounded-md hover:bg-red-600":"bg-white"} cursor-pointer rounded-md`,onClick:()=>u("latest"),children:"Mi nht"}),c.jsx("button",{type:"button",className:`px-4 h-[3.4rem] ${s.sort==="best_seller"?"bg-red-500 text-white rounded-md hover:bg-red-600":"bg-white"} cursor-pointer rounded-md`,onClick:()=>u("best_seller"),children:"Bn chy"}),c.jsxs("div",{className:"relative w-[20rem] h-[3.4rem] rounded-md bg-white px-4 flex items-center space-x-2 group",children:["Gi: ",s.price==="asc"?"Thp n Cao":"Cao n Thp",c.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform  group-hover:opacity-[1] duration-300",children:[c.jsxs("div",{className:`flex items-center justify-between px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 ${s.price==="asc"?"text-red-500":""}`,onClick:()=>d("asc"),children:["Thp n Cao",s.price==="asc"&&c.jsx($,{icon:yf})]}),c.jsxs("div",{className:`flex items-center justify-between px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 ${s.price==="desc"?"text-red-500":""}`,onClick:()=>d("desc"),children:["Cao n Thp",s.price==="desc"&&c.jsx($,{icon:yf})]})]}),c.jsx("span",{className:"ml-auto",children:c.jsx($,{icon:cg})})]})]}),o?c.jsxs("div",{className:"w-full h-auto flex flex-col gap-y-[2rem] items-center justify-center mt-[15rem]",children:[c.jsx("div",{className:"w-20 h-20 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),"ang ti d liu..."]}):l.length>0?c.jsx("div",{className:"grid grid-cols-5 mt-[2rem]",children:l?.map(p=>c.jsxs(Ht,{to:`/product-detail/${p.slug}`,className:"flex flex-col w-full h-[31rem] border rounded-md border-gray-200 shadow-md hover:shadow-md hover:shadow-red-300 hover:scale-[1.02] transition-transform duration-300 cursor-pointer",children:[c.jsx("img",{src:p.mainImage,alt:`mainImage-${p.productName}`,className:"w-full h-[20rem] rounded-tl-md rounded-tr-md object-cover"}),c.jsxs("div",{className:"flex flex-col flex-1 p-4 space-y-1.5",children:[c.jsx("span",{className:"line-clamp-2 text-[1.5rem]",children:p.productName}),c.jsx("span",{className:"text-red-500",children:h(p.price)}),c.jsxs("div",{className:"flex items-center space-x-5 text-[1.2rem] mt-auto",children:[c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"block mt-0.5",children:p.averageRating}),c.jsx($,{icon:ni,className:"text-yellow-500"})]}),c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx("span",{children:" bn"}),c.jsx("span",{children:p.soldCount})]})]})]})]},p.id))}):c.jsxs("div",{className:"w-full h-[40rem] flex flex-col items-center justify-center select-none",children:[c.jsx("img",{src:wve,alt:"no-product",className:"w-[20rem]"}),c.jsx("span",{children:"Khng c sn phm no!"})]})]})}function Sve({open:t,onClose:e,data:n,refetch:r}){const[s,i]=A.useState(!1);if(!n)return;const a=async()=>{try{i(!0);const o=await Se.patch(`/api/v1/voucher/toggle/${n?.id}`);o.status&&(i(!1),await r(),ue.success(o.message),e())}catch(o){console.log(o),ue.error(o.message)}};return c.jsxs(St,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun"," ",n?.status===Js.ACTIVE?"tt":"kch hot"," voucher ny? ",c.jsx("br",{})]}),c.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:s,children:"Hy"}),c.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":n?.status===Js.ACTIVE?"Tt":"Kch hot"})]})]})}function Nve({open:t,onClose:e,dataDetail:n}){if(!n)return null;const r=u=>new Date(u).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),i=u=>{switch(u){case"ACTIVE":return"bg-green-100 text-green-700";case"INACTIVE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},a=u=>{switch(u){case"ACTIVE":return"ang hot ng";case"INACTIVE":return"Ngng hot ng";default:return u}},o=u=>u==="PERCENT"?"Phn trm":"S tin c nh",l=({icon:u,label:d,value:h})=>c.jsxs("div",{className:"flex items-start gap-[1.5rem] py-[1.2rem] border-b border-gray-100 last:border-b-0",children:[c.jsx("div",{className:"w-[2rem] flex justify-center mt-[0.2rem]",children:c.jsx($,{icon:u,className:"text-blue-500 text-[1.4rem]"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-[1.2rem] text-gray-500 mb-[0.3rem]",children:d}),c.jsx("p",{className:"text-[1.5rem] text-gray-800 font-medium",children:h})]})]});return c.jsxs(St,{open:t,className:"relative w-[60rem] max-h-[76vh] hide-scrollbar overflow-y-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[c.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>e(),children:c.jsx($,{icon:Dr,className:"text-gray-500"})}),c.jsxs("div",{className:"mb-[2rem]",children:[c.jsx("p",{className:"text-[2rem] text-gray-800 font-semibold mb-[0.5rem]",children:"Chi tit voucher"}),c.jsx("p",{className:"text-[1.3rem] text-gray-500",children:"Thng tin y  v voucher khuyn mi"})]}),c.jsx("div",{className:"shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:c.jsxs("div",{className:"flex items-center justify-between mb-[1rem]",children:[c.jsxs("div",{className:"flex items-center gap-[1rem]",children:[c.jsx("div",{className:"w-[4rem] h-[4rem] bg-white rounded-full flex items-center justify-center shadow-sm",children:c.jsx($,{icon:aS,className:"text-blue-600 text-[2rem]"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[1.8rem] font-bold",children:n.name}),c.jsxs("p",{className:"text-[1.3rem] text-gray-600",children:["M voucher: ",n.voucherCode]})]})]}),c.jsx("span",{className:`px-[1.5rem] py-[0.6rem] rounded-full text-[1.2rem] font-semibold ${i(n.status)}`,children:a(n.status)})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-[2rem] mb-[2rem]",children:[c.jsxs("div",{className:"bg-blue-50 shadow-md rounded-[1rem] p-[2rem]",children:[c.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[c.jsx($,{icon:n.type==="PERCENT"?yK:Op,className:"text-blue-600 text-[1.8rem]"}),c.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"Gi tr gim"})]}),c.jsx("p",{className:"text-[2.4rem] font-bold text-blue-600",children:n.type==="PERCENT"?`${n.value}%`:s(n.value)}),c.jsx("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:o(n.type)})]}),c.jsxs("div",{className:"bg-purple-50 shadow-md rounded-[1rem] p-[2rem]",children:[c.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[c.jsx($,{icon:IK,className:"text-purple-600 text-[1.8rem]"}),c.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"S dng"})]}),c.jsxs("p",{className:"text-[2.4rem] font-bold text-purple-600",children:[n.usedCount,"/",n.usageLimit]}),c.jsxs("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:["Cn li: ",n.usageLimit-n.usedCount]})]})]}),c.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:[c.jsx(l,{icon:Op,label:"Gi tr n hng ti thiu",value:s(n.minOrderValue)}),c.jsx(l,{icon:Op,label:"Gim ti a",value:s(n.maxDiscount)}),c.jsx(l,{icon:WK,label:"Phm vi p dng",value:n.isGlobal?"Ton b h thng":"Gii hn"}),c.jsx(l,{icon:R3,label:"Ngy bt u",value:r(n.startDate)}),c.jsx(l,{icon:R3,label:"Ngy kt thc",value:r(n.endDate)})]}),c.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[1.5rem] mb-[2rem]",children:[c.jsx("p",{className:"text-gray-500 mb-[0.5rem]",children:"Thi gian to"}),c.jsx("p",{className:"text-gray-700",children:r(n.createdAt)}),c.jsx("p",{className:"text-gray-500 mt-[1rem] mb-[0.5rem]",children:"Cp nht ln cui"}),c.jsx("p",{className:"text-gray-700",children:r(n.updatedAt)})]}),c.jsx("div",{className:"flex items-center justify-end gap-[1rem]",children:c.jsx("button",{className:"px-[2.5rem] py-[1rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 text-[1.4rem] font-medium transition-colors",onClick:()=>e(),children:"ng"})})]})}function Cve(){const[t,e]=A.useState({open:!1,data:null,action:"create"}),[n,r]=A.useState({open:!1,data:null}),[s,i]=A.useState({name:"",voucherCode:"",status:null}),[a,o]=A.useState({open:!1,dataDetail:null}),{data:l,isLoading:u,refetch:d}=et({queryKey:["vouchers",s],queryFn:()=>WF(s)}),h=l?.data||[],{register:p,handleSubmit:g,formState:{errors:x,isSubmitting:v},watch:b,reset:w}=gi(),N=b("type");A.useEffect(()=>{t.data&&t.action==="edit"&&w({id:t.data.id,name:t.data.name,value:t.data.value,type:t.data.type,maxDiscount:t.data.maxDiscount||void 0,minOrderValue:t.data.minOrderValue||void 0,endDate:pi(t.data.endDate).format("YYYY-MM-DD"),usageLimit:t.data.usageLimit||void 0})},[t,w]);const C=async E=>{try{const O={name:E.name,type:E.type,value:E.value,maxDiscount:E.maxDiscount||0,minOrderValue:E.minOrderValue||0,endDate:new Date(E.endDate).toISOString(),usageLimit:E.usageLimit||0};let M=null;t.action==="create"?M=await Se.post("/api/v1/voucher/createGlobal",O):M=await Se.patch(`/api/v1/voucher/updateGlobal/${E.id}`,O),M.status&&(ue.success(M.message),d(),w(),e({open:!1,data:null,action:"create"}))}catch(O){ue.error(O?.response?.data?.message||"C li xy ra khi to voucher")}},T=()=>{d()},j=E=>{const{name:O,value:M}=E.target;i(_=>({..._,[O]:M}))};return c.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[c.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[c.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Voucher ton cc"}),c.jsx("div",{className:"flex items-center gap-[1.5rem]",children:c.jsxs("button",{onClick:()=>e({open:!0,data:null,action:"create"}),className:"text-white text-[1.4rem] flex gap-2 items-center px-6 py-3 bg-blue-500 rounded-lg hover:bg-blue-600",children:[c.jsx($,{icon:lh}),"To voucher ton cc"]})})]}),c.jsx("div",{className:"mt-[2rem]",children:t.open?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{w({name:"",value:void 0,type:void 0,maxDiscount:void 0,minOrderValue:void 0,endDate:"",usageLimit:void 0}),e({open:!1,data:null,action:"create"})},className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 mb-6",children:[c.jsx($,{icon:lo}),"Quay li danh sch"]}),c.jsx("h4",{className:"text-[1.8rem] font-semibold mb-6",children:"To Voucher Ton Cc"}),c.jsxs("form",{onSubmit:g(C),children:[c.jsx("div",{className:"border border-gray-300 rounded-lg p-8",children:c.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Tn voucher *"}),c.jsx("input",{type:"text",...p("name",{required:"Vui lng nhp tn voucher"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: Gim 50k cho n t 300k"}),x.name&&c.jsx("span",{className:"text-red-500 text-sm",children:x.name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Loi gim gi *"}),c.jsxs("select",{...p("type",{required:"Vui lng chn loi"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",children:[c.jsx("option",{value:"",children:"-- Chn loi --"}),c.jsx("option",{value:Zs.PERCENT,children:"Gim theo phn trm"}),c.jsx("option",{value:Zs.FIXED,children:"Gim gi c nh"})]}),x.type&&c.jsx("span",{className:"text-red-500 text-sm",children:x.type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Gi tr gim *"}),c.jsx("input",{type:"number",...p("value",{required:"Vui lng nhp gi tr",min:{value:1,message:"Gi tr phi  1"},max:N===Zs.PERCENT?{value:100,message:"Ti a 100%"}:void 0}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 focus:border-blue-500 outline-none",placeholder:N===Zs.PERCENT?"VD: 20":"VD: 50000"}),x.value&&c.jsx("span",{className:"text-red-500 text-sm",children:x.value.message})]}),N===Zs.PERCENT&&c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Gim ti a (VN)"}),c.jsx("input",{type:"number",...p("maxDiscount"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: 100000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"n ti thiu (VN)"}),c.jsx("input",{type:"number",...p("minOrderValue"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Ngy ht hn *"}),c.jsx("input",{type:"date",...p("endDate",{required:"Vui lng chn ngy"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500"}),x.endDate&&c.jsx("span",{className:"text-red-500 text-sm",children:x.endDate.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Gii hn s dng (tng)"}),c.jsx("input",{type:"number",...p("usageLimit"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),c.jsx("input",{type:"number",hidden:!0,...p("id")})]})}),c.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[c.jsx("button",{type:"button",onClick:()=>{e({open:!1,data:null,action:"create"}),w()},className:"px-8 py-3 bg-gray-200 hover:bg-gray-300 rounded-lg",disabled:v,children:"Hy"}),c.jsx("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg disabled:opacity-50",children:v?"ang x l...":"To voucher ton cc"})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[c.jsx("input",{type:"text",name:"name",value:s.name,placeholder:"Tm theo tn voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:j}),c.jsx("input",{type:"text",name:"voucherCode",value:s.voucherCode,placeholder:"Tm theo m voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:j}),c.jsxs("select",{name:"status",value:s.status??"",className:"w-64 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:j,children:[c.jsx("option",{value:"",children:"-- Tt c trng thi --"}),c.jsx("option",{value:Js.ACTIVE,children:"Hot ng"}),c.jsx("option",{value:Js.INACTIVE,children:" dng"})]}),c.jsxs("button",{onClick:T,className:"px-8 h-[4rem] rounded-md bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2",children:[c.jsx($,{icon:fi}),"Lc"]})]}),c.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg",children:[c.jsx("thead",{className:"bg-gray-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4",children:"Tn voucher"}),c.jsx("th",{className:"text-left px-6 py-4",children:"Loi gim"}),c.jsx("th",{className:"text-left px-6 py-4",children:"Ht hn"}),c.jsx("th",{className:"text-center px-6 py-4",children:"Trng thi"}),c.jsx("th",{className:"text-center px-6 py-4",children:"Hnh ng"})]})}),c.jsx("tbody",{children:u?c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-8",children:"ang ti..."})}):h.length>0?h.map(E=>c.jsxs("tr",{className:"border-b border-b-gray-300",children:[c.jsx("td",{className:"px-6 py-4",children:E.name}),c.jsx("td",{className:"px-6 py-4",children:E.type===Zs.PERCENT?"Phn trm":"Gi c nh"}),c.jsx("td",{className:"px-6 py-4",children:pi(E.endDate).format("DD/MM/YYYY")}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:`px-6 py-1.5 rounded-full ${E.status===Js.ACTIVE?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:E.status===Js.ACTIVE?"Hot ng":" dng"})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center gap-3",children:[c.jsx("button",{onClick:()=>{r({open:!0,data:E})},className:`px-6 py-1.5 rounded-md ${E.status===Js.ACTIVE?"bg-gray-200 hover:bg-gray-300":"bg-green-500 text-white hover:bg-green-600"}`,children:E.status===Js.ACTIVE?"Tt":"Bt"}),c.jsx("button",{className:"px-6 py-1.5 bg-amber-500 text-white rounded-md hover:bg-amber-600",onClick:()=>{e({open:!0,data:E,action:"edit"})},children:"Sa"}),c.jsx("button",{className:"px-6 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{o({open:!0,dataDetail:E})},children:"Chi tit"})]})})]},E.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"Khng c voucher no"})})})]})]})}),c.jsx(Sve,{open:n.open,onClose:()=>{r({open:!1,data:null})},data:n.data,refetch:d}),c.jsx(Nve,{open:a.open,dataDetail:a.dataDetail,onClose:()=>o({open:!1,dataDetail:null})})]})}function jve(){return c.jsx("div",{children:"FavoriteProduct"})}function kve(){const{data:t,isLoading:e,refetch:n}=et({queryKey:["getSavedVouchers"],queryFn:()=>SC()}),[r,s]=A.useState(""),i=ut(),[a,o]=A.useState("AVAILABLE"),[l,u]=A.useState({open:!1,content:"",isSuccess:!1}),h=(t&&t.data)?.filter(g=>a==="ALL"?!0:g.state===a),p=async g=>{try{(await Se.post(`/api/v1/voucher/save-voucher/${g}`)).status&&(u({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await n())}catch(x){console.log(x),u({open:!0,content:x.message,isSuccess:!1})}};return c.jsxs("div",{className:"p-[1rem] md:p-[2rem]",children:[c.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] text-gray-800",children:"Kho Voucher ca ti"}),c.jsx("div",{className:"w-full py-6 md:py-8 bg-gray-100 flex items-center justify-center mt-4 px-4",children:c.jsxs("div",{className:"w-full max-w-4xl flex flex-col md:flex-row items-center gap-4 md:gap-6 md:space-x-4",children:[c.jsx("p",{className:"text-[1.4rem] md:text-[1.6rem] w-full md:w-auto text-center md:text-left",children:"M voucher"}),c.jsx("input",{type:"text",id:"voucher",name:"voucher",value:r,className:"w-full md:flex-1 bg-white h-[3.5rem] md:h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.2rem] md:px-[1.5rem] text-[1.4rem]",placeholder:"Nhp m voucher...",onChange:g=>s(g.target.value)}),c.jsx("button",{className:`w-full md:w-auto h-[3.5rem] md:h-[4rem] px-6 md:px-8 rounded-md ${r===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"} transition-colors duration-300 text-[1.4rem]`,onClick:()=>p(r),disabled:r==="",children:"Lu voucher"})]})}),c.jsx("div",{className:"flex flex-wrap gap-3 my-6 md:my-8",children:["ALL","AVAILABLE","USED","EXPIRED"].map(g=>c.jsx("button",{onClick:()=>o(g),className:`px-4 py-2 md:px-6 md:py-2 rounded-lg transition-colors text-[1.2rem] md:text-[1.4rem] ${a===g?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g==="ALL"?"Tt c":g==="AVAILABLE"?"Kh dng":g==="USED"?" dng":"Ht hn"},g))}),c.jsx(c.Fragment,{children:e?c.jsx("div",{className:"text-center py-8 text-[1.4rem]",children:"ang ti d liu..."}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-[1.5rem] md:gap-[2rem]",children:h?.map(g=>{const x=["USED","EXPIRED"].includes(g.state);return c.jsxs("div",{className:`flex flex-col md:flex-row items-center bg-gradient-to-r ${x?"from-gray-400 to-gray-500":"from-pink-500 to-violet-600"} rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden`,children:[c.jsxs("div",{className:"w-full md:w-auto",children:[c.jsxs("div",{className:"absolute inset-0 opacity-20",children:[c.jsx("div",{className:"absolute z-0 -top-6 -right-6 w-28 h-28 md:-top-10 md:-right-10 md:w-40 md:h-40 bg-white rounded-full"}),c.jsx("div",{className:"absolute z-0 -bottom-6 -left-6 w-36 h-36 md:-bottom-10 md:-left-10 md:w-56 md:h-56 bg-white rounded-full"})]}),c.jsxs("div",{className:"relative z-10 mb-4 md:mb-0",children:[c.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none line-clamp-2",children:g.name}),c.jsx("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:c.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-4 py-2 md:px-6 md:py-3 rounded-xl font-mono font-bold tracking-wider truncate max-w-[180px] md:max-w-none",children:g.voucherCode})}),c.jsxs("div",{className:"text-[1.6rem] md:text-[2.2rem] font-extrabold mb-1 md:mb-2",children:["Gim"," ",g.type==="PERCENT"?`${g.value}%`:`${g.value}`,g.maxDiscount&&c.jsxs("span",{className:"text-[1rem] md:text-[1.2rem] font-normal ml-1 md:ml-2 block md:inline",children:["(Ti a ",g.maxDiscount.toLocaleString(),")"]})]}),g.usedAt&&c.jsxs("div",{className:"text-[1.1rem] md:text-[1.2rem] opacity-90 mt-1",children:[" s dng: ",new Date(g.usedAt).toLocaleDateString("vi-VN")]})]})]}),c.jsx("div",{className:"relative z-[100] mt-4 md:mt-0 md:ml-auto w-full md:w-auto",children:c.jsx("button",{type:"button",className:`w-full md:w-auto px-6 py-3 md:px-8 md:py-4 rounded-xl ${x?"bg-gray-400":"border bg-white border-red-500 text-red-600 hover:border-red-600 hover:text-red-700"} transition-colors duration-300 text-[1.3rem] md:text-[1.4rem] cursor-pointer`,disabled:x,onClick:()=>{x||i("/")},children:g.usedAt?" s dng":"Dng ngay"})})]},g.id)})})}),c.jsx(wh,{showNotify:l.open,duration:1e3,onClose:()=>u({open:!1,content:"",isSuccess:!1}),isSuccess:l.isSuccess,content:l.content})]})}const Tve=[{label:"Danh sch khch hng",to:"/dashboard/customers"},{label:"Khch  mua",to:"/dashboard/customers/purchased"},{label:"Khch cha mua",to:"/dashboard/customers/no-order"},{label:"Thng k",to:"/dashboard/customers/statistic"}];function Eve(){const[t,e]=A.useState(""),n=ut(),r=()=>{t.trim()?n({search:`?keyword=${encodeURIComponent(t.trim())}`}):n({search:""})},s=i=>{i.key==="Enter"&&r()};return c.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[c.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:"Qun l khch hng thnh vin"}),c.jsxs("div",{className:"space-x-6 mb-8",children:[c.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:s,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:i=>e(i.target.value)}),c.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>r(),children:"Tm kim"})]}),c.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:Tve.map(i=>c.jsx(Lw,{to:i.to,end:!0,className:({isActive:a})=>`pb-3 px-8 font-medium transition duration-300
                ${a?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:i.label},i.to))}),c.jsx("div",{children:c.jsx(Fl,{})})]})}const MC=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return console.log(e),await Se.get("/api/v1/customer/get-customer",{params:e})},Mve=async t=>(await Se.get(`/api/v1/customer/by-id/${t}`)).data,Ave=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await Se.get("/api/v1/orders/guests",{params:e})},Ove=async t=>(await Se.get("/api/v1/orders/guest-by-email",{params:{guestEmail:t}})).data,Pve=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await Se.get("/api/v1/orders/statistic-guest",{params:e})},_ve=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await Se.get("/api/v1/orders/statistic-guest/top-guest",{params:e})).data},Dve=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await Se.get("/api/v1/customer/statistic",{params:e})},Ive=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await Se.get("/api/v1/customer/statistic/top-customer",{params:e})).data};function AC({customers:t,isLoading:e}){const n=ut();return c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),c.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),c.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),c.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),c.jsx("tbody",{children:e?c.jsx("tr",{children:c.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:c.jsxs("div",{className:"flex justify-center items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):t.length>0?t.map((r,s)=>c.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[c.jsx("td",{className:"px-6 py-4 text-start",children:s+1}),c.jsx("td",{className:"px-6 py-4",children:r.user.username}),c.jsx("td",{className:"px-6 py-4",children:r.user.phone||"-"}),c.jsx("td",{className:"px-6 py-4",children:r.user.email||"-"}),c.jsx("td",{className:"px-6 py-4 text-center",children:r.user.orders.length}),c.jsx("td",{className:"px-6 py-4 text-center",children:pi(r.createdAt).format("DD/MM/YYYY")}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center gap-3",children:[c.jsx("button",{onClick:()=>n(`/dashboard/detail-customer/${r.customerCode}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),c.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng ID: ${r.id}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},r.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]})})}function Lve(){const[t]=xu(),e=t.get("keyword")||"",[n,r]=A.useState(1),s=30,{data:i,isLoading:a,isError:o,refetch:l}=et({queryKey:["customers",e,n],queryFn:()=>MC({keyword:e,page:n,limit:s})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?c.jsx("div",{className:" py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):o?c.jsx("div",{className:"py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),c.jsx("button",{onClick:()=>l(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):c.jsxs("div",{children:[c.jsx(AC,{customers:u,isLoading:a}),c.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[c.jsx("button",{onClick:()=>r(h=>Math.max(h-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:zl,className:"text-gray-500"})}),Array.from({length:d},(h,p)=>p+1).filter(h=>Math.abs(h-n)<=2).map(h=>c.jsx("button",{onClick:()=>r(h),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===h?"bg-blue-500 text-white":"bg-gray-200"}`,children:h},h)),c.jsx("button",{onClick:()=>r(h=>Math.min(h+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:qr,className:"text-gray-500"})})]})]})}function Rve(){const[t]=xu(),e=t.get("keyword")||"",[n,r]=A.useState(1),s=30,{data:i,isLoading:a,isError:o,refetch:l}=et({queryKey:["customers","PURCHASED",e,n],queryFn:()=>MC({keyword:e,page:n,limit:s,state:"PURCHASED"})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?c.jsx("div",{className:" py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):o?c.jsx("div",{className:"py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),c.jsx("button",{onClick:()=>l(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):c.jsxs("div",{children:[c.jsx(AC,{customers:u,isLoading:a}),c.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[c.jsx("button",{onClick:()=>r(h=>Math.max(h-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:zl,className:"text-gray-500"})}),Array.from({length:d},(h,p)=>p+1).filter(h=>Math.abs(h-n)<=2).map(h=>c.jsx("button",{onClick:()=>r(h),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===h?"bg-blue-500 text-white":"bg-gray-200"}`,children:h},h)),c.jsx("button",{onClick:()=>r(h=>Math.min(h+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:qr,className:"text-gray-500"})})]})]})}function Fve(){const[t]=xu(),e=t.get("keyword")||"",[n,r]=A.useState(1),{data:s,isLoading:i,isError:a,refetch:o}=et({queryKey:["customers",e,n],queryFn:()=>MC({keyword:e,page:n,limit:30,state:"NO_ORDER"})}),l=s?.data||[],u=s?.pagination?.totalPages||1;return i?c.jsx("div",{className:" py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):a?c.jsx("div",{className:"py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),c.jsx("button",{onClick:()=>o(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):c.jsxs("div",{children:[c.jsx(AC,{customers:l,isLoading:i}),c.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[c.jsx("button",{onClick:()=>r(d=>Math.max(d-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:zl,className:"text-gray-500"})}),Array.from({length:u},(d,h)=>h+1).filter(d=>Math.abs(d-n)<=2).map(d=>c.jsx("button",{onClick:()=>r(d),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===d?"bg-blue-500 text-white":"bg-gray-200"}`,children:d},d)),c.jsx("button",{onClick:()=>r(d=>Math.min(d+1,u)),disabled:n===u,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:qr,className:"text-gray-500"})})]})]})}function zve(){const t=ut(),[e,n]=A.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=A.useState({startDate:"",endDate:""}),[i,a]=A.useState(e),{data:o,isLoading:l,isError:u,refetch:d}=et({queryKey:["statistic",i],queryFn:()=>Dve(i)}),h=o&&o.data,{data:p,isLoading:g,refetch:x}=et({queryKey:["customerTop"],queryFn:()=>Ive(r)}),v=j=>{const E=j.target.value;E&&n(O=>({...O,groupBy:E}))},b=j=>{const{name:E,value:O}=j.target;n(M=>({...M,[E]:O}))},w=j=>{const{name:E,value:O}=j.target;s(M=>({...M,[E]:O}))},N=()=>{a(e)},C=()=>{s(r),x()},T=j=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j);return l?c.jsx("div",{className:" py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?c.jsx("div",{className:"py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),c.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):c.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[c.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[c.jsx($,{icon:fi}),c.jsx("span",{children:"B lc thng k"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),c.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[c.jsx("option",{value:"day",children:"Ngy"}),c.jsx("option",{value:"week",children:"Tun"}),c.jsx("option",{value:"month",children:"Thng"}),c.jsx("option",{value:"year",children:"Nm"})]})]}),c.jsxs("div",{className:"flex items-end gap-4",children:[c.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>N(),children:[c.jsx($,{icon:ms}),c.jsx("span",{children:"p dng"})]}),c.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:c.jsx($,{icon:cS})})]})]})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Tng khch"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.reduce((j,E)=>j+E.totalCustomers,0)})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.reduce((j,E)=>j+E.totalOrders,0)})]}),c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:T(h.reduce((j,E)=>j+E.totalRevenue,0))})]}),c.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T(h.reduce((j,E)=>j+E.totalRevenue,0)/h.reduce((j,E)=>j+E.totalOrders,0)||0)})]})]}),h&&h.length>0?c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),c.jsxs("div",{className:"overflow-x-auto flex flex-col items-start gap-[2rem]",children:[c.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),c.jsx("tbody",{children:h.map((j,E)=>c.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[c.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(j.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):j.period}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalCustomers}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalOrders}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:T(j.totalRevenue)}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:T(j.avgOrderValue)})]},E))})]}),c.jsxs("div",{className:"w-[60rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[c.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),c.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>C(),children:[c.jsx($,{icon:fi}),c.jsx("span",{children:"Lc"})]})]}),c.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),c.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),c.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),c.jsx("tbody",{children:g?c.jsx("tr",{children:c.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):c.jsx(c.Fragment,{children:p?.length>0?p.map(j=>c.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/detail-customer/${j.customerCode}`),children:[c.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:j.fullName}),c.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:j.email}),c.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:T(j.totalRevenue)})]},j.customerEmail)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):c.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[c.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}function Vve(){const{customerCode:t}=Xf(),e=ut(),{data:n,isLoading:r,isError:s}=et({queryKey:["customer-detail",t],queryFn:()=>Mve(t)});if(r)return c.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return c.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],o=u=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),l=n.user?.address?.find(u=>u.isDefault);return c.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),c.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[c.jsx($,{icon:lo}),c.jsx("span",{children:"Quay li"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[c.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[c.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),c.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Tn ti khon:"})," ",i?.username||"-"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Ngy ng k:"})," ",pi(n.createdAt).format("DD/MM/YYYY HH:mm")]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),c.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[c.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),c.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Ngy sinh:"})," ",n?.birthday??"Cha cp nht"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Tnh:"})," ",l.province??"Cha cp nht"," "]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Qun:"})," ",l.district??"Cha cp nht"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Huyn:"})," ",l.ward??"Cha cp nht"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"a ch chi tit:"})," ",l.addressDetail??"Cha cp nht"]})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),a.length>0?c.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[c.jsx("thead",{className:"bg-gray-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),c.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),c.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),c.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),c.jsx("tbody",{children:a.map(u=>c.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-5",children:u.orderCode}),c.jsx("td",{className:"px-4 py-5",children:pi(u.createdAt).format("HH:mm DD/MM/YYYY")}),c.jsx("td",{className:"px-4 py-5 text-center",children:c.jsx("span",{className:"px-3 py-1 rounded-full",children:GA(u.status).text||"ang x l"})}),c.jsx("td",{className:"px-4 py-5 text-right font-medium",children:o(u.totalAmount)})]},u.id))})]}):c.jsx("p",{className:"text-gray-500 text-center",children:"Khch hng cha c n hng no"})]})]})}function p7(){const t=ut(),[e,n]=A.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=A.useState({startDate:"",endDate:""}),[i,a]=A.useState(e),{data:o,isLoading:l,isError:u,refetch:d}=et({queryKey:["statisticGuest",i],queryFn:()=>Pve(i)}),h=o&&o.data,{data:p,isLoading:g,refetch:x}=et({queryKey:["statisticGuest"],queryFn:()=>_ve(r)}),v=j=>{const E=j.target.value;E&&n(O=>({...O,groupBy:E}))},b=j=>{const{name:E,value:O}=j.target;n(M=>({...M,[E]:O}))},w=j=>{const{name:E,value:O}=j.target;s(M=>({...M,[E]:O}))},N=()=>{a(e)},C=()=>{s(r),x()},T=j=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j);return l?c.jsx("div",{className:" py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?c.jsx("div",{className:"py-20",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"text-red-500 mb-4",children:c.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),c.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):c.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[c.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[c.jsx($,{icon:fi}),c.jsx("span",{children:"B lc thng k"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),c.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[c.jsx("option",{value:"day",children:"Ngy"}),c.jsx("option",{value:"week",children:"Tun"}),c.jsx("option",{value:"month",children:"Thng"}),c.jsx("option",{value:"year",children:"Nm"})]})]}),c.jsxs("div",{className:"flex items-end gap-4",children:[c.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>N(),children:[c.jsx($,{icon:ms}),c.jsx("span",{children:"p dng"})]}),c.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:c.jsx($,{icon:cS})})]})]})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Tng khch"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.reduce((j,E)=>j+E.totalGuests,0)})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.reduce((j,E)=>j+E.totalOrders,0)})]}),c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:T(h.reduce((j,E)=>j+E.totalRevenue,0))})]}),c.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[c.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T(h.reduce((j,E)=>j+E.totalRevenue,0)/h.reduce((j,E)=>j+E.totalOrders,0)||0)})]})]}),h&&h.length>0?c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),c.jsxs("div",{className:"overflow-x-auto flex xl:flex-row flex-col items-start gap-[2rem]",children:[c.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),c.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),c.jsx("tbody",{children:h.map((j,E)=>c.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[c.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(j.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):j.period}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalGuests}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalOrders}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:T(j.totalRevenue)}),c.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:T(j.avgOrderValue)})]},E))})]}),c.jsxs("div",{className:"w-[45rem] h-[40rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[c.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),c.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),c.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>C(),children:[c.jsx($,{icon:fi}),c.jsx("span",{children:"Lc"})]})]}),c.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),c.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),c.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),c.jsx("tbody",{children:g?c.jsx("tr",{children:c.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):c.jsx(c.Fragment,{children:p?.length>0?p.map(j=>c.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/guest-detail/${j.customerEmail}`),children:[c.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:j.customerName}),c.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:j.customerEmail}),c.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:T(j.totalRevenue)})]},j.customerEmail)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):c.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[c.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}const $ve=[{label:"Danh sch khch hng",to:"/dashboard/guest-customers"},{label:"Thng k",to:"/dashboard/guest-customers/statistic"}];function Bve(){const[t,e]=A.useState(""),n=ut(),s=rr().pathname==="/dashboard/guest-customers",[i,a]=A.useState({limit:30,page:1,keyword:""}),o=()=>{a(g=>({...g,keyword:t}))},l=g=>{g.key==="Enter"&&o()},{data:u,isLoading:d}=et({queryKey:["guestCustomers",i],queryFn:()=>Ave(i)}),h=u&&u.data,p=u?.pagination?.totalPages||1;return c.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[c.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:s?"Qun l khch hng vng lai":"Thng k khch hng vng lai"}),s&&c.jsxs("div",{className:"space-x-6 mb-8",children:[c.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:l,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:g=>e(g.target.value)}),c.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>o(),children:"Tm kim"})]}),c.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:$ve.map(g=>c.jsx(Lw,{to:g.to,end:!0,className:({isActive:x})=>`pb-3 px-8 font-medium transition duration-300
                ${x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:g.label},g.to))}),s?c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),c.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),c.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),c.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),c.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),c.jsx("tbody",{children:d?c.jsx("tr",{children:c.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:c.jsxs("div",{className:"flex justify-center items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):h.length>0?h.map((g,x)=>c.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[c.jsx("td",{className:"px-6 py-4 text-start",children:x+1}),c.jsx("td",{className:"px-6 py-4",children:g.fullName}),c.jsx("td",{className:"px-6 py-4",children:g.phone||"-"}),c.jsx("td",{className:"px-6 py-4",children:g.email||"-"}),c.jsx("td",{className:"px-6 py-4 text-center",children:g.totalOrders}),c.jsx("td",{className:"px-6 py-4 text-center",children:pi(g.createdAt).format("DD/MM/YYYY")}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center gap-3",children:[c.jsx("button",{onClick:()=>n(`/dashboard/guest-detail/${g.email}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),c.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng: ${g.fullName}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},g.email)):c.jsx("tr",{children:c.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]}),c.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[c.jsx("button",{onClick:()=>a(g=>({...g,page:Math.max(g.page-1,1)})),disabled:i.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:zl,className:"text-gray-500"})}),Array.from({length:p},(g,x)=>x+1).filter(g=>Math.abs(g-i.page)<=2).map(g=>c.jsx("button",{onClick:()=>a(x=>({...x,page:g})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${i.page===g?"bg-blue-500 text-white":"bg-gray-200"}`,children:g},g)),c.jsx("button",{onClick:()=>a(g=>({...g,page:Math.min(g.page+1,p)})),disabled:i.page===p,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:c.jsx($,{icon:qr,className:"text-gray-500"})})]})]}):c.jsx(p7,{})]})}function Hve(){const{guestEmail:t}=Xf(),e=ut(),{data:n,isLoading:r,isError:s}=et({queryKey:["guestDetail",t],queryFn:()=>Ove(t)});if(console.log(n),r)return c.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return c.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],o=l=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l);return c.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),c.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[c.jsx($,{icon:lo}),c.jsx("span",{children:"Quay li"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[c.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[c.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),c.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),c.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[c.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),c.jsx("div",{className:"space-y-5 text-[1.4rem]",children:c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"a ch:"})," ",n?.address]})})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),n.orders.length>0?c.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[c.jsx("thead",{className:"bg-gray-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),c.jsx("th",{className:"px-4 py-5 text-left",children:"H tn"}),c.jsx("th",{className:"px-4 py-5 text-left",children:"S in thoi"}),c.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),c.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),c.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),c.jsx("tbody",{children:n.orders.map(l=>c.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-5",children:l.orderCode}),c.jsx("td",{className:"px-4 py-5",children:l.customerName}),c.jsx("td",{className:"px-4 py-5",children:l.customerPhone}),c.jsx("td",{className:"px-4 py-5",children:pi(l.createdAt).format("HH:mm DD/MM/YYYY")}),c.jsx("td",{className:"px-4 py-5 text-center",children:c.jsx("span",{className:"px-3 py-1 rounded-full",children:GA(l.status).text||"ang x l"})}),c.jsx("td",{className:"px-4 py-5 text-right font-medium",children:o(l.totalAmount)})]},l.id))})]}):c.jsx("p",{className:"text-gray-500 mt-16 text-center",children:"Khch hng cha c n hng no"})]})]})}function Uve(){return c.jsxs(c.Fragment,{children:[c.jsxs(u$,{children:[c.jsxs(Je,{path:"/",element:c.jsx(aye,{children:c.jsx(yve,{})}),children:[c.jsx(Je,{index:!0,element:c.jsx(xve,{})}),c.jsx(Je,{path:"about",element:c.jsx(rG,{})})]}),c.jsxs(Je,{path:"category",element:c.jsx(vve,{}),children:[c.jsx(Je,{path:":slug1",element:c.jsx(g1,{})}),c.jsx(Je,{path:":slug1/:slug2",element:c.jsx(g1,{})}),c.jsx(Je,{path:":slug1/:slug2/:slug3",element:c.jsx(g1,{})})]}),c.jsxs(Je,{element:c.jsx(sG,{}),children:[c.jsx(Je,{path:"/login",element:c.jsx(nG,{})}),c.jsx(Je,{path:"/register",element:c.jsx(oye,{})})]}),c.jsxs(Je,{element:c.jsx(yye,{}),children:[c.jsxs(Je,{path:"customer",element:c.jsx(mA,{children:c.jsx(cye,{})}),children:[c.jsx(Je,{index:!0,element:c.jsx(Bc,{to:"account/profile",replace:!0})}),c.jsx(Je,{path:"account/profile",element:c.jsx(Aye,{})}),c.jsx(Je,{path:"account/address",element:c.jsx(Tye,{})}),c.jsx(Je,{path:"account/privacy",element:c.jsx(Mye,{})}),c.jsx(Je,{path:"order",element:c.jsx(wye,{})}),c.jsx(Je,{path:"my-voucher",element:c.jsx(kve,{})}),c.jsx(Je,{path:"favorite",element:c.jsx(jve,{})})]}),c.jsx(Je,{path:"cart/detail",element:c.jsx(Sye,{})}),c.jsx(Je,{path:"checkout",element:c.jsx(kye,{})}),c.jsx(Je,{path:"payment-momo-redirect",element:c.jsx(Rye,{})}),c.jsx(Je,{path:"order-confirmation/:orderCode",element:c.jsx(Pye,{})}),c.jsx(Je,{path:"look-up-order",element:c.jsx(Lye,{})}),c.jsx(Je,{path:"product-detail/:productSlug",element:c.jsx(Dye,{})})]}),c.jsxs(Je,{path:"/dashboard",element:c.jsx(mA,{roles:[Ut.ADMIN,Ut.STAFF],redirectTo:"/dashboard/login",children:c.jsx(oG,{})}),children:[c.jsx(Je,{index:!0,element:c.jsx(FZ,{})}),c.jsx(Je,{path:"products",element:c.jsx(ame,{})}),c.jsx(Je,{path:"categories",element:c.jsx(cme,{})}),c.jsx(Je,{path:"profile",element:c.jsx(ume,{})}),c.jsx(Je,{path:"orders/list-order",element:c.jsx(Qxe,{})}),c.jsx(Je,{path:"staff",element:c.jsx(rye,{})}),c.jsxs(Je,{path:"customers",element:c.jsx(Eve,{}),children:[c.jsx(Je,{index:!0,element:c.jsx(Lve,{})}),c.jsx(Je,{path:"purchased",element:c.jsx(Rve,{})}),c.jsx(Je,{path:"no-order",element:c.jsx(Fve,{})}),c.jsx(Je,{path:"statistic",element:c.jsx(zve,{})})]}),c.jsx(Je,{path:"detail-customer/:customerCode",element:c.jsx(Vve,{})}),c.jsx(Je,{path:"guest-detail/:guestEmail",element:c.jsx(Hve,{})}),c.jsx(Je,{path:"guest-customers",element:c.jsx(Bve,{}),children:c.jsx(Je,{path:"statistic",element:c.jsx(p7,{})})}),c.jsx(Je,{path:"banner-slide",element:c.jsx(Fye,{})}),c.jsx(Je,{path:"discount",element:c.jsx(Cve,{})})]}),c.jsx(Je,{path:"/dashboard/login",element:c.jsx(Oye,{children:c.jsx(tG,{})})}),c.jsx(Je,{path:"*",element:c.jsx(sye,{})}),c.jsx(Je,{path:"/unauthorized",element:c.jsx(iye,{})})]}),c.jsx(C9,{position:"top-right",autoClose:3e3})]})}const Wve=A.createContext(null);function qve({children:t}){const[e,n]=A.useState(null);return c.jsx(Wve.Provider,{value:{currCategory:e,setCurrCategory:n},children:t})}const Kve=new SH;yV.createRoot(document.getElementById("root")).render(c.jsx(A.StrictMode,{children:c.jsx(D$,{children:c.jsx(NH,{client:Kve,children:c.jsx(qve,{children:c.jsx(LH,{children:c.jsx(Uve,{})})})})})}));
