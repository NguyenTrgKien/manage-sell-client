function PV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nb={exports:{}},yd={},Sb={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3;function OV(){if(j3)return at;j3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(B,J,ne){this.props=B,this.context=J,this.refs=v,this.updater=ne||g}b.prototype.isReactComponent={},b.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=b.prototype;function S(B,J,ne){this.props=B,this.context=J,this.refs=v,this.updater=ne||g}var j=S.prototype=new w;j.constructor=S,x(j,b.prototype),j.isPureReactComponent=!0;var M=Array.isArray,C=Object.prototype.hasOwnProperty,A={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function E(B,J,ne){var se,fe={},Te=null,le=null;if(J!=null)for(se in J.ref!==void 0&&(le=J.ref),J.key!==void 0&&(Te=""+J.key),J)C.call(J,se)&&!P.hasOwnProperty(se)&&(fe[se]=J[se]);var ee=arguments.length-2;if(ee===1)fe.children=ne;else if(1<ee){for(var ie=Array(ee),he=0;he<ee;he++)ie[he]=arguments[he+2];fe.children=ie}if(B&&B.defaultProps)for(se in ee=B.defaultProps,ee)fe[se]===void 0&&(fe[se]=ee[se]);return{$$typeof:t,type:B,key:Te,ref:le,props:fe,_owner:A.current}}function D(B,J){return{$$typeof:t,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function _(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ne){return J[ne]})}var z=/\/+/g;function G(B,J){return typeof B=="object"&&B!==null&&B.key!=null?_(""+B.key):J.toString(36)}function H(B,J,ne,se,fe){var Te=typeof B;(Te==="undefined"||Te==="boolean")&&(B=null);var le=!1;if(B===null)le=!0;else switch(Te){case"string":case"number":le=!0;break;case"object":switch(B.$$typeof){case t:case e:le=!0}}if(le)return le=B,fe=fe(le),B=se===""?"."+G(le,0):se,M(fe)?(ne="",B!=null&&(ne=B.replace(z,"$&/")+"/"),H(fe,J,ne,"",function(he){return he})):fe!=null&&(L(fe)&&(fe=D(fe,ne+(!fe.key||le&&le.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+B)),J.push(fe)),1;if(le=0,se=se===""?".":se+":",M(B))for(var ee=0;ee<B.length;ee++){Te=B[ee];var ie=se+G(Te,ee);le+=H(Te,J,ne,ie,fe)}else if(ie=p(B),typeof ie=="function")for(B=ie.call(B),ee=0;!(Te=B.next()).done;)Te=Te.value,ie=se+G(Te,ee++),le+=H(Te,J,ne,ie,fe);else if(Te==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return le}function W(B,J,ne){if(B==null)return B;var se=[],fe=0;return H(B,se,"","",function(Te){return J.call(ne,Te,fe++)}),se}function R(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(ne){(B._status===0||B._status===-1)&&(B._status=1,B._result=ne)},function(ne){(B._status===0||B._status===-1)&&(B._status=2,B._result=ne)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var $={current:null},V={transition:null},K={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:V,ReactCurrentOwner:A};function X(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:W,forEach:function(B,J,ne){W(B,function(){J.apply(this,arguments)},ne)},count:function(B){var J=0;return W(B,function(){J++}),J},toArray:function(B){return W(B,function(J){return J})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},at.Component=b,at.Fragment=n,at.Profiler=s,at.PureComponent=S,at.StrictMode=r,at.Suspense=c,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,at.act=X,at.cloneElement=function(B,J,ne){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var se=x({},B.props),fe=B.key,Te=B.ref,le=B._owner;if(J!=null){if(J.ref!==void 0&&(Te=J.ref,le=A.current),J.key!==void 0&&(fe=""+J.key),B.type&&B.type.defaultProps)var ee=B.type.defaultProps;for(ie in J)C.call(J,ie)&&!P.hasOwnProperty(ie)&&(se[ie]=J[ie]===void 0&&ee!==void 0?ee[ie]:J[ie])}var ie=arguments.length-2;if(ie===1)se.children=ne;else if(1<ie){ee=Array(ie);for(var he=0;he<ie;he++)ee[he]=arguments[he+2];se.children=ee}return{$$typeof:t,type:B.type,key:fe,ref:Te,props:se,_owner:le}},at.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},at.createElement=E,at.createFactory=function(B){var J=E.bind(null,B);return J.type=B,J},at.createRef=function(){return{current:null}},at.forwardRef=function(B){return{$$typeof:l,render:B}},at.isValidElement=L,at.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:R}},at.memo=function(B,J){return{$$typeof:u,type:B,compare:J===void 0?null:J}},at.startTransition=function(B){var J=V.transition;V.transition={};try{B()}finally{V.transition=J}},at.unstable_act=X,at.useCallback=function(B,J){return $.current.useCallback(B,J)},at.useContext=function(B){return $.current.useContext(B)},at.useDebugValue=function(){},at.useDeferredValue=function(B){return $.current.useDeferredValue(B)},at.useEffect=function(B,J){return $.current.useEffect(B,J)},at.useId=function(){return $.current.useId()},at.useImperativeHandle=function(B,J,ne){return $.current.useImperativeHandle(B,J,ne)},at.useInsertionEffect=function(B,J){return $.current.useInsertionEffect(B,J)},at.useLayoutEffect=function(B,J){return $.current.useLayoutEffect(B,J)},at.useMemo=function(B,J){return $.current.useMemo(B,J)},at.useReducer=function(B,J,ne){return $.current.useReducer(B,J,ne)},at.useRef=function(B){return $.current.useRef(B)},at.useState=function(B){return $.current.useState(B)},at.useSyncExternalStore=function(B,J,ne){return $.current.useSyncExternalStore(B,J,ne)},at.useTransition=function(){return $.current.useTransition()},at.version="18.3.1",at}var C3;function bu(){return C3||(C3=1,Sb.exports=OV()),Sb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function _V(){if(k3)return yd;k3=1;var t=bu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var d,f={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:g,props:f,_owner:s.current}}return yd.Fragment=n,yd.jsx=a,yd.jsxs=a,yd}var T3;function DV(){return T3||(T3=1,Nb.exports=_V()),Nb.exports}var o=DV(),T=bu();const be=_0(T),E3=PV({__proto__:null,default:be},[T]);var Om={},jb={exports:{}},Sr={},Cb={exports:{}},kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3;function IV(){return M3||(M3=1,(function(t){function e(V,K){var X=V.length;V.push(K);e:for(;0<X;){var B=X-1>>>1,J=V[B];if(0<s(J,K))V[B]=K,V[X]=J,X=B;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],X=V.pop();if(X!==K){V[0]=X;e:for(var B=0,J=V.length,ne=J>>>1;B<ne;){var se=2*(B+1)-1,fe=V[se],Te=se+1,le=V[Te];if(0>s(fe,X))Te<J&&0>s(le,fe)?(V[B]=le,V[Te]=X,B=Te):(V[B]=fe,V[se]=X,B=se);else if(Te<J&&0>s(le,X))V[B]=le,V[Te]=X,B=Te;else break e}}return K}function s(V,K){var X=V.sortIndex-K.sortIndex;return X!==0?X:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(V){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=V)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function M(V){if(v=!1,j(V),!x)if(n(c)!==null)x=!0,R(C);else{var K=n(u);K!==null&&$(M,K.startTime-V)}}function C(V,K){x=!1,v&&(v=!1,w(E),E=-1),g=!0;var X=p;try{for(j(K),f=n(c);f!==null&&(!(f.expirationTime>K)||V&&!_());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var J=B(f.expirationTime<=K);K=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),j(K)}else r(c);f=n(c)}if(f!==null)var ne=!0;else{var se=n(u);se!==null&&$(M,se.startTime-K),ne=!1}return ne}finally{f=null,p=X,g=!1}}var A=!1,P=null,E=-1,D=5,L=-1;function _(){return!(t.unstable_now()-L<D)}function z(){if(P!==null){var V=t.unstable_now();L=V;var K=!0;try{K=P(!0,V)}finally{K?G():(A=!1,P=null)}}else A=!1}var G;if(typeof S=="function")G=function(){S(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=z,G=function(){W.postMessage(null)}}else G=function(){b(z,0)};function R(V){P=V,A||(A=!0,G())}function $(V,K){E=b(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,R(C))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var X=p;p=K;try{return V()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=p;p=V;try{return K()}finally{p=X}},t.unstable_scheduleCallback=function(V,K,X){var B=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,V={id:d++,callback:K,priorityLevel:V,startTime:X,expirationTime:J,sortIndex:-1},X>B?(V.sortIndex=X,e(u,V),n(c)===null&&V===n(u)&&(v?(w(E),E=-1):v=!0,$(M,X-B))):(V.sortIndex=J,e(c,V),x||g||(x=!0,R(C))),V},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(V){var K=p;return function(){var X=p;p=K;try{return V.apply(this,arguments)}finally{p=X}}}})(kb)),kb}var A3;function LV(){return A3||(A3=1,Cb.exports=IV()),Cb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P3;function RV(){if(P3)return Sr;P3=1;var t=bu(),e=LV();function n(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(h,m){a(h,m),a(h+"Capture",m)}function a(h,m){for(s[h]=m,h=0;h<m.length;h++)r.add(m[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function g(h,m,y,N){if(y!==null&&y.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return N?!1:y!==null?!y.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function x(h,m,y,N){if(m===null||typeof m>"u"||g(h,m,y,N))return!0;if(N)return!1;if(y!==null)switch(y.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(h,m,y,N,k,O,I){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=N,this.attributeNamespace=k,this.mustUseProperty=y,this.propertyName=h,this.type=m,this.sanitizeURL=O,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];b[m]=new v(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(w,S);b[m]=new v(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(w,S);b[m]=new v(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(w,S);b[m]=new v(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function j(h,m,y,N){var k=b.hasOwnProperty(m)?b[m]:null;(k!==null?k.type!==0:N||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,y,k,N)&&(y=null),N||k===null?p(m)&&(y===null?h.removeAttribute(m):h.setAttribute(m,""+y)):k.mustUseProperty?h[k.propertyName]=y===null?k.type===3?!1:"":y:(m=k.attributeName,N=k.attributeNamespace,y===null?h.removeAttribute(m):(k=k.type,y=k===3||k===4&&y===!0?"":""+y,N?h.setAttributeNS(N,m,y):h.setAttribute(m,y))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),A=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),_=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),V=Symbol.iterator;function K(h){return h===null||typeof h!="object"?null:(h=V&&h[V]||h["@@iterator"],typeof h=="function"?h:null)}var X=Object.assign,B;function J(h){if(B===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);B=m&&m[1]||""}return`
`+B+h}var ne=!1;function se(h,m){if(!h||ne)return"";ne=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ae){var N=ae}Reflect.construct(h,[],m)}else{try{m.call()}catch(ae){N=ae}h.call(m.prototype)}else{try{throw Error()}catch(ae){N=ae}h()}}catch(ae){if(ae&&N&&typeof ae.stack=="string"){for(var k=ae.stack.split(`
`),O=N.stack.split(`
`),I=k.length-1,U=O.length-1;1<=I&&0<=U&&k[I]!==O[U];)U--;for(;1<=I&&0<=U;I--,U--)if(k[I]!==O[U]){if(I!==1||U!==1)do if(I--,U--,0>U||k[I]!==O[U]){var Y=`
`+k[I].replace(" at new "," at ");return h.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",h.displayName)),Y}while(1<=I&&0<=U);break}}}finally{ne=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?J(h):""}function fe(h){switch(h.tag){case 5:return J(h.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return h=se(h.type,!1),h;case 11:return h=se(h.type.render,!1),h;case 1:return h=se(h.type,!0),h;default:return""}}function Te(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case P:return"Fragment";case A:return"Portal";case D:return"Profiler";case E:return"StrictMode";case G:return"Suspense";case H:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case _:return(h.displayName||"Context")+".Consumer";case L:return(h._context.displayName||"Context")+".Provider";case z:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case W:return m=h.displayName||null,m!==null?m:Te(h.type)||"Memo";case R:m=h._payload,h=h._init;try{return Te(h(m))}catch{}}return null}function le(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(m);case 8:return m===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ee(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ie(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function he(h){var m=ie(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),N=""+h[m];if(!h.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,O=y.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return k.call(this)},set:function(I){N=""+I,O.call(this,I)}}),Object.defineProperty(h,m,{enumerable:y.enumerable}),{getValue:function(){return N},setValue:function(I){N=""+I},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function ke(h){h._valueTracker||(h._valueTracker=he(h))}function Ne(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var y=m.getValue(),N="";return h&&(N=ie(h)?h.checked?"true":"false":h.value),h=N,h!==y?(m.setValue(h),!0):!1}function ve(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Oe(h,m){var y=m.checked;return X({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??h._wrapperState.initialChecked})}function Ye(h,m){var y=m.defaultValue==null?"":m.defaultValue,N=m.checked!=null?m.checked:m.defaultChecked;y=ee(m.value!=null?m.value:y),h._wrapperState={initialChecked:N,initialValue:y,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function gt(h,m){m=m.checked,m!=null&&j(h,"checked",m,!1)}function Rt(h,m){gt(h,m);var y=ee(m.value),N=m.type;if(y!=null)N==="number"?(y===0&&h.value===""||h.value!=y)&&(h.value=""+y):h.value!==""+y&&(h.value=""+y);else if(N==="submit"||N==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?xn(h,m.type,y):m.hasOwnProperty("defaultValue")&&xn(h,m.type,ee(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function gr(h,m,y){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var N=m.type;if(!(N!=="submit"&&N!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,y||m===h.value||(h.value=m),h.defaultValue=m}y=h.name,y!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,y!==""&&(h.name=y)}function xn(h,m,y){(m!=="number"||ve(h.ownerDocument)!==h)&&(y==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+y&&(h.defaultValue=""+y))}var q=Array.isArray;function te(h,m,y,N){if(h=h.options,m){m={};for(var k=0;k<y.length;k++)m["$"+y[k]]=!0;for(y=0;y<h.length;y++)k=m.hasOwnProperty("$"+h[y].value),h[y].selected!==k&&(h[y].selected=k),k&&N&&(h[y].defaultSelected=!0)}else{for(y=""+ee(y),m=null,k=0;k<h.length;k++){if(h[k].value===y){h[k].selected=!0,N&&(h[k].defaultSelected=!0);return}m!==null||h[k].disabled||(m=h[k])}m!==null&&(m.selected=!0)}}function ce(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ae(h,m){var y=m.value;if(y==null){if(y=m.children,m=m.defaultValue,y!=null){if(m!=null)throw Error(n(92));if(q(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),y=m}h._wrapperState={initialValue:ee(y)}}function Ce(h,m){var y=ee(m.value),N=ee(m.defaultValue);y!=null&&(y=""+y,y!==h.value&&(h.value=y),m.defaultValue==null&&h.defaultValue!==y&&(h.defaultValue=y)),N!=null&&(h.defaultValue=""+N)}function je(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function ze(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?ze(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var ft,or=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,y,N,k){MSApp.execUnsafeLocalFunction(function(){return h(m,y,N,k)})}:h})(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ft.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function Us(h,m){if(m){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=m;return}}h.textContent=m}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ix=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(h){Ix.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),xr[m]=xr[h]})});function Ql(h,m,y){return m==null||typeof m=="boolean"||m===""?"":y||typeof m!="number"||m===0||xr.hasOwnProperty(h)&&xr[h]?(""+m).trim():m+"px"}function Jl(h,m){h=h.style;for(var y in m)if(m.hasOwnProperty(y)){var N=y.indexOf("--")===0,k=Ql(y,m[y],N);y==="float"&&(y="cssFloat"),N?h.setProperty(y,k):h[y]=k}}var Lx=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(h,m){if(m){if(Lx[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Iu(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=null;function Rx(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Fx=null,tc=null,nc=null;function $j(h){if(h=rd(h)){if(typeof Fx!="function")throw Error(n(280));var m=h.stateNode;m&&(m=Kf(m),Fx(h.stateNode,h.type,m))}}function Bj(h){tc?nc?nc.push(h):nc=[h]:tc=h}function Hj(){if(tc){var h=tc,m=nc;if(nc=tc=null,$j(h),m)for(h=0;h<m.length;h++)$j(m[h])}}function Uj(h,m){return h(m)}function Wj(){}var zx=!1;function qj(h,m,y){if(zx)return h(m,y);zx=!0;try{return Uj(h,m,y)}finally{zx=!1,(tc!==null||nc!==null)&&(Wj(),Hj())}}function Lu(h,m){var y=h.stateNode;if(y===null)return null;var N=Kf(y);if(N===null)return null;y=N[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(h=h.type,N=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!N;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(n(231,m,typeof y));return y}var Vx=!1;if(l)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){Vx=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Vx=!1}function R7(h,m,y,N,k,O,I,U,Y){var ae=Array.prototype.slice.call(arguments,3);try{m.apply(y,ae)}catch(pe){this.onError(pe)}}var Fu=!1,Cf=null,kf=!1,$x=null,F7={onError:function(h){Fu=!0,Cf=h}};function z7(h,m,y,N,k,O,I,U,Y){Fu=!1,Cf=null,R7.apply(F7,arguments)}function V7(h,m,y,N,k,O,I,U,Y){if(z7.apply(this,arguments),Fu){if(Fu){var ae=Cf;Fu=!1,Cf=null}else throw Error(n(198));kf||(kf=!0,$x=ae)}}function _o(h){var m=h,y=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(y=m.return),h=m.return;while(h)}return m.tag===3?y:null}function Kj(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function Gj(h){if(_o(h)!==h)throw Error(n(188))}function $7(h){var m=h.alternate;if(!m){if(m=_o(h),m===null)throw Error(n(188));return m!==h?null:h}for(var y=h,N=m;;){var k=y.return;if(k===null)break;var O=k.alternate;if(O===null){if(N=k.return,N!==null){y=N;continue}break}if(k.child===O.child){for(O=k.child;O;){if(O===y)return Gj(k),h;if(O===N)return Gj(k),m;O=O.sibling}throw Error(n(188))}if(y.return!==N.return)y=k,N=O;else{for(var I=!1,U=k.child;U;){if(U===y){I=!0,y=k,N=O;break}if(U===N){I=!0,N=k,y=O;break}U=U.sibling}if(!I){for(U=O.child;U;){if(U===y){I=!0,y=O,N=k;break}if(U===N){I=!0,N=O,y=k;break}U=U.sibling}if(!I)throw Error(n(189))}}if(y.alternate!==N)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?h:m}function Yj(h){return h=$7(h),h!==null?Xj(h):null}function Xj(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=Xj(h);if(m!==null)return m;h=h.sibling}return null}var Qj=e.unstable_scheduleCallback,Jj=e.unstable_cancelCallback,B7=e.unstable_shouldYield,H7=e.unstable_requestPaint,nn=e.unstable_now,U7=e.unstable_getCurrentPriorityLevel,Bx=e.unstable_ImmediatePriority,Zj=e.unstable_UserBlockingPriority,Tf=e.unstable_NormalPriority,W7=e.unstable_LowPriority,e4=e.unstable_IdlePriority,Ef=null,Ws=null;function q7(h){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(Ef,h,void 0,(h.current.flags&128)===128)}catch{}}var js=Math.clz32?Math.clz32:Y7,K7=Math.log,G7=Math.LN2;function Y7(h){return h>>>=0,h===0?32:31-(K7(h)/G7|0)|0}var Mf=64,Af=4194304;function zu(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Pf(h,m){var y=h.pendingLanes;if(y===0)return 0;var N=0,k=h.suspendedLanes,O=h.pingedLanes,I=y&268435455;if(I!==0){var U=I&~k;U!==0?N=zu(U):(O&=I,O!==0&&(N=zu(O)))}else I=y&~k,I!==0?N=zu(I):O!==0&&(N=zu(O));if(N===0)return 0;if(m!==0&&m!==N&&(m&k)===0&&(k=N&-N,O=m&-m,k>=O||k===16&&(O&4194240)!==0))return m;if((N&4)!==0&&(N|=y&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=N;0<m;)y=31-js(m),k=1<<y,N|=h[y],m&=~k;return N}function X7(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q7(h,m){for(var y=h.suspendedLanes,N=h.pingedLanes,k=h.expirationTimes,O=h.pendingLanes;0<O;){var I=31-js(O),U=1<<I,Y=k[I];Y===-1?((U&y)===0||(U&N)!==0)&&(k[I]=X7(U,m)):Y<=m&&(h.expiredLanes|=U),O&=~U}}function Hx(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function t4(){var h=Mf;return Mf<<=1,(Mf&4194240)===0&&(Mf=64),h}function Ux(h){for(var m=[],y=0;31>y;y++)m.push(h);return m}function Vu(h,m,y){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-js(m),h[m]=y}function J7(h,m){var y=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var N=h.eventTimes;for(h=h.expirationTimes;0<y;){var k=31-js(y),O=1<<k;m[k]=0,N[k]=-1,h[k]=-1,y&=~O}}function Wx(h,m){var y=h.entangledLanes|=m;for(h=h.entanglements;y;){var N=31-js(y),k=1<<N;k&m|h[N]&m&&(h[N]|=m),y&=~k}}var vt=0;function n4(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var r4,qx,s4,i4,a4,Kx=!1,Of=[],ba=null,va=null,wa=null,$u=new Map,Bu=new Map,Na=[],Z7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o4(h,m){switch(h){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":$u.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(m.pointerId)}}function Hu(h,m,y,N,k,O){return h===null||h.nativeEvent!==O?(h={blockedOn:m,domEventName:y,eventSystemFlags:N,nativeEvent:O,targetContainers:[k]},m!==null&&(m=rd(m),m!==null&&qx(m)),h):(h.eventSystemFlags|=N,m=h.targetContainers,k!==null&&m.indexOf(k)===-1&&m.push(k),h)}function ez(h,m,y,N,k){switch(m){case"focusin":return ba=Hu(ba,h,m,y,N,k),!0;case"dragenter":return va=Hu(va,h,m,y,N,k),!0;case"mouseover":return wa=Hu(wa,h,m,y,N,k),!0;case"pointerover":var O=k.pointerId;return $u.set(O,Hu($u.get(O)||null,h,m,y,N,k)),!0;case"gotpointercapture":return O=k.pointerId,Bu.set(O,Hu(Bu.get(O)||null,h,m,y,N,k)),!0}return!1}function l4(h){var m=Do(h.target);if(m!==null){var y=_o(m);if(y!==null){if(m=y.tag,m===13){if(m=Kj(y),m!==null){h.blockedOn=m,a4(h.priority,function(){s4(y)});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function _f(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var y=Yx(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(y===null){y=h.nativeEvent;var N=new y.constructor(y.type,y);ec=N,y.target.dispatchEvent(N),ec=null}else return m=rd(y),m!==null&&qx(m),h.blockedOn=y,!1;m.shift()}return!0}function c4(h,m,y){_f(h)&&y.delete(m)}function tz(){Kx=!1,ba!==null&&_f(ba)&&(ba=null),va!==null&&_f(va)&&(va=null),wa!==null&&_f(wa)&&(wa=null),$u.forEach(c4),Bu.forEach(c4)}function Uu(h,m){h.blockedOn===m&&(h.blockedOn=null,Kx||(Kx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tz)))}function Wu(h){function m(k){return Uu(k,h)}if(0<Of.length){Uu(Of[0],h);for(var y=1;y<Of.length;y++){var N=Of[y];N.blockedOn===h&&(N.blockedOn=null)}}for(ba!==null&&Uu(ba,h),va!==null&&Uu(va,h),wa!==null&&Uu(wa,h),$u.forEach(m),Bu.forEach(m),y=0;y<Na.length;y++)N=Na[y],N.blockedOn===h&&(N.blockedOn=null);for(;0<Na.length&&(y=Na[0],y.blockedOn===null);)l4(y),y.blockedOn===null&&Na.shift()}var rc=M.ReactCurrentBatchConfig,Df=!0;function nz(h,m,y,N){var k=vt,O=rc.transition;rc.transition=null;try{vt=1,Gx(h,m,y,N)}finally{vt=k,rc.transition=O}}function rz(h,m,y,N){var k=vt,O=rc.transition;rc.transition=null;try{vt=4,Gx(h,m,y,N)}finally{vt=k,rc.transition=O}}function Gx(h,m,y,N){if(Df){var k=Yx(h,m,y,N);if(k===null)hy(h,m,N,If,y),o4(h,N);else if(ez(k,h,m,y,N))N.stopPropagation();else if(o4(h,N),m&4&&-1<Z7.indexOf(h)){for(;k!==null;){var O=rd(k);if(O!==null&&r4(O),O=Yx(h,m,y,N),O===null&&hy(h,m,N,If,y),O===k)break;k=O}k!==null&&N.stopPropagation()}else hy(h,m,N,null,y)}}var If=null;function Yx(h,m,y,N){if(If=null,h=Rx(N),h=Do(h),h!==null)if(m=_o(h),m===null)h=null;else if(y=m.tag,y===13){if(h=Kj(m),h!==null)return h;h=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return If=h,null}function u4(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U7()){case Bx:return 1;case Zj:return 4;case Tf:case W7:return 16;case e4:return 536870912;default:return 16}default:return 16}}var Sa=null,Xx=null,Lf=null;function d4(){if(Lf)return Lf;var h,m=Xx,y=m.length,N,k="value"in Sa?Sa.value:Sa.textContent,O=k.length;for(h=0;h<y&&m[h]===k[h];h++);var I=y-h;for(N=1;N<=I&&m[y-N]===k[O-N];N++);return Lf=k.slice(h,1<N?1-N:void 0)}function Rf(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Ff(){return!0}function h4(){return!1}function Rr(h){function m(y,N,k,O,I){this._reactName=y,this._targetInst=k,this.type=N,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var U in h)h.hasOwnProperty(U)&&(y=h[U],this[U]=y?y(O):O[U]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Ff:h4,this.isPropagationStopped=h4,this}return X(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ff)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ff)},persist:function(){},isPersistent:Ff}),m}var sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qx=Rr(sc),qu=X({},sc,{view:0,detail:0}),sz=Rr(qu),Jx,Zx,Ku,zf=X({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Ku&&(Ku&&h.type==="mousemove"?(Jx=h.screenX-Ku.screenX,Zx=h.screenY-Ku.screenY):Zx=Jx=0,Ku=h),Jx)},movementY:function(h){return"movementY"in h?h.movementY:Zx}}),f4=Rr(zf),iz=X({},zf,{dataTransfer:0}),az=Rr(iz),oz=X({},qu,{relatedTarget:0}),ey=Rr(oz),lz=X({},sc,{animationName:0,elapsedTime:0,pseudoElement:0}),cz=Rr(lz),uz=X({},sc,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),dz=Rr(uz),hz=X({},sc,{data:0}),m4=Rr(hz),fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gz(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=pz[h])?!!m[h]:!1}function ty(){return gz}var xz=X({},qu,{key:function(h){if(h.key){var m=fz[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=Rf(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?mz[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(h){return h.type==="keypress"?Rf(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Rf(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),yz=Rr(xz),bz=X({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p4=Rr(bz),vz=X({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),wz=Rr(vz),Nz=X({},sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sz=Rr(Nz),jz=X({},zf,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Cz=Rr(jz),kz=[9,13,27,32],ny=l&&"CompositionEvent"in window,Gu=null;l&&"documentMode"in document&&(Gu=document.documentMode);var Tz=l&&"TextEvent"in window&&!Gu,g4=l&&(!ny||Gu&&8<Gu&&11>=Gu),x4=" ",y4=!1;function b4(h,m){switch(h){case"keyup":return kz.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v4(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var ic=!1;function Ez(h,m){switch(h){case"compositionend":return v4(m);case"keypress":return m.which!==32?null:(y4=!0,x4);case"textInput":return h=m.data,h===x4&&y4?null:h;default:return null}}function Mz(h,m){if(ic)return h==="compositionend"||!ny&&b4(h,m)?(h=d4(),Lf=Xx=Sa=null,ic=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return g4&&m.locale!=="ko"?null:m.data;default:return null}}var Az={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w4(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!Az[h.type]:m==="textarea"}function N4(h,m,y,N){Bj(N),m=Uf(m,"onChange"),0<m.length&&(y=new Qx("onChange","change",null,y,N),h.push({event:y,listeners:m}))}var Yu=null,Xu=null;function Pz(h){V4(h,0)}function Vf(h){var m=uc(h);if(Ne(m))return h}function Oz(h,m){if(h==="change")return m}var S4=!1;if(l){var ry;if(l){var sy="oninput"in document;if(!sy){var j4=document.createElement("div");j4.setAttribute("oninput","return;"),sy=typeof j4.oninput=="function"}ry=sy}else ry=!1;S4=ry&&(!document.documentMode||9<document.documentMode)}function C4(){Yu&&(Yu.detachEvent("onpropertychange",k4),Xu=Yu=null)}function k4(h){if(h.propertyName==="value"&&Vf(Xu)){var m=[];N4(m,Xu,h,Rx(h)),qj(Pz,m)}}function _z(h,m,y){h==="focusin"?(C4(),Yu=m,Xu=y,Yu.attachEvent("onpropertychange",k4)):h==="focusout"&&C4()}function Dz(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Vf(Xu)}function Iz(h,m){if(h==="click")return Vf(m)}function Lz(h,m){if(h==="input"||h==="change")return Vf(m)}function Rz(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Cs=typeof Object.is=="function"?Object.is:Rz;function Qu(h,m){if(Cs(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var y=Object.keys(h),N=Object.keys(m);if(y.length!==N.length)return!1;for(N=0;N<y.length;N++){var k=y[N];if(!c.call(m,k)||!Cs(h[k],m[k]))return!1}return!0}function T4(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function E4(h,m){var y=T4(h);h=0;for(var N;y;){if(y.nodeType===3){if(N=h+y.textContent.length,h<=m&&N>=m)return{node:y,offset:m-h};h=N}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=T4(y)}}function M4(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?M4(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function A4(){for(var h=window,m=ve();m instanceof h.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)h=m.contentWindow;else break;m=ve(h.document)}return m}function iy(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function Fz(h){var m=A4(),y=h.focusedElem,N=h.selectionRange;if(m!==y&&y&&y.ownerDocument&&M4(y.ownerDocument.documentElement,y)){if(N!==null&&iy(y)){if(m=N.start,h=N.end,h===void 0&&(h=m),"selectionStart"in y)y.selectionStart=m,y.selectionEnd=Math.min(h,y.value.length);else if(h=(m=y.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var k=y.textContent.length,O=Math.min(N.start,k);N=N.end===void 0?O:Math.min(N.end,k),!h.extend&&O>N&&(k=N,N=O,O=k),k=E4(y,O);var I=E4(y,N);k&&I&&(h.rangeCount!==1||h.anchorNode!==k.node||h.anchorOffset!==k.offset||h.focusNode!==I.node||h.focusOffset!==I.offset)&&(m=m.createRange(),m.setStart(k.node,k.offset),h.removeAllRanges(),O>N?(h.addRange(m),h.extend(I.node,I.offset)):(m.setEnd(I.node,I.offset),h.addRange(m)))}}for(m=[],h=y;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<m.length;y++)h=m[y],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var zz=l&&"documentMode"in document&&11>=document.documentMode,ac=null,ay=null,Ju=null,oy=!1;function P4(h,m,y){var N=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;oy||ac==null||ac!==ve(N)||(N=ac,"selectionStart"in N&&iy(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Ju&&Qu(Ju,N)||(Ju=N,N=Uf(ay,"onSelect"),0<N.length&&(m=new Qx("onSelect","select",null,m,y),h.push({event:m,listeners:N}),m.target=ac)))}function $f(h,m){var y={};return y[h.toLowerCase()]=m.toLowerCase(),y["Webkit"+h]="webkit"+m,y["Moz"+h]="moz"+m,y}var oc={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},ly={},O4={};l&&(O4=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function Bf(h){if(ly[h])return ly[h];if(!oc[h])return h;var m=oc[h],y;for(y in m)if(m.hasOwnProperty(y)&&y in O4)return ly[h]=m[y];return h}var _4=Bf("animationend"),D4=Bf("animationiteration"),I4=Bf("animationstart"),L4=Bf("transitionend"),R4=new Map,F4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(h,m){R4.set(h,m),i(m,[h])}for(var cy=0;cy<F4.length;cy++){var uy=F4[cy],Vz=uy.toLowerCase(),$z=uy[0].toUpperCase()+uy.slice(1);ja(Vz,"on"+$z)}ja(_4,"onAnimationEnd"),ja(D4,"onAnimationIteration"),ja(I4,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(L4,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zu));function z4(h,m,y){var N=h.type||"unknown-event";h.currentTarget=y,V7(N,m,void 0,h),h.currentTarget=null}function V4(h,m){m=(m&4)!==0;for(var y=0;y<h.length;y++){var N=h[y],k=N.event;N=N.listeners;e:{var O=void 0;if(m)for(var I=N.length-1;0<=I;I--){var U=N[I],Y=U.instance,ae=U.currentTarget;if(U=U.listener,Y!==O&&k.isPropagationStopped())break e;z4(k,U,ae),O=Y}else for(I=0;I<N.length;I++){if(U=N[I],Y=U.instance,ae=U.currentTarget,U=U.listener,Y!==O&&k.isPropagationStopped())break e;z4(k,U,ae),O=Y}}}if(kf)throw h=$x,kf=!1,$x=null,h}function Pt(h,m){var y=m[yy];y===void 0&&(y=m[yy]=new Set);var N=h+"__bubble";y.has(N)||($4(m,h,2,!1),y.add(N))}function dy(h,m,y){var N=0;m&&(N|=4),$4(y,h,N,m)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function ed(h){if(!h[Hf]){h[Hf]=!0,r.forEach(function(y){y!=="selectionchange"&&(Bz.has(y)||dy(y,!1,h),dy(y,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[Hf]||(m[Hf]=!0,dy("selectionchange",!1,m))}}function $4(h,m,y,N){switch(u4(m)){case 1:var k=nz;break;case 4:k=rz;break;default:k=Gx}y=k.bind(null,m,y,h),k=void 0,!Vx||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(k=!0),N?k!==void 0?h.addEventListener(m,y,{capture:!0,passive:k}):h.addEventListener(m,y,!0):k!==void 0?h.addEventListener(m,y,{passive:k}):h.addEventListener(m,y,!1)}function hy(h,m,y,N,k){var O=N;if((m&1)===0&&(m&2)===0&&N!==null)e:for(;;){if(N===null)return;var I=N.tag;if(I===3||I===4){var U=N.stateNode.containerInfo;if(U===k||U.nodeType===8&&U.parentNode===k)break;if(I===4)for(I=N.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&(Y=I.stateNode.containerInfo,Y===k||Y.nodeType===8&&Y.parentNode===k))return;I=I.return}for(;U!==null;){if(I=Do(U),I===null)return;if(Y=I.tag,Y===5||Y===6){N=O=I;continue e}U=U.parentNode}}N=N.return}qj(function(){var ae=O,pe=Rx(y),xe=[];e:{var me=R4.get(h);if(me!==void 0){var Pe=Qx,De=h;switch(h){case"keypress":if(Rf(y)===0)break e;case"keydown":case"keyup":Pe=yz;break;case"focusin":De="focus",Pe=ey;break;case"focusout":De="blur",Pe=ey;break;case"beforeblur":case"afterblur":Pe=ey;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=f4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=az;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=wz;break;case _4:case D4:case I4:Pe=cz;break;case L4:Pe=Sz;break;case"scroll":Pe=sz;break;case"wheel":Pe=Cz;break;case"copy":case"cut":case"paste":Pe=dz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=p4}var Ie=(m&4)!==0,rn=!Ie&&h==="scroll",Z=Ie?me!==null?me+"Capture":null:me;Ie=[];for(var Q=ae,re;Q!==null;){re=Q;var Se=re.stateNode;if(re.tag===5&&Se!==null&&(re=Se,Z!==null&&(Se=Lu(Q,Z),Se!=null&&Ie.push(td(Q,Se,re)))),rn)break;Q=Q.return}0<Ie.length&&(me=new Pe(me,De,null,y,pe),xe.push({event:me,listeners:Ie}))}}if((m&7)===0){e:{if(me=h==="mouseover"||h==="pointerover",Pe=h==="mouseout"||h==="pointerout",me&&y!==ec&&(De=y.relatedTarget||y.fromElement)&&(Do(De)||De[ji]))break e;if((Pe||me)&&(me=pe.window===pe?pe:(me=pe.ownerDocument)?me.defaultView||me.parentWindow:window,Pe?(De=y.relatedTarget||y.toElement,Pe=ae,De=De?Do(De):null,De!==null&&(rn=_o(De),De!==rn||De.tag!==5&&De.tag!==6)&&(De=null)):(Pe=null,De=ae),Pe!==De)){if(Ie=f4,Se="onMouseLeave",Z="onMouseEnter",Q="mouse",(h==="pointerout"||h==="pointerover")&&(Ie=p4,Se="onPointerLeave",Z="onPointerEnter",Q="pointer"),rn=Pe==null?me:uc(Pe),re=De==null?me:uc(De),me=new Ie(Se,Q+"leave",Pe,y,pe),me.target=rn,me.relatedTarget=re,Se=null,Do(pe)===ae&&(Ie=new Ie(Z,Q+"enter",De,y,pe),Ie.target=re,Ie.relatedTarget=rn,Se=Ie),rn=Se,Pe&&De)t:{for(Ie=Pe,Z=De,Q=0,re=Ie;re;re=lc(re))Q++;for(re=0,Se=Z;Se;Se=lc(Se))re++;for(;0<Q-re;)Ie=lc(Ie),Q--;for(;0<re-Q;)Z=lc(Z),re--;for(;Q--;){if(Ie===Z||Z!==null&&Ie===Z.alternate)break t;Ie=lc(Ie),Z=lc(Z)}Ie=null}else Ie=null;Pe!==null&&B4(xe,me,Pe,Ie,!1),De!==null&&rn!==null&&B4(xe,rn,De,Ie,!0)}}e:{if(me=ae?uc(ae):window,Pe=me.nodeName&&me.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&me.type==="file")var Re=Oz;else if(w4(me))if(S4)Re=Lz;else{Re=Dz;var qe=_z}else(Pe=me.nodeName)&&Pe.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Re=Iz);if(Re&&(Re=Re(h,ae))){N4(xe,Re,y,pe);break e}qe&&qe(h,me,ae),h==="focusout"&&(qe=me._wrapperState)&&qe.controlled&&me.type==="number"&&xn(me,"number",me.value)}switch(qe=ae?uc(ae):window,h){case"focusin":(w4(qe)||qe.contentEditable==="true")&&(ac=qe,ay=ae,Ju=null);break;case"focusout":Ju=ay=ac=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,P4(xe,y,pe);break;case"selectionchange":if(zz)break;case"keydown":case"keyup":P4(xe,y,pe)}var Ke;if(ny)e:{switch(h){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else ic?b4(h,y)&&(et="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(et="onCompositionStart");et&&(g4&&y.locale!=="ko"&&(ic||et!=="onCompositionStart"?et==="onCompositionEnd"&&ic&&(Ke=d4()):(Sa=pe,Xx="value"in Sa?Sa.value:Sa.textContent,ic=!0)),qe=Uf(ae,et),0<qe.length&&(et=new m4(et,h,null,y,pe),xe.push({event:et,listeners:qe}),Ke?et.data=Ke:(Ke=v4(y),Ke!==null&&(et.data=Ke)))),(Ke=Tz?Ez(h,y):Mz(h,y))&&(ae=Uf(ae,"onBeforeInput"),0<ae.length&&(pe=new m4("onBeforeInput","beforeinput",null,y,pe),xe.push({event:pe,listeners:ae}),pe.data=Ke))}V4(xe,m)})}function td(h,m,y){return{instance:h,listener:m,currentTarget:y}}function Uf(h,m){for(var y=m+"Capture",N=[];h!==null;){var k=h,O=k.stateNode;k.tag===5&&O!==null&&(k=O,O=Lu(h,y),O!=null&&N.unshift(td(h,O,k)),O=Lu(h,m),O!=null&&N.push(td(h,O,k))),h=h.return}return N}function lc(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function B4(h,m,y,N,k){for(var O=m._reactName,I=[];y!==null&&y!==N;){var U=y,Y=U.alternate,ae=U.stateNode;if(Y!==null&&Y===N)break;U.tag===5&&ae!==null&&(U=ae,k?(Y=Lu(y,O),Y!=null&&I.unshift(td(y,Y,U))):k||(Y=Lu(y,O),Y!=null&&I.push(td(y,Y,U)))),y=y.return}I.length!==0&&h.push({event:m,listeners:I})}var Hz=/\r\n?/g,Uz=/\u0000|\uFFFD/g;function H4(h){return(typeof h=="string"?h:""+h).replace(Hz,`
`).replace(Uz,"")}function Wf(h,m,y){if(m=H4(m),H4(h)!==m&&y)throw Error(n(425))}function qf(){}var fy=null,my=null;function py(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,Wz=typeof clearTimeout=="function"?clearTimeout:void 0,U4=typeof Promise=="function"?Promise:void 0,qz=typeof queueMicrotask=="function"?queueMicrotask:typeof U4<"u"?function(h){return U4.resolve(null).then(h).catch(Kz)}:gy;function Kz(h){setTimeout(function(){throw h})}function xy(h,m){var y=m,N=0;do{var k=y.nextSibling;if(h.removeChild(y),k&&k.nodeType===8)if(y=k.data,y==="/$"){if(N===0){h.removeChild(k),Wu(m);return}N--}else y!=="$"&&y!=="$?"&&y!=="$!"||N++;y=k}while(y);Wu(m)}function Ca(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function W4(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return h;m--}else y==="/$"&&m++}h=h.previousSibling}return null}var cc=Math.random().toString(36).slice(2),qs="__reactFiber$"+cc,nd="__reactProps$"+cc,ji="__reactContainer$"+cc,yy="__reactEvents$"+cc,Gz="__reactListeners$"+cc,Yz="__reactHandles$"+cc;function Do(h){var m=h[qs];if(m)return m;for(var y=h.parentNode;y;){if(m=y[ji]||y[qs]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(h=W4(h);h!==null;){if(y=h[qs])return y;h=W4(h)}return m}h=y,y=h.parentNode}return null}function rd(h){return h=h[qs]||h[ji],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function uc(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function Kf(h){return h[nd]||null}var by=[],dc=-1;function ka(h){return{current:h}}function Ot(h){0>dc||(h.current=by[dc],by[dc]=null,dc--)}function kt(h,m){dc++,by[dc]=h.current,h.current=m}var Ta={},Wn=ka(Ta),yr=ka(!1),Io=Ta;function hc(h,m){var y=h.type.contextTypes;if(!y)return Ta;var N=h.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===m)return N.__reactInternalMemoizedMaskedChildContext;var k={},O;for(O in y)k[O]=m[O];return N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=k),k}function br(h){return h=h.childContextTypes,h!=null}function Gf(){Ot(yr),Ot(Wn)}function q4(h,m,y){if(Wn.current!==Ta)throw Error(n(168));kt(Wn,m),kt(yr,y)}function K4(h,m,y){var N=h.stateNode;if(m=m.childContextTypes,typeof N.getChildContext!="function")return y;N=N.getChildContext();for(var k in N)if(!(k in m))throw Error(n(108,le(h)||"Unknown",k));return X({},y,N)}function Yf(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ta,Io=Wn.current,kt(Wn,h),kt(yr,yr.current),!0}function G4(h,m,y){var N=h.stateNode;if(!N)throw Error(n(169));y?(h=K4(h,m,Io),N.__reactInternalMemoizedMergedChildContext=h,Ot(yr),Ot(Wn),kt(Wn,h)):Ot(yr),kt(yr,y)}var Ci=null,Xf=!1,vy=!1;function Y4(h){Ci===null?Ci=[h]:Ci.push(h)}function Xz(h){Xf=!0,Y4(h)}function Ea(){if(!vy&&Ci!==null){vy=!0;var h=0,m=vt;try{var y=Ci;for(vt=1;h<y.length;h++){var N=y[h];do N=N(!0);while(N!==null)}Ci=null,Xf=!1}catch(k){throw Ci!==null&&(Ci=Ci.slice(h+1)),Qj(Bx,Ea),k}finally{vt=m,vy=!1}}return null}var fc=[],mc=0,Qf=null,Jf=0,ts=[],ns=0,Lo=null,ki=1,Ti="";function Ro(h,m){fc[mc++]=Jf,fc[mc++]=Qf,Qf=h,Jf=m}function X4(h,m,y){ts[ns++]=ki,ts[ns++]=Ti,ts[ns++]=Lo,Lo=h;var N=ki;h=Ti;var k=32-js(N)-1;N&=~(1<<k),y+=1;var O=32-js(m)+k;if(30<O){var I=k-k%5;O=(N&(1<<I)-1).toString(32),N>>=I,k-=I,ki=1<<32-js(m)+k|y<<k|N,Ti=O+h}else ki=1<<O|y<<k|N,Ti=h}function wy(h){h.return!==null&&(Ro(h,1),X4(h,1,0))}function Ny(h){for(;h===Qf;)Qf=fc[--mc],fc[mc]=null,Jf=fc[--mc],fc[mc]=null;for(;h===Lo;)Lo=ts[--ns],ts[ns]=null,Ti=ts[--ns],ts[ns]=null,ki=ts[--ns],ts[ns]=null}var Fr=null,zr=null,Ft=!1,ks=null;function Q4(h,m){var y=as(5,null,null,0);y.elementType="DELETED",y.stateNode=m,y.return=h,m=h.deletions,m===null?(h.deletions=[y],h.flags|=16):m.push(y)}function J4(h,m){switch(h.tag){case 5:var y=h.type;return m=m.nodeType!==1||y.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,Fr=h,zr=Ca(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,Fr=h,zr=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(y=Lo!==null?{id:ki,overflow:Ti}:null,h.memoizedState={dehydrated:m,treeContext:y,retryLane:1073741824},y=as(18,null,null,0),y.stateNode=m,y.return=h,h.child=y,Fr=h,zr=null,!0):!1;default:return!1}}function Sy(h){return(h.mode&1)!==0&&(h.flags&128)===0}function jy(h){if(Ft){var m=zr;if(m){var y=m;if(!J4(h,m)){if(Sy(h))throw Error(n(418));m=Ca(y.nextSibling);var N=Fr;m&&J4(h,m)?Q4(N,y):(h.flags=h.flags&-4097|2,Ft=!1,Fr=h)}}else{if(Sy(h))throw Error(n(418));h.flags=h.flags&-4097|2,Ft=!1,Fr=h}}}function Z4(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Fr=h}function Zf(h){if(h!==Fr)return!1;if(!Ft)return Z4(h),Ft=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!py(h.type,h.memoizedProps)),m&&(m=zr)){if(Sy(h))throw eC(),Error(n(418));for(;m;)Q4(h,m),m=Ca(m.nextSibling)}if(Z4(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="/$"){if(m===0){zr=Ca(h.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++}h=h.nextSibling}zr=null}}else zr=Fr?Ca(h.stateNode.nextSibling):null;return!0}function eC(){for(var h=zr;h;)h=Ca(h.nextSibling)}function pc(){zr=Fr=null,Ft=!1}function Cy(h){ks===null?ks=[h]:ks.push(h)}var Qz=M.ReactCurrentBatchConfig;function sd(h,m,y){if(h=y.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var N=y.stateNode}if(!N)throw Error(n(147,h));var k=N,O=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===O?m.ref:(m=function(I){var U=k.refs;I===null?delete U[O]:U[O]=I},m._stringRef=O,m)}if(typeof h!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,h))}return h}function em(h,m){throw h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function tC(h){var m=h._init;return m(h._payload)}function nC(h){function m(Z,Q){if(h){var re=Z.deletions;re===null?(Z.deletions=[Q],Z.flags|=16):re.push(Q)}}function y(Z,Q){if(!h)return null;for(;Q!==null;)m(Z,Q),Q=Q.sibling;return null}function N(Z,Q){for(Z=new Map;Q!==null;)Q.key!==null?Z.set(Q.key,Q):Z.set(Q.index,Q),Q=Q.sibling;return Z}function k(Z,Q){return Z=La(Z,Q),Z.index=0,Z.sibling=null,Z}function O(Z,Q,re){return Z.index=re,h?(re=Z.alternate,re!==null?(re=re.index,re<Q?(Z.flags|=2,Q):re):(Z.flags|=2,Q)):(Z.flags|=1048576,Q)}function I(Z){return h&&Z.alternate===null&&(Z.flags|=2),Z}function U(Z,Q,re,Se){return Q===null||Q.tag!==6?(Q=gb(re,Z.mode,Se),Q.return=Z,Q):(Q=k(Q,re),Q.return=Z,Q)}function Y(Z,Q,re,Se){var Re=re.type;return Re===P?pe(Z,Q,re.props.children,Se,re.key):Q!==null&&(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&tC(Re)===Q.type)?(Se=k(Q,re.props),Se.ref=sd(Z,Q,re),Se.return=Z,Se):(Se=jm(re.type,re.key,re.props,null,Z.mode,Se),Se.ref=sd(Z,Q,re),Se.return=Z,Se)}function ae(Z,Q,re,Se){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=xb(re,Z.mode,Se),Q.return=Z,Q):(Q=k(Q,re.children||[]),Q.return=Z,Q)}function pe(Z,Q,re,Se,Re){return Q===null||Q.tag!==7?(Q=Wo(re,Z.mode,Se,Re),Q.return=Z,Q):(Q=k(Q,re),Q.return=Z,Q)}function xe(Z,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=gb(""+Q,Z.mode,re),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return re=jm(Q.type,Q.key,Q.props,null,Z.mode,re),re.ref=sd(Z,null,Q),re.return=Z,re;case A:return Q=xb(Q,Z.mode,re),Q.return=Z,Q;case R:var Se=Q._init;return xe(Z,Se(Q._payload),re)}if(q(Q)||K(Q))return Q=Wo(Q,Z.mode,re,null),Q.return=Z,Q;em(Z,Q)}return null}function me(Z,Q,re,Se){var Re=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Re!==null?null:U(Z,Q,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case C:return re.key===Re?Y(Z,Q,re,Se):null;case A:return re.key===Re?ae(Z,Q,re,Se):null;case R:return Re=re._init,me(Z,Q,Re(re._payload),Se)}if(q(re)||K(re))return Re!==null?null:pe(Z,Q,re,Se,null);em(Z,re)}return null}function Pe(Z,Q,re,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Z=Z.get(re)||null,U(Q,Z,""+Se,Re);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return Z=Z.get(Se.key===null?re:Se.key)||null,Y(Q,Z,Se,Re);case A:return Z=Z.get(Se.key===null?re:Se.key)||null,ae(Q,Z,Se,Re);case R:var qe=Se._init;return Pe(Z,Q,re,qe(Se._payload),Re)}if(q(Se)||K(Se))return Z=Z.get(re)||null,pe(Q,Z,Se,Re,null);em(Q,Se)}return null}function De(Z,Q,re,Se){for(var Re=null,qe=null,Ke=Q,et=Q=0,jn=null;Ke!==null&&et<re.length;et++){Ke.index>et?(jn=Ke,Ke=null):jn=Ke.sibling;var dt=me(Z,Ke,re[et],Se);if(dt===null){Ke===null&&(Ke=jn);break}h&&Ke&&dt.alternate===null&&m(Z,Ke),Q=O(dt,Q,et),qe===null?Re=dt:qe.sibling=dt,qe=dt,Ke=jn}if(et===re.length)return y(Z,Ke),Ft&&Ro(Z,et),Re;if(Ke===null){for(;et<re.length;et++)Ke=xe(Z,re[et],Se),Ke!==null&&(Q=O(Ke,Q,et),qe===null?Re=Ke:qe.sibling=Ke,qe=Ke);return Ft&&Ro(Z,et),Re}for(Ke=N(Z,Ke);et<re.length;et++)jn=Pe(Ke,Z,et,re[et],Se),jn!==null&&(h&&jn.alternate!==null&&Ke.delete(jn.key===null?et:jn.key),Q=O(jn,Q,et),qe===null?Re=jn:qe.sibling=jn,qe=jn);return h&&Ke.forEach(function(Ra){return m(Z,Ra)}),Ft&&Ro(Z,et),Re}function Ie(Z,Q,re,Se){var Re=K(re);if(typeof Re!="function")throw Error(n(150));if(re=Re.call(re),re==null)throw Error(n(151));for(var qe=Re=null,Ke=Q,et=Q=0,jn=null,dt=re.next();Ke!==null&&!dt.done;et++,dt=re.next()){Ke.index>et?(jn=Ke,Ke=null):jn=Ke.sibling;var Ra=me(Z,Ke,dt.value,Se);if(Ra===null){Ke===null&&(Ke=jn);break}h&&Ke&&Ra.alternate===null&&m(Z,Ke),Q=O(Ra,Q,et),qe===null?Re=Ra:qe.sibling=Ra,qe=Ra,Ke=jn}if(dt.done)return y(Z,Ke),Ft&&Ro(Z,et),Re;if(Ke===null){for(;!dt.done;et++,dt=re.next())dt=xe(Z,dt.value,Se),dt!==null&&(Q=O(dt,Q,et),qe===null?Re=dt:qe.sibling=dt,qe=dt);return Ft&&Ro(Z,et),Re}for(Ke=N(Z,Ke);!dt.done;et++,dt=re.next())dt=Pe(Ke,Z,et,dt.value,Se),dt!==null&&(h&&dt.alternate!==null&&Ke.delete(dt.key===null?et:dt.key),Q=O(dt,Q,et),qe===null?Re=dt:qe.sibling=dt,qe=dt);return h&&Ke.forEach(function(AV){return m(Z,AV)}),Ft&&Ro(Z,et),Re}function rn(Z,Q,re,Se){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case C:e:{for(var Re=re.key,qe=Q;qe!==null;){if(qe.key===Re){if(Re=re.type,Re===P){if(qe.tag===7){y(Z,qe.sibling),Q=k(qe,re.props.children),Q.return=Z,Z=Q;break e}}else if(qe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&tC(Re)===qe.type){y(Z,qe.sibling),Q=k(qe,re.props),Q.ref=sd(Z,qe,re),Q.return=Z,Z=Q;break e}y(Z,qe);break}else m(Z,qe);qe=qe.sibling}re.type===P?(Q=Wo(re.props.children,Z.mode,Se,re.key),Q.return=Z,Z=Q):(Se=jm(re.type,re.key,re.props,null,Z.mode,Se),Se.ref=sd(Z,Q,re),Se.return=Z,Z=Se)}return I(Z);case A:e:{for(qe=re.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){y(Z,Q.sibling),Q=k(Q,re.children||[]),Q.return=Z,Z=Q;break e}else{y(Z,Q);break}else m(Z,Q);Q=Q.sibling}Q=xb(re,Z.mode,Se),Q.return=Z,Z=Q}return I(Z);case R:return qe=re._init,rn(Z,Q,qe(re._payload),Se)}if(q(re))return De(Z,Q,re,Se);if(K(re))return Ie(Z,Q,re,Se);em(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(y(Z,Q.sibling),Q=k(Q,re),Q.return=Z,Z=Q):(y(Z,Q),Q=gb(re,Z.mode,Se),Q.return=Z,Z=Q),I(Z)):y(Z,Q)}return rn}var gc=nC(!0),rC=nC(!1),tm=ka(null),nm=null,xc=null,ky=null;function Ty(){ky=xc=nm=null}function Ey(h){var m=tm.current;Ot(tm),h._currentValue=m}function My(h,m,y){for(;h!==null;){var N=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,N!==null&&(N.childLanes|=m)):N!==null&&(N.childLanes&m)!==m&&(N.childLanes|=m),h===y)break;h=h.return}}function yc(h,m){nm=h,ky=xc=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(vr=!0),h.firstContext=null)}function rs(h){var m=h._currentValue;if(ky!==h)if(h={context:h,memoizedValue:m,next:null},xc===null){if(nm===null)throw Error(n(308));xc=h,nm.dependencies={lanes:0,firstContext:h}}else xc=xc.next=h;return m}var Fo=null;function Ay(h){Fo===null?Fo=[h]:Fo.push(h)}function sC(h,m,y,N){var k=m.interleaved;return k===null?(y.next=y,Ay(m)):(y.next=k.next,k.next=y),m.interleaved=y,Ei(h,N)}function Ei(h,m){h.lanes|=m;var y=h.alternate;for(y!==null&&(y.lanes|=m),y=h,h=h.return;h!==null;)h.childLanes|=m,y=h.alternate,y!==null&&(y.childLanes|=m),y=h,h=h.return;return y.tag===3?y.stateNode:null}var Ma=!1;function Py(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iC(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Mi(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Aa(h,m,y){var N=h.updateQueue;if(N===null)return null;if(N=N.shared,(ut&2)!==0){var k=N.pending;return k===null?m.next=m:(m.next=k.next,k.next=m),N.pending=m,Ei(h,y)}return k=N.interleaved,k===null?(m.next=m,Ay(N)):(m.next=k.next,k.next=m),N.interleaved=m,Ei(h,y)}function rm(h,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194240)!==0)){var N=m.lanes;N&=h.pendingLanes,y|=N,m.lanes=y,Wx(h,y)}}function aC(h,m){var y=h.updateQueue,N=h.alternate;if(N!==null&&(N=N.updateQueue,y===N)){var k=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var I={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};O===null?k=O=I:O=O.next=I,y=y.next}while(y!==null);O===null?k=O=m:O=O.next=m}else k=O=m;y={baseState:N.baseState,firstBaseUpdate:k,lastBaseUpdate:O,shared:N.shared,effects:N.effects},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=m}function sm(h,m,y,N){var k=h.updateQueue;Ma=!1;var O=k.firstBaseUpdate,I=k.lastBaseUpdate,U=k.shared.pending;if(U!==null){k.shared.pending=null;var Y=U,ae=Y.next;Y.next=null,I===null?O=ae:I.next=ae,I=Y;var pe=h.alternate;pe!==null&&(pe=pe.updateQueue,U=pe.lastBaseUpdate,U!==I&&(U===null?pe.firstBaseUpdate=ae:U.next=ae,pe.lastBaseUpdate=Y))}if(O!==null){var xe=k.baseState;I=0,pe=ae=Y=null,U=O;do{var me=U.lane,Pe=U.eventTime;if((N&me)===me){pe!==null&&(pe=pe.next={eventTime:Pe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var De=h,Ie=U;switch(me=m,Pe=y,Ie.tag){case 1:if(De=Ie.payload,typeof De=="function"){xe=De.call(Pe,xe,me);break e}xe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ie.payload,me=typeof De=="function"?De.call(Pe,xe,me):De,me==null)break e;xe=X({},xe,me);break e;case 2:Ma=!0}}U.callback!==null&&U.lane!==0&&(h.flags|=64,me=k.effects,me===null?k.effects=[U]:me.push(U))}else Pe={eventTime:Pe,lane:me,tag:U.tag,payload:U.payload,callback:U.callback,next:null},pe===null?(ae=pe=Pe,Y=xe):pe=pe.next=Pe,I|=me;if(U=U.next,U===null){if(U=k.shared.pending,U===null)break;me=U,U=me.next,me.next=null,k.lastBaseUpdate=me,k.shared.pending=null}}while(!0);if(pe===null&&(Y=xe),k.baseState=Y,k.firstBaseUpdate=ae,k.lastBaseUpdate=pe,m=k.shared.interleaved,m!==null){k=m;do I|=k.lane,k=k.next;while(k!==m)}else O===null&&(k.shared.lanes=0);$o|=I,h.lanes=I,h.memoizedState=xe}}function oC(h,m,y){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var N=h[m],k=N.callback;if(k!==null){if(N.callback=null,N=y,typeof k!="function")throw Error(n(191,k));k.call(N)}}}var id={},Ks=ka(id),ad=ka(id),od=ka(id);function zo(h){if(h===id)throw Error(n(174));return h}function Oy(h,m){switch(kt(od,m),kt(ad,h),kt(Ks,id),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:ct(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=ct(m,h)}Ot(Ks),kt(Ks,m)}function bc(){Ot(Ks),Ot(ad),Ot(od)}function lC(h){zo(od.current);var m=zo(Ks.current),y=ct(m,h.type);m!==y&&(kt(ad,h),kt(Ks,y))}function _y(h){ad.current===h&&(Ot(Ks),Ot(ad))}var Ht=ka(0);function im(h){for(var m=h;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Dy=[];function Iy(){for(var h=0;h<Dy.length;h++)Dy[h]._workInProgressVersionPrimary=null;Dy.length=0}var am=M.ReactCurrentDispatcher,Ly=M.ReactCurrentBatchConfig,Vo=0,Ut=null,yn=null,Nn=null,om=!1,ld=!1,cd=0,Jz=0;function qn(){throw Error(n(321))}function Ry(h,m){if(m===null)return!1;for(var y=0;y<m.length&&y<h.length;y++)if(!Cs(h[y],m[y]))return!1;return!0}function Fy(h,m,y,N,k,O){if(Vo=O,Ut=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,am.current=h===null||h.memoizedState===null?nV:rV,h=y(N,k),ld){O=0;do{if(ld=!1,cd=0,25<=O)throw Error(n(301));O+=1,Nn=yn=null,m.updateQueue=null,am.current=sV,h=y(N,k)}while(ld)}if(am.current=um,m=yn!==null&&yn.next!==null,Vo=0,Nn=yn=Ut=null,om=!1,m)throw Error(n(300));return h}function zy(){var h=cd!==0;return cd=0,h}function Gs(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ut.memoizedState=Nn=h:Nn=Nn.next=h,Nn}function ss(){if(yn===null){var h=Ut.alternate;h=h!==null?h.memoizedState:null}else h=yn.next;var m=Nn===null?Ut.memoizedState:Nn.next;if(m!==null)Nn=m,yn=h;else{if(h===null)throw Error(n(310));yn=h,h={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Nn===null?Ut.memoizedState=Nn=h:Nn=Nn.next=h}return Nn}function ud(h,m){return typeof m=="function"?m(h):m}function Vy(h){var m=ss(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var N=yn,k=N.baseQueue,O=y.pending;if(O!==null){if(k!==null){var I=k.next;k.next=O.next,O.next=I}N.baseQueue=k=O,y.pending=null}if(k!==null){O=k.next,N=N.baseState;var U=I=null,Y=null,ae=O;do{var pe=ae.lane;if((Vo&pe)===pe)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),N=ae.hasEagerState?ae.eagerState:h(N,ae.action);else{var xe={lane:pe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?(U=Y=xe,I=N):Y=Y.next=xe,Ut.lanes|=pe,$o|=pe}ae=ae.next}while(ae!==null&&ae!==O);Y===null?I=N:Y.next=U,Cs(N,m.memoizedState)||(vr=!0),m.memoizedState=N,m.baseState=I,m.baseQueue=Y,y.lastRenderedState=N}if(h=y.interleaved,h!==null){k=h;do O=k.lane,Ut.lanes|=O,$o|=O,k=k.next;while(k!==h)}else k===null&&(y.lanes=0);return[m.memoizedState,y.dispatch]}function $y(h){var m=ss(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var N=y.dispatch,k=y.pending,O=m.memoizedState;if(k!==null){y.pending=null;var I=k=k.next;do O=h(O,I.action),I=I.next;while(I!==k);Cs(O,m.memoizedState)||(vr=!0),m.memoizedState=O,m.baseQueue===null&&(m.baseState=O),y.lastRenderedState=O}return[O,N]}function cC(){}function uC(h,m){var y=Ut,N=ss(),k=m(),O=!Cs(N.memoizedState,k);if(O&&(N.memoizedState=k,vr=!0),N=N.queue,By(fC.bind(null,y,N,h),[h]),N.getSnapshot!==m||O||Nn!==null&&Nn.memoizedState.tag&1){if(y.flags|=2048,dd(9,hC.bind(null,y,N,k,m),void 0,null),Sn===null)throw Error(n(349));(Vo&30)!==0||dC(y,m,k)}return k}function dC(h,m,y){h.flags|=16384,h={getSnapshot:m,value:y},m=Ut.updateQueue,m===null?(m={lastEffect:null,stores:null},Ut.updateQueue=m,m.stores=[h]):(y=m.stores,y===null?m.stores=[h]:y.push(h))}function hC(h,m,y,N){m.value=y,m.getSnapshot=N,mC(m)&&pC(h)}function fC(h,m,y){return y(function(){mC(m)&&pC(h)})}function mC(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!Cs(h,y)}catch{return!0}}function pC(h){var m=Ei(h,1);m!==null&&As(m,h,1,-1)}function gC(h){var m=Gs();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:h},m.queue=h,h=h.dispatch=tV.bind(null,Ut,h),[m.memoizedState,h]}function dd(h,m,y,N){return h={tag:h,create:m,destroy:y,deps:N,next:null},m=Ut.updateQueue,m===null?(m={lastEffect:null,stores:null},Ut.updateQueue=m,m.lastEffect=h.next=h):(y=m.lastEffect,y===null?m.lastEffect=h.next=h:(N=y.next,y.next=h,h.next=N,m.lastEffect=h)),h}function xC(){return ss().memoizedState}function lm(h,m,y,N){var k=Gs();Ut.flags|=h,k.memoizedState=dd(1|m,y,void 0,N===void 0?null:N)}function cm(h,m,y,N){var k=ss();N=N===void 0?null:N;var O=void 0;if(yn!==null){var I=yn.memoizedState;if(O=I.destroy,N!==null&&Ry(N,I.deps)){k.memoizedState=dd(m,y,O,N);return}}Ut.flags|=h,k.memoizedState=dd(1|m,y,O,N)}function yC(h,m){return lm(8390656,8,h,m)}function By(h,m){return cm(2048,8,h,m)}function bC(h,m){return cm(4,2,h,m)}function vC(h,m){return cm(4,4,h,m)}function wC(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function NC(h,m,y){return y=y!=null?y.concat([h]):null,cm(4,4,wC.bind(null,m,h),y)}function Hy(){}function SC(h,m){var y=ss();m=m===void 0?null:m;var N=y.memoizedState;return N!==null&&m!==null&&Ry(m,N[1])?N[0]:(y.memoizedState=[h,m],h)}function jC(h,m){var y=ss();m=m===void 0?null:m;var N=y.memoizedState;return N!==null&&m!==null&&Ry(m,N[1])?N[0]:(h=h(),y.memoizedState=[h,m],h)}function CC(h,m,y){return(Vo&21)===0?(h.baseState&&(h.baseState=!1,vr=!0),h.memoizedState=y):(Cs(y,m)||(y=t4(),Ut.lanes|=y,$o|=y,h.baseState=!0),m)}function Zz(h,m){var y=vt;vt=y!==0&&4>y?y:4,h(!0);var N=Ly.transition;Ly.transition={};try{h(!1),m()}finally{vt=y,Ly.transition=N}}function kC(){return ss().memoizedState}function eV(h,m,y){var N=Da(h);if(y={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null},TC(h))EC(m,y);else if(y=sC(h,m,y,N),y!==null){var k=cr();As(y,h,N,k),MC(y,m,N)}}function tV(h,m,y){var N=Da(h),k={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null};if(TC(h))EC(m,k);else{var O=h.alternate;if(h.lanes===0&&(O===null||O.lanes===0)&&(O=m.lastRenderedReducer,O!==null))try{var I=m.lastRenderedState,U=O(I,y);if(k.hasEagerState=!0,k.eagerState=U,Cs(U,I)){var Y=m.interleaved;Y===null?(k.next=k,Ay(m)):(k.next=Y.next,Y.next=k),m.interleaved=k;return}}catch{}finally{}y=sC(h,m,k,N),y!==null&&(k=cr(),As(y,h,N,k),MC(y,m,N))}}function TC(h){var m=h.alternate;return h===Ut||m!==null&&m===Ut}function EC(h,m){ld=om=!0;var y=h.pending;y===null?m.next=m:(m.next=y.next,y.next=m),h.pending=m}function MC(h,m,y){if((y&4194240)!==0){var N=m.lanes;N&=h.pendingLanes,y|=N,m.lanes=y,Wx(h,y)}}var um={readContext:rs,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},nV={readContext:rs,useCallback:function(h,m){return Gs().memoizedState=[h,m===void 0?null:m],h},useContext:rs,useEffect:yC,useImperativeHandle:function(h,m,y){return y=y!=null?y.concat([h]):null,lm(4194308,4,wC.bind(null,m,h),y)},useLayoutEffect:function(h,m){return lm(4194308,4,h,m)},useInsertionEffect:function(h,m){return lm(4,2,h,m)},useMemo:function(h,m){var y=Gs();return m=m===void 0?null:m,h=h(),y.memoizedState=[h,m],h},useReducer:function(h,m,y){var N=Gs();return m=y!==void 0?y(m):m,N.memoizedState=N.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},N.queue=h,h=h.dispatch=eV.bind(null,Ut,h),[N.memoizedState,h]},useRef:function(h){var m=Gs();return h={current:h},m.memoizedState=h},useState:gC,useDebugValue:Hy,useDeferredValue:function(h){return Gs().memoizedState=h},useTransition:function(){var h=gC(!1),m=h[0];return h=Zz.bind(null,h[1]),Gs().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,y){var N=Ut,k=Gs();if(Ft){if(y===void 0)throw Error(n(407));y=y()}else{if(y=m(),Sn===null)throw Error(n(349));(Vo&30)!==0||dC(N,m,y)}k.memoizedState=y;var O={value:y,getSnapshot:m};return k.queue=O,yC(fC.bind(null,N,O,h),[h]),N.flags|=2048,dd(9,hC.bind(null,N,O,y,m),void 0,null),y},useId:function(){var h=Gs(),m=Sn.identifierPrefix;if(Ft){var y=Ti,N=ki;y=(N&~(1<<32-js(N)-1)).toString(32)+y,m=":"+m+"R"+y,y=cd++,0<y&&(m+="H"+y.toString(32)),m+=":"}else y=Jz++,m=":"+m+"r"+y.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},rV={readContext:rs,useCallback:SC,useContext:rs,useEffect:By,useImperativeHandle:NC,useInsertionEffect:bC,useLayoutEffect:vC,useMemo:jC,useReducer:Vy,useRef:xC,useState:function(){return Vy(ud)},useDebugValue:Hy,useDeferredValue:function(h){var m=ss();return CC(m,yn.memoizedState,h)},useTransition:function(){var h=Vy(ud)[0],m=ss().memoizedState;return[h,m]},useMutableSource:cC,useSyncExternalStore:uC,useId:kC,unstable_isNewReconciler:!1},sV={readContext:rs,useCallback:SC,useContext:rs,useEffect:By,useImperativeHandle:NC,useInsertionEffect:bC,useLayoutEffect:vC,useMemo:jC,useReducer:$y,useRef:xC,useState:function(){return $y(ud)},useDebugValue:Hy,useDeferredValue:function(h){var m=ss();return yn===null?m.memoizedState=h:CC(m,yn.memoizedState,h)},useTransition:function(){var h=$y(ud)[0],m=ss().memoizedState;return[h,m]},useMutableSource:cC,useSyncExternalStore:uC,useId:kC,unstable_isNewReconciler:!1};function Ts(h,m){if(h&&h.defaultProps){m=X({},m),h=h.defaultProps;for(var y in h)m[y]===void 0&&(m[y]=h[y]);return m}return m}function Uy(h,m,y,N){m=h.memoizedState,y=y(N,m),y=y==null?m:X({},m,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var dm={isMounted:function(h){return(h=h._reactInternals)?_o(h)===h:!1},enqueueSetState:function(h,m,y){h=h._reactInternals;var N=cr(),k=Da(h),O=Mi(N,k);O.payload=m,y!=null&&(O.callback=y),m=Aa(h,O,k),m!==null&&(As(m,h,k,N),rm(m,h,k))},enqueueReplaceState:function(h,m,y){h=h._reactInternals;var N=cr(),k=Da(h),O=Mi(N,k);O.tag=1,O.payload=m,y!=null&&(O.callback=y),m=Aa(h,O,k),m!==null&&(As(m,h,k,N),rm(m,h,k))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var y=cr(),N=Da(h),k=Mi(y,N);k.tag=2,m!=null&&(k.callback=m),m=Aa(h,k,N),m!==null&&(As(m,h,N,y),rm(m,h,N))}};function AC(h,m,y,N,k,O,I){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(N,O,I):m.prototype&&m.prototype.isPureReactComponent?!Qu(y,N)||!Qu(k,O):!0}function PC(h,m,y){var N=!1,k=Ta,O=m.contextType;return typeof O=="object"&&O!==null?O=rs(O):(k=br(m)?Io:Wn.current,N=m.contextTypes,O=(N=N!=null)?hc(h,k):Ta),m=new m(y,O),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dm,h.stateNode=m,m._reactInternals=h,N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=k,h.__reactInternalMemoizedMaskedChildContext=O),m}function OC(h,m,y,N){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,N),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,N),m.state!==h&&dm.enqueueReplaceState(m,m.state,null)}function Wy(h,m,y,N){var k=h.stateNode;k.props=y,k.state=h.memoizedState,k.refs={},Py(h);var O=m.contextType;typeof O=="object"&&O!==null?k.context=rs(O):(O=br(m)?Io:Wn.current,k.context=hc(h,O)),k.state=h.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(Uy(h,m,O,y),k.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(m=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),m!==k.state&&dm.enqueueReplaceState(k,k.state,null),sm(h,y,k,N),k.state=h.memoizedState),typeof k.componentDidMount=="function"&&(h.flags|=4194308)}function vc(h,m){try{var y="",N=m;do y+=fe(N),N=N.return;while(N);var k=y}catch(O){k=`
Error generating stack: `+O.message+`
`+O.stack}return{value:h,source:m,stack:k,digest:null}}function qy(h,m,y){return{value:h,source:null,stack:y??null,digest:m??null}}function Ky(h,m){try{console.error(m.value)}catch(y){setTimeout(function(){throw y})}}var iV=typeof WeakMap=="function"?WeakMap:Map;function _C(h,m,y){y=Mi(-1,y),y.tag=3,y.payload={element:null};var N=m.value;return y.callback=function(){ym||(ym=!0,lb=N),Ky(h,m)},y}function DC(h,m,y){y=Mi(-1,y),y.tag=3;var N=h.type.getDerivedStateFromError;if(typeof N=="function"){var k=m.value;y.payload=function(){return N(k)},y.callback=function(){Ky(h,m)}}var O=h.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(y.callback=function(){Ky(h,m),typeof N!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})}),y}function IC(h,m,y){var N=h.pingCache;if(N===null){N=h.pingCache=new iV;var k=new Set;N.set(m,k)}else k=N.get(m),k===void 0&&(k=new Set,N.set(m,k));k.has(y)||(k.add(y),h=bV.bind(null,h,m,y),m.then(h,h))}function LC(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function RC(h,m,y,N,k){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(m=Mi(-1,1),m.tag=2,Aa(y,m,1))),y.lanes|=1),h):(h.flags|=65536,h.lanes=k,h)}var aV=M.ReactCurrentOwner,vr=!1;function lr(h,m,y,N){m.child=h===null?rC(m,null,y,N):gc(m,h.child,y,N)}function FC(h,m,y,N,k){y=y.render;var O=m.ref;return yc(m,k),N=Fy(h,m,y,N,O,k),y=zy(),h!==null&&!vr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~k,Ai(h,m,k)):(Ft&&y&&wy(m),m.flags|=1,lr(h,m,N,k),m.child)}function zC(h,m,y,N,k){if(h===null){var O=y.type;return typeof O=="function"&&!pb(O)&&O.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(m.tag=15,m.type=O,VC(h,m,O,N,k)):(h=jm(y.type,null,N,m,m.mode,k),h.ref=m.ref,h.return=m,m.child=h)}if(O=h.child,(h.lanes&k)===0){var I=O.memoizedProps;if(y=y.compare,y=y!==null?y:Qu,y(I,N)&&h.ref===m.ref)return Ai(h,m,k)}return m.flags|=1,h=La(O,N),h.ref=m.ref,h.return=m,m.child=h}function VC(h,m,y,N,k){if(h!==null){var O=h.memoizedProps;if(Qu(O,N)&&h.ref===m.ref)if(vr=!1,m.pendingProps=N=O,(h.lanes&k)!==0)(h.flags&131072)!==0&&(vr=!0);else return m.lanes=h.lanes,Ai(h,m,k)}return Gy(h,m,y,N,k)}function $C(h,m,y){var N=m.pendingProps,k=N.children,O=h!==null?h.memoizedState:null;if(N.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Nc,Vr),Vr|=y;else{if((y&1073741824)===0)return h=O!==null?O.baseLanes|y:y,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,kt(Nc,Vr),Vr|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=O!==null?O.baseLanes:y,kt(Nc,Vr),Vr|=N}else O!==null?(N=O.baseLanes|y,m.memoizedState=null):N=y,kt(Nc,Vr),Vr|=N;return lr(h,m,k,y),m.child}function BC(h,m){var y=m.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(m.flags|=512,m.flags|=2097152)}function Gy(h,m,y,N,k){var O=br(y)?Io:Wn.current;return O=hc(m,O),yc(m,k),y=Fy(h,m,y,N,O,k),N=zy(),h!==null&&!vr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~k,Ai(h,m,k)):(Ft&&N&&wy(m),m.flags|=1,lr(h,m,y,k),m.child)}function HC(h,m,y,N,k){if(br(y)){var O=!0;Yf(m)}else O=!1;if(yc(m,k),m.stateNode===null)fm(h,m),PC(m,y,N),Wy(m,y,N,k),N=!0;else if(h===null){var I=m.stateNode,U=m.memoizedProps;I.props=U;var Y=I.context,ae=y.contextType;typeof ae=="object"&&ae!==null?ae=rs(ae):(ae=br(y)?Io:Wn.current,ae=hc(m,ae));var pe=y.getDerivedStateFromProps,xe=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function";xe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==N||Y!==ae)&&OC(m,I,N,ae),Ma=!1;var me=m.memoizedState;I.state=me,sm(m,N,I,k),Y=m.memoizedState,U!==N||me!==Y||yr.current||Ma?(typeof pe=="function"&&(Uy(m,y,pe,N),Y=m.memoizedState),(U=Ma||AC(m,y,U,N,me,Y,ae))?(xe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(m.flags|=4194308)):(typeof I.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=N,m.memoizedState=Y),I.props=N,I.state=Y,I.context=ae,N=U):(typeof I.componentDidMount=="function"&&(m.flags|=4194308),N=!1)}else{I=m.stateNode,iC(h,m),U=m.memoizedProps,ae=m.type===m.elementType?U:Ts(m.type,U),I.props=ae,xe=m.pendingProps,me=I.context,Y=y.contextType,typeof Y=="object"&&Y!==null?Y=rs(Y):(Y=br(y)?Io:Wn.current,Y=hc(m,Y));var Pe=y.getDerivedStateFromProps;(pe=typeof Pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==xe||me!==Y)&&OC(m,I,N,Y),Ma=!1,me=m.memoizedState,I.state=me,sm(m,N,I,k);var De=m.memoizedState;U!==xe||me!==De||yr.current||Ma?(typeof Pe=="function"&&(Uy(m,y,Pe,N),De=m.memoizedState),(ae=Ma||AC(m,y,ae,N,me,De,Y)||!1)?(pe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(N,De,Y),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(N,De,Y)),typeof I.componentDidUpdate=="function"&&(m.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof I.componentDidUpdate!="function"||U===h.memoizedProps&&me===h.memoizedState||(m.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===h.memoizedProps&&me===h.memoizedState||(m.flags|=1024),m.memoizedProps=N,m.memoizedState=De),I.props=N,I.state=De,I.context=Y,N=ae):(typeof I.componentDidUpdate!="function"||U===h.memoizedProps&&me===h.memoizedState||(m.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===h.memoizedProps&&me===h.memoizedState||(m.flags|=1024),N=!1)}return Yy(h,m,y,N,O,k)}function Yy(h,m,y,N,k,O){BC(h,m);var I=(m.flags&128)!==0;if(!N&&!I)return k&&G4(m,y,!1),Ai(h,m,O);N=m.stateNode,aV.current=m;var U=I&&typeof y.getDerivedStateFromError!="function"?null:N.render();return m.flags|=1,h!==null&&I?(m.child=gc(m,h.child,null,O),m.child=gc(m,null,U,O)):lr(h,m,U,O),m.memoizedState=N.state,k&&G4(m,y,!0),m.child}function UC(h){var m=h.stateNode;m.pendingContext?q4(h,m.pendingContext,m.pendingContext!==m.context):m.context&&q4(h,m.context,!1),Oy(h,m.containerInfo)}function WC(h,m,y,N,k){return pc(),Cy(k),m.flags|=256,lr(h,m,y,N),m.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Qy(h){return{baseLanes:h,cachePool:null,transitions:null}}function qC(h,m,y){var N=m.pendingProps,k=Ht.current,O=!1,I=(m.flags&128)!==0,U;if((U=I)||(U=h!==null&&h.memoizedState===null?!1:(k&2)!==0),U?(O=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(k|=1),kt(Ht,k&1),h===null)return jy(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(I=N.children,h=N.fallback,O?(N=m.mode,O=m.child,I={mode:"hidden",children:I},(N&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=I):O=Cm(I,N,0,null),h=Wo(h,N,y,null),O.return=m,h.return=m,O.sibling=h,m.child=O,m.child.memoizedState=Qy(y),m.memoizedState=Xy,h):Jy(m,I));if(k=h.memoizedState,k!==null&&(U=k.dehydrated,U!==null))return oV(h,m,I,N,U,k,y);if(O){O=N.fallback,I=m.mode,k=h.child,U=k.sibling;var Y={mode:"hidden",children:N.children};return(I&1)===0&&m.child!==k?(N=m.child,N.childLanes=0,N.pendingProps=Y,m.deletions=null):(N=La(k,Y),N.subtreeFlags=k.subtreeFlags&14680064),U!==null?O=La(U,O):(O=Wo(O,I,y,null),O.flags|=2),O.return=m,N.return=m,N.sibling=O,m.child=N,N=O,O=m.child,I=h.child.memoizedState,I=I===null?Qy(y):{baseLanes:I.baseLanes|y,cachePool:null,transitions:I.transitions},O.memoizedState=I,O.childLanes=h.childLanes&~y,m.memoizedState=Xy,N}return O=h.child,h=O.sibling,N=La(O,{mode:"visible",children:N.children}),(m.mode&1)===0&&(N.lanes=y),N.return=m,N.sibling=null,h!==null&&(y=m.deletions,y===null?(m.deletions=[h],m.flags|=16):y.push(h)),m.child=N,m.memoizedState=null,N}function Jy(h,m){return m=Cm({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function hm(h,m,y,N){return N!==null&&Cy(N),gc(m,h.child,null,y),h=Jy(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function oV(h,m,y,N,k,O,I){if(y)return m.flags&256?(m.flags&=-257,N=qy(Error(n(422))),hm(h,m,I,N)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(O=N.fallback,k=m.mode,N=Cm({mode:"visible",children:N.children},k,0,null),O=Wo(O,k,I,null),O.flags|=2,N.return=m,O.return=m,N.sibling=O,m.child=N,(m.mode&1)!==0&&gc(m,h.child,null,I),m.child.memoizedState=Qy(I),m.memoizedState=Xy,O);if((m.mode&1)===0)return hm(h,m,I,null);if(k.data==="$!"){if(N=k.nextSibling&&k.nextSibling.dataset,N)var U=N.dgst;return N=U,O=Error(n(419)),N=qy(O,N,void 0),hm(h,m,I,N)}if(U=(I&h.childLanes)!==0,vr||U){if(N=Sn,N!==null){switch(I&-I){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(N.suspendedLanes|I))!==0?0:k,k!==0&&k!==O.retryLane&&(O.retryLane=k,Ei(h,k),As(N,h,k,-1))}return mb(),N=qy(Error(n(421))),hm(h,m,I,N)}return k.data==="$?"?(m.flags|=128,m.child=h.child,m=vV.bind(null,h),k._reactRetry=m,null):(h=O.treeContext,zr=Ca(k.nextSibling),Fr=m,Ft=!0,ks=null,h!==null&&(ts[ns++]=ki,ts[ns++]=Ti,ts[ns++]=Lo,ki=h.id,Ti=h.overflow,Lo=m),m=Jy(m,N.children),m.flags|=4096,m)}function KC(h,m,y){h.lanes|=m;var N=h.alternate;N!==null&&(N.lanes|=m),My(h.return,m,y)}function Zy(h,m,y,N,k){var O=h.memoizedState;O===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:N,tail:y,tailMode:k}:(O.isBackwards=m,O.rendering=null,O.renderingStartTime=0,O.last=N,O.tail=y,O.tailMode=k)}function GC(h,m,y){var N=m.pendingProps,k=N.revealOrder,O=N.tail;if(lr(h,m,N.children,y),N=Ht.current,(N&2)!==0)N=N&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&KC(h,y,m);else if(h.tag===19)KC(h,y,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}N&=1}if(kt(Ht,N),(m.mode&1)===0)m.memoizedState=null;else switch(k){case"forwards":for(y=m.child,k=null;y!==null;)h=y.alternate,h!==null&&im(h)===null&&(k=y),y=y.sibling;y=k,y===null?(k=m.child,m.child=null):(k=y.sibling,y.sibling=null),Zy(m,!1,k,y,O);break;case"backwards":for(y=null,k=m.child,m.child=null;k!==null;){if(h=k.alternate,h!==null&&im(h)===null){m.child=k;break}h=k.sibling,k.sibling=y,y=k,k=h}Zy(m,!0,y,null,O);break;case"together":Zy(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function fm(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function Ai(h,m,y){if(h!==null&&(m.dependencies=h.dependencies),$o|=m.lanes,(y&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,y=La(h,h.pendingProps),m.child=y,y.return=m;h.sibling!==null;)h=h.sibling,y=y.sibling=La(h,h.pendingProps),y.return=m;y.sibling=null}return m.child}function lV(h,m,y){switch(m.tag){case 3:UC(m),pc();break;case 5:lC(m);break;case 1:br(m.type)&&Yf(m);break;case 4:Oy(m,m.stateNode.containerInfo);break;case 10:var N=m.type._context,k=m.memoizedProps.value;kt(tm,N._currentValue),N._currentValue=k;break;case 13:if(N=m.memoizedState,N!==null)return N.dehydrated!==null?(kt(Ht,Ht.current&1),m.flags|=128,null):(y&m.child.childLanes)!==0?qC(h,m,y):(kt(Ht,Ht.current&1),h=Ai(h,m,y),h!==null?h.sibling:null);kt(Ht,Ht.current&1);break;case 19:if(N=(y&m.childLanes)!==0,(h.flags&128)!==0){if(N)return GC(h,m,y);m.flags|=128}if(k=m.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),kt(Ht,Ht.current),N)break;return null;case 22:case 23:return m.lanes=0,$C(h,m,y)}return Ai(h,m,y)}var YC,eb,XC,QC;YC=function(h,m){for(var y=m.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},eb=function(){},XC=function(h,m,y,N){var k=h.memoizedProps;if(k!==N){h=m.stateNode,zo(Ks.current);var O=null;switch(y){case"input":k=Oe(h,k),N=Oe(h,N),O=[];break;case"select":k=X({},k,{value:void 0}),N=X({},N,{value:void 0}),O=[];break;case"textarea":k=ce(h,k),N=ce(h,N),O=[];break;default:typeof k.onClick!="function"&&typeof N.onClick=="function"&&(h.onclick=qf)}Zl(y,N);var I;y=null;for(ae in k)if(!N.hasOwnProperty(ae)&&k.hasOwnProperty(ae)&&k[ae]!=null)if(ae==="style"){var U=k[ae];for(I in U)U.hasOwnProperty(I)&&(y||(y={}),y[I]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?O||(O=[]):(O=O||[]).push(ae,null));for(ae in N){var Y=N[ae];if(U=k?.[ae],N.hasOwnProperty(ae)&&Y!==U&&(Y!=null||U!=null))if(ae==="style")if(U){for(I in U)!U.hasOwnProperty(I)||Y&&Y.hasOwnProperty(I)||(y||(y={}),y[I]="");for(I in Y)Y.hasOwnProperty(I)&&U[I]!==Y[I]&&(y||(y={}),y[I]=Y[I])}else y||(O||(O=[]),O.push(ae,y)),y=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,U=U?U.__html:void 0,Y!=null&&U!==Y&&(O=O||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(O=O||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&Pt("scroll",h),O||U===Y||(O=[])):(O=O||[]).push(ae,Y))}y&&(O=O||[]).push("style",y);var ae=O;(m.updateQueue=ae)&&(m.flags|=4)}},QC=function(h,m,y,N){y!==N&&(m.flags|=4)};function hd(h,m){if(!Ft)switch(h.tailMode){case"hidden":m=h.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var N=null;y!==null;)y.alternate!==null&&(N=y),y=y.sibling;N===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:N.sibling=null}}function Kn(h){var m=h.alternate!==null&&h.alternate.child===h.child,y=0,N=0;if(m)for(var k=h.child;k!==null;)y|=k.lanes|k.childLanes,N|=k.subtreeFlags&14680064,N|=k.flags&14680064,k.return=h,k=k.sibling;else for(k=h.child;k!==null;)y|=k.lanes|k.childLanes,N|=k.subtreeFlags,N|=k.flags,k.return=h,k=k.sibling;return h.subtreeFlags|=N,h.childLanes=y,m}function cV(h,m,y){var N=m.pendingProps;switch(Ny(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(m),null;case 1:return br(m.type)&&Gf(),Kn(m),null;case 3:return N=m.stateNode,bc(),Ot(yr),Ot(Wn),Iy(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(h===null||h.child===null)&&(Zf(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ks!==null&&(db(ks),ks=null))),eb(h,m),Kn(m),null;case 5:_y(m);var k=zo(od.current);if(y=m.type,h!==null&&m.stateNode!=null)XC(h,m,y,N,k),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!N){if(m.stateNode===null)throw Error(n(166));return Kn(m),null}if(h=zo(Ks.current),Zf(m)){N=m.stateNode,y=m.type;var O=m.memoizedProps;switch(N[qs]=m,N[nd]=O,h=(m.mode&1)!==0,y){case"dialog":Pt("cancel",N),Pt("close",N);break;case"iframe":case"object":case"embed":Pt("load",N);break;case"video":case"audio":for(k=0;k<Zu.length;k++)Pt(Zu[k],N);break;case"source":Pt("error",N);break;case"img":case"image":case"link":Pt("error",N),Pt("load",N);break;case"details":Pt("toggle",N);break;case"input":Ye(N,O),Pt("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!O.multiple},Pt("invalid",N);break;case"textarea":Ae(N,O),Pt("invalid",N)}Zl(y,O),k=null;for(var I in O)if(O.hasOwnProperty(I)){var U=O[I];I==="children"?typeof U=="string"?N.textContent!==U&&(O.suppressHydrationWarning!==!0&&Wf(N.textContent,U,h),k=["children",U]):typeof U=="number"&&N.textContent!==""+U&&(O.suppressHydrationWarning!==!0&&Wf(N.textContent,U,h),k=["children",""+U]):s.hasOwnProperty(I)&&U!=null&&I==="onScroll"&&Pt("scroll",N)}switch(y){case"input":ke(N),gr(N,O,!0);break;case"textarea":ke(N),je(N);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(N.onclick=qf)}N=k,m.updateQueue=N,N!==null&&(m.flags|=4)}else{I=k.nodeType===9?k:k.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ze(y)),h==="http://www.w3.org/1999/xhtml"?y==="script"?(h=I.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof N.is=="string"?h=I.createElement(y,{is:N.is}):(h=I.createElement(y),y==="select"&&(I=h,N.multiple?I.multiple=!0:N.size&&(I.size=N.size))):h=I.createElementNS(h,y),h[qs]=m,h[nd]=N,YC(h,m,!1,!1),m.stateNode=h;e:{switch(I=Iu(y,N),y){case"dialog":Pt("cancel",h),Pt("close",h),k=N;break;case"iframe":case"object":case"embed":Pt("load",h),k=N;break;case"video":case"audio":for(k=0;k<Zu.length;k++)Pt(Zu[k],h);k=N;break;case"source":Pt("error",h),k=N;break;case"img":case"image":case"link":Pt("error",h),Pt("load",h),k=N;break;case"details":Pt("toggle",h),k=N;break;case"input":Ye(h,N),k=Oe(h,N),Pt("invalid",h);break;case"option":k=N;break;case"select":h._wrapperState={wasMultiple:!!N.multiple},k=X({},N,{value:void 0}),Pt("invalid",h);break;case"textarea":Ae(h,N),k=ce(h,N),Pt("invalid",h);break;default:k=N}Zl(y,k),U=k;for(O in U)if(U.hasOwnProperty(O)){var Y=U[O];O==="style"?Jl(h,Y):O==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&or(h,Y)):O==="children"?typeof Y=="string"?(y!=="textarea"||Y!=="")&&Us(h,Y):typeof Y=="number"&&Us(h,""+Y):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?Y!=null&&O==="onScroll"&&Pt("scroll",h):Y!=null&&j(h,O,Y,I))}switch(y){case"input":ke(h),gr(h,N,!1);break;case"textarea":ke(h),je(h);break;case"option":N.value!=null&&h.setAttribute("value",""+ee(N.value));break;case"select":h.multiple=!!N.multiple,O=N.value,O!=null?te(h,!!N.multiple,O,!1):N.defaultValue!=null&&te(h,!!N.multiple,N.defaultValue,!0);break;default:typeof k.onClick=="function"&&(h.onclick=qf)}switch(y){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Kn(m),null;case 6:if(h&&m.stateNode!=null)QC(h,m,h.memoizedProps,N);else{if(typeof N!="string"&&m.stateNode===null)throw Error(n(166));if(y=zo(od.current),zo(Ks.current),Zf(m)){if(N=m.stateNode,y=m.memoizedProps,N[qs]=m,(O=N.nodeValue!==y)&&(h=Fr,h!==null))switch(h.tag){case 3:Wf(N.nodeValue,y,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Wf(N.nodeValue,y,(h.mode&1)!==0)}O&&(m.flags|=4)}else N=(y.nodeType===9?y:y.ownerDocument).createTextNode(N),N[qs]=m,m.stateNode=N}return Kn(m),null;case 13:if(Ot(Ht),N=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Ft&&zr!==null&&(m.mode&1)!==0&&(m.flags&128)===0)eC(),pc(),m.flags|=98560,O=!1;else if(O=Zf(m),N!==null&&N.dehydrated!==null){if(h===null){if(!O)throw Error(n(318));if(O=m.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[qs]=m}else pc(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Kn(m),O=!1}else ks!==null&&(db(ks),ks=null),O=!0;if(!O)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=y,m):(N=N!==null,N!==(h!==null&&h.memoizedState!==null)&&N&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(Ht.current&1)!==0?bn===0&&(bn=3):mb())),m.updateQueue!==null&&(m.flags|=4),Kn(m),null);case 4:return bc(),eb(h,m),h===null&&ed(m.stateNode.containerInfo),Kn(m),null;case 10:return Ey(m.type._context),Kn(m),null;case 17:return br(m.type)&&Gf(),Kn(m),null;case 19:if(Ot(Ht),O=m.memoizedState,O===null)return Kn(m),null;if(N=(m.flags&128)!==0,I=O.rendering,I===null)if(N)hd(O,!1);else{if(bn!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(I=im(h),I!==null){for(m.flags|=128,hd(O,!1),N=I.updateQueue,N!==null&&(m.updateQueue=N,m.flags|=4),m.subtreeFlags=0,N=y,y=m.child;y!==null;)O=y,h=N,O.flags&=14680066,I=O.alternate,I===null?(O.childLanes=0,O.lanes=h,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=I.childLanes,O.lanes=I.lanes,O.child=I.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=I.memoizedProps,O.memoizedState=I.memoizedState,O.updateQueue=I.updateQueue,O.type=I.type,h=I.dependencies,O.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),y=y.sibling;return kt(Ht,Ht.current&1|2),m.child}h=h.sibling}O.tail!==null&&nn()>Sc&&(m.flags|=128,N=!0,hd(O,!1),m.lanes=4194304)}else{if(!N)if(h=im(I),h!==null){if(m.flags|=128,N=!0,y=h.updateQueue,y!==null&&(m.updateQueue=y,m.flags|=4),hd(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!Ft)return Kn(m),null}else 2*nn()-O.renderingStartTime>Sc&&y!==1073741824&&(m.flags|=128,N=!0,hd(O,!1),m.lanes=4194304);O.isBackwards?(I.sibling=m.child,m.child=I):(y=O.last,y!==null?y.sibling=I:m.child=I,O.last=I)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=nn(),m.sibling=null,y=Ht.current,kt(Ht,N?y&1|2:y&1),m):(Kn(m),null);case 22:case 23:return fb(),N=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==N&&(m.flags|=8192),N&&(m.mode&1)!==0?(Vr&1073741824)!==0&&(Kn(m),m.subtreeFlags&6&&(m.flags|=8192)):Kn(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function uV(h,m){switch(Ny(m),m.tag){case 1:return br(m.type)&&Gf(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return bc(),Ot(yr),Ot(Wn),Iy(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return _y(m),null;case 13:if(Ot(Ht),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));pc()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Ot(Ht),null;case 4:return bc(),null;case 10:return Ey(m.type._context),null;case 22:case 23:return fb(),null;case 24:return null;default:return null}}var mm=!1,Gn=!1,dV=typeof WeakSet=="function"?WeakSet:Set,_e=null;function wc(h,m){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(N){Kt(h,m,N)}else y.current=null}function tb(h,m,y){try{y()}catch(N){Kt(h,m,N)}}var JC=!1;function hV(h,m){if(fy=Df,h=A4(),iy(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var N=y.getSelection&&y.getSelection();if(N&&N.rangeCount!==0){y=N.anchorNode;var k=N.anchorOffset,O=N.focusNode;N=N.focusOffset;try{y.nodeType,O.nodeType}catch{y=null;break e}var I=0,U=-1,Y=-1,ae=0,pe=0,xe=h,me=null;t:for(;;){for(var Pe;xe!==y||k!==0&&xe.nodeType!==3||(U=I+k),xe!==O||N!==0&&xe.nodeType!==3||(Y=I+N),xe.nodeType===3&&(I+=xe.nodeValue.length),(Pe=xe.firstChild)!==null;)me=xe,xe=Pe;for(;;){if(xe===h)break t;if(me===y&&++ae===k&&(U=I),me===O&&++pe===N&&(Y=I),(Pe=xe.nextSibling)!==null)break;xe=me,me=xe.parentNode}xe=Pe}y=U===-1||Y===-1?null:{start:U,end:Y}}else y=null}y=y||{start:0,end:0}}else y=null;for(my={focusedElem:h,selectionRange:y},Df=!1,_e=m;_e!==null;)if(m=_e,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,_e=h;else for(;_e!==null;){m=_e;try{var De=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Ie=De.memoizedProps,rn=De.memoizedState,Z=m.stateNode,Q=Z.getSnapshotBeforeUpdate(m.elementType===m.type?Ie:Ts(m.type,Ie),rn);Z.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=m.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Kt(m,m.return,Se)}if(h=m.sibling,h!==null){h.return=m.return,_e=h;break}_e=m.return}return De=JC,JC=!1,De}function fd(h,m,y){var N=m.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var k=N=N.next;do{if((k.tag&h)===h){var O=k.destroy;k.destroy=void 0,O!==void 0&&tb(m,y,O)}k=k.next}while(k!==N)}}function pm(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&h)===h){var N=y.create;y.destroy=N()}y=y.next}while(y!==m)}}function nb(h){var m=h.ref;if(m!==null){var y=h.stateNode;switch(h.tag){case 5:h=y;break;default:h=y}typeof m=="function"?m(h):m.current=h}}function ZC(h){var m=h.alternate;m!==null&&(h.alternate=null,ZC(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[qs],delete m[nd],delete m[yy],delete m[Gz],delete m[Yz])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function e3(h){return h.tag===5||h.tag===3||h.tag===4}function t3(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||e3(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function rb(h,m,y){var N=h.tag;if(N===5||N===6)h=h.stateNode,m?y.nodeType===8?y.parentNode.insertBefore(h,m):y.insertBefore(h,m):(y.nodeType===8?(m=y.parentNode,m.insertBefore(h,y)):(m=y,m.appendChild(h)),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=qf));else if(N!==4&&(h=h.child,h!==null))for(rb(h,m,y),h=h.sibling;h!==null;)rb(h,m,y),h=h.sibling}function sb(h,m,y){var N=h.tag;if(N===5||N===6)h=h.stateNode,m?y.insertBefore(h,m):y.appendChild(h);else if(N!==4&&(h=h.child,h!==null))for(sb(h,m,y),h=h.sibling;h!==null;)sb(h,m,y),h=h.sibling}var Dn=null,Es=!1;function Pa(h,m,y){for(y=y.child;y!==null;)n3(h,m,y),y=y.sibling}function n3(h,m,y){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(Ef,y)}catch{}switch(y.tag){case 5:Gn||wc(y,m);case 6:var N=Dn,k=Es;Dn=null,Pa(h,m,y),Dn=N,Es=k,Dn!==null&&(Es?(h=Dn,y=y.stateNode,h.nodeType===8?h.parentNode.removeChild(y):h.removeChild(y)):Dn.removeChild(y.stateNode));break;case 18:Dn!==null&&(Es?(h=Dn,y=y.stateNode,h.nodeType===8?xy(h.parentNode,y):h.nodeType===1&&xy(h,y),Wu(h)):xy(Dn,y.stateNode));break;case 4:N=Dn,k=Es,Dn=y.stateNode.containerInfo,Es=!0,Pa(h,m,y),Dn=N,Es=k;break;case 0:case 11:case 14:case 15:if(!Gn&&(N=y.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){k=N=N.next;do{var O=k,I=O.destroy;O=O.tag,I!==void 0&&((O&2)!==0||(O&4)!==0)&&tb(y,m,I),k=k.next}while(k!==N)}Pa(h,m,y);break;case 1:if(!Gn&&(wc(y,m),N=y.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=y.memoizedProps,N.state=y.memoizedState,N.componentWillUnmount()}catch(U){Kt(y,m,U)}Pa(h,m,y);break;case 21:Pa(h,m,y);break;case 22:y.mode&1?(Gn=(N=Gn)||y.memoizedState!==null,Pa(h,m,y),Gn=N):Pa(h,m,y);break;default:Pa(h,m,y)}}function r3(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new dV),m.forEach(function(N){var k=wV.bind(null,h,N);y.has(N)||(y.add(N),N.then(k,k))})}}function Ms(h,m){var y=m.deletions;if(y!==null)for(var N=0;N<y.length;N++){var k=y[N];try{var O=h,I=m,U=I;e:for(;U!==null;){switch(U.tag){case 5:Dn=U.stateNode,Es=!1;break e;case 3:Dn=U.stateNode.containerInfo,Es=!0;break e;case 4:Dn=U.stateNode.containerInfo,Es=!0;break e}U=U.return}if(Dn===null)throw Error(n(160));n3(O,I,k),Dn=null,Es=!1;var Y=k.alternate;Y!==null&&(Y.return=null),k.return=null}catch(ae){Kt(k,m,ae)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)s3(m,h),m=m.sibling}function s3(h,m){var y=h.alternate,N=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Ms(m,h),Ys(h),N&4){try{fd(3,h,h.return),pm(3,h)}catch(Ie){Kt(h,h.return,Ie)}try{fd(5,h,h.return)}catch(Ie){Kt(h,h.return,Ie)}}break;case 1:Ms(m,h),Ys(h),N&512&&y!==null&&wc(y,y.return);break;case 5:if(Ms(m,h),Ys(h),N&512&&y!==null&&wc(y,y.return),h.flags&32){var k=h.stateNode;try{Us(k,"")}catch(Ie){Kt(h,h.return,Ie)}}if(N&4&&(k=h.stateNode,k!=null)){var O=h.memoizedProps,I=y!==null?y.memoizedProps:O,U=h.type,Y=h.updateQueue;if(h.updateQueue=null,Y!==null)try{U==="input"&&O.type==="radio"&&O.name!=null&&gt(k,O),Iu(U,I);var ae=Iu(U,O);for(I=0;I<Y.length;I+=2){var pe=Y[I],xe=Y[I+1];pe==="style"?Jl(k,xe):pe==="dangerouslySetInnerHTML"?or(k,xe):pe==="children"?Us(k,xe):j(k,pe,xe,ae)}switch(U){case"input":Rt(k,O);break;case"textarea":Ce(k,O);break;case"select":var me=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!O.multiple;var Pe=O.value;Pe!=null?te(k,!!O.multiple,Pe,!1):me!==!!O.multiple&&(O.defaultValue!=null?te(k,!!O.multiple,O.defaultValue,!0):te(k,!!O.multiple,O.multiple?[]:"",!1))}k[nd]=O}catch(Ie){Kt(h,h.return,Ie)}}break;case 6:if(Ms(m,h),Ys(h),N&4){if(h.stateNode===null)throw Error(n(162));k=h.stateNode,O=h.memoizedProps;try{k.nodeValue=O}catch(Ie){Kt(h,h.return,Ie)}}break;case 3:if(Ms(m,h),Ys(h),N&4&&y!==null&&y.memoizedState.isDehydrated)try{Wu(m.containerInfo)}catch(Ie){Kt(h,h.return,Ie)}break;case 4:Ms(m,h),Ys(h);break;case 13:Ms(m,h),Ys(h),k=h.child,k.flags&8192&&(O=k.memoizedState!==null,k.stateNode.isHidden=O,!O||k.alternate!==null&&k.alternate.memoizedState!==null||(ob=nn())),N&4&&r3(h);break;case 22:if(pe=y!==null&&y.memoizedState!==null,h.mode&1?(Gn=(ae=Gn)||pe,Ms(m,h),Gn=ae):Ms(m,h),Ys(h),N&8192){if(ae=h.memoizedState!==null,(h.stateNode.isHidden=ae)&&!pe&&(h.mode&1)!==0)for(_e=h,pe=h.child;pe!==null;){for(xe=_e=pe;_e!==null;){switch(me=_e,Pe=me.child,me.tag){case 0:case 11:case 14:case 15:fd(4,me,me.return);break;case 1:wc(me,me.return);var De=me.stateNode;if(typeof De.componentWillUnmount=="function"){N=me,y=me.return;try{m=N,De.props=m.memoizedProps,De.state=m.memoizedState,De.componentWillUnmount()}catch(Ie){Kt(N,y,Ie)}}break;case 5:wc(me,me.return);break;case 22:if(me.memoizedState!==null){o3(xe);continue}}Pe!==null?(Pe.return=me,_e=Pe):o3(xe)}pe=pe.sibling}e:for(pe=null,xe=h;;){if(xe.tag===5){if(pe===null){pe=xe;try{k=xe.stateNode,ae?(O=k.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(U=xe.stateNode,Y=xe.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,U.style.display=Ql("display",I))}catch(Ie){Kt(h,h.return,Ie)}}}else if(xe.tag===6){if(pe===null)try{xe.stateNode.nodeValue=ae?"":xe.memoizedProps}catch(Ie){Kt(h,h.return,Ie)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===h)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===h)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===h)break e;pe===xe&&(pe=null),xe=xe.return}pe===xe&&(pe=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Ms(m,h),Ys(h),N&4&&r3(h);break;case 21:break;default:Ms(m,h),Ys(h)}}function Ys(h){var m=h.flags;if(m&2){try{e:{for(var y=h.return;y!==null;){if(e3(y)){var N=y;break e}y=y.return}throw Error(n(160))}switch(N.tag){case 5:var k=N.stateNode;N.flags&32&&(Us(k,""),N.flags&=-33);var O=t3(h);sb(h,O,k);break;case 3:case 4:var I=N.stateNode.containerInfo,U=t3(h);rb(h,U,I);break;default:throw Error(n(161))}}catch(Y){Kt(h,h.return,Y)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function fV(h,m,y){_e=h,i3(h)}function i3(h,m,y){for(var N=(h.mode&1)!==0;_e!==null;){var k=_e,O=k.child;if(k.tag===22&&N){var I=k.memoizedState!==null||mm;if(!I){var U=k.alternate,Y=U!==null&&U.memoizedState!==null||Gn;U=mm;var ae=Gn;if(mm=I,(Gn=Y)&&!ae)for(_e=k;_e!==null;)I=_e,Y=I.child,I.tag===22&&I.memoizedState!==null?l3(k):Y!==null?(Y.return=I,_e=Y):l3(k);for(;O!==null;)_e=O,i3(O),O=O.sibling;_e=k,mm=U,Gn=ae}a3(h)}else(k.subtreeFlags&8772)!==0&&O!==null?(O.return=k,_e=O):a3(h)}}function a3(h){for(;_e!==null;){var m=_e;if((m.flags&8772)!==0){var y=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Gn||pm(5,m);break;case 1:var N=m.stateNode;if(m.flags&4&&!Gn)if(y===null)N.componentDidMount();else{var k=m.elementType===m.type?y.memoizedProps:Ts(m.type,y.memoizedProps);N.componentDidUpdate(k,y.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var O=m.updateQueue;O!==null&&oC(m,O,N);break;case 3:var I=m.updateQueue;if(I!==null){if(y=null,m.child!==null)switch(m.child.tag){case 5:y=m.child.stateNode;break;case 1:y=m.child.stateNode}oC(m,I,y)}break;case 5:var U=m.stateNode;if(y===null&&m.flags&4){y=U;var Y=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&y.focus();break;case"img":Y.src&&(y.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ae=m.alternate;if(ae!==null){var pe=ae.memoizedState;if(pe!==null){var xe=pe.dehydrated;xe!==null&&Wu(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gn||m.flags&512&&nb(m)}catch(me){Kt(m,m.return,me)}}if(m===h){_e=null;break}if(y=m.sibling,y!==null){y.return=m.return,_e=y;break}_e=m.return}}function o3(h){for(;_e!==null;){var m=_e;if(m===h){_e=null;break}var y=m.sibling;if(y!==null){y.return=m.return,_e=y;break}_e=m.return}}function l3(h){for(;_e!==null;){var m=_e;try{switch(m.tag){case 0:case 11:case 15:var y=m.return;try{pm(4,m)}catch(Y){Kt(m,y,Y)}break;case 1:var N=m.stateNode;if(typeof N.componentDidMount=="function"){var k=m.return;try{N.componentDidMount()}catch(Y){Kt(m,k,Y)}}var O=m.return;try{nb(m)}catch(Y){Kt(m,O,Y)}break;case 5:var I=m.return;try{nb(m)}catch(Y){Kt(m,I,Y)}}}catch(Y){Kt(m,m.return,Y)}if(m===h){_e=null;break}var U=m.sibling;if(U!==null){U.return=m.return,_e=U;break}_e=m.return}}var mV=Math.ceil,gm=M.ReactCurrentDispatcher,ib=M.ReactCurrentOwner,is=M.ReactCurrentBatchConfig,ut=0,Sn=null,ln=null,In=0,Vr=0,Nc=ka(0),bn=0,md=null,$o=0,xm=0,ab=0,pd=null,wr=null,ob=0,Sc=1/0,Pi=null,ym=!1,lb=null,Oa=null,bm=!1,_a=null,vm=0,gd=0,cb=null,wm=-1,Nm=0;function cr(){return(ut&6)!==0?nn():wm!==-1?wm:wm=nn()}function Da(h){return(h.mode&1)===0?1:(ut&2)!==0&&In!==0?In&-In:Qz.transition!==null?(Nm===0&&(Nm=t4()),Nm):(h=vt,h!==0||(h=window.event,h=h===void 0?16:u4(h.type)),h)}function As(h,m,y,N){if(50<gd)throw gd=0,cb=null,Error(n(185));Vu(h,y,N),((ut&2)===0||h!==Sn)&&(h===Sn&&((ut&2)===0&&(xm|=y),bn===4&&Ia(h,In)),Nr(h,N),y===1&&ut===0&&(m.mode&1)===0&&(Sc=nn()+500,Xf&&Ea()))}function Nr(h,m){var y=h.callbackNode;Q7(h,m);var N=Pf(h,h===Sn?In:0);if(N===0)y!==null&&Jj(y),h.callbackNode=null,h.callbackPriority=0;else if(m=N&-N,h.callbackPriority!==m){if(y!=null&&Jj(y),m===1)h.tag===0?Xz(u3.bind(null,h)):Y4(u3.bind(null,h)),qz(function(){(ut&6)===0&&Ea()}),y=null;else{switch(n4(N)){case 1:y=Bx;break;case 4:y=Zj;break;case 16:y=Tf;break;case 536870912:y=e4;break;default:y=Tf}y=y3(y,c3.bind(null,h))}h.callbackPriority=m,h.callbackNode=y}}function c3(h,m){if(wm=-1,Nm=0,(ut&6)!==0)throw Error(n(327));var y=h.callbackNode;if(jc()&&h.callbackNode!==y)return null;var N=Pf(h,h===Sn?In:0);if(N===0)return null;if((N&30)!==0||(N&h.expiredLanes)!==0||m)m=Sm(h,N);else{m=N;var k=ut;ut|=2;var O=h3();(Sn!==h||In!==m)&&(Pi=null,Sc=nn()+500,Ho(h,m));do try{xV();break}catch(U){d3(h,U)}while(!0);Ty(),gm.current=O,ut=k,ln!==null?m=0:(Sn=null,In=0,m=bn)}if(m!==0){if(m===2&&(k=Hx(h),k!==0&&(N=k,m=ub(h,k))),m===1)throw y=md,Ho(h,0),Ia(h,N),Nr(h,nn()),y;if(m===6)Ia(h,N);else{if(k=h.current.alternate,(N&30)===0&&!pV(k)&&(m=Sm(h,N),m===2&&(O=Hx(h),O!==0&&(N=O,m=ub(h,O))),m===1))throw y=md,Ho(h,0),Ia(h,N),Nr(h,nn()),y;switch(h.finishedWork=k,h.finishedLanes=N,m){case 0:case 1:throw Error(n(345));case 2:Uo(h,wr,Pi);break;case 3:if(Ia(h,N),(N&130023424)===N&&(m=ob+500-nn(),10<m)){if(Pf(h,0)!==0)break;if(k=h.suspendedLanes,(k&N)!==N){cr(),h.pingedLanes|=h.suspendedLanes&k;break}h.timeoutHandle=gy(Uo.bind(null,h,wr,Pi),m);break}Uo(h,wr,Pi);break;case 4:if(Ia(h,N),(N&4194240)===N)break;for(m=h.eventTimes,k=-1;0<N;){var I=31-js(N);O=1<<I,I=m[I],I>k&&(k=I),N&=~O}if(N=k,N=nn()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*mV(N/1960))-N,10<N){h.timeoutHandle=gy(Uo.bind(null,h,wr,Pi),N);break}Uo(h,wr,Pi);break;case 5:Uo(h,wr,Pi);break;default:throw Error(n(329))}}}return Nr(h,nn()),h.callbackNode===y?c3.bind(null,h):null}function ub(h,m){var y=pd;return h.current.memoizedState.isDehydrated&&(Ho(h,m).flags|=256),h=Sm(h,m),h!==2&&(m=wr,wr=y,m!==null&&db(m)),h}function db(h){wr===null?wr=h:wr.push.apply(wr,h)}function pV(h){for(var m=h;;){if(m.flags&16384){var y=m.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var N=0;N<y.length;N++){var k=y[N],O=k.getSnapshot;k=k.value;try{if(!Cs(O(),k))return!1}catch{return!1}}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ia(h,m){for(m&=~ab,m&=~xm,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var y=31-js(m),N=1<<y;h[y]=-1,m&=~N}}function u3(h){if((ut&6)!==0)throw Error(n(327));jc();var m=Pf(h,0);if((m&1)===0)return Nr(h,nn()),null;var y=Sm(h,m);if(h.tag!==0&&y===2){var N=Hx(h);N!==0&&(m=N,y=ub(h,N))}if(y===1)throw y=md,Ho(h,0),Ia(h,m),Nr(h,nn()),y;if(y===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Uo(h,wr,Pi),Nr(h,nn()),null}function hb(h,m){var y=ut;ut|=1;try{return h(m)}finally{ut=y,ut===0&&(Sc=nn()+500,Xf&&Ea())}}function Bo(h){_a!==null&&_a.tag===0&&(ut&6)===0&&jc();var m=ut;ut|=1;var y=is.transition,N=vt;try{if(is.transition=null,vt=1,h)return h()}finally{vt=N,is.transition=y,ut=m,(ut&6)===0&&Ea()}}function fb(){Vr=Nc.current,Ot(Nc)}function Ho(h,m){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==-1&&(h.timeoutHandle=-1,Wz(y)),ln!==null)for(y=ln.return;y!==null;){var N=y;switch(Ny(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Gf();break;case 3:bc(),Ot(yr),Ot(Wn),Iy();break;case 5:_y(N);break;case 4:bc();break;case 13:Ot(Ht);break;case 19:Ot(Ht);break;case 10:Ey(N.type._context);break;case 22:case 23:fb()}y=y.return}if(Sn=h,ln=h=La(h.current,null),In=Vr=m,bn=0,md=null,ab=xm=$o=0,wr=pd=null,Fo!==null){for(m=0;m<Fo.length;m++)if(y=Fo[m],N=y.interleaved,N!==null){y.interleaved=null;var k=N.next,O=y.pending;if(O!==null){var I=O.next;O.next=k,N.next=I}y.pending=N}Fo=null}return h}function d3(h,m){do{var y=ln;try{if(Ty(),am.current=um,om){for(var N=Ut.memoizedState;N!==null;){var k=N.queue;k!==null&&(k.pending=null),N=N.next}om=!1}if(Vo=0,Nn=yn=Ut=null,ld=!1,cd=0,ib.current=null,y===null||y.return===null){bn=1,md=m,ln=null;break}e:{var O=h,I=y.return,U=y,Y=m;if(m=In,U.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,pe=U,xe=pe.tag;if((pe.mode&1)===0&&(xe===0||xe===11||xe===15)){var me=pe.alternate;me?(pe.updateQueue=me.updateQueue,pe.memoizedState=me.memoizedState,pe.lanes=me.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Pe=LC(I);if(Pe!==null){Pe.flags&=-257,RC(Pe,I,U,O,m),Pe.mode&1&&IC(O,ae,m),m=Pe,Y=ae;var De=m.updateQueue;if(De===null){var Ie=new Set;Ie.add(Y),m.updateQueue=Ie}else De.add(Y);break e}else{if((m&1)===0){IC(O,ae,m),mb();break e}Y=Error(n(426))}}else if(Ft&&U.mode&1){var rn=LC(I);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),RC(rn,I,U,O,m),Cy(vc(Y,U));break e}}O=Y=vc(Y,U),bn!==4&&(bn=2),pd===null?pd=[O]:pd.push(O),O=I;do{switch(O.tag){case 3:O.flags|=65536,m&=-m,O.lanes|=m;var Z=_C(O,Y,m);aC(O,Z);break e;case 1:U=Y;var Q=O.type,re=O.stateNode;if((O.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Oa===null||!Oa.has(re)))){O.flags|=65536,m&=-m,O.lanes|=m;var Se=DC(O,U,m);aC(O,Se);break e}}O=O.return}while(O!==null)}m3(y)}catch(Re){m=Re,ln===y&&y!==null&&(ln=y=y.return);continue}break}while(!0)}function h3(){var h=gm.current;return gm.current=um,h===null?um:h}function mb(){(bn===0||bn===3||bn===2)&&(bn=4),Sn===null||($o&268435455)===0&&(xm&268435455)===0||Ia(Sn,In)}function Sm(h,m){var y=ut;ut|=2;var N=h3();(Sn!==h||In!==m)&&(Pi=null,Ho(h,m));do try{gV();break}catch(k){d3(h,k)}while(!0);if(Ty(),ut=y,gm.current=N,ln!==null)throw Error(n(261));return Sn=null,In=0,bn}function gV(){for(;ln!==null;)f3(ln)}function xV(){for(;ln!==null&&!B7();)f3(ln)}function f3(h){var m=x3(h.alternate,h,Vr);h.memoizedProps=h.pendingProps,m===null?m3(h):ln=m,ib.current=null}function m3(h){var m=h;do{var y=m.alternate;if(h=m.return,(m.flags&32768)===0){if(y=cV(y,m,Vr),y!==null){ln=y;return}}else{if(y=uV(y,m),y!==null){y.flags&=32767,ln=y;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{bn=6,ln=null;return}}if(m=m.sibling,m!==null){ln=m;return}ln=m=h}while(m!==null);bn===0&&(bn=5)}function Uo(h,m,y){var N=vt,k=is.transition;try{is.transition=null,vt=1,yV(h,m,y,N)}finally{is.transition=k,vt=N}return null}function yV(h,m,y,N){do jc();while(_a!==null);if((ut&6)!==0)throw Error(n(327));y=h.finishedWork;var k=h.finishedLanes;if(y===null)return null;if(h.finishedWork=null,h.finishedLanes=0,y===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var O=y.lanes|y.childLanes;if(J7(h,O),h===Sn&&(ln=Sn=null,In=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||bm||(bm=!0,y3(Tf,function(){return jc(),null})),O=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||O){O=is.transition,is.transition=null;var I=vt;vt=1;var U=ut;ut|=4,ib.current=null,hV(h,y),s3(y,h),Fz(my),Df=!!fy,my=fy=null,h.current=y,fV(y),H7(),ut=U,vt=I,is.transition=O}else h.current=y;if(bm&&(bm=!1,_a=h,vm=k),O=h.pendingLanes,O===0&&(Oa=null),q7(y.stateNode),Nr(h,nn()),m!==null)for(N=h.onRecoverableError,y=0;y<m.length;y++)k=m[y],N(k.value,{componentStack:k.stack,digest:k.digest});if(ym)throw ym=!1,h=lb,lb=null,h;return(vm&1)!==0&&h.tag!==0&&jc(),O=h.pendingLanes,(O&1)!==0?h===cb?gd++:(gd=0,cb=h):gd=0,Ea(),null}function jc(){if(_a!==null){var h=n4(vm),m=is.transition,y=vt;try{if(is.transition=null,vt=16>h?16:h,_a===null)var N=!1;else{if(h=_a,_a=null,vm=0,(ut&6)!==0)throw Error(n(331));var k=ut;for(ut|=4,_e=h.current;_e!==null;){var O=_e,I=O.child;if((_e.flags&16)!==0){var U=O.deletions;if(U!==null){for(var Y=0;Y<U.length;Y++){var ae=U[Y];for(_e=ae;_e!==null;){var pe=_e;switch(pe.tag){case 0:case 11:case 15:fd(8,pe,O)}var xe=pe.child;if(xe!==null)xe.return=pe,_e=xe;else for(;_e!==null;){pe=_e;var me=pe.sibling,Pe=pe.return;if(ZC(pe),pe===ae){_e=null;break}if(me!==null){me.return=Pe,_e=me;break}_e=Pe}}}var De=O.alternate;if(De!==null){var Ie=De.child;if(Ie!==null){De.child=null;do{var rn=Ie.sibling;Ie.sibling=null,Ie=rn}while(Ie!==null)}}_e=O}}if((O.subtreeFlags&2064)!==0&&I!==null)I.return=O,_e=I;else e:for(;_e!==null;){if(O=_e,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:fd(9,O,O.return)}var Z=O.sibling;if(Z!==null){Z.return=O.return,_e=Z;break e}_e=O.return}}var Q=h.current;for(_e=Q;_e!==null;){I=_e;var re=I.child;if((I.subtreeFlags&2064)!==0&&re!==null)re.return=I,_e=re;else e:for(I=Q;_e!==null;){if(U=_e,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:pm(9,U)}}catch(Re){Kt(U,U.return,Re)}if(U===I){_e=null;break e}var Se=U.sibling;if(Se!==null){Se.return=U.return,_e=Se;break e}_e=U.return}}if(ut=k,Ea(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(Ef,h)}catch{}N=!0}return N}finally{vt=y,is.transition=m}}return!1}function p3(h,m,y){m=vc(y,m),m=_C(h,m,1),h=Aa(h,m,1),m=cr(),h!==null&&(Vu(h,1,m),Nr(h,m))}function Kt(h,m,y){if(h.tag===3)p3(h,h,y);else for(;m!==null;){if(m.tag===3){p3(m,h,y);break}else if(m.tag===1){var N=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Oa===null||!Oa.has(N))){h=vc(y,h),h=DC(m,h,1),m=Aa(m,h,1),h=cr(),m!==null&&(Vu(m,1,h),Nr(m,h));break}}m=m.return}}function bV(h,m,y){var N=h.pingCache;N!==null&&N.delete(m),m=cr(),h.pingedLanes|=h.suspendedLanes&y,Sn===h&&(In&y)===y&&(bn===4||bn===3&&(In&130023424)===In&&500>nn()-ob?Ho(h,0):ab|=y),Nr(h,m)}function g3(h,m){m===0&&((h.mode&1)===0?m=1:(m=Af,Af<<=1,(Af&130023424)===0&&(Af=4194304)));var y=cr();h=Ei(h,m),h!==null&&(Vu(h,m,y),Nr(h,y))}function vV(h){var m=h.memoizedState,y=0;m!==null&&(y=m.retryLane),g3(h,y)}function wV(h,m){var y=0;switch(h.tag){case 13:var N=h.stateNode,k=h.memoizedState;k!==null&&(y=k.retryLane);break;case 19:N=h.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(m),g3(h,y)}var x3;x3=function(h,m,y){if(h!==null)if(h.memoizedProps!==m.pendingProps||yr.current)vr=!0;else{if((h.lanes&y)===0&&(m.flags&128)===0)return vr=!1,lV(h,m,y);vr=(h.flags&131072)!==0}else vr=!1,Ft&&(m.flags&1048576)!==0&&X4(m,Jf,m.index);switch(m.lanes=0,m.tag){case 2:var N=m.type;fm(h,m),h=m.pendingProps;var k=hc(m,Wn.current);yc(m,y),k=Fy(null,m,N,h,k,y);var O=zy();return m.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,br(N)?(O=!0,Yf(m)):O=!1,m.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Py(m),k.updater=dm,m.stateNode=k,k._reactInternals=m,Wy(m,N,h,y),m=Yy(null,m,N,!0,O,y)):(m.tag=0,Ft&&O&&wy(m),lr(null,m,k,y),m=m.child),m;case 16:N=m.elementType;e:{switch(fm(h,m),h=m.pendingProps,k=N._init,N=k(N._payload),m.type=N,k=m.tag=SV(N),h=Ts(N,h),k){case 0:m=Gy(null,m,N,h,y);break e;case 1:m=HC(null,m,N,h,y);break e;case 11:m=FC(null,m,N,h,y);break e;case 14:m=zC(null,m,N,Ts(N.type,h),y);break e}throw Error(n(306,N,""))}return m;case 0:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:Ts(N,k),Gy(h,m,N,k,y);case 1:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:Ts(N,k),HC(h,m,N,k,y);case 3:e:{if(UC(m),h===null)throw Error(n(387));N=m.pendingProps,O=m.memoizedState,k=O.element,iC(h,m),sm(m,N,null,y);var I=m.memoizedState;if(N=I.element,O.isDehydrated)if(O={element:N,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},m.updateQueue.baseState=O,m.memoizedState=O,m.flags&256){k=vc(Error(n(423)),m),m=WC(h,m,N,y,k);break e}else if(N!==k){k=vc(Error(n(424)),m),m=WC(h,m,N,y,k);break e}else for(zr=Ca(m.stateNode.containerInfo.firstChild),Fr=m,Ft=!0,ks=null,y=rC(m,null,N,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(pc(),N===k){m=Ai(h,m,y);break e}lr(h,m,N,y)}m=m.child}return m;case 5:return lC(m),h===null&&jy(m),N=m.type,k=m.pendingProps,O=h!==null?h.memoizedProps:null,I=k.children,py(N,k)?I=null:O!==null&&py(N,O)&&(m.flags|=32),BC(h,m),lr(h,m,I,y),m.child;case 6:return h===null&&jy(m),null;case 13:return qC(h,m,y);case 4:return Oy(m,m.stateNode.containerInfo),N=m.pendingProps,h===null?m.child=gc(m,null,N,y):lr(h,m,N,y),m.child;case 11:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:Ts(N,k),FC(h,m,N,k,y);case 7:return lr(h,m,m.pendingProps,y),m.child;case 8:return lr(h,m,m.pendingProps.children,y),m.child;case 12:return lr(h,m,m.pendingProps.children,y),m.child;case 10:e:{if(N=m.type._context,k=m.pendingProps,O=m.memoizedProps,I=k.value,kt(tm,N._currentValue),N._currentValue=I,O!==null)if(Cs(O.value,I)){if(O.children===k.children&&!yr.current){m=Ai(h,m,y);break e}}else for(O=m.child,O!==null&&(O.return=m);O!==null;){var U=O.dependencies;if(U!==null){I=O.child;for(var Y=U.firstContext;Y!==null;){if(Y.context===N){if(O.tag===1){Y=Mi(-1,y&-y),Y.tag=2;var ae=O.updateQueue;if(ae!==null){ae=ae.shared;var pe=ae.pending;pe===null?Y.next=Y:(Y.next=pe.next,pe.next=Y),ae.pending=Y}}O.lanes|=y,Y=O.alternate,Y!==null&&(Y.lanes|=y),My(O.return,y,m),U.lanes|=y;break}Y=Y.next}}else if(O.tag===10)I=O.type===m.type?null:O.child;else if(O.tag===18){if(I=O.return,I===null)throw Error(n(341));I.lanes|=y,U=I.alternate,U!==null&&(U.lanes|=y),My(I,y,m),I=O.sibling}else I=O.child;if(I!==null)I.return=O;else for(I=O;I!==null;){if(I===m){I=null;break}if(O=I.sibling,O!==null){O.return=I.return,I=O;break}I=I.return}O=I}lr(h,m,k.children,y),m=m.child}return m;case 9:return k=m.type,N=m.pendingProps.children,yc(m,y),k=rs(k),N=N(k),m.flags|=1,lr(h,m,N,y),m.child;case 14:return N=m.type,k=Ts(N,m.pendingProps),k=Ts(N.type,k),zC(h,m,N,k,y);case 15:return VC(h,m,m.type,m.pendingProps,y);case 17:return N=m.type,k=m.pendingProps,k=m.elementType===N?k:Ts(N,k),fm(h,m),m.tag=1,br(N)?(h=!0,Yf(m)):h=!1,yc(m,y),PC(m,N,k),Wy(m,N,k,y),Yy(null,m,N,!0,h,y);case 19:return GC(h,m,y);case 22:return $C(h,m,y)}throw Error(n(156,m.tag))};function y3(h,m){return Qj(h,m)}function NV(h,m,y,N){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(h,m,y,N){return new NV(h,m,y,N)}function pb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function SV(h){if(typeof h=="function")return pb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===z)return 11;if(h===W)return 14}return 2}function La(h,m){var y=h.alternate;return y===null?(y=as(h.tag,m,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=m,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&14680064,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,m=h.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function jm(h,m,y,N,k,O){var I=2;if(N=h,typeof h=="function")pb(h)&&(I=1);else if(typeof h=="string")I=5;else e:switch(h){case P:return Wo(y.children,k,O,m);case E:I=8,k|=8;break;case D:return h=as(12,y,m,k|2),h.elementType=D,h.lanes=O,h;case G:return h=as(13,y,m,k),h.elementType=G,h.lanes=O,h;case H:return h=as(19,y,m,k),h.elementType=H,h.lanes=O,h;case $:return Cm(y,k,O,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case L:I=10;break e;case _:I=9;break e;case z:I=11;break e;case W:I=14;break e;case R:I=16,N=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return m=as(I,y,m,k),m.elementType=h,m.type=N,m.lanes=O,m}function Wo(h,m,y,N){return h=as(7,h,N,m),h.lanes=y,h}function Cm(h,m,y,N){return h=as(22,h,N,m),h.elementType=$,h.lanes=y,h.stateNode={isHidden:!1},h}function gb(h,m,y){return h=as(6,h,null,m),h.lanes=y,h}function xb(h,m,y){return m=as(4,h.children!==null?h.children:[],h.key,m),m.lanes=y,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function jV(h,m,y,N,k){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ux(0),this.expirationTimes=Ux(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ux(0),this.identifierPrefix=N,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function yb(h,m,y,N,k,O,I,U,Y){return h=new jV(h,m,y,U,Y),m===1?(m=1,O===!0&&(m|=8)):m=0,O=as(3,null,null,m),h.current=O,O.stateNode=h,O.memoizedState={element:N,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Py(O),h}function CV(h,m,y){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:N==null?null:""+N,children:h,containerInfo:m,implementation:y}}function b3(h){if(!h)return Ta;h=h._reactInternals;e:{if(_o(h)!==h||h.tag!==1)throw Error(n(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(br(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(h.tag===1){var y=h.type;if(br(y))return K4(h,y,m)}return m}function v3(h,m,y,N,k,O,I,U,Y){return h=yb(y,N,!0,h,k,O,I,U,Y),h.context=b3(null),y=h.current,N=cr(),k=Da(y),O=Mi(N,k),O.callback=m??null,Aa(y,O,k),h.current.lanes=k,Vu(h,k,N),Nr(h,N),h}function km(h,m,y,N){var k=m.current,O=cr(),I=Da(k);return y=b3(y),m.context===null?m.context=y:m.pendingContext=y,m=Mi(O,I),m.payload={element:h},N=N===void 0?null:N,N!==null&&(m.callback=N),h=Aa(k,m,I),h!==null&&(As(h,k,I,O),rm(h,k,I)),I}function Tm(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function w3(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<m?y:m}}function bb(h,m){w3(h,m),(h=h.alternate)&&w3(h,m)}function kV(){return null}var N3=typeof reportError=="function"?reportError:function(h){console.error(h)};function vb(h){this._internalRoot=h}Em.prototype.render=vb.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));km(h,m,null,null)},Em.prototype.unmount=vb.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;Bo(function(){km(null,h,null,null)}),m[ji]=null}};function Em(h){this._internalRoot=h}Em.prototype.unstable_scheduleHydration=function(h){if(h){var m=i4();h={blockedOn:null,target:h,priority:m};for(var y=0;y<Na.length&&m!==0&&m<Na[y].priority;y++);Na.splice(y,0,h),y===0&&l4(h)}};function wb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Mm(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function S3(){}function TV(h,m,y,N,k){if(k){if(typeof N=="function"){var O=N;N=function(){var ae=Tm(I);O.call(ae)}}var I=v3(m,N,h,0,null,!1,!1,"",S3);return h._reactRootContainer=I,h[ji]=I.current,ed(h.nodeType===8?h.parentNode:h),Bo(),I}for(;k=h.lastChild;)h.removeChild(k);if(typeof N=="function"){var U=N;N=function(){var ae=Tm(Y);U.call(ae)}}var Y=yb(h,0,!1,null,null,!1,!1,"",S3);return h._reactRootContainer=Y,h[ji]=Y.current,ed(h.nodeType===8?h.parentNode:h),Bo(function(){km(m,Y,y,N)}),Y}function Am(h,m,y,N,k){var O=y._reactRootContainer;if(O){var I=O;if(typeof k=="function"){var U=k;k=function(){var Y=Tm(I);U.call(Y)}}km(m,I,h,k)}else I=TV(y,m,h,k,N);return Tm(I)}r4=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var y=zu(m.pendingLanes);y!==0&&(Wx(m,y|1),Nr(m,nn()),(ut&6)===0&&(Sc=nn()+500,Ea()))}break;case 13:Bo(function(){var N=Ei(h,1);if(N!==null){var k=cr();As(N,h,1,k)}}),bb(h,1)}},qx=function(h){if(h.tag===13){var m=Ei(h,134217728);if(m!==null){var y=cr();As(m,h,134217728,y)}bb(h,134217728)}},s4=function(h){if(h.tag===13){var m=Da(h),y=Ei(h,m);if(y!==null){var N=cr();As(y,h,m,N)}bb(h,m)}},i4=function(){return vt},a4=function(h,m){var y=vt;try{return vt=h,m()}finally{vt=y}},Fx=function(h,m,y){switch(m){case"input":if(Rt(h,y),m=y.name,y.type==="radio"&&m!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<y.length;m++){var N=y[m];if(N!==h&&N.form===h.form){var k=Kf(N);if(!k)throw Error(n(90));Ne(N),Rt(N,k)}}}break;case"textarea":Ce(h,y);break;case"select":m=y.value,m!=null&&te(h,!!y.multiple,m,!1)}},Uj=hb,Wj=Bo;var EV={usingClientEntryPoint:!1,Events:[rd,uc,Kf,Bj,Hj,hb]},xd={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MV={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Yj(h),h===null?null:h.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||kV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{Ef=Pm.inject(MV),Ws=Pm}catch{}}return Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EV,Sr.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wb(m))throw Error(n(200));return CV(h,m,null,y)},Sr.createRoot=function(h,m){if(!wb(h))throw Error(n(299));var y=!1,N="",k=N3;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onRecoverableError!==void 0&&(k=m.onRecoverableError)),m=yb(h,1,!1,null,null,y,!1,N,k),h[ji]=m.current,ed(h.nodeType===8?h.parentNode:h),new vb(m)},Sr.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=Yj(m),h=h===null?null:h.stateNode,h},Sr.flushSync=function(h){return Bo(h)},Sr.hydrate=function(h,m,y){if(!Mm(m))throw Error(n(200));return Am(null,h,m,!0,y)},Sr.hydrateRoot=function(h,m,y){if(!wb(h))throw Error(n(405));var N=y!=null&&y.hydratedSources||null,k=!1,O="",I=N3;if(y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onRecoverableError!==void 0&&(I=y.onRecoverableError)),m=v3(m,null,h,1,y??null,k,!1,O,I),h[ji]=m.current,ed(h),N)for(h=0;h<N.length;h++)y=N[h],k=y._getVersion,k=k(y._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[y,k]:m.mutableSourceEagerHydrationData.push(y,k);return new Em(m)},Sr.render=function(h,m,y){if(!Mm(m))throw Error(n(200));return Am(null,h,m,!1,y)},Sr.unmountComponentAtNode=function(h){if(!Mm(h))throw Error(n(40));return h._reactRootContainer?(Bo(function(){Am(null,null,h,!1,function(){h._reactRootContainer=null,h[ji]=null})}),!0):!1},Sr.unstable_batchedUpdates=hb,Sr.unstable_renderSubtreeIntoContainer=function(h,m,y,N){if(!Mm(y))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return Am(h,m,y,!1,N)},Sr.version="18.3.1-next-f1338f8080-20240426",Sr}var O3;function LA(){if(O3)return jb.exports;O3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jb.exports=RV(),jb.exports}var _3;function FV(){if(_3)return Om;_3=1;var t=LA();return Om.createRoot=t.createRoot,Om.hydrateRoot=t.hydrateRoot,Om}var zV=FV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D3="popstate";function VV(t={}){function e(s,i){let{pathname:a="/",search:l="",hash:c=""}=Wl(s.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),v1("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:xh(i))}function r(s,i){Xr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return BV(e,n,r,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $V(){return Math.random().toString(36).substring(2,10)}function I3(t,e){return{usr:t.state,key:t.key,idx:e}}function v1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wl(e):e,state:n,key:e&&e.key||r||$V()}}function xh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function BV(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let b=d(),w=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:w})}function p(b,w){l="PUSH";let S=v1(v.location,b,w);n&&n(S,b),u=d()+1;let j=I3(S,u),M=v.createHref(S);try{a.pushState(j,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(M)}i&&c&&c({action:l,location:v.location,delta:1})}function g(b,w){l="REPLACE";let S=v1(v.location,b,w);n&&n(S,b),u=d();let j=I3(S,u),M=v.createHref(S);a.replaceState(j,"",M),i&&c&&c({action:l,location:v.location,delta:0})}function x(b){return HV(b)}let v={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(D3,f),c=b,()=>{s.removeEventListener(D3,f),c=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return a.go(b)}};return v}function HV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:xh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RA(t,e,n="/"){return UV(t,e,n,!1)}function UV(t,e,n,r){let s=typeof e=="string"?Wl(e):e,i=ia(s.pathname||"/",n);if(i==null)return null;let a=FA(t);WV(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=n$(i);l=e$(a[c],u,r)}return l}function FA(t,e=[],n=[],r="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Zi([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),FA(a.children,e,p,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:JV(f,a.index),routesMeta:p})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let c of zA(a.path))i(a,l,!0,c)}),e}function zA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=zA(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function WV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qV=/^:[\w-]+$/,KV=3,GV=2,YV=1,XV=10,QV=-2,L3=t=>t==="*";function JV(t,e){let n=t.split("/"),r=n.length;return n.some(L3)&&(r+=QV),e&&(r+=GV),n.filter(s=>!L3(s)).reduce((s,i)=>s+(qV.test(i)?KV:i===""?YV:XV),r)}function ZV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function e$(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=ig({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ig({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Zi([i,f.pathname]),pathnameBase:a$(Zi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Zi([i,f.pathnameBase]))}return a}function ig(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let x=l[p]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[p];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function t$(t,e=!1,n=!0){Xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function n$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r$(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wl(t):t;return{pathname:n?n.startsWith("/")?n:s$(n,e):e,search:o$(r),hash:l$(s)}}function s$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _w(t){let e=i$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Dw(t,e,n,r=!1){let s;typeof t=="string"?s=Wl(t):(s={...t},Bt(!s.pathname||!s.pathname.includes("?"),Tb("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),Tb("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),Tb("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=r$(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Zi=t=>t.join("/").replace(/\/\/+/g,"/"),a$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var VA=["POST","PUT","PATCH","DELETE"];new Set(VA);var u$=["GET",...VA];new Set(u$);var vu=T.createContext(null);vu.displayName="DataRouter";var D0=T.createContext(null);D0.displayName="DataRouterState";T.createContext(!1);var $A=T.createContext({isTransitioning:!1});$A.displayName="ViewTransition";var d$=T.createContext(new Map);d$.displayName="Fetchers";var h$=T.createContext(null);h$.displayName="Await";var zs=T.createContext(null);zs.displayName="Navigation";var ef=T.createContext(null);ef.displayName="Location";var Ss=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var Iw=T.createContext(null);Iw.displayName="RouteError";function f$(t,{relative:e}={}){Bt(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(zs),{hash:s,pathname:i,search:a}=tf(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Zi([n,i])),r.createHref({pathname:l,search:a,hash:s})}function wu(){return T.useContext(ef)!=null}function ir(){return Bt(wu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(ef).location}var BA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HA(t){T.useContext(zs).static||T.useLayoutEffect(t)}function rt(){let{isDataRoute:t}=T.useContext(Ss);return t?E$():m$()}function m$(){Bt(wu(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(vu),{basename:e,navigator:n}=T.useContext(zs),{matches:r}=T.useContext(Ss),{pathname:s}=ir(),i=JSON.stringify(_w(r)),a=T.useRef(!1);return HA(()=>{a.current=!0}),T.useCallback((c,u={})=>{if(Xr(a.current,BA),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Dw(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zi([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}var p$=T.createContext(null);function g$(t){let e=T.useContext(Ss).outlet;return e&&T.createElement(p$.Provider,{value:t},e)}function wi(){let{matches:t}=T.useContext(Ss),e=t[t.length-1];return e?e.params:{}}function tf(t,{relative:e}={}){let{matches:n}=T.useContext(Ss),{pathname:r}=ir(),s=JSON.stringify(_w(n));return T.useMemo(()=>Dw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function x$(t,e){return UA(t,e)}function UA(t,e,n,r,s){Bt(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(zs),{matches:a}=T.useContext(Ss),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let S=f&&f.path||"";WA(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=ir(),g;if(e){let S=typeof e=="string"?Wl(e):e;Bt(d==="/"||S.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=p;let x=g.pathname||"/",v=x;if(d!=="/"){let S=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=RA(t,{pathname:v});Xr(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Xr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=N$(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Zi([d,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Zi([d,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r,s);return e&&w?T.createElement(ef.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function y$(){let t=T$(),e=c$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,a)}var b$=T.createElement(y$,null),v$=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(Ss.Provider,{value:this.props.routeContext},T.createElement(Iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w$({routeContext:t,match:e,children:n}){let r=T.useContext(vu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ss.Provider,{value:t},n)}function N$(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let u=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Bt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,g=!1,x=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||b$,l&&(c<0&&f===0?(WA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),w=()=>{let S;return p?S=x:g?S=v:d.route.Component?S=T.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,T.createElement(w$,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(v$,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):w()},null)}function Lw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S$(t){let e=T.useContext(vu);return Bt(e,Lw(t)),e}function j$(t){let e=T.useContext(D0);return Bt(e,Lw(t)),e}function C$(t){let e=T.useContext(Ss);return Bt(e,Lw(t)),e}function Rw(t){let e=C$(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function k$(){return Rw("useRouteId")}function T$(){let t=T.useContext(Iw),e=j$("useRouteError"),n=Rw("useRouteError");return t!==void 0?t:e.errors?.[n]}function E$(){let{router:t}=S$("useNavigate"),e=Rw("useNavigate"),n=T.useRef(!1);return HA(()=>{n.current=!0}),T.useCallback(async(s,i={})=>{Xr(n.current,BA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var R3={};function WA(t,e,n){!e&&!R3[t]&&(R3[t]=!0,Xr(!1,n))}T.memo(M$);function M$({routes:t,future:e,state:n,unstable_onError:r}){return UA(t,void 0,n,r,e)}function Gc({to:t,replace:e,state:n,relative:r}){Bt(wu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(zs);Xr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext(Ss),{pathname:a}=ir(),l=rt(),c=Dw(t,_w(i),a,r==="path"),u=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function ql(t){return g$(t.context)}function Ve(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Bt(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Wl(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=n,g=T.useMemo(()=>{let x=ia(c,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:p},navigationType:r}},[a,c,u,d,f,p,r]);return Xr(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(zs.Provider,{value:l},T.createElement(ef.Provider,{children:e,value:g}))}function P$({children:t,location:e}){return x$(w1(t),e)}function w1(t,e=[]){let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,w1(r.props.children,i));return}Bt(r.type===Ve,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=w1(r.props.children,i)),n.push(a)}),n}var kp="get",Tp="application/x-www-form-urlencoded";function I0(t){return t!=null&&typeof t.tagName=="string"}function O$(t){return I0(t)&&t.tagName.toLowerCase()==="button"}function _$(t){return I0(t)&&t.tagName.toLowerCase()==="form"}function D$(t){return I0(t)&&t.tagName.toLowerCase()==="input"}function I$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L$(t,e){return t.button===0&&(!e||e==="_self")&&!I$(t)}function N1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function R$(t,e){let n=N1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var _m=null;function F$(){if(_m===null)try{new FormData(document.createElement("form"),0),_m=!1}catch{_m=!0}return _m}var z$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eb(t){return t!=null&&!z$.has(t)?(Xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tp}"`),null):t}function V$(t,e){let n,r,s,i,a;if(_$(t)){let l=t.getAttribute("action");r=l?ia(l,e):null,n=t.getAttribute("method")||kp,s=Eb(t.getAttribute("enctype"))||Tp,i=new FormData(t)}else if(O$(t)||D$(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?ia(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||kp,s=Eb(t.getAttribute("formenctype"))||Eb(l.getAttribute("enctype"))||Tp,i=new FormData(l,t),!F$()){let{name:u,type:d,value:f}=t;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(I0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kp,r=null,s=Tp,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ia(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function B$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function U$(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await B$(i,n);return a.links?a.links():[]}return[]}));return G$(r.flat(1).filter(H$).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function F3(t,e,n,r,s,i){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function W$(t,e,{includeHydrateFallback:n}={}){return q$(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function q$(t){return[...new Set(t)]}function K$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function G$(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(K$(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function qA(){let t=T.useContext(vu);return Fw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Y$(){let t=T.useContext(D0);return Fw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zw=T.createContext(void 0);zw.displayName="FrameworkContext";function KA(){let t=T.useContext(zw);return Fw(t,"You must render this element inside a <HydratedRouter> element"),t}function X$(t,e){let n=T.useContext(zw),[r,s]=T.useState(!1),[i,a]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(S=>{a(S.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),T.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:bd(l,g),onBlur:bd(c,x),onMouseEnter:bd(u,g),onMouseLeave:bd(d,x),onTouchStart:bd(f,g)}]:[!1,p,{}]}function bd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q$({page:t,...e}){let{router:n}=qA(),r=T.useMemo(()=>RA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(Z$,{page:t,matches:r,...e}):null}function J$(t){let{manifest:e,routeModules:n}=KA(),[r,s]=T.useState([]);return T.useEffect(()=>{let i=!1;return U$(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function Z$({page:t,matches:e,...n}){let r=ir(),{manifest:s,routeModules:i}=KA(),{basename:a}=qA(),{loaderData:l,matches:c}=Y$(),u=T.useMemo(()=>F3(t,e,c,s,r,"data"),[t,e,c,s,r]),d=T.useMemo(()=>F3(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(w=>{let S=s.routes[w.route.id];!S||!S.hasLoader||(!u.some(j=>j.route.id===w.route.id)&&w.route.id in l&&i[w.route.id]?.shouldRevalidate||S.hasClientLoader?v=!0:x.add(w.route.id))}),x.size===0)return[];let b=$$(t,a,"data");return v&&x.size>0&&b.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,l,r,s,u,e,t,i]),p=T.useMemo(()=>W$(d,s),[d,s]),g=J$(d);return T.createElement(T.Fragment,null,f.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),g.map(({key:x,link:v})=>T.createElement("link",{key:x,nonce:n.nonce,...v})))}function e9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GA&&(window.__reactRouterVersion="7.9.1")}catch{}function t9({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=VV({window:n,v5Compat:!0}));let s=r.current,[i,a]=T.useState({action:s.action,location:s.location}),l=T.useCallback(c=>{T.startTransition(()=>a(c))},[a]);return T.useLayoutEffect(()=>s.listen(l),[s,l]),T.createElement(A$,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var YA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...p},g){let{basename:x}=T.useContext(zs),v=typeof u=="string"&&YA.test(u),b,w=!1;if(typeof u=="string"&&v&&(b=u,GA))try{let D=new URL(window.location.href),L=u.startsWith("//")?new URL(D.protocol+u):new URL(u),_=ia(L.pathname,x);L.origin===D.origin&&_!=null?u=_+L.search+L.hash:w=!0}catch{Xr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=f$(u,{relative:s}),[j,M,C]=X$(r,p),A=s9(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function P(D){e&&e(D),D.defaultPrevented||A(D)}let E=T.createElement("a",{...p,...C,href:b||S,onClick:w||i?e:P,ref:e9(g,M),target:c,"data-discover":!v&&n==="render"?"true":void 0});return j&&!v?T.createElement(T.Fragment,null,E,T.createElement(Q$,{page:S})):E});Qe.displayName="Link";var Vw=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let f=tf(a,{relative:u.relative}),p=ir(),g=T.useContext(D0),{navigator:x,basename:v}=T.useContext(zs),b=g!=null&&c9(f)&&l===!0,w=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,S=p.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(S=S.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&v&&(j=ia(j,v)||j);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=S===w||!s&&S.startsWith(w)&&S.charAt(M)==="/",A=j!=null&&(j===w||!s&&j.startsWith(w)&&j.charAt(w.length)==="/"),P={isActive:C,isPending:A,isTransitioning:b},E=C?e:void 0,D;typeof r=="function"?D=r(P):D=[r,C?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(P):i;return T.createElement(Qe,{...u,"aria-current":E,className:D,ref:d,style:L,to:a,viewTransition:l},typeof c=="function"?c(P):c)});Vw.displayName="NavLink";var n9=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=kp,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...p},g)=>{let x=o9(),v=l9(l,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&YA.test(l),S=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let M=j.nativeEvent.submitter,C=M?.getAttribute("formmethod")||a;x(M||j.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:g,method:b,action:v,onSubmit:r?c:S,...p,"data-discover":!w&&t==="render"?"true":void 0})});n9.displayName="Form";function r9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(t){let e=T.useContext(vu);return Bt(e,r9(t)),e}function s9(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=rt(),c=ir(),u=tf(t,{relative:i});return T.useCallback(d=>{if(L$(d,e)){d.preventDefault();let f=n!==void 0?n:xh(c)===xh(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,n,r,e,t,s,i,a])}function ma(t){Xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(N1(t)),n=T.useRef(!1),r=ir(),s=T.useMemo(()=>R$(r.search,n.current?null:e.current),[r.search]),i=rt(),a=T.useCallback((l,c)=>{const u=N1(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var i9=0,a9=()=>`__${String(++i9)}__`;function o9(){let{router:t}=XA("useSubmit"),{basename:e}=T.useContext(zs),n=k$();return T.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=V$(r,e);if(s.navigate===!1){let d=s.fetcherKey||a9();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function l9(t,{relative:e}={}){let{basename:n}=T.useContext(zs),r=T.useContext(Ss);Bt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...tf(t||".",{relative:e})},a=ir();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Zi([n,i.pathname])),xh(i)}function c9(t,{relative:e}={}){let n=T.useContext($A);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XA("useViewTransitionState"),s=tf(t,{relative:e});if(!n.isTransitioning)return!1;let i=ia(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ia(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ig(s.pathname,a)!=null||ig(s.pathname,i)!=null}var QA=LA();const u9=_0(QA);function JA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=JA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gl(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=JA(t))&&(r&&(r+=" "),r+=e);return r}function d9(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}d9(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var nf=t=>typeof t=="number"&&!isNaN(t),El=t=>typeof t=="string",aa=t=>typeof t=="function",h9=t=>El(t)||nf(t),S1=t=>El(t)||aa(t)?t:null,f9=(t,e)=>t===!1||nf(t)&&t>0?t:e,j1=t=>T.isValidElement(t)||El(t)||aa(t)||nf(t);function m9(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function p9({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let p=n?`${t}--${a}`:t,g=n?`${e}--${a}`:e,x=T.useRef(0);return T.useLayoutEffect(()=>{let v=u.current,b=p.split(" "),w=S=>{S.target===u.current&&(f(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),x.current===0&&S.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),T.useEffect(()=>{let v=u.current,b=()=>{v.removeEventListener("animationend",b),r?m9(v,c,s):c()};d||(l?b():(x.current=1,v.className+=` ${g}`,v.addEventListener("animationend",b)))},[d]),be.createElement(be.Fragment,null,i)}}function z3(t,e){return{content:ZA(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function ZA(t,e,n=!1){return T.isValidElement(t)&&!El(t.type)?T.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):aa(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function g9({closeToast:t,theme:e,ariaLabel:n="close"}){return be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function x9({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:a,progress:l,rtl:c,isIn:u,theme:d}){let f=s||a&&l===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(p.transform=`scaleX(${l})`);let g=gl("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),x=aa(i)?i({rtl:c,type:r,defaultClassName:g}):gl(g,i),v={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{u&&n()}};return be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),be.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:p,...v}))}var y9=1,eP=()=>`${y9++}`;function b9(t,e,n){let r=1,s=0,i=[],a=[],l=e,c=new Map,u=new Set,d=S=>(u.add(S),()=>u.delete(S)),f=()=>{a=Array.from(c.values()),u.forEach(S=>S())},p=({containerId:S,toastId:j,updateId:M})=>{let C=S?S!==t:t!==1,A=c.has(j)&&M==null;return C||A},g=(S,j)=>{c.forEach(M=>{var C;(j==null||j===M.props.toastId)&&((C=M.toggle)==null||C.call(M,S))})},x=S=>{var j,M;(M=(j=S.props)==null?void 0:j.onClose)==null||M.call(j,S.removalReason),S.isActive=!1},v=S=>{if(S==null)c.forEach(x);else{let j=c.get(S);j&&x(j)}f()},b=()=>{s-=i.length,i=[]},w=S=>{var j,M;let{toastId:C,updateId:A}=S.props,P=A==null;S.staleId&&c.delete(S.staleId),S.isActive=!0,c.set(C,S),f(),n(z3(S,P?"added":"updated")),P&&((M=(j=S.props).onOpen)==null||M.call(j))};return{id:t,props:l,observe:d,toggle:g,removeToast:v,toasts:c,clearQueue:b,buildToast:(S,j)=>{if(p(j))return;let{toastId:M,updateId:C,data:A,staleId:P,delay:E}=j,D=C==null;D&&s++;let L={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([z,G])=>G!=null)),toastId:M,updateId:C,data:A,isIn:!1,className:S1(j.className||l.toastClassName),progressClassName:S1(j.progressClassName||l.progressClassName),autoClose:j.isLoading?!1:f9(j.autoClose,l.autoClose),closeToast(z){c.get(M).removalReason=z,v(M)},deleteToast(){let z=c.get(M);if(z!=null){if(n(z3(z,"removed")),c.delete(M),s--,s<0&&(s=0),i.length>0){w(i.shift());return}f()}}};L.closeButton=l.closeButton,j.closeButton===!1||j1(j.closeButton)?L.closeButton=j.closeButton:j.closeButton===!0&&(L.closeButton=j1(l.closeButton)?l.closeButton:!0);let _={content:S,props:L,staleId:P};l.limit&&l.limit>0&&s>l.limit&&D?i.push(_):nf(E)?setTimeout(()=>{w(_)},E):w(_)},setProps(S){l=S},setToggle:(S,j)=>{let M=c.get(S);M&&(M.toggle=j)},isToastActive:S=>{var j;return(j=c.get(S))==null?void 0:j.isActive},getSnapshot:()=>a}}var dr=new Map,yh=[],C1=new Set,v9=t=>C1.forEach(e=>e(t)),tP=()=>dr.size>0;function w9(){yh.forEach(t=>rP(t.content,t.options)),yh=[]}var N9=(t,{containerId:e})=>{var n;return(n=dr.get(e||1))==null?void 0:n.toasts.get(t)};function nP(t,e){var n;if(e)return!!((n=dr.get(e))!=null&&n.isToastActive(t));let r=!1;return dr.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function S9(t){if(!tP()){yh=yh.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||h9(t))dr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=dr.get(t.containerId);e?e.removeToast(t.id):dr.forEach(n=>{n.removeToast(t.id)})}}var j9=(t={})=>{dr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function rP(t,e){j1(t)&&(tP()||yh.push({content:t,options:e}),dr.forEach(n=>{n.buildToast(t,e)}))}function C9(t){var e;(e=dr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function sP(t,e){dr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function k9(t){let e=t.containerId||1;return{subscribe(n){let r=b9(e,t,v9);dr.set(e,r);let s=r.observe(n);return w9(),()=>{s(),dr.delete(e)}},setProps(n){var r;(r=dr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=dr.get(e))==null?void 0:n.getSnapshot()}}}function T9(t){return C1.add(t),()=>{C1.delete(t)}}function E9(t){return t&&(El(t.toastId)||nf(t.toastId))?t.toastId:eP()}function rf(t,e){return rP(t,e),e.toastId}function L0(t,e){return{...e,type:e&&e.type||t,toastId:E9(e)}}function R0(t){return(e,n)=>rf(e,L0(t,n))}function ue(t,e){return rf(t,L0("default",e))}ue.loading=(t,e)=>rf(t,L0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function M9(t,{pending:e,error:n,success:r},s){let i;e&&(i=El(e)?ue.loading(e,s):ue.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){ue.dismiss(i);return}let p={type:u,...a,...s,data:f},g=El(d)?{render:d}:d;return i?ue.update(i,{...p,...g}):ue(g.render,{...p,...g}),f},c=aa(t)?t():t;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}ue.promise=M9;ue.success=R0("success");ue.info=R0("info");ue.error=R0("error");ue.warning=R0("warning");ue.warn=ue.warning;ue.dark=(t,e)=>rf(t,L0("default",{theme:"dark",...e}));function A9(t){S9(t)}ue.dismiss=A9;ue.clearWaitingQueue=j9;ue.isActive=nP;ue.update=(t,e={})=>{let n=N9(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:eP()};i.toastId!==t&&(i.staleId=t);let a=i.render||s;delete i.render,rf(a,i)}};ue.done=t=>{ue.update(t,{progress:1})};ue.onChange=T9;ue.play=t=>sP(!0,t);ue.pause=t=>sP(!1,t);function P9(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=T.useRef(k9(t)).current;s(t);let i=(e=T.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function a(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:a,isToastActive:nP,count:i?.length}}function O9(t){let[e,n]=T.useState(!1),[r,s]=T.useState(!1),i=T.useRef(null),a=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=t;C9({id:t.toastId,containerId:t.containerId,fn:n}),T.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{g()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function x(P){if(t.draggable===!0||t.draggable===P.pointerType){S();let E=i.current;a.canCloseOnClick=!0,a.canDrag=!0,E.style.transition="none",t.draggableDirection==="x"?(a.start=P.clientX,a.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(a.start=P.clientY,a.removalDistance=E.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function v(P){let{top:E,bottom:D,left:L,right:_}=i.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&t.pauseOnHover&&P.clientX>=L&&P.clientX<=_&&P.clientY>=E&&P.clientY<=D?w():b()}function b(){n(!0)}function w(){n(!1)}function S(){a.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",C)}function j(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",C)}function M(P){let E=i.current;if(a.canDrag&&E){a.didMove=!0,e&&w(),t.draggableDirection==="x"?a.delta=P.clientX-a.start:a.delta=P.clientY-a.start,a.start!==P.clientX&&(a.canCloseOnClick=!1);let D=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;E.style.transform=`translate3d(${D},0)`,E.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function C(){j();let P=i.current;if(a.canDrag&&a.didMove&&P){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let A={onPointerDown:x,onPointerUp:v};return l&&c&&(A.onMouseEnter=w,t.stacked||(A.onMouseLeave=b)),f&&(A.onClick=P=>{d&&d(P),a.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:A}}var _9=typeof window<"u"?T.useLayoutEffect:T.useEffect,F0=({theme:t,type:e,isLoading:n,...r})=>be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function D9(t){return be.createElement(F0,{...t},be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function I9(t){return be.createElement(F0,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function L9(t){return be.createElement(F0,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function R9(t){return be.createElement(F0,{...t},be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function F9(){return be.createElement("div",{className:"Toastify__spinner"})}var k1={info:I9,warning:D9,success:L9,error:R9,spinner:F9},z9=t=>t in k1;function V9({theme:t,type:e,isLoading:n,icon:r}){let s=null,i={theme:t,type:e};return r===!1||(aa(r)?s=r({...i,isLoading:n}):T.isValidElement(r)?s=T.cloneElement(r,i):n?s=k1.spinner():z9(e)&&(s=k1[e](i))),s}var $9=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=O9(t),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:p,transition:g,position:x,className:v,style:b,progressClassName:w,updateId:S,role:j,progress:M,rtl:C,toastId:A,deleteToast:P,isIn:E,isLoading:D,closeOnClick:L,theme:_,ariaLabel:z}=t,G=gl("Toastify__toast",`Toastify__toast-theme--${_}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":L}),H=aa(v)?v({rtl:C,position:x,type:d,defaultClassName:G}):gl(G,v),W=V9(t),R=!!M||!c,$={closeToast:p,type:d,theme:_},V=null;return a===!1||(aa(a)?V=a($):T.isValidElement(a)?V=T.cloneElement(a,$):V=g9($)),be.createElement(g,{isIn:E,done:P,position:x,preventExitTransition:n,nodeRef:r,playToast:i},be.createElement("div",{id:A,tabIndex:0,onClick:u,"data-in":E,className:H,...s,style:b,ref:r,...E&&{role:j,"aria-label":z}},W!=null&&be.createElement("div",{className:gl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},W),ZA(l,t,!e),V,!t.customProgressBar&&be.createElement(x9,{...S&&!R?{key:`p-${S}`}:{},rtl:C,theme:_,delay:c,isRunning:e,isIn:E,closeToast:p,hide:f,type:d,className:w,controlledProgress:R,progress:M||0})))},B9=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),H9=p9(B9("bounce",!0)),U9={position:"top-right",transition:H9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function W9(t){let e={...U9,...t},n=t.stacked,[r,s]=T.useState(!0),i=T.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=P9(e),{className:u,style:d,rtl:f,containerId:p,hotKeys:g}=e;function x(b){let w=gl("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return aa(u)?u({position:b,rtl:f,defaultClassName:w}):gl(w,S1(u))}function v(){n&&(s(!0),ue.play())}return _9(()=>{var b;if(n){let w=i.current.querySelectorAll('[data-in="true"]'),S=12,j=(b=e.position)==null?void 0:b.includes("top"),M=0,C=0;Array.from(w).reverse().forEach((A,P)=>{let E=A;E.classList.add("Toastify__toast--stacked"),P>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=j?"top":"bot");let D=M*(r?.2:1)+(r?0:S*P);E.style.setProperty("--y",`${j?D:D*-1}px`),E.style.setProperty("--g",`${S}`),E.style.setProperty("--s",`${1-(r?C:0)}`),M+=E.offsetHeight,C+=.025})}},[r,c,n]),T.useEffect(()=>{function b(w){var S;let j=i.current;g(w)&&((S=j.querySelector('[tabIndex="0"]'))==null||S.focus(),s(!1),ue.pause()),w.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),ue.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),be.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),ue.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((b,w)=>{let S=w.length?{...d}:{...d,pointerEvents:"none"};return be.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:S,key:`c-${b}`},w.map(({content:j,props:M})=>be.createElement($9,{...M,stacked:n,collapseAll:v,isIn:l(M.toastId,M.containerId),key:`t-${M.key}`},j)))}))}var qt;(function(t){t.ADMIN="admin",t.USER="user",t.STAFF="staff"})(qt||(qt={}));var sl;(function(t){t.MALE="male",t.FEMALE="female"})(sl||(sl={}));var ci;(function(t){t.ACTIVE="active",t.PROBATION="probation",t.ON_LEAVE="on_leave",t.RESIGNED="resigned"})(ci||(ci={}));var so;(function(t){t.SALE="sale",t.INVENTORY="inventory",t.MANAGER="manager"})(so||(so={}));var V3;(function(t){t.BRONZE="bronze",t.SILVER="silver",t.GOLD="gold"})(V3||(V3={}));var tl;(function(t){t.NOT_USING="NOT_USING",t.PRIVACY_CONCERNS="PRIVACY_CONCERNS",t.FOUND_BETTER_ALTERNATIVE="FOUND_BETTER_ALTERNATIVE",t.ACCOUNT_ISSUE="ACCOUNT_ISSUE",t.OTHER="OTHER"})(tl||(tl={}));var Le;(function(t){t.PENDING="pending",t.CONFIRMED="confirmed",t.SHIPPING="shipping",t.COMPLETED="completed",t.CANCELLED="cancelled",t.DELIVERED="delivered"})(Le||(Le={}));var Kr;(function(t){t.COD="cod",t.MOMO="momo",t.VNPAY="vnpay"})(Kr||(Kr={}));var nl;(function(t){t.CHANGE_OF_MIND="CHANGE_OF_MIND",t.FOUND_BETTER_PRICE="FOUND_BETTER_PRICE",t.ORDER_BY_MISTAKE="ORDER_BY_MISTAKE",t.WRONG_ADDRESS="WRONG_ADDRESS",t.OTHER="OTHER"})(nl||(nl={}));var qa;(function(t){t.PENDING="PENDING",t.SUCCESS="SUCCESS",t.FAILED="FAILED",t.CANCELLED="CANCELLED",t.REFUNDED="REFUNDED"})(qa||(qa={}));qa.PENDING+"",qa.SUCCESS+"",qa.FAILED+"",qa.CANCELLED+"",qa.REFUNDED+"";var Js;(function(t){t.PENDING="PENDING",t.PICKED_UP="PICKED_UP",t.IN_TRANSIT="IN_TRANSIT",t.OUT_FOR_DELIVERY="OUT_FOR_DELIVERY",t.DELIVERED="DELIVERED",t.FAILED="FAILED",t.RETURNED="RETURNED",t.CANCELED="CANCELED"})(Js||(Js={}));var Ba;(function(t){t.GHN="GHN",t.GHTK="GHTK",t.VIETTEL_POST="VIETTEL_POST",t.VN_POST="VN_POST",t.J_T_EXPRESS="J_T_EXPRESS",t.INTERNAL="INTERNAL"})(Ba||(Ba={}));var ii;(function(t){t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE"})(ii||(ii={}));var ai;(function(t){t.PERCENT="PERCENT",t.FIXED="FIXED"})(ai||(ai={}));var il;(function(t){t.SCHEDULE="SCHEDULE",t.ACTIVE="ACTIVE",t.ENDED="ENDED",t.CANCELLED="CANCELLED"})(il||(il={}));const iP=t=>{switch(t){case Le.PENDING:return{text:"Ch xc nhn",bgColor:"#fef3c7",textColor:"#92400e",borderColor:"#fbbf24"};case Le.CONFIRMED:return{text:" xc nhn",bgColor:"#dbeafe",textColor:"#1e40af",borderColor:"#3b82f6"};case Le.SHIPPING:return{text:"ang giao",bgColor:"#c3dafe",textColor:"#4c51bf",borderColor:"#818cf8"};case Le.DELIVERED:return{text:" giao",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#34d399"};case Le.COMPLETED:return{text:"Hon thnh",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#10b981"};case Le.CANCELLED:return{text:" hy",bgColor:"#fee2e2",textColor:"#991b1b",borderColor:"#ef4444"};default:return{text:"Khng xc nh",bgColor:"#f3f4f6",textColor:"#6b7280",borderColor:"#d1d5db"}}},$w={[Kr.COD]:{text:"Thanh ton khi nhn hng"},[Kr.MOMO]:{text:"Thanh ton qua v MOMO"},[Kr.VNPAY]:{text:"Thanh ton qua VNPay"}};Js.PENDING+"",Js.PICKED_UP+"",Js.IN_TRANSIT+"",Js.OUT_FOR_DELIVERY+"",Js.DELIVERED+"",Js.FAILED+"",Js.RETURNED+"",Js.CANCELED+"";const aP={[Ba.GHN]:{text:"Giao hng nhanh (GHN)"},[Ba.GHTK]:{text:"Giao hng tit kim (GHTK)"},[Ba.INTERNAL]:{text:"Ni b giao hng"},[Ba.J_T_EXPRESS]:{text:"J&T_Express"},[Ba.VIETTEL_POST]:{text:"Viettel Post"},[Ba.VN_POST]:{text:"Vn Post"}};function oP(t,e){return function(){return t.apply(e,arguments)}}const{toString:q9}=Object.prototype,{getPrototypeOf:Bw}=Object,{iterator:z0,toStringTag:lP}=Symbol,V0=(t=>e=>{const n=q9.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vs=t=>(t=t.toLowerCase(),e=>V0(e)===t),$0=t=>e=>typeof e===t,{isArray:Nu}=Array,ru=$0("undefined");function sf(t){return t!==null&&!ru(t)&&t.constructor!==null&&!ru(t.constructor)&&Or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const cP=Vs("ArrayBuffer");function K9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&cP(t.buffer),e}const G9=$0("string"),Or=$0("function"),uP=$0("number"),af=t=>t!==null&&typeof t=="object",Y9=t=>t===!0||t===!1,Ep=t=>{if(V0(t)!=="object")return!1;const e=Bw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lP in t)&&!(z0 in t)},X9=t=>{if(!af(t)||sf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Q9=Vs("Date"),J9=Vs("File"),Z9=Vs("Blob"),eB=Vs("FileList"),tB=t=>af(t)&&Or(t.pipe),nB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Or(t.append)&&((e=V0(t))==="formdata"||e==="object"&&Or(t.toString)&&t.toString()==="[object FormData]"))},rB=Vs("URLSearchParams"),[sB,iB,aB,oB]=["ReadableStream","Request","Response","Headers"].map(Vs),lB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function of(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Nu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(sf(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function dP(t,e){if(sf(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hP=t=>!ru(t)&&t!==al;function T1(){const{caseless:t,skipUndefined:e}=hP(this)&&this||{},n={},r=(s,i)=>{const a=t&&dP(n,i)||i;Ep(n[a])&&Ep(s)?n[a]=T1(n[a],s):Ep(s)?n[a]=T1({},s):Nu(s)?n[a]=s.slice():(!e||!ru(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&of(arguments[s],r);return n}const cB=(t,e,n,{allOwnKeys:r}={})=>(of(e,(s,i)=>{n&&Or(s)?t[i]=oP(s,n):t[i]=s},{allOwnKeys:r}),t),uB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},hB=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Bw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},mB=t=>{if(!t)return null;if(Nu(t))return t;let e=t.length;if(!uP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},pB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bw(Uint8Array)),gB=(t,e)=>{const r=(t&&t[z0]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},xB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},yB=Vs("HTMLFormElement"),bB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),vB=Vs("RegExp"),fP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};of(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},wB=t=>{fP(t,(e,n)=>{if(Or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NB=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Nu(t)?r(t):r(String(t).split(e)),n},SB=()=>{},jB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function CB(t){return!!(t&&Or(t.append)&&t[lP]==="FormData"&&t[z0])}const kB=t=>{const e=new Array(10),n=(r,s)=>{if(af(r)){if(e.indexOf(r)>=0)return;if(sf(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Nu(r)?[]:{};return of(r,(a,l)=>{const c=n(a,s+1);!ru(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},TB=Vs("AsyncFunction"),EB=t=>t&&(af(t)||Or(t))&&Or(t.then)&&Or(t.catch),mP=((t,e)=>t?setImmediate:e?((n,r)=>(al.addEventListener("message",({source:s,data:i})=>{s===al&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),al.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Or(al.postMessage)),MB=typeof queueMicrotask<"u"?queueMicrotask.bind(al):typeof process<"u"&&process.nextTick||mP,AB=t=>t!=null&&Or(t[z0]),oe={isArray:Nu,isArrayBuffer:cP,isBuffer:sf,isFormData:nB,isArrayBufferView:K9,isString:G9,isNumber:uP,isBoolean:Y9,isObject:af,isPlainObject:Ep,isEmptyObject:X9,isReadableStream:sB,isRequest:iB,isResponse:aB,isHeaders:oB,isUndefined:ru,isDate:Q9,isFile:J9,isBlob:Z9,isRegExp:vB,isFunction:Or,isStream:tB,isURLSearchParams:rB,isTypedArray:pB,isFileList:eB,forEach:of,merge:T1,extend:cB,trim:lB,stripBOM:uB,inherits:dB,toFlatObject:hB,kindOf:V0,kindOfTest:Vs,endsWith:fB,toArray:mB,forEachEntry:gB,matchAll:xB,isHTMLForm:yB,hasOwnProperty:$3,hasOwnProp:$3,reduceDescriptors:fP,freezeMethods:wB,toObjectSet:NB,toCamelCase:bB,noop:SB,toFiniteNumber:jB,findKey:dP,global:al,isContextDefined:hP,isSpecCompliantForm:CB,toJSONObject:kB,isAsyncFn:TB,isThenable:EB,setImmediate:mP,asap:MB,isIterable:AB};function nt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const pP=nt.prototype,gP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gP[t]={value:t}});Object.defineProperties(nt,gP);Object.defineProperty(pP,"isAxiosError",{value:!0});nt.from=(t,e,n,r,s,i)=>{const a=Object.create(pP);oe.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return nt.call(a,l,c,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const PB=null;function E1(t){return oe.isPlainObject(t)||oe.isArray(t)}function xP(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function B3(t,e,n){return t?t.concat(e).map(function(s,i){return s=xP(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function OB(t){return oe.isArray(t)&&!t.some(E1)}const _B=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function B0(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!oe.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(oe.isDate(x))return x.toISOString();if(oe.isBoolean(x))return x.toString();if(!c&&oe.isBlob(x))throw new nt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(x)||oe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,b){let w=x;if(x&&!b&&typeof x=="object"){if(oe.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(oe.isArray(x)&&OB(x)||(oe.isFileList(x)||oe.endsWith(v,"[]"))&&(w=oe.toArray(x)))return v=xP(v),w.forEach(function(j,M){!(oe.isUndefined(j)||j===null)&&e.append(a===!0?B3([v],M,i):a===null?v:v+"[]",u(j))}),!1}return E1(x)?!0:(e.append(B3(b,v,i),u(x)),!1)}const f=[],p=Object.assign(_B,{defaultVisitor:d,convertValue:u,isVisitable:E1});function g(x,v){if(!oe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(x),oe.forEach(x,function(w,S){(!(oe.isUndefined(w)||w===null)&&s.call(e,w,oe.isString(S)?S.trim():S,v,p))===!0&&g(w,v?v.concat(S):[S])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return g(t),e}function H3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Hw(t,e){this._pairs=[],t&&B0(t,this,e)}const yP=Hw.prototype;yP.append=function(e,n){this._pairs.push([e,n])};yP.toString=function(e){const n=e?function(r){return e.call(this,r,H3)}:H3;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function DB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bP(t,e,n){if(!e)return t;const r=n&&n.encode||DB;oe.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=oe.isURLSearchParams(e)?e.toString():new Hw(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class U3{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IB=typeof URLSearchParams<"u"?URLSearchParams:Hw,LB=typeof FormData<"u"?FormData:null,RB=typeof Blob<"u"?Blob:null,FB={isBrowser:!0,classes:{URLSearchParams:IB,FormData:LB,Blob:RB},protocols:["http","https","file","blob","url","data"]},Uw=typeof window<"u"&&typeof document<"u",M1=typeof navigator=="object"&&navigator||void 0,zB=Uw&&(!M1||["ReactNative","NativeScript","NS"].indexOf(M1.product)<0),VB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$B=Uw&&window.location.href||"http://localhost",BB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uw,hasStandardBrowserEnv:zB,hasStandardBrowserWebWorkerEnv:VB,navigator:M1,origin:$B},Symbol.toStringTag,{value:"Module"})),Zn={...BB,...FB};function HB(t,e){return B0(t,new Zn.classes.URLSearchParams,{visitor:function(n,r,s,i){return Zn.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function UB(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WB(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function wP(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&oe.isArray(s)?s.length:a,c?(oe.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!oe.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&oe.isArray(s[a])&&(s[a]=WB(s[a])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,s)=>{e(UB(r),s,n,0)}),n}return null}function qB(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const lf={transitional:vP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=oe.isObject(e);if(i&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify(wP(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HB(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return B0(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),qB(e)):e}],transformResponse:[function(e){const n=this.transitional||lf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?nt.from(l,nt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{lf.headers[t]={}});const KB=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GB=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&KB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},W3=Symbol("internals");function vd(t){return t&&String(t).trim().toLowerCase()}function Mp(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Mp):String(t)}function YB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const XB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mb(t,e,n,r,s){if(oe.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function QB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function JB(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let _r=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const d=vd(c);if(!d)throw new Error("header name must be a non-empty string");const f=oe.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Mp(l))}const a=(l,c)=>oe.forEach(l,(u,d)=>i(u,d,c));if(oe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(oe.isString(e)&&(e=e.trim())&&!XB(e))a(GB(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},c,u;for(const d of e){if(!oe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?oe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=vd(e),e){const r=oe.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return YB(s);if(oe.isFunction(n))return n.call(this,s,r);if(oe.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vd(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Mb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=vd(a),a){const l=oe.findKey(r,a);l&&(!n||Mb(r,r[l],l,n))&&(delete r[l],s=!0)}}return oe.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Mb(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return oe.forEach(this,(s,i)=>{const a=oe.findKey(r,i);if(a){n[a]=Mp(s),delete n[i];return}const l=e?QB(i):String(i).trim();l!==i&&delete n[i],n[l]=Mp(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[W3]=this[W3]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=vd(a);r[l]||(JB(s,a),r[l]=!0)}return oe.isArray(e)?e.forEach(i):i(e),this}};_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(_r.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(_r);function Ab(t,e){const n=this||lf,r=e||n,s=_r.from(r.headers);let i=r.data;return oe.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function NP(t){return!!(t&&t.__CANCEL__)}function Su(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(Su,nt,{__CANCEL__:!0});function SP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ZB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function eH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function tH(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const ag=(t,e,n=3)=>{let r=0;const s=eH(50,250);return tH(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},q3=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},K3=t=>(...e)=>oe.asap(()=>t(...e)),nH=Zn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zn.origin),Zn.navigator&&/(msie|trident)/i.test(Zn.navigator.userAgent)):()=>!0,rH=Zn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&a.push("path="+r),oe.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function jP(t,e,n){let r=!sH(e);return t&&(r||n==!1)?iH(t,e):e}const G3=t=>t instanceof _r?{...t}:t;function Ml(t,e){e=e||{};const n={};function r(u,d,f,p){return oe.isPlainObject(u)&&oe.isPlainObject(d)?oe.merge.call({caseless:p},u,d):oe.isPlainObject(d)?oe.merge({},d):oe.isArray(d)?d.slice():d}function s(u,d,f,p){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function i(u,d){if(!oe.isUndefined(d))return r(void 0,d)}function a(u,d){if(oe.isUndefined(d)){if(!oe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(G3(u),G3(d),f,!0)};return oe.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||s,p=f(t[d],e[d],d);oe.isUndefined(p)&&f!==l||(n[d]=p)}),n}const CP=t=>{const e=Ml({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=_r.from(a),e.url=bP(jP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),oe.isFormData(n)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(oe.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Zn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&nH(e.url))){const c=s&&i&&rH.read(i);c&&a.set(s,c)}return e},aH=typeof XMLHttpRequest<"u",oH=aH&&function(t){return new Promise(function(n,r){const s=CP(t);let i=s.data;const a=_r.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,g,x;function v(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function w(){if(!b)return;const j=_r.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:t,request:b};SP(function(P){n(P),v()},function(P){r(P),v()},C),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new nt("Request aborted",nt.ECONNABORTED,t,b)),b=null)},b.onerror=function(M){const C=M&&M.message?M.message:"Network Error",A=new nt(C,nt.ERR_NETWORK,t,b);A.event=M||null,r(A),b=null},b.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||vP;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),r(new nt(M,C.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&oe.forEach(a.toJSON(),function(M,C){b.setRequestHeader(C,M)}),oe.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([p,x]=ag(u,!0),b.addEventListener("progress",p)),c&&b.upload&&([f,g]=ag(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=j=>{b&&(r(!j||j.type?new Su(null,t,b):j),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const S=ZB(s.url);if(S&&Zn.protocols.indexOf(S)===-1){r(new nt("Unsupported protocol "+S+":",nt.ERR_BAD_REQUEST,t));return}b.send(i||null)})},lH=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof nt?d:new Su(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new nt(`timeout ${e} of ms exceeded`,nt.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},cH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},uH=async function*(t,e){for await(const n of dH(t))yield*cH(n,e)},dH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Y3=(t,e,n,r)=>{const s=uH(t,e);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},X3=64*1024,{isFunction:Dm}=oe,hH=(({Request:t,Response:e})=>({Request:t,Response:e}))(oe.global),{ReadableStream:Q3,TextEncoder:J3}=oe.global,Z3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},fH=t=>{t=oe.merge.call({skipUndefined:!0},hH,t);const{fetch:e,Request:n,Response:r}=t,s=e?Dm(e):typeof fetch=="function",i=Dm(n),a=Dm(r);if(!s)return!1;const l=s&&Dm(Q3),c=s&&(typeof J3=="function"?(x=>v=>x.encode(v))(new J3):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&l&&Z3(()=>{let x=!1;const v=new n(Zn.origin,{body:new Q3,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=a&&l&&Z3(()=>oe.isReadableStream(new r("").body)),f={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(v,b)=>{let w=v&&v[x];if(w)return w.call(v);throw new nt(`Response type '${x}' is not supported`,nt.ERR_NOT_SUPPORT,b)})});const p=async x=>{if(x==null)return 0;if(oe.isBlob(x))return x.size;if(oe.isSpecCompliantForm(x))return(await new n(Zn.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(x)||oe.isArrayBuffer(x))return x.byteLength;if(oe.isURLSearchParams(x)&&(x=x+""),oe.isString(x))return(await c(x)).byteLength},g=async(x,v)=>{const b=oe.toFiniteNumber(x.getContentLength());return b??p(v)};return async x=>{let{url:v,method:b,data:w,signal:S,cancelToken:j,timeout:M,onDownloadProgress:C,onUploadProgress:A,responseType:P,headers:E,withCredentials:D="same-origin",fetchOptions:L}=CP(x),_=e||fetch;P=P?(P+"").toLowerCase():"text";let z=lH([S,j&&j.toAbortSignal()],M),G=null;const H=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let W;try{if(A&&u&&b!=="get"&&b!=="head"&&(W=await g(E,w))!==0){let B=new n(v,{method:"POST",body:w,duplex:"half"}),J;if(oe.isFormData(w)&&(J=B.headers.get("content-type"))&&E.setContentType(J),B.body){const[ne,se]=q3(W,ag(K3(A)));w=Y3(B.body,X3,ne,se)}}oe.isString(D)||(D=D?"include":"omit");const R=i&&"credentials"in n.prototype,$={...L,signal:z,method:b.toUpperCase(),headers:E.normalize().toJSON(),body:w,duplex:"half",credentials:R?D:void 0};G=i&&new n(v,$);let V=await(i?_(G,L):_(v,$));const K=d&&(P==="stream"||P==="response");if(d&&(C||K&&H)){const B={};["status","statusText","headers"].forEach(fe=>{B[fe]=V[fe]});const J=oe.toFiniteNumber(V.headers.get("content-length")),[ne,se]=C&&q3(J,ag(K3(C),!0))||[];V=new r(Y3(V.body,X3,ne,()=>{se&&se(),H&&H()}),B)}P=P||"text";let X=await f[oe.findKey(f,P)||"text"](V,x);return!K&&H&&H(),await new Promise((B,J)=>{SP(B,J,{data:X,headers:_r.from(V.headers),status:V.status,statusText:V.statusText,config:x,request:G})})}catch(R){throw H&&H(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,x,G),{cause:R.cause||R}):nt.from(R,R&&R.code,x,G)}}},mH=new Map,kP=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,l=a,c,u,d=mH;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:fH(e)),d=u;return u};kP();const A1={http:PB,xhr:oH,fetch:{get:kP}};oe.forEach(A1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ek=t=>`- ${t}`,pH=t=>oe.isFunction(t)||t===null||t===!1,TP={getAdapter:(t,e)=>{t=oe.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!pH(r)&&(s=A1[(l=String(r)).toLowerCase()],s===void 0))throw new nt(`Unknown adapter '${l}'`);if(s&&(oe.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(ek).join(`
`):" "+ek(a[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:A1};function Pb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Su(null,t)}function tk(t){return Pb(t),t.headers=_r.from(t.headers),t.data=Ab.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),TP.getAdapter(t.adapter||lf.adapter,t)(t).then(function(r){return Pb(t),r.data=Ab.call(t,t.transformResponse,r),r.headers=_r.from(r.headers),r},function(r){return NP(r)||(Pb(t),r&&r.response&&(r.response.data=Ab.call(t,t.transformResponse,r.response),r.response.headers=_r.from(r.response.headers))),Promise.reject(r)})}const EP="1.12.2",H0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{H0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const nk={};H0.transitional=function(e,n,r){function s(i,a){return"[Axios v"+EP+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new nt(s(a," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!nk[a]&&(nk[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};H0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function gH(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new nt("option "+i+" must be "+c,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+i,nt.ERR_BAD_OPTION)}}const Ap={assertOptions:gH,validators:H0},Xs=Ap.validators;let xl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new U3,response:new U3}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ml(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ap.assertOptions(r,{silentJSONParsing:Xs.transitional(Xs.boolean),forcedJSONParsing:Xs.transitional(Xs.boolean),clarifyTimeoutError:Xs.transitional(Xs.boolean)},!1),s!=null&&(oe.isFunction(s)?n.paramsSerializer={serialize:s}:Ap.assertOptions(s,{encode:Xs.function,serialize:Xs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ap.assertOptions(n,{baseUrl:Xs.spelling("baseURL"),withXsrfToken:Xs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&oe.merge(i.common,i[n.method]);i&&oe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=_r.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!c){const x=[tk.bind(this),void 0];for(x.unshift(...l),x.push(...u),p=x.length,d=Promise.resolve(n);f<p;)d=d.then(x[f++],x[f++]);return d}p=l.length;let g=n;for(;f<p;){const x=l[f++],v=l[f++];try{g=x(g)}catch(b){v.call(this,b);break}}try{d=tk.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Ml(this.defaults,e);const n=jP(e.baseURL,e.url,e.allowAbsoluteUrls);return bP(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){xl.prototype[e]=function(n,r){return this.request(Ml(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(Ml(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}xl.prototype[e]=n(),xl.prototype[e+"Form"]=n(!0)});let xH=class MP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new Su(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new MP(function(s){e=s}),cancel:e}}};function yH(t){return function(n){return t.apply(null,n)}}function bH(t){return oe.isObject(t)&&t.isAxiosError===!0}const P1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(P1).forEach(([t,e])=>{P1[e]=t});function AP(t){const e=new xl(t),n=oP(xl.prototype.request,e);return oe.extend(n,xl.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return AP(Ml(t,s))},n}const on=AP(lf);on.Axios=xl;on.CanceledError=Su;on.CancelToken=xH;on.isCancel=NP;on.VERSION=EP;on.toFormData=B0;on.AxiosError=nt;on.Cancel=on.CanceledError;on.all=function(e){return Promise.all(e)};on.spread=yH;on.isAxiosError=bH;on.mergeConfig=Ml;on.AxiosHeaders=_r;on.formToJSON=t=>wP(oe.isHTMLForm(t)?new FormData(t):t);on.getAdapter=TP.getAdapter;on.HttpStatusCode=P1;on.default=on;const{Axios:F1e,AxiosError:vH,CanceledError:z1e,isCancel:V1e,CancelToken:$1e,VERSION:B1e,all:H1e,Cancel:U1e,isAxiosError:W1e,spread:q1e,toFormData:K1e,AxiosHeaders:G1e,HttpStatusCode:Y1e,formToJSON:X1e,getAdapter:Q1e,mergeConfig:J1e}=on,ge=on.create({baseURL:"http://localhost:8080",timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});ge.interceptors.response.use(t=>t.data,async t=>{const e=t.response?.status;if(!t.response)return Promise.reject({message:"Khng th kt ni n server. Vui lng kim tra mng!",code:"NETWORK_ERROR"});if(e===403)return Promise.reject({message:"Bn khng c quyn thc hin hnh ng ny",code:"FORBIDDEN",status:e});if(e>=500)return Promise.reject({message:"Li my ch. Vui lng th li sau!",code:"SERVER_ERROR",status:e});const n=t.response?.data?.message||t.message||" c li xy ra";return Promise.reject({message:typeof n=="string"?n:n[0]||"Li khng xc nh",code:t.response?.data?.error||"BAD_REQUEST",status:e,data:t.response?.data})});var cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},NH=class{#e=wH;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ol=new NH;function SH(t){setTimeout(t,0)}var Al=typeof window>"u"||"Deno"in globalThis;function Tr(){}function jH(t,e){return typeof t=="function"?t(e):t}function O1(t){return typeof t=="number"&&t>=0&&t!==1/0}function PP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function io(t,e){return typeof t=="function"?t(e):t}function fs(t,e){return typeof t=="function"?t(e):t}function rk(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Ww(a,e.options))return!1}else if(!vh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function sk(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(bh(e.options.mutationKey)!==bh(i))return!1}else if(!vh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ww(t,e){return(e?.queryKeyHashFn||bh)(t)}function bh(t){return JSON.stringify(t,(e,n)=>D1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>vh(t[n],e[n])):!1}var CH=Object.prototype.hasOwnProperty;function OP(t,e){if(t===e)return t;const n=ik(t)&&ik(e);if(!n&&!(D1(t)&&D1(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u],f=t[d],p=e[d];if(f===p){l[d]=f,(n?u<s:CH.call(t,d))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[d]=p;continue}const g=OP(f,p);l[d]=g,g===f&&c++}return s===a&&c===s?t:l}function _1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ik(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function D1(t){if(!ak(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ak(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ak(t){return Object.prototype.toString.call(t)==="[object Object]"}function kH(t){return new Promise(e=>{ol.setTimeout(e,t)})}function I1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?OP(t,e):e}function TH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function EH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qw=Symbol();function _P(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===qw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function MH(t,e){return typeof t=="function"?t(...e):!!t}var AH=class extends cf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Al&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Kw=new AH;function L1(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var PH=SH;function OH(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=PH;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var zn=OH(),_H=class extends cf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Al&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},og=new _H;function DH(t){return Math.min(1e3*2**t,3e4)}function DP(t){return(t??"online")==="online"?og.isOnline():!0}var R1=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function IP(t){let e=!1,n=0,r;const s=L1(),i=()=>s.status!=="pending",a=v=>{if(!i()){const b=new R1(v);p(b),t.onCancel?.(b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>Kw.isFocused()&&(t.networkMode==="always"||og.isOnline())&&t.canRun(),d=()=>DP(t.networkMode)&&t.canRun(),f=v=>{i()||(r?.(),s.resolve(v))},p=v=>{i()||(r?.(),s.reject(v))},g=()=>new Promise(v=>{r=b=>{(i()||u())&&v(b)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{if(i())return;const S=t.retry??(Al?0:3),j=t.retryDelay??DH,M=typeof j=="function"?j(n,w):j,C=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,w);if(e||!C){p(w);return}n++,t.onFail?.(n,w),kH(M).then(()=>u()?void 0:g()).then(()=>{e?p(w):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),s)}}var LP=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),O1(this.gcTime)&&(this.#e=ol.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Al?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ol.clearTimeout(this.#e),this.#e=void 0)}},IH=class extends LP{#e;#t;#n;#s;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ok(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=ok(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=I1(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>fs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>io(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!PP(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const l=_P(this.options,e),u=(()=>{const d={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#a=!1,this.options.persister?this.options.persister(l,u,this):l(u)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=IP({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof R1&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof R1){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RP(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function RP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ok(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var LH=class extends cf{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=L1(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),lk(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return F1(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return F1(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),e._defaulted&&!_1(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&ck(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||fs(this.options.enabled,this.#t)!==fs(e.enabled,this.#t)||io(this.options.staleTime,this.#t)!==io(e.staleTime,this.#t))&&this.#g();const s=this.#x();r&&(this.#t!==n||fs(this.options.enabled,this.#t)!==fs(e.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return FH(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#N();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Tr)),e}#g(){this.#v();const t=io(this.options.staleTime,this.#t);if(Al||this.#s.isStale||!O1(t))return;const n=PP(this.#s.dataUpdatedAt,t)+1;this.#c=ol.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Al||fs(this.options.enabled,this.#t)===!1||!O1(this.#l)||this.#l===0)&&(this.#u=ol.setInterval(()=>{(this.options.refetchIntervalInBackground||Kw.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#x())}#v(){this.#c&&(ol.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(ol.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#s,i=this.#r,a=this.#o,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,p;if(e._optimisticResults){const E=this.hasListeners(),D=!E&&lk(t,e),L=E&&ck(t,n,e,r);(D||L)&&(d={...d,...RP(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=d;p=d.data;let b=!1;if(e.placeholderData!==void 0&&p===void 0&&v==="pending"){let E;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(E=s.data,b=!0):E=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,E!==void 0&&(v="success",p=I1(s?.data,E,e),f=!0)}if(e.select&&p!==void 0&&!b)if(s&&p===i?.data&&e.select===this.#p)p=this.#h;else try{this.#p=e.select,p=e.select(p),p=I1(s?.data,p,e),this.#h=p,this.#i=null}catch(E){this.#i=E}this.#i&&(g=this.#i,p=this.#h,x=Date.now(),v="error");const w=d.fetchStatus==="fetching",S=v==="pending",j=v==="error",M=S&&w,C=p!==void 0,P={status:v,fetchStatus:d.fetchStatus,isPending:S,isSuccess:v==="success",isError:j,isInitialLoading:M,isLoading:M,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:j&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&C,isStale:Gw(t,e),refetch:this.refetch,promise:this.#a,isEnabled:fs(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=_=>{P.status==="error"?_.reject(P.error):P.data!==void 0&&_.resolve(P.data)},D=()=>{const _=this.#a=P.promise=L1();E(_)},L=this.#a;switch(L.status){case"pending":t.queryHash===n.queryHash&&E(L);break;case"fulfilled":(P.status==="error"||P.data!==L.value)&&D();break;case"rejected":(P.status!=="error"||P.error!==L.reason)&&D();break}}return P}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),_1(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(a=>{const l=a;return this.#s[l]!==t[l]&&i.has(l)})};this.#S({listeners:n()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){zn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function RH(t,e){return fs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function lk(t,e){return RH(t,e)||t.state.data!==void 0&&F1(t,e,e.refetchOnMount)}function F1(t,e,n){if(fs(e.enabled,t)!==!1&&io(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Gw(t,e)}return!1}function ck(t,e,n,r){return(t!==e||fs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Gw(t,n)}function Gw(t,e){return fs(e.enabled,t)!==!1&&t.isStaleByTime(io(e.staleTime,t))}function FH(t,e){return!_1(t.getCurrentResult(),e)}function uk(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=_P(e.options,e.fetchOptions),g=async(x,v,b)=>{if(d)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const S=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:v,direction:b?"backward":"forward",meta:e.options.meta};return f(A),A})(),j=await p(S),{maxPages:M}=e.options,C=b?EH:TH;return{pages:C(x.pages,j,M),pageParams:C(x.pageParams,v,M)}};if(s&&i.length){const x=s==="backward",v=x?zH:dk,b={pages:i,pageParams:a},w=v(r,b);l=await g(b,w,x)}else{const x=t??i.length;do{const v=c===0?a[0]??r.initialPageParam:dk(r,l);if(c>0&&v==null)break;l=await g(l,v),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function dk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zH(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var VH=class extends LP{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||$H(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=IP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),zn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function $H(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var BH=class extends cf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new VH({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Im(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Im(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Im(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Im(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>sk(e,n))}findAll(t={}){return this.getAll().filter(e=>sk(t,e))}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Tr))))}};function Im(t){return t.options.scope?.id}var HH=class extends cf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Ww(r,e);let i=this.get(s);return i||(i=new IH({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>rk(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>rk(t,n)):e}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},UH=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new HH,this.#t=t.mutationCache||new BH,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Kw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=og.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(io(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=jH(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return zn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Tr).catch(Tr)}invalidateQueries(t,e={}){return zn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(io(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tr).catch(Tr)}fetchInfiniteQuery(t){return t.behavior=uk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tr).catch(Tr)}ensureInfiniteQueryData(t){return t.behavior=uk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return og.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(bh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{vh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(bh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{vh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ww(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},FP=T.createContext(void 0),jo=t=>{const e=T.useContext(FP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},WH=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(FP.Provider,{value:t,children:e})),zP=T.createContext(!1),qH=()=>T.useContext(zP);zP.Provider;function KH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var GH=T.createContext(KH()),YH=()=>T.useContext(GH),XH=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},QH=t=>{T.useEffect(()=>{t.clearReset()},[t])},JH=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||MH(n,[t.error,r])),ZH=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},eU=(t,e)=>t.isLoading&&t.isFetching&&!e,tU=(t,e)=>t?.suspense&&e.isPending,hk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function nU(t,e,n){const r=qH(),s=YH(),i=jo(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",ZH(a),XH(a,s),QH(s);const l=!i.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(i,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(f=>{const p=d?c.subscribe(zn.batchCalls(f)):Tr;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),tU(a,u))throw hk(a,c,s);if(JH({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!Al&&eU(u,r)&&(l?hk(a,c,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(Tr).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?u:c.trackResult(u)}function Fe(t,e){return nU(t,LH)}const rU=async()=>{try{const t=await ge.get("/api/v1/auth/me");return t?.user?t.user:null}catch(t){if(t?.response?.status===401)return null;throw t}},Ct=()=>{const t=jo(),{data:e,isLoading:n,refetch:r}=Fe({queryKey:["user"],queryFn:rU,staleTime:300*1e3,retry:(l,c)=>c.status!==401,refetchOnWindowFocus:!1,refetchOnMount:!1});return{user:e,loading:n,refreshUser:async()=>(await t.invalidateQueries({queryKey:["user"]}),await r()),clearUser:()=>{t.setQueryData(["user"],null)},setUser:l=>{t.setQueryData(["user"],l)}}},VP=T.createContext(null);function sU({children:t}){const{refreshUser:e,clearUser:n}=Ct(),r=async(a,l,c)=>{let u="/api/v1/auth/login";(a===qt.ADMIN||a===qt.STAFF)&&(u="/api/v1/auth/admin/login");try{const d=await ge.post(u,{email:l,password:c});if(d.status)await e();else throw new Error(d.message||"ng nhp tht bi")}catch(d){throw d}},s=async a=>{try{const l=await ge.post("/api/v1/auth/register",a);if(l.status)await e();else throw new Error(l.message||"ng k tht bi!")}catch(l){throw console.log(l),l.response.data}},i=async()=>{try{await ge.get("/api/v1/auth/logout"),sessionStorage.removeItem("checkoutData"),n(),await e()}catch(a){console.error("Logout error:",a)}};return o.jsx(VP.Provider,{value:{login:r,logout:i,register:s},children:t})}const ju=()=>{const t=T.useContext(VP);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iU(t){if(Array.isArray(t))return t}function aU(t){if(Array.isArray(t))return z1(t)}function oU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$P(r.key),r)}}function cU(t,e,n){return e&&lU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pp(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Yw(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function st(t,e,n){return(e=$P(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function hU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){st(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0(t,e){return iU(t)||dU(t,e)||Yw(t,e)||hU()}function Fs(t){return aU(t)||uU(t)||Yw(t)||fU()}function mU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $P(t){var e=mU(t,"string");return typeof e=="symbol"?e:e+""}function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function Yw(t,e){if(t){if(typeof t=="string")return z1(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z1(t,e):void 0}}var mk=function(){},Xw={},BP={},HP=null,UP={mark:mk,measure:mk};try{typeof window<"u"&&(Xw=window),typeof document<"u"&&(BP=document),typeof MutationObserver<"u"&&(HP=MutationObserver),typeof performance<"u"&&(UP=performance)}catch{}var pU=Xw.navigator||{},pk=pU.userAgent,gk=pk===void 0?"":pk,mo=Xw,Dt=BP,xk=HP,Lm=UP;mo.document;var pa=!!Dt.documentElement&&!!Dt.head&&typeof Dt.addEventListener=="function"&&typeof Dt.createElement=="function",WP=~gk.indexOf("MSIE")||~gk.indexOf("Trident/"),Ob,gU=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,xU=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,qP={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},yU={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},KP=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],Hn="classic",uf="duotone",GP="sharp",YP="sharp-duotone",XP="chisel",QP="etch",JP="jelly",ZP="jelly-duo",eO="jelly-fill",tO="notdog",nO="notdog-duo",rO="slab",sO="slab-press",iO="thumbprint",aO="utility",oO="utility-duo",lO="utility-fill",cO="whiteboard",bU="Classic",vU="Duotone",wU="Sharp",NU="Sharp Duotone",SU="Chisel",jU="Etch",CU="Jelly",kU="Jelly Duo",TU="Jelly Fill",EU="Notdog",MU="Notdog Duo",AU="Slab",PU="Slab Press",OU="Thumbprint",_U="Utility",DU="Utility Duo",IU="Utility Fill",LU="Whiteboard",uO=[Hn,uf,GP,YP,XP,QP,JP,ZP,eO,tO,nO,rO,sO,iO,aO,oO,lO,cO];Ob={},st(st(st(st(st(st(st(st(st(st(Ob,Hn,bU),uf,vU),GP,wU),YP,NU),XP,SU),QP,jU),JP,CU),ZP,kU),eO,TU),tO,EU),st(st(st(st(st(st(st(st(Ob,nO,MU),rO,AU),sO,PU),iO,OU),aO,_U),oO,DU),lO,IU),cO,LU);var RU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},FU={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},zU=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),VU={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},dO=["fak","fa-kit","fakd","fa-kit-duotone"],yk={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},$U=["kit"],BU="kit",HU="kit-duotone",UU="Kit",WU="Kit Duotone";st(st({},BU,UU),HU,WU);var qU={kit:{"fa-kit":"fak"}},KU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},GU={kit:{fak:"fa-kit"}},bk={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},_b,Rm={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},YU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],XU="classic",QU="duotone",JU="sharp",ZU="sharp-duotone",eW="chisel",tW="etch",nW="jelly",rW="jelly-duo",sW="jelly-fill",iW="notdog",aW="notdog-duo",oW="slab",lW="slab-press",cW="thumbprint",uW="utility",dW="utility-duo",hW="utility-fill",fW="whiteboard",mW="Classic",pW="Duotone",gW="Sharp",xW="Sharp Duotone",yW="Chisel",bW="Etch",vW="Jelly",wW="Jelly Duo",NW="Jelly Fill",SW="Notdog",jW="Notdog Duo",CW="Slab",kW="Slab Press",TW="Thumbprint",EW="Utility",MW="Utility Duo",AW="Utility Fill",PW="Whiteboard";_b={},st(st(st(st(st(st(st(st(st(st(_b,XU,mW),QU,pW),JU,gW),ZU,xW),eW,yW),tW,bW),nW,vW),rW,wW),sW,NW),iW,SW),st(st(st(st(st(st(st(st(_b,aW,jW),oW,CW),lW,kW),cW,TW),uW,EW),dW,MW),hW,AW),fW,PW);var OW="kit",_W="kit-duotone",DW="Kit",IW="Kit Duotone";st(st({},OW,DW),_W,IW);var LW={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},RW={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},V1={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},FW=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],hO=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(YU,FW),zW=["solid","regular","light","thin","duotone","brands","semibold"],fO=[1,2,3,4,5,6,7,8,9,10],VW=fO.concat([11,12,13,14,15,16,17,18,19,20]),$W=["aw","fw","pull-left","pull-right"],BW=[].concat(Fs(Object.keys(RW)),zW,$W,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Rm.GROUP,Rm.SWAP_OPACITY,Rm.PRIMARY,Rm.SECONDARY]).concat(fO.map(function(t){return"".concat(t,"x")})).concat(VW.map(function(t){return"w-".concat(t)})),HW={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},oa="___FONT_AWESOME___",$1=16,mO="fa",pO="svg-inline--fa",Pl="data-fa-i2svg",B1="data-fa-pseudo-element",UW="data-fa-pseudo-element-pending",Qw="data-prefix",Jw="data-icon",vk="fontawesome-i2svg",WW="async",qW=["HTML","HEAD","STYLE","SCRIPT"],gO=["::before","::after",":before",":after"],xO=(function(){try{return!0}catch{return!1}})();function df(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Hn]}})}var yO=we({},qP);yO[Hn]=we(we(we(we({},{"fa-duotone":"duotone"}),qP[Hn]),yk.kit),yk["kit-duotone"]);var KW=df(yO),H1=we({},VU);H1[Hn]=we(we(we(we({},{duotone:"fad"}),H1[Hn]),bk.kit),bk["kit-duotone"]);var wk=df(H1),U1=we({},V1);U1[Hn]=we(we({},U1[Hn]),GU.kit);var Zw=df(U1),W1=we({},LW);W1[Hn]=we(we({},W1[Hn]),qU.kit);df(W1);var GW=gU,bO="fa-layers-text",YW=xU,XW=we({},RU);df(XW);var QW=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Db=yU,JW=[].concat(Fs($U),Fs(BW)),qd=mo.FontAwesomeConfig||{};function ZW(t){var e=Dt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function eq(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Dt&&typeof Dt.querySelector=="function"){var tq=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];tq.forEach(function(t){var e=U0(t,2),n=e[0],r=e[1],s=eq(ZW(n));s!=null&&(qd[r]=s)})}var vO={styleDefault:"solid",familyDefault:Hn,cssPrefix:mO,replacementClass:pO,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};qd.familyPrefix&&(qd.cssPrefix=qd.familyPrefix);var su=we(we({},vO),qd);su.autoReplaceSvg||(su.observeMutations=!1);var He={};Object.keys(vO).forEach(function(t){Object.defineProperty(He,t,{enumerable:!0,set:function(n){su[t]=n,Kd.forEach(function(r){return r(He)})},get:function(){return su[t]}})});Object.defineProperty(He,"familyPrefix",{enumerable:!0,set:function(e){su.cssPrefix=e,Kd.forEach(function(n){return n(He)})},get:function(){return su.cssPrefix}});mo.FontAwesomeConfig=He;var Kd=[];function nq(t){return Kd.push(t),function(){Kd.splice(Kd.indexOf(t),1)}}var Cc=$1,ui={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function rq(t){if(!(!t||!pa)){var e=Dt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Dt.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return Dt.head.insertBefore(e,r),t}}var sq="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Nk(){for(var t=12,e="";t-- >0;)e+=sq[Math.random()*62|0];return e}function Cu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function eN(t){return t.classList?Cu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function wO(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function iq(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(wO(t[n]),'" ')},"").trim()}function W0(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function tN(t){return t.size!==ui.size||t.x!==ui.x||t.y!==ui.y||t.rotate!==ui.rotate||t.flipX||t.flipY}function aq(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(i," ").concat(a," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function oq(t){var e=t.transform,n=t.width,r=n===void 0?$1:n,s=t.height,i=s===void 0?$1:s,a="";return WP?a+="translate(".concat(e.x/Cc-r/2,"em, ").concat(e.y/Cc-i/2,"em) "):a+="translate(calc(-50% + ".concat(e.x/Cc,"em), calc(-50% + ").concat(e.y/Cc,"em)) "),a+="scale(".concat(e.size/Cc*(e.flipX?-1:1),", ").concat(e.size/Cc*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var lq=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function NO(){var t=mO,e=pO,n=He.cssPrefix,r=He.replacementClass,s=lq;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(l,".".concat(r))}return s}var Sk=!1;function Ib(){He.autoAddCss&&!Sk&&(rq(NO()),Sk=!0)}var cq={mixout:function(){return{dom:{css:NO,insertCss:Ib}}},hooks:function(){return{beforeDOMElementCreation:function(){Ib()},beforeI2svg:function(){Ib()}}}},la=mo||{};la[oa]||(la[oa]={});la[oa].styles||(la[oa].styles={});la[oa].hooks||(la[oa].hooks={});la[oa].shims||(la[oa].shims=[]);var Is=la[oa],SO=[],jO=function(){Dt.removeEventListener("DOMContentLoaded",jO),cg=1,SO.map(function(e){return e()})},cg=!1;pa&&(cg=(Dt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Dt.readyState),cg||Dt.addEventListener("DOMContentLoaded",jO));function uq(t){pa&&(cg?setTimeout(t,0):SO.push(t))}function hf(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?wO(t):"<".concat(e," ").concat(iq(r),">").concat(i.map(hf).join(""),"</").concat(e,">")}function jk(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Lb=function(e,n,r,s){var i=Object.keys(e),a=i.length,l=n,c,u,d;for(r===void 0?(c=1,d=e[i[0]]):(c=0,d=r);c<a;c++)u=i[c],d=l(d,e[u],u,e);return d};function CO(t){return Fs(t).length!==1?null:t.codePointAt(0).toString(16)}function Ck(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function q1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=Ck(e);typeof Is.hooks.addPack=="function"&&!s?Is.hooks.addPack(t,Ck(e)):Is.styles[t]=we(we({},Is.styles[t]||{}),i),t==="fas"&&q1("fa",e)}var wh=Is.styles,dq=Is.shims,kO=Object.keys(Zw),hq=kO.reduce(function(t,e){return t[e]=Object.keys(Zw[e]),t},{}),nN=null,TO={},EO={},MO={},AO={},PO={};function fq(t){return~JW.indexOf(t)}function mq(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!fq(s)?s:null}var OO=function(){var e=function(i){return Lb(wh,function(a,l,c){return a[c]=Lb(l,i,{}),a},{})};TO=e(function(s,i,a){if(i[3]&&(s[i[3]]=a),i[2]){var l=i[2].filter(function(c){return typeof c=="number"});l.forEach(function(c){s[c.toString(16)]=a})}return s}),EO=e(function(s,i,a){if(s[a]=a,i[2]){var l=i[2].filter(function(c){return typeof c=="string"});l.forEach(function(c){s[c]=a})}return s}),PO=e(function(s,i,a){var l=i[2];return s[a]=a,l.forEach(function(c){s[c]=a}),s});var n="far"in wh||He.autoFetchSvg,r=Lb(dq,function(s,i){var a=i[0],l=i[1],c=i[2];return l==="far"&&!n&&(l="fas"),typeof a=="string"&&(s.names[a]={prefix:l,iconName:c}),typeof a=="number"&&(s.unicodes[a.toString(16)]={prefix:l,iconName:c}),s},{names:{},unicodes:{}});MO=r.names,AO=r.unicodes,nN=q0(He.styleDefault,{family:He.familyDefault})};nq(function(t){nN=q0(t.styleDefault,{family:He.familyDefault})});OO();function rN(t,e){return(TO[t]||{})[e]}function pq(t,e){return(EO[t]||{})[e]}function ll(t,e){return(PO[t]||{})[e]}function _O(t){return MO[t]||{prefix:null,iconName:null}}function gq(t){var e=AO[t],n=rN("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function po(){return nN}var DO=function(){return{prefix:null,iconName:null,rest:[]}};function xq(t){var e=Hn,n=kO.reduce(function(r,s){return r[s]="".concat(He.cssPrefix,"-").concat(s),r},{});return uO.forEach(function(r){(t.includes(n[r])||t.some(function(s){return hq[r].includes(s)}))&&(e=r)}),e}function q0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Hn:n,s=KW[r][t];if(r===uf&&!t)return"fad";var i=wk[r][t]||wk[r][s],a=t in Is.styles?t:null,l=i||a||null;return l}function yq(t){var e=[],n=null;return t.forEach(function(r){var s=mq(He.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function kk(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var Tk=hO.concat(dO);function K0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=kk(t.filter(function(g){return Tk.includes(g)})),a=kk(t.filter(function(g){return!Tk.includes(g)})),l=i.filter(function(g){return s=g,!KP.includes(g)}),c=U0(l,1),u=c[0],d=u===void 0?null:u,f=xq(i),p=we(we({},yq(a)),{},{prefix:q0(d,{family:f})});return we(we(we({},p),Nq({values:t,family:f,styles:wh,config:He,canonical:p,givenPrefix:s})),bq(r,s,p))}function bq(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?_O(s):{},a=ll(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!wh.far&&wh.fas&&!He.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var vq=uO.filter(function(t){return t!==Hn||t!==uf}),wq=Object.keys(V1).filter(function(t){return t!==Hn}).map(function(t){return Object.keys(V1[t])}).flat();function Nq(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,a=t.styles,l=a===void 0?{}:a,c=t.config,u=c===void 0?{}:c,d=n===uf,f=e.includes("fa-duotone")||e.includes("fad"),p=u.familyDefault==="duotone",g=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(f||p||g)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&vq.includes(n)){var x=Object.keys(l).find(function(b){return wq.includes(b)});if(x||u.autoFetchSvg){var v=zU.get(n).defaultShortPrefixId;r.prefix=v,r.iconName=ll(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=po()||"fas"),r}var Sq=(function(){function t(){oU(this,t),this.definitions={}}return cU(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var a=s.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(l){n.definitions[l]=we(we({},n.definitions[l]||{}),a[l]),q1(l,a[l]);var c=Zw[Hn][l];c&&q1(c,a[l]),OO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var a=s[i],l=a.prefix,c=a.iconName,u=a.icon,d=u[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(n[l][f]=u)}),n[l][c]=u}),n}}])})(),Ek=[],zc={},Yc={},jq=Object.keys(Yc);function Cq(t,e){var n=e.mixoutsTo;return Ek=t,zc={},Object.keys(Yc).forEach(function(r){jq.indexOf(r)===-1&&delete Yc[r]}),Ek.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(a){typeof s[a]=="function"&&(n[a]=s[a]),lg(s[a])==="object"&&Object.keys(s[a]).forEach(function(l){n[a]||(n[a]={}),n[a][l]=s[a][l]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(a){zc[a]||(zc[a]=[]),zc[a].push(i[a])})}r.provides&&r.provides(Yc)}),n}function K1(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=zc[t]||[];return i.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Ol(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=zc[t]||[];s.forEach(function(i){i.apply(null,n)})}function go(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Yc[t]?Yc[t].apply(null,e):void 0}function G1(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||po();if(e)return e=ll(n,e)||e,jk(IO.definitions,n,e)||jk(Is.styles,n,e)}var IO=new Sq,kq=function(){He.autoReplaceSvg=!1,He.observeMutations=!1,Ol("noAuto")},Tq={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return pa?(Ol("beforeI2svg",e),go("pseudoElements2svg",e),go("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;He.autoReplaceSvg===!1&&(He.autoReplaceSvg=!0),He.observeMutations=!0,uq(function(){Mq({autoReplaceSvgRoot:n}),Ol("watch",e)})}},Eq={icon:function(e){if(e===null)return null;if(lg(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ll(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=q0(e[0]);return{prefix:r,iconName:ll(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(He.cssPrefix,"-"))>-1||e.match(GW))){var s=K0(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||po(),iconName:ll(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=po();return{prefix:i,iconName:ll(i,e)||e}}}},es={noAuto:kq,config:He,dom:Tq,parse:Eq,library:IO,findIconDefinition:G1,toHtml:hf},Mq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Dt:n;(Object.keys(Is.styles).length>0||He.autoFetchSvg)&&pa&&He.autoReplaceSvg&&es.dom.i2svg({node:r})};function G0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return hf(r)})}}),Object.defineProperty(t,"node",{get:function(){if(pa){var r=Dt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Aq(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,a=t.transform;if(tN(a)&&n.found&&!r.found){var l=n.width,c=n.height,u={x:l/c/2,y:.5};s.style=W0(we(we({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function Pq(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,a=i===!0?"".concat(e,"-").concat(He.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:we(we({},s),{},{id:a}),children:r}]}]}function Oq(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function sN(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,a=t.transform,l=t.symbol,c=t.maskId,u=t.extra,d=t.watchable,f=d===void 0?!1:d,p=r.found?r:n,g=p.width,x=p.height,v=[He.replacementClass,i?"".concat(He.cssPrefix,"-").concat(i):""].filter(function(C){return u.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(u.classes).join(" "),b={children:[],attributes:we(we({},u.attributes),{},{"data-prefix":s,"data-icon":i,class:v,role:u.attributes.role||"img",viewBox:"0 0 ".concat(g," ").concat(x)})};!Oq(u.attributes)&&!u.attributes["aria-hidden"]&&(b.attributes["aria-hidden"]="true"),f&&(b.attributes[Pl]="");var w=we(we({},b),{},{prefix:s,iconName:i,main:n,mask:r,maskId:c,transform:a,symbol:l,styles:we({},u.styles)}),S=r.found&&n.found?go("generateAbstractMask",w)||{children:[],attributes:{}}:go("generateAbstractIcon",w)||{children:[],attributes:{}},j=S.children,M=S.attributes;return w.children=j,w.attributes=M,l?Pq(w):Aq(w)}function Mk(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,a=t.watchable,l=a===void 0?!1:a,c=we(we({},i.attributes),{},{class:i.classes.join(" ")});l&&(c[Pl]="");var u=we({},i.styles);tN(s)&&(u.transform=oq({transform:s,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=W0(u);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),f}function _q(t){var e=t.content,n=t.extra,r=we(we({},n.attributes),{},{class:n.classes.join(" ")}),s=W0(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var Rb=Is.styles;function Y1(t){var e=t[0],n=t[1],r=t.slice(4),s=U0(r,1),i=s[0],a=null;return Array.isArray(i)?a={tag:"g",attributes:{class:"".concat(He.cssPrefix,"-").concat(Db.GROUP)},children:[{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(Db.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(He.cssPrefix,"-").concat(Db.PRIMARY),fill:"currentColor",d:i[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:a}}var Dq={found:!1,width:512,height:512};function Iq(t,e){!xO&&!He.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function X1(t,e){var n=e;return e==="fa"&&He.styleDefault!==null&&(e=po()),new Promise(function(r,s){if(n==="fa"){var i=_O(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Rb[e]&&Rb[e][t]){var a=Rb[e][t];return r(Y1(a))}Iq(t,e),r(we(we({},Dq),{},{icon:He.showMissingIcons&&t?go("missingIconAbstract")||{}:{}}))})}var Ak=function(){},Q1=He.measurePerformance&&Lm&&Lm.mark&&Lm.measure?Lm:{mark:Ak,measure:Ak},Dd='FA "7.1.0"',Lq=function(e){return Q1.mark("".concat(Dd," ").concat(e," begins")),function(){return LO(e)}},LO=function(e){Q1.mark("".concat(Dd," ").concat(e," ends")),Q1.measure("".concat(Dd," ").concat(e),"".concat(Dd," ").concat(e," begins"),"".concat(Dd," ").concat(e," ends"))},iN={begin:Lq,end:LO},Op=function(){};function Pk(t){var e=t.getAttribute?t.getAttribute(Pl):null;return typeof e=="string"}function Rq(t){var e=t.getAttribute?t.getAttribute(Qw):null,n=t.getAttribute?t.getAttribute(Jw):null;return e&&n}function Fq(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(He.replacementClass)}function zq(){if(He.autoReplaceSvg===!0)return _p.replace;var t=_p[He.autoReplaceSvg];return t||_p.replace}function Vq(t){return Dt.createElementNS("http://www.w3.org/2000/svg",t)}function $q(t){return Dt.createElement(t)}function RO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?Vq:$q:n;if(typeof t=="string")return Dt.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){s.setAttribute(a,t.attributes[a])});var i=t.children||[];return i.forEach(function(a){s.appendChild(RO(a,{ceFn:r}))}),s}function Bq(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var _p={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(RO(s),n)}),n.getAttribute(Pl)===null&&He.keepOriginalSource){var r=Dt.createComment(Bq(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~eN(n).indexOf(He.replacementClass))return _p.replace(e);var s=new RegExp("".concat(He.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(l,c){return c===He.replacementClass||c.match(s)?l.toSvg.push(c):l.toNode.push(c),l},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var a=r.map(function(l){return hf(l)}).join(`
`);n.setAttribute(Pl,""),n.innerHTML=a}};function Ok(t){t()}function FO(t,e){var n=typeof e=="function"?e:Op;if(t.length===0)n();else{var r=Ok;He.mutateApproach===WW&&(r=mo.requestAnimationFrame||Ok),r(function(){var s=zq(),i=iN.begin("mutate");t.map(s),i(),n()})}}var aN=!1;function zO(){aN=!0}function J1(){aN=!1}var ug=null;function _k(t){if(xk&&He.observeMutations){var e=t.treeCallback,n=e===void 0?Op:e,r=t.nodeCallback,s=r===void 0?Op:r,i=t.pseudoElementsCallback,a=i===void 0?Op:i,l=t.observeMutationsRoot,c=l===void 0?Dt:l;ug=new xk(function(u){if(!aN){var d=po();Cu(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!Pk(f.addedNodes[0])&&(He.searchPseudoElements&&a(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&He.searchPseudoElements&&a([f.target],!0),f.type==="attributes"&&Pk(f.target)&&~QW.indexOf(f.attributeName))if(f.attributeName==="class"&&Rq(f.target)){var p=K0(eN(f.target)),g=p.prefix,x=p.iconName;f.target.setAttribute(Qw,g||d),x&&f.target.setAttribute(Jw,x)}else Fq(f.target)&&s(f.target)})}}),pa&&ug.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Hq(){ug&&ug.disconnect()}function Uq(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),a=i[0],l=i.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),n}function Wq(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=K0(eN(t));return s.prefix||(s.prefix=po()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=pq(s.prefix,t.innerText)||rN(s.prefix,CO(t.innerText))),!s.iconName&&He.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function qq(t){var e=Cu(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function Kq(){return{iconName:null,prefix:null,transform:ui,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Dk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Wq(t),r=n.iconName,s=n.prefix,i=n.rest,a=qq(t),l=K1("parseNodeAttributes",{},t),c=e.styleParser?Uq(t):[];return we({iconName:r,prefix:s,transform:ui,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:a}},l)}var Gq=Is.styles;function VO(t){var e=He.autoReplaceSvg==="nest"?Dk(t,{styleParser:!1}):Dk(t);return~e.extra.classes.indexOf(bO)?go("generateLayersText",t,e):go("generateSvgReplacementMutation",t,e)}function Yq(){return[].concat(Fs(dO),Fs(hO))}function Ik(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!pa)return Promise.resolve();var n=Dt.documentElement.classList,r=function(f){return n.add("".concat(vk,"-").concat(f))},s=function(f){return n.remove("".concat(vk,"-").concat(f))},i=He.autoFetchSvg?Yq():KP.concat(Object.keys(Gq));i.includes("fa")||i.push("fa");var a=[".".concat(bO,":not([").concat(Pl,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Pl,"])")})).join(", ");if(a.length===0)return Promise.resolve();var l=[];try{l=Cu(t.querySelectorAll(a))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();var c=iN.begin("onTree"),u=l.reduce(function(d,f){try{var p=VO(f);p&&d.push(p)}catch(g){xO||g.name==="MissingIcon"&&console.error(g)}return d},[]);return new Promise(function(d,f){Promise.all(u).then(function(p){FO(p,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),c(),d()})}).catch(function(p){c(),f(p)})})}function Xq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;VO(t).then(function(n){n&&FO([n],e)})}function Qq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:G1(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:G1(s||{})),t(r,we(we({},n),{},{mask:s}))}}var Jq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?ui:r,i=n.symbol,a=i===void 0?!1:i,l=n.mask,c=l===void 0?null:l,u=n.maskId,d=u===void 0?null:u,f=n.classes,p=f===void 0?[]:f,g=n.attributes,x=g===void 0?{}:g,v=n.styles,b=v===void 0?{}:v;if(e){var w=e.prefix,S=e.iconName,j=e.icon;return G0(we({type:"icon"},e),function(){return Ol("beforeDOMElementCreation",{iconDefinition:e,params:n}),sN({icons:{main:Y1(j),mask:c?Y1(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:S,transform:we(we({},ui),s),symbol:a,maskId:d,extra:{attributes:x,styles:b,classes:p}})})}},Zq={mixout:function(){return{icon:Qq(Jq)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Ik,n.nodeCallback=Xq,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?Dt:r,i=n.callback,a=i===void 0?function(){}:i;return Ik(s,a)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,a=r.transform,l=r.symbol,c=r.mask,u=r.maskId,d=r.extra;return new Promise(function(f,p){Promise.all([X1(s,i),c.iconName?X1(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var x=U0(g,2),v=x[0],b=x[1];f([n,sN({icons:{main:v,mask:b},prefix:i,iconName:s,transform:a,symbol:l,maskId:u,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.transform,l=n.styles,c=W0(l);c.length>0&&(s.style=c);var u;return tN(a)&&(u=go("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:s}}}},eK={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return G0({type:"layer"},function(){Ol("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(l){Array.isArray(l)?l.map(function(c){a=a.concat(c.abstract)}):a=a.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(He.cssPrefix,"-layers")].concat(Fs(i)).join(" ")},children:a}]})}}}},tK={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,a=r.attributes,l=a===void 0?{}:a,c=r.styles,u=c===void 0?{}:c;return G0({type:"counter",content:n},function(){return Ol("beforeDOMElementCreation",{content:n,params:r}),_q({content:n.toString(),extra:{attributes:l,styles:u,classes:["".concat(He.cssPrefix,"-layers-counter")].concat(Fs(i))}})})}}}},nK={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?ui:s,a=r.classes,l=a===void 0?[]:a,c=r.attributes,u=c===void 0?{}:c,d=r.styles,f=d===void 0?{}:d;return G0({type:"text",content:n},function(){return Ol("beforeDOMElementCreation",{content:n,params:r}),Mk({content:n,transform:we(we({},ui),i),extra:{attributes:u,styles:f,classes:["".concat(He.cssPrefix,"-layers-text")].concat(Fs(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,a=null,l=null;if(WP){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Promise.resolve([n,Mk({content:n.innerHTML,width:a,height:l,transform:s,extra:i,watchable:!0})])}}},$O=new RegExp('"',"ug"),Lk=[1105920,1112319],Rk=we(we(we(we({},{FontAwesome:{normal:"fas",400:"fas"}}),FU),HW),KU),Z1=Object.keys(Rk).reduce(function(t,e){return t[e.toLowerCase()]=Rk[e],t},{}),rK=Object.keys(Z1).reduce(function(t,e){var n=Z1[e];return t[e]=n[900]||Fs(Object.entries(n))[0][1],t},{});function sK(t){var e=t.replace($O,"");return CO(Fs(e)[0]||"")}function iK(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace($O,""),s=r.codePointAt(0),i=s>=Lk[0]&&s<=Lk[1],a=r.length===2?r[0]===r[1]:!1;return i||a||e}function aK(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(Z1[n]||{})[s]||rK[n]}function Fk(t,e){var n="".concat(UW).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=Cu(t.children),a=i.filter(function(A){return A.getAttribute(B1)===e})[0],l=mo.getComputedStyle(t,e),c=l.getPropertyValue("font-family"),u=c.match(YW),d=l.getPropertyValue("font-weight"),f=l.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&f!=="none"&&f!==""){var p=l.getPropertyValue("content"),g=aK(c,d),x=sK(p),v=u[0].startsWith("FontAwesome"),b=iK(l),w=rN(g,x),S=w;if(v){var j=gq(x);j.iconName&&j.prefix&&(w=j.iconName,g=j.prefix)}if(w&&!b&&(!a||a.getAttribute(Qw)!==g||a.getAttribute(Jw)!==S)){t.setAttribute(n,S),a&&t.removeChild(a);var M=Kq(),C=M.extra;C.attributes[B1]=e,X1(w,g).then(function(A){var P=sN(we(we({},M),{},{icons:{main:A,mask:DO()},prefix:g,iconName:S,extra:C,watchable:!0})),E=Dt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(E,t.firstChild):t.appendChild(E),E.outerHTML=P.map(function(D){return hf(D)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function oK(t){return Promise.all([Fk(t,"::before"),Fk(t,"::after")])}function lK(t){return t.parentNode!==document.head&&!~qW.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(B1)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var cK=function(e){return!!e&&gO.some(function(n){return e.includes(n)})},uK=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(c){return c.trim()});r=r.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(u){return u.trim()})});var s=Pp(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(cK(a)){var l=gO.reduce(function(c,u){return c.replace(u,"")},a);l!==""&&l!=="*"&&n.add(l)}}}catch(c){s.e(c)}finally{s.f()}return n};function zk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(pa){var n;if(e)n=t;else if(He.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=Pp(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var l=Pp(a.cssRules),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=uK(u.selectorText),f=Pp(d),p;try{for(f.s();!(p=f.n()).done;){var g=p.value;r.add(g)}}catch(v){f.e(v)}finally{f.f()}}}catch(v){l.e(v)}finally{l.f()}}catch(v){He.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(a.href," (").concat(v.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(v){s.e(v)}finally{s.f()}if(!r.size)return;var x=Array.from(r).join(", ");try{n=t.querySelectorAll(x)}catch{}}return new Promise(function(v,b){var w=Cu(n).filter(lK).map(oK),S=iN.begin("searchPseudoElements");zO(),Promise.all(w).then(function(){S(),J1(),v()}).catch(function(){S(),J1(),b()})})}}var dK={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=zk,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?Dt:r;He.searchPseudoElements&&zk(s)}}},Vk=!1,hK={mixout:function(){return{dom:{unwatch:function(){zO(),Vk=!0}}}},hooks:function(){return{bootstrap:function(){_k(K1("mutationObserverCallbacks",{}))},noAuto:function(){Hq()},watch:function(n){var r=n.observeMutationsRoot;Vk?J1():_k(K1("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},$k=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),a=i[0],l=i.slice(1).join("-");if(a&&l==="h")return r.flipX=!0,r;if(a&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(a){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},fK={mixout:function(){return{parse:{transform:function(n){return $k(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=$k(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,a=n.iconWidth,l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),f={transform:"".concat(c," ").concat(u," ").concat(d)},p={transform:"translate(".concat(a/2*-1," -256)")},g={outer:l,inner:f,path:p};return{tag:"g",attributes:we({},g.outer),children:[{tag:"g",attributes:we({},g.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:we(we({},r.icon.attributes),g.path)}]}]}}}},Fb={x:0,y:0,width:"100%",height:"100%"};function Bk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function mK(t){return t.tag==="g"?t.children:[t]}var pK={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?K0(s.split(" ").map(function(a){return a.trim()})):DO();return i.prefix||(i.prefix=po()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.mask,l=n.maskId,c=n.transform,u=i.width,d=i.icon,f=a.width,p=a.icon,g=aq({transform:c,containerWidth:f,iconWidth:u}),x={tag:"rect",attributes:we(we({},Fb),{},{fill:"white"})},v=d.children?{children:d.children.map(Bk)}:{},b={tag:"g",attributes:we({},g.inner),children:[Bk(we({tag:d.tag,attributes:we(we({},d.attributes),g.path)},v))]},w={tag:"g",attributes:we({},g.outer),children:[b]},S="mask-".concat(l||Nk()),j="clip-".concat(l||Nk()),M={tag:"mask",attributes:we(we({},Fb),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,w]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:mK(p)},M]};return r.push(C,{tag:"rect",attributes:we({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(S,")")},Fb)}),{children:r,attributes:s}}}},gK={provides:function(e){var n=!1;mo.matchMedia&&(n=mo.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:we(we({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=we(we({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:we(we({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:we(we({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:we(we({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:we(we({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:we(we({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:we(we({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:we(we({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},xK={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},yK=[cq,Zq,eK,tK,nK,dK,hK,fK,pK,gK,xK];Cq(yK,{mixoutsTo:es});es.noAuto;var Nh=es.config;es.library;es.dom;var BO=es.parse;es.findIconDefinition;es.toHtml;var bK=es.icon;es.layer;es.text;es.counter;function vK(t){return t=t-0,t===t}function HO(t){return vK(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function wK(t){return t.charAt(0).toUpperCase()+t.slice(1)}var kc=new Map,NK=1e3;function SK(t){if(kc.has(t))return kc.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,a=t.slice(n,i).trim();if(a){const l=a.indexOf(":");if(l>0){const c=a.slice(0,l).trim(),u=a.slice(l+1).trim();if(c&&u){const d=HO(c);e[d.startsWith("webkit")?wK(d):d]=u}}}n=i+1}if(kc.size===NK){const s=kc.keys().next().value;s&&kc.delete(s)}return kc.set(t,e),e}function UO(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(u=>UO(t,u)),s=e.attributes||{},i={};for(const[u,d]of Object.entries(s))switch(!0){case u==="class":{i.className=d;break}case u==="style":{i.style=SK(String(d));break}case u.startsWith("aria-"):case u.startsWith("data-"):{i[u.toLowerCase()]=d;break}default:i[HO(u)]=d}const{style:a,"aria-label":l,...c}=n;return a&&(i.style=i.style?{...i.style,...a}:a),l&&(i["aria-label"]=l,i["aria-hidden"]="false"),t(e.tag,{...c,...i},...r)}var jK=UO.bind(null,be.createElement),Hk=(t,e)=>{const n=T.useId();return t||(e?n:void 0)},CK=class{constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e=typeof process<"u"&&!1}catch{}this.scope=t,this.enabled=e}log(...t){this.enabled&&console.log(`[${this.scope}]`,...t)}warn(...t){this.enabled&&console.warn(`[${this.scope}]`,...t)}error(...t){this.enabled&&console.error(`[${this.scope}]`,...t)}},kK="searchPseudoElementsFullScan"in Nh?"7.0.0":"6.0.0",TK=Number.parseInt(kK)>=7,Gd="fa",Oi={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},EK={left:"fa-pull-left",right:"fa-pull-right"},MK={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},AK={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},_i={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function PK(t){const e=Nh.cssPrefix||Nh.familyPrefix||Gd;return e===Gd?t:t.replace(new RegExp(`(?<=^|\\s)${Gd}-`,"g"),`${e}-`)}function OK(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:a,spinPulse:l,spinReverse:c,pulse:u,fixedWidth:d,inverse:f,border:p,flip:g,size:x,rotation:v,pull:b,swapOpacity:w,rotateBy:S,widthAuto:j,className:M}=t,C=[];return M&&C.push(...M.split(" ")),e&&C.push(Oi.beat),n&&C.push(Oi.fade),r&&C.push(Oi.beatFade),s&&C.push(Oi.bounce),i&&C.push(Oi.shake),a&&C.push(Oi.spin),c&&C.push(Oi.spinReverse),l&&C.push(Oi.spinPulse),u&&C.push(Oi.pulse),d&&C.push(_i.fixedWidth),f&&C.push(_i.inverse),p&&C.push(_i.border),g===!0&&C.push(_i.flip),(g==="horizontal"||g==="both")&&C.push(_i.flipHorizontal),(g==="vertical"||g==="both")&&C.push(_i.flipVertical),x!=null&&C.push(AK[x]),v!=null&&v!==0&&C.push(MK[v]),b!=null&&C.push(EK[b]),w&&C.push(_i.swapOpacity),TK?(S&&C.push(_i.rotateBy),j&&C.push(_i.widthAuto),(Nh.cssPrefix||Nh.familyPrefix||Gd)===Gd?C:C.map(PK)):C}var _K=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function Uk(t){if(t)return _K(t)?t:BO.icon(t)}function DK(t){return Object.keys(t)}var Wk=new CK("FontAwesomeIcon"),WO={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},IK=new Set(Object.keys(WO)),F=be.forwardRef((t,e)=>{const n={...WO,...t},{icon:r,mask:s,symbol:i,title:a,titleId:l,maskId:c,transform:u}=n,d=Hk(c,!!s),f=Hk(l,!!a),p=Uk(r);if(!p)return Wk.error("Icon lookup is undefined",r),null;const g=OK(n),x=typeof u=="string"?BO.transform(u):u,v=Uk(s),b=bK(p,{...g.length>0&&{classes:g},...x&&{transform:x},...v&&{mask:v},symbol:i,title:a,titleId:f,maskId:d});if(!b)return Wk.error("Could not find icon",p),null;const{abstract:w}=b,S={ref:e};for(const j of DK(n))IK.has(j)||(S[j]=n[j]);return jK(w[0],S)});F.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Dp={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},_l={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"]},ws={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M32 64C19.1 64 7.4 71.8 2.4 83.8S.2 109.5 9.4 118.6L192 301.3 192 416c0 8.5 3.4 16.6 9.4 22.6l64 64c9.2 9.2 22.9 11.9 34.9 6.9S320 492.9 320 480l0-178.7 182.6-182.6c9.2-9.2 11.9-22.9 6.9-34.9S492.9 64 480 64L32 64z"]},LK={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},Y0={prefix:"fas",iconName:"truck",icon:[576,512,[128666,9951],"f0d1","M0 96C0 60.7 28.7 32 64 32l288 0c35.3 0 64 28.7 64 64l0 32 50.7 0c17 0 33.3 6.7 45.3 18.7L557.3 192c12 12 18.7 28.3 18.7 45.3L576 384c0 35.3-28.7 64-64 64l-3.3 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64l-102.6 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64L64 448c-35.3 0-64-28.7-64-64L0 96zM512 288l0-50.7-45.3-45.3-50.7 0 0 96 96 0zM192 424a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm232 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},RK={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M32.5 96c0-12.9 7.8-24.6 19.8-29.6S78 64.2 87.1 73.4l160 160c12.5 12.5 12.5 32.8 0 45.3l-160 160c-9.2 9.2-22.9 11.9-34.9 6.9S32.5 428.9 32.5 416l0-320z"]},oN={prefix:"fas",iconName:"shoe-prints",icon:[576,512,[],"f54b","M296 192c-21.1-12.1-42.3-24.2-72-29.3l0-140.3C257.7 13 311.4 0 352 0 448 0 576 48 576 128s-119.6 96-176 96c-48 0-76-16-104-32zM128 32l48 0 0 128-48 0c-35.3 0-64-28.7-64-64s28.7-64 64-64zM232 320c28-16 56-32 104-32 56.4 0 176 16 176 96S384 512 288 512c-40.5 0-94.3-13-128-22.4l0-140.3c29.7-5.2 50.9-17.3 72-29.4zM64 480c-35.3 0-64-28.7-64-64s28.7-64 64-64l48 0 0 128-48 0z"]},FK={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},zK=FK,VK={prefix:"fas",iconName:"percent",icon:[448,512,[62101,62785,"percentage"],"25","M192 128a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM448 384a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM438.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-384 384c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l384-384z"]},$K={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Dr=$K,BK={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},HK=BK,UK={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},Ns={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},WK={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M224 96c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c9.2 9.2 22.9 11.9 34.9 6.9S224 428.9 224 416l0-320z"]},e2={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},Ni={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},qO={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},qK={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},$s=qK,zb={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},ca={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]},KK={prefix:"fas",iconName:"table",icon:[448,512,[],"f0ce","M256 160l0 96 128 0 0-96-128 0zm-64 0l-128 0 0 96 128 0 0-96zM0 320L0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-96zm384 0l-128 0 0 96 128 0 0-96zM192 416l0-96-128 0 0 96 128 0z"]},Ip={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},KO={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},GK={prefix:"fas",iconName:"strikethrough",icon:[512,512,[],"f0cc","M96 157.5C96 88.2 152.2 32 221.5 32L368 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L221.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61l44.1 5.5 222 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l83.1 0C103 204.6 96 181.8 96 157.5zM349.2 336l65.5 0c.9 6.1 1.4 12.2 1.4 18.5 0 69.3-56.2 125.5-125.5 125.5L144 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-6.4-1-12.7-2.8-18.5z"]},YK={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},XK={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M64 64C64 28.7 92.7 0 128 0L341.5 0c17 0 33.3 6.7 45.3 18.7l42.5 42.5c12 12 18.7 28.3 18.7 45.3l0 37.5-384 0 0-80zM0 256c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 96c0 17.7-14.3 32-32 32l-32 0 0 64c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-64-32 0c-17.7 0-32-14.3-32-32l0-96zM128 416l0 32 256 0 0-96-256 0 0 64zM456 272a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},QK={prefix:"fas",iconName:"location-arrow",icon:[512,512,[],"f124","M477.9 75.5c4.5-11.8 1.7-25.2-7.2-34.1s-22.3-11.8-34.1-7.2l-416 160C7.9 199-.3 211.2 0 224.7s9.1 25.4 21.9 29.6l176.8 58.9 58.9 176.8c4.3 12.8 16.1 21.6 29.6 21.9s25.7-7.9 30.6-20.5l160-416z"]},JK={prefix:"fas",iconName:"venus-mars",icon:[640,512,[9892],"f228","M480-64c-17.7 0-32 14.3-32 32S462.3 0 480 0L530.7 0 474 56.7c-26.3-15.7-57.1-24.7-90-24.7-35.4 0-68.4 10.5-96 28.5-27.6-18-60.6-28.5-96-28.5-97.2 0-176 78.8-176 176 0 86.3 62.1 158.1 144 173.1l0 34.9-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-34.9c23.3-4.3 44.9-13.1 64-25.6 27.6 18 60.6 28.5 96 28.5 97.2 0 176-78.8 176-176 0-41.1-14.1-79-37.8-109L576 45.3 576 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L480-64zM336 309.2c20.2-28.6 32-63.5 32-101.2s-11.8-72.6-32-101.2c14.6-6.9 30.8-10.8 48-10.8 61.9 0 112 50.1 112 112S445.9 320 384 320c-17.2 0-33.5-3.9-48-10.8zM288 150.3c10.2 16.9 16 36.6 16 57.7s-5.8 40.9-16 57.7c-10.2-16.9-16-36.6-16-57.7s5.8-40.9 16-57.7zm-48-43.5c-20.2 28.6-32 63.5-32 101.2s11.8 72.6 32 101.2c-14.5 6.9-30.8 10.8-48 10.8-61.9 0-112-50.1-112-112S130.1 96 192 96c17.2 0 33.5 3.9 48 10.8z"]},ZK={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l32 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l224 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM288 160c0 35.3-28.7 64-64 64l-96 0 0-128 96 0c35.3 0 64 28.7 64 64zM128 416l0-128 128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0z"]},eG={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM342 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 315.2 137 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},Vb=eG,lN={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M560.3 237.2c10.4 11.8 28.3 14.4 41.8 5.5 14.7-9.8 18.7-29.7 8.9-44.4l-48-72c-2.8-4.2-6.6-7.7-11.1-10.2L351.4 4.7c-19.3-10.7-42.8-10.7-62.2 0L88.8 116c-5.4 3-9.7 7.4-12.6 12.8L27.7 218.7c-12.6 23.4-3.8 52.5 19.6 65.1l33 17.7 0 53.3c0 23 12.4 44.3 32.4 55.7l176 99.7c19.6 11.1 43.5 11.1 63.1 0l176-99.7c20.1-11.4 32.4-32.6 32.4-55.7l0-117.5zm-240-9.8L170.2 144 320.3 60.6 470.4 144 320.3 227.4zm-41.5 50.2l-21.3 46.2-165.8-88.8 25.4-47.2 161.7 89.8z"]},tG={prefix:"fas",iconName:"image",icon:[448,512,[],"f03e","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z"]},nG={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"]},Tn={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},rG={prefix:"fas",iconName:"money-bill-wave",icon:[512,512,[],"f53a","M0 419.6L0 109.5c0-23.2 24.1-38.6 46.3-32 87.7 26.2 149.7 5.5 212.1-15.3 64.5-21.5 129.4-43.1 223.3-13.1 18.5 5.9 30.3 23.8 30.3 43.3l0 310.1c0 23.2-24.1 38.6-46.2 32-87.7-26.2-149.8-5.5-212.1 15.3-64.5 21.5-129.4 43.1-223.3 13.1-18.5-5.9-30.3-23.8-30.3-43.3zM336 256c0-53-35.8-96-80-96s-80 43-80 96 35.8 96 80 96 80-43 80-96zM120 413.6c4.4 0 7.9-3.8 7.2-8.1-4.6-27.8-27-49.5-55.2-53-4.4-.5-8 3.1-8 7.5l0 39.9c0 3.6 2.4 6.8 6 7.7 17.9 4.2 34.3 6.1 50 6.1zm318.5-51.1c5 .8 9.5-3 9.5-8l0-42.6c0-4.4-3.6-8.1-8-7.5-25.2 3.1-45.9 20.9-53.2 44.6-1.4 4.7 2.3 9.1 7.2 9.2 14.2 .4 29 1.7 44.4 4.3zM448 152l0-39.9c0-3.6-2.5-6.8-6-7.7-17.9-4.2-34.3-6.1-50-6.1-4.4 0-7.9 3.8-7.2 8.1 4.6 27.8 27 49.5 55.2 53 4.4 .5 8-3.1 8-7.5zM125.2 162.9c1.4-4.7-2.3-9.1-7.2-9.2-14.2-.4-29-1.7-44.4-4.3-5-.8-9.5 3-9.5 8L64 200c0 4.4 3.6 8.1 8 7.5 25.2-3.1 45.9-20.9 53.2-44.6z"]},ku={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},GO={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 448l384 0c35.3 0 64-28.7 64-64l0-240c0-35.3-28.7-64-64-64L298.7 80c-6.9 0-13.7-2.2-19.2-6.4L241.1 44.8C230 36.5 216.5 32 202.7 32L64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64z"]},sG={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},iG={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M80 160c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-48 0c-17.7 0-32-14.3-32-32L0 192c0-17.7 14.3-32 32-32l48 0zM270.6 16C297.9 16 320 38.1 320 65.4l0 4.2c0 6.8-1.3 13.6-3.8 19.9L288 160 448 160c26.5 0 48 21.5 48 48 0 19.7-11.9 36.6-28.9 44 17 7.4 28.9 24.3 28.9 44 0 23.4-16.8 42.9-39 47.1 4.4 7.3 7 15.8 7 24.9 0 22.2-15 40.8-35.4 46.3 2.2 5.5 3.4 11.5 3.4 17.7 0 26.5-21.5 48-48 48l-87.9 0c-36.3 0-71.6-12.4-99.9-35.1L184 435.2c-15.2-12.1-24-30.5-24-50l0-186.6c0-14.9 3.5-29.6 10.1-42.9L226.3 43.3C234.7 26.6 251.8 16 270.6 16z"]},aG={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},oG={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},Id=oG,YO={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},cN={prefix:"fas",iconName:"shirt",icon:[640,512,[128085,"t-shirt","tshirt"],"f553","M320.2 112c44.2 0 80-35.8 80-80l53.5 0c17 0 33.3 6.7 45.3 18.7L617.6 169.4c12.5 12.5 12.5 32.8 0 45.3l-50.7 50.7c-12.5 12.5-32.8 12.5-45.3 0l-41.4-41.4 0 224c0 35.3-28.7 64-64 64l-192 0c-35.3 0-64-28.7-64-64l0-224-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0L22.9 214.6c-12.5-12.5-12.5-32.8 0-45.3L141.5 50.7c12-12 28.3-18.7 45.3-18.7l53.5 0c0 44.2 35.8 80 80 80z"]},Tu={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"]},qk={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M128 0C110.3 0 96 14.3 96 32l0 32-32 0C28.7 64 0 92.7 0 128l0 48 448 0 0-48c0-35.3-28.7-64-64-64l-32 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32-128 0 0-32c0-17.7-14.3-32-32-32zM0 224L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192-448 0z"]},lG={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0-133.3 320 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0 133.3-320-64 0c-17.7 0-32-14.3-32-32z"]},xo={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]},dg={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]},$b={prefix:"fas",iconName:"book-journal-whills",icon:[448,512,["journal-whills"],"f66a","M96 512l320 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-66.7c18.6-6.6 32-24.4 32-45.3l0-288c0-26.5-21.5-48-48-48L96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96zM64 416c0-17.7 14.3-32 32-32l256 0 0 64-256 0c-17.7 0-32-14.3-32-32zM274.1 99.2c2.6-2.6 6.7-3.1 9.9-1.1 32.1 20 53.4 55.6 53.4 96.2 0 62.6-50.7 113.3-113.3 113.3S110.7 256.9 110.7 194.3c0-40.6 21.4-76.2 53.4-96.2 3.1-2 7.2-1.5 9.9 1.1s3.1 6.7 1.2 9.8c-5.2 8.6-8.2 18.7-8.2 29.5 0 15.1 5.9 28.8 15.5 39.1 2.5 2.7 2.9 6.7 .9 9.7-4.7 7.4-7.4 16.1-7.4 25.5 0 21.6 14.3 39.9 34 45.9l1-24.8c-7.1-4.4-11.8-12.2-11.8-21.1 0-9.6 5.5-18 13.5-22.1l3.3-81.8c.2-4.3 3.7-7.7 8-7.7s7.8 3.4 8 7.7l3.3 81.8c8 4.1 13.5 12.4 13.5 22.1 0 8.9-4.7 16.7-11.8 21.1l1 24.8c19.6-6 33.9-24.1 34-45.6l0-.6c-.1-9.3-2.7-17.9-7.4-25.2-1.9-3.1-1.6-7.1 .9-9.7 9.6-10.2 15.5-23.9 15.5-39.1 0-10.8-3-20.9-8.2-29.5-1.9-3.2-1.4-7.2 1.2-9.8z"]},Zs={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},uN={prefix:"fas",iconName:"ticket",icon:[576,512,[127903],"f145","M64 64C28.7 64 0 92.7 0 128l0 64C0 200.8 7.4 207.7 15.7 210.6 34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6-18.8-6.5-32.3-24.4-32.3-45.4s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zM416 336l0-160-256 0 0 160 256 0zM112 160c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32l0-192z"]},cG={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M0 72C0 58.8 10.7 48 24 48l48 0c13.3 0 24 10.7 24 24l0 104 24 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-80-24 0C10.7 96 0 85.3 0 72zM30.4 301.2C41.8 292.6 55.7 288 70 288l4.9 0c33.7 0 61.1 27.4 61.1 61.1 0 19.6-9.4 37.9-25.2 49.4l-24 17.5 33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-90.7 0C13.1 464 0 450.9 0 434.7 0 425.3 4.5 416.5 12.1 411l70.5-51.3c3.4-2.5 5.4-6.4 5.4-10.6 0-7.2-5.9-13.1-13.1-13.1L70 336c-3.9 0-7.7 1.3-10.8 3.6L38.4 355.2c-10.6 8-25.6 5.8-33.6-4.8S-1 324.8 9.6 316.8l20.8-15.6zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},XO={prefix:"fas",iconName:"arrow-right",icon:[512,512,[8594],"f061","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Un={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},pn=Un,QO=Un,uG={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},iu=uG,dG={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},hG={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64L0 96zm0 48l576 0 0 272c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 144zM247.3 416c20.2 0 35.3-19.4 22.4-35-14.7-17.7-36.9-29-61.7-29l-64 0c-24.8 0-47 11.3-61.7 29-12.9 15.6 2.2 35 22.4 35l142.5 0zM176 312a56 56 0 1 0 0-112 56 56 0 1 0 0 112zM360 208c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z"]},fG={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},mG={prefix:"fas",iconName:"clock-rotate-left",icon:[576,512,["history"],"f1da","M288 64c106 0 192 86 192 192S394 448 288 448c-65.2 0-122.9-32.5-157.6-82.3-10.1-14.5-30.1-18-44.6-7.9s-18 30.1-7.9 44.6C124.1 468.6 201 512 288 512 429.4 512 544 397.4 544 256S429.4 0 288 0C202.3 0 126.5 42.1 80 106.7L80 80c0-17.7-14.3-32-32-32S16 62.3 16 80l0 112c0 17.7 14.3 32 32 32l24.6 0c.5 0 1 0 1.5 0l86 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-38.3 0C154.9 102.6 217 64 288 64zm24 88c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1z"]},Sh={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},pG={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},JO={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},ps={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},gG={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},dN=gG,xG={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},yi={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},yG={prefix:"fas",iconName:"underline",icon:[384,512,[],"f0cd","M0 32C0 14.3 14.3 0 32 0L96 0c17.7 0 32 14.3 32 32S113.7 64 96 64l0 160c0 53 43 96 96 96s96-43 96-96l0-160c-17.7 0-32-14.3-32-32S270.3 0 288 0l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 160c0 88.4-71.6 160-160 160S32 312.4 32 224L32 64C14.3 64 0 49.7 0 32zM0 480c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32z"]},ua={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},Qr=ua,bG={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]},jh={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M369.4 128l-34.3-48-222.1 0-34.3 48 290.7 0zM0 148.5c0-13.3 4.2-26.3 11.9-37.2L60.9 42.8C72.9 26 92.3 16 112.9 16l222.1 0c20.7 0 40.1 10 52.1 26.8l48.9 68.5c7.8 10.9 11.9 23.9 11.9 37.2L448 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 148.5z"]},hN={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},fN={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z"]},Bb={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},vG={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},Hb={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M200 48l112 0c4.4 0 8 3.6 8 8l0 40-128 0 0-40c0-4.4 3.6-8 8-8zm-56 8l0 40-80 0C28.7 96 0 124.7 0 160l0 96 512 0 0-96c0-35.3-28.7-64-64-64l-80 0 0-40c0-30.9-25.1-56-56-56L200 0c-30.9 0-56 25.1-56 56zM512 304l-192 0 0 16c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-16-192 0 0 112c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-112z"]},ZO={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},mN={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},t2=mN,e_={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},wG={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M96.5 0c-35.3 0-64 28.7-64 64l0 384c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-96 78.1 0-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l72-72c9.4-9.4 9.4-24.6 0-33.9l-72-72c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-78.1 0 0-133.5c0-17-6.7-33.3-18.7-45.3L291.2 18.7C279.2 6.7 263 0 246 0L96.5 0zM358 176l-93.5 0c-13.3 0-24-10.7-24-24L240.5 58.5 358 176zM224.5 328c0-13.3 10.7-24 24-24l104 0 0 48-104 0c-13.3 0-24-10.7-24-24z"]},NG={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},SG={prefix:"fas",iconName:"cake-candles",icon:[448,512,[127874,"birthday-cake","cake"],"f1fd","M86.4-10.5L61.8 31.6C58 38.1 56 45.6 56 53.2L56 56c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L105.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zm128 0L189.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L233.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zM317.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L361.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5L317.8 31.6zM128 160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.5C26.7 226.6 0 262.2 0 304l0 20.8c20.9 1.3 41.6 7.3 60.3 18l7.1 4.1c26.3 15 58.9 13.4 83.6-4.2 43.7-31.2 102.3-31.2 146 0 24.6 17.6 57.3 19.3 83.6 4.2l7.1-4.1c18.7-10.7 39.3-16.7 60.3-18l0-20.8c0-41.8-26.7-77.4-64-90.5l0-53.5c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48zM448 373c-12.7 1.2-25.1 5-36.5 11.5l-7.1 4.1c-42.6 24.3-95.4 21.7-135.3-6.8-27-19.3-63.2-19.3-90.2 0-39.9 28.5-92.7 31.2-135.3 6.8l-7.1-4.1C25.1 378 12.7 374.1 0 373l0 75c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-75z"]},jG=SG,CG={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},kG=CG;function TG(){const[t,e]=T.useState(!1),[n,r]=T.useState({email:"",password:""}),[s,i]=T.useState(!1),[a,l]=T.useState(null),c=rt(),{login:u}=ju(),d=p=>{const{name:g,value:x}=p.target;r(v=>({...v,[g]:x}))},f=async p=>{p.preventDefault(),e(!0);try{await u(qt.ADMIN,n.email,n.password),c("/dashboard")}catch(g){g.response?.data?.message?l(g.response.data.message):g.response?.status===401?l("Email hoc mt khu khng ng!"):g.code==="ECONNABORTED"?l("Timeout! Vui lng th li."):l("C li xy ra, vui lng th li!")}finally{e(!1)}};return o.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-2xl rounded-2xl p-[2.5rem] border-t-4 border-blue-500",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white text-4xl",children:""})}),o.jsx("h2",{className:"text-[2.2rem] font-bold text-slate-800 mb-2",children:"Qun Tr Vin"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Admin & Staff Portal"}),o.jsx("div",{className:"px-4 py-3 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-[1.2rem] text-amber-700 flex items-center justify-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Khu vc hn ch - Khng chia s thng tin ng nhp"]})})]}),o.jsxs("form",{onSubmit:f,className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"admin@company.com",value:n.email,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",name:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{i(!s)},children:s?o.jsx(F,{icon:Ns,className:"text-gray-600"}):o.jsx(F,{icon:hN,className:"text-gray-600"})})]})]}),a&&o.jsx("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded",children:o.jsx("p",{className:"text-sm text-red-700 font-medium",children:a})}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-semibold transition-all mt-[1.8rem] ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,type:"submit",disabled:t,children:t?"ang xc thc...":"ng nhp qun tr"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Qe,{to:"/",className:"text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Lin h IT Support"})})]})})}function Co(){return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 flex items-center justify-center bg-[#4a4a4a52] z-[999]",children:o.jsxs("div",{className:" flex justify-center items-center space-x-2 p-4",children:[o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full"}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.2s"}})]})})}function EG(){const[t,e]=T.useState(!1),[n,r]=T.useState({email:"",password:""}),[s,i]=T.useState(null),a=rt(),c=ir().state?.from||"/",{login:u}=ju(),[d,f]=T.useState(!1),[p,g]=T.useState(!1),[x,v]=T.useState(!1),b=j=>{const{name:M,value:C}=j.target;r(A=>({...A,[M]:C}))},w=async()=>{try{if(x){const j=JSON.parse(localStorage.getItem("localCart")||"[]");j.length>0&&(await ge.post("/api/v1/cart/merge",{localItems:j})).status&&(ue.success(" gp gi hng ca bn!"),localStorage.removeItem("localCart"))}c==="/checkout"?a("/cart/detail",{replace:!0}):a(c,{replace:!0})}catch{ue.error("Li khi gp gi hng!"),a(c,{replace:!0})}},S=async j=>{j.preventDefault(),e(!0),i(null);try{await u(qt.USER,n.email,n.password),await w()}catch(M){if(M.message?.includes(qt.ADMIN||qt.STAFF)){g(!0);return}i(M?.message||"ng nhp tht bi!")}finally{e(!1)}};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsx("button",{type:"button",className:"absolute top-4 right-4 w-16 h-16 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-500 cursor-pointer",onClick:()=>a("/"),children:o.jsx(F,{icon:pn})}),o.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng nhp"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem]",children:"Cho mng bn tr li! "})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",id:"email",placeholder:"your@email.com",value:n.email,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:b,onFocus:()=>i(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",name:"password",id:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:b,onFocus:()=>i(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(F,{icon:Ns,className:"text-gray-600"}):o.jsx(F,{icon:hN,className:"text-gray-600"})})]})]}),s&&o.jsx("p",{className:"text-[1.4rem] text-red-600",children:s}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[o.jsx("label",{htmlFor:"mergeCart",children:"Gp gi hng khi ang nhp"}),o.jsx("input",{type:"checkbox",id:"mergeCart",name:"mergeCart",checked:x,className:"",style:{scale:1.2},onChange:j=>v(j.target.checked)})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:t,children:t?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng nhp"})]}),o.jsxs("div",{className:"mt-6 space-y-3 text-center ",children:[o.jsx(Qe,{to:"/",className:"block text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Qun mt khu?"}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Cha c ti khon?"," ",o.jsx(Qe,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng k ngay"})]})})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>a("/admin/login"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>g(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),t&&o.jsx(Co,{})]})}function MG(){return o.jsx("div",{children:"AboutPage"})}function AG(){return o.jsx("div",{className:"overflow-hidden",children:o.jsx(ql,{})})}const t_="/manage-sell-client/assets/avatar-default-zyCK33tM.png";function PG(){const{user:t}=Ct(),{logout:e}=ju(),n=rt(),[r,s]=T.useState(!1),i=T.useRef(null),a=async()=>{e(),n("/")};return T.useEffect(()=>{function l(c){i.current&&!i.current.contains(c.target)&&s(!1)}return r&&window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[r]),o.jsxs("header",{className:"fixed w-full h-[6rem] bg-white backdrop-blur-md bg-opacity-95 flex items-center justify-between px-[2rem] shadow-lg border-b border-gray-200 z-[500]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("h1",{className:"text-[2.4rem] font-bold bg-gradient-to-r from-amber-600 to-amber-800 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:"h-[3rem] w-[0.2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 font-medium",children:"Admin Dashboard"})]}),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative w-[36rem] h-[4rem] border-2 border-gray-300 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-200 focus-within:border-amber-500 focus-within:shadow-lg",children:[o.jsx("input",{type:"text",placeholder:"Tm kim sn phm, n hng, khch hng...",className:"text-[1.4rem] pl-[2rem] pr-[6rem] w-full h-full outline-none border-none bg-gray-50 focus:bg-white transition-colors"}),o.jsx("button",{className:"w-[4rem] h-[4rem] absolute right-0 top-0 rounded-2xl border-none bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 transition-all duration-200 flex items-center justify-center text-white shadow-lg hover:shadow-xl",type:"submit",children:o.jsx(F,{icon:Dr,className:"text-[1.6rem]"})})]})}),o.jsxs("div",{className:"relative flex items-center gap-[2rem]",ref:i,children:[o.jsxs("button",{className:"flex items-center gap-[1.2rem] p-[0.8rem] rounded-xl transition-all duration-200 group cursor-pointer",onClick:()=>s(!r),children:[o.jsx("img",{src:t?.avatar??t_,alt:"Admin Avatar",className:"h-[4.8rem] w-[4.8rem] rounded-[50%] border border-amber-300 shadow-lg group-hover:border-amber-400 transition-all duration-200"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("div",{className:"font-bold text-[1.4rem] text-gray-800",children:t?.username}),o.jsx("div",{className:"text-[1.2rem] text-amber-600 font-medium",children:t?.role===qt.ADMIN?"Super Admin":"Manager"})]}),o.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover:text-amber-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&o.jsxs("div",{className:"absolute right-0 top-[105%] w-[18rem] bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden animate-fadeIn z-10",children:[o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-amber-50 hover:text-amber-700 transition-colors",onClick:()=>{n("/dashboard/profile"),s(!1)},children:"Trang c nhn"}),o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors",onClick:a,children:"ng xut"})]})]})]})}const Ub=[{id:1,label:"Dashboard",path:""},{id:2,label:"Sn phm",path:"products",children:[{id:21,label:"Sn phm",path:"products"},{id:22,label:"Danh mc",path:"categories"}]},{id:5,label:"n hng",path:"orders",children:[{id:23,label:"Danh sch n hng",path:"orders/list-order"}]},{id:6,label:"Nhn vin",path:"staff"},{id:7,label:"Khch hng thnh vin",path:"customers"},{id:8,label:"Khch vng lai",path:"guest-customers"},{id:9,label:"FlashSale",path:"flashsale"},{id:10,label:"Gim gi",path:"discount"},{id:11,label:"Banner",path:"banner-slide"},{id:12,label:"C nhn",path:"profile"},{id:13,label:"Ci t",path:"setting"}];function OG(){const[t,e]=T.useState(()=>{const i=sessionStorage.getItem("sidebarSelected");return i?JSON.parse(i):{id:1,subId:void 0}}),n=i=>{if(i.children){const a={id:t?.id===i.id?null:i.id};e(a),sessionStorage.setItem("sidebarSelected",JSON.stringify(a))}else{const a={id:i.id};e(a),sessionStorage.setItem("sidebarSelected",JSON.stringify(a)),r(`/dashboard/${i.path}`)}},r=rt();if(Ub.length==0)return null;const s=(i,a)=>{const l={id:i,subId:a.id};e(l),sessionStorage.setItem("sidebarSelected",JSON.stringify(l)),r(`/dashboard/${a.path}`)};return Ub.length===0?null:o.jsxs("aside",{className:"fixed top-[6rem] left-0 w-[15%] h-[calc(100vh-6rem)] bg-white shadow-xl overflow-auto hide-scrollbar border-r border-gray-200",children:[o.jsx("div",{className:"p-[2rem] border-b border-gray-100",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 px-[2rem] py-[1.2rem] rounded-xl text-center shadow-lg",children:o.jsx("h3",{className:"text-white font-bold text-[1.6rem]",children:" Admin Panel"})})}),o.jsxs("nav",{className:"p-[1.6rem]",children:[o.jsx("div",{className:"space-y-[0.8rem]",children:Ub.map((i,a)=>o.jsxs("div",{children:[o.jsx("button",{className:`w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-100 group ${t?.id===i.id?"bg-gradient-to-r from-blue-100 to-blue-50 text-amber-900 shadow-md border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"}`,onClick:()=>n(i),children:o.jsxs("div",{className:"w-full flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-[1.4rem]",children:i.label}),i?.children&&o.jsx(F,{icon:t?.id===i.id?vG:Sh})]})}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${t?.id===i.id?"max-h-[20rem] pb-2":"max-h-0"}`,children:i?.children?.map(l=>o.jsx("div",{className:"pl-[1rem] pt-4",children:o.jsx("button",{onClick:()=>s(i.id,l),className:`w-full text-left text-[1.4rem] ${t.subId===l.id?"bg-gray-100 text-gray-900 shadow-sm":""} text-gray-600 px-[1rem] py-[1.2rem] rounded-lg hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm`,children:l.label},l.id)},l.id))})]},a))}),o.jsx("div",{className:"mt-[3rem] pt-[2rem] border-t border-gray-200",children:o.jsxs("button",{className:"w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-200 text-red-600 hover:bg-red-50 hover:text-red-700 group",children:[o.jsx("div",{className:"w-[3.2rem] h-[3.2rem] rounded-lg flex items-center justify-center transition-all duration-200 bg-red-100 text-red-500 group-hover:bg-red-200",children:o.jsx(F,{icon:Id,className:"text-[1.4rem]"})}),o.jsx("span",{className:"font-medium text-[1.4rem]",children:"ng xut"})]})})]})]})}function _G(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br",children:[o.jsx(PG,{}),o.jsxs("div",{className:"flex",children:[o.jsx(OG,{}),o.jsx("main",{className:"flex-1 ml-[15%] p-[2rem] mt-[6rem]",children:o.jsx(ql,{})})]})]})}const DG=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await ge.get("/api/v1/orders/dashboard-overview",{params:e})).data},IG=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await ge.get("/api/v1/orders/dashboard-statistics",{params:e})).data};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ff(t){return t+.5|0}const Xa=(t,e,n)=>Math.max(Math.min(t,n),e);function Ld(t){return Xa(ff(t*2.55),0,255)}function ao(t){return Xa(ff(t*255),0,255)}function qi(t){return Xa(ff(t/2.55)/100,0,1)}function Kk(t){return Xa(ff(t*100),0,100)}const ls={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},n2=[..."0123456789ABCDEF"],LG=t=>n2[t&15],RG=t=>n2[(t&240)>>4]+n2[t&15],Fm=t=>(t&240)>>4===(t&15),FG=t=>Fm(t.r)&&Fm(t.g)&&Fm(t.b)&&Fm(t.a);function zG(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ls[t[1]]*17,g:255&ls[t[2]]*17,b:255&ls[t[3]]*17,a:e===5?ls[t[4]]*17:255}:(e===7||e===9)&&(n={r:ls[t[1]]<<4|ls[t[2]],g:ls[t[3]]<<4|ls[t[4]],b:ls[t[5]]<<4|ls[t[6]],a:e===9?ls[t[7]]<<4|ls[t[8]]:255})),n}const VG=(t,e)=>t<255?e(t):"";function $G(t){var e=FG(t)?LG:RG;return t?"#"+e(t.r)+e(t.g)+e(t.b)+VG(t.a,e):void 0}const BG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function n_(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function HG(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function UG(t,e,n){const r=n_(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function WG(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function pN(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=WG(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function gN(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ao)}function xN(t,e,n){return gN(n_,t,e,n)}function qG(t,e,n){return gN(UG,t,e,n)}function KG(t,e,n){return gN(HG,t,e,n)}function r_(t){return(t%360+360)%360}function GG(t){const e=BG.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ld(+e[5]):ao(+e[5]));const s=r_(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=qG(s,i,a):e[1]==="hsv"?r=KG(s,i,a):r=xN(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function YG(t,e){var n=pN(t);n[0]=r_(n[0]+e),n=xN(n),t.r=n[0],t.g=n[1],t.b=n[2]}function XG(t){if(!t)return;const e=pN(t),n=e[0],r=Kk(e[1]),s=Kk(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${qi(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Gk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function QG(){const t={},e=Object.keys(Yk),n=Object.keys(Gk);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,Gk[i]);i=parseInt(Yk[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let zm;function JG(t){zm||(zm=QG(),zm.transparent=[0,0,0,0]);const e=zm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ZG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function eY(t){const e=ZG.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?Ld(a):Xa(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Ld(r):Xa(r,0,255)),s=255&(e[4]?Ld(s):Xa(s,0,255)),i=255&(e[6]?Ld(i):Xa(i,0,255)),{r,g:s,b:i,a:n}}}function tY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Wb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Tc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function nY(t,e,n){const r=Tc(qi(t.r)),s=Tc(qi(t.g)),i=Tc(qi(t.b));return{r:ao(Wb(r+n*(Tc(qi(e.r))-r))),g:ao(Wb(s+n*(Tc(qi(e.g))-s))),b:ao(Wb(i+n*(Tc(qi(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Vm(t,e,n){if(t){let r=pN(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=xN(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function s_(t,e){return t&&Object.assign(e||{},t)}function Xk(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ao(t[3]))):(e=s_(t,{r:0,g:0,b:0,a:1}),e.a=ao(e.a)),e}function rY(t){return t.charAt(0)==="r"?eY(t):GG(t)}let i_=class r2{constructor(e){if(e instanceof r2)return e;const n=typeof e;let r;n==="object"?r=Xk(e):n==="string"&&(r=zG(e)||JG(e)||rY(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=s_(this._rgb);return e&&(e.a=qi(e.a)),e}set rgb(e){this._rgb=Xk(e)}rgbString(){return this._valid?tY(this._rgb):void 0}hexString(){return this._valid?$G(this._rgb):void 0}hslString(){return this._valid?XG(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=nY(this._rgb,e._rgb,n)),this}clone(){return new r2(this.rgb)}alpha(e){return this._rgb.a=ao(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ff(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vm(this._rgb,2,e),this}darken(e){return Vm(this._rgb,2,-e),this}saturate(e){return Vm(this._rgb,1,e),this}desaturate(e){return Vm(this._rgb,1,-e),this}rotate(e){return YG(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Di(){}const sY=(()=>{let t=0;return()=>t++})();function ot(t){return t==null}function zt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function lt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $r(t,e){return Zt(t)?t:e}function tt(t,e){return typeof t>"u"?e:t}const iY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,a_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Tt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Nt(t,e,n,r){let s,i,a;if(zt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(lt(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function hg(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function fg(t){if(zt(t))return t.map(fg);if(lt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=fg(t[n[s]]);return e}return t}function o_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function aY(t,e,n,r){if(!o_(t))return;const s=e[t],i=n[t];lt(s)&&lt(i)?Ch(s,i,r):e[t]=fg(i)}function Ch(t,e,n){const r=zt(e)?e:[e],s=r.length;if(!lt(t))return t;n=n||{};const i=n.merger||aY;let a;for(let l=0;l<s;++l){if(a=r[l],!lt(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function Yd(t,e){return Ch(t,e,{merger:oY})}function oY(t,e,n){if(!o_(t))return;const r=e[t],s=n[t];lt(r)&&lt(s)?Yd(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=fg(s))}const Qk={"":t=>t,x:t=>t.x,y:t=>t.y};function lY(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function cY(t){const e=lY(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function yo(t,e){return(Qk[e]||(Qk[e]=cY(e)))(t)}function yN(t){return t.charAt(0).toUpperCase()+t.slice(1)}const kh=t=>typeof t<"u",bo=t=>typeof t=="function",Jk=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function uY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ht=Math.PI,It=2*ht,dY=It+ht,mg=Number.POSITIVE_INFINITY,hY=ht/180,an=ht/2,qo=ht/4,Zk=ht*2/3,Qa=Math.log10,hi=Math.sign;function Xd(t,e,n){return Math.abs(t-e)<n}function e5(t){const e=Math.round(t);t=Xd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Qa(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function fY(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function mY(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function au(t){return!mY(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function pY(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function l_(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Ls(t){return t*(ht/180)}function bN(t){return t*(180/ht)}function t5(t){if(!Zt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function c_(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ht&&(i+=It),{angle:i,distance:s}}function s2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gY(t,e){return(t-e+dY)%It-ht}function Jn(t){return(t%It+It)%It}function Th(t,e,n,r){const s=Jn(t),i=Jn(e),a=Jn(n),l=Jn(i-s),c=Jn(a-s),u=Jn(s-i),d=Jn(s-a);return s===i||s===a||r&&i===a||l>c&&u<d}function En(t,e,n){return Math.max(e,Math.min(n,t))}function xY(t){return En(t,-32768,32767)}function Gi(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function vN(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Yi=(t,e,n,r)=>vN(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),yY=(t,e,n)=>vN(t,n,r=>t[r][e]>=n);function bY(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const u_=["push","pop","shift","splice","unshift"];function vY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),u_.forEach(n=>{const r="_onData"+yN(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function n5(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(u_.forEach(i=>{delete t[i]}),delete t._chartjs)}function d_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const h_=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function f_(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,h_.call(window,()=>{r=!1,t.apply(e,n)}))}}function wY(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const wN=t=>t==="start"?"left":t==="end"?"right":"center",Xn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,NY=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function m_(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:p,minDefined:g,maxDefined:x}=a.getUserBounds();if(g){if(s=Math.min(Yi(c,d,f).lo,n?r:Yi(e,d,a.getPixelForValue(f)).lo),u){const v=c.slice(0,s+1).reverse().findIndex(b=>!ot(b[l.axis]));s-=Math.max(0,v)}s=En(s,0,r-1)}if(x){let v=Math.max(Yi(c,a.axis,p,!0).hi+1,n?0:Yi(e,d,a.getPixelForValue(p),!0).hi+1);if(u){const b=c.slice(v-1).findIndex(w=>!ot(w[l.axis]));v+=Math.max(0,b)}i=En(v,s,r)-s}else i=r-s}return{start:s,count:i}}function p_(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const $m=t=>t===0||t===1,r5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*It/n)),s5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*It/n)+1,Qd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*an)+1,easeOutSine:t=>Math.sin(t*an),easeInOutSine:t=>-.5*(Math.cos(ht*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>$m(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>$m(t)?t:r5(t,.075,.3),easeOutElastic:t=>$m(t)?t:s5(t,.075,.3),easeInOutElastic(t){return $m(t)?t:t<.5?.5*r5(t*2,.1125,.45):.5+.5*s5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Qd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Qd.easeInBounce(t*2)*.5:Qd.easeOutBounce(t*2-1)*.5+.5};function NN(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function i5(t){return NN(t)?t:new i_(t)}function qb(t){return NN(t)?t:new i_(t).saturate(.5).darken(.1).hexString()}const SY=["x","y","borderWidth","radius","tension"],jY=["color","borderColor","backgroundColor"];function CY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:jY},numbers:{type:"number",properties:SY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const a5=new Map;function TY(t,e){e=e||{};const n=t+JSON.stringify(e);let r=a5.get(n);return r||(r=new Intl.NumberFormat(t,e),a5.set(n,r)),r}function mf(t,e,n){return TY(e,n).format(t)}const g_={values(t){return zt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=EY(t,n)}const a=Qa(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),mf(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Qa(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?g_.numeric.call(this,t,e,n):""}};function EY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var X0={formatters:g_};function MY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:X0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Dl=Object.create(null),i2=Object.create(null);function Jd(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Kb(t,e,n){return typeof e=="string"?Ch(Jd(t,e),n):Ch(Jd(t,""),e)}class AY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>qb(s.backgroundColor),this.hoverBorderColor=(r,s)=>qb(s.borderColor),this.hoverColor=(r,s)=>qb(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Kb(this,e,n)}get(e){return Jd(this,e)}describe(e,n){return Kb(i2,e,n)}override(e,n){return Kb(Dl,e,n)}route(e,n,r,s){const i=Jd(this,e),a=Jd(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return lt(c)?Object.assign({},u,c):tt(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Vt=new AY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[CY,kY,MY]);function PY(t){return!t||ot(t.size)||ot(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function pg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function OY(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const l=n.length;let c,u,d,f,p;for(c=0;c<l;c++)if(f=n[c],f!=null&&!zt(f))a=pg(t,s,i,a,f);else if(zt(f))for(u=0,d=f.length;u<d;u++)p=f[u],p!=null&&!zt(p)&&(a=pg(t,s,i,a,p));t.restore();const g=i.length/2;if(g>n.length){for(c=0;c<g;c++)delete s[i[c]];i.splice(0,g)}return a}function Ko(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function o5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function a2(t,e,n,r){x_(t,e,n,r,null)}function x_(t,e,n,r,s){let i,a,l,c,u,d,f,p;const g=e.pointStyle,x=e.rotation,v=e.radius;let b=(x||0)*hY;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,r,s/2,v,0,0,It):t.arc(n,r,v,0,It),t.closePath();break;case"triangle":d=s?s/2:v,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=Zk,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=Zk,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),t.closePath();break;case"rectRounded":u=v*.516,c=v-u,a=Math.cos(b+qo)*c,f=Math.cos(b+qo)*(s?s/2-u:c),l=Math.sin(b+qo)*c,p=Math.sin(b+qo)*(s?s/2-u:c),t.arc(n-f,r-l,u,b-ht,b-an),t.arc(n+p,r-a,u,b-an,b),t.arc(n+f,r+l,u,b,b+an),t.arc(n-p,r+a,u,b+an,b+ht),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*v,d=s?s/2:c,t.rect(n-d,r-c,2*d,2*c);break}b+=qo;case"rectRot":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+p,r-a),t.lineTo(n+f,r+l),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":b+=qo;case"cross":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),b+=qo,f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=s?s/2:Math.cos(b)*v,l=Math.sin(b)*v,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:v),r+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Xi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Q0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function J0(t){t.restore()}function _Y(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function DY(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function IY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ot(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function LY(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(l,d),t.stroke()}}function RY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Il(t,e,n,r,s,i={}){const a=zt(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,IY(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&RY(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ot(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),LY(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function Eh(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ht,ht,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ht,an,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,an,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-an,!0),t.lineTo(n+a.topLeft,r)}const FY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VY(t,e){const n=(""+t).match(FY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const $Y=t=>+t||0;function SN(t,e){const n={},r=lt(e),s=r?Object.keys(e):e,i=lt(t)?r?a=>tt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=$Y(i(a));return n}function y_(t){return SN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function yl(t){return SN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function nr(t){const e=y_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wn(t,e){t=t||{},e=e||Vt.font;let n=tt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=tt(t.style,e.style);r&&!(""+r).match(zY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:tt(t.family,e.family),lineHeight:VY(tt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:tt(t.weight,e.weight),string:""};return s.string=PY(s),s}function Rd(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function BY(t,e,n){const{min:r,max:s}=t,i=a_(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function ko(t,e){return Object.assign(Object.create(t),e)}function jN(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=N_("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>jN([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return v_(l,c,()=>XY(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return c5(l).includes(c)},ownKeys(l){return c5(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function ou(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:b_(t,r),setContext:i=>ou(t,i,n,r),override:i=>ou(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return v_(i,a,()=>UY(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function b_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:bo(n)?n:()=>n,isIndexable:bo(r)?r:()=>r}}const HY=(t,e)=>t?t+yN(e):e,CN=(t,e)=>lt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function v_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function UY(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return bo(l)&&a.isScriptable(e)&&(l=WY(e,l,t,n)),zt(l)&&l.length&&(l=qY(e,l,t,a.isIndexable)),CN(e,l)&&(l=ou(l,s,i&&i[e],a)),l}function WY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),CN(t,c)&&(c=kN(s._scopes,s,t,c)),c}function qY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(lt(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=kN(u,s,t,d);e.push(ou(f,i,a&&a[t],l))}}return e}function w_(t,e,n){return bo(t)?t(e,n):t}const KY=(t,e)=>t===!0?e:typeof t=="string"?yo(e,t):void 0;function GY(t,e,n,r,s){for(const i of e){const a=KY(n,i);if(a){t.add(a);const l=w_(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function kN(t,e,n,r){const s=e._rootScopes,i=w_(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=l5(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=l5(l,a,i,c,r),c===null)?!1:jN(Array.from(l),[""],s,i,()=>YY(e,n,r))}function l5(t,e,n,r,s){for(;n;)n=GY(t,e,n,r,s);return n}function YY(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return zt(s)&&lt(n)?n:s||{}}function XY(t,e,n,r){let s;for(const i of e)if(s=N_(HY(i,t),n),typeof s<"u")return CN(t,s)?kN(n,r,t,s):s}function N_(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function c5(t){let e=t._keys;return e||(e=t._keys=QY(t._scopes)),e}function QY(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function S_(t,e,n,r){const{iScale:s}=t,{key:i="r"}=this._parsing,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+n,d=e[u],a[l]={r:s.parse(yo(d,i),u)};return a}const JY=Number.EPSILON||1e-14,lu=(t,e)=>e<t.length&&!t[e].skip&&t[e],j_=t=>t==="x"?"y":"x";function ZY(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=s2(i,s),c=s2(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,p=r*d;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+p*(a.x-s.x),y:i.y+p*(a.y-s.y)}}}function eX(t,e,n){const r=t.length;let s,i,a,l,c,u=lu(t,0);for(let d=0;d<r-1;++d)if(c=u,u=lu(t,d+1),!(!c||!u)){if(Xd(e[d],0,JY)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function tX(t,e,n="x"){const r=j_(n),s=t.length;let i,a,l,c=lu(t,0);for(let u=0;u<s;++u){if(a=l,l=c,c=lu(t,u+1),!l)continue;const d=l[n],f=l[r];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=f-i*e[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=f+i*e[u])}}function nX(t,e="x"){const n=j_(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=lu(t,0);for(a=0;a<r;++a)if(l=c,c=u,u=lu(t,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?hi(s[a-1])!==hi(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}eX(t,s,i),tX(t,i,e)}function Bm(t,e,n){return Math.max(Math.min(t,n),e)}function rX(t,e){let n,r,s,i,a,l=Xi(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&Xi(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=Bm(s.cp1x,e.left,e.right),s.cp1y=Bm(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Bm(s.cp2x,e.left,e.right),s.cp2y=Bm(s.cp2y,e.top,e.bottom)))}function sX(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")nX(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=ZY(u,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&rX(t,n)}function TN(){return typeof window<"u"&&typeof document<"u"}function EN(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gg(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Z0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function iX(t,e){return Z0(t).getPropertyValue(e)}const aX=["top","right","bottom","left"];function bl(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=aX[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const oX=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function lX(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(oX(s,i,t.target))l=s,c=i;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Jo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Z0(n),i=s.boxSizing==="border-box",a=bl(s,"padding"),l=bl(s,"border","width"),{x:c,y:u,box:d}=lX(t,n),f=a.left+(d&&l.left),p=a.top+(d&&l.top);let{width:g,height:x}=e;return i&&(g-=a.width+l.width,x-=a.height+l.height),{x:Math.round((c-f)/g*n.width/r),y:Math.round((u-p)/x*n.height/r)}}function cX(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&EN(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=Z0(i),c=bl(l,"border","width"),u=bl(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=gg(l.maxWidth,i,"clientWidth"),s=gg(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||mg,maxHeight:s||mg}}const Ja=t=>Math.round(t*10)/10;function uX(t,e,n,r){const s=Z0(t),i=bl(s,"margin"),a=gg(s.maxWidth,t,"clientWidth")||mg,l=gg(s.maxHeight,t,"clientHeight")||mg,c=cX(t,e,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const p=bl(s,"border","width"),g=bl(s,"padding");u-=g.width+p.width,d-=g.height+p.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Ja(Math.min(u,a,c.maxWidth)),d=Ja(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Ja(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=Ja(Math.floor(d*r))),{width:u,height:d}}function u5(t,e,n){const r=e||1,s=Ja(t.height*r),i=Ja(t.width*r);t.height=Ja(t.height),t.width=Ja(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const dX=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};TN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function d5(t,e){const n=iX(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Zo(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function hX(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function fX(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Zo(t,s,n),l=Zo(s,i,n),c=Zo(i,e,n),u=Zo(a,l,n),d=Zo(l,c,n);return Zo(u,d,n)}const mX=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},pX=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Xc(t,e,n){return t?mX(e,n):pX()}function C_(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function k_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function T_(t){return t==="angle"?{between:Th,compare:gY,normalize:Jn}:{between:Gi,compare:(e,n)=>e-n,normalize:e=>e}}function h5({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function gX(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=T_(r),c=e.length;let{start:u,end:d,loop:f}=t,p,g;if(f){for(u+=c,d+=c,p=0,g=c;p<g&&a(l(e[u%c][r]),s,i);++p)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function E_(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=T_(r),{start:d,end:f,loop:p,style:g}=gX(t,e,n),x=[];let v=!1,b=null,w,S,j;const M=()=>c(s,j,w)&&l(s,j)!==0,C=()=>l(i,w)===0||c(i,j,w),A=()=>v||M(),P=()=>!v||C();for(let E=d,D=d;E<=f;++E)S=e[E%a],!S.skip&&(w=u(S[r]),w!==j&&(v=c(w,s,i),b===null&&A()&&(b=l(w,s)===0?E:D),b!==null&&P()&&(x.push(h5({start:b,end:E,loop:p,count:a,style:g})),b=null),D=E,j=w));return b!==null&&x.push(h5({start:b,end:f,loop:p,count:a,style:g})),x}function M_(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=E_(r[s],t.points,e);i.length&&n.push(...i)}return n}function xX(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function yX(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function bX(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=xX(n,s,i,r);if(r===!0)return f5(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,u=!!t._fullLoop&&a===0&&l===s-1;return f5(t,yX(n,a,c,u),n,e)}function f5(t,e,n,r){return!r||!r.setContext||!n?e:vX(t,e,n,r)}function vX(t,e,n,r){const s=t._chart.getContext(),i=m5(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let d=i,f=e[0].start,p=f;function g(x,v,b,w){const S=l?-1:1;if(x!==v){for(x+=c;n[x%c].skip;)x-=S;for(;n[v%c].skip;)v+=S;x%c!==v%c&&(u.push({start:x%c,end:v%c,loop:b,style:w}),d=w,f=v%c)}}for(const x of e){f=l?f:x.start;let v=n[f%c],b;for(p=f+1;p<=x.end;p++){const w=n[p%c];b=m5(r.setContext(ko(s,{type:"segment",p0:v,p1:w,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:a}))),wX(b,d)&&g(f,p-1,x.loop,d),v=w,d=b}f<p-1&&g(f,p-1,x.loop,d)}return u}function m5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function wX(t,e){if(!e)return!1;const n=[],r=function(s,i){return NN(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Hm(t,e,n){return t.options.clip?t[n]:e[n]}function NX(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Hm(n,e,"left"),right:Hm(n,e,"right"),top:Hm(r,e,"top"),bottom:Hm(r,e,"bottom")}:e}function A_(t,e){const n=e._clip;if(n.disabled)return!1;const r=NX(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class SX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=h_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Vi=new SX;const p5="transparent",jX={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=i5(t||p5),s=r.valid&&i5(e||p5);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class CX{constructor(e,n,r,s){const i=n[r];s=Rd([e.to,s,i,e.from]);const a=Rd([e.from,i,s]);this._active=!0,this._fn=e.fn||jX[e.type||typeof a],this._easing=Qd[e.easing]||Qd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Rd([e.to,n,s,e.from]),this._from=Rd([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class P_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!lt(e))return;const n=Object.keys(Vt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!lt(i))return;const a={};for(const l of n)a[l]=i[l];(zt(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=TX(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&kX(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const p=r.get(u);if(f)if(p&&f.active()){f.update(p,d,l);continue}else f.cancel();if(!p||!p.duration){e[u]=d;continue}i[u]=f=new CX(p,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Vi.add(this._chart,r),!0}}function kX(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function TX(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function g5(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function EX(t,e,n){if(n===!1)return!1;const r=g5(t,n),s=g5(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function MX(t){let e,n,r,s;return lt(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function O_(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function x5(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=t.values[c],Zt(u)&&(i||e===0||hi(e)===hi(u))&&(e+=u)}return!d&&!r.all?0:e}function AX(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[i]:t[d]};return l}function Gb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function PX(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function OX(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function _X(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function y5(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function b5(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,d=PX(i,a,r),f=e.length;let p;for(let g=0;g<f;++g){const x=e[g],{[c]:v,[u]:b}=x,w=x._stacks||(x._stacks={});p=w[u]=_X(s,d,v),p[l]=b,p._top=y5(p,a,!0,r.type),p._bottom=y5(p,a,!1,r.type);const S=p._visualValues||(p._visualValues={});S[l]=b}}function Yb(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function DX(t,e){return ko(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function IX(t,e,n){return ko(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function wd(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Xb=t=>t==="reset"||t==="none",v5=(t,e)=>e?t:Object.assign({},t),LX=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:O_(n,!0),values:null};class To{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,p,g,x)=>f==="x"?p:f==="r"?x:g,i=n.xAxisID=tt(r.xAxisID,Yb(e,"x")),a=n.yAxisID=tt(r.yAxisID,Yb(e,"y")),l=n.rAxisID=tt(r.rAxisID,Yb(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),d=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&n5(this._data,this),e._stacked&&wd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(lt(n)){const s=this._cachedMeta;this._data=AX(n,s)}else if(r!==n){if(r){n5(r,this);const s=this._cachedMeta;wd(s),s._parsed=[]}n&&Object.isExtensible(n)&&vY(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Gb(n.vScale,n),n.stack!==r.stack&&(s=!0,wd(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(b5(this,n._parsed),n._stacked=Gb(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{zt(s[e])?p=this.parseArrayData(r,s,e,n):lt(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const g=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<n;++d)r._parsed[d+e]=f=p[d],c&&(g()&&(c=!1),u=f);r._sorted=c}a&&b5(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,f=new Array(s);let p,g,x;for(p=0,g=s;p<g;++p)x=p+r,f[p]={[l]:d||i.parse(u[x],x),[c]:a.parse(n[x],x)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+r,f=n[d],l[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,p,g;for(d=0,f=s;d<f;++d)p=d+r,g=n[p],u[d]={x:i.parse(yo(g,l),p),y:a.parse(yo(g,c),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:O_(s,!0),values:n._stacks[e.axis]._visualValues};return x5(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=x5(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=LX(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=OX(l);let p,g;function x(){g=s[p];const v=g[l.axis];return!Zt(g[e.axis])||d>v||f<v}for(p=0;p<a&&!(!x()&&(this.updateRangeFromParsed(u,e,g,c),i));++p);if(i){for(p=a-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Zt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=MX(tt(this.options.clip,EX(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,l,c),d=l;d<l+c;++d){const f=s[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=IX(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=DX(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&kh(r);if(l)return v5(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Vt.elements[e]),x=()=>this.getContext(r,s,n),v=u.resolveNamedOptions(p,g,x,f);return v.$shared&&(v.$shared=c,i[a]=Object.freeze(v5(v,c))),v}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(p,this.getContext(e,r,n))}const u=new P_(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Xb(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){Xb(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Xb(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&wd(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function RX(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=d_(r.sort((s,i)=>s-i))}return t._cache.$bar}function FX(t){const e=t.iScale,n=RX(e,t.type);let r=e._length,s,i,a,l;const c=()=>{a===32767||a===-32768||(kh(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),c();return r}function zX(t,e,n,r){const s=n.barThickness;let i,a;return ot(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function VX(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/r,ratio:n.barPercentage,start:u}}function $X(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),l=Math.max(s,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:s,end:i,min:a,max:l}}function __(t,e,n,r){return zt(t)?$X(t,e,n,r):e[n.axis]=n.parse(t,r),e}function w5(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),l=s===i,c=[];let u,d,f,p;for(u=n,d=n+r;u<d;++u)p=e[u],f={},f[s.axis]=l||s.parse(a[u],u),c.push(__(p,f,i,u));return c}function Qb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function BX(t,e,n){return t!==0?hi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function HX(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function UX(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:d}=HX(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[N5(d,a,l,c)]=!0,s=u)),i[N5(s,a,l,c)]=!0,t.borderSkipped=i}function N5(t,e,n,r){return r?(t=WX(t,e,n),t=S5(t,n,e)):t=S5(t,e,n),t}function WX(t,e,n){return t===e?n:t===n?e:t}function S5(t,e,n){return t==="start"?e:t==="end"?n:t}function qX(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class KX extends To{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return w5(e,n,r,s)}parseArrayData(e,n,r,s){return w5(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=a.axis==="x"?l:c,f=[];let p,g,x,v;for(p=r,g=r+s;p<g;++p)v=n[p],x={},x[i.axis]=i.parse(yo(v,u),p),f.push(__(yo(v,d),x,a,p));return f}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,l=Qb(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,s);for(let g=n;g<n+r;g++){const x=this.getParsed(g),v=i||ot(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),w=(x._stacks||{})[l.axis],S={horizontal:u,base:v.base,enableBorderRadius:!w||Qb(x._custom)||a===w._top||a===w._bottom,x:u?v.head:b.center,y:u?b.center:v.head,height:u?b.size:Math.abs(v.size),width:u?Math.abs(v.size):b.size};p&&(S.options=f||this.resolveDataElementOptions(g,e[g].active?"active":s));const j=S.options||e[g].options;UX(S,j,w,a),qX(S,j,d.ratio),this.updateElement(e[g],g,S,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const f=d._parsed.find(g=>g[r.axis]===c),p=f&&f[d.vScale.axis];if(ot(p)||isNaN(p))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[tt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=e.barThickness;return{min:l||FX(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(e),u=c._custom,d=Qb(u);let f=c[n.axis],p=0,g=r?this.applyStack(n,c,r):f,x,v;g!==f&&(p=g-f,g=f),d&&(f=u.barStart,g=u.barEnd-u.barStart,f!==0&&hi(f)!==hi(u.barEnd)&&(p=0),p+=f);const b=!ot(i)&&!d?i:p;let w=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(p+g):x=w,v=x-w,Math.abs(v)<a){v=BX(v,n,l)*a,f===l&&(w-=v/2);const S=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),M=Math.min(S,j),C=Math.max(S,j);w=Math.max(Math.min(w,C),M),x=w+v,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(w))}if(w===n.getPixelForValue(l)){const S=hi(v)*n.getLineWidthForValue(l)/2;w+=S,v-=S}return{size:v,base:w,head:x,center:x+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=tt(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?VX(e,n,s,d*u):zX(e,n,s,d*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(tt(p,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;l=f.start+f.chunk*x+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class GX extends To{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){const i=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,n,r,s){const i=super.parseArrayData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=tt(l[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,n,r,s){const i=super.parseObjectData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=tt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y),u=a._custom;return{label:r[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(n,s),d=a.axis,f=l.axis;for(let p=n;p<n+r;p++){const g=e[p],x=!i&&this.getParsed(p),v={},b=v[d]=i?a.getPixelForDecimal(.5):a.getPixelForValue(x[d]),w=v[f]=i?l.getBasePixel():l.getPixelForValue(x[f]);v.skip=isNaN(b)||isNaN(w),u&&(v.options=c||this.resolveDataElementOptions(p,g.active?"active":s),i&&(v.options.radius=0)),this.updateElement(g,p,v,s)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=tt(r&&r._custom,i),s}}function YX(t,e,n){let r=1,s=1,i=0,a=0;if(e<It){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),p=Math.sin(c),g=(j,M,C)=>Th(j,l,c,!0)?1:Math.max(M,M*n,C,C*n),x=(j,M,C)=>Th(j,l,c,!0)?-1:Math.min(M,M*n,C,C*n),v=g(0,u,f),b=g(an,d,p),w=x(ht,u,f),S=x(ht+an,d,p);r=(v-w)/2,s=(b-S)/2,i=-(v+w)/2,a=-(b+S)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class MN extends To{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(l||f.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(lt(r[e])){const{key:c="value"}=this._parsing;i=u=>+yo(r[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return Ls(this.options.rotation-90)}_getCircumference(){return Ls(this.options.circumference)}_getRotationExtents(){let e=It,n=-It;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(iY(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:x,offsetY:v}=YX(f,d,c),b=(r.width-a)/p,w=(r.height-a)/g,S=Math.max(Math.min(b,w)/2,0),j=a_(this.options.radius,S),M=Math.max(j*c,0),C=(j-M)/this._getVisibleDatasetWeightTotal();this.offsetX=x*j,this.offsetY=v*j,s.total=this.calculateTotal(),this.outerRadius=j-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/It)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,p=i&&u.animateScale,g=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);let w=this._getRotation(),S;for(S=0;S<n;++S)w+=this._circumference(S,i);for(S=n;S<n+r;++S){const j=this._circumference(S,i),M=e[S],C={x:d+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+j,circumference:j,outerRadius:x,innerRadius:g};b&&(C.options=v||this.resolveDataElementOptions(S,M.active?"active":s)),w+=j,this.updateElement(M,S,C,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?It*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=mf(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(tt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class D_ extends To{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=m_(n,s,a);this._drawStart=l,this._drawCount=c,p_(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),p=a.axis,g=l.axis,{spanGaps:x,segment:v}=this.options,b=au(x)?x:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",S=n+r,j=e.length;let M=n>0&&this.getParsed(n-1);for(let C=0;C<j;++C){const A=e[C],P=w?A:{};if(C<n||C>=S){P.skip=!0;continue}const E=this.getParsed(C),D=ot(E[g]),L=P[p]=a.getPixelForValue(E[p],C),_=P[g]=i||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,E,c):E[g],C);P.skip=isNaN(L)||isNaN(_)||D,P.stop=C>0&&Math.abs(E[p]-M[p])>b,v&&(P.parsed=E,P.raw=u.data[C]),f&&(P.options=d||this.resolveDataElementOptions(C,A.active?"active":s)),w||this.updateElement(A,C,P,s),M=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class I_ extends To{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=mf(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:i}}parseObjectData(e,n,r,s){return S_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),l=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*ht;let g=p,x;const v=360/this.countVisibleElements();for(x=0;x<n;++x)g+=this._computeAngle(x,s,v);for(x=n;x<n+r;x++){const b=e[x];let w=g,S=g+this._computeAngle(x,s,v),j=a.getDataVisibility(x)?u.getDistanceFromCenterForValue(this.getParsed(x).r):0;g=S,i&&(c.animateScale&&(j=0),c.animateRotate&&(w=S=p));const M={x:d,y:f,innerRadius:0,outerRadius:j,startAngle:w,endAngle:S,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,M,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Ls(this.resolveDataElementOptions(e,n).angle||r):0}}class XX extends MN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class QX extends To{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return S_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===s.length,options:a};this.updateElement(r,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){const i=this._cachedMeta.rScale,a=s==="reset";for(let l=n;l<n+r;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=i.getPointPositionForValue(l,this.getParsed(l).r),f=a?i.xCenter:d.x,p=a?i.yCenter:d.y,g={x:f,y:p,angle:d.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(c,l,g,s)}}}class JX extends To{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:a}=m_(n,r,s);if(this._drawStart=i,this._drawCount=a,p_(n)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),p=this.includeOptions(s,f),g=a.axis,x=l.axis,{spanGaps:v,segment:b}=this.options,w=au(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||i||s==="none";let j=n>0&&this.getParsed(n-1);for(let M=n;M<n+r;++M){const C=e[M],A=this.getParsed(M),P=S?C:{},E=ot(A[x]),D=P[g]=a.getPixelForValue(A[g],M),L=P[x]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[x],M);P.skip=isNaN(D)||isNaN(L)||E,P.stop=M>0&&Math.abs(A[g]-j[g])>w,b&&(P.parsed=A,P.raw=u.data[M]),p&&(P.options=f||this.resolveDataElementOptions(M,C.active?"active":s)),S||this.updateElement(C,M,P,s),j=A}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,a)/2}}var ZX=Object.freeze({__proto__:null,BarController:KX,BubbleController:GX,DoughnutController:MN,LineController:D_,PieController:XX,PolarAreaController:I_,RadarController:QX,ScatterController:JX});function Go(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class AN{static override(e){Object.assign(AN.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Go()}parse(){return Go()}format(){return Go()}add(){return Go()}diff(){return Go()}startOf(){return Go()}endOf(){return Go()}}var eQ={_date:AN};function tQ(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?yY:Yi;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const p=u(i,e,n-f),g=u(i,e,n+f);return{lo:p.lo,hi:g.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:p}=t,g=p.slice(0,d.lo+1).reverse().findIndex(v=>!ot(v[f.axis]));d.lo-=Math.max(0,g);const x=p.slice(d.hi).findIndex(v=>!ot(v[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function ex(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:f,hi:p}=tQ(i[l],e,a,s);for(let g=f;g<=p;++g){const x=d[g];x.skip||r(x,u,g)}}}function nQ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Jb(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ex(t,n,e,function(l,c,u){!s&&!Xi(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function rQ(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:f}=c_(a,{x:e.x,y:e.y});Th(f,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return ex(t,n,e,i),s}function sQ(t,e,n,r,s,i){let a=[];const l=nQ(n);let c=Number.POSITIVE_INFINITY;function u(d,f,p){const g=d.inRange(e.x,e.y,s);if(r&&!g)return;const x=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(x))&&!g)return;const b=l(e,x);b<c?(a=[{element:d,datasetIndex:f,index:p}],c=b):b===c&&a.push({element:d,datasetIndex:f,index:p})}return ex(t,n,e,u),a}function Zb(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?rQ(t,e,n,s):sQ(t,e,n,r,s,i)}function j5(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return ex(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var iQ={modes:{index(t,e,n,r){const s=Jo(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Jb(t,s,i,r,a):Zb(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,r){const s=Jo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Jb(t,s,i,r,a):Zb(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,n,r){const s=Jo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Jb(t,s,i,r,a)},nearest(t,e,n,r){const s=Jo(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Zb(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=Jo(e,t);return j5(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Jo(e,t);return j5(t,s,"y",n.intersect,r)}}};const L_=["left","top","right","bottom"];function Nd(t,e){return t.filter(n=>n.pos===e)}function C5(t,e){return t.filter(n=>L_.indexOf(n.pos)===-1&&n.box.axis===e)}function Sd(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function aQ(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function oQ(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!L_.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function lQ(t,e){const n=oQ(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&e.availableHeight)}return n}function cQ(t){const e=aQ(t),n=Sd(e.filter(u=>u.box.fullSize),!0),r=Sd(Nd(e,"left"),!0),s=Sd(Nd(e,"right")),i=Sd(Nd(e,"top"),!0),a=Sd(Nd(e,"bottom")),l=C5(e,"x"),c=C5(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Nd(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function k5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function R_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function uQ(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!lt(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&R_(a,i.getPadding());const l=Math.max(0,e.outerWidth-k5(a,t,"left","right")),c=Math.max(0,e.outerHeight-k5(a,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function dQ(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function hQ(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Fd(t,e,n,r){const s=[];let i,a,l,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,hQ(l.horizontal,e));const{same:f,other:p}=uQ(e,n,l,r);u|=f&&s.length,d=d||p,c.fullSize||s.push(l)}return u&&Fd(s,e,n,r)||d}function Um(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function T5(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,p=u.size||c.height;kh(u.start)&&(a=u.start),c.fullSize?Um(c,s.left,a,n.outerWidth-s.right-s.left,p):Um(c,e.left+u.placed,a,f,p),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*d,p=u.size||c.width;kh(u.start)&&(i=u.start),c.fullSize?Um(c,i,s.top,p,n.outerHeight-s.bottom-s.top):Um(c,i,e.top+u.placed,p,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var er={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=nr(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=cQ(t.boxes),c=l.vertical,u=l.horizontal;Nt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=c.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},s);R_(p,nr(r));const g=Object.assign({maxPadding:p,w:i,h:a,x:s.left,y:s.top},s),x=lQ(c.concat(u),f);Fd(l.fullSize,g,f,x),Fd(c,g,f,x),Fd(u,g,f,x)&&Fd(c,g,f,x),dQ(g),T5(l.leftAndTop,g,f,x),g.x+=g.w,g.y+=g.h,T5(l.rightAndBottom,g,f,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Nt(l.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class F_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class fQ extends F_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lp="$chartjs",mQ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},E5=t=>t===null||t==="";function pQ(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Lp]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",E5(s)){const i=d5(t,"width");i!==void 0&&(t.width=i)}if(E5(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=d5(t,"height");i!==void 0&&(t.height=i)}return t}const z_=dX?{passive:!0}:!1;function gQ(t,e,n){t&&t.addEventListener(e,n,z_)}function xQ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,z_)}function yQ(t,e){const n=mQ[t.type]||t.type,{x:r,y:s}=Jo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function xg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function bQ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||xg(l.addedNodes,r),a=a&&!xg(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function vQ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||xg(l.removedNodes,r),a=a&&!xg(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Mh=new Map;let M5=0;function V_(){const t=window.devicePixelRatio;t!==M5&&(M5=t,Mh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function wQ(t,e){Mh.size||window.addEventListener("resize",V_),Mh.set(t,e)}function NQ(t){Mh.delete(t),Mh.size||window.removeEventListener("resize",V_)}function SQ(t,e,n){const r=t.canvas,s=r&&EN(r);if(!s)return;const i=f_((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),wQ(t,i),a}function ev(t,e,n){n&&n.disconnect(),e==="resize"&&NQ(t)}function jQ(t,e,n){const r=t.canvas,s=f_(i=>{t.ctx!==null&&n(yQ(i,t))},t);return gQ(r,e,s),s}class CQ extends F_{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(pQ(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Lp])return!1;const r=n[Lp].initial;["height","width"].forEach(i=>{const a=r[i];ot(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Lp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:bQ,detach:vQ,resize:SQ}[n]||jQ;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:ev,detach:ev,resize:ev}[n]||xQ)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return uX(e,n,r,s)}isAttached(e){const n=e&&EN(e);return!!(n&&n.isConnected)}}function kQ(t){return!TN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?fQ:CQ}let ga=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return au(this.x)&&au(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}};function TQ(t,e){const n=t.options.ticks,r=EQ(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?AQ(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return PQ(e,u,i,a/s),u;const d=MQ(i,e,s);if(a>0){let f,p;const g=a>1?Math.round((c-l)/(a-1)):null;for(Wm(e,u,d,ot(g)?0:l-g,l),f=0,p=a-1;f<p;f++)Wm(e,u,d,i[f],i[f+1]);return Wm(e,u,d,c,ot(g)?e.length:c+g),u}return Wm(e,u,d),u}function EQ(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function MQ(t,e,n){const r=OQ(t),s=e.length/n;if(!r)return Math.max(s,1);const i=fY(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function AQ(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function PQ(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Wm(t,e,n,r,s){const i=tt(r,0),a=Math.min(tt(s,t.length),t.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),l++,d=Math.round(i+l*n))}function OQ(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const _Q=t=>t==="left"?"right":t==="right"?"left":t,A5=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,P5=(t,e)=>Math.min(e||t,t);function O5(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function DQ(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-l||c>a+l)))return c}function IQ(t,e){Nt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function jd(t){return t.drawTicks?t.tickLength:0}function _5(t,e){if(!t.display)return 0;const n=wn(t.font,e),r=nr(t.padding);return(zt(t.text)?t.text.length:1)*n.lineHeight+r.height}function LQ(t,e){return ko(t,{scale:e,type:"scale"})}function RQ(t,e,n){return ko(t,{tick:n,index:e,type:"tick"})}function FQ(t,e,n){let r=wN(t);return(n&&e!=="right"||!n&&e==="right")&&(r=_Q(r)),r}function zQ(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,p,g,x;const v=a-s,b=l-i;if(t.isHorizontal()){if(g=Xn(r,i,l),lt(n)){const w=Object.keys(n)[0],S=n[w];x=d[w].getPixelForValue(S)+v-e}else n==="center"?x=(u.bottom+u.top)/2+v-e:x=A5(t,n,e);p=l-i}else{if(lt(n)){const w=Object.keys(n)[0],S=n[w];g=d[w].getPixelForValue(S)-b+e}else n==="center"?g=(u.left+u.right)/2-b+e:g=A5(t,n,e);x=Xn(r,a,s),f=n==="left"?-an:an}return{titleX:g,titleY:x,maxWidth:p,rotation:f}}class Kl extends ga{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=$r(e,Number.POSITIVE_INFINITY),n=$r(n,Number.NEGATIVE_INFINITY),r=$r(r,Number.POSITIVE_INFINITY),s=$r(s,Number.NEGATIVE_INFINITY),{min:$r(e,r),max:$r(n,s),minDefined:Zt(e),maxDefined:Zt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:$r(n,$r(r,n)),max:$r(r,$r(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BY(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?O5(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=TQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tt(this.options.afterUpdate,[this])}beforeSetDimensions(){Tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Tt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=P5(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,g=En(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/r:g/(r-1),f+6>l&&(l=g/(r-(e.offset?.5:1)),c=this.maxHeight-jd(e.grid)-n.padding-_5(e.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),a=bN(Math.min(Math.asin(En((d.highest.height+6)/l,-1,1)),Math.asin(En(c/u,-1,1))-Math.asin(En(p/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=_5(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=jd(i)+c):(e.height=this.maxHeight,e.width=jd(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:p}=this._getLabelSizes(),g=r.padding*2,x=Ls(this.labelRotation),v=Math.cos(x),b=Math.sin(x);if(l){const w=r.mirror?0:b*f.width+v*p.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=r.mirror?0:v*f.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(u,d,b,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;c?u?(p=s*e.width,g=r*n.height):(p=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ot(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=O5(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/P5(n,r));let u=0,d=0,f,p,g,x,v,b,w,S,j,M,C;for(f=0;f<n;f+=c){if(x=e[f].label,v=this._resolveTickFontOptions(f),s.font=b=v.string,w=i[b]=i[b]||{data:{},gc:[]},S=v.lineHeight,j=M=0,!ot(x)&&!zt(x))j=pg(s,w.data,w.gc,j,x),M=S;else if(zt(x))for(p=0,g=x.length;p<g;++p)C=x[p],!ot(C)&&!zt(C)&&(j=pg(s,w.data,w.gc,j,C),M+=S);a.push(j),l.push(M),u=Math.max(j,u),d=Math.max(M,d)}IQ(i,n);const A=a.indexOf(u),P=l.indexOf(d),E=D=>({width:a[D]||0,height:l[D]||0});return{first:E(0),last:E(n-1),widest:E(A),highest:E(P),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xY(this._alignToPixels?Ko(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=RQ(this.getContext(),e,r))}return this.$context||(this.$context=LQ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ls(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=jd(i),g=[],x=l.setContext(this.getContext()),v=x.display?x.width:0,b=v/2,w=function(R){return Ko(r,R,v)};let S,j,M,C,A,P,E,D,L,_,z,G;if(a==="top")S=w(this.bottom),P=this.bottom-p,D=S-b,_=w(e.top)+b,G=e.bottom;else if(a==="bottom")S=w(this.top),_=e.top,G=w(e.bottom)-b,P=S+b,D=this.top+p;else if(a==="left")S=w(this.right),A=this.right-p,E=S-b,L=w(e.left)+b,z=e.right;else if(a==="right")S=w(this.left),L=e.left,z=w(e.right)-b,A=S+b,E=this.left+p;else if(n==="x"){if(a==="center")S=w((e.top+e.bottom)/2+.5);else if(lt(a)){const R=Object.keys(a)[0],$=a[R];S=w(this.chart.scales[R].getPixelForValue($))}_=e.top,G=e.bottom,P=S+b,D=P+p}else if(n==="y"){if(a==="center")S=w((e.left+e.right)/2);else if(lt(a)){const R=Object.keys(a)[0],$=a[R];S=w(this.chart.scales[R].getPixelForValue($))}A=S-b,E=A-p,L=e.left,z=e.right}const H=tt(s.ticks.maxTicksLimit,f),W=Math.max(1,Math.ceil(f/H));for(j=0;j<f;j+=W){const R=this.getContext(j),$=i.setContext(R),V=l.setContext(R),K=$.lineWidth,X=$.color,B=V.dash||[],J=V.dashOffset,ne=$.tickWidth,se=$.tickColor,fe=$.tickBorderDash||[],Te=$.tickBorderDashOffset;M=DQ(this,j,c),M!==void 0&&(C=Ko(r,M,K),u?A=E=L=z=C:P=D=_=G=C,g.push({tx1:A,ty1:P,tx2:E,ty2:D,x1:L,y1:_,x2:z,y2:G,width:K,color:X,borderDash:B,borderDashOffset:J,tickWidth:ne,tickColor:se,tickBorderDash:fe,tickBorderDashOffset:Te}))}return this._ticksLength=f,this._borderValue=S,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,p=jd(r.grid),g=p+d,x=f?-d:g,v=-Ls(this.labelRotation),b=[];let w,S,j,M,C,A,P,E,D,L,_,z,G="middle";if(s==="top")A=this.bottom-x,P=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+x,P=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(p);P=W.textAlign,C=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(p);P=W.textAlign,C=W.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+g;else if(lt(s)){const W=Object.keys(s)[0],R=s[W];A=this.chart.scales[W].getPixelForValue(R)+g}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")C=(e.left+e.right)/2-g;else if(lt(s)){const W=Object.keys(s)[0],R=s[W];C=this.chart.scales[W].getPixelForValue(R)}P=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?G="top":c==="end"&&(G="bottom"));const H=this._getLabelSizes();for(w=0,S=l.length;w<S;++w){j=l[w],M=j.label;const W=i.setContext(this.getContext(w));E=this.getPixelForTick(w)+i.labelOffset,D=this._resolveTickFontOptions(w),L=D.lineHeight,_=zt(M)?M.length:1;const R=_/2,$=W.color,V=W.textStrokeColor,K=W.textStrokeWidth;let X=P;a?(C=E,P==="inner"&&(w===S-1?X=this.options.reverse?"left":"right":w===0?X=this.options.reverse?"right":"left":X="center"),s==="top"?u==="near"||v!==0?z=-_*L+L/2:u==="center"?z=-H.highest.height/2-R*L+L:z=-H.highest.height+L/2:u==="near"||v!==0?z=L/2:u==="center"?z=H.highest.height/2-R*L:z=H.highest.height-_*L,f&&(z*=-1),v!==0&&!W.showLabelBackdrop&&(C+=L/2*Math.sin(v))):(A=E,z=(1-_)*L/2);let B;if(W.showLabelBackdrop){const J=nr(W.backdropPadding),ne=H.heights[w],se=H.widths[w];let fe=z-J.top,Te=0-J.left;switch(G){case"middle":fe-=ne/2;break;case"bottom":fe-=ne;break}switch(P){case"center":Te-=se/2;break;case"right":Te-=se;break;case"inner":w===S-1?Te-=se:w>0&&(Te-=se/2);break}B={left:Te,top:fe,width:se+J.width,height:ne+J.height,color:W.backdropColor}}b.push({label:M,font:D,textOffset:z,options:{rotation:v,color:$,strokeColor:V,strokeWidth:K,textAlign:X,textBaseline:G,translation:[C,A],backdrop:B}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ls(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,p;this.isHorizontal()?(u=Ko(e,this.left,a)-a/2,d=Ko(e,this.right,l)+l/2,f=p=c):(f=Ko(e,this.top,a)-a/2,p=Ko(e,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Q0(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;Il(r,u,0,d,c,l)}s&&J0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=wn(r.font),a=nr(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||lt(n)?(c+=a.bottom,zt(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:p}=zQ(this,c,n,l);Il(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:FQ(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=tt(e.grid&&e.grid.z,-1),s=tt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Kl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return wn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class qm{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;BQ(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,VQ(e,a,r),this.override&&Vt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Vt[s]&&(delete Vt[s][r],this.override&&delete Dl[r])}}function VQ(t,e,n){const r=Ch(Object.create(null),[n?Vt.get(n):{},Vt.get(e),t.defaults]);Vt.set(e,r),t.defaultRoutes&&$Q(e,t.defaultRoutes),t.descriptors&&Vt.describe(e,t.descriptors)}function $Q(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");Vt.route(i,s,c,l)})}function BQ(t){return"id"in t&&"defaults"in t}class HQ{constructor(){this.controllers=new qm(To,"datasets",!0),this.elements=new qm(ga,"elements"),this.plugins=new qm(Object,"plugins"),this.scales=new qm(Kl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Nt(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=yN(e);Tt(r["before"+s],[],r),n[e](r),Tt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var ei=new HQ;class UQ{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(Tt(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=tt(r.options&&r.options.plugins,{}),i=WQ(r);return s===!1&&!n?[]:KQ(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function WQ(t){const e={},n=[],r=Object.keys(ei.plugins.items);for(let i=0;i<r.length;i++)n.push(ei.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function qQ(t,e){return!e&&t===!1?null:t===!0?{}:t}function KQ(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=qQ(r[c],s);u!==null&&i.push({plugin:l,options:GQ(t.config,{plugin:l,local:n[c]},u,a)})}return i}function GQ(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function o2(t,e){const n=Vt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function YQ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function XQ(t,e){return t===e?"_index_":"_value_"}function D5(t){if(t==="x"||t==="y"||t==="r")return t}function QQ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function l2(t,...e){if(D5(t))return t;for(const n of e){const r=n.axis||QQ(n.position)||t.length>1&&D5(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function I5(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function JQ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return I5(t,"x",n[0])||I5(t,"y",n[0])}return{}}function ZQ(t,e){const n=Dl[t.type]||{scales:{}},r=e.scales||{},s=o2(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!lt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=l2(a,l,JQ(a,t),Vt.scales[l.type]),u=XQ(c,s),d=n.scales||{};i[a]=Yd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||o2(l,e),d=(Dl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const p=YQ(f,c),g=a[p+"AxisID"]||p;i[g]=i[g]||Object.create(null),Yd(i[g],[{axis:p},r[g],d[f]])})}),Object.keys(i).forEach(a=>{const l=i[a];Yd(l,[Vt.scales[l.type],Vt.scale])}),i}function $_(t){const e=t.options||(t.options={});e.plugins=tt(e.plugins,{}),e.scales=ZQ(t,e)}function B_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function eJ(t){return t=t||{},t.data=B_(t.data),$_(t),t}const L5=new Map,H_=new Set;function Km(t,e){let n=L5.get(t);return n||(n=e(),L5.set(t,n),H_.add(n)),n}const Cd=(t,e,n)=>{const r=yo(e,n);r!==void 0&&t.add(r)};class tJ{constructor(e){this._config=eJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=B_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Km(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Km(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Km(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Km(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(f=>Cd(c,e,f))),d.forEach(f=>Cd(c,s,f)),d.forEach(f=>Cd(c,Dl[i]||{},f)),d.forEach(f=>Cd(c,Vt,f)),d.forEach(f=>Cd(c,i2,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),H_.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Dl[n]||{},Vt.datasets[n]||{},{type:n},Vt,i2]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=R5(this._resolverCache,e,s);let c=a;if(rJ(a,n)){i.$shared=!1,r=bo(r)?r():r;const u=this.createResolver(e,r,l);c=ou(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=R5(this._resolverCache,e,r);return lt(n)?ou(i,n,void 0,s):i}}function R5(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:jN(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const nJ=t=>lt(t)&&Object.getOwnPropertyNames(t).some(e=>bo(t[e]));function rJ(t,e){const{isScriptable:n,isIndexable:r}=b_(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(bo(l)||nJ(l))||a&&zt(l))return!0}return!1}var sJ="4.5.1";const iJ=["top","bottom","left","right","chartArea"];function F5(t,e){return t==="top"||t==="bottom"||iJ.indexOf(t)===-1&&e==="x"}function z5(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function V5(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Tt(n&&n.onComplete,[t],e)}function aJ(t){const e=t.chart,n=e.options.animation;Tt(n&&n.onProgress,[t],e)}function U_(t){return TN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Rp={},$5=t=>{const e=U_(t);return Object.values(Rp).filter(n=>n.canvas===e).pop()};function oJ(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function lJ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let tx=class{static defaults=Vt;static instances=Rp;static overrides=Dl;static registry=ei;static version=sJ;static getChart=$5;static register(...e){ei.add(...e),B5()}static unregister(...e){ei.remove(...e),B5()}constructor(e,n){const r=this.config=new tJ(n),s=U_(e),i=$5(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||kQ(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=sY(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new UQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wY(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Rp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Vi.listen(this,"complete",V5),Vi.listen(this,"progress",aJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return ot(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ei}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():u5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return o5(this.canvas,this.ctx),this}stop(){return Vi.stop(this),this}resize(e,n){Vi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,u5(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Tt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=l2(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Nt(i,a=>{const l=a.options,c=l.id,u=l2(c,l),d=tt(l.type,a.dtype);(l.position===void 0||F5(l.position,u)!==F5(a.dposition))&&(l.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===d)f=r[c];else{const p=ei.getScale(d);f=new p({id:c,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,e)}),Nt(s,(a,l)=>{a||delete r[l]}),Nt(r,a=>{er.configure(this,a,a.options),er.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(z5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||o2(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=ei.getController(l),{datasetElementType:u,dataElementType:d}=Vt.datasets[l];Object.assign(c,{dataElementType:ei.getElement(d),datasetElementType:u&&ei.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),p=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Nt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(z5("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Nt(this.scales,e=>{er.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Jk(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;oJ(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Jk(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;er.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,bo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vi.has(this)?this.attached&&!Vi.running(this)&&Vi.start(this):(this.draw(),V5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=A_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Q0(n,s),e.controller.draw(),s&&J0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Xi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=iQ.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=ko(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);kh(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Vi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),o5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Rp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};Nt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!hg(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=uY(e),u=lJ(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Tt(i.onHover,[e,l,this],this),c&&Tt(i.onClick,[e,l,this],this));const d=!hg(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function B5(){return Nt(tx.instances,t=>t._plugins.invalidate())}function cJ(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/a,Jn(r-n));if(t.beginPath(),t.arc(s,i,a-u/2,r+f/2,n-f/2),l>0){const p=Math.min(u/l,Jn(r-n));t.arc(s,i,l+u/2,n-p/2,r+p/2,!0)}else{const p=Math.min(u/2,a*Jn(r-n));if(d==="round")t.arc(s,i,p,n-ht/2,r+ht/2,!0);else if(d==="bevel"){const g=2*p*p,x=-g*Math.cos(n+ht/2)+s,v=-g*Math.sin(n+ht/2)+i,b=g*Math.cos(r+ht/2)+s,w=g*Math.sin(r+ht/2)+i;t.lineTo(x,v),t.lineTo(b,w)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function uJ(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=s/l;t.beginPath(),t.arc(i,a,l,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+an,r-an),t.closePath(),t.clip()}function dJ(t){return SN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function hJ(t,e,n,r){const s=dJ(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return En(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:En(s.innerStart,0,a),innerEnd:En(s.innerEnd,0,a)}}function Ec(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function yg(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),p=d>0?d+r+n+u:0;let g=0;const x=s-c;if(r){const W=d>0?d-r:0,R=f>0?f-r:0,$=(W+R)/2,V=$!==0?x*$/($+r):x;g=(x-V)/2}const v=Math.max(.001,x*f-n/ht)/f,b=(x-v)/2,w=c+b+g,S=s-b-g,{outerStart:j,outerEnd:M,innerStart:C,innerEnd:A}=hJ(e,p,f,S-w),P=f-j,E=f-M,D=w+j/P,L=S-M/E,_=p+C,z=p+A,G=w+C/_,H=S-A/z;if(t.beginPath(),i){const W=(D+L)/2;if(t.arc(a,l,f,D,W),t.arc(a,l,f,W,L),M>0){const K=Ec(E,L,a,l);t.arc(K.x,K.y,M,L,S+an)}const R=Ec(z,S,a,l);if(t.lineTo(R.x,R.y),A>0){const K=Ec(z,H,a,l);t.arc(K.x,K.y,A,S+an,H+Math.PI)}const $=(S-A/p+(w+C/p))/2;if(t.arc(a,l,p,S-A/p,$,!0),t.arc(a,l,p,$,w+C/p,!0),C>0){const K=Ec(_,G,a,l);t.arc(K.x,K.y,C,G+Math.PI,w-an)}const V=Ec(P,w,a,l);if(t.lineTo(V.x,V.y),j>0){const K=Ec(P,D,a,l);t.arc(K.x,K.y,j,w-an,D)}}else{t.moveTo(a,l);const W=Math.cos(D)*f+a,R=Math.sin(D)*f+l;t.lineTo(W,R);const $=Math.cos(L)*f+a,V=Math.sin(L)*f+l;t.lineTo($,V)}t.closePath()}function fJ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){yg(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%It||It))}return yg(t,e,n,r,c,s),t.fill(),c}function mJ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:p,borderRadius:g}=c,x=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=p,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let v=e.endAngle;if(i){yg(t,e,n,r,v,s);for(let b=0;b<i;++b)t.stroke();isNaN(l)||(v=a+(l%It||It))}x&&uJ(t,e,v),c.selfJoin&&v-a>=ht&&g===0&&d!=="miter"&&cJ(t,e,v),i||(yg(t,e,n,r,v,s),t.stroke())}class pJ extends ga{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:i,distance:a}=c_(s,{x:e,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=tt(f,c-l),x=Th(i,l,c)&&l!==c,v=g>=It||x,b=Gi(a,u+p,d+p);return v&&b}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:i,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,d=(s+i)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>It?Math.floor(r/It):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(ht,r||0)),u=s*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,fJ(e,this,u,i,a),mJ(e,this,u,i,a),e.restore()}}function W_(t,e,n=e){t.lineCap=tt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(tt(n.borderDash,e.borderDash)),t.lineDashOffset=tt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=tt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=tt(n.borderWidth,e.borderWidth),t.strokeStyle=tt(n.borderColor,e.borderColor)}function gJ(t,e,n){t.lineTo(n.x,n.y)}function xJ(t){return t.stepped?_Y:t.tension||t.cubicInterpolationMode==="monotone"?DY:gJ}function q_(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(i,l),d=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:u<c&&!d?r+u-c:u-c}}function yJ(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:u}=q_(s,n,r),d=xJ(i);let{move:f=!0,reverse:p}=r||{},g,x,v;for(g=0;g<=u;++g)x=s[(l+(p?u-g:g))%a],!x.skip&&(f?(t.moveTo(x.x,x.y),f=!1):d(t,v,x,p,i.stepped),v=x);return c&&(x=s[(l+(p?u:0))%a],d(t,v,x,p,i.stepped)),!!c}function bJ(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=q_(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,f=0,p,g,x,v,b,w;const S=M=>(a+(u?l-M:M))%i,j=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,w))};for(c&&(g=s[S(0)],t.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=s[S(p)],g.skip)continue;const M=g.x,C=g.y,A=M|0;A===x?(C<v?v=C:C>b&&(b=C),d=(f*d+M)/++f):(j(),t.lineTo(M,C),x=A,f=0,v=b=C),w=C}j()}function c2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?bJ:yJ}function vJ(t){return t.stepped?hX:t.tension||t.cubicInterpolationMode==="monotone"?fX:Zo}function wJ(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),W_(t,e.options),t.stroke(s)}function NJ(t,e,n,r){const{segments:s,options:i}=e,a=c2(e);for(const l of s)W_(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const SJ=typeof Path2D=="function";function jJ(t,e,n,r){SJ&&!e.options.segment?wJ(t,e,n,r):NJ(t,e,n,r)}class nx extends ga{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;sX(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bX(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=M_(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=vJ(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:p}=a[u],g=i[f],x=i[p];if(g===x){l.push(g);continue}const v=Math.abs((s-g[n])/(x[n]-g[n])),b=c(g,x,v,r.stepped);b[n]=e[n],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,n,r){return c2(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=c2(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),jJ(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function H5(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class CJ extends ga{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return H5(this,e,"x",n)}inYRange(e,n){return H5(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Xi(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,a2(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function K_(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=a/2,l=Math.min(n,s),c=Math.max(n,s),u=r-f,d=r+f):(f=i/2,l=n-f,c=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function Za(t,e,n,r){return t?0:En(e,n,r)}function kJ(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=y_(r);return{t:Za(s.top,i.top,0,n),r:Za(s.right,i.right,0,e),b:Za(s.bottom,i.bottom,0,n),l:Za(s.left,i.left,0,e)}}function TJ(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=yl(s),a=Math.min(e,n),l=t.borderSkipped,c=r||lt(s);return{topLeft:Za(!c||l.top||l.left,i.topLeft,0,a),topRight:Za(!c||l.top||l.right,i.topRight,0,a),bottomLeft:Za(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:Za(!c||l.bottom||l.right,i.bottomRight,0,a)}}function EJ(t){const e=K_(t),n=e.right-e.left,r=e.bottom-e.top,s=kJ(t,n/2,r/2),i=TJ(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function tv(t,e,n,r){const s=e===null,i=n===null,l=t&&!(s&&i)&&K_(t,r);return l&&(s||Gi(e,l.left,l.right))&&(i||Gi(n,l.top,l.bottom))}function MJ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function AJ(t,e){t.rect(e.x,e.y,e.w,e.h)}function nv(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class PJ extends ga{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=EJ(this),l=MJ(a.radius)?Eh:AJ;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,nv(a,n,i)),e.clip(),l(e,nv(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,nv(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return tv(this,e,n,r)}inXRange(e,n){return tv(this,e,null,n)}inYRange(e,n){return tv(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var OJ=Object.freeze({__proto__:null,ArcElement:pJ,BarElement:PJ,LineElement:nx,PointElement:CJ});const u2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],U5=u2.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function G_(t){return u2[t%u2.length]}function Y_(t){return U5[t%U5.length]}function _J(t,e){return t.borderColor=G_(e),t.backgroundColor=Y_(e),++e}function DJ(t,e){return t.backgroundColor=t.data.map(()=>G_(e++)),e}function IJ(t,e){return t.backgroundColor=t.data.map(()=>Y_(e++)),e}function LJ(t){let e=0;return(n,r)=>{const s=t.getDatasetMeta(r).controller;s instanceof MN?e=DJ(n,e):s instanceof I_?e=IJ(n,e):s&&(e=_J(n,e))}}function W5(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function RJ(t){return t&&(t.borderColor||t.backgroundColor)}function FJ(){return Vt.borderColor!=="rgba(0,0,0,0.1)"||Vt.backgroundColor!=="rgba(0,0,0,0.1)"}var zJ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=t.config,{elements:i}=s,a=W5(r)||RJ(s)||i&&W5(i)||FJ();if(!n.forceOverride&&a)return;const l=LJ(t);r.forEach(l)}};function VJ(t,e,n,r,s){const i=s.samples||r;if(i>=n)return t.slice(e,e+n);const a=[],l=(n-2)/(i-2);let c=0;const u=e+n-1;let d=e,f,p,g,x,v;for(a[c++]=t[d],f=0;f<i-2;f++){let b=0,w=0,S;const j=Math.floor((f+1)*l)+1+e,M=Math.min(Math.floor((f+2)*l)+1,n)+e,C=M-j;for(S=j;S<M;S++)b+=t[S].x,w+=t[S].y;b/=C,w/=C;const A=Math.floor(f*l)+1+e,P=Math.min(Math.floor((f+1)*l)+1,n)+e,{x:E,y:D}=t[d];for(g=x=-1,S=A;S<P;S++)x=.5*Math.abs((E-b)*(t[S].y-D)-(E-t[S].x)*(w-D)),x>g&&(g=x,p=t[S],v=S);a[c++]=p,d=v}return a[c++]=t[u],a}function $J(t,e,n,r){let s=0,i=0,a,l,c,u,d,f,p,g,x,v;const b=[],w=e+n-1,S=t[e].x,M=t[w].x-S;for(a=e;a<e+n;++a){l=t[a],c=(l.x-S)/M*r,u=l.y;const C=c|0;if(C===d)u<x?(x=u,f=a):u>v&&(v=u,p=a),s=(i*s+l.x)/++i;else{const A=a-1;if(!ot(f)&&!ot(p)){const P=Math.min(f,p),E=Math.max(f,p);P!==g&&P!==A&&b.push({...t[P],x:s}),E!==g&&E!==A&&b.push({...t[E],x:s})}a>0&&A!==g&&b.push(t[A]),b.push(l),d=C,i=0,x=v=u,f=p=g=a}}return b}function X_(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function q5(t){t.data.datasets.forEach(e=>{X_(e)})}function BJ(t,e){const n=e.length;let r=0,s;const{iScale:i}=t,{min:a,max:l,minDefined:c,maxDefined:u}=i.getUserBounds();return c&&(r=En(Yi(e,i.axis,a).lo,0,n-1)),u?s=En(Yi(e,i.axis,l).hi+1,r,n)-r:s=n-r,{start:r,count:s}}var HJ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){q5(t);return}const r=t.width;t.data.datasets.forEach((s,i)=>{const{_data:a,indexAxis:l}=s,c=t.getDatasetMeta(i),u=a||s.data;if(Rd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:p}=BJ(c,u);const g=n.threshold||4*r;if(p<=g){X_(s);return}ot(a)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let x;switch(n.algorithm){case"lttb":x=VJ(u,f,p,r,n);break;case"min-max":x=$J(u,f,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(t){q5(t)}};function UJ(t,e,n){const r=t.segments,s=t.points,i=e.points,a=[];for(const l of r){let{start:c,end:u}=l;u=rx(c,u,s);const d=d2(n,s[c],s[u],l.loop);if(!e.segments){a.push({source:l,target:d,start:s[c],end:s[u]});continue}const f=M_(e,d);for(const p of f){const g=d2(n,i[p.start],i[p.end],p.loop),x=E_(l,s,g);for(const v of x)a.push({source:v,target:p,start:{[n]:K5(d,g,"start",Math.max)},end:{[n]:K5(d,g,"end",Math.min)}})}}return a}function d2(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=Jn(s),i=Jn(i)),{property:t,start:s,end:i}}function WJ(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:l})=>{l=rx(a,l,s);const c=s[a],u=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:u.y}))}),i}function rx(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function K5(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Q_(t,e){let n=[],r=!1;return zt(t)?(r=!0,n=t):n=WJ(t,e),n.length?new nx({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function G5(t){return t&&t.fill!==!1}function qJ(t,e,n){let s=t[e].fill;const i=[e];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Zt(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function KJ(t,e,n){const r=QJ(t);if(lt(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Zt(s)&&Math.floor(s)===s?GJ(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function GJ(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function YJ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:lt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function XJ(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:lt(t)?r=t.value:r=e.getBaseValue(),r}function QJ(t){const e=t.options,n=e.fill;let r=tt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function JJ(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,a=r.points,l=ZJ(e,n);l.push(Q_({x:null,y:e.bottom},r));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)eZ(s,a[d],l)}return new nx({points:s,options:{}})}function ZJ(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function eZ(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:l,point:c}=tZ(i,e,"x");if(!(!c||a&&l)){if(a)r.unshift(c);else if(t.push(c),!l)break}}t.push(...r)}function tZ(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,a=t.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],f=a[d.start][n],p=a[d.end][n];if(Gi(s,f,p)){l=s===f,c=s===p;break}}return{first:l,last:c,point:r}}class J_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:It},e.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function nZ(t){const{chart:e,fill:n,line:r}=t;if(Zt(n))return rZ(e,n);if(n==="stack")return JJ(t);if(n==="shape")return!0;const s=sZ(t);return s instanceof J_?s:Q_(s,r)}function rZ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function sZ(t){return(t.scale||{}).getPointPositionForValue?aZ(t):iZ(t)}function iZ(t){const{scale:e={},fill:n}=t,r=YJ(n,e);if(Zt(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function aZ(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,a=XJ(n,e,i),l=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,i);return new J_({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(e.getPointPositionForValue(c,a));return l}function rv(t,e,n){const r=nZ(e),{chart:s,index:i,line:a,scale:l,axis:c}=e,u=a.options,d=u.fill,f=u.backgroundColor,{above:p=f,below:g=f}=d||{},x=s.getDatasetMeta(i),v=A_(s,x);r&&a.points.length&&(Q0(t,n),oZ(t,{line:a,target:r,above:p,below:g,area:n,scale:l,axis:c,clip:v}),J0(t))}function oZ(t,e){const{line:n,target:r,above:s,below:i,area:a,scale:l,clip:c}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?(Y5(t,r,a.top),sv(t,{line:n,target:r,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),Y5(t,r,a.bottom)):u==="y"&&(X5(t,r,a.left),sv(t,{line:n,target:r,color:i,scale:l,property:u,clip:c}),t.restore(),t.save(),X5(t,r,a.right),d=s)),sv(t,{line:n,target:r,color:d,scale:l,property:u,clip:c}),t.restore()}function Y5(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[rx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function X5(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[rx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function sv(t,e){const{line:n,target:r,property:s,color:i,scale:a,clip:l}=e,c=UJ(n,r,s);for(const{source:u,target:d,start:f,end:p}of c){const{style:{backgroundColor:g=i}={}}=u,x=r!==!0;t.save(),t.fillStyle=g,lZ(t,a,l,x&&d2(s,f,p)),t.beginPath();const v=!!n.pathSegment(t,u);let b;if(x){v?t.closePath():Q5(t,r,p,s);const w=!!r.pathSegment(t,d,{move:v,reverse:!0});b=v&&w,b||Q5(t,r,f,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function lZ(t,e,n,r){const s=e.chart.chartArea,{property:i,start:a,end:l}=r||{};if(i==="x"||i==="y"){let c,u,d,f;i==="x"?(c=a,u=s.top,d=l,f=s.bottom):(c=s.left,u=a,d=s.right,f=l),t.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function Q5(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var cZ={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,a,l,c;for(a=0;a<r;++a)i=t.getDatasetMeta(a),l=i.dataset,c=null,l&&l.options&&l instanceof nx&&(c={visible:t.isDatasetVisible(a),index:a,fill:KJ(l,a,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(a=0;a<r;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=qJ(s,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&rv(t.ctx,l,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;G5(i)&&rv(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!G5(r)||n.drawTime!=="beforeDatasetDraw"||rv(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const J5=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},uZ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Z5 extends ga{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Tt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=wn(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=J5(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let f=e;i.textAlign="left",i.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((x,v)=>{const b=r+n/2+i.measureText(x.text).width;(v===0||u[u.length-1]+b+2*l>a)&&(f+=d,u[u.length-(v>0?0:1)]=0,g+=d,p++),c[v]={left:0,top:g,row:p,width:b,height:s},u[u.length-1]+=b+l}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=l,p=0,g=0,x=0,v=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:S,itemHeight:j}=dZ(r,n,i,b,s);w>0&&g+j+2*l>d&&(f+=p+l,u.push({width:p,height:g}),x+=p+l,v++,p=g=0),c[w]={left:x,top:g,col:v,width:S,height:j},p=Math.max(p,S),g+=j+l}),f+=p,u.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=Xc(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Xn(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Xn(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Xn(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Xn(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Q0(e,this),this._draw(),J0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=Vt.color,c=Xc(e.rtl,this.left,this.width),u=wn(a.font),{padding:d}=a,f=u.size,p=f/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:x,boxHeight:v,itemHeight:b}=J5(a,f),w=function(A,P,E){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;s.save();const D=tt(E.lineWidth,1);if(s.fillStyle=tt(E.fillStyle,l),s.lineCap=tt(E.lineCap,"butt"),s.lineDashOffset=tt(E.lineDashOffset,0),s.lineJoin=tt(E.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=tt(E.strokeStyle,l),s.setLineDash(tt(E.lineDash,[])),a.usePointStyle){const L={radius:v*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:D},_=c.xPlus(A,x/2),z=P+p;x_(s,L,_,z,a.pointStyleWidth&&x)}else{const L=P+Math.max((f-v)/2,0),_=c.leftForLtr(A,x),z=yl(E.borderRadius);s.beginPath(),Object.values(z).some(G=>G!==0)?Eh(s,{x:_,y:L,w:x,h:v,radius:z}):s.rect(_,L,x,v),s.fill(),D!==0&&s.stroke()}s.restore()},S=function(A,P,E){Il(s,E.text,A,P+b/2,u,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},j=this.isHorizontal(),M=this._computeTitleHeight();j?g={x:Xn(i,this.left+d,this.right-r[0]),y:this.top+d+M,line:0}:g={x:this.left+d,y:Xn(i,this.top+M+d,this.bottom-n[0].height),line:0},C_(this.ctx,e.textDirection);const C=b+d;this.legendItems.forEach((A,P)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const E=s.measureText(A.text).width,D=c.textAlign(A.textAlign||(A.textAlign=a.textAlign)),L=x+p+E;let _=g.x,z=g.y;c.setWidth(this.width),j?P>0&&_+L+d>this.right&&(z=g.y+=C,g.line++,_=g.x=Xn(i,this.left+d,this.right-r[g.line])):P>0&&z+C>this.bottom&&(_=g.x=_+n[g.line].width+d,g.line++,z=g.y=Xn(i,this.top+M+d,this.bottom-n[g.line].height));const G=c.x(_);if(w(G,z,A),_=NY(D,_+x+p,j?_+L:this.right,e.rtl),S(c.x(_),z,A),j)g.x+=L+d;else if(typeof A.text!="string"){const H=u.lineHeight;g.y+=Z_(A,H)+d}else g.y+=C}),k_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=wn(n.font),s=nr(n.padding);if(!n.display)return;const i=Xc(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,f=Xn(e.align,f,this.right-p);else{const x=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=u+Xn(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=Xn(l,f,f+p);a.textAlign=i.textAlign(wN(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Il(a,n.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,n=wn(e.font),r=nr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Gi(e,this.left,this.right)&&Gi(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Gi(e,s.left,s.left+s.width)&&Gi(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!mZ(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=uZ(s,r);s&&!i&&Tt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Tt(n.onHover,[e,r,this],this)}else r&&Tt(n.onClick,[e,r,this],this)}}function dZ(t,e,n,r,s){const i=hZ(r,t,e,n),a=fZ(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function hZ(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function fZ(t,e,n){let r=t;return typeof e.text!="string"&&(r=Z_(e,n)),r}function Z_(t,e){const n=t.text?t.text.length:0;return e*n}function mZ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var pZ={id:"legend",_element:Z5,start(t,e,n){const r=t.legend=new Z5({ctx:t.ctx,options:n,chart:t});er.configure(t,r,n),er.addBox(t,r)},stop(t){er.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;er.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=nr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class PN extends ga{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=zt(r.text)?r.text.length:1;this._padding=nr(r.padding);const i=s*wn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,d,f;return this.isHorizontal()?(d=Xn(l,r,i),f=n+e,u=i-r):(a.position==="left"?(d=r+e,f=Xn(l,s,n),c=ht*-.5):(d=i-e,f=Xn(l,n,s),c=ht*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=wn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);Il(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:wN(n.align),textBaseline:"middle",translation:[a,l]})}}function gZ(t,e){const n=new PN({ctx:t.ctx,options:e,chart:t});er.configure(t,n,e),er.addBox(t,n),t.titleBlock=n}var xZ={id:"title",_element:PN,start(t,e,n){gZ(t,n)},stop(t){const e=t.titleBlock;er.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;er.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gm=new WeakMap;var yZ={id:"subtitle",start(t,e,n){const r=new PN({ctx:t.ctx,options:n,chart:t});er.configure(t,r,n),er.addBox(t,r),Gm.set(t,r)},stop(t){er.removeBox(t,Gm.get(t)),Gm.delete(t)},beforeUpdate(t,e,n){const r=Gm.get(t);er.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zd={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=s2(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Qs(t,e){return e&&(zt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $i(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function bZ(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function eT(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=wn(e.bodyFont),u=wn(e.titleFont),d=wn(e.footerFont),f=i.length,p=s.length,g=r.length,x=nr(e.padding);let v=x.height,b=0,w=r.reduce((M,C)=>M+C.before.length+C.lines.length+C.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),w){const M=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=g*M+(w-g)*c.lineHeight+(w-1)*e.bodySpacing}p&&(v+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let S=0;const j=function(M){b=Math.max(b,n.measureText(M).width+S)};return n.save(),n.font=u.string,Nt(t.title,j),n.font=c.string,Nt(t.beforeBody.concat(t.afterBody),j),S=e.displayColors?a+2+e.boxPadding:0,Nt(r,M=>{Nt(M.before,j),Nt(M.lines,j),Nt(M.after,j)}),S=0,n.font=d.string,Nt(t.footer,j),n.restore(),b+=x.width,{width:b,height:v}}function vZ(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function wZ(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function NZ(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),wZ(u,t,e,n)&&(u="center"),u}function tT(t,e,n){const r=n.yAlign||e.yAlign||vZ(t,n);return{xAlign:n.xAlign||e.xAlign||NZ(t,e,n,r),yAlign:r}}function SZ(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function jZ(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function nT(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=yl(a);let x=SZ(e,l);const v=jZ(e,c,u);return c==="center"?l==="left"?x+=u:l==="right"&&(x-=u):l==="left"?x-=Math.max(d,p)+s:l==="right"&&(x+=Math.max(f,g)+s),{x:En(x,0,r.width-e.width),y:En(v,0,r.height-e.height)}}function Ym(t,e,n){const r=nr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function rT(t){return Qs([],$i(t))}function CZ(t,e,n){return ko(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function sT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const eD={beforeTitle:Di,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Di,beforeBody:Di,beforeLabel:Di,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ot(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Di,afterBody:Di,beforeFooter:Di,footer:Di,afterFooter:Di};function jr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?eD[e].call(n,r):s}class iT extends ga{static positioners=zd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new P_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=CZ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=jr(r,"beforeTitle",this,e),i=jr(r,"title",this,e),a=jr(r,"afterTitle",this,e);let l=[];return l=Qs(l,$i(s)),l=Qs(l,$i(i)),l=Qs(l,$i(a)),l}getBeforeBody(e,n){return rT(jr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Nt(e,i=>{const a={before:[],lines:[],after:[]},l=sT(r,i);Qs(a.before,$i(jr(l,"beforeLabel",this,i))),Qs(a.lines,jr(l,"label",this,i)),Qs(a.after,$i(jr(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return rT(jr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=jr(r,"beforeFooter",this,e),i=jr(r,"footer",this,e),a=jr(r,"afterFooter",this,e);let l=[];return l=Qs(l,$i(s)),l=Qs(l,$i(i)),l=Qs(l,$i(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(bZ(this.chart,n[c]));return e.filter&&(l=l.filter((d,f,p)=>e.filter(d,f,p,r))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,r))),Nt(l,d=>{const f=sT(e.callbacks,d);s.push(jr(f,"labelColor",this,d)),i.push(jr(f,"labelPointStyle",this,d)),a.push(jr(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=zd[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=eT(this,r),u=Object.assign({},l,c),d=tT(this.chart,r,u),f=nT(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=yl(l),{x:p,y:g}=e,{width:x,height:v}=n;let b,w,S,j,M,C;return i==="center"?(M=g+v/2,s==="left"?(b=p,w=b-a,j=M+a,C=M-a):(b=p+x,w=b+a,j=M-a,C=M+a),S=b):(s==="left"?w=p+Math.max(c,d)+a:s==="right"?w=p+x-Math.max(u,f)-a:w=this.caretX,i==="top"?(j=g,M=j-a,b=w-a,S=w+a):(j=g+v,M=j+a,b=w+a,S=w-a),C=j),{x1:b,x2:w,x3:S,y1:j,y2:M,y3:C}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=Xc(r.rtl,this.x,this.width);for(e.x=Ym(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=wn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=wn(i.bodyFont),f=Ym(this,"left",i),p=s.x(f),g=c<d.lineHeight?(d.lineHeight-c)/2:0,x=n.y+g;if(i.usePointStyle){const v={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=s.leftForLtr(p,u)+u/2,w=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,a2(e,v,b,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,a2(e,v,b,w)}else{e.lineWidth=lt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(p,u),b=s.leftForLtr(s.xPlus(p,1),u-2),w=yl(a.borderRadius);Object.values(w).some(S=>S!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Eh(e,{x:v,y:x,w:u,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Eh(e,{x:b,y:x+1,w:u-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,x,u,c),e.strokeRect(v,x,u,c),e.fillStyle=a.backgroundColor,e.fillRect(b,x+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,f=wn(r.bodyFont);let p=f.lineHeight,g=0;const x=Xc(r.rtl,this.x,this.width),v=function(E){n.fillText(E,x.x(e.x+g),e.y+p/2),e.y+=p+i},b=x.textAlign(a);let w,S,j,M,C,A,P;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=Ym(this,b,r),n.fillStyle=r.bodyColor,Nt(this.beforeBody,v),g=l&&b!=="right"?a==="center"?u/2+d:u+2+d:0,M=0,A=s.length;M<A;++M){for(w=s[M],S=this.labelTextColors[M],n.fillStyle=S,Nt(w.before,v),j=w.lines,l&&j.length&&(this._drawColorBox(n,e,M,x,r),p=Math.max(f.lineHeight,c)),C=0,P=j.length;C<P;++C)v(j[C]),p=f.lineHeight;Nt(w.after,v)}g=0,p=f.lineHeight,Nt(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=Xc(r.rtl,this.x,this.width);for(e.x=Ym(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=wn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:x}=yl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+u-p,c),n.quadraticCurveTo(l+u,c,l+u,c+p),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+u,c+d-x),n.quadraticCurveTo(l+u,c+d,l+u-x,c+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+g,c+d),n.quadraticCurveTo(l,c+d,l,c+d-g),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=zd[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=eT(this,e),c=Object.assign({},a,this._size),u=tT(n,e,c),d=nT(e,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=nr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),C_(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),k_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!hg(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!hg(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=zd[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}var kZ={id:"tooltip",_element:iT,positioners:zd,afterInit(t,e,n){n&&(t.tooltip=new iT({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},TZ=Object.freeze({__proto__:null,Colors:zJ,Decimation:HJ,Filler:cZ,Legend:pZ,SubTitle:yZ,Title:xZ,Tooltip:kZ});const EZ=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function MZ(t,e,n,r){const s=t.indexOf(e);if(s===-1)return EZ(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const AZ=(t,e)=>t===null?null:En(Math.round(t),0,e);function aT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class PZ extends Kl{static id="category";static defaults={ticks:{callback:aT}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ot(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:MZ(r,e,tt(n,e),this._addedLabels),AZ(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return aT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function OZ(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:p}=t,g=i||1,x=d-1,{min:v,max:b}=e,w=!ot(a),S=!ot(l),j=!ot(u),M=(b-v)/(f+1);let C=e5((b-v)/x/g)*g,A,P,E,D;if(C<1e-14&&!w&&!S)return[{value:v},{value:b}];D=Math.ceil(b/C)-Math.floor(v/C),D>x&&(C=e5(D*C/x/g)*g),ot(c)||(A=Math.pow(10,c),C=Math.ceil(C*A)/A),s==="ticks"?(P=Math.floor(v/C)*C,E=Math.ceil(b/C)*C):(P=v,E=b),w&&S&&i&&pY((l-a)/i,C/1e3)?(D=Math.round(Math.min((l-a)/C,d)),C=(l-a)/D,P=a,E=l):j?(P=w?a:P,E=S?l:E,D=u-1,C=(E-P)/D):(D=(E-P)/C,Xd(D,Math.round(D),C/1e3)?D=Math.round(D):D=Math.ceil(D));const L=Math.max(t5(C),t5(P));A=Math.pow(10,ot(c)?L:c),P=Math.round(P*A)/A,E=Math.round(E*A)/A;let _=0;for(w&&(p&&P!==a?(n.push({value:a}),P<a&&_++,Xd(Math.round((P+_*C)*A)/A,a,oT(a,M,t))&&_++):P<a&&_++);_<D;++_){const z=Math.round((P+_*C)*A)/A;if(S&&z>l)break;n.push({value:z})}return S&&p&&E!==l?n.length&&Xd(n[n.length-1].value,l,oT(l,M,t))?n[n.length-1].value=l:n.push({value:l}):(!S||E===l)&&n.push({value:E}),n}function oT(t,e,{horizontal:n,minRotation:r}){const s=Ls(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class bg extends Kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ot(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=hi(s),u=hi(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=OZ(s,i);return e.bounds==="ticks"&&l_(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return mf(e,this.chart.options.locale,this.options.ticks.format)}}class _Z extends bg{static id="linear";static defaults={ticks:{callback:X0.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?e:0,this.max=Zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ls(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ah=t=>Math.floor(Qa(t)),Yo=(t,e)=>Math.pow(10,Ah(t)+e);function lT(t){return t/Math.pow(10,Ah(t))===1}function cT(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function DZ(t,e){const n=e-t;let r=Ah(n);for(;cT(t,e,r)>10;)r++;for(;cT(t,e,r)<10;)r--;return Math.min(r,Ah(t))}function IZ(t,{min:e,max:n}){e=$r(t.min,e);const r=[],s=Ah(e);let i=DZ(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=s>i?Math.pow(10,s):0,u=Math.round((e-c)*a)/a,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,i)),p=$r(t.min,Math.round((c+d+f*Math.pow(10,i))*a)/a);for(;p<n;)r.push({value:p,major:lT(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,a=i>=0?1:a),p=Math.round((c+d+f*Math.pow(10,i))*a)/a;const g=$r(t.max,p);return r.push({value:g,major:lT(g),significand:f}),r}class LZ extends Kl{static id="logarithmic";static defaults={ticks:{callback:X0.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=bg.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Zt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?Math.max(0,e):null,this.max=Zt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zt(this._userMin)&&(this.min=e===Yo(this.min,0)?Yo(this.min,-1):Yo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=l=>r=e?r:l,a=l=>s=n?s:l;r===s&&(r<=0?(i(1),a(10)):(i(Yo(r,-1)),a(Yo(s,1)))),r<=0&&i(Yo(s,-1)),s<=0&&a(Yo(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=IZ(n,this);return e.bounds==="ticks"&&l_(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":mf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Qa(e),this._valueRange=Qa(this.max)-Qa(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qa(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function h2(t){const e=t.ticks;if(e.display&&t.display){const n=nr(e.backdropPadding);return tt(e.font&&e.font.size,Vt.font.size)+n.height}return 0}function RZ(t,e,n){return n=zt(n)?n:[n],{w:OY(t,e.string,n),h:n.length*e.lineHeight}}function uT(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function FZ(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,a=t.options.pointLabels,l=a.centerPointLabels?ht/i:0;for(let c=0;c<i;c++){const u=a.setContext(t.getPointLabelContext(c));s[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+s[c],l),f=wn(u.font),p=RZ(t.ctx,f,t._pointLabels[c]);r[c]=p;const g=Jn(t.getIndexAngle(c)+l),x=Math.round(bN(g)),v=uT(x,d.x,p.w,0,180),b=uT(x,d.y,p.h,90,270);zZ(n,e,g,v,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=BZ(t,r,s)}function zZ(t,e,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,c=0;r.start<e.l?(l=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-l)):r.end>e.r&&(l=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),s.start<e.t?(c=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function VZ(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:a,size:l}=n,c=t.getPointPosition(e,r+s+a,i),u=Math.round(bN(Jn(c.angle+an))),d=WZ(c.y,l.h,u),f=HZ(u),p=UZ(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:p,top:d,right:p+l.w,bottom:d+l.h}}function $Z(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(Xi({x:n,y:r},e)||Xi({x:n,y:i},e)||Xi({x:s,y:r},e)||Xi({x:s,y:i},e))}function BZ(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:a,display:l}=i.pointLabels,c={extra:h2(i)/2,additionalAngle:a?ht/s:0};let u;for(let d=0;d<s;d++){c.padding=n[d],c.size=e[d];const f=VZ(t,d,c);r.push(f),l==="auto"&&(f.visible=$Z(f,u),f.visible&&(u=f))}return r}function HZ(t){return t===0||t===180?"center":t<180?"left":"right"}function UZ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function WZ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function qZ(t,e,n){const{left:r,top:s,right:i,bottom:a}=n,{backdropColor:l}=e;if(!ot(l)){const c=yl(e.borderRadius),u=nr(e.backdropPadding);t.fillStyle=l;const d=r-u.left,f=s-u.top,p=i-r+u.width,g=a-s+u.height;Object.values(c).some(x=>x!==0)?(t.beginPath(),Eh(t,{x:d,y:f,w:p,h:g,radius:c}),t.fill()):t.fillRect(d,f,p,g)}}function KZ(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const a=r.setContext(t.getPointLabelContext(s));qZ(n,a,i);const l=wn(a.font),{x:c,y:u,textAlign:d}=i;Il(n,t._pointLabels[s],c,u+l.lineHeight/2,l,{color:a.color,textAlign:d,textBaseline:"middle"})}}function tD(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,It);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=t.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function GZ(t,e,n,r,s){const i=t.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!r||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),tD(t,n,a,r),i.closePath(),i.stroke(),i.restore())}function YZ(t,e,n){return ko(t,{label:n,index:e,type:"pointLabel"})}class XZ extends bg{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:X0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=nr(h2(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Zt(e)&&!isNaN(e)?e:0,this.max=Zt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/h2(this.options))}generateTickLabels(e){bg.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=Tt(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?FZ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=It/(this._pointLabels.length||1),r=this.options.startAngle||0;return Jn(e*n+Ls(r))}getDistanceFromCenterForValue(e){if(ot(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ot(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return YZ(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-an+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),tD(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,a=this._pointLabels.length;let l,c,u;if(n.pointLabels.display&&KZ(this,a),s.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(f),g=s.setContext(p),x=i.setContext(p);GZ(this,g,c,a,x)}}),r.display){for(e.save(),l=a-1;l>=0;l--){const d=r.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:p}=d;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(c)),d=wn(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=nr(u.backdropPadding);e.fillRect(-a/2-f.left,-i-d.size/2-f.top,a+f.width,d.size+f.height)}Il(e,l.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}const sx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ar=Object.keys(sx);function dT(t,e){return t-e}function hT(t,e){if(ot(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Zt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(au(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function fT(t,e,n,r){const s=Ar.length;for(let i=Ar.indexOf(t);i<s-1;++i){const a=sx[Ar[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return Ar[i]}return Ar[s-1]}function QZ(t,e,n,r,s){for(let i=Ar.length-1;i>=Ar.indexOf(n);i--){const a=Ar[i];if(sx[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Ar[n?Ar.indexOf(n):0]}function JZ(t){for(let e=Ar.indexOf(t)+1,n=Ar.length;e<n;++e)if(sx[Ar[e]].common)return Ar[e]}function mT(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=vN(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function ZZ(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function pT(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:ZZ(t,r,s,n)}class f2 extends Kl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new eQ._date(e.adapters.date);s.init(n),Yd(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:hT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Zt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Zt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=bY(s,i,a);return this._unit=n.unit||(r.autoSkip?fT(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):QZ(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:JZ(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),pT(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=En(n,0,a),r=En(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||fT(i.minUnit,n,r,this._getLabelCapacity(n)),l=tt(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=au(c)||c===!0,d={};let f=n,p,g;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<r;p=+e.add(p,l,a),g++)mT(d,p,x);return(p===r||s.bounds==="ticks"||g===1)&&mT(d,p,x),Object.keys(d).sort(dT).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Tt(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],p=r[n],g=u&&f&&p&&p.major;return this._adapter.format(e,s||(g?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Ls(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,pT(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(hT(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return d_(e.sort(dT))}}function Xm(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Yi(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Yi(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class eee extends f2{static id="timeseries";static defaults=f2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Xm(n,this.min),this._tableRange=Xm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Xm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Xm(this._table,r*this._tableRange+this._minPos,!0)}}var tee=Object.freeze({__proto__:null,CategoryScale:PZ,LinearScale:_Z,LogarithmicScale:LZ,RadialLinearScale:XZ,TimeScale:f2,TimeSeriesScale:eee});const nee=[ZX,OJ,TZ,tee],nD="label";function gT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ree(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function rD(t,e){t.labels=e}function sD(t,e,n=nD){const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function see(t,e=nD){const n={labels:[],datasets:[]};return rD(n,t.labels),sD(n,t.datasets,e),n}function iee(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...p}=t,g=T.useRef(null),x=T.useRef(null),v=()=>{g.current&&(x.current=new tx(g.current,{type:a,data:see(l,i),options:c&&{...c},plugins:u}),gT(e,x.current))},b=()=>{gT(e,null),x.current&&(x.current.destroy(),x.current=null)};return T.useEffect(()=>{!s&&x.current&&c&&ree(x.current,c)},[s,c]),T.useEffect(()=>{!s&&x.current&&rD(x.current.config.data,l.labels)},[s,l.labels]),T.useEffect(()=>{!s&&x.current&&l.datasets&&sD(x.current.config.data,l.datasets,i)},[s,l.datasets]),T.useEffect(()=>{x.current&&(s?(b(),setTimeout(v)):x.current.update(f))},[s,c,l.labels,l.datasets,f]),T.useEffect(()=>{x.current&&(b(),setTimeout(v))},[a]),T.useEffect(()=>(v(),()=>b()),[]),o.jsx("canvas",{ref:g,role:"img",height:n,width:r,...p,children:d})}const aee=T.forwardRef(iee);function oee(t,e){return tx.register(e),T.forwardRef((n,r)=>o.jsx(aee,{...n,ref:r,type:t}))}const lee=oee("line",D_);tx.register(...nee);function cee({dashboardStatistic:t,statisticFollow:e}){const n={all:"Tng doanh thu & s n hng",member:"Doanh thu & n hng - Khch thnh vin",guest:"Doanh thu & n hng - Khch vng lai"},r={labels:t.map(i=>i.period),datasets:[{label:"Doanh thu (VND)",data:t.map(i=>Number(e==="all"?i.totalRevenue:e==="member"?i.member.memberRevenue:i.guest.guestRevenue)),backgroundColor:"green",borderColor:"green",borderWidth:2,tension:.4,yAxisID:"y-doanhthu"},{label:"Tng n hng",data:t.map(i=>Number(e==="all"?i.totalOrders:e==="member"?i.member.memberOrders:i.guest.guestOrders)),backgroundColor:"orange",borderColor:"orange",borderWidth:2,tension:.4,yAxisID:"y-donhang"}]},s={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{font:{size:14},padding:20}},title:{display:!0,text:n[e],font:{size:18,weight:"bold"},padding:{bottom:20}},tooltip:{callbacks:{label:function(i){const a=i.dataset.label||"",l=i.parsed.y;return a.includes("Doanh thu")?`${a}: ${new Intl.NumberFormat("vi-VN").format(l)} `:`${a}: ${l} n`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},"y-doanhthu":{type:"linear",position:"left",beginAtZero:!0,title:{display:!0,text:"Doanh thu (VND)",font:{size:14}},ticks:{callback:function(i){return new Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"short"}).format(i)}}},"y-donhang":{type:"linear",position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1},title:{display:!0,text:"S n hng",font:{size:14}},ticks:{stepSize:1,font:{size:12}}}}};return o.jsx("div",{className:"w-full h-[50rem]",children:o.jsx(lee,{data:r,options:s})})}function uee(){const[t,e]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[n,r]=T.useState(t),[s,i]=T.useState("all"),{data:a,isLoading:l}=Fe({queryKey:["overview",n],queryFn:()=>DG(n)}),{data:c,isLoading:u}=Fe({queryKey:["dashboardStatistic",n],queryFn:()=>IG(n)}),d=g=>{const{name:x,value:v}=g.target;e(b=>({...b,[x]:v}))},f=()=>{r({...t})},p=g=>Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"long"}).format(g);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Tng quan"}),o.jsx("p",{className:"pt-2",children:"Shop bn qun o .NTK"}),o.jsxs("div",{className:"flex gap-4 text-[1.4rem] py-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupBy",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupBy",id:"groupBy",value:t.groupBy,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"px-6 h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>f(),children:[o.jsx(F,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>r({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:fN})})]})]})]}),l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:Array.from({length:4}).map((g,x)=>o.jsxs("div",{className:" shadow-md border border-gray-200 space-y-4 bg-gray-100 p-8 rounded-lg animate-pulse",children:[o.jsx("span",{className:"block w-[20rem] h-[1.5rem] rounded-full bg-gray-200"}),o.jsx("div",{className:"w-[4rem] h-[4rem] bg-gray-200 rounded-xl"}),o.jsx("span",{className:"block w-[15rem] h-[1.5rem] bg-gray-200 rounded-full"})]},x))}):a&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:[o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#7686ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng n hng"}),o.jsx("div",{className:"text-[3.2rem]",children:a.totalOrders}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#00d193] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Doanh thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalRevenue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#ff9a5b] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng cha thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalUnpaid)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#6c62ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Gi tr TB / n"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.avgOrderValue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]})]})]}),o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-bold",children:"Thng k doanh thu"}),o.jsxs("div",{className:"space-y-2 mt-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"all",name:"radio",className:"",checked:s==="all",style:{scale:"1.2"},onChange:()=>i("all")}),o.jsx("label",{htmlFor:"all",children:"Tt c"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"member",name:"radio",className:"",checked:s==="member",style:{scale:"1.2"},onChange:()=>i("member")}),o.jsx("label",{htmlFor:"member",children:"Khch thnh vin"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"guest",name:"radio",className:"",checked:s==="guest",style:{scale:"1.2"},onChange:()=>i("guest")}),o.jsx("label",{htmlFor:"guest",children:"Khch vng lai"})]})]}),u?o.jsx("div",{children:"ang ti d liu"}):o.jsx(cee,{dashboardStatistic:c,statisticFollow:s})]})]})}var pf=t=>t.type==="checkbox",cl=t=>t instanceof Date,Er=t=>t==null;const iD=t=>typeof t=="object";var mn=t=>!Er(t)&&!Array.isArray(t)&&iD(t)&&!cl(t),aD=t=>mn(t)&&t.target?pf(t.target)?t.target.checked:t.target.value:t,dee=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,oD=(t,e)=>t.has(dee(e)),hee=t=>{const e=t.constructor&&t.constructor.prototype;return mn(e)&&e.hasOwnProperty("isPrototypeOf")},ON=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(ON&&(t instanceof Blob||r))&&(n||mn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!hee(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=vn(t[s]));else return t;return e}var ix=t=>/^\w*$/.test(t),Xt=t=>t===void 0,_N=t=>Array.isArray(t)?t.filter(Boolean):[],DN=t=>_N(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(t,e,n)=>{if(!e||!mn(t))return n;const r=(ix(e)?[e]:DN(e)).reduce((s,i)=>Er(s)?s:s[i],t);return Xt(r)||r===t?Xt(t[e])?n:t[e]:r},Br=t=>typeof t=="boolean",wt=(t,e,n)=>{let r=-1;const s=ix(e)?[e]:DN(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=mn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const vg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lD=be.createContext(null);lD.displayName="HookFormContext";const IN=()=>be.useContext(lD);var cD=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Os.all&&(e._proxyFormState[a]=!r||Os.all),n&&(n[a]=!0),t[a]}});return s};const LN=typeof window<"u"?be.useLayoutEffect:be.useEffect;function fee(t){const e=IN(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=be.useState(n._formState),c=be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return LN(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),be.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),be.useMemo(()=>cD(a,n,c.current,!1),[a,n])}var Ur=t=>typeof t=="string",uD=(t,e,n,r,s)=>Ur(t)?(r&&e.watch.add(t),Me(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Me(n,i))):(r&&(e.watchAll=!0),n),m2=t=>Er(t)||!iD(t);function Ki(t,e,n=new WeakSet){if(m2(t)||m2(e))return t===e;if(cl(t)&&cl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(cl(a)&&cl(l)||mn(a)&&mn(l)||Array.isArray(a)&&Array.isArray(l)?!Ki(a,l,n):a!==l)return!1}}return!0}function mee(t){const e=IN(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=be.useRef(s),u=be.useRef(l),d=be.useRef(void 0);u.current=l;const f=be.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,g]=be.useState(u.current?u.current(f):f);return LN(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:x=>{if(!i){const v=uD(r,n._names,x.values||n._formValues,!1,c.current);if(u.current){const b=u.current(v);Ki(b,d.current)||(g(b),d.current=b)}else g(v)}}}),[n,i,r,a]),be.useEffect(()=>n._removeUnmounted()),p}function pee(t){const e=IN(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=oD(s._names.array,n),c=be.useMemo(()=>Me(s._formValues,n,Me(s._defaultValues,n,a)),[s,n,a]),u=mee({control:s,name:n,defaultValue:c,exact:!0}),d=fee({control:s,name:n,exact:!0}),f=be.useRef(t),p=be.useRef(void 0),g=be.useRef(s.register(n,{...t.rules,value:u,...Br(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const x=be.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Me(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Me(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Me(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Me(d.validatingFields,n)},error:{enumerable:!0,get:()=>Me(d.errors,n)}}),[d,n]),v=be.useCallback(j=>g.current.onChange({target:{value:aD(j),name:n},type:vg.CHANGE}),[n]),b=be.useCallback(()=>g.current.onBlur({target:{value:Me(s._formValues,n),name:n},type:vg.BLUR}),[n,s._formValues]),w=be.useCallback(j=>{const M=Me(s._fields,n);M&&j&&(M._f.ref={focus:()=>j.focus&&j.focus(),select:()=>j.select&&j.select(),setCustomValidity:C=>j.setCustomValidity(C),reportValidity:()=>j.reportValidity()})},[s._fields,n]),S=be.useMemo(()=>({name:n,value:u,...Br(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:b,ref:w}),[n,r,d.disabled,v,b,w,u]);return be.useEffect(()=>{const j=s._options.shouldUnregister||i,M=p.current;M&&M!==n&&!l&&s.unregister(M),s.register(n,{...f.current.rules,...Br(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(A,P)=>{const E=Me(s._fields,A);E&&E._f&&(E._f.mount=P)};if(C(n,!0),j){const A=vn(Me(s._options.defaultValues,n,f.current.defaultValue));wt(s._defaultValues,n,A),Xt(Me(s._formValues,n))&&wt(s._formValues,n,A)}return!l&&s.register(n),p.current=n,()=>{(l?j&&!s._state.action:j)?s.unregister(n):C(n,!1)}},[n,s,l,i]),be.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),be.useMemo(()=>({field:S,formState:d,fieldState:x}),[S,d,x])}const fi=t=>t.render(pee(t));var dD=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Zd=t=>Array.isArray(t)?t:[t],xT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function hD(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&mn(s)&&i){const a=hD(s,i);mn(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var kr=t=>mn(t)&&!Object.keys(t).length,RN=t=>t.type==="file",_s=t=>typeof t=="function",wg=t=>{if(!ON)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},fD=t=>t.type==="select-multiple",FN=t=>t.type==="radio",gee=t=>FN(t)||pf(t),iv=t=>wg(t)&&t.isConnected;function xee(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Xt(t)?r++:t[e[r++]];return t}function yee(t){for(const e in t)if(t.hasOwnProperty(e)&&!Xt(t[e]))return!1;return!0}function cn(t,e){const n=Array.isArray(e)?e:ix(e)?[e]:DN(e),r=n.length===1?t:xee(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(mn(r)&&kr(r)||Array.isArray(r)&&yee(r))&&cn(t,n.slice(0,-1)),t}var bee=t=>{for(const e in t)if(_s(t[e]))return!0;return!1};function mD(t){return Array.isArray(t)||mn(t)&&!bee(t)}function p2(t,e={}){for(const n in t)mD(t[n])?(e[n]=Array.isArray(t[n])?[]:{},p2(t[n],e[n])):Xt(t[n])||(e[n]=!0);return e}function Dc(t,e,n){n||(n=p2(e));for(const r in t)mD(t[r])?Xt(e)||m2(n[r])?n[r]=p2(t[r],Array.isArray(t[r])?[]:{}):Dc(t[r],Er(e)?{}:e[r],n[r]):n[r]=!Ki(t[r],e[r]);return n}const yT={value:!1,isValid:!1},bT={value:!0,isValid:!0};var pD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Xt(t[0].attributes.value)?Xt(t[0].value)||t[0].value===""?bT:{value:t[0].value,isValid:!0}:bT:yT}return yT},gD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Xt(t)?t:e?t===""?NaN:t&&+t:n&&Ur(t)?new Date(t):r?r(t):t;const vT={isValid:!1,value:null};var xD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,vT):vT;function wT(t){const e=t.ref;return RN(e)?e.files:FN(e)?xD(t.refs).value:fD(e)?[...e.selectedOptions].map(({value:n})=>n):pf(e)?pD(t.refs).value:gD(Xt(e.value)?t.ref.value:e.value,t)}var vee=(t,e,n,r)=>{const s={};for(const i of t){const a=Me(e,i);a&&wt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ng=t=>t instanceof RegExp,kd=t=>Xt(t)?t:Ng(t)?t.source:mn(t)?Ng(t.value)?t.value.source:t.value:t,NT=t=>({isOnSubmit:!t||t===Os.onSubmit,isOnBlur:t===Os.onBlur,isOnChange:t===Os.onChange,isOnAll:t===Os.all,isOnTouch:t===Os.onTouched});const ST="AsyncFunction";var wee=t=>!!t&&!!t.validate&&!!(_s(t.validate)&&t.validate.constructor.name===ST||mn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ST)),Nee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),jT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const eh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Me(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(eh(l,e))break}else if(mn(l)&&eh(l,e))break}}};function CT(t,e,n){const r=Me(t,n);if(r||ix(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Me(e,i),l=Me(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var See=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return kr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Os.all))},jee=(t,e,n)=>!t||!e||t===e||Zd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Cee=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,kee=(t,e)=>!_N(Me(t,e)).length&&cn(t,e),Tee=(t,e,n)=>{const r=Zd(Me(t,n));return wt(r,"root",e[n]),wt(t,n,r),t};function kT(t,e,n="validate"){if(Ur(t)||Array.isArray(t)&&t.every(Ur)||Br(t)&&!t)return{type:n,message:Ur(t)?t:"",ref:e}}var Mc=t=>mn(t)&&!Ng(t)?t:{value:t,message:""},TT=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:g,validate:x,name:v,valueAsNumber:b,mount:w}=t._f,S=Me(n,v);if(!w||e.has(v))return{};const j=l?l[0]:a,M=z=>{s&&j.reportValidity&&(j.setCustomValidity(Br(z)?"":z||""),j.reportValidity())},C={},A=FN(a),P=pf(a),E=A||P,D=(b||RN(a))&&Xt(a.value)&&Xt(S)||wg(a)&&a.value===""||S===""||Array.isArray(S)&&!S.length,L=dD.bind(null,v,r,C),_=(z,G,H,W=Ii.maxLength,R=Ii.minLength)=>{const $=z?G:H;C[v]={type:z?W:R,message:$,ref:a,...L(z?W:R,$)}};if(i?!Array.isArray(S)||!S.length:c&&(!E&&(D||Er(S))||Br(S)&&!S||P&&!pD(l).isValid||A&&!xD(l).isValid)){const{value:z,message:G}=Ur(c)?{value:!!c,message:c}:Mc(c);if(z&&(C[v]={type:Ii.required,message:G,ref:j,...L(Ii.required,G)},!r))return M(G),C}if(!D&&(!Er(f)||!Er(p))){let z,G;const H=Mc(p),W=Mc(f);if(!Er(S)&&!isNaN(S)){const R=a.valueAsNumber||S&&+S;Er(H.value)||(z=R>H.value),Er(W.value)||(G=R<W.value)}else{const R=a.valueAsDate||new Date(S),$=X=>new Date(new Date().toDateString()+" "+X),V=a.type=="time",K=a.type=="week";Ur(H.value)&&S&&(z=V?$(S)>$(H.value):K?S>H.value:R>new Date(H.value)),Ur(W.value)&&S&&(G=V?$(S)<$(W.value):K?S<W.value:R<new Date(W.value))}if((z||G)&&(_(!!z,H.message,W.message,Ii.max,Ii.min),!r))return M(C[v].message),C}if((u||d)&&!D&&(Ur(S)||i&&Array.isArray(S))){const z=Mc(u),G=Mc(d),H=!Er(z.value)&&S.length>+z.value,W=!Er(G.value)&&S.length<+G.value;if((H||W)&&(_(H,z.message,G.message),!r))return M(C[v].message),C}if(g&&!D&&Ur(S)){const{value:z,message:G}=Mc(g);if(Ng(z)&&!S.match(z)&&(C[v]={type:Ii.pattern,message:G,ref:a,...L(Ii.pattern,G)},!r))return M(G),C}if(x){if(_s(x)){const z=await x(S,n),G=kT(z,j);if(G&&(C[v]={...G,...L(Ii.validate,G.message)},!r))return M(G.message),C}else if(mn(x)){let z={};for(const G in x){if(!kr(z)&&!r)break;const H=kT(await x[G](S,n),j,G);H&&(z={...H,...L(G,H.message)},M(H.message),r&&(C[v]=z))}if(!kr(z)&&(C[v]={ref:j,...z},!r))return C}}return M(!0),C};const Eee={mode:Os.onSubmit,reValidateMode:Os.onChange,shouldFocusError:!0};function Mee(t={}){let e={...Eee,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:_s(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=mn(e.defaultValues)||mn(e.values)?vn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:vn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:xT(),state:xT()},g=e.criteriaMode===Os.all,x=q=>te=>{clearTimeout(u),u=setTimeout(q,te)},v=async q=>{if(!e.disabled&&(d.isValid||f.isValid||q)){const te=e.resolver?kr((await P()).errors):await D(r,!0);te!==n.isValid&&p.state.next({isValid:te})}},b=(q,te)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((q||Array.from(l.mount)).forEach(ce=>{ce&&(te?wt(n.validatingFields,ce,te):cn(n.validatingFields,ce))}),p.state.next({validatingFields:n.validatingFields,isValidating:!kr(n.validatingFields)}))},w=(q,te=[],ce,Ae,Ce=!0,je=!0)=>{if(Ae&&ce&&!e.disabled){if(a.action=!0,je&&Array.isArray(Me(r,q))){const ze=ce(Me(r,q),Ae.argA,Ae.argB);Ce&&wt(r,q,ze)}if(je&&Array.isArray(Me(n.errors,q))){const ze=ce(Me(n.errors,q),Ae.argA,Ae.argB);Ce&&wt(n.errors,q,ze),kee(n.errors,q)}if((d.touchedFields||f.touchedFields)&&je&&Array.isArray(Me(n.touchedFields,q))){const ze=ce(Me(n.touchedFields,q),Ae.argA,Ae.argB);Ce&&wt(n.touchedFields,q,ze)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Dc(s,i)),p.state.next({name:q,isDirty:_(q,te),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wt(i,q,te)},S=(q,te)=>{wt(n.errors,q,te),p.state.next({errors:n.errors})},j=q=>{n.errors=q,p.state.next({errors:n.errors,isValid:!1})},M=(q,te,ce,Ae)=>{const Ce=Me(r,q);if(Ce){const je=Me(i,q,Xt(ce)?Me(s,q):ce);Xt(je)||Ae&&Ae.defaultChecked||te?wt(i,q,te?je:wT(Ce._f)):H(q,je),a.mount&&v()}},C=(q,te,ce,Ae,Ce)=>{let je=!1,ze=!1;const ct={name:q};if(!e.disabled){if(!ce||Ae){(d.isDirty||f.isDirty)&&(ze=n.isDirty,n.isDirty=ct.isDirty=_(),je=ze!==ct.isDirty);const ft=Ki(Me(s,q),te);ze=!!Me(n.dirtyFields,q),ft?cn(n.dirtyFields,q):wt(n.dirtyFields,q,!0),ct.dirtyFields=n.dirtyFields,je=je||(d.dirtyFields||f.dirtyFields)&&ze!==!ft}if(ce){const ft=Me(n.touchedFields,q);ft||(wt(n.touchedFields,q,ce),ct.touchedFields=n.touchedFields,je=je||(d.touchedFields||f.touchedFields)&&ft!==ce)}je&&Ce&&p.state.next(ct)}return je?ct:{}},A=(q,te,ce,Ae)=>{const Ce=Me(n.errors,q),je=(d.isValid||f.isValid)&&Br(te)&&n.isValid!==te;if(e.delayError&&ce?(c=x(()=>S(q,ce)),c(e.delayError)):(clearTimeout(u),c=null,ce?wt(n.errors,q,ce):cn(n.errors,q)),(ce?!Ki(Ce,ce):Ce)||!kr(Ae)||je){const ze={...Ae,...je&&Br(te)?{isValid:te}:{},errors:n.errors,name:q};n={...n,...ze},p.state.next(ze)}},P=async q=>{b(q,!0);const te=await e.resolver(i,e.context,vee(q||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(q),te},E=async q=>{const{errors:te}=await P(q);if(q)for(const ce of q){const Ae=Me(te,ce);Ae?wt(n.errors,ce,Ae):cn(n.errors,ce)}else n.errors=te;return te},D=async(q,te,ce={valid:!0})=>{for(const Ae in q){const Ce=q[Ae];if(Ce){const{_f:je,...ze}=Ce;if(je){const ct=l.array.has(je.name),ft=Ce._f&&wee(Ce._f);ft&&d.validatingFields&&b([je.name],!0);const or=await TT(Ce,l.disabled,i,g,e.shouldUseNativeValidation&&!te,ct);if(ft&&d.validatingFields&&b([je.name]),or[je.name]&&(ce.valid=!1,te))break;!te&&(Me(or,je.name)?ct?Tee(n.errors,or,je.name):wt(n.errors,je.name,or[je.name]):cn(n.errors,je.name))}!kr(ze)&&await D(ze,te,ce)}}return ce.valid},L=()=>{for(const q of l.unMount){const te=Me(r,q);te&&(te._f.refs?te._f.refs.every(ce=>!iv(ce)):!iv(te._f.ref))&&le(q)}l.unMount=new Set},_=(q,te)=>!e.disabled&&(q&&te&&wt(i,q,te),!Ki(X(),s)),z=(q,te,ce)=>uD(q,l,{...a.mount?i:Xt(te)?s:Ur(q)?{[q]:te}:te},ce,te),G=q=>_N(Me(a.mount?i:s,q,e.shouldUnregister?Me(s,q,[]):[])),H=(q,te,ce={})=>{const Ae=Me(r,q);let Ce=te;if(Ae){const je=Ae._f;je&&(!je.disabled&&wt(i,q,gD(te,je)),Ce=wg(je.ref)&&Er(te)?"":te,fD(je.ref)?[...je.ref.options].forEach(ze=>ze.selected=Ce.includes(ze.value)):je.refs?pf(je.ref)?je.refs.forEach(ze=>{(!ze.defaultChecked||!ze.disabled)&&(Array.isArray(Ce)?ze.checked=!!Ce.find(ct=>ct===ze.value):ze.checked=Ce===ze.value||!!Ce)}):je.refs.forEach(ze=>ze.checked=ze.value===Ce):RN(je.ref)?je.ref.value="":(je.ref.value=Ce,je.ref.type||p.state.next({name:q,values:vn(i)})))}(ce.shouldDirty||ce.shouldTouch)&&C(q,Ce,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&K(q)},W=(q,te,ce)=>{for(const Ae in te){if(!te.hasOwnProperty(Ae))return;const Ce=te[Ae],je=q+"."+Ae,ze=Me(r,je);(l.array.has(q)||mn(Ce)||ze&&!ze._f)&&!cl(Ce)?W(je,Ce,ce):H(je,Ce,ce)}},R=(q,te,ce={})=>{const Ae=Me(r,q),Ce=l.array.has(q),je=vn(te);wt(i,q,je),Ce?(p.array.next({name:q,values:vn(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ce.shouldDirty&&p.state.next({name:q,dirtyFields:Dc(s,i),isDirty:_(q,je)})):Ae&&!Ae._f&&!Er(je)?W(q,je,ce):H(q,je,ce),jT(q,l)&&p.state.next({...n,name:q}),p.state.next({name:a.mount?q:void 0,values:vn(i)})},$=async q=>{a.mount=!0;const te=q.target;let ce=te.name,Ae=!0;const Ce=Me(r,ce),je=ft=>{Ae=Number.isNaN(ft)||cl(ft)&&isNaN(ft.getTime())||Ki(ft,Me(i,ce,ft))},ze=NT(e.mode),ct=NT(e.reValidateMode);if(Ce){let ft,or;const Us=te.type?wT(Ce._f):aD(q),xr=q.type===vg.BLUR||q.type===vg.FOCUS_OUT,Ix=!Nee(Ce._f)&&!e.resolver&&!Me(n.errors,ce)&&!Ce._f.deps||Cee(xr,Me(n.touchedFields,ce),n.isSubmitted,ct,ze),Ql=jT(ce,l,xr);wt(i,ce,Us),xr?(!te||!te.readOnly)&&(Ce._f.onBlur&&Ce._f.onBlur(q),c&&c(0)):Ce._f.onChange&&Ce._f.onChange(q);const Jl=C(ce,Us,xr),Lx=!kr(Jl)||Ql;if(!xr&&p.state.next({name:ce,type:q.type,values:vn(i)}),Ix)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?xr&&v():xr||v()),Lx&&p.state.next({name:ce,...Ql?{}:Jl});if(!xr&&Ql&&p.state.next({...n}),e.resolver){const{errors:Zl}=await P([ce]);if(je(Us),Ae){const Iu=CT(n.errors,r,ce),ec=CT(Zl,r,Iu.name||ce);ft=ec.error,ce=ec.name,or=kr(Zl)}}else b([ce],!0),ft=(await TT(Ce,l.disabled,i,g,e.shouldUseNativeValidation))[ce],b([ce]),je(Us),Ae&&(ft?or=!1:(d.isValid||f.isValid)&&(or=await D(r,!0)));Ae&&(Ce._f.deps&&(!Array.isArray(Ce._f.deps)||Ce._f.deps.length>0)&&K(Ce._f.deps),A(ce,or,ft,Jl))}},V=(q,te)=>{if(Me(n.errors,te)&&q.focus)return q.focus(),1},K=async(q,te={})=>{let ce,Ae;const Ce=Zd(q);if(e.resolver){const je=await E(Xt(q)?q:Ce);ce=kr(je),Ae=q?!Ce.some(ze=>Me(je,ze)):ce}else q?(Ae=(await Promise.all(Ce.map(async je=>{const ze=Me(r,je);return await D(ze&&ze._f?{[je]:ze}:ze)}))).every(Boolean),!(!Ae&&!n.isValid)&&v()):Ae=ce=await D(r);return p.state.next({...!Ur(q)||(d.isValid||f.isValid)&&ce!==n.isValid?{}:{name:q},...e.resolver||!q?{isValid:ce}:{},errors:n.errors}),te.shouldFocus&&!Ae&&eh(r,V,q?Ce:l.mount),Ae},X=(q,te)=>{let ce={...a.mount?i:s};return te&&(ce=hD(te.dirtyFields?n.dirtyFields:n.touchedFields,ce)),Xt(q)?ce:Ur(q)?Me(ce,q):q.map(Ae=>Me(ce,Ae))},B=(q,te)=>({invalid:!!Me((te||n).errors,q),isDirty:!!Me((te||n).dirtyFields,q),error:Me((te||n).errors,q),isValidating:!!Me(n.validatingFields,q),isTouched:!!Me((te||n).touchedFields,q)}),J=q=>{q&&Zd(q).forEach(te=>cn(n.errors,te)),p.state.next({errors:q?n.errors:{}})},ne=(q,te,ce)=>{const Ae=(Me(r,q,{_f:{}})._f||{}).ref,Ce=Me(n.errors,q)||{},{ref:je,message:ze,type:ct,...ft}=Ce;wt(n.errors,q,{...ft,...te,ref:Ae}),p.state.next({name:q,errors:n.errors,isValid:!1}),ce&&ce.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},se=(q,te)=>_s(q)?p.state.subscribe({next:ce=>"values"in ce&&q(z(void 0,te),ce)}):z(q,te,!0),fe=q=>p.state.subscribe({next:te=>{jee(q.name,te.name,q.exact)&&See(te,q.formState||d,Rt,q.reRenderRoot)&&q.callback({values:{...i},...n,...te,defaultValues:s})}}).unsubscribe,Te=q=>(a.mount=!0,f={...f,...q.formState},fe({...q,formState:f})),le=(q,te={})=>{for(const ce of q?Zd(q):l.mount)l.mount.delete(ce),l.array.delete(ce),te.keepValue||(cn(r,ce),cn(i,ce)),!te.keepError&&cn(n.errors,ce),!te.keepDirty&&cn(n.dirtyFields,ce),!te.keepTouched&&cn(n.touchedFields,ce),!te.keepIsValidating&&cn(n.validatingFields,ce),!e.shouldUnregister&&!te.keepDefaultValue&&cn(s,ce);p.state.next({values:vn(i)}),p.state.next({...n,...te.keepDirty?{isDirty:_()}:{}}),!te.keepIsValid&&v()},ee=({disabled:q,name:te})=>{(Br(q)&&a.mount||q||l.disabled.has(te))&&(q?l.disabled.add(te):l.disabled.delete(te))},ie=(q,te={})=>{let ce=Me(r,q);const Ae=Br(te.disabled)||Br(e.disabled);return wt(r,q,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:q}},name:q,mount:!0,...te}}),l.mount.add(q),ce?ee({disabled:Br(te.disabled)?te.disabled:e.disabled,name:q}):M(q,!0,te.value),{...Ae?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:kd(te.min),max:kd(te.max),minLength:kd(te.minLength),maxLength:kd(te.maxLength),pattern:kd(te.pattern)}:{},name:q,onChange:$,onBlur:$,ref:Ce=>{if(Ce){ie(q,te),ce=Me(r,q);const je=Xt(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,ze=gee(je),ct=ce._f.refs||[];if(ze?ct.find(ft=>ft===je):je===ce._f.ref)return;wt(r,q,{_f:{...ce._f,...ze?{refs:[...ct.filter(iv),je,...Array.isArray(Me(s,q))?[{}]:[]],ref:{type:je.type,name:q}}:{ref:je}}}),M(q,!1,void 0,je)}else ce=Me(r,q,{}),ce._f&&(ce._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(oD(l.array,q)&&a.action)&&l.unMount.add(q)}}},he=()=>e.shouldFocusError&&eh(r,V,l.mount),ke=q=>{Br(q)&&(p.state.next({disabled:q}),eh(r,(te,ce)=>{const Ae=Me(r,ce);Ae&&(te.disabled=Ae._f.disabled||q,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ce=>{Ce.disabled=Ae._f.disabled||q}))},0,!1))},Ne=(q,te)=>async ce=>{let Ae;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let Ce=vn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:je,values:ze}=await P();n.errors=je,Ce=vn(ze)}else await D(r);if(l.disabled.size)for(const je of l.disabled)cn(Ce,je);if(cn(n.errors,"root"),kr(n.errors)){p.state.next({errors:{}});try{await q(Ce,ce)}catch(je){Ae=je}}else te&&await te({...n.errors},ce),he(),setTimeout(he);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kr(n.errors)&&!Ae,submitCount:n.submitCount+1,errors:n.errors}),Ae)throw Ae},ve=(q,te={})=>{Me(r,q)&&(Xt(te.defaultValue)?R(q,vn(Me(s,q))):(R(q,te.defaultValue),wt(s,q,vn(te.defaultValue))),te.keepTouched||cn(n.touchedFields,q),te.keepDirty||(cn(n.dirtyFields,q),n.isDirty=te.defaultValue?_(q,vn(Me(s,q))):_()),te.keepError||(cn(n.errors,q),d.isValid&&v()),p.state.next({...n}))},Oe=(q,te={})=>{const ce=q?vn(q):s,Ae=vn(ce),Ce=kr(q),je=Ce?s:Ae;if(te.keepDefaultValues||(s=ce),!te.keepValues){if(te.keepDirtyValues){const ze=new Set([...l.mount,...Object.keys(Dc(s,i))]);for(const ct of Array.from(ze))Me(n.dirtyFields,ct)?wt(je,ct,Me(i,ct)):R(ct,Me(je,ct))}else{if(ON&&Xt(q))for(const ze of l.mount){const ct=Me(r,ze);if(ct&&ct._f){const ft=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(wg(ft)){const or=ft.closest("form");if(or){or.reset();break}}}}if(te.keepFieldsRef)for(const ze of l.mount)R(ze,Me(je,ze));else r={}}i=e.shouldUnregister?te.keepDefaultValues?vn(s):{}:vn(je),p.array.next({values:{...je}}),p.state.next({values:{...je}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:te.keepSubmitCount?n.submitCount:0,isDirty:Ce?!1:te.keepDirty?n.isDirty:!!(te.keepDefaultValues&&!Ki(q,s)),isSubmitted:te.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ce?{}:te.keepDirtyValues?te.keepDefaultValues&&i?Dc(s,i):n.dirtyFields:te.keepDefaultValues&&q?Dc(s,q):te.keepDirty?n.dirtyFields:{},touchedFields:te.keepTouched?n.touchedFields:{},errors:te.keepErrors?n.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ye=(q,te)=>Oe(_s(q)?q(i):q,te),gt=(q,te={})=>{const ce=Me(r,q),Ae=ce&&ce._f;if(Ae){const Ce=Ae.refs?Ae.refs[0]:Ae.ref;Ce.focus&&(Ce.focus(),te.shouldSelect&&_s(Ce.select)&&Ce.select())}},Rt=q=>{n={...n,...q}},xn={control:{register:ie,unregister:le,getFieldState:B,handleSubmit:Ne,setError:ne,_subscribe:fe,_runSchema:P,_focusError:he,_getWatch:z,_getDirty:_,_setValid:v,_setFieldArray:w,_setDisabledField:ee,_setErrors:j,_getFieldArray:G,_reset:Oe,_resetDefaultValues:()=>_s(e.defaultValues)&&e.defaultValues().then(q=>{Ye(q,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:ke,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(q){a=q},get _defaultValues(){return s},get _names(){return l},set _names(q){l=q},get _formState(){return n},get _options(){return e},set _options(q){e={...e,...q}}},subscribe:Te,trigger:K,register:ie,handleSubmit:Ne,watch:se,setValue:R,getValues:X,reset:Ye,resetField:ve,clearErrors:J,unregister:le,setError:ne,setFocus:gt,getFieldState:B};return{...xn,formControl:xn}}function Bs(t={}){const e=be.useRef(void 0),n=be.useRef(void 0),[r,s]=be.useState({isDirty:!1,isValidating:!1,isLoading:_s(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:_s(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!_s(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=Mee(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,LN(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),be.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),be.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),be.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),be.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),be.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),be.useEffect(()=>{t.values&&!Ki(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),be.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=cD(r,i),e.current}const zN=async({queryKey:t})=>{const[,e]=t,n=Object.fromEntries(Object.entries(e).filter(([s,i])=>i!==null&&i!==""));return await ge.get("/api/v1/product/get-product",{params:n})},Aee=async()=>(await ge.get("/api/v1/variant-size/get-size")).data,Pee=async()=>(await ge.get("/api/v1/variant-color/get-color")).data,Oee=async t=>await ge.get("/api/v1/product/get-popular",{params:t}),_ee=async t=>{const{limit:e,page:n}=t;return await ge.get("/api/v1/product/best-sell",{params:{limit:e,page:n}})},Dee=async t=>await ge.get(`/api/v1/product/detail/${t}`),Iee=async t=>await ge.get(`/api/v1/product/admin/detail/${t}`),yD=async({productId:t,rating:e,page:n,sort:r})=>await ge.get(`/api/v1/evaluate/get-evaluate/${t}`,{params:{rating:e,page:n,sort:r,limit:20}}),Lee=async(t,e)=>await ge.get("/api/v1/product/by-slugs",{params:{slugs:t.join("/"),...e}}),Ree=async t=>await ge.get("/api/v1/product/child-of-cate",{params:{currentSlug:t}}),Fee=async(t,e)=>{const n={};return!e&&t&&(n.session_id=t),await ge.get("/api/v1/search/recent",{params:n})},bD=async({query:t,userId:e})=>{const n=Object.fromEntries(Object.entries(t).filter(([s,i])=>!(e&&s==="session_id"||i===null||i==="")));return console.log(n),await ge.get("/api/v1/product",{params:n})};var av={exports:{}},ov={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function zee(){if(ET)return ov;ET=1;var t=bu();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(f,p){var g=p(),x=r({inst:{value:g,getSnapshot:p}}),v=x[0].inst,b=x[1];return i(function(){v.value=g,v.getSnapshot=p,c(v)&&b({inst:v})},[f,g,p]),s(function(){return c(v)&&b({inst:v}),f(function(){c(v)&&b({inst:v})})},[f]),a(g),g}function c(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return ov.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,ov}var MT;function vD(){return MT||(MT=1,av.exports=zee()),av.exports}var wD=vD();function Ln(t){this.content=t}Ln.prototype={constructor:Ln,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Ln(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ln(n)},addToStart:function(t,e){return new Ln([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ln(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Ln(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ln.from(t),t.size?new Ln(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ln.from(t),t.size?new Ln(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ln.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ln.from=function(t){if(t instanceof Ln)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ln(e)};function ND(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=ND(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function SD(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),l=e.child(--i),c=a.nodeSize;if(a==l){n-=c,r-=c;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let u=0,d=Math.min(a.text.length,l.text.length);for(;u<d&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let u=SD(a.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class de{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,l=0;l<n;a++){let c=this.content[a],u=l+c.nodeSize;if(u>e&&r(c,s+l,i||null,a)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,s+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new de(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),s+=l.nodeSize),a=c}return new de(r,s)}cutByIndex(e,n){return e==n?de.empty:e==0&&n==this.content.length?this:new de(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new de(s,i)}addToStart(e){return new de([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new de(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return ND(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return SD(this,e,n,r)}findIndex(e){if(e==0)return Qm(0,e);if(e==this.size)return Qm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?Qm(n+1,i):Qm(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return de.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return de.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new de(n||e,r)}static from(e){if(!e)return de.empty;if(e instanceof de)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new de([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const lv={index:0,offset:0};function Qm(t,e){return lv.index=t,lv.offset=e,lv}function Sg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Sg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Sg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let jt=class g2{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Sg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return g2.none;if(e instanceof g2)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};jt.none=[];class jg extends Error{}class Ee{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=CD(this.content,e+this.openStart,n);return r&&new Ee(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ee(jD(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ee.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ee(de.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Ee(e,r,s)}}Ee.empty=new Ee(de.empty,0,0);function jD(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(jD(i.content,e-s-1,n-s-1)))}function CD(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=CD(a.content,e-i-1,n,a);return l&&t.replaceChild(s,a.copy(l))}function Vee(t,e,n){if(n.openStart>t.depth)throw new jg("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new jg("Inconsistent open depths");return kD(t,e,n,0)}function kD(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=kD(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return wl(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=$ee(n,t);return wl(i,ED(t,a,l,e,r))}else return wl(i,Cg(t,e,r))}function TD(t,e){if(!e.type.compatibleContent(t.type))throw new jg("Cannot join "+e.type.name+" onto "+t.type.name)}function x2(t,e,n){let r=t.node(n);return TD(r,e.node(n)),r}function vl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function th(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(vl(t.nodeAfter,r),i++));for(let l=i;l<a;l++)vl(s.child(l),r);e&&e.depth==n&&e.textOffset&&vl(e.nodeBefore,r)}function wl(t,e){return t.type.checkContent(e),t.copy(e)}function ED(t,e,n,r,s){let i=t.depth>s&&x2(t,e,s+1),a=r.depth>s&&x2(n,r,s+1),l=[];return th(null,t,s,l),i&&a&&e.index(s)==n.index(s)?(TD(i,a),vl(wl(i,ED(t,e,n,r,s+1)),l)):(i&&vl(wl(i,Cg(t,e,s+1)),l),th(e,n,s,l),a&&vl(wl(a,Cg(n,r,s+1)),l)),th(r,null,s,l),new de(l)}function Cg(t,e,n){let r=[];if(th(null,t,n,r),t.depth>n){let s=x2(t,e,n+1);vl(wl(s,Cg(t,e,n+1)),r)}return th(e,null,n,r),new de(r)}function $ee(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(de.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Ph{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return jt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new kg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(i),u=i-c;if(r.push(a,l,s+c),!u||(a=a.child(l),a.isText))break;i=u-1,s+=c+1}return new Ph(n,r,i)}static resolveCached(e,n){let r=AT.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else AT.set(e,r=new Bee);let s=r.elts[r.i]=Ph.resolve(e,n);return r.i=(r.i+1)%Hee,s}}class Bee{constructor(){this.elts=[],this.i=0}}const Hee=12,AT=new WeakMap;class kg{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Uee=Object.create(null);let oo=class y2{constructor(e,n,r,s=jt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||de.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Sg(this.attrs,n||e.defaultAttrs||Uee)&&jt.sameSet(this.marks,r||jt.none)}copy(e=null){return e==this.content?this:new y2(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new y2(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ee.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),l=s.start(a),u=s.node(a).content.cut(s.pos-l,i.pos-l);return new Ee(u,s.depth-a,i.depth-a)}replace(e,n,r){return Vee(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Ph.resolveCached(this,e)}resolveNoCache(e){return Ph.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),MD(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=de.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=jt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=de.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};oo.prototype.text=void 0;class Tg extends oo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):MD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Tg(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Tg(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function MD(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ll{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Wee(e,n);if(r.next==null)return Ll.empty;let s=AD(r);r.next&&r.err("Unexpected trailing text");let i=Jee(Qee(s));return Zee(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,l){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return de.from(l.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:f}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let p=i(f,l.concat(d));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let l=s;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}Ll.empty=new Ll(!0);class Wee{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function AD(t){let e=[];do e.push(qee(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function qee(t){let e=[];do e.push(Kee(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Kee(t){let e=Xee(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Gee(t,e);else break;return e}function PT(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Gee(t,e){let n=PT(t),r=n;return t.eat(",")&&(t.next!="}"?r=PT(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Yee(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Xee(t){if(t.eat("(")){let e=AD(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Yee(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Qee(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,c){let u={term:c,to:l};return e[a].push(u),u}function s(a,l){a.forEach(c=>c.to=l)}function i(a,l){if(a.type=="choice")return a.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(a.type=="seq")for(let c=0;;c++){let u=i(a.exprs[c],l);if(c==a.exprs.length-1)return u;s(u,l=n())}else if(a.type=="star"){let c=n();return r(l,c),s(i(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return s(i(a.expr,l),c),s(i(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let c=l;for(let u=0;u<a.min;u++){let d=n();s(i(a.expr,c),d),c=d}if(a.max==-1)s(i(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let d=n();r(c,d),s(i(a.expr,c),d),c=d}return[r(c)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function PD(t,e){return e-t}function OT(t,e){let n=[];return r(e),n.sort(PD);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:l,to:c}=i[a];!l&&n.indexOf(c)==-1&&r(c)}}}function Jee(t){let e=Object.create(null);return n(OT(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<s.length;d++)s[d][0]==l&&(u=s[d][1]);OT(t,c).forEach(d=>{u||s.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[r.join(",")]=new Ll(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let l=s[a][1].sort(PD);i.next.push({type:s[a][0],next:e[l.join(",")]||n(l)})}return i}}function Zee(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];a.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function OD(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function _D(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function DD(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function ID(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new tte(t,r,e[r]);return n}let _T=class LD{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=ID(e,r.attrs),this.defaultAttrs=OD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ll.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_D(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new oo(this,this.computeAttrs(e),de.from(n),jt.setFrom(r))}createChecked(e=null,n,r){return n=de.from(n),this.checkContent(n),new oo(this,this.computeAttrs(e),n,jt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=de.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(de.empty,!0);return i?new oo(this,e,n.append(i),jt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){DD(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:jt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new LD(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ete(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class tte{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ete(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ax{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=ID(e,s.attrs),this.excluded=null;let i=OD(this.attrs);this.instance=i?new jt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new jt(this,_D(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new ax(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){DD(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let RD=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Ln.from(e.nodes),n.marks=Ln.from(e.marks||{}),this.nodes=_T.compile(this.spec.nodes,this),this.marks=ax.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=Ll.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?DT(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:DT(this,a.split(" "))}this.nodeFromJSON=s=>oo.fromJSON(this,s),this.markFromJSON=s=>jt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof _T){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Tg(r,r.defaultAttrs,e,jt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function DT(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function nte(t){return t.tag!=null}function rte(t){return t.style!=null}class lo{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(nte(s))this.tags.push(s);else if(rte(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new LT(this,n,!1);return r.addAll(e,jt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new LT(this,n,!0);return r.addAll(e,jt.none,n.from,n.to),Ee.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(ate(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=RT(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=RT(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new lo(e,lo.schemaRules(e)))}}const FD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ste={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zD={ol:!0,ul:!0},Oh=1,b2=2,nh=4;function IT(t,e,n){return e!=null?(e?Oh:0)|(e==="full"?b2:0):t&&t.whitespace=="pre"?Oh|b2:n&~nh}class Jm{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=jt.none,this.match=i||(a&nh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(de.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Oh)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=de.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!FD.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class LT{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=IT(null,n.preserveWhitespace,0)|(r?nh:0);s?i=new Jm(s.type,s.attrs,jt.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new Jm(null,null,jt.none,!0,null,a):i=new Jm(e.schema.topNodeType,null,jt.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&b2?"full":this.localPreserveWS||(s.options&Oh)>0,{schema:a}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(a.linebreakReplacement.create(),n,!0),l[c]&&this.insertNode(a.text(l[c]),n,!/\S/.test(l[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;zD.hasOwnProperty(a)&&this.parser.normalizeLists&&ite(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:ste.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(FD.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(i),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(i,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];a!=l;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],u=c.findWrapping(e);if(u&&(!s||s.length>u.length+l)&&(s=u,i=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=jt.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):FT(l.type,e.type))&&(a=l.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=IT(e,i,a.options);a.options&nh&&a.content.length==0&&(l|=nh);let c=jt.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):FT(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Jm(e,n,c,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Oh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(a(l-1,c))return!0;return!1}else{let d=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function ite(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&zD.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function ate(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function RT(t){let e={};for(let n in t)e[n]=t[n];return e}function FT(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||i.indexOf(d)<0&&a(d))return!0}};if(a(s.contentMatch))return!0}}class Gl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=cv(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let l=0,c=0;for(;l<i.length&&c<a.marks.length;){let u=a.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],d=this.serializeMark(u,a.isInline,n);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Fp(cv(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Fp(cv(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Fp(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Gl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=zT(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return zT(e.marks)}}function zT(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function cv(t){return t.document||window.document}const VT=new WeakMap;function ote(t){let e=VT.get(t);return e===void 0&&VT.set(t,e=lte(t)),e}function lte(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Fp(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=ote(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l,c=n?t.createElementNS(n,s):t.createElement(s),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let p=e[f];if(p===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:x}=Fp(t,p,n,r);if(c.appendChild(g),x){if(l)throw new RangeError("Multiple content holes");l=x}}}return{dom:c,contentDOM:l}}const VD=65535,$D=Math.pow(2,16);function cte(t,e){return t+e*$D}function $T(t){return t&VD}function ute(t){return(t-(t&VD))/$D}const BD=1,HD=2,zp=4,UD=8;class v2{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&UD)>0}get deletedBefore(){return(this.delInfo&(BD|zp))>0}get deletedAfter(){return(this.delInfo&(HD|zp))>0}get deletedAcross(){return(this.delInfo&zp)>0}}class Wr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Wr.empty)return Wr.empty}recover(e){let n=0,r=$T(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+ute(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[l+i],d=this.ranges[l+a],f=c+u;if(e<=f){let p=u?e==c?-1:e==f?1:n:n,g=c+s+(p<0?0:d);if(r)return g;let x=e==(n<0?c:f)?null:cte(l/3,e-c),v=e==c?HD:e==f?BD:zp;return(n<0?e!=c:e!=f)&&(v|=UD),new v2(g,v,x)}s+=d-u}return r?e+s:new v2(e+s,0,null)}touches(e,n){let r=0,s=$T(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+i],d=c+u;if(e<=d&&l==s*3)return!0;r+=this.ranges[l+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],l=a-(this.inverted?i:0),c=a+(this.inverted?0:i),u=this.ranges[s+n],d=this.ranges[s+r];e(l,l+u,c,c+d),i+=d-u}}invert(){return new Wr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Wr.empty:new Wr(e<0?[0,-e,0]:[0,0,e])}}Wr.empty=new Wr([]);class _h{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new _h(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new _h;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new v2(e,s,null)}}const uv=Object.create(null);class ar{getMap(){return Wr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=uv[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in uv)throw new RangeError("Duplicate use of step JSON ID "+e);return uv[e]=n,n.prototype.jsonID=e,n}}class fn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new fn(e,null)}static fail(e){return new fn(null,e)}static fromReplace(e,n,r,s){try{return fn.ok(e.replace(n,r,s))}catch(i){if(i instanceof jg)return fn.fail(i.message);throw i}}}function VN(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(VN(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return de.fromArray(r)}class eo extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Ee(VN(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return fn.fromReplace(e,this.from,this.to,i)}invert(){return new Rs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new eo(n.pos,r.pos,this.mark)}merge(e){return e instanceof eo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new eo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new eo(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("addMark",eo);class Rs extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ee(VN(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return fn.fromReplace(e,this.from,this.to,r)}invert(){return new eo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Rs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Rs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Rs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Rs(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("removeMark",Rs);class to extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return fn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return fn.fromReplace(e,this.pos,this.pos+1,new Ee(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new to(this.pos,n.marks[s]);return new to(this.pos,this.mark)}}return new Rl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new to(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new to(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("addNodeMark",to);class Rl extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return fn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return fn.fromReplace(e,this.pos,this.pos+1,new Ee(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new to(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Rl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Rl(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("removeNodeMark",Rl);class kn extends ar{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&w2(e,this.from,this.to)?fn.fail("Structure replace would overwrite content"):fn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Wr([this.from,this.to-this.from,this.slice.size])}invert(e){return new kn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new kn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof kn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new kn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ee.empty:new Ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new kn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new kn(n.from,n.to,Ee.fromJSON(e,n.slice),!!n.structure)}}ar.jsonID("replace",kn);class Pn extends ar{constructor(e,n,r,s,i,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=l}apply(e){if(this.structure&&(w2(e,this.from,this.gapFrom)||w2(e,this.gapTo,this.to)))return fn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return fn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?fn.fromReplace(e,this.from,this.to,r):fn.fail("Content does not fit in gap")}getMap(){return new Wr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Pn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Pn(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Pn(n.from,n.to,n.gapFrom,n.gapTo,Ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}ar.jsonID("replaceAround",Pn);function w2(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function dte(t,e,n,r){let s=[],i=[],a,l;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let p=Math.max(u,e),g=Math.min(u+c.nodeSize,n),x=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(x)||(a&&a.to==p&&a.mark.eq(f[v])?a.to=g:s.push(a=new Rs(p,g,f[v])));l&&l.to==p?l.to=g:i.push(l=new eo(p,g,r))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function hte(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;i++;let c=null;if(r instanceof ax){let u=a.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],p;for(let g=0;g<s.length;g++){let x=s[g];x.step==i-1&&f.eq(s[g].style)&&(p=x)}p?(p.to=u,p.step=i):s.push({style:f,from:Math.max(l,e),to:u,step:i})}}}),s.forEach(a=>t.step(new Rs(a.from,a.to,a.style)))}function $N(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),d=l+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new kn(l,d,Ee.empty));else{r=f;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||t.step(new Rs(l,d,u.marks[p]));if(s&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,x;for(;p=g.exec(u.text);)x||(x=new Ee(de.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new kn(l+p.index,l+p.index+p[0].length,x))}}l=d}if(!r.validEnd){let c=r.fillBefore(de.empty,!0);t.replace(l,l,new Ee(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function fte(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Eu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,i=0;;--r){let a=t.$from.node(r),l=t.$from.index(r)+s,c=t.$to.indexAfter(r)-i;if(r<t.depth&&a.canReplace(l,c,n))return r;if(r==0||a.type.spec.isolating||!fte(a,l,c))break;l&&(s=1),c<a.childCount&&(i=1)}return null}function mte(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),l=s.after(i+1),c=a,u=l,d=de.empty,f=0;for(let x=i,v=!1;x>n;x--)v||r.index(x)>0?(v=!0,d=de.from(r.node(x).copy(d)),f++):c--;let p=de.empty,g=0;for(let x=i,v=!1;x>n;x--)v||s.after(x+1)<s.end(x)?(v=!0,p=de.from(s.node(x).copy(p)),g++):u++;t.step(new Pn(c,u,a,l,new Ee(d.append(p),f,g),d.size-f,!0))}function BN(t,e,n=null,r=t){let s=pte(t,e),i=s&&gte(r,e);return i?s.map(BT).concat({type:e,attrs:n}).concat(i.map(BT)):null}function BT(t){return{type:t,attrs:null}}function pte(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function gte(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;c&&u<s;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:a}function xte(t,e,n){let r=de.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=de.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new Pn(s,i,s,i,new Ee(r,0,0),n.length,!0))}function yte(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,c)&&bte(t.doc,t.mapping.slice(i).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!x?u=!1:!g&&x&&(u=!0)}u===!1&&qD(t,a,l,i),$N(t,t.mapping.slice(i).map(l,1),r,void 0,u===null);let d=t.mapping.slice(i),f=d.map(l,1),p=d.map(l+a.nodeSize,1);return t.step(new Pn(f,p,f+1,p-1,new Ee(de.from(r.create(c,null,a.marks)),0,0),1,!0)),u===!0&&WD(t,a,l,i),!1}})}function WD(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(s.text);){let c=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function qD(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function bte(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function vte(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Pn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Ee(de.from(a),0,0),1,!0))}function ea(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=n-2;u>i;u--,d--){let f=s.node(u),p=s.index(u);if(f.type.spec.isolating)return!1;let g=f.content.cutByIndex(p,f.childCount),x=r&&r[d+1];x&&(g=g.replaceChild(0,x.type.create(x.attrs)));let v=r&&r[d]||f;if(!f.canReplace(p+1,f.childCount)||!v.type.validContent(g))return!1}let l=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function wte(t,e,n=1,r){let s=t.doc.resolve(e),i=de.empty,a=de.empty;for(let l=s.depth,c=s.depth-n,u=n-1;l>c;l--,u--){i=de.from(s.node(l).copy(i));let d=r&&r[u];a=de.from(d?d.type.create(d.attrs,a):s.node(l).copy(a))}t.step(new kn(e,e,new Ee(i.append(a),n,n),!0))}function Eo(t,e){let n=t.resolve(e),r=n.index();return KD(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Nte(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function KD(t,e){return!!(t&&e&&!t.isLeaf&&Nte(t,e))}function ox(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),l++,a=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),a=r.node(s+1)),i&&!i.isTextblock&&KD(i,a)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Ste(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(s);d&&!f?r=!1:!d&&f&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);qD(t,d.node(),d.before(),l)}a.inlineContent&&$N(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let c=t.mapping.slice(l),u=c.map(e-n);if(t.step(new kn(u,c.map(e+n,-1),Ee.empty,!0)),r===!0){let d=t.doc.resolve(u);WD(t,d.node(),d.before(),t.steps.length)}return t}function jte(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function GD(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(i==1)d=u.canReplace(c,c,s);else{let f=u.contentMatchAt(c).findWrapping(s.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function lx(t,e,n=e,r=Ee.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return YD(s,i,r)?new kn(e,n,r):new Cte(s,i,r).fit()}function YD(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Cte{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=de.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=de.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,l=s.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let c=new Ee(i,a,l);return e>-1?new Pn(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new kn(r.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=dv(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(de.from(a),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:f};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=dv(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Ee(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=dv(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new Ee(Vd(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Ee(Vd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,u=0,d=[],{match:f,type:p}=this.frontier[n];if(s){for(let v=0;v<s.childCount;v++)d.push(s.child(v));f=f.matchFragment(s)}let g=l.size+e-(a.content.size-a.openEnd);for(;u<l.childCount;){let v=l.child(u),b=f.matchType(v.type);if(!b)break;u++,(u>1||c==0||v.content.size)&&(f=b,d.push(XD(v.mark(p.allowedMarks(v.marks)),u==1?c:0,u==l.childCount?g:-1)))}let x=u==l.childCount;x||(g=-1),this.placed=$d(this.placed,n,de.from(d)),this.frontier[n].match=f,x&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=l;v<g;v++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=x?e==0?Ee.empty:new Ee(Vd(a.content,e-1,1),e-1,g<0?a.openEnd:e-1):new Ee(Vd(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!hv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=hv(e,n,s,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=hv(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=$d(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=$d(this.placed,this.depth,de.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(de.empty,!0);n.childCount&&(this.placed=$d(this.placed,this.frontier.length,n))}}function Vd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Vd(t.firstChild.content,e-1,n)))}function $d(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy($d(t.lastChild.content,e-1,n)))}function dv(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function XD(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,XD(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(de.empty,!0)))),t.copy(r)}function hv(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!kte(n,i.content,a)?l:null}function kte(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Tte(t){return t.spec.defining||t.spec.definingForContent}function Ete(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(YD(s,i,r))return t.step(new kn(e,n,r));let a=JD(s,i);a[a.length-1]==0&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let p=s.depth,g=s.pos-1;p>0;p--,g--){let x=s.node(p).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(p)>-1?l=p:s.before(p)==g&&a.splice(1,0,-p)}let c=a.indexOf(l),u=[],d=r.openStart;for(let p=r.content,g=0;;g++){let x=p.firstChild;if(u.push(x),g==r.openStart)break;p=x.content}for(let p=d-1;p>=0;p--){let g=u[p],x=Tte(g.type);if(x&&!g.sameMarkup(s.node(Math.abs(l)-1)))d=p;else if(x||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+d+1)%(r.openStart+1),x=u[g];if(x)for(let v=0;v<a.length;v++){let b=a[(v+c)%a.length],w=!0;b<0&&(w=!1,b=-b);let S=s.node(b-1),j=s.index(b-1);if(S.canReplaceWith(j,j,x.type,x.marks))return t.replace(s.before(b),w?i.after(b):n,new Ee(QD(r.content,0,r.openStart,g),g,r.openEnd))}}let f=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>f));p--){let g=a[p];g<0||(e=s.before(g),n=i.after(g))}}function QD(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(QD(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(de.empty,!0))}return t}function Mte(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=jte(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new Ee(de.from(r),0,0))}function Ate(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=JD(r,s);for(let a=0;a<i.length;a++){let l=i[a],c=a==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function JD(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class Qc extends ar{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return fn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return fn.fromReplace(e,this.pos,this.pos+1,new Ee(de.from(s),0,n.isLeaf?0:1))}getMap(){return Wr.empty}invert(e){return new Qc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Qc(n.pos,n.attr,n.value)}}ar.jsonID("attr",Qc);class Dh extends ar{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return fn.ok(r)}getMap(){return Wr.empty}invert(e){return new Dh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Dh(n.attr,n.value)}}ar.jsonID("docAttr",Dh);let cu=class extends Error{};cu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};cu.prototype=Object.create(Error.prototype);cu.prototype.constructor=cu;cu.prototype.name="TransformError";class HN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new _h}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new cu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ee.empty){let s=lx(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new Ee(de.from(r),0,0))}delete(e,n){return this.replace(e,n,Ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Ete(this,e,n,r),this}replaceRangeWith(e,n,r){return Mte(this,e,n,r),this}deleteRange(e,n){return Ate(this,e,n),this}lift(e,n){return mte(this,e,n),this}join(e,n=1){return Ste(this,e,n),this}wrap(e,n){return xte(this,e,n),this}setBlockType(e,n=e,r,s=null){return yte(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return vte(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Qc(e,n,r)),this}setDocAttribute(e,n){return this.step(new Dh(e,n)),this}addNodeMark(e,n){return this.step(new to(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof jt)n.isInSet(r.marks)&&this.step(new Rl(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new Rl(e,i)),s=i.removeFromSet(s);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return wte(this,e,n,r),this}addMark(e,n,r){return dte(this,e,n,r),this}removeMark(e,n,r){return hte(this,e,n,r),this}clearIncompatible(e,n,r){return $N(this,e,n,r),this}}const fv=Object.create(null);class Je{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new ZD(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ee.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),l?Ee.empty:n),l==0&&WT(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],c=e.mapping.slice(r),u=c.map(a.pos),d=c.map(l.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),WT(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new We(e):Ic(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?Ic(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Ic(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Gr(e.node(0))}static atStart(e){return Ic(e,e,0,0,1)||new Gr(e)}static atEnd(e){return Ic(e,e,e.content.size,e.childCount,-1)||new Gr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=fv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in fv)throw new RangeError("Duplicate use of selection JSON ID "+e);return fv[e]=n,n.prototype.jsonID=e,n}getBookmark(){return We.between(this.$anchor,this.$head).getBookmark()}}Je.prototype.visible=!0;class ZD{constructor(e,n){this.$from=e,this.$to=n}}let HT=!1;function UT(t){!HT&&!t.parent.inlineContent&&(HT=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class We extends Je{constructor(e,n=e){UT(e),UT(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Je.near(r);let s=e.resolve(n.map(this.anchor));return new We(s.parent.inlineContent?s:r,r)}replace(e,n=Ee.empty){if(super.replace(e,n),n==Ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof We&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new cx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new We(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Je.findFrom(n,r,!0)||Je.findFrom(n,-r,!0);if(i)n=i.$head;else return Je.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Je.findFrom(e,-r,!0)||Je.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new We(e,n)}}Je.jsonID("text",We);class cx{constructor(e,n){this.anchor=e,this.head=n}map(e){return new cx(e.map(this.anchor),e.map(this.head))}resolve(e){return We.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ue extends Je{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Je.near(i):new Ue(i)}content(){return new Ee(de.from(this.node),0,0)}eq(e){return e instanceof Ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new UN(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ue(e.resolve(n.anchor))}static create(e,n){return new Ue(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ue.prototype.visible=!1;Je.jsonID("node",Ue);class UN{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new cx(r,r):new UN(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ue.isSelectable(r)?new Ue(n):Je.near(n)}}class Gr extends Je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ee.empty){if(n==Ee.empty){e.delete(0,e.doc.content.size);let r=Je.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gr(e)}map(e){return new Gr(e)}eq(e){return e instanceof Gr}getBookmark(){return Pte}}Je.jsonID("all",Gr);const Pte={map(){return this},resolve(t){return new Gr(t)}};function Ic(t,e,n,r,s,i=!1){if(e.inlineContent)return We.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let l=e.child(a);if(l.isAtom){if(!i&&Ue.isSelectable(l))return Ue.create(t,n-(s<0?l.nodeSize:0))}else{let c=Ic(t,l,n+s,s<0?l.childCount:0,s,i);if(c)return c}n+=l.nodeSize*s}return null}function WT(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof kn||s instanceof Pn))return;let i=t.mapping.maps[r],a;i.forEach((l,c,u,d)=>{a==null&&(a=d)}),t.setSelection(Je.near(t.doc.resolve(a),n))}const qT=1,Zm=2,KT=4;class Ote extends HN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|qT)&~Zm,this.storedMarks=null,this}get selectionSet(){return(this.updated&qT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Zm,this}ensureMarks(e){return jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Zm)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Zm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||jt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Je.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=KT,this}get scrolledIntoView(){return(this.updated&KT)>0}}function GT(t,e){return!e||!t?t:t.bind(e)}class Bd{constructor(e,n,r){this.name=e,this.init=GT(n.init,r),this.apply=GT(n.apply,r)}}const _te=[new Bd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Bd("selection",{init(t,e){return t.selection||Je.atStart(e.doc)},apply(t){return t.selection}}),new Bd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Bd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class mv{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_te.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Bd(r.key,r.spec.state,r))})}}class Vc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=s?s[a].n:0,u=s?s[a].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Vc(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new Ote(this)}static create(e){let n=new mv(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Vc(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new mv(this.schema,e.plugins),r=n.fields,s=new Vc(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new mv(e.schema,e.plugins),i=new Vc(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=oo.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Je.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=u.fromJSON.call(c,e,n[l],i);return}}i[a.name]=a.init(e,i)}}),i}}function eI(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=eI(s,e,{})),n[r]=s}return n}class Lt{constructor(e){this.spec=e,this.props={},e.props&&eI(e.props,this,this.props),this.key=e.key?e.key.key:tI("plugin")}getState(e){return e[this.key]}}const pv=Object.create(null);function tI(t){return t in pv?t+"$"+ ++pv[t]:(pv[t]=0,t+"$")}class tn{constructor(e="key"){this.key=tI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const WN=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function nI(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const rI=(t,e,n)=>{let r=nI(t,n);if(!r)return!1;let s=qN(r);if(!s){let a=r.blockRange(),l=a&&Eu(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(hI(t,s,e,-1))return!0;if(r.parent.content.size==0&&(uu(i,"end")||Ue.isSelectable(i)))for(let a=r.depth;;a--){let l=lx(t.doc,r.before(a),r.after(a),Ee.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(uu(i,"end")?Je.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Ue.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},Dte=(t,e,n)=>{let r=nI(t,n);if(!r)return!1;let s=qN(r);return s?sI(t,s,e):!1},Ite=(t,e,n)=>{let r=aI(t,n);if(!r)return!1;let s=KN(r);return s?sI(t,s,e):!1};function sI(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=lx(t.doc,i,c,Ee.empty);if(!u||u.from!=i||u instanceof kn&&u.slice.size>=c-i)return!1;if(n){let d=t.tr.step(u);d.setSelection(We.create(d.doc,i)),n(d.scrollIntoView())}return!0}function uu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const iI=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=qN(r)}let a=i&&i.nodeBefore;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function qN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function aI(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const oI=(t,e,n)=>{let r=aI(t,n);if(!r)return!1;let s=KN(r);if(!s)return!1;let i=s.nodeAfter;if(hI(t,s,e,1))return!0;if(r.parent.content.size==0&&(uu(i,"start")||Ue.isSelectable(i))){let a=lx(t.doc,r.before(),r.after(),Ee.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(uu(i,"start")?Je.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Ue.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},lI=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=KN(r)}let a=i&&i.nodeAfter;return!a||!Ue.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ue.create(t.doc,i.pos)).scrollIntoView()),!0)};function KN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Lte=(t,e)=>{let n=t.selection,r=n instanceof Ue,s;if(r){if(n.node.isTextblock||!Eo(t.doc,n.from))return!1;s=n.from}else if(s=ox(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Ue.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},Rte=(t,e)=>{let n=t.selection,r;if(n instanceof Ue){if(n.node.isTextblock||!Eo(t.doc,n.to))return!1;r=n.to}else if(r=ox(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Fte=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Eu(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},cI=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function GN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const zte=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=GN(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Je.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},uI=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Gr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=GN(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(a,i.createAndFill());l.setSelection(We.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},dI=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ea(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Eu(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function Vte(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Ue&&e.selection.node.isBlock)return!r.parentOffset||!ea(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,c=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),l=GN(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(c&&l?{type:l}:null),a=g;break}else{if(g==1)return!1;i.unshift(null)}let d=e.tr;(e.selection instanceof We||e.selection instanceof Gr)&&d.deleteSelection();let f=d.mapping.map(r.pos),p=ea(d.doc,f,i.length,i);if(p||(i[0]=l?{type:l}:null,p=ea(d.doc,f,i.length,i)),!p)return!1;if(d.split(f,i.length,i),!c&&u&&r.node(a).type!=l){let g=d.mapping.map(r.before(a)),x=d.doc.resolve(g);l&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(a)),l)}return n&&n(d.scrollIntoView()),!0}}const $te=Vte(),Bte=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Ue.create(t.doc,s))),!0)};function Hte(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Eo(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function hI(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&Hte(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let g=e.pos+i.nodeSize,x=de.empty;for(let w=a.length-1;w>=0;w--)x=de.from(a[w].create(null,x));x=de.from(s.copy(x));let v=t.tr.step(new Pn(e.pos-1,g,e.pos,g,new Ee(x,1,0),a.length,!0)),b=v.doc.resolve(g+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&Eo(v.doc,b.pos)&&v.join(b.pos),n(v.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&c?null:Je.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&Eu(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&uu(i,"start",!0)&&uu(s,"end")){let g=s,x=[];for(;x.push(g),!g.isTextblock;)g=g.lastChild;let v=i,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,v.content)){if(n){let w=de.empty;for(let j=x.length-1;j>=0;j--)w=de.from(x[j].copy(w));let S=t.tr.step(new Pn(e.pos-x.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new Ee(w,x.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function fI(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(We.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const Ute=fI(-1),Wte=fI(1);function qte(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),l=a&&BN(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function YT(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(c,u)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let d=n.doc.resolve(u),f=d.index();s=d.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];i.setBlockType(l,c,t,e)}r(i.scrollIntoView())}return!0}}function YN(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}YN(WN,rI,iI);YN(WN,oI,lI);YN(cI,uI,dI,$te);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Kte(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return Gte(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function Gte(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);i=new kg(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new kg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=BN(i,n,r,e);return l?(t&&Yte(t,e,l,s,n),!0):!1}function Yte(t,e,n,r,s){let i=de.empty;for(let d=n.length-1;d>=0;d--)i=de.from(n[d].type.create(n[d].attrs,i));t.step(new Pn(e.start-(r?2:0),e.end,e.start,e.end,new Ee(i,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==s&&(a=d+1);let l=n.length-a,c=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,p=!0;d<f;d++,p=!1)!p&&ea(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return t}function Xte(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?Qte(e,n,t,i):Jte(e,n,i):!0:!1}}function Qte(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new Pn(i-1,a,i,a,new Ee(de.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new kg(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const l=Eu(r);if(l==null)return!1;s.lift(r,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return Eo(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function Jte(t,e,n){let r=t.tr,s=n.parent;for(let g=n.end,x=n.endIndex-1,v=n.startIndex;x>v;x--)g-=s.child(x).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(l?0:1),d+1,a.content.append(c?de.empty:de.from(s))))return!1;let f=i.pos,p=f+a.nodeSize;return r.step(new Pn(f-(l?1:0),p+(c?1:0),f+1,p-1,new Ee((l?de.empty:de.from(s.copy(de.empty))).append(c?de.empty:de.from(s.copy(de.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function Zte(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=de.from(u?t.create():null),f=new Ee(de.from(t.create(null,de.from(l.type.create(null,d)))),u?3:1,0),p=i.start,g=i.end;n(e.tr.step(new Pn(p-(u?3:1),g,p,g,f,1,!0)).scrollIntoView())}return!0}}const Vn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},du=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let N2=null;const Wi=function(t,e,n){let r=N2||(N2=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},ene=function(){N2=null},Fl=function(t,e,n,r){return n&&(XT(t,e,n,r,-1)||XT(t,e,n,r,1))},tne=/^(img|br|input|textarea|hr)$/i;function XT(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:gs(t))){let a=t.parentNode;if(!a||a.nodeType!=1||gf(t)||tne.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vn(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?gs(t):0}else return!1}}function gs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nne(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=gs(t)}else if(t.parentNode&&!gf(t))e=Vn(t),t=t.parentNode;else return null}}function rne(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gf(t))e=Vn(t)+1,t=t.parentNode;else return null}}function sne(t,e,n){for(let r=e==0,s=e==gs(t);r||s;){if(t==n)return!0;let i=Vn(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==gs(t)}}function gf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ux=function(t){return t.focusNode&&Fl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function rl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function ine(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ane(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(gs(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(gs(r.startContainer),r.startOffset)}}}const bi=typeof navigator<"u"?navigator:null,QT=typeof document<"u"?document:null,Mo=bi&&bi.userAgent||"",S2=/Edge\/(\d+)/.exec(Mo),mI=/MSIE \d/.exec(Mo),j2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mo),Ir=!!(mI||j2||S2),co=mI?document.documentMode:j2?+j2[1]:S2?+S2[1]:0,ys=!Ir&&/gecko\/(\d+)/i.test(Mo);ys&&+(/Firefox\/(\d+)/.exec(Mo)||[0,0])[1];const C2=!Ir&&/Chrome\/(\d+)/.exec(Mo),Mn=!!C2,pI=C2?+C2[1]:0,rr=!Ir&&!!bi&&/Apple Computer/.test(bi.vendor),hu=rr&&(/Mobile\/\w+/.test(Mo)||!!bi&&bi.maxTouchPoints>2),ms=hu||(bi?/Mac/.test(bi.platform):!1),gI=bi?/Win/.test(bi.platform):!1,Qi=/Android \d/.test(Mo),xf=!!QT&&"webkitFontSmoothing"in QT.documentElement.style,one=xf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function lne(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Li(t,e){return typeof t=="number"?t:t[e]}function cne(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function JT(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=du(a);continue}let l=a,c=l==i.body,u=c?lne(i):cne(l),d=0,f=0;if(e.top<u.top+Li(r,"top")?f=-(u.top-e.top+Li(s,"top")):e.bottom>u.bottom-Li(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Li(s,"top")-u.top:e.bottom-u.bottom+Li(s,"bottom")),e.left<u.left+Li(r,"left")?d=-(u.left-e.left+Li(s,"left")):e.right>u.right-Li(r,"right")&&(d=e.right-u.right+Li(s,"right")),d||f)if(c)i.defaultView.scrollBy(d,f);else{let g=l.scrollLeft,x=l.scrollTop;f&&(l.scrollTop+=f),d&&(l.scrollLeft+=d);let v=l.scrollLeft-g,b=l.scrollTop-x;e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b}}let p=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:du(a)}}function une(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(i,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,s=c.top;break}}return{refDOM:r,refTop:s,stack:xI(t.dom)}}function xI(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=du(r));return e}function dne({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;yI(n,r==0?0:r-e)}function yI(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Ac=null;function hne(t){if(t.setActive)return t.setActive();if(Ac)return t.focus(Ac);let e=xI(t);t.focus(Ac==null?{get preventScroll(){return Ac={preventScroll:!0},!0}}:void 0),Ac||(Ac=!1,yI(e,0))}function bI(t,e){let n,r=2e8,s,i=0,a=e.top,l=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Wi(d).getClientRects();else continue;for(let g=0;g<p.length;g++){let x=p[g];if(x.top<=a&&x.bottom>=l){a=Math.max(x.bottom,a),l=Math.min(x.top,l);let v=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(v<r){n=d,r=v,s=v&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&v&&(i=f+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!c&&x.left<=e.left&&x.right>=e.left&&(c=d,u={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(i=f+1)}}return!n&&c&&(n=c,s=u,r=0),n&&n.nodeType==3?fne(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:bI(n,s)}function fne(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=za(r,1);if(a.top!=a.bottom&&XN(e,a)){s={node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function XN(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function mne(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function pne(t,e,n){let{node:r,offset:s}=bI(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function gne(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?s=l.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(s=l.posAfter),a=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function vI(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(XN(e,u))return vI(a,e,u)}}if((i=(i+1)%r)==s)break}return t}function xne(t,e){let n=t.dom.ownerDocument,r,s=0,i=ane(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!XN(e,u)||(a=vI(t.dom,e,u),!a))return null}if(rr)for(let u=a;r&&u;u=du(u))u.draggable&&(r=void 0);if(a=mne(a,e),r){if(ys&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let d=r.childNodes[s],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let u;xf&&s&&r.nodeType==1&&(u=r.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=gne(t,r,s,e))}l==null&&(l=pne(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function ZT(t){return t.top<t.bottom||t.left<t.right}function za(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ZT(r))return r}return Array.prototype.find.call(n,ZT)||t.getBoundingClientRect()}const yne=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function wI(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=xf||ys;if(r.nodeType==3)if(a&&(yne.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=za(Wi(r,s,s),n);if(ys&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=za(Wi(r,s-1,s-1),-1);if(u.top==c.top){let d=za(Wi(r,s,s+1),-1);if(d.top!=c.top)return Td(d,d.left<u.left)}}return c}else{let c=s,u=s,d=n<0?1:-1;return n<0&&!s?(u++,d=-1):n>=0&&s==r.nodeValue.length?(c--,d=1):n<0?c--:u++,Td(za(Wi(r,c,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==gs(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return gv(c.getBoundingClientRect(),!1)}if(i==null&&s<gs(r)){let c=r.childNodes[s];if(c.nodeType==1)return gv(c.getBoundingClientRect(),!0)}return gv(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==gs(r))){let c=r.childNodes[s-1],u=c.nodeType==3?Wi(c,gs(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Td(za(u,1),!1)}if(i==null&&s<gs(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?Wi(c,0,a?0:1):c.nodeType==1?c:null:null;if(u)return Td(za(u,-1),!0)}return Td(za(r.nodeType==3?Wi(r):r,-n),n>=0)}function Td(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function gv(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function NI(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function bne(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return NI(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=wI(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Wi(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const vne=/[\u0590-\u08ac]/;function wne(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,l=t.domSelection();return l?!vne.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:NI(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:v}=t.domSelectionRange(),b=x&&!g.contains(x.nodeType==1?x:x.parentNode)||c==x&&u==v;try{l.collapse(d,f),c&&(c!=d||u!=f)&&l.extend&&l.extend(c,u)}catch{}return p!=null&&(l.caretBidiLevel=p),b}):r.pos==r.start()||r.pos==r.end()}let eE=null,tE=null,nE=!1;function Nne(t,e,n){return eE==e&&tE==n?nE:(eE=e,tE=n,nE=n=="up"||n=="down"?bne(t,e,n):wne(t,e,n))}const bs=0,rE=1,ul=2,vi=3;class yf{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=bs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Vn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let l=s.children[a];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>e||a instanceof jI){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof SI&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Vn(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Vn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,l=0;;l++){let c=this.children[l],u=a+c.size;if(s==-1&&e<=u){let d=a+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=a;for(let f=l;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=Vn(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Vn(f.dom);break}n+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let g=0,x=0;g<this.children.length;g++){let v=this.children[g],b=x+v.size;if(i>x&&a<b)return v.setSelection(e-x-v.border,n-x-v.border,r,s);x=b}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((ys||rr)&&e==n){let{node:g,offset:x}=l;if(g.nodeType==3){if(f=!!(x&&g.nodeValue[x-1]==`
`),f&&x==g.nodeValue.length)for(let v=g,b;v;v=v.parentNode){if(b=v.nextSibling){b.nodeName=="BR"&&(l=c={node:b.parentNode,offset:Vn(b)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=g.childNodes[x-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(ys&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||f&&rr)&&Fl(l.node,l.offset,d.anchorNode,d.anchorOffset)&&Fl(c.node,c.offset,d.focusNode,d.focusOffset))return;let p=!1;if((u.extend||e==n)&&!(f&&ys)){u.collapse(l.node,l.offset);try{e!=n&&u.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>n){let x=l;l=c,c=x}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+i.border,c=a-i.border;if(e>=l&&n<=c){this.dirty=e==r||n==a?ul:rE,e==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=vi:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?ul:vi}r=a}this.dirty=ul}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?ul:rE;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class SI extends yf{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==bs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Sne extends yf{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class zl extends yf{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=Gl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new zl(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&vi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=vi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=bs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=bs}}slice(e,n,r){let s=zl.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=T2(i,n,a,r)),e>0&&(i=T2(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class uo extends yf{constructor(e,n,r,s,i,a,l,c,u){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,a){let l=i.nodeViews[n.type.name],c,u=l&&l(n,i,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,s),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Gl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=TI(d,r,n),u?c=new jne(e,n,r,s,d,f||null,p,u,i,a+1):n.isText?new dx(e,n,r,s,d,p,i):new uo(e,n,r,s,d,f||null,p,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>de.empty)}return e}matchesNode(e,n,r){return this.dirty==bs&&e.eq(this.node)&&Eg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new kne(this,a&&a.node,e);Mne(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?jt.none:this.node.child(d).marks,r,e),c.placeWidget(u,e,s)},(u,d,f,p)=>{c.syncToMarks(u.marks,r,e);let g;c.findNodeMatch(u,d,f,p)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(g=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,d,f,g,e)||c.updateNextNode(u,d,f,e,p,s)||c.addNode(u,d,f,e,s),s+=u.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==ul)&&(a&&this.protectLocalComposition(e,a),CI(this.contentDOM,this.children,e),hu&&Ane(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof We)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=Pne(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new Sne(this,i,n,s);e.input.compositionNodes.push(a),this.children=T2(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==vi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=bs}updateOuterDeco(e){if(Eg(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kI(this.dom,this.nodeDOM,k2(this.outerDeco,this.node,n),k2(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function sE(t,e,n,r,s){TI(r,e,t);let i=new uo(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class dx extends uo{constructor(e,n,r,s,i,a,l){super(e,n,r,s,i,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==vi||this.dirty!=bs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=bs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=bs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new dx(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=vi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class jI extends yf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==bs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jne extends uo{constructor(e,n,r,s,i,a,l,c,u,d){super(e,n,r,s,i,a,l,u,d),this.spec=c}update(e,n,r,s){if(this.dirty==vi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function CI(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=iE(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(a instanceof zl){let c=r?r.previousSibling:t.lastChild;CI(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=iE(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const rh=function(t){t&&(this.nodeName=t)};rh.prototype=Object.create(null);const dl=[new rh];function k2(t,e,n){if(t.length==0)return dl;let r=n?dl[0]:new rh,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new rh(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&s.length==1&&s.push(r=new rh(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return s}function kI(t,e,n,r){if(n==dl&&r==dl)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let c;l&&l.nodeName==a.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=dl[0]),s=c}Cne(s,l||dl[0],a)}return s}function Cne(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function TI(t,e,n){return kI(t,t,dl,k2(e,n,t.nodeType!=1))}function Eg(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function iE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class kne{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Tne(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=bs,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=zl.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==vi&&a.dom==a.contentDOM&&(a.dirty=ul),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof uo){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let d=c.dom,f,p=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=vi&&Eg(n,c.outerDeco));if(!p&&c.update(e,n,r,s))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,e,n,r,s,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=ul,f.updateChildren(s,a+1),f.dirty=bs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Eg(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=uo.create(this.top,n,r,s,i,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let a=uo.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new SI(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof zl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof dx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((rr||Mn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new jI(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Tne(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof zl)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),a.push(l)}}return{index:s,matched:i,matches:a.reverse()}}function Ene(t,e){return t.type.side-e.type.side}function Mne(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,s,e.forChild(i,d),u),i+=d.nodeSize}return}let a=0,l=[],c=null;for(let u=0;;){let d,f;for(;a<s.length&&s[a].to==i;){let b=s[a++];b.widget&&(d?(f||(f=[d])).push(b):d=b)}if(d)if(f){f.sort(Ene);for(let b=0;b<f.length;b++)n(f[b],u,!!c)}else n(d,u,!!c);let p,g;if(c)g=-1,p=c,c=null;else if(u<t.childCount)g=u,p=t.child(u++);else break;for(let b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)l.push(s[a++]);let x=i+p.nodeSize;if(p.isText){let b=x;a<s.length&&s[a].from<b&&(b=s[a].from);for(let w=0;w<l.length;w++)l[w].to<b&&(b=l[w].to);b<x&&(c=p.cut(b-i),p=p.cut(0,b-i),x=b,g=-1)}else for(;a<s.length&&s[a].to<x;)a++;let v=p.isInline&&!p.isLeaf?l.filter(b=>!b.inline):l.slice();r(p,v,e.forChild(i,p),g),i=x}}function Ane(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Pne(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),l=i;if(i+=a.nodeSize,!a.isText)continue;let c=a.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?c.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function T2(t,e,n,r,s){let i=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],u=l,d=l+=c.size;u>=n||d<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,r)),s&&(i.push(s),s=void 0),d>n&&i.push(c.slice(n-u,c.size,r)))}return i}function QN(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),c,u;if(ux(n)){for(c=a;s&&!s.node;)s=s.parent;let f=s.node;if(s&&f.isAtom&&Ue.isSelectable(f)&&s.parent&&!(f.isInline&&sne(n.focusNode,n.focusOffset,s.dom))){let p=s.posBefore;u=new Ue(a==p?l:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,p=a;for(let g=0;g<n.rangeCount;g++){let x=n.getRangeAt(g);f=Math.min(f,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(f<0)return null;[c,a]=p==t.state.selection.anchor?[p,f]:[f,p],l=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;u=JN(t,d,l,f)}return u}function EI(t){return t.editable?t.hasFocus():AI(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ta(t,e=!1){let n=t.state.selection;if(MI(t,n),!!EI(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Mn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Fl(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)_ne(t);else{let{anchor:r,head:s}=n,i,a;aE&&!(n instanceof We)&&(n.$from.parent.inlineContent||(i=oE(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=oE(t,n.to))),t.docView.setSelection(r,s,t,e),aE&&(i&&lE(i),a&&lE(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&One(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const aE=rr||Mn&&pI<63;function oE(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(rr&&s&&s.contentEditable=="false")return xv(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return xv(s);if(i)return xv(i)}}function xv(t){return t.contentEditable="true",rr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function lE(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function One(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!EI(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function _ne(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Vn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ir&&co<=11&&(n.disabled=!0,n.disabled=!1)}function MI(t,e){if(e instanceof Ue){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(cE(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else cE(t)}function cE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function JN(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||We.between(e,n,r)}function uE(t){return t.editable&&!t.hasFocus()?!1:AI(t)}function AI(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Dne(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Fl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function E2(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Je.findFrom(i,e)}function Ha(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function dE(t,e,n){let r=t.state.selection;if(r instanceof We)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Ha(t,new We(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=E2(t.state,e);return s&&s instanceof Ue?Ha(t,s):!1}else if(!(ms&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Ue.isSelectable(i)?Ha(t,new Ue(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):xf?Ha(t,new We(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ue&&r.node.isInline)return Ha(t,new We(e>0?r.$to:r.$from));{let s=E2(t.state,e);return s?Ha(t,s):!1}}}function Mg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sh(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Pc(t,e){return e<0?Ine(t):Lne(t)}function Ine(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(ys&&n.nodeType==1&&r<Mg(n)&&sh(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(sh(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(PI(n))break;{let l=n.previousSibling;for(;l&&sh(l,-1);)s=n.parentNode,i=Vn(l),l=l.previousSibling;if(l)n=l,r=Mg(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?M2(t,n,r):s&&M2(t,s,i)}function Lne(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Mg(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(sh(l,1))i=n,a=++r;else break}else{if(PI(n))break;{let l=n.nextSibling;for(;l&&sh(l,1);)i=l.parentNode,a=Vn(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=Mg(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&M2(t,i,a)}function PI(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Rne(t,e){for(;t&&e==t.childNodes.length&&!gf(t);)e=Vn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Fne(t,e){for(;t&&!e&&!gf(t);)e=Vn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function M2(t,e,n){if(e.nodeType!=3){let i,a;(a=Rne(e,n))?(e=a,n=0):(i=Fne(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(ux(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ta(t)},50)}function hE(t,e){let n=t.state.doc.resolve(e);if(!(Mn||gI)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function fE(t,e,n){let r=t.state.selection;if(r instanceof We&&!r.empty||n.indexOf("s")>-1||ms&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=E2(t.state,e);if(a&&a instanceof Ue)return Ha(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,l=r instanceof Gr?Je.near(a,e):Je.findFrom(a,e);return l?Ha(t,l):!1}return!1}function mE(t,e){if(!(t.state.selection instanceof We))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function pE(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function zne(t){if(!rr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;pE(t,r,"true"),setTimeout(()=>pE(t,r,"false"),20)}return!1}function Vne(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function $ne(t,e){let n=e.keyCode,r=Vne(e);if(n==8||ms&&n==72&&r=="c")return mE(t,-1)||Pc(t,-1);if(n==46&&!e.shiftKey||ms&&n==68&&r=="c")return mE(t,1)||Pc(t,1);if(n==13||n==27)return!0;if(n==37||ms&&n==66&&r=="c"){let s=n==37?hE(t,t.state.selection.from)=="ltr"?-1:1:-1;return dE(t,s,r)||Pc(t,s)}else if(n==39||ms&&n==70&&r=="c"){let s=n==39?hE(t,t.state.selection.from)=="ltr"?1:-1:1;return dE(t,s,r)||Pc(t,s)}else{if(n==38||ms&&n==80&&r=="c")return fE(t,-1,r)||Pc(t,-1);if(n==40||ms&&n==78&&r=="c")return zne(t)||fE(t,1,r)||Pc(t,1);if(r==(ms?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function ZN(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let a=t.someProp("clipboardSerializer")||Gl.fromSchema(t.state.schema),l=RI(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=LI[u.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let x=l.createElement(d[g]);for(;c.firstChild;)x.appendChild(c.firstChild);c.appendChild(x),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function OI(t,e,n,r,s){let i=s.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=!!e&&(r||i||!n);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return l=new Ee(de.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{l=p(l,t,!0)}),l;let f=t.someProp("clipboardTextParser",p=>p(e,s,r,t));if(f)l=f;else{let p=s.marks(),{schema:g}=t.state,x=Gl.fromSchema(g);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=a.appendChild(document.createElement("p"));v&&b.appendChild(x.serializeNode(g.text(v,p)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=Wne(n),xf&&qne(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||lo.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Bne.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)l=Kne(gE(l,+d[1],+d[2]),d[4]);else if(l=Ee.maxOpen(Hne(l.content,s),!0),l.openStart||l.openEnd){let f=0,p=0;for(let g=l.content.firstChild;f<l.openStart&&!g.type.spec.isolating;f++,g=g.firstChild);for(let g=l.content.lastChild;p<l.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);l=gE(l,f,p)}return t.someProp("transformPasted",f=>{l=f(l,t,c)}),l}const Bne=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Hne(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(l=>{if(!a)return;let c=s.findWrapping(l.type),u;if(!c)return a=null;if(u=a.length&&i.length&&DI(c,i,l,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=II(a[a.length-1],i.length));let d=_I(l,c);a.push(d),s=s.matchType(d.type),i=c}}),a)return de.from(a)}return t}function _I(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,de.from(t));return t}function DI(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=DI(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(de.from(_I(n,t,s+1))))}}function II(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,II(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(de.empty,!0);return t.copy(n.append(r))}function A2(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(i=0),s<r-1&&(l=A2(l,e,n,r,s+1,i)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(de.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function gE(t,e,n){return e<t.openStart&&(t=new Ee(A2(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ee(A2(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const LI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let xE=null;function RI(){return xE||(xE=document.implementation.createHTMLDocument("title"))}let yv=null;function Une(t){let e=window.trustedTypes;return e?(yv||(yv=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),yv.createHTML(t)):t}function Wne(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=RI().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&LI[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=Une(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function qne(t){let e=t.querySelectorAll(Mn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Kne(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;s=de.from(c.create(r[l+1],s)),i++,a++}return new Ee(s,i,a)}const fr={},mr={},Gne={touchstart:!0,touchmove:!0};class Yne{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Xne(t){for(let e in fr){let n=fr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Jne(t,r)&&!eS(t,r)&&(t.editable||!(r.type in mr))&&n(t,r)},Gne[e]?{passive:!0}:void 0)}rr&&t.dom.addEventListener("input",()=>null),P2(t)}function no(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Qne(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function P2(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>eS(t,r))})}function eS(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Jne(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Zne(t,e){!eS(t,e)&&fr[e.type]&&(t.editable||!(e.type in mr))&&fr[e.type](t,e)}mr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!zI(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Qi&&Mn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),hu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,rl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||$ne(t,n)?n.preventDefault():no(t,"key")};mr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};mr.keypress=(t,e)=>{let n=e;if(zI(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ms&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof We)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function hx(t){return{left:t.clientX,top:t.clientY}}function ere(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function tS(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,l=>a>i.depth?l(t,n,i.nodeAfter,i.before(a),s,!0):l(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function Jc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function tre(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ue.isSelectable(r)?(Jc(t,new Ue(n)),!0):!1}function nre(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Ue&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if(Ue.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(Jc(t,Ue.create(t.state.doc,s)),!0):!1}function rre(t,e,n,r,s){return tS(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?nre(t,n):tre(t,n))}function sre(t,e,n,r){return tS(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function ire(t,e,n,r){return tS(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||are(t,n,r)}function are(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Jc(t,We.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(a.inlineContent)Jc(t,We.create(r,l+1,l+1+a.content.size));else if(Ue.isSelectable(a))Jc(t,Ue.create(r,l));else continue;return!0}}function nS(t){return Ag(t)}const FI=ms?"metaKey":"ctrlKey";fr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=nS(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&ere(n,t.input.lastClick)&&!n[FI]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(hx(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new ore(t,a,n,!!r)):(i=="doubleClick"?sre:ire)(t,a.pos,a.inside,n)?n.preventDefault():no(t,"pointer"))};class ore{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[FI],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,a=d.depth?d.before():0}const l=s?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof Ue&&u.from<=a&&u.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ys&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),no(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ta(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(hx(e))),this.updateAllowDefault(e),this.allowDefault||!n?no(this.view,"pointer"):rre(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||rr&&this.mightDrag&&!this.mightDrag.node.isAtom||Mn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Jc(this.view,Je.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):no(this.view,"pointer")}move(e){this.updateAllowDefault(e),no(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}fr.touchstart=t=>{t.input.lastTouch=Date.now(),nS(t),no(t,"pointer")};fr.touchmove=t=>{t.input.lastTouch=Date.now(),no(t,"pointer")};fr.contextmenu=t=>nS(t);function zI(t,e){return t.composing?!0:rr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const lre=Qi?5e3:-1;mr.compositionstart=mr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof We&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Mn&&gI&&cre(t)))t.markCursor=t.state.storedMarks||n.marks(),Ag(t,!0),t.markCursor=null;else if(Ag(t,!e.selection.empty),ys&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}VI(t,lre)};function cre(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}mr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,VI(t,20))};function VI(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ag(t),e))}function $I(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=dre());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function ure(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=nne(e.focusNode,e.focusOffset),r=rne(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function dre(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ag(t,e=!1){if(!(Qi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),$I(t),e||t.docView&&t.docView.dirty){let n=QN(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function hre(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ih=Ir&&co<15||hu&&one<604;fr.copy=mr.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Ih?null:n.clipboardData,a=r.content(),{dom:l,text:c}=ZN(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):hre(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fre(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function mre(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Lh(t,r.value,null,s,e):Lh(t,r.textContent,r.innerHTML,s,e)},50)}function Lh(t,e,n,r,s){let i=OI(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||Ee.empty)))return!0;if(!i)return!1;let a=fre(i),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function BI(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mr.paste=(t,e)=>{let n=e;if(t.composing&&!Qi)return;let r=Ih?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Lh(t,BI(r),r.getData("text/html"),s,n)?n.preventDefault():mre(t,n)};class HI{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const pre=ms?"altKey":"ctrlKey";function UI(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[pre]}fr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(hx(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ue?s.to-1:s.to))){if(r&&r.mightDrag)a=Ue.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=Ue.create(t.state.doc,f.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:u,slice:d}=ZN(t,l);(!n.dataTransfer.files.length||!Mn||pI>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ih?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ih||n.dataTransfer.setData("text/plain",u),t.dragging=new HI(d,UI(t,n),a)};fr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};mr.dragover=mr.dragenter=(t,e)=>e.preventDefault();mr.drop=(t,e)=>{try{gre(t,e,t.dragging)}finally{t.dragging=null}};function gre(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(hx(e));if(!r)return;let s=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",g=>{i=g(i,t,!1)}):i=OI(t,BI(e.dataTransfer),Ih?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&UI(t,e));if(t.someProp("handleDrop",g=>g(t,e,i||Ee.empty,a))){e.preventDefault();return}if(!i)return;e.preventDefault();let l=i?GD(t.state.doc,s.pos,i):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&Ue.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new Ue(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,v,b,w)=>g=w),c.setSelection(JN(t,p,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}fr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ta(t)},20))};fr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};fr.beforeinput=(t,e)=>{if(Mn&&Qi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,rl(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in mr)fr[t]=mr[t];function Rh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Pg{constructor(e,n){this.toDOM=e,this.spec=n||Nl,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new An(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Pg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Rh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ho{constructor(e,n){this.attrs=e,this.spec=n||Nl}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new An(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ho&&Rh(this.attrs,e.attrs)&&Rh(this.spec,e.spec)}static is(e){return e.type instanceof ho}destroy(){}}class rS{constructor(e,n){this.attrs=e,this.spec=n||Nl}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new An(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof rS&&Rh(this.attrs,e.attrs)&&Rh(this.spec,e.spec)}destroy(){}}class An{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new An(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new An(e,e,new Pg(n,r))}static inline(e,n,r,s){return new An(e,n,new ho(r,s))}static node(e,n,r,s){return new An(e,n,new rS(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof ho}get widget(){return this.type instanceof Pg}}const Lc=[],Nl={};class Et{constructor(e,n){this.local=e.length?e:Lc,this.children=n.length?n:Lc}static create(e,n){return n.length?Og(n,e,0,Nl):Qn}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==Qn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Nl)}mapInner(e,n,r,s,i){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,s);c&&c.type.valid(n,c)?(a||(a=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?xre(this.children,a||[],e,n,r,s,i):a?new Et(a.sort(Sl),Lc):Qn}add(e,n){return n.length?this==Qn?Et.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,c)=>{let u=c+r,d;if(d=qI(n,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,d,u+1):s.splice(i,0,c,c+l.nodeSize,Og(d,l,u+1,Nl)),i+=3}});let a=WI(i?KI(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Et(a.length?this.local.concat(a).sort(Sl):this.local,s||this.children)}remove(e){return e.length==0||this==Qn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,c=r[i+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>l&&f.to<c&&(e[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(a,l+1);u!=Qn?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let l=0;l<s.length;l++)s[l].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Et(s,r):Qn}forChild(e,n){if(this==Qn)return this;if(n.isLeaf)return Et.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>i&&c.type instanceof ho){let u=Math.max(i,c.from)-i,d=Math.min(a,c.to)-i;u<d&&(s||(s=[])).push(c.copy(u,d))}}if(s){let l=new Et(s.sort(Sl),Lc);return r?new Ka([l,r]):l}return r||Qn}eq(e){if(this==e)return!0;if(!(e instanceof Et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return sS(this.localsInner(e))}localsInner(e){if(this==Qn)return Lc;if(e.inlineContent||!this.local.some(ho.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ho||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Et.empty=new Et([],[]);Et.removeOverlap=sS;const Qn=Et.empty;class Ka{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Nl));return Ka.from(r)}forChild(e,n){if(n.isLeaf)return Et.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Qn&&(i instanceof Ka?r=r.concat(i.members):r.push(i))}return Ka.from(r)}eq(e){if(!(e instanceof Ka)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?sS(r?n:n.sort(Sl)):Lc}static from(e){switch(e.length){case 0:return Qn;case 1:return e[0];default:return new Ka(e.every(n=>n instanceof Et)?e:e.reduce((n,r)=>n.concat(r instanceof Et?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function xre(t,e,n,r,s,i,a){let l=t.slice();for(let u=0,d=i;u<n.maps.length;u++){let f=0;n.maps[u].forEach((p,g,x,v)=>{let b=v-x-(g-p);for(let w=0;w<l.length;w+=3){let S=l[w+1];if(S<0||p>S+d-f)continue;let j=l[w]+d-f;g>=j?l[w+1]=p<=j?-2:-1:p>=d&&b&&(l[w]+=b,l[w+1]+=b)}f+=b}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(t[u]+i),f=d-s;if(f<0||f>=r.content.size){c=!0;continue}let p=n.map(t[u+1]+i,-1),g=p-s,{index:x,offset:v}=r.content.findIndex(f),b=r.maybeChild(x);if(b&&v==f&&v+b.nodeSize==g){let w=l[u+2].mapInner(n,b,d+1,t[u]+i+1,a);w!=Qn?(l[u]=f,l[u+1]=g,l[u+2]=w):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=yre(l,t,e,n,s,i,a),d=Og(u,r,0,a);e=d.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,p=0;f<d.children.length;f+=3){let g=d.children[f];for(;p<l.length&&l[p]<g;)p+=3;l.splice(p,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Et(e.sort(Sl),l)}function WI(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new An(s.from+e,s.to+e,s.type))}return n}function yre(t,e,n,r,s,i,a){function l(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(r,s,u);f?n.push(f):a.onRemove&&a.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return n}function qI(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function KI(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Og(t,e,n,r){let s=[],i=!1;e.forEach((l,c)=>{let u=qI(t,l,c+n);if(u){i=!0;let d=Og(u,l,n+c+1,r);d!=Qn&&s.push(c,c+l.nodeSize,d)}});let a=WI(i?KI(t):t,-n).sort(Sl);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||s.length?new Et(a,s):Qn}function Sl(t,e){return t.from-e.from||t.to-e.to}function sS(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),yE(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),yE(e,s,r.copy(i.from,r.to)));break}}}return e}function yE(t,e,n){for(;e<t.length&&Sl(n,t[e])>0;)e++;t.splice(e,0,n)}function bv(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qn&&e.push(r)}),t.cursorWrapper&&e.push(Et.create(t.state.doc,[t.cursorWrapper.deco])),Ka.from(e)}const bre={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},vre=Ir&&co<=11;class wre{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Nre{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new wre,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ir&&co<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),vre&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,bre)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(uE(this.view)){if(this.suppressingSelectionUpdates)return ta(this.view);if(Ir&&co<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Fl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=du(i))n.add(i);for(let i=e.anchorNode;i;i=du(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&uE(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(i=i<0?f.from:Math.min(f.from,i),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(l=!0))}if(ys&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,p]=d;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of d){let g=p.parentNode;g&&g.nodeName=="LI"&&(!f||Cre(e,f)!=g)&&p.remove()}}}else if((Mn||rr)&&c.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of c)if(d.nodeName=="BR"&&d.parentNode){let f=d.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&d.parentNode.removeChild(d)}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ux(r)&&(u=QN(e))&&u.eq(Je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ta(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),Sre(e)),this.handleDOMChange(i,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ta(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Ir&&co<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:p}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let a=s&&s.parentNode==e.target?Vn(s)+1:0,l=r.localPosFromDOM(e.target,a,-1),c=i&&i.parentNode==e.target?Vn(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let bE=new WeakMap,vE=!1;function Sre(t){if(!bE.has(t)&&(bE.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ys,vE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),vE=!0}}function wE(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Fl(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function jre(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return wE(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?wE(t,n):null}function Cre(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function kre(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],ux(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Mn&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let w=r.childNodes[b-1],S=w.pmViewDesc;if(w.nodeName=="BR"&&!S){i=b;break}if(!S||S.size)break}let f=t.state.doc,p=t.someProp("domParser")||lo.fromSchema(t.state.schema),g=f.resolve(a),x=null,v=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Tre,context:g});if(u&&u[0].pos!=null){let b=u[0].pos,w=u[1]&&u[1].pos;w==null&&(w=b),x={anchor:b+a,head:w+a}}return{doc:v,sel:x,from:a,to:l}}function Tre(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(rr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||rr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ere=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Mre(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,E=QN(t,P);if(E&&!t.state.selection.eq(E)){if(Mn&&Qi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",L=>L(t,rl(13,"Enter"))))return;let D=t.state.tr.setSelection(E);P=="pointer"?D.setMeta("pointer",!0):P=="key"&&D.scrollIntoView(),i&&D.setMeta("composition",i),t.dispatch(D)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,u=kre(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let x=Ore(f.content,u.doc.content,u.from,p,g);if(x&&t.input.domChangeCount++,(hu&&t.input.lastIOSEnter>Date.now()-225||Qi)&&s.some(P=>P.nodeType==1&&!Ere.test(P.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",P=>P(t,rl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&c instanceof We&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))x={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let P=NE(t,t.state.doc,u.sel);if(P&&!P.eq(t.state.selection)){let E=t.state.tr.setSelection(P);i&&E.setMeta("composition",i),t.dispatch(E)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof We&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Ir&&co<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>u.from&&u.doc.textBetween(x.start-u.from-1,x.start-u.from+1)==" "&&(x.start--,x.endA--,x.endB--);let v=u.doc.resolveNoCache(x.start-u.from),b=u.doc.resolveNoCache(x.endB-u.from),w=d.resolve(x.start),S=v.sameParent(b)&&v.parent.inlineContent&&w.end()>=x.endA;if((hu&&t.input.lastIOSEnter>Date.now()-225&&(!S||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!S&&v.pos<u.doc.content.size&&(!v.sameParent(b)||!v.parent.inlineContent)&&v.pos<b.pos&&!/\S/.test(u.doc.textBetween(v.pos,b.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,rl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&Pre(d,x.start,x.endA,v,b)&&t.someProp("handleKeyDown",P=>P(t,rl(8,"Backspace")))){Qi&&Mn&&t.domObserver.suppressSelectionUpdates();return}Mn&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Qi&&!S&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==x.endA&&(x.endB-=2,b=u.doc.resolveNoCache(x.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,rl(13,"Enter"))})},20));let j=x.start,M=x.endA,C=P=>{let E=P||t.state.tr.replace(j,M,u.doc.slice(x.start-u.from,x.endB-u.from));if(u.sel){let D=NE(t,E.doc,u.sel);D&&!(Mn&&t.composing&&D.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(D.head==j||D.head==E.mapping.map(M)-1)||Ir&&D.empty&&D.head==j)&&E.setSelection(D)}return i&&E.setMeta("composition",i),E.scrollIntoView()},A;if(S)if(v.pos==b.pos){Ir&&co<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ta(t),20));let P=C(t.state.tr.delete(j,M)),E=d.resolve(x.start).marksAcross(d.resolve(x.endA));E&&P.ensureMarks(E),t.dispatch(P)}else if(x.endA==x.endB&&(A=Are(v.parent.content.cut(v.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let P=C(t.state.tr);A.type=="add"?P.addMark(j,M,A.mark):P.removeMark(j,M,A.mark),t.dispatch(P)}else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let P=v.parent.textBetween(v.parentOffset,b.parentOffset),E=()=>C(t.state.tr.insertText(P,j,M));t.someProp("handleTextInput",D=>D(t,j,M,P,E))||t.dispatch(E())}else t.dispatch(C());else t.dispatch(C())}function NE(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:JN(t,e.resolve(n.anchor),e.resolve(n.head))}function Are(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,l,c;for(let d=0;d<r.length;d++)s=r[d].removeFromSet(s);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],a="add",c=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&i.length==1)l=i[0],a="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(de.from(u).eq(t))return{mark:l,type:a}}function Pre(t,e,n,r,s){if(n-e<=s.pos-r.pos||vv(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(vv(i,!0,!0));return!a.parent.isTextblock||a.pos>n||vv(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function vv(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function Ore(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&t.size<e.size){let c=r<=i&&r>=a?i-r:0;i-=c,i&&i<e.size&&SE(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-a),a=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<t.size&&SE(t.textBetween(i-1,i+1))&&(i+=c?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function SE(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class GI{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Yne,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(EE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kE(this),CE(this),this.nodeViews=TE(this),this.docView=sE(this.state.doc,jE(this),bv(this),this.dom,this),this.domObserver=new Nre(this,(r,s,i,a)=>Mre(this,r,s,i,a)),this.domObserver.start(),Xne(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&P2(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(EE),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&($I(this),a=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=TE(this);Dre(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&P2(this),this.editable=kE(this),CE(this);let c=bv(this),u=jE(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(s.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&une(this);if(a){this.domObserver.stop();let g=f&&(Ir||Mn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&_re(s.selection,e.selection);if(f){let x=Mn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=ure(this)),(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=sE(e.doc,u,c,this.dom,this)),x&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Dne(this))?ta(this,g):(MI(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&dne(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ue){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&JT(this,n.getBoundingClientRect(),e)}else JT(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new HI(e.slice,e.move,s<0?void 0:Ue.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(Ir){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&hne(this.dom),ta(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return xne(this,e)}coordsAtPos(e,n=1){return wI(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return Nne(this,n||this.state,e)}pasteHTML(e,n){return Lh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Lh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return ZN(this,e)}destroy(){this.docView&&(Qne(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],bv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ene())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Zne(this,e)}domSelectionRange(){let e=this.domSelection();return e?rr&&this.root.nodeType===11&&ine(this.dom.ownerDocument)==this.dom&&jre(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}GI.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function jE(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[An.node(0,t.state.doc.content.size,e)]}function CE(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:An.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function kE(t){return!t.someProp("editable",e=>e(t.state)===!1)}function _re(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function TE(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Dre(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function EE(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var vo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_g={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ire=typeof navigator<"u"&&/Mac/.test(navigator.platform),Lre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $n=0;$n<10;$n++)vo[48+$n]=vo[96+$n]=String($n);for(var $n=1;$n<=24;$n++)vo[$n+111]="F"+$n;for(var $n=65;$n<=90;$n++)vo[$n]=String.fromCharCode($n+32),_g[$n]=String.fromCharCode($n);for(var wv in vo)_g.hasOwnProperty(wv)||(_g[wv]=vo[wv]);function Rre(t){var e=Ire&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Lre&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_g:vo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Fre=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),zre=typeof navigator<"u"&&/Win/.test(navigator.platform);function Vre(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))Fre?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function $re(t){let e=Object.create(null);for(let n in t)e[Vre(n)]=t[n];return e}function Nv(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Bre(t){return new Lt({props:{handleKeyDown:iS(t)}})}function iS(t){let e=$re(t);return function(n,r){let s=Rre(r),i,a=e[Nv(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[Nv(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(zre&&r.ctrlKey&&r.altKey)&&(i=vo[r.keyCode])&&i!=s){let l=e[Nv(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var Hre=Object.defineProperty,aS=(t,e)=>{for(var n in e)Hre(t,n,{get:e[n],enumerable:!0})};function fx(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var mx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>{const d=l(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a=[],l=!!t,c=t||s.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,p])=>[f,(...x)=>{const v=this.buildProps(c,e),b=p(...x)(v);return a.push(b),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a={tr:t,editor:r,view:i,state:fx({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}},YI={};aS(YI,{blur:()=>Ure,clearContent:()=>Wre,clearNodes:()=>qre,command:()=>Kre,createParagraphNear:()=>Gre,cut:()=>Yre,deleteCurrentNode:()=>Xre,deleteNode:()=>Qre,deleteRange:()=>Jre,deleteSelection:()=>Zre,enter:()=>ese,exitCode:()=>tse,extendMarkRange:()=>nse,first:()=>rse,focus:()=>ise,forEach:()=>ase,insertContent:()=>ose,insertContentAt:()=>use,joinBackward:()=>fse,joinDown:()=>hse,joinForward:()=>mse,joinItemBackward:()=>pse,joinItemForward:()=>gse,joinTextblockBackward:()=>xse,joinTextblockForward:()=>yse,joinUp:()=>dse,keyboardShortcut:()=>vse,lift:()=>wse,liftEmptyBlock:()=>Nse,liftListItem:()=>Sse,newlineInCode:()=>jse,resetAttributes:()=>Cse,scrollIntoView:()=>kse,selectAll:()=>Tse,selectNodeBackward:()=>Ese,selectNodeForward:()=>Mse,selectParentNode:()=>Ase,selectTextblockEnd:()=>Pse,selectTextblockStart:()=>Ose,setContent:()=>_se,setMark:()=>Jse,setMeta:()=>Zse,setNode:()=>eie,setNodeSelection:()=>tie,setTextDirection:()=>nie,setTextSelection:()=>rie,sinkListItem:()=>sie,splitBlock:()=>iie,splitListItem:()=>aie,toggleList:()=>oie,toggleMark:()=>lie,toggleNode:()=>cie,toggleWrap:()=>uie,undoInputRule:()=>die,unsetAllMarks:()=>hie,unsetMark:()=>fie,unsetTextDirection:()=>mie,updateAttributes:()=>pie,wrapIn:()=>gie,wrapInList:()=>xie});var Ure=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Wre=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),qre=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),p=u.resolve(d.map(c+l.nodeSize)),g=f.blockRange(p);if(!g)return;const x=Eu(g);if(l.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(g.start,v)}(x||x===0)&&e.lift(g,x)})}),!0},Kre=t=>e=>t(e),Gre=()=>({state:t,dispatch:e})=>uI(t,e),Yre=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new We(r.doc.resolve(Math.max(a-1,0)))),!0},Xre=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1};function gn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Qre=t=>({tr:e,state:n,dispatch:r})=>{const s=gn(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const c=i.before(a),u=i.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1},Jre=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},Zre=()=>({state:t,dispatch:e})=>WN(t,e),ese=()=>({commands:t})=>t.keyboardShortcut("Enter"),tse=()=>({state:t,dispatch:e})=>zte(t,e);function oS(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Dg(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:oS(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function XI(t,e,n={}){return t.find(r=>r.type===e&&Dg(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function ME(t,e,n={}){return!!XI(t,e,n)}function lS(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!XI([...s.node.marks],e,n)))return;let a=s.index,l=t.start()+s.offset,c=a+1,u=l+s.node.nodeSize;for(;a>0&&ME([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&ME([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function xa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var nse=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=xa(t,r.schema),{doc:a,selection:l}=n,{$from:c,from:u,to:d}=l;if(s){const f=lS(c,i,e);if(f&&f.from<=u&&f.to>=d){const p=We.create(a,f.from,f.to);n.setSelection(p)}}return!0},rse=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function QI(t){return t instanceof We}function hl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function JI(t,e=null){if(!e)return null;const n=Je.atStart(t),r=Je.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?We.create(t,hl(0,s,i),hl(t.content.size,s,i)):We.create(t,hl(e,s,i),hl(e,s,i))}function sse(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function cS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var ise=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(cS()||sse())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!QI(n.state.selection))return a(),!0;const l=JI(s.doc,t)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},ase=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),ose=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),ZI=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&ZI(r)}return t};function ep(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return ZI(n)}function Fh(t,e,n){if(t instanceof oo||t instanceof de)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return de.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Fh("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,l="";const c=new RD({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?lo.fromSchema(c).parseSlice(ep(t),n.parseOptions):lo.fromSchema(c).parse(ep(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=lo.fromSchema(e);return n.slice?i.parseSlice(ep(t),n.parseOptions).content:i.parse(ep(t),n.parseOptions)}return Fh("",e,n)}function lse(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof kn||s instanceof Pn))return;const i=t.mapping.maps[r];let a=0;i.forEach((l,c,u,d)=>{a===0&&(a=d)}),t.setSelection(Je.near(t.doc.resolve(a),n))}var cse=t=>!("type"in t),use=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Fh(e,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){c(b)}try{l=Fh(e,i.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(b){return c(b),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((cse(l)?l:[l]).forEach(b=>{b.check(),p=p?b.isText&&b.marks.length===0:!1,g=g?b.isBlock:!1}),d===f&&g){const{parent:b}=r.doc.resolve(d);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(d-=1,f+=1)}let v;if(p){if(Array.isArray(e))v=e.map(b=>b.text||"").join("");else if(e instanceof de){let b="";e.forEach(w=>{w.text&&(b+=w.text)}),v=b}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,f)}else{v=l;const b=r.doc.resolve(d),w=b.node(),S=b.parentOffset===0,j=w.isText||w.isTextblock,M=w.content.size>0;S&&j&&M&&(d=Math.max(0,d-1)),r.replaceWith(d,f,v)}n.updateSelection&&lse(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},dse=()=>({state:t,dispatch:e})=>Lte(t,e),hse=()=>({state:t,dispatch:e})=>Rte(t,e),fse=()=>({state:t,dispatch:e})=>rI(t,e),mse=()=>({state:t,dispatch:e})=>oI(t,e),pse=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ox(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},gse=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ox(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},xse=()=>({state:t,dispatch:e})=>Dte(t,e),yse=()=>({state:t,dispatch:e})=>Ite(t,e);function eL(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function bse(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))cS()||eL()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var vse=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=bse(t).split(/-(?!$)/),a=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const d=u.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function wo(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?gn(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(f,p)=>{if(f.isText)return;const g=Math.max(r,p),x=Math.min(s,p+f.nodeSize);l.push({node:f,from:g,to:x})});const c=s-r,u=l.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>Dg(f.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((f,p)=>f+p.to-p.from,0)>=c}var wse=(t,e={})=>({state:n,dispatch:r})=>{const s=gn(t,n.schema);return wo(n,s,e)?Fte(n,r):!1},Nse=()=>({state:t,dispatch:e})=>dI(t,e),Sse=t=>({state:e,dispatch:n})=>{const r=gn(t,e.schema);return Xte(r)(e,n)},jse=()=>({state:t,dispatch:e})=>cI(t,e);function px(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function AE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var Cse=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=px(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=gn(t,r.schema)),l==="mark"&&(a=xa(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,f)=>{i&&i===d.type&&(c=!0,s&&n.setNodeMarkup(f,void 0,AE(d.attrs,e))),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&(c=!0,s&&n.addMark(f,f+d.nodeSize,a.create(AE(p.attrs,e))))})})}),c},kse=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Tse=()=>({tr:t,dispatch:e})=>{if(e){const n=new Gr(t.doc);t.setSelection(n)}return!0},Ese=()=>({state:t,dispatch:e})=>iI(t,e),Mse=()=>({state:t,dispatch:e})=>lI(t,e),Ase=()=>({state:t,dispatch:e})=>Bte(t,e),Pse=()=>({state:t,dispatch:e})=>Wte(t,e),Ose=()=>({state:t,dispatch:e})=>Ute(t,e);function O2(t,e,n={},r={}){return Fh(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var _se=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:a,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const u=O2(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function tL(t,e){const n=xa(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function nL(t,e){const n=new HN(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function Dse(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Ise(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function rL(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function gx(t){return e=>rL(e.$from,t)}function $e(t,e,n){return t.config[e]===void 0&&t.parent?$e(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?$e(t.parent,e,n):null}):t.config[e]}function uS(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=$e(e,"addExtensions",n);return r?[e,...uS(r())]:e}).flat(10)}function dS(t,e){const n=Gl.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function sL(t){return typeof t=="function"}function yt(t,e=void 0,...n){return sL(t)?e?t.bind(e)(...n):t(...n):t}function Lse(t={}){return Object.keys(t).length===0&&t.constructor===Object}function fu(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function iL(t){const e=[],{nodeExtensions:n,markExtensions:r}=fu(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:s},c=$e(a,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([p,g])=>{e.push({type:f,name:p,attribute:{...i,...g}})})})})}),s.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=$e(a,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const p={...i,...f};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,e.push({type:a.name,name:d,attribute:p})})}),e}function At(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=r[s]?r[s].split(" "):[],u=l.filter(d=>!c.includes(d));r[s]=[...c,...u].join(" ")}else if(s==="style"){const l=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[s]?r[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),l.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),r[s]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[s]=i}),r},{})}function Ig(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>At(n,r),{})}function Rse(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function PE(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):Rse(n.getAttribute(a.name));return l==null?i:{...i,[a.name]:l}},{});return{...r,...s}}}}function OE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Lse(n)?!1:n!=null))}function _E(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function Fse(t,e){var n;const r=iL(t),{nodeExtensions:s,markExtensions:i}=fu(t),a=(n=s.find(u=>$e(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(s.map(u=>{const d=r.filter(w=>w.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((w,S)=>{const j=$e(S,"extendNodeSchema",f);return{...w,...j?j(u):{}}},{}),g=OE({...p,content:yt($e(u,"content",f)),marks:yt($e(u,"marks",f)),group:yt($e(u,"group",f)),inline:yt($e(u,"inline",f)),atom:yt($e(u,"atom",f)),selectable:yt($e(u,"selectable",f)),draggable:yt($e(u,"draggable",f)),code:yt($e(u,"code",f)),whitespace:yt($e(u,"whitespace",f)),linebreakReplacement:yt($e(u,"linebreakReplacement",f)),defining:yt($e(u,"defining",f)),isolating:yt($e(u,"isolating",f)),attrs:Object.fromEntries(d.map(_E))}),x=yt($e(u,"parseHTML",f));x&&(g.parseDOM=x.map(w=>PE(w,d)));const v=$e(u,"renderHTML",f);v&&(g.toDOM=w=>v({node:w,HTMLAttributes:Ig(w,d)}));const b=$e(u,"renderText",f);return b&&(g.toText=b),[u.name,g]})),c=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((b,w)=>{const S=$e(w,"extendMarkSchema",f);return{...b,...S?S(u):{}}},{}),g=OE({...p,inclusive:yt($e(u,"inclusive",f)),excludes:yt($e(u,"excludes",f)),group:yt($e(u,"group",f)),spanning:yt($e(u,"spanning",f)),code:yt($e(u,"code",f)),attrs:Object.fromEntries(d.map(_E))}),x=yt($e(u,"parseHTML",f));x&&(g.parseDOM=x.map(b=>PE(b,d)));const v=$e(u,"renderHTML",f);return v&&(g.toDOM=b=>v({mark:b,HTMLAttributes:Ig(b,d)})),[u.name,g]}));return new RD({topNode:a,nodes:l,marks:c})}function zse(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function hS(t){return t.sort((n,r)=>{const s=$e(n,"priority")||100,i=$e(r,"priority")||100;return s>i?-1:s<i?1:0})}function aL(t){const e=hS(uS(t)),n=zse(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function oL(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,s,(c,u,d,f)=>{var p;c.isBlock&&u>r&&(l+=i);const g=a?.[c.type.name];if(g)return d&&(l+=g({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(l+=(p=c?.text)==null?void 0:p.slice(Math.max(r,u)-u,s-u))}),l}function Vse(t,e){const n={from:0,to:t.content.size};return oL(t,n,e)}function lL(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function $se(t,e){const n=gn(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const a=i.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function cL(t,e){const n=px(typeof e=="string"?e:e.name,t.schema);return n==="node"?$se(t,e):n==="mark"?tL(t,e):{}}function Bse(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function Hse(t){const e=Bse(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function uL(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const u=e.slice(i).map(l,-1),d=e.slice(i).map(c),f=e.invert().map(u,-1),p=e.invert().map(d);r.push({oldRange:{from:f,to:p},newRange:{from:u,to:d}})})}),Hse(r)}function fS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=lS(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}var Use=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,a=null;for(;i>0&&a===null;){const l=s.node(i);l?.type.name===e?a=l:i-=1}return[a,i]};function Sv(t,e){return e.nodes[t]||e.marks[t]||null}function Vp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var Wse=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,l)=>{var c,u;const d=((u=(c=s.type.spec).toText)==null?void 0:u.call(c,{node:s,pos:i,parent:a,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,r-i))}),n};function _2(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?xa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>Dg(f.attrs,n,{strict:!1}));let a=0;const l=[];if(s.forEach(({$from:f,$to:p})=>{const g=f.pos,x=p.pos;t.doc.nodesBetween(g,x,(v,b)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(g,b),S=Math.min(x,b+v.nodeSize),j=S-w;a+=j,l.push(...v.marks.map(M=>({mark:M,from:w,to:S})))})}),a===0)return!1;const c=l.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>Dg(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),u=l.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+u:c)>=a}function qse(t,e,n={}){if(!e)return wo(t,null,n)||_2(t,null,n);const r=px(e,t.schema);return r==="node"?wo(t,e,n):r==="mark"?_2(t,e,n):!1}var Kse=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=gx(l=>l.type.name===e)(t.selection);if(!i)return!1;const a=t.doc.resolve(i.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},Gse=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function DE(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function IE(t,e){const{nodeExtensions:n}=fu(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=yt($e(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function xx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(xx(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function dL(t){return t instanceof Ue}var hL=class fL{constructor(e){this.position=e}static fromJSON(e){return new fL(e.position)}toJSON(){return{position:this.position}}};function Yse(t,e){const n=e.mapping.mapResult(t.position);return{position:new hL(n.pos),mapResult:n}}function Xse(t){return new hL(t)}function Qse(t,e,n){var r;const{selection:s}=e;let i=null;if(QI(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(d,f,p)=>{if(u)return!1;if(d.isInline){const g=!p||p.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=g&&x}return!u}),u})}var Jse=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:l}=i,c=xa(t,r.schema);if(s)if(a){const u=tL(r,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(p,g)=>{const x=Math.max(g,d),v=Math.min(g+p.nodeSize,f);p.marks.find(w=>w.type===c)?p.marks.forEach(w=>{c===w.type&&n.addMark(x,v,c.create({...w.attrs,...e}))}):n.addMark(x,v,c.create(e))})});return Qse(r,n,c)},Zse=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),eie=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=gn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>YT(i,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>YT(i,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},tie=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=hl(t,0,r.content.size),i=Ue.create(r,s);e.setSelection(i)}return!0},nie=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=i.from,l=i.to),s&&n.doc.nodesBetween(a,l,(c,u)=>{c.isText||n.setNodeMarkup(u,void 0,{...c.attrs,dir:t})}),!0},rie=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=We.atStart(r).from,l=We.atEnd(r).to,c=hl(s,a,l),u=hl(i,a,l),d=We.create(r,c,u);e.setSelection(d)}return!0},sie=t=>({state:e,dispatch:n})=>{const r=gn(t,e.schema);return Zte(r)(e,n)};function LE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var iie=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:l,$to:c}=i,u=s.extensionManager.attributes,d=Vp(u,l.node().type.name,l.node().attrs);if(i instanceof Ue&&i.node.isBlock)return!l.parentOffset||!ea(a,l.pos)?!1:(r&&(t&&LE(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:Dse(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=f&&p?[{type:p,attrs:d}]:void 0,x=ea(e.doc,e.mapping.map(l.pos),1,g);if(!g&&!x&&ea(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(x=!0,g=p?[{type:p,attrs:d}]:void 0),r){if(x&&(i instanceof We&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,g),p&&!f&&!l.parentOffset&&l.parent.type!==p)){const v=e.mapping.map(l.before()),b=e.doc.resolve(v);l.node(-1).canReplaceWith(b.index(),b.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&LE(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},aie=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const l=gn(t,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let w=de.empty;const S=c.index(-1)?1:c.index(-2)?2:3;for(let E=c.depth-S;E>=c.depth-3;E-=1)w=de.from(c.node(E).copy(w));const j=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,M={...Vp(p,c.node().type.name,c.node().attrs),...e},C=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(M))||void 0;w=w.append(de.from(l.createAndFill(null,C)||void 0));const A=c.before(c.depth-(S-1));n.replace(A,c.after(-j),new Ee(w,4-S,0));let P=-1;n.doc.nodesBetween(A,n.doc.content.size,(E,D)=>{if(P>-1)return!1;E.isTextblock&&E.content.size===0&&(P=D+1)}),P>-1&&n.setSelection(We.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const g=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,x={...Vp(p,f.type.name,f.attrs),...e},v={...Vp(p,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const b=g?[{type:l,attrs:x},{type:g,attrs:v}]:[{type:l,attrs:x}];if(!ea(n.doc,c.pos,2))return!1;if(s){const{selection:w,storedMarks:S}=r,{splittableMarks:j}=i.extensionManager,M=S||w.$to.parentOffset&&w.$from.marks();if(n.split(c.pos,2,b).scrollIntoView(),!M||!s)return!0;const C=M.filter(A=>j.includes(A.type.name));n.ensureMarks(C)}return!0},jv=(t,e)=>{const n=gx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Eo(t.doc,n.pos)&&t.join(n.pos),!0},Cv=(t,e)=>{const n=gx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Eo(t.doc,r)&&t.join(r),!0},oie=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:p}=s.extensionManager,g=gn(t,a.schema),x=gn(e,a.schema),{selection:v,storedMarks:b}=a,{$from:w,$to:S}=v,j=w.blockRange(S),M=b||v.$to.parentOffset&&v.$from.marks();if(!j)return!1;const C=gx(A=>IE(A.type.name,f))(v);if(j.depth>=1&&C&&j.depth-C.depth<=1){if(C.node.type===g)return u.liftListItem(x);if(IE(C.node.type.name,f)&&g.validContent(C.node.content)&&l)return c().command(()=>(i.setNodeMarkup(C.pos,g),!0)).command(()=>jv(i,g)).command(()=>Cv(i,g)).run()}return!n||!M||!l?c().command(()=>d().wrapInList(g,r)?!0:u.clearNodes()).wrapInList(g,r).command(()=>jv(i,g)).command(()=>Cv(i,g)).run():c().command(()=>{const A=d().wrapInList(g,r),P=M.filter(E=>p.includes(E.type.name));return i.ensureMarks(P),A?!0:u.clearNodes()}).wrapInList(g,r).command(()=>jv(i,g)).command(()=>Cv(i,g)).run()},lie=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=xa(t,r.schema);return _2(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},cie=(t,e,n={})=>({state:r,commands:s})=>{const i=gn(t,r.schema),a=gn(e,r.schema),l=wo(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?s.setNode(a,c):s.setNode(i,{...c,...n})},uie=(t,e={})=>({state:n,commands:r})=>{const s=gn(t,n.schema);return wo(n,s,e)?r.lift(s):r.wrapIn(s,e)},die=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else a.delete(i.from,i.to)}return!0}}return!1},hie=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},fie=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=xa(t,r.schema),{$from:u,empty:d,ranges:f}=l;if(!s)return!0;if(d&&a){let{from:p,to:g}=l;const x=(i=u.marks().find(b=>b.type===c))==null?void 0:i.attrs,v=lS(u,c,x);v&&(p=v.from,g=v.to),n.removeMark(p,g,c)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},mie=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let i,a;return typeof t=="number"?(i=t,a=t):t&&"from"in t&&"to"in t?(i=t.from,a=t.to):(i=s.from,a=s.to),r&&e.doc.nodesBetween(i,a,(l,c)=>{if(l.isText)return;const u={...l.attrs};delete u.dir,e.setNodeMarkup(c,void 0,u)}),!0},pie=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=px(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=gn(t,r.schema)),l==="mark"&&(a=xa(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;let p,g,x,v;n.selection.empty?r.doc.nodesBetween(d,f,(b,w)=>{i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b)}):r.doc.nodesBetween(d,f,(b,w)=>{w<d&&i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b),w>=d&&w<=f&&(i&&i===b.type&&(c=!0,s&&n.setNodeMarkup(w,void 0,{...b.attrs,...e})),a&&b.marks.length&&b.marks.forEach(S=>{if(a===S.type&&(c=!0,s)){const j=Math.max(w,d),M=Math.min(w+b.nodeSize,f);n.addMark(j,M,a.create({...S.attrs,...e}))}}))}),g&&(p!==void 0&&s&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(b=>{a===b.type&&s&&n.addMark(x,v,a.create({...b.attrs,...e}))}))}),c},gie=(t,e={})=>({state:n,dispatch:r})=>{const s=gn(t,n.schema);return qte(s,e)(n,r)},xie=(t,e={})=>({state:n,dispatch:r})=>{const s=gn(t,n.schema);return Kte(s,e)(n,r)},yie=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},yx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},bie=(t,e)=>{if(oS(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function tp(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const f=Wse(u)+i;return a.forEach(p=>{if(d)return;const g=bie(f,p.find);if(!g)return;const x=c.state.tr,v=fx({state:c.state,transaction:x}),b={from:r-(g[0].length-i.length),to:s},{commands:w,chain:S,can:j}=new mx({editor:n,state:v});p.handler({state:v,range:b,match:g,commands:w,chain:S,can:j})===null||!x.steps.length||(p.undoable&&x.setMeta(l,{transform:x,from:r,to:s,text:i}),c.dispatch(x),d=!0)}),d}function vie(t){const{editor:e,rules:n}=t,r=new Lt({state:{init(){return null},apply(s,i,a){const l=s.getMeta(r);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=dS(de.from(d),a.schema);const{from:f}=c,p=f+d.length;tp({editor:e,from:f,to:p,text:d,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,l){return tp({editor:e,from:i,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&tp({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?tp({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function wie(t){return Object.prototype.toString.call(t).slice(8,-1)}function np(t){return wie(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function mL(t,e){const n={...t};return np(t)&&np(e)&&Object.keys(e).forEach(r=>{np(e[r])&&np(t[r])?n[r]=mL(t[r],e[r]):n[r]=e[r]}),n}var mS=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...yt($e(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...yt($e(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>mL(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ao=class pL extends mS{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new pL(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;const c=a.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Nie(t){return typeof t=="number"}var Sie=class{constructor(t){this.find=t.find,this.handler=t.handler}},jie=(t,e,n)=>{if(oS(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Cie(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:u,can:d}=new mx({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,s,(g,x)=>{var v,b,w,S,j;if((b=(v=g.type)==null?void 0:v.spec)!=null&&b.code||!(g.isText||g.isTextblock||g.isInline))return;const M=(j=(S=(w=g.content)==null?void 0:w.size)!=null?S:g.nodeSize)!=null?j:0,C=Math.max(r,x),A=Math.min(s,x+M);if(C>=A)return;const P=g.isText?g.text||"":g.textBetween(C-x,A-x,void 0,"");jie(P,i.find,a).forEach(D=>{if(D.index===void 0)return;const L=C+D.index+1,_=L+D[0].length,z={from:n.tr.mapping.map(L),to:n.tr.mapping.map(_)},G=i.handler({state:n,range:z,match:D,commands:c,chain:u,can:d,pasteEvent:a,dropEvent:l});f.push(G)})}),f.every(g=>g!==null)}var rp=null,kie=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Tie(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:f,to:p,rule:g,pasteEvt:x})=>{const v=d.tr,b=fx({state:d,transaction:v});if(!(!Cie({editor:e,state:b,from:Math.max(f-1,0),to:p.b-1,rule:g,pasteEvent:x,dropEvent:l})||!v.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Lt({view(f){const p=x=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(x.target)?f.dom.parentElement:null,r&&(rp=e)},g=()=>{rp&&(rp=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(i=r===f.dom.parentElement,l=p,!i){const g=rp;g?.isEditable&&setTimeout(()=>{const x=g.state.selection;x&&g.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(f,p)=>{var g;const x=(g=p.clipboardData)==null?void 0:g.getData("text/html");return a=p,s=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(f,p,g)=>{const x=f[0],v=x.getMeta("uiEvent")==="paste"&&!s,b=x.getMeta("uiEvent")==="drop"&&!i,w=x.getMeta("applyPasteRules"),S=!!w;if(!v&&!b&&!S)return;if(S){let{text:C}=w;typeof C=="string"?C=C:C=dS(de.from(C),g.schema);const{from:A}=w,P=A+C.length,E=kie(C);return c({rule:d,state:g,from:A,to:{b:P},pasteEvt:E})}const j=p.doc.content.findDiffStart(g.doc.content),M=p.doc.content.findDiffEnd(g.doc.content);if(!(!Nie(j)||!M||j===M.b))return c({rule:d,state:g,from:j,to:M,pasteEvt:a})}}))}var bx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=aL(t),this.schema=Fse(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Sv(e.name,this.schema)},r=$e(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return hS([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Sv(r.name,this.schema)},i=[],a=$e(r,"addKeyboardShortcuts",s);let l={};if(r.type==="mark"&&$e(r,"exitable",s)&&(l.ArrowRight=()=>Ao.handleExit({editor:t,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([g,x])=>[g,()=>x({editor:t})]));l={...l,...p}}const c=Bre(l);i.push(c);const u=$e(r,"addInputRules",s);if(DE(r,t.options.enableInputRules)&&u){const p=u();if(p&&p.length){const g=vie({editor:t,rules:p}),x=Array.isArray(g)?g:[g];i.push(...x)}}const d=$e(r,"addPasteRules",s);if(DE(r,t.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const g=Tie({editor:t,rules:p});i.push(...g)}}const f=$e(r,"addProseMirrorPlugins",s);if(f){const p=f();i.push(...p)}return i})}get attributes(){return iL(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=fu(this.extensions);return Object.fromEntries(e.filter(n=>!!$e(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:gn(n.name,this.schema)},i=$e(n,"addNodeView",s);if(!i)return[];const a=i();if(!a)return[];const l=(c,u,d,f,p)=>{const g=Ig(c,r);return a({node:c,view:u,getPos:d,decorations:f,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=fu(this.extensions);return Object.fromEntries(e.filter(n=>!!$e(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:xa(n.name,this.schema)},i=$e(n,"addMarkView",s);if(!i)return[];const a=(l,c,u)=>{const d=Ig(l,r);return i()({mark:l,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{Bie(l,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Sv(e.name,this.schema)};e.type==="mark"&&((n=yt($e(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=$e(e,"onBeforeCreate",r),i=$e(e,"onCreate",r),a=$e(e,"onUpdate",r),l=$e(e,"onSelectionUpdate",r),c=$e(e,"onTransaction",r),u=$e(e,"onFocus",r),d=$e(e,"onBlur",r),f=$e(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};bx.resolve=aL;bx.sort=hS;bx.flatten=uS;var Eie={};aS(Eie,{ClipboardTextSerializer:()=>xL,Commands:()=>yL,Delete:()=>bL,Drop:()=>vL,Editable:()=>wL,FocusEvents:()=>SL,Keymap:()=>jL,Paste:()=>CL,Tabindex:()=>kL,TextDirection:()=>TL,focusEventsPluginKey:()=>NL});var St=class gL extends mS{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new gL(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},xL=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Lt({key:new tn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),c=lL(n);return oL(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),yL=St.create({name:"commands",addCommands(){return{...YI}}}),bL=St.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var a,l,c,u;if((u=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const d=nL(t.before,[t,...e]);uL(d).forEach(g=>{d.mapping.mapResult(g.oldRange.from).deletedAfter&&d.mapping.mapResult(g.oldRange.to).deletedBefore&&d.before.nodesBetween(g.oldRange.from,g.oldRange.to,(x,v)=>{const b=v+x.nodeSize-2,w=g.oldRange.from<=v&&b<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:v,to:b,newFrom:d.mapping.map(v),newTo:d.mapping.map(b),deletedRange:g.oldRange,newRange:g.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((g,x)=>{var v,b;if(g instanceof Rs){const w=p.slice(x).map(g.from,-1),S=p.slice(x).map(g.to),j=p.invert().map(w,-1),M=p.invert().map(S),C=(v=d.doc.nodeAt(w-1))==null?void 0:v.marks.some(P=>P.eq(g.mark)),A=(b=d.doc.nodeAt(S))==null?void 0:b.marks.some(P=>P.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:j,to:M},newRange:{from:w,to:S},partial:!!(A||C),editor:this.editor,transaction:t,combinedTransform:d})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),vL=St.create({name:"drop",addProseMirrorPlugins(){return[new Lt({key:new tn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),wL=St.create({name:"editable",addProseMirrorPlugins(){return[new Lt({key:new tn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),NL=new tn("focusEvents"),SL=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Lt({key:NL,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),jL=St.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:f}=c,{pos:p,parent:g}=f,x=f.parent.isTextblock&&p>0?l.doc.resolve(p-1):f,v=x.parent.type.spec.isolating,b=f.pos-f.parentOffset,w=v&&x.parent.childCount===1?b===f.pos:Je.atStart(u).from===p;return!d||!g.type.isTextblock||g.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return cS()||eL()?i:s},addProseMirrorPlugins(){return[new Lt({key:new tn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),s=t.some(v=>v.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:l}=e.selection,c=Je.atStart(e.doc).from,u=Je.atEnd(e.doc).to;if(i||!(a===c&&l===u)||!xx(n.doc))return;const p=n.tr,g=fx({state:n,transaction:p}),{commands:x}=new mx({editor:this.editor,state:g});if(x.clearNodes(),!!p.steps.length)return p}})]}}),CL=St.create({name:"paste",addProseMirrorPlugins(){return[new Lt({key:new tn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),kL=St.create({name:"tabindex",addProseMirrorPlugins(){return[new Lt({key:new tn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),TL=St.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=fu(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Lt({key:new tn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),Mie=class Rc{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Rc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Rc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Rc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!s&&l.depth<=this.depth)return;const c=new Rc(l,this.editor,s,s?n:null);s&&(c.actualDepth=this.depth+1),e.push(new Rc(l,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(i[c]!==n[c])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(c=>n[c]===a.node.attrs[c])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Aie=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Pie(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var Oie=class extends yie{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:Yse,createMappablePosition:Xse},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=JI(e,this.options.autofocus);this.editorState=Vc.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Pie(Aie,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=sL(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[wL,xL.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),yL,SL,jL,kL,vL,CL,bL,TL.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new bx(r,this)}createCommandManager(){this.commandManager=new mx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=O2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=O2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new GI(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return cL(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return qse(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return dS(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Vse(this.state.doc,{blockSeparator:e,textSerializers:{...lL(this.schema),...n}})}get isEmpty(){return xx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Mie(e,this)}get $doc(){return this.$pos(0)}};function mu(t){return new yx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=yt(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];if(a){const c=l.search(/\S/),u=n.from+l.indexOf(a),d=u+a.length;if(fS(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(v=>v===t.type&&v!==g.mark.type)).filter(g=>g.to>u).length)return null;d<n.to&&i.delete(d,n.to),u>n.from&&i.delete(n.from+c,u);const p=n.from+c+a.length;i.addMark(n.from+c,p,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function EL(t){return new yx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=yt(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let l=n.to;const c=t.type.create(s);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>l?d=l:l=d+r[1].length;const f=r[0][r[0].length-1];i.insertText(f,a+r[0].length-1),i.replaceWith(d,l,c)}else if(r[0]){const u=t.type.isInline?a:a-1;i.insert(u,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function D2(t){return new yx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=yt(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function pu(t){return new yx({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=yt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),u=c&&BN(c,t.type,i);if(!u)return null;if(a.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,x=p||f.$to.parentOffset&&f.$from.marks();if(x){const v=x.filter(b=>g.includes(b.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,i).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Eo(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}var _ie=t=>"touches"in t,Die=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.touches[0];if(!c)return;const u=c.clientX-this.startX,d=c.clientY-this.startY;this.handleResize(u,d)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,c=this.element.offsetHeight;this.onCommit(l,c),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,s,i,a;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(a=t.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),s=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),s&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,_ie(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,s=this.startHeight;const i=t.includes("right"),a=t.includes("left"),l=t.includes("bottom"),c=t.includes("top");return i?r=this.startWidth+e:a&&(r=this.startWidth-e),l?s=this.startHeight+n:c&&(s=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,t):{width:r,height:s}}applyConstraints(t,e,n){var r,s,i,a;if(!n){let u=Math.max(this.minSize.width,t),d=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(u=Math.min(this.maxSize.width,u)),(s=this.maxSize)!=null&&s.height&&(d=Math.min(this.maxSize.height,d)),{width:u,height:d}}let l=t,c=e;return l<this.minSize.width&&(l=this.minSize.width,c=l/this.aspectRatio),c<this.minSize.height&&(c=this.minSize.height,l=c*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&l>this.maxSize.width&&(l=this.maxSize.width,c=l/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&c>this.maxSize.height&&(c=this.maxSize.height,l=c*this.aspectRatio),{width:l,height:c}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function Iie(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ue){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var Lie={};aS(Lie,{createAtomBlockMarkdownSpec:()=>Rie,createBlockMarkdownSpec:()=>Fie,createInlineMarkdownSpec:()=>$ie,parseAttributes:()=>pS,parseIndentedBlocks:()=>I2,renderNestedMarkdownContent:()=>xS,serializeAttributes:()=>gS});function pS(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const u=s.map(d=>d.trim().slice(1));e.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,u,d])=>{var f;const p=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),g=n[p];g&&(e[u]=g.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function gS(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Rie(t){const{nodeName:e,name:n,parseAttributes:r=pS,serializeAttributes:s=gS,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{const p={...i,...d.attributes};return f.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const p=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(f=d.match(p))==null?void 0:f.index;return g!==void 0?g:-1},tokenize(d,f,p){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=d.match(g);if(!x)return;const v=x[1]||"",b=r(v);if(!a.find(S=>!(S in b)))return{type:e,raw:x[0],attributes:b}}},renderMarkdown:d=>{const f=u(d.attrs||{}),p=s(f),g=p?` {${p}}`:"";return`:::${c}${g} :::`}}}function Fie(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=pS,serializeAttributes:i=gS,defaultAttributes:a={},content:l="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const p={};return c.forEach(g=>{g in f&&(p[g]=f[g])}),p};return{parseMarkdown:(f,p)=>{let g;if(r){const v=r(f);g=typeof v=="string"?[{type:"text",text:v}]:v}else l==="block"?g=p.parseChildren(f.tokens||[]):g=p.parseInline(f.tokens||[]);const x={...a,...f.attributes};return p.createNode(e,x,g)},markdownTokenizer:{name:e,level:"block",start(f){var p;const g=new RegExp(`^:::${u}`,"m"),x=(p=f.match(g))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(f,p,g){var x;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=f.match(v);if(!b)return;const[w,S=""]=b,j=s(S);let M=1;const C=w.length;let A="";const P=/^:::([\w-]*)(\s.*)?/gm,E=f.slice(C);for(P.lastIndex=0;;){const D=P.exec(E);if(D===null)break;const L=D.index,_=D[1];if(!((x=D[2])!=null&&x.endsWith(":::"))){if(_)M+=1;else if(M-=1,M===0){const z=E.slice(0,L);A=z.trim();const G=f.slice(0,C+L+D[0].length);let H=[];if(A)if(l==="block")for(H=g.blockTokens(z),H.forEach(W=>{W.text&&(!W.tokens||W.tokens.length===0)&&(W.tokens=g.inlineTokens(W.text))});H.length>0;){const W=H[H.length-1];if(W.type==="paragraph"&&(!W.text||W.text.trim()===""))H.pop();else break}else H=g.inlineTokens(A);return{type:e,raw:G,attributes:j,content:A,tokens:H}}}}}},renderMarkdown:(f,p)=>{const g=d(f.attrs||{}),x=i(g),v=x?` {${x}}`:"",b=p.renderChildren(f.content||[],`

`);return`:::${u}${v}

${b}

:::`}}}function zie(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,a]=r;e[s]=i||a,r=n.exec(t)}return e}function Vie(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function $ie(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=zie,serializeAttributes:i=Vie,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=t,u=n||e,d=p=>{if(!c)return p;const g={};return c.forEach(x=>{const v=typeof x=="string"?x:x.name,b=typeof x=="string"?void 0:x.skipIfDefault;if(v in p){const w=p[v];if(b!==void 0&&w===b)return;g[v]=w}}),g},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const x={...a,...p.attributes};if(l)return g.createNode(e,x);const v=r?r(p):p.content||"";return v?g.createNode(e,x,[g.createTextNode(v)]):g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(p){const g=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),x=p.match(g),v=x?.index;return v!==void 0?v:-1},tokenize(p,g,x){const v=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),b=p.match(v);if(!b)return;let w="",S="";if(l){const[,M]=b;S=M}else{const[,M,C]=b;S=M,w=C||""}const j=s(S.trim());return{type:e,raw:b[0],content:w.trim(),attributes:j}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=d(p.attrs||{}),v=i(x),b=v?` ${v}`:"";return l?`[${u}${b}]`:`[${u}${b}]${g}[/${u}]`}}}function I2(t,e,n){var r,s,i,a;const l=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<l.length;){const p=l[d],g=p.match(e.itemPattern);if(!g){if(c.length>0)break;if(p.trim()===""){d+=1,u=`${u}${p}
`;continue}else return}const x=e.extractItemData(g),{indentLevel:v,mainContent:b}=x;u=`${u}${p}
`;const w=[b];for(d+=1;d<l.length;){const C=l[d];if(C.trim()===""){const P=l.slice(d+1).findIndex(L=>L.trim()!=="");if(P===-1)break;if((((s=(r=l[d+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>v){w.push(C),u=`${u}${C}
`,d+=1;continue}else break}if((((a=(i=C.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:a.length)||0)>v)w.push(C),u=`${u}${C}
`,d+=1;else break}let S;const j=w.slice(1);if(j.length>0){const C=j.map(A=>A.slice(v+f)).join(`
`);C.trim()&&(e.customNestedParser?S=e.customNestedParser(C):S=n.blockTokens(C))}const M=e.createToken(x,S);c.push(M)}if(c.length!==0)return{items:c,raw:u}}function xS(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...a]=t.content,l=e.renderChildren([i]),c=[`${s}${l}`];return a&&a.length>0&&a.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(p=>p?e.indent(p):"").join(`
`);c.push(f)}}),c.join(`
`)}function Bie(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,a=t;s.descendants((l,c)=>{const u=i.mapping.map(c),d=i.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(g=>{if(g!==a)return!1;f=g}),!f)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==f.attrs[g]&&(p=!0)}),p){const g=t.type.create({...t.attrs,...n});i.removeMark(u,d,t.type),i.addMark(u,d,g)}}),i.docChanged&&e.view.dispatch(i)}var _n=class ML extends mS{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new ML(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Vl(t){return new Sie({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=yt(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];let u=n.to;if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(fS(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(b=>b===t.type&&b!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&a.delete(p,n.to),f>n.from&&a.delete(n.from+d,f),u=n.from+d+l.length,a.addMark(n.from+d,u,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:Hie,getOwnPropertySymbols:Uie}=Object,{hasOwnProperty:Wie}=Object.prototype;function kv(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function sp(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,a=i.get(n),l=i.get(r);if(a&&l)return a===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function qie(t){return t?.[Symbol.toStringTag]}function RE(t){return Hie(t).concat(Uie(t))}const Kie=Object.hasOwn||((t,e)=>Wie.call(t,e));function Yl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Gie="__v",Yie="__o",Xie="_owner",{getOwnPropertyDescriptor:FE,keys:zE}=Object;function Qie(t,e){return t.byteLength===e.byteLength&&Lg(new Uint8Array(t),new Uint8Array(e))}function Jie(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Zie(t,e){return t.byteLength===e.byteLength&&Lg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function eae(t,e){return Yl(t.getTime(),e.getTime())}function tae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nae(t,e){return t===e}function VE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let a,l,c=0;for(;(a=i.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const p=a.value,g=l.value;if(n.equals(p[0],g[0],c,f,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const rae=Yl;function sae(t,e,n){const r=zE(t);let s=r.length;if(zE(e).length!==s)return!1;for(;s-- >0;)if(!AL(t,e,n,r[s]))return!1;return!0}function Ed(t,e,n){const r=RE(t);let s=r.length;if(RE(e).length!==s)return!1;let i,a,l;for(;s-- >0;)if(i=r[s],!AL(t,e,n,i)||(a=FE(t,i),l=FE(e,i),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function iae(t,e){return Yl(t.valueOf(),e.valueOf())}function aae(t,e){return t.source===e.source&&t.flags===e.flags}function $E(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let a,l;for(;(a=i.next())&&!a.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Lg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function oae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function AL(t,e,n,r){return(r===Xie||r===Yie||r===Gie)&&(t.$$typeof||e.$$typeof)?!0:Kie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const lae="[object ArrayBuffer]",cae="[object Arguments]",uae="[object Boolean]",dae="[object DataView]",hae="[object Date]",fae="[object Error]",mae="[object Map]",pae="[object Number]",gae="[object Object]",xae="[object RegExp]",yae="[object Set]",bae="[object String]",vae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wae="[object URL]",Nae=Object.prototype.toString;function Sae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:a,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:x}){return function(b,w,S){if(b===w)return!0;if(b==null||w==null)return!1;const j=typeof b;if(j!==typeof w)return!1;if(j!=="object")return j==="number"?l(b,w,S):j==="function"?i(b,w,S):!1;const M=b.constructor;if(M!==w.constructor)return!1;if(M===Object)return c(b,w,S);if(Array.isArray(b))return e(b,w,S);if(M===Date)return r(b,w,S);if(M===RegExp)return d(b,w,S);if(M===Map)return a(b,w,S);if(M===Set)return f(b,w,S);const C=Nae.call(b);if(C===hae)return r(b,w,S);if(C===xae)return d(b,w,S);if(C===mae)return a(b,w,S);if(C===yae)return f(b,w,S);if(C===gae)return typeof b.then!="function"&&typeof w.then!="function"&&c(b,w,S);if(C===wae)return g(b,w,S);if(C===fae)return s(b,w,S);if(C===cae)return c(b,w,S);if(vae[C])return p(b,w,S);if(C===lae)return t(b,w,S);if(C===dae)return n(b,w,S);if(C===uae||C===pae||C===bae)return u(b,w,S);if(x){let A=x[C];if(!A){const P=qie(b);P&&(A=x[P])}if(A)return A(b,w,S)}return!1}}function jae({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Qie,areArraysEqual:n?Ed:Jie,areDataViewsEqual:Zie,areDatesEqual:eae,areErrorsEqual:tae,areFunctionsEqual:nae,areMapsEqual:n?kv(VE,Ed):VE,areNumbersEqual:rae,areObjectsEqual:n?Ed:sae,arePrimitiveWrappersEqual:iae,areRegExpsEqual:aae,areSetsEqual:n?kv($E,Ed):$E,areTypedArraysEqual:n?kv(Lg,Ed):Lg,areUrlsEqual:oae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=sp(r.areArraysEqual),i=sp(r.areMapsEqual),a=sp(r.areObjectsEqual),l=sp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:l})}return r}function Cae(t){return function(e,n,r,s,i,a,l){return t(e,n,l)}}function kae({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const Tae=Po();Po({strict:!0});Po({circular:!0});Po({circular:!0,strict:!0});Po({createInternalComparator:()=>Yl});Po({strict:!0,createInternalComparator:()=>Yl});Po({circular:!0,createInternalComparator:()=>Yl});Po({circular:!0,createInternalComparator:()=>Yl,strict:!0});function Po(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=jae(t),a=Sae(i),l=n?n(a):Cae(a);return kae({circular:e,comparator:a,createState:r,equals:l,strict:s})}var Tv={exports:{}},Ev={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function Eae(){if(BE)return Ev;BE=1;var t=bu(),e=vD();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Ev.useSyncExternalStoreWithSelector=function(u,d,f,p,g){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function w(A){if(!S){if(S=!0,j=A,A=p(A),g!==void 0&&v.hasValue){var P=v.value;if(g(P,A))return M=P}return M=A}if(P=M,r(j,A))return P;var E=p(A);return g!==void 0&&g(P,E)?(j=A,P):(j=A,M=E)}var S=!1,j,M,C=f===void 0?null:f;return[function(){return w(d())},C===null?void 0:function(){return w(C())}]},[d,f,p,g]);var b=s(u,x[0],x[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},Ev}var HE;function Mae(){return HE||(HE=1,Tv.exports=Eae()),Tv.exports}var Aae=Mae(),Pae=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Oae=({contentComponent:t})=>{const e=wD.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function _ae(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:u9.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var Dae=class extends be.Component{constructor(t){var e;super(t),this.editorContentRef=be.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=_ae(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:Pae(e,this.editorContentRef),...n}),t?.contentComponent&&o.jsx(Oae,{contentComponent:t.contentComponent})]})}},Iae=T.forwardRef((t,e)=>{const n=be.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return be.createElement(Dae,{key:n,innerRef:e,...t})}),Lae=be.memo(Iae),Rae=typeof window<"u"?T.useLayoutEffect:T.useEffect,Fae=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function zae(t){var e;const[n]=T.useState(()=>new Fae(t.editor)),r=Aae.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Tae);return Rae(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}var Vae=!1,L2=typeof window>"u",$ae=L2||!!(typeof window<"u"&&window.next),Bae=class PL{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?L2||$ae?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new Oie(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)==null?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?PL.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Hae(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new Bae(n)),s=wD.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(s),T.useEffect(r.onRender(e)),zae({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var Uae=T.createContext({editor:null});Uae.Consumer;var Wae=T.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),qae=()=>T.useContext(Wae);be.forwardRef((t,e)=>{const{onDragStart:n}=qae(),r=t.as||"div";return o.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});be.createContext({markViewContentRef:()=>{}});var Rg=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},Kae=/^\s*>\s$/,Gae=_n.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Rg("blockquote",{...At(this.options.HTMLAttributes,t),children:Rg("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const l=e.renderChildren([s]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[pu({find:Kae,type:this.type})]}}),Yae=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Xae=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Qae=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Jae=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Zae=Ao.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Rg("strong",{...At(this.options.HTMLAttributes,t),children:Rg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[mu({find:Yae,type:this.type}),mu({find:Qae,type:this.type})]},addPasteRules(){return[Vl({find:Xae,type:this.type}),Vl({find:Jae,type:this.type})]}}),eoe=/(^|[^`])`([^`]+)`(?!`)$/,toe=/(^|[^`])`([^`]+)`(?!`)/g,noe=Ao.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",At(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[mu({find:eoe,type:this.type})]},addPasteRules(){return[Vl({find:toe,type:this.type})]}}),Mv=4,roe=/^```([a-z]+)?[\s\n]$/,soe=/^~~~([a-z]+)?[\s\n]$/,ioe=_n.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Mv,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",At(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Mv,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:d}=s,g=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>l+x).join(`
`);return c.replaceWith(u,d,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Mv,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;return i.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var c;const{pos:u}=i,d=i.start(),f=i.end(),g=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let x=0,v=0;const b=u-d;for(let A=0;A<g.length;A+=1){if(v+g[A].length>=b){x=A;break}v+=g[A].length+1}const S=((c=g[x].match(/^ */))==null?void 0:c[0])||"",j=Math.min(S.length,n);if(j===0)return!0;let M=d;for(let A=0;A<x;A+=1)M+=g[A].length+1;return l.delete(M,M+j),u-M<=j&&l.setSelection(We.create(l.doc,M)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(g=>{var x;const v=((x=g.match(/^ */))==null?void 0:x[0])||"",b=Math.min(v.length,n);return g.slice(b)}).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(Je.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[D2({find:roe,type:this.type,getAttributes:t=>({language:t[1]})}),D2({find:soe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Lt({key:new tn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s?.mode;if(!n||!i)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(We.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),aoe=_n.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),ooe=_n.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",At(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&a){const f=c.filter(p=>l.includes(p.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),loe=_n.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,At(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>D2({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),coe=_n.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",At(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Iie(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return dL(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(We.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(Ue.create(a.doc,c.pos)):a.setSelection(We.create(a.doc,c.pos));else{const d=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(a.insert(u,f),a.setSelection(We.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[EL({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),uoe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,doe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,hoe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,foe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,moe=Ao.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",At(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[mu({find:uoe,type:this.type}),mu({find:hoe,type:this.type})]},addPasteRules(){return[Vl({find:doe,type:this.type}),Vl({find:foe,type:this.type})]}});const poe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",goe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",R2="numeric",F2="ascii",z2="alpha",ih="asciinumeric",Hd="alphanumeric",V2="domain",OL="emoji",xoe="scheme",yoe="slashscheme",Av="whitespace";function boe(t,e){return t in e||(e[t]=[]),e[t]}function fl(t,e,n){e[R2]&&(e[ih]=!0,e[Hd]=!0),e[F2]&&(e[ih]=!0,e[z2]=!0),e[ih]&&(e[Hd]=!0),e[z2]&&(e[Hd]=!0),e[Hd]&&(e[V2]=!0),e[OL]&&(e[V2]=!0);for(const r in e){const s=boe(r,n);s.indexOf(t)<0&&s.push(t)}}function voe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Mr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Mr.groups={};Mr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Mr.groups;let s;return e&&e.j?s=e:(s=new Mr(e),n&&r&&fl(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Mr.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,l=s.go(t);if(l?(a=new Mr,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Mr,i){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(voe(a.t,r),n);fl(i,c,r)}else n&&fl(i,n,r);a.t=i}return s.j[t]=a,a}};const it=(t,e,n,r,s)=>t.ta(e,n,r,s),Gt=(t,e,n,r,s)=>t.tr(e,n,r,s),UE=(t,e,n,r,s)=>t.ts(e,n,r,s),ye=(t,e,n,r,s)=>t.tt(e,n,r,s),Bi="WORD",$2="UWORD",_L="ASCIINUMERICAL",DL="ALPHANUMERICAL",zh="LOCALHOST",B2="TLD",H2="UTLD",$p="SCHEME",Fc="SLASH_SCHEME",yS="NUM",U2="WS",bS="NL",ah="OPENBRACE",oh="CLOSEBRACE",Fg="OPENBRACKET",zg="CLOSEBRACKET",Vg="OPENPAREN",$g="CLOSEPAREN",Bg="OPENANGLEBRACKET",Hg="CLOSEANGLEBRACKET",Ug="FULLWIDTHLEFTPAREN",Wg="FULLWIDTHRIGHTPAREN",qg="LEFTCORNERBRACKET",Kg="RIGHTCORNERBRACKET",Gg="LEFTWHITECORNERBRACKET",Yg="RIGHTWHITECORNERBRACKET",Xg="FULLWIDTHLESSTHAN",Qg="FULLWIDTHGREATERTHAN",Jg="AMPERSAND",Zg="APOSTROPHE",e0="ASTERISK",Ua="AT",t0="BACKSLASH",n0="BACKTICK",r0="CARET",Ga="COLON",vS="COMMA",s0="DOLLAR",ti="DOT",i0="EQUALS",wS="EXCLAMATION",ds="HYPHEN",lh="PERCENT",a0="PIPE",o0="PLUS",l0="POUND",ch="QUERY",NS="QUOTE",IL="FULLWIDTHMIDDLEDOT",SS="SEMI",ni="SLASH",uh="TILDE",c0="UNDERSCORE",LL="EMOJI",u0="SYM";var RL=Object.freeze({__proto__:null,ALPHANUMERICAL:DL,AMPERSAND:Jg,APOSTROPHE:Zg,ASCIINUMERICAL:_L,ASTERISK:e0,AT:Ua,BACKSLASH:t0,BACKTICK:n0,CARET:r0,CLOSEANGLEBRACKET:Hg,CLOSEBRACE:oh,CLOSEBRACKET:zg,CLOSEPAREN:$g,COLON:Ga,COMMA:vS,DOLLAR:s0,DOT:ti,EMOJI:LL,EQUALS:i0,EXCLAMATION:wS,FULLWIDTHGREATERTHAN:Qg,FULLWIDTHLEFTPAREN:Ug,FULLWIDTHLESSTHAN:Xg,FULLWIDTHMIDDLEDOT:IL,FULLWIDTHRIGHTPAREN:Wg,HYPHEN:ds,LEFTCORNERBRACKET:qg,LEFTWHITECORNERBRACKET:Gg,LOCALHOST:zh,NL:bS,NUM:yS,OPENANGLEBRACKET:Bg,OPENBRACE:ah,OPENBRACKET:Fg,OPENPAREN:Vg,PERCENT:lh,PIPE:a0,PLUS:o0,POUND:l0,QUERY:ch,QUOTE:NS,RIGHTCORNERBRACKET:Kg,RIGHTWHITECORNERBRACKET:Yg,SCHEME:$p,SEMI:SS,SLASH:ni,SLASH_SCHEME:Fc,SYM:u0,TILDE:uh,TLD:B2,UNDERSCORE:c0,UTLD:H2,UWORD:$2,WORD:Bi,WS:U2});const Ri=/[a-z]/,Md=new RegExp("\\p{L}","u"),Pv=new RegExp("\\p{Emoji}","u"),Fi=/\d/,Ov=/\s/,WE="\r",_v=`
`,woe="",Noe="",Dv="";let ip=null,ap=null;function Soe(t=[]){const e={};Mr.groups=e;const n=new Mr;ip==null&&(ip=qE(poe)),ap==null&&(ap=qE(goe)),ye(n,"'",Zg),ye(n,"{",ah),ye(n,"}",oh),ye(n,"[",Fg),ye(n,"]",zg),ye(n,"(",Vg),ye(n,")",$g),ye(n,"<",Bg),ye(n,">",Hg),ye(n,"",Ug),ye(n,"",Wg),ye(n,"",qg),ye(n,"",Kg),ye(n,"",Gg),ye(n,"",Yg),ye(n,"",Xg),ye(n,"",Qg),ye(n,"&",Jg),ye(n,"*",e0),ye(n,"@",Ua),ye(n,"`",n0),ye(n,"^",r0),ye(n,":",Ga),ye(n,",",vS),ye(n,"$",s0),ye(n,".",ti),ye(n,"=",i0),ye(n,"!",wS),ye(n,"-",ds),ye(n,"%",lh),ye(n,"|",a0),ye(n,"+",o0),ye(n,"#",l0),ye(n,"?",ch),ye(n,'"',NS),ye(n,"/",ni),ye(n,";",SS),ye(n,"~",uh),ye(n,"_",c0),ye(n,"\\",t0),ye(n,"",IL);const r=Gt(n,Fi,yS,{[R2]:!0});Gt(r,Fi,r);const s=Gt(r,Ri,_L,{[ih]:!0}),i=Gt(r,Md,DL,{[Hd]:!0}),a=Gt(n,Ri,Bi,{[F2]:!0});Gt(a,Fi,s),Gt(a,Ri,a),Gt(s,Fi,s),Gt(s,Ri,s);const l=Gt(n,Md,$2,{[z2]:!0});Gt(l,Ri),Gt(l,Fi,i),Gt(l,Md,l),Gt(i,Fi,i),Gt(i,Ri),Gt(i,Md,i);const c=ye(n,_v,bS,{[Av]:!0}),u=ye(n,WE,U2,{[Av]:!0}),d=Gt(n,Ov,U2,{[Av]:!0});ye(n,Dv,d),ye(u,_v,c),ye(u,Dv,d),Gt(u,Ov,d),ye(d,WE),ye(d,_v),Gt(d,Ov,d),ye(d,Dv,d);const f=Gt(n,Pv,LL,{[OL]:!0});ye(f,"#"),Gt(f,Pv,f),ye(f,woe,f);const p=ye(f,Noe);ye(p,"#"),Gt(p,Pv,f);const g=[[Ri,a],[Fi,s]],x=[[Ri,null],[Md,l],[Fi,i]];for(let v=0;v<ip.length;v++)Fa(n,ip[v],B2,Bi,g);for(let v=0;v<ap.length;v++)Fa(n,ap[v],H2,$2,x);fl(B2,{tld:!0,ascii:!0},e),fl(H2,{utld:!0,alpha:!0},e),Fa(n,"file",$p,Bi,g),Fa(n,"mailto",$p,Bi,g),Fa(n,"http",Fc,Bi,g),Fa(n,"https",Fc,Bi,g),Fa(n,"ftp",Fc,Bi,g),Fa(n,"ftps",Fc,Bi,g),fl($p,{scheme:!0,ascii:!0},e),fl(Fc,{slashscheme:!0,ascii:!0},e),t=t.sort((v,b)=>v[0]>b[0]?1:-1);for(let v=0;v<t.length;v++){const b=t[v][0],S=t[v][1]?{[xoe]:!0}:{[yoe]:!0};b.indexOf("-")>=0?S[V2]=!0:Ri.test(b)?Fi.test(b)?S[ih]=!0:S[F2]=!0:S[R2]=!0,UE(n,b,b,S)}return UE(n,"localhost",zh,{ascii:!0}),n.jd=new Mr(u0),{start:n,tokens:Object.assign({groups:e},RL)}}function FL(t,e){const n=joe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let l=t,c=null,u=0,d=null,f=-1,p=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(f=0,p=0,d=l):f>=0&&(f+=n[a].length,p++),u+=n[a].length,i+=n[a].length,a++;i-=f,a-=p,u-=f,s.push({t:d.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function joe(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Fa(t,e,n,r,s){let i;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new Mr(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new Mr(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function qE(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Vh={defaultProtocol:"http",events:null,format:KE,formatHref:KE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function jS(t,e=null){let n=Object.assign({},Vh);t&&(n=Object.assign(n,t instanceof jS?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}jS.prototype={o:Vh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Vh[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function KE(t){return t}function zL(t,e){this.t="token",this.v=t,this.tk=e}zL.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Vh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),c&&(a.target=c),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:s,attributes:a,content:i,eventListeners:f}}};function vx(t,e){class n extends zL{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const GE=vx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),YE=vx("text"),Coe=vx("nl"),op=vx("url",{isLink:!0,toHref(t=Vh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==zh&&t[1].t===Ga}}),cs=t=>new Mr(t);function koe({groups:t}){const e=t.domain.concat([Jg,e0,Ua,t0,n0,r0,s0,i0,ds,yS,lh,a0,o0,l0,ni,u0,uh,c0]),n=[Zg,Ga,vS,ti,wS,lh,ch,NS,SS,Bg,Hg,ah,oh,zg,Fg,Vg,$g,Ug,Wg,qg,Kg,Gg,Yg,Xg,Qg],r=[Jg,Zg,e0,t0,n0,r0,s0,i0,ds,ah,oh,lh,a0,o0,l0,ch,ni,u0,uh,c0],s=cs(),i=ye(s,uh);it(i,r,i),it(i,t.domain,i);const a=cs(),l=cs(),c=cs();it(s,t.domain,a),it(s,t.scheme,l),it(s,t.slashscheme,c),it(a,r,i),it(a,t.domain,a);const u=ye(a,Ua);ye(i,Ua,u),ye(l,Ua,u),ye(c,Ua,u);const d=ye(i,ti);it(d,r,i),it(d,t.domain,i);const f=cs();it(u,t.domain,f),it(f,t.domain,f);const p=ye(f,ti);it(p,t.domain,f);const g=cs(GE);it(p,t.tld,g),it(p,t.utld,g),ye(u,zh,g);const x=ye(f,ds);ye(x,ds,x),it(x,t.domain,f),it(g,t.domain,f),ye(g,ti,p),ye(g,ds,x);const v=ye(g,Ga);it(v,t.numeric,GE);const b=ye(a,ds),w=ye(a,ti);ye(b,ds,b),it(b,t.domain,a),it(w,r,i),it(w,t.domain,a);const S=cs(op);it(w,t.tld,S),it(w,t.utld,S),it(S,t.domain,a),it(S,r,i),ye(S,ti,w),ye(S,ds,b),ye(S,Ua,u);const j=ye(S,Ga),M=cs(op);it(j,t.numeric,M);const C=cs(op),A=cs();it(C,e,C),it(C,n,A),it(A,e,C),it(A,n,A),ye(S,ni,C),ye(M,ni,C);const P=ye(l,Ga),E=ye(c,Ga),D=ye(E,ni),L=ye(D,ni);it(l,t.domain,a),ye(l,ti,w),ye(l,ds,b),it(c,t.domain,a),ye(c,ti,w),ye(c,ds,b),it(P,t.domain,C),ye(P,ni,C),ye(P,ch,C),it(L,t.domain,C),it(L,e,C),ye(L,ni,C);const _=[[ah,oh],[Fg,zg],[Vg,$g],[Bg,Hg],[Ug,Wg],[qg,Kg],[Gg,Yg],[Xg,Qg]];for(let z=0;z<_.length;z++){const[G,H]=_[z],W=ye(C,G);ye(A,G,W),ye(W,H,C);const R=cs(op);it(W,e,R);const $=cs();it(W,n),it(R,e,R),it(R,n,$),it($,e,R),it($,n,$),ye(R,H,C),ye($,H,C)}return ye(s,zh,S),ye(s,bS,Coe),{start:s,tokens:RL}}function Toe(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let l=t,c=null,u=null,d=0,f=null,p=-1;for(;s<r&&!(c=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(u=c||l.go(n[s].t));)c=null,l=u,l.accepts()?(p=0,f=l):p>=0&&p++,s++,d++;if(p<0)s-=d,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(Iv(YE,e,a)),a=[]),s-=p,d-=p;const g=f.t,x=n.slice(s-d,s);i.push(Iv(g,e,x))}}return a.length>0&&i.push(Iv(YE,e,a)),i}function Iv(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const Eoe=typeof console<"u"&&console&&console.warn||(()=>{}),Moe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Aoe(){return Mr.groups={},_t.scanner=null,_t.parser=null,_t.tokenQueue=[],_t.pluginQueue=[],_t.customSchemes=[],_t.initialized=!1,_t}function XE(t,e=!1){if(_t.initialized&&Eoe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Moe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_t.customSchemes.push([t,e])}function Poe(){_t.scanner=Soe(_t.customSchemes);for(let t=0;t<_t.tokenQueue.length;t++)_t.tokenQueue[t][1]({scanner:_t.scanner});_t.parser=koe(_t.scanner.tokens);for(let t=0;t<_t.pluginQueue.length;t++)_t.pluginQueue[t][1]({scanner:_t.scanner,parser:_t.parser});return _t.initialized=!0,_t}function CS(t){return _t.initialized||Poe(),Toe(_t.parser.start,t,FL(_t.scanner.start,t))}CS.scan=FL;function VL(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new jS(n),s=CS(t),i=[];for(let a=0;a<s.length;a++){const l=s[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var kS="[\0- -\u2029]",Ooe=new RegExp(kS),_oe=new RegExp(`${kS}$`),Doe=new RegExp(kS,"g");function Ioe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Loe(t){return new Lt({key:new tn("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=e.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,l=nL(n.doc,[...e]);if(uL(l).forEach(({newRange:u})=>{const d=Ise(r.doc,u,g=>g.isTextblock);let f,p;if(d.length>1)f=d[0],p=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const g=r.doc.textBetween(u.from,u.to," "," ");if(!_oe.test(g))return;f=d[0],p=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&p){const g=p.split(Ooe).filter(Boolean);if(g.length<=0)return!1;const x=g[g.length-1],v=f.pos+p.lastIndexOf(x);if(!x)return!1;const b=CS(x).map(w=>w.toObject(t.defaultProtocol));if(!Ioe(b))return!1;b.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{fS(w.from,w.to,r.doc).some(S=>S.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function Roe(t){return new Lt({key:new tn("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let f=r.target;const p=[];for(;f.nodeName!=="DIV";)p.push(f),f=f.parentNode;l=p.find(g=>g.nodeName==="A")}if(!l)return a;const c=cL(e.state,t.type.name),u=(s=l?.href)!=null?s:c.href,d=(i=l?.target)!=null?i:c.target;l&&u&&(window.open(u,d),a=!0)}return a}}})}function Foe(t){return new Lt({key:new tn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:a}=i,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=VL(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||s!==void 0&&!s(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function Xo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(Doe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var zoe=Ao.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){XE(t);return}XE(t.scheme,t.optionalSlashes)})},onDestroy(){Aoe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Xo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Xo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Xo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",At(this.options.HTMLAttributes,t),0]:["a",At(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Xo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Xo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Vl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=VL(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Xo(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Loe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Xo(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(Roe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Foe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Voe=Object.defineProperty,$oe=(t,e)=>{for(var n in e)Voe(t,n,{get:e[n],enumerable:!0})},Boe="listItem",QE="textStyle",JE=/^\s*([-+*])\s$/,$L=_n.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",At(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Boe,this.editor.getAttributes(QE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=pu({find:JE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=pu({find:JE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(QE),editor:this.editor})),[t]}}),BL=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",At(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>xS(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Hoe={};$oe(Hoe,{findListItemPos:()=>bf,getNextListDepth:()=>TS,handleBackspace:()=>W2,handleDelete:()=>q2,hasListBefore:()=>HL,hasListItemAfter:()=>Uoe,hasListItemBefore:()=>UL,listItemHasSubList:()=>WL,nextListIsDeeper:()=>qL,nextListIsHigher:()=>KL});var bf=(t,e)=>{const{$from:n}=e.selection,r=gn(t,e.schema);let s=null,i=n.depth,a=n.pos,l=null;for(;i>0&&l===null;)s=n.node(i),s.type===r?l=i:(i-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},TS=(t,e)=>{const n=bf(t,e);if(!n)return!1;const[,r]=Use(e,t,n.$pos.pos+4);return r},HL=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},UL=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},WL=(t,e,n)=>{if(!n)return!1;const r=gn(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},W2=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!wo(t.state,e)&&HL(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((p,g)=>{p.type.name===e&&u.push({node:p,pos:g})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!wo(t.state,e)||!Gse(t.state))return!1;const r=bf(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=WL(e,t.state,i);return UL(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},qL=(t,e)=>{const n=TS(t,e),r=bf(t,e);return!r||!n?!1:n>r.depth},KL=(t,e)=>{const n=TS(t,e),r=bf(t,e);return!r||!n?!1:n<r.depth},q2=(t,e)=>{if(!wo(t.state,e)||!Kse(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:qL(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():KL(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Uoe=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},GL=St.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&q2(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&q2(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&W2(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&W2(t,n,r)&&(e=!0)}),e}}}}),ZE=/^(\s*)(\d+)\.\s+(.*)$/,Woe=/^\s/;function qoe(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(ZE);if(!i)break;const[,a,l,c]=i,u=a.length;let d=c,f=n+1;const p=[s];for(;f<t.length;){const g=t[f];if(g.match(ZE))break;if(g.trim()==="")p.push(g),d+=`
`,f+=1;else if(g.match(Woe))p.push(g),d+=`
${g.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:p.join(`
`)}),r=f,n=f}return[e,r]}function YL(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const a=t[i];if(a.indent===e){const l=a.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const g=n.blockTokens(d);u.push(...g)}let f=i+1;const p=[];for(;f<t.length&&t[f].indent>e;)p.push(t[f]),f+=1;if(p.length>0){const g=Math.min(...p.map(v=>v.indent)),x=YL(p,g,n);u.push({type:"list",ordered:!0,start:p[0].number,items:x,raw:p.map(v=>v.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:u}),i=f}else i+=1}return s}function Koe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var Goe="listItem",e6="textStyle",t6=/^(\d+)\.\s$/,XL=_n.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",At(this.options.HTMLAttributes,n),0]:["ol",At(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?Koe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,a]=qoe(s);if(i.length===0)return;const l=YL(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Goe,this.editor.getAttributes(e6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=pu({find:t6,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=pu({find:t6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(e6)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Yoe=/^\s*(\[([( |x])?\])\s$/,Xoe=_n.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",At(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return xS(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,p;l.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=n();if(typeof g!="number")return!1;const x=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...x?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{s.setAttribute(d,f)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,a),s.append(i,c),Object.entries(e).forEach(([d,f])=>{s.setAttribute(d,f)}),{dom:s,contentDOM:c,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[pu({find:Yoe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Qoe=_n.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",At(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const a=I2(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(i)},s=I2(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,a)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});St.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push($L.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(BL.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(GL.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(XL.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Xoe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Qoe.configure(this.options.taskList)),t}});var Joe=_n.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",At(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Zoe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ele=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tle=Ao.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",At(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[mu({find:Zoe,type:this.type})]},addPasteRules(){return[Vl({find:ele,type:this.type})]}}),nle=_n.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),QL=Ao.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",At(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),rle=QL;function sle(t={}){return new Lt({view(e){return new ile(e,t)}})}class ile{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let f=e.nodeBefore,p=e.nodeAfter;if(f||p){let g=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(g){let x=g.getBoundingClientRect(),v=f?x.bottom:x.top;f&&p&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;r={left:x.left,right:x.right,top:v-b,bottom:v+b}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:f.left-p,right:f.left+p,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),p=f.width/c.offsetWidth,g=f.height/c.offsetHeight;u=f.left-c.scrollLeft*p,d=f.top-c.scrollTop*g}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=GD(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Qt extends Je{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Qt.valid(r)?new Qt(r):Je.near(r)}content(){return Ee.empty}eq(e){return e instanceof Qt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Qt(e.resolve(n.pos))}getBookmark(){return new ES(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!ale(e)||!ole(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Qt.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let c=e.doc.resolve(s);if(Qt.valid(c))return c}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Ue.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let l=e.doc.resolve(s);if(Qt.valid(l))return l}return null}}}Qt.prototype.visible=!1;Qt.findFrom=Qt.findGapCursorFrom;Je.jsonID("gapcursor",Qt);class ES{constructor(e){this.pos=e}map(e){return new ES(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Qt.valid(n)?new Qt(n):Je.near(n)}}function JL(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function ale(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||JL(s.type))return!0;if(s.inlineContent)return!1}}return!0}function ole(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||JL(s.type))return!0;if(s.inlineContent)return!1}}return!0}function lle(){return new Lt({props:{decorations:hle,createSelectionBetween(t,e,n){return e.pos==n.pos&&Qt.valid(n)?new Qt(n):null},handleClick:ule,handleKeyDown:cle,handleDOMEvents:{beforeinput:dle}}})}const cle=iS({ArrowLeft:lp("horiz",-1),ArrowRight:lp("horiz",1),ArrowUp:lp("vert",-1),ArrowDown:lp("vert",1)});function lp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof We){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=Qt.findGapCursorFrom(l,e,c);return u?(s&&s(r.tr.setSelection(new Qt(u))),!0):!1}}function ule(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Qt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ue.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Qt(r))),!0)}function dle(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Qt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=de.empty;for(let a=r.length-1;a>=0;a--)s=de.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new Ee(s,0,0));return i.setSelection(We.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function hle(t){if(!(t.selection instanceof Qt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Et.create(t.doc,[An.widget(t.selection.head,e,{key:"gapcursor"})])}var d0=200,On=function(){};On.prototype.append=function(e){return e.length?(e=On.from(e),!this.length&&e||e.length<d0&&this.leafAppend(e)||this.length<d0&&e.leafPrepend(this)||this.appendInner(e)):this};On.prototype.prepend=function(e){return e.length?On.from(e).append(this):this};On.prototype.appendInner=function(e){return new fle(this,e)};On.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?On.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};On.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};On.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};On.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};On.from=function(e){return e instanceof On?e:e&&e.length?new ZL(e):On.empty};var ZL=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,l){for(var c=i;c<a;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,l){for(var c=i-1;c>=a;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=d0)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=d0)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(On);On.empty=new ZL([]);var fle=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(On);const mle=500;class Ds{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,l,c,u=[],d=[];return this.items.forEach((f,p)=>{if(!f.step){s||(s=this.remapping(r,p+1),i=s.maps.length),i--,d.push(f);return}if(s){d.push(new ri(f.map));let g=f.step.map(s.slice(i)),x;g&&a.maybeStep(g).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],u.push(new ri(x,void 0,void 0,u.length+d.length))),i--,x&&s.appendMap(x,i)}else a.maybeStep(f.step);if(f.selection)return l=s?f.selection.map(s.slice(i)):f.selection,c=new Ds(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,r,s){let i=[],a=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),p=new ri(e.mapping.maps[d],f,n),g;(g=c&&c.merge(p))&&(p=g,d?i.pop():l=l.slice(0,l.length-1)),i.push(p),n&&(a++,n=void 0),s||(c=p)}let u=a-r.depth;return u>gle&&(l=ple(l,u),a-=u),new Ds(l.append(i),a)}remapping(e,n){let r=new _h;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ds(this.items.append(e.map(n=>new ri(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},s);let c=n;this.items.forEach(p=>{let g=i.getMirror(--c);if(g==null)return;a=Math.min(a,g);let x=i.maps[g];if(p.step){let v=e.steps[g].invert(e.docs[g]),b=p.selection&&p.selection.map(i.slice(c+1,g));b&&l++,r.push(new ri(x,v,b))}else r.push(new ri(x))},s);let u=[];for(let p=n;p<a;p++)u.push(new ri(i.maps[p]));let d=this.items.slice(0,s).append(u).append(r),f=new Ds(d,l);return f.emptyItemCount()>mle&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,l)=>{if(l>=e)s.push(a),a.selection&&i++;else if(a.step){let c=a.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=a.selection&&a.selection.map(n.slice(r));d&&i++;let f=new ri(u.invert(),c,d),p,g=s.length-1;(p=s.length&&s[g].merge(f))?s[g]=p:s.push(f)}}else a.map&&r--},this.items.length,0),new Ds(On.from(s.reverse()),i)}}Ds.empty=new Ds(On.empty,0);function ple(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class ri{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ri(n.getMap().invert(),n,this.selection)}}}class Wa{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const gle=20;function xle(t,e,n,r){let s=n.getMeta(jl),i;if(s)return s.historyState;n.getMeta(vle)&&(t=new Wa(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(jl))return a.getMeta(jl).redo?new Wa(t.done.addTransform(n,void 0,r,Bp(e)),t.undone,n6(n.mapping.maps),t.prevTime,t.prevComposition):new Wa(t.done,t.undone.addTransform(n,void 0,r,Bp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!yle(n,t.prevRanges)),u=a?Lv(t.prevRanges,n.mapping):n6(n.mapping.maps);return new Wa(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,Bp(e)),Ds.empty,u,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Wa(t.done.rebased(n,i),t.undone.rebased(n,i),Lv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Wa(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Lv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function yle(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function n6(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function Lv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function ble(t,e,n){let r=Bp(e),s=jl.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),c=new Wa(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(jl,{redo:n,historyState:c})}let Rv=!1,r6=null;function Bp(t){let e=t.plugins;if(r6!=e){Rv=!1,r6=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Rv=!0;break}}return Rv}const jl=new tn("history"),vle=new tn("closeHistory");function wle(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Lt({key:jl,state:{init(){return new Wa(Ds.empty,Ds.empty,null,0,-1)},apply(e,n,r){return xle(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?tR:r=="historyRedo"?nR:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function eR(t,e){return(n,r)=>{let s=jl.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=ble(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const tR=eR(!1,!0),nR=eR(!0,!0);St.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Lt({key:new tn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const a=i-s,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-r,u=l-c,d=l;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var Nle=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sle(this.options)]}});St.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Lt({key:new tn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return Et.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(s>=u&&s<=u+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(s>=u&&s<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(An.node(u,u+c.nodeSize,{class:this.options.className}))}),Et.create(t,i)}}})]}});var Sle=St.create({name:"gapCursor",addProseMirrorPlugins(){return[lle()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=yt($e(t,"allowGapCursor",n)))!=null?e:null}}});St.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Lt({key:new tn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,u=!a.isLeaf&&xx(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const f=An.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});s.push(f)}return this.options.includeChildren}),Et.create(t,s)}}})]}});St.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Lt({key:new tn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||dL(n.selection)||t.view.dragging?null:Et.create(n.doc,[An.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function s6({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var jle=St.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new tn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Lt({key:e,appendTransaction:(s,i,a)=>{const{doc:l,tr:c,schema:u}=a,d=e.getState(a),f=l.content.size,p=u.nodes[n];if(d)return c.insert(f,p.create())},state:{init:(s,i)=>{const a=i.tr.doc.lastChild;return!s6({node:a,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const a=s.doc.lastChild;return!s6({node:a,types:r})}}})]}}),Cle=St.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>tR(t,e),redo:()=>({state:t,dispatch:e})=>nR(t,e)}},addProseMirrorPlugins(){return[wle(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),kle=St.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(Zae.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(Gae.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push($L.configure(this.options.bulletList)),this.options.code!==!1&&s.push(noe.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(ioe.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(aoe.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Nle.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Sle.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(ooe.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(loe.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Cle.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(coe.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(moe.configure(this.options.italic)),this.options.listItem!==!1&&s.push(BL.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(GL.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(zoe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(XL.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(Joe.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(tle.configure(this.options.strike)),this.options.text!==!1&&s.push(nle.configure(this.options.text)),this.options.underline!==!1&&s.push(QL.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(jle.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),Tle=kle,Ele=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Mle=Ele,Ale=20,rR=(t,e=0)=>{const n=[];return!t.children.length||e>Ale||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...rR(r,e+1))}),n},Ple=t=>{if(!t.children.length)return;const e=rR(t);e&&e.forEach(n=>{var r,s;const i=n.getAttribute("style"),a=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${a};${i}`)})},sR=Ao.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Ple(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",At(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Ole=St.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),_le=St.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Dle=St.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Ile=St.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Lle=St.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});St.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(Ole.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(_le.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Dle.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(Ile.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(Lle.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(sR.configure(this.options.textStyle)),t}});let K2,G2;if(typeof WeakMap<"u"){let t=new WeakMap;K2=e=>t.get(e),G2=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;K2=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},G2=(r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s)}var Jt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,c),right:Math.max(r,l),bottom:Math.max(i,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?i-1:this.map[a]}s=i}}static get(t){return K2(t)||G2(t,Rle(t))}};function Rle(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Fle(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=t.child(u);d++;for(let x=0;;x++){for(;s<r.length&&r[s]!=0;)s++;if(x==f.childCount)break;const v=f.child(x),{colspan:b,rowspan:w,colwidth:S}=v.attrs;for(let j=0;j<w;j++){if(j+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:w-j});break}const M=s+j*e;for(let C=0;C<b;C++){r[M+C]==0?r[M+C]=d:(i||(i=[])).push({type:"collision",row:u,pos:d,n:b-C});const A=S&&S[C];if(A){const P=(M+C)%e*2,E=a[P];E==null||E!=A&&a[P+1]==1?(a[P]=A,a[P+1]=1):E==A&&a[P+1]++}}}s+=b,d+=v.nodeSize}const p=(u+1)*e;let g=0;for(;s<p;)r[s++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:u,n:g}),d++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Jt(e,n,r,i);let c=!1;for(let u=0;!c&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(c=!0);return c&&zle(l,a,t),l}function Fle(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let c=0;c<l.childCount;c++){const u=l.child(c);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const l=s.child(a);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function zle(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const d=e[(s+u)%t.width*2];d!=null&&(!c.colwidth||c.colwidth[u]!=d)&&((l||(l=Vle(c)))[u]=d)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function Vle(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function sr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}const Ya=new tn("selectingCells");function $l(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function $le(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Hs(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function wx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=$l(e.$head)||Ble(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Ble(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Y2(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Hle(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function MS(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function iR(t,e,n){const r=t.node(-1),s=Jt.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}function Bl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function aR(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function Ule(t,e,n){const r=sr(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}var Mt=class Hi extends Je{constructor(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),l=e.node(0),c=s.cellsInRect(a).filter(d=>d!=n.pos-i);c.unshift(n.pos-i);const u=c.map(d=>{const f=r.nodeAt(d);if(!f)throw new RangeError(`No cell with offset ${d} found`);const p=i+d+1;return new ZD(l.resolve(p),l.resolve(p+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(Y2(r)&&Y2(s)&&MS(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Hi.rowSelection(r,s):i&&this.isColSelection()?Hi.colSelection(r,s):new Hi(r,s)}return We.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let c=s.top;c<s.bottom;c++){const u=[];for(let d=c*n.width+s.left,f=s.left;f<s.right;f++,d++){const p=n.map[d];if(i[p])continue;i[p]=!0;const g=n.findCell(p);let x=e.nodeAt(p);if(!x)throw new RangeError(`No cell with offset ${p} found`);const v=s.left-g.left,b=g.right-s.right;if(v>0||b>0){let w=x.attrs;if(v>0&&(w=Bl(w,0,v)),b>0&&(w=Bl(w,w.colspan-b,b)),g.left<s.left){if(x=x.type.createAndFill(w),!x)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else x=x.type.create(w,x.content)}if(g.top<s.top||g.bottom>s.bottom){const w={...x.attrs,rowspan:Math.min(g.bottom,s.bottom)-Math.max(g.top,s.top)};g.top<s.top?x=x.type.createAndFill(w):x=x.type.create(w,x.content)}u.push(x)}a.push(e.child(c).copy(de.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new Ee(de.from(l),1,1)}replace(e,n=Ee.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:l,$to:c}=s[a],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),a?Ee.empty:n)}const i=Je.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new Ee(de.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Jt.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.top<=l.top?(a.top>0&&(e=c.resolve(i+s.map[a.left])),l.bottom<s.height&&(n=c.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+s.map[l.left])),a.bottom<s.height&&(e=c.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new Hi(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof Hi&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.left<=l.left?(a.left>0&&(e=c.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(n=c.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(e=c.resolve(i+s.map[s.width*(a.top+1)-1]))),new Hi(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Hi(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Hi(e.resolve(n),e.resolve(r))}getBookmark(){return new Wle(this.$anchorCell.pos,this.$headCell.pos)}};Mt.prototype.visible=!1;Je.jsonID("cell",Mt);var Wle=class oR{constructor(e,n){this.anchor=e,this.head=n}map(e){return new oR(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&MS(n,r)?new Mt(n,r):Je.near(r,1)}};function qle(t){if(!(t.selection instanceof Mt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(An.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Et.create(t.doc,e)}function Kle({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function Gle({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function Yle(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof Ue&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=Mt.create(s,r.from);else if(a=="row"){const l=s.resolve(r.from+1);i=Mt.rowSelection(l,l)}else if(!n){const l=Jt.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];i=Mt.create(s,c+1,u)}}else r instanceof We&&Kle(r)?i=We.create(s,r.from):r instanceof We&&Gle(r)&&(i=We.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}const Xle=new tn("fix-tables");function lR(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,l=0;a<i;a++){const c=e.child(a);for(let u=l,d=Math.min(s,a+3);u<d;u++)if(t.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<s&&t.child(l).sameMarkup(c)?lR(t.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function cR(t,e){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=Qle(t,s,i,n))};return e?e.doc!=t.doc&&lR(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Qle(t,e,n,r){const s=Jt.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let c=0;c<s.height;c++)i.push(0);for(let c=0;c<s.problems.length;c++){const u=s.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let p=0;p<f.rowspan;p++)i[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Bl(f,f.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let a,l;for(let c=0;c<i.length;c++)i[c]&&(a==null&&(a=c),l=c);for(let c=0,u=n+1;c<s.height;c++){const d=e.child(c),f=u+d.nodeSize,p=i[c];if(p>0){let g="cell";d.firstChild&&(g=d.firstChild.type.spec.tableRole);const x=[];for(let b=0;b<p;b++){const w=sr(t.schema)[g].createAndFill();w&&x.push(w)}const v=(c==0||a==c-1)&&l==c?u+1:f-1;r.insert(r.mapping.map(v),x)}u=f}return r.setMeta(Xle,{fixTables:!0})}function Si(t){const e=t.selection,n=wx(t),r=n.node(-1),s=n.start(-1),i=Jt.get(r);return{...e instanceof Mt?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function uR(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;Ule(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+s;if(s>0&&s<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,aR(u.attrs,s-e.colCount(c))),a+=u.attrs.rowspan-1}else{const c=i==null?sr(r.type.schema).cell:r.nodeAt(e.map[l+i]).type,u=e.positionAt(a,s,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}function Jle(t,e){if(!Hs(t))return!1;if(e){const n=Si(t);e(uR(t.tr,n,n.left))}return!0}function Zle(t,e){if(!Hs(t))return!1;if(e){const n=Si(t);e(uR(t.tr,n,n.right))}return!0}function ece(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+s,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(s>0&&e.map[l-1]==c||s<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(i).map(r+c),null,Bl(d,s-e.colCount(c)));else{const f=t.mapping.slice(i).map(r+c);t.delete(f,f+u.nodeSize)}a+=d.rowspan}}function tce(t,e){if(!Hs(t))return!1;if(e){const n=Si(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;ece(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Jt.get(i)}e(r)}return!0}function nce(t,e,n){var r;const s=sr(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))===null||r===void 0?void 0:r.type)!=s)return!1;return!0}function dR(t,{map:e,tableStart:n,table:r},s){let i=n;for(let u=0;u<s;u++)i+=r.child(u).nodeSize;const a=[];let l=s>0?-1:0;nce(e,r,s+l)&&(l=s==0||s==e.height?null:0);for(let u=0,d=e.width*s;u<e.width;u++,d++)if(s>0&&s<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],p=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...p,rowspan:p.rowspan+1}),u+=p.colspan-1}else{var c;const f=l==null?sr(r.type.schema).cell:(c=r.nodeAt(e.map[d+l*e.width]))===null||c===void 0?void 0:c.type,p=f?.createAndFill();p&&a.push(p)}return t.insert(i,sr(r.type.schema).row.create(null,a)),t}function rce(t,e){if(!Hs(t))return!1;if(e){const n=Si(t);e(dR(t.tr,n,n.top))}return!0}function sce(t,e){if(!Hs(t))return!1;if(e){const n=Si(t);e(dR(t.tr,n,n.bottom))}return!0}function ice(t,{map:e,table:n,tableStart:r},s){let i=0;for(let u=0;u<s;u++)i+=n.child(u).nodeSize;const a=i+n.child(s).nodeSize,l=t.mapping.maps.length;t.delete(i+r,a+r);const c=new Set;for(let u=0,d=s*e.width;u<e.width;u++,d++){const f=e.map[d];if(!c.has(f)){if(c.add(f),s>0&&f==e.map[d-e.width]){const p=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p,rowspan:p.rowspan-1}),u+=p.colspan-1}else if(s<e.height&&f==e.map[d+e.width]){const p=n.nodeAt(f),g=p.attrs,x=p.type.create({...g,rowspan:p.attrs.rowspan-1},p.content),v=e.positionAt(s+1,u,n);t.insert(t.mapping.slice(l).map(r+v),x),u+=g.colspan-1}}}}function ace(t,e){if(!Hs(t))return!1;if(e){const n=Si(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;ice(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Jt.get(n.table)}e(r)}return!0}function i6(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function oce({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,l=s+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}function a6(t,e){const n=t.selection;if(!(n instanceof Mt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Si(t),{map:s}=r;if(oce(s,r))return!1;if(e){const i=t.tr,a={};let l=de.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const p=s.map[d*s.width+f],g=r.table.nodeAt(p);if(!(a[p]||!g))if(a[p]=!0,c==null)c=p,u=g;else{i6(g)||(l=l.append(g.content));const x=i.mapping.map(p+r.tableStart);i.delete(x,x+g.nodeSize)}}if(c==null||u==null)return!0;if(i.setNodeMarkup(c+r.tableStart,null,{...aR(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),l.size>0){const d=c+1+u.content.size,f=i6(u)?c+1:d;i.replaceWith(f+r.tableStart,d+r.tableStart,l)}i.setSelection(new Mt(i.doc.resolve(c+r.tableStart))),e(i)}return!0}function o6(t,e){const n=sr(t.schema);return lce(({node:r})=>n[r.type.spec.tableRole])(t,e)}function lce(t){return(e,n)=>{const r=e.selection;let s,i;if(r instanceof Mt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{var a;if(s=$le(r.$from),!s)return!1;i=(a=$l(r.$from))===null||a===void 0?void 0:a.pos}if(s==null||i==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=Si(e),f=e.tr;for(let g=0;g<d.right-d.left;g++)c.push(u?{...l,colwidth:u&&u[g]?[u[g]]:null}:l);let p;for(let g=d.top;g<d.bottom;g++){let x=d.map.positionAt(g,d.left,d.table);g==d.top&&(x+=s.nodeSize);for(let v=d.left,b=0;v<d.right;v++,b++)v==d.left&&g==d.top||f.insert(p=f.mapping.map(x+d.tableStart,1),t({node:s,row:g,col:v}).createAndFill(c[b]))}f.setNodeMarkup(i,t({node:s,row:d.top,col:d.left}),c[0]),r instanceof Mt&&f.setSelection(new Mt(f.doc.resolve(r.$anchorCell.pos),p?f.doc.resolve(p):void 0)),n(f)}return!0}}function cce(t,e){return function(n,r){if(!Hs(n))return!1;const s=wx(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof Mt?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&i.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function uce(t){return function(e,n){if(!Hs(e))return!1;if(n){const r=sr(e.schema),s=Si(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=a.map(c=>s.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[c],r.cell,l[c].attrs);if(i.steps.length===0)for(let c=0;c<a.length;c++)i.setNodeMarkup(s.tableStart+a[c],r.header_cell,l[c].attrs);n(i)}return!0}}function l6(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function $h(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?uce(t):function(n,r){if(!Hs(n))return!1;if(r){const s=sr(n.schema),i=Si(n),a=n.tr,l=l6("row",i,s),c=l6("column",i,s),u=(t==="column"?l:t==="row"&&c)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:i.map.height}:t=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,f=t=="column"?c?s.cell:s.header_cell:t=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(d).forEach(p=>{const g=p+i.tableStart,x=a.doc.nodeAt(g);x&&a.setNodeMarkup(g,f,x.attrs)}),r(a)}return!0}}$h("row",{useDeprecatedLogic:!0});$h("column",{useDeprecatedLogic:!0});const dce=$h("cell",{useDeprecatedLogic:!0});function hce(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function c6(t){return function(e,n){if(!Hs(e))return!1;const r=hce(wx(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(We.between(s,Hle(s))).scrollIntoView())}return!0}}function fce(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function cp(t,e){const n=t.selection;if(!(n instanceof Mt))return!1;if(e){const r=t.tr,s=sr(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new Ee(s,0,0))}),r.docChanged&&e(r)}return!0}function mce(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,l=[];if(i=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=X2(sr(a).row,new Ee(u,d,f)).content),l.push(u)}else if(i=="cell"||i=="header_cell")l.push(n||r?X2(sr(a).row,new Ee(e,n,r)).content:e);else return null;return pce(a,l)}function pce(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=i.child(a).attrs;for(let u=s;u<s+l;u++)n[u]=(n[u]||0)+c}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(de.empty),n[s]<r){const i=sr(t).cell.createAndFill(),a=[];for(let l=n[s];l<r;l++)a.push(i);e[s]=e[s].append(de.from(a))}return{height:e.length,width:r,rows:e}}function X2(t,e){const n=t.createAndFill();return new HN(n).replace(0,n.content.size,e).doc}function gce({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=i[l]||0,f=0;d<r;f++){let p=c.child(f%c.childCount);d+p.attrs.colspan>r&&(p=p.type.createChecked(Bl(p.attrs,p.attrs.colspan,d+p.attrs.colspan-r),p.content)),u.push(p),d+=p.attrs.colspan;for(let g=1;g<p.attrs.rowspan;g++)i[l+g]=(i[l+g]||0)+p.attrs.colspan}a.push(de.from(u))}n=a,t=r}if(e!=s){const i=[];for(let a=0,l=0;a<s;a++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);a+f.attrs.rowspan>s&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,s-f.attrs.rowspan)},f.content)),c.push(f)}i.push(de.from(c))}n=i,e=s}return{width:t,height:e,rows:n}}function xce(t,e,n,r,s,i,a){const l=t.doc.type.schema,c=sr(l);let u,d;if(s>e.width)for(let f=0,p=0;f<e.height;f++){const g=n.child(f);p+=g.nodeSize;const x=[];let v;g.lastChild==null||g.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=d||(d=c.header_cell.createAndFill());for(let b=e.width;b<s;b++)x.push(v);t.insert(t.mapping.slice(a).map(p-1+r),x)}if(i>e.height){const f=[];for(let x=0,v=(e.height-1)*e.width;x<Math.max(e.width,s);x++){const b=x>=e.width?!1:n.nodeAt(e.map[v+x]).type==c.header_cell;f.push(b?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const p=c.row.create(null,de.from(f)),g=[];for(let x=e.height;x<i;x++)g.push(p);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),g)}return!!(u||d)}function u6(t,e,n,r,s,i,a,l){if(a==0||a==e.height)return!1;let c=!1;for(let u=s;u<i;u++){const d=a*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){c=!0;const p=n.nodeAt(f),{top:g,left:x}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p.attrs,rowspan:a-g}),t.insert(t.mapping.slice(l).map(e.positionAt(a,x,n)),p.type.createAndFill({...p.attrs,rowspan:g+p.attrs.rowspan-a})),u+=p.attrs.colspan-1}}return c}function d6(t,e,n,r,s,i,a,l){if(a==0||a==e.width)return!1;let c=!1;for(let u=s;u<i;u++){const d=u*e.width+a,f=e.map[d];if(e.map[d-1]==f){c=!0;const p=n.nodeAt(f),g=e.colCount(f),x=t.mapping.slice(l).map(f+r);t.setNodeMarkup(x,null,Bl(p.attrs,a-g,p.attrs.colspan-(a-g))),t.insert(x+p.nodeSize,p.type.createAndFill(Bl(p.attrs,0,a-g))),u+=p.attrs.rowspan-1}}return c}function h6(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=Jt.get(i);const{top:l,left:c}=r,u=c+s.width,d=l+s.height,f=t.tr;let p=0;function g(){if(i=n?f.doc.nodeAt(n-1):f.doc,!i)throw new Error("No table found");a=Jt.get(i),p=f.mapping.maps.length}xce(f,a,i,n,u,d,p)&&g(),u6(f,a,i,n,c,u,l,p)&&g(),u6(f,a,i,n,c,u,d,p)&&g(),d6(f,a,i,n,l,d,c,p)&&g(),d6(f,a,i,n,l,d,u,p)&&g();for(let x=l;x<d;x++){const v=a.positionAt(x,c,i),b=a.positionAt(x,u,i);f.replace(f.mapping.slice(p).map(v+n),f.mapping.slice(p).map(b+n),new Ee(s.rows[x-l],0,0))}g(),f.setSelection(new Mt(f.doc.resolve(n+a.positionAt(l,c,i)),f.doc.resolve(n+a.positionAt(d-1,u-1,i)))),e(f)}const yce=iS({ArrowLeft:up("horiz",-1),ArrowRight:up("horiz",1),ArrowUp:up("vert",-1),ArrowDown:up("vert",1),"Shift-ArrowLeft":dp("horiz",-1),"Shift-ArrowRight":dp("horiz",1),"Shift-ArrowUp":dp("vert",-1),"Shift-ArrowDown":dp("vert",1),Backspace:cp,"Mod-Backspace":cp,Delete:cp,"Mod-Delete":cp});function Hp(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function up(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof Mt)return Hp(n,r,Je.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=hR(s,t,e);if(a==null)return!1;if(t=="horiz")return Hp(n,r,Je.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(a),c=iR(l,t,e);let u;return c?u=Je.near(c,1):e<0?u=Je.near(n.doc.resolve(l.before(-1)),-1):u=Je.near(n.doc.resolve(l.after(-1)),1),Hp(n,r,u)}}}function dp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof Mt)a=i;else{const c=hR(s,t,e);if(c==null)return!1;a=new Mt(n.doc.resolve(c))}const l=iR(a.$headCell,t,e);return l?Hp(n,r,new Mt(a.$anchorCell,l)):!1}}function bce(t,e){const n=t.state.doc,r=$l(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Mt(r))),!0):!1}function vce(t,e,n){if(!Hs(t.state))return!1;let r=mce(n);const s=t.state.selection;if(s instanceof Mt){r||(r={width:1,height:1,rows:[de.from(X2(sr(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),l=Jt.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=gce(r,l.right-l.left,l.bottom-l.top),h6(t.state,t.dispatch,a,l,r),!0}else if(r){const i=wx(t.state),a=i.start(-1);return h6(t.state,t.dispatch,a,Jt.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function wce(t,e){var n;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=f6(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof Mt)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=$l(t.state.selection.$anchor))!=null&&((n=Fv(t,e))===null||n===void 0?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(c,u){let d=Fv(t,u);const f=Ya.getState(t.state)==null;if(!d||!MS(c,d))if(f)d=c;else return;const p=new Mt(c,d);if(f||!t.state.selection.eq(p)){const g=t.state.tr.setSelection(p);f&&g.setMeta(Ya,c.pos),t.dispatch(g)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),Ya.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ya,-1))}function l(c){const u=c,d=Ya.getState(t.state);let f;if(d!=null)f=t.state.doc.resolve(d);else if(f6(t,u.target)!=r&&(f=Fv(t,e),!f))return a();f&&i(f,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function hR(t,e,n){if(!(t.state.selection instanceof We))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(s),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function f6(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Fv(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;let{inside:r,pos:s}=n;return r>=0&&$l(t.state.doc.resolve(r))||$l(t.state.doc.resolve(s))}var Nce=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Q2(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Q2(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Q2(t,e,n,r,s,i){let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let f=0,p=0;f<u.childCount;f++){const{colspan:g,colwidth:x}=u.child(f).attrs;for(let v=0;v<g;v++,p++){const b=s==p?i:x&&x[v],w=b?b+"px":"";if(a+=b||r,b||(l=!1),c)c.style.width!=w&&(c.style.width=w),c=c.nextSibling;else{const S=document.createElement("col");S.style.width=w,e.appendChild(S)}}}for(;c;){var d;const f=c.nextSibling;(d=c.parentNode)===null||d===void 0||d.removeChild(c),c=f}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const qr=new tn("tableColumnResizing");function Sce({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Nce,lastColumnResizable:s=!0}={}){const i=new Lt({key:qr,state:{init(a,l){var c;const u=(c=i.spec)===null||c===void 0||(c=c.props)===null||c===void 0?void 0:c.nodeViews,d=sr(l.schema).table.name;return r&&u&&(u[d]=(f,p)=>new r(f,n,p)),new jce(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=qr.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{Cce(a,l,t,s)},mouseleave:a=>{kce(a)},mousedown:(a,l)=>{Tce(a,l,e,n)}},decorations:a=>{const l=qr.getState(a);if(l&&l.activeHandle>-1)return Oce(a,l.activeHandle)},nodeViews:{}}});return i}var jce=class Up{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(qr);if(r&&r.setHandle!=null)return new Up(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Up(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return Y2(e.doc.resolve(s))||(s=-1),new Up(s,n.dragging)}return n}};function Cce(t,e,n,r){if(!t.editable)return;const s=qr.getState(t.state);if(s&&!s.dragging){const i=Mce(e.target);let a=-1;if(i){const{left:l,right:c}=i.getBoundingClientRect();e.clientX-l<=n?a=m6(t,e,"left",n):c-e.clientX<=n&&(a=m6(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),u=Jt.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}fR(t,a)}}}function kce(t){if(!t.editable)return;const e=qr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&fR(t,-1)}function Tce(t,e,n,r){var s;if(!t.editable)return!1;const i=(s=t.dom.ownerDocument.defaultView)!==null&&s!==void 0?s:window,a=qr.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),c=Ece(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(qr,{setDragging:{startX:e.clientX,startWidth:c}}));function u(f){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",d);const p=qr.getState(t.state);p?.dragging&&(Ace(t,p.activeHandle,p6(p.dragging,f,n)),t.dispatch(t.state.tr.setMeta(qr,{setDragging:null})))}function d(f){if(!f.which)return u(f);const p=qr.getState(t.state);if(p&&p.dragging){const g=p6(p.dragging,f,n);g6(t,p.activeHandle,g,r)}}return g6(t,a.activeHandle,c,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",d),e.preventDefault(),!0}function Ece(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let a=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function Mce(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function m6(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,l=$l(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const c=Jt.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function p6(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function fR(t,e){t.dispatch(t.state.tr.setMeta(qr,{setHandle:e}))}function Ace(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=Jt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let u=0;u<i.height;u++){const d=u*i.width+l;if(u&&i.map[d]==i.map[d-i.width])continue;const f=i.map[d],p=s.nodeAt(f).attrs,g=p.colspan==1?0:l-i.colCount(f);if(p.colwidth&&p.colwidth[g]==n)continue;const x=p.colwidth?p.colwidth.slice():Pce(p.colspan);x[g]=n,c.setNodeMarkup(a+f,null,{...p,colwidth:x})}c.docChanged&&t.dispatch(c)}function g6(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),l=Jt.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let c=t.domAtPos(s.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&Q2(i,c.firstChild,c,r,l,n)}function Pce(t){return Array(t).fill(0)}function Oce(t,e){const n=[],r=t.doc.resolve(e),s=r.node(-1);if(!s)return Et.empty;const i=Jt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<i.height;u++){const d=l+u*i.width;if((l==i.width-1||i.map[d]!=i.map[d+1])&&(u==0||i.map[d]!=i.map[d-i.width])){var c;const f=i.map[d],p=a+f+s.nodeAt(f).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",!((c=qr.getState(t))===null||c===void 0)&&c.dragging&&n.push(An.node(a+f,a+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),n.push(An.widget(p,g))}}return Et.create(t.doc,n)}function _ce({allowTableNodeSelection:t=!1}={}){return new Lt({key:Ya,state:{init(){return null},apply(e,n){const r=e.getMeta(Ya);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:qle,handleDOMEvents:{mousedown:wce},createSelectionBetween(e){return Ya.getState(e.state)!=null?e.state.selection:null},handleTripleClick:bce,handleKeyDown:yce,handlePaste:vce},appendTransaction(e,n,r){return Yle(r,cR(r,n),t)}})}var mR=_n.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),s=r?r.split(",").map(i=>parseInt(i,10)):null;if(!s){const i=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&i&&i[a]){const l=i[a].getAttribute("width");return l?[parseInt(l,10)]:null}}return s}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",At(this.options.HTMLAttributes,t),0]}}),pR=_n.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",At(this.options.HTMLAttributes,t),0]}}),gR=_n.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",At(this.options.HTMLAttributes,t),0]}});function J2(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function x6(t,e,n,r,s,i){var a;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let p=0,g=0;p<d.childCount;p+=1){const{colspan:x,colwidth:v}=d.child(p).attrs;for(let b=0;b<x;b+=1,g+=1){const w=s===g?i:v&&v[b],S=w?`${w}px`:"";if(l+=w||r,w||(c=!1),u){if(u.style.width!==S){const[j,M]=J2(r,w);u.style.setProperty(j,M)}u=u.nextSibling}else{const j=document.createElement("col"),[M,C]=J2(r,w);j.style.setProperty(M,C),e.appendChild(j)}}}for(;u;){const p=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=p}const f=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);c&&!f?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}var Dce=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),x6(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,x6(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function Ice(t,e,n,r){let s=0,i=!0;const a=[],l=t.firstChild;if(!l)return{};for(let f=0,p=0;f<l.childCount;f+=1){const{colspan:g,colwidth:x}=l.child(f).attrs;for(let v=0;v<g;v+=1,p+=1){const b=n===p?r:x&&x[v];s+=b||e,b||(i=!1);const[w,S]=J2(e,b);a.push(["col",{style:`${w}: ${S}`}])}}const c=i?`${s}px`:"",u=i?"":`${s}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:u}}function y6(t,e){return t.createAndFill()}function Lce(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function Rce(t,e,n,r,s){const i=Lce(t),a=[],l=[];for(let u=0;u<n;u+=1){const d=y6(i.cell);if(d&&l.push(d),r){const f=y6(i.header_cell);f&&a.push(f)}}const c=[];for(let u=0;u<e;u+=1)c.push(i.row.createChecked(null,r&&u===0?a:l));return i.table.createChecked(null,c)}function Fce(t){return t instanceof Mt}var hp=({editor:t})=>{const{selection:e}=t.state;if(!Fce(e))return!1;let n=0;const r=rL(e.ranges[0].$from,i=>i.type.name==="table");return r?.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},zce="";function Vce(t){return(t||"").replace(/\s+/g," ").trim()}function $ce(t,e,n={}){var r;const s=(r=n.cellLineSeparator)!=null?r:zce;if(!t||!t.content||t.content.length===0)return"";const i=[];t.content.forEach(x=>{const v=[];x.content&&x.content.forEach(b=>{let w="";b.content&&Array.isArray(b.content)&&b.content.length>1?w=b.content.map(C=>e.renderChildren(C)).join(s):w=b.content?e.renderChildren(b.content):"";const S=Vce(w),j=b.type==="tableHeader";v.push({text:S,isHeader:j})}),i.push(v)});const a=i.reduce((x,v)=>Math.max(x,v.length),0);if(a===0)return"";const l=new Array(a).fill(0);i.forEach(x=>{var v;for(let b=0;b<a;b+=1){const S=(((v=x[b])==null?void 0:v.text)||"").length;S>l[b]&&(l[b]=S),l[b]<3&&(l[b]=3)}});const c=(x,v)=>x+" ".repeat(Math.max(0,v-x.length)),u=i[0],d=u.some(x=>x.isHeader);let f=`
`;const p=new Array(a).fill(0).map((x,v)=>d&&u[v]&&u[v].text||"");return f+=`| ${p.map((x,v)=>c(x,l[v])).join(" | ")} |
`,f+=`| ${l.map(x=>"-".repeat(Math.max(3,x))).join(" | ")} |
`,(d?i.slice(1):i).forEach(x=>{f+=`| ${new Array(a).fill(0).map((v,b)=>c(x[b]&&x[b].text||"",l[b])).join(" | ")} |
`}),f}var Bce=$ce,xR=_n.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:Dce,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=Ice(t,this.options.cellMinWidth),i=e.style;function a(){return i||(r?`width: ${r}`:`min-width: ${s}`)}const l=["table",At(this.options.HTMLAttributes,e,{style:a()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},l]:l},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(s=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const s=[];r.forEach(i=>{s.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},s))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>Bce(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const a=Rce(i.schema,t,e,n);if(s){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(We.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>Jle(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>Zle(t,e),deleteColumn:()=>({state:t,dispatch:e})=>tce(t,e),addRowBefore:()=>({state:t,dispatch:e})=>rce(t,e),addRowAfter:()=>({state:t,dispatch:e})=>sce(t,e),deleteRow:()=>({state:t,dispatch:e})=>ace(t,e),deleteTable:()=>({state:t,dispatch:e})=>fce(t,e),mergeCells:()=>({state:t,dispatch:e})=>a6(t,e),splitCell:()=>({state:t,dispatch:e})=>o6(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>$h("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>$h("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>dce(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>a6(t,e)?!0:o6(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>cce(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>c6(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>c6(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&cR(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Mt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:hp,"Mod-Backspace":hp,Delete:hp,"Mod-Delete":hp}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Sce({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],_ce({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:yt($e(t,"tableRole",e))}}});St.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(xR.configure(this.options.table)),this.options.tableCell!==!1&&t.push(mR.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(pR.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(gR.configure(this.options.tableRow)),t}});var Hce=gR,Uce=pR,Wce=mR,qce=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Kce=_n.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",At(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,i,a;const l=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",c=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",u=(a=(i=t.attrs)==null?void 0:i.title)!=null?a:"";return u?`![${c}](${l} "${u}")`:`![${c}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:a,editor:l})=>{const c=document.createElement("img");Object.entries(a).forEach(([f,p])=>{if(p!=null)switch(f){case"width":case"height":break;default:c.setAttribute(f,p);break}}),c.src=a.src;const u=new Die({element:c,editor:l,node:s,getPos:i,onResize:(f,p)=>{c.style.width=`${f}px`,c.style.height=`${p}px`},onCommit:(f,p)=>{const g=i();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:f,height:p}).run()},onUpdate:(f,p,g)=>f.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),d=u.dom;return d.style.visibility="hidden",d.style.pointerEvents="none",c.onload=()=>{d.style.visibility="",d.style.pointerEvents=""},u}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[EL({find:qce,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),Gce=Kce;const Yce=({value:t,onChange:e})=>{const n=Hae({extensions:[Tle.configure({heading:{levels:[1,2,3]}}),rle,Mle.configure({types:["heading","paragraph"]}),xR.configure({resizable:!0}),Hce,Uce,Wce,Gce,sR],content:t||"<p></p>",editorProps:{attributes:{class:"prose prose-2xl max-w-none text-gray-600 focus:outline-none min-h-[300px] overflow-auto p-4 border border-gray-300 rounded-md"}},onUpdate:({editor:s})=>{e(s.getHTML())}});if(!n)return null;const r=()=>{const s=window.prompt("Nhp URL hnh nh:");s&&n.chain().focus().setImage({src:s}).run()};return o.jsxs("div",{className:"border border-gray-300 rounded-md",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border-b border-gray-300 bg-gray-50",children:[o.jsx("button",{type:"button",onClick:()=>{n.chain().focus().toggleHeading({level:1}).run()},className:`px-4 py-2 rounded hover:bg-gray-200 text-[2rem] font-bold ${n.isActive("heading",{level:1})?"bg-gray-300":""}`,children:"H1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-end text-[1.8rem] ${n.isActive("heading",{level:2})?"bg-gray-300":""}`,children:"H2"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:3}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-[1.6rem] ${n.isActive("heading",{level:3})?"bg-gray-300":""}`,children:"H3"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setParagraph().run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold leading-none ${n.isActive("paragraph")?"bg-gray-300":""}`,children:"P"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bold")?"bg-gray-300":""}`,children:o.jsx(F,{icon:ZK})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("italic")?"bg-gray-300":""}`,children:o.jsx(F,{icon:lG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("underline")?"bg-gray-300":""}`,children:o.jsx(F,{icon:yG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("strike")?"bg-gray-300":""}`,children:o.jsx(F,{icon:GK})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bulletList")?"bg-gray-300":""}`,children:o.jsx(F,{icon:NG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("orderedList")?"bg-gray-300":""}`,children:o.jsx(F,{icon:cG})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"left"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:UK})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"center"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:nG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-300 ${n.isActive({textAlign:"right"})?"bg-gray-300":""}`,children:o.jsx(F,{icon:YK})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"p-2 rounded hover:bg-gray-200",children:o.jsx(F,{icon:KK})}),o.jsx("button",{type:"button",onClick:r,className:"p-2 rounded hover:bg-gray-200",children:o.jsx(F,{icon:tG})})]}),o.jsx(Lae,{editor:n})]})},AS=T.createContext({});function PS(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const OS=typeof window<"u",yR=OS?T.useLayoutEffect:T.useEffect,Nx=T.createContext(null);function _S(t,e){t.indexOf(e)===-1&&t.push(e)}function DS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const da=(t,e,n)=>n>e?e:n<t?t:n;let IS=()=>{};const ha={},bR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vR(t){return typeof t=="object"&&t!==null}const wR=t=>/^0[^.\s]+$/u.test(t);function LS(t){let e;return()=>(e===void 0&&(e=t()),e)}const vs=t=>t,Xce=(t,e)=>n=>e(t(n)),vf=(...t)=>t.reduce(Xce),Bh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class RS{constructor(){this.subscriptions=[]}add(e){return _S(this.subscriptions,e),()=>DS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mi=t=>t*1e3,xs=t=>t/1e3;function NR(t,e){return e?t*(1e3/e):0}const SR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Qce=1e-7,Jce=12;function Zce(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=SR(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>Qce&&++l<Jce);return a}function wf(t,e,n,r){if(t===e&&n===r)return vs;const s=i=>Zce(i,0,1,t,n);return i=>i===0||i===1?i:SR(s(i),e,r)}const jR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CR=t=>e=>1-t(1-e),kR=wf(.33,1.53,.69,.99),FS=CR(kR),TR=jR(FS),ER=t=>(t*=2)<1?.5*FS(t):.5*(2-Math.pow(2,-10*(t-1))),zS=t=>1-Math.sin(Math.acos(t)),MR=CR(zS),AR=jR(zS),eue=wf(.42,0,1,1),tue=wf(0,0,.58,1),PR=wf(.42,0,.58,1),nue=t=>Array.isArray(t)&&typeof t[0]!="number",OR=t=>Array.isArray(t)&&typeof t[0]=="number",rue={linear:vs,easeIn:eue,easeInOut:PR,easeOut:tue,circIn:zS,circInOut:AR,circOut:MR,backIn:FS,backInOut:TR,backOut:kR,anticipate:ER},sue=t=>typeof t=="string",b6=t=>{if(OR(t)){IS(t.length===4);const[e,n,r,s]=t;return wf(e,n,r,s)}else if(sue(t))return rue[t];return t},fp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iue(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,f=!1,p=!1)=>{const x=p&&s?n:r;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const aue=40;function _R(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=fp.reduce((j,M)=>(j[M]=iue(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:p,render:g,postRender:x}=a,v=()=>{const j=ha.useManualTiming?s.timestamp:performance.now();n=!1,ha.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,aue),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),p.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},b=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:fp.reduce((j,M)=>{const C=a[M];return j[M]=(A,P=!1,E=!1)=>(n||b(),C.schedule(A,P,E)),j},{}),cancel:j=>{for(let M=0;M<fp.length;M++)a[fp[M]].cancel(j)},state:s,steps:a}}const{schedule:$t,cancel:No,state:Rn,steps:zv}=_R(typeof requestAnimationFrame<"u"?requestAnimationFrame:vs,!0);let Wp;function oue(){Wp=void 0}const Pr={now:()=>(Wp===void 0&&Pr.set(Rn.isProcessing||ha.useManualTiming?Rn.timestamp:performance.now()),Wp),set:t=>{Wp=t,queueMicrotask(oue)}},DR=t=>e=>typeof e=="string"&&e.startsWith(t),VS=DR("--"),lue=DR("var(--"),$S=t=>lue(t)?cue.test(t.split("/*")[0].trim()):!1,cue=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hh={...Mu,transform:t=>da(0,1,t)},mp={...Mu,default:1},dh=t=>Math.round(t*1e5)/1e5,BS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uue(t){return t==null}const due=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,HS=(t,e)=>n=>!!(typeof n=="string"&&due.test(n)&&n.startsWith(t)||e&&!uue(n)&&Object.prototype.hasOwnProperty.call(n,e)),IR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(BS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},hue=t=>da(0,255,t),Vv={...Mu,transform:t=>Math.round(hue(t))},ml={test:HS("rgb","red"),parse:IR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Vv.transform(t)+", "+Vv.transform(e)+", "+Vv.transform(n)+", "+dh(Hh.transform(r))+")"};function fue(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Z2={test:HS("#"),parse:fue,transform:ml.transform},Nf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Va=Nf("deg"),pi=Nf("%"),Ze=Nf("px"),mue=Nf("vh"),pue=Nf("vw"),v6={...pi,parse:t=>pi.parse(t)/100,transform:t=>pi.transform(t*100)},$c={test:HS("hsl","hue"),parse:IR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pi.transform(dh(e))+", "+pi.transform(dh(n))+", "+dh(Hh.transform(r))+")"},un={test:t=>ml.test(t)||Z2.test(t)||$c.test(t),parse:t=>ml.test(t)?ml.parse(t):$c.test(t)?$c.parse(t):Z2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ml.transform(t):$c.transform(t),getAnimatableNone:t=>{const e=un.parse(t);return e.alpha=0,un.transform(e)}},gue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xue(t){return isNaN(t)&&typeof t=="string"&&(t.match(BS)?.length||0)+(t.match(gue)?.length||0)>0}const LR="number",RR="color",yue="var",bue="var(",w6="${}",vue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(vue,c=>(un.test(c)?(r.color.push(i),s.push(RR),n.push(un.parse(c))):c.startsWith(bue)?(r.var.push(i),s.push(yue),n.push(c)):(r.number.push(i),s.push(LR),n.push(parseFloat(c))),++i,w6)).split(w6);return{values:n,split:l,indexes:r,types:s}}function FR(t){return Uh(t).values}function zR(t){const{split:e,types:n}=Uh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===LR?i+=dh(s[a]):l===RR?i+=un.transform(s[a]):i+=s[a]}return i}}const wue=t=>typeof t=="number"?0:un.test(t)?un.getAnimatableNone(t):t;function Nue(t){const e=FR(t);return zR(t)(e.map(wue))}const So={test:xue,parse:FR,createTransformer:zR,getAnimatableNone:Nue};function $v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Sue({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=$v(c,l,t+1/3),i=$v(c,l,t),a=$v(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function h0(t,e){return n=>n>0?e:t}const Wt=(t,e,n)=>t+(e-t)*n,Bv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},jue=[Z2,ml,$c],Cue=t=>jue.find(e=>e.test(t));function N6(t){const e=Cue(t);if(!e)return!1;let n=e.parse(t);return e===$c&&(n=Sue(n)),n}const S6=(t,e)=>{const n=N6(t),r=N6(e);if(!n||!r)return h0(t,e);const s={...n};return i=>(s.red=Bv(n.red,r.red,i),s.green=Bv(n.green,r.green,i),s.blue=Bv(n.blue,r.blue,i),s.alpha=Wt(n.alpha,r.alpha,i),ml.transform(s))},ew=new Set(["none","hidden"]);function kue(t,e){return ew.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Tue(t,e){return n=>Wt(t,e,n)}function US(t){return typeof t=="number"?Tue:typeof t=="string"?$S(t)?h0:un.test(t)?S6:Aue:Array.isArray(t)?VR:typeof t=="object"?un.test(t)?S6:Eue:h0}function VR(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>US(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Eue(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=US(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Mue(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const Aue=(t,e)=>{const n=So.createTransformer(e),r=Uh(t),s=Uh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ew.has(t)&&!s.values.length||ew.has(e)&&!r.values.length?kue(t,e):vf(VR(Mue(r,s),s.values),n):h0(t,e)};function $R(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):US(t)(t,e)}const Pue=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$t.update(e,n),stop:()=>No(e),now:()=>Rn.isProcessing?Rn.timestamp:Pr.now()}},BR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},f0=2e4;function WS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<f0;)e+=n,r=t.next(e);return e>=f0?1/0:e}function Oue(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(WS(r),f0);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:xs(s)}}const _ue=5;function HR(t,e,n){const r=Math.max(e-_ue,0);return NR(n-t(r),e-r)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hv=.001;function Due({duration:t=Yt.duration,bounce:e=Yt.bounce,velocity:n=Yt.velocity,mass:r=Yt.mass}){let s,i,a=1-e;a=da(Yt.minDamping,Yt.maxDamping,a),t=da(Yt.minDuration,Yt.maxDuration,xs(t)),a<1?(s=u=>{const d=u*a,f=d*t,p=d-n,g=tw(u,a),x=Math.exp(-f);return Hv-p/g*x},i=u=>{const f=u*a*t,p=f*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-f),v=tw(Math.pow(u,2),a);return(-s(u)+Hv>0?-1:1)*((p-g)*x)/v}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Hv+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=Lue(s,i,l);if(t=mi(t),isNaN(c))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Iue=12;function Lue(t,e,n){let r=n;for(let s=1;s<Iue;s++)r=r-t(r)/e(r);return r}function tw(t,e){return t*Math.sqrt(1-e*e)}const Rue=["duration","bounce"],Fue=["stiffness","damping","mass"];function j6(t,e){return e.some(n=>t[n]!==void 0)}function zue(t){let e={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...t};if(!j6(t,Fue)&&j6(t,Rue))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*da(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Yt.mass,stiffness:s,damping:i}}else{const n=Due(t);e={...e,...n,mass:Yt.mass},e.isResolvedFromDuration=!0}return e}function m0(t=Yt.visualDuration,e=Yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=zue({...n,velocity:-xs(n.velocity||0)}),x=p||0,v=u/(2*Math.sqrt(c*d)),b=a-i,w=xs(Math.sqrt(c/d)),S=Math.abs(b)<5;r||(r=S?Yt.restSpeed.granular:Yt.restSpeed.default),s||(s=S?Yt.restDelta.granular:Yt.restDelta.default);let j;if(v<1){const C=tw(w,v);j=A=>{const P=Math.exp(-v*w*A);return a-P*((x+v*w*b)/C*Math.sin(C*A)+b*Math.cos(C*A))}}else if(v===1)j=C=>a-Math.exp(-w*C)*(b+(x+w*b)*C);else{const C=w*Math.sqrt(v*v-1);j=A=>{const P=Math.exp(-v*w*A),E=Math.min(C*A,300);return a-P*((x+v*w*b)*Math.sinh(E)+C*b*Math.cosh(E))/C}}const M={calculatedDuration:g&&f||null,next:C=>{const A=j(C);if(g)l.done=C>=f;else{let P=C===0?x:0;v<1&&(P=C===0?mi(x):HR(j,C,A));const E=Math.abs(P)<=r,D=Math.abs(a-A)<=s;l.done=E&&D}return l.value=l.done?a:A,l},toString:()=>{const C=Math.min(WS(M),f0),A=BR(P=>M.next(C*P).value,C,30);return C+"ms "+A},toTransition:()=>{}};return M}m0.applyToOptions=t=>{const e=Oue(t,100,m0);return t.ease=e.ease,t.duration=mi(e.duration),t.type="keyframes",t};function nw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let v=n*e;const b=f+v,w=a===void 0?b:a(b);w!==b&&(v=w-f);const S=E=>-v*Math.exp(-E/r),j=E=>w+S(E),M=E=>{const D=S(E),L=j(E);p.done=Math.abs(D)<=u,p.value=p.done?w:L};let C,A;const P=E=>{g(p.value)&&(C=E,A=m0({keyframes:[p.value,x(p.value)],velocity:HR(j,E,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:E=>{let D=!1;return!A&&C===void 0&&(D=!0,M(E),P(E)),C!==void 0&&E>=C?A.next(E-C):(!D&&M(E),p)}}}function Vue(t,e,n){const r=[],s=n||ha.mix||$R,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||vs:e;l=vf(c,l)}r.push(l)}return r}function $ue(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(IS(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Vue(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Bh(t[f],t[f+1],d);return l[f](p)};return n?d=>u(da(t[0],t[i-1],d)):u}function Bue(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Bh(0,e,r);t.push(Wt(n,1,s))}}function Hue(t){const e=[0];return Bue(e,t.length-1),e}function Uue(t,e){return t.map(n=>n*e)}function Wue(t,e){return t.map(()=>e||PR).splice(0,t.length-1)}function hh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=nue(r)?r.map(b6):b6(r),i={done:!1,value:e[0]},a=Uue(n&&n.length===e.length?n:Hue(e),t),l=$ue(a,e,{ease:Array.isArray(s)?s:Wue(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const que=t=>t!==null;function qS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(que),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const Kue={decay:nw,inertia:nw,tween:hh,keyframes:hh,spring:m0};function UR(t){typeof t.type=="string"&&(t.type=Kue[t.type])}class KS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Gue=t=>t/100;class GS extends KS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pr.now()&&this.tick(Pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;UR(e);const{type:n=hh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const c=n||hh;c!==hh&&typeof l[0]!="number"&&(this.mixKeyframes=vf(Gue,$R(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=WS(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,M=r;if(f){const E=Math.min(this.currentTime,s)/l;let D=Math.floor(E),L=E%1;!L&&E>=1&&(L=1),L===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(p==="reverse"?(L=1-L,g&&(L-=g/l)):p==="mirror"&&(M=a)),j=da(0,1,L)*l}const C=S?{done:!1,value:d[0]}:M.next(j);i&&(C.value=i(C.value));let{done:A}=C;!S&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return P&&x!==nw&&(C.value=qS(d,this.options,b,this.speed)),v&&v(C.value),P&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return xs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(this.currentTime)}set time(e){e=mi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Pue,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Yue(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const pl=t=>t*180/Math.PI,rw=t=>{const e=pl(Math.atan2(t[1],t[0]));return sw(e)},Xue={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rw,rotateZ:rw,skewX:t=>pl(Math.atan(t[1])),skewY:t=>pl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sw=t=>(t=t%360,t<0&&(t+=360),t),C6=rw,k6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),T6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Que={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k6,scaleY:T6,scale:t=>(k6(t)+T6(t))/2,rotateX:t=>sw(pl(Math.atan2(t[6],t[5]))),rotateY:t=>sw(pl(Math.atan2(-t[2],t[0]))),rotateZ:C6,rotate:C6,skewX:t=>pl(Math.atan(t[4])),skewY:t=>pl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iw(t){return t.includes("scale")?1:0}function aw(t,e){if(!t||t==="none")return iw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Que,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Xue,s=l}if(!s)return iw(e);const i=r[e],a=s[1].split(",").map(Zue);return typeof i=="function"?i(a):a[i]}const Jue=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return aw(n,e)};function Zue(t){return parseFloat(t.trim())}const Au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pu=new Set(Au),E6=t=>t===Mu||t===Ze,ede=new Set(["x","y","z"]),tde=Au.filter(t=>!ede.has(t));function nde(t){const e=[];return tde.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Cl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>aw(e,"x"),y:(t,{transform:e})=>aw(e,"y")};Cl.translateX=Cl.x;Cl.translateY=Cl.y;const kl=new Set;let ow=!1,lw=!1,cw=!1;function WR(){if(lw){const t=Array.from(kl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=nde(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lw=!1,ow=!1,kl.forEach(t=>t.complete(cw)),kl.clear()}function qR(){kl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lw=!0)})}function rde(){cw=!0,qR(),WR(),cw=!1}class YS{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(kl.add(this),ow||(ow=!0,$t.read(qR),$t.resolveKeyframes(WR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}Yue(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),kl.delete(this)}cancel(){this.state==="scheduled"&&(kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sde=t=>t.startsWith("--");function ide(t,e,n){sde(e)?t.style.setProperty(e,n):t.style[e]=n}const ade=LS(()=>window.ScrollTimeline!==void 0),ode={};function lde(t,e){const n=LS(t);return()=>ode[e]??n()}const KR=lde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ud=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,M6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ud([0,.65,.55,1]),circOut:Ud([.55,0,1,.45]),backIn:Ud([.31,.01,.66,-.59]),backOut:Ud([.33,1.53,.69,.99])};function GR(t,e){if(t)return typeof t=="function"?KR()?BR(t,e):"ease-out":OR(t)?Ud(t):Array.isArray(t)?t.map(n=>GR(n,e)||M6.easeOut):M6[t]}function cde(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const f=GR(l,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(d,p)}function YR(t){return typeof t=="function"&&"applyToOptions"in t}function ude({type:t,...e}){return YR(t)&&KR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class dde extends KS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,IS(typeof e.type!="string");const u=ude(e);this.animation=cde(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=qS(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):ide(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ade()?(this.animation.timeline=e,vs):n(this)}}const XR={anticipate:ER,backInOut:TR,circInOut:AR};function hde(t){return t in XR}function fde(t){typeof t.ease=="string"&&hde(t.ease)&&(t.ease=XR[t.ease])}const A6=10;class mde extends dde{constructor(e){fde(e),UR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new GS({...a,autoplay:!1}),c=mi(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-A6).value,l.sample(c).value,A6),l.stop()}}const P6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function pde(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gde(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=P6(s,e),l=P6(i,e);return!a||!l?!1:pde(t)||(n==="spring"||YR(n))&&r}function uw(t){t.duration=0,t.type="keyframes"}const xde=new Set(["opacity","clipPath","filter","transform"]),yde=LS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bde(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return yde()&&n&&xde.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const vde=40;class wde extends KS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pr.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...f},g=d?.KeyframeResolver||YS;this.keyframeResolver=new g(l,(x,v,b)=>this.onKeyframesResolved(x,v,p,!b),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Pr.now(),gde(e,i,a,l)||((ha.instantAnimations||!c)&&d?.(qS(e,r,n)),e[0]=e[e.length-1],uw(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>vde?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!u&&bde(p)?new mde({...p,element:p.motionValue.owner.current}):new GS(p);g.finished.then(()=>this.notifyFinished()).catch(vs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rde()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Nde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sde(t){const e=Nde.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function QR(t,e,n=1){const[r,s]=Sde(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return bR(a)?parseFloat(a):a}return $S(s)?QR(s,e,n+1):s}function XS(t,e){return t?.[e]??t?.default??t}const JR=new Set(["width","height","top","left","right","bottom",...Au]),jde={test:t=>t==="auto",parse:t=>t},ZR=t=>e=>e.test(t),e8=[Mu,Ze,pi,Va,pue,mue,jde],O6=t=>e8.find(ZR(t));function Cde(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wR(t):!0}const kde=new Set(["brightness","contrast","saturate","opacity"]);function Tde(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(BS)||[];if(!r)return t;const s=n.replace(r,"");let i=kde.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Ede=/\b([a-z-]*)\(.*?\)/gu,dw={...So,getAnimatableNone:t=>{const e=t.match(Ede);return e?e.map(Tde).join(" "):t}},_6={...Mu,transform:Math.round},Mde={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:mp,scaleX:mp,scaleY:mp,scaleZ:mp,skew:Va,skewX:Va,skewY:Va,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:Hh,originX:v6,originY:v6,originZ:Ze},QS={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...Mde,zIndex:_6,fillOpacity:Hh,strokeOpacity:Hh,numOctaves:_6},Ade={...QS,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:dw,WebkitFilter:dw},t8=t=>Ade[t];function n8(t,e){let n=t8(t);return n!==dw&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Pde=new Set(["auto","none","0"]);function Ode(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Pde.has(i)&&Uh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=n8(n,s)}class _de extends YS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),$S(u))){const d=QR(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!JR.has(r)||e.length!==2)return;const[s,i]=e,a=O6(s),l=O6(i);if(a!==l)if(E6(a)&&E6(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Cl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Cde(e[s]))&&r.push(s);r.length&&Ode(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Cl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Dde(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const r8=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function s8(t){return vR(t)&&"offsetHeight"in t}const D6=30,Ide=t=>!isNaN(parseFloat(t));class Lde{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Pr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ide(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new RS);const r=this.events[e].add(n);return e==="change"?()=>{r(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,D6);return NR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(t,e){return new Lde(t,e)}const{schedule:JS}=_R(queueMicrotask,!1),Ps={x:!1,y:!1};function i8(){return Ps.x||Ps.y}function Rde(t){return t==="x"||t==="y"?Ps[t]?null:(Ps[t]=!0,()=>{Ps[t]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function a8(t,e){const n=Dde(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function I6(t){return!(t.pointerType==="touch"||i8())}function Fde(t,e,n={}){const[r,s,i]=a8(t,n),a=l=>{if(!I6(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{I6(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const o8=(t,e)=>e?t===e?!0:o8(t,e.parentElement):!1,ZS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vde(t){return zde.has(t.tagName)||t.tabIndex!==-1}const qp=new WeakSet;function L6(t){return e=>{e.key==="Enter"&&t(e)}}function Uv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $de=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=L6(()=>{if(qp.has(n))return;Uv(n,"down");const s=L6(()=>{Uv(n,"up")}),i=()=>Uv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function R6(t){return ZS(t)&&!i8()}function Bde(t,e,n={}){const[r,s,i]=a8(t,n),a=l=>{const c=l.currentTarget;if(!R6(l))return;qp.add(c);const u=e(c,l),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),qp.has(c)&&qp.delete(c),R6(g)&&typeof u=="function"&&u(g,{success:x})},f=g=>{d(g,c===window||c===document||n.useGlobalTarget||o8(c,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),s8(l)&&(l.addEventListener("focus",u=>$de(u,s)),!Vde(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function l8(t){return vR(t)&&"ownerSVGElement"in t}function Hde(t){return l8(t)&&t.tagName==="svg"}const tr=t=>!!(t&&t.getVelocity),Ude=[...e8,un,So],Wde=t=>Ude.find(ZR(t)),ej=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function F6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qde(...t){return e=>{let n=!1;const r=t.map(s=>{const i=F6(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():F6(t[s],null)}}}}function Kde(...t){return T.useCallback(qde(...t),t)}class Gde extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=s8(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Yde({children:t,isPresent:e,anchorX:n,root:r}){const s=T.useId(),i=T.useRef(null),a=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=T.useContext(ej),c=Kde(i,t?.ref);return T.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p,right:g}=a.current;if(e||!i.current||!u||!d)return;const x=n==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[e]),o.jsx(Gde,{isPresent:e,childRef:i,sizeRef:a,children:T.cloneElement(t,{ref:c})})}const Xde=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=PS(Qde),d=T.useId();let f=!0,p=T.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const x of u.values())if(!x)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&f&&(p={...p}),T.useMemo(()=>{u.forEach((g,x)=>u.set(x,!1))},[n]),T.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(Yde,{isPresent:n,anchorX:l,root:c,children:t})),o.jsx(Nx.Provider,{value:p,children:t})};function Qde(){return new Map}function c8(t=!0){const e=T.useContext(Nx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const pp=t=>t.key||"";function z6(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const u8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=c8(a),f=T.useMemo(()=>z6(t),[t]),p=a&&!u?[]:f.map(pp),g=T.useRef(!0),x=T.useRef(f),v=PS(()=>new Map),[b,w]=T.useState(f),[S,j]=T.useState(f);yR(()=>{g.current=!1,x.current=f;for(let A=0;A<S.length;A++){const P=pp(S[A]);p.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[S,p.length,p.join("-")]);const M=[];if(f!==b){let A=[...f];for(let P=0;P<S.length;P++){const E=S[P],D=pp(E);p.includes(D)||(A.splice(P,0,E),M.push(E))}return i==="wait"&&M.length&&(A=M),j(z6(A)),w(f),null}const{forceRender:C}=T.useContext(AS);return o.jsx(o.Fragment,{children:S.map(A=>{const P=pp(A),E=a&&!u?!1:f===S||p.includes(P),D=()=>{if(v.has(P))v.set(P,!0);else return;let L=!0;v.forEach(_=>{_||(L=!1)}),L&&(C?.(),j(x.current),a&&d?.(),r&&r())};return o.jsx(Xde,{isPresent:E,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:E?void 0:D,anchorX:l,children:A},P)})})},d8=T.createContext({strict:!1}),V6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xu={};for(const t in V6)xu[t]={isEnabled:e=>V6[t].some(n=>!!e[n])};function Jde(t){for(const e in t)xu[e]={...xu[e],...t[e]}}const Zde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function p0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Zde.has(t)}let h8=t=>!p0(t);function ehe(t){typeof t=="function"&&(h8=e=>e.startsWith("on")?!p0(e):t(e))}try{ehe(require("@emotion/is-prop-valid").default)}catch{}function the(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(h8(s)||n===!0&&p0(s)||!e&&!p0(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Sx=T.createContext({});function jx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wh(t){return typeof t=="string"||Array.isArray(t)}const tj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nj=["initial",...tj];function Cx(t){return jx(t.animate)||nj.some(e=>Wh(t[e]))}function f8(t){return!!(Cx(t)||t.variants)}function nhe(t,e){if(Cx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wh(n)?n:void 0,animate:Wh(r)?r:void 0}}return t.inherit!==!1?e:{}}function rhe(t){const{initial:e,animate:n}=nhe(t,T.useContext(Sx));return T.useMemo(()=>({initial:e,animate:n}),[$6(e),$6(n)])}function $6(t){return Array.isArray(t)?t.join(" "):t}const qh={};function she(t){for(const e in t)qh[e]=t[e],VS(e)&&(qh[e].isCSSVariable=!0)}function m8(t,{layout:e,layoutId:n}){return Pu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qh[t]||t==="opacity")}const ihe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ahe=Au.length;function ohe(t,e,n){let r="",s=!0;for(let i=0;i<ahe;i++){const a=Au[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=r8(l,QS[a]);if(!c){s=!1;const d=ihe[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function rj(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Pu.has(c)){a=!0;continue}else if(VS(c)){s[c]=u;continue}else{const d=r8(u,QS[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=ohe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const sj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function p8(t,e,n){for(const r in e)!tr(e[r])&&!m8(r,n)&&(t[r]=e[r])}function lhe({transformTemplate:t},e){return T.useMemo(()=>{const n=sj();return rj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function che(t,e){const n=t.style||{},r={};return p8(r,n,t),Object.assign(r,lhe(t,e)),r}function uhe(t,e){const n={},r=che(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dhe={offset:"stroke-dashoffset",array:"stroke-dasharray"},hhe={offset:"strokeDashoffset",array:"strokeDasharray"};function fhe(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?dhe:hhe;t[i.offset]=Ze.transform(-r);const a=Ze.transform(e),l=Ze.transform(n);t[i.array]=`${a} ${l}`}function g8(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(rj(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&fhe(f,s,i,a,!1)}const x8=()=>({...sj(),attrs:{}}),y8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mhe(t,e,n,r){const s=T.useMemo(()=>{const i=x8();return g8(i,e,y8(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};p8(i,t.style,t),s.style={...i,...s.style}}return s}const phe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ij(t){return typeof t!="string"||t.includes("-")?!1:!!(phe.indexOf(t)>-1||/[A-Z]/u.test(t))}function ghe(t,e,n,{latestValues:r},s,i=!1){const l=(ij(t)?mhe:uhe)(e,r,s,t),c=the(e,typeof t=="string",i),u=t!==T.Fragment?{...c,...l,ref:n}:{},{children:d}=e,f=T.useMemo(()=>tr(d)?d.get():d,[d]);return T.createElement(t,{...u,children:f})}function B6(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function aj(t,e,n,r){if(typeof e=="function"){const[s,i]=B6(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=B6(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Kp(t){return tr(t)?t.get():t}function xhe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:yhe(n,r,s,t),renderState:e()}}function yhe(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Kp(i[p]);let{initial:a,animate:l}=t;const c=Cx(t),u=f8(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!jx(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const x=aj(t,p[g]);if(x){const{transitionEnd:v,transition:b,...w}=x;for(const S in w){let j=w[S];if(Array.isArray(j)){const M=d?j.length-1:0;j=j[M]}j!==null&&(s[S]=j)}for(const S in v)s[S]=v[S]}}}return s}const b8=t=>(e,n)=>{const r=T.useContext(Sx),s=T.useContext(Nx),i=()=>xhe(t,e,r,s);return n?i():PS(i)};function oj(t,e,n){const{style:r}=t,s={};for(const i in r)(tr(r[i])||e.style&&tr(e.style[i])||m8(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const bhe=b8({scrapeMotionValuesFromProps:oj,createRenderState:sj});function v8(t,e,n){const r=oj(t,e,n);for(const s in t)if(tr(t[s])||tr(e[s])){const i=Au.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const vhe=b8({scrapeMotionValuesFromProps:v8,createRenderState:x8}),whe=Symbol.for("motionComponentSymbol");function Bc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Nhe(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bc(n)&&(n.current=r))},[e])}const lj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),She="framerAppearId",w8="data-"+lj(She),N8=T.createContext({});function jhe(t,e,n,r,s){const{visualElement:i}=T.useContext(Sx),a=T.useContext(d8),l=T.useContext(Nx),c=T.useContext(ej).reducedMotion,u=T.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=T.useContext(N8);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&Che(u.current,n,s,f);const p=T.useRef(!1);T.useInsertionEffect(()=>{d&&p.current&&d.update(n,l)});const g=n[w8],x=T.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return yR(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),d.enteringChildren=void 0)}),d}function Che(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:S8(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Bc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function S8(t){if(t)return t.options.allowProjection!==!1?t.projection:S8(t.parent)}function Wv(t,{forwardMotionProps:e=!1}={},n,r){n&&Jde(n);const s=ij(t)?vhe:bhe;function i(l,c){let u;const d={...T.useContext(ej),...l,layoutId:khe(l)},{isStatic:f}=d,p=rhe(l),g=s(l,f);if(!f&&OS){The();const x=Ehe(d);u=x.MeasureLayout,p.visualElement=jhe(t,g,d,r,x.ProjectionNode)}return o.jsxs(Sx.Provider,{value:p,children:[u&&p.visualElement?o.jsx(u,{visualElement:p.visualElement,...d}):null,ghe(t,l,Nhe(g,p.visualElement,c),g,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=T.forwardRef(i);return a[whe]=t,a}function khe({layoutId:t}){const e=T.useContext(AS).id;return e&&t!==void 0?e+"-"+t:t}function The(t,e){T.useContext(d8).strict}function Ehe(t){const{drag:e,layout:n}=xu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Mhe(t,e){if(typeof Proxy>"u")return Wv;const n=new Map,r=(i,a)=>Wv(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Wv(a,void 0,t,e)),n.get(a))})}function j8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Ahe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Phe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qv(t){return t===void 0||t===1}function hw({scale:t,scaleX:e,scaleY:n}){return!qv(t)||!qv(e)||!qv(n)}function el(t){return hw(t)||C8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function C8(t){return H6(t.x)||H6(t.y)}function H6(t){return t&&t!=="0%"}function g0(t,e,n){const r=t-n,s=e*r;return n+s}function U6(t,e,n,r,s){return s!==void 0&&(t=g0(t,s,r)),g0(t,n,r)+e}function fw(t,e=0,n=1,r,s){t.min=U6(t.min,e,n,r,s),t.max=U6(t.max,e,n,r,s)}function k8(t,{x:e,y:n}){fw(t.x,e.translate,e.scale,e.originPoint),fw(t.y,n.translate,n.scale,n.originPoint)}const W6=.999999999999,q6=1.0000000000001;function Ohe(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Uc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,k8(t,a)),r&&el(i.latestValues)&&Uc(t,i.latestValues))}e.x<q6&&e.x>W6&&(e.x=1),e.y<q6&&e.y>W6&&(e.y=1)}function Hc(t,e){t.min=t.min+e,t.max=t.max+e}function K6(t,e,n,r,s=.5){const i=Wt(t.min,t.max,s);fw(t,e,n,i,r)}function Uc(t,e){K6(t.x,e.x,e.scaleX,e.scale,e.originX),K6(t.y,e.y,e.scaleY,e.scale,e.originY)}function T8(t,e){return j8(Phe(t.getBoundingClientRect(),e))}function _he(t,e,n){const r=T8(t,n),{scroll:s}=e;return s&&(Hc(r.x,s.offset.x),Hc(r.y,s.offset.y)),r}const G6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wc=()=>({x:G6(),y:G6()}),Y6=()=>({min:0,max:0}),sn=()=>({x:Y6(),y:Y6()}),mw={current:null},E8={current:!1};function Dhe(){if(E8.current=!0,!!OS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mw.current=t.matches;t.addEventListener("change",e),e()}else mw.current=!1}const Ihe=new WeakMap;function Lhe(t,e,n){for(const r in e){const s=e[r],i=n[r];if(tr(s))t.addValue(r,s);else if(tr(i))t.addValue(r,gu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,gu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const X6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rhe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Pr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,$t.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Cx(n),this.isVariantNode=f8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];c[p]!==void 0&&tr(g)&&g.set(c[p])}}mount(e){this.current=e,Ihe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),E8.current||Dhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$t.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xu){const n=xu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<X6.length;r++){const s=X6[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Lhe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=gu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(bR(r)||wR(r))?r=parseFloat(r):!Wde(r)&&So.test(n)&&(r=n8(e,n)),this.setBaseTarget(e,tr(r)?r.get():r)),tr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=aj(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!tr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new RS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){JS.render(this.render)}}class M8 extends Rhe{constructor(){super(...arguments),this.KeyframeResolver=_de}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function A8(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function Fhe(t){return window.getComputedStyle(t)}class zhe extends M8{constructor(){super(...arguments),this.type="html",this.renderInstance=A8}readValueFromInstance(e,n){if(Pu.has(n))return this.projection?.isProjecting?iw(n):Jue(e,n);{const r=Fhe(e),s=(VS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return T8(e,n)}build(e,n,r){rj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return oj(e,n,r)}}const P8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vhe(t,e,n,r){A8(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(P8.has(s)?s:lj(s),e.attrs[s])}class $he extends M8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pu.has(n)){const r=t8(n);return r&&r.default||0}return n=P8.has(n)?n:lj(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return v8(e,n,r)}build(e,n,r){g8(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Vhe(e,n,r,s)}mount(e){this.isSVGTag=y8(e.tagName),super.mount(e)}}const Bhe=(t,e)=>ij(t)?new $he(e):new zhe(e,{allowProjection:t!==T.Fragment});function Zc(t,e,n){const r=t.getProps();return aj(r,e,n!==void 0?n:r.custom,t)}const pw=t=>Array.isArray(t);function Hhe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gu(n))}function Uhe(t){return pw(t)?t[t.length-1]||0:t}function Whe(t,e){const n=Zc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=Uhe(i[a]);Hhe(t,a,l)}}function qhe(t){return!!(tr(t)&&t.add)}function gw(t,e){const n=t.getValue("willChange");if(qhe(n))return n.add(e);if(!n&&ha.WillChange){const r=new ha.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function O8(t){return t.props[w8]}const Khe=t=>t!==null;function Ghe(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Khe),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Yhe={type:"spring",stiffness:500,damping:25,restSpeed:10},Xhe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qhe={type:"keyframes",duration:.8},Jhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zhe=(t,{keyframes:e})=>e.length>2?Qhe:Pu.has(t)?t.startsWith("scale")?Xhe(e[1]):Yhe:Jhe;function efe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const cj=(t,e,n,r={},s,i)=>a=>{const l=XS(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-mi(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};efe(l)||Object.assign(d,Zhe(t,d)),d.duration&&(d.duration=mi(d.duration)),d.repeatDelay&&(d.repeatDelay=mi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(uw(d),d.delay===0&&(f=!0)),(ha.instantAnimations||ha.skipAnimations)&&(f=!0,uw(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const p=Ghe(d.keyframes,l);if(p!==void 0){$t.update(()=>{d.onUpdate(p),d.onComplete()});return}}return l.isSync?new GS(d):new wde(d)};function tfe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _8(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),p=l[d];if(p===void 0||u&&tfe(u,d))continue;const g={delay:n,...XS(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=O8(t);if(w){const S=window.MotionHandoffAnimation(w,d,$t);S!==null&&(g.startTime=S,v=!0)}}gw(t,d),f.start(cj(d,f,p,t.shouldReduceMotion&&JR.has(d)?{type:!1}:g,t,v));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{$t.update(()=>{a&&Whe(t,a)})}),c}function D8(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:l-i*r}function xw(t,e,n={}){const r=Zc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(_8(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return nfe(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function nfe(t,e,n=0,r=0,s=0,i=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(xw(c,e,{...a,delay:n+(typeof r=="function"?0:r)+D8(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function rfe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>xw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=xw(t,e,n);else{const s=typeof e=="function"?Zc(t,e,n.custom):e;r=Promise.all(_8(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function I8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const sfe=nj.length;function L8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?L8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sfe;n++){const r=nj[n],s=t.props[r];(Wh(s)||s===!1)&&(e[r]=s)}return e}const ife=[...tj].reverse(),afe=tj.length;function ofe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rfe(t,n,r)))}function lfe(t){let e=ofe(t),n=Q6(),r=!0;const s=c=>(u,d)=>{const f=Zc(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=L8(t.parent)||{},f=[],p=new Set;let g={},x=1/0;for(let b=0;b<afe;b++){const w=ife[b],S=n[w],j=u[w]!==void 0?u[w]:d[w],M=Wh(j),C=w===c?S.isActive:null;C===!1&&(x=b);let A=j===d[w]&&j!==u[w]&&M;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),S.protectedKeys={...g},!S.isActive&&C===null||!j&&!S.prevProp||jx(j)||typeof j=="boolean")continue;const P=cfe(S.prevProp,j);let E=P||w===c&&S.isActive&&!A&&M||b>x&&M,D=!1;const L=Array.isArray(j)?j:[j];let _=L.reduce(s(w),{});C===!1&&(_={});const{prevResolvedValues:z={}}=S,G={...z,..._},H=$=>{E=!0,p.has($)&&(D=!0,p.delete($)),S.needsAnimating[$]=!0;const V=t.getValue($);V&&(V.liveStyle=!1)};for(const $ in G){const V=_[$],K=z[$];if(g.hasOwnProperty($))continue;let X=!1;pw(V)&&pw(K)?X=!I8(V,K):X=V!==K,X?V!=null?H($):p.add($):V!==void 0&&p.has($)?H($):S.protectedKeys[$]=!0}S.prevProp=j,S.prevResolvedValues=_,S.isActive&&(g={...g,..._}),r&&t.blockInitialAnimation&&(E=!1);const W=A&&P;E&&(!W||D)&&f.push(...L.map($=>{const V={type:w};if(typeof $=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,X=Zc(K,$);if(K.enteringChildren&&X){const{delayChildren:B}=X.transition||{};V.delay=D8(K.enteringChildren,t,B)}}return{animation:$,options:V}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const w=Zc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const S=t.getBaseTarget(w),j=t.getValue(w);j&&(j.liveStyle=!0),b[w]=S??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function l(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Q6()}}}function cfe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!I8(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q6(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ufe extends Oo{constructor(e){super(e),e.animationState||(e.animationState=lfe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dfe=0;class hfe extends Oo{constructor(){super(...arguments),this.id=dfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ffe={animation:{Feature:ufe},exit:{Feature:hfe}};function Kh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Sf(t){return{point:{x:t.pageX,y:t.pageY}}}const mfe=t=>e=>ZS(e)&&t(e,Sf(e));function fh(t,e,n,r){return Kh(t,e,mfe(n),r)}const R8=1e-4,pfe=1-R8,gfe=1+R8,F8=.01,xfe=0-F8,yfe=0+F8;function hr(t){return t.max-t.min}function bfe(t,e,n){return Math.abs(t-e)<=n}function J6(t,e,n,r=.5){t.origin=r,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pfe&&t.scale<=gfe||isNaN(t.scale))&&(t.scale=1),(t.translate>=xfe&&t.translate<=yfe||isNaN(t.translate))&&(t.translate=0)}function mh(t,e,n,r){J6(t.x,e.x,n.x,r?r.originX:void 0),J6(t.y,e.y,n.y,r?r.originY:void 0)}function Z6(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function vfe(t,e,n){Z6(t.x,e.x,n.x),Z6(t.y,e.y,n.y)}function eM(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function ph(t,e,n){eM(t.x,e.x,n.x),eM(t.y,e.y,n.y)}function hs(t){return[t("x"),t("y")]}const z8=({current:t})=>t?t.ownerDocument.defaultView:null,tM=(t,e)=>Math.abs(t-e);function wfe(t,e){const n=tM(t.x,e.x),r=tM(t.y,e.y);return Math.sqrt(n**2+r**2)}class V8{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Gv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=wfe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=p,{timestamp:b}=Rn;this.history.push({...v,timestamp:b});const{onStart:w,onMove:S}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Kv(g,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Gv(p.type==="pointercancel"?this.lastMoveEventInfo:Kv(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,w),v&&v(p,w)},!ZS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=Sf(e),c=Kv(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Rn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Gv(c,this.history)),this.removeListeners=vf(fh(this.contextWindow,"pointermove",this.handlePointerMove),fh(this.contextWindow,"pointerup",this.handlePointerUp),fh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}}function Kv(t,e){return e?{point:e(t.point)}:t}function nM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gv({point:t},e){return{point:t,delta:nM(t,$8(e)),offset:nM(t,Nfe(e)),velocity:Sfe(e,.1)}}function Nfe(t){return t[0]}function $8(t){return t[t.length-1]}function Sfe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=$8(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mi(e)));)n--;if(!r)return{x:0,y:0};const i=xs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function jfe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Wt(n,t,r.max):Math.min(t,n)),t}function rM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Cfe(t,{top:e,left:n,bottom:r,right:s}){return{x:rM(t.x,n,s),y:rM(t.y,e,r)}}function sM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kfe(t,e){return{x:sM(t.x,e.x),y:sM(t.y,e.y)}}function Tfe(t,e){let n=.5;const r=hr(t),s=hr(e);return s>r?n=Bh(e.min,e.max-r,t.min):r>s&&(n=Bh(t.min,t.max-s,e.min)),da(0,1,n)}function Efe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yw=.35;function Mfe(t=yw){return t===!1?t=0:t===!0&&(t=yw),{x:iM(t,"left","right"),y:iM(t,"top","bottom")}}function iM(t,e,n){return{min:aM(t,e),max:aM(t,n)}}function aM(t,e){return typeof t=="number"?t:t[e]||0}const Afe=new WeakMap;class Pfe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sf(f).point)},a=(f,p)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rde(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(w=>{let S=this.getAxisMotionValue(w).get()||0;if(pi.test(S)){const{projection:j}=this.visualElement;if(j&&j.layout){const M=j.layout.layoutBox[w];M&&(S=hr(M)*(parseFloat(S)/100))}}this.originPoint[w]=S}),v&&$t.postRender(()=>v(f,p)),gw(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(x&&this.currentDirection===null){this.currentDirection=Ofe(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>hs(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new V8(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:z8(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&$t.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!gp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=jfe(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Bc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Cfe(r.layoutBox,e):this.constraints=!1,this.elastic=Mfe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hs(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Efe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_he(r,s.root,this.visualElement.getTransformPagePoint());let a=kfe(s.layout.layoutBox,i);if(n){const l=n(Ahe(a));this.hasMutatedConstraints=!!l,l&&(a=j8(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=hs(d=>{if(!gp(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gw(this.visualElement,e),r.start(cj(e,r,0,n,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hs(n=>{const{drag:r}=this.getProps();if(!gp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-Wt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=Tfe({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hs(a=>{if(!gp(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Wt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Afe.set(this.visualElement,this);const e=this.visualElement.current,n=fh(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Bc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$t.read(r);const a=Kh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(hs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=yw,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function gp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ofe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _fe extends Oo{constructor(e){super(e),this.removeGroupControls=vs,this.removeListeners=vs,this.controls=new Pfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const oM=t=>(e,n)=>{t&&$t.postRender(()=>t(e,n))};class Dfe extends Oo{constructor(){super(...arguments),this.removePointerDownListener=vs}onPointerDown(e){this.session=new V8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:oM(e),onStart:oM(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&$t.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=fh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ad={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const n=lM(t,e.target.x),r=lM(t,e.target.y);return`${n}% ${r}%`}},Ife={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=So.parse(t);if(s.length>5)return r;const i=So.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=Wt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let Yv=!1;class Lfe extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;she(Rfe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Yv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,Yv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||$t.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),JS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Yv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B8(t){const[e,n]=c8(),r=T.useContext(AS);return o.jsx(Lfe,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(N8),isPresent:e,safeToRemove:n})}const Rfe={borderRadius:{...Ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ad,borderTopRightRadius:Ad,borderBottomLeftRadius:Ad,borderBottomRightRadius:Ad,boxShadow:Ife};function Ffe(t,e,n){const r=tr(t)?t:gu(t);return r.start(cj("",r,e,n)),r.animation}const zfe=(t,e)=>t.depth-e.depth;class Vfe{constructor(){this.children=[],this.isDirty=!1}add(e){_S(this.children,e),this.isDirty=!0}remove(e){DS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zfe),this.isDirty=!1,this.children.forEach(e)}}function $fe(t,e){const n=Pr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(No(r),t(i-e))};return $t.setup(r,!0),()=>No(r)}const H8=["TopLeft","TopRight","BottomLeft","BottomRight"],Bfe=H8.length,cM=t=>typeof t=="string"?parseFloat(t):t,uM=t=>typeof t=="number"||Ze.test(t);function Hfe(t,e,n,r,s,i){s?(t.opacity=Wt(0,n.opacity??1,Ufe(r)),t.opacityExit=Wt(e.opacity??1,0,Wfe(r))):i&&(t.opacity=Wt(e.opacity??1,n.opacity??1,r));for(let a=0;a<Bfe;a++){const l=`border${H8[a]}Radius`;let c=dM(e,l),u=dM(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||uM(c)===uM(u)?(t[l]=Math.max(Wt(cM(c),cM(u),r),0),(pi.test(u)||pi.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,r))}function dM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ufe=U8(0,.5,MR),Wfe=U8(.5,.95,vs);function U8(t,e,n){return r=>r<t?0:r>e?1:n(Bh(t,e,r))}function hM(t,e){t.min=e.min,t.max=e.max}function us(t,e){hM(t.x,e.x),hM(t.y,e.y)}function fM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mM(t,e,n,r,s){return t-=e,t=g0(t,1/n,r),s!==void 0&&(t=g0(t,1/s,r)),t}function qfe(t,e=0,n=1,r=.5,s,i=t,a=t){if(pi.test(e)&&(e=parseFloat(e),e=Wt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Wt(i.min,i.max,r);t===i&&(l-=e),t.min=mM(t.min,e,n,l,s),t.max=mM(t.max,e,n,l,s)}function pM(t,e,[n,r,s],i,a){qfe(t,e[n],e[r],e[s],e.scale,i,a)}const Kfe=["x","scaleX","originX"],Gfe=["y","scaleY","originY"];function gM(t,e,n,r){pM(t.x,e,Kfe,n?n.x:void 0,r?r.x:void 0),pM(t.y,e,Gfe,n?n.y:void 0,r?r.y:void 0)}function xM(t){return t.translate===0&&t.scale===1}function W8(t){return xM(t.x)&&xM(t.y)}function yM(t,e){return t.min===e.min&&t.max===e.max}function Yfe(t,e){return yM(t.x,e.x)&&yM(t.y,e.y)}function bM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function q8(t,e){return bM(t.x,e.x)&&bM(t.y,e.y)}function vM(t){return hr(t.x)/hr(t.y)}function wM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Xfe{constructor(){this.members=[]}add(e){_S(this.members,e),e.scheduleRender()}remove(e){if(DS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qfe(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Xv=["","X","Y","Z"],Jfe=1e3;let Zfe=0;function Qv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function K8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=O8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$t,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&K8(r)}function G8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=Zfe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nme),this.nodes.forEach(ame),this.nodes.forEach(ome),this.nodes.forEach(rme)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vfe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new RS),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=l8(a)&&!Hde(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{f=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=$fe(p,250),Gp.hasAnimatedSinceResize&&(Gp.hasAnimatedSinceResize=!1,this.nodes.forEach(jM)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||hme,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!q8(this.targetLayout,g),S=!f&&p;if(this.options.layoutRoot||this.resumeFrom||S||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...XS(x,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,S)}else f||jM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lme),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ime),this.nodes.forEach(eme),this.nodes.forEach(tme)):this.nodes.forEach(SM),this.clearAllSnapshots();const l=Pr.now();Rn.delta=da(0,1e3/60,l-Rn.timestamp),Rn.timestamp=l,Rn.isProcessing=!0,zv.update.process(Rn),zv.preRender.process(Rn),zv.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,JS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sme),this.sharedNodes.forEach(cme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!W8(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||el(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),fme(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return sn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mme))){const{scroll:u}=this.root;u&&(Hc(l.x,u.offset.x),Hc(l.y,u.offset.y))}return l}removeElementScroll(a){const l=sn();if(us(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&us(l,a),Hc(l.x,d.offset.x),Hc(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const c=sn();us(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Uc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),el(d.latestValues)&&Uc(c,d.latestValues)}return el(this.latestValues)&&Uc(c,this.latestValues),c}removeTransform(a){const l=sn();us(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!el(u.latestValues))continue;hw(u.latestValues)&&u.updateSnapshot();const d=sn(),f=u.measurePageBox();us(d,f),gM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return el(this.latestValues)&&gM(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),ph(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),k8(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),ph(this.relativeTargetOrigin,this.target,p.target),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hw(this.parent.latestValues)||C8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;us(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Ohe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=sn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fM(this.prevProjectionDelta.x,this.projectionDelta.x),fM(this.prevProjectionDelta.y,this.projectionDelta.y)),mh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!wM(this.projectionDelta.x,this.prevProjectionDelta.x)||!wM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wc(),this.projectionDelta=Wc(),this.projectionDeltaWithTransform=Wc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Wc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=sn(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,b=this.getStack(),w=!b||b.members.length<=1,S=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(dme));this.animationProgress=0;let j;this.mixTargetDelta=M=>{const C=M/1e3;CM(f.x,a.x,C),CM(f.y,a.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ph(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ume(this.relativeTarget,this.relativeTargetOrigin,p,C),j&&Yfe(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=sn()),us(j,this.relativeTarget)),v&&(this.animationValues=d,Hfe(d,u,this.latestValues,C,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{Gp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gu(0)),this.currentAnimation=Ffe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jfe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Y8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||sn();const f=hr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=hr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}us(l,c),Uc(l,d),mh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Xfe),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Qv("z",a,u,this.animationValues);for(let d=0;d<Xv.length;d++)Qv(`rotate${Xv[d]}`,a,u,this.animationValues),Qv(`skew${Xv[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Kp(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Kp(l?.pointerEvents)||""),this.hasProjected&&!el(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Qfe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in qh){if(d[x]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=qh[x],S=f==="none"?d[x]:v(d[x],u);if(b){const j=b.length;for(let M=0;M<j;M++)a[b[M]]=S}else w?this.options.visualElement.renderState.vars[x]=S:a[x]=S}this.options.layoutId&&(a.pointerEvents=u===this?Kp(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(NM),this.root.sharedNodes.clear()}}}function eme(t){t.updateLayout()}function tme(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?hs(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=hr(f);f.min=n[d].min,f.max=f.min+p}):Y8(s,e.layoutBox,n)&&hs(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=hr(n[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Wc();mh(a,n,e.layoutBox);const l=Wc();i?mh(l,t.applyTransform(r,!0),e.measuredBox):mh(l,n,e.layoutBox);const c=!W8(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=sn();ph(g,e.layoutBox,f.layoutBox);const x=sn();ph(x,n,p.layoutBox),q8(g,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function nme(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rme(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sme(t){t.clearSnapshot()}function NM(t){t.clearMeasurements()}function SM(t){t.isLayoutDirty=!1}function ime(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ame(t){t.resolveTargetDelta()}function ome(t){t.calcProjection()}function lme(t){t.resetSkewAndRotation()}function cme(t){t.removeLeadSnapshot()}function CM(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kM(t,e,n,r){t.min=Wt(e.min,n.min,r),t.max=Wt(e.max,n.max,r)}function ume(t,e,n,r){kM(t.x,e.x,n.x,r),kM(t.y,e.y,n.y,r)}function dme(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hme={duration:.45,ease:[.4,0,.1,1]},TM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),EM=TM("applewebkit/")&&!TM("chrome/")?Math.round:vs;function MM(t){t.min=EM(t.min),t.max=EM(t.max)}function fme(t){MM(t.x),MM(t.y)}function Y8(t,e,n){return t==="position"||t==="preserve-aspect"&&!bfe(vM(e),vM(n),.2)}function mme(t){return t!==t.root&&t.scroll?.wasRoot}const pme=G8({attachResizeListener:(t,e)=>Kh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jv={current:void 0},X8=G8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jv.current){const t=new pme({});t.mount(window),t.setOptions({layoutScroll:!0}),Jv.current=t}return Jv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gme={pan:{Feature:Dfe},drag:{Feature:_fe,ProjectionNode:X8,MeasureLayout:B8}};function AM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&$t.postRender(()=>i(e,Sf(e)))}class xme extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=Fde(e,(n,r)=>(AM(this.node,r,"Start"),s=>AM(this.node,s,"End"))))}unmount(){}}class yme extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vf(Kh(this.node.current,"focus",()=>this.onFocus()),Kh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&$t.postRender(()=>i(e,Sf(e)))}class bme extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=Bde(e,(n,r)=>(PM(this.node,r,"Start"),(s,{success:i})=>PM(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bw=new WeakMap,Zv=new WeakMap,vme=t=>{const e=bw.get(t.target);e&&e(t)},wme=t=>{t.forEach(vme)};function Nme({root:t,...e}){const n=t||document;Zv.has(n)||Zv.set(n,{});const r=Zv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(wme,{root:t,...e})),r[s]}function Sme(t,e,n){const r=Nme(e);return bw.set(t,n),r.observe(t),()=>{bw.delete(t),r.unobserve(t)}}const jme={some:0,all:1};class Cme extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:jme[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return Sme(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kme(e,n))&&this.startObserver()}unmount(){}}function kme({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Tme={inView:{Feature:Cme},tap:{Feature:bme},focus:{Feature:yme},hover:{Feature:xme}},Eme={layout:{ProjectionNode:X8,MeasureLayout:B8}},Mme={...ffe,...Tme,...gme,...Eme},OM=Mhe(Mme,Bhe);function bt({children:t,open:e,className:n,duration:r,onClose:s}){return T.useEffect(()=>{if(e&&r&&s){const i=setTimeout(()=>{s()},r);return()=>clearTimeout(i)}},[e,r,s]),o.jsx(u8,{mode:"wait",children:e&&o.jsx(OM.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#3e3e3e95] z-[999]",onClick:s,children:o.jsx(OM.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.25},className:`${n}`,onClick:i=>i.stopPropagation(),children:t},"modal-content")},"modal-overlay")})}function Ame({openAddSizeColor:t,setOpenAddSizeColor:e,onSuccess:n}){const[r,s]=T.useState(!1),[i,a]=T.useState(""),[l,c]=T.useState("cloth"),[u,d]=T.useState(""),[f,p]=T.useState("#000000"),g=t.node==="size",x=async()=>{if(g){if(!i.trim()){ue.error("Vui lng nhp tn size!");return}}else if(!u.trim()){ue.error("Vui lng nhp tn mu!");return}s(!0);try{if(g){const b=await ge.post("api/v1/variant-size/create",{name:i.trim(),type:l});b.status&&ue.success(b.message||"Thm size thnh cng")}else{const b=await ge.post("api/v1/variant-color/create",{name:u.trim(),hexCode:f});b.status&&ue.success(b.message||"Thm mu thnh cng")}n(),e({open:!1,node:"size"}),a(""),d(""),p("#000000")}catch{ue.error("Thm tht bi. Vui lng th li.")}finally{s(!1)}},v=()=>{e({open:!1,node:"size"}),a(""),d(""),p("#000000")};return o.jsxs(bt,{open:t.open,className:"relative w-[50rem] bg-white p-[3rem] rounded-lg shadow-xl",children:[o.jsx("button",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",onClick:v,disabled:r,children:o.jsx(F,{icon:pn,className:"text-gray-600"})}),o.jsx("h2",{className:"text-[2rem] text-center font-bold text-green-600 mb-6",children:g?"Thm Size Mi":"Thm Mu Mi"}),g?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn size ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:i,onChange:b=>a(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: XXL, 43",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Loi sn phm"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"cloth",checked:l==="cloth",onChange:()=>c("cloth"),disabled:r}),"Qun o"]}),o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"shoes",checked:l==="shoes",onChange:()=>c("shoes"),disabled:r}),"Giy dp"]})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn mu ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: Xanh ngc",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Chn mu"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("input",{type:"color",value:f,onChange:b=>p(b.target.value),className:"w-20 h-20 rounded-lg cursor-pointer border border-gray-300",disabled:r}),o.jsx("span",{className:"text-[1.6rem] font-mono",children:f})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[o.jsx("button",{onClick:v,disabled:r,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Hy"}),o.jsx("button",{onClick:x,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang thm..."]}):"Thm"})]})]})}function Pme({openActionVariant:t,setOpenActionVariant:e,setValue:n,variants:r,dataUpdate:s,dataSize:i,dataColor:a}){const[l,c]=T.useState("cloth"),u=jo(),[d,f]=T.useState({open:!1,node:"size"}),[p,g]=T.useState({size:"",color:"",inventory:""}),[x,v]=T.useState({sizeId:null,colorId:null,price:null,inventory:null});T.useEffect(()=>{if(t.node==="edit"&&s){const j=i.find(M=>M.id===s.sizeId);v({sizeId:s.sizeId,colorId:s.colorId,price:s.price,inventory:s.inventory}),j&&c(j.type)}},[s,t,i]),T.useEffect(()=>{t.node==="add"&&(v({sizeId:null,colorId:null,price:null,inventory:null}),c("cloth"))},[t]);const b=()=>{if(!x.sizeId){g(M=>({...M,size:"Vui lng chn size cho sn phm!"}));return}if(!x.colorId){g(M=>({...M,color:"Vui lng chn mu sc cho sn phm!"}));return}if(!x.inventory){g(M=>({...M,inventory:"Vui lng nhp s lng tn kho!"}));return}if(r.some(M=>M.sizeId===Number(x.sizeId)&&M.colorId===Number(x.colorId))){ue.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}n("variants",[...r,{tempId:Date.now(),sizeId:Number(x.sizeId),colorId:Number(x.colorId),price:x.price?Number(x.price):null,inventory:Number(x.inventory),isEdited:!1}]),e({open:!1,node:"add",data:null})},w=()=>{if(x.sizeId)if(x.colorId){if(!x.inventory){g(P=>({...P,inventory:"Vui lng nhp s lng tn kho!"}));return}}else{g(P=>({...P,color:"Vui lng chn mu sc cho sn phm!"}));return}else{g(P=>({...P,size:"Vui lng chn size cho sn phm!"}));return}const j=s.id;if(r.some(P=>!(j?P.id===s.id:P.tempId===s.tempId)&&P.sizeId===Number(x.sizeId)&&P.colorId===Number(x.colorId))){ue.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}const C={tempId:s.tempId,sizeId:x.sizeId,colorId:x.colorId,price:x.price?Number(x.price):null,inventory:Number(x.inventory),...s.id&&{id:s.id},isEdited:!0},A=r.map(P=>P.tempId===s.tempId?C:P);n("variants",A),e({open:!1,node:"add",data:null})},S=()=>{u.invalidateQueries({queryKey:["variantSize"]}),u.invalidateQueries({queryKey:["variantColor"]})};return o.jsxs(bt,{open:t.open,className:"relative max-w-[75rem] bg-white p-[3rem] rounded-lg shadow-md",children:[o.jsx("button",{className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1.5rem] right-[1.5rem] p-2 hover:bg-gray-200 rounded-full",onClick:()=>e({open:!1,node:"add",data:null}),children:o.jsx(F,{icon:pn,className:"text-gray-600"})}),o.jsx("h2",{className:`text-[2rem] text-center font-bold ${t.node==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.node==="add"?"Thm thuc tnh sn phm":"Chnh sa thuc tnh"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn size:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"size",open:!0}),children:[o.jsx("span",{children:"+"})," Thm size"]})]}),o.jsxs("div",{className:"flex items-center overflow-x-auto gap-[4rem] mt-[.5rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"cloth",className:"text-[1.4rem] text-gray-600",children:"Qun o"}),o.jsx("input",{type:"radio",id:"cloth",className:"",checked:l==="cloth",onChange:()=>c("cloth")})]}),o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"shoes",className:"text-[1.4rem] text-gray-600",children:"Giy dp"}),o.jsx("input",{type:"radio",id:"shoes",className:"",checked:l==="shoes",onChange:()=>c("shoes")})]})]}),o.jsx("div",{className:"w-full overflow-auto hide-scrollbar flex flex-nowrap items-center gap-[1rem] mt-[1rem] pt-[.5rem]",children:i?.map(j=>{if(j.type===l)return o.jsx("button",{className:`flex-shrink-0 px-[1.5rem] py-[.5rem] border-[.2rem] text-gray-600 border-gray-300 rounded-xl hover:border-blue-600 hover:translate-y-[-.2rem] hover-linear hover:shadow-xl ${j.id===x.sizeId?"bg-blue-500 border-none text-white shadow-xl shadow-blue-100":""}`,onClick:()=>{v(M=>({...M,sizeId:j.id})),g(M=>({...M,size:""}))},children:j.name},j.id)})}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.size}),o.jsxs("div",{className:"flex justify-between items-center mt-[2.5rem]",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn mu:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"color",open:!0}),children:[o.jsx("span",{children:"+"})," Thm mu"]})]}),o.jsx("div",{className:"w-full max-h-[24rem] overflow-y-auto grid grid-cols-4 gap-[1rem] mt-[1rem] pt-[.5rem]",children:a?.map(j=>o.jsxs("button",{className:`w-full flex items-center gap-[1rem] px-[2rem] py-[.6rem] border-[.2rem]  rounded-xl hover:translate-y-[-.2rem] hover-linear hover:shadow-xl hover:border-blue-500 ${j.id===x.colorId?"bg-blue-100 border-blue-500":"border-gray-300"}`,onClick:()=>{v(M=>({...M,colorId:j.id})),g(M=>({...M,color:""}))},children:[o.jsx("div",{className:"block w-[3rem] h-[3rem] rounded-full border-[.2rem] border-gray-300",style:{background:j.hexCode}}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:j.name})]},j.id))}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.color}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"price",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"Gi khc"}),o.jsx("input",{type:"number",id:"price",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 200000",value:x.price??"",onChange:j=>v(M=>({...M,price:j.target.value}))})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"inventory",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"S lng kho"}),o.jsx("input",{type:"number",id:"inventory",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 5",value:x.inventory??"",onChange:j=>{v(M=>({...M,inventory:j.target.value})),g(M=>({...M,inventory:""}))}}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.inventory})]})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] justify-end mt-[2rem]",children:[o.jsx("button",{className:" bg-gray-200 text-gray-600 py-2 rounded hover:bg-gray-300 px-[2rem] hover-linear",onClick:()=>e({open:!1,node:"add",data:null}),children:"Hy"}),o.jsx("button",{className:" bg-green-500 text-white py-2 rounded hover:bg-green-600 px-[2rem] hover-linear",onClick:()=>{t.node==="add"?b():w()},children:t.node==="edit"?"Lu":"Thm"})]}),o.jsx(Ame,{openAddSizeColor:d,setOpenAddSizeColor:f,onSuccess:S})]})}const Ome=async({queryKey:t})=>{const[e,n]=t,r={};return n.categoryName&&(r.categoryName=n.categoryName),n.isActive&&n.isActive!=="all"&&(r.isActive=n.isActive==="true"),(await ge.get("/api/v1/category/get-categories",{params:r})).data},Ou=async()=>(await ge.get("/api/v1/category/get-all-category")).data,_me=async t=>{try{if(!t||t.length===0)throw new Error("Slugs phi l mt mng!");const e=t.filter(s=>s&&typeof s=="string"&&s.trim().length>0);if(e.length===0)throw new Error("Slugs khng hp l!");const n=e.join("/");return(await ge.get("/api/v1/category/get-category-by-slugs",{params:{slugs:n}})).data}catch(e){if(e instanceof vH){if(e.response)throw new Error(e.response.data?.message||"Ly d liu tht bi!");if(e.request)throw new Error("Khng c kt ni mng. Vui lng kim tra kt ni ca bn!")}throw e}};function kx({category:t,allCategories:e,level:n=0}){if(!t.isActive)return null;const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(be.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>o.jsx(kx,{category:i,allCategories:e,level:n+1},i.id))]},t.id)}function _M(){const{id:t}=wi(),e=t?"edit":"create",n=rt(),[r,s]=T.useState(!1),{control:i,register:a,handleSubmit:l,watch:c,setValue:u,formState:{errors:d,isSubmitting:f},reset:p}=Bs({defaultValues:{productName:"",price:null,description:"",mainImage:null,listImages:null,inventory:null,categoryId:void 0,variants:[]}}),{data:g=[]}=Fe({queryKey:["getAllCategory"],queryFn:Ou});T.useEffect(()=>{if(!t)return;(async()=>{try{s(!0);const ie=await ge.get(`/api/v1/product/admin/detail/${t}`);if(ie.status&&ie.product){const he=ie.product;if(p({id:he.id,productName:he.productName||"",price:he.price||null,description:he.description||"",inventory:he.inventory||null,categoryId:he.category.id||void 0,variants:he.variants.map((ke,Ne)=>({id:ke.id,sizeId:ke.variantSize.id||null,colorId:ke.variantColor.id||null,price:ke.price||null,inventory:ke.inventory||null,tempId:ke.id?`old-${ke.id}`:Date.now()+String(Ne),isEdited:!1}))}),he.mainImage&&j(he.mainImage),he.listImageProduct?.length>0){const ke=he.listImageProduct;H(ke),R(ke.map(Ne=>Ne.id)),C(ke.map(Ne=>Ne.imageUrl))}}}catch(ie){console.log(ie)}finally{s(!1)}})()},[t,p]);const{data:x,isLoading:v}=Fe({queryKey:["variantSize"],queryFn:Aee}),{data:b,isLoading:w}=Fe({queryKey:["variantColor"],queryFn:Pee}),[S,j]=T.useState(null),[M,C]=T.useState([]),[A,P]=T.useState({open:!1,node:"add",data:null}),[E,D]=T.useState(!1),L=c("mainImage"),_=c("listImages"),z=c("variants"),[G,H]=T.useState([]),[W,R]=T.useState([]),[$,V]=T.useState([]),[K,X]=T.useState([]),[B,J]=T.useState([]);T.useEffect(()=>{if(L&&L.length>0){const ee=L[0],ie=URL.createObjectURL(ee);return j(ie),()=>URL.revokeObjectURL(ie)}},[L]),T.useEffect(()=>{if(_&&_.length>0){const ee=Array.from(_).map(ie=>URL.createObjectURL(ie));return C(ee),()=>ee.forEach(ie=>URL.revokeObjectURL(ie))}},[_]),T.useEffect(()=>()=>{K.forEach(ee=>URL.revokeObjectURL(ee.url))},[K]);const ne=ee=>{const ie=W.length;if(ee<ie){const ke=G[ee].id;R(Ne=>Ne.filter(ve=>ve!==ke)),V(Ne=>[...Ne,ke])}else{const ke=ee-ie;X(Ne=>{const ve=Ne.filter((Oe,Ye)=>Ye!==ke);return Ne[ke]&&URL.revokeObjectURL(Ne[ke].url),ve})}C(ke=>ke.filter((Ne,ve)=>ve!==ee))},se=async ee=>{try{const ie=new FormData;if(ie.append("productName",ee.productName),ee.price&&ie.append("price",String(ee.price)),ie.append("description",ee.description),ee.categoryId&&ie.append("categoryId",String(ee.categoryId)??""),!ee.variants||ee.variants.length===0){ue.error("Vui lng chn t nht mt thuc tnh");return}for(let Ne=0;Ne<ee.variants.length;Ne++){const ve=ee.variants[Ne];if(!ve.sizeId||!ve.colorId){ue.error(`Vui lng chn y  size v color cho thuc tnh th ${Ne+1}`);return}}if(ee.variants&&ee.variants.length>0)if(e==="create"){const Ne=z.map(ve=>{const{tempId:Oe,...Ye}=ve;return Ye});ie.append("variants",JSON.stringify(Ne))}else{const Ne=z.filter(Oe=>!Oe.id).map(Oe=>({sizeId:Oe.sizeId,colorId:Oe.colorId,price:Oe.price,inventory:Oe.inventory})),ve=z.filter(Oe=>Oe.id&&Oe.isEdited).map(Oe=>({id:Oe.id,sizeId:Oe.sizeId,colorId:Oe.colorId,price:Oe.price,inventory:Oe.inventory}));ie.append("editedVariants",JSON.stringify(ve)),ie.append("newVariants",JSON.stringify(Ne)),ie.append("deletedVariantIds",JSON.stringify(B))}ee.mainImage&&ee.mainImage.length>0&&ie.append("mainImage",ee.mainImage[0]),e==="edit"?(ie.append("keptListImageIds",JSON.stringify(W)),ie.append("deletedListImageIds",JSON.stringify($)),K.forEach(Ne=>{ie.append("newImages",Ne.file)})):ee.listImages&&Array.from(ee.listImages).forEach(Ne=>{ie.append("listImages",Ne)});const he=e==="create"?"/api/v1/product/create":`/api/v1/product/update/${ee.id}`;let ke=null;e==="create"?ke=await ge.post(he,ie,{headers:{"Content-Type":"multipart/form-data"}}):ke=await ge.patch(he,ie,{headers:{"Content-Type":"multipart/form-data"}}),ke.status&&(ue.success(ke.message||`${e==="create"?"Thm":"Cp nht"} sn phm thnh cng!`),e==="create"&&(p(),j(""),n("/dashboard/products")))}catch(ie){console.log(ie),ue.error("C li xy ra. Vui lng th li!")}},fe=ee=>{const ie=z[ee];ie.id&&J(he=>[...he,Number(ie.id)]),u("variants",z.filter((he,ke)=>ke!==ee))},Te=(ee,ie)=>{const he=ie.target.files?.[0];if(!he)return;const ke=URL.createObjectURL(he),Ne=W.length;if(ee<Ne){const ve=W[ee];R(Oe=>Oe.filter(Ye=>Ye!==ve)),V(Oe=>[...Oe,ve]),X(Oe=>[...Oe,{file:he,url:ke}])}else{const ve=ee-Ne;X(Oe=>{const Ye=[...Oe];return console.log(Ye),URL.revokeObjectURL(Ye[ve]?.url),Ye[ve]={file:he,url:ke},Ye})}return C(ve=>{const Oe=[...ve];return Oe[ee]=ke,Oe}),()=>{K.forEach(ve=>URL.revokeObjectURL(ve.url))}},le=T.useMemo(()=>e==="edit"?[...G.filter(ee=>W.includes(ee.id)).map(ee=>({type:"old",url:ee.imageUrl,id:ee.id})),...K.map(ee=>({type:"new",url:ee.url}))]:M.map(ee=>({type:"new",url:ee})),[G,W,K,M,e]);return e==="edit"&&r?o.jsx(Co,{}):o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex",children:o.jsxs(Qe,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(F,{icon:yi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})}),o.jsx("h2",{className:`text-[2.5rem] ${e==="create"?"text-green-700":"text-amber-700"} text-center font-bold mb-[2rem]`,children:e==="create"?"Thm sn phm":"Chnh sa sn phm"}),o.jsx("form",{onSubmit:l(se),children:E?o.jsxs("div",{children:[o.jsx("label",{className:"text-green-600 text-[1.8rem]",children:"M t sn phm"}),o.jsx("div",{children:o.jsxs("button",{type:"button",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md my-[1rem] py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>{D(!1)},children:[o.jsx(F,{icon:yi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li"})]})}),o.jsx(fi,{name:"description",control:i,render:({field:ee})=>o.jsx(Yce,{value:ee.value||"",onChange:ee.onChange})}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"h-[3.2rem] w-[10rem] flex items-center justify-center text-white bg-green-500 rounded text-[1.4rem] hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",type:"button",onClick:()=>D(!1),children:"p dng"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-[2rem]",children:[o.jsxs("div",{className:"w-[35%] text-center",children:[o.jsx("h4",{className:"font-bold",children:"Hnh nh sn phm"}),o.jsxs("div",{className:"my-[2rem]",children:[o.jsx("label",{className:"text-gray-600",children:"nh chnh"}),o.jsx("input",{type:"file",className:"hidden",id:"mainImage",accept:"image/*",...a("mainImage",{required:e==="create"?"Vui lng chn nh chnh":!1})}),o.jsx("label",{htmlFor:"mainImage",className:"cursor-pointer w-[20rem] h-[20rem] mx-auto border-2 border-dashed border-gray-300 rounded-md flex flex-col gap-y-[1rem] items-center justify-center hover:bg-gray-50",children:S?o.jsx("img",{src:S,alt:"Main",className:"w-full h-full object-cover rounded-md"}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:Qr,className:"text-[1.8rem] text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh chnh"})]})}),d.mainImage&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.mainImage.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[1.4rem] text-gray-600 block mb-[.5rem]",children:"nh ph (ti a 4 nh)"}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"listImages",onChange:ee=>{const ie=Array.from(ee.target.files??[]),he=4;if(e==="edit"){const ke=W.length+K.length,Ne=he-ke;if(ie.length>Ne){ue.error(`Ch c th thm ti a ${Ne} nh na!`),ee.target.value="";return}const ve=ie.map(Oe=>({file:Oe,url:URL.createObjectURL(Oe)}));X(Oe=>[...Oe,...ve]),C(Oe=>[...Oe,...ve.map(Ye=>Ye.url)])}else{if(ie.length>he){ue.error(`Ch c chn ti a ${he} nh ph!`);const ke=new DataTransfer;ie.slice(0,he).forEach(Ne=>ke.items.add(Ne)),ee.target.files=ke.files}u("listImages",ee.target.files,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})}}}),o.jsxs("label",{htmlFor:"listImages",className:"cursor-pointer w-full border-2 border-dashed border-gray-300 rounded-md flex gap-2.5 items-center justify-center py-[1rem] hover:bg-gray-50",children:[o.jsx(F,{icon:Qr,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh ph"})]}),o.jsx("div",{className:"mt-[1rem] grid grid-cols-4 gap-[1rem]",children:le.map((ee,ie)=>o.jsxs("label",{htmlFor:`image-${ie}`,className:"relative group",children:[o.jsx("img",{src:ee.url,alt:`image-${ie}`,className:"w-full h-[8rem] object-cover rounded-md border border-gray-300"}),o.jsx("input",{type:"file",id:`image-${ie}`,className:"hidden",onChange:he=>Te(ie,he)}),o.jsx("button",{type:"button",onClick:()=>ne(ie),className:"absolute w-[2.5rem] h-[2.5rem] top-1 right-1 bg-white/80 rounded-full text-red-500 hover:bg-red-100 opacity-0 group-hover:opacity-100 transition",children:o.jsx(F,{icon:Un,className:"text-[1.4rem]"})})]},ie))})]})]}),o.jsxs("div",{className:"w-[65%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h4",{className:"font-bold ",children:"Thng tin sn phm"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("label",{htmlFor:"productName",className:"text-[1.4rem] text-gray-600",children:["Tn sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"productName",placeholder:"Tn sn phm...",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 px-[1.5rem] focus:border-cyan-300 focus:border-1",...a("productName",{required:"Vui lng nhp tn sn phm",minLength:{value:3,message:"Tn sn phm phi c t nht 3 k t"}})}),d.productName&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.productName.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"price",className:"text-[1.4rem] text-gray-600",children:["Gi sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",id:"price",placeholder:"VD: 250000",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("price",{required:"Vui lng nhp gi sn phm",min:{value:0,message:"Gi sn phm phi ln hn 0"}})}),d.price&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.price.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"categoryId",className:"text-[1.4rem] text-gray-600",children:["Danh mc sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"categoryId",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("categoryId",{required:"Vui lng chn danh mc sn phm"}),children:[o.jsx("option",{value:"",disabled:!0,children:"Chn danh mc sn phm"}),g.filter(ee=>ee.parentId===null&&ee.isActive).map(ee=>o.jsx(kx,{category:ee,allCategories:g,level:0},ee.id))]}),d.categoryId&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.categoryId.message})]})]}),o.jsx("input",{type:"number",className:"hidden",...a("id")}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"description",className:"text-[1.4rem] text-gray-600",children:"M t sn phm"}),o.jsxs("button",{type:"button",className:"flex items-center space-x-1 px-[2rem] py-[.6rem] rounded-md  bg-green-500 hover:bg-green-600 text-white  transition duration-300 cursor-pointer mt-[.5rem]",onClick:()=>D(!0),children:[o.jsx("span",{children:"M t"}),o.jsx(F,{icon:XO})]})]}),o.jsxs("div",{className:"mt-[2rem] border-t border-gray-300 pt-[2rem]",children:[o.jsx("label",{className:"text-[1.6rem] font-bold block mb-[1rem]",children:"Thuc tnh sn phm (tu chn)"}),o.jsx("button",{type:"button",className:"mb-[1rem] text-white bg-green-500 px-[1rem] py-[.5rem] rounded hover:bg-green-600",onClick:()=>P({open:!0,node:"add",data:null}),children:"+ Thm thuc tnh"})]}),o.jsx("div",{className:`flex flex-col divide-y ${z.length>0?"divide-gray-300 border border-gray-300":""} rounded-xl`,children:z?.map((ee,ie)=>{const he=x?.find(Ne=>Ne.id===ee.sizeId),ke=b?.find(Ne=>Ne.id===ee.colorId);return o.jsxs("div",{className:"relative flex items-center px-[2rem] py-[1rem] hover:bg-gray-50",children:[o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Size: "}),o.jsx("span",{className:"block px-[1.5rem] py-[.4rem] bg-blue-200 rounded-md font-bold text-blue-800",children:he?.name})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Mu: "}),o.jsx("span",{className:"block w-[2rem] h-[2rem] rounded-full border-[.2rem] border-gray-300",style:{background:ke?.hexCode}}),o.jsx("span",{children:ke?.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Gi: "}),o.jsx("span",{className:"text-amber-800 px-[1.5rem] py-[.4rem] bg-amber-100 rounded-md",children:ee.price?Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(ee.price)):"Khng"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Kho: "}),o.jsx("span",{className:"text-green-800 px-[1.5rem] py-[.4rem] bg-green-100 rounded-md",children:ee.inventory})]})]}),o.jsx("div",{className:"absolute right-[6.5rem] w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-amber-100 hover:bg-amber-200 hover-linear cursor-pointer",onClick:()=>P({open:!0,node:"edit",data:ee}),children:o.jsx(F,{icon:$s,className:"text-[1.4rem] text-amber-600"})}),o.jsx("div",{className:"absolute right-[2rem]  w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-red-100 hover:bg-red-200 hover-linear cursor-pointer",onClick:()=>fe(ie),children:o.jsx(F,{icon:Tu,className:"text-red-600 text-[1.4rem]"})})]},ee.id??ee.tempId??ie)})})]})]}),o.jsxs("div",{className:"mt-[3rem] flex items-center justify-end gap-[1rem]",children:[o.jsx(Qe,{to:"/dashboard/products",className:"flex items-center space-x-2 px-[2.5rem] py-[.8rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem] cursor-pointer",type:"button",children:o.jsx("span",{children:"Quay li"})}),o.jsx("button",{className:"px-[2.5rem] py-[.8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",type:"submit",disabled:f,children:o.jsx("span",{children:f?"ang x l...":e==="create"?"Thm":"Cp nht"})})]})]})}),o.jsx(Pme,{openActionVariant:A,setOpenActionVariant:P,setValue:u,variants:z,dataUpdate:A.node==="edit"?A.data:void 0,dataSize:x??[],isLoadingSize:v,dataColor:b??[],isLoadingColor:w})]})}function Dme(){const[t,e]=T.useState({open:!1,action:"add",id:void 0}),[n,r]=T.useState({open:!1,data:null}),[s,i]=T.useState(!1),[a,l]=T.useState({productName:"",price:null,categoryId:null}),[c,u]=T.useState({...a,page:1,limit:30}),{data:d,isLoading:f,isError:p,refetch:g}=Fe({queryKey:["products",c],queryFn:zN}),{data:x=[]}=Fe({queryKey:["getAllCategory"],queryFn:Ou}),v=d&&d.data||[],b=d?.totalPages||1,w=async j=>{if(!j||!j.id){ue.error("Khng c id ca sn phm!");return}i(!0);try{const M=await ge.delete(`/api/v1/product/toggle-hidden-product/${j.id}`);M.status&&(ue.success(M.status||`${j.isActive?"n":"Hin"} sn phm thnh cng`),await g(),i(!1),r({open:!1,data:null}))}catch(M){console.log(M),i(!1),ue.error(M.message)}},S=()=>{u(j=>({...j,categoryId:a.categoryId,productName:a.productName,price:a.price}))};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 z-30 flex justify-between items-center pb-[1.5rem] border-b-[.1rem] border-b-gray-300",children:[o.jsx("h3",{className:"text-[2.5rem] font-semibold text-gray-600",children:"Sn phm"}),o.jsx("div",{children:o.jsxs(Qe,{to:"action",className:"text-white flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer ",children:[o.jsx(F,{icon:ku}),"Thm sn phm"]})})]}),o.jsxs("div",{className:" flex-1 overflow-auto hide-scrollbar",children:[o.jsx("div",{className:"mt-[3rem]",children:o.jsxs("div",{className:"w-full border-[.1rem] border-gray-300 mt-4 p-[2rem] flex items-end gap-[2rem]",children:[o.jsxs("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"productName",className:"text-gray-700",children:"Tn sn phm"}),o.jsx("input",{type:"text",name:"productName",id:"productName",placeholder:"Nhp tm kim...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:j=>l(M=>({...M,[j.target.name]:j.target.value}))})]}),o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"price",className:"text-gray-700",children:"Gi sn phm"}),o.jsx("input",{type:"number",name:"price",id:"price",placeholder:"Nhp gi...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:j=>l(M=>({...M,[j.target.name]:j.target.value}))})]}),o.jsxs("div",{className:"w-[30rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"categoryId",className:"text-gray-700",children:"Danh mc"}),o.jsx("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:j=>l(M=>({...M,[j.target.name]:j.target.value})),children:x?.filter(j=>j.isActive).map(j=>o.jsx(kx,{category:j,allCategories:x,level:0},j.id))})]}),o.jsxs("button",{className:"w-[15%] flex items-center justify-center gap-[1rem] px-[1.5rem] h-[4rem] bg-[var(--main-button)] text-white rounded-[.5rem] cursor-pointer hover:bg-[var(--main-button-hover)]",onClick:()=>S(),children:[o.jsx(F,{icon:ws}),"Lc"]})]})}),o.jsx("div",{className:"mt-[2rem] border border-gray-300/50 rounded-md overflow-hidden",children:f?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"ang ti..."})]})}):p?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-red-500",children:"C li xy ra khi ti d liu!"})}):o.jsx(o.Fragment,{children:o.jsxs("table",{className:"min-w-full table-auto text-[1.4rem] rounded-lg shadow-sm overflow-hidden",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Sn phm"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Danh mc"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Gi"}),o.jsx("th",{className:"px-6 py-4 text-center text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:v.length>0?v?.map((j,M)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[o.jsx("td",{className:" px-6 py-4",children:M}),o.jsx("td",{className:" px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:j.mainImage,alt:"main image",className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{children:[o.jsx("h4",{className:"max-w-[25rem] font-medium text-gray-900 text-limit-1",children:j.productName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem]",children:["ID: ",j.id]})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:`py-1 ${j.isActive?"text-green-700 bg-green-100":"text-red-700 bg-red-100 "} text-center rounded-full`,children:j.isActive?"ang hot ng":"Dng hot ng"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:x?.find(C=>C.id===j.category?.id)?.categoryName??"Cha c danh mc"}),o.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j.price)}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsxs(Qe,{to:`detail/${j.id}`,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(F,{icon:Ns,className:"w-4 h-4"}),o.jsx("span",{children:"Chi tit"})]}),o.jsxs(Qe,{to:`action/${j.id}`,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(F,{icon:$s,className:"w-4 h-4"}),o.jsx("span",{children:"Sa"})]}),o.jsx("button",{className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",onClick:()=>{r({open:!0,data:j})},children:o.jsxs("span",{children:[j.isActive?"n":"Hin"," sn phm"]})})]})})]},j.id)):o.jsx("tr",{"aria-colspan":6,children:o.jsx("td",{children:o.jsx("div",{children:"Khng c sn phm no"})})})})]})})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>u(j=>({...j,page:Math.max(j.page-1,1)})),disabled:c.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:b},(j,M)=>M+1).filter(j=>Math.abs(j-c.page)<=2).map(j=>o.jsx("button",{onClick:()=>u(M=>({...M,page:j})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${c.page===j?"bg-blue-500 text-white":"bg-gray-200"}`,children:j},j)),o.jsx("button",{onClick:()=>u(j=>({...j,page:Math.min(j.page+1,b)})),disabled:c.page===b,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]})]}),n.open&&o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>r({open:!1,data:null}),children:o.jsx(F,{icon:pn,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn mun ",n.data?.isActive?"n":"hin"," sn phm ny?"]}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${s?"mt-[1rem]":"mt-[3rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${s?"cursor-not-allowed":""}`,disabled:s,onClick:()=>r({open:!1,data:null}),children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${s?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:s,onClick:()=>w(n.data),children:s?o.jsx("div",{className:"w-5 h-5 mx-auto border-2 border-white border-t-transparent rounded-full animate-spin"}):n.data?.isActive?"n":"Hin"})]})]})})]})}function Q8(t,e,n=0){const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(be.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>Q8(i,e,n+1))]},t.id)}function Ime({setOpenAction:t,openAction:e,refetch:n,dataUpdate:r,parents:s}){const[i,a]=T.useState({categoryName:"",image:void 0,parentId:null,sortOrder:0}),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,p]=T.useState(null);T.useEffect(()=>{e?.action==="edit"?(a({categoryName:r.categoryName,image:r.image,parentId:r?.parentId,sortOrder:r?.sortOrder}),p(r.image)):(a({categoryName:"",image:void 0,parentId:null,sortOrder:0}),p(null))},[e?.action,r]);const g=b=>{const{name:w,value:S}=b.target;if(w==="image"){const j=b.target.files?.[0];if(!j)return;const M=URL.createObjectURL(j);p(M),a(C=>({...C,image:j}))}else a(j=>({...j,categoryName:S}))},x=async()=>{if(d(null),i.categoryName===""){d("Vui lng nhp tn danh mc!");return}if(!i.parentId&&!i.image){d("Vui lng chn hnh nh!");return}c(!0);try{const b=new FormData;b.append("categoryName",i.categoryName),i.parentId!==null&&i.parentId!==void 0&&b.append("parentId",String(i.parentId)),b.append("sortOrder",String(i.sortOrder)),i.image instanceof File&&b.append("image",i.image);const w=await ge.post("/api/v1/category/create",b,{headers:{"Content-Type":"multipart/form-data"}});w.status&&(a({categoryName:"",image:"",parentId:null,sortOrder:0}),await n(),ue.success(w.message||"Thm danh mc thnh cng!"),t(null),c(!1))}catch(b){c(!1),d(b.message)}},v=async()=>{try{c(!0);const b=new FormData;b.append("categoryName",i.categoryName),i.image instanceof File&&b.append("image",i.image);const w=await ge.patch(`/api/v1/category/edit/${r.id}`,b,{headers:{"Content-Type":"multipart/form-data"}});w.status?(ue.success(w.message||" lu thay i!"),await n(),t(null)):ue.error(w.message||"Li khng th cp nht thng tin!")}catch(b){ue.error(b.message||"Li server!")}finally{c(!1)}};return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 bg-[#3636362c] flex items-center justify-center z-[900]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200",onClick:()=>t(null),children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-gray-600 text-center font-bold mb-[2rem]",children:e?.action==="add"?"Thm danh mc":"Chnh sa danh mc"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"categoryName",className:"text-gray-600",children:"Tn danh mc"}),o.jsx("input",{type:"text",name:"categoryName",id:"categoryName",value:i.categoryName,placeholder:"Nhp tn...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",onChange:b=>g(b)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Danh mc cha (ty chn)"}),o.jsxs("select",{value:i.parentId||"",onChange:b=>a(w=>({...w,parentId:b.target.value?Number(b.target.value):null})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600 pr-10 bg-white",children:[o.jsx("option",{value:"",children:"-- Khng c danh mc cha --"}),s.filter(b=>b.isActive).filter(b=>e?.action==="edit"?b.id!==r?.id:!0).filter(b=>!b.parentId).map(b=>Q8(b,s,0))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Th t hin th"}),o.jsx("input",{type:"number",value:i.sortOrder,onChange:b=>a(w=>({...w,sortOrder:b.target.value===""?"":Number(b.target.value)})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",min:"0",placeholder:"S cng nh cng hin th trc"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"nh cho danh mc:"}),o.jsxs("label",{className:"w-[6.5rem] h-[6.5rem] mt-[.5rem] border border-dashed border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer",children:[f?o.jsx("img",{src:f,alt:"nh danh mc",className:"w-full h-full border-collapse border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer object-cover"}):o.jsx(F,{icon:ua,className:"text-gray-400"}),o.jsx("input",{id:"image",type:"file",name:"image",hidden:!0,onChange:b=>g(b)})]})]})]}),u&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:u}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:`h-[3.2rem] w-[6rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem]  ${l?"cursor-not-allowed":"cursor-pointer"}`,onClick:()=>t(null),disabled:l,children:"Hy"}),o.jsx("button",{className:`h-[3.2rem] w-[8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] ${l?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,onClick:()=>{e?.action==="add"?x():v()},disabled:l,children:l?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.action==="add"?"Thm":"Lu"})]})]})})}function Lme({setOpenToggleActive:t,openToggleActive:e,refetch:n}){const[r,s]=T.useState(!1),[i,a]=T.useState(null),l=async()=>{e?.id||a("Khng c id ca danh mc"),s(!0);try{let c=null;console.log(e),e?.title==="active"?c=await ge.patch(`/api/v1/category/active/${e?.id}`):c=await ge.patch(`/api/v1/category/inactive/${e?.id}`),c?.status&&(t(!1),s(!1),await n())}catch(c){s(!1),console.log(c),a(c.message)}};return o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>t(!1),children:o.jsx(F,{icon:pn,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn c chc mun"," ",e?.title==="active"?"kch hot":"dng hot ng"," ","danh mc ny?"]}),i&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:i}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${r?"mt-[1rem]":"mt-[4rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${r?"cursor-not-allowed":""}`,onClick:()=>t(!1),disabled:r,children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${r?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:r,onClick:()=>l(),children:r?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.title==="active"?"C":"Dng"})]})]})})}function Rme(){const[t,e]=T.useState(null),[n,r]=T.useState(null),[s,i]=T.useState(null),[a,l]=T.useState(new Set),[c,u]=T.useState({categoryName:"",isActive:"all"}),[d,f]=T.useState({categoryName:"",isActive:"all"}),{data:p=[],isLoading:g,isError:x,refetch:v}=Fe({queryKey:["categories",d],queryFn:Ome}),b=(M,C)=>{u(A=>({...A,[M]:C}))},w=()=>{f(c)},S=M=>{l(C=>{const A=new Set(C);return A.has(M)?A.delete(M):A.add(M),A})},j=(M,C=0)=>{const A=p.filter(G=>G.parentId===M.id),P=A.length>0,E=a.has(M.id),D=A.filter(G=>G.isActive),L=A.filter(G=>!G.isActive),_=D.length,z=L.length;return o.jsxs("div",{children:[o.jsxs("div",{className:`
            group relative flex items-center justify-between 
            border border-gray-300
            bg-white hover:bg-gray-50 transition-all duration-200
            ${C===0?"my-3 rounded-lg shadow-sm":"my-3 ml-10 rounded-r-lg"}
          `,children:[o.jsxs("div",{className:"flex items-center gap-5 flex-1 px-6 py-5",children:[o.jsx("button",{onClick:()=>P&&S(M.id),className:`w-[2.6rem] h-[2.6rem] flex items-center justify-center rounded-full transition-all
                ${P?"hover:bg-gray-200 cursor-pointer":"opacity-0 cursor-default"}`,disabled:!P,children:o.jsx(F,{icon:E?fG:KO,className:`text-gray-500 text-[1.4rem] transition-transform duration-200 ${E?"rotate-0":""}`})}),M.image?o.jsx("img",{src:M.image,alt:M.categoryName,className:"w-[5rem] h-[5rem] rounded-lg object-cover"}):o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-lg bg-gray-100 flex items-center justify-center",children:o.jsx(F,{icon:GO,className:"text-[2rem] text-gray-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800 text-[1.6rem]",children:M.categoryName}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx("span",{className:`px-3 py-1 text-[1.2rem] font-bold rounded-full ${M.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.isActive?"ang hot ng":"Dng hot ng"}),P&&o.jsxs("div",{className:"flex items-center gap-3",children:[_>0&&o.jsxs("span",{className:"text-[1.2rem] text-green-700 font-medium",children:[_," hot ng"]}),z>0&&o.jsxs("span",{className:"text-[1.2rem] text-red-600 font-medium",children:[z,"  dng"]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 pr-6",children:[o.jsxs("button",{onClick:()=>{r({action:"edit"}),i(M)},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-[1.4rem] font-medium transition flex items-center gap-2",children:[o.jsx(F,{icon:$s}),"Sa"]}),M.isActive?o.jsx("button",{onClick:()=>e({title:"inactive",id:M.id}),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-[1.4rem] font-medium transition",children:"Dng"}):o.jsx("button",{onClick:()=>e({title:"active",id:M.id}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-[1.4rem] font-medium transition",children:"Kch hot"})]})]}),E&&P&&o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-10 top-0 h-6 w-6 border-l-2 border-b-2 border-gray-300 rounded-bl-lg"}),o.jsx("div",{className:"ml-10",children:A.map(G=>j(G,C+1))})]})]},M.id)};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] overflow-y-auto bg-white shadow-lg rounded-[1rem] flex flex-col pb-[2rem] hide-scrollbar",children:[o.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center pb-6 border-b border-gray-300 px-[2rem] pt-[2rem] z-[100]",children:[o.jsx("h3",{className:"text-3xl font-bold text-gray-700",children:"Danh mc"}),o.jsxs("button",{onClick:()=>r({action:"add"}),className:"flex items-center gap-2 px-5 py-3 bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium transition",children:[o.jsx(F,{icon:ku}),"Thm mi"]})]}),o.jsxs("div",{className:"mt-8 px-[2rem]",children:[o.jsx("h3",{className:"text-2xl font-semibold text-gray-600 mb-6",children:"Danh sch"}),o.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-6 flex items-end gap-6 mb-8",children:[o.jsxs("div",{className:"flex-1 max-w-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tn danh mc"}),o.jsx("input",{type:"text",value:c.categoryName,onChange:M=>b("categoryName",M.target.value),placeholder:"Nhp  tm kim...",className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 text-gray-600 rounded-lg focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"w-[22rem]",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Trng thi"}),o.jsxs("select",{value:String(c.isActive),onChange:M=>b("isActive",M.target.value),className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 rounded-lg focus:outline-none text-gray-600",children:[o.jsx("option",{value:"all",children:"Tt c trng thi"}),o.jsx("option",{value:"true",children:"ang hot ng"}),o.jsx("option",{value:"false",children:"Ngng hot ng"})]})]}),o.jsxs("button",{onClick:w,className:"h-[4rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium flex items-center justify-center gap-2 transition",children:[o.jsx(F,{icon:ws}),"Lc"]})]}),g&&o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border",children:[o.jsx(F,{icon:dg,spin:!0,className:"text-5xl text-blue-500 mb-4"}),o.jsx("p",{className:"text-lg text-gray-600",children:"ang ti danh mc..."})]}),x&&!g&&o.jsxs("div",{className:"text-center py-16 bg-red-50 rounded-lg border border-red-200",children:[o.jsx(F,{icon:dN,className:"text-5xl text-red-500 mb-4"}),o.jsx("p",{className:"text-xl text-red-600 font-medium mb-4",children:"Li ti d liu"}),o.jsx("button",{onClick:()=>v(),className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:"Th li"})]}),o.jsx("div",{className:"space-y-2",children:!g&&!x&&p.length>0?p.filter(M=>!M.parentId).map(M=>j(M)):!g&&o.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:o.jsx("p",{className:"text-2xl text-gray-500",children:"Cha c danh mc no"})})})]}),n&&o.jsx(Ime,{setOpenAction:r,openAction:n,refetch:v,dataUpdate:n.action==="add"?void 0:s,parents:p}),t&&o.jsx(Lme,{setOpenToggleActive:e,openToggleActive:t,refetch:v})]})}function Fme(){const{user:t}=Ct(),[e,n]=T.useState(!1),r=rt(),[s,i]=T.useState(void 0),[a,l]=T.useState(!1),[c,u]=T.useState(null),[d,f]=T.useState({user:{avatar:void 0,username:"",email:"",phone:void 0},gender:"",birthday:""});T.useEffect(()=>{t&&f({user:{avatar:t.avatar,username:t.username,email:t.email,phone:t.phone},gender:t?.staff.gender||"",birthday:t?.staff.birthday||""})},[t]);const p=x=>{const{name:v,value:b}=x.target;if(v==="avatar"){const w=x.target.files;if(!w||w.length===0)return;const S=URL.createObjectURL(w[0]);i(S),f(j=>({...j,user:{...j.user,[v]:w[0]}}))}else f(v==="gender"||v==="birthday"?w=>({...w,[v]:b}):w=>({...w,user:{...w.user,[v]:b}}))},g=async()=>{l(!0);try{(!t||!t.id)&&r("/dashboard/login");const x=new FormData;console.log(d),d.user.avatar&&d.user.avatar instanceof File&&x.append("avatar",d.user.avatar),x.append("user[username]",d.user.username),x.append("user[email]",d.user.email),d.user.phone&&x.append("user[phone]",d.user.phone.toString()),d.gender&&x.append("gender",d.gender),d.birthday&&x.append("birthday",new Date(d.birthday).toISOString()),(await ge.patch(`/api/v1/staff/update/${t?.staff.id}`,x,{headers:{"Content-Type":"multipart/form-data"}})).status&&(n(!1),l(!1),u(null))}catch(x){u(x?.message),l(!1)}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"pb-[2rem] border-b-[.1rem] border-b-gray-300 ",children:[o.jsx("h2",{className:"text-[2.5rem] font-bold text-gray-600",children:"H s ca ti"}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex gap-[1rem] mt-[3rem]",children:[o.jsxs("div",{className:"w-1/4 flex flex-col items-center",children:[o.jsx("img",{src:s||(typeof d.user.avatar=="string"?d.user.avatar:t_),alt:"Avatar",className:"w-[12rem] h-[12rem] rounded-full object-cover"}),o.jsxs("label",{htmlFor:"avatar",className:"block px-[2rem] py-[.5rem] rounded-sm border border-gray-300 cursor-pointer mt-[1rem] mb-[2rem]",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",onClick:()=>n(!0),children:d.user.avatar?"Thay i":"Thm hnh nh"}),o.jsx("input",{type:"file",id:"avatar",name:"avatar",hidden:!0,onChange:x=>p(x)})]}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Dung lng ti a: 1MB"}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"nh dng: .JPEG, .PNG"})]}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[2rem] pl-[5rem] border-l-[.1rem] border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-bold",children:"Thng tin c nhn"}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"text-gray-600 w-[14rem] text-end",children:"Tn ngi dng"}),o.jsx("input",{type:"text",value:d.user.username,id:"username",name:"username",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"email",className:"text-gray-600 w-[14rem] text-end",children:"Email"}),o.jsx("input",{type:"email",value:d.user.email,id:"email",name:"email",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"phone",className:"text-gray-600 w-[14rem] text-end",children:"S in thoi"}),o.jsx("input",{type:"text",value:e?d.user.phone:d.user.phone??"Cha cp nht",id:"phone",name:"phone",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"text-gray-600 w-[14rem] text-end",children:"Ngy sinh"}),o.jsx("input",{type:"text",value:e?d.birthday:d.birthday??"Cha cp nht",id:"birthday",name:"birthday",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"gender",className:"text-gray-600 w-[14rem] text-end",children:"Gii tnh"}),o.jsx("input",{type:"text",value:e?d.gender??"Cha cp nht":(d&&(d.gender==="female"?"N":"Nam"))??"Cha cp nht",id:"gender",name:"gender",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{children:[c&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mb-[.5rem]",children:c}),e?o.jsxs("div",{children:[o.jsx("button",{className:"w-[15rem] h-[4rem] rounded-[.5rem] bg-green-600 hover:bg-green-700 hover-linear text-white cursor-pointer",onClick:()=>g(),disabled:a,children:a?"ang x l...":"Lu cp nht"}),o.jsx("button",{className:"w-[10rem] h-[4rem] bg-gray-200 text-gray-600 hover:bg-gray-300 rounded-lg ml-[1rem] cursor-pointer hover-linear",onClick:()=>n(!1),disabled:a,children:"Hy"})]}):o.jsx("button",{className:"w-[20rem] h-[4rem] rounded-[.5rem] bg-[#1e90ff] hover:bg-[#0d87ff] text-white cursor-pointer",onClick:()=>n(!0),children:"Cp nht thng tin"})]})]})]})]})}const zme=async t=>{const e={};return t.searchOrder&&(e.searchOrder=t.searchOrder),t.status&&(e.status=t.status),e.limit=t.limit,e.page=t.page,await ge.get("/api/v1/orders/orders-for-admin",{params:e})},Vme=async t=>(await ge.get("/api/v1/orders/get-orders",{params:t})).data,$me=async t=>(await ge.get(`/api/v1/orders/lookup/${t}`,{params:{orderCode:t}})).data;var e1,DM;function Bme(){if(DM)return e1;DM=1;function t(w){this._maxSize=w,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(w){return this._values[w]},t.prototype.set=function(w,S){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=S};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),c=new t(a),u=new t(a);e1={Cache:t,split:f,normalizePath:d,setter:function(w){var S=d(w);return c.get(w)||c.set(w,function(M,C){for(var A=0,P=S.length,E=M;A<P-1;){var D=S[A];if(D==="__proto__"||D==="constructor"||D==="prototype")return M;E=E[S[A++]]}E[S[A]]=C})},getter:function(w,S){var j=d(w);return u.get(w)||u.set(w,function(C){for(var A=0,P=j.length;A<P;)if(C!=null||!S)C=C[j[A++]];else return;return C})},join:function(w){return w.reduce(function(S,j){return S+(g(j)||n.test(j)?"["+j+"]":(S?".":"")+j)},"")},forEach:function(w,S,j){p(Array.isArray(w)?w:f(w),S,j)}};function d(w){return l.get(w)||l.set(w,f(w).map(function(S){return S.replace(i,"$2")}))}function f(w){return w.match(e)||[""]}function p(w,S,j){var M=w.length,C,A,P,E;for(A=0;A<M;A++)C=w[A],C&&(b(C)&&(C='"'+C+'"'),E=g(C),P=!E&&/^\d+$/.test(C),S.call(j,C,E,P,A,w))}function g(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function x(w){return w.match(r)&&!w.match(n)}function v(w){return s.test(w)}function b(w){return!g(w)&&(x(w)||v(w))}return e1}var Tl=Bme(),t1,IM;function Hme(){if(IM)return t1;IM=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=d=>d.match(t)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,f)=>e(d).join(f).toLowerCase(),s=d=>e(d).reduce((f,p)=>`${f}${f?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return t1={words:e,upperFirst:n,camelCase:s,pascalCase:d=>n(s(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>e(d).map(n).join(" ")},t1}var n1=Hme(),xp={exports:{}},LM;function Ume(){if(LM)return xp.exports;LM=1,xp.exports=function(s){return t(e(s),s)},xp.exports.array=t;function t(s,i){var a=s.length,l=new Array(a),c={},u=a,d=n(i),f=r(s);for(i.forEach(function(g){if(!f.has(g[0])||!f.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)c[u]||p(s[u],u,new Set);return l;function p(g,x,v){if(v.has(g)){var b;try{b=", node was:"+JSON.stringify(g)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!f.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!c[x]){c[x]=!0;var w=d.get(g)||new Set;if(w=Array.from(w),x=w.length){v.add(g);do{var S=w[--x];p(S,f.get(S),v)}while(x);v.delete(g)}l[--a]=g}}}function e(s){for(var i=new Set,a=0,l=s.length;a<l;a++){var c=s[a];i.add(c[0]),i.add(c[1])}return Array.from(i)}function n(s){for(var i=new Map,a=0,l=s.length;a<l;a++){var c=s[a];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(s){for(var i=new Map,a=0,l=s.length;a<l;a++)i.set(s[a],a);return i}return xp.exports}var Wme=Ume();const qme=_0(Wme),Kme=Object.prototype.toString,Gme=Error.prototype.toString,Yme=RegExp.prototype.toString,Xme=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Qme=/^Symbol\((.*)\)(.*)$/;function Jme(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function RM(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Jme(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Xme.call(t).replace(Qme,"Symbol($1)");const r=Kme.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Gme.call(t)+"]":r==="RegExp"?Yme.call(t):null}function na(t,e){let n=RM(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=RM(this[r],e);return i!==null?i:s},2)}function J8(t){return t==null?[]:[].concat(t)}let Z8,eF,tF,Zme=/\$\{\s*(\w+)\s*\}/g;Z8=Symbol.toStringTag;class FM{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Z8]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],J8(e).forEach(i=>{if(ur.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}eF=Symbol.hasInstance;tF=Symbol.toStringTag;class ur extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(Zme,(s,i)=>na(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new FM(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[tF]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ur)}static[eF](e){return FM[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let si={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${na(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${na(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${na(n,!0)}\``+s}},Cr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},$a={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},vw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},epe={isValue:"${path} field must be ${value}"},Yp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Xp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},tpe={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${na(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${na(n,!0)}\``}return ur.formatError(si.notType,t)}};Object.assign(Object.create(null),{mixed:si,string:Cr,number:$a,date:vw,object:Yp,array:Xp,boolean:epe,tuple:tpe});const Tx=t=>t&&t.__isYupSchema__;class x0{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new x0(e,(l,c)=>{var u;let d=a(...l)?s:i;return(u=d?.(c))!=null?u:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Tx(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const yp={context:"$",value:"."};class Xl{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===yp.context,this.isValue=this.key[0]===yp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?yp.context:this.isValue?yp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Tl.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Xl.prototype.__isYupRef=!0;const Ji=t=>t==null;function Oc(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},l,c){const{name:u,test:d,params:f,message:p,skipAbsent:g}=t;let{parent:x,context:v,abortEarly:b=a.spec.abortEarly,disableStackTrace:w=a.spec.disableStackTrace}=s;const S={value:n,parent:x,context:v};function j(_={}){const z=nF(Object.assign({value:n,originalValue:i,label:a.spec.label,path:_.path||r,spec:a.spec,disableStackTrace:_.disableStackTrace||w},f,_.params),S),G=new ur(ur.formatError(_.message||p,z),n,z.path,_.type||u,z.disableStackTrace);return G.params=z,G}const M=b?l:c;let C={path:r,parent:x,type:u,from:s.from,createError:j,resolve(_){return rF(_,S)},options:s,originalValue:i,schema:a};const A=_=>{ur.isError(_)?M(_):_?c(null):M(j())},P=_=>{ur.isError(_)?M(_):l(_)};if(g&&Ji(n))return A(!0);let D;try{var L;if(D=d.call(C,n,C),typeof((L=D)==null?void 0:L.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(D).then(A,P)}}catch(_){P(_);return}A(D)}return e.OPTIONS=t,e}function nF(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=rF(t[n],e);return t}function rF(t,e){return Xl.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function npe(t,e,n,r=n){let s,i,a;return e?(Tl.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let f=t.type==="tuple",p=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=f?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}i=d,a=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class y0 extends Set{describe(){const e=[];for(const n of this.values())e.push(Xl.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new y0(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function qc(t,e=new Map){if(Tx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=qc(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,qc(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(qc(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=qc(s,e)}else throw Error(`Unable to clone ${t}`);return n}function rpe(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,s=!1;for(let i=0;i<t.length;i++){const a=t[i];if(a==="["&&!s){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(a==="]"&&!s){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(a==='"'){s=!s;continue}if(a==="."&&!r&&!s){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function spe(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:rpe(n)}))}function sF(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return spe(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>sF(s,r))}class Jr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new y0,this._blacklist=new y0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(si.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=qc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Ji(i))return i;let a=na(e),l=na(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:a=e,strict:l=this.spec.strict}=n,c=e;l||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:a,options:n,tests:u},r,d=>{if(d.length)return s(d,c);this.runTests({path:i,value:c,originalValue:a,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:a,originalValue:l,path:c,options:u}=e,d=v=>{s||(s=!0,n(v,a))},f=v=>{s||(s=!0,r(v,a))},p=i.length,g=[];if(!p)return f([]);let x={value:a,originalValue:l,path:c,options:u,schema:this};for(let v=0;v<i.length;v++){const b=i[v];b(x,d,function(S){S&&(Array.isArray(S)?g.push(...S):g.push(S)),--p<=0&&f(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=r[l];const d=Object.assign({},a,{strict:!0,parent:r,value:u,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${c?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(f,p,g)=>this.resolve(d)._validate(u,d,p,g)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((a,l)=>s._validate(e,n,(c,u)=>{ur.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new ur(c,u,void 0,void 0,i)):a(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,a=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,c)=>{throw ur.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new ur(l,e,void 0,void 0,a);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(ur.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(ur.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):qc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Oc({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Oc({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=si.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=si.notNull){return this.nullability(!1,e)}required(e=si.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=si.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Oc(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=J8(e).map(i=>new Xl(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new x0(s,n):x0.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Oc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=si.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Oc({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),r}notOneOf(e,n=si.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Oc({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:a}=n.spec;return{meta:s,label:r,optional:i,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?nF(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(s instanceof ur)return{issues:sF(s)};throw s}}}}}Jr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Jr.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=npe(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Jr.prototype[t]=Jr.prototype.oneOf;for(const t of["not","nope"])Jr.prototype[t]=Jr.prototype.notOneOf;const ipe=()=>!0;function uj(t){return new iF(t)}class iF extends Jr{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:ipe},e))}}uj.prototype=iF.prototype;const ape=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ope(t){const e=ww(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function ww(t){var e,n;const r=ape.exec(t);return r?{year:zi(r[1]),month:zi(r[2],1)-1,day:zi(r[3],1),hour:zi(r[4]),minute:zi(r[5]),second:zi(r[6]),millisecond:r[7]?zi(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:zi(r[10]),minuteOffset:zi(r[11])}:null}function zi(t,e=0){return Number(t)||e}let lpe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cpe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,upe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,dpe="^\\d{4}-\\d{2}-\\d{2}",hpe="\\d{2}:\\d{2}:\\d{2}",fpe="(([+-]\\d{2}(:?\\d{2})?)|Z)",mpe=new RegExp(`${dpe}T${hpe}(\\.\\d+)?${fpe}$`),ppe=t=>Ji(t)||t===t.trim(),gpe={}.toString();function dn(){return new aF}class aF extends Jr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===gpe?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||si.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Cr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Cr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Cr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Cr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Cr.email){return this.matches(lpe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Cr.url){return this.matches(cpe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Cr.uuid){return this.matches(upe,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(mpe,{name:"datetime",message:n||Cr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Cr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const a=ww(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Cr.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=ww(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Cr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:ppe})}lowercase(e=Cr.lowercase){return this.transform(n=>Ji(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ji(n)||n===n.toLowerCase()})}uppercase(e=Cr.uppercase){return this.transform(n=>Ji(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ji(n)||n===n.toUpperCase()})}}dn.prototype=aF.prototype;let xpe=t=>t!=+t;function Kc(){return new oF}class oF extends Jr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!xpe(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=$a.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=$a.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=$a.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=$a.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=$a.positive){return this.moreThan(0,e)}negative(e=$a.negative){return this.lessThan(0,e)}integer(e=$a.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ji(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Ji(s)?s:Math[e](s))}}Kc.prototype=oF.prototype;let ype=new Date(""),bpe=t=>Object.prototype.toString.call(t)==="[object Date]";class dj extends Jr{constructor(){super({type:"date",check(e){return bpe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=ope(e),isNaN(e)?dj.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Xl.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=vw.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=vw.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}dj.INVALID_DATE=ype;function vpe(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let c=Tl.split(a)[0];r.add(c),s.has(`${l}-${c}`)||n.push([l,c])}for(const a of Object.keys(t)){let l=t[a];r.add(a),Xl.isRef(l)&&l.isSibling?i(l.path,a):Tx(l)&&"deps"in l&&l.deps.forEach(c=>i(c,a))}return qme.array(Array.from(r),n).reverse()}function zM(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function lF(t){return(e,n)=>zM(t,e)-zM(t,n)}const cF=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Qp(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Qp(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Qp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Qp)}):"optional"in t?t.optional():t}const wpe=(t,e)=>{const n=[...Tl.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Tl.getter(Tl.join(n),!0)(t);return!!(s&&r in s)};let VM=t=>Object.prototype.toString.call(t)==="[object Object]";function $M(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Npe=lF([]);function Gh(t){return new uF(t)}class uF extends Jr{constructor(e){super({type:"object",check(n){return VM(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Npe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of l){let p=i[f],g=f in s,x=s[f];if(p){let v;u.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:x,context:n.context,parent:c});let b=p instanceof Jr?p.spec:void 0,w=b?.strict;if(b!=null&&b.strip){d=d||f in s;continue}v=!n.__validating||!w?p.cast(x,u):x,v!==void 0&&(c[f]=v)}else g&&!a&&(c[f]=x);(g!==f in c||c[f]!==x)&&(d=!0)}return d?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(c,u)=>{if(!l||!VM(u)){s(c,u);return}a=a||u;let d=[];for(let f of this._nodes){let p=this.fields[f];!p||Xl.isRef(p)||d.push(p.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},r,f=>{s(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const a=r[s];r[s]=a===void 0?i:a}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=vpe(e,n),r._sortErrors=lF(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Qp(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Tl.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return wpe(i,e)&&(a=Object.assign({},i),r||delete a[e],a[n]=s(i)),a})}json(){return this.transform(cF)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Yp.exact,test(n){if(n==null)return!0;const r=$M(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Yp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=$M(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Yp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(n1.camelCase)}snakeCase(){return this.transformKeys(n1.snakeCase)}constantCase(){return this.transformKeys(e=>n1.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=a.describe(l)}return r}}Gh.prototype=uF.prototype;function dF(t){return new hF(t)}class hF extends Jr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((a,l)=>{const c=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:r,originalValue:a,value:a,index:l}));return c!==a&&(s=!0),c});return s?i:r}_validate(e,n={},r,s){var i;let a=this.innerType,l=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,u)=>{var d;if(!l||!a||!this._typeCheck(u)){s(c,u);return}let f=new Array(u.length);for(let g=0;g<u.length;g++){var p;f[g]=a.asNestedTest({options:n,index:g,parent:u,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:u,tests:f,originalValue:(d=n.originalValue)!=null?d:e,options:n},r,g=>s(g.concat(c),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(cF)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Tx(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+na(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Xp.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||Xp.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||Xp.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}dF.prototype=hF.prototype;const Spe=Gh({customerName:dn().required("Vui lng nhp tn khch hng").min(2,"Tn t nht phi c 2 k t"),customerEmail:dn().required("Vui lng nhp email khch hng").email("Email khng hp l"),customerPhone:dn().required("Vui lng nhp st khch hng").matches(/^(0|\+84)[3|5|7|8|9][0-9]{8}$/,"S in thoi khng hp l"),customerAddress:dn().required("Vui lng nhp a ch khch hng"),customerProvince:dn().required("Vui lng chn tnh thnh"),customerDistrict:dn().required("Vui lng chn huyn"),customerWard:dn().required("Chn phng"),paymentMethod:uj().oneOf(Object.values(Kr),"Phng thc thanh ton khng hp l").required("Vui lng chn phng thc thanh ton"),customerNote:dn().optional().default(""),orderItems:dF().of(Gh({productId:Kc().required(),variantId:Kc().required(),quantity:Kc().min(1,"S lng ti thiu l 1").required(),price:Kc().required()})).min(1,"n hng phi c t nht mt sn phm").optional().required("Vui lng thm sn phm"),couponCode:dn().optional().default("")}).required(),BM=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Me(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},fF=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?BM(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>BM(s,n,t))}},jpe=(t,e)=>{e.shouldUseNativeValidation&&fF(t,e);const n={};for(const r in t){const s=Me(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Cpe(e.names||Object.keys(t),r)){const a=Object.assign({},Me(n,r));wt(a,"root",i),wt(n,r,a)}else wt(n,r,i)}return n},Cpe=(t,e)=>{const n=HM(e);return t.some(r=>HM(r).match(`^${n}\\.\\d+`))};function HM(t){return t.replace(/\]|\[/g,"")}function mF(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve((function(a,l){try{var c=(e?.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:s}))).then(function(u){return i.shouldUseNativeValidation&&fF({},i),{values:n.raw?Object.assign({},r):u,errors:{}}}))}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(a){if(!a.inner)throw a;return{values:{},errors:jpe((l=a,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(l.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),c){var f=u[d.path].types,p=f&&f[d.type];u[d.path]=dD(d.path,c,u,d.type,p?[].concat(p,d.message):d.message)}return u},{})),i)};var l,c}))}catch(a){return Promise.reject(a)}}}const hj=async()=>await ge.get("/api/v1/province/get-province");function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function kpe(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pF(t){var e=kpe(t,"string");return Hl(e)=="symbol"?e:e+""}function Wd(t,e,n){return(e=pF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){Wd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tpe(t){if(Array.isArray(t))return t}function Epe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gF(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nw(t,e):void 0}}function Mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ra(t,e){return Tpe(t)||Epe(t,e)||gF(t,e)||Mpe()}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ya(t,e){if(t==null)return{};var n,r,s=Ape(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var Ppe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ope(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,a=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,g=t.value,x=ya(t,Ppe),v=T.useState(l!==void 0?l:n),b=ra(v,2),w=b[0],S=b[1],j=T.useState(c!==void 0?c:s),M=ra(j,2),C=M[0],A=M[1],P=T.useState(g!==void 0?g:a),E=ra(P,2),D=E[0],L=E[1],_=T.useCallback(function(V,K){typeof u=="function"&&u(V,K),L(V)},[u]),z=T.useCallback(function(V,K){var X;typeof d=="function"&&(X=d(V,K)),S(X!==void 0?X:V)},[d]),G=T.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),H=T.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),W=l!==void 0?l:w,R=c!==void 0?c:C,$=g!==void 0?g:D;return Ge(Ge({},x),{},{inputValue:W,menuIsOpen:R,onChange:_,onInputChange:z,onMenuClose:H,onMenuOpen:G,value:$})}function Xe(){return Xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xe.apply(null,arguments)}function _pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pF(r.key),r)}}function Dpe(t,e,n){return e&&WM(t.prototype,e),n&&WM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sw(t,e)}function Ipe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b0(t)}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!t})()}function Lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rpe(t,e){if(e&&(Hl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lpe(t)}function Fpe(t){var e=xF();return function(){var n,r=b0(t);if(e){var s=b0(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Rpe(this,n)}}function zpe(t){if(Array.isArray(t))return Nw(t)}function Vpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fj(t){return zpe(t)||Vpe(t)||gF(t)||$pe()}function Bpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Hpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Upe=(function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hpe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Bpe(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Yn="-ms-",v0="-moz-",mt="-webkit-",yF="comm",mj="rule",pj="decl",Wpe="@import",bF="@keyframes",qpe="@layer",Kpe=Math.abs,Ex=String.fromCharCode,Gpe=Object.assign;function Ype(t,e){return Fn(t,0)^45?(((e<<2^Fn(t,0))<<2^Fn(t,1))<<2^Fn(t,2))<<2^Fn(t,3):0}function vF(t){return t.trim()}function Xpe(t,e){return(t=e.exec(t))?t[0]:t}function pt(t,e,n){return t.replace(e,n)}function jw(t,e){return t.indexOf(e)}function Fn(t,e){return t.charCodeAt(e)|0}function Yh(t,e,n){return t.slice(e,n)}function oi(t){return t.length}function gj(t){return t.length}function bp(t,e){return e.push(t),t}function Qpe(t,e){return t.map(e).join("")}var Mx=1,yu=1,wF=0,Lr=0,hn=0,_u="";function Ax(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Mx,column:yu,length:a,return:""}}function Pd(t,e){return Gpe(Ax("",null,null,"",null,null,0),t,{length:-t.length},e)}function Jpe(){return hn}function Zpe(){return hn=Lr>0?Fn(_u,--Lr):0,yu--,hn===10&&(yu=1,Mx--),hn}function Yr(){return hn=Lr<wF?Fn(_u,Lr++):0,yu++,hn===10&&(yu=1,Mx++),hn}function gi(){return Fn(_u,Lr)}function Jp(){return Lr}function jf(t,e){return Yh(_u,t,e)}function Xh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NF(t){return Mx=yu=1,wF=oi(_u=t),Lr=0,[]}function SF(t){return _u="",t}function Zp(t){return vF(jf(Lr-1,Cw(t===91?t+2:t===40?t+1:t)))}function ege(t){for(;(hn=gi())&&hn<33;)Yr();return Xh(t)>2||Xh(hn)>3?"":" "}function tge(t,e){for(;--e&&Yr()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return jf(t,Jp()+(e<6&&gi()==32&&Yr()==32))}function Cw(t){for(;Yr();)switch(hn){case t:return Lr;case 34:case 39:t!==34&&t!==39&&Cw(hn);break;case 40:t===41&&Cw(t);break;case 92:Yr();break}return Lr}function nge(t,e){for(;Yr()&&t+hn!==57;)if(t+hn===84&&gi()===47)break;return"/*"+jf(e,Lr-1)+"*"+Ex(t===47?t:Yr())}function rge(t){for(;!Xh(gi());)Yr();return jf(t,Lr)}function sge(t){return SF(eg("",null,null,null,[""],t=NF(t),0,[0],t))}function eg(t,e,n,r,s,i,a,l,c){for(var u=0,d=0,f=a,p=0,g=0,x=0,v=1,b=1,w=1,S=0,j="",M=s,C=i,A=r,P=j;b;)switch(x=S,S=Yr()){case 40:if(x!=108&&Fn(P,f-1)==58){jw(P+=pt(Zp(S),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:P+=Zp(S);break;case 9:case 10:case 13:case 32:P+=ege(x);break;case 92:P+=tge(Jp()-1,7);continue;case 47:switch(gi()){case 42:case 47:bp(ige(nge(Yr(),Jp()),e,n),c);break;default:P+="/"}break;case 123*v:l[u++]=oi(P)*w;case 125*v:case 59:case 0:switch(S){case 0:case 125:b=0;case 59+d:w==-1&&(P=pt(P,/\f/g,"")),g>0&&oi(P)-f&&bp(g>32?KM(P+";",r,n,f-1):KM(pt(P," ","")+";",r,n,f-2),c);break;case 59:P+=";";default:if(bp(A=qM(P,e,n,u,d,s,l,j,M=[],C=[],f),i),S===123)if(d===0)eg(P,e,A,A,M,i,f,l,C);else switch(p===99&&Fn(P,3)===110?100:p){case 100:case 108:case 109:case 115:eg(t,A,A,r&&bp(qM(t,A,A,0,0,s,l,j,s,M=[],f),C),s,C,f,l,r?M:C);break;default:eg(P,A,A,A,[""],C,0,l,C)}}u=d=g=0,v=w=1,j=P="",f=a;break;case 58:f=1+oi(P),g=x;default:if(v<1){if(S==123)--v;else if(S==125&&v++==0&&Zpe()==125)continue}switch(P+=Ex(S),S*v){case 38:w=d>0?1:(P+="\f",-1);break;case 44:l[u++]=(oi(P)-1)*w,w=1;break;case 64:gi()===45&&(P+=Zp(Yr())),p=gi(),d=f=oi(j=P+=rge(Jp())),S++;break;case 45:x===45&&oi(P)==2&&(v=0)}}return i}function qM(t,e,n,r,s,i,a,l,c,u,d){for(var f=s-1,p=s===0?i:[""],g=gj(p),x=0,v=0,b=0;x<r;++x)for(var w=0,S=Yh(t,f+1,f=Kpe(v=a[x])),j=t;w<g;++w)(j=vF(v>0?p[w]+" "+S:pt(S,/&\f/g,p[w])))&&(c[b++]=j);return Ax(t,e,n,s===0?mj:l,c,u,d)}function ige(t,e,n){return Ax(t,e,n,yF,Ex(Jpe()),Yh(t,2,-2),0)}function KM(t,e,n,r){return Ax(t,e,n,pj,Yh(t,0,r),Yh(t,r+1,-1),r)}function eu(t,e){for(var n="",r=gj(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function age(t,e,n,r){switch(t.type){case qpe:if(t.children.length)break;case Wpe:case pj:return t.return=t.return||t.value;case yF:return"";case bF:return t.return=t.value+"{"+eu(t.children,r)+"}";case mj:t.value=t.props.join(",")}return oi(n=eu(t.children,r))?t.return=t.value+"{"+n+"}":""}function oge(t){var e=gj(t);return function(n,r,s,i){for(var a="",l=0;l<e;l++)a+=t[l](n,r,s,i)||"";return a}}function lge(t){return function(e){e.root||(e=e.return)&&t(e)}}function cge(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var uge=function(e,n,r){for(var s=0,i=0;s=i,i=gi(),s===38&&i===12&&(n[r]=1),!Xh(i);)Yr();return jf(e,Lr)},dge=function(e,n){var r=-1,s=44;do switch(Xh(s)){case 0:s===38&&gi()===12&&(n[r]=1),e[r]+=uge(Lr-1,n,r);break;case 2:e[r]+=Zp(s);break;case 4:if(s===44){e[++r]=gi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ex(s)}while(s=Yr());return e},hge=function(e,n){return SF(dge(NF(e),n))},GM=new WeakMap,fge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!GM.get(r))&&!s){GM.set(e,!0);for(var i=[],a=hge(n,i),l=r.props,c=0,u=0;c<a.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?a[c].replace(/&\f/g,l[d]):l[d]+" "+a[c]}}},mge=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function jF(t,e){switch(Ype(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+v0+t+Yn+t+t;case 6828:case 4268:return mt+t+Yn+t+t;case 6165:return mt+t+Yn+"flex-"+t+t;case 5187:return mt+t+pt(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Yn+"flex-$1$2")+t;case 5443:return mt+t+Yn+"flex-item-"+pt(t,/flex-|-self/,"")+t;case 4675:return mt+t+Yn+"flex-line-pack"+pt(t,/align-content|flex-|-self/,"")+t;case 5548:return mt+t+Yn+pt(t,"shrink","negative")+t;case 5292:return mt+t+Yn+pt(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+pt(t,"-grow","")+mt+t+Yn+pt(t,"grow","positive")+t;case 4554:return mt+pt(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return pt(pt(pt(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return pt(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return pt(pt(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4095:case 3583:case 4068:case 2532:return pt(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oi(t)-1-e>6)switch(Fn(t,e+1)){case 109:if(Fn(t,e+4)!==45)break;case 102:return pt(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+v0+(Fn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jw(t,"stretch")?jF(pt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Fn(t,e+1)!==115)break;case 6444:switch(Fn(t,oi(t)-3-(~jw(t,"!important")&&10))){case 107:return pt(t,":",":"+mt)+t;case 101:return pt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(Fn(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Yn+"$2box$3")+t}break;case 5936:switch(Fn(t,e+11)){case 114:return mt+t+Yn+pt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+Yn+pt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+Yn+pt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mt+t+Yn+t+t}return t}var pge=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case pj:e.return=jF(e.value,e.length);break;case bF:return eu([Pd(e,{value:pt(e.value,"@","@"+mt)})],s);case mj:if(e.length)return Qpe(e.props,function(i){switch(Xpe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return eu([Pd(e,{props:[pt(i,/:(read-\w+)/,":"+v0+"$1")]})],s);case"::placeholder":return eu([Pd(e,{props:[pt(i,/:(plac\w+)/,":"+mt+"input-$1")]}),Pd(e,{props:[pt(i,/:(plac\w+)/,":"+v0+"$1")]}),Pd(e,{props:[pt(i,/:(plac\w+)/,Yn+"input-$1")]})],s)}return""})}},gge=[pge],xge=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||gge,i={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)i[b[w]]=!0;l.push(v)});var c,u=[fge,mge];{var d,f=[age,lge(function(v){d.insert(v)})],p=oge(u.concat(s,f)),g=function(b){return eu(sge(b),p)};c=function(b,w,S,j){d=S,g(b?b+"{"+w.styles+"}":w.styles),j&&(x.inserted[w.name]=!0)}}var x={key:n,sheet:new Upe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return x.sheet.hydrate(l),x},r1={exports:{}},xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YM;function yge(){if(YM)return xt;YM=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,S=t?Symbol.for("react.scope"):60119;function j(C){if(typeof C=="object"&&C!==null){var A=C.$$typeof;switch(A){case e:switch(C=C.type,C){case c:case u:case r:case i:case s:case f:return C;default:switch(C=C&&C.$$typeof,C){case l:case d:case x:case g:case a:return C;default:return A}}case n:return A}}}function M(C){return j(C)===u}return xt.AsyncMode=c,xt.ConcurrentMode=u,xt.ContextConsumer=l,xt.ContextProvider=a,xt.Element=e,xt.ForwardRef=d,xt.Fragment=r,xt.Lazy=x,xt.Memo=g,xt.Portal=n,xt.Profiler=i,xt.StrictMode=s,xt.Suspense=f,xt.isAsyncMode=function(C){return M(C)||j(C)===c},xt.isConcurrentMode=M,xt.isContextConsumer=function(C){return j(C)===l},xt.isContextProvider=function(C){return j(C)===a},xt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},xt.isForwardRef=function(C){return j(C)===d},xt.isFragment=function(C){return j(C)===r},xt.isLazy=function(C){return j(C)===x},xt.isMemo=function(C){return j(C)===g},xt.isPortal=function(C){return j(C)===n},xt.isProfiler=function(C){return j(C)===i},xt.isStrictMode=function(C){return j(C)===s},xt.isSuspense=function(C){return j(C)===f},xt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===u||C===i||C===s||C===f||C===p||typeof C=="object"&&C!==null&&(C.$$typeof===x||C.$$typeof===g||C.$$typeof===a||C.$$typeof===l||C.$$typeof===d||C.$$typeof===b||C.$$typeof===w||C.$$typeof===S||C.$$typeof===v)},xt.typeOf=j,xt}var XM;function bge(){return XM||(XM=1,r1.exports=yge()),r1.exports}var s1,QM;function vge(){if(QM)return s1;QM=1;var t=bge(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(x){return t.isMemo(x)?s:i[x.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function g(x,v,b){if(typeof v!="string"){if(p){var w=f(v);w&&w!==p&&g(x,w,b)}var S=c(v);u&&(S=S.concat(u(v)));for(var j=a(x),M=a(v),C=0;C<S.length;++C){var A=S[C];if(!n[A]&&!(b&&b[A])&&!(M&&M[A])&&!(j&&j[A])){var P=d(v,A);try{l(x,A,P)}catch{}}}}return x}return s1=g,s1}vge();var wge=!0;function Nge(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var CF=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||wge===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},Sge=function(e,n,r){CF(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function jge(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Cge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kge=/[A-Z]|^ms/g,Tge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kF=function(e){return e.charCodeAt(1)===45},JM=function(e){return e!=null&&typeof e!="boolean"},i1=cge(function(t){return kF(t)?t:t.replace(kge,"-$&").toLowerCase()}),ZM=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Tge,function(r,s,i){return li={name:s,styles:i,next:li},s})}return Cge[e]!==1&&!kF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Qh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return li={name:s.name,styles:s.styles,next:li},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)li={name:a.name,styles:a.styles,next:li},a=a.next;var l=i.styles+";";return l}return Ege(t,e,n)}case"function":{if(t!==void 0){var c=li,u=n(t);return li=c,Qh(t,e,u)}break}}var d=n;return d}function Ege(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Qh(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;JM(l)&&(r+=i1(i)+":"+ZM(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var c=0;c<a.length;c++)JM(a[c])&&(r+=i1(i)+":"+ZM(i,a[c])+";");else{var u=Qh(t,e,a);switch(i){case"animation":case"animationName":{r+=i1(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var eA=/label:\s*([^\s;{]+)\s*(;|$)/g,li;function TF(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";li=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Qh(n,e,i);else{var a=i;s+=a[0]}for(var l=1;l<t.length;l++)if(s+=Qh(n,e,t[l]),r){var c=i;s+=c[l]}eA.lastIndex=0;for(var u="",d;(d=eA.exec(s))!==null;)u+="-"+d[1];var f=jge(s)+u;return{name:f,styles:s,next:li}}var Mge=function(e){return e()},Age=E3.useInsertionEffect?E3.useInsertionEffect:!1,Pge=Age||Mge,EF=T.createContext(typeof HTMLElement<"u"?xge({key:"css"}):null);EF.Provider;var Oge=function(e){return T.forwardRef(function(n,r){var s=T.useContext(EF);return e(n,s,r)})},_ge=T.createContext({}),xj={}.hasOwnProperty,kw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Dge=function(e,n){var r={};for(var s in n)xj.call(n,s)&&(r[s]=n[s]);return r[kw]=e,r},Ige=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return CF(n,r,s),Pge(function(){return Sge(n,r,s)}),null},Lge=Oge(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[kw],i=[r],a="";typeof t.className=="string"?a=Nge(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var l=TF(i,void 0,T.useContext(_ge));a+=e.key+"-"+l.name;var c={};for(var u in t)xj.call(t,u)&&u!=="css"&&u!==kw&&(c[u]=t[u]);return c.className=a,n&&(c.ref=n),T.createElement(T.Fragment,null,T.createElement(Ige,{cache:e,serialized:l,isStringTag:typeof s=="string"}),T.createElement(s,c))}),Rge=Lge,Be=function(e,n){var r=arguments;if(n==null||!xj.call(n,"css"))return T.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=Rge,i[1]=Dge(e,n);for(var a=2;a<s;a++)i[a]=r[a];return T.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Be||(Be={}));function yj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return TF(e)}function Fge(){var t=yj.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function zge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Vge=Math.min,$ge=Math.max,w0=Math.round,vp=Math.floor,N0=t=>({x:t,y:t});function Bge(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Px(){return typeof window<"u"}function MF(t){return PF(t)?(t.nodeName||"").toLowerCase():"#document"}function fa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function AF(t){var e;return(e=(PF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PF(t){return Px()?t instanceof Node||t instanceof fa(t).Node:!1}function Hge(t){return Px()?t instanceof Element||t instanceof fa(t).Element:!1}function bj(t){return Px()?t instanceof HTMLElement||t instanceof fa(t).HTMLElement:!1}function tA(t){return!Px()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fa(t).ShadowRoot}const Uge=new Set(["inline","contents"]);function OF(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=vj(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Uge.has(s)}function Wge(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qge=new Set(["html","body","#document"]);function Kge(t){return qge.has(MF(t))}function vj(t){return fa(t).getComputedStyle(t)}function Gge(t){if(MF(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tA(t)&&t.host||AF(t);return tA(e)?e.host:e}function _F(t){const e=Gge(t);return Kge(e)?t.ownerDocument?t.ownerDocument.body:t.body:bj(e)&&OF(e)?e:_F(e)}function S0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_F(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=fa(s);if(i){const l=Tw(a);return e.concat(a,a.visualViewport||[],OF(s)?s:[],l&&n?S0(l):[])}return e.concat(s,S0(s,[],n))}function Tw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Yge(t){const e=vj(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=bj(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=w0(n)!==i||w0(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function wj(t){return Hge(t)?t:t.contextElement}function nA(t){const e=wj(t);if(!bj(e))return N0(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Yge(e);let a=(i?w0(n.width):n.width)/r,l=(i?w0(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Xge=N0(0);function Qge(t){const e=fa(t);return!Wge()||!e.visualViewport?Xge:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jge(t,e,n){return!1}function rA(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=wj(t);let a=N0(1);e&&(a=nA(t));const l=Jge()?Qge(i):N0(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const p=fa(i),g=r;let x=p,v=Tw(x);for(;v&&r&&g!==x;){const b=nA(v),w=v.getBoundingClientRect(),S=vj(v),j=w.left+(v.clientLeft+parseFloat(S.paddingLeft))*b.x,M=w.top+(v.clientTop+parseFloat(S.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=j,u+=M,x=fa(v),v=Tw(x)}}return Bge({width:d,height:f,x:c,y:u})}function DF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Zge(t,e){let n=null,r;const s=AF(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||e(),!p||!g)return;const x=vp(f),v=vp(s.clientWidth-(d+p)),b=vp(s.clientHeight-(f+g)),w=vp(d),j={rootMargin:-x+"px "+-v+"px "+-b+"px "+-w+"px",threshold:$ge(0,Vge(1,c))||1};let M=!0;function C(A){const P=A[0].intersectionRatio;if(P!==c){if(!M)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!DF(u,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(C,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,j)}n.observe(t)}return a(!0),i}function e0e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=wj(t),d=s||i?[...u?S0(u):[],...S0(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&l?Zge(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(w=>{let[S]=w;S&&S.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let x,v=c?rA(t):null;c&&b();function b(){const w=rA(t);v&&!DF(v,w)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(S=>{s&&S.removeEventListener("scroll",n),i&&S.removeEventListener("resize",n)}),f?.(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(x)}}var Ew=T.useLayoutEffect,t0e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],j0=function(){};function n0e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function r0e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(n0e(t,a)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var sA=function(e){return h0e(e)?e.filter(Boolean):Hl(e)==="object"&&e!==null?[e]:[]},IF=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ya(e,t0e);return Ge({},n)},en=function(e,n,r){var s=e.cx,i=e.getStyles,a=e.getClassNames,l=e.className;return{css:i(n,e),className:s(r??{},a(n,e),l)}};function Ox(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function s0e(t){return Ox(t)?window.innerHeight:t.clientHeight}function LF(t){return Ox(t)?window.pageYOffset:t.scrollTop}function C0(t,e){if(Ox(t)){window.scrollTo(0,e);return}t.scrollTop=e}function i0e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function a0e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function wp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j0,s=LF(t),i=e-s,a=10,l=0;function c(){l+=a;var u=a0e(l,s,i,n);C0(t,u),l<n?window.requestAnimationFrame(c):r(t)}c()}function iA(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?C0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&C0(t,Math.max(e.offsetTop-s,0))}function o0e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function aA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function l0e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var RF=!1,c0e={get passive(){return RF=!0}},Np=typeof window<"u"?window:{};Np.addEventListener&&Np.removeEventListener&&(Np.addEventListener("p",j0,c0e),Np.removeEventListener("p",j0,!1));var u0e=RF;function d0e(t){return t!=null}function h0e(t){return Array.isArray(t)}function Sp(t,e,n){return t?e:n}var f0e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(a){var l=ra(a,1),c=l[0];return!r.includes(c)});return i.reduce(function(a,l){var c=ra(l,2),u=c[0],d=c[1];return a[u]=d,a},{})},m0e=["children","innerProps"],p0e=["children","innerProps"];function g0e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,a=t.isFixedPosition,l=t.controlHeight,c=i0e(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,p=n.getBoundingClientRect(),g=p.bottom,x=p.height,v=p.top,b=n.offsetParent.getBoundingClientRect(),w=b.top,S=a?window.innerHeight:s0e(c),j=LF(c),M=parseInt(getComputedStyle(n).marginBottom,10),C=parseInt(getComputedStyle(n).marginTop,10),A=w-C,P=S-v,E=A+j,D=f-j-v,L=g-S+j+M,_=j+v-C,z=160;switch(s){case"auto":case"bottom":if(P>=x)return{placement:"bottom",maxHeight:e};if(D>=x&&!a)return i&&wp(c,L,z),{placement:"bottom",maxHeight:e};if(!a&&D>=r||a&&P>=r){i&&wp(c,L,z);var G=a?P-M:D-M;return{placement:"bottom",maxHeight:G}}if(s==="auto"||a){var H=e,W=a?A:E;return W>=r&&(H=Math.min(W-M-l,e)),{placement:"top",maxHeight:H}}if(s==="bottom")return i&&C0(c,L),{placement:"bottom",maxHeight:e};break;case"top":if(A>=x)return{placement:"top",maxHeight:e};if(E>=x&&!a)return i&&wp(c,_,z),{placement:"top",maxHeight:e};if(!a&&E>=r||a&&A>=r){var R=e;return(!a&&E>=r||a&&A>=r)&&(R=a?A-C:E-C),i&&wp(c,_,z),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function x0e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var FF=function(e){return e==="auto"?"bottom":e},y0e=function(e,n){var r,s=e.placement,i=e.theme,a=i.borderRadius,l=i.spacing,c=i.colors;return Ge((r={label:"menu"},Wd(r,x0e(s),"100%"),Wd(r,"position","absolute"),Wd(r,"width","100%"),Wd(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},zF=T.createContext(null),b0e=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=T.useContext(zF)||{},d=u.setPortalPlacement,f=T.useRef(null),p=T.useState(s),g=ra(p,2),x=g[0],v=g[1],b=T.useState(null),w=ra(b,2),S=w[0],j=w[1],M=c.spacing.controlHeight;return Ew(function(){var C=f.current;if(C){var A=a==="fixed",P=l&&!A,E=g0e({maxHeight:s,menuEl:C,minHeight:r,placement:i,shouldScroll:P,isFixedPosition:A,controlHeight:M});v(E.maxHeight),j(E.placement),d?.(E.placement)}},[s,i,a,l,r,d,M]),n({ref:f,placerProps:Ge(Ge({},e),{},{placement:S||FF(i),maxHeight:x})})},v0e=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return Be("div",Xe({},en(e,"menu",{menu:!0}),{ref:r},s),n)},w0e=v0e,N0e=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Ge({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},S0e=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return Be("div",Xe({},en(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},VF=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ge({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},j0e=VF,C0e=VF,k0e=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=ya(e,m0e);return Be("div",Xe({},en(Ge(Ge({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},T0e=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=ya(e,p0e);return Be("div",Xe({},en(Ge(Ge({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},E0e=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},M0e=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,a=e.menuPlacement,l=e.menuPosition,c=T.useRef(null),u=T.useRef(null),d=T.useState(FF(a)),f=ra(d,2),p=f[0],g=f[1],x=T.useMemo(function(){return{setPortalPlacement:g}},[]),v=T.useState(null),b=ra(v,2),w=b[0],S=b[1],j=T.useCallback(function(){if(s){var P=o0e(s),E=l==="fixed"?0:window.pageYOffset,D=P[p]+E;(D!==w?.offset||P.left!==w?.rect.left||P.width!==w?.rect.width)&&S({offset:D,rect:P})}},[s,l,p,w?.offset,w?.rect.left,w?.rect.width]);Ew(function(){j()},[j]);var M=T.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=e0e(s,c.current,j,{elementResize:"ResizeObserver"in window}))},[s,j]);Ew(function(){M()},[M]);var C=T.useCallback(function(P){c.current=P,M()},[M]);if(!n&&l!=="fixed"||!w)return null;var A=Be("div",Xe({ref:C},en(Ge(Ge({},e),{},{offset:w.offset,position:l,rect:w.rect}),"menuPortal",{"menu-portal":!0}),i),r);return Be(zF.Provider,{value:x},n?QA.createPortal(A,n):A)},A0e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},P0e=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return Be("div",Xe({},en(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},O0e=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Ge({alignItems:"center",display:s&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},_0e=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return Be("div",Xe({},en(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},D0e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},I0e=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},en(e,"indicatorsContainer",{indicators:!0}),r),n)},oA,L0e=["size"],R0e=["innerProps","isRtl","size"],F0e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},$F=function(e){var n=e.size,r=ya(e,L0e);return Be("svg",Xe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:F0e},r))},Nj=function(e){return Be($F,Xe({size:20},e),Be("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},BF=function(e){return Be($F,Xe({size:20},e),Be("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},HF=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return Ge({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},z0e=HF,V0e=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},en(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Be(BF,null))},$0e=HF,B0e=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},en(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Be(Nj,null))},H0e=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return Ge({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},U0e=function(e){var n=e.innerProps;return Be("span",Xe({},n,en(e,"indicatorSeparator",{"indicator-separator":!0})))},W0e=Fge(oA||(oA=zge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),q0e=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,a=i.colors,l=i.spacing.baseUnit;return Ge({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:l*2})},a1=function(e){var n=e.delay,r=e.offset;return Be("span",{css:yj({animation:"".concat(W0e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},K0e=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,a=ya(e,R0e);return Be("div",Xe({},en(Ge(Ge({},a),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Be(a1,{delay:0,offset:r}),Be(a1,{delay:160,offset:!0}),Be(a1,{delay:320,offset:!r}))},G0e=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,a=i.colors,l=i.borderRadius,c=i.spacing;return Ge({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:s?a.primary:a.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},Y0e=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,a=e.innerProps,l=e.menuIsOpen;return Be("div",Xe({ref:i},en(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),a,{"aria-disabled":r||void 0}),n)},X0e=Y0e,Q0e=["data"],J0e=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Z0e=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,a=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Be("div",Xe({},en(e,"group",{group:!0}),c),Be(a,Xe({},l,{selectProps:f,theme:d,getStyles:s,getClassNames:i,cx:r}),u),Be("div",null,n))},exe=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return Ge({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},txe=function(e){var n=IF(e);n.data;var r=ya(n,Q0e);return Be("div",Xe({},en(e,"groupHeading",{"group-heading":!0}),r))},nxe=Z0e,rxe=["innerRef","isDisabled","isHidden","inputClassName"],sxe=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,a=i.spacing,l=i.colors;return Ge(Ge({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},ixe),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:l.neutral80})},UF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ixe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ge({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},UF)},axe=function(e){return Ge({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},UF)},oxe=function(e){var n=e.cx,r=e.value,s=IF(e),i=s.innerRef,a=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=ya(s,rxe);return Be("div",Xe({},en(e,"input",{"input-container":!0}),{"data-value":r||""}),Be("input",Xe({className:n({input:!0},c),ref:i,style:axe(l),disabled:a},u)))},lxe=oxe,cxe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors;return Ge({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},uxe=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,a=e.cropWithEllipsis;return Ge({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},dxe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors,l=e.isFocused;return Ge({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},WF=function(e){var n=e.children,r=e.innerProps;return Be("div",r,n)},hxe=WF,fxe=WF;function mxe(t){var e=t.children,n=t.innerProps;return Be("div",Xe({role:"button"},n),e||Be(Nj,{size:14}))}var pxe=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,a=e.isDisabled,l=e.removeProps,c=e.selectProps,u=r.Container,d=r.Label,f=r.Remove;return Be(u,{data:s,innerProps:Ge(Ge({},en(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:c},Be(d,{data:s,innerProps:Ge({},en(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),Be(f,{data:s,innerProps:Ge(Ge({},en(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},gxe=pxe,xxe=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.theme,l=a.spacing,c=a.colors;return Ge({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},yxe=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.innerRef,l=e.innerProps;return Be("div",Xe({},en(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:a,"aria-disabled":r},l),n)},bxe=yxe,vxe=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return Ge({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},wxe=function(e){var n=e.children,r=e.innerProps;return Be("div",Xe({},en(e,"placeholder",{placeholder:!0}),r),n)},Nxe=wxe,Sxe=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,a=s.colors;return Ge({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},jxe=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return Be("div",Xe({},en(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},Cxe=jxe,kxe={ClearIndicator:B0e,Control:X0e,DropdownIndicator:V0e,DownChevron:BF,CrossIcon:Nj,Group:nxe,GroupHeading:txe,IndicatorsContainer:I0e,IndicatorSeparator:U0e,Input:lxe,LoadingIndicator:K0e,Menu:w0e,MenuList:S0e,MenuPortal:M0e,LoadingMessage:T0e,NoOptionsMessage:k0e,MultiValue:gxe,MultiValueContainer:hxe,MultiValueLabel:fxe,MultiValueRemove:mxe,Option:bxe,Placeholder:Nxe,SelectContainer:P0e,SingleValue:Cxe,ValueContainer:_0e},Txe=function(e){return Ge(Ge({},kxe),e.components)},lA=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Exe(t,e){return!!(t===e||lA(t)&&lA(e))}function Mxe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Exe(t[n],e[n]))return!1;return!0}function Axe(t,e){e===void 0&&(e=Mxe);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var a=t.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}var Pxe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Oxe=function(e){return Be("span",Xe({css:Pxe},e))},cA=Oxe,_xe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,a=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(n==="value"&&l)return"value ".concat(a," focused, ").concat(f(l,r),".");if(n==="menu"&&d){var p=c?" disabled":"",g="".concat(u?" selected":"").concat(p);return"".concat(a).concat(g,", ").concat(f(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Dxe=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,a=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,p=c.getOptionLabel,g=c.inputValue,x=c.isMulti,v=c.isOptionDisabled,b=c.isSearchable,w=c.menuIsOpen,S=c.options,j=c.screenReaderStatus,M=c.tabSelectsValue,C=c.isLoading,A=c["aria-label"],P=c["aria-live"],E=T.useMemo(function(){return Ge(Ge({},_xe),f||{})},[f]),D=T.useMemo(function(){var W="";if(n&&E.onChange){var R=n.option,$=n.options,V=n.removedValue,K=n.removedValues,X=n.value,B=function(ee){return Array.isArray(ee)?null:ee},J=V||R||B(X),ne=J?p(J):"",se=$||K||void 0,fe=se?se.map(p):[],Te=Ge({isDisabled:J&&v(J,l),label:ne,labels:fe},n);W=E.onChange(Te)}return W},[n,E,v,l,p]),L=T.useMemo(function(){var W="",R=r||s,$=!!(r&&l&&l.includes(r));if(R&&E.onFocus){var V={focused:R,label:p(R),isDisabled:v(R,l),isSelected:$,options:i,context:R===r?"menu":"value",selectValue:l,isAppleDevice:d};W=E.onFocus(V)}return W},[r,s,p,v,E,i,l,d]),_=T.useMemo(function(){var W="";if(w&&S.length&&!C&&E.onFilter){var R=j({count:i.length});W=E.onFilter({inputValue:g,resultsMessage:R})}return W},[i,g,w,E,S,j,C]),z=n?.action==="initial-input-focus",G=T.useMemo(function(){var W="";if(E.guidance){var R=s?"value":w?"menu":"input";W=E.guidance({"aria-label":A,context:R,isDisabled:r&&v(r,l),isMulti:x,isSearchable:b,tabSelectsValue:M,isInitialFocus:z})}return W},[A,r,s,x,v,b,w,E,l,M,z]),H=Be(T.Fragment,null,Be("span",{id:"aria-selection"},D),Be("span",{id:"aria-focused"},L),Be("span",{id:"aria-results"},_),Be("span",{id:"aria-guidance"},G));return Be(T.Fragment,null,Be(cA,{id:u},z&&H),Be(cA,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!z&&H))},Ixe=Dxe,Mw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Lxe=new RegExp("["+Mw.map(function(t){return t.letters}).join("")+"]","g"),qF={};for(var o1=0;o1<Mw.length;o1++)for(var l1=Mw[o1],c1=0;c1<l1.letters.length;c1++)qF[l1.letters[c1]]=l1.base;var KF=function(e){return e.replace(Lxe,function(n){return qF[n]})},Rxe=Axe(KF),uA=function(e){return e.replace(/^\s+|\s+$/g,"")},Fxe=function(e){return"".concat(e.label," ").concat(e.value)},zxe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=Ge({ignoreCase:!0,ignoreAccents:!0,stringify:Fxe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,a=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?uA(r):r,f=c?uA(l(n)):l(n);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),a&&(d=Rxe(d),f=KF(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Vxe=["innerRef"];function $xe(t){var e=t.innerRef,n=ya(t,Vxe),r=f0e(n,"onExited","in","enter","exit","appear");return Be("input",Xe({ref:e},r,{css:yj({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Bxe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Hxe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,a=T.useRef(!1),l=T.useRef(!1),c=T.useRef(0),u=T.useRef(null),d=T.useCallback(function(b,w){if(u.current!==null){var S=u.current,j=S.scrollTop,M=S.scrollHeight,C=S.clientHeight,A=u.current,P=w>0,E=M-C-j,D=!1;E>w&&a.current&&(r&&r(b),a.current=!1),P&&l.current&&(i&&i(b),l.current=!1),P&&w>E?(n&&!a.current&&n(b),A.scrollTop=M,D=!0,a.current=!0):!P&&-w>j&&(s&&!l.current&&s(b),A.scrollTop=0,D=!0,l.current=!0),D&&Bxe(b)}},[n,r,s,i]),f=T.useCallback(function(b){d(b,b.deltaY)},[d]),p=T.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),g=T.useCallback(function(b){var w=c.current-b.changedTouches[0].clientY;d(b,w)},[d]),x=T.useCallback(function(b){if(b){var w=u0e?{passive:!1}:!1;b.addEventListener("wheel",f,w),b.addEventListener("touchstart",p,w),b.addEventListener("touchmove",g,w)}},[g,p,f]),v=T.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",p,!1),b.removeEventListener("touchmove",g,!1))},[g,p,f]);return T.useEffect(function(){if(e){var b=u.current;return x(b),function(){v(b)}}},[e,x,v]),function(b){u.current=b}}var dA=["boxSizing","height","overflow","paddingRight","position"],hA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function fA(t){t.cancelable&&t.preventDefault()}function mA(t){t.stopPropagation()}function pA(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function gA(){return"ontouchstart"in window||navigator.maxTouchPoints}var xA=!!(typeof window<"u"&&window.document&&window.document.createElement),Od=0,_c={capture:!1,passive:!1};function Uxe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=T.useRef({}),i=T.useRef(null),a=T.useCallback(function(c){if(xA){var u=document.body,d=u&&u.style;if(r&&dA.forEach(function(x){var v=d&&d[x];s.current[x]=v}),r&&Od<1){var f=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+f||0;Object.keys(hA).forEach(function(x){var v=hA[x];d&&(d[x]=v)}),d&&(d.paddingRight="".concat(g,"px"))}u&&gA()&&(u.addEventListener("touchmove",fA,_c),c&&(c.addEventListener("touchstart",pA,_c),c.addEventListener("touchmove",mA,_c))),Od+=1}},[r]),l=T.useCallback(function(c){if(xA){var u=document.body,d=u&&u.style;Od=Math.max(Od-1,0),r&&Od<1&&dA.forEach(function(f){var p=s.current[f];d&&(d[f]=p)}),u&&gA()&&(u.removeEventListener("touchmove",fA,_c),c&&(c.removeEventListener("touchstart",pA,_c),c.removeEventListener("touchmove",mA,_c)))}},[r]);return T.useEffect(function(){if(e){var c=i.current;return a(c),function(){l(c)}}},[e,a,l]),function(c){i.current=c}}var Wxe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},qxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Kxe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,a=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Hxe({isEnabled:s,onBottomArrive:i,onBottomLeave:a,onTopArrive:l,onTopLeave:c}),d=Uxe({isEnabled:n}),f=function(g){u(g),d(g)};return Be(T.Fragment,null,n&&Be("div",{onClick:Wxe,css:qxe}),e(f))}var Gxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Yxe=function(e){var n=e.name,r=e.onFocus;return Be("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Gxe,value:"",onChange:function(){}})},Xxe=Yxe;function Sj(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Qxe(){return Sj(/^iPhone/i)}function GF(){return Sj(/^Mac/i)}function Jxe(){return Sj(/^iPad/i)||GF()&&navigator.maxTouchPoints>1}function Zxe(){return Qxe()||Jxe()}function eye(){return GF()||Zxe()}var tye=function(e){return e.label},nye=function(e){return e.label},rye=function(e){return e.value},sye=function(e){return!!e.isDisabled},iye={clearIndicator:$0e,container:A0e,control:G0e,dropdownIndicator:z0e,group:J0e,groupHeading:exe,indicatorsContainer:D0e,indicatorSeparator:H0e,input:sxe,loadingIndicator:q0e,loadingMessage:C0e,menu:y0e,menuList:N0e,menuPortal:E0e,multiValue:cxe,multiValueLabel:uxe,multiValueRemove:dxe,noOptionsMessage:j0e,option:xxe,placeholder:vxe,singleValue:Sxe,valueContainer:O0e},aye={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},oye=4,YF=4,lye=38,cye=YF*2,uye={baseUnit:YF,controlHeight:lye,menuGutter:cye},u1={borderRadius:oye,colors:aye,spacing:uye},dye={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:aA(),captureMenuScroll:!aA(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:zxe(),formatGroupLabel:tye,getOptionLabel:nye,getOptionValue:rye,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:sye,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!l0e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function yA(t,e,n,r){var s=JF(t,e,n),i=ZF(t,e,n),a=QF(t,e),l=k0(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:a,value:l,index:r}}function tg(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(a,l){return yA(t,a,e,l)}).filter(function(a){return vA(t,a)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=yA(t,n,e,r);return vA(t,i)?i:void 0}).filter(d0e)}function XF(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,fj(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function bA(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,fj(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function hye(t,e){return XF(tg(t,e))}function vA(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,a=e.label,l=e.value;return(!t7(t)||!i)&&e7(t,{label:a,value:l,data:s},r)}function fye(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function mye(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var d1=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},QF=function(e,n){return e.getOptionLabel(n)},k0=function(e,n){return e.getOptionValue(n)};function JF(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function ZF(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=k0(t,e);return n.some(function(s){return k0(t,s)===r})}function e7(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var t7=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},pye=1,n7=(function(t){Ipe(n,t);var e=Fpe(n);function n(r){var s;if(_pe(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,f=d.onChange,p=d.name;u.name=p,s.ariaOnChange(c,u),f(c,u)},s.setValue=function(c,u,d){var f=s.props,p=f.closeMenuOnSelect,g=f.isMulti,x=f.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:x}),p&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,f=u.isMulti,p=u.name,g=s.state.selectValue,x=f&&s.isOptionSelected(c,g),v=s.isOptionDisabled(c,g);if(x){var b=s.getOptionValue(c);s.setValue(g.filter(function(w){return s.getOptionValue(w)!==b}),"deselect-option",c)}else if(!v)f?s.setValue([].concat(fj(g),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:p});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,f=s.getOptionValue(c),p=d.filter(function(x){return s.getOptionValue(x)!==f}),g=Sp(u,p,p[0]||null);s.onChange(g,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(Sp(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),p=Sp(c,f,f[0]||null);d&&s.onChange(p,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return d1(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return bA(tg(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return r0e.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return QF(s.props,c)},s.getOptionValue=function(c){return k0(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,f=iye[c](u,d);f.boxSizing="border-box";var p=s.props.styles[c];return p?p(f,u):f},s.getClassNames=function(c,u){var d,f;return(d=(f=s.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return Txe(s.props)},s.buildCategorizedOptions=function(){return tg(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return XF(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:Ge({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,f=u.menuIsOpen;s.focusInput(),f?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Ox(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-s.initialTouchX),p=Math.abs(d.clientY-s.initialTouchY),g=5;s.userIsDragging=f>g||p>g}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return t7(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,f=u.backspaceRemovesValue,p=u.escapeClearsValue,g=u.inputValue,x=u.isClearable,v=u.isDisabled,b=u.menuIsOpen,w=u.onKeyDown,S=u.tabSelectsValue,j=u.openMenuOnFocus,M=s.state,C=M.focusedOption,A=M.focusedValue,P=M.selectValue;if(!v&&!(typeof w=="function"&&(w(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||g)return;s.focusValue("previous");break;case"ArrowRight":if(!d||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(A)s.removeValue(A);else{if(!f)return;d?s.popValue():x&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!b||!S||!C||j&&s.isOptionSelected(C,P))return;s.selectOption(C);break;case"Enter":if(c.keyCode===229)break;if(b){if(!C||s.isComposing)return;s.selectOption(C);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):x&&p&&s.clearValue();break;case" ":if(g)return;if(!b){s.openMenu("first");break}if(!C)return;s.selectOption(C);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++pye),s.state.selectValue=sA(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),a=s.buildFocusableOptions(),l=a.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=a[l],s.state.focusedOptionId=d1(i,a[l])}return s}return Dpe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&iA(this.menuListRef,this.focusedOptionRef),eye()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,a=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!a&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&a&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!a&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(iA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,a=this.state,l=a.selectValue,c=a.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,a=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=a.indexOf(l);l||(c=-1);var u=a.length-1,d=-1;if(a.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:a[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(a);a||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(u1):Ge(Ge({},u1),this.props.theme):u1})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,a=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,p=f.isMulti,g=f.isRtl,x=f.options,v=this.hasValue();return{clearValue:s,cx:i,getStyles:a,getClassNames:l,getValue:c,hasValue:v,isMulti:p,isRtl:g,options:x,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,a=s.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(s,i){return JF(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return ZF(this.props,s,i)}},{key:"filterOption",value:function(s,i){return e7(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:a,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,a=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,f=s.menuIsOpen,p=s.required,g=this.getComponents(),x=g.Input,v=this.state,b=v.inputIsHidden,w=v.ariaSelection,S=this.commonProps,j=l||this.getElementId("input"),M=Ge(Ge(Ge({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?w?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?T.createElement(x,Xe({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:j,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},M)):T.createElement($xe,Xe({id:j,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:j0,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},M))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),a=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,f=i.Placeholder,p=this.commonProps,g=this.props,x=g.controlShouldRenderValue,v=g.isDisabled,b=g.isMulti,w=g.inputValue,S=g.placeholder,j=this.state,M=j.selectValue,C=j.focusedValue,A=j.isFocused;if(!this.hasValue()||!x)return w?null:T.createElement(f,Xe({},p,{key:"placeholder",isDisabled:v,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),S);if(b)return M.map(function(E,D){var L=E===C,_="".concat(s.getOptionLabel(E),"-").concat(s.getOptionValue(E));return T.createElement(a,Xe({},p,{components:{Container:l,Label:c,Remove:u},isFocused:L,isDisabled:v,key:_,index:D,removeProps:{onClick:function(){return s.removeValue(E)},onTouchEnd:function(){return s.removeValue(E)},onMouseDown:function(G){G.preventDefault()}},data:E}),s.formatOptionLabel(E,"value"))});if(w)return null;var P=M[0];return T.createElement(d,Xe({},p,{data:P,isDisabled:v}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,Xe({},a,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return T.createElement(i,Xe({},a,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,a=s.IndicatorSeparator;if(!i||!a)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return T.createElement(a,Xe({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,Xe({},a,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),a=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,f=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,x=this.commonProps,v=this.state.focusedOption,b=this.props,w=b.captureMenuScroll,S=b.inputValue,j=b.isLoading,M=b.loadingMessage,C=b.minMenuHeight,A=b.maxMenuHeight,P=b.menuIsOpen,E=b.menuPlacement,D=b.menuPosition,L=b.menuPortalTarget,_=b.menuShouldBlockScroll,z=b.menuShouldScrollIntoView,G=b.noOptionsMessage,H=b.onMenuScrollToTop,W=b.onMenuScrollToBottom;if(!P)return null;var R=function(ne,se){var fe=ne.type,Te=ne.data,le=ne.isDisabled,ee=ne.isSelected,ie=ne.label,he=ne.value,ke=v===Te,Ne=le?void 0:function(){return s.onOptionHover(Te)},ve=le?void 0:function(){return s.selectOption(Te)},Oe="".concat(s.getElementId("option"),"-").concat(se),Ye={id:Oe,onClick:ve,onMouseMove:Ne,onMouseOver:Ne,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:ee};return T.createElement(g,Xe({},x,{innerProps:Ye,data:Te,isDisabled:le,isSelected:ee,key:Oe,label:ie,type:fe,value:he,isFocused:ke,innerRef:ke?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ne.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(J){if(J.type==="group"){var ne=J.data,se=J.options,fe=J.index,Te="".concat(s.getElementId("group"),"-").concat(fe),le="".concat(Te,"-heading");return T.createElement(a,Xe({},x,{key:Te,data:ne,options:se,Heading:l,headingProps:{id:le,data:J.data},label:s.formatGroupLabel(J.data)}),J.options.map(function(ee){return R(ee,"".concat(fe,"-").concat(ee.index))}))}else if(J.type==="option")return R(J,"".concat(J.index))});else if(j){var V=M({inputValue:S});if(V===null)return null;$=T.createElement(f,x,V)}else{var K=G({inputValue:S});if(K===null)return null;$=T.createElement(p,x,K)}var X={minMenuHeight:C,maxMenuHeight:A,menuPlacement:E,menuPosition:D,menuShouldScrollIntoView:z},B=T.createElement(b0e,Xe({},x,X),function(J){var ne=J.ref,se=J.placerProps,fe=se.placement,Te=se.maxHeight;return T.createElement(c,Xe({},x,X,{innerRef:ne,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:j,placement:fe}),T.createElement(Kxe,{captureEnabled:w,onTopArrive:H,onBottomArrive:W,lockEnabled:_},function(le){return T.createElement(u,Xe({},x,{innerRef:function(ie){s.getMenuListRef(ie),le(ie)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:s.getElementId("listbox")},isLoading:j,maxHeight:Te,focusedOption:v}),$)}))});return L||D==="fixed"?T.createElement(d,Xe({},x,{appendTo:L,controlElement:this.controlRef,menuPlacement:E,menuPosition:D}),B):B}},{key:"renderFormField",value:function(){var s=this,i=this.props,a=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return T.createElement(Xxe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(a){var p=f.map(function(v){return s.getOptionValue(v)}).join(a);return T.createElement("input",{name:u,type:"hidden",value:p})}else{var g=f.length>0?f.map(function(v,b){return T.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(v)})}):T.createElement("input",{name:u,type:"hidden",value:""});return T.createElement("div",null,g)}else{var x=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:u,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,a=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,f=this.getFocusableOptions();return T.createElement(Ixe,Xe({},s,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,a=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,f=u.id,p=u.isDisabled,g=u.menuIsOpen,x=this.state.isFocused,v=this.commonProps=this.getCommonProps();return T.createElement(l,Xe({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:x}),this.renderLiveRegion(),T.createElement(i,Xe({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:x,menuIsOpen:g}),T.createElement(c,Xe({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(a,Xe({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var a=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,f=i.prevWasFocused,p=i.instancePrefix,g=s.options,x=s.value,v=s.menuIsOpen,b=s.inputValue,w=s.isMulti,S=sA(x),j={};if(a&&(x!==a.value||g!==a.options||v!==a.menuIsOpen||b!==a.inputValue)){var M=v?hye(s,S):[],C=v?bA(tg(s,S),"".concat(p,"-option")):[],A=l?fye(i,S):null,P=mye(i,M),E=d1(C,P);j={selectValue:S,focusedOption:P,focusedOptionId:E,focusableOptionsWithIds:C,focusedValue:A,clearFocusValueOnUpdate:!1}}var D=c!=null&&s!==a?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},L=u,_=d&&f;return d&&!_&&(L={value:Sp(w,S,S[0]||null),options:S,action:"initial-input-focus"},_=!f),u?.action==="initial-input-focus"&&(L=null),Ge(Ge(Ge({},j),D),{},{prevProps:s,ariaSelection:L,prevWasFocused:_})}}]),n})(T.Component);n7.defaultProps=dye;var gye=T.forwardRef(function(t,e){var n=Ope(t);return T.createElement(n7,Xe({ref:e},n))}),sa=gye;function xye({openModalProduct:t,setOpenModalProduct:e,selectorderItems:n,products:r,setFilterProduct:s,setValue:i}){const[a,l]=T.useState(null),[c,u]=T.useState({productName:"",categoryId:void 0}),{data:d}=Fe({queryKey:["getAllCategory"],queryFn:Ou}),f=()=>{s(g=>({...g,categoryId:c.categoryId,productName:c.productName}))},p=g=>{if(n.some(v=>v.variantId===g.variantId)){ue.error("Sn phm ny  c trong danh sch");return}i("orderItems",[...n,g],{shouldValidate:!0,shouldDirty:!0}),e(!1)};return o.jsxs(bt,{open:t,className:"relative w-[80rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(!1),children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[2rem]",children:"Chn sn phm"}),a?o.jsx(yye,{product:a,onBack:()=>l(null),onAdd:p}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] shadow-lg p-[2rem] border border-gray-100 rounded-xl",children:[o.jsx("input",{type:"text",name:"productName",placeholder:"Tn sn phm...",value:c.productName,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value}))}),o.jsxs("select",{name:"categoryId",id:"categoryId",value:c.categoryId,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 text-gray-600 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value})),children:[o.jsx("option",{value:"",children:"Danh mc"}),d?.map(g=>o.jsx("option",{value:g.id,children:g.categoryName},g.id))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onClick:()=>f(),children:[o.jsx(F,{icon:ws}),o.jsx("span",{className:"block",children:"Lc"})]})]}),o.jsx("div",{className:"min-h-[28rem] max-h-[40rem] overflow-auto",children:r?.length>0?o.jsx("div",{className:"grid grid-cols-4 max-h-[40rem] gap-[2rem] mt-[2rem]",children:r?.map(g=>o.jsxs("div",{className:"border border-gray-200 shadow-lg rounded-xl p-4 hover:shadow-xl hover:scale-[1.02] hover-linear cursor-pointer group",onClick:()=>l(g),children:[o.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden",children:o.jsx("img",{src:g.mainImage,alt:g.productName,className:"w-full h-full object-cover"})}),o.jsx("h4",{className:"font-medium text-limit-1 text-gray-800 mb-1",children:g.productName}),o.jsxs("p",{className:"text-sm text-gray-500",children:[g.variants.length," phin bn"]}),o.jsx("p",{className:"text-[1.4rem] text-green-600 font-semibold mt-2",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g.price)})]},g.id))}):o.jsx("div",{className:"w-full text-center mt-[2rem]",children:"Khng c sn phm no"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] mt-[2rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:()=>e(!1),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",children:"Chn"})]})]})]})}function yye({product:t,onBack:e,onAdd:n}){const[r,s]=T.useState(null),[i,a]=T.useState(null),[l,c]=T.useState(1),u=()=>t.variants.find(w=>w.variantColor.id===i?.id&&w.variantSize.id===r?.id)?.inventory??0;T.useEffect(()=>{const b=u();if(!i||!r){c(1);return}c(w=>w>b?b>0?b:1:w)},[i,r]);const d=i&&r,f=t.variants.reduce((b,w)=>b+w.inventory,0),p=u(),g=T.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantColor.id,w.variantColor)),[...b.values()]},[t]),x=T.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantSize.id,w.variantSize)),[...b.values()]},[t]),v=()=>{const b=t.category.categoryName?.toUpperCase()||"";return b.includes("giy")||b.includes("dp")?oN:cN};return o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:" Quay li"}),o.jsxs("div",{className:"flex gap-[2rem] w-full max-h-[55rem] overflow-y-auto hide-scrollbar",children:[o.jsx("div",{className:"w-[30rem] h-[30rem] rounded-xl ",children:o.jsx("img",{src:t.mainImage,alt:`imgage-${t.productName}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800 font-bold",children:t.productName}),o.jsxs("div",{className:"flex items-center gap-[.1rem] mt-[1rem]",children:[o.jsx(F,{icon:ps,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ps,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ps,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ps,className:"text-[1rem] text-amber-400"}),o.jsx(F,{icon:ps,className:"text-[1rem] text-amber-400"})]}),o.jsxs("div",{className:"mt-[1rem] flex items-center gap-[.5rem]",children:[o.jsx("span",{className:"text-gray-600",children:"Gi gc"}),o.jsx("span",{className:"text-green-600 text-[2rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.price)})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("span",{className:"block text-gray-600",children:"Chn mu:"}),o.jsx("div",{className:"flex items-center gap-[1rem] w-full flex-wrap mt-[.5rem]",children:g.map(b=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${i?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>a(b),children:[o.jsx(F,{icon:v(),className:"bg-gray-100 p-[.2rem]",style:{color:b.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:b.name})]},b.id))}),o.jsx("span",{className:"block text-gray-600 mt-[2rem]",children:"Chn size:"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap mt-[.5rem]",children:x?.map(b=>{const w=i?t.variants.find(S=>S.variantColor.id===i.id&&S.variantSize.id===b?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[2rem] py-[.6rem] border rounded-[.5rem] ${w?r?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!w,onClick:()=>s(b),children:o.jsx("span",{className:"text-[1.4rem]",children:b.name})},b.id)})}),o.jsxs("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:[o.jsx("span",{className:"block text-gray-600 ",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{i&&r&&c(b=>Math.max(1,b-1))},children:o.jsx(F,{icon:_l,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:l,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!d,onChange:b=>c(Number(b.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{r&&i&&c(b=>Math.min(Number(t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r?.id)?.inventory),Number(b)+1))},children:o.jsx(F,{icon:ua,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 uppercase select-none",children:d?`Cn ${p} sn phm`:f>0?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex justify-end items-center mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:e,children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",onClick:()=>{if(!i||!r){ue.error("Vui lng chn mu sc v size!");return}const b=t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r.id);if(!b){ue.error("Sn phm khng tn ti trong kho!");return}n({productId:t.id,variantId:b.id,quantity:l,price:b.price??t.price})},children:"Chn"})]})]})]})]})}function bye({open:t,onClose:e,refetch:n}){const{register:r,handleSubmit:s,control:i,setValue:a,watch:l,formState:{errors:c,isSubmitting:u},reset:d}=Bs({resolver:mF(Spe),defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerProvince:"",customerDistrict:"",customerWard:"",customerNote:"",paymentMethod:Kr.COD,couponCode:"",orderItems:[]},mode:"onSubmit",reValidateMode:"onChange"}),{data:f}=Fe({queryKey:["province"],queryFn:hj}),[p,g]=T.useState({page:1,limit:20,productName:"",categoryId:void 0}),{data:x}=Fe({queryKey:["products",p],queryFn:zN}),[v,b]=T.useState(!1),w=l("customerProvince"),S=l("customerDistrict"),j=l("orderItems"),C=f?.find(R=>R.name===w)?.districts??[],P=C.find(R=>R.name===S)?.wards??[],E=f?.map(R=>({value:R.name,label:R.name})),D=C?.map(R=>({value:R.name,label:R.name})),L=P?.map(R=>({value:R.name,label:R.name})),z=j.reduce((R,$)=>{const V=x?.find(B=>B.id===$.productId),X=V?.variants.find(B=>B.id===$.variantId)?.price??V?.price??0;return R+X*$.quantity},0),G=async R=>{try{const $=await ge.post("/api/v1/orders/create",R);$.status?(ue.success($.message||"To n hng thnh cng"),await n(),e()):ue.error($.message||"To n hng tht bi")}catch($){console.log($),ue.error($.message||"Li khng th t hng! ")}},H=(R,$)=>{const V=[...j],K=V[R];$==="decre"?K.quantity>1&&(K.quantity-=1):K.quantity+=1,a("orderItems",V,{shouldValidate:!0,shouldDirty:!0})},W=R=>{const $=j.filter((V,K)=>K!==R);a("orderItems",$,{shouldValidate:!0,shouldDirty:!0})};return o.jsxs(bt,{open:t,className:"relative w-[80%] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e(),d()},children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[3rem]",children:"To n hng"}),o.jsxs("form",{onSubmit:s(G),children:[o.jsxs("div",{className:"flex max-h-[55rem] overflow-auto",children:[o.jsxs("div",{className:"w-[45%] pr-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin sn phm"}),o.jsx("label",{className:"text-gray-600",children:"Thm sn phm"}),o.jsxs("div",{className:"w-full h-[10rem] mt-[.5rem] flex flex-col items-center justify-center border-[.3rem] border-gray-300 border-dashed rounded-xl text-gray-600 cursor-pointer",onClick:()=>b(!0),children:[o.jsx(F,{icon:Qr,className:"text-[2rem] text-gray-500"}),o.jsx("span",{children:"Thm sn phm"})]}),c.orderItems&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.orderItems.message}),o.jsxs("label",{className:"block text-gray-600 mt-[2rem]",children:["Sn phm  chn (",j.length,")"]}),j.length===0&&o.jsx("div",{className:"p-[1.5rem] text-gray-500 text-center",children:"Cha c sn phm no"}),o.jsx("div",{className:"mt-[1rem] w-full max-h-[30rem] overflow-x-auto",children:o.jsx("div",{className:"min-w-[48rem] space-y-2",children:j.map((R,$)=>{const V=x.find(B=>B.id===R.productId),K=V.variants.find(B=>B.id===R.variantId),X=K?.price??V.price;return o.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border border-gray-300 rounded-xl bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[18rem]",children:[o.jsx("img",{src:V.mainImage,alt:`main image ${V.productName}`,className:"w-[4rem] h-[4rem] rounded-md object-cover"}),o.jsxs("div",{className:"max-w-[15rem]",children:[o.jsx("h5",{className:"text-gray-800 text-[1.4rem] text-limit-1",children:V.productName}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] border-r border-gray-500",children:["Size: ",K?.variantSize.name]}),o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] pl-[.5rem]",children:["Mu: ",K?.variantColor.name]})]}),o.jsx("span",{className:"text-[1.2rem] text-green-800 ",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(X)})]})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] min-w-[8rem]",children:[o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>H($,"decre"),children:o.jsx(F,{icon:_l,className:"text-[1rem]"})}),o.jsx("input",{type:"number",id:`quantity-${$}`,name:`quantity-${$}`,value:R.quantity,className:"w-[3.5rem] h-[2.5rem] rounded-lg border border-gray-300 outline-none text-[1rem] pl-[.5rem]"}),o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>H($,"incre"),children:o.jsx(F,{icon:ua,className:"text-[1rem]"})})]}),o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[8rem]",children:[o.jsx("span",{className:"text-[1.4rem] select-none",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(X*R.quantity)}),o.jsx("button",{type:"button",className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg bg-red-100 cursor-pointer",onClick:()=>W($),children:o.jsx(F,{icon:Tu,className:"text-[1.2rem] text-red-400"})})]})]},$)})})}),o.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm p-6 mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(z)})]}),o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium block mb-3",children:"M gim gi:"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"text",id:"couponCode",placeholder:"Nhp m gim gi",className:"flex-1 h-[4rem] px-4 outline-none border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),o.jsx("button",{type:"button",className:"w-28 h-[4rem] text-[1.4rem] font-medium rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transition-all shadow-sm hover:shadow-md",children:"p dng"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-3 mt-2",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Gim gi:"}),o.jsx("span",{className:"text-red-500 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"py-3 border-t border-gray-200 mt-4 pt-4",children:[o.jsx("h4",{className:"text-[1.4rem] text-gray-800 font-bold mb-2",children:"Phng thc thanh ton"}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs",children:""})}),o.jsx("p",{className:"text-[1.4rem]",children:"Thanh ton khi nhn hng (COD)"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-gray-200 mt-4 pt-4 bg-gray-50 -mx-6 px-6 rounded-b-xl",children:[o.jsx("span",{className:"text-gray-800 font-bold text-[1.8rem]",children:"Tng thanh ton:"}),o.jsx("span",{className:"text-green-600 font-bold text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(z)})]})]})]}),o.jsxs("div",{className:"w-[55%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerName",className:"text-gray-600",children:"Tn khch hng"}),o.jsx("input",{type:"text",id:"customerName",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerName")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email khch hng"}),o.jsx("input",{type:"email",id:"customerEmail",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem]  focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerEmail")}),c.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerEmail.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",id:"customerPhone",placeholder:"St khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerPhone")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]})}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem]  mt-[.5rem]",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(fi,{control:i,name:"customerProvince",render:({field:R})=>o.jsx(sa,{...R,options:E,placeholder:"Tnh...",isSearchable:!0,value:E?.find($=>$.value===R.value)||null,onChange:$=>{R.onChange($?.value),a("customerDistrict",""),a("customerWard","")},styles:{control:($,V)=>({...$,height:"4rem"})},theme:$=>({...$,colors:{...$.colors,primary:"cyan"}})})}),c.customerProvince&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerProvince.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(fi,{control:i,name:"customerDistrict",render:({field:R})=>o.jsx(sa,{...R,options:D,placeholder:"Huyn...",isSearchable:!0,value:D?.find($=>$.value===R.value)||null,onChange:$=>{R.onChange($?.value),a("customerWard","")},styles:{control:$=>({...$,height:"4rem"})},theme:$=>({...$,colors:{...$.colors,primary:"cyan"}})})}),c.customerDistrict&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerDistrict.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(fi,{control:i,name:"customerWard",render:({field:R})=>o.jsx(sa,{...R,options:L,placeholder:"Phng...",isSearchable:!0,value:L?.find($=>$.value===R.value)||null,onChange:$=>{R.onChange($?.value)},styles:{control:$=>({...$,height:"4rem"})},theme:$=>({...$,colors:{...$.colors,primary:"cyan"}})})}),c.customerWard&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerWard.message})]})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"customerAddress",className:"text-gray-600",children:"Tn ng / x / s nh"}),o.jsx("input",{type:"text",id:"customerAddress",placeholder:"...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerAddress")}),c.customerAddress&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerAddress.message})]}),o.jsx("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerNote",className:"text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{id:"customerNote",placeholder:"Ghi ch...",rows:3,className:"w-full rounded-lg border border-gray-300 outline-none px-[1.5rem] pt-[.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerNote")}),c.customerNote&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerNote.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e(),d()},disabled:u,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:u,children:u?"ang to...":"To"})]})]}),o.jsx(xye,{openModalProduct:v,setOpenModalProduct:b,selectorderItems:j,products:x,setFilterProduct:g,setValue:a})]})}const Bn=t=>({[Le.PENDING]:{text:"Ch xc nhn",bgColor:"bg-amber-100",textColor:"text-amber-600",borderColor:"border-amber-200"},[Le.CONFIRMED]:{text:" xc nhn",bgColor:"bg-blue-100",textColor:"text-blue-600",borderColor:"border-blue-200"},[Le.SHIPPING]:{text:"ang giao",bgColor:"bg-indigo-100",textColor:"text-indigo-600",borderColor:"border-indigo-200"},[Le.DELIVERED]:{text:" giao",bgColor:"bg-emerald-100",textColor:"text-emerald-600",borderColor:"border-emerald-200"},[Le.COMPLETED]:{text:"Hon thnh",bgColor:"bg-green-100",textColor:"text-green-600",borderColor:"border-green-200"},[Le.CANCELLED]:{text:" hy",bgColor:"bg-red-100",textColor:"text-red-600",borderColor:"border-red-200"}})[t]||{text:t,bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-200"};function r7({open:t,onClose:e,orderData:n,refetch:r}){const[s,i]=T.useState(null),[a,l]=T.useState(!1);T.useEffect(()=>{n&&i(n.status)},[n]);const c=async()=>{if(!n?.id){ue.error("Khng c id ca sn phm");return}l(!0);try{const u=await ge.patch(`/api/v1/orders/update-status/${n?.id}`,{status:s});u.status?(ue.success(u.message||"Cp nht thnh cng!"),await r(),e()):(ue.error(u.message||"Cp nht khng thnh cng!"),e())}catch(u){console.log(u),e(),ue.error(u.message||"Li khng th cp nht trng thi!")}finally{l(!1)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-amber-600 text-center font-semibold mb-[2rem]",children:"Cp nht trng thi"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Trng thi n hng"}),o.jsx("select",{name:"status",id:"status",value:s??void 0,className:"w-full h-[4rem] rounded-lg border border-gray-300 mt-[.5rem] outline-none pl-[1.5rem] text-gray-600",onChange:u=>i(u.target.value),children:Object.entries(Le).map(([u,d])=>o.jsx("option",{value:d,children:Bn(d).text},u))})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:a,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:a,onClick:()=>c(),children:a?"ang cp nht...":"Cp nht"})]})]})}var ng={exports:{}},vye=ng.exports,wA;function wye(){return wA||(wA=1,(function(t,e){(function(n,r){t.exports=r(bu())})(typeof self<"u"?self:vye,function(n){return(function(){var r={155:function(S){S.exports=n}},s={};function i(S){var j=s[S];if(j!==void 0)return j.exports;var M=s[S]={exports:{}};return r[S](M,M.exports,i),M.exports}i.d=function(S,j){for(var M in j)i.o(j,M)&&!i.o(S,M)&&Object.defineProperty(S,M,{enumerable:!0,get:j[M]})},i.o=function(S,j){return Object.prototype.hasOwnProperty.call(S,j)},i.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{useReactToPrint:function(){return w}});var l=i(155);const c="printWindow";function u({level:S="error",messages:j,suppressErrors:M=!1}){M||(S==="error"?console.error(j):S==="warning"?console.warn(j):console.debug(j))}function d(S,j){if(j||!S){const M=document.getElementById(c);M&&document.body.removeChild(M)}}function f(S){return S instanceof Error?S:new Error("Unknown Error")}function p(S,j){const{documentTitle:M,onAfterPrint:C,onPrintError:A,preserveAfterPrint:P,print:E,suppressErrors:D}=j;setTimeout(()=>{var L,_;if(S.contentWindow){let G=function(){C?.(),d(P)};var z=G;if(S.contentWindow.focus(),E)E(S).then(G).catch(H=>{A?A("print",f(H)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:D})});else{if(S.contentWindow.print){const H=(_=(L=S.contentDocument)===null||L===void 0?void 0:L.title)!==null&&_!==void 0?_:"",W=S.ownerDocument.title;M&&(S.ownerDocument.title=M,S.contentDocument&&(S.contentDocument.title=M)),S.contentWindow.print(),M&&(S.ownerDocument.title=W,S.contentDocument&&(S.contentDocument.title=H))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:D});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(H=>{var W,R;return((R=(W=navigator.userAgent)!==null&&W!==void 0?W:navigator.vendor)!==null&&R!==void 0?R:"opera"in window&&window.opera).match(H)})?setTimeout(G,500):G()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:D})},500)}function g(S){const j=[],M=document.createTreeWalker(S,NodeFilter.SHOW_ELEMENT,null);let C=M.nextNode();for(;C;)j.push(C),C=M.nextNode();return j}function x(S,j,M){const C=g(S),A=g(j);if(C.length===A.length)for(let P=0;P<C.length;P++){const E=C[P],D=A[P],L=E.shadowRoot;if(L!==null){const _=D.attachShadow({mode:L.mode});_.innerHTML=L.innerHTML,x(L,_,M)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",S,j],suppressErrors:M})}const v=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(S,j,M,C){var A,P,E,D,L;const{contentNode:_,clonedContentNode:z,clonedImgNodes:G,clonedVideoNodes:H,numResourcesToLoad:W,originalCanvasNodes:R}=M,{bodyClass:$,fonts:V,ignoreGlobalStyles:K,pageStyle:X,nonce:B,suppressErrors:J,copyShadowRoots:ne}=C;S.onload=null;const se=(A=S.contentDocument)!==null&&A!==void 0?A:(P=S.contentWindow)===null||P===void 0?void 0:P.document;if(se){const fe=se.body.appendChild(z);ne&&x(_,fe,!!J),V&&(!((E=S.contentDocument)===null||E===void 0)&&E.fonts&&(!((D=S.contentWindow)===null||D===void 0)&&D.FontFace)?V.forEach(Ne=>{const ve=new FontFace(Ne.family,Ne.source,{weight:Ne.weight,style:Ne.style});S.contentDocument.fonts.add(ve),ve.loaded.then(()=>{j(ve)}).catch(Oe=>{j(ve,["Failed loading the font:",ve,"Load error:",f(Oe)])})}):(V.forEach(Ne=>{j(Ne)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:J})));const Te=X??v,le=se.createElement("style");B&&(le.setAttribute("nonce",B),se.head.setAttribute("nonce",B)),le.appendChild(se.createTextNode(Te)),se.head.appendChild(le),$&&se.body.classList.add(...$.split(" "));const ee=se.querySelectorAll("canvas");for(let Ne=0;Ne<R.length;++Ne){const ve=R[Ne],Oe=ee[Ne];if(Oe===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",ve],suppressErrors:J});continue}const Ye=Oe.getContext("2d");Ye&&Ye.drawImage(ve,0,0)}for(let Ne=0;Ne<G.length;Ne++){const ve=G[Ne],Oe=ve.getAttribute("src");if(Oe){const Ye=new Image;Ye.onload=()=>{j(ve)},Ye.onerror=(gt,Rt,gr,xn,q)=>{j(ve,["Error loading <img>",ve,"Error",q])},Ye.src=Oe}else j(ve,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',ve])}for(let Ne=0;Ne<H.length;Ne++){const ve=H[Ne];ve.preload="auto";const Oe=ve.getAttribute("poster");if(Oe){const Ye=new Image;Ye.onload=()=>{j(ve)},Ye.onerror=(gt,Rt,gr,xn,q)=>{j(ve,["Error loading video poster",Oe,"for video",ve,"Error:",q])},Ye.src=Oe}else ve.readyState>=2?j(ve):ve.src?(ve.onloadeddata=()=>{j(ve)},ve.onerror=(Ye,gt,Rt,gr,xn)=>{j(ve,["Error loading video",ve,"Error",xn])},ve.onstalled=()=>{j(ve,["Loading video stalled, skipping",ve])}):j(ve,["Error loading video, `src` is empty",ve])}const ie="select",he=_.querySelectorAll(ie),ke=se.querySelectorAll(ie);for(let Ne=0;Ne<he.length;Ne++)ke[Ne].value=he[Ne].value;if(!K){const Ne=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let ve=0,Oe=Ne.length;ve<Oe;++ve){const Ye=Ne[ve];if(Ye.tagName.toLowerCase()==="style"){const gt=se.createElement(Ye.tagName),Rt=Ye.sheet;if(Rt){let gr="";try{const xn=Rt.cssRules.length;for(let q=0;q<xn;++q)typeof Rt.cssRules[q].cssText=="string"&&(gr+=`${Rt.cssRules[q].cssText}\r
`)}catch(xn){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ye,`Original error: ${f(xn).message}`],level:"warning"})}gt.setAttribute("id",`react-to-print-${ve}`),B&&gt.setAttribute("nonce",B),gt.appendChild(se.createTextNode(gr)),se.head.appendChild(gt)}}else if(Ye.getAttribute("href"))if(Ye.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ye],level:"warning"}),j(Ye);else{const gt=se.createElement(Ye.tagName);for(let Rt=0,gr=Ye.attributes.length;Rt<gr;++Rt){const xn=Ye.attributes[Rt];xn&&gt.setAttribute(xn.nodeName,(L=xn.nodeValue)!==null&&L!==void 0?L:"")}gt.onload=()=>{j(gt)},gt.onerror=(Rt,gr,xn,q,te)=>{j(gt,["Failed to load",gt,"Error:",te])},B&&gt.setAttribute("nonce",B),se.head.appendChild(gt)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ye],level:"warning"}),j(Ye)}}}W===0&&p(S,C)}function w({bodyClass:S,contentRef:j,copyShadowRoots:M,documentTitle:C,fonts:A,ignoreGlobalStyles:P,nonce:E,onAfterPrint:D,onBeforePrint:L,onPrintError:_,pageStyle:z,preserveAfterPrint:G,print:H,printIframeProps:W,suppressErrors:R}){return(0,l.useCallback)(V=>{function K(){const X={bodyClass:S,contentRef:j,copyShadowRoots:M,documentTitle:C,fonts:A,ignoreGlobalStyles:P,nonce:E,onAfterPrint:D,onPrintError:_,pageStyle:z,preserveAfterPrint:G,print:H,suppressErrors:R},B=(function(se){const fe=document.createElement("iframe");return fe.width=`${document.documentElement.clientWidth}px`,fe.height=`${document.documentElement.clientHeight}px`,fe.style.position="absolute",fe.style.top=`-${document.documentElement.clientHeight+100}px`,fe.style.left=`-${document.documentElement.clientWidth+100}px`,fe.id=c,fe.srcdoc="<!DOCTYPE html>",se&&(se.allow&&(fe.allow=se.allow),se.referrerPolicy!==void 0&&(fe.referrerPolicy=se.referrerPolicy),se.sandbox!==void 0&&(fe.sandbox=se.sandbox)),fe})(W),J=(function(se,fe){const{contentRef:Te,fonts:le,ignoreGlobalStyles:ee,suppressErrors:ie}=fe,he=(function({contentRef:gt,optionalContent:Rt,suppressErrors:gr}){return Rt&&typeof Rt=="function"?(gt&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Rt()):gt?gt.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:gr})})({contentRef:Te,optionalContent:se,suppressErrors:ie});if(!he)return;const ke=he.cloneNode(!0),Ne=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ve=ke.querySelectorAll("img"),Oe=ke.querySelectorAll("video"),Ye=le?le.length:0;return{contentNode:he,clonedContentNode:ke,clonedImgNodes:ve,clonedVideoNodes:Oe,numResourcesToLoad:(ee?0:Ne.length)+ve.length+Oe.length+Ye,originalCanvasNodes:he.querySelectorAll("canvas")}})(V,X);if(!J)return void u({messages:["There is nothing to print"],suppressErrors:R});const ne=(function(se,fe,Te){const{suppressErrors:le}=se,ee=[],ie=[];return function(he,ke){ee.includes(he)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",he],suppressErrors:le}):(ke?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...ke],suppressErrors:le}),ie.push(he)):ee.push(he),ee.length+ie.length===fe&&p(Te,se))}})(X,J.numResourcesToLoad,B);(function(se,fe,Te,le){se.onload=()=>{b(se,fe,Te,le)},document.body.appendChild(se)})(B,ne,J,X)}d(G,!0),L?L().then(()=>{K()}).catch(X=>{_?.("onBeforePrint",f(X))}):K()},[S,j,M,C,A,P,E,D,L,_,z,G,H,R])}return a})()})})(ng)),ng.exports}var Nye=wye();const s7=be.forwardRef(({order:t},e)=>{const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=t.orderItems?.reduce((i,a)=>{const l=a.variant?.price!==null&&a.variant?.price!==void 0?a.variant.price:a.variant?.product?.price||0;return i+l*a.quantity},0)||0;return o.jsxs("div",{ref:e,style:{padding:"2rem"},className:"print-container",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-[2.2rem] font-bold mb-2",children:"NTK.SHOP"}),o.jsx("p",{className:"text-gray-700 mb-1",children:"phng L Bnh, Qun Ci Rng, TP. Cn Th"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"T: 0357 124 853"}),o.jsx("h2",{className:"text-[2.2rem] font-bold",children:"HA N THANH TON"})]}),o.jsxs("div",{className:"flex justify-between items-start mt-[4rem] mb-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy in:"}),o.jsx("span",{className:"font-semibold",children:r(new Date().toISOString())})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Khch hng:"}),o.jsx("span",{className:"font-semibold",children:t.customerName||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Email:"}),o.jsx("span",{className:"font-semibold",children:t.customerEmail||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"S in thoi:"}),o.jsx("span",{className:"font-semibold",children:t.customerPhone||"N/A"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy t hng:"}),o.jsx("span",{className:"font-semibold",children:t.createdAt?r(t.createdAt):"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"M n hng:"}),o.jsx("span",{className:"font-semibold",children:t.orderCode||"N/A"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{children:"a ch giao hng:"}),o.jsxs("span",{className:"font-semibold max-w-[20rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx("p",{className:"font-semibold text-gray-700",children:"Thng tin sn phm:"})}),o.jsxs("table",{className:"w-full border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Mt hng"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(i=>{const a=i.variant?.product,l=i.variant?.price!==null&&i.variant?.price!==void 0?i.variant.price:a?.price||0,c=l*i.quantity;return o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:o.jsxs("div",{className:"max-w-[30rem]",children:[o.jsx("p",{className:"font-medium text-gray-900",children:a?.productName||"Sn phm khng xc nh"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsxs("span",{className:"text-gray-600 pr-[.5rem] mr-[.5rem] border-r border-gray-400",children:["Size: ",i.variant?.variantSize?.name||"N/A"]}),o.jsxs("span",{className:"text-gray-600",children:["Color: ",i.variant?.variantColor?.name||"N/A"]})]})]})}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:n(l)}),o.jsxs("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:["x",i.quantity]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:n(c)})]},i.id)})})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsxs("div",{className:"w-80 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"font-medium",children:n(s)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"font-medium",children:n(0)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Gim gi:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-",n(0)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-300",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold",children:n(s)})]})]})}),o.jsxs("div",{className:"mt-12 text-center space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-300",children:[o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi mua hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi bn hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]})]}),o.jsx("p",{className:"text-gray-700 italic mt-8",children:"Cm n qu khch  mua hng ti NTK.SHOP!"})]})]})});s7.displayName="InvoicePrint";const NA=[{key:Le.PENDING,label:"Ch xc nhn",desc:"n hng ang ch xc nhn",icon:jh,color:"bg-blue-500"},{key:Le.CONFIRMED,label:" xc nhn",desc:"n hng ang c chun b",icon:lN,color:"bg-orange-500"},{key:Le.SHIPPING,label:"ang giao hng",desc:"n hng ang c vn chuyn",icon:Y0,color:"bg-purple-500"},{key:Le.COMPLETED,label:" giao hng",desc:"n hng  c giao thnh cng",icon:iu,color:"bg-green-500"}];function Sye({orderDetail:t,setOrderDetail:e,refetch:n}){const[r,s]=T.useState({open:!1,data:null}),i=T.useRef(null),[a,l]=T.useState({shippingProvider:"",trackingNumber:"",shippingNote:""}),[c,u]=T.useState(null),[d,f]=T.useState(!0),p=Nye.useReactToPrint({contentRef:i,documentTitle:`n hng #${t.orderCode}`});T.useEffect(()=>{console.log(t),t.shippingProvider&&t.trackingNumber&&(l({shippingProvider:t.shippingProvider||"",shippingNote:t.shippingNote||"",trackingNumber:t.trackingNumber||""}),f(!1))},[t]),console.log(d);const g=b=>{const{name:w,value:S}=b.target;l(j=>({...j,[w]:S}))},x=async()=>{try{if(a.shippingProvider===""){u("Vui lng chn nh vn chuyn!");return}if(a.trackingNumber===""){u("Vui lng nhp m n vn!");return}const b=await ge.patch(`/api/v1/orders/update-shipping/${t.id}`,a);b.status&&(ue.success(b.message),f(!1))}catch(b){console.log(b),ue.error(b.message)}},v=t.orderItems.reduce((b,w)=>b+w.price*w.quantity,0);return o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-start border-b-[.1rem] border-b-gray-300 pb-[2rem] mb-[2rem]",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-[2rem] font-semibold text-gray-600 mb-2",children:["Chi tit n hng #",t.orderCode]}),o.jsxs("button",{onClick:()=>e(null),className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 hover-linear cursor-pointer",children:[o.jsx(F,{icon:yi}),o.jsx("span",{children:"Quay li danh sch"})]})]}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsx("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-[1.4rem] font-medium ${Bn(t.status).bgColor} ${Bn(t.status).textColor}`,children:Bn(t.status).text})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[o.jsxs("div",{className:"col-span-2 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin giao hng"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ngi nhn:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:t.customerName})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"S in thoi:"}),o.jsx("span",{className:"text-gray-800",children:t.customerPhone})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Email:"}),o.jsx("span",{className:"text-gray-800",children:t.customerEmail})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"a ch:"}),o.jsxs("span",{className:"text-gray-800 flex-1",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]}),t.customerNote&&o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ghi ch:"}),o.jsx("span",{className:"text-gray-800 flex-1 italic",children:t.customerNote})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin vn chuyn"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-start gap-[2rem] space-y-2.5",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingProvider",children:"Nh vn chuyn"}),o.jsxs("select",{name:"shippingProvider",id:"shippingProvider",value:a.shippingProvider,className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",onChange:b=>g(b),disabled:!d,children:[o.jsx("option",{value:"",children:"-Chn nh vn chuyn-"}),Object.entries(aP).map(([b,w],S)=>o.jsx("option",{value:b,children:w.text},S))]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"trackingNumber",children:"M vn n"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"trackingNumber",name:"trackingNumber",value:a.trackingNumber,placeholder:"Nhp m vn n...",onChange:b=>g(b),disabled:!d})]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingNote",children:"Ghi ch vn chuyn"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"shippingNote",name:"shippingNote",value:a.shippingNote,placeholder:"Ghi ch vn chuyn...",onChange:b=>g(b),disabled:!d})]}),c&&o.jsx("p",{className:"text-red-500",children:c}),t.shippingProvider&&t.trackingNumber?o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==Le.COMPLETED&&o.jsx(o.Fragment,{children:d?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-white px-6 py-3 bg-green-500 rounded-lg hover:bg-green-600",onClick:x,children:"Lu thay i"}),o.jsx("button",{className:"text-gray-600 px-6 py-3 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>f(!1),children:"Hy"})]}):o.jsxs("button",{className:"text-white px-4 py-3 bg-amber-500 rounded-lg hover:bg-amber-600 flex items-center gap-2",onClick:()=>f(!0),children:[o.jsx(F,{icon:$s}),"Chnh sa"]})})}):o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==Le.COMPLETED&&o.jsx("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>x(),children:"Cp nht vn chuyn"})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 px-[2rem] py-[1.5rem] border-b border-gray-200",children:"Sn phm t mua"}),o.jsx("div",{className:"p-[2rem]",children:o.jsxs("table",{className:"w-full text-[1.4rem]",children:[o.jsx("thead",{className:"border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left pb-3 text-gray-600 font-semibold",children:"Sn phm"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-right pb-3 text-gray-600 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(b=>{const w=b.variant.product;return o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("td",{className:"py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx("img",{src:w.mainImage||"/placeholder.jpg",alt:w.productName,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"max-w-[20rem]",children:[o.jsx("div",{className:"font-medium text-gray-800 text-limit-1",children:w.productName}),o.jsxs("div",{className:"flex items-center text-gray-500",children:[o.jsxs("span",{className:"text-[1.2rem]",children:["Size:",b.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] pl-[1rem] ml-[1rem] border-l border-l-gray-500",children:["Mu:",b.variant.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center text-gray-600",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b.price)}),o.jsxs("td",{className:"text-center text-gray-600",children:["x",b.quantity]}),o.jsx("td",{className:"text-right font-semibold text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(b.price)*Number(b.quantity))})]},b.id)})})]})})]})]}),o.jsxs("div",{className:"space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-[1.2rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800",children:v})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.shippingFee)})]}),t.couponCode&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsxs("span",{children:["M gim gi (",t.couponCode,"):"]}),o.jsx("span",{children:"-0"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem] flex justify-between",children:[o.jsx("span",{className:"font-semibold text-gray-700 text-[1.5rem]",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.8rem] text-[var(--main-button)]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.totalAmount)})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem]",children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Phng thc thanh ton:"}),o.jsx("div",{className:"font-semibold text-gray-800",children:$w[t.paymentMethod].text})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Lch s n hng"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-[1.5rem] top-0 bottom-0 w-[2px] bg-gray-200"}),o.jsx("div",{className:"space-y-[2rem]",children:NA.map((b,w)=>{const S=NA.findIndex(j=>j.key===t.status)>=w;return o.jsxs("div",{className:"flex gap-[1.5rem] relative items-start",children:[o.jsx("div",{className:`w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${S?`${b.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:b.icon,className:"text-white text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:b.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:b.desc})]})]},b.key)})})]})]}),o.jsxs("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:[t.status!==Le.COMPLETED&&o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>s({open:!0,data:t}),children:[o.jsx(F,{icon:Ns}),"Cp nht"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear",onClick:()=>p(),children:[o.jsx(F,{icon:XK}),"In n"]})]})]})]}),o.jsx(r7,{open:r.open,orderData:r.data,onClose:()=>s({open:!1,data:null}),refetch:n}),o.jsx("div",{style:{display:"none"},children:o.jsx(s7,{order:t,ref:i})})]})}function jye({open:t,orderId:e,onClose:n,refetch:r}){const[s,i]=T.useState(!1),a=async()=>{if(!e){ue.error("Khng c id ca sn phm!");return}i(!0);try{const l=await ge.delete(`/api/v1/orders/delete-order/${e}`);l.status?(ue.success(l.message||"Xa n thnh cng!"),await r(),n()):(ue.error(l.message||"Xa n khng thnh cng!"),n())}catch(l){console.log(l),n(),ue.error(l.message||"Li khng th xa n hng!")}finally{i(!1)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>n(),children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun xa n hng ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{n()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":"Xa"})]})]})}function Cye(){const[t,e]=T.useState(null),n=T.useRef(null),[r,s]=T.useState(null),[i,a]=T.useState(null),[l,c]=T.useState({open:!1,data:null}),[u,d]=T.useState({searchOrder:"",status:""}),[f,p]=T.useState({...u,limit:10,page:1}),{data:g,isLoading:x,refetch:v}=Fe({queryKey:["orders",f],queryFn:()=>zme(f)}),b=g&&g.data||[],w=g?.pagination?.totalPages||1,[S,j]=T.useState(!1),M=()=>{p(C=>({...C,searchOrder:u.searchOrder,status:u.status}))};return T.useEffect(()=>{if(t===null)return;const C=A=>{t!==null&&n.current&&!n.current.contains(A.target)&&e(null)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[t]),o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] overflow-y-auto bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"n hng"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear ",children:[o.jsx(F,{icon:wG}),"Export"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear ",onClick:()=>j(!0),children:[o.jsx(F,{icon:ku}),"To n"]})]})]}),r?o.jsx(Sye,{orderDetail:r,setOrderDetail:s,refetch:v}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsxs("div",{className:"w-[28rem] h-[4rem] relative text-[1.4rem]",children:[o.jsx(F,{icon:Dr,className:"absolute left-[2rem] top-[50%] translate-[-50%] text-[1.4rem] text-gray-600"}),o.jsx("input",{type:"text",id:"searchOrder",name:"searchOrder",placeholder:"Nhp tm kim (st, email)...",value:u.searchOrder,className:"w-full h-full border border-gray-300 rounded-xl px-[3.8rem] outline-none",onChange:C=>d(A=>({...A,[C.target.name]:C.target.value}))})]}),o.jsxs("select",{name:"status",id:"status",value:u.status,className:"w-[20rem] h-[4rem] text-[1.4rem] text-gray-600 px-[1.5rem] border border-gray-300 rounded-xl outline-none",onChange:C=>d(A=>({...A,[C.target.name]:C.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"Trng thi n"}),Object.entries(Le).map(([C,A])=>o.jsx("option",{value:A,children:Bn(A).text},C))]}),o.jsxs("button",{className:"w-[8rem] h-[4rem] flex items-center justify-center gap-[.5rem] rounded-xl outline-none bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] hover-linear text-white cursor-pointer text-[1.4rem]",onClick:()=>M(),children:[o.jsx(F,{icon:ws,className:" text-white"}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg mt-[2rem]",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"M n"}),o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Khch hng"}),o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"S in thoi"}),o.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Tng tin"}),o.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):b?.length===0?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-[4rem] text-gray-500",children:"Khng c n hng no"})})}):o.jsx("tbody",{children:b?.map((C,A)=>{const P=C.id===t?.id;return o.jsxs("tr",{children:[o.jsx("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:A+1}),o.jsxs("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:["#",C.orderCode]}),o.jsx("td",{className:"text-left px-6 py-4 text-gray-600 tracking-wide",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-800",children:C.customerName}),o.jsx("div",{className:"text-gray-600 text-[1rem]",children:C.customerEmail})]})}),o.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:C.customerPhone}),o.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C.totalAmount)}),o.jsx("td",{className:"text-center px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-5 py-2 rounded-full text-[1.2rem] font-medium ${Bn(C.status).bgColor} ${Bn(C.status).textColor}`,children:Bn(C.status).text})}),o.jsx("td",{className:"text-center px-6 py-4 text-gray-600 tracking-wide",children:o.jsxs("div",{className:"flex justify-center items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>s(C),children:[o.jsx(F,{icon:Ns}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",ref:n,children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:E=>{E.stopPropagation(),e(P?null:C)},children:o.jsx(F,{icon:qO,className:"text-[1.8rem]"})}),P&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[14rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[o.jsxs("button",{type:"button",className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:E=>{E.stopPropagation(),c({open:!0,data:t}),e(null)},children:[o.jsx(F,{icon:$s,className:"text-amber-600"}),o.jsx("span",{className:"text-amber-600",children:"Cp nht"})]}),C.status===Le.CANCELLED||C.status===Le.PENDING&&o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{a(C.id)},children:[o.jsx(F,{icon:Tu,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa n"})]})]})]})]})})]},C.id)})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>p(C=>({...C,page:Math.max(C.page-1,1)})),disabled:f.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:w},(C,A)=>A+1).filter(C=>Math.abs(C-f.page)<=2).map(C=>o.jsx("button",{onClick:()=>p(A=>({...A,page:C})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${f.page===C?"bg-blue-500 text-white":"bg-gray-200"}`,children:C},C)),o.jsx("button",{onClick:()=>p(C=>({...C,page:Math.min(C.page+1,w)})),disabled:f.page===w,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]})]}),o.jsx(bye,{open:S,onClose:()=>j(!1),refetch:v}),o.jsx(r7,{open:l.open,orderData:l.data,onClose:()=>c({open:!1,data:null}),refetch:v}),o.jsx(jye,{open:i!==null,orderId:i,onClose:()=>a(null),refetch:v})]})}const kye=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await ge.get("/api/v1/staff/get-staffs",{params:e})).data},jj=async()=>(await ge.get("/api/v1/cart/my-cart")).data,i7=async t=>await ge.post("/api/v1/variant/variant-by-ids",{variantIds:t}),Jh={[so.INVENTORY]:"Qun l kho",[so.MANAGER]:"Qun l",[so.SALE]:"Bn hng"};qt.ADMIN+"",qt.STAFF+"",qt.USER+"";const T0={[ci.ACTIVE]:"ang lm vic",[ci.ON_LEAVE]:"Tm ngh",[ci.PROBATION]:"ang th vic",[ci.RESIGNED]:" ngh"},Tye=(t=!1)=>Gh({gender:dn().oneOf(Object.values(sl),"Gii tnh khng hp l").required("Vui lng chn gii tnh"),user:Gh().shape({username:dn().required("Tn ng nhp l bt buc"),email:dn().email("Email khng hp l").required("Email l bt buc"),password:t?dn().notRequired():dn().min(6,"Mt khu phi t 6 k t tr ln").required("Mt khu l bt buc"),phone:dn().matches(/^\d{10,15}$/,"S in thoi khng hp l").required("S in thoi l bt buc"),role:dn().oneOf(Object.values(qt),"Vai tr khng hp l").required("Vai tr l bt buc")}),birthday:dn().required("Ngy sinh l bt buc").test("is-valid-date","Ngy sinh khng hp l",e=>e?new Date(e)<=new Date:!1),salary:Kc().typeError("Lng phi l s").min(1,"Vui lng thm lng").required("Lng l bt buc"),startDate:dn().required("Ngy bt u l bt buc"),position:dn().oneOf(Object.values(so),"V tr khng hp l").required("V tr l bt buc"),avatar:uj().optional().test("fileSize","Dung lng nh ti a 10MB",e=>e?e.size<=10*1024*1024:!0).test("fileType","Ch chp nhn nh dng .jpg, .jpeg, .png",e=>e?["image/jpeg","image/png","image/jpg"].includes(e.type):!0).test("required-on-add","Vui lng chn hnh nh",function(e){return!(!t&&!e)})}).required();function Eye({actionStaff:t,setActionStaff:e,dataUpdate:n,refetch:r}){const{handleSubmit:s,register:i,formState:{errors:a,isSubmitting:l},setValue:c,reset:u}=Bs({resolver:mF(Tye(t.action==="edit")),defaultValues:{user:{username:"",email:"",password:"",phone:"",role:qt.STAFF},gender:sl.MALE,birthday:"",salary:0,startDate:"",position:so.SALE,avatar:void 0},mode:"onSubmit",reValidateMode:"onChange"}),[d,f]=T.useState(null);T.useEffect(()=>{t.open&&(t.action==="add"?(u({user:{username:"",email:"",password:"",phone:"",role:qt.STAFF},gender:sl.MALE,birthday:"",salary:0,startDate:"",position:so.SALE,avatar:void 0}),f(null)):n&&t.action==="edit"&&(u({user:{username:n.user.username,email:n.user.email,phone:n.user.phone,role:n.user.role},gender:n.gender,birthday:n.birthday?new Date(n.birthday).toISOString().split("T")[0]:"",salary:n.salary||0,startDate:n.startDate?new Date(n.startDate).toISOString().split("T")[0]:"",position:n.position}),n.user.avatar&&f(n.user.avatar||null)))},[t.action,t.open,n,u]);const p=v=>{const b=v.target.files?.[0];if(b){c("avatar",b,{shouldValidate:!0});const w=URL.createObjectURL(b);f(w)}},g=async v=>{const b={...v,salary:Number(v.salary),birthday:v.birthday,startDate:new Date(v.startDate).toISOString().split("T")[0]};console.log(b);try{const w=t.action==="add"?"/api/v1/staff/create":`/api/v1/staff/update/${t.data?.id}`;let S=null;t.action==="add"?S=await ge.post(w,b,{headers:{"Content-Type":"multipart/form-data"}}):S=await ge.patch(w,b,{headers:{"Content-Type":"multipart/form-data"}}),S.status&&(ue.success(S.message||`${t?.action==="add"?"Thm":"Cp nht"} nhn vin thnh cng!`),e({open:!1,action:"add",data:null}),u(),await r())}catch(w){console.log(w),ue.error(w.message||`Li khng th ${t?.action==="add"?"thm":"cp nht"} nhn vin`)}},x=()=>{u(),f(null),e({open:!1,data:null,action:"add"})};return o.jsxs(bt,{open:t.open,className:"relative w-[100rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:x,children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[2rem] text-center font-semibold text-green-600",children:t.action==="edit"?"Cp nht nhn vin":"Thm nhn vin"}),o.jsxs("form",{onSubmit:s(g),children:[o.jsxs("div",{className:"w-full max-h-[50rem] overflow-auto hide-scrollbar flex gap-[2.5rem] mt-[4rem]",children:[o.jsxs("div",{className:"w-[25rem] h-auto rounded-xl flex flex-col items-center justify-start",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"nh nhn vin"}),o.jsxs("label",{htmlFor:"avatar",className:`w-[15rem] h-[15rem] flex items-center justify-center rounded-xl border-[.2rem] border-dashed ${d?"border-cyan-500":"border-gray-500"} cursor-pointer`,children:[d?o.jsx("img",{src:d,alt:"avatar",className:"w-full h-full object-cover rounded-xl"}):o.jsx(F,{icon:Qr,className:"text-gray-500 text-[2.2rem]"}),o.jsx("input",{type:"file",className:"hidden",id:"avatar",onChange:p})]}),a.avatar&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem] mt-[.5rem]",children:a.avatar.message})]}),o.jsxs("div",{className:"flex-1 border-l border-l-gray-300 pl-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"Thng tin nhn vin"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"staffName",children:"Tn nhn vin"}),o.jsx("input",{type:"text",id:"staffName",placeholder:"Nhp tn...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.username")}),a.user?.username&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.username.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"Nhp email...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.email")}),a.user?.email&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.email.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[t.action==="add"&&o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"password",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",placeholder:"Nhp mt khu...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.password")}),a.user?.password&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.password.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"phone",children:"S in thoi"}),o.jsx("input",{type:"tel",id:"phone",placeholder:"Nhp s in thoi...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.phone")}),a.user?.phone&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.phone.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"gender",children:"Gii tnh"}),o.jsxs("select",{id:"gender",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("gender"),children:[o.jsx("option",{value:sl.MALE,children:"Nam"}),o.jsx("option",{value:sl.FEMALE,children:"N"})]}),a.gender&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.gender.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"birthday",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("birthday")}),a.birthday&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.birthday.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"salary",children:"Lng"}),o.jsx("input",{type:"number",id:"salary",placeholder:"Nhp lng...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("salary")}),a.salary&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.salary.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"startDate",children:"Ngy bt u"}),o.jsx("input",{type:"date",id:"startDate",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("startDate")}),a.startDate&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.startDate.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"position",children:"V tr"}),o.jsx("select",{id:"position",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("position"),children:Object.entries(Jh).map(([v,b],w)=>o.jsx("option",{value:v,children:b},w))}),a.position&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.position.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",type:"button",onClick:x,disabled:l,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",type:"submit",disabled:l,children:l?"ang x l...":t.action==="edit"?"Cp nht":"Thm"})]})]}),l&&o.jsx(Co,{})]})}function Mye({openDelete:t,setOpenDelete:e,refetch:n}){const[r,s]=T.useState(!1),i=async()=>{try{s(!0);const a=await ge.delete(`/api/v1/staff/delete/${t}`);a.status&&(ue.success(a.message||"Xa nhn vin thnh cng!"),await n(),e(null),s(!1))}catch(a){console.log(a),ue.error(a.message||"Li khng th xa nhn vin!")}finally{s(!1)}};return o.jsxs(bt,{open:!!t,className:"relative bg-white rounded-lg shadow-lg w-[50rem] p-[2.5rem]",children:[o.jsx("button",{className:"absolute top-[1rem] right-[1rem] text-gray-500 hover:text-gray-600 w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>e(null),children:o.jsx(F,{icon:pn})}),o.jsx("div",{className:"mb-6",children:o.jsx("p",{className:"text-gray-600 text-[1.8rem]",children:"Bn c chc chn mun xa nhn vin ny khng?"})}),o.jsxs("div",{className:"flex justify-end gap-[1rem] mt-[3rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e(null),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>i(),children:"Xa"})]}),r&&o.jsx(Co,{})]})}function Aye({staff:t,onClose:e}){if(!t)return null;const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=i=>({MALE:"Nam",FEMALE:"N",OTHER:"Khc"})[i]||i;return o.jsx(bt,{open:!!t,className:"fixed inset-0 flex items-center justify-center z-[300] p-[2rem]",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[90rem] max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"relative bg-gradient-to-r px-[3rem] py-[2rem]",children:[o.jsx("div",{children:o.jsx("h2",{className:"text-[2rem] font-bold text-gray-600 mb-[.5rem]",children:"Thng tin chi tit nhn vin"})}),o.jsx("button",{onClick:e,className:"absolute top-[1rem] right-[1rem] w-[4rem] h-[4rem] bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-600 hover-linear backdrop-blur-sm",children:o.jsx(F,{icon:Un,className:"text-[2rem]"})})]}),o.jsx("div",{className:"overflow-y-auto hide-scrollbar flex-1 px-[3rem] pt-[2rem]",children:o.jsxs("div",{className:"grid grid-cols-12 gap-[2.5rem]",children:[o.jsxs("div",{className:"col-span-4 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-[2.5rem] border border-indigo-100 text-center",children:[o.jsx("div",{className:"w-[16rem] h-[16rem] mx-auto mb-[2rem] rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-[6rem] font-bold shadow-lg",children:t.user?.avatar?o.jsx("img",{src:t.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):t.user?.username?.charAt(0).toUpperCase()||"?"}),o.jsx("h3",{className:"text-[2.2rem] font-bold text-gray-800 mb-[.5rem]",children:t.user?.username||"Cha cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-500 mb-[1.5rem]",children:Jh[t.position]||"Cha cp nht"}),o.jsxs("span",{className:`inline-flex items-center gap-[.8rem] px-[1.6rem] py-[.8rem] rounded-full text-[1.4rem] font-semibold ${t.status===ci.ACTIVE?"bg-green-100 text-green-700":t.status===ci.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[o.jsx(F,{icon:iu}),T0[t.status]||"Cha cp nht"]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2rem] border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"text-[1.4rem] font-semibold text-gray-700 mb-[1.5rem] flex items-center gap-[1rem]",children:[o.jsx(F,{icon:Hb,className:"text-indigo-600"}),"Thng k nhanh"]}),o.jsxs("div",{className:"space-y-[1.2rem]",children:[o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Lng c bn"}),o.jsx("span",{className:"text-[1.5rem] font-bold text-green-600",children:n(t.salary)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Ngy bt u"}),o.jsx("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:r(t.startDate)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem]",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thi gian lm vic"}),o.jsxs("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:[Math.floor((new Date().getTime()-new Date(t.startDate).getTime())/(1e3*60*60*24*30))," ","thng"]})]})]})]})]}),o.jsxs("div",{className:"col-span-8 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:Zs,className:"text-indigo-600"}),"Thng tin c nhn"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:hG,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"M nhn vin"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.staffCode})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Zs,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"H v tn"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.user?.username||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:dG,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"S in thoi"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:t.user?.phone||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:LK,className:"text-[1.8rem] text-red-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Email"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 break-all",children:t.user?.email||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-pink-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:JK,className:"text-[1.8rem] text-pink-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Gii tnh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:s(t.gender)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-yellow-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:jG,className:"text-[1.8rem] text-yellow-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy sinh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.birthday)})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:Hb,className:"text-purple-600"}),"Thng tin cng vic"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Hb,className:"text-[1.8rem] text-indigo-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"V tr"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:Jh[t.position]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:iu,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Trng thi"}),o.jsx("span",{className:`inline-block px-[1.2rem] py-[.6rem] rounded-lg text-[1.4rem] font-semibold ${t.status===ci.ACTIVE?"bg-green-100 text-green-700":t.status===ci.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:T0[t.status]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:Dp,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Lng c bn"}),o.jsx("p",{className:"text-[1.8rem] text-green-600 font-bold",children:n(t.salary)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:zK,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy bt u lm vic"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.startDate)})]})]})]})]}),t.user&&o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:t2,className:"text-orange-600"}),"a ch"]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-orange-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:t2,className:"text-[1.8rem] text-orange-600"})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-[1.4rem] text-gray-900 leading-relaxed",children:t.address||"Cha cp nht a ch"})})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-[2.5rem] border border-gray-200 mb-[2rem]",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(F,{icon:zb,className:"text-gray-600"}),"Thng tin h thng"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:zb,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy to"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.createdAt)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:zb,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.updatedAt)})]})]})]})]})]})]})}),o.jsx("div",{className:"px-[3rem] py-[1rem] bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex justify-end gap-[1.5rem]",children:o.jsx("button",{onClick:e,className:"px-[2rem] py-[.8rem] text-[1.5rem] font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 hover-linear shadow-sm",children:"ng"})})]})})}function Pye(){const[t,e]=T.useState({search:"",status:"",position:"",limit:10,page:1}),[n,r]=T.useState({search:"",status:"",position:"",limit:10,page:1}),[s,i]=T.useState({action:"add",open:!1,data:null}),[a,l]=T.useState(null),c=T.useRef(null),[u,d]=T.useState(null),[f,p]=T.useState(null),{data:g,isLoading:x,refetch:v}=Fe({queryKey:["staffs",t],queryFn:()=>kye(t)});T.useEffect(()=>{if(!a)return;const w=S=>{a!==null&&c.current&&!c.current.contains(S.target)&&l(null)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[a]);const b=()=>{e(w=>({...w,search:n.search,status:n.status,limit:n.limit,page:n.page,position:n.position}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b border-b-gray-300 pb-8",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Danh sch nhn vin"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-[.5rem] items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear",onClick:()=>i({open:!0,data:null,action:"add"}),children:[o.jsx(F,{icon:Qr}),o.jsx("p",{children:"Thm nhn vin"})]})})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsx("input",{type:"text",id:"search",name:"search",value:n.search,placeholder:"Nhp tm kim (tn, st)...",className:"border border-gray-300 w-[36rem] h-[4rem] rounded-lg pl-[1.5rem] outline-none text-gray-600 select-none",onChange:w=>r(S=>({...S,[w.target.name]:w.target.value}))}),o.jsxs("select",{name:"status",id:"status",value:n.status,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(S=>({...S,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"Trng thi"}),Object.entries(T0).map(([w,S])=>o.jsx("option",{value:w,children:S},w))]}),o.jsxs("select",{name:"position",id:"position",value:n.position,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(S=>({...S,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"V tr"}),Object.entries(Jh).map(([w,S])=>o.jsx("option",{value:w,children:S},w))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] h-[4rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white",onClick:()=>b(),children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full border border-gray-300 mt-[2rem] text-[1.4rem] select-none",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"STT"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"H tn"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"in thoi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"V tr"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Trng thi"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):o.jsx("tbody",{children:g.map(w=>o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:w.staffCode}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.username}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.phone}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:Jh[w.position]}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:T0[w.status]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:o.jsxs("div",{className:"flex justify-end items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>p(w),children:[o.jsx(F,{icon:Ns}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",ref:c,children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:()=>l(w),children:o.jsx(F,{icon:qO,className:"text-[1.8rem]"})}),a?.id===w.id&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[12rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{},children:[o.jsx(F,{icon:Ns,className:"text-green-600"}),o.jsx("span",{className:"text-green-600",onClick:()=>{i({open:!0,data:a,action:"edit"}),l(null)},children:"Cp nht"})]}),o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{d(w.id),l(null)},children:[o.jsx(F,{icon:Tu,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa"})]})]})]})]})})]},w.id))})]}),o.jsx(Eye,{actionStaff:s,setActionStaff:i,dataUpdate:s.data,refetch:v}),u&&o.jsx(Mye,{openDelete:u,setOpenDelete:d,refetch:v}),o.jsx(Aye,{staff:f,onClose:()=>p(null)})]})}function Oye(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-2xl mb-6",children:"Oops! Trang bn tm khng tn ti."}),o.jsx(Qe,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function SA({children:t,roles:e,redirectTo:n}){const{user:r,loading:s}=Ct();return s?o.jsx(Co,{}):r?e&&!e?.includes(r?.role)?o.jsx(Gc,{to:"/unauthorized",replace:!0}):o.jsx(o.Fragment,{children:t}):n?o.jsx(Gc,{to:n,replace:!0}):o.jsx(Gc,{to:"/login",replace:!0})}function _ye(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"403"}),o.jsx("p",{className:"text-xl mb-6",children:"Bn khng c quyn truy cp trang ny"}),o.jsx(Qe,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function Dye({children:t}){const{user:e}=Ct();return e&&(e.role===qt.ADMIN||e.role===qt.STAFF)?o.jsx(Gc,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function Iye(){const{register:t}=ju(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:s}}=Bs({defaultValues:{email:"",password:"",phone:"",username:""}}),[i,a]=T.useState(null),l=rt(),[c,u]=T.useState(!1),[d,f]=T.useState(!1),p=async g=>{try{await t({email:g.email,password:g.password,phone:g.phone,username:g.username}),l("/customer/account/profile")}catch(x){console.log(x),ue.error(x.message||"ng k ti khon tht bi!")}};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-orange-300 to-orange-600 rounded-full mx-auto mb-2 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng k"})]}),o.jsxs("form",{onSubmit:n(p),className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"H v tn"}),o.jsx("input",{type:"username",id:"username",placeholder:"username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("username",{required:"H tn khng c b trng"})}),r.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.username.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"your@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("email",{required:"Email khng c b trng",pattern:{value:/^\S+@\S+\.\S+$/,message:"Email khng hp l"}})}),r.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",placeholder:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("password",{required:"Mt khu khng c b trng",minLength:{value:6,message:"Mt khu phi t nht 6 k t"}})}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(F,{icon:Ns,className:"text-gray-600"}):o.jsx(F,{icon:hN,className:"text-gray-600"})})]}),r.password&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.password.message})]}),i&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-[1.2rem] text-red-600",children:i})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block font-medium text-gray-700 mb-2",children:"S in thoi"}),o.jsx("input",{type:"phone",id:"phone",placeholder:"Nhp s in thoi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("phone",{required:"S in thoi khng c b trng",pattern:{value:/^[0-9]{10}$/,message:"S in thoi phi gm 10 ch s"}})}),r.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.phone.message})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition mt-[1.8rem] ${s?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-orange-300 to-orange-600 hover:from-orange-400 hover:to-orange-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:s,children:s?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng k"})]}),o.jsx("div",{className:"mt-6 space-y-3 text-center",children:o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Bn  c ti khon?"," ",o.jsx(Qe,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng nhp"})]})})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>l("/admin/Register"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>u(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),s&&o.jsx(Co,{})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Lye={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M203.7 512.9s0 0 0 0l-37.8 26.7c-7.3 5.2-16.9 5.8-24.9 1.7S128 529 128 520l0-72-32 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120.4 0-91.9 64.9zm64.3-104.1c8.1-5.7 17.8-8.8 27.7-8.8L416 400c26.5 0 48-21.5 48-48l0-224c0-26.5-21.5-48-48-48L96 80c-26.5 0-48 21.5-48 48l0 224c0 26.5 21.5 48 48 48l56 0c10.4 0 19.3 6.6 22.6 15.9 .9 2.5 1.4 5.2 1.4 8.1l0 49.7c32.7-23.1 63.3-44.7 91.9-64.9z"]},a7={prefix:"far",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M171.5 38.8C192.3 4 236.5-10 274 7.6l7.2 3.8C316 32.3 330 76.5 312.4 114l0 0-14.1 30 109.7 0 7.4 .4c36.3 3.7 64.6 34.4 64.6 71.6 0 13.2-3.6 25.4-9.8 36 6.1 10.6 9.7 22.8 9.8 36 0 18.3-6.9 34.8-18 47.5 1.3 5.3 2 10.8 2 16.5 0 25.1-12.9 47-32.2 59.9-1.9 35.5-29.4 64.2-64.4 67.7l-7.4 .4-104.1 0c-18 0-35.9-3.4-52.6-9.9l-7.1-3-.7-.3-6.6-3.2-.7-.3-12.2-6.5c-12.3-6.5-23.3-14.7-32.9-24.1-4.1 26.9-27.3 47.4-55.3 47.4l-32 0c-30.9 0-56-25.1-56-56L0 200c0-30.9 25.1-56 56-56l32 0c10.8 0 20.9 3.1 29.5 8.5l50.1-106.5 .6-1.2 2.7-5 .6-.9zM56 192c-4.4 0-8 3.6-8 8l0 224c0 4.4 3.6 8 8 8l32 0c4.4 0 8-3.6 8-8l0-224c0-4.4-3.6-8-8-8l-32 0zM253.6 51c-14.8-6.9-32.3-1.6-40.7 12l-2.2 4-56.8 120.9c-3.5 7.5-5.5 15.5-6 23.7l-.1 4.2 0 112.9 .2 7.9c2.4 32.7 21.4 62.1 50.7 77.7l11.5 6.1 6.3 3.1c12.4 5.6 25.8 8.5 39.4 8.5l104.1 0 2.4-.1c12.1-1.2 21.6-11.5 21.6-23.9l-.2-2.6c-.1-.9-.2-1.7-.4-2.6-2.7-12.1 4.3-24.2 16-28 9.7-3.1 16.6-12.2 16.6-22.8 0-4.3-1.1-8.2-3.1-11.8-6.3-11.1-2.8-25.2 8-32 6.8-4.3 11.2-11.8 11.2-20.2 0-7.1-3.1-13.5-8.2-18-5.2-4.6-8.2-11.1-8.2-18s3-13.4 8.2-18c5.1-4.5 8.2-10.9 8.2-18l-.1-2.4c-1.1-11.3-10.1-20.3-21.4-21.4l-2.4-.1-147.5 0c-8.2 0-15.8-4.2-20.2-11.1-4.4-6.9-5-15.7-1.5-23.1L269 93.6c7-15 1.4-32.7-12.5-41L253.6 51z"]},Cj={prefix:"far",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M144 128a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zm208 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0zM48 480c0-70.7 57.3-128 128-128l96 0c70.7 0 128 57.3 128 128l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8c0-97.2-78.8-176-176-176l-96 0C78.8 304 0 382.8 0 480l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8z"]},o7={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M288.1-32c9 0 17.3 5.1 21.4 13.1L383 125.3 542.9 150.7c8.9 1.4 16.3 7.7 19.1 16.3s.5 18-5.8 24.4L441.7 305.9 467 465.8c1.4 8.9-2.3 17.9-9.6 23.2s-17 6.1-25 2L288.1 417.6 143.8 491c-8 4.1-17.7 3.3-25-2s-11-14.2-9.6-23.2L134.4 305.9 20 191.4c-6.4-6.4-8.6-15.8-5.8-24.4s10.1-14.9 19.1-16.3l159.9-25.4 73.6-144.2c4.1-8 12.4-13.1 21.4-13.1zm0 76.8L230.3 158c-3.5 6.8-10 11.6-17.6 12.8l-125.5 20 89.8 89.9c5.4 5.4 7.9 13.1 6.7 20.7l-19.8 125.5 113.3-57.6c6.8-3.5 14.9-3.5 21.8 0l113.3 57.6-19.8-125.5c-1.2-7.6 1.3-15.3 6.7-20.7l89.8-89.9-125.5-20c-7.6-1.2-14.1-6-17.6-12.8L288.1 44.8z"]};const jA=[{id:1,icon:Cj,iconColor:"text-blue-500",label:"Ti khon ca ti",path:"account",children:[{id:11,label:"H s",path:"account/profile"},{id:12,label:"a ch",path:"account/address"},{id:13,label:"Thit lp ring",path:"account/privacy"}]},{id:2,icon:lN,iconColor:"text-blue-500",label:"n hng ca ti",path:"order"},{id:3,icon:uN,iconColor:"text-pink-500",label:"Voucher ca ti",path:"my-voucher"},{id:4,icon:Ip,iconColor:"text-red-500",label:"Sn phm yu thch",path:"favorite"}];function Rye(){const{user:t}=Ct(),e=rt(),n=ir(),[r,s]=T.useState([]);T.useEffect(()=>{const l=n.pathname;jA.forEach(c=>{c.children&&c.children.some(d=>l.includes(d.path))&&!r.includes(c.id)&&s(d=>[...d,c.id])})},[n.pathname]);const i=l=>{if(!l.children)return e(l.path);s(c=>c.includes(l.id)?c.filter(u=>u!==l.id):[...c,l.id])},a=l=>n.pathname.includes(l);return o.jsx("div",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] mt-[20rem] md:mt-[1rem]",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-0",children:[o.jsxs("div",{className:"hidden md:block w-full lg:w-[24rem] h-auto py-[1rem] px-[1rem] sm:px-[2rem] bg-white lg:bg-transparent rounded-md lg:rounded-none shadow-md lg:shadow-none",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:t?.avatar?o.jsx("img",{src:t?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Cj,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:t?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600",children:[o.jsx(F,{icon:$s}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsx("nav",{className:"mt-[2rem] sm:mt-[3rem] space-y-2",children:jA.map(l=>o.jsxs("div",{className:"text-gray-800",onClick:()=>i(l),children:[o.jsxs("div",{className:"flex items-center gap-[1rem] cursor-pointer group py-2",children:[o.jsx(F,{icon:l.icon,className:`${l.iconColor} flex-shrink-0`}),o.jsx("span",{className:"group-hover:text-red-500 transition duration-150",children:l.label})]}),o.jsx("div",{className:`mt-[1.2rem] ${r&&r.length>0&&r?.includes(l.id)?"h-auto":"h-[0rem] overflow-hidden"} transition duration-300`,children:l.children&&l.children?.map(c=>{const u=a(c.path);return o.jsxs(Qe,{to:c.path,className:"block pl-[2rem] sm:pl-[3rem] space-y-6 text-start text-gray-600 cursor-pointer group",onClick:d=>d.stopPropagation(),children:[o.jsx("span",{className:`block group-hover:text-red-500 transition duration-150 ${u?"text-red-500":"text-gray-600"}`,children:c.label}),o.jsx("div",{})]},c.id)})})]},l.id))})]}),o.jsx("div",{className:"flex-1 w-full min-h-[calc(100vh-20rem)] bg-white shadow-md mb-[2rem] rounded-md",children:o.jsx(ql,{})})]})})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Fye={prefix:"fab",iconName:"google",icon:[512,512,[],"f1a0","M500 261.8C500 403.3 403.1 504 260 504 122.8 504 12 393.2 12 256S122.8 8 260 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9c-88.3-85.2-252.5-21.2-252.5 118.2 0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9l-140.8 0 0-85.3 236.1 0c2.3 12.7 3.9 24.9 3.9 41.4z"]},zye={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},l7={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},Vye={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]},$ye={prefix:"fab",iconName:"square-facebook",icon:[448,512,["facebook-square"],"f082","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l98.2 0 0-145.8-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 145.8 129 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]};const c7="/manage-sell-client/assets/cart_empty-Clt3I79b.png";function Bye({showCart:t,setShowCart:e}){const{user:n}=Ct(),r=jo(),s=rt(),[i,a]=T.useState([]),[l,c]=T.useState([]),{data:u}=Fe({queryKey:["cart"],queryFn:jj,enabled:!!n});T.useEffect(()=>{if(n)if(u&&u.length>0){const g=u[0].items.map(x=>({id:x.variant.id,product:x.variant.product,variantSize:x.variant.variantSize,variantColor:x.variant.variantColor,price:x.price,quantity:x.quantity,inventory:x.variant.inventory}));a(g)}else a([]);else{const p=n?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(c(p),p.length===0){a([]);return}const g=p.map(v=>v.variantId);(async()=>{try{const v=await i7(g);if(v.status){const b=v.data.map(w=>{const S=p.find(j=>j.variantId===w.id);return{...w,quantity:S.quantity||1}});a(b)}}catch(v){console.log(v),ue.error(v.message)}})()}},[n,u,t]);const d=async(p,g)=>{const x=i.map(w=>w.id===p?{...w,quantity:g==="incre"?Math.min(w.inventory,w.quantity+1):Math.max(1,w.quantity-1)}:w);a(x);const v=x.find(w=>w.id===p).quantity,b={variantId:p,quantity:v};if(n)try{if((await ge.patch("/api/v1/cart-items/update-quantity",b)).status)return}catch(w){ue.error(w.message)}else{const w=l.map(S=>S.variantId===p?{...S,quantity:v}:S);localStorage.setItem("localCart",JSON.stringify(w))}},f=async p=>{const g=i.filter(x=>x.id!==p);if(a(g),n)try{if((await ge.delete(`/api/v1/cart-items/delete/${p}`)).status){r.invalidateQueries({queryKey:["cart"]});return}}catch(x){ue.error(x.message)}else{const x=l.filter(v=>v.variantId!==p);localStorage.setItem("localCart",JSON.stringify(x)),window.dispatchEvent(new Event("localStorageUpdate"))}};return o.jsx(bt,{open:t,className:"w-[90%] md:w-[50rem] max-h-[55rem] bg-white rounded-md shadow-xl overflow-hidden px-2 py-4 md:p-5",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[o.jsx(F,{icon:ca,className:"text-red-500"}),o.jsxs("div",{className:"text-[1.4rem] md:text-[1.6rem] font-semibold text-gray-700",children:["GI HNG (",i?.length,")"]}),o.jsx("span",{className:"ml-auto cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1),children:o.jsx(F,{icon:Un,className:"text-gray-600"})})]}),i?.length>0?o.jsx("div",{className:"overflow-y-auto hide-scrollbar max-h-[40rem]",children:i.map(p=>o.jsxs(Qe,{to:`/product-detail/${p.product.slug}`,className:"flex items-center justify-between p-4 md:p-5 border-b border-gray-200",children:[o.jsxs("div",{className:" flex items-center gap-[1rem]",children:[o.jsx("img",{src:p.product.mainImage,alt:"",className:"w-[4.8rem] h-[4.8rem] rounded-md object-cover"}),o.jsxs("div",{className:"w-[20rem]",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-800 text-limit-1",children:p.product.productName}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-[1rem]",children:[o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Size: ",o.jsx("span",{className:"",children:p.variantSize.name})]}),o.jsx("span",{className:"block h-[1.2rem] border-l border-l-gray-400"}),o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Mu: ",o.jsx("span",{className:"",children:p.variantColor.name})]})]}),o.jsx("div",{className:"text-red-500 text-[1rem] md:text-[1.4rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p.product.price)||Number(p.price))})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"decre"),children:o.jsx(F,{icon:_l,className:"text-[1.2rem] text-gray-600"})}),o.jsx("span",{className:"text-gray-600 text-[1.2rem] md:text-[1.4rem]",children:p.quantity}),o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"incre"),children:o.jsx(F,{icon:Qr,className:"text-[1.2rem] text-gray-600"})})]}),o.jsx("div",{children:o.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),f(p.id)},children:o.jsx(F,{icon:Tu,className:"text-red-500 cursor-pointer ml-2"})})})]},p.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("img",{src:c7,alt:"cart empty",className:"w-40"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"Khng c sn phm trong gi hng"})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem] text-[1.2rem] md:text-[1.6rem]",children:[o.jsx("button",{className:"px-[2rem] h-[3.5rem] rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300 transition duration-300",onClick:()=>e(!1),children:"ng"}),o.jsx("button",{type:"button",className:"px-[2rem] h-[3.5rem] flex items-center rounded-md from-pink-400 to-red-500 bg-gradient-to-r hover:from-pink-500 hover:to-red-600 text-white transition duration-300",onClick:()=>{e(!1),s("/cart/detail")},children:"Chi tit gi hng"})]})]})})}const Hye=()=>{const{user:t}=Ct(),[e,n]=T.useState(0),{data:r}=Fe({queryKey:["cart"],queryFn:jj,enabled:!!t,refetchOnWindowFocus:!1});return T.useEffect(()=>{if(t&&r&&r.length>0){const s=r[0].items.reduce((i,a)=>i+a.quantity,0);n(s)}else t&&(!r||r.length===0)&&n(0)},[t,r]),T.useEffect(()=>{if(!t){const i=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((l,c)=>l+c.quantity,0);n(i);const a=()=>{const c=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((u,d)=>u+d.quantity,0);n(c)};return window.addEventListener("storage",a),window.addEventListener("localStorageUpdate",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("localStorageUpdate",a)}}},[t]),e},u7=async t=>{let e=null;return t&&(e=Object.values(t).filter(r=>r!=="")),await ge.get("/api/v1/voucher/get-vouchers",{...t&&e?{params:e.join("/")}:{}})},kj=async()=>await ge.get("/api/v1/voucher/get-saved-voucher");var rg={exports:{}},Uye=rg.exports,CA;function Wye(){return CA||(CA=1,(function(t,e){(function(n,r){t.exports=r()})(Uye,(function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",d="week",f="month",p="quarter",g="year",x="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var W=["th","st","nd","rd"],R=H%100;return"["+H+(W[(R-20)%10]||W[R]||W[0])+"]"}},j=function(H,W,R){var $=String(H);return!$||$.length>=W?H:""+Array(W+1-$.length).join(R)+H},M={s:j,z:function(H){var W=-H.utcOffset(),R=Math.abs(W),$=Math.floor(R/60),V=R%60;return(W<=0?"+":"-")+j($,2,"0")+":"+j(V,2,"0")},m:function H(W,R){if(W.date()<R.date())return-H(R,W);var $=12*(R.year()-W.year())+(R.month()-W.month()),V=W.clone().add($,f),K=R-V<0,X=W.clone().add($+(K?-1:1),f);return+(-($+(R-V)/(K?V-X:X-V))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:f,y:g,w:d,d:u,D:x,h:c,m:l,s:a,ms:i,Q:p}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},C="en",A={};A[C]=S;var P="$isDayjsObject",E=function(H){return H instanceof z||!(!H||!H[P])},D=function H(W,R,$){var V;if(!W)return C;if(typeof W=="string"){var K=W.toLowerCase();A[K]&&(V=K),R&&(A[K]=R,V=K);var X=W.split("-");if(!V&&X.length>1)return H(X[0])}else{var B=W.name;A[B]=W,V=B}return!$&&V&&(C=V),V||!$&&C},L=function(H,W){if(E(H))return H.clone();var R=typeof W=="object"?W:{};return R.date=H,R.args=arguments,new z(R)},_=M;_.l=D,_.i=E,_.w=function(H,W){return L(H,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var z=(function(){function H(R){this.$L=D(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[P]=!0}var W=H.prototype;return W.parse=function(R){this.$d=(function($){var V=$.date,K=$.utc;if(V===null)return new Date(NaN);if(_.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var X=V.match(b);if(X){var B=X[2]-1||0,J=(X[7]||"0").substring(0,3);return K?new Date(Date.UTC(X[1],B,X[3]||1,X[4]||0,X[5]||0,X[6]||0,J)):new Date(X[1],B,X[3]||1,X[4]||0,X[5]||0,X[6]||0,J)}}return new Date(V)})(R),this.init()},W.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},W.$utils=function(){return _},W.isValid=function(){return this.$d.toString()!==v},W.isSame=function(R,$){var V=L(R);return this.startOf($)<=V&&V<=this.endOf($)},W.isAfter=function(R,$){return L(R)<this.startOf($)},W.isBefore=function(R,$){return this.endOf($)<L(R)},W.$g=function(R,$,V){return _.u(R)?this[$]:this.set(V,R)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(R,$){var V=this,K=!!_.u($)||$,X=_.p(R),B=function(ie,he){var ke=_.w(V.$u?Date.UTC(V.$y,he,ie):new Date(V.$y,he,ie),V);return K?ke:ke.endOf(u)},J=function(ie,he){return _.w(V.toDate()[ie].apply(V.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(he)),V)},ne=this.$W,se=this.$M,fe=this.$D,Te="set"+(this.$u?"UTC":"");switch(X){case g:return K?B(1,0):B(31,11);case f:return K?B(1,se):B(0,se+1);case d:var le=this.$locale().weekStart||0,ee=(ne<le?ne+7:ne)-le;return B(K?fe-ee:fe+(6-ee),se);case u:case x:return J(Te+"Hours",0);case c:return J(Te+"Minutes",1);case l:return J(Te+"Seconds",2);case a:return J(Te+"Milliseconds",3);default:return this.clone()}},W.endOf=function(R){return this.startOf(R,!1)},W.$set=function(R,$){var V,K=_.p(R),X="set"+(this.$u?"UTC":""),B=(V={},V[u]=X+"Date",V[x]=X+"Date",V[f]=X+"Month",V[g]=X+"FullYear",V[c]=X+"Hours",V[l]=X+"Minutes",V[a]=X+"Seconds",V[i]=X+"Milliseconds",V)[K],J=K===u?this.$D+($-this.$W):$;if(K===f||K===g){var ne=this.clone().set(x,1);ne.$d[B](J),ne.init(),this.$d=ne.set(x,Math.min(this.$D,ne.daysInMonth())).$d}else B&&this.$d[B](J);return this.init(),this},W.set=function(R,$){return this.clone().$set(R,$)},W.get=function(R){return this[_.p(R)]()},W.add=function(R,$){var V,K=this;R=Number(R);var X=_.p($),B=function(se){var fe=L(K);return _.w(fe.date(fe.date()+Math.round(se*R)),K)};if(X===f)return this.set(f,this.$M+R);if(X===g)return this.set(g,this.$y+R);if(X===u)return B(1);if(X===d)return B(7);var J=(V={},V[l]=r,V[c]=s,V[a]=n,V)[X]||1,ne=this.$d.getTime()+R*J;return _.w(ne,this)},W.subtract=function(R,$){return this.add(-1*R,$)},W.format=function(R){var $=this,V=this.$locale();if(!this.isValid())return V.invalidDate||v;var K=R||"YYYY-MM-DDTHH:mm:ssZ",X=_.z(this),B=this.$H,J=this.$m,ne=this.$M,se=V.weekdays,fe=V.months,Te=V.meridiem,le=function(he,ke,Ne,ve){return he&&(he[ke]||he($,K))||Ne[ke].slice(0,ve)},ee=function(he){return _.s(B%12||12,he,"0")},ie=Te||function(he,ke,Ne){var ve=he<12?"AM":"PM";return Ne?ve.toLowerCase():ve};return K.replace(w,(function(he,ke){return ke||(function(Ne){switch(Ne){case"YY":return String($.$y).slice(-2);case"YYYY":return _.s($.$y,4,"0");case"M":return ne+1;case"MM":return _.s(ne+1,2,"0");case"MMM":return le(V.monthsShort,ne,fe,3);case"MMMM":return le(fe,ne);case"D":return $.$D;case"DD":return _.s($.$D,2,"0");case"d":return String($.$W);case"dd":return le(V.weekdaysMin,$.$W,se,2);case"ddd":return le(V.weekdaysShort,$.$W,se,3);case"dddd":return se[$.$W];case"H":return String(B);case"HH":return _.s(B,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return ie(B,J,!0);case"A":return ie(B,J,!1);case"m":return String(J);case"mm":return _.s(J,2,"0");case"s":return String($.$s);case"ss":return _.s($.$s,2,"0");case"SSS":return _.s($.$ms,3,"0");case"Z":return X}return null})(he)||X.replace(":","")}))},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(R,$,V){var K,X=this,B=_.p($),J=L(R),ne=(J.utcOffset()-this.utcOffset())*r,se=this-J,fe=function(){return _.m(X,J)};switch(B){case g:K=fe()/12;break;case f:K=fe();break;case p:K=fe()/3;break;case d:K=(se-ne)/6048e5;break;case u:K=(se-ne)/864e5;break;case c:K=se/s;break;case l:K=se/r;break;case a:K=se/n;break;default:K=se}return V?K:_.a(K)},W.daysInMonth=function(){return this.endOf(f).$D},W.$locale=function(){return A[this.$L]},W.locale=function(R,$){if(!R)return this.$L;var V=this.clone(),K=D(R,$,!0);return K&&(V.$L=K),V},W.clone=function(){return _.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},H})(),G=z.prototype;return L.prototype=G,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",f],["$y",g],["$D",x]].forEach((function(H){G[H[1]]=function(W){return this.$g(W,H[0],H[1])}})),L.extend=function(H,W){return H.$i||(H(W,z,L),H.$i=!0),L},L.locale=D,L.isDayjs=E,L.unix=function(H){return L(1e3*H)},L.en=A[C],L.Ls=A,L.p={},L}))})(rg)),rg.exports}var qye=Wye();const Zr=_0(qye);function Du({showNotify:t,content:e,duration:n,onClose:r,isSuccess:s=!0}){return o.jsxs(bt,{open:t,duration:n,onClose:r,className:"flex flex-col justify-center items-center gap-[1rem] min-w-[30rem] max-w-[50rem] min-h-[10rem] bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:`w-[4rem] h-[4rem] rounded-full ${s?"bg-green-500":"bg-red-500"} flex items-center justify-center`,children:s?o.jsx(F,{icon:xo,className:"text-[2rem] text-white"}):o.jsx(F,{icon:sG,className:"text-[2rem] text-white"})}),o.jsx("div",{className:"text-gray-600 select-none ",children:e})]})}function Kye({open:t,onClose:e,vouchers:n}){const{user:r}=Ct(),s=rt(),[i,a]=T.useState({open:!1,content:"",isSuccess:!1}),{data:l,isLoading:c,refetch:u}=Fe({queryKey:["getSavedVouchers"],queryFn:()=>kj(),enabled:!!r}),d=l&&l.data;if(!n)return null;const f=x=>Zr(x).format("HH:mm DD/MM/YYYY"),p=x=>{navigator.clipboard.writeText(x.voucherCode).then(()=>{a({open:!0,content:" sao chp m!",isSuccess:!0})}).catch(()=>{a({open:!0,content:"Sao chp m khng thnh cng!",isSuccess:!1})})},g=async x=>{try{(await ge.post(`/api/v1/voucher/save-voucher/${x.voucherCode}`)).status&&(a({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await u())}catch(v){console.log(v),a({open:!0,content:"Lu m khng thnh cng!",isSuccess:!1})}};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t,className:"relative flex flex-col w-[90%] md:w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(F,{icon:pn,className:"text-3xl"})}),o.jsx("h2",{className:"font-bold text-center text-pink-600",children:"Chi Tit Voucher"})]}),c?o.jsx("div",{className:"my-16 text-center",children:"ang ti d liu..."}):o.jsx("div",{className:"md:px-8 px-6 space-y-4 z-0",children:n&&n?.length>0?n?.map(x=>{const v=r&&d.some(b=>b.id===x.id);return o.jsxs("div",{className:"flex items-center bg-gradient-to-r from-pink-500 to-blue-600 rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden ",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-40 h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-56 h-56 bg-white rounded-full"})]}),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none",children:x.name}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-6 py-3 rounded-xl font-mono font-bold tracking-wider",children:x.voucherCode}),o.jsx("button",{onClick:()=>p(x),className:"flex items-center text-[1.4rem] gap-2 bg-white text-pink-600 px-4 py-3.5 rounded-xl hover:bg-gray-100 transition shadow-md",children:o.jsx(F,{icon:bG})})]}),o.jsxs("div",{className:"text-[1.4rem] md:text-[2.2rem] font-extrabold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1.2rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] md:text-[1.2rem] gap-2",children:["Thi hn: n ",f(x.endDate)]})]})}),r&&o.jsx("div",{className:"relative z-[100] ml-auto",children:o.jsx("button",{className:`px-8 py-3 rounded-xl ${v?"border border-white text-white":"bg-red-500 hover:bg-red-600"}  transition-colors duration-300 text-[1rem] md:text-[1.4rem] cursor-pointer`,onClick:()=>{r?g(x):s("/login")},children:v?" lu":"Lu m"})})]},x.id)}):o.jsx("div",{children:"Khng c d liu"})}),o.jsx("div",{className:"sticky bottom-0  bg-white border-t border-gray-200 md:px-8 px-6 py-6 text-end z-10",children:o.jsx("button",{onClick:e,className:"px-12 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})})]}),o.jsx(Du,{showNotify:i.open,duration:1e3,onClose:()=>a({open:!1,content:"",isSuccess:!1}),isSuccess:i.isSuccess,content:i.content})]})}function Tj({open:t,onClose:e}){const n=rt();return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[45rem] xl:w-[50rem] h-auto rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600",children:"Vui lng ng nhp  thc hin"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp"})]})]})}function d7({onClose:t}){const e=ir(),n=rt(),r=e.pathname.split("/").filter(Boolean),s=r.length>1?r.slice(1):[],{data:i,isLoading:a}=Fe({queryKey:["getAllCategory"],queryFn:()=>Ou()}),l=f=>f.length===0?!1:f.every((p,g)=>p===s[g]),c=f=>{f.length!==0&&(n(`/category/${f.join("/")}`),t&&t())},u=({categories:f,parentSlugChain:p})=>o.jsx(o.Fragment,{children:f.map(g=>{const x=[...p,g.slug],v=l(x),b=g.children&&g.children.length>0,w=s.length>=x.length&&l(x);return o.jsxs("div",{className:"my-2",children:[o.jsxs("div",{onClick:S=>{S.stopPropagation(),c(x)},className:`
                  flex items-center justify-between px-3 md:px-5 py-3 md:py-4 rounded-lg cursor-pointer
                  transition-all text-[1.3rem] md:text-[1.4rem]
                  ${v?"bg-pink-50 text-pink-600 font-medium":"hover:bg-gray-100"}
                `,children:[o.jsx("span",{children:g.categoryName}),b&&o.jsx(F,{icon:w?Sh:Tn,className:"text-[1.2rem]"})]}),b&&w&&o.jsx("div",{className:"ml-3 md:ml-4 mt-1 border-l-2 border-pink-300 pl-2 md:pl-3",children:o.jsx(u,{categories:g.children,parentSlugChain:x})})]},g.id)})}),d=()=>o.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 animate-pulse",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[5rem] md:h-[5rem] rounded-lg bg-gray-200"}),o.jsx("div",{className:"flex-1 h-[3rem] rounded-lg bg-gray-200"})]});return o.jsxs("div",{className:"bg-white h-full text-[1.4rem] md:text-[1.6rem] w-full md:w-[26rem] shadow-xl md:shadow-none",children:[o.jsxs("div",{className:"md:hidden sticky top-0 bg-white z-10 border-b border-gray-200 px-4 py-4 flex items-center justify-between",children:[o.jsx("h4",{className:"text-[1.8rem] font-bold text-gray-800",children:"Danh mc sn phm"}),t&&o.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:o.jsx(F,{icon:QO,className:"text-[2rem] text-gray-600"})})]}),o.jsx("h4",{className:"hidden md:block font-bold mb-[1rem] text-gray-600 pl-[1rem] px-1.5 py-1.5 md:px-[1rem] md:py-[1rem]",children:"Danh mc"}),o.jsx("div",{className:"px-3 md:px-[1rem] pb-4 overflow-y-auto h-[calc(100vh-8rem)] md:h-auto",children:a?o.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((f,p)=>o.jsx(d,{},p))}):o.jsx("div",{className:"space-y-2 md:space-y-4",children:i&&i.length>0&&i.map(f=>{const p=[f.slug],g=l(p),x=f.children&&f.children.length>0;return o.jsxs("div",{onClick:v=>{v.stopPropagation(),c(p)},children:[o.jsxs("div",{className:`
                        flex items-center justify-between px-3 md:px-4 py-3 rounded-lg cursor-pointer
                        transition-all group
                        ${g?"bg-pink-50 shadow-sm":"hover:bg-gray-50"}
                      `,children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[f.image?o.jsx("img",{src:f.image,alt:f.categoryName,className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg object-cover flex-shrink-0 shadow-sm"}):o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:o.jsx(F,{icon:GO,className:"text-[1.8rem] md:text-[2rem] text-gray-400"})}),o.jsx("span",{className:`text-[1.3rem] md:text-[1.5rem] truncate ${g?"text-pink-600":"text-gray-700"}`,children:f.categoryName})]}),x&&o.jsx(F,{icon:g?Sh:Tn,className:`text-[1.2rem] flex-shrink-0 transition-transform duration-300 ${g?"text-pink-600":"text-gray-400"}`})]}),g&&x&&o.jsx("div",{className:"mt-2 ml-4 md:ml-6 border-l-2 border-pink-300 pl-3 md:pl-4",children:o.jsx(u,{categories:f.children,parentSlugChain:p})})]},f.id)})})})]})}const Gye=()=>{const[t,e]=T.useState(()=>{let n=localStorage.getItem("search_session_id");return n||(n=crypto.randomUUID(),localStorage.setItem("search_session_id",n)),n});return t};function Yye(t,e=1e3){const[n,r]=T.useState(t);return T.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[e,t]),n}function kA({isMobile:t}){const{user:e}=Ct(),[n]=ma(),r=n.get("q"),s=rt(),[i,a]=T.useState(""),l=T.useRef(null),[c,u]=T.useState(!1),d=Yye(i,500),[f,p]=T.useState(!0),[g,x]=T.useState({open:!1,data:[]}),v=Gye();if(!v)throw new Error("sessionId khng tn ti!");const{data:b,isLoading:w,refetch:S}=Fe({queryKey:["recentSearches",v],queryFn:()=>Fee(v,Number(e?.id)),enabled:c&&(!!e||!!v),staleTime:60*1e3}),j=b&&b.data||[];T.useEffect(()=>{r&&(a(r),x(L=>({...L,open:!1})))},[r]);const M=T.useCallback(async L=>{if(L.trim())try{(await ge.post("/api/v1/search/save",{query:L.trim(),...e?void 0:{session_id:v}})).status&&await S()}catch(_){console.log(_)}},[e,v,S]);T.useEffect(()=>{if(!d)return;const L=new AbortController;return p(!0),(async()=>{try{const z=await ge.get("/api/v1/product/suggest",{params:{productName:d}});z.status&&x(G=>({...G,data:z.suggestions}))}catch(z){console.log(z)}finally{p(!1)}})(),()=>L.abort()},[d]);const C=L=>{if(L.key==="Enter"){L.preventDefault();const _=i.trim();_&&(M(_),s(`/search?q=${encodeURIComponent(_)}`))}},A=L=>{L&&(a(L),x(_=>({..._,open:!1})),s(`/search?q=${encodeURIComponent(L)}`))},P=c,E=t?"mt-4 mb-2":"relative flex-1 max-w-2xl mx-4 lg:mx-8",D=t?"text-[1.4rem] w-full h-[3.5rem] pl-12 pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors":"text-[1.4rem] w-full h-[3.5rem] md:h-[4rem] pl-10 md:pl-[3.4rem] pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors";return o.jsxs("div",{className:E,ref:l,children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"text",className:D,placeholder:t?"Tm kim sn phm...":"Tm o thun, qun jean, giy sneaker...",value:i,onChange:L=>{const _=L.target.value;_.startsWith(" ")&&i===""||a(_)},onFocus:()=>u(!0),onBlur:()=>{setTimeout(()=>u(!1),200)},onKeyDown:C}),o.jsx(F,{icon:Dr,className:`text-gray-400 absolute top-1/2 -translate-y-1/2 ${t?"w-4 h-4 left-3":"w-4 h-4 md:w-5 md:h-5 left-3 md:left-4"}`})]}),P&&o.jsx("div",{className:"text-[1.4rem] absolute top-[calc(100%+.5rem)] left-0 bg-white w-full max-h-[400px] overflow-y-auto border border-gray-300 rounded-md shadow-xl z-50",children:i.trim()?o.jsx(o.Fragment,{children:f?o.jsx("div",{className:"p-5 text-center text-gray-500",children:"ang tm kim..."}):g.data.length>0?g.data.map((L,_)=>o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer transition-colors",onMouseDown:()=>A(L),children:[o.jsx(F,{icon:Dr,className:"text-gray-400 mr-3"}),L]},_)):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Khng tm thy sn phm ph hp"})}):o.jsx(o.Fragment,{children:w?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"ang ti..."}):j.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-5 text-[1.4rem] text-gray-500 font-medium border-b border-b-gray-300",children:"Tm kim gn y"}),j.map((L,_)=>{const z=typeof L=="string"?L:L.query;return o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer flex items-center gap-3 transition-colors",onClick:()=>A(L.query),children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(F,{icon:mG,className:"text-gray-400"}),o.jsx("span",{className:"flex-1",children:z})]}),o.jsx("button",{className:"ml-auto cursor-pointer",children:o.jsx(F,{icon:pn,className:"hover:text-gray-800 text-gray-500"})})]},_)})]}):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Cha c lch s tm kim"})})})]})}function h7({isFooter:t=!1}){return o.jsxs(Qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-red-600 text-white w-14 h-14 md:w-[3.5rem] md:h-[3.5rem] rounded-lg flex items-center justify-center font-bold text-lg md:text-xl",children:"K"}),o.jsxs("div",{className:"block",children:[o.jsx("div",{className:"text-[1.8rem] md:text-[2.2rem] font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:`text-[1rem] md:text-[1.2rem] ${t?"text-white":"text-gray-500"}  -mt-1`,children:"Style Your Life"})]})]})}function Ej(){const[t,e]=T.useState(!1),{user:n}=Ct(),{logout:r}=ju(),s=Hye(),[i,a]=T.useState(!0),[l,c]=T.useState(!1),u=rt(),[d,f]=T.useState(!1),p=ir(),g=T.useRef(null),[x,v]=T.useState(!1),[b,w]=T.useState(window.innerWidth<768),[S,j]=T.useState({open:!1,data:null}),[M,C]=T.useState(!1),{data:A,isLoading:P}=Fe({queryKey:["vouchers"],queryFn:()=>u7()}),E=A&&A.data,{data:D,isLoading:L}=Fe({queryKey:["getAllCategory"],queryFn:()=>Ou()});T.useEffect(()=>{const H=()=>w(window.innerWidth<768);return window.addEventListener("resize",H),()=>{window.addEventListener("resize",H)}},[]),T.useEffect(()=>{const H=()=>{window.scrollY>50?a(!1):a(!0)};return p.pathname.includes("/customer")||window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)},[p]),T.useEffect(()=>{const H=W=>{g.current&&!g.current.contains(W?.target)&&C(!1)};return document.addEventListener("click",H),()=>{document.removeEventListener("click",H)}},[]);const _=H=>n?n.role===qt.ADMIN||n.role===qt.STAFF?u("/dashboard"):u(`/${H}`):u(`/${H}`),z=H=>{if(H)u(`/category/${H}`);else if(D){const W=D[0];u(`/category/${W.slug}`)}},G=H=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(H);return o.jsxs("header",{className:`${p.pathname.includes("/customer")?"fixed top-0 left-0 md:relative":"fixed top-0 left-0"} w-full bg-white z-[999] ${p.pathname.includes("/customer")?"":i?" shadow-none":"shadow-xl"}`,children:[P?o.jsx(o.Fragment,{}):E?.map((H,W)=>{if(!(W>=1))return o.jsx("div",{className:`px-4 md:px-8 lg:px-12 xl:px-[12rem] bg-gradient-to-r from-pink-600 to-red-500 w-full ${i?"h-[3.5rem] opacity-[1]":"opacity-0 h-[0] overflow-hidden"} flex items-center justify-between transition-all duration-300 cursor-pointer`,onClick:()=>{n?j({open:!0,data:E}):c(!0)},children:o.jsxs("p",{className:"text-[1rem] sm:text-[1.2rem] md:text-[1.4rem] text-white whitespace-nowrap overflow-hidden text-ellipsis px-2",children:[" ",H.name," - Gim"," ",H.type===ai.PERCENT?`${H.value}%`:`${G(H.value)}`," ",H.minOrderValue>0&&`- n t ${G(H.minOrderValue)}`]})},H.id)}),o.jsxs("div",{className:"relative md:px-8 lg:px-12 xl:px-[12rem] py-2 md:py-[1rem]",children:[o.jsxs("div",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(h7,{})}),o.jsxs("div",{className:"md:hidden flex items-center space-x-12",children:[o.jsxs("div",{className:" relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-8 h-8 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),n&&o.jsx("span",{className:"absolute -top-3 left-[1.5rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]}),o.jsx("div",{className:`w-15 h-15 ${n?"border-1":"border-2"} border-gray-400 rounded-full flex flex-col items-center justify-center gap-1 group transition-colors`,onClick:H=>{H.stopPropagation(),C(!M)},children:n?.avatar?o.jsx("img",{src:n.avatar,alt:"avatar user",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Zs,className:`${n?"text-pink-500":"text-gray-400"} group-hover:text-pink-600 text-[1.6rem]`})})]}),o.jsx("div",{className:"relative hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:o.jsx(kA,{isMobile:!1})}),o.jsxs("div",{className:"hidden md:flex items-center gap-4 lg:gap-6 z-[900]",children:[n?o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 group transition-colors",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsx(F,{icon:Zs,className:"text-gray-600 group-hover:text-pink-600"}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer group-hover:text-pink-600 whitespace-nowrap",children:n.username}),o.jsxs("div",{className:`absolute top-full mt-2 w-[22rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>_("customer/account/profile"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[o.jsx(F,{icon:Zs,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem] ",children:"Ti khon ca ti"})]}),o.jsxs("button",{onClick:()=>_("customer/order"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[o.jsx(F,{icon:jh,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"n hng ca ti"})]}),o.jsxs("button",{onClick:()=>_("customer/favorite"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left hover:text-pink-600 text-gray-600 ",children:[o.jsx(F,{icon:Ip,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem] ",children:"Sn phm yu thch"})]})]}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{r(),u("/")},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(F,{icon:Id,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng xut"})]})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsx(F,{icon:Zs}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer whitespace-nowrap",children:"Ti khon"}),o.jsxs("div",{className:`absolute top-[100%] mt-2 w-[18rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 z-[1000] ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>_("login"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(F,{icon:Id,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng nhp"})]})}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>_("register"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(F,{icon:Id,className:" w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng k"})]})})]})]}),o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group",onClick:()=>u("/look-up-order"),children:[o.jsx(F,{icon:$b}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline cursor-pointer whitespace-nowrap",children:"n hng"})]})]}),o.jsxs(Qe,{to:"/",className:"flex flex-col items-center gap-1 hover:text-pink-600 transition-colors relative group",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline whitespace-nowrap",children:"Yu thch"}),o.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:"5"})]}),o.jsxs("div",{className:"relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-6 h-6 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),o.jsx("span",{className:"text-[1.2rem] group-hover:text-pink-600 group-hover:underline whitespace-nowrap",children:"Gi hng"}),n&&o.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]})]})]}),o.jsx("div",{className:"md:hidden mt-4 mb-2",children:o.jsx(kA,{isMobile:!0})})]}),M&&o.jsx("div",{ref:g,className:"fixed top-0 right-0 md:hidden w-full h-full bg-[#3e3e3e6f] border-t border-gray-200 z-[100]",onClick:H=>{H.stopPropagation(),C(!1)},children:o.jsx("div",{className:"flex flex-col gap-8 bg-white w-[80%] h-full p-[2rem]",onClick:H=>{H.stopPropagation()},children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:n?.avatar?o.jsx("img",{src:n?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(F,{icon:Zs,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:n?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600 cursor-pointer",onClick:()=>{u("customer/account/profile"),C(!1)},children:[o.jsx(F,{icon:$s}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsxs("button",{onClick:()=>{_("customer/account/profile"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Zs,className:"w-5"}),"Ti khon ca ti"]}),o.jsxs("button",{onClick:()=>{_("customer/order"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:jh,className:"w-5"}),"n hng ca ti"]}),o.jsxs("button",{onClick:()=>{_("customer/favorite"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Ip,className:"w-5"}),"Sn phm yu thch"]}),o.jsxs("button",{onClick:()=>{_("customer/account/address"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Ip,className:"w-5"}),"a ch"]}),o.jsxs("button",{onClick:()=>{_("customer/my-voucher"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:uN,className:"w-5"}),"Voucher ca ti"]}),o.jsxs("button",{onClick:()=>{u("/customer/account/privacy"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:$b,className:"w-5"}),"Thit lp ring"]}),o.jsxs("button",{onClick:()=>{r(),u("/"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-red-600 text-[1.4rem]",children:[o.jsx(F,{icon:Id,className:"w-5"}),"ng xut"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{_("login"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Zs,className:"w-5"}),"ng nhp"]}),o.jsxs("button",{onClick:()=>{_("register"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:Zs,className:"w-5"}),"ng k"]}),o.jsxs("button",{onClick:()=>{u("/look-up-order"),C(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(F,{icon:$b,className:"w-5"}),"Tra cu n"]})]})})})]}),o.jsx("div",{className:"md:block w-[100%] border-t border-t-gray-300 py-[1rem] px-4 md:px-8 lg:px-12 xl:px-[12rem]",children:o.jsxs("nav",{className:"flex items-center justify-between h-12",children:[o.jsxs("ul",{className:"flex items-center gap-4 lg:gap-8 overflow-x-auto scrollbar-hide",children:[o.jsx("li",{className:"relative group shrink-0 gap-2",children:o.jsxs("button",{className:"flex items-center text-[1.2rem] lg:text-[1.4rem] font-medium text-pink-600 hover:text-pink-700 whitespace-nowrap mt-1",onClick:()=>{b?v(!0):z()},children:[o.jsx(F,{icon:e_}),o.jsx("span",{children:"DANH MC"})]})}),L?o.jsx(o.Fragment,{}):D&&D.length>0&&D.filter(H=>!H.parentId).map(H=>o.jsx("li",{onClick:()=>z(H.slug),className:"shrink-0",children:o.jsx(Qe,{to:`/category/${H.slug}`,className:"font-medium text-[1.2rem] lg:text-[1.4rem] hover:text-pink-600 transition-colors uppercase whitespace-nowrap",children:H.categoryName})},H.id))]}),o.jsxs("div",{className:"hidden lg:flex items-center gap-4 text-[1.4rem] shrink-0",children:[o.jsx(Qe,{to:"/about-us",className:"hover:text-pink-600 text-gray-600 transition-colors whitespace-nowrap",children:"Gii thiu"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsxs("a",{href:"https://www.facebook.com/kien.trung.732841/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(F,{icon:zye}),"Facebook"]}),o.jsxs("a",{href:"https://www.instagram.com/trungkien4420/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(F,{icon:l7}),"Instagram"]})]})]})}),o.jsx(Bye,{setShowCart:e,showCart:t}),b&&x&&o.jsx("div",{className:"fixed top-0 left-0 h-full w-full bg-[#36363650] z-[999]",onClick:()=>v(!1),children:o.jsx("div",{className:"w-[85%] max-w-[36rem] h-full bg-white",onClick:H=>H.stopPropagation(),children:o.jsx(d7,{onClose:()=>v(!1)})})}),o.jsx(Kye,{open:S.open,onClose:()=>j({open:!1,data:null}),vouchers:S.data}),o.jsx(Tj,{open:l,onClose:()=>c(!1)})]})}function Mj(){return o.jsxs("footer",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] py-8 bg-gray-700 text-white mt-20",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-4 pb-5 border-b border-b-gray-400 mb-8",children:[o.jsx(h7,{isFooter:!0}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qe,{to:"https://www.facebook.com/profile.php?id=100029756161612&locale=vi_VN",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:o.jsx(F,{icon:$ye,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:o.jsx(F,{icon:l7,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"#","aria-label":"Twitter",children:o.jsx(F,{icon:Vye,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"#","aria-label":"Google",children:o.jsx(F,{icon:Fye,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"V Shop"}),o.jsx("p",{className:"text-gray-300 text-[1.4rem]",children:"Chuyn cung cp thi trang cht lng cao vi gi c hp l"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"H tr khch hng"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Qe,{to:"/huong-dan-mua-hang",className:"hover:text-primary",children:"Hng dn mua hng"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/chinh-sach-doi-tra",className:"hover:text-primary",children:"Chnh sch i tr"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/phuong-thuc-thanh-toan",className:"hover:text-primary",children:"Phng thc thanh ton"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/van-chuyen",className:"hover:text-primary",children:"Vn chuyn"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Chnh sch"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Qe,{to:"/chinh-sach-bao-mat",className:"hover:text-primary",children:"Chnh sch bo mt"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/dieu-khoan-su-dung",className:"hover:text-primary",children:"iu khon s dng"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/quy-dinh-chung",className:"hover:text-primary",children:"Quy nh chung"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3 ",children:"Lin h"}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Hotline:"})," 0357 124 853"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Email:"})," nguyentrungkien040921@gmail.com"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Gi lm vic:"})," 8:00 - 22:00"]})]})]}),o.jsx("div",{className:" mt-8 pt-6 border-t border-gray-400 text-center text-gray-300 text-[1.4rem]",children:o.jsx("p",{children:" 2025 Shop Qun o. c pht trin bi Nguyn Trung Kin"})})]})}function Xye(){const t=ir();return o.jsxs("div",{children:[o.jsx(Ej,{}),o.jsx("div",{className:`w-full h-auto ${t.pathname.includes("/customer")?"mt-[2.5rem]":"mt-[20rem] md:mt-[17rem]"}`,children:o.jsx(ql,{})}),o.jsx(Mj,{})]})}function f7({open:t,item:e,dataGuest:n,onClose:r,refetch:s}){const{user:i}=Ct(),[a,l]=T.useState({message:"",rating:5,images:[],showAccount:!0}),[c,u]=T.useState({message:"",images:""}),[d,f]=T.useState(!1),[p,g]=T.useState([]);T.useEffect(()=>{e&&l({message:"",rating:5,images:[],showAccount:!0})},[e]);const x=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C),v=C=>{l(A=>({...A,rating:C}))},b=C=>{const{files:A}=C.target;if(!A)return;const P=a.images,E=2-P.length;if(E<=0){u(L=>({...L,images:"Ch c upload ti a 2 nh!"}));return}const D=Array.from(A).slice(0,E);l(L=>({...L,rating:L?.rating||5,message:L?.message||"",images:[...P,...D]})),D.forEach(L=>{const _=URL.createObjectURL(L);g(z=>[...z,_])})},w=C=>{l(A=>({...A,images:A.images.filter((P,E)=>E!==C)})),g(A=>A.filter((P,E)=>E!==C))},S=async C=>{if(a.message.length>200){u(P=>({...P,message:"Ni dung khng c qu 200 k t!"}));return}if(a.images.length>2){u(P=>({...P,images:"Ch c upload ti a 2 nh!"}));return}f(!0);const A=new FormData;!i&&n&&(A.append("customerEmail",n?.customerEmail),A.append("customerName",n?.customerName)),A.append("rating",a.rating.toString()),A.append("showAccount",a.showAccount.toString()),A.append("orderItemId",C.toString()),a.message!==""&&A.append("message",a.message),a.images.length>0&&a.images.forEach(P=>{A.append("images",P)});try{const P=await ge.post("/api/v1/evaluate/add",A,{headers:{"Content-Type":"multipart/form-data"}});P.status&&(await s(),ue.success(P.message),r())}catch(P){console.log(P),ue.error(P.message)}finally{f(!1)}},j=C=>{u(A=>C?{...A,...C==="message"?{message:""}:{images:""}}:{images:"",message:""})},M=e&&e.variant.product;return o.jsxs(bt,{open:t,className:"relative w-[65rem] min-h-[20rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[1rem] right-[1rem]",onClick:C=>{C.stopPropagation(),r()},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsx("h2",{className:"text-[2rem] text-amber-500 mb-[2.5rem] font-bold text-center",children:"nh gi sn phm"}),o.jsx("div",{className:"space-y-8 max-h-[50rem] overflow-auto hide-scrollbar",children:e&&M?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border border-gray-300 rounded-md p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:M.mainImage,alt:M.productName,className:"w-[5rem] h-[5rem] rounded-sm object-cover"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"line-clamp-1",children:M.productName}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["Phn loi: size ",e.variant.variantSize.name,", mu"," ",e.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",e.quantity]})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500",children:x(e.price*e.quantity)})]}),o.jsxs("div",{className:"flex items-center mt-[1rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 mr-[.5rem]",children:["Sao nh gi:"," "]}),o.jsx("div",{className:"space-x-1",children:Array.from({length:5}).map((C,A)=>o.jsx("button",{type:"button",onClick:()=>v(A),children:o.jsx(F,{icon:A<=a.rating?ps:o7,className:`text-[1.6rem] ${A<=a.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},A))})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"message",id:"message",rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",onChange:C=>{j("message"),l(A=>({...A,message:C.target.value}))}}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.message})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsxs("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:[p&&p.length>0&&p.map((C,A)=>o.jsxs("div",{className:"relative w-[8rem] h-[8rem] border border-gray-400 flex flex-col items-center justify-center rounded-md cursor-pointer",children:[o.jsx("img",{src:C,alt:`images-${A}`,className:"w-full h-full object-cover rounded-md"},C),o.jsx("button",{className:"absolute top-[-.5rem] right-[-.5rem] h-[2rem] w-[2rem] flex items-center justify-center rounded-full bg-red-500 hover:bg-red-600",onClick:()=>w(A),children:o.jsx(F,{icon:pn,className:"text-white text-[1.2rem]"})})]},C)),o.jsxs("label",{htmlFor:`image-${e.id}`,className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(F,{icon:Qr,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",id:`image-${e.id}`,name:"images",className:"hidden",accept:"images/*",multiple:!0,onChange:C=>{j("images"),b(C)}})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.images})]})]}),o.jsxs("div",{className:"flex justify-end mt-[3.5rem] gap-[1rem]",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:C=>{C.stopPropagation(),r()},disabled:d,children:"Hy"}),o.jsx("button",{type:"button",disabled:d,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",onClick:()=>{j(),S(e.id)},children:d?"ang x l...":"Gi nh gi"})]})]}):o.jsxs("div",{className:"border rounded-md border-gray-300 p-[2rem] animate-pulse",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-200 rounded-sm"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"w-full py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[20rem] py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]})]}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]}),o.jsx("div",{className:"flex items-center mt-[1rem]",children:o.jsx("p",{className:"w-[30rem] py-2.5 bg-gray-200"})}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",disabled:!0})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsx("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:o.jsxs("label",{className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(F,{icon:Qr,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",className:"hidden",disabled:!0})]})})]}),o.jsx("div",{className:"flex justify-end mt-[1rem]",children:o.jsx("button",{type:"button",disabled:!0,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",children:"Gi nh gi"})})]})})]})}const _x=()=>{const{user:t}=Ct(),[e,n]=T.useState(!1),[r,s]=T.useState({show:!1,content:""}),i=jo();return{addToCart:async l=>{n(!0);try{if(!t){let u=JSON.parse(localStorage.getItem("localCart")||"[]");for(const d of l){const f=u.find(p=>p.variantId===d.variantId);f?f.quantity+=d.quantity:u.push({variantId:d.variantId,quantity:d.quantity})}return localStorage.setItem("localCart",JSON.stringify(u)),window.dispatchEvent(new Event("localStorageUpdate")),s({show:!0,content:" thm vo gi hng!"}),!0}if((await ge.post("/api/v1/cart/add-to-cart",l)).status)return i.invalidateQueries({queryKey:["cart"]}),s({show:!0,content:" thm vo gi hng!"}),!0}catch{return s({show:!0,content:"C li xy ra!"}),!1}finally{n(!1)}},isLoading:e,notify:r,setNotify:s}},TA={[nl.CHANGE_OF_MIND]:"Ti i ",[nl.FOUND_BETTER_PRICE]:"Ti tm c gi tt hn",[nl.ORDER_BY_MISTAKE]:"Ti t nhm",[nl.WRONG_ADDRESS]:"Thay i a ch",[nl.OTHER]:"L do khc"};function m7({open:t,onClose:e,orderCode:n,refetch:r,status:s,cancelReason:i,cancelledAt:a,cancelledBy:l}){const{user:c}=Ct(),[u,d]=T.useState(!1),[f,p]=T.useState(""),g=s===Le.CANCELLED,[x,v]=T.useState({customerEmail:"",customerPhone:"undefined"}),[b,w]=T.useState({customerEmail:"",customerPhone:"",reason:""}),S=()=>{let M=!0;const C={customerEmail:"",customerPhone:"",reason:""};return c||(x.customerEmail.trim()?/^\S+@\S+\.\S+$/.test(x.customerEmail)||(C.customerEmail="Email khng hp l!",M=!1):(C.customerEmail="Vui lng nhp email  t hng!",M=!1),x.customerPhone.trim()?/^0[1-9]\d{8}$/.test(x.customerPhone)||(C.customerPhone="S in thoi khng hp l!",M=!1):(C.customerPhone="Vui lng nhp s in thoi  t hng!",M=!1)),f||(C.reason="Vui lng chn l do hy n!",M=!1),w(C),M},j=async()=>{if(!n){ue.error("Khng tm thy m n hng");return}if(S()){d(!0);try{const M={reason:f};c||(M.customerEmail=x.customerEmail,M.customerPhone=x.customerPhone);const C=await ge.patch(`/api/v1/orders/cancel/${n}`,M);C.status&&(v({customerEmail:"",customerPhone:""}),p(""),w({customerEmail:"",customerPhone:"",reason:""}),await r?.(),ue.success(C.message||"Hy n hng thnh cng!"),e())}catch(M){console.log(M),ue.error(M.message||"C li xy ra!")}finally{d(!1)}}};return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[1.8rem] md:text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Hy n hng"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:M=>{M.stopPropagation(),e()},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),g?o.jsxs("div",{className:"space-y-6 mb-[4rem]",children:[o.jsxs("div",{className:"flex justify-between ",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Thi gian hy"}),o.jsx("p",{className:"font-medium",children:a?new Date(a).toLocaleString("vi-VN"):""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Ngi hy"}),o.jsx("p",{className:"font-medium",children:l})]})]}),o.jsxs("div",{className:"w-full py-[1rem] rounded-md shadow-md flex flex-col justify-center px-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do hy n"}),o.jsx("p",{className:"",children:TA[i]})]}),o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(F,{icon:dN,className:"text-amber-600 mt-0.5"}),o.jsx("p",{className:" text-amber-800",children:"n hng  c hy v khng th khi phc. Bn c th t li n hng mi nu cn."})]})]}):o.jsxs(o.Fragment,{children:[!c&&o.jsxs("div",{className:"flex items-start space-x-6 mb-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email"}),o.jsx("input",{type:"email",name:"customerEmail",id:"customerEmail",value:x.customerEmail,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:M=>{v(C=>({...C,customerEmail:M.target.value})),b.customerEmail&&w(C=>({...C,customerEmail:""}))}}),b.customerEmail&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerEmail})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",name:"customerPhone",id:"customerPhone",value:x.customerPhone,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:M=>{v(C=>({...C,customerPhone:M.target.value})),b.customerPhone&&w(C=>({...C,customerPhone:""}))}}),b.customerPhone&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerPhone})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"block text-gray-600 pb-[1rem]",children:"L do hy n"}),Object.entries(TA).map(([M,C])=>o.jsxs("div",{className:"flex items-center space-x-6 py-4 pl-[2rem] cursor-pointer",children:[o.jsx("input",{type:"radio",id:`reason-${M}`,name:"reason",value:M,style:{scale:1.4,backgroundColor:"red"},className:"cursor-pointer",onChange:A=>{p(A.target.value)}}),o.jsx("label",{htmlFor:`reason-${M}`,className:"cursor-pointer select-none",children:C})]},M))]})]}),b.reason&&o.jsx("p",{className:"text-red-500 mt-2 pl-[2rem]",children:b.reason}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none",onClick:M=>{M.stopPropagation(),e()},children:s?"ng":"Hy"}),!s&&s!==Le.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300 outline-none",onClick:()=>j(),children:u?"ang x l...":"Hy n hng"})]})]})}const tu=[{key:Le.PENDING,label:"Ch xc nhn n  hng",desc:"Ch xc nhn",icon:jh,color:"bg-blue-500"},{key:Le.CONFIRMED,label:" xc nhn n hng",desc:" xc nhn",icon:lN,color:"bg-orange-500"},{key:Le.SHIPPING,label:"ang giao hng",desc:"ang vn chuyn",icon:Y0,color:"bg-purple-500"},{key:Le.COMPLETED,label:" giao hng",desc:" giao hng",icon:iu,color:"bg-green-500"}];function Qye({order:t,onClose:e}){const n=T.useMemo(()=>t?.orderItems?t.orderItems.reduce((i,a)=>i+a.price*a.quantity,0):0,[t?.orderItems]);if(T.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),!t)return;const r=i=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),s=i=>Zr(i).format("HH:mm DD/MM/YYYY");return o.jsxs("div",{className:"min-h-screen px-4 sm:px-6 lg:px-8 pb-6 md:pb-8",children:[o.jsxs("div",{className:"py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("div",{children:o.jsxs("button",{type:"button",className:"px-5 py-2.5 bg-gray-100 hover:bg-gray-200 transition-colors rounded-md flex items-center gap-2 text-[1.2rem] md:text-[1.6rem]",onClick:e,children:[o.jsx(F,{icon:Ni}),o.jsx("span",{className:"uppercase",children:"Tr li"})]})}),o.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end sm:justify-normal",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.6rem] font-medium",children:["M n hng: ",t.orderCode]}),o.jsx("div",{className:"hidden sm:block h-6 border-r border-gray-400"}),o.jsx("span",{className:`px-5 py-1.5 rounded-full text-[1.2rem] md:text-[1.6rem] font-medium
              ${Bn(t.status).textColor} 
              ${Bn(t.status).bgColor}`,children:Bn(t.status).text})]})]}),t.status===Le.CANCELLED?o.jsxs("div",{className:"my-6 p-5 border border-amber-200 bg-amber-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] text-red-600 font-medium",children:" hy n hng"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["lc ",s(t.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:tu.map((i,a)=>{const l=tu.findIndex(c=>c.key===t.status)>=a;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[1rem] md:ap-[2rem] relative items-center",children:[o.jsx("div",{className:`lg:w-[6rem] lg:h-[6rem] md:w-[4rem] md:h-[4rem] w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${l?`${i.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:i.icon,className:"text-white md:text-[1.8rem] text-[1.2rem] lg:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800",children:i.label}),o.jsx("div",{className:"hidden md:block text-[.8rem] md:text-[1.2rem] text-gray-500 mt-[.2rem]",children:i.desc})]})]},i.key),a!==tu.length-1&&o.jsx("span",{className:"w-[2rem] md:w-[10rem] border border-green-500"})]},i.key)})}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"a ch nhn hng"}),o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-white",children:[o.jsx("p",{className:"font-medium",children:t.customerName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem] md:text-[1.4rem]",children:["(",t.customerPhone,")"]}),o.jsxs("p",{className:"text-gray-500 mt-1 text-[1.2rem] md:text-[1.4rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"Thng tin vn chuyn"}),o.jsx("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-gray-50",children:[Le.PENDING,Le.CONFIRMED].includes(t.status)?o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] italic",children:"n hng ang c x l v ng gi. Chng ti s cp nht m vn n ngay khi hng c giao cho n v vn chuyn."}):o.jsxs("div",{className:"space-y-3 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Nh vn chuyn:"})," ",t.shippingProvider?aP[t.shippingProvider]?.text||t.shippingProvider:"Cha xc nh"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"M vn n:"})," ",o.jsx("span",{className:"font-semibold",children:t.trackingNumber||"Cha c"})]}),t.shippingNote&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch:"})," ",o.jsx("span",{className:"italic",children:t.shippingNote})]}),o.jsxs("div",{className:"mt-4",children:[t.status===Le.SHIPPING&&t.trackingNumber&&t.shippingProvider&&o.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm md:text-base",children:[o.jsx(F,{icon:Y0}),"Tra cu vn n"]}),t.status===Le.COMPLETED&&o.jsx("p",{className:"text-green-600 font-medium text-[1.4rem] md:text-[1.6rem]",children:"n hng  c giao thnh cng!"})]})]})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg shadow-sm p-4 md:p-6 bg-white",children:[o.jsx("div",{className:"space-y-5 md:space-y-6",children:t.orderItems.map(i=>{const a=i.variant.product;return o.jsx(Qe,{to:`/product-detail/${a.slug}`,className:"block border-b border-gray-200 pb-5 last:border-b-0 last:pb-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("img",{src:a.mainImage,alt:a.productName,className:"w-20 h-20 md:w-24 md:h-24 object-cover border border-gray-400 rounded"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium line-clamp-2 md:line-clamp-1",children:a.productName}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600 mt-1",children:["Size ",i.variant.variantSize.name,"  Mu"," ",i.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600",children:["S lng: x",i.quantity]})]})]}),o.jsx("p",{className:"text-red-600 font-medium text-[1.4rem] md:text-[1.6rem] whitespace-nowrap",children:r(i.price*i.quantity)})]})},i.id)})}),o.jsxs("div",{className:"mt-6 md:mt-8 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex flex-col gap-4 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),o.jsx("span",{children:r(n)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),o.jsx("span",{children:r(t.shippingFee)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Voucher gim gi"}),o.jsxs("span",{className:"text-red-600",children:["- ",r(t.discountAmount)]})]}),o.jsxs("div",{className:"flex justify-between font-medium text-[1.4rem] md:text-[1.6rem] pt-3 border-t",children:[o.jsx("span",{children:"Thnh tin"}),o.jsx("span",{className:"text-red-600",children:r(t.totalAmount)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Phng thc thanh ton"}),o.jsx("span",{children:$w[t.paymentMethod].text})]}),t.paymentMethod!==Kr.COD&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Trng thi thanh ton"}),o.jsx("span",{children:t?.payment?.status===qa.SUCCESS?" thanh ton":"Cha thanh ton"})]})]}),t.paymentMethod===Kr.COD&&![Le.CANCELLED,Le.COMPLETED].includes(t.status)&&o.jsxs("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg text-center text-[1.4rem] md:text-[1.6rem]",children:["Vui lng thanh ton"," ",o.jsx("span",{className:"text-red-600 font-medium",children:r(t.totalAmount)})," ","khi nhn hng"]})]})]})]})}function Jye({open:t,data:e,onClose:n,refetch:r}){const s=async()=>{try{(await ge.patch(`/api/v1/orders/confirm-received/${e?.id}`)).status&&(n(),await r())}catch(i){console.log(i),ue.error(i.message||"Li khng th xc nhn!")}};return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-amber-600 mb-[3rem] text-[1.4rem] md:text-[2rem]",children:"Vui lng xc nhn bn  nhn c n hng!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:i=>{i.stopPropagation(),n()},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"text-white px-6 py-2 bg-red-500 rounded-lg hover:bg-red-600",onClick:()=>s(),children:"Xc nhn"})]})]})}const EA={all:{title:"Tt c",color:"green"},[Le.PENDING]:{title:"Ch xc nhn",color:"green"},[Le.CONFIRMED]:{title:" xc nhn",color:"green"},[Le.SHIPPING]:{title:"ang giao hng",color:"green"},[Le.DELIVERED]:{title:" giao hng",color:"red"},[Le.COMPLETED]:{title:" hon thnh",color:"green"},[Le.CANCELLED]:{title:" hy",color:"red"}};function Zye(){const[t,e]=T.useState({searchOrders:"",status:"all"}),[n,r]=T.useState(""),[s,i]=T.useState("all"),[a,l]=T.useState({open:!1,orderCode:null,data:null}),[c,u]=T.useState({open:!1,data:null}),[d,f]=T.useState({open:!1,data:null}),{addToCart:p}=_x(),g=rt(),[x,v]=T.useState({left:0,width:0}),[b,w]=T.useState({open:!1,data:null}),S=T.useRef([]),j=T.useMemo(()=>Object.keys(EA),[]),{data:M=[],isLoading:C,refetch:A}=Fe({queryKey:["orders",t],queryFn:({queryKey:_})=>Vme(_[1])});T.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),T.useEffect(()=>{const _=j.indexOf(s),z=S.current[_];z&&v({left:z.offsetLeft,width:z.offsetWidth})},[s,j]);const P=T.useCallback(_=>z=>{S.current[_]=z},[]),E=_=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_),D=async _=>{const z=_.orderItems.map(H=>({variantId:H.variant.id,quantity:H.quantity}));if(await p(z)){const H=z.map(W=>W.variantId).join(",");g(`/cart/detail?buyback=${H}`)}else ue.error("Thm sn phm vo gi hng tht bi!")},L=_=>new Date(_).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return o.jsxs(o.Fragment,{children:[c.open?o.jsx(Qye,{order:c.data,onClose:()=>u({data:null,open:!1})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"sticky top-0 pt-[2rem] bg-white z-0",children:o.jsx("div",{className:"relative w-full overflow-x-auto hide-scrollbar",children:o.jsxs("ul",{className:`relative flex items-center border-b border-b-gray-300 z-0 
                  w-max min-w-full
                  snap-x snap-mandatory
                  scrollbar-hide
                  md:snap-none md:w-full`,children:[j.map((_,z)=>{const G=EA[_],H=_===s;if(_!==Le.DELIVERED)return o.jsx("li",{ref:P(z),className:`px-[2rem] md:px-[4rem] pb-[1rem] md:pb-[1.5rem] cursor-pointer select-none\r
                        snap-start\r
                        flex-shrink-0`,onClick:()=>{const W=_==="all"?"all":_;e(R=>({...R,status:W})),i(_)},children:o.jsx("div",{className:`${H?"text-red-500":""}`,children:G.title})},_)}),o.jsx("span",{className:"absolute bottom-0 border-t-[.2rem] border-t-red-400 transition-all duration-300",style:{left:x.left,width:x.width}})]})})}),o.jsx("div",{className:"px-[1rem] md:px-[2rem] pb-[2rem]",children:C?o.jsx(Co,{}):o.jsxs("div",{className:"mt-[2rem] space-y-8",children:[o.jsxs("div",{className:"flex mt-[2rem] h-[4rem] w-full border border-gray-300 bg-white rounded-md",children:[o.jsx("button",{type:"button",className:"pl-[1.5rem] text-gray-500 cursor-pointer",onClick:()=>e(_=>({..._,searchOrders:n})),children:o.jsx(F,{icon:Dr})}),o.jsx("input",{type:"text",id:"searchOrders",name:"searchOrders",value:n,placeholder:"Bn c th tm kim theo ID, tn sn phm",className:"w-full h-full rounded-md outline-none pl-[1.5rem]",onChange:_=>r(_.target.value)})]}),M.length>0?o.jsx(o.Fragment,{children:M?.map(_=>o.jsxs("div",{className:"shadow-md p-[1.5rem] border border-gray-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center justify-end mb-[1.5rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 pr-[1rem] mr-[1rem] border-r border-r-gray-300",children:["Ngy t: ",L(_.createdAt)]}),o.jsx("p",{className:`text-[1.2rem] md:text-[1.6rem] px-[1rem] md:px-[2rem] py-[.2rem] rounded-full ${Bn(_.status).textColor} ${Bn(_.status).bgColor}`,children:Bn(_.status).text})]}),_.orderItems.length>0&&_.orderItems.map(z=>{const G=z.variant.product,H=_.status===Le.COMPLETED&&_.orderItems.some(W=>W.evaluate.length===0);return o.jsxs("div",{className:"pb-[2rem] mb-[2rem] border-b border-b-gray-300",children:[o.jsxs("div",{className:"flex items-center justify-between my-[1rem] cursor-pointer",onClick:()=>u({open:!0,data:_}),children:[o.jsxs("div",{className:"flex space-x-6 md:items-center ",children:[o.jsx("img",{src:G.mainImage,alt:`mainImage-${G.productName}`,className:"w-[6rem] h-[6rem] object-cover border border-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"max-w-2xl line-clamp-1 text-gray-900 select-none",children:G.productName}),o.jsx("p",{className:"flex items-center space-x-2 text-[1.2rem] text-gray-600",children:o.jsxs("span",{className:"block",children:["Size ",z.variant.variantSize.name,", Mu"," ",z.variant.variantColor.name]})}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",z.quantity]})]})]}),o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[1.6rem]",children:E(z.price*z.quantity)})]}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem]",children:[!H&&[Le.CANCELLED,Le.COMPLETED].includes(_.status)&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>D(_),children:"Mua li"}),H&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>w({open:!0,data:z}),children:o.jsxs("div",{className:"md:text-[1.6rem] text-[1.4rem] flex items-center space-x-2 ",children:[o.jsx(F,{icon:o7,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})]},z.id)}),o.jsxs("div",{className:"flex flex-col items-end justify-center",children:[o.jsxs("p",{className:"text-gray-600 md:text-[1.6rem] text-[1.4rem]",children:["Tng tin:"," ",o.jsx("span",{className:"text-red-600 md:text-[2rem] text-[1.6rem]",children:E(_.totalAmount)})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[_.status===Le.CANCELLED&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:border-gray-400 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:_.orderCode,data:_}),children:"Chi tit hy n"}),_.status===Le.PENDING&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:_.orderCode,data:null}),children:"Hy n hng"}),_.status===Le.SHIPPING&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>u({open:!0,data:_}),children:"Chi tit n vn"}),o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-amber-500 text-amber-600 rounded-md cursor-pointer",onClick:()=>f({open:!0,data:_}),children:" nhn c hng"})]})]})]})]},_.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center mt-[5rem]",children:[o.jsx("img",{src:c7,alt:"no order",className:"w-[20rem]"}),o.jsx("p",{className:"text-gray-600 mt-[1em]",children:"Khng c n hng no"})]})]})})]}),o.jsx(f7,{open:b.open,item:b.data,onClose:()=>w({open:!1,data:null}),refetch:A}),o.jsx(m7,{open:a.open,onClose:()=>l({open:!1,orderCode:null,data:null}),orderCode:a.orderCode,refetch:A,status:a?.data?.status,cancelReason:a?.data?.reason,cancelledAt:a.data?.updatedAt,cancelledBy:a.data?.customerName}),o.jsx(Jye,{open:d.open,onClose:()=>f({open:!1,data:null}),data:d.data,refetch:A})]})}function ebe(){const[t]=ma(),e=t.get("buyNowVariant"),n=t.get("buyback"),{user:r}=Ct(),s=rt(),[i,a]=T.useState([]),[l,c]=T.useState(!1),[u,d]=T.useState([]),{data:f}=Fe({queryKey:["cart"],queryFn:jj,enabled:!!r});T.useEffect(()=>{window.scrollTo(0,0)},[]),T.useEffect(()=>{if(r)if(f&&f.length>0){const P=f[0].items.map(E=>({id:E.variant.id,product:E.variant.product,variantSize:E.variant.variantSize,variantColor:E.variant.variantColor,price:E.price,quantity:E.quantity,inventory:E.variant.inventory,selected:!1}));a(P)}else a([]);else{const A=r?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(d(A),A.length===0){a([]);return}const P=A.map(D=>D.variantId);(async()=>{try{const D=await i7(P);if(D.status){const L=D.data.map(_=>{const z=A.find(G=>G.variantId===_.id);return{..._,quantity:z.quantity||1,selected:!1}});a(L)}}catch(D){console.log(D),ue.error(D.message)}})()}},[r,f]),T.useEffect(()=>{if(!e&&!n||i.length===0)return;const A=[];if(n&&A.push(...n.split(",").map(Number).filter(_=>!isNaN(_)&&_>0)),e){const _=Number(e);!isNaN(_)&&_>0&&A.push(_)}if(A.length===0)return;const P=[...new Set(A)];if(!i.some(_=>P.includes(_.id)))return;let D=!1;a(_=>{let z=!1;const G=_.map(H=>P.includes(H.id)&&!H.selected?(D=!0,z=!0,{...H,selected:!0}):H);return z?G:_}),D&&setTimeout(()=>{const _=document.querySelector("tr.bg-blue-50");_&&_.scrollIntoView({behavior:"smooth",block:"center"})},300);const L=new URL(window.location.href);L.searchParams.delete("buyback"),L.searchParams.delete("buyNowVariant"),window.history.replaceState({},"",L)},[i]),T.useEffect(()=>{const A=i.length>0&&i.every(E=>E.selected),P=i.every(E=>!E.selected);c(A&&!P)},[i]);const p=async(A,P)=>{const E=i.map(_=>_.id===A?{..._,quantity:P==="incre"?Math.min(_.inventory,_.quantity+1):Math.max(1,_.quantity-1)}:_);a(E);const D=E.find(_=>_.id===A).quantity,L={variantId:A,quantity:D};if(r)try{if((await ge.patch("/api/v1/cart-items/update-quantity",L)).status)return}catch(_){ue.error(_.message)}else{const _=u.map(z=>z.variantId===A?{...z,quantity:D}:z);d(_),localStorage.setItem("localCart",JSON.stringify(_))}},g=async A=>{if(r)try{await ge.delete(`/api/v1/cart-items/${A}`),a(P=>P.filter(E=>E.id!==A))}catch(P){ue.error(P.message||"Xa tht bi")}else{const P=u.filter(E=>E.variantId!==A);localStorage.setItem("localCart",JSON.stringify(P)),d(P),a(E=>E.filter(D=>D.id!==A))}},x=()=>{const A=!l;c(A),a(i.map(P=>({...P,selected:A})))},v=A=>{a(i.map(P=>P.id===A?{...P,selected:!P.selected}:P))},b=A=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(A),w=()=>i.filter(A=>A.selected).reduce((A,P)=>{const E=P.price||P.product?.price||0;return A+E*P.quantity},0),S=i.filter(A=>A.selected),j=S.length,M=()=>{const A={items:S.map(P=>({variantId:P.id,productId:P.product.id,productName:P.product.productName,mainImage:P.product.mainImage,price:P.price||P.product.price,quantity:P.quantity,size:P.variantSize?.name||"",color:P.variantColor?.name||"",inventory:P.inventory})),subtotal:w(),total:w(),timestamp:new Date().toISOString()};sessionStorage.setItem("checkoutData",JSON.stringify(A)),r?sessionStorage.setItem("checkoutFrom","authenticated"):sessionStorage.setItem("checkoutFrom","guest"),s("/checkout")},C=()=>{if(j===0){ue.error("Vui lng chn sn phm  thanh ton");return}const A=S.find(P=>P.quantity>P.inventory);if(A){ue.error(`Sn phm "${A.product.productName}" khng  s lng`);return}M()};return o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(F,{icon:ca,className:"text-2xl sm:text-3xl lg:text-4xl text-red-500"}),o.jsx("h1",{className:" font-bold text-gray-800",children:"Gi hng ca bn"})]}),o.jsxs("span",{className:"text-sm sm:text-base lg:text-[1.4rem] text-gray-500 pl-0 sm:pl-4",children:["(",i.filter(A=>A.selected).length," sn phm c chn)"]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-lg overflow-x-auto",children:[o.jsx("div",{className:"lg:hidden",children:i.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem]",children:"Gi hng trng"})}):o.jsx("div",{className:"divide-y divide-gray-200",children:i.map(A=>o.jsxs("div",{className:`p-4 ${A.selected?"bg-blue-50":""} hover:bg-gray-50 transition`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("button",{onClick:()=>v(A.id),className:"mt-1",children:o.jsx(F,{icon:A.selected?Vb:Bb,className:`text-[1.4rem] ${A.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("img",{src:A.product.mainImage,alt:A.product.productName,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg object-cover flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem] font-medium text-gray-800 line-clamp-2",children:A.product.productName}),A.inventory<5&&o.jsxs("p",{className:"text-[1.2rem] text-red-500 mt-1",children:["Ch cn ",A.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 mt-1 flex flex-wrap items-center gap-1",children:[o.jsxs("span",{children:["Size: ",A.variantSize.name]}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:["Mu: ",A.variantColor.name]})]})]})]})})]}),o.jsx("button",{className:"text-red-500 hover:text-red-700 transition ml-2",onClick:()=>g(A.id),children:o.jsx(F,{icon:e2,className:"text-[1.4rem]"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:"text-[1.2rem] sm:text-[1.6rem] font-semibold text-red-600",children:b(Number(A.price||A.product.price))}),A.price&&o.jsx("p",{className:"text-[1.4rem] text-gray-400 line-through",children:b(A.price)})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>p(A.id,"decre"),disabled:A.quantity<=1,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(F,{icon:_l,className:"text-gray-500 text-xs sm:text-sm"})}),o.jsx("span",{className:"w-6 sm:w-8 text-center text-[1.2rem] sm:text-base text-gray-600",children:A.quantity}),o.jsx("button",{onClick:()=>p(A.id,"incre"),disabled:A.quantity>=A.inventory,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(F,{icon:ua,className:"text-gray-500 text-xs sm:text-sm"})})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-[1.4rem] sm:text-base font-semibold text-red-600",children:b(Number(A.price||A.product.price)*Number(A.quantity))})})]})]},A.id))})}),o.jsxs("div",{className:"hidden lg:block",children:[o.jsxs("table",{className:"w-full text-[1.6rem]",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-5 text-left pl-6 font-normal",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:x,children:o.jsx(F,{icon:l?Vb:Bb,className:`text-[2rem] ${l?"text-blue-600":"text-gray-300"}`})}),o.jsx("span",{children:"Sn phm"})]})}),o.jsx("th",{className:"py-5 font-normal",children:"n gi"}),o.jsx("th",{className:"py-5 font-normal",children:"S lng"}),o.jsx("th",{className:"py-5 font-normal",children:"Thnh tin"}),o.jsx("th",{className:"py-5 font-normal",children:"Thao tc"})]})}),o.jsx("tbody",{children:i.map(A=>o.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"py-6 pl-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>v(A.id),children:o.jsx(F,{icon:A.selected?Vb:Bb,className:`text-[2rem] ${A.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("img",{src:A.product.mainImage,alt:A.product.productName,className:"w-20 h-20 rounded-lg object-cover"}),o.jsxs("div",{className:"max-w-xs",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1",children:A.product.productName}),A.inventory<5&&o.jsxs("p",{className:"text-sm text-red-500 mt-1",children:["Ch cn ",A.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 flex items-center gap-[.5rem]",children:[o.jsxs("span",{children:["size: ",A.variantSize.name]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("span",{children:["mu: ",A.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-red-600",children:b(Number(A.price||A.product.price))}),A.price&&o.jsx("p",{className:"text-sm text-gray-400 line-through",children:b(A.price)})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("button",{onClick:()=>p(A.id,"decre"),disabled:A.quantity<=1,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(F,{icon:_l,className:"text-gray-500"})}),o.jsx("span",{className:"w-8 text-center text-gray-600",children:A.quantity}),o.jsx("button",{onClick:()=>p(A.id,"incre"),disabled:A.quantity>=A.inventory,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(F,{icon:ua,className:"text-gray-500"})})]})}),o.jsx("td",{className:"text-center text-[1.4rem] text-red-600",children:b(Number(A.price||A.product.price)*Number(A.quantity))}),o.jsx("td",{className:"text-center",children:o.jsx("button",{className:"text-red-500 hover:text-red-700 transition p-3",onClick:()=>g(A.id),children:o.jsx(F,{icon:e2,className:"text-[1.4rem]"})})})]},A.id))})]}),i.length===0&&o.jsx("div",{className:"text-center py-20 text-gray-500",children:o.jsx("p",{className:"text-2xl",children:"Gi hng trng"})})]})]}),o.jsx("div",{className:"w-full lg:w-[40rem]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 sticky top-4 sm:top-6",children:[o.jsx("h2",{className:"font-bold text-gray-800 text-[1.4rem] sm:text-[1.6rem] mb-4 sm:mb-6",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-4 sm:space-y-6 text-[1.4rem] sm:text-[1.6rem] text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Tm tnh (",j," sn phm):"]}),o.jsx("span",{className:"font-semibold",children:b(w())})]}),o.jsxs("div",{children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("div",{className:"mt-2 sm:mt-4 text-[1.4rem] sm:text-[1.6rem] text-green-600",children:"Ph vn chuyn s c tnh chnh xc da trn a ch nhn hng"})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4 sm:pt-6",children:o.jsxs("div",{className:"flex justify-between text-[1.4rem] sm:text-[1.6rem]",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.6rem] sm:text-[1.8rem] text-red-600",children:b(w())})]})})]}),o.jsx("button",{disabled:i.length===0,className:`w-full mt-6 sm:mt-8 py-3 sm:py-4 rounded-xl font-bold text-[1.4rem] sm:text-[1.6rem] transition ${j===0?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600 shadow-lg text-white"}`,onClick:()=>C(),children:j===0?"Vui lng chn sn phm":"Thanh ton ngay"}),o.jsx("div",{className:"mt-3 sm:mt-4 text-center text-[1rem] sm:text-[1.2rem] text-gray-500",children:"Min ph vn chuyn cho n t 500.000"})]})})]})]})}function Aj({openActionAddress:t,onClose:e,onSuccess:n}){const{user:r}=Ct(),{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Bs({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}});T.useEffect(()=>{if(t.action==="edit"&&t.dataUpdate){const E=t.dataUpdate;f({province:E.province,district:E.district,ward:E.ward,recipentName:E.recipentName,addressDetail:E.addressDetail,phone:E.phone,isDefault:E.isDefault})}},[t.action,t.dataUpdate,f]);const{data:p}=Fe({queryKey:["province"],queryFn:hj}),g=d("province"),x=d("district"),b=p?.find(E=>E.name===g)?.districts??[],S=b.find(E=>E.name===x)?.wards??[],j=p?.map(E=>({value:E.name,label:E.name})),M=b?.map(E=>({value:E.name,label:E.name})),C=S?.map(E=>({value:E.name,label:E.name})),A=async E=>{try{let D=null;if(r){if(t.action==="edit"&&t.dataUpdate?D=await ge.patch(`/api/v1/address/update/${t.dataUpdate.id}`,E):D=await ge.post("/api/v1/address/add",{...E}),D.status){f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e(),n?.();return}}else{const L={...E};localStorage.setItem("guest_address",JSON.stringify(L)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:L}})),e(),n?.()}}catch(D){console.log(D),ue.error(D.message)}},P=()=>{f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e()};return o.jsxs(bt,{open:t.open,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600 mb-[2.5rem] font-bold text-center",children:t.action==="add"&&!t.dataUpdate?"Thm a ch":"Cp nht a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:E=>{E.stopPropagation(),P()},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:E=>{E.stopPropagation(),E.preventDefault(),a(A)(E)},children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(fi,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:E})=>o.jsx(sa,{...E,options:j,placeholder:"Tnh...",isSearchable:!0,value:j?.find(D=>D.value===E.value)||null,onChange:D=>{E.onChange(D?.value),u("district",""),u("ward","")},styles:{control:D=>({...D,height:"4rem"})},theme:D=>({...D,colors:{...D.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(fi,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:E})=>o.jsx(sa,{...E,options:M,placeholder:"Huyn...",isSearchable:!0,value:M?.find(D=>D.value===E.value)||null,onChange:D=>{E.onChange(D?.value),u("ward","")},styles:{control:D=>({...D,height:"4rem"})},theme:D=>({...D,colors:{...D.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(fi,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:E})=>o.jsx(sa,{...E,options:C,placeholder:"Phng...",isSearchable:!0,value:C?.find(D=>D.value===E.value)||null,onChange:D=>{E.onChange(D?.value)},styles:{control:D=>({...D,height:"4rem"})},theme:D=>({...D,colors:{...D.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),r&&o.jsxs("label",{htmlFor:"isDefault",className:"flex items-center w-[11rem] gap-[1rem] mt-[1.5rem]",children:[o.jsx("span",{className:"select-none text-gray-600",children:"Mc nh"}),o.jsxs("div",{className:"relative inline-block w-12 h-6",children:[o.jsx("input",{id:"isDefault",type:"checkbox",className:"peer hidden",...i("isDefault"),disabled:d("addressDetail")===""}),o.jsx("div",{className:"absolute inset-0 bg-gray-300 rounded-full peer-checked:bg-blue-500 transition"}),o.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"})]})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:E=>{E.stopPropagation(),P()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":t.action==="edit"?"Lu":"Thm"})]})]})]})}function tbe({open:t,onSelect:e,onClose:n,selectedId:r}){const{refreshUser:s,user:i}=Ct(),[a,l]=T.useState(null),c=jo(),[u,d]=T.useState({open:!1,dataUpdate:null,action:"add"}),[f,p]=T.useState([]);T.useEffect(()=>{if(i&&i.address.length>0){const v=i.address;p(v)}},[i]),console.log(f),T.useEffect(()=>{if(t&&r&&f){const v=f.find(b=>b.id===r);v&&l(v)}},[r,f]);const g=()=>{e(a),s(),n()},x=async()=>{d({open:!1,dataUpdate:null,action:"add"}),await c.invalidateQueries({queryKey:["user"]})};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t,className:"relative w-[60rem] min-h-[20rem] max-h-[65rem] overflow-hidden rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[2rem] text-center text-orange-600 font-bold",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:()=>n(),children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2rem] space-y-4 min-h-[40rem] max-h-[50rem] overflow-auto hide-scrollbar",children:[o.jsxs("div",{className:"flex items-center justify-between mb-[2rem]",children:[o.jsx("h4",{className:"text-gray-800",children:"a ch"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.3rem] px-[1rem] py-[.5rem] rounded-md border border-gray-300 text-gray-500 hover:bg-gray-100 transition duration-300 cursor-pointer",onClick:()=>d({open:!0,dataUpdate:null,action:"add"}),children:[o.jsx(F,{icon:Qr,className:"text-[1.4rem]"}),o.jsx("span",{children:"Thm a ch"})]})]}),f&&f?.length>0?o.jsx(o.Fragment,{children:f.map(v=>o.jsxs("label",{htmlFor:`select-${v.id}`,className:"flex items-center justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("span",{className:"w-[2rem] h-[2rem] flex items-center justify-center",children:o.jsx("input",{type:"radio",id:`select-${v.id}`,name:"select",className:"scale-[1.5] ",style:{accentColor:"red"},checked:a?.id===v.id,onChange:()=>{l(v)}})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:v.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:v.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:v.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[v.ward,", ",v.district,", ",v.province]}),v.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},v.id)]}),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsx("div",{className:"flex items-center gap-[1rem] ",children:o.jsx("button",{type:"button",className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>d({open:!0,dataUpdate:v,action:"edit"}),children:"Cp nht"})}),o.jsx("button",{type:"button",className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>{const b=f.filter(w=>w.id!==v.id);if(localStorage.setItem("guest_addresses",JSON.stringify(b)),b.length>0){const w=b[b.length-1];localStorage.setItem("guest_latest_address",JSON.stringify(w)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:w}}))}else localStorage.removeItem("guest_latest_address"),localStorage.removeItem("guest_addresses"),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added"}}));p(b)},children:"Xa"})]})]},v.id))}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(F,{icon:mN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>g(),children:"Xc nhn"})]})]}),o.jsx(Aj,{openActionAddress:u,onClose:()=>d({open:!1,dataUpdate:null,action:"add"}),onSuccess:x})]})}function nbe({open:t,onClose:e}){const n=rt();return o.jsxs(bt,{open:t,className:"relative w-[60rem] rounded-lg bg-white p-[3rem]",children:[o.jsx("h2",{className:"text-[1.8rem] text-gray-600 mb-[2.5rem] font-bold",children:"Email ny  c ti khon vui lng ng nhp  tip tc!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[3rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp ngay"})]})]})}function rbe({open:t,selected:e,onClose:n,setSelectVoucher:r,conditionValue:s}){const[i,a]=T.useState(""),{data:l}=Fe({queryKey:["getSavedVouchers"],queryFn:()=>kj(),staleTime:120*1e3,enabled:t}),[c,u]=T.useState({open:!1,content:"",isSuccess:!0}),d=l&&l.data.filter(x=>!x.usedAt);console.log(d);const f=x=>Zr(x).format("HH:mm DD/MM/YYYY"),p=x=>{if(new Date>new Date(x.endDate)){u({open:!0,content:"Voucher  ht hn!",isSuccess:!1});return}if(s&&s<x.minOrderValue){u({open:!0,content:"Gi n khng  iu kin s dng vocuher ny!",isSuccess:!1});return}r(b=>({...b,open:!1,voucher:x}))},g=async x=>{try{const v=await ge.post(`/api/v1/check-voucher/${x}`);v.status&&r({open:!1,voucher:v.data,conditionValue:v.data.minOrderValue})}catch(v){console.log(v),ue.error(v.message)}};return o.jsxs(bt,{open:t,className:"relative flex flex-col w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(F,{icon:pn,className:"text-3xl"})}),o.jsx("h2",{className:"text-3xl  font-bold text-center text-pink-600",children:"Voucher gim gi"})]}),o.jsxs("div",{className:"px-8 space-y-4 z-0",children:[o.jsx("div",{className:"w-full p-8 bg-gray-100 rounded-2xl flex items-center justify-center mt-4",children:o.jsxs("div",{className:"w-4xl flex items-center space-x-4",children:[o.jsx("p",{children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",className:"flex-1 bg-white h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.5rem]",placeholder:"Nhp m voucher...",onChange:x=>a(x.target.value)}),o.jsx("button",{className:`h-[4rem] px-8 rounded-md ${i===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"}  transition-colors duration-300`,onClick:()=>g(i),children:"p dng"})]})}),d?.length>0?o.jsx("div",{className:"grid grid-cols-2 gap-[1rem]",children:d?.map(x=>{const v=e&&e.id===x.id,b=s&&x.minOrderValue<=s;return o.jsxs("div",{className:`flex items-center bg-gradient-to-r ${b?"from-pink-500 to-blue-600":"from-gray-300 to-gray-500"}  rounded-2xl p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-30 h-30 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-46 h-46 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative w-full z-10",children:[o.jsx("h3",{className:"text-[1.4rem] text-nowrap select-none",children:x.name}),o.jsxs("div",{className:"text-[2rem] font-bold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] gap-2",children:["HSD: n ",f(x.endDate)]}),o.jsx("div",{className:"w-full flex justify-end mt-2",children:o.jsx("button",{className:`text-[1.2rem] px-6 py-2 rounded-xl  ${b?`${v?"bg-red-500 text-white":"text-red-600 hover:text-red-700 hover:border-red-500 bg-white"} cursor-pointer`:"bg-gray-400 cursor-not-allowed"}  border border-transparent  transition-colors duration-300 `,onClick:()=>p(x),disabled:!b,children:v?"ang p dng":"p dng"})})]})]},x.id)})}):o.jsx("div",{className:"py-16 text-center",children:"ng nhp  lu voucher"})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-8 py-6 text-end z-10",children:o.jsx("button",{onClick:n,className:"px-12 py-3 bg-gray-200 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})}),o.jsx(Du,{content:c.content,duration:1e3,showNotify:c.open,isSuccess:c.isSuccess})]})}function sbe(){const{user:t,refreshUser:e}=Ct(),n=rt(),[r,s]=T.useState({open:!1,selectedId:null}),[i,a]=T.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,p]=T.useState(0),[g,x]=T.useState(!1),[v,b]=T.useState(0),[w,S]=T.useState(0),[j,M]=T.useState(0),[C,A]=T.useState(!1),[P,E]=T.useState([]),[D,L]=T.useState({open:!1,voucher:null,conditionValue:null}),_=jo(),{register:z,handleSubmit:G,formState:{errors:H,isSubmitting:W},setValue:R,watch:$}=Bs({defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerWard:"",customerDistrict:"",customerProvince:"",customerNote:"",paymentMethod:Kr.COD,couponCode:"",orderItems:[]}}),V=$("customerProvince"),K=$("paymentMethod"),[X,B]=T.useState(null);T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(t&&(R("customerPhone",t.phone?.toString()||""),R("customerEmail",t.email||""),t.address.length>0)){const le=t?.address.find(ee=>ee.isDefault);le&&(c(le),R("customerName",le.recipentName||t.username||""),R("customerAddress",le.addressDetail),R("customerWard",le.ward),R("customerDistrict",le.district),R("customerProvince",le.province),s({open:!1,selectedId:le.id}))}},[t,R]),T.useEffect(()=>{const le=()=>{if(t)return;const ie=localStorage.getItem("guest_address");if(ie){const he=JSON.parse(ie);c(he),R("customerAddress",he.addressDetail),R("customerWard",he.ward),R("customerDistrict",he.district),R("customerProvince",he.province)}else c(null),R("customerAddress",""),R("customerWard",""),R("customerDistrict",""),R("customerProvince","")};le();const ee=ie=>{const he=ie,{action:ke}=he.detail||{};ke==="cleared"?(c(null),R("customerAddress",""),R("customerWard",""),R("customerDistrict",""),R("customerProvince","")):le()};return window.addEventListener("guest_address_updated",ee),()=>{window.removeEventListener("guest_address_updated",ee)}},[t,R]),T.useEffect(()=>{const le=sessionStorage.getItem("checkoutData");if(!le){ue.error("Khng tm thy thng tin n hng!"),n("/cart/detail");return}const ee=JSON.parse(le),ie=ee.items.map(he=>({productId:he.productId,variantId:he.variantId,price:Number(he.price),quantity:he.quantity}));R("orderItems",ie),B(ee)},[n,R]),T.useEffect(()=>{if(!t||!X||X?.items?.length===0)return;(async()=>{try{const ee=X.items.map(he=>he.productId),ie=await ge.post("/api/v1/flashsale/check-products",{productIds:ee});ie.status&&ie.data&&E(ie.data)}catch(ee){console.log(ee)}})()},[X,t]),T.useEffect(()=>{if(!X||!P.length){S(X?.subtotal||0);return}let le=0;X.items.forEach(ee=>{const ie=P.find(ke=>ke.productId===ee.productId);let he;if(!ie||!ie.isFlashActive||ie.remainingSlot<=0)he=ee.price*ee.quantity;else{const ke=Number(ie.sale_price),Ne=ee.price,ve=Math.min(ee.quantity,Number(ie.remainingSlot)),Oe=ee.quantity-ve;he=ve*ke+Ne*Oe}le+=he}),S(le)},[X,P]),T.useEffect(()=>{if(!X)return;let le=0;if(t&&D.voucher){const ie=D.voucher,he=w;ie.type===ai.PERCENT?(le=Number(he)*ie.value/100,le>ie.maxDiscount&&(le=ie.maxDiscount)):le=ie.value}b(le);const ee=w+f-le;M(ee)},[D.voucher,X,f,t,w]);const J=async le=>{if(X){x(!0);try{const ee=await ge.post("/api/v1/orders/calculate-shipping",{subTotal:w,customerProvince:le.province});if(ee.status)p(ee.data.shippingFee),M(w+ee.data.shippingFee);else{const ie=w>=5e5?0:35e3;p(ie),M(w+ie)}}catch{const ie=w>=5e5?0:35e3;p(ie),M(w+ie)}finally{x(!1)}}};T.useEffect(()=>{X&&V&&J({province:V})},[V,X]),T.useEffect(()=>{if(t===void 0)return;sessionStorage.getItem("checkoutFrom")==="authenticated"&&!t&&(ue.error("Phin ng nhp  ht hn! Vui lng chn li sn phm."),sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),n("/cart/detail",{replace:!0}))},[t,n]);const ne=le=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(le),se=le=>{c(le),R("customerName",le.recipentName),R("customerPhone",le.phone.toString()),R("customerAddress",le.addressDetail),R("customerWard",le.ward),R("customerDistrict",le.district),R("customerProvince",le.province),s({open:!1,selectedId:le.id})},fe=async le=>{try{const ee={shippingFee:f,totalAmount:j,...le,...D.voucher&&v?{voucherCode:D.voucher.voucherCode,discountAmount:v}:{}},ie=await ge.post("/api/v1/orders/create",ee);if(ie.status){if(sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),!t){const he=localStorage.getItem("guest_orders");if(he){const ke=JSON.parse(he);ke.push(ie.data.orderCode),localStorage.setItem("guest_orders",JSON.stringify(ke))}else localStorage.setItem("guest_orders",JSON.stringify([ie.data.orderCode]))}ue.success(ie.data.message||"t hng thnh cng!"),le.paymentMethod!==Kr.COD?window.location.href=ie.data.paymentUrl:n(`/order-confirmation/${ie.data.orderCode}`,{replace:!0}),t&&await e()}else ie.existingEmail&&A(!0)}catch(ee){console.log(ee),ue.error(ee.message||"C li xy ra khi t hng. Vui lng th li!")}},Te=async()=>{a({open:!1,dataUpdate:null,action:"add"}),t&&await _.invalidateQueries({queryKey:["user"]})};return X?o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>n("/cart/detail",{replace:!0}),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4 sm:mb-6",children:[o.jsx(F,{icon:yi}),o.jsx("span",{children:"Quay li gi hng"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800",children:"Thanh ton"}),!t&&o.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-blue-800 text-[1.4rem]",children:["Bn ang mua hng vi t cch ",o.jsx("strong",{children:"khch vng lai"}),".",o.jsx("button",{onClick:()=>n("/login",{state:{from:"/checkout"}}),className:"ml-2 text-blue-600 underline font-medium cursor-pointer",children:"ng nhp"})," "," c th s dng voucher v cc m gim gi khc!"]})})]}),o.jsx("form",{onSubmit:G(fe),children:o.jsxs("div",{className:"grid lg:grid-cols-5 gap-6 lg:gap-8",children:[o.jsx("div",{className:"lg:col-span-3 space-y-6 lg:space-y-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg pt-6 lg:pt-10 px-4 sm:px-6 lg:px-10 pb-6 lg:pb-18",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 lg:mb-6",children:[o.jsx(F,{icon:t2,className:"text-xl lg:text-2xl text-red-500"}),o.jsx("h2",{className:"font-bold",children:"Thng tin giao hng"})]}),o.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 lg:gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...z("customerName",{required:"Vui lng nhp h tn!"})}),H.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:H.customerName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerPhone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"tel",placeholder:"S in thoi *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",readOnly:!!t?.phone,...z("customerPhone",{required:"Vui lng nhp s in thoi!"})}),H.customerPhone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:H.customerPhone.message})]})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerEmail",className:"block text-gray-600",children:"Email"}),o.jsx("input",{type:"email",placeholder:"Email (ty chn)",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300 md:col-span-2 select-none",readOnly:!!t?.email,...z("customerEmail",{required:"Vui lng nhp email!"})}),H.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:H.customerEmail.message})]}),o.jsxs("div",{className:"w-full space-y-2",children:[o.jsx("label",{className:"block text-gray-600 font-medium",children:"a ch giao hng"}),o.jsx("div",{className:"space-y-4",children:l?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border border-dashed rounded-md p-4 lg:p-[2rem] border-gray-300 gap-4",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 lg:gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:l.recipentName}),o.jsx("span",{className:"hidden sm:block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:l.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:l.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[l.ward,", ",l.district,","," ",l.province]}),l.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm inline-block mt-2",children:"Mc nh"})]},l.id),o.jsx("div",{className:"flex space-y-2 sm:flex-col sm:space-y-4",children:o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-amber-500 border-amber-400 hover:border-amber-600 hover:text-amber-600 rounded-sm w-full sm:w-auto",onClick:()=>{t?s({open:!0,selectedId:l.id}):a({open:!0,action:"edit",dataUpdate:l})},children:"Thay i"})})]},l.id):o.jsxs("button",{type:"button",className:"flex items-center justify-center gap-[.5rem] text-center rounded-md px-4 lg:px-[2rem] py-3 lg:py-[.6rem] border border-dashed border-blue-500 cursor-pointer hover:border-blue-600 text-blue-500 hover:text-blue-600 w-full",onClick:()=>{t?s({open:!0,selectedId:null}):a({open:!0,action:"add",dataUpdate:null})},children:[o.jsx(F,{icon:Qr,className:"text-[1.5rem] lg:text-[2rem]"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] lg:text-[1.6rem] select-none",children:"Thm a ch"})]})})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerNote",className:"block text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{placeholder:"Ghi ch cho shop (ty chn)",rows:2,className:"w-full pl-[1rem] lg:pl-[1.5rem] py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 md:col-span-2",...z("customerNote")})]})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-4 sm:px-6 py-6 lg:py-10 sticky top-4 lg:top-6",children:[o.jsxs("h2",{className:"font-bold text-gray-800 mb-4 lg:mb-6 flex items-center gap-3",children:[o.jsx(F,{icon:Y0,className:"text-red-500"}),o.jsxs("span",{children:["n hng (",X.items.length," sn phm)"]})]}),o.jsx("div",{className:"space-y-4 max-h-64 sm:max-h-80 lg:max-h-96 overflow-y-auto pr-2 mb-4 lg:mb-6",children:X.items.map((le,ee)=>{const ie=P.find(Oe=>Oe.productId===le.productId);let he,ke,Ne=!1,ve="";if(!ie||!ie.isFlashActive||ie.remainingSlot<=0)he=le.price,ke=le.price*le.quantity;else{const Oe=Number(ie.sale_price),Ye=le.price,gt=Math.min(le.quantity,ie.remainingSlot),Rt=le.quantity-gt;ke=gt*Oe+Ye*Rt,he=Oe,Ne=!0,gt<le.quantity?ve=`(FlashSale: p dng ${gt}/${le.quantity} sp)`:ve=`(FlashSale: ${ie.discount}% - cn ${ie.remainingSlot} slot)`}return o.jsxs("div",{className:"flex justify-between gap-3 lg:gap-4 pb-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex items-center gap-3 lg:gap-[1rem] min-w-0",children:[o.jsx("img",{src:le.mainImage,alt:le.productName,className:"w-22 h-22 lg:w-26 lg:h-26 rounded-lg object-cover border border-gray-300 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1 text-[1.4rem]",children:le.productName}),le.size&&le.color&&o.jsxs("p",{className:"text-[1.2rem] text-gray-500 truncate",children:[le.color," / ",le.size]}),o.jsxs("span",{className:"text-[1.2rem]",children:["S lng:","  ",le.quantity]}),o.jsxs("div",{className:"mt-1 text-[1.2rem] flex items-center",children:[Ne?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-red-400 line-through",children:ne(le.price)}),o.jsx("span",{className:"ml-2 font-bold text-red-600",children:ne(he)})]}):o.jsx("span",{className:"font-semibold text-red-600",children:ne(he)}),ve&&o.jsx("span",{className:"ml-2 text-orange-600 text-[1rem] md:text-[1.2rem]",children:ve})]})]})]}),o.jsx("p",{className:"text-red-600 whitespace-nowrap text-[1.4rem] flex-shrink-0",children:ne(ke)})]},ee)})}),o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:D.voucher?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[o.jsx("p",{className:"text-blue-600",children:" p dng voucher:"}),o.jsxs("div",{className:"flex space-x-4 gap-2",children:[o.jsx("button",{type:"button",onClick:()=>L(le=>({...le,open:!0})),className:"text-blue-600 hover:text-blue-700 cursor-pointer text-[1.4rem]",children:"i"}),o.jsx("button",{type:"button",onClick:()=>{L({open:!1,voucher:null,conditionValue:w}),b(0)},className:"text-red-600 hover:text-red-700 cursor-pointer text-[1.4rem]",children:"B"})]})]}):o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:o.jsx("p",{className:"text-blue-600 cursor-pointer hover:text-blue-700 select-none text-center sm:text-left",onClick:()=>{t?L({open:!0,voucher:null,conditionValue:w}):d(!0)},children:"Chn hoc nhp m voucher"})})}),o.jsxs("div",{className:"mt-4 lg:mt-6 pt-4 lg:pt-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex justify-between text-[1.4rem]",children:[o.jsx("span",{className:"text-gray-800",children:"Tm tnh:"}),o.jsx("span",{children:ne(w)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600",children:g?o.jsx("span",{className:"text-gray-500",children:"ang tnh..."}):f===0?"Min ph":ne(f)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Voucher p dng:"}),o.jsxs("span",{className:"text-red-600",children:["- ",ne(v)]})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4",children:o.jsxs("div",{className:"flex justify-between font-bold",children:[o.jsx("span",{children:"Tng cng:"}),o.jsx("span",{className:"text-red-600",children:ne(j)})]})})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(F,{icon:pG,className:"text-lg text-green-600"}),o.jsx("h3",{className:"font-bold text-gray-800",children:"Thanh ton"})]}),o.jsx("div",{className:"space-y-3",children:Object.values(Kr).map(le=>o.jsxs("label",{className:`flex items-center gap-3 p-2 border-1 rounded-lg cursor-pointer transition-all ${K===le?"border-pink-400 bg-pink-50":"border-gray-200 hover:border-gray-400"}`,children:[o.jsx("input",{type:"radio",name:"payment",value:le,checked:K===le,onChange:()=>R("paymentMethod",le),className:"w-4 h-4 text-green-500"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F,{icon:rG,className:"text-lg text-green-600"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] uppercase truncate",children:le}),o.jsx("p",{className:"text-[1.2rem] text-gray-600 truncate",children:"Thanh ton khi nhn hng"})]})]})}),K===le&&o.jsx(F,{icon:iu,className:"text-lg text-pink-500 flex-shrink-0"})]},le))})]}),o.jsx("button",{className:"w-full mt-6 py-3 lg:py-5 uppercase bg-red-500 hover:bg-red-600 text-white text-lg lg:text-xl font-bold rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95",type:"submit",disabled:W,children:W?"ang x l":"T NGAY"})]})})]})}),r.open&&o.jsx(tbe,{open:r.open,onSelect:se,selectedId:r.selectedId,onClose:()=>s({open:!1,selectedId:l?.id??null})}),o.jsx(Aj,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:Te}),o.jsx(nbe,{open:C,onClose:()=>A(!1)}),o.jsx(u8,{children:D.open&&o.jsx(rbe,{open:D.open,selected:D.voucher,setSelectVoucher:L,onClose:()=>L(le=>({...le,open:!1})),conditionValue:D.conditionValue})}),o.jsx(Tj,{open:u,onClose:()=>d(!1)})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-2xl text-gray-500",children:"ang ti thng tin n hng..."})})}function ibe(){const{user:t,refreshUser:e}=Ct(),n=t?.address,[r,s]=T.useState(!1),[i,a]=T.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=T.useState({open:!1,delete:null}),u=async()=>{try{if(s(!0),(await ge.delete(`/api/v1/address/delete/${l.delete}`)).status){c({open:!1,delete:null}),await e();return}}catch(p){console.log(p),c({open:!1,delete:null}),ue.error(p.message)}finally{s(!1)}},d=async p=>{try{if((await ge.patch(`/api/v1/address/set-default/${p}`)).status){await e();return}}catch(g){console.log(g),ue.error(g.message)}},f=async()=>{await e()};return o.jsxs("div",{className:"p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"a ch ca ti"}),o.jsxs("button",{className:"flex items-center gap-[.5rem] px-5 py-2.5 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>a({open:!0,action:"add",dataUpdate:null}),children:[o.jsx(F,{icon:Qr,className:"text-white"}),o.jsx("span",{className:"text-white",children:"Thm a ch"})]})]}),o.jsx("div",{className:"mt-[2rem] space-y-4",children:n&&n?.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h4",{className:"text-[1.8rem] text-gray-800 mb-[2rem]",children:"a ch"}),n.map(p=>o.jsxs("div",{className:"flex md:items-center flex-col md:flex-row justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:p.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:p.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:p.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[p.ward,", ",p.district,", ",p.province]}),p.isDefault&&o.jsx("button",{className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},p.id),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] md:mt-0 mt-5",children:[o.jsx("button",{className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>a({open:!0,dataUpdate:p,action:"edit"}),children:"Cp nht"}),!p.isDefault&&o.jsx("button",{className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>c({open:!0,delete:p.id}),children:"Xa"})]}),o.jsx("button",{className:`px-[1rem] py-[.4rem] text-[1.4rem] border ${p.isDefault?"text-gray-400 border-gray-200 cursor-not-allowed":"text-orange-500 border-orange-400 hover:border-orange-600 hover:text-orange-600"}  rounded-sm`,disabled:p.isDefault,onClick:()=>d(p.id),children:"Thit lp mc nh"})]})]},p.id))]}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(F,{icon:mN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})}),o.jsx(Aj,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:f}),o.jsxs(bt,{open:l.open,className:"relative w-[50rem] min-h-[10rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[1.8rem] text-gray-800",children:"Bn c chc mun xa a ch ny?"}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-gray-600 bg-gray-200  hover:bg-gray-300 rounded-sm",onClick:()=>c({open:!1,delete:null}),disabled:r,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm",onClick:()=>u(),disabled:r,children:r?"ang x l...":"Xa"})]})]})]})}const abe={[tl.NOT_USING]:"Ti khng cn s dng na",[tl.PRIVACY_CONCERNS]:"Lo ngi v quyn ring t",[tl.FOUND_BETTER_ALTERNATIVE]:"Tm c website/app tt hn",[tl.ACCOUNT_ISSUE]:"Gp vn  vi ti khon",[tl.OTHER]:"L do khc"};function obe(){const{logout:t}=ju(),[e,n]=T.useState(!1),r=rt(),[s,i]=T.useState(!1),[a,l]=T.useState({reason:null,confirm:!1,password:""}),[c,u]=T.useState({reason:null,confirm:null,password:null}),d=async()=>{n(!0)},f=async()=>{u({reason:null,confirm:null,password:null});let p=!1;if(a.password===""&&(u(g=>({...g,password:"Vui lng nhp mt khu  xc thc!"})),p=!0),a.reason||(u(g=>({...g,reason:"Vui lng chn l do xa ti khon!"})),p=!0),a.confirm||(u(g=>({...g,confirm:"Vui lng xc nhn xa ti khon!"})),p=!0),!p){i(!0);try{const g=await ge.post("/api/v1/user/delete-account",a);g.status&&(localStorage.removeItem("guest_address"),ue.success(g.message||"Xa ti khon thnh cng!"),await t(),r("/"))}catch(g){console.log(g),ue.error(g.message||"Xa ti khon khng thnh cng!"),g.message.toLowerCase().includes("mt khu")&&u(x=>({...x,password:"Mt khu khng chnh xc!"}))}finally{i(!1)}}};return o.jsxs("div",{className:"p-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"Quyn ring t & Xa ti khon"})}),e?o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("button",{className:"flex items-center gap-[.5rem] px-8 py-2.5 rounded-md hover:bg-gray-50 hover:border-gray-400 transition duration-300 cursor-pointer border border-gray-300 text-[1.4rem]",onClick:()=>n(!1),disabled:s,children:[o.jsx(F,{icon:JO,className:"text-gray-600 text-[1.4rem]"}),o.jsx("span",{className:"text-gray-600",children:"Quay li"})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"password",className:"text-gray-600",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",name:"password",value:a.password,placeholder:"Nhp mt khu ti khon ca bn...",className:"w-full h-[4rem] rounded-md border border-gray-300 focus:border-cyan-400 outline-none px-[1.5rem] mt-[.5rem]",onChange:p=>{l(g=>({...g,password:p.target.value})),c.password&&u(g=>({...g,password:null}))}}),c.password&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem]",children:c.password}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do bn mun xa ti khon"}),o.jsxs("div",{className:"space-y-8 pl-[2rem] mt-[2rem]",children:[Object.entries(abe).map(([p,g])=>o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("input",{type:"radio",id:`reason-${p}`,name:"reason",className:"cursor-pointer",style:{scale:1.5},checked:p===a.reason,onChange:()=>{l(x=>({...x,reason:p})),c.reason&&u(x=>({...x,reason:null}))}}),o.jsx("label",{htmlFor:`reason-${p}`,className:"text-gray-800 select-none cursor-pointer",children:g})]},p)),c.reason&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem] pl-[2rem]",children:c.reason})]})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"w-full h-auto p-[1rem] mb-[1rem] border border-amber-400 text-amber-800 bg-amber-50",children:" Xa ti khon tt s xa ton b d liu v gi hng v cc cu hnh thng tin c nhn. Bn c chc ch?"}),o.jsxs("div",{className:"flex items-center space-x-4 pl-[2rem]",children:[o.jsx("input",{type:"checkbox",id:"confirm",className:"",checked:a.confirm,style:{scale:1.5},onChange:p=>{l(g=>({...g,confirm:p.target.checked})),c.confirm&&u(g=>({...g,confirm:null}))}}),o.jsx("label",{htmlFor:"confirm",className:"text-gray-600",children:"Xc nhn xa ti khon"})]}),c.confirm&&o.jsx("p",{className:"text-red-500 mt-[.5rem] pl-[2rem] text-[1.4rem]",children:c.confirm})]}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm ${s?"cursor-not-allowed":""}`,onClick:()=>{f()},disabled:s,children:s?"ang x l...":"Xa ti khon"})})]})]}):o.jsxs("div",{className:"flex items-center justify-between mt-[2rem]",children:[o.jsx("h3",{className:" text-gray-600",children:"Yu cu xa ti khon"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.5rem] px-8 py-4 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>{d()},children:[o.jsx(F,{icon:Tu,className:"text-white text-[1.4rem]"}),o.jsx("span",{className:"text-white",children:"Xa ti khon"})]})]})]})}function lbe(){const{user:t}=Ct(),[e,n]=T.useState(null),[r,s]=T.useState(!1),[i,a]=T.useState(void 0),[l,c]=T.useState(!1),[u,d]=T.useState(null),{register:f,formState:{errors:p,isSubmitting:g},reset:x,watch:v,setValue:b,handleSubmit:w}=Bs({defaultValues:{user:{username:"",email:"",phone:void 0,avatar:null},customer:{birthday:"",gender:""}}}),S=v("user.phone"),j=v("user.avatar");T.useEffect(()=>{t&&(x({user:{username:t.username,email:t.email,phone:t.phone},customer:{birthday:t.customer.birthday,gender:t.customer.gender}}),a(t.phone),t.avatar&&n(t.avatar))},[t,x]),T.useEffect(()=>{if(j&&j.length>0){const P=j[0],E=URL.createObjectURL(P);return n(E),()=>URL.revokeObjectURL(E)}},[j]);const M=async P=>{try{const E=new FormData;E.append("user[username]",P.user.username),E.append("user[email]",P.user.email),P.user.phone!==void 0&&P.user.phone!==null&&String(P.user.phone)!==""&&E.append("user[phone]",String(P.user.phone)),P.customer.gender&&String(P.customer.gender)!==""&&E.append("customer[gender]",P.customer.gender),E.append("customer[birthday]",new Date(P.customer.birthday).toISOString().split("T")[0]),P.user.avatar&&P.user.avatar.length>0&&E.append("avatar",P.user.avatar[0]);for(const L of E.entries())console.log(L[0],L[1]);const D=await ge.patch(`/api/v1/user/update-customer/${t?.customer.id}`,E,{headers:{"Content-Type":"multipart/form-data"}});D.status&&(d(D.message||"Cp nht thnh cng!"),c(!0),setTimeout(()=>{c(!1)},800))}catch(E){console.log(E),d(E.message||"Cp nht tht bi!"),c(!0),setTimeout(()=>{c(!1)},800)}},C=()=>{S&&/^[0-9]{10,11}$/.test(S.toString())&&s(!1)},A=()=>{b("user.phone",i),s(!1)};return o.jsxs("div",{className:"w-full h-full p-[1rem] xs:p-[1.5rem] sm:p-[2rem]",children:[o.jsxs("div",{className:"pb-[1.5rem] sm:pb-[1.9rem] border-b border-b-gray-200",children:[o.jsx("h4",{className:"text-[1.8rem] sm:text-[2rem] text-gray-800",children:"H S Ca Ti"}),o.jsx("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row mt-[2rem] sm:mt-[3rem] gap-6 lg:gap-0",children:[o.jsx("div",{className:"flex-1 order-2 lg:order-1",children:o.jsxs("form",{onSubmit:w(M),className:"space-y-8 md:space-y-10",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex text-[1.4rem] md:text-[1.6rem] items-center gap-[1rem] md:gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Tn"}),o.jsx("input",{type:"text",className:"md:flex-1 w-full h-[4rem] pl-[1.5rem] rounded-md border border-gray-300 outline-none text-gray-600",...f("user.username",{required:"Tn khng c  trng"})})]}),p.user?.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.username.message})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex md:flex-row items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"email",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Email"}),o.jsx("input",{type:"email",className:"md:flex-1 w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("user.email",{required:"Email khng c  trng"})})]}),p.user?.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.email.message})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"phone",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"S in thoi"}),S?o.jsxs("div",{className:"flex items-center gap-[.5rem] flex-wrap",children:[o.jsx("p",{className:"text-gray-600",children:S}),o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] rounded-md bg-blue-400 text-[1.2rem] text-white hover:bg-blue-500 hover:underline transition duration-150",onClick:()=>s(!0),children:"i"})]}):o.jsx("p",{className:"text-blue-500 hover:text-blue-600 underline cursor-pointer",onClick:()=>s(!0),children:"Thm s in thoi"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"gender",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Gii tnh"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] sm:gap-[2rem] text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"male",id:"male",...f("customer.gender")}),o.jsx("label",{htmlFor:"male",children:"Nam"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"female",id:"female",...f("customer.gender")}),o.jsx("label",{htmlFor:"female",children:"N"})]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full md:w-[20rem] h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("customer.birthday")})]}),o.jsx("div",{className:"flex items-center justify-start md:justify-end pt-4",children:o.jsx("button",{className:"w-full sm:w-auto px-[2rem] py-[.8rem] rounded-md bg-red-500 hover:bg-red-600 text-white transition duration-150 cursor-pointer",type:"submit",disabled:g,children:g?"ang x l...":"Lu"})})]})}),o.jsx("div",{className:"w-full lg:w-[30rem] h-auto pl-0 lg:pl-[4rem] ml-0 lg:ml-[4rem] border-l-0 lg:border-l border-l-gray-300 mb-[2rem] lg:mb-0 order-1 lg:order-2",children:o.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e?o.jsx("div",{className:"w-[10rem] md:w-[12rem] h-[10rem] md:h-[12rem] sm:w-[14rem] sm:h-[14rem] rounded-full flex items-center justify-center",children:o.jsx("img",{src:e,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}):o.jsx("div",{className:"w-[10rem] h-[10rem] sm:w-[12rem] sm:h-[12rem] rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center",children:o.jsx(F,{icon:Cj,className:"text-[3rem] sm:text-[4rem] text-gray-400"})}),o.jsxs("label",{htmlFor:"avatar",className:"text-[1.4rem] md:text-[1.6rem] flex items-center justify-center w-[12rem] h-[3.8rem] rounded-md border border-gray-500 border-dashed cursor-pointer mt-[2rem] text-gray-600 hover:bg-gray-50 transition duration-150",children:[o.jsx("input",{type:"file",id:"avatar",className:"hidden",accept:"image/*",...f("user.avatar")}),"Chn nh"]})]})})]}),o.jsxs(bt,{open:r,className:"relative w-[90vw] sm:w-[32rem] md:w-2xl max-w-[90vw] min-h-[18rem] bg-white rounded-md p-[1.5rem] sm:p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1rem] right-[1rem] cursor-pointer w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition",onClick:()=>A(),children:o.jsx(F,{icon:pn,className:"text-gray-600 hover:text-gray-800 text-[1.6rem]"})}),o.jsx("h3",{className:"text-gray-600 text-[1.6rem] sm:text-[1.8rem]",children:"Thay i s in thoi"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("input",{type:"number",className:"w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",placeholder:"Nhp s in thoi",...f("user.phone",{pattern:{value:/^[0-9]{10,11}$/,message:"S in thoi khng hp l"}})}),p.user?.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-2",children:p.user.phone.message})]}),o.jsx("button",{className:`block mt-[2rem] w-full sm:w-[10rem] h-[4rem] ${S&&/^[0-9]{10,11}$/.test(S.toString())?"bg-red-500 hover:bg-red-600 text-white":"bg-red-400 text-gray-200 cursor-not-allowed"} rounded-lg transition duration-150 ml-auto`,disabled:!S||!/^[0-9]{10,11}$/.test(S.toString()),onClick:C,children:"Tip theo"})]}),o.jsx(bt,{open:l,className:"relative w-[90vw] sm:w-[30rem] max-w-[90vw] min-h-[15rem] bg-white rounded-md p-[2rem] sm:p-[3rem] shadow-lg",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-[1.5rem]",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(F,{icon:xo,className:"text-white text-[3rem]"})}),o.jsx("h3",{className:"text-[1.6rem] text-gray-800 text-center",children:u})]})})]})}function cbe({children:t}){const{user:e,loading:n}=Ct();return n?o.jsx("div",{children:"Loading..."}):e&&[qt.ADMIN,qt.STAFF].includes(e.role)?o.jsx(Gc,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function ube(){const{user:t}=Ct(),{orderCode:e}=wi(),n=rt(),[r,s]=T.useState(!1),[i,a]=T.useState(!1),l=T.useRef(!1);T.useEffect(()=>{window.scrollTo(0,0)},[]),T.useEffect(()=>{(async()=>{if(!e){s(!0),a(!1);return}try{a(!0),(await ge.get(`/api/v1/orders/verify/${e}`)).status&&s(!1)}catch(d){s(!0),l.current||(ue.error(d.message||"Khng th xc thc n hng!"),l.current=!0)}finally{a(!1)}})()},[e]);const c=()=>{n(t?"/customer/order":"/look-up-order")};return r&&!i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-gray-50 px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-[2rem] text-red-500 mb-4",children:""}),o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Khng tm thy n hng"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"M n hng khng hp l hoc  b xa."}),o.jsx("button",{onClick:()=>n("/"),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"V trang ch"})]})}):i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx(F,{icon:dg,className:"text-[2.5rem] text-blue-500 mb-4 animate-spin"}),o.jsx("p",{className:" text-gray-600",children:"ang xc thc n hng..."})]})}):o.jsx("div",{className:"min-h-screen bg-white py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:" rounded-lg p-8 mb-6 text-center",children:[o.jsx(F,{icon:iu,className:"text-6xl text-green-500 mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"t hng thnh cng!"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Cm n bn  t hng ti shop ca chng ti."}),o.jsx("p",{className:"text-center text-[1.4rem] w-4xl text-gray-600",children:"Thng tin n hng s c thng bo qua email m bn  cung cp!"}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-[1rem]",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"M n hng:"}),o.jsx("p",{className:"font-bold text-blue-600",children:e})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>n("/"),className:"flex-1 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition",children:"V trang ch"}),o.jsx("button",{onClick:()=>{c()},className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"Xem n hng"})]})]})})}function dbe({productId:t,averageRating:e}){const{user:n}=Ct(),r=jo(),[s,i]=T.useState("all"),[a,l]=T.useState("newest"),[c,u]=T.useState(!1),{data:d,isLoading:f}=Fe({queryKey:["evaluates",t,a,s],queryFn:()=>yD({productId:t,rating:s,page:1,sort:a})}),p=d?.data||[],[g,x]=T.useState(null),[v,b]=T.useState({}),w=D=>v[D]??0,S=D=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(L=>o.jsx(F,{icon:ps,className:`text-[1.4rem] ${L<=D?"text-yellow-400":"text-gray-300"}`},L))}),j=D=>`${new Date(D).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,M=(D,L)=>{x(D),b(_=>({..._,[D]:L}))},C=()=>{x(null)},A=()=>{if(g===null)return;const D=p.find(z=>z.id===g);if(!D||!D.images)return;const L=w(g),_=L>=D.images.length-1?0:L+1;b(z=>({...z,[g]:_}))},P=()=>{if(g===null)return;const D=p.find(z=>z.id===g);if(!D||!D.images)return;const L=w(g),_=L<=0?D.images.length-1:L-1;b(z=>({...z,[g]:_}))},E=async D=>{if(!n){u(!0);return}try{const L=["evaluates",t,a,s];r.setQueryData(L,z=>z?.data?{...z,data:z.data.map(G=>G.id===D?{...G,isLiked:!G.isLiked,helpfulCount:G.isLiked?G.helpfulCount-1:G.helpfulCount+1}:G)}:z);const _=await ge.post(`/api/v1/evaluate/toggle-helpful/${D}`);_.data.status&&r.setQueryData(L,z=>z?.data?{...z,data:z.data.map(G=>G.id===D?{...G,isLiked:_.data.isLiked,helpfulCount:_.data.helpfulCount??G.helpfulCount}:G)}:z)}catch(L){console.log(L);return}};return o.jsxs("div",{className:"w-full mt-4 sm:mt-6 md:mt-[2rem] p-3 sm:p-4 md:p-[2.5rem] bg-white rounded-lg",children:[o.jsx("h3",{className:"text-lg sm:text-xl md:text-[2.2rem] text-pink-600 uppercase mb-4 sm:mb-6 md:mb-8",children:"nh gi sn phm"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 md:gap-8 border border-[#bdb600] p-4 sm:p-6 md:p-[3rem] rounded-sm bg-[#fffff9] mb-4 sm:mb-6 md:mb-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-center sm:items-start justify-center",children:[o.jsxs("p",{className:"text-2xl sm:text-3xl md:text-[2.8rem] text-gray-800",children:[e," / 5"]}),o.jsx("div",{className:"mt-2",children:S(e)})]}),o.jsx("div",{className:"w-full sm:w-auto",children:o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>i("all"),children:["Tt c (",d&&d.summary.total,")"]}),[5,4,3,2,1].map(D=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s===D?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{i(D)},children:[D," Sao (",d&&d.summary.ratingCount[D],")"]},D))]})})]}),f&&o.jsxs("div",{className:"flex justify-center items-center py-8 sm:py-12 gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),p.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:p.map(D=>{const L=w(D.id);return o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow duration-300",children:o.jsxs("div",{className:"flex flex-row gap-3 sm:gap-4",children:[o.jsx("div",{className:"flex-shrink-0 flex sm:block",children:D.showAccount?D?.user?.avatar?o.jsx("img",{src:D.user.avatar,alt:"avatar"+D.user.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(D.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:D.showAccount?D.user?.username||D.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",j(D.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:S(D.rating)}),D.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:D.message}),D.images&&D.images.length>0&&o.jsx("div",{className:"mt-3 sm:mt-4 flex flex-wrap gap-2 sm:gap-3",children:D.images.map((_,z)=>o.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24",children:[o.jsx("img",{src:_,alt:`nh gi ${z+1}`,className:`w-full h-full object-cover rounded-lg border-2 cursor-pointer transition-all duration-300 
                                ${g===D.id&&L===z?"border-blue-500":"border-gray-200"}`,onClick:()=>M(D.id,z)}),D.images.length>1&&z===0&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded",children:["+",D.images.length-1]})]},z))}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mt-3 sm:mt-[1rem]",children:[o.jsx("span",{className:"text-[1.2rem] sm:text-[1.4rem] text-gray-600",children:"Bi nh gi ny hu ch"}),o.jsxs("button",{className:"cursor-pointer flex items-center gap-1 sm:gap-2 transition-all hover:scale-110",type:"button",onClick:()=>E(D.id),children:[o.jsx(F,{icon:D.isLiked?iG:a7,className:`text-lg sm:text-xl transition-colors ${D.isLiked?"text-red-500":"text-gray-600"}`}),o.jsx("span",{className:`text-xs sm:text-[1.4rem] font-medium ${D.isLiked?"text-red-500":"text-gray-600"}`,children:D.helpfulCount})]})]}),D.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:"Admin"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:["Admin "," ",o.jsx("span",{className:"text-[1.2rem]",children:j(D.adminResponseAt)})]}),o.jsx("p",{className:"text-[1.6rem] mt-1",children:D.adminResponse})]})]})]}),g===D.id&&D.images&&D.images.length>0&&o.jsx("div",{className:"mt-4 sm:mt-8 relative rounded-xl overflow-hidden w-full sm:w-[40rem] mx-auto border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:D.images[L],alt:`nh ln ${L+1}`,className:"w-full max-h-[20rem] sm:max-h-[30rem] md:max-h-[40rem] object-contain"}),o.jsx("button",{type:"button",onClick:C,className:"absolute top-2 sm:top-4 right-2 sm:right-4 w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition",children:o.jsx(F,{icon:Un,className:"text-gray-600 text-lg sm:text-2xl"})}),D.images.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:P,className:"absolute left-2 sm:left-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(F,{icon:JO,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsx("button",{type:"button",onClick:A,className:"absolute right-2 sm:right-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(F,{icon:KO,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsxs("div",{className:"absolute bottom-2 sm:bottom-6 left-1/2 -translate-x-1/2 px-3 sm:px-5 py-1 sm:py-2 bg-black/60 rounded-full text-white text-sm sm:text-lg",children:[L+1," / ",D.images.length]})]})]})})]})]})},D.id)})}),o.jsx(Tj,{open:c,onClose:()=>u(!1)})]})}const p7=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await ge.get("/api/v1/flashsale/data",{params:e})},hbe=async t=>await ge.get(`/api/v1/flashsale/${t}`),g7=async t=>await ge.get(`/api/v1/flashsale/${t}`),fbe=async t=>await ge.get(`/api/v1/flashsale/for-product/${t}`),Pj=t=>{const e=new Date(t).getTime(),n=new Date().getTime(),r=e-n,s=Math.floor(r/(1e3*60*60)),i=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3);return{hours:s,minutes:i,seconds:a}};function mbe(){const{productSlug:t}=wi(),e=rt(),{data:n,isLoading:r}=Fe({queryKey:["productdetail",t],queryFn:()=>Dee(t),enabled:!!t}),{data:s,isLoading:i}=Fe({queryKey:["flashSaleForProduct"],queryFn:()=>fbe(t)}),a=s&&s.data,[l,c]=T.useState({hours:0,minutes:0,seconds:0}),u=Math.floor(l.hours/24),d=n?.product,[f,p]=T.useState(null),[g,x]=T.useState(null),[v,b]=T.useState(1),[w,S]=T.useState(null),{addToCart:j,isLoading:M,notify:C,setNotify:A}=_x(),[P,E]=T.useState([]),[D,L]=T.useState(0),_=T.useMemo(()=>{const ne=new Map;return d?.variants?.forEach(se=>ne.set(se.variantColor.id,se.variantColor)),[...ne.values()]},[d]),z=T.useMemo(()=>{const ne=new Map;return d?.variants?.forEach(se=>ne.set(se.variantSize.id,se.variantSize)),[...ne.values()]},[d]);T.useEffect(()=>{if(d&&d.mainImage&&d.listImageProduct){const se=(d.listImageProduct.map(fe=>fe.imageUrl)||[]).filter(fe=>fe!==d.mainImage);E([d.mainImage,...se])}},[d]),T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(!a)return;const ne=()=>{const fe=Pj(a.endDate);c(fe)};if(ne(),l.hours>=24)return;const se=setInterval(()=>{ne()},1e3);return()=>clearInterval(se)},[a,l.hours]);const G=(ne,se)=>Math.round(ne*(1-se/100)),H=()=>d?.variants.find(se=>se.variantColor.id===g?.id&&se.variantSize.id===f?.id)?.inventory??0,W=g&&f,R=d?.variants.reduce((ne,se)=>ne+se.inventory,0),$=H(),V=ne=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ne),K=()=>{const ne=d.category.categoryName?.toUpperCase()||"";return ne.includes("giy")||ne.includes("dp")?oN:cN},X=async ne=>{if(S(null),!g||!f){S("Vui lng chn thuc tnh sn phm!");return}const se=d?.variants.find(Te=>Te.variantColor.id===g.id&&Te.variantSize.id===f.id)?.id;v<=0&&S("S lng sn phm t nht l 1!"),j([{variantId:se,quantity:v}]),ne==="buy"&&e(`/cart/detail?buyNowVariant=${se}`)},B=()=>{L(ne=>ne+1>P.length-1?0:ne+1)},J=()=>{L(ne=>ne-1<0?P.length-1:ne-1)};return r?o.jsx(Co,{}):o.jsxs("div",{className:"relative w-full h-auto px-[1rem] md:px-[3rem] xl:px-[12rem]",children:[o.jsxs("div",{className:"w-full flex flex-wrap items-center gap-1 sm:gap-2 text-[1.2rem] md:text-[1.4rem] px-2 sm:px-4 md:px-6 lg:px-[3rem] md:py-2 py-1",children:[o.jsxs(Qe,{to:"/",className:"flex items-center gap-1 sm:gap-2 text-blue-800 hover:text-blue-600 transition-colors whitespace-nowrap",children:[o.jsx("span",{children:"Home"}),o.jsx(F,{icon:Tn,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]}),(()=>{if(!d?.category)return null;const ne=[];let se=d.category;for(;se;)ne.push(se),se=se.parent;return ne.reverse().map((fe,Te)=>o.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[o.jsx(Qe,{to:`/category/${fe.slug}`,className:"flex items-center hover:text-blue-600 transition-colors text-blue-800",children:o.jsx("span",{className:"line-clamp-1 max-w-[80px] sm:max-w-[120px] md:max-w-[150px] lg:max-w-none",children:fe.categoryName})}),Te<ne.length-1&&o.jsx(F,{icon:Tn,className:"mx-1 sm:mx-2 text-gray-400 text-[0.8rem] sm:text-[1rem]"}),o.jsx(F,{icon:Tn,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]},fe.id))})(),o.jsx("span",{className:"text-gray-600 line-clamp-1 max-w-[100px] sm:max-w-[150px] md:max-w-[200px] lg:max-w-[300px] xl:max-w-none",children:d?.productName})]}),o.jsxs("div",{className:"w-full h-auto flex md:flex-row flex-col gap-[4rem] rounded-lg mt-[1rem] bg-white p-[1rem] md:p-[1.5rem]",children:[o.jsxs("div",{className:"relative w-full md:w-[40rem] xl:w-[50rem] h-auto",children:[o.jsx("img",{src:P[D],alt:d?.productName,className:"w-full md:h-[40rem] h-[35rem] xl:h-[50rem] object-cover"}),o.jsx("button",{onClick:J,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 left-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(F,{icon:Ni,className:"text-[1.8rem]"})}),o.jsx("button",{onClick:B,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 right-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(F,{icon:Tn,className:"text-[1.8rem]"})}),o.jsx("div",{className:"flex items-center space-x-4 mt-[1rem]",children:P.map((ne,se)=>o.jsx("div",{className:`w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-md border ${D===se?"border-2 border-amber-500":"border-gray-300"} `,onClick:()=>L(se),children:o.jsx("img",{src:ne,alt:`imageItem-${se}`,className:"w-full h-full object-cover rounded-md"})},ne))}),a&&o.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-[1.4rem] px-4 py-1 rounded-tl-4xl rounded-br-4xl shadow-lg z-10",children:["FLASH SALE -",a.discount,"%"]})]}),o.jsxs("div",{className:"flex-1 space-y-2 md:space-y-4",children:[o.jsx("h3",{className:"text-[1.4rem] md:text-[2rem] xl:text-[2.2rem] text-gray-800",children:d?.productName}),o.jsxs("div",{className:"flex items-center space-x-6 text-[1.2rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-gray-800",children:d.averageRating}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ne=>o.jsx(F,{icon:ps,className:`${ne<=d.averageRating?"text-yellow-400":"text-gray-300"}`},ne))})})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-800",children:d.reviewCount}),o.jsx("span",{className:" text-gray-500",children:"nh gi"})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:" text-gray-500",children:" bn"}),o.jsx("p",{className:"text-gray-800",children:d.soldCount})]})]}),a&&o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[2rem] xl:text-[2.2rem]",children:V(G(d.price,a.discount))}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem] line-through",children:V(d.price)}),o.jsxs("span",{className:"bg-red-600 text-white text-[1.2rem] md:text-[1.4rem] px-3 py-1 rounded-md",children:["-",a.discount,"%"]})]})}),a&&o.jsx("div",{className:"flex items-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3 text-[1.2rem] md:text-[1.4rem]",children:l.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white ",children:["Thi hn ",u," ngy"]}):["hours","minutes","seconds"].map((ne,se)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-3 py-1 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(l[ne]).padStart(2,"0")})},se),se!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},se))})}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn mu"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:_?.map(ne=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${g?.id===ne.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>x(ne),children:[o.jsx(F,{icon:K(),className:"bg-gray-100 p-[.2rem]",style:{color:ne.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:ne.name})]},ne.id))})]}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn size"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:z?.map(ne=>{const se=g?d.variants.find(fe=>fe.variantColor.id===g.id&&fe.variantSize.id===ne?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border rounded-[.5rem] ${se?f?.id===ne.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!se,onClick:()=>p(ne),children:o.jsx("span",{className:"text-[1.4rem]",children:ne.name})},ne.id)})})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"S lng"}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${W?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{g&&f&&b(ne=>Math.max(1,ne-1))},children:o.jsx(F,{icon:_l,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:v,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!W,onChange:ne=>b(Number(ne.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${W?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{f&&g&&b(ne=>Math.min(Number(d.variants.find(se=>se.variantColor.id===g.id&&se.variantSize.id===f?.id)?.inventory),Number(ne)+1))},children:o.jsx(F,{icon:ua,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1rem] md:text-[1.4rem] text-gray-600 uppercase select-none",children:W?`Cn ${$} sn phm`:R>0?"Cn hng":"Ht hng"})]})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] text-red-500 mt-[4rem]",children:w}),o.jsxs("div",{className:"flex items-center  gap-[1rem] mt-[.5rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] border border-amber-500 hover:border-amber-600 text-amber-600 hover:text-amber-700 rounded-[.5rem] hover-linear select-none cursor-pointer",disabled:M,onClick:()=>X("add"),children:M?o.jsx("span",{children:"ang x l..."}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:ca}),o.jsx("span",{children:"Thm vo gi hng"})]})}),o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] bg-red-500 text-white hover:bg-red-600 rounded-[.5rem] hover-linear cursor-pointer",disabled:M,onClick:()=>X("buy"),children:M?"ang x l...":"Mua ngay"})]})]})]}),o.jsxs("div",{className:"w-full mt-[2rem] rounded-lg h-auto bg-white p-[1rem] md:p-[2.5rem]",children:[o.jsx("div",{className:"w-full py-[1rem] px-[1rem] md:px-[2rem] bg-gray-100 text-[1.4rem] md:text-[2rem] text-pink-600 mb-8 uppercase",children:"M t sn phm"}),o.jsx("div",{className:"prose prose-2xl max-w-none text-gray-600 px-[1rem] md:px-[2rem] text-[1.4rem]",dangerouslySetInnerHTML:{__html:d.description}})]}),o.jsx(dbe,{productId:d.id,averageRating:Number(d.averageRating)}),o.jsx(Du,{showNotify:C.show,content:C.content,duration:1e3,onClose:()=>A({show:!1,content:""})})]})}function pbe({open:t,onClose:e,dataChange:n,refetchOrder:r}){const{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Bs({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}});T.useEffect(()=>{if(n){const P=n;f({province:P.province,district:P.district,ward:P.ward,recipentName:P.recipentName,addressDetail:P.addressDetail,phone:P.phone,orderCode:P.orderCode})}},[n,f]);const{data:p}=Fe({queryKey:["province"],queryFn:hj}),g=d("province"),x=d("district"),b=p?.find(P=>P.name===g)?.districts??[],S=b.find(P=>P.name===x)?.wards??[],j=p?.map(P=>({value:P.name,label:P.name})),M=b?.map(P=>({value:P.name,label:P.name})),C=S?.map(P=>({value:P.name,label:P.name})),A=async P=>{const E={customerName:P.recipentName,customerAddress:P.addressDetail,customerPhone:P.phone,customerProvince:P.province,customerDistrict:P.district,customerWard:P.ward};try{const D=await ge.patch(`/api/v1/orders/change-address/${P.orderCode}`,E);D.status&&(await r(),ue.success(D.message),f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}),e())}catch(D){ue.error(D.message)}};return o.jsxs(bt,{open:t,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:P=>{P.stopPropagation(),e()},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:a(A),children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(fi,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:P})=>o.jsx(sa,{...P,options:j,placeholder:"Tnh...",isSearchable:!0,value:j?.find(E=>E.value===P.value)||null,onChange:E=>{P.onChange(E?.value),u("district",""),u("ward","")},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(fi,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:P})=>o.jsx(sa,{...P,options:M,placeholder:"Huyn...",isSearchable:!0,value:M?.find(E=>E.value===P.value)||null,onChange:E=>{P.onChange(E?.value),u("ward","")},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(fi,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:P})=>o.jsx(sa,{...P,options:C,placeholder:"Phng...",isSearchable:!0,value:C?.find(E=>E.value===P.value)||null,onChange:E=>{P.onChange(E?.value)},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:P=>{P.stopPropagation(),e()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":"Thay i"})]})]})]})}function gbe(){const[t,e]=ma(),n=t.get("code")||"",[r,s]=T.useState(n),[i,a]=T.useState("search"),{addToCart:l}=_x(),c=rt(),[u,d]=T.useState(null),[f,p]=T.useState(!1),[g,x]=T.useState(null),[v,b]=T.useState({open:!1,data:null}),[w,S]=T.useState({open:!1,dataChange:null}),[j,M]=T.useState({open:!1,orderCode:null,data:null});T.useEffect(()=>{n!==r&&s(n)},[n]),T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const C=async R=>{if(!R.trim()){x("Vui lng nhp m n hng!");return}p(!0),x(null),d(null);try{const $=await $me(R);d($)}catch($){x($.message||"Khng tm thy n hng. Vui lng kim tra li m n hng."),d(null)}finally{p(!1)}},A=R=>{const $=r;if(!$.trim()){ue.error("Vui lng nhp m n hng!");return}s($),e({code:$.trim()}),C($.trim())},P=()=>{r.trim()&&C(r.trim())},E=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),D=R=>new Date(R).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),L=R=>{const $=R.target.value;s($),$.trim()||(e({}),d(null),x(null))},_=()=>{if(!u)return;const R={orderCode:u?.orderCode,recipientName:u?.customerName,addressDetail:u?.customerAddress,phone:u?.customerPhone,province:u?.customerProvince,district:u?.customerDistrict,ward:u?.customerWard};S({open:!0,dataChange:R})},z=R=>R?R.replace(/(\d{3})\d{4}(\d{3})/,"$1xxxx$2"):"",G=R=>{if(!R)return"";const[$,V]=R.split("@");return $.length<=2?R:`${$[0]}${"*".repeat($.length-2)}@${V}`},H=async R=>{const $=R.orderItems.map(K=>({variantId:K.variant.id,quantity:K.quantity}));if(await l($)){const K=$.map(X=>X.variantId).join(",");c(`/cart/detail?buyback=${K}`)}else ue.error("Thm sn phm vo gi hng tht bi!")},W=u&&u.paymentMethod===Kr.COD?u.status===Le.COMPLETED:!!u?.payment;return o.jsxs("div",{className:"min-h-screen bg-gray-50 py-6 px-4 sm:px-6 lg:px-[12rem]",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Tra cu n hng"}),o.jsx("p",{className:"text-gray-600",children:"Nhp m n hng  kim tra trng thi n hng ca bn"})]}),o.jsx("div",{className:"mb-6 border-b border-gray-200",children:o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:()=>a("search"),className:`cursor-pointer pb-4 px-2 font-medium transition-colors relative ${i==="search"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(F,{icon:Dr,className:"mr-2"}),"Tra cu n hng"]})})}),i==="search"&&o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("input",{type:"text",value:r,onChange:R=>L(R),placeholder:"Nhp m n hng (VD: ORDER-abc123)",className:"w-[40rem] h-[4rem] px-6 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-[1.4rem]",onKeyDown:R=>{R.key==="Enter"&&A()}}),o.jsx("button",{type:"button",disabled:f,className:"w-[12rem] h-[4rem] bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold rounded-lg transition flex items-center justify-center gap-2",onClick:()=>A(),children:f?o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:dg,spin:!0}),"ang tm..."]}):o.jsxs(o.Fragment,{children:[o.jsx(F,{icon:Dr}),"Tra cu"]})})]}),o.jsxs("div",{className:"mt-4 flex items-start gap-2 text-[1.4rem] text-gray-600",children:[o.jsx(F,{icon:kG,className:"mt-0.5"}),o.jsx("p",{children:"M n hng c gi qua email sau khi t hng thnh cng. Vui lng kim tra email hoc tin nhn SMS."})]})]}),g&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 flex items-center justify-center gap-3",children:[o.jsx(F,{icon:dN,className:"text-2xl text-red-500"}),o.jsx("p",{className:"text-red-700",children:g})]}),f?o.jsxs("div",{className:"flex justify-center items-center py-10",children:[o.jsx(F,{icon:dg,spin:!0,className:"text-3xl text-blue-500 mr-3"}),o.jsx("span",{className:"text-lg",children:"ang ti d liu..."})]}):u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:" font-bold ",children:["n hng: ",u.orderCode]}),o.jsxs("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:["t ngy ",D(u.createdAt)]})]}),o.jsx("span",{className:`px-12 py-2 rounded-lg font-medium ${Bn(u.status).bgColor} ${Bn(u.status).textColor}`,children:Bn(u.status).text})]}),u?.status===Le.CANCELLED?o.jsxs("div",{className:"w-full py-[2rem] border border-amber-200 bg-amber-50 px-[2rem]",children:[o.jsx("p",{className:"text-[1.8rem] text-red-500",children:" hy n hng"}),o.jsxs("p",{children:["lc ",D(u.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:tu.map((R,$)=>{const V=tu.findIndex(K=>K.key===u.status)>=$;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[2rem] relative items-center",children:[o.jsx("div",{className:`w-[6rem] h-[6rem] rounded-full flex items-center justify-center z-10
                              ${V?`${R.color}`:"bg-gray-300"}`,children:o.jsx(F,{icon:R.icon,className:"text-white text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:R.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:R.desc})]})]},R.key),$!==tu.length-1&&o.jsx("span",{className:"w-[10rem] border border-green-500"})]},R.key)})}),o.jsx("div",{className:"w-full border-t-1 border-gray-400 mt-[3rem]"}),o.jsxs("div",{className:"flex items-start flex-col space-y-4 mt-[3rem] w-4xl p-[2rem] border border-gray-300 rounded-md",children:[o.jsx("span",{className:"font-bold",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"H tn:"}),o.jsx("span",{className:"block text-end",children:u.customerName})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"S in thoi:"}),o.jsx("span",{className:"block text-end",children:z(u.customerPhone)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"Email:"}),o.jsx("span",{className:"block text-end",children:G(u.customerEmail)})]}),o.jsx("span",{className:"font-bold",children:"a ch nhn hng"}),o.jsxs("div",{className:"w-full mt-[1rem] border border-gray-300 rounded-md p-[2rem]",children:[o.jsx("p",{className:"text-gray-800",children:u.customerName}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:["(",z(u.customerPhone),")"]}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:[u.customerAddress,", ",u.customerWard,","," ",u.customerDistrict,","," ",u.customerPhone]})]})]}),o.jsxs("div",{className:"w-full border border-gray-200 rounded-md p-[1rem] mt-[2rem]",children:[o.jsxs("h3",{className:"text-[1.4rem] font-bold text-gray-800 pb-[2rem] flex items-center gap-2",children:[o.jsx(F,{icon:jh,className:"text-blue-500"}),"Sn phm (",u&&u.orderItems?.length,")"]}),u.orderItems&&u.orderItems?.length>0&&o.jsx("div",{className:"border border-gray-200 px-[2rem] py-[1rem] rounded-md",children:o.jsx("div",{className:"bg-white ",children:o.jsx("div",{className:"space-y-2",children:u.orderItems.map(R=>o.jsxs("div",{children:[o.jsxs(Qe,{to:`/product-detail/${R.variant.product.slug}`,className:"flex items-center gap-4 pb-6 last:border-0 py-[.5rem] border-b border-b-gray-200 cursor-pointer",children:[o.jsx("img",{src:R.variant.product.mainImage,alt:R.variant.product.productName,className:"w-28 h-28 object-cover rounded-md border border-gray-300 p-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800",children:R.variant.product.productName}),o.jsxs("span",{className:"flex items-center space-x-4 text-[1.2rem] text-gray-600",children:[o.jsxs("span",{children:[R.variant.variantColor.name," /"," ",R.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",R.quantity]})]}),o.jsxs("p",{className:"flex items-center space-x-1 text-[1rem] text-gray-600",children:[o.jsx("span",{children:"Gi:"}),o.jsx("span",{className:"text-red-600",children:E(R.price)})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-red-600",children:E(R.price*R.quantity)})})]}),o.jsx("div",{className:"flex flex-col items-end mt-[1rem]",children:o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[R.evaluate.length>0&&[Le.CANCELLED,Le.COMPLETED].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white hover:bg-red-600 cursor-pointer transition duration-300",onClick:()=>{H(u)},children:"Mua li"}),R.evaluate.length===0&&u.status===Le.COMPLETED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>b({open:!0,data:R}),children:o.jsxs("div",{className:"flex items-center space-x-2 ",children:[o.jsx(F,{icon:ps,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})})]},R.id))})})}),o.jsxs("div",{className:"w-4xl ml-auto flex justify-between space-y-4 py-4 px-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"text-end text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Tng tin:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Phng thc thanh ton:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Trng thi"})]}),o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"block text-end text-gray-800",children:E(u.totalAmount)}),o.jsx("span",{className:"block text-end text-gray-800",children:E(u.shippingFee)}),o.jsx("span",{className:"block text-end font-bold text-red-500",children:E(u.totalAmount+Number(u.shippingFee))}),o.jsx("span",{className:"block text-end text-gray-800",children:$w[u.paymentMethod].text}),o.jsx("span",{className:`${W?"text-green-600":"text-red-600"} block text-end`,children:W?" thanh ton":"Cha thanh ton"})]})]})]}),u&&!W&&o.jsxs("div",{className:"text-center border border-amber-300 bg-amber-50 py-5 px-[1rem] mt-[1rem] rounded-md",children:["Vui lng thanh ton (",o.jsx("span",{className:"text-red-500",children:E(u.totalAmount+Number(u.shippingFee))}),") khi nhn hng!"]}),o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[u.status===Le.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md border border-gray-300 text-gray-600 hover:border-gray-400 cursor-pointer transition duration-300",onClick:()=>M({open:!0,orderCode:u.orderCode,data:u}),children:"Chi tit hy n"}),[Le.CONFIRMED,Le.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 cursor-pointer transition duration-300",onClick:()=>M({open:!0,orderCode:u.orderCode,data:null}),children:"Hy n"}),[Le.CONFIRMED,Le.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white cursor-pointer transition duration-300 hover:bg-red-600",onClick:()=>_(),children:"Thay i a ch"})]})]})}),o.jsx(f7,{open:v.open,item:v.data,dataGuest:{customerEmail:u.customerEmail,customerName:u.customerName},onClose:()=>b({open:!1,data:null}),refetch:P})]}):o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-10 text-center text-gray-600",children:[o.jsx(F,{icon:Dr,className:"text-5xl mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl",children:r?"Nhn 'Tra cu'  kim tra n hng ca bn.":"Cha c kt qu. Vui lng nhp m n hng  tra cu."})]})]})]}),o.jsx(pbe,{open:w.open,onClose:()=>S({open:!1,dataChange:null}),dataChange:w.dataChange,refetchOrder:P}),o.jsx(m7,{open:j.open,onClose:()=>M({open:!1,orderCode:null,data:null}),orderCode:j.orderCode,refetch:P,status:j?.data?.status,cancelReason:j?.data?.reason,cancelledAt:j.data?.updatedAt,cancelledBy:j.data?.customerName})]})}function xbe(){const[t]=ma(),e=Number(t.get("resultCode")),n=t.get("orderId"),r=rt(),{user:s}=Ct(),[i,a]=T.useState("loading"),[l,c]=T.useState("ang ti..."),u=async()=>{if(n)try{const d=await ge.get(`/api/v1/orders/confirm-payment/${n}`);console.log(d),d.status===!0?(a("success"),c(d.message||"Thanh ton thnh cng!")):d.status===!1?(a("failed"),c(d.message||d.reason||"Thanh ton tht bi!")):d.status==="pending"&&(a("pending"),c(d.message||"ang xc nhn thanh ton vi MoMo, vui lng ch trong giy lt..."))}catch(d){a("failed"),c("C li xy ra khi kim tra thanh ton. Vui lng lin h h tr."),console.error("Error checking payment:",d)}};return T.useEffect(()=>{if(!n){a("failed"),c("Khng tm thy thng tin n hng!");return}if(u(),e!==0){a("failed"),c("Thanh ton  b hy hoc tht bi.");return}const d=setInterval(()=>{i==="pending"&&(console.log(i),u())},3e3);return()=>{clearInterval(d)}},[n,e,i]),i==="loading"||i==="pending"?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[i==="pending"&&o.jsx("div",{className:"w-20 h-20 border-4 border-blue-400 border-dashed rounded-full animate-spin"}),o.jsx("p",{className:"mt-6 text-gray-700",children:l}),i==="pending"&&o.jsx("p",{className:"mt-2 text-gray-500",children:"ang ch xc nhn t MoMo..."})]}):i==="success"?o.jsx("div",{className:"w-full h-[calc(100vh-18rem)] pt-[4rem] px-[20rem] bg-white ",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-[7rem] h-[7rem] flex justify-center items-center mx-auto mb-[2rem] bg-[#2ddf2d] rounded-[50%] ",children:o.jsx(F,{icon:xo,className:"text-[#ffffff] text-[2.8rem]"})}),o.jsx("div",{className:"text-[2.8rem] mb-[.5rem] font-bold text-green-600",children:"Thanh ton thnh cng"}),o.jsx("p",{className:"text-gray-600",children:"Cm n khch hng  t hng."}),o.jsx("p",{className:"text-gray-600 text-center text-[1.4em]",children:"M n hng  gi n email ca khch hng. H thng s cp nht trng thi n v email ca bn"}),o.jsxs("div",{className:"flex justify-between items-center mt-[10rem]",children:[o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-gray-600 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>r("/"),children:[o.jsx(F,{icon:WK,className:"text-gray-500"}),"Quay v trang ch"]}),o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-white bg-blue-500 hover:bg-blue-600 cursor-pointer",onClick:()=>{s?r("/customer/account/order",{replace:!0}):r("/look-up-order",{replace:!0})},children:["Xem cc n hng",o.jsx(F,{icon:RK,className:""})]})]})]})}):o.jsx("div",{className:"flex flex-col items-center h-[calc(100vh-18rem)] bg-white pt-[5rem]",children:o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-lg text-center max-w-md",children:[o.jsx("div",{className:"text-red-600 text-[2.6rem] mb-4",children:""}),o.jsx("h1",{className:"text-[1.8rem] font-bold text-gray-800 mb-2",children:"Thanh ton tht bi"}),o.jsx("p",{className:"text-gray-600 mb-6",children:l}),o.jsx("button",{onClick:()=>window.location.href="/cart",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Quay li gi hng"})]})})}const x7=async(t,e)=>(await ge.get("/api/v1/banner/list-banner",{params:{search:t,active:e}})).data;function ybe(){const[t,e]=T.useState({open:!1,action:"add"}),[n,r]=T.useState(""),[s,i]=T.useState(""),[a,l]=T.useState(!1),[c,u]=T.useState("active"),d=T.useRef(null),f=T.useRef(null),p=T.useRef(null),g=T.useRef(null),[x,v]=T.useState({open:!1,bannerId:null,action:"inactive"}),{register:b,handleSubmit:w,formState:{errors:S,isSubmitting:j},reset:M,setValue:C}=Bs({defaultValues:{title:"",subTitle:"",link:"",bannerId:void 0,imageUrl:null}}),[A,P]=T.useState(null),{data:E,isLoading:D,refetch:L}=Fe({queryKey:["listBanner",s,c],queryFn:()=>x7(s,c)});T.useEffect(()=>()=>{A&&URL.revokeObjectURL(A)},[A]),T.useEffect(()=>{const R=c==="active"?f.current:p.current;!R||!d.current||R&&d.current&&(d.current.style.width=`${R.offsetWidth}px`,d.current.style.left=`${R.offsetLeft}px`)},[c,E]);const _=R=>{const $=R.target.files;if($&&$[0]){const V=$[0],K=URL.createObjectURL(V);C("imageUrl",V),P(K)}},z=async R=>{try{let $;const V={title:R.title,subTitle:R.subTitle,link:R.link,imageUrl:R.imageUrl};t.action==="add"?$=await ge.post("/api/v1/banner/create",V,{headers:{"Content-Type":"multipart/form-data"}}):$=await ge.patch(`/api/v1/banner/update/${R.bannerId}`,V,{headers:{"Content-Type":"multipart/form-data"}}),$.status&&(M({title:"",subTitle:"",link:"",imageUrl:null}),await L(),ue.success($.message),e({open:!1,action:"add"}))}catch($){console.log($),ue.error($.message)}},G=()=>{e({open:!1,action:"add"}),M({title:"",subTitle:"",link:"",imageUrl:null})},H=R=>{g.current&&g.current.scrollTo({top:0,behavior:"smooth"}),e({open:!0,action:"edit"}),M({title:R.title,subTitle:R.subTitle,link:R.link,bannerId:R.id}),R.title&&P(R.imageUrl)},W=async R=>{try{if(!R){ue.error("Khng c bannerId");return}l(!0);const $=await ge.patch(`/api/v1/banner/toggle-active/${R}`);$.status&&(ue.success($.message),await L(),v({open:!1,bannerId:null,action:"active"}))}catch($){console.log($),ue.error($.message||"")}finally{l(!1)}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsx("div",{className:"sticky top-0 bg-white z-10 pb-[2rem] border-b-[.1rem] border-b-gray-300",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Banner Slide Trang Ch"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Tm kim theo tn...",className:"w-[30rem] h-[4rem] focus:border-cyan-400 border border-gray-300 outline-none text-gray-600 px-[1.5rem] rounded-md",value:n,onChange:R=>r(R.target.value)}),o.jsx("button",{className:"absolute top-[50%] translate-y-[-50%] right-0 px-5 h-full cursor-pointer",onClick:()=>i(n),children:o.jsx(F,{icon:Dr,className:"text-gray-600"})})]}),o.jsxs("button",{type:"button",className:`text-white text-[1.4rem] flex gap-1.5 items-center px-4 h-[4rem] bg-blue-500 rounded-md hover:bg-blue-600 cursor-pointer hover-linear ${j?"cursor-not-allowed":""}`,onClick:()=>{M({title:"",subTitle:"",link:"",imageUrl:null}),g.current?.scrollTo({top:0,behavior:"smooth"}),P(null),e({open:!0,action:"add"})},disabled:j,children:[o.jsx(F,{icon:ku}),"Thm Banner Mi"]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar mt-[1rem]",ref:g,children:[t.open&&o.jsxs("div",{className:"mb-8 mt-4 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[o.jsx("h3",{className:`${t.action==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.action==="add"?"To Banner Mi":"Cp nht banner"}),o.jsxs("form",{onSubmit:w(z),children:[o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"title",className:"text-gray-600",children:"Tiu  banner"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"title",placeholder:"Nhp tiu  cho banner...",...b("title")}),S.title&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.title.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"subTitle",className:"text-gray-600",children:"Ph "}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"subTitle",placeholder:"Nhp tiu ph ...",...b("subTitle")}),S.subTitle&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.subTitle.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"link",className:"text-gray-600",children:"Link ch"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"link",placeholder:"Nhp link...",...b("link",{required:"Vui lng nhp link ch!"})}),S.link&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.link.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("p",{className:"text-gray-600",children:"Chn hnh nh cho Banner"}),o.jsxs("label",{htmlFor:"imageUrl",className:"flex items-center justify-center space-x-4 w-full h-[4rem] border border-dashed border-gray-500 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400 cursor-pointer",children:[o.jsx(F,{icon:Qr,className:"text-gray-500"}),o.jsx("span",{className:"text-gray-600",children:"Hnh nh"}),o.jsx("input",{type:"file",className:"hidden",id:"imageUrl",accept:"image/*",onChange:R=>_(R)})]}),S.imageUrl&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:S.imageUrl.message})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:A&&o.jsx("div",{className:"my-5",children:o.jsx("img",{src:A,alt:"displayImage",className:"w-full h-[35rem] object-cover"})})}),t.action==="edit"&&o.jsx("input",{type:"number",className:"hidden",...b("bannerId")}),o.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>G(),className:"bg-gray-200 text-gray-600 px-8 py-2 rounded-lg hover:bg-gray-300",disabled:j,children:"Hy"}),o.jsx("button",{className:`${t.action==="add"?"bg-green-600 hover:bg-green-700":"bg-amber-600 hover:bg-amber-700"}  text-white px-8 py-2 rounded-lg `,type:"submit",disabled:j,children:j?"ang x l...":t.action==="add"?"Thm":"Cp nht"})]})]})]}),D?o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:o.jsx("div",{className:"w-16 h-16 border-4 border-dashed border-gray-300 border-t-blue-500 rounded-full animate-spin"})}):o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("div",{className:"relative flex items-center pb-4 border-b border-b-gray-200",children:[o.jsx("span",{ref:f,onClick:()=>u("active"),className:`cursor-pointer pr-[1rem] transition
                    ${c==="active"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"ang hot ng"}),o.jsx("span",{ref:p,onClick:()=>u("inactive"),className:`cursor-pointer pl-[1rem] transition
                    ${c==="inactive"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"Dng hot ng"}),o.jsx("div",{ref:d,className:"absolute bottom-0 h-1 bg-blue-500 transition-all duration-300"})]}),E&&E.length>0?o.jsx(o.Fragment,{children:o.jsx("div",{className:"grid grid-cols-2 mt-[2rem] gap-2.5",children:E.map(R=>o.jsxs("div",{className:"w-full h-[35rem] relative  border border-gray-200 rounded-md group",children:[o.jsxs("div",{className:"absolute top-0 left-0 flex items-center space-x-4",children:[o.jsxs("div",{className:"text-[1.4rem] px-2.5 py-1 bg-amber-200 rounded-br-lg ",children:["STT:",R.sortOrder]}),o.jsx("div",{className:`px-4 rounded-br-lg rounded-bl-lg ${R.isActive?"bg-green-500 text-white":"bg-gray-500 text-gray-300"} py-1 text-[1.4rem]`,children:R.isActive?"ang hot ng":"Dng hot ng"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),o.jsx("img",{src:R.imageUrl,alt:`banner-image-${R.title}`,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute left-[3rem] space-y-2 bottom-[3rem]",children:[o.jsx("p",{className:"text-white text-[2.5rem]",children:R.title}),o.jsx("p",{className:"text-[1.4rem] text-white",children:R.subTitle})]}),o.jsxs("div",{className:"absolute flex items-center justify-center space-x-4 inset-0 bg-[#36363659] group-hover:opacity-100 opacity-0 transition duration-300 rounded-md",children:[o.jsxs("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md  text-white ${R.isActive?"bg-amber-500 hover:bg-amber-600":"cursor-not-allowed bg-gray-400"}`,onClick:()=>H(R),disabled:!R.isActive,children:[o.jsx(F,{icon:$s}),o.jsx("span",{children:"Cp nht"})]}),o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md ${R.isActive?"bg-gray-500 hover:bg-gray-600 text-gray-300":"bg-green-500 hover:bg-green-600 text-white"} `,onClick:()=>v({open:!0,bannerId:R.id,action:R.isActive?"inactive":"active"}),children:o.jsx("span",{children:R.isActive?"Ngng hot ng":"M hot ng"})})]})]},R.id))})}):o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:"Cha c banner no"})]})]}),o.jsxs(bt,{open:x.open,className:"relative w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsxs("h2",{className:`text-[2rem] ${x.action==="inactive"?"text-amber-600":"text-green-600"}  mb-[2.5rem] font-bold`,children:["Bn mun"," ",x.action==="active"?"kch hot":"tm dng"," banner ny?"]}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:R=>{R.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},children:o.jsx(F,{icon:pn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none ${j?"cursor-not-allowed":""}`,onClick:R=>{R.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},disabled:j,children:"ng"}),o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md ${x.action==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}  text-white transition duration-300 outline-none ${j?"cursor-not-allowed":""}`,onClick:()=>{W(x.bannerId)},disabled:j,children:a?"ang x l...":x.action==="active"?"Kch hot":"Dng"})]})]})]})}function MA(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Oj(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:MA(e[r])&&MA(t[r])&&Object.keys(e[r]).length>0&&Oj(t[r],e[r])})}const y7={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xi(){const t=typeof document<"u"?document:{};return Oj(t,y7),t}const bbe={document:y7,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function pr(){const t=typeof window<"u"?window:{};return Oj(t,bbe),t}function vbe(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function wbe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function b7(t,e=0){return setTimeout(t,e)}function E0(){return Date.now()}function Nbe(t){const e=pr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Sbe(t,e="x"){const n=pr();let r,s,i;const a=Nbe(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function jp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function jbe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Hr(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!jbe(s)){const i=Object.keys(Object(s)).filter(a=>n.indexOf(a)<0);for(let a=0,l=i.length;a<l;a+=1){const c=i[a],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&(jp(e[c])&&jp(s[c])?s[c].__swiper__?e[c]=s[c]:Hr(e[c],s[c]):!jp(e[c])&&jp(s[c])?(e[c]={},s[c].__swiper__?e[c]=s[c]:Hr(e[c],s[c])):e[c]=s[c])}}}return e}function Cp(t,e,n){t.style.setProperty(e,n)}function v7({swiper:t,targetPosition:e,side:n}){const r=pr(),s=-t.translate;let i=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>s?"next":"prev",u=(f,p)=>c==="next"&&f>=p||c==="prev"&&f<=p,d=()=>{a=new Date().getTime(),i===null&&(i=a);const f=Math.max(Math.min((a-i)/l,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=s+p*(e-s);if(u(g,e)&&(g=e),t.wrapperEl.scrollTo({[n]:g}),u(g,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:g})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function di(t,e=""){const n=pr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Cbe(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function kbe(t,e){const n=pr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Cbe(t,e))),r}function M0(t){try{console.warn(t);return}catch{}}function A0(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:vbe(e)),n}function Tbe(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ebe(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ro(t,e){return pr().getComputedStyle(t,null).getPropertyValue(e)}function P0(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function w7(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Aw(t,e,n){const r=pr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Cn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Zh(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let h1;function Mbe(){const t=pr(),e=xi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function N7(){return h1||(h1=Mbe()),h1}let f1;function Abe({userAgent:t}={}){const e=N7(),n=pr(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32";let g=r==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&e.touch&&x.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(i.os="android",i.android=!0),(u||f||d)&&(i.os="ios",i.ios=!0),i}function S7(t={}){return f1||(f1=Abe(t)),f1}let m1;function Pbe(){const t=pr(),e=S7();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function j7(){return m1||(m1=Pbe()),m1}function Obe({swiper:t,on:e,emit:n}){const r=pr();let s=null,i=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:f,height:p}=t;let g=f,x=p;d.forEach(({contentBoxSize:v,contentRect:b,target:w})=>{w&&w!==t.el||(g=b?b.width:(v[0]||v).inlineSize,x=b?b.height:(v[0]||v).blockSize)}),(g!==f||x!==p)&&a()})}),s.observe(t.el))},c=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),e("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function _be({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=pr(),a=(u,d={})=>{const f=i.MutationObserver||i.WebkitMutationObserver,p=new f(g=>{if(t.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const x=function(){r("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(x):i.setTimeout(x,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(p)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=w7(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var Dbe={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(s,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(l=>{l.apply(s,r)})}),e}};function Ibe(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ro(r,"padding-left")||0,10)-parseInt(ro(r,"padding-right")||0,10),n=n-parseInt(ro(r,"padding-top")||0,10)-parseInt(ro(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Lbe(){const t=this;function e(L,_){return parseFloat(L.getPropertyValue(t.getDirectionLabel(_))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=di(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,w=t.slidesGrid.length,S=t.size-x-v;let j=n.spaceBetween,M=-x,C=0,A=0;if(typeof S>"u")return;typeof j=="string"&&j.indexOf("%")>=0?j=parseFloat(j.replace("%",""))/100*S:typeof j=="string"&&(j=parseFloat(j)),t.virtualSize=-j-x-v,u.forEach(L=>{i?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Cp(r,"--swiper-centered-offset-before",""),Cp(r,"--swiper-centered-offset-after",""));const P=n.grid&&n.grid.rows>1&&t.grid;P?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let E;const D=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(L=>typeof n.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<d;L+=1){E=0;const _=u[L];if(!(_&&(P&&t.grid.updateSlide(L,_,u),ro(_,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(E=n.virtual.slidesPerViewAutoSlideSize),E&&_&&(n.roundLengths&&(E=Math.floor(E)),_.style[t.getDirectionLabel("width")]=`${E}px`);else if(n.slidesPerView==="auto"){D&&(_.style[t.getDirectionLabel("width")]="");const z=getComputedStyle(_),G=_.style.transform,H=_.style.webkitTransform;if(G&&(_.style.transform="none"),H&&(_.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?Aw(_,"width"):Aw(_,"height");else{const W=e(z,"width"),R=e(z,"padding-left"),$=e(z,"padding-right"),V=e(z,"margin-left"),K=e(z,"margin-right"),X=z.getPropertyValue("box-sizing");if(X&&X==="border-box")E=W+V+K;else{const{clientWidth:B,offsetWidth:J}=_;E=W+R+$+V+K+(J-B)}}G&&(_.style.transform=G),H&&(_.style.webkitTransform=H),n.roundLengths&&(E=Math.floor(E))}else E=(S-(n.slidesPerView-1)*j)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),_&&(_.style[t.getDirectionLabel("width")]=`${E}px`);_&&(_.swiperSlideSize=E),g.push(E),n.centeredSlides?(M=M+E/2+C/2+j,C===0&&L!==0&&(M=M-S/2-j),L===0&&(M=M-S/2-j),Math.abs(M)<1/1e3&&(M=0),n.roundLengths&&(M=Math.floor(M)),A%n.slidesPerGroup===0&&f.push(M),p.push(M)):(n.roundLengths&&(M=Math.floor(M)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&f.push(M),p.push(M),M=M+E+j),t.virtualSize+=E+j,C=E,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,S)+v,i&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+j}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+j}px`),P&&t.grid.updateWrapperSize(E,f),!n.centeredSlides){const L=[];for(let _=0;_<f.length;_+=1){let z=f[_];n.roundLengths&&(z=Math.floor(z)),f[_]<=t.virtualSize-S&&L.push(z)}f=L,Math.floor(t.virtualSize-S)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-S)}if(l&&n.loop){const L=g[0]+j;if(n.slidesPerGroup>1){const _=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),z=L*n.slidesPerGroup;for(let G=0;G<_;G+=1)f.push(f[f.length-1]+z)}for(let _=0;_<t.virtual.slidesBefore+t.virtual.slidesAfter;_+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+L),p.push(p[p.length-1]+L),t.virtualSize+=L}if(f.length===0&&(f=[0]),j!==0){const L=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((_,z)=>!n.cssMode||n.loop?!0:z!==u.length-1).forEach(_=>{_.style[L]=`${j}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let L=0;g.forEach(z=>{L+=z+(j||0)}),L-=j;const _=L>S?L-S:0;f=f.map(z=>z<=0?-x:z>_?_+v:z)}if(n.centerInsufficientSlides){let L=0;g.forEach(z=>{L+=z+(j||0)}),L-=j;const _=(x||0)+(v||0);if(L+_<S){const z=(S-L-_)/2;f.forEach((G,H)=>{f[H]=G-z}),p.forEach((G,H)=>{p[H]=G+z})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Cp(r,"--swiper-centered-offset-before",`${-f[0]}px`),Cp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const L=-t.snapGrid[0],_=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(z=>z+L),t.slidesGrid=t.slidesGrid.map(z=>z+_)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const L=`${n.containerModifierClass}backface-hidden`,_=t.el.classList.contains(L);d<=n.maxBackfaceHiddenSlides?_||t.el.classList.add(L):_&&t.el.classList.remove(L)}}function Rbe(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function Fbe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const AA=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function zbe(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),g=-(a-d),x=g+e.slidesSizesGrid[c],v=g>=0&&g<=e.size-e.slidesSizesGrid[c],b=g>=0&&g<e.size-1||x>1&&x<=e.size||g<=0&&x>=e.size;b&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c)),AA(u,b,n.slideVisibleClass),AA(u,v,n.slideFullyVisibleClass),u.progress=s?-f:f,u.originalProgress=s?-p:p}}function Vbe(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=f||s>=1,d&&(s=0),f&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],x=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=p?l=(v-p)/x:l=(v+x-g)/x,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const p1=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function $be(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=f=>di(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let c,u,d;if(i)if(n.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.find(f=>f.column===s),d=e.find(f=>f.column===s+1),u=e.find(f=>f.column===s-1)):c=e[s];c&&(a||(d=Ebe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=Tbe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{p1(f,f===c,n.slideActiveClass),p1(f,f===d,n.slideNextClass),p1(f,f===u,n.slidePrevClass)}),t.emitSlidesClasses()}const sg=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},g1=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Pw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&g1(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%n+n)%n;(l<s||l>i)&&g1(t,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&g1(t,a)};function Bbe(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function Hbe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=t,u;const d=g=>{let x=g-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof c>"u"&&(c=Bbe(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const g=Math.min(s.slidesPerGroupSkip,c);u=g+Math.floor((c-g)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const f=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=d(c);else if(f){const g=e.slides.find(v=>v.column===c);let x=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(g),0)),p=Math.floor(x/s.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=c}else p=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:p,previousIndex:i,activeIndex:c}),e.initialized&&Pw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function Ube(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,a=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Wbe={updateSize:Ibe,updateSlides:Lbe,updateAutoHeight:Rbe,updateSlidesOffset:Fbe,updateSlidesProgress:zbe,updateProgress:Vbe,updateSlidesClasses:$be,updateActiveIndex:Hbe,updateClickedSlide:Ube};function qbe(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=Sbe(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function Kbe(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Gbe(){return-this.snapGrid[0]}function Ybe(){return-this.snapGrid[this.snapGrid.length-1]}function Xbe(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const f=i.isHorizontal();if(e===0)l[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return v7({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var Qbe={getTranslate:qbe,setTranslate:Kbe,minTranslate:Gbe,maxTranslate:Ybe,translateTo:Xbe};function Jbe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function C7({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let a=n;a||(s>i?a="next":s<i?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==i&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function Zbe(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),C7({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function eve(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),C7({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var tve={setTransition:Jbe,transitionStart:Zbe,transitionEnd:eve};function nve(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:x}=i;if(!x&&!r&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const v=Math.min(i.params.slidesPerGroupSkip,a);let b=v+Math.floor((a-v)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const w=-c[b];if(l.normalizeSlideIndex)for(let P=0;P<u.length;P+=1){const E=-Math.floor(w*100),D=Math.floor(u[P]*100),L=Math.floor(u[P+1]*100);typeof u[P+1]<"u"?E>=D&&E<L-(L-D)/2?a=P:E>=D&&E<L&&(a=P+1):E>=D&&(a=P)}if(i.initialized&&a!==f&&(!i.allowSlideNext&&(p?w>i.translate&&w>i.minTranslate():w<i.translate&&w<i.minTranslate())||!i.allowSlidePrev&&w>i.translate&&w>i.maxTranslate()&&(f||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(w);let S;a>f?S="next":a<f?S="prev":S="reset";const j=i.virtual&&i.params.virtual.enabled;if(!(j&&s)&&(p&&-w===i.translate||!p&&w===i.translate))return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(w),S!=="reset"&&(i.transitionStart(n,S),i.transitionEnd(n,S)),!1;if(l.cssMode){const P=i.isHorizontal(),E=p?w:-w;if(e===0)j&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),j&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[P?"scrollLeft":"scrollTop"]=E})):g[P?"scrollLeft":"scrollTop"]=E,j&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return v7({swiper:i,targetPosition:E,side:P?"left":"top"}),!0;g.scrollTo({[P?"left":"top"]:E,behavior:"smooth"})}return!0}const A=j7().isSafari;return j&&!s&&A&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(e),i.setTranslate(w),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,S),e===0?i.transitionEnd(n,S):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,S))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function rve(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const v=a*s.params.grid.rows;l=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:d,slidesOffsetAfter:f}=s.params,p=u||!!d||!!f;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let x=c-l<g;if(p&&(x=x||l<Math.ceil(g/2)),r&&p&&s.params.slidesPerView!=="auto"&&!i&&(x=!1),x){const v=p?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?l+1:l-c+1,slideRealIndex:v==="next"?s.realIndex:void 0})}if(i){const v=a*s.params.grid.rows;a=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function sve(t,e=!0,n){const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function ive(t,e=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function p(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}const g=p(f),x=i.map(S=>p(S)),v=s.freeMode&&s.freeMode.enabled;let b=i[x.indexOf(g)-1];if(typeof b>"u"&&(s.cssMode||v)){let S;i.forEach((j,M)=>{g>=j&&(S=M)}),typeof S<"u"&&(b=v?i[S]:i[S>0?S-1:S])}let w=0;if(typeof b<"u"&&(w=a.indexOf(b),w<0&&(w=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),s.rewind&&r.isBeginning){const S=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(S,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function ave(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function ove(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function lve(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(di(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),b7(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var cve={slideTo:nve,slideToLoop:rve,slideNext:sve,slidePrev:ive,slideReset:ave,slideToClosest:ove,slideToClickedSlide:lve};function uve(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{di(s,`.${r.slideClass}, swiper-slide`).forEach((x,v)=>{x.setAttribute("data-swiper-slide-index",v)})},a=()=>{const g=di(s,`.${r.slideBlankClass}`);g.forEach(x=>{x.remove()}),g.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&a();const c=r.slidesPerGroup*(l?r.grid.rows:1),u=n.slides.length%c!==0,d=l&&n.slides.length%r.grid.rows!==0,f=g=>{for(let x=0;x<g;x+=1){const v=n.isElement?A0("swiper-slide",[r.slideBlankClass]):A0("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(v)}};if(u){if(r.loopAddBlankSlides){const g=c-n.slides.length%c;f(g),n.recalcSlides(),n.updateSlides()}else M0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const g=r.grid.rows-n.slides.length%r.grid.rows;f(g),n.recalcSlides(),n.updateSlides()}else M0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const p=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:p?void 0:"next",initial:e})}function dve({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:a,byMousewheel:l}={}){const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:f,slidesEl:p,params:g}=c,{centeredSlides:x,slidesOffsetBefore:v,slidesOffsetAfter:b,initialSlide:w}=g,S=x||!!v||!!b;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){e&&(!S&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):S&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=f,c.emit("loopFix");return}let j=g.slidesPerView;j==="auto"?j=c.slidesPerViewDynamic():(j=Math.ceil(parseFloat(g.slidesPerView,10)),S&&j%2===0&&(j=j+1));const M=g.slidesPerGroupAuto?j:g.slidesPerGroup;let C=S?Math.max(M,Math.ceil(j/2)):M;C%M!==0&&(C+=M-C%M),C+=g.loopAdditionalSlides,c.loopedSlides=C;const A=c.grid&&g.grid&&g.grid.rows>1;u.length<j+C||c.params.effect==="cards"&&u.length<j+C*2?M0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):A&&g.grid.fill==="row"&&M0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const P=[],E=[],D=A?Math.ceil(u.length/g.grid.rows):u.length,L=i&&D-w<j&&!S;let _=L?w:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find(V=>V.classList.contains(g.slideActiveClass))):_=s;const z=n==="next"||!n,G=n==="prev"||!n;let H=0,W=0;const $=(A?u[s].column:s)+(S&&typeof r>"u"?-j/2+.5:0);if($<C){H=Math.max(C-$,M);for(let V=0;V<C-$;V+=1){const K=V-Math.floor(V/D)*D;if(A){const X=D-K-1;for(let B=u.length-1;B>=0;B-=1)u[B].column===X&&P.push(B)}else P.push(D-K-1)}}else if($+j>D-C){W=Math.max($-(D-C*2),M),L&&(W=Math.max(W,j-D+w+1));for(let V=0;V<W;V+=1){const K=V-Math.floor(V/D)*D;A?u.forEach((X,B)=>{X.column===K&&E.push(B)}):E.push(K)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<j+C*2&&(E.includes(s)&&E.splice(E.indexOf(s),1),P.includes(s)&&P.splice(P.indexOf(s),1)),G&&P.forEach(V=>{u[V].swiperLoopMoveDOM=!0,p.prepend(u[V]),u[V].swiperLoopMoveDOM=!1}),z&&E.forEach(V=>{u[V].swiperLoopMoveDOM=!0,p.append(u[V]),u[V].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():A&&(P.length>0&&G||E.length>0&&z)&&c.slides.forEach((V,K)=>{c.grid.updateSlide(K,V,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),e){if(P.length>0&&G){if(typeof t>"u"){const V=c.slidesGrid[_],X=c.slidesGrid[_+H]-V;l?c.setTranslate(c.translate-X):(c.slideTo(_+Math.ceil(H),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-X,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-X))}else if(r){const V=A?P.length/g.grid.rows:P.length;c.slideTo(c.activeIndex+V,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(E.length>0&&z)if(typeof t>"u"){const V=c.slidesGrid[_],X=c.slidesGrid[_-W]-V;l?c.setTranslate(c.translate-X):(c.slideTo(_-W,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-X,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-X))}else{const V=A?E.length/g.grid.rows:E.length;c.slideTo(c.activeIndex-V,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const V={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(K=>{!K.destroyed&&K.params.loop&&K.loopFix({...V,slideTo:K.params.slidesPerView===g.slidesPerView?e:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...V,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?e:!1})}c.emit("loopFix")}function hve(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var fve={loopCreate:uve,loopFix:dve,loopDestroy:hve};function mve(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function pve(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var gve={setGrabCursor:mve,unsetGrabCursor:pve};function xve(t,e=this){function n(r){if(!r||r===xi()||r===pr())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function PA(t,e,n){const r=pr(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function yve(t){const e=this,n=xi();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){PA(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!kbe(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(p?xve(f,c):c.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const g=a.currentX,x=a.currentY;if(!PA(e,r,g))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=x,s.touchStartTime=E0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let v=!0;c.matches(s.focusableElements)&&(v=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&n.activeElement.blur();const b=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function bve(t){const e=xi(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(C=>C.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=E0());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let C;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:p*p+g*g>=25&&(C=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?C>s.touchAngle:90-C>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let x=n.isHorizontal()?p:g,v=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(x=Math.abs(x)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),i.diff=x,x*=s.touchRatio,a&&(x=-x,v=-v);const b=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const w=n.params.loop&&!s.cssMode,S=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(w&&S&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(C)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&w&&S&&Math.abs(x)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let j=!0,M=s.resistanceRatio;if(s.touchReleaseOnEdges&&(M=0),x>0?(w&&S&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+x)**M))):x<0&&(w&&S&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-x)**M))),j&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function vve(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(C=>C.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=E0(),p=f-n.touchStartTime;if(e.allowClick){const C=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(C&&C[0]||r.target,C),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=E0(),b7(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(a.followFinger?g=c?e.translate:-e.translate:g=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const x=g>=-e.maxTranslate()&&!e.params.loop;let v=0,b=e.slidesSizesGrid[0];for(let C=0;C<u.length;C+=C<a.slidesPerGroupSkip?1:a.slidesPerGroup){const A=C<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[C+A]<"u"?(x||g>=u[C]&&g<u[C+A])&&(v=C,b=u[C+A]-u[C]):(x||g>=u[C])&&(v=C,b=u[u.length-1]-u[u.length-2])}let w=null,S=null;a.rewind&&(e.isBeginning?S=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const j=(g-u[v])/b,M=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(j>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?w:v+M):e.slideTo(v)),e.swipeDirection==="prev"&&(j>1-a.longSwipesRatio?e.slideTo(v+M):S!==null&&j<0&&Math.abs(j)>a.longSwipesRatio?e.slideTo(S):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+M):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:v+M),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:v))}}function OA(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function wve(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Nve(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Sve(t){const e=this;sg(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function jve(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const k7=(t,e)=>{const n=xi(),{params:r,el:s,wrapperEl:i,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",OA,!0):t[u]("observerUpdate",OA,!0),s[c]("load",t.onLoad,{capture:!0}))};function Cve(){const t=this,{params:e}=t;t.onTouchStart=yve.bind(t),t.onTouchMove=bve.bind(t),t.onTouchEnd=vve.bind(t),t.onDocumentTouchStart=jve.bind(t),e.cssMode&&(t.onScroll=Nve.bind(t)),t.onClick=wve.bind(t),t.onLoad=Sve.bind(t),k7(t,"on")}function kve(){k7(this,"off")}var Tve={attachEvents:Cve,detachEvents:kve};const _A=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Eve(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=xi(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),u=t.getBreakpoint(i,l,c);if(!u||t.currentBreakpoint===u)return;const f=(u in i?i[u]:void 0)||t.originalParams,p=_A(t,r),g=_A(t,f),x=t.params.grabCursor,v=f.grabCursor,b=r.enabled;p&&!g?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(s.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!v?t.unsetGrabCursor():!x&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof f[A]>"u")return;const P=r[A]&&r[A].enabled,E=f[A]&&f[A].enabled;P&&!E&&t[A].disable(),!P&&E&&t[A].enable()});const w=f.direction&&f.direction!==r.direction,S=r.loop&&(f.slidesPerView!==r.slidesPerView||w),j=r.loop;w&&n&&t.changeDirection(),Hr(t.params,f);const M=t.params.enabled,C=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!M?t.disable():!b&&M&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",f),n&&(S?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!j&&C?(t.loopCreate(e),t.updateSlides()):j&&!C&&t.loopDestroy()),t.emit("breakpoint",f)}function Mve(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=pr(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var Ave={setBreakpoint:Eve,getBreakpoint:Mve};function Pve(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function Ove(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=Pve(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function _ve(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Dve={addClasses:Ove,removeClasses:_ve};function Ive(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Lve={checkOverflow:Ive},Ow={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Rve(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Hr(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Hr(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Hr(e,r)}}const x1={eventsEmitter:Dbe,update:Wbe,translate:Qbe,transition:tve,slide:cve,loop:fve,grabCursor:gve,events:Tve,breakpoints:Ave,checkOverflow:Lve,classes:Dve},y1={};let _j=class Ui{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Hr({},r),n&&!r.el&&(r.el=n);const s=xi();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const c=[];return s.querySelectorAll(r.el).forEach(u=>{const d=Hr({},r,{el:u});c.push(new Ui(d))}),c}const i=this;i.__swiper__=!0,i.support=N7(),i.device=S7({userAgent:r.userAgent}),i.browser=j7(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(c=>{c({params:r,swiper:i,extendParams:Rve(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Hr({},Ow,a);return i.params=Hr({},l,y1,r),i.originalParams=Hr({},i.params),i.passedParams=Hr({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(c=>{i.on(c,i.params.on[c])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=di(n,`.${r.slideClass}, swiper-slide`),i=P0(s[0]);return P0(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=di(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[u]?Math.ceil(i[u].swiperSlideSize):0,p;for(let g=u+1;g<i.length;g+=1)i[g]&&!p&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>c&&(p=!0));for(let g=u-1;g>=0;g-=1)i[g]&&!p&&(f+=i[g].swiperSlideSize,d+=1,f>c&&(p=!0))}else if(e==="current")for(let f=u+1;f<i.length;f+=1)(n?a[f]+l[f]-a[u]<c:a[f]-a[u]<c)&&(d+=1);else for(let f=u-1;f>=0;f-=1)a[u]-a[f]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&sg(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):di(r,s())[0];return!a&&n.params.createElements&&(a=A0("div",n.params.wrapperClass),r.append(a),di(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ro(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ro(r,"direction")==="rtl"),wrongRTL:ro(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?sg(n,i):i.addEventListener("load",a=>{sg(n,a.target)})}),Pw(n),n.initialized=!0,Pw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),wbe(r)),r.destroyed=!0),null}static extendDefaults(e){Hr(y1,e)}static get extendedDefaults(){return y1}static get defaults(){return Ow}static installModule(e){Ui.prototype.__modules__||(Ui.prototype.__modules__=[]);const n=Ui.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ui.installModule(n)),Ui):(Ui.installModule(e),Ui)}};Object.keys(x1).forEach(t=>{Object.keys(x1[t]).forEach(e=>{_j.prototype[e]=x1[t][e]})});_j.use([Obe,_be]);const T7=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ul(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function nu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ul(e[r])&&Ul(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:nu(t[r],e[r]):t[r]=e[r]})}function E7(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function M7(t={}){return t.pagination&&typeof t.pagination.el>"u"}function A7(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function P7(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Fve(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function zve({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:a,paginationEl:l}){const c=r.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:p,virtual:g,thumbs:x}=t;let v,b,w,S,j,M,C,A;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(w=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(S=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(j=!0);const P=E=>{t[E]&&(t[E].destroy(),E==="navigation"?(t.isElement&&(t[E].prevEl.remove(),t[E].nextEl.remove()),u[E].prevEl=void 0,u[E].nextEl=void 0,t[E].prevEl=void 0,t[E].nextEl=void 0):(t.isElement&&t[E].el.remove(),u[E].el=void 0,t[E].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?M=!0:!u.loop&&n.loop?C=!0:A=!0),c.forEach(E=>{if(Ul(u[E])&&Ul(n[E]))Object.assign(u[E],n[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in n[E]&&!n[E].enabled&&P(E);else{const D=n[E];(D===!0||D===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?D===!1&&P(E):u[E]=n[E]}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&g&&u.virtual.enabled?(g.slides=e,g.update(!0)):r.includes("virtual")&&g&&u.virtual.enabled&&(e&&(g.slides=e),g.update(!0)),r.includes("children")&&e&&u.loop&&(A=!0),v&&x.init()&&x.update(!0),b&&(t.controller.control=u.controller.control),w&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),S&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),j&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Zh(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Zh(i,t.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(M||A)&&t.loopDestroy(),(C||A)&&t.loopCreate(),t.update()}function Vve(t={},e=!0){const n={on:{}},r={},s={};nu(n,Ow),n._emitClasses=!0,n.init=!1;const i={},a=T7.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?Ul(t[c])?(n[c]={},s[c]={},nu(n[c],t[c]),nu(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function $ve({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},a){E7(a)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),M7(a)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),A7(a)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}function Bve(t,e,n,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return T7.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Ul(t[c])&&Ul(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}),d.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}))}else t[c]!==e[c]&&a(c)}),i}const Hve=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function O7(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function _7(t){const e=[];return be.Children.toArray(t).forEach(n=>{O7(n)?e.push(n):n.props&&n.props.children&&_7(n.props.children).forEach(r=>e.push(r))}),e}function Uve(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return be.Children.toArray(t).forEach(r=>{if(O7(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=_7(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Wve(t,e,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,f)=>be.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function gh(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const DA=T.createContext(null),qve=T.createContext(null),Dx=T.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...i}={},a)=>{let l=!1;const[c,u]=T.useState("swiper"),[d,f]=T.useState(null),[p,g]=T.useState(!1),x=T.useRef(!1),v=T.useRef(null),b=T.useRef(null),w=T.useRef(null),S=T.useRef(null),j=T.useRef(null),M=T.useRef(null),C=T.useRef(null),A=T.useRef(null),{params:P,passedParams:E,rest:D,events:L}=Vve(i),{slides:_,slots:z}=Uve(r),G=()=>{g(!p)};Object.assign(P.on,{_containerClasses(V,K){u(K)}});const H=()=>{Object.assign(P.on,L),l=!0;const V={...P};if(delete V.wrapperClass,b.current=new _j(V),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=_;const K={cache:!1,slides:_,renderExternal:f,renderExternalUpdate:!1};nu(b.current.params.virtual,K),nu(b.current.originalParams.virtual,K)}};v.current||H(),b.current&&b.current.on("_beforeBreakpoint",G);const W=()=>{l||!L||!b.current||Object.keys(L).forEach(V=>{b.current.on(V,L[V])})},R=()=>{!L||!b.current||Object.keys(L).forEach(V=>{b.current.off(V,L[V])})};T.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",G)}),T.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),gh(()=>{if(a&&(a.current=v.current),!!v.current)return b.current.destroyed&&H(),$ve({el:v.current,nextEl:j.current,prevEl:M.current,paginationEl:C.current,scrollbarEl:A.current,swiper:b.current},P),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),gh(()=>{W();const V=Bve(E,w.current,_,S.current,K=>K.key);return w.current=E,S.current=_,V.length&&b.current&&!b.current.destroyed&&zve({swiper:b.current,slides:_,passedParams:E,changedParams:V,nextEl:j.current,prevEl:M.current,scrollbarEl:A.current,paginationEl:C.current}),()=>{R()}}),gh(()=>{Hve(b.current)},[d]);function $(){return P.virtual?Wve(b.current,_,d):_.map((V,K)=>be.cloneElement(V,{swiper:b.current,swiperSlideIndex:K}))}return be.createElement(e,O0({ref:v,className:P7(`${c}${t?` ${t}`:""}`)},D),be.createElement(qve.Provider,{value:b.current},z["container-start"],be.createElement(n,{className:Fve(P.wrapperClass)},z["wrapper-start"],$(),z["wrapper-end"]),E7(P)&&be.createElement(be.Fragment,null,be.createElement("div",{ref:M,className:"swiper-button-prev"}),be.createElement("div",{ref:j,className:"swiper-button-next"})),A7(P)&&be.createElement("div",{ref:A,className:"swiper-scrollbar"}),M7(P)&&be.createElement("div",{ref:C,className:"swiper-pagination"}),z["container-end"]))});Dx.displayName="Swiper";const fo=T.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:i,virtualIndex:a,swiperSlideIndex:l,...c}={},u)=>{const d=T.useRef(null),[f,p]=T.useState("swiper-slide"),[g,x]=T.useState(!1);function v(j,M,C){M===d.current&&p(C)}gh(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),u&&(u.current=d.current),!(!d.current||!r)){if(r.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return r.on("_slideClass",v),()=>{r&&r.off("_slideClass",v)}}}),gh(()=>{r&&d.current&&!r.destroyed&&p(r.getSlideClasses(d.current))},[r]);const b={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},w=()=>typeof e=="function"?e(b):e,S=()=>{x(!0)};return be.createElement(t,O0({ref:d,className:P7(`${f}${n?` ${n}`:""}`),"data-swiper-slide-index":a,onLoad:S},c),s&&be.createElement(DA.Provider,{value:b},be.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},w(),i&&!g&&be.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&be.createElement(DA.Provider,{value:b},w(),i&&!g&&be.createElement("div",{className:"swiper-lazy-preloader"})))});fo.displayName="SwiperSlide";function D7(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=di(t.el,`.${r[s]}`)[0];i||(i=A0("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}const Kve='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Dj({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(g){let x;return g&&typeof g=="string"&&t.isElement&&(x=t.el.querySelector(g)||t.hostEl.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),t.params.uniqueNavElements&&typeof g=="string"&&x&&x.length>1&&t.el.querySelectorAll(g).length===1?x=t.el.querySelector(g):x&&x.length===1&&(x=x[0])),g&&!x?g:x)}function i(g,x){const v=t.params.navigation;g=Cn(g),g.forEach(b=>{b&&(b.classList[x?"add":"remove"](...v.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=x),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:g,prevEl:x}=t.navigation;if(t.params.loop){i(x,!1),i(g,!1);return}i(x,t.isBeginning&&!t.params.rewind),i(g,t.isEnd&&!t.params.rewind)}function l(g){g.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(g){g.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const g=t.params.navigation;if(t.params.navigation=D7(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=s(g.nextEl),v=s(g.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:v}),x=Cn(x),v=Cn(v);const b=(w,S)=>{if(w){if(g.addIcons&&w.matches(".swiper-button-next,.swiper-button-prev")&&!w.querySelector("svg")){const j=document.createElement("div");Zh(j,Kve),w.appendChild(j.querySelector("svg")),j.remove()}w.addEventListener("click",S==="next"?c:l)}!t.enabled&&w&&w.classList.add(...g.lockClass.split(" "))};x.forEach(w=>b(w,"next")),v.forEach(w=>b(w,"prev"))}function d(){let{nextEl:g,prevEl:x}=t.navigation;g=Cn(g),x=Cn(x);const v=(b,w)=>{b.removeEventListener("click",w==="next"?c:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};g.forEach(b=>v(b,"next")),x.forEach(b=>v(b,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?p():(u(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:g,prevEl:x}=t.navigation;if(g=Cn(g),x=Cn(x),t.enabled){a();return}[...g,...x].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),n("click",(g,x)=>{let{nextEl:v,prevEl:b}=t.navigation;v=Cn(v),b=Cn(b);const w=x.target;let S=b.includes(w)||v.includes(w);if(t.isElement&&!S){const j=x.path||x.composedPath&&x.composedPath();j&&(S=j.find(M=>v.includes(M)||b.includes(M)))}if(t.params.navigation.hideOnClick&&!S){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===w||t.pagination.el.contains(w)))return;let j;v.length?j=v[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(j=b[0].classList.contains(t.params.navigation.hiddenClass)),r(j===!0?"navigationShow":"navigationHide"),[...v,...b].filter(M=>!!M).forEach(M=>M.classList.toggle(t.params.navigation.hiddenClass))}});const f=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:f,disable:p,update:a,init:u,destroy:d})}function _d(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Ij({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let i,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(w,S){const{bulletActiveClass:j}=t.params.pagination;w&&(w=w[`${S==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${j}-${S}`),w=w[`${S==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${j}-${S}-${S}`)))}function u(w,S,j){if(w=w%j,S=S%j,S===w+1)return"next";if(S===w-1)return"previous"}function d(w){const S=w.target.closest(_d(t.params.pagination.bulletClass));if(!S)return;w.preventDefault();const j=P0(S)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===j)return;const M=u(t.realIndex,j,t.slides.length);M==="next"?t.slideNext():M==="previous"?t.slidePrev():t.slideToLoop(j)}else t.slideTo(j)}function f(){const w=t.rtl,S=t.params.pagination;if(l())return;let j=t.pagination.el;j=Cn(j);let M,C;const A=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,P=t.params.loop?Math.ceil(A/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(C=t.previousRealIndex||0,M=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(M=t.snapIndex,C=t.previousSnapIndex):(C=t.previousIndex||0,M=t.activeIndex||0),S.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const E=t.pagination.bullets;let D,L,_;if(S.dynamicBullets&&(i=Aw(E[0],t.isHorizontal()?"width":"height"),j.forEach(z=>{z.style[t.isHorizontal()?"width":"height"]=`${i*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&C!==void 0&&(a+=M-(C||0),a>S.dynamicMainBullets-1?a=S.dynamicMainBullets-1:a<0&&(a=0)),D=Math.max(M-a,0),L=D+(Math.min(E.length,S.dynamicMainBullets)-1),_=(L+D)/2),E.forEach(z=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(H=>`${S.bulletActiveClass}${H}`)].map(H=>typeof H=="string"&&H.includes(" ")?H.split(" "):H).flat();z.classList.remove(...G)}),j.length>1)E.forEach(z=>{const G=P0(z);G===M?z.classList.add(...S.bulletActiveClass.split(" ")):t.isElement&&z.setAttribute("part","bullet"),S.dynamicBullets&&(G>=D&&G<=L&&z.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),G===D&&c(z,"prev"),G===L&&c(z,"next"))});else{const z=E[M];if(z&&z.classList.add(...S.bulletActiveClass.split(" ")),t.isElement&&E.forEach((G,H)=>{G.setAttribute("part",H===M?"bullet-active":"bullet")}),S.dynamicBullets){const G=E[D],H=E[L];for(let W=D;W<=L;W+=1)E[W]&&E[W].classList.add(...`${S.bulletActiveClass}-main`.split(" "));c(G,"prev"),c(H,"next")}}if(S.dynamicBullets){const z=Math.min(E.length,S.dynamicMainBullets+4),G=(i*z-i)/2-_*i,H=w?"right":"left";E.forEach(W=>{W.style[t.isHorizontal()?H:"top"]=`${G}px`})}}j.forEach((E,D)=>{if(S.type==="fraction"&&(E.querySelectorAll(_d(S.currentClass)).forEach(L=>{L.textContent=S.formatFractionCurrent(M+1)}),E.querySelectorAll(_d(S.totalClass)).forEach(L=>{L.textContent=S.formatFractionTotal(P)})),S.type==="progressbar"){let L;S.progressbarOpposite?L=t.isHorizontal()?"vertical":"horizontal":L=t.isHorizontal()?"horizontal":"vertical";const _=(M+1)/P;let z=1,G=1;L==="horizontal"?z=_:G=_,E.querySelectorAll(_d(S.progressbarFillClass)).forEach(H=>{H.style.transform=`translate3d(0,0,0) scaleX(${z}) scaleY(${G})`,H.style.transitionDuration=`${t.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(Zh(E,S.renderCustom(t,M+1,P)),D===0&&r("paginationRender",E)):(D===0&&r("paginationRender",E),r("paginationUpdate",E)),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](S.lockClass)})}function p(){const w=t.params.pagination;if(l())return;const S=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let j=t.pagination.el;j=Cn(j);let M="";if(w.type==="bullets"){let C=t.params.loop?Math.ceil(S/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&C>S&&(C=S);for(let A=0;A<C;A+=1)w.renderBullet?M+=w.renderBullet.call(t,A,w.bulletClass):M+=`<${w.bulletElement} ${t.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?M=w.renderFraction.call(t,w.currentClass,w.totalClass):M=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?M=w.renderProgressbar.call(t,w.progressbarFillClass):M=`<span class="${w.progressbarFillClass}"></span>`),t.pagination.bullets=[],j.forEach(C=>{w.type!=="custom"&&Zh(C,M||""),w.type==="bullets"&&t.pagination.bullets.push(...C.querySelectorAll(_d(w.bulletClass)))}),w.type!=="custom"&&r("paginationRender",j[0])}function g(){t.params.pagination=D7(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const w=t.params.pagination;if(!w.el)return;let S;typeof w.el=="string"&&t.isElement&&(S=t.el.querySelector(w.el)),!S&&typeof w.el=="string"&&(S=[...document.querySelectorAll(w.el)]),S||(S=w.el),!(!S||S.length===0)&&(t.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...t.el.querySelectorAll(w.el)],S.length>1&&(S=S.find(j=>w7(j,".swiper")[0]===t.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(t.pagination,{el:S}),S=Cn(S),S.forEach(j=>{w.type==="bullets"&&w.clickable&&j.classList.add(...(w.clickableClass||"").split(" ")),j.classList.add(w.modifierClass+w.type),j.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(j.classList.add(`${w.modifierClass}${w.type}-dynamic`),a=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&j.classList.add(w.progressbarOppositeClass),w.clickable&&j.addEventListener("click",d),t.enabled||j.classList.add(w.lockClass)}))}function x(){const w=t.params.pagination;if(l())return;let S=t.pagination.el;S&&(S=Cn(S),S.forEach(j=>{j.classList.remove(w.hiddenClass),j.classList.remove(w.modifierClass+w.type),j.classList.remove(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(j.classList.remove(...(w.clickableClass||"").split(" ")),j.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(j=>j.classList.remove(...w.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const w=t.params.pagination;let{el:S}=t.pagination;S=Cn(S),S.forEach(j=>{j.classList.remove(w.horizontalClass,w.verticalClass),j.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?b():(g(),p(),f())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&f()}),n("snapIndexChange",()=>{f()}),n("snapGridLengthChange",()=>{p(),f()}),n("destroy",()=>{x()}),n("enable disable",()=>{let{el:w}=t.pagination;w&&(w=Cn(w),w.forEach(S=>S.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{f()}),n("click",(w,S)=>{const j=S.target,M=Cn(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&M&&M.length>0&&!j.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&j===t.navigation.nextEl||t.navigation.prevEl&&j===t.navigation.prevEl))return;const C=M[0].classList.contains(t.params.pagination.hiddenClass);r(C===!0?"paginationShow":"paginationHide"),M.forEach(A=>A.classList.toggle(t.params.pagination.hiddenClass))}});const v=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Cn(w),w.forEach(S=>S.classList.remove(t.params.pagination.paginationDisabledClass))),g(),p(),f()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Cn(w),w.forEach(S=>S.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:v,disable:b,render:p,update:f,init:g,destroy:x})}function Lj({swiper:t,extendParams:e,on:n,emit:r,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),f,p,g,x,v,b,w;function S($){!t||t.destroyed||!t.wrapperEl||$.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",S),!(w||$.detail&&$.detail.bySwiperTouchMove)&&D())}const j=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?f=!0:f&&(c=u,f=!1);const $=t.autoplay.paused?u:d+c-new Date().getTime();t.autoplay.timeLeft=$,r("autoplayTimeLeft",$,$/l),a=requestAnimationFrame(()=>{j()})},M=()=>{let $;return t.virtual&&t.params.virtual.enabled?$=t.slides.find(K=>K.classList.contains("swiper-slide-active")):$=t.slides[t.activeIndex],$?parseInt($.getAttribute("data-swiper-autoplay"),10):void 0},C=$=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),j();let V=typeof $>"u"?t.params.autoplay.delay:$;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const K=M();!Number.isNaN(K)&&K>0&&typeof $>"u"&&(V=K,l=K,c=K),u=V;const X=t.params.speed,B=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(X,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,X,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(X,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,X,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return V>0?(clearTimeout(i),i=setTimeout(()=>{B()},V)):requestAnimationFrame(()=>{B()}),V},A=()=>{d=new Date().getTime(),t.autoplay.running=!0,C(),r("autoplayStart")},P=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(a),r("autoplayStop")},E=($,V)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),$||(b=!0);const K=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",S):D()};if(t.autoplay.paused=!0,V){v&&(u=t.params.autoplay.delay),v=!1,K();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),K())},D=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),b?(b=!1,C(u)):C(),t.autoplay.paused=!1,r("autoplayResume"))},L=()=>{if(t.destroyed||!t.autoplay.running)return;const $=xi();$.visibilityState==="hidden"&&(b=!0,E(!0)),$.visibilityState==="visible"&&D()},_=$=>{$.pointerType==="mouse"&&(b=!0,w=!0,!(t.animating||t.autoplay.paused)&&E(!0))},z=$=>{$.pointerType==="mouse"&&(w=!1,t.autoplay.paused&&D())},G=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",_),t.el.addEventListener("pointerleave",z))},H=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",_),t.el.removeEventListener("pointerleave",z))},W=()=>{xi().addEventListener("visibilitychange",L)},R=()=>{xi().removeEventListener("visibilitychange",L)};n("init",()=>{t.params.autoplay.enabled&&(G(),W(),A())}),n("destroy",()=>{H(),R(),t.autoplay.running&&P()}),n("_freeModeStaticRelease",()=>{(g||b)&&D()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?P():E(!0,!0)}),n("beforeTransitionStart",($,V,K)=>{t.destroyed||!t.autoplay.running||(K||!t.params.autoplay.disableOnInteraction?E(!0,!0):P())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){P();return}p=!0,g=!1,b=!1,x=setTimeout(()=>{b=!0,g=!0,E(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(i),t.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&t.params.cssMode&&D(),g=!1,p=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:A,stop:P,pause:E,resume:D})}function Gve(){const{data:t=[],isLoading:e}=Fe({queryKey:["listBanner"],queryFn:()=>x7()}),n=()=>o.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 animate-pulse",children:[o.jsx("div",{className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] bg-gray-200"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 md:p-8",children:[o.jsx("div",{className:"h-8 sm:h-9 md:h-10 bg-gray-300 rounded w-full sm:w-3/4 mb-2 sm:mb-3"}),o.jsx("div",{className:"h-6 sm:h-7 bg-gray-300 rounded w-2/3 sm:w-1/2 mb-4 sm:mb-6"}),o.jsx("div",{className:"h-10 sm:h-12 bg-gray-300 rounded-full w-32 sm:w-40"})]})]});return o.jsxs("div",{className:"rounded-xl bg-white shadow-lg overflow-hidden px-2 xs:px-4 sm:px-8 md:px-4 lg:px-0",children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("button",{className:"custom-prev-btn hidden lg:block absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-white/90 hover:bg-pink-500 p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx("svg",{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 text-gray-700 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx(Dx,{modules:[Dj,Ij,Lj],spaceBetween:10,slidesPerView:1,slidesPerGroup:1,breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:1,spaceBetween:15},640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:20},1024:{slidesPerView:1,spaceBetween:20}},navigation:{nextEl:".custom-next-btn",prevEl:".custom-prev-btn"},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",renderBullet:function(r,s){return`<span class="${s} !bg-gray-300 hover:!bg-pink-500"></span>`}},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"w-full",children:e?o.jsxs(o.Fragment,{children:[o.jsx(fo,{children:o.jsx(n,{})}),o.jsx(fo,{children:o.jsx(n,{})})]}):t.map(r=>o.jsx(fo,{children:o.jsxs(Qe,{to:r.link||"/",className:"block relative overflow-hidden group cursor-pointer",children:[o.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] object-cover transition-transform duration-700 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),o.jsx("div",{className:"absolute top-3 xs:top-4 sm:top-6 right-3 xs:right-4 sm:right-6 bg-red-600 text-white px-3 xs:px-4 sm:px-6 py-1 xs:py-2 sm:py-3 rounded-full text-xs xs:text-sm sm:text-base md:text-lg font-bold animate-pulse shadow-lg whitespace-nowrap",children:"NEW"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 xs:p-6 sm:p-8 md:p-10 lg:p-12 text-white",children:[o.jsx("h3",{className:"xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-2 xs:mb-3 leading-tight",children:r.title}),o.jsx("p",{className:"text-lg xs:text-base sm:text-lg md:text-xl text-white/90 mb-4 xs:mb-6 max-w-full sm:max-w-xl md:max-w-2xl line-clamp-2 xs:line-clamp-none",children:r.subTitle}),o.jsxs("button",{className:"bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 xs:py-3 sm:py-4 px-6 xs:px-8 sm:px-10 rounded-full text-[1.4rem] md:text-[1.6rem] inline-flex items-center gap-2 xs:gap-3 transition-all transform hover:scale-105 shadow-lg",children:["Mua ngay",o.jsx(F,{icon:XO,className:"text-xs xs:text-sm sm:text-base"})]})]})]})},r.id))}),o.jsx("button",{className:"custom-next-btn hidden lg:block absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-white/90 hover:bg-pink-500 p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx("svg",{className:"w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 text-gray-700 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),o.jsx("div",{className:"swiper-pagination mt-2 xs:mt-3 sm:mt-4 flex justify-center"})]})}function Rj({showAddCart:t,setShowAddCart:e}){const[n,r]=T.useState(null),[s,i]=T.useState(null),[a,l]=T.useState(null),[c,u]=T.useState(1),[d,f]=T.useState(null),{addToCart:p,isLoading:g,notify:x,setNotify:v}=_x(),b=()=>(t.data&&t.data.variants.find(D=>D.variantColor.id===a?.id&&D.variantSize.id===s?.id))?.inventory??0;T.useEffect(()=>{const E=b();if(!a||!s){u(1);return}u(D=>D>E?E>0?E:1:D)},[a,s]);const w=a&&s,S=t.data&&t.data?.variants?.reduce((E,D)=>E+D.inventory,0)||0,j=b(),M=T.useMemo(()=>{const E=new Map;return t.data&&t.data.variants.forEach(D=>E.set(D.variantColor.id,D.variantColor)),[...E.values()]},[t.data]),C=T.useMemo(()=>{const E=new Map;return t.data&&t.data.variants.forEach(D=>E.set(D.variantSize.id,D.variantSize)),[...E.values()]},[t.data]),A=()=>{const E=t.data&&t.data.category.categoryName?.toUpperCase()||"";return E.includes("giy")||E.includes("dp")?oN:cN},P=async()=>{if(f(null),!a||!s){f("Vui lng chn thuc tnh sn phm!");return}const E=t.data?.variants.find(L=>L.variantColor.id===a.id&&L.variantSize.id===s.id)?.id;c<=0&&f("S lng sn phm t nht l 1!"),p([{variantId:E,quantity:c}])};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t.open,className:`relative \r
          w-[92vw] max-w-[90%] sm:max-w-[80%] md:max-w-[70%] lg:max-w-[55%]\r
          min-h-[30vh] max-h-[90vh] sm:max-h-[85vh] md:max-h-[80vh]\r
          bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-y-auto\r
          px-4 py-5 sm:px-6 sm:py-6 md:p-8 lg:p-10`,children:[o.jsx("button",{className:`absolute top-2 right-2 sm:top-3 sm:right-3 \r
            w-9 h-9 sm:w-10 sm:h-10 rounded-full \r
            flex items-center justify-center bg-gray-800 \r
            cursor-pointer hover:scale-110 transition-transform z-10`,onClick:()=>e({open:!1,data:null}),children:o.jsx(F,{icon:Un,className:"text-white text-xl sm:text-2xl"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8 lg:gap-10",children:[o.jsxs("div",{className:"w-full md:w-[38%] lg:w-[40%] flex-shrink-0",children:[o.jsx("div",{className:"aspect-square w-full max-w-[380px] mx-auto md:mx-0",children:o.jsx("img",{src:n||t.data?.mainImage,alt:"mainImage",className:"w-full h-full rounded-xl object-cover shadow-sm"})}),o.jsx("div",{className:"mt-4 grid grid-cols-4 sm:grid-cols-5 gap-2 sm:gap-3 overflow-x-auto pb-2 scrollbar-thin",children:t.data?.listImageProduct.map(E=>o.jsx("div",{className:"cursor-pointer flex-shrink-0 w-20 sm:w-24 aspect-square",onClick:()=>r(E.imageUrl),children:o.jsx("img",{src:E.imageUrl,alt:`thumb-${t.data?.productName}`,className:`w-full h-full rounded-lg object-cover border-2 transition-all ${n===E.imageUrl?"border-blue-500 shadow-md":"border-transparent hover:border-gray-300"}`})},E.id))})]}),o.jsxs("div",{className:"flex-1 space-y-4 sm:space-y-5",children:[o.jsx("h2",{className:"text-[1.8rem] font-bold text-gray-800 line-clamp-2",children:t.data?.productName}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-gray-600 text-[1.4rem]",children:[o.jsxs("span",{children:["M sn phm: ",o.jsx("strong",{children:t.data?.id})]}),o.jsx("span",{className:"hidden sm:inline-block border-l border-gray-400 h-5"}),o.jsxs("span",{children:["Tnh trng:"," ",o.jsx("strong",{children:t.data?.variants.some(E=>E.inventory>0)?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Gi:"}),o.jsx("span",{className:"text-red-500 font-bold text-[1.6rem] sm:text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(t.data?.price))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2",children:"Chn mu:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:M.map(E=>o.jsxs("button",{className:`flex items-center gap-2 px-3 sm:px-4 py-2 border rounded-lg text-[1.4rem] transition-all ${a?.id===E.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300"}`,onClick:()=>l(E),onFocus:()=>f(null),children:[o.jsx(F,{icon:A(),className:"p-1 rounded bg-gray-100",style:{color:E.hexCode}}),o.jsx("span",{className:"text-gray-700",children:E.name})]},E.id))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2 mt-5 sm:mt-6",children:"Chn size:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:C?.map(E=>{const D=a&&t.data?.variants.some(L=>L.variantColor.id===a.id&&L.variantSize.id===E.id);return o.jsx("button",{className:`px-5 sm:px-6 py-2 border rounded-lg text-[1.4rem] transition-all ${D?s?.id===E.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300":"border-gray-200 text-gray-300 cursor-not-allowed"}`,disabled:!D,onClick:()=>i(E),onFocus:()=>f(null),children:E.name},E.id)})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 mt-6 sm:mt-8",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(E=>Math.max(1,E-1)),children:o.jsx(F,{icon:_l,className:"text-base"})}),o.jsx("input",{type:"number",value:c,min:1,disabled:!w,onChange:E=>{const D=Number(E.target.value);isNaN(D)||u(D)},className:`w-20 sm:w-24 h-10 sm:h-11 text-center text-[1.4rem] border rounded-lg outline-none ${w?"border-gray-300 focus:border-blue-400":"bg-gray-100 text-gray-500 cursor-not-allowed"}`}),o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(E=>Math.min(j,E+1)),children:o.jsx(F,{icon:ua,className:"text-base"})})]}),o.jsx("span",{className:"text-[1.2rem] text-gray-600 font-medium uppercase",children:w?`Cn ${j} sn phm`:S>0?"Cn hng":"Ht hng"})]}),d&&o.jsx("p",{className:"text-red-500 text-[1.5rem] mt-4",children:d})]})]}),o.jsxs("div",{className:"flex flex-row items-center justify-end gap-3 sm:gap-4 mt-6 sm:mt-8",children:[o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition duration-300 text-[1.4rem]",onClick:()=>e({open:!1,data:null}),disabled:g,children:"Hy"}),o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-300 text-[1.4rem] font-medium",onClick:P,disabled:g||!w,children:g?"ang x l...":"Thm vo gi"})]})]}),o.jsx(Du,{showNotify:x.show,content:x.content,duration:1e3,onClose:()=>v({show:!1,content:""})})]})}function Yve(){const t=rt(),[e]=T.useState({limit:10,page:1}),[n,r]=T.useState({open:!1,data:null}),{data:s,isLoading:i}=Fe({queryKey:["populars",e],queryFn:()=>Oee(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-blue-500",children:"Sn phm ni bt"}),o.jsxs(Qe,{to:"/products?q=popular",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(F,{icon:Tn})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"feature-prev-btn absolute top-1/2 left-2 md:left-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx(Dx,{modules:[Dj,Ij,Lj],spaceBetween:10,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".popular-next",prevEl:".popular-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:4,slidesPerGroup:4},1024:{slidesPerView:4,slidesPerGroup:4},1280:{slidesPerView:5,slidesPerGroup:5}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(fo,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(fo,{className:"group bg-white rounded-xl p-4 shadow hover:shadow-lg cursor-pointer relative overflow-hidden",children:[o.jsxs(Qe,{to:`/product-detail/${l.slug}`,className:"block relative w-full h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-xl",children:[o.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-full bg-red-500 px-3 py-1 text-white text-sm font-semibold",children:"Hot"}),o.jsx("div",{className:"relative h-[14rem] md:-[18rem] lg:h-[22rem] md:h-full overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform rounded-xl"})}),o.jsx("div",{className:"hidden xl:block absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"hidden xl:flex absolute w-full h-[4rem] bottom-[.5rem] right-[50%] translate-x-[50%] gap-[1rem] items-center justify-center rounded-xl translate-y-[4.5rem] group-hover:translate-y-0 transition duration-300",children:[o.jsxs("button",{className:"w-[10rem] h-[3.4rem] bg-white hover:bg-gray-200 rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ca,className:"text-[1.6rem] text-gray-600"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thm"})]}),o.jsx("button",{className:"w-[4rem] h-[3.4rem] flex items-center justify-center bg-green-500 hover:bg-green-600 rounded-md cursor-pointer transition duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:o.jsx(F,{icon:Ns,className:"text-[2rem] text-white"})})]})]}),o.jsxs("div",{className:"mt-4 px-2 text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex items-center xl:hidden gap-x-4 justify-end mt-2.5",children:[o.jsx("button",{className:"hidden md:block text-blue-600 hover:text-blue-700 text-[1.2rem] mdtext-[1.4rem]",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"}),o.jsxs("button",{className:"w-[8rem] md:w-[10rem] h-[3rem] md:h-[3.4rem] text-[1.2rem] mdtext-[1.4rem] bg-red-500 hover:bg-red-600 text-white rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ca}),o.jsx("span",{children:"Thm"})]})]})]},l.id))}),o.jsx("button",{className:"feature-next-btn absolute top-1/2 right-2 md:right-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsx(Rj,{showAddCart:n,setShowAddCart:r})]})}function Xve(){const t=rt(),[e]=T.useState({limit:10,page:1}),[n,r]=T.useState({open:!1,data:null}),{data:s,isLoading:i}=Fe({queryKey:["bestsell",e],queryFn:()=>_ee(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-blue-500",children:"Sn phm ban chay"}),o.jsxs(Qe,{to:"/products?q=best_seller",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(F,{icon:Tn})]})]}),o.jsxs("div",{className:"relative ",children:[o.jsx("button",{className:"feature-prev-btn absolute top-1/2 left-2 md:left-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx(Dx,{modules:[Dj,Ij,Lj],spaceBetween:10,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".bestsell-next",prevEl:".bestsell-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4},1280:{slidesPerView:5,slidesPerGroup:5}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(fo,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(fo,{className:"group bg-white rounded-xl p-4 shadow hover:shadow-lg cursor-pointer relative overflow-hidden",children:[o.jsxs(Qe,{to:`/product-detail/${l.slug}`,className:"block relative w-full h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-xl",children:[o.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-full bg-red-500 px-3 py-1 text-white text-sm font-semibold",children:"Hot"}),o.jsx("div",{className:"relative h-[14rem] md:-[18rem] lg:h-[22rem] md:h-full overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform rounded-xl"})}),o.jsx("div",{className:"hidden xl:block absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"hidden xl:flex absolute w-full h-[4rem] bottom-[.5rem] right-[50%] translate-x-[50%] gap-[1rem] items-center justify-center rounded-xl translate-y-[4.5rem] group-hover:translate-y-0 transition duration-300",children:[o.jsxs("button",{className:"w-[10rem] h-[3.4rem] bg-white hover:bg-gray-200 rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ca,className:"text-[1.6rem] text-gray-600"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thm"})]}),o.jsx("button",{className:"w-[4rem] h-[3.4rem] flex items-center justify-center bg-green-500 hover:bg-green-600 rounded-md cursor-pointer transition duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:o.jsx(F,{icon:Ns,className:"text-[2rem] text-white"})})]})]}),o.jsxs("div",{className:"mt-4 px-2 text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex items-center xl:hidden gap-x-4 justify-end mt-2.5",children:[o.jsx("button",{className:"hidden md:block text-blue-600 hover:text-blue-700 text-[1.2rem] mdtext-[1.4rem]",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"}),o.jsxs("button",{className:"w-[8rem] md:w-[10rem] h-[3rem] md:h-[3.4rem] text-[1.2rem] mdtext-[1.4rem] bg-red-500 hover:bg-red-600 text-white rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:[o.jsx(F,{icon:ca}),o.jsx("span",{children:"Thm"})]})]})]},l.id))}),o.jsx("button",{className:"feature-next-btn absolute top-1/2 right-2 md:right-4 z-10 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:shadow-xl transition hidden sm:flex items-center justify-center w-10 h-10",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsx(Rj,{showAddCart:n,setShowAddCart:r})]})}function Qve({open:t,onClose:e}){return o.jsxs(bt,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[1.6rem] pb-4 font-semibold",children:"Bn c chc mun hy FlashSale ny?"}),o.jsxs("div",{className:"pt-8 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"Khng"}),o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>{},children:"Hy"})]})]})}const Jve={[il.ACTIVE]:"ang din ra",[il.SCHEDULE]:"Sp din ra",[il.ENDED]:" kt thc",[il.CANCELLED]:" hy"},Fj=t=>{const e={ACTIVE:"bg-green-100 text-green-700",SCHEDULE:"bg-blue-100 text-blue-700",ENDED:"bg-gray-100 ",CANCELLED:"bg-red-100 text-red-700"},n={ACTIVE:"ang din ra",SCHEDULE:"Sp din ra",ENDED:" kt thc",CANCELLED:" hy"};return o.jsx("span",{className:`px-5 py-2 rounded-full text-[1.4rem] font-medium ${e[t]}`,children:n[t]})};function Zve(){const t=rt(),[e,n]=T.useState({limit:20,page:1,name:"",status:""}),[r,s]=T.useState(e),[i,a]=T.useState(null),{data:l,isLoading:c}=Fe({queryKey:["flashsales",r],queryFn:()=>p7(e)}),u=l&&l.data||[],d=l&&l?.pagination.totalPages||1,f=()=>{s({...e})};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold",children:"FlashSale"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>t("create"),children:[o.jsx(F,{icon:ku}),"To Flash Sale"]})})]}),o.jsx("div",{className:"mt-[2rem] flex justify-between items-center gap-4",children:o.jsxs("div",{className:"flex gap-4 items-center flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-[40rem]",children:[o.jsx(F,{icon:Dr,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-[1.4rem]"}),o.jsx("input",{type:"text",placeholder:"Tm kim flash sale...",value:e.name,onChange:p=>n(g=>({...g,name:p.target.value})),className:"w-full pl-12 pr-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500"})]}),o.jsxs("select",{value:e.status,onChange:p=>n(g=>({...g,status:p.target.value})),className:"px-6 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"Tt c"}),Object.entries(il).map(([p,g])=>o.jsx("option",{value:g,children:Jve[g]},g))]}),o.jsxs("button",{className:"px-6 h-[4rem] rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300 cursor-pointer",onClick:()=>f(),children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"Loc"})]})]})}),o.jsx("div",{className:"mt-[2rem] overflow-x-auto shadow-md",children:o.jsxs("table",{className:"w-full border border-gray-200",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-gray-200",children:[o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"STT"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Tn chng trnh"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian bt u"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian kt thc"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Gim gi"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Sn phm"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Trng thi"}),o.jsx("th",{className:"text-center py-4 px-4 text-[1.4rem] font-semibold ",children:"Thao tc"})]})}),o.jsx("tbody",{children:c?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"ang ti d liu..."})}):u.length>0?u.map((p,g)=>o.jsxs("tr",{className:" hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:++g}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] font-medium",children:p.name}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:Zr(p.startDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:Zr(p.endDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:o.jsxs("span",{className:"text-red-500 ",children:[p.discount,"%"]})}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:p?.flashSaleProduct?.length}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] ",children:Fj(p.status)}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{className:"px-3 py-1 bg-green-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`detail/${p.id}`),children:o.jsx(F,{icon:Ns,className:"text-[1.4rem]"})}),o.jsx("button",{className:"px-3 py-1 bg-amber-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`edit/${p.id}`),children:o.jsx(F,{icon:$s,className:"text-[1.4rem]"})}),o.jsx("button",{className:"text-[1.4rem] px-3 py-1 bg-red-500 hover:bg-red-600 cursor-pointer text-white rounded-lg transition-colors duration-300",onClick:()=>a(p.id),children:"Hy"})]})})]},p.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"Khng tm thy flash sale no"})})})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.max(p.page-1,1)})),disabled:e.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:d},(p,g)=>g+1).filter(p=>Math.abs(p-e.page)<=2).map(p=>o.jsx("button",{onClick:()=>n(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${e.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.min(p.page+1,d)})),disabled:e.page===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]}),i&&o.jsx(Qve,{open:!!i,onClose:()=>a(null)})]})}const e1e=()=>{const[t]=T.useState({limit:4,page:1,name:"",status:""}),{data:e,isLoading:n}=Fe({queryKey:["flashsales",t],queryFn:()=>p7(t)}),[r,s]=T.useState({}),i=T.useMemo(()=>e?.data,[e?.data]),a=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c)),l=(c,u)=>Math.round(c/u*100);return T.useEffect(()=>{if(!i||i.length===0)return;const c=()=>{const d={};i.forEach(f=>{d[f.id]=Pj(f.endDate)}),s(d)};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[i]),n?o.jsx("div",{className:"text-center py-10",children:"ang ti flash sale..."}):i.length===0?null:o.jsx("div",{className:"space-y-12 mt-8",children:i?i.map(c=>{const u=r[c.id]||{hours:0,minutes:0,seconds:0},d=c.flashSaleProduct?.slice(0,5)||[],f=Math.floor(u.hours/24);return o.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl py-12 md:py-20 lg:py-25 px-4 md:px-8 lg:px-14 z-0",style:{background:`url(${c.bannerImage})`},children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 z-0"}),o.jsxs("div",{className:"relative p-6 md:p-8 z-100 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-2xl md:text-3xl font-bold text-white",children:[c.name," - Gim ",c.discount,"%"]}),o.jsx("p",{className:"text-yellow-200 mt-3",children:Fj(c.status)})]}),o.jsxs("div",{className:"flex items-center gap-4 text-[1.4rem]",children:[o.jsx("span",{className:"text-white font-medium ",children:"Kt thc sau:"}),o.jsx("div",{className:"flex gap-3",children:u.hours>24?o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px] text-red-600",children:[f," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px]",children:[o.jsx("div",{className:" text-red-600",children:String(u[p]).padStart(2,"0")}),o.jsx("div",{children:p==="hours"?"Gi":p==="minutes"?"Pht":"Giy"})]},g))})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-6",children:d.length>0?d.map(p=>{const g=l(p.sold,p.quantity),x=p.product;return o.jsxs(Qe,{to:`/product-detail/${x.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",c.discount,"%"]}),o.jsx("div",{className:"relative h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:x.mainImage||"https://via.placeholder.com/300",alt:x.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-2 text-[1.4rem] md:text-[1.5rem] lg:text-[1.6rem]",children:x.productName||`Sn phm ${x.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 pb-5",children:[o.jsx("p",{className:"text-red-600 text-[1.2rem] md:text-[1.4rem] font-bold",children:a(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1rem] md:text-[1.2rem]",children:a(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1rem] md:text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"text-red-500",children:[g,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${g}%`}})})]})]})]},x.id)}):o.jsx("p",{className:"text-white text-[1.4rem] md:text-[1.6rem] py-25 text-center",children:"Cha c sn phm trong chng trnh ny"})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(Qe,{to:`/flash-sale/${c.slug}`,className:"inline-block px-10 py-4 bg-white text-red-600 rounded-full text-[1.4rem] md:text-[1.6rem] hover:bg-red-100 transition shadow-lg",children:"Xem tt c sn phm"})})]})]},c.id)}):o.jsx(o.Fragment,{})})};function t1e(){return o.jsxs(o.Fragment,{children:[o.jsx(Gve,{}),o.jsx(e1e,{}),o.jsx(Yve,{}),o.jsx(Xve,{})]})}function n1e(){return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(Ej,{}),o.jsx("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:o.jsx(ql,{})}),o.jsx(Mj,{})]})}function r1e(){const n=ir().pathname.split("/").filter(Boolean).slice(1),[r,s]=T.useState(!1),{data:i,isLoading:a,isError:l,error:c}=Fe({queryKey:["categories-by-slugs",n],queryFn:()=>_me(n),enabled:n.length>0,retry:2});return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(Ej,{}),o.jsxs("div",{className:"flex items-center space-x-2 text-[1.4rem] mt-[20rem] md:mt-[16.5rem] px-[1.5rem] md:px-[15rem] overflow-x-auto pb-2",children:[o.jsxs(Qe,{to:"/",className:"flex items-center space-x-2 text-blue-800 flex-shrink-0",children:[o.jsx("span",{children:"Home"}),o.jsx(F,{icon:Tn,className:"text-gray-400 cursor-pointer"})]}),a&&o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:"ang ti..."}),l&&o.jsx("div",{className:"flex-shrink-0 text-red-600",children:c instanceof Error?c.message:"C li xy ra"}),!a&&!l&&i&&n.map((u,d)=>{const p=i[d].categoryName,g="/category/"+n.slice(0,d+1).join("/");return o.jsxs("span",{className:"flex items-center flex-shrink-0",children:[o.jsx(Qe,{to:g,className:"text-blue-800 text-[1.4rem] whitespace-nowrap",children:p}),d<n.length-1&&o.jsx(F,{icon:Tn,className:"text-gray-400 mx-2"})]},u)})]}),o.jsx("button",{onClick:()=>s(!0),className:"md:hidden fixed bottom-8 right-4 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-95 transition-transform",children:o.jsx(F,{icon:e_,className:"text-[2rem]"})}),o.jsxs("div",{className:"flex gap-[2rem] px-[1.5rem] md:px-[12rem] mt-[1rem] relative",children:[o.jsxs("div",{className:`
            fixed md:static 
            top-0 left-0 
            h-full md:h-auto
            w-[85%] max-w-[32rem] md:w-auto
            bg-white md:bg-transparent 
            z-50 md:z-auto
            transition-transform duration-300 md:transition-none
            ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}
            overflow-y-auto md:overflow-visible
            shadow-2xl md:shadow-none
          `,children:[o.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[o.jsx("h3",{className:"text-[1.8rem] font-semibold",children:"Danh mc"}),o.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 rounded-full active:scale-95",children:o.jsx(F,{icon:QO,className:"text-[2rem]"})})]}),o.jsx("div",{className:"p-4 md:p-0",children:o.jsx(d7,{})})]}),r&&o.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),o.jsx("div",{className:"flex-1 w-full pb-[10rem] md:pb-0",children:o.jsx(ql,{})})]}),o.jsx(Mj,{})]})}const I7="/manage-sell-client/assets/no-product-E6KspzCb.png";function b1(){const{slug1:t,slug2:e,slug3:n}=wi(),r=[t,e,n].filter(Boolean),[s,i]=T.useState({page:1,limit:20,price:"asc",sort:"popular"}),a=r[r.length-1],{data:l,isLoading:c}=Fe({queryKey:["product-by-category",r,s],queryFn:()=>Lee(r,s)}),u=l?.data||[],{data:d,isLoading:f}=Fe({queryKey:["childOfCates",a],queryFn:()=>Ree(a)}),p=d&&d.data||[],g=b=>{i(w=>({...w,sort:b}))},x=b=>{i(w=>({...w,price:b}))},v=b=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b);return o.jsxs("div",{className:"w-full h-auto rounded-lg",children:[o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap md:flex-nowrap",children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${s.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>g("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${s.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>g("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${s.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>g("best_seller"),children:"Bn chy"})]}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi:"," ",s.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(F,{icon:Sh,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${s.price==="asc"?"text-red-500":""}`,onClick:()=>x("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),s.price==="asc"&&o.jsx(F,{icon:xo,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${s.price==="desc"?"text-red-500":""}`,onClick:()=>x("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),s.price==="desc"&&o.jsx(F,{icon:xo,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>i(b=>({...b,price:s.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(F,{icon:s.price==="asc"?YO:ZO,className:"text-[1rem] font-extralight"})]})]}),f?o.jsxs("div",{className:"w-full h-[15rem] flex flex-col gap-y-[1.5rem] items-center justify-center mt-[2rem]",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.3rem] md:text-[1.5rem] text-gray-600",children:"ang ti danh mc..."})]}):p&&p.length>0?o.jsx("div",{className:"my-[3rem]",children:o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 md:gap-4",children:p.map(b=>o.jsxs(Qe,{to:`/category/${b.slug}`,className:"flex flex-col items-center justify-center p-3 md:p-4 rounded-lg border border-gray-200 bg-white shadow-sm hover:shadow-lg hover:border-red-300 hover:scale-[1.05] transition-all duration-300 cursor-pointer group",children:[o.jsxs("div",{className:"relative mb-2 md:mb-3",children:[o.jsx("div",{className:"absolute inset-0 rounded-full blur-md transition-opacity duration-300"}),o.jsx("img",{src:b.image,alt:b.categoryName,className:"relative w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-full object-cover border-2 border-gray-100"})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800 text-center line-clamp-2 group-hover:text-red-500 transition-colors duration-300",children:b.categoryName})]},b.id))})}):null,c?o.jsxs("div",{className:"w-full h-auto flex flex-col gap-y-[2rem] items-center justify-center mt-25",children:[o.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:"ang ti d liu..."})]}):u.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"md:text-[2rem] mt-[1rem]",children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-4 mt-[2rem]",children:u?.map(b=>o.jsxs(Qe,{to:`/product-detail/${b.slug}`,className:"flex flex-col w-full h-[28rem] md:h-[31rem] border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 hover:scale-[1.02] transition-all duration-300 cursor-pointer",children:[o.jsx("img",{src:b.mainImage,alt:`mainImage-${b.productName}`,className:"w-full h-[16rem] md:h-[20rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-2 text-[1.3rem] md:text-[1.5rem] leading-snug",children:b.productName}),o.jsx("span",{className:"text-red-500 font-semibold text-[1.3rem] md:text-[1.5rem]",children:v(b.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem] mt-auto",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:b.averageRating}),o.jsx(F,{icon:ps,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:b.soldCount})]})]})]})]},b.id))})]}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:I7,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]})]})}function s1e({open:t,onClose:e,data:n,refetch:r}){const[s,i]=T.useState(!1);if(!n)return;const a=async()=>{try{i(!0);const l=await ge.patch(`/api/v1/voucher/toggle/${n?.id}`);l.status&&(i(!1),await r(),ue.success(l.message),e())}catch(l){console.log(l),ue.error(l.message)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun"," ",n?.status===ii.ACTIVE?"tt":"kch hot"," voucher ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":n?.status===ii.ACTIVE?"Tt":"Kch hot"})]})]})}function i1e({open:t,onClose:e,dataDetail:n}){if(!n)return null;const r=u=>new Date(u).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),i=u=>{switch(u){case"ACTIVE":return"bg-green-100 text-green-700";case"INACTIVE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},a=u=>{switch(u){case"ACTIVE":return"ang hot ng";case"INACTIVE":return"Ngng hot ng";default:return u}},l=u=>u==="PERCENT"?"Phn trm":"S tin c nh",c=({icon:u,label:d,value:f})=>o.jsxs("div",{className:"flex items-start gap-[1.5rem] py-[1.2rem] border-b border-gray-100 last:border-b-0",children:[o.jsx("div",{className:"w-[2rem] flex justify-center mt-[0.2rem]",children:o.jsx(F,{icon:u,className:"text-blue-500 text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-[1.2rem] text-gray-500 mb-[0.3rem]",children:d}),o.jsx("p",{className:"text-[1.5rem] text-gray-800 font-medium",children:f})]})]});return o.jsxs(bt,{open:t,className:"relative w-[60rem] max-h-[76vh] hide-scrollbar overflow-y-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>e(),children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsxs("div",{className:"mb-[2rem]",children:[o.jsx("p",{className:"text-[2rem] text-gray-800 font-semibold mb-[0.5rem]",children:"Chi tit voucher"}),o.jsx("p",{className:"text-[1.3rem] text-gray-500",children:"Thng tin y  v voucher khuyn mi"})]}),o.jsx("div",{className:"shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:o.jsxs("div",{className:"flex items-center justify-between mb-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] bg-white rounded-full flex items-center justify-center shadow-sm",children:o.jsx(F,{icon:uN,className:"text-blue-600 text-[2rem]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.8rem] font-bold",children:n.name}),o.jsxs("p",{className:"text-[1.3rem] text-gray-600",children:["M voucher: ",n.voucherCode]})]})]}),o.jsx("span",{className:`px-[1.5rem] py-[0.6rem] rounded-full text-[1.2rem] font-semibold ${i(n.status)}`,children:a(n.status)})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-[2rem] mb-[2rem]",children:[o.jsxs("div",{className:"bg-blue-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(F,{icon:n.type==="PERCENT"?VK:Dp,className:"text-blue-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"Gi tr gim"})]}),o.jsx("p",{className:"text-[2.4rem] font-bold text-blue-600",children:n.type==="PERCENT"?`${n.value}%`:s(n.value)}),o.jsx("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:l(n.type)})]}),o.jsxs("div",{className:"bg-purple-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(F,{icon:aG,className:"text-purple-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"S dng"})]}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-purple-600",children:[n.usedCount,"/",n.usageLimit]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:["Cn li: ",n.usageLimit-n.usedCount]})]})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:[o.jsx(c,{icon:Dp,label:"Gi tr n hng ti thiu",value:s(n.minOrderValue)}),o.jsx(c,{icon:Dp,label:"Gim ti a",value:s(n.maxDiscount)}),o.jsx(c,{icon:xG,label:"Phm vi p dng",value:n.isGlobal?"Ton b h thng":"Gii hn"}),o.jsx(c,{icon:qk,label:"Ngy bt u",value:r(n.startDate)}),o.jsx(c,{icon:qk,label:"Ngy kt thc",value:r(n.endDate)})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[1.5rem] mb-[2rem]",children:[o.jsx("p",{className:"text-gray-500 mb-[0.5rem]",children:"Thi gian to"}),o.jsx("p",{className:"text-gray-700",children:r(n.createdAt)}),o.jsx("p",{className:"text-gray-500 mt-[1rem] mb-[0.5rem]",children:"Cp nht ln cui"}),o.jsx("p",{className:"text-gray-700",children:r(n.updatedAt)})]}),o.jsx("div",{className:"flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"px-[2.5rem] py-[1rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 text-[1.4rem] font-medium transition-colors",onClick:()=>e(),children:"ng"})})]})}function a1e(){const[t,e]=T.useState({open:!1,data:null,action:"create"}),[n,r]=T.useState({open:!1,data:null}),[s,i]=T.useState({name:"",voucherCode:"",status:null}),[a,l]=T.useState({open:!1,dataDetail:null}),{data:c,isLoading:u,refetch:d}=Fe({queryKey:["vouchers",s],queryFn:()=>u7(s)}),f=c?.data||[],{register:p,handleSubmit:g,formState:{errors:x,isSubmitting:v},watch:b,reset:w}=Bs(),S=b("type");T.useEffect(()=>{t.data&&t.action==="edit"&&w({id:t.data.id,name:t.data.name,value:t.data.value,type:t.data.type,maxDiscount:t.data.maxDiscount||void 0,minOrderValue:t.data.minOrderValue||void 0,endDate:Zr(t.data.endDate).format("YYYY-MM-DD"),usageLimit:t.data.usageLimit||void 0})},[t,w]);const j=async A=>{try{const P={name:A.name,type:A.type,value:A.value,maxDiscount:A.maxDiscount||0,minOrderValue:A.minOrderValue||0,endDate:new Date(A.endDate).toISOString(),usageLimit:A.usageLimit||0};let E=null;t.action==="create"?E=await ge.post("/api/v1/voucher/createGlobal",P):E=await ge.patch(`/api/v1/voucher/updateGlobal/${A.id}`,P),E.status&&(ue.success(E.message),d(),w(),e({open:!1,data:null,action:"create"}))}catch(P){ue.error(P?.response?.data?.message||"C li xy ra khi to voucher")}},M=()=>{d()},C=A=>{const{name:P,value:E}=A.target;i(D=>({...D,[P]:E}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Voucher ton cc"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{onClick:()=>e({open:!0,data:null,action:"create"}),className:"text-white text-[1.4rem] flex gap-2 items-center px-6 py-3 bg-blue-500 rounded-lg hover:bg-blue-600",children:[o.jsx(F,{icon:ku}),"To voucher ton cc"]})})]}),o.jsx("div",{className:"mt-[2rem]",children:t.open?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{w({name:"",value:void 0,type:void 0,maxDiscount:void 0,minOrderValue:void 0,endDate:"",usageLimit:void 0}),e({open:!1,data:null,action:"create"})},className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 mb-6",children:[o.jsx(F,{icon:yi}),"Quay li danh sch"]}),o.jsx("h4",{className:"text-[1.8rem] font-semibold mb-6",children:"To Voucher Ton Cc"}),o.jsxs("form",{onSubmit:g(j),children:[o.jsx("div",{className:"border border-gray-300 rounded-lg p-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Tn voucher *"}),o.jsx("input",{type:"text",...p("name",{required:"Vui lng nhp tn voucher"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: Gim 50k cho n t 300k"}),x.name&&o.jsx("span",{className:"text-red-500 text-sm",children:x.name.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Loi gim gi *"}),o.jsxs("select",{...p("type",{required:"Vui lng chn loi"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",children:[o.jsx("option",{value:"",children:"-- Chn loi --"}),o.jsx("option",{value:ai.PERCENT,children:"Gim theo phn trm"}),o.jsx("option",{value:ai.FIXED,children:"Gim gi c nh"})]}),x.type&&o.jsx("span",{className:"text-red-500 text-sm",children:x.type.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gi tr gim *"}),o.jsx("input",{type:"number",...p("value",{required:"Vui lng nhp gi tr",min:{value:1,message:"Gi tr phi  1"},max:S===ai.PERCENT?{value:100,message:"Ti a 100%"}:void 0}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 focus:border-blue-500 outline-none",placeholder:S===ai.PERCENT?"VD: 20":"VD: 50000"}),x.value&&o.jsx("span",{className:"text-red-500 text-sm",children:x.value.message})]}),S===ai.PERCENT&&o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gim ti a (VN)"}),o.jsx("input",{type:"number",...p("maxDiscount"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: 100000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"n ti thiu (VN)"}),o.jsx("input",{type:"number",...p("minOrderValue"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Ngy ht hn *"}),o.jsx("input",{type:"date",...p("endDate",{required:"Vui lng chn ngy"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500"}),x.endDate&&o.jsx("span",{className:"text-red-500 text-sm",children:x.endDate.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gii hn s dng (tng)"}),o.jsx("input",{type:"number",...p("usageLimit"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsx("input",{type:"number",hidden:!0,...p("id")})]})}),o.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>{e({open:!1,data:null,action:"create"}),w()},className:"px-8 py-3 bg-gray-200 hover:bg-gray-300 rounded-lg",disabled:v,children:"Hy"}),o.jsx("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg disabled:opacity-50",children:v?"ang x l...":"To voucher ton cc"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[o.jsx("input",{type:"text",name:"name",value:s.name,placeholder:"Tm theo tn voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:C}),o.jsx("input",{type:"text",name:"voucherCode",value:s.voucherCode,placeholder:"Tm theo m voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:C}),o.jsxs("select",{name:"status",value:s.status??"",className:"w-64 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:C,children:[o.jsx("option",{value:"",children:"-- Tt c trng thi --"}),o.jsx("option",{value:ii.ACTIVE,children:"Hot ng"}),o.jsx("option",{value:ii.INACTIVE,children:" dng"})]}),o.jsxs("button",{onClick:M,className:"px-8 h-[4rem] rounded-md bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2",children:[o.jsx(F,{icon:ws}),"Lc"]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4",children:"Tn voucher"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Loi gim"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Ht hn"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Hnh ng"})]})}),o.jsx("tbody",{children:u?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8",children:"ang ti..."})}):f.length>0?f.map(A=>o.jsxs("tr",{className:"border-b border-b-gray-300",children:[o.jsx("td",{className:"px-6 py-4",children:A.name}),o.jsx("td",{className:"px-6 py-4",children:A.type===ai.PERCENT?"Phn trm":"Gi c nh"}),o.jsx("td",{className:"px-6 py-4",children:Zr(A.endDate).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`px-6 py-1.5 rounded-full ${A.status===ii.ACTIVE?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.status===ii.ACTIVE?"Hot ng":" dng"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>{r({open:!0,data:A})},className:`px-6 py-1.5 rounded-md ${A.status===ii.ACTIVE?"bg-gray-200 hover:bg-gray-300":"bg-green-500 text-white hover:bg-green-600"}`,children:A.status===ii.ACTIVE?"Tt":"Bt"}),o.jsx("button",{className:"px-6 py-1.5 bg-amber-500 text-white rounded-md hover:bg-amber-600",onClick:()=>{e({open:!0,data:A,action:"edit"})},children:"Sa"}),o.jsx("button",{className:"px-6 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{l({open:!0,dataDetail:A})},children:"Chi tit"})]})})]},A.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"Khng c voucher no"})})})]})]})}),o.jsx(s1e,{open:n.open,onClose:()=>{r({open:!1,data:null})},data:n.data,refetch:d}),o.jsx(i1e,{open:a.open,dataDetail:a.dataDetail,onClose:()=>l({open:!1,dataDetail:null})})]})}function o1e(){return o.jsx("div",{children:"FavoriteProduct"})}function l1e(){const{data:t,isLoading:e,refetch:n}=Fe({queryKey:["getSavedVouchers"],queryFn:()=>kj()}),[r,s]=T.useState(""),i=rt(),[a,l]=T.useState("AVAILABLE"),[c,u]=T.useState({open:!1,content:"",isSuccess:!1}),f=(t&&t.data)?.filter(g=>a==="ALL"?!0:g.state===a),p=async g=>{try{(await ge.post(`/api/v1/voucher/save-voucher/${g}`)).status&&(u({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await n())}catch(x){console.log(x),u({open:!0,content:x.message,isSuccess:!1})}};return o.jsxs("div",{className:"p-[1rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] text-gray-800",children:"Kho Voucher ca ti"}),o.jsx("div",{className:"w-full py-6 md:py-8 bg-gray-100 flex items-center justify-center mt-4 px-4",children:o.jsxs("div",{className:"w-full max-w-4xl flex flex-col md:flex-row items-center gap-4 md:gap-6 md:space-x-4",children:[o.jsx("p",{className:"text-[1.4rem] md:text-[1.6rem] w-full md:w-auto text-center md:text-left",children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",value:r,className:"w-full md:flex-1 bg-white h-[3.5rem] md:h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.2rem] md:px-[1.5rem] text-[1.4rem]",placeholder:"Nhp m voucher...",onChange:g=>s(g.target.value)}),o.jsx("button",{className:`w-full md:w-auto h-[3.5rem] md:h-[4rem] px-6 md:px-8 rounded-md ${r===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"} transition-colors duration-300 text-[1.4rem]`,onClick:()=>p(r),disabled:r==="",children:"Lu voucher"})]})}),o.jsx("div",{className:"flex flex-wrap gap-3 my-6 md:my-8",children:["ALL","AVAILABLE","USED","EXPIRED"].map(g=>o.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 md:px-6 md:py-2 rounded-lg transition-colors text-[1.2rem] md:text-[1.4rem] ${a===g?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g==="ALL"?"Tt c":g==="AVAILABLE"?"Kh dng":g==="USED"?" dng":"Ht hn"},g))}),o.jsx(o.Fragment,{children:e?o.jsx("div",{className:"text-center py-8 text-[1.4rem]",children:"ang ti d liu..."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-[1.5rem] md:gap-[2rem]",children:f?.map(g=>{const x=["USED","EXPIRED"].includes(g.state);return o.jsxs("div",{className:`flex flex-col md:flex-row items-center bg-gradient-to-r ${x?"from-gray-400 to-gray-500":"from-pink-500 to-violet-600"} rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-6 -right-6 w-28 h-28 md:-top-10 md:-right-10 md:w-40 md:h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-6 -left-6 w-36 h-36 md:-bottom-10 md:-left-10 md:w-56 md:h-56 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative z-10 mb-4 md:mb-0",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none line-clamp-2",children:g.name}),o.jsx("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-4 py-2 md:px-6 md:py-3 rounded-xl font-mono font-bold tracking-wider truncate max-w-[180px] md:max-w-none",children:g.voucherCode})}),o.jsxs("div",{className:"text-[1.6rem] md:text-[2.2rem] font-extrabold mb-1 md:mb-2",children:["Gim"," ",g.type==="PERCENT"?`${g.value}%`:`${g.value}`,g.maxDiscount&&o.jsxs("span",{className:"text-[1rem] md:text-[1.2rem] font-normal ml-1 md:ml-2 block md:inline",children:["(Ti a ",g.maxDiscount.toLocaleString(),")"]})]}),g.usedAt&&o.jsxs("div",{className:"text-[1.1rem] md:text-[1.2rem] opacity-90 mt-1",children:[" s dng: ",new Date(g.usedAt).toLocaleDateString("vi-VN")]})]})]}),o.jsx("div",{className:"relative z-[100] mt-4 md:mt-0 md:ml-auto w-full md:w-auto",children:o.jsx("button",{type:"button",className:`w-full md:w-auto px-6 py-3 md:px-8 md:py-4 rounded-xl ${x?"bg-gray-400":"border bg-white border-red-500 text-red-600 hover:border-red-600 hover:text-red-700"} transition-colors duration-300 text-[1.3rem] md:text-[1.4rem] cursor-pointer`,disabled:x,onClick:()=>{x||i("/")},children:g.usedAt?" s dng":"Dng ngay"})})]},g.id)})})}),o.jsx(Du,{showNotify:c.open,duration:1e3,onClose:()=>u({open:!1,content:"",isSuccess:!1}),isSuccess:c.isSuccess,content:c.content})]})}const c1e=[{label:"Danh sch khch hng",to:"/dashboard/customers"},{label:"Khch  mua",to:"/dashboard/customers/purchased"},{label:"Khch cha mua",to:"/dashboard/customers/no-order"},{label:"Thng k",to:"/dashboard/customers/statistic"}];function u1e(){const[t,e]=T.useState(""),n=rt(),r=()=>{t.trim()?n({search:`?keyword=${encodeURIComponent(t.trim())}`}):n({search:""})},s=i=>{i.key==="Enter"&&r()};return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:"Qun l khch hng thnh vin"}),o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:s,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:i=>e(i.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>r(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:c1e.map(i=>o.jsx(Vw,{to:i.to,end:!0,className:({isActive:a})=>`pb-3 px-8 font-medium transition duration-300
                ${a?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:i.label},i.to))}),o.jsx("div",{children:o.jsx(ql,{})})]})}const zj=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return console.log(e),await ge.get("/api/v1/customer/get-customer",{params:e})},d1e=async t=>(await ge.get(`/api/v1/customer/by-id/${t}`)).data,h1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await ge.get("/api/v1/orders/guests",{params:e})},f1e=async t=>(await ge.get("/api/v1/orders/guest-by-email",{params:{guestEmail:t}})).data,m1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await ge.get("/api/v1/orders/statistic-guest",{params:e})},p1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await ge.get("/api/v1/orders/statistic-guest/top-guest",{params:e})).data},g1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await ge.get("/api/v1/customer/statistic",{params:e})},x1e=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await ge.get("/api/v1/customer/statistic/top-customer",{params:e})).data};function Vj({customers:t,isLoading:e}){const n=rt();return o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:e?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):t.length>0?t.map((r,s)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:s+1}),o.jsx("td",{className:"px-6 py-4",children:r.user.username}),o.jsx("td",{className:"px-6 py-4",children:r.user.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:r.user.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:r.user.orders.length}),o.jsx("td",{className:"px-6 py-4 text-center",children:Zr(r.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/detail-customer/${r.customerCode}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng ID: ${r.id}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},r.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]})})}function y1e(){const[t]=ma(),e=t.get("keyword")||"",[n,r]=T.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=Fe({queryKey:["customers",e,n],queryFn:()=>zj({keyword:e,page:n,limit:s})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(Vj,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]})]})}function b1e(){const[t]=ma(),e=t.get("keyword")||"",[n,r]=T.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=Fe({queryKey:["customers","PURCHASED",e,n],queryFn:()=>zj({keyword:e,page:n,limit:s,state:"PURCHASED"})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(Vj,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]})]})}function v1e(){const[t]=ma(),e=t.get("keyword")||"",[n,r]=T.useState(1),{data:s,isLoading:i,isError:a,refetch:l}=Fe({queryKey:["customers",e,n],queryFn:()=>zj({keyword:e,page:n,limit:30,state:"NO_ORDER"})}),c=s?.data||[],u=s?.pagination?.totalPages||1;return i?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):a?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>l(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(Vj,{customers:c,isLoading:i}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(d=>Math.max(d-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:u},(d,f)=>f+1).filter(d=>Math.abs(d-n)<=2).map(d=>o.jsx("button",{onClick:()=>r(d),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===d?"bg-blue-500 text-white":"bg-gray-200"}`,children:d},d)),o.jsx("button",{onClick:()=>r(d=>Math.min(d+1,u)),disabled:n===u,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]})]})}function w1e(){const t=rt(),[e,n]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=T.useState({startDate:"",endDate:""}),[i,a]=T.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=Fe({queryKey:["statistic",i],queryFn:()=>g1e(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=Fe({queryKey:["customerTop"],queryFn:()=>x1e(r)}),v=C=>{const A=C.target.value;A&&n(P=>({...P,groupBy:A}))},b=C=>{const{name:A,value:P}=C.target;n(E=>({...E,[A]:P}))},w=C=>{const{name:A,value:P}=C.target;s(E=>({...E,[A]:P}))},S=()=>{a(e)},j=()=>{s(r),x()},M=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>S(),children:[o.jsx(F,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:fN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((C,A)=>C+A.totalCustomers,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((C,A)=>C+A.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:M(f.reduce((C,A)=>C+A.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:M(f.reduce((C,A)=>C+A.totalRevenue,0)/f.reduce((C,A)=>C+A.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((C,A)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(C.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):C.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalCustomers}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:M(C.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:M(C.avgOrderValue)})]},A))})]}),o.jsxs("div",{className:"w-[60rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>j(),children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(C=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/detail-customer/${C.customerCode}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:C.fullName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:C.email}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:M(C.totalRevenue)})]},C.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}function N1e(){const{customerCode:t}=wi(),e=rt(),{data:n,isLoading:r,isError:s}=Fe({queryKey:["customer-detail",t],queryFn:()=>d1e(t)});if(r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=u=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),c=n.user?.address?.find(u=>u.isDefault);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(F,{icon:yi}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tn ti khon:"})," ",i?.username||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy ng k:"})," ",Zr(n.createdAt).format("DD/MM/YYYY HH:mm")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy sinh:"})," ",n?.birthday??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tnh:"})," ",c.province??"Cha cp nht"," "]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Qun:"})," ",c.district??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Huyn:"})," ",c.ward??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch chi tit:"})," ",c.addressDetail??"Cha cp nht"]})]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),a.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:a.map(u=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:u.orderCode}),o.jsx("td",{className:"px-4 py-5",children:Zr(u.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:iP(u.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(u.totalAmount)})]},u.id))})]}):o.jsx("p",{className:"text-gray-500 text-center",children:"Khch hng cha c n hng no"})]})]})}function L7(){const t=rt(),[e,n]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=T.useState({startDate:"",endDate:""}),[i,a]=T.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=Fe({queryKey:["statisticGuest",i],queryFn:()=>m1e(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=Fe({queryKey:["statisticGuest"],queryFn:()=>p1e(r)}),v=C=>{const A=C.target.value;A&&n(P=>({...P,groupBy:A}))},b=C=>{const{name:A,value:P}=C.target;n(E=>({...E,[A]:P}))},w=C=>{const{name:A,value:P}=C.target;s(E=>({...E,[A]:P}))},S=()=>{a(e)},j=()=>{s(r),x()},M=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>S(),children:[o.jsx(F,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(F,{icon:fN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((C,A)=>C+A.totalGuests,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((C,A)=>C+A.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:M(f.reduce((C,A)=>C+A.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:M(f.reduce((C,A)=>C+A.totalRevenue,0)/f.reduce((C,A)=>C+A.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex xl:flex-row flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((C,A)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(C.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):C.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalGuests}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:C.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:M(C.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:M(C.avgOrderValue)})]},A))})]}),o.jsxs("div",{className:"w-[45rem] h-[40rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>j(),children:[o.jsx(F,{icon:ws}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(C=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/guest-detail/${C.customerEmail}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:C.customerName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:C.customerEmail}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:M(C.totalRevenue)})]},C.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}const S1e=[{label:"Danh sch khch hng",to:"/dashboard/guest-customers"},{label:"Thng k",to:"/dashboard/guest-customers/statistic"}];function j1e(){const[t,e]=T.useState(""),n=rt(),s=ir().pathname==="/dashboard/guest-customers",[i,a]=T.useState({limit:30,page:1,keyword:""}),l=()=>{a(g=>({...g,keyword:t}))},c=g=>{g.key==="Enter"&&l()},{data:u,isLoading:d}=Fe({queryKey:["guestCustomers",i],queryFn:()=>h1e(i)}),f=u&&u.data,p=u?.pagination?.totalPages||1;return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:s?"Qun l khch hng vng lai":"Thng k khch hng vng lai"}),s&&o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:c,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:g=>e(g.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>l(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:S1e.map(g=>o.jsx(Vw,{to:g.to,end:!0,className:({isActive:x})=>`pb-3 px-8 font-medium transition duration-300
                ${x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:g.label},g.to))}),s?o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:d?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):f.length>0?f.map((g,x)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:x+1}),o.jsx("td",{className:"px-6 py-4",children:g.fullName}),o.jsx("td",{className:"px-6 py-4",children:g.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:g.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:g.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center",children:Zr(g.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/guest-detail/${g.email}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng: ${g.fullName}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},g.email)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.max(g.page-1,1)})),disabled:i.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:p},(g,x)=>x+1).filter(g=>Math.abs(g-i.page)<=2).map(g=>o.jsx("button",{onClick:()=>a(x=>({...x,page:g})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${i.page===g?"bg-blue-500 text-white":"bg-gray-200"}`,children:g},g)),o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.min(g.page+1,p)})),disabled:i.page===p,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]})]}):o.jsx(L7,{})]})}function C1e(){const{guestEmail:t}=wi(),e=rt(),{data:n,isLoading:r,isError:s}=Fe({queryKey:["guestDetail",t],queryFn:()=>f1e(t)});if(console.log(n),r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=c=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(F,{icon:yi}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsx("div",{className:"space-y-5 text-[1.4rem]",children:o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch:"})," ",n?.address]})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),n.orders.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"H tn"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"S in thoi"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:n.orders.map(c=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:c.orderCode}),o.jsx("td",{className:"px-4 py-5",children:c.customerName}),o.jsx("td",{className:"px-4 py-5",children:c.customerPhone}),o.jsx("td",{className:"px-4 py-5",children:Zr(c.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:iP(c.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(c.totalAmount)})]},c.id))})]}):o.jsx("p",{className:"text-gray-500 mt-16 text-center",children:"Khch hng cha c n hng no"})]})]})}function k1e({open:t,onClose:e,setSelectedPro:n,selectedPro:r,setValue:s}){const[i,a]=T.useState({page:1,limit:20,productName:"",categoryId:void 0}),[l,c]=T.useState(i),[u,d]=T.useState([]),{data:f,isLoading:p}=Fe({queryKey:["products",l],queryFn:zN}),g=f&&f.data,{data:x=[]}=Fe({queryKey:["getAllCategory"],queryFn:Ou});T.useEffect(()=>{r.length>0&&d(r)},[r]);const v=S=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S),b=()=>{n(u);const S=u.map(j=>({productId:j.id,quantity:1,limit:1,origin_price:j.price}));s("flashSaleProducts",S),e()},w=()=>{c({...i})};return o.jsxs(bt,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(F,{icon:Un,className:"text-gray-500"})}),o.jsx("div",{className:"border-gray-200",children:o.jsx("h3",{className:"text-[1.8rem] text-center border-b border-b-gray-300 pb-4 font-semibold",children:"Chn sn phm"})}),o.jsxs("div",{className:"my-5 flex items-center space-x-4 text-[1.4rem]",children:[o.jsxs("div",{className:"relative w-[35rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] left-4",children:o.jsx(F,{icon:Dr,className:"text-gray-500"})}),o.jsx("input",{type:"text",id:"productName",placeholder:"Nhp tn san phm...",value:l.productName,className:"w-full border border-gray-300 h-[4rem] rounded-lg pr-4 pl-14 outline-none",onChange:S=>{a(j=>({...j,[S.target.name]:S.target.value}))}})]}),o.jsx("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:o.jsxs("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:S=>a(j=>({...j,[S.target.name]:S.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),x?.filter(S=>S.isActive).map(S=>o.jsx(kx,{category:S,allCategories:x,level:0},S.id))]})}),o.jsxs("button",{className:"px-6 h-[4rem] flex items-center space-x-2 bg-blue-500 rounded-lg text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>w(),children:[o.jsx(F,{icon:ws}),"Loc"]})]}),o.jsxs("div",{className:"pb-6 overflow-y-auto max-h-[60vh]",children:[o.jsx("p",{className:"pb-6",children:"Danh sach san phm"}),p?o.jsx("div",{className:"text-center my-24",children:"ang tai san phm..."}):g.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map(S=>{const j=u.length>0&&u.find(M=>M.id===S.id);return o.jsxs("div",{className:"group relative rounded-lg border border-gray-200 hover:border-blue-200 hover:shadow-lg hover:shadow-blue-200 transition-all duration-300",children:[o.jsx("img",{src:S.mainImage,alt:`mainImage ${S.productName}`,className:"w-full h-[12rem] object-cover rounded-tl-lg rounded-tr-lg"}),o.jsxs("div",{className:"p-1.5",children:[o.jsx("p",{className:"text-[1.4rem] line-clamp-1",children:S.productName}),o.jsx("p",{className:"text-[1.2rem] text-red-500",children:v(S.price)})]}),o.jsx("div",{className:`${j?"":"opacity-0"} group-hover:opacity-[100] flex absolute inset-0 bg-[#32323256] items-center justify-center rounded-lg transition-opacity duration-300`,onClick:()=>d(M=>M.find(C=>C.id===S.id)?M.filter(C=>C.id!==S.id):[...M,S]),children:o.jsx("button",{className:"w-9 h-9 bg-white text-green-500 rounded-md",children:j?o.jsx(F,{icon:xo,className:"font-bold"}):o.jsx(o.Fragment,{})})})]},S.id)})}):o.jsx("div",{className:"text-center py-24",children:"Khng co san phm nao"}),o.jsxs("div",{className:"mt-[2rem] flex justify-center items-center space-x-4",children:[o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Trc"}),o.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg text-[1.2rem]",children:"1"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"2"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Sau"})]})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-200 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"ng"}),o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{b()},children:"Chon"})]})]})}function IA(){const{id:t}=wi(),e=t?"edit":"create",n=rt(),[r,s]=T.useState(!1),{register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Bs({defaultValues:{name:"",startDate:"",endDate:"",discount:"",description:"",bannerImage:null,flashSaleProducts:[]}}),[p,g]=T.useState(null),x=d("flashSaleProducts"),[v,b]=T.useState([]),[w,S]=T.useState([]);i("flashSaleProducts",{validate:E=>E.length>0||"Vui lng chn t nht 1 sn phm!"}),T.useEffect(()=>{t&&(async()=>{try{const D=await g7(Number(t));if(D.status&&D.data){const L=D.data;f({name:L.name,discount:L.discount,description:L.description,startDate:L.startDate.slice(0,10),endDate:L.endDate.slice(0,10),flashSaleProducts:L.flashSaleProduct.map(z=>({id:z.id,productId:z.product.id,quantity:z.quantity,limit:z.limit,origin_price:z.origin_price}))}),D.data.bannerImage&&g(D.data.bannerImage);const _=L.flashSaleProduct.map(z=>z.product);b(_)}}catch(D){console.log(D)}})()},[t,f]);const j=async E=>{if(x.length===0)return;const D=new Date(E.startDate).toISOString(),L=new Date(E.endDate).toISOString(),_=new FormData;_.append("name",E.name),_.append("description",E.description),_.append("startDate",D),_.append("endDate",L),_.append("discount",E.discount),e==="edit"&&w.length>0&&_.append("deletedIds",JSON.stringify(w));const z=E.flashSaleProducts.map(G=>({productId:G.productId,limit:G.limit,quantity:G.quantity,origin_price:G.origin_price}));_.append("flashSaleProducts",JSON.stringify(z)),E.bannerImage&&_.append("bannerImage",E.bannerImage);try{let G=null;e==="create"?G=await ge.post("/api/v1/flashsale/create",_,{headers:{"Content-Type":"multipart/form-data"}}):G=await ge.patch(`/api/v1/flashsale/${t}`,_,{headers:{"Content-Type":"multipart/form-data"}}),G.status&&(n("/dashboard/flashsale",{replace:!0}),f({name:"",startDate:"",endDate:"",discount:"",description:"",flashSaleProducts:[]}))}catch(G){console.log(G);const H=G;ue.error(H.message)}},M=E=>{if(E.target.files){const D=E.target.files[0];if(D){const L=URL.createObjectURL(D);g(L),u("bannerImage",D)}}},C=E=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(E),A=E=>{const D=x.find(_=>_.productId===E),L=x.filter(_=>_.productId!==E);u("flashSaleProducts",L),b(_=>_.filter(z=>z.id!==E)),e==="edit"&&D?.id&&S(_=>[..._,D.id])},P=(E,D)=>{const L=x?.map(_=>D===_.productId?{..._,quantity:E==="incre"?++_.quantity:Math.max(1,--_.quantity)}:_);u("flashSaleProducts",L)};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>n("/dashboard/flashsale"),children:o.jsx(F,{icon:yi,className:"text-[1.8rem] text-gray-600"})}),o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"To Flash Sale Mi"})]})}),o.jsx("div",{className:"mt-[2rem]",children:o.jsxs("form",{onSubmit:a(j),children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-6",children:"Thng tin chng trnh"}),o.jsxs("label",{htmlFor:"bannerImage",className:"w-full h-[25rem] flex items-center justify-center rounded-xl border border-dashed border-gray-400 cursor-pointer text-[1.4rem] group",children:[p?o.jsxs("div",{className:"w-full h-full rounded-xl relative",children:[o.jsx("img",{src:p,alt:"bannerImage",className:"w-full h-full object-cover rounded-xl"}),o.jsxs("div",{className:"opacity-0 group-hover:opacity-[100] flex items-center text-[1.8rem] justify-center absolute inset-0 bg-[#2f2f2f56] text-white transition-discrete duration-300",children:[o.jsx(F,{icon:$s}),"Thay i"]})]}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"w-14 h-14 rounded-full border border-dashed border-gray-400 flex justify-center items-center",children:o.jsx(F,{icon:Qr,className:"text-gray-500"})}),o.jsx("span",{children:"Thm nh"})]}),o.jsx("input",{type:"file",className:"hidden",id:"bannerImage",onChange:E=>M(E),disabled:c})]}),o.jsxs("div",{className:"my-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Tn chng trnh ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"Nhp tn chng trnh flash sale",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("name",{required:"Vui long nhp tn flashsale!"})}),l.name&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.name?.message})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Phn trm gim gi (%)"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",placeholder:"Nhp phn trm gim gi",min:"1",max:"100",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("discount",{required:"Vui long nhp tn giam gia!"})}),l.discount&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.discount?.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:"M t"}),o.jsx("textarea",{placeholder:"Nhp m t chi tit v chng trnh",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 resize-none",...i("description")})]})]}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-4",children:"Thi gian p dng"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy bt u ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("startDate",{required:"Vui long nhp ngay bt u!"})}),l.startDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.startDate?.message})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy kt thc ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("endDate",{required:"Vui long nhp ngay kt thuc!"})}),l.endDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.endDate?.message})]})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700",children:"Sn phm p dng"}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-4 h-[3.5rem] bg-green-500 rounded-lg hover:bg-green-600 transition-colors",onClick:()=>s(!0),type:"button",disabled:c,children:[o.jsx(F,{icon:ua}),"Thm sn phm"]})]}),l.flashSaleProducts&&o.jsx("p",{className:"text-red-500 text-[1.3rem]",children:l.flashSaleProducts.message}),o.jsx("div",{className:"space-y-3 max-h-[50rem] overflow-y-auto",children:v?.length>0?v?.map(E=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:E.mainImage,alt:`mainImage ${E.productName}`,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] font-medium text-gray-800",children:E.productName}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:C(E.price)})]})]}),o.jsx("button",{onClick:()=>A(E.id),className:"p-4 text-red-500 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(F,{icon:e2,className:"text-[1.8rem]"})})]}),o.jsxs("div",{className:"p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"S lng sn phm:"}),o.jsxs("div",{className:"flex items-center space-x-4 ",children:[o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>P("decre",E.id),children:"-"}),o.jsx("input",{type:"number",id:"quantity",className:"max-w-22 outline-none h-9 border border-gray-400 rounded-md text-[1.4rem] px-2",value:x?.find(D=>D.productId===E.id)?.quantity??1,onChange:D=>{const L=x.map(_=>_.productId===E.id?{..._,quantity:Number(D.target.value)}:_);u("flashSaleProducts",L)}}),o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>P("incre",E.id),children:"+"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"Gii hn s lng mi khch mua sn phm:"}),o.jsx("input",{type:"number",id:"limit",className:"h-9 min-w-10 max-w-25 border border-gray-400 rounded-md outline-none px-2",value:x.find(D=>D.productId===E.id)?.limit??1,max:10,onChange:D=>{const L=x.map(_=>({..._,limit:_.productId===E.id?Number(D.target.value):_.limit}));u("flashSaleProducts",L)}})]})]})]},E.id)):o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("p",{className:"text-[1.4rem]",children:"Cha c sn phm no c chn"}),o.jsx("p",{className:"text-[1.3rem] mt-2",children:'Nhn "Thm sn phm"  bt u'})]})})]})})]}),o.jsx("div",{className:"flex justify-end items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>n("/dashboard/flashsale"),disabled:c,children:"Hy"}),o.jsxs("button",{type:"submit",className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",disabled:c,children:[o.jsx(F,{icon:HK}),c?"ang x l...":"Lu Flash Sale"]})]})})]})}),r&&o.jsx(k1e,{open:r,onClose:()=>s(!1),setSelectedPro:b,selectedPro:v,setValue:u})]})}function T1e(){const{id:t}=wi(),e=rt(),{data:n,isLoading:r,error:s}=Fe({queryKey:["flashSale",t],queryFn:()=>g7(Number(t)),enabled:!!t}),i=n&&n.data;if(r)return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-10rem)]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})});if(s||!i)return o.jsx("div",{className:"text-center py-26 text-red-600",children:"Khng th ti d liu Flash Sale. Vui lng th li sau."});const a=c=>Zr(c).format("HH:mm DD/MM/YYYY"),l=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c));return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-6 md:p-8 rounded-xl text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-300 pb-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e(-1),className:"w-14 h-14 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(F,{icon:yi,className:"text-gray-700"})}),o.jsx("h1",{className:"text-3xl font-bold",children:"Chi tit Flash Sale"})]}),o.jsx("span",{children:Fj(i.status)})]}),o.jsx("div",{className:"mb-10",children:o.jsx("img",{src:i.bannerImage,alt:i.name,className:"w-full h-[35rem] object-cover rounded-xl shadow-md",onError:c=>{c.target.src="/placeholder-banner.jpg",ue.error("Khng ti c banner")}})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Tn chng trnh"}),o.jsx("p",{className:" text-gray-700",children:i.name})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"M t"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:i.description||"Khng c m t"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Mc gim gi"}),o.jsxs("p",{className:"font-bold text-red-600",children:[i.discount,"%"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Thi gian p dng"}),o.jsxs("div",{className:"text-gray-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Bt u:"})," ",a(i.startDate)]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Kt thc:"})," ",a(i.endDate)]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Ngy to / cp nht"}),o.jsxs("p",{className:"text-gray-600",children:["To: ",a(i.createdAt)]}),o.jsxs("p",{className:"text-gray-600",children:["Cp nht: ",a(i.updatedAt)]})]})]})]}),o.jsxs("div",{className:"mt-12",children:[o.jsxs("h2",{className:"font-bold mb-6",children:["Sn phm p dng (",i.flashSaleProduct.length," sn phm)"]}),i.flashSaleProduct.length===0?o.jsx("p",{className:"text-gray-500 text-center py-10",children:"Cha c sn phm no trong flash sale ny"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:i.flashSaleProduct.map(c=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("img",{src:c.product.mainImage,alt:c.product.productName,className:"w-full h-[20rem] object-cover"}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"font-semibold line-clamp-2 mb-2",children:c.product.productName}),o.jsxs("div",{className:"flex text-[1.4rem] items-center gap-3 mb-3",children:[o.jsx("span",{className:"font-bold text-red-600",children:l(c.sale_price)}),o.jsx("span",{className:"text-gray-400 line-through",children:l(c.origin_price)}),o.jsxs("span",{className:"text-green-600",children:["-",i.discount,"%"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[1.2rem]",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"S lng:"}),o.jsxs("p",{children:[c.quantity," SP"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Gii hn/khch:"}),o.jsxs("p",{children:[c.limit," SP"]})]}),o.jsx("div",{children:o.jsxs("p",{className:"font-medium",children:[" bn: ",c.sold]})})]})]})]},c.id))})]})]})}function E1e(){const{slug:t}=wi();rt();const[e,n]=T.useState({hours:0,minutes:0,seconds:0}),{data:r,isLoading:s,error:i}=Fe({queryKey:["flashSale",t],queryFn:()=>hbe(t),enabled:!!t}),a=r&&r.data,l=r&&a&&a.flashSaleProduct,c=Math.floor(e.hours/24);T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(!a)return;const p=()=>{const x=Pj(a.endDate);n(x)};p();const g=setInterval(p,1e3);return()=>clearInterval(g)},[a]);const u=p=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p)),d=(p,g)=>Math.round(p/g*100),f=()=>o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0 overflow-hidden",children:[o.jsx("div",{className:"w-full h-full bg-gradient-to-b from-gray-300 to-gray-400 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),o.jsx("div",{className:"relative w-[85%] mx-auto pt-[40rem] z-10",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"h-12 w-3/4 mx-auto bg-gray-300 rounded-lg animate-pulse mb-3"}),o.jsx("div",{className:"h-6 w-1/2 mx-auto bg-gray-200 rounded animate-pulse"})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-r from-pink-300 to-red-300 rounded-lg px-4 py-4 min-w-[70px] animate-pulse"}),g!==2&&o.jsx("span",{className:"text-[2.2rem] text-transparent",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("div",{className:"h-8 w-48 bg-gray-300 rounded animate-pulse mb-4"})," ",o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:Array.from({length:10}).map((p,g)=>o.jsxs("div",{className:"group bg-white rounded-xl p-4 shadow animate-pulse flex flex-col",children:[o.jsx("div",{className:"absolute top-2 right-2 h-8 w-16 bg-red-300 rounded-full"}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3 bg-gray-300"}),o.jsx("div",{className:"h-5 w-4/5 bg-gray-300 rounded mb-2"}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("div",{className:"h-7 w-24 bg-red-300 rounded"}),o.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded"}),o.jsx("div",{className:"h-4 w-12 bg-gray-300 rounded"})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-300 h-full rounded-full w-3/5 animate-pulse"})})]})]},g))})]})]})})]});return o.jsx("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:s?o.jsx(f,{}):o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0",children:o.jsx("img",{src:a.bannerImage,alt:"Hnh nh flashSale",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"relative w-[85%] h-[50rem] z-100 mx-auto pt-[30rem]",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("h3",{className:"text-[2.5rem] font-bold text-red-600",children:[a.name," - Gim ",a.discount,"%"]}),o.jsxs("p",{children:[a.description," on m t"]})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:e.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:["Cn li ",c," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(e[p]).padStart(2,"0")})},g),g!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h4",{children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:l&&l.length>0?l.map(p=>{const g=p.product,x=d(p.sold,p.quantity);return o.jsxs(Qe,{to:`/product-detail/${g.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",a.discount,"%"]}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:g.mainImage||"https://via.placeholder.com/300",alt:g.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-1",children:g.productName||`Sn phm ${g.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] font-bold",children:u(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1.2rem]",children:u(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"font-bold text-red-500",children:[x,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${x}%`}})})]})]})]},g.id)}):o.jsx("div",{className:"py-25 text-center",children:"Khng c sn phm no"})})]})]})})]})})}function M1e(){const{id:t}=wi(),{user:e}=Ct(),n=rt(),[r,s]=T.useState("info"),[i,a]=T.useState("all"),[l,c]=T.useState("newest"),[u,d]=T.useState({open:!1,content:"",isSuccess:!0}),[f,p]=T.useState({open:!1,reviewId:null,message:""}),{data:g,isLoading:x}=Fe({queryKey:["productdetailForAdmin",t],queryFn:()=>Iee(Number(t)),enabled:!!t}),v=g&&g.product,b=g&&g.statistics,w=g&&g.flashSale;console.log(w);const{data:S,isLoading:j,refetch:M}=Fe({queryKey:["evaluates",i],queryFn:()=>yD({productId:Number(t),rating:i,page:1,sort:l}),enabled:!!t}),C=S&&S.data||[],A=_=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(z=>o.jsx(F,{icon:ps,className:`text-[1.4rem] ${z<=_?"text-yellow-400":"text-gray-300"}`},z))}),P=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_),E=_=>new Date(_).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),D=async _=>{if(!e){n("/");return}try{const z=await ge.post(`/api/v1/evaluate/toggle-helpful/${_}`);console.log(z)}catch(z){console.log(z);return}},L=async()=>{try{const _=await ge.post(`/api/v1/evaluate/response/${f.reviewId}`,{message:f.message});console.log(_),_.status&&(await M(),d({open:!0,content:_.message,isSuccess:!0}),setTimeout(()=>{d({open:!1,content:"",isSuccess:!0})},1e3))}catch(_){console.log(_)}};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[x?o.jsx("div",{children:"ang ti d liu"}):o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 text-[1.8rem] font-bold",children:[o.jsx("span",{children:"Qun l sn phm"}),o.jsx("span",{children:"/"}),o.jsx("span",{children:v.productName})]}),o.jsx("div",{className:"flex py-2",children:o.jsxs(Qe,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(F,{icon:yi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Qe,{to:`/dashboard/products/action/${v.id}`,className:"flex items-center gap-2 px-6 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[o.jsx(F,{icon:$s}),"Chnh sa"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Doanh thu"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-green-700",children:P(b?.revenue)})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:" bn"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-blue-700",children:[b?.soldCount," SP"]})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Tn kho"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-red-500",children:b.inventory})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"nh gi"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-yellow-500 flex items-center gap-1",children:[v.averageRating,o.jsxs("span",{className:"text-[1.2rem] text-yellow-500 mt-1",children:["(",v.reviewCount," nh gi)"]})]})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[o.jsx("h3",{className:"font-bold mb-4",children:"Hnh nh chnh"}),o.jsx("img",{src:v.mainImage,alt:v.productName,className:"w-full rounded-lg border border-gray-200"}),o.jsx("h3",{className:"font-bold mb-4 mt-6",children:"nh ph"}),v.listImageProduct.length>0?o.jsx("div",{className:"grid grid-cols-4 gap-3",children:v.listImageProduct?.map(_=>o.jsx("div",{className:"w-full h-[10rem] border border-gray-300 rounded-md",children:o.jsx("img",{src:_.imageUrl,alt:"subImage",className:"w-full h-full rounded-lg object-cover"})},_.id))}):o.jsx("div",{className:"text-center",children:"Khng c nh ph"})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-1 p-1",children:[o.jsx("button",{onClick:()=>s("info"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="info"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"Thng tin chung"}),o.jsxs("button",{onClick:()=>s("variants"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="variants"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:["Bin th (",v.variants.length,")"]}),o.jsx("button",{onClick:()=>s("description"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="description"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"M t"}),o.jsx("button",{onClick:()=>s("review"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="review"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"nh gi"})]})}),o.jsxs("div",{className:"p-6",children:[r==="info"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h2",{className:"text-[2rem]",children:v.productName}),w&&o.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-[1.2rem] rounded-full",children:"Flash Sale"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"text-[2rem] text-gray-400 line-through",children:P(v.price)}),w?o.jsx("p",{className:"text-[1.8rem] font-bold text-red-500",children:P(w.flashSaleProduct.sale_price)}):o.jsx("p",{className:"text-[2rem] font-bold text-red-500",children:P(v.price)})]})]}),w&&o.jsxs("div",{className:"p-6 bg-orange-50 border-l-4 border-orange-500 rounded-lg",children:[o.jsx("h3",{className:"font-bold text-orange-700 mb-3 flex items-center gap-2",children:"Thng tin Flash Sale"}),o.jsxs("div",{className:"space-y-4 text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gim gi:"}),o.jsxs("p",{className:"font-semibold text-orange-600 ml-2",children:[w.discount,"%"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gi sau gim:"}),o.jsx("p",{className:"font-semibold text-red-600 ml-2",children:P(w.flashSaleProduct.sale_price)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"S lng Flash Sale cn li:"}),o.jsxs("p",{className:"font-semibold",children:[w.flashSaleProduct.quantity-w.flashSaleProduct.sold," ","/ ",w.flashSaleProduct.quantity]})]}),o.jsxs("div",{className:" flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Thi gian:"}),o.jsxs("p",{className:"font-semibold text-green-600 ml-2",children:[o.jsx("span",{className:"mr-4",children:E(w.startDate)}),"n",o.jsx("span",{className:"ml-4",children:E(w.endDate)})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi gc"}),o.jsx("p",{className:"font-semibold",children:P(v.price)})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi bn thc t"}),o.jsx("p",{className:"font-semibold",children:P(w?w.flashSaleProduct.sale_price:v.price)})]})]})]}),r==="variants"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold",children:"Danh sch bin th"}),o.jsxs("span",{className:"text-gray-600",children:["Tng: ",v.variants.length," bin th"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"ID"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"Mu sc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Kch thc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Tn kho"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Gi"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Trng thi"})]})}),o.jsx("tbody",{children:v.variants.map(_=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 text-[1.4rem]",children:[o.jsxs("td",{className:"py-5 px-4 text-[1.4rem] text-gray-700",children:["#",_.id]}),o.jsx("td",{className:"py-5 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:_.variantColor.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-700",children:_.variantColor.name})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:_.variantSize.name}),o.jsx("td",{className:"text-center py-5 px-4",children:o.jsxs("span",{className:`text-[1.4rem] font-medium ${_.inventory<20?"text-red-600":"text-gray-900"}`,children:[_.inventory,_.inventory<20&&o.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(Sp ht)"})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:_.price?P(_.price):o.jsx("span",{className:"text-gray-400",children:"Gi chung"})}),o.jsx("td",{className:"py-5 px-4 text-center",children:_.inventory>0?o.jsx("span",{className:"px-6 py-2 bg-green-100 text-green-700 rounded-full",children:"Cn hng"}):o.jsx("span",{className:"px-6 py-2 bg-red-100 text-red-700 rounded-full",children:"Ht hng"})})]},_.id))})]})})]}),r==="description"&&o.jsx("div",{className:"prose max-w-none text-[1.6rem]",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:v.description}})}),r==="review"&&o.jsx("div",{children:o.jsxs("div",{className:"w-full sm:w-auto",children:[o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>a("all"),children:["Tt c (",S&&S.summary.total,")"]}),[5,4,3,2,1].map(_=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i===_?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{a(_)},children:[_," Sao (",S&&S.summary.ratingCount[_],")"]},_))]}),o.jsx("div",{className:"mt-8",children:j?o.jsx("div",{children:"ang ti d liu"}):C.length>0?o.jsx("div",{className:"space-y-4",children:C.map(_=>o.jsxs("div",{className:"flex items-start w-full h-auto shadow-md rounded-xl bg-white p-5 space-x-4",children:[o.jsx("div",{children:_.showAccount?_?.user?.avatar?o.jsx("img",{src:_?.user?.avatar,alt:"avatar"+_?.user?.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(_.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:_.showAccount?_.user?.username||_.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",E(_.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:A(_.rating)}),_.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:_.message}),o.jsxs("div",{className:"flex items-center space-x-5 text-[1rem] md:text-[1.3rem] mt-2 ",children:[o.jsxs("button",{onClick:()=>D(_.id),className:"cursor-pointer",children:[o.jsx(F,{icon:a7}),o.jsx("span",{className:` ${_.isLiked?"text-red-500":"text-gray-600"}`,children:_.helpfulCount})]}),!_.hasAdminResponse&&o.jsxs("button",{type:"button",className:"flex items-center space-x-2 hover:text-gray-800 cursor-pointer",onClick:()=>p({open:!0,reviewId:_.id,message:""}),children:[o.jsx(F,{icon:Lye}),o.jsx("span",{children:"Phn hi"})]})]}),f.open&&!_.hasAdminResponse&&f.reviewId===_.id&&o.jsxs("div",{className:"mt-4 w-full h-auto",children:[o.jsx("textarea",{rows:3,className:"w-full h-full border text-[1.4rem] p-4 outline-none focus:border-cyan-300 border-gray-300 rounded-md",placeholder:"Nhp phn hi...",value:f.message,onChange:z=>p(G=>({...G,message:z.target.value}))}),o.jsxs("div",{className:"flex items-center justify-end gap-2.5 mt-1 text-[1.4rem]",children:[o.jsx("button",{className:"rounded-md px-5 py-2 bg-gray-200 text-gray-600 hover:bg-gray-300 transition-colors duration-300",children:o.jsx("span",{children:"ng"})}),o.jsxs("button",{className:"rounded-md px-5 py-2 bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>L(),children:[o.jsx(F,{icon:QK,className:"text-[1.4rem]"}),o.jsx("span",{children:"Gi"})]})]})]}),_.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("img",{src:e?.avatar,alt:`admin-${e?.username}`,className:"w-full h-full object-cover rounded-full"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:[e?.username," "," ",o.jsx("span",{className:"text-[1.2rem]",children:E(_.adminResponseAt)})]}),o.jsxs("p",{className:"text-[1.6rem] mt-1",children:["Ni dung: ",_.adminResponse]})]})]})]})]})]},_.id))}):o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]})})]})})]})]})})]})]}),o.jsx(Du,{content:u.content,duration:1e3,showNotify:u.open,isSuccess:u.isSuccess})]})}function A1e(){const{user:t}=Ct(),[e]=ma(),n=e.get("q"),[r,s]=T.useState({limit:20,page:1,productName:n||"",sort:"popular",price:"asc"});T.useEffect(()=>{n&&s(p=>({...p,productName:n}))},[n]);const{data:i,isLoading:a}=Fe({queryKey:["products",r,t?.id],queryFn:()=>bD({query:r,userId:t?.id})}),l=i&&i.data,c=i&&i.pagination.totalPage||1,u=p=>{s(g=>({...g,sort:p}))},d=p=>{s(g=>({...g,price:p}))},f=p=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p);return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:[o.jsx("h3",{className:"pb-5",children:l?.length>0?o.jsxs(o.Fragment,{children:["Tm thy ",o.jsx("span",{className:"text-red-500",children:l.length})," kt qu cho ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]}):o.jsxs(o.Fragment,{children:["Kt qu tm kim ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]})}),o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsxs("div",{className:"flex items-center md:gap-4 gap-2 lg:gap-6 flex-wrap md:flex-nowrap",children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("best_seller"),children:"Bn chy"})]}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi:"," ",r.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(F,{icon:Sh,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${r.price==="asc"?"text-red-500":""}`,onClick:()=>d("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),r.price==="asc"&&o.jsx(F,{icon:xo,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${r.price==="desc"?"text-red-500":""}`,onClick:()=>d("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),r.price==="desc"&&o.jsx(F,{icon:xo,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>s(p=>({...p,price:r.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(F,{icon:r.price==="asc"?YO:ZO,className:"text-[1rem] font-extralight"})]})]}),a?o.jsx("div",{className:"py-25 text-center",children:"ang ti d liu..."}):l.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4 mt-[2rem]",children:l.map(p=>o.jsxs(Qe,{to:`/product-detail/${p.slug}`,className:"flex flex-col w-full h-[28rem] md:h-[31rem] border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 hover:scale-[1.02] transition-all duration-300 cursor-pointer",children:[o.jsx("img",{src:p.mainImage,alt:`mainImage-${p.productName}`,className:"w-full h-[16rem] md:h-[20rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-2 text-[1.3rem] md:text-[1.5rem] leading-snug",children:p.productName}),o.jsx("span",{className:"text-red-500 font-semibold text-[1.3rem] md:text-[1.5rem]",children:f(p.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem] mt-auto",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:p.averageRating}),o.jsx(F,{icon:ps,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:p.soldCount})]})]})]})]},p.id))}):o.jsx("div",{className:"py-25 text-center",children:l.length===0&&!a&&o.jsxs("div",{className:"py-20 text-center",children:[o.jsxs("p",{className:"text-[1.6rem] text-gray-500 text-nowrap",children:['Khng tm thy sn phm no cho "',n,'"']}),o.jsx("p",{className:"text-[1.4rem] text-gray-400 mt-2",children:"Th tm kim vi t kha khc"})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.max(p.page-1,1)})),disabled:r.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Ni,className:"text-gray-500"})}),Array.from({length:c},(p,g)=>g+1).filter(p=>Math.abs(p-r.page)<=2).map(p=>o.jsx("button",{onClick:()=>s(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-blue-600 ${r.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.min(p.page+1,c)})),disabled:r.page===c,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(F,{icon:Tn,className:"text-gray-500"})})]})]})}function P1e(){const t=rt(),[e]=ma(),n=e.get("q"),{user:r}=Ct(),[s,i]=T.useState({limit:10,page:1,productName:"",sort:"popular",price:"asc"}),[a,l]=T.useState({open:!1,data:null});T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{n&&i(p=>({...p,sort:n}))},[n]);const{data:c,isLoading:u}=Fe({queryKey:["products",s],queryFn:()=>bD({query:s,userId:r?.id})}),d=c?.data??[],f=()=>o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]});return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] ",children:[o.jsxs("div",{className:"bg-white p-5 rounded-xl",children:[o.jsx("h3",{className:"text-[2rem] mb-6 font-bold",children:"Sn phm ni bt"}),u?Array.from({length:10}).map((p,g)=>o.jsx("div",{children:o.jsx(f,{})},g)):d.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:d.map(p=>o.jsxs("div",{className:"group bg-white rounded-xl p-4 shadow hover:shadow-lg cursor-pointer relative overflow-hidden",children:[o.jsxs(Qe,{to:`/product-detail/${p.slug}`,className:"block relative w-full h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-xl",children:[o.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-full bg-red-500 px-3 py-1 text-white text-sm font-semibold",children:"Hot"}),o.jsx("div",{className:"relative h-[14rem] md:-[18rem] lg:h-[22rem] md:h-full overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:p.mainImage||"https://via.placeholder.com/300",alt:p.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform rounded-xl"})}),o.jsx("div",{className:"hidden xl:block absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"hidden xl:flex absolute w-full h-[4rem] bottom-[.5rem] right-[50%] translate-x-[50%] gap-[1rem] items-center justify-center rounded-xl translate-y-[4.5rem] group-hover:translate-y-0 transition duration-300",children:[o.jsxs("button",{type:"button",className:"w-[10rem] h-[3.4rem] bg-white hover:bg-gray-200 rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:g=>{g.stopPropagation(),g.preventDefault(),l({open:!0,data:p})},children:[o.jsx(F,{icon:ca,className:"text-[1.6rem] text-gray-600"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thm"})]}),o.jsx("button",{type:"button",className:"w-[4rem] h-[3.4rem] flex items-center justify-center bg-green-500 hover:bg-green-600 rounded-md cursor-pointer transition duration-300",onClick:g=>{g.stopPropagation(),t(`/product-detail/${p.slug}`)},children:o.jsx(F,{icon:Ns,className:"text-[2rem] text-white"})})]})]}),o.jsxs("div",{className:"mt-4 px-2 text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:p.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p.price)})]}),o.jsxs("div",{className:"flex items-center xl:hidden gap-x-4 justify-end mt-2.5",children:[o.jsx("button",{className:"hidden md:block text-blue-600 hover:text-blue-700 text-[1.2rem] mdtext-[1.4rem]",onClick:g=>{g.stopPropagation(),g.preventDefault(),t(`/product-detail/${p.slug}`)},children:"Chi tit"}),o.jsxs("button",{className:"w-[8rem] md:w-[10rem] h-[3rem] md:h-[3.4rem] text-[1.2rem] mdtext-[1.4rem] bg-red-500 hover:bg-red-600 text-white rounded-md cursor-pointer transition duration-300 flex items-center justify-center gap-2",onClick:g=>{g.stopPropagation(),l({open:!0,data:p})},children:[o.jsx(F,{icon:ca}),o.jsx("span",{children:"Thm"})]})]})]},p.id))}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:I7,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]})]}),o.jsx(Rj,{showAddCart:a,setShowAddCart:l})]})}function O1e(){return o.jsxs(o.Fragment,{children:[o.jsxs(P$,{children:[o.jsxs(Ve,{path:"/",element:o.jsx(Dye,{children:o.jsx(n1e,{})}),children:[o.jsx(Ve,{index:!0,element:o.jsx(t1e,{})}),o.jsx(Ve,{path:"about",element:o.jsx(MG,{})})]}),o.jsxs(Ve,{path:"category",element:o.jsx(r1e,{}),children:[o.jsx(Ve,{path:":slug1",element:o.jsx(b1,{})}),o.jsx(Ve,{path:":slug1/:slug2",element:o.jsx(b1,{})}),o.jsx(Ve,{path:":slug1/:slug2/:slug3",element:o.jsx(b1,{})})]}),o.jsxs(Ve,{element:o.jsx(AG,{}),children:[o.jsx(Ve,{path:"/login",element:o.jsx(EG,{})}),o.jsx(Ve,{path:"/register",element:o.jsx(Iye,{})})]}),o.jsxs(Ve,{element:o.jsx(Xye,{}),children:[o.jsxs(Ve,{path:"customer",element:o.jsx(SA,{children:o.jsx(Rye,{})}),children:[o.jsx(Ve,{index:!0,element:o.jsx(Gc,{to:"account/profile",replace:!0})}),o.jsx(Ve,{path:"account/profile",element:o.jsx(lbe,{})}),o.jsx(Ve,{path:"account/address",element:o.jsx(ibe,{})}),o.jsx(Ve,{path:"account/privacy",element:o.jsx(obe,{})}),o.jsx(Ve,{path:"order",element:o.jsx(Zye,{})}),o.jsx(Ve,{path:"my-voucher",element:o.jsx(l1e,{})}),o.jsx(Ve,{path:"favorite",element:o.jsx(o1e,{})})]}),o.jsx(Ve,{path:"cart/detail",element:o.jsx(ebe,{})}),o.jsx(Ve,{path:"checkout",element:o.jsx(sbe,{})}),o.jsx(Ve,{path:"payment-momo-redirect",element:o.jsx(xbe,{})}),o.jsx(Ve,{path:"order-confirmation/:orderCode",element:o.jsx(ube,{})}),o.jsx(Ve,{path:"look-up-order",element:o.jsx(gbe,{})}),o.jsx(Ve,{path:"product-detail/:productSlug",element:o.jsx(mbe,{})}),o.jsx(Ve,{path:"products",element:o.jsx(P1e,{})}),o.jsx(Ve,{path:"search",element:o.jsx(A1e,{})}),o.jsx(Ve,{path:"flash-sale/:slug",element:o.jsx(E1e,{})})]}),o.jsxs(Ve,{path:"/dashboard",element:o.jsx(SA,{roles:[qt.ADMIN,qt.STAFF],redirectTo:"/dashboard/login",children:o.jsx(_G,{})}),children:[o.jsx(Ve,{index:!0,element:o.jsx(uee,{})}),o.jsx(Ve,{path:"products",element:o.jsx(Dme,{})}),o.jsx(Ve,{path:"products/detail/:id",element:o.jsx(M1e,{})}),o.jsx(Ve,{path:"products/action",element:o.jsx(_M,{})}),o.jsx(Ve,{path:"products/action/:id",element:o.jsx(_M,{})}),o.jsx(Ve,{path:"categories",element:o.jsx(Rme,{})}),o.jsx(Ve,{path:"profile",element:o.jsx(Fme,{})}),o.jsx(Ve,{path:"orders/list-order",element:o.jsx(Cye,{})}),o.jsx(Ve,{path:"staff",element:o.jsx(Pye,{})}),o.jsxs(Ve,{path:"customers",element:o.jsx(u1e,{}),children:[o.jsx(Ve,{index:!0,element:o.jsx(y1e,{})}),o.jsx(Ve,{path:"purchased",element:o.jsx(b1e,{})}),o.jsx(Ve,{path:"no-order",element:o.jsx(v1e,{})}),o.jsx(Ve,{path:"statistic",element:o.jsx(w1e,{})})]}),o.jsx(Ve,{path:"detail-customer/:customerCode",element:o.jsx(N1e,{})}),o.jsx(Ve,{path:"guest-detail/:guestEmail",element:o.jsx(C1e,{})}),o.jsx(Ve,{path:"guest-customers",element:o.jsx(j1e,{}),children:o.jsx(Ve,{path:"statistic",element:o.jsx(L7,{})})}),o.jsx(Ve,{path:"banner-slide",element:o.jsx(ybe,{})}),o.jsx(Ve,{path:"discount",element:o.jsx(a1e,{})}),o.jsx(Ve,{path:"flashsale",element:o.jsx(Zve,{})}),o.jsx(Ve,{path:"flashsale/create",element:o.jsx(IA,{})}),o.jsx(Ve,{path:"flashsale/edit/:id",element:o.jsx(IA,{})}),o.jsx(Ve,{path:"flashsale/detail/:id",element:o.jsx(T1e,{})})]}),o.jsx(Ve,{path:"/dashboard/login",element:o.jsx(cbe,{children:o.jsx(TG,{})})}),o.jsx(Ve,{path:"*",element:o.jsx(Oye,{})}),o.jsx(Ve,{path:"/unauthorized",element:o.jsx(_ye,{})})]}),o.jsx(W9,{position:"top-right",autoClose:3e3})]})}const _1e=T.createContext(null);function D1e({children:t}){const[e,n]=T.useState(null);return o.jsx(_1e.Provider,{value:{currCategory:e,setCurrCategory:n},children:t})}const I1e=new UH;zV.createRoot(document.getElementById("root")).render(o.jsx(T.StrictMode,{children:o.jsx(t9,{children:o.jsx(WH,{client:I1e,children:o.jsx(D1e,{children:o.jsx(sU,{children:o.jsx(O1e,{})})})})})}));
