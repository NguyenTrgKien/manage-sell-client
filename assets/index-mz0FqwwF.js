function i9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eb={exports:{}},Nd={},Mb={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC;function a9(){if(IC)return st;IC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(V,Q,Z){this.props=V,this.context=Q,this.refs=v,this.updater=Z||g}b.prototype.isReactComponent={},b.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=b.prototype;function N(V,Q,Z){this.props=V,this.context=Q,this.refs=v,this.updater=Z||g}var C=N.prototype=new w;C.constructor=N,x(C,b.prototype),C.isPureReactComponent=!0;var M=Array.isArray,j=Object.prototype.hasOwnProperty,A={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function E(V,Q,Z){var ee,le={},pe=null,ne=null;if(Q!=null)for(ee in Q.ref!==void 0&&(ne=Q.ref),Q.key!==void 0&&(pe=""+Q.key),Q)j.call(Q,ee)&&!P.hasOwnProperty(ee)&&(le[ee]=Q[ee]);var ue=arguments.length-2;if(ue===1)le.children=Z;else if(1<ue){for(var ge=Array(ue),Se=0;Se<ue;Se++)ge[Se]=arguments[Se+2];le.children=ge}if(V&&V.defaultProps)for(ee in ue=V.defaultProps,ue)le[ee]===void 0&&(le[ee]=ue[ee]);return{$$typeof:t,type:V,key:pe,ref:ne,props:le,_owner:A.current}}function _(V,Q){return{$$typeof:t,type:V.type,key:Q,ref:V.ref,props:V.props,_owner:V._owner}}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function D(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Z){return Q[Z]})}var R=/\/+/g;function G(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Q.toString(36)}function U(V,Q,Z,ee,le){var pe=typeof V;(pe==="undefined"||pe==="boolean")&&(V=null);var ne=!1;if(V===null)ne=!0;else switch(pe){case"string":case"number":ne=!0;break;case"object":switch(V.$$typeof){case t:case e:ne=!0}}if(ne)return ne=V,le=le(ne),V=ee===""?"."+G(ne,0):ee,M(le)?(Z="",V!=null&&(Z=V.replace(R,"$&/")+"/"),U(le,Q,Z,"",function(Se){return Se})):le!=null&&(L(le)&&(le=_(le,Z+(!le.key||ne&&ne.key===le.key?"":(""+le.key).replace(R,"$&/")+"/")+V)),Q.push(le)),1;if(ne=0,ee=ee===""?".":ee+":",M(V))for(var ue=0;ue<V.length;ue++){pe=V[ue];var ge=ee+G(pe,ue);ne+=U(pe,Q,Z,ge,le)}else if(ge=p(V),typeof ge=="function")for(V=ge.call(V),ue=0;!(pe=V.next()).done;)pe=pe.value,ge=ee+G(pe,ue++),ne+=U(pe,Q,Z,ge,le);else if(pe==="object")throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ne}function q(V,Q,Z){if(V==null)return V;var ee=[],le=0;return U(V,ee,"","",function(pe){return Q.call(Z,pe,le++)}),ee}function F(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(Z){(V._status===0||V._status===-1)&&(V._status=1,V._result=Z)},function(Z){(V._status===0||V._status===-1)&&(V._status=2,V._result=Z)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var B={current:null},$={transition:null},X={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:$,ReactCurrentOwner:A};function H(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:q,forEach:function(V,Q,Z){q(V,function(){Q.apply(this,arguments)},Z)},count:function(V){var Q=0;return q(V,function(){Q++}),Q},toArray:function(V){return q(V,function(Q){return Q})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},st.Component=b,st.Fragment=n,st.Profiler=s,st.PureComponent=N,st.StrictMode=r,st.Suspense=c,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,st.act=H,st.cloneElement=function(V,Q,Z){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ee=x({},V.props),le=V.key,pe=V.ref,ne=V._owner;if(Q!=null){if(Q.ref!==void 0&&(pe=Q.ref,ne=A.current),Q.key!==void 0&&(le=""+Q.key),V.type&&V.type.defaultProps)var ue=V.type.defaultProps;for(ge in Q)j.call(Q,ge)&&!P.hasOwnProperty(ge)&&(ee[ge]=Q[ge]===void 0&&ue!==void 0?ue[ge]:Q[ge])}var ge=arguments.length-2;if(ge===1)ee.children=Z;else if(1<ge){ue=Array(ge);for(var Se=0;Se<ge;Se++)ue[Se]=arguments[Se+2];ee.children=ue}return{$$typeof:t,type:V.type,key:le,ref:pe,props:ee,_owner:ne}},st.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:i,_context:V},V.Consumer=V},st.createElement=E,st.createFactory=function(V){var Q=E.bind(null,V);return Q.type=V,Q},st.createRef=function(){return{current:null}},st.forwardRef=function(V){return{$$typeof:l,render:V}},st.isValidElement=L,st.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:F}},st.memo=function(V,Q){return{$$typeof:u,type:V,compare:Q===void 0?null:Q}},st.startTransition=function(V){var Q=$.transition;$.transition={};try{V()}finally{$.transition=Q}},st.unstable_act=H,st.useCallback=function(V,Q){return B.current.useCallback(V,Q)},st.useContext=function(V){return B.current.useContext(V)},st.useDebugValue=function(){},st.useDeferredValue=function(V){return B.current.useDeferredValue(V)},st.useEffect=function(V,Q){return B.current.useEffect(V,Q)},st.useId=function(){return B.current.useId()},st.useImperativeHandle=function(V,Q,Z){return B.current.useImperativeHandle(V,Q,Z)},st.useInsertionEffect=function(V,Q){return B.current.useInsertionEffect(V,Q)},st.useLayoutEffect=function(V,Q){return B.current.useLayoutEffect(V,Q)},st.useMemo=function(V,Q){return B.current.useMemo(V,Q)},st.useReducer=function(V,Q,Z){return B.current.useReducer(V,Q,Z)},st.useRef=function(V){return B.current.useRef(V)},st.useState=function(V){return B.current.useState(V)},st.useSyncExternalStore=function(V,Q,Z){return B.current.useSyncExternalStore(V,Q,Z)},st.useTransition=function(){return B.current.useTransition()},st.version="18.3.1",st}var LC;function Yl(){return LC||(LC=1,Mb.exports=a9()),Mb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function o9(){if(RC)return Nd;RC=1;var t=Yl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,u){var d,f={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:g,props:f,_owner:s.current}}return Nd.Fragment=n,Nd.jsx=a,Nd.jsxs=a,Nd}var FC;function l9(){return FC||(FC=1,Eb.exports=o9()),Eb.exports}var o=l9(),T=Yl();const ye=af(T),zC=i9({__proto__:null,default:ye},[T]);var zm={},Pb={exports:{}},Sr={},Ab={exports:{}},Ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC;function c9(){return VC||(VC=1,(function(t){function e($,X){var H=$.length;$.push(X);e:for(;0<H;){var V=H-1>>>1,Q=$[V];if(0<s(Q,X))$[V]=X,$[H]=Q,H=V;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var X=$[0],H=$.pop();if(H!==X){$[0]=H;e:for(var V=0,Q=$.length,Z=Q>>>1;V<Z;){var ee=2*(V+1)-1,le=$[ee],pe=ee+1,ne=$[pe];if(0>s(le,H))pe<Q&&0>s(ne,le)?($[V]=ne,$[pe]=H,V=pe):($[V]=le,$[ee]=H,V=ee);else if(pe<Q&&0>s(ne,H))$[V]=ne,$[pe]=H,V=pe;else break e}}return X}function s($,X){var H=$.sortIndex-X.sortIndex;return H!==0?H:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=$)r(u),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(u)}}function M($){if(v=!1,C($),!x)if(n(c)!==null)x=!0,F(j);else{var X=n(u);X!==null&&B(M,X.startTime-$)}}function j($,X){x=!1,v&&(v=!1,w(E),E=-1),g=!0;var H=p;try{for(C(X),f=n(c);f!==null&&(!(f.expirationTime>X)||$&&!D());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var Q=V(f.expirationTime<=X);X=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),C(X)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var ee=n(u);ee!==null&&B(M,ee.startTime-X),Z=!1}return Z}finally{f=null,p=H,g=!1}}var A=!1,P=null,E=-1,_=5,L=-1;function D(){return!(t.unstable_now()-L<_)}function R(){if(P!==null){var $=t.unstable_now();L=$;var X=!0;try{X=P(!0,$)}finally{X?G():(A=!1,P=null)}}else A=!1}var G;if(typeof N=="function")G=function(){N(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=R,G=function(){q.postMessage(null)}}else G=function(){b(R,0)};function F($){P=$,A||(A=!0,G())}function B($,X){E=b(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,F(j))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var H=p;p=X;try{return $()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=p;p=$;try{return X()}finally{p=H}},t.unstable_scheduleCallback=function($,X,H){var V=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,$={id:d++,callback:X,priorityLevel:$,startTime:H,expirationTime:Q,sortIndex:-1},H>V?($.sortIndex=H,e(u,$),n(c)===null&&$===n(u)&&(v?(w(E),E=-1):v=!0,B(M,H-V))):($.sortIndex=Q,e(c,$),x||g||(x=!0,F(j))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var X=p;return function(){var H=p;p=X;try{return $.apply(this,arguments)}finally{p=H}}}})(Ob)),Ob}var $C;function u9(){return $C||($C=1,Ab.exports=c9()),Ab.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function d9(){if(BC)return Sr;BC=1;var t=Yl(),e=u9();function n(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(h,m){a(h,m),a(h+"Capture",m)}function a(h,m){for(s[h]=m,h=0;h<m.length;h++)r.add(m[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function g(h,m,y,S){if(y!==null&&y.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return S?!1:y!==null?!y.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function x(h,m,y,S){if(m===null||typeof m>"u"||g(h,m,y,S))return!0;if(S)return!1;if(y!==null)switch(y.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(h,m,y,S,k,O,I){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=S,this.attributeNamespace=k,this.mustUseProperty=y,this.propertyName=h,this.type=m,this.sanitizeURL=O,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];b[m]=new v(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function N(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(w,N);b[m]=new v(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(w,N);b[m]=new v(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(w,N);b[m]=new v(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function C(h,m,y,S){var k=b.hasOwnProperty(m)?b[m]:null;(k!==null?k.type!==0:S||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,y,k,S)&&(y=null),S||k===null?p(m)&&(y===null?h.removeAttribute(m):h.setAttribute(m,""+y)):k.mustUseProperty?h[k.propertyName]=y===null?k.type===3?!1:"":y:(m=k.attributeName,S=k.attributeNamespace,y===null?h.removeAttribute(m):(k=k.type,y=k===3||k===4&&y===!0?"":""+y,S?h.setAttributeNS(S,m,y):h.setAttribute(m,y))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),A=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),D=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),$=Symbol.iterator;function X(h){return h===null||typeof h!="object"?null:(h=$&&h[$]||h["@@iterator"],typeof h=="function"?h:null)}var H=Object.assign,V;function Q(h){if(V===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);V=m&&m[1]||""}return`
`+V+h}var Z=!1;function ee(h,m){if(!h||Z)return"";Z=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ie){var S=ie}Reflect.construct(h,[],m)}else{try{m.call()}catch(ie){S=ie}h.call(m.prototype)}else{try{throw Error()}catch(ie){S=ie}h()}}catch(ie){if(ie&&S&&typeof ie.stack=="string"){for(var k=ie.stack.split(`
`),O=S.stack.split(`
`),I=k.length-1,W=O.length-1;1<=I&&0<=W&&k[I]!==O[W];)W--;for(;1<=I&&0<=W;I--,W--)if(k[I]!==O[W]){if(I!==1||W!==1)do if(I--,W--,0>W||k[I]!==O[W]){var Y=`
`+k[I].replace(" at new "," at ");return h.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",h.displayName)),Y}while(1<=I&&0<=W);break}}}finally{Z=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?Q(h):""}function le(h){switch(h.tag){case 5:return Q(h.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return h=ee(h.type,!1),h;case 11:return h=ee(h.type.render,!1),h;case 1:return h=ee(h.type,!0),h;default:return""}}function pe(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case P:return"Fragment";case A:return"Portal";case _:return"Profiler";case E:return"StrictMode";case G:return"Suspense";case U:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case D:return(h.displayName||"Context")+".Consumer";case L:return(h._context.displayName||"Context")+".Provider";case R:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case q:return m=h.displayName||null,m!==null?m:pe(h.type)||"Memo";case F:m=h._payload,h=h._init;try{return pe(h(m))}catch{}}return null}function ne(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(m);case 8:return m===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ue(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ge(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Se(h){var m=ge(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),S=""+h[m];if(!h.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,O=y.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return k.call(this)},set:function(I){S=""+I,O.call(this,I)}}),Object.defineProperty(h,m,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(I){S=""+I},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function nt(h){h._valueTracker||(h._valueTracker=Se(h))}function Ke(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var y=m.getValue(),S="";return h&&(S=ge(h)?h.checked?"true":"false":h.value),h=S,h!==y?(m.setValue(h),!0):!1}function Pe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function lt(h,m){var y=m.checked;return H({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??h._wrapperState.initialChecked})}function it(h,m){var y=m.defaultValue==null?"":m.defaultValue,S=m.checked!=null?m.checked:m.defaultChecked;y=ue(m.value!=null?m.value:y),h._wrapperState={initialChecked:S,initialValue:y,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function gt(h,m){m=m.checked,m!=null&&C(h,"checked",m,!1)}function Rt(h,m){gt(h,m);var y=ue(m.value),S=m.type;if(y!=null)S==="number"?(y===0&&h.value===""||h.value!=y)&&(h.value=""+y):h.value!==""+y&&(h.value=""+y);else if(S==="submit"||S==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?yn(h,m.type,y):m.hasOwnProperty("defaultValue")&&yn(h,m.type,ue(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function gr(h,m,y){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var S=m.type;if(!(S!=="submit"&&S!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,y||m===h.value||(h.value=m),h.defaultValue=m}y=h.name,y!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,y!==""&&(h.name=y)}function yn(h,m,y){(m!=="number"||Pe(h.ownerDocument)!==h)&&(y==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+y&&(h.defaultValue=""+y))}var K=Array.isArray;function re(h,m,y,S){if(h=h.options,m){m={};for(var k=0;k<y.length;k++)m["$"+y[k]]=!0;for(y=0;y<h.length;y++)k=m.hasOwnProperty("$"+h[y].value),h[y].selected!==k&&(h[y].selected=k),k&&S&&(h[y].defaultSelected=!0)}else{for(y=""+ue(y),m=null,k=0;k<h.length;k++){if(h[k].value===y){h[k].selected=!0,S&&(h[k].defaultSelected=!0);return}m!==null||h[k].disabled||(m=h[k])}m!==null&&(m.selected=!0)}}function oe(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Te(h,m){var y=m.value;if(y==null){if(y=m.children,m=m.defaultValue,y!=null){if(m!=null)throw Error(n(92));if(K(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),y=m}h._wrapperState={initialValue:ue(y)}}function je(h,m){var y=ue(m.value),S=ue(m.defaultValue);y!=null&&(y=""+y,y!==h.value&&(h.value=y),m.defaultValue==null&&h.defaultValue!==y&&(h.defaultValue=y)),S!=null&&(h.defaultValue=""+S)}function Ne(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function Le(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?Le(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var ft,or=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,y,S,k){MSApp.execUnsafeLocalFunction(function(){return h(m,y,S,k)})}:h})(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ft.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function Ws(h,m){if(m){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=m;return}}h.textContent=m}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$x=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(h){$x.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),xr[m]=xr[h]})});function sc(h,m,y){return m==null||typeof m=="boolean"||m===""?"":y||typeof m!="number"||m===0||xr.hasOwnProperty(h)&&xr[h]?(""+m).trim():m+"px"}function ic(h,m){h=h.style;for(var y in m)if(m.hasOwnProperty(y)){var S=y.indexOf("--")===0,k=sc(y,m[y],S);y==="float"&&(y="cssFloat"),S?h.setProperty(y,k):h[y]=k}}var Bx=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ac(h,m){if(m){if(Bx[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function zu(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=null;function Hx(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ux=null,lc=null,cc=null;function Jj(h){if(h=od(h)){if(typeof Ux!="function")throw Error(n(280));var m=h.stateNode;m&&(m=em(m),Ux(h.stateNode,h.type,m))}}function Zj(h){lc?cc?cc.push(h):cc=[h]:lc=h}function e4(){if(lc){var h=lc,m=cc;if(cc=lc=null,Jj(h),m)for(h=0;h<m.length;h++)Jj(m[h])}}function t4(h,m){return h(m)}function n4(){}var Wx=!1;function r4(h,m,y){if(Wx)return h(m,y);Wx=!0;try{return t4(h,m,y)}finally{Wx=!1,(lc!==null||cc!==null)&&(n4(),e4())}}function Vu(h,m){var y=h.stateNode;if(y===null)return null;var S=em(y);if(S===null)return null;y=S[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(h=h.type,S=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!S;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(n(231,m,typeof y));return y}var qx=!1;if(l)try{var $u={};Object.defineProperty($u,"passive",{get:function(){qx=!0}}),window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{qx=!1}function dz(h,m,y,S,k,O,I,W,Y){var ie=Array.prototype.slice.call(arguments,3);try{m.apply(y,ie)}catch(me){this.onError(me)}}var Bu=!1,Of=null,_f=!1,Kx=null,hz={onError:function(h){Bu=!0,Of=h}};function fz(h,m,y,S,k,O,I,W,Y){Bu=!1,Of=null,dz.apply(hz,arguments)}function mz(h,m,y,S,k,O,I,W,Y){if(fz.apply(this,arguments),Bu){if(Bu){var ie=Of;Bu=!1,Of=null}else throw Error(n(198));_f||(_f=!0,Kx=ie)}}function Do(h){var m=h,y=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(y=m.return),h=m.return;while(h)}return m.tag===3?y:null}function s4(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function i4(h){if(Do(h)!==h)throw Error(n(188))}function pz(h){var m=h.alternate;if(!m){if(m=Do(h),m===null)throw Error(n(188));return m!==h?null:h}for(var y=h,S=m;;){var k=y.return;if(k===null)break;var O=k.alternate;if(O===null){if(S=k.return,S!==null){y=S;continue}break}if(k.child===O.child){for(O=k.child;O;){if(O===y)return i4(k),h;if(O===S)return i4(k),m;O=O.sibling}throw Error(n(188))}if(y.return!==S.return)y=k,S=O;else{for(var I=!1,W=k.child;W;){if(W===y){I=!0,y=k,S=O;break}if(W===S){I=!0,S=k,y=O;break}W=W.sibling}if(!I){for(W=O.child;W;){if(W===y){I=!0,y=O,S=k;break}if(W===S){I=!0,S=O,y=k;break}W=W.sibling}if(!I)throw Error(n(189))}}if(y.alternate!==S)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?h:m}function a4(h){return h=pz(h),h!==null?o4(h):null}function o4(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=o4(h);if(m!==null)return m;h=h.sibling}return null}var l4=e.unstable_scheduleCallback,c4=e.unstable_cancelCallback,gz=e.unstable_shouldYield,xz=e.unstable_requestPaint,nn=e.unstable_now,yz=e.unstable_getCurrentPriorityLevel,Gx=e.unstable_ImmediatePriority,u4=e.unstable_UserBlockingPriority,Df=e.unstable_NormalPriority,bz=e.unstable_LowPriority,d4=e.unstable_IdlePriority,If=null,qs=null;function vz(h){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(If,h,void 0,(h.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:Sz,wz=Math.log,Nz=Math.LN2;function Sz(h){return h>>>=0,h===0?32:31-(wz(h)/Nz|0)|0}var Lf=64,Rf=4194304;function Hu(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ff(h,m){var y=h.pendingLanes;if(y===0)return 0;var S=0,k=h.suspendedLanes,O=h.pingedLanes,I=y&268435455;if(I!==0){var W=I&~k;W!==0?S=Hu(W):(O&=I,O!==0&&(S=Hu(O)))}else I=y&~k,I!==0?S=Hu(I):O!==0&&(S=Hu(O));if(S===0)return 0;if(m!==0&&m!==S&&(m&k)===0&&(k=S&-S,O=m&-m,k>=O||k===16&&(O&4194240)!==0))return m;if((S&4)!==0&&(S|=y&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=S;0<m;)y=31-Cs(m),k=1<<y,S|=h[y],m&=~k;return S}function jz(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cz(h,m){for(var y=h.suspendedLanes,S=h.pingedLanes,k=h.expirationTimes,O=h.pendingLanes;0<O;){var I=31-Cs(O),W=1<<I,Y=k[I];Y===-1?((W&y)===0||(W&S)!==0)&&(k[I]=jz(W,m)):Y<=m&&(h.expiredLanes|=W),O&=~W}}function Yx(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function h4(){var h=Lf;return Lf<<=1,(Lf&4194240)===0&&(Lf=64),h}function Xx(h){for(var m=[],y=0;31>y;y++)m.push(h);return m}function Uu(h,m,y){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Cs(m),h[m]=y}function kz(h,m){var y=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var S=h.eventTimes;for(h=h.expirationTimes;0<y;){var k=31-Cs(y),O=1<<k;m[k]=0,S[k]=-1,h[k]=-1,y&=~O}}function Qx(h,m){var y=h.entangledLanes|=m;for(h=h.entanglements;y;){var S=31-Cs(y),k=1<<S;k&m|h[S]&m&&(h[S]|=m),y&=~k}}var vt=0;function f4(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var m4,Jx,p4,g4,x4,Zx=!1,zf=[],wa=null,Na=null,Sa=null,Wu=new Map,qu=new Map,ja=[],Tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y4(h,m){switch(h){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Wu.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(m.pointerId)}}function Ku(h,m,y,S,k,O){return h===null||h.nativeEvent!==O?(h={blockedOn:m,domEventName:y,eventSystemFlags:S,nativeEvent:O,targetContainers:[k]},m!==null&&(m=od(m),m!==null&&Jx(m)),h):(h.eventSystemFlags|=S,m=h.targetContainers,k!==null&&m.indexOf(k)===-1&&m.push(k),h)}function Ez(h,m,y,S,k){switch(m){case"focusin":return wa=Ku(wa,h,m,y,S,k),!0;case"dragenter":return Na=Ku(Na,h,m,y,S,k),!0;case"mouseover":return Sa=Ku(Sa,h,m,y,S,k),!0;case"pointerover":var O=k.pointerId;return Wu.set(O,Ku(Wu.get(O)||null,h,m,y,S,k)),!0;case"gotpointercapture":return O=k.pointerId,qu.set(O,Ku(qu.get(O)||null,h,m,y,S,k)),!0}return!1}function b4(h){var m=Io(h.target);if(m!==null){var y=Do(m);if(y!==null){if(m=y.tag,m===13){if(m=s4(y),m!==null){h.blockedOn=m,x4(h.priority,function(){p4(y)});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Vf(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var y=ty(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(y===null){y=h.nativeEvent;var S=new y.constructor(y.type,y);oc=S,y.target.dispatchEvent(S),oc=null}else return m=od(y),m!==null&&Jx(m),h.blockedOn=y,!1;m.shift()}return!0}function v4(h,m,y){Vf(h)&&y.delete(m)}function Mz(){Zx=!1,wa!==null&&Vf(wa)&&(wa=null),Na!==null&&Vf(Na)&&(Na=null),Sa!==null&&Vf(Sa)&&(Sa=null),Wu.forEach(v4),qu.forEach(v4)}function Gu(h,m){h.blockedOn===m&&(h.blockedOn=null,Zx||(Zx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mz)))}function Yu(h){function m(k){return Gu(k,h)}if(0<zf.length){Gu(zf[0],h);for(var y=1;y<zf.length;y++){var S=zf[y];S.blockedOn===h&&(S.blockedOn=null)}}for(wa!==null&&Gu(wa,h),Na!==null&&Gu(Na,h),Sa!==null&&Gu(Sa,h),Wu.forEach(m),qu.forEach(m),y=0;y<ja.length;y++)S=ja[y],S.blockedOn===h&&(S.blockedOn=null);for(;0<ja.length&&(y=ja[0],y.blockedOn===null);)b4(y),y.blockedOn===null&&ja.shift()}var uc=M.ReactCurrentBatchConfig,$f=!0;function Pz(h,m,y,S){var k=vt,O=uc.transition;uc.transition=null;try{vt=1,ey(h,m,y,S)}finally{vt=k,uc.transition=O}}function Az(h,m,y,S){var k=vt,O=uc.transition;uc.transition=null;try{vt=4,ey(h,m,y,S)}finally{vt=k,uc.transition=O}}function ey(h,m,y,S){if($f){var k=ty(h,m,y,S);if(k===null)yy(h,m,S,Bf,y),y4(h,S);else if(Ez(k,h,m,y,S))S.stopPropagation();else if(y4(h,S),m&4&&-1<Tz.indexOf(h)){for(;k!==null;){var O=od(k);if(O!==null&&m4(O),O=ty(h,m,y,S),O===null&&yy(h,m,S,Bf,y),O===k)break;k=O}k!==null&&S.stopPropagation()}else yy(h,m,S,null,y)}}var Bf=null;function ty(h,m,y,S){if(Bf=null,h=Hx(S),h=Io(h),h!==null)if(m=Do(h),m===null)h=null;else if(y=m.tag,y===13){if(h=s4(m),h!==null)return h;h=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return Bf=h,null}function w4(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yz()){case Gx:return 1;case u4:return 4;case Df:case bz:return 16;case d4:return 536870912;default:return 16}default:return 16}}var Ca=null,ny=null,Hf=null;function N4(){if(Hf)return Hf;var h,m=ny,y=m.length,S,k="value"in Ca?Ca.value:Ca.textContent,O=k.length;for(h=0;h<y&&m[h]===k[h];h++);var I=y-h;for(S=1;S<=I&&m[y-S]===k[O-S];S++);return Hf=k.slice(h,1<S?1-S:void 0)}function Uf(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Wf(){return!0}function S4(){return!1}function Rr(h){function m(y,S,k,O,I){this._reactName=y,this._targetInst=k,this.type=S,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var W in h)h.hasOwnProperty(W)&&(y=h[W],this[W]=y?y(O):O[W]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Wf:S4,this.isPropagationStopped=S4,this}return H(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),m}var dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ry=Rr(dc),Xu=H({},dc,{view:0,detail:0}),Oz=Rr(Xu),sy,iy,Qu,qf=H({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Qu&&(Qu&&h.type==="mousemove"?(sy=h.screenX-Qu.screenX,iy=h.screenY-Qu.screenY):iy=sy=0,Qu=h),sy)},movementY:function(h){return"movementY"in h?h.movementY:iy}}),j4=Rr(qf),_z=H({},qf,{dataTransfer:0}),Dz=Rr(_z),Iz=H({},Xu,{relatedTarget:0}),ay=Rr(Iz),Lz=H({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),Rz=Rr(Lz),Fz=H({},dc,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),zz=Rr(Fz),Vz=H({},dc,{data:0}),C4=Rr(Vz),$z={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uz(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=Hz[h])?!!m[h]:!1}function oy(){return Uz}var Wz=H({},Xu,{key:function(h){if(h.key){var m=$z[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=Uf(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Bz[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(h){return h.type==="keypress"?Uf(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Uf(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),qz=Rr(Wz),Kz=H({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k4=Rr(Kz),Gz=H({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),Yz=Rr(Gz),Xz=H({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qz=Rr(Xz),Jz=H({},qf,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Zz=Rr(Jz),eV=[9,13,27,32],ly=l&&"CompositionEvent"in window,Ju=null;l&&"documentMode"in document&&(Ju=document.documentMode);var tV=l&&"TextEvent"in window&&!Ju,T4=l&&(!ly||Ju&&8<Ju&&11>=Ju),E4=" ",M4=!1;function P4(h,m){switch(h){case"keyup":return eV.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A4(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var hc=!1;function nV(h,m){switch(h){case"compositionend":return A4(m);case"keypress":return m.which!==32?null:(M4=!0,E4);case"textInput":return h=m.data,h===E4&&M4?null:h;default:return null}}function rV(h,m){if(hc)return h==="compositionend"||!ly&&P4(h,m)?(h=N4(),Hf=ny=Ca=null,hc=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return T4&&m.locale!=="ko"?null:m.data;default:return null}}var sV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O4(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!sV[h.type]:m==="textarea"}function _4(h,m,y,S){Zj(S),m=Qf(m,"onChange"),0<m.length&&(y=new ry("onChange","change",null,y,S),h.push({event:y,listeners:m}))}var Zu=null,ed=null;function iV(h){Q4(h,0)}function Kf(h){var m=xc(h);if(Ke(m))return h}function aV(h,m){if(h==="change")return m}var D4=!1;if(l){var cy;if(l){var uy="oninput"in document;if(!uy){var I4=document.createElement("div");I4.setAttribute("oninput","return;"),uy=typeof I4.oninput=="function"}cy=uy}else cy=!1;D4=cy&&(!document.documentMode||9<document.documentMode)}function L4(){Zu&&(Zu.detachEvent("onpropertychange",R4),ed=Zu=null)}function R4(h){if(h.propertyName==="value"&&Kf(ed)){var m=[];_4(m,ed,h,Hx(h)),r4(iV,m)}}function oV(h,m,y){h==="focusin"?(L4(),Zu=m,ed=y,Zu.attachEvent("onpropertychange",R4)):h==="focusout"&&L4()}function lV(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Kf(ed)}function cV(h,m){if(h==="click")return Kf(m)}function uV(h,m){if(h==="input"||h==="change")return Kf(m)}function dV(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var ks=typeof Object.is=="function"?Object.is:dV;function td(h,m){if(ks(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var y=Object.keys(h),S=Object.keys(m);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var k=y[S];if(!c.call(m,k)||!ks(h[k],m[k]))return!1}return!0}function F4(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function z4(h,m){var y=F4(h);h=0;for(var S;y;){if(y.nodeType===3){if(S=h+y.textContent.length,h<=m&&S>=m)return{node:y,offset:m-h};h=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=F4(y)}}function V4(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?V4(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function $4(){for(var h=window,m=Pe();m instanceof h.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)h=m.contentWindow;else break;m=Pe(h.document)}return m}function dy(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function hV(h){var m=$4(),y=h.focusedElem,S=h.selectionRange;if(m!==y&&y&&y.ownerDocument&&V4(y.ownerDocument.documentElement,y)){if(S!==null&&dy(y)){if(m=S.start,h=S.end,h===void 0&&(h=m),"selectionStart"in y)y.selectionStart=m,y.selectionEnd=Math.min(h,y.value.length);else if(h=(m=y.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var k=y.textContent.length,O=Math.min(S.start,k);S=S.end===void 0?O:Math.min(S.end,k),!h.extend&&O>S&&(k=S,S=O,O=k),k=z4(y,O);var I=z4(y,S);k&&I&&(h.rangeCount!==1||h.anchorNode!==k.node||h.anchorOffset!==k.offset||h.focusNode!==I.node||h.focusOffset!==I.offset)&&(m=m.createRange(),m.setStart(k.node,k.offset),h.removeAllRanges(),O>S?(h.addRange(m),h.extend(I.node,I.offset)):(m.setEnd(I.node,I.offset),h.addRange(m)))}}for(m=[],h=y;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<m.length;y++)h=m[y],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var fV=l&&"documentMode"in document&&11>=document.documentMode,fc=null,hy=null,nd=null,fy=!1;function B4(h,m,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;fy||fc==null||fc!==Pe(S)||(S=fc,"selectionStart"in S&&dy(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),nd&&td(nd,S)||(nd=S,S=Qf(hy,"onSelect"),0<S.length&&(m=new ry("onSelect","select",null,m,y),h.push({event:m,listeners:S}),m.target=fc)))}function Gf(h,m){var y={};return y[h.toLowerCase()]=m.toLowerCase(),y["Webkit"+h]="webkit"+m,y["Moz"+h]="moz"+m,y}var mc={animationend:Gf("Animation","AnimationEnd"),animationiteration:Gf("Animation","AnimationIteration"),animationstart:Gf("Animation","AnimationStart"),transitionend:Gf("Transition","TransitionEnd")},my={},H4={};l&&(H4=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function Yf(h){if(my[h])return my[h];if(!mc[h])return h;var m=mc[h],y;for(y in m)if(m.hasOwnProperty(y)&&y in H4)return my[h]=m[y];return h}var U4=Yf("animationend"),W4=Yf("animationiteration"),q4=Yf("animationstart"),K4=Yf("transitionend"),G4=new Map,Y4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(h,m){G4.set(h,m),i(m,[h])}for(var py=0;py<Y4.length;py++){var gy=Y4[py],mV=gy.toLowerCase(),pV=gy[0].toUpperCase()+gy.slice(1);ka(mV,"on"+pV)}ka(U4,"onAnimationEnd"),ka(W4,"onAnimationIteration"),ka(q4,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(K4,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gV=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function X4(h,m,y){var S=h.type||"unknown-event";h.currentTarget=y,mz(S,m,void 0,h),h.currentTarget=null}function Q4(h,m){m=(m&4)!==0;for(var y=0;y<h.length;y++){var S=h[y],k=S.event;S=S.listeners;e:{var O=void 0;if(m)for(var I=S.length-1;0<=I;I--){var W=S[I],Y=W.instance,ie=W.currentTarget;if(W=W.listener,Y!==O&&k.isPropagationStopped())break e;X4(k,W,ie),O=Y}else for(I=0;I<S.length;I++){if(W=S[I],Y=W.instance,ie=W.currentTarget,W=W.listener,Y!==O&&k.isPropagationStopped())break e;X4(k,W,ie),O=Y}}}if(_f)throw h=Kx,_f=!1,Kx=null,h}function At(h,m){var y=m[jy];y===void 0&&(y=m[jy]=new Set);var S=h+"__bubble";y.has(S)||(J4(m,h,2,!1),y.add(S))}function xy(h,m,y){var S=0;m&&(S|=4),J4(y,h,S,m)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function sd(h){if(!h[Xf]){h[Xf]=!0,r.forEach(function(y){y!=="selectionchange"&&(gV.has(y)||xy(y,!1,h),xy(y,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[Xf]||(m[Xf]=!0,xy("selectionchange",!1,m))}}function J4(h,m,y,S){switch(w4(m)){case 1:var k=Pz;break;case 4:k=Az;break;default:k=ey}y=k.bind(null,m,y,h),k=void 0,!qx||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(k=!0),S?k!==void 0?h.addEventListener(m,y,{capture:!0,passive:k}):h.addEventListener(m,y,!0):k!==void 0?h.addEventListener(m,y,{passive:k}):h.addEventListener(m,y,!1)}function yy(h,m,y,S,k){var O=S;if((m&1)===0&&(m&2)===0&&S!==null)e:for(;;){if(S===null)return;var I=S.tag;if(I===3||I===4){var W=S.stateNode.containerInfo;if(W===k||W.nodeType===8&&W.parentNode===k)break;if(I===4)for(I=S.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&(Y=I.stateNode.containerInfo,Y===k||Y.nodeType===8&&Y.parentNode===k))return;I=I.return}for(;W!==null;){if(I=Io(W),I===null)return;if(Y=I.tag,Y===5||Y===6){S=O=I;continue e}W=W.parentNode}}S=S.return}r4(function(){var ie=O,me=Hx(y),xe=[];e:{var fe=G4.get(h);if(fe!==void 0){var Ee=ry,Ae=h;switch(h){case"keypress":if(Uf(y)===0)break e;case"keydown":case"keyup":Ee=qz;break;case"focusin":Ae="focus",Ee=ay;break;case"focusout":Ae="blur",Ee=ay;break;case"beforeblur":case"afterblur":Ee=ay;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=j4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Dz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Yz;break;case U4:case W4:case q4:Ee=Rz;break;case K4:Ee=Qz;break;case"scroll":Ee=Oz;break;case"wheel":Ee=Zz;break;case"copy":case"cut":case"paste":Ee=zz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=k4}var Oe=(m&4)!==0,rn=!Oe&&h==="scroll",te=Oe?fe!==null?fe+"Capture":null:fe;Oe=[];for(var J=ie,se;J!==null;){se=J;var we=se.stateNode;if(se.tag===5&&we!==null&&(se=we,te!==null&&(we=Vu(J,te),we!=null&&Oe.push(id(J,we,se)))),rn)break;J=J.return}0<Oe.length&&(fe=new Ee(fe,Ae,null,y,me),xe.push({event:fe,listeners:Oe}))}}if((m&7)===0){e:{if(fe=h==="mouseover"||h==="pointerover",Ee=h==="mouseout"||h==="pointerout",fe&&y!==oc&&(Ae=y.relatedTarget||y.fromElement)&&(Io(Ae)||Ae[ji]))break e;if((Ee||fe)&&(fe=me.window===me?me:(fe=me.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ee?(Ae=y.relatedTarget||y.toElement,Ee=ie,Ae=Ae?Io(Ae):null,Ae!==null&&(rn=Do(Ae),Ae!==rn||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Ee=null,Ae=ie),Ee!==Ae)){if(Oe=j4,we="onMouseLeave",te="onMouseEnter",J="mouse",(h==="pointerout"||h==="pointerover")&&(Oe=k4,we="onPointerLeave",te="onPointerEnter",J="pointer"),rn=Ee==null?fe:xc(Ee),se=Ae==null?fe:xc(Ae),fe=new Oe(we,J+"leave",Ee,y,me),fe.target=rn,fe.relatedTarget=se,we=null,Io(me)===ie&&(Oe=new Oe(te,J+"enter",Ae,y,me),Oe.target=se,Oe.relatedTarget=rn,we=Oe),rn=we,Ee&&Ae)t:{for(Oe=Ee,te=Ae,J=0,se=Oe;se;se=pc(se))J++;for(se=0,we=te;we;we=pc(we))se++;for(;0<J-se;)Oe=pc(Oe),J--;for(;0<se-J;)te=pc(te),se--;for(;J--;){if(Oe===te||te!==null&&Oe===te.alternate)break t;Oe=pc(Oe),te=pc(te)}Oe=null}else Oe=null;Ee!==null&&Z4(xe,fe,Ee,Oe,!1),Ae!==null&&rn!==null&&Z4(xe,rn,Ae,Oe,!0)}}e:{if(fe=ie?xc(ie):window,Ee=fe.nodeName&&fe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&fe.type==="file")var Ie=aV;else if(O4(fe))if(D4)Ie=uV;else{Ie=lV;var He=oV}else(Ee=fe.nodeName)&&Ee.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ie=cV);if(Ie&&(Ie=Ie(h,ie))){_4(xe,Ie,y,me);break e}He&&He(h,fe,ie),h==="focusout"&&(He=fe._wrapperState)&&He.controlled&&fe.type==="number"&&yn(fe,"number",fe.value)}switch(He=ie?xc(ie):window,h){case"focusin":(O4(He)||He.contentEditable==="true")&&(fc=He,hy=ie,nd=null);break;case"focusout":nd=hy=fc=null;break;case"mousedown":fy=!0;break;case"contextmenu":case"mouseup":case"dragend":fy=!1,B4(xe,y,me);break;case"selectionchange":if(fV)break;case"keydown":case"keyup":B4(xe,y,me)}var Ue;if(ly)e:{switch(h){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else hc?P4(h,y)&&(Xe="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(Xe="onCompositionStart");Xe&&(T4&&y.locale!=="ko"&&(hc||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&hc&&(Ue=N4()):(Ca=me,ny="value"in Ca?Ca.value:Ca.textContent,hc=!0)),He=Qf(ie,Xe),0<He.length&&(Xe=new C4(Xe,h,null,y,me),xe.push({event:Xe,listeners:He}),Ue?Xe.data=Ue:(Ue=A4(y),Ue!==null&&(Xe.data=Ue)))),(Ue=tV?nV(h,y):rV(h,y))&&(ie=Qf(ie,"onBeforeInput"),0<ie.length&&(me=new C4("onBeforeInput","beforeinput",null,y,me),xe.push({event:me,listeners:ie}),me.data=Ue))}Q4(xe,m)})}function id(h,m,y){return{instance:h,listener:m,currentTarget:y}}function Qf(h,m){for(var y=m+"Capture",S=[];h!==null;){var k=h,O=k.stateNode;k.tag===5&&O!==null&&(k=O,O=Vu(h,y),O!=null&&S.unshift(id(h,O,k)),O=Vu(h,m),O!=null&&S.push(id(h,O,k))),h=h.return}return S}function pc(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Z4(h,m,y,S,k){for(var O=m._reactName,I=[];y!==null&&y!==S;){var W=y,Y=W.alternate,ie=W.stateNode;if(Y!==null&&Y===S)break;W.tag===5&&ie!==null&&(W=ie,k?(Y=Vu(y,O),Y!=null&&I.unshift(id(y,Y,W))):k||(Y=Vu(y,O),Y!=null&&I.push(id(y,Y,W)))),y=y.return}I.length!==0&&h.push({event:m,listeners:I})}var xV=/\r\n?/g,yV=/\u0000|\uFFFD/g;function e3(h){return(typeof h=="string"?h:""+h).replace(xV,`
`).replace(yV,"")}function Jf(h,m,y){if(m=e3(m),e3(h)!==m&&y)throw Error(n(425))}function Zf(){}var by=null,vy=null;function wy(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,bV=typeof clearTimeout=="function"?clearTimeout:void 0,t3=typeof Promise=="function"?Promise:void 0,vV=typeof queueMicrotask=="function"?queueMicrotask:typeof t3<"u"?function(h){return t3.resolve(null).then(h).catch(wV)}:Ny;function wV(h){setTimeout(function(){throw h})}function Sy(h,m){var y=m,S=0;do{var k=y.nextSibling;if(h.removeChild(y),k&&k.nodeType===8)if(y=k.data,y==="/$"){if(S===0){h.removeChild(k),Yu(m);return}S--}else y!=="$"&&y!=="$?"&&y!=="$!"||S++;y=k}while(y);Yu(m)}function Ta(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function n3(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return h;m--}else y==="/$"&&m++}h=h.previousSibling}return null}var gc=Math.random().toString(36).slice(2),Ks="__reactFiber$"+gc,ad="__reactProps$"+gc,ji="__reactContainer$"+gc,jy="__reactEvents$"+gc,NV="__reactListeners$"+gc,SV="__reactHandles$"+gc;function Io(h){var m=h[Ks];if(m)return m;for(var y=h.parentNode;y;){if(m=y[ji]||y[Ks]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(h=n3(h);h!==null;){if(y=h[Ks])return y;h=n3(h)}return m}h=y,y=h.parentNode}return null}function od(h){return h=h[Ks]||h[ji],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function xc(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function em(h){return h[ad]||null}var Cy=[],yc=-1;function Ea(h){return{current:h}}function Ot(h){0>yc||(h.current=Cy[yc],Cy[yc]=null,yc--)}function kt(h,m){yc++,Cy[yc]=h.current,h.current=m}var Ma={},Wn=Ea(Ma),yr=Ea(!1),Lo=Ma;function bc(h,m){var y=h.type.contextTypes;if(!y)return Ma;var S=h.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===m)return S.__reactInternalMemoizedMaskedChildContext;var k={},O;for(O in y)k[O]=m[O];return S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=k),k}function br(h){return h=h.childContextTypes,h!=null}function tm(){Ot(yr),Ot(Wn)}function r3(h,m,y){if(Wn.current!==Ma)throw Error(n(168));kt(Wn,m),kt(yr,y)}function s3(h,m,y){var S=h.stateNode;if(m=m.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var k in S)if(!(k in m))throw Error(n(108,ne(h)||"Unknown",k));return H({},y,S)}function nm(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ma,Lo=Wn.current,kt(Wn,h),kt(yr,yr.current),!0}function i3(h,m,y){var S=h.stateNode;if(!S)throw Error(n(169));y?(h=s3(h,m,Lo),S.__reactInternalMemoizedMergedChildContext=h,Ot(yr),Ot(Wn),kt(Wn,h)):Ot(yr),kt(yr,y)}var Ci=null,rm=!1,ky=!1;function a3(h){Ci===null?Ci=[h]:Ci.push(h)}function jV(h){rm=!0,a3(h)}function Pa(){if(!ky&&Ci!==null){ky=!0;var h=0,m=vt;try{var y=Ci;for(vt=1;h<y.length;h++){var S=y[h];do S=S(!0);while(S!==null)}Ci=null,rm=!1}catch(k){throw Ci!==null&&(Ci=Ci.slice(h+1)),l4(Gx,Pa),k}finally{vt=m,ky=!1}}return null}var vc=[],wc=0,sm=null,im=0,ns=[],rs=0,Ro=null,ki=1,Ti="";function Fo(h,m){vc[wc++]=im,vc[wc++]=sm,sm=h,im=m}function o3(h,m,y){ns[rs++]=ki,ns[rs++]=Ti,ns[rs++]=Ro,Ro=h;var S=ki;h=Ti;var k=32-Cs(S)-1;S&=~(1<<k),y+=1;var O=32-Cs(m)+k;if(30<O){var I=k-k%5;O=(S&(1<<I)-1).toString(32),S>>=I,k-=I,ki=1<<32-Cs(m)+k|y<<k|S,Ti=O+h}else ki=1<<O|y<<k|S,Ti=h}function Ty(h){h.return!==null&&(Fo(h,1),o3(h,1,0))}function Ey(h){for(;h===sm;)sm=vc[--wc],vc[wc]=null,im=vc[--wc],vc[wc]=null;for(;h===Ro;)Ro=ns[--rs],ns[rs]=null,Ti=ns[--rs],ns[rs]=null,ki=ns[--rs],ns[rs]=null}var Fr=null,zr=null,Ft=!1,Ts=null;function l3(h,m){var y=ls(5,null,null,0);y.elementType="DELETED",y.stateNode=m,y.return=h,m=h.deletions,m===null?(h.deletions=[y],h.flags|=16):m.push(y)}function c3(h,m){switch(h.tag){case 5:var y=h.type;return m=m.nodeType!==1||y.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,Fr=h,zr=Ta(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,Fr=h,zr=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(y=Ro!==null?{id:ki,overflow:Ti}:null,h.memoizedState={dehydrated:m,treeContext:y,retryLane:1073741824},y=ls(18,null,null,0),y.stateNode=m,y.return=h,h.child=y,Fr=h,zr=null,!0):!1;default:return!1}}function My(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Py(h){if(Ft){var m=zr;if(m){var y=m;if(!c3(h,m)){if(My(h))throw Error(n(418));m=Ta(y.nextSibling);var S=Fr;m&&c3(h,m)?l3(S,y):(h.flags=h.flags&-4097|2,Ft=!1,Fr=h)}}else{if(My(h))throw Error(n(418));h.flags=h.flags&-4097|2,Ft=!1,Fr=h}}}function u3(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Fr=h}function am(h){if(h!==Fr)return!1;if(!Ft)return u3(h),Ft=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!wy(h.type,h.memoizedProps)),m&&(m=zr)){if(My(h))throw d3(),Error(n(418));for(;m;)l3(h,m),m=Ta(m.nextSibling)}if(u3(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="/$"){if(m===0){zr=Ta(h.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++}h=h.nextSibling}zr=null}}else zr=Fr?Ta(h.stateNode.nextSibling):null;return!0}function d3(){for(var h=zr;h;)h=Ta(h.nextSibling)}function Nc(){zr=Fr=null,Ft=!1}function Ay(h){Ts===null?Ts=[h]:Ts.push(h)}var CV=M.ReactCurrentBatchConfig;function ld(h,m,y){if(h=y.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var S=y.stateNode}if(!S)throw Error(n(147,h));var k=S,O=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===O?m.ref:(m=function(I){var W=k.refs;I===null?delete W[O]:W[O]=I},m._stringRef=O,m)}if(typeof h!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,h))}return h}function om(h,m){throw h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function h3(h){var m=h._init;return m(h._payload)}function f3(h){function m(te,J){if(h){var se=te.deletions;se===null?(te.deletions=[J],te.flags|=16):se.push(J)}}function y(te,J){if(!h)return null;for(;J!==null;)m(te,J),J=J.sibling;return null}function S(te,J){for(te=new Map;J!==null;)J.key!==null?te.set(J.key,J):te.set(J.index,J),J=J.sibling;return te}function k(te,J){return te=Fa(te,J),te.index=0,te.sibling=null,te}function O(te,J,se){return te.index=se,h?(se=te.alternate,se!==null?(se=se.index,se<J?(te.flags|=2,J):se):(te.flags|=2,J)):(te.flags|=1048576,J)}function I(te){return h&&te.alternate===null&&(te.flags|=2),te}function W(te,J,se,we){return J===null||J.tag!==6?(J=Nb(se,te.mode,we),J.return=te,J):(J=k(J,se),J.return=te,J)}function Y(te,J,se,we){var Ie=se.type;return Ie===P?me(te,J,se.props.children,we,se.key):J!==null&&(J.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===F&&h3(Ie)===J.type)?(we=k(J,se.props),we.ref=ld(te,J,se),we.return=te,we):(we=Am(se.type,se.key,se.props,null,te.mode,we),we.ref=ld(te,J,se),we.return=te,we)}function ie(te,J,se,we){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=Sb(se,te.mode,we),J.return=te,J):(J=k(J,se.children||[]),J.return=te,J)}function me(te,J,se,we,Ie){return J===null||J.tag!==7?(J=qo(se,te.mode,we,Ie),J.return=te,J):(J=k(J,se),J.return=te,J)}function xe(te,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Nb(""+J,te.mode,se),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return se=Am(J.type,J.key,J.props,null,te.mode,se),se.ref=ld(te,null,J),se.return=te,se;case A:return J=Sb(J,te.mode,se),J.return=te,J;case F:var we=J._init;return xe(te,we(J._payload),se)}if(K(J)||X(J))return J=qo(J,te.mode,se,null),J.return=te,J;om(te,J)}return null}function fe(te,J,se,we){var Ie=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Ie!==null?null:W(te,J,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return se.key===Ie?Y(te,J,se,we):null;case A:return se.key===Ie?ie(te,J,se,we):null;case F:return Ie=se._init,fe(te,J,Ie(se._payload),we)}if(K(se)||X(se))return Ie!==null?null:me(te,J,se,we,null);om(te,se)}return null}function Ee(te,J,se,we,Ie){if(typeof we=="string"&&we!==""||typeof we=="number")return te=te.get(se)||null,W(J,te,""+we,Ie);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case j:return te=te.get(we.key===null?se:we.key)||null,Y(J,te,we,Ie);case A:return te=te.get(we.key===null?se:we.key)||null,ie(J,te,we,Ie);case F:var He=we._init;return Ee(te,J,se,He(we._payload),Ie)}if(K(we)||X(we))return te=te.get(se)||null,me(J,te,we,Ie,null);om(J,we)}return null}function Ae(te,J,se,we){for(var Ie=null,He=null,Ue=J,Xe=J=0,Cn=null;Ue!==null&&Xe<se.length;Xe++){Ue.index>Xe?(Cn=Ue,Ue=null):Cn=Ue.sibling;var dt=fe(te,Ue,se[Xe],we);if(dt===null){Ue===null&&(Ue=Cn);break}h&&Ue&&dt.alternate===null&&m(te,Ue),J=O(dt,J,Xe),He===null?Ie=dt:He.sibling=dt,He=dt,Ue=Cn}if(Xe===se.length)return y(te,Ue),Ft&&Fo(te,Xe),Ie;if(Ue===null){for(;Xe<se.length;Xe++)Ue=xe(te,se[Xe],we),Ue!==null&&(J=O(Ue,J,Xe),He===null?Ie=Ue:He.sibling=Ue,He=Ue);return Ft&&Fo(te,Xe),Ie}for(Ue=S(te,Ue);Xe<se.length;Xe++)Cn=Ee(Ue,te,Xe,se[Xe],we),Cn!==null&&(h&&Cn.alternate!==null&&Ue.delete(Cn.key===null?Xe:Cn.key),J=O(Cn,J,Xe),He===null?Ie=Cn:He.sibling=Cn,He=Cn);return h&&Ue.forEach(function(za){return m(te,za)}),Ft&&Fo(te,Xe),Ie}function Oe(te,J,se,we){var Ie=X(se);if(typeof Ie!="function")throw Error(n(150));if(se=Ie.call(se),se==null)throw Error(n(151));for(var He=Ie=null,Ue=J,Xe=J=0,Cn=null,dt=se.next();Ue!==null&&!dt.done;Xe++,dt=se.next()){Ue.index>Xe?(Cn=Ue,Ue=null):Cn=Ue.sibling;var za=fe(te,Ue,dt.value,we);if(za===null){Ue===null&&(Ue=Cn);break}h&&Ue&&za.alternate===null&&m(te,Ue),J=O(za,J,Xe),He===null?Ie=za:He.sibling=za,He=za,Ue=Cn}if(dt.done)return y(te,Ue),Ft&&Fo(te,Xe),Ie;if(Ue===null){for(;!dt.done;Xe++,dt=se.next())dt=xe(te,dt.value,we),dt!==null&&(J=O(dt,J,Xe),He===null?Ie=dt:He.sibling=dt,He=dt);return Ft&&Fo(te,Xe),Ie}for(Ue=S(te,Ue);!dt.done;Xe++,dt=se.next())dt=Ee(Ue,te,Xe,dt.value,we),dt!==null&&(h&&dt.alternate!==null&&Ue.delete(dt.key===null?Xe:dt.key),J=O(dt,J,Xe),He===null?Ie=dt:He.sibling=dt,He=dt);return h&&Ue.forEach(function(s9){return m(te,s9)}),Ft&&Fo(te,Xe),Ie}function rn(te,J,se,we){if(typeof se=="object"&&se!==null&&se.type===P&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case j:e:{for(var Ie=se.key,He=J;He!==null;){if(He.key===Ie){if(Ie=se.type,Ie===P){if(He.tag===7){y(te,He.sibling),J=k(He,se.props.children),J.return=te,te=J;break e}}else if(He.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===F&&h3(Ie)===He.type){y(te,He.sibling),J=k(He,se.props),J.ref=ld(te,He,se),J.return=te,te=J;break e}y(te,He);break}else m(te,He);He=He.sibling}se.type===P?(J=qo(se.props.children,te.mode,we,se.key),J.return=te,te=J):(we=Am(se.type,se.key,se.props,null,te.mode,we),we.ref=ld(te,J,se),we.return=te,te=we)}return I(te);case A:e:{for(He=se.key;J!==null;){if(J.key===He)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){y(te,J.sibling),J=k(J,se.children||[]),J.return=te,te=J;break e}else{y(te,J);break}else m(te,J);J=J.sibling}J=Sb(se,te.mode,we),J.return=te,te=J}return I(te);case F:return He=se._init,rn(te,J,He(se._payload),we)}if(K(se))return Ae(te,J,se,we);if(X(se))return Oe(te,J,se,we);om(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(y(te,J.sibling),J=k(J,se),J.return=te,te=J):(y(te,J),J=Nb(se,te.mode,we),J.return=te,te=J),I(te)):y(te,J)}return rn}var Sc=f3(!0),m3=f3(!1),lm=Ea(null),cm=null,jc=null,Oy=null;function _y(){Oy=jc=cm=null}function Dy(h){var m=lm.current;Ot(lm),h._currentValue=m}function Iy(h,m,y){for(;h!==null;){var S=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,S!==null&&(S.childLanes|=m)):S!==null&&(S.childLanes&m)!==m&&(S.childLanes|=m),h===y)break;h=h.return}}function Cc(h,m){cm=h,Oy=jc=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(vr=!0),h.firstContext=null)}function ss(h){var m=h._currentValue;if(Oy!==h)if(h={context:h,memoizedValue:m,next:null},jc===null){if(cm===null)throw Error(n(308));jc=h,cm.dependencies={lanes:0,firstContext:h}}else jc=jc.next=h;return m}var zo=null;function Ly(h){zo===null?zo=[h]:zo.push(h)}function p3(h,m,y,S){var k=m.interleaved;return k===null?(y.next=y,Ly(m)):(y.next=k.next,k.next=y),m.interleaved=y,Ei(h,S)}function Ei(h,m){h.lanes|=m;var y=h.alternate;for(y!==null&&(y.lanes|=m),y=h,h=h.return;h!==null;)h.childLanes|=m,y=h.alternate,y!==null&&(y.childLanes|=m),y=h,h=h.return;return y.tag===3?y.stateNode:null}var Aa=!1;function Ry(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g3(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Mi(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Oa(h,m,y){var S=h.updateQueue;if(S===null)return null;if(S=S.shared,(ut&2)!==0){var k=S.pending;return k===null?m.next=m:(m.next=k.next,k.next=m),S.pending=m,Ei(h,y)}return k=S.interleaved,k===null?(m.next=m,Ly(S)):(m.next=k.next,k.next=m),S.interleaved=m,Ei(h,y)}function um(h,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194240)!==0)){var S=m.lanes;S&=h.pendingLanes,y|=S,m.lanes=y,Qx(h,y)}}function x3(h,m){var y=h.updateQueue,S=h.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var k=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var I={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};O===null?k=O=I:O=O.next=I,y=y.next}while(y!==null);O===null?k=O=m:O=O.next=m}else k=O=m;y={baseState:S.baseState,firstBaseUpdate:k,lastBaseUpdate:O,shared:S.shared,effects:S.effects},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=m}function dm(h,m,y,S){var k=h.updateQueue;Aa=!1;var O=k.firstBaseUpdate,I=k.lastBaseUpdate,W=k.shared.pending;if(W!==null){k.shared.pending=null;var Y=W,ie=Y.next;Y.next=null,I===null?O=ie:I.next=ie,I=Y;var me=h.alternate;me!==null&&(me=me.updateQueue,W=me.lastBaseUpdate,W!==I&&(W===null?me.firstBaseUpdate=ie:W.next=ie,me.lastBaseUpdate=Y))}if(O!==null){var xe=k.baseState;I=0,me=ie=Y=null,W=O;do{var fe=W.lane,Ee=W.eventTime;if((S&fe)===fe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ae=h,Oe=W;switch(fe=m,Ee=y,Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){xe=Ae.call(Ee,xe,fe);break e}xe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,fe=typeof Ae=="function"?Ae.call(Ee,xe,fe):Ae,fe==null)break e;xe=H({},xe,fe);break e;case 2:Aa=!0}}W.callback!==null&&W.lane!==0&&(h.flags|=64,fe=k.effects,fe===null?k.effects=[W]:fe.push(W))}else Ee={eventTime:Ee,lane:fe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},me===null?(ie=me=Ee,Y=xe):me=me.next=Ee,I|=fe;if(W=W.next,W===null){if(W=k.shared.pending,W===null)break;fe=W,W=fe.next,fe.next=null,k.lastBaseUpdate=fe,k.shared.pending=null}}while(!0);if(me===null&&(Y=xe),k.baseState=Y,k.firstBaseUpdate=ie,k.lastBaseUpdate=me,m=k.shared.interleaved,m!==null){k=m;do I|=k.lane,k=k.next;while(k!==m)}else O===null&&(k.shared.lanes=0);Bo|=I,h.lanes=I,h.memoizedState=xe}}function y3(h,m,y){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var S=h[m],k=S.callback;if(k!==null){if(S.callback=null,S=y,typeof k!="function")throw Error(n(191,k));k.call(S)}}}var cd={},Gs=Ea(cd),ud=Ea(cd),dd=Ea(cd);function Vo(h){if(h===cd)throw Error(n(174));return h}function Fy(h,m){switch(kt(dd,m),kt(ud,h),kt(Gs,cd),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:ct(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=ct(m,h)}Ot(Gs),kt(Gs,m)}function kc(){Ot(Gs),Ot(ud),Ot(dd)}function b3(h){Vo(dd.current);var m=Vo(Gs.current),y=ct(m,h.type);m!==y&&(kt(ud,h),kt(Gs,y))}function zy(h){ud.current===h&&(Ot(Gs),Ot(ud))}var Ht=Ea(0);function hm(h){for(var m=h;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Vy=[];function $y(){for(var h=0;h<Vy.length;h++)Vy[h]._workInProgressVersionPrimary=null;Vy.length=0}var fm=M.ReactCurrentDispatcher,By=M.ReactCurrentBatchConfig,$o=0,Ut=null,bn=null,Sn=null,mm=!1,hd=!1,fd=0,kV=0;function qn(){throw Error(n(321))}function Hy(h,m){if(m===null)return!1;for(var y=0;y<m.length&&y<h.length;y++)if(!ks(h[y],m[y]))return!1;return!0}function Uy(h,m,y,S,k,O){if($o=O,Ut=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,fm.current=h===null||h.memoizedState===null?PV:AV,h=y(S,k),hd){O=0;do{if(hd=!1,fd=0,25<=O)throw Error(n(301));O+=1,Sn=bn=null,m.updateQueue=null,fm.current=OV,h=y(S,k)}while(hd)}if(fm.current=xm,m=bn!==null&&bn.next!==null,$o=0,Sn=bn=Ut=null,mm=!1,m)throw Error(n(300));return h}function Wy(){var h=fd!==0;return fd=0,h}function Ys(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Ut.memoizedState=Sn=h:Sn=Sn.next=h,Sn}function is(){if(bn===null){var h=Ut.alternate;h=h!==null?h.memoizedState:null}else h=bn.next;var m=Sn===null?Ut.memoizedState:Sn.next;if(m!==null)Sn=m,bn=h;else{if(h===null)throw Error(n(310));bn=h,h={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Sn===null?Ut.memoizedState=Sn=h:Sn=Sn.next=h}return Sn}function md(h,m){return typeof m=="function"?m(h):m}function qy(h){var m=is(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var S=bn,k=S.baseQueue,O=y.pending;if(O!==null){if(k!==null){var I=k.next;k.next=O.next,O.next=I}S.baseQueue=k=O,y.pending=null}if(k!==null){O=k.next,S=S.baseState;var W=I=null,Y=null,ie=O;do{var me=ie.lane;if(($o&me)===me)Y!==null&&(Y=Y.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),S=ie.hasEagerState?ie.eagerState:h(S,ie.action);else{var xe={lane:me,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Y===null?(W=Y=xe,I=S):Y=Y.next=xe,Ut.lanes|=me,Bo|=me}ie=ie.next}while(ie!==null&&ie!==O);Y===null?I=S:Y.next=W,ks(S,m.memoizedState)||(vr=!0),m.memoizedState=S,m.baseState=I,m.baseQueue=Y,y.lastRenderedState=S}if(h=y.interleaved,h!==null){k=h;do O=k.lane,Ut.lanes|=O,Bo|=O,k=k.next;while(k!==h)}else k===null&&(y.lanes=0);return[m.memoizedState,y.dispatch]}function Ky(h){var m=is(),y=m.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var S=y.dispatch,k=y.pending,O=m.memoizedState;if(k!==null){y.pending=null;var I=k=k.next;do O=h(O,I.action),I=I.next;while(I!==k);ks(O,m.memoizedState)||(vr=!0),m.memoizedState=O,m.baseQueue===null&&(m.baseState=O),y.lastRenderedState=O}return[O,S]}function v3(){}function w3(h,m){var y=Ut,S=is(),k=m(),O=!ks(S.memoizedState,k);if(O&&(S.memoizedState=k,vr=!0),S=S.queue,Gy(j3.bind(null,y,S,h),[h]),S.getSnapshot!==m||O||Sn!==null&&Sn.memoizedState.tag&1){if(y.flags|=2048,pd(9,S3.bind(null,y,S,k,m),void 0,null),jn===null)throw Error(n(349));($o&30)!==0||N3(y,m,k)}return k}function N3(h,m,y){h.flags|=16384,h={getSnapshot:m,value:y},m=Ut.updateQueue,m===null?(m={lastEffect:null,stores:null},Ut.updateQueue=m,m.stores=[h]):(y=m.stores,y===null?m.stores=[h]:y.push(h))}function S3(h,m,y,S){m.value=y,m.getSnapshot=S,C3(m)&&k3(h)}function j3(h,m,y){return y(function(){C3(m)&&k3(h)})}function C3(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!ks(h,y)}catch{return!0}}function k3(h){var m=Ei(h,1);m!==null&&As(m,h,1,-1)}function T3(h){var m=Ys();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:h},m.queue=h,h=h.dispatch=MV.bind(null,Ut,h),[m.memoizedState,h]}function pd(h,m,y,S){return h={tag:h,create:m,destroy:y,deps:S,next:null},m=Ut.updateQueue,m===null?(m={lastEffect:null,stores:null},Ut.updateQueue=m,m.lastEffect=h.next=h):(y=m.lastEffect,y===null?m.lastEffect=h.next=h:(S=y.next,y.next=h,h.next=S,m.lastEffect=h)),h}function E3(){return is().memoizedState}function pm(h,m,y,S){var k=Ys();Ut.flags|=h,k.memoizedState=pd(1|m,y,void 0,S===void 0?null:S)}function gm(h,m,y,S){var k=is();S=S===void 0?null:S;var O=void 0;if(bn!==null){var I=bn.memoizedState;if(O=I.destroy,S!==null&&Hy(S,I.deps)){k.memoizedState=pd(m,y,O,S);return}}Ut.flags|=h,k.memoizedState=pd(1|m,y,O,S)}function M3(h,m){return pm(8390656,8,h,m)}function Gy(h,m){return gm(2048,8,h,m)}function P3(h,m){return gm(4,2,h,m)}function A3(h,m){return gm(4,4,h,m)}function O3(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function _3(h,m,y){return y=y!=null?y.concat([h]):null,gm(4,4,O3.bind(null,m,h),y)}function Yy(){}function D3(h,m){var y=is();m=m===void 0?null:m;var S=y.memoizedState;return S!==null&&m!==null&&Hy(m,S[1])?S[0]:(y.memoizedState=[h,m],h)}function I3(h,m){var y=is();m=m===void 0?null:m;var S=y.memoizedState;return S!==null&&m!==null&&Hy(m,S[1])?S[0]:(h=h(),y.memoizedState=[h,m],h)}function L3(h,m,y){return($o&21)===0?(h.baseState&&(h.baseState=!1,vr=!0),h.memoizedState=y):(ks(y,m)||(y=h4(),Ut.lanes|=y,Bo|=y,h.baseState=!0),m)}function TV(h,m){var y=vt;vt=y!==0&&4>y?y:4,h(!0);var S=By.transition;By.transition={};try{h(!1),m()}finally{vt=y,By.transition=S}}function R3(){return is().memoizedState}function EV(h,m,y){var S=La(h);if(y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},F3(h))z3(m,y);else if(y=p3(h,m,y,S),y!==null){var k=cr();As(y,h,S,k),V3(y,m,S)}}function MV(h,m,y){var S=La(h),k={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(F3(h))z3(m,k);else{var O=h.alternate;if(h.lanes===0&&(O===null||O.lanes===0)&&(O=m.lastRenderedReducer,O!==null))try{var I=m.lastRenderedState,W=O(I,y);if(k.hasEagerState=!0,k.eagerState=W,ks(W,I)){var Y=m.interleaved;Y===null?(k.next=k,Ly(m)):(k.next=Y.next,Y.next=k),m.interleaved=k;return}}catch{}finally{}y=p3(h,m,k,S),y!==null&&(k=cr(),As(y,h,S,k),V3(y,m,S))}}function F3(h){var m=h.alternate;return h===Ut||m!==null&&m===Ut}function z3(h,m){hd=mm=!0;var y=h.pending;y===null?m.next=m:(m.next=y.next,y.next=m),h.pending=m}function V3(h,m,y){if((y&4194240)!==0){var S=m.lanes;S&=h.pendingLanes,y|=S,m.lanes=y,Qx(h,y)}}var xm={readContext:ss,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},PV={readContext:ss,useCallback:function(h,m){return Ys().memoizedState=[h,m===void 0?null:m],h},useContext:ss,useEffect:M3,useImperativeHandle:function(h,m,y){return y=y!=null?y.concat([h]):null,pm(4194308,4,O3.bind(null,m,h),y)},useLayoutEffect:function(h,m){return pm(4194308,4,h,m)},useInsertionEffect:function(h,m){return pm(4,2,h,m)},useMemo:function(h,m){var y=Ys();return m=m===void 0?null:m,h=h(),y.memoizedState=[h,m],h},useReducer:function(h,m,y){var S=Ys();return m=y!==void 0?y(m):m,S.memoizedState=S.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},S.queue=h,h=h.dispatch=EV.bind(null,Ut,h),[S.memoizedState,h]},useRef:function(h){var m=Ys();return h={current:h},m.memoizedState=h},useState:T3,useDebugValue:Yy,useDeferredValue:function(h){return Ys().memoizedState=h},useTransition:function(){var h=T3(!1),m=h[0];return h=TV.bind(null,h[1]),Ys().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,y){var S=Ut,k=Ys();if(Ft){if(y===void 0)throw Error(n(407));y=y()}else{if(y=m(),jn===null)throw Error(n(349));($o&30)!==0||N3(S,m,y)}k.memoizedState=y;var O={value:y,getSnapshot:m};return k.queue=O,M3(j3.bind(null,S,O,h),[h]),S.flags|=2048,pd(9,S3.bind(null,S,O,y,m),void 0,null),y},useId:function(){var h=Ys(),m=jn.identifierPrefix;if(Ft){var y=Ti,S=ki;y=(S&~(1<<32-Cs(S)-1)).toString(32)+y,m=":"+m+"R"+y,y=fd++,0<y&&(m+="H"+y.toString(32)),m+=":"}else y=kV++,m=":"+m+"r"+y.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},AV={readContext:ss,useCallback:D3,useContext:ss,useEffect:Gy,useImperativeHandle:_3,useInsertionEffect:P3,useLayoutEffect:A3,useMemo:I3,useReducer:qy,useRef:E3,useState:function(){return qy(md)},useDebugValue:Yy,useDeferredValue:function(h){var m=is();return L3(m,bn.memoizedState,h)},useTransition:function(){var h=qy(md)[0],m=is().memoizedState;return[h,m]},useMutableSource:v3,useSyncExternalStore:w3,useId:R3,unstable_isNewReconciler:!1},OV={readContext:ss,useCallback:D3,useContext:ss,useEffect:Gy,useImperativeHandle:_3,useInsertionEffect:P3,useLayoutEffect:A3,useMemo:I3,useReducer:Ky,useRef:E3,useState:function(){return Ky(md)},useDebugValue:Yy,useDeferredValue:function(h){var m=is();return bn===null?m.memoizedState=h:L3(m,bn.memoizedState,h)},useTransition:function(){var h=Ky(md)[0],m=is().memoizedState;return[h,m]},useMutableSource:v3,useSyncExternalStore:w3,useId:R3,unstable_isNewReconciler:!1};function Es(h,m){if(h&&h.defaultProps){m=H({},m),h=h.defaultProps;for(var y in h)m[y]===void 0&&(m[y]=h[y]);return m}return m}function Xy(h,m,y,S){m=h.memoizedState,y=y(S,m),y=y==null?m:H({},m,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var ym={isMounted:function(h){return(h=h._reactInternals)?Do(h)===h:!1},enqueueSetState:function(h,m,y){h=h._reactInternals;var S=cr(),k=La(h),O=Mi(S,k);O.payload=m,y!=null&&(O.callback=y),m=Oa(h,O,k),m!==null&&(As(m,h,k,S),um(m,h,k))},enqueueReplaceState:function(h,m,y){h=h._reactInternals;var S=cr(),k=La(h),O=Mi(S,k);O.tag=1,O.payload=m,y!=null&&(O.callback=y),m=Oa(h,O,k),m!==null&&(As(m,h,k,S),um(m,h,k))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var y=cr(),S=La(h),k=Mi(y,S);k.tag=2,m!=null&&(k.callback=m),m=Oa(h,k,S),m!==null&&(As(m,h,S,y),um(m,h,S))}};function $3(h,m,y,S,k,O,I){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,O,I):m.prototype&&m.prototype.isPureReactComponent?!td(y,S)||!td(k,O):!0}function B3(h,m,y){var S=!1,k=Ma,O=m.contextType;return typeof O=="object"&&O!==null?O=ss(O):(k=br(m)?Lo:Wn.current,S=m.contextTypes,O=(S=S!=null)?bc(h,k):Ma),m=new m(y,O),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ym,h.stateNode=m,m._reactInternals=h,S&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=k,h.__reactInternalMemoizedMaskedChildContext=O),m}function H3(h,m,y,S){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,S),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,S),m.state!==h&&ym.enqueueReplaceState(m,m.state,null)}function Qy(h,m,y,S){var k=h.stateNode;k.props=y,k.state=h.memoizedState,k.refs={},Ry(h);var O=m.contextType;typeof O=="object"&&O!==null?k.context=ss(O):(O=br(m)?Lo:Wn.current,k.context=bc(h,O)),k.state=h.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(Xy(h,m,O,y),k.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(m=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),m!==k.state&&ym.enqueueReplaceState(k,k.state,null),dm(h,y,k,S),k.state=h.memoizedState),typeof k.componentDidMount=="function"&&(h.flags|=4194308)}function Tc(h,m){try{var y="",S=m;do y+=le(S),S=S.return;while(S);var k=y}catch(O){k=`
Error generating stack: `+O.message+`
`+O.stack}return{value:h,source:m,stack:k,digest:null}}function Jy(h,m,y){return{value:h,source:null,stack:y??null,digest:m??null}}function Zy(h,m){try{console.error(m.value)}catch(y){setTimeout(function(){throw y})}}var _V=typeof WeakMap=="function"?WeakMap:Map;function U3(h,m,y){y=Mi(-1,y),y.tag=3,y.payload={element:null};var S=m.value;return y.callback=function(){Cm||(Cm=!0,mb=S),Zy(h,m)},y}function W3(h,m,y){y=Mi(-1,y),y.tag=3;var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var k=m.value;y.payload=function(){return S(k)},y.callback=function(){Zy(h,m)}}var O=h.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(y.callback=function(){Zy(h,m),typeof S!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})}),y}function q3(h,m,y){var S=h.pingCache;if(S===null){S=h.pingCache=new _V;var k=new Set;S.set(m,k)}else k=S.get(m),k===void 0&&(k=new Set,S.set(m,k));k.has(y)||(k.add(y),h=KV.bind(null,h,m,y),m.then(h,h))}function K3(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function G3(h,m,y,S,k){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(m=Mi(-1,1),m.tag=2,Oa(y,m,1))),y.lanes|=1),h):(h.flags|=65536,h.lanes=k,h)}var DV=M.ReactCurrentOwner,vr=!1;function lr(h,m,y,S){m.child=h===null?m3(m,null,y,S):Sc(m,h.child,y,S)}function Y3(h,m,y,S,k){y=y.render;var O=m.ref;return Cc(m,k),S=Uy(h,m,y,S,O,k),y=Wy(),h!==null&&!vr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~k,Pi(h,m,k)):(Ft&&y&&Ty(m),m.flags|=1,lr(h,m,S,k),m.child)}function X3(h,m,y,S,k){if(h===null){var O=y.type;return typeof O=="function"&&!wb(O)&&O.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(m.tag=15,m.type=O,Q3(h,m,O,S,k)):(h=Am(y.type,null,S,m,m.mode,k),h.ref=m.ref,h.return=m,m.child=h)}if(O=h.child,(h.lanes&k)===0){var I=O.memoizedProps;if(y=y.compare,y=y!==null?y:td,y(I,S)&&h.ref===m.ref)return Pi(h,m,k)}return m.flags|=1,h=Fa(O,S),h.ref=m.ref,h.return=m,m.child=h}function Q3(h,m,y,S,k){if(h!==null){var O=h.memoizedProps;if(td(O,S)&&h.ref===m.ref)if(vr=!1,m.pendingProps=S=O,(h.lanes&k)!==0)(h.flags&131072)!==0&&(vr=!0);else return m.lanes=h.lanes,Pi(h,m,k)}return eb(h,m,y,S,k)}function J3(h,m,y){var S=m.pendingProps,k=S.children,O=h!==null?h.memoizedState:null;if(S.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Mc,Vr),Vr|=y;else{if((y&1073741824)===0)return h=O!==null?O.baseLanes|y:y,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,kt(Mc,Vr),Vr|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=O!==null?O.baseLanes:y,kt(Mc,Vr),Vr|=S}else O!==null?(S=O.baseLanes|y,m.memoizedState=null):S=y,kt(Mc,Vr),Vr|=S;return lr(h,m,k,y),m.child}function Z3(h,m){var y=m.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(m.flags|=512,m.flags|=2097152)}function eb(h,m,y,S,k){var O=br(y)?Lo:Wn.current;return O=bc(m,O),Cc(m,k),y=Uy(h,m,y,S,O,k),S=Wy(),h!==null&&!vr?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~k,Pi(h,m,k)):(Ft&&S&&Ty(m),m.flags|=1,lr(h,m,y,k),m.child)}function eC(h,m,y,S,k){if(br(y)){var O=!0;nm(m)}else O=!1;if(Cc(m,k),m.stateNode===null)vm(h,m),B3(m,y,S),Qy(m,y,S,k),S=!0;else if(h===null){var I=m.stateNode,W=m.memoizedProps;I.props=W;var Y=I.context,ie=y.contextType;typeof ie=="object"&&ie!==null?ie=ss(ie):(ie=br(y)?Lo:Wn.current,ie=bc(m,ie));var me=y.getDerivedStateFromProps,xe=typeof me=="function"||typeof I.getSnapshotBeforeUpdate=="function";xe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==S||Y!==ie)&&H3(m,I,S,ie),Aa=!1;var fe=m.memoizedState;I.state=fe,dm(m,S,I,k),Y=m.memoizedState,W!==S||fe!==Y||yr.current||Aa?(typeof me=="function"&&(Xy(m,y,me,S),Y=m.memoizedState),(W=Aa||$3(m,y,W,S,fe,Y,ie))?(xe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(m.flags|=4194308)):(typeof I.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=S,m.memoizedState=Y),I.props=S,I.state=Y,I.context=ie,S=W):(typeof I.componentDidMount=="function"&&(m.flags|=4194308),S=!1)}else{I=m.stateNode,g3(h,m),W=m.memoizedProps,ie=m.type===m.elementType?W:Es(m.type,W),I.props=ie,xe=m.pendingProps,fe=I.context,Y=y.contextType,typeof Y=="object"&&Y!==null?Y=ss(Y):(Y=br(y)?Lo:Wn.current,Y=bc(m,Y));var Ee=y.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==xe||fe!==Y)&&H3(m,I,S,Y),Aa=!1,fe=m.memoizedState,I.state=fe,dm(m,S,I,k);var Ae=m.memoizedState;W!==xe||fe!==Ae||yr.current||Aa?(typeof Ee=="function"&&(Xy(m,y,Ee,S),Ae=m.memoizedState),(ie=Aa||$3(m,y,ie,S,fe,Ae,Y)||!1)?(me||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(S,Ae,Y),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(S,Ae,Y)),typeof I.componentDidUpdate=="function"&&(m.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof I.componentDidUpdate!="function"||W===h.memoizedProps&&fe===h.memoizedState||(m.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===h.memoizedProps&&fe===h.memoizedState||(m.flags|=1024),m.memoizedProps=S,m.memoizedState=Ae),I.props=S,I.state=Ae,I.context=Y,S=ie):(typeof I.componentDidUpdate!="function"||W===h.memoizedProps&&fe===h.memoizedState||(m.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===h.memoizedProps&&fe===h.memoizedState||(m.flags|=1024),S=!1)}return tb(h,m,y,S,O,k)}function tb(h,m,y,S,k,O){Z3(h,m);var I=(m.flags&128)!==0;if(!S&&!I)return k&&i3(m,y,!1),Pi(h,m,O);S=m.stateNode,DV.current=m;var W=I&&typeof y.getDerivedStateFromError!="function"?null:S.render();return m.flags|=1,h!==null&&I?(m.child=Sc(m,h.child,null,O),m.child=Sc(m,null,W,O)):lr(h,m,W,O),m.memoizedState=S.state,k&&i3(m,y,!0),m.child}function tC(h){var m=h.stateNode;m.pendingContext?r3(h,m.pendingContext,m.pendingContext!==m.context):m.context&&r3(h,m.context,!1),Fy(h,m.containerInfo)}function nC(h,m,y,S,k){return Nc(),Ay(k),m.flags|=256,lr(h,m,y,S),m.child}var nb={dehydrated:null,treeContext:null,retryLane:0};function rb(h){return{baseLanes:h,cachePool:null,transitions:null}}function rC(h,m,y){var S=m.pendingProps,k=Ht.current,O=!1,I=(m.flags&128)!==0,W;if((W=I)||(W=h!==null&&h.memoizedState===null?!1:(k&2)!==0),W?(O=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(k|=1),kt(Ht,k&1),h===null)return Py(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(I=S.children,h=S.fallback,O?(S=m.mode,O=m.child,I={mode:"hidden",children:I},(S&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=I):O=Om(I,S,0,null),h=qo(h,S,y,null),O.return=m,h.return=m,O.sibling=h,m.child=O,m.child.memoizedState=rb(y),m.memoizedState=nb,h):sb(m,I));if(k=h.memoizedState,k!==null&&(W=k.dehydrated,W!==null))return IV(h,m,I,S,W,k,y);if(O){O=S.fallback,I=m.mode,k=h.child,W=k.sibling;var Y={mode:"hidden",children:S.children};return(I&1)===0&&m.child!==k?(S=m.child,S.childLanes=0,S.pendingProps=Y,m.deletions=null):(S=Fa(k,Y),S.subtreeFlags=k.subtreeFlags&14680064),W!==null?O=Fa(W,O):(O=qo(O,I,y,null),O.flags|=2),O.return=m,S.return=m,S.sibling=O,m.child=S,S=O,O=m.child,I=h.child.memoizedState,I=I===null?rb(y):{baseLanes:I.baseLanes|y,cachePool:null,transitions:I.transitions},O.memoizedState=I,O.childLanes=h.childLanes&~y,m.memoizedState=nb,S}return O=h.child,h=O.sibling,S=Fa(O,{mode:"visible",children:S.children}),(m.mode&1)===0&&(S.lanes=y),S.return=m,S.sibling=null,h!==null&&(y=m.deletions,y===null?(m.deletions=[h],m.flags|=16):y.push(h)),m.child=S,m.memoizedState=null,S}function sb(h,m){return m=Om({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function bm(h,m,y,S){return S!==null&&Ay(S),Sc(m,h.child,null,y),h=sb(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function IV(h,m,y,S,k,O,I){if(y)return m.flags&256?(m.flags&=-257,S=Jy(Error(n(422))),bm(h,m,I,S)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(O=S.fallback,k=m.mode,S=Om({mode:"visible",children:S.children},k,0,null),O=qo(O,k,I,null),O.flags|=2,S.return=m,O.return=m,S.sibling=O,m.child=S,(m.mode&1)!==0&&Sc(m,h.child,null,I),m.child.memoizedState=rb(I),m.memoizedState=nb,O);if((m.mode&1)===0)return bm(h,m,I,null);if(k.data==="$!"){if(S=k.nextSibling&&k.nextSibling.dataset,S)var W=S.dgst;return S=W,O=Error(n(419)),S=Jy(O,S,void 0),bm(h,m,I,S)}if(W=(I&h.childLanes)!==0,vr||W){if(S=jn,S!==null){switch(I&-I){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(S.suspendedLanes|I))!==0?0:k,k!==0&&k!==O.retryLane&&(O.retryLane=k,Ei(h,k),As(S,h,k,-1))}return vb(),S=Jy(Error(n(421))),bm(h,m,I,S)}return k.data==="$?"?(m.flags|=128,m.child=h.child,m=GV.bind(null,h),k._reactRetry=m,null):(h=O.treeContext,zr=Ta(k.nextSibling),Fr=m,Ft=!0,Ts=null,h!==null&&(ns[rs++]=ki,ns[rs++]=Ti,ns[rs++]=Ro,ki=h.id,Ti=h.overflow,Ro=m),m=sb(m,S.children),m.flags|=4096,m)}function sC(h,m,y){h.lanes|=m;var S=h.alternate;S!==null&&(S.lanes|=m),Iy(h.return,m,y)}function ib(h,m,y,S,k){var O=h.memoizedState;O===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:k}:(O.isBackwards=m,O.rendering=null,O.renderingStartTime=0,O.last=S,O.tail=y,O.tailMode=k)}function iC(h,m,y){var S=m.pendingProps,k=S.revealOrder,O=S.tail;if(lr(h,m,S.children,y),S=Ht.current,(S&2)!==0)S=S&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&sC(h,y,m);else if(h.tag===19)sC(h,y,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}S&=1}if(kt(Ht,S),(m.mode&1)===0)m.memoizedState=null;else switch(k){case"forwards":for(y=m.child,k=null;y!==null;)h=y.alternate,h!==null&&hm(h)===null&&(k=y),y=y.sibling;y=k,y===null?(k=m.child,m.child=null):(k=y.sibling,y.sibling=null),ib(m,!1,k,y,O);break;case"backwards":for(y=null,k=m.child,m.child=null;k!==null;){if(h=k.alternate,h!==null&&hm(h)===null){m.child=k;break}h=k.sibling,k.sibling=y,y=k,k=h}ib(m,!0,y,null,O);break;case"together":ib(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function vm(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function Pi(h,m,y){if(h!==null&&(m.dependencies=h.dependencies),Bo|=m.lanes,(y&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,y=Fa(h,h.pendingProps),m.child=y,y.return=m;h.sibling!==null;)h=h.sibling,y=y.sibling=Fa(h,h.pendingProps),y.return=m;y.sibling=null}return m.child}function LV(h,m,y){switch(m.tag){case 3:tC(m),Nc();break;case 5:b3(m);break;case 1:br(m.type)&&nm(m);break;case 4:Fy(m,m.stateNode.containerInfo);break;case 10:var S=m.type._context,k=m.memoizedProps.value;kt(lm,S._currentValue),S._currentValue=k;break;case 13:if(S=m.memoizedState,S!==null)return S.dehydrated!==null?(kt(Ht,Ht.current&1),m.flags|=128,null):(y&m.child.childLanes)!==0?rC(h,m,y):(kt(Ht,Ht.current&1),h=Pi(h,m,y),h!==null?h.sibling:null);kt(Ht,Ht.current&1);break;case 19:if(S=(y&m.childLanes)!==0,(h.flags&128)!==0){if(S)return iC(h,m,y);m.flags|=128}if(k=m.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),kt(Ht,Ht.current),S)break;return null;case 22:case 23:return m.lanes=0,J3(h,m,y)}return Pi(h,m,y)}var aC,ab,oC,lC;aC=function(h,m){for(var y=m.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},ab=function(){},oC=function(h,m,y,S){var k=h.memoizedProps;if(k!==S){h=m.stateNode,Vo(Gs.current);var O=null;switch(y){case"input":k=lt(h,k),S=lt(h,S),O=[];break;case"select":k=H({},k,{value:void 0}),S=H({},S,{value:void 0}),O=[];break;case"textarea":k=oe(h,k),S=oe(h,S),O=[];break;default:typeof k.onClick!="function"&&typeof S.onClick=="function"&&(h.onclick=Zf)}ac(y,S);var I;y=null;for(ie in k)if(!S.hasOwnProperty(ie)&&k.hasOwnProperty(ie)&&k[ie]!=null)if(ie==="style"){var W=k[ie];for(I in W)W.hasOwnProperty(I)&&(y||(y={}),y[I]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?O||(O=[]):(O=O||[]).push(ie,null));for(ie in S){var Y=S[ie];if(W=k?.[ie],S.hasOwnProperty(ie)&&Y!==W&&(Y!=null||W!=null))if(ie==="style")if(W){for(I in W)!W.hasOwnProperty(I)||Y&&Y.hasOwnProperty(I)||(y||(y={}),y[I]="");for(I in Y)Y.hasOwnProperty(I)&&W[I]!==Y[I]&&(y||(y={}),y[I]=Y[I])}else y||(O||(O=[]),O.push(ie,y)),y=Y;else ie==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(O=O||[]).push(ie,Y)):ie==="children"?typeof Y!="string"&&typeof Y!="number"||(O=O||[]).push(ie,""+Y):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(Y!=null&&ie==="onScroll"&&At("scroll",h),O||W===Y||(O=[])):(O=O||[]).push(ie,Y))}y&&(O=O||[]).push("style",y);var ie=O;(m.updateQueue=ie)&&(m.flags|=4)}},lC=function(h,m,y,S){y!==S&&(m.flags|=4)};function gd(h,m){if(!Ft)switch(h.tailMode){case"hidden":m=h.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function Kn(h){var m=h.alternate!==null&&h.alternate.child===h.child,y=0,S=0;if(m)for(var k=h.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags&14680064,S|=k.flags&14680064,k.return=h,k=k.sibling;else for(k=h.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags,S|=k.flags,k.return=h,k=k.sibling;return h.subtreeFlags|=S,h.childLanes=y,m}function RV(h,m,y){var S=m.pendingProps;switch(Ey(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(m),null;case 1:return br(m.type)&&tm(),Kn(m),null;case 3:return S=m.stateNode,kc(),Ot(yr),Ot(Wn),$y(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(h===null||h.child===null)&&(am(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ts!==null&&(xb(Ts),Ts=null))),ab(h,m),Kn(m),null;case 5:zy(m);var k=Vo(dd.current);if(y=m.type,h!==null&&m.stateNode!=null)oC(h,m,y,S,k),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!S){if(m.stateNode===null)throw Error(n(166));return Kn(m),null}if(h=Vo(Gs.current),am(m)){S=m.stateNode,y=m.type;var O=m.memoizedProps;switch(S[Ks]=m,S[ad]=O,h=(m.mode&1)!==0,y){case"dialog":At("cancel",S),At("close",S);break;case"iframe":case"object":case"embed":At("load",S);break;case"video":case"audio":for(k=0;k<rd.length;k++)At(rd[k],S);break;case"source":At("error",S);break;case"img":case"image":case"link":At("error",S),At("load",S);break;case"details":At("toggle",S);break;case"input":it(S,O),At("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!O.multiple},At("invalid",S);break;case"textarea":Te(S,O),At("invalid",S)}ac(y,O),k=null;for(var I in O)if(O.hasOwnProperty(I)){var W=O[I];I==="children"?typeof W=="string"?S.textContent!==W&&(O.suppressHydrationWarning!==!0&&Jf(S.textContent,W,h),k=["children",W]):typeof W=="number"&&S.textContent!==""+W&&(O.suppressHydrationWarning!==!0&&Jf(S.textContent,W,h),k=["children",""+W]):s.hasOwnProperty(I)&&W!=null&&I==="onScroll"&&At("scroll",S)}switch(y){case"input":nt(S),gr(S,O,!0);break;case"textarea":nt(S),Ne(S);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(S.onclick=Zf)}S=k,m.updateQueue=S,S!==null&&(m.flags|=4)}else{I=k.nodeType===9?k:k.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Le(y)),h==="http://www.w3.org/1999/xhtml"?y==="script"?(h=I.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof S.is=="string"?h=I.createElement(y,{is:S.is}):(h=I.createElement(y),y==="select"&&(I=h,S.multiple?I.multiple=!0:S.size&&(I.size=S.size))):h=I.createElementNS(h,y),h[Ks]=m,h[ad]=S,aC(h,m,!1,!1),m.stateNode=h;e:{switch(I=zu(y,S),y){case"dialog":At("cancel",h),At("close",h),k=S;break;case"iframe":case"object":case"embed":At("load",h),k=S;break;case"video":case"audio":for(k=0;k<rd.length;k++)At(rd[k],h);k=S;break;case"source":At("error",h),k=S;break;case"img":case"image":case"link":At("error",h),At("load",h),k=S;break;case"details":At("toggle",h),k=S;break;case"input":it(h,S),k=lt(h,S),At("invalid",h);break;case"option":k=S;break;case"select":h._wrapperState={wasMultiple:!!S.multiple},k=H({},S,{value:void 0}),At("invalid",h);break;case"textarea":Te(h,S),k=oe(h,S),At("invalid",h);break;default:k=S}ac(y,k),W=k;for(O in W)if(W.hasOwnProperty(O)){var Y=W[O];O==="style"?ic(h,Y):O==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&or(h,Y)):O==="children"?typeof Y=="string"?(y!=="textarea"||Y!=="")&&Ws(h,Y):typeof Y=="number"&&Ws(h,""+Y):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(s.hasOwnProperty(O)?Y!=null&&O==="onScroll"&&At("scroll",h):Y!=null&&C(h,O,Y,I))}switch(y){case"input":nt(h),gr(h,S,!1);break;case"textarea":nt(h),Ne(h);break;case"option":S.value!=null&&h.setAttribute("value",""+ue(S.value));break;case"select":h.multiple=!!S.multiple,O=S.value,O!=null?re(h,!!S.multiple,O,!1):S.defaultValue!=null&&re(h,!!S.multiple,S.defaultValue,!0);break;default:typeof k.onClick=="function"&&(h.onclick=Zf)}switch(y){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Kn(m),null;case 6:if(h&&m.stateNode!=null)lC(h,m,h.memoizedProps,S);else{if(typeof S!="string"&&m.stateNode===null)throw Error(n(166));if(y=Vo(dd.current),Vo(Gs.current),am(m)){if(S=m.stateNode,y=m.memoizedProps,S[Ks]=m,(O=S.nodeValue!==y)&&(h=Fr,h!==null))switch(h.tag){case 3:Jf(S.nodeValue,y,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Jf(S.nodeValue,y,(h.mode&1)!==0)}O&&(m.flags|=4)}else S=(y.nodeType===9?y:y.ownerDocument).createTextNode(S),S[Ks]=m,m.stateNode=S}return Kn(m),null;case 13:if(Ot(Ht),S=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Ft&&zr!==null&&(m.mode&1)!==0&&(m.flags&128)===0)d3(),Nc(),m.flags|=98560,O=!1;else if(O=am(m),S!==null&&S.dehydrated!==null){if(h===null){if(!O)throw Error(n(318));if(O=m.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Ks]=m}else Nc(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Kn(m),O=!1}else Ts!==null&&(xb(Ts),Ts=null),O=!0;if(!O)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=y,m):(S=S!==null,S!==(h!==null&&h.memoizedState!==null)&&S&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(Ht.current&1)!==0?vn===0&&(vn=3):vb())),m.updateQueue!==null&&(m.flags|=4),Kn(m),null);case 4:return kc(),ab(h,m),h===null&&sd(m.stateNode.containerInfo),Kn(m),null;case 10:return Dy(m.type._context),Kn(m),null;case 17:return br(m.type)&&tm(),Kn(m),null;case 19:if(Ot(Ht),O=m.memoizedState,O===null)return Kn(m),null;if(S=(m.flags&128)!==0,I=O.rendering,I===null)if(S)gd(O,!1);else{if(vn!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(I=hm(h),I!==null){for(m.flags|=128,gd(O,!1),S=I.updateQueue,S!==null&&(m.updateQueue=S,m.flags|=4),m.subtreeFlags=0,S=y,y=m.child;y!==null;)O=y,h=S,O.flags&=14680066,I=O.alternate,I===null?(O.childLanes=0,O.lanes=h,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=I.childLanes,O.lanes=I.lanes,O.child=I.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=I.memoizedProps,O.memoizedState=I.memoizedState,O.updateQueue=I.updateQueue,O.type=I.type,h=I.dependencies,O.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),y=y.sibling;return kt(Ht,Ht.current&1|2),m.child}h=h.sibling}O.tail!==null&&nn()>Pc&&(m.flags|=128,S=!0,gd(O,!1),m.lanes=4194304)}else{if(!S)if(h=hm(I),h!==null){if(m.flags|=128,S=!0,y=h.updateQueue,y!==null&&(m.updateQueue=y,m.flags|=4),gd(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!Ft)return Kn(m),null}else 2*nn()-O.renderingStartTime>Pc&&y!==1073741824&&(m.flags|=128,S=!0,gd(O,!1),m.lanes=4194304);O.isBackwards?(I.sibling=m.child,m.child=I):(y=O.last,y!==null?y.sibling=I:m.child=I,O.last=I)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=nn(),m.sibling=null,y=Ht.current,kt(Ht,S?y&1|2:y&1),m):(Kn(m),null);case 22:case 23:return bb(),S=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==S&&(m.flags|=8192),S&&(m.mode&1)!==0?(Vr&1073741824)!==0&&(Kn(m),m.subtreeFlags&6&&(m.flags|=8192)):Kn(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function FV(h,m){switch(Ey(m),m.tag){case 1:return br(m.type)&&tm(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return kc(),Ot(yr),Ot(Wn),$y(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return zy(m),null;case 13:if(Ot(Ht),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Nc()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Ot(Ht),null;case 4:return kc(),null;case 10:return Dy(m.type._context),null;case 22:case 23:return bb(),null;case 24:return null;default:return null}}var wm=!1,Gn=!1,zV=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Ec(h,m){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){Kt(h,m,S)}else y.current=null}function ob(h,m,y){try{y()}catch(S){Kt(h,m,S)}}var cC=!1;function VV(h,m){if(by=$f,h=$4(),dy(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var k=S.anchorOffset,O=S.focusNode;S=S.focusOffset;try{y.nodeType,O.nodeType}catch{y=null;break e}var I=0,W=-1,Y=-1,ie=0,me=0,xe=h,fe=null;t:for(;;){for(var Ee;xe!==y||k!==0&&xe.nodeType!==3||(W=I+k),xe!==O||S!==0&&xe.nodeType!==3||(Y=I+S),xe.nodeType===3&&(I+=xe.nodeValue.length),(Ee=xe.firstChild)!==null;)fe=xe,xe=Ee;for(;;){if(xe===h)break t;if(fe===y&&++ie===k&&(W=I),fe===O&&++me===S&&(Y=I),(Ee=xe.nextSibling)!==null)break;xe=fe,fe=xe.parentNode}xe=Ee}y=W===-1||Y===-1?null:{start:W,end:Y}}else y=null}y=y||{start:0,end:0}}else y=null;for(vy={focusedElem:h,selectionRange:y},$f=!1,Me=m;Me!==null;)if(m=Me,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,Me=h;else for(;Me!==null;){m=Me;try{var Ae=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Oe=Ae.memoizedProps,rn=Ae.memoizedState,te=m.stateNode,J=te.getSnapshotBeforeUpdate(m.elementType===m.type?Oe:Es(m.type,Oe),rn);te.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=m.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(we){Kt(m,m.return,we)}if(h=m.sibling,h!==null){h.return=m.return,Me=h;break}Me=m.return}return Ae=cC,cC=!1,Ae}function xd(h,m,y){var S=m.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var k=S=S.next;do{if((k.tag&h)===h){var O=k.destroy;k.destroy=void 0,O!==void 0&&ob(m,y,O)}k=k.next}while(k!==S)}}function Nm(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&h)===h){var S=y.create;y.destroy=S()}y=y.next}while(y!==m)}}function lb(h){var m=h.ref;if(m!==null){var y=h.stateNode;switch(h.tag){case 5:h=y;break;default:h=y}typeof m=="function"?m(h):m.current=h}}function uC(h){var m=h.alternate;m!==null&&(h.alternate=null,uC(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[Ks],delete m[ad],delete m[jy],delete m[NV],delete m[SV])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function dC(h){return h.tag===5||h.tag===3||h.tag===4}function hC(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||dC(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function cb(h,m,y){var S=h.tag;if(S===5||S===6)h=h.stateNode,m?y.nodeType===8?y.parentNode.insertBefore(h,m):y.insertBefore(h,m):(y.nodeType===8?(m=y.parentNode,m.insertBefore(h,y)):(m=y,m.appendChild(h)),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=Zf));else if(S!==4&&(h=h.child,h!==null))for(cb(h,m,y),h=h.sibling;h!==null;)cb(h,m,y),h=h.sibling}function ub(h,m,y){var S=h.tag;if(S===5||S===6)h=h.stateNode,m?y.insertBefore(h,m):y.appendChild(h);else if(S!==4&&(h=h.child,h!==null))for(ub(h,m,y),h=h.sibling;h!==null;)ub(h,m,y),h=h.sibling}var Dn=null,Ms=!1;function _a(h,m,y){for(y=y.child;y!==null;)fC(h,m,y),y=y.sibling}function fC(h,m,y){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(If,y)}catch{}switch(y.tag){case 5:Gn||Ec(y,m);case 6:var S=Dn,k=Ms;Dn=null,_a(h,m,y),Dn=S,Ms=k,Dn!==null&&(Ms?(h=Dn,y=y.stateNode,h.nodeType===8?h.parentNode.removeChild(y):h.removeChild(y)):Dn.removeChild(y.stateNode));break;case 18:Dn!==null&&(Ms?(h=Dn,y=y.stateNode,h.nodeType===8?Sy(h.parentNode,y):h.nodeType===1&&Sy(h,y),Yu(h)):Sy(Dn,y.stateNode));break;case 4:S=Dn,k=Ms,Dn=y.stateNode.containerInfo,Ms=!0,_a(h,m,y),Dn=S,Ms=k;break;case 0:case 11:case 14:case 15:if(!Gn&&(S=y.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){k=S=S.next;do{var O=k,I=O.destroy;O=O.tag,I!==void 0&&((O&2)!==0||(O&4)!==0)&&ob(y,m,I),k=k.next}while(k!==S)}_a(h,m,y);break;case 1:if(!Gn&&(Ec(y,m),S=y.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=y.memoizedProps,S.state=y.memoizedState,S.componentWillUnmount()}catch(W){Kt(y,m,W)}_a(h,m,y);break;case 21:_a(h,m,y);break;case 22:y.mode&1?(Gn=(S=Gn)||y.memoizedState!==null,_a(h,m,y),Gn=S):_a(h,m,y);break;default:_a(h,m,y)}}function mC(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new zV),m.forEach(function(S){var k=YV.bind(null,h,S);y.has(S)||(y.add(S),S.then(k,k))})}}function Ps(h,m){var y=m.deletions;if(y!==null)for(var S=0;S<y.length;S++){var k=y[S];try{var O=h,I=m,W=I;e:for(;W!==null;){switch(W.tag){case 5:Dn=W.stateNode,Ms=!1;break e;case 3:Dn=W.stateNode.containerInfo,Ms=!0;break e;case 4:Dn=W.stateNode.containerInfo,Ms=!0;break e}W=W.return}if(Dn===null)throw Error(n(160));fC(O,I,k),Dn=null,Ms=!1;var Y=k.alternate;Y!==null&&(Y.return=null),k.return=null}catch(ie){Kt(k,m,ie)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)pC(m,h),m=m.sibling}function pC(h,m){var y=h.alternate,S=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Ps(m,h),Xs(h),S&4){try{xd(3,h,h.return),Nm(3,h)}catch(Oe){Kt(h,h.return,Oe)}try{xd(5,h,h.return)}catch(Oe){Kt(h,h.return,Oe)}}break;case 1:Ps(m,h),Xs(h),S&512&&y!==null&&Ec(y,y.return);break;case 5:if(Ps(m,h),Xs(h),S&512&&y!==null&&Ec(y,y.return),h.flags&32){var k=h.stateNode;try{Ws(k,"")}catch(Oe){Kt(h,h.return,Oe)}}if(S&4&&(k=h.stateNode,k!=null)){var O=h.memoizedProps,I=y!==null?y.memoizedProps:O,W=h.type,Y=h.updateQueue;if(h.updateQueue=null,Y!==null)try{W==="input"&&O.type==="radio"&&O.name!=null&&gt(k,O),zu(W,I);var ie=zu(W,O);for(I=0;I<Y.length;I+=2){var me=Y[I],xe=Y[I+1];me==="style"?ic(k,xe):me==="dangerouslySetInnerHTML"?or(k,xe):me==="children"?Ws(k,xe):C(k,me,xe,ie)}switch(W){case"input":Rt(k,O);break;case"textarea":je(k,O);break;case"select":var fe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!O.multiple;var Ee=O.value;Ee!=null?re(k,!!O.multiple,Ee,!1):fe!==!!O.multiple&&(O.defaultValue!=null?re(k,!!O.multiple,O.defaultValue,!0):re(k,!!O.multiple,O.multiple?[]:"",!1))}k[ad]=O}catch(Oe){Kt(h,h.return,Oe)}}break;case 6:if(Ps(m,h),Xs(h),S&4){if(h.stateNode===null)throw Error(n(162));k=h.stateNode,O=h.memoizedProps;try{k.nodeValue=O}catch(Oe){Kt(h,h.return,Oe)}}break;case 3:if(Ps(m,h),Xs(h),S&4&&y!==null&&y.memoizedState.isDehydrated)try{Yu(m.containerInfo)}catch(Oe){Kt(h,h.return,Oe)}break;case 4:Ps(m,h),Xs(h);break;case 13:Ps(m,h),Xs(h),k=h.child,k.flags&8192&&(O=k.memoizedState!==null,k.stateNode.isHidden=O,!O||k.alternate!==null&&k.alternate.memoizedState!==null||(fb=nn())),S&4&&mC(h);break;case 22:if(me=y!==null&&y.memoizedState!==null,h.mode&1?(Gn=(ie=Gn)||me,Ps(m,h),Gn=ie):Ps(m,h),Xs(h),S&8192){if(ie=h.memoizedState!==null,(h.stateNode.isHidden=ie)&&!me&&(h.mode&1)!==0)for(Me=h,me=h.child;me!==null;){for(xe=Me=me;Me!==null;){switch(fe=Me,Ee=fe.child,fe.tag){case 0:case 11:case 14:case 15:xd(4,fe,fe.return);break;case 1:Ec(fe,fe.return);var Ae=fe.stateNode;if(typeof Ae.componentWillUnmount=="function"){S=fe,y=fe.return;try{m=S,Ae.props=m.memoizedProps,Ae.state=m.memoizedState,Ae.componentWillUnmount()}catch(Oe){Kt(S,y,Oe)}}break;case 5:Ec(fe,fe.return);break;case 22:if(fe.memoizedState!==null){yC(xe);continue}}Ee!==null?(Ee.return=fe,Me=Ee):yC(xe)}me=me.sibling}e:for(me=null,xe=h;;){if(xe.tag===5){if(me===null){me=xe;try{k=xe.stateNode,ie?(O=k.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(W=xe.stateNode,Y=xe.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=sc("display",I))}catch(Oe){Kt(h,h.return,Oe)}}}else if(xe.tag===6){if(me===null)try{xe.stateNode.nodeValue=ie?"":xe.memoizedProps}catch(Oe){Kt(h,h.return,Oe)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===h)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===h)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===h)break e;me===xe&&(me=null),xe=xe.return}me===xe&&(me=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Ps(m,h),Xs(h),S&4&&mC(h);break;case 21:break;default:Ps(m,h),Xs(h)}}function Xs(h){var m=h.flags;if(m&2){try{e:{for(var y=h.return;y!==null;){if(dC(y)){var S=y;break e}y=y.return}throw Error(n(160))}switch(S.tag){case 5:var k=S.stateNode;S.flags&32&&(Ws(k,""),S.flags&=-33);var O=hC(h);ub(h,O,k);break;case 3:case 4:var I=S.stateNode.containerInfo,W=hC(h);cb(h,W,I);break;default:throw Error(n(161))}}catch(Y){Kt(h,h.return,Y)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function $V(h,m,y){Me=h,gC(h)}function gC(h,m,y){for(var S=(h.mode&1)!==0;Me!==null;){var k=Me,O=k.child;if(k.tag===22&&S){var I=k.memoizedState!==null||wm;if(!I){var W=k.alternate,Y=W!==null&&W.memoizedState!==null||Gn;W=wm;var ie=Gn;if(wm=I,(Gn=Y)&&!ie)for(Me=k;Me!==null;)I=Me,Y=I.child,I.tag===22&&I.memoizedState!==null?bC(k):Y!==null?(Y.return=I,Me=Y):bC(k);for(;O!==null;)Me=O,gC(O),O=O.sibling;Me=k,wm=W,Gn=ie}xC(h)}else(k.subtreeFlags&8772)!==0&&O!==null?(O.return=k,Me=O):xC(h)}}function xC(h){for(;Me!==null;){var m=Me;if((m.flags&8772)!==0){var y=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Gn||Nm(5,m);break;case 1:var S=m.stateNode;if(m.flags&4&&!Gn)if(y===null)S.componentDidMount();else{var k=m.elementType===m.type?y.memoizedProps:Es(m.type,y.memoizedProps);S.componentDidUpdate(k,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var O=m.updateQueue;O!==null&&y3(m,O,S);break;case 3:var I=m.updateQueue;if(I!==null){if(y=null,m.child!==null)switch(m.child.tag){case 5:y=m.child.stateNode;break;case 1:y=m.child.stateNode}y3(m,I,y)}break;case 5:var W=m.stateNode;if(y===null&&m.flags&4){y=W;var Y=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&y.focus();break;case"img":Y.src&&(y.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ie=m.alternate;if(ie!==null){var me=ie.memoizedState;if(me!==null){var xe=me.dehydrated;xe!==null&&Yu(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gn||m.flags&512&&lb(m)}catch(fe){Kt(m,m.return,fe)}}if(m===h){Me=null;break}if(y=m.sibling,y!==null){y.return=m.return,Me=y;break}Me=m.return}}function yC(h){for(;Me!==null;){var m=Me;if(m===h){Me=null;break}var y=m.sibling;if(y!==null){y.return=m.return,Me=y;break}Me=m.return}}function bC(h){for(;Me!==null;){var m=Me;try{switch(m.tag){case 0:case 11:case 15:var y=m.return;try{Nm(4,m)}catch(Y){Kt(m,y,Y)}break;case 1:var S=m.stateNode;if(typeof S.componentDidMount=="function"){var k=m.return;try{S.componentDidMount()}catch(Y){Kt(m,k,Y)}}var O=m.return;try{lb(m)}catch(Y){Kt(m,O,Y)}break;case 5:var I=m.return;try{lb(m)}catch(Y){Kt(m,I,Y)}}}catch(Y){Kt(m,m.return,Y)}if(m===h){Me=null;break}var W=m.sibling;if(W!==null){W.return=m.return,Me=W;break}Me=m.return}}var BV=Math.ceil,Sm=M.ReactCurrentDispatcher,db=M.ReactCurrentOwner,as=M.ReactCurrentBatchConfig,ut=0,jn=null,un=null,In=0,Vr=0,Mc=Ea(0),vn=0,yd=null,Bo=0,jm=0,hb=0,bd=null,wr=null,fb=0,Pc=1/0,Ai=null,Cm=!1,mb=null,Da=null,km=!1,Ia=null,Tm=0,vd=0,pb=null,Em=-1,Mm=0;function cr(){return(ut&6)!==0?nn():Em!==-1?Em:Em=nn()}function La(h){return(h.mode&1)===0?1:(ut&2)!==0&&In!==0?In&-In:CV.transition!==null?(Mm===0&&(Mm=h4()),Mm):(h=vt,h!==0||(h=window.event,h=h===void 0?16:w4(h.type)),h)}function As(h,m,y,S){if(50<vd)throw vd=0,pb=null,Error(n(185));Uu(h,y,S),((ut&2)===0||h!==jn)&&(h===jn&&((ut&2)===0&&(jm|=y),vn===4&&Ra(h,In)),Nr(h,S),y===1&&ut===0&&(m.mode&1)===0&&(Pc=nn()+500,rm&&Pa()))}function Nr(h,m){var y=h.callbackNode;Cz(h,m);var S=Ff(h,h===jn?In:0);if(S===0)y!==null&&c4(y),h.callbackNode=null,h.callbackPriority=0;else if(m=S&-S,h.callbackPriority!==m){if(y!=null&&c4(y),m===1)h.tag===0?jV(wC.bind(null,h)):a3(wC.bind(null,h)),vV(function(){(ut&6)===0&&Pa()}),y=null;else{switch(f4(S)){case 1:y=Gx;break;case 4:y=u4;break;case 16:y=Df;break;case 536870912:y=d4;break;default:y=Df}y=MC(y,vC.bind(null,h))}h.callbackPriority=m,h.callbackNode=y}}function vC(h,m){if(Em=-1,Mm=0,(ut&6)!==0)throw Error(n(327));var y=h.callbackNode;if(Ac()&&h.callbackNode!==y)return null;var S=Ff(h,h===jn?In:0);if(S===0)return null;if((S&30)!==0||(S&h.expiredLanes)!==0||m)m=Pm(h,S);else{m=S;var k=ut;ut|=2;var O=SC();(jn!==h||In!==m)&&(Ai=null,Pc=nn()+500,Uo(h,m));do try{WV();break}catch(W){NC(h,W)}while(!0);_y(),Sm.current=O,ut=k,un!==null?m=0:(jn=null,In=0,m=vn)}if(m!==0){if(m===2&&(k=Yx(h),k!==0&&(S=k,m=gb(h,k))),m===1)throw y=yd,Uo(h,0),Ra(h,S),Nr(h,nn()),y;if(m===6)Ra(h,S);else{if(k=h.current.alternate,(S&30)===0&&!HV(k)&&(m=Pm(h,S),m===2&&(O=Yx(h),O!==0&&(S=O,m=gb(h,O))),m===1))throw y=yd,Uo(h,0),Ra(h,S),Nr(h,nn()),y;switch(h.finishedWork=k,h.finishedLanes=S,m){case 0:case 1:throw Error(n(345));case 2:Wo(h,wr,Ai);break;case 3:if(Ra(h,S),(S&130023424)===S&&(m=fb+500-nn(),10<m)){if(Ff(h,0)!==0)break;if(k=h.suspendedLanes,(k&S)!==S){cr(),h.pingedLanes|=h.suspendedLanes&k;break}h.timeoutHandle=Ny(Wo.bind(null,h,wr,Ai),m);break}Wo(h,wr,Ai);break;case 4:if(Ra(h,S),(S&4194240)===S)break;for(m=h.eventTimes,k=-1;0<S;){var I=31-Cs(S);O=1<<I,I=m[I],I>k&&(k=I),S&=~O}if(S=k,S=nn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*BV(S/1960))-S,10<S){h.timeoutHandle=Ny(Wo.bind(null,h,wr,Ai),S);break}Wo(h,wr,Ai);break;case 5:Wo(h,wr,Ai);break;default:throw Error(n(329))}}}return Nr(h,nn()),h.callbackNode===y?vC.bind(null,h):null}function gb(h,m){var y=bd;return h.current.memoizedState.isDehydrated&&(Uo(h,m).flags|=256),h=Pm(h,m),h!==2&&(m=wr,wr=y,m!==null&&xb(m)),h}function xb(h){wr===null?wr=h:wr.push.apply(wr,h)}function HV(h){for(var m=h;;){if(m.flags&16384){var y=m.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var k=y[S],O=k.getSnapshot;k=k.value;try{if(!ks(O(),k))return!1}catch{return!1}}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ra(h,m){for(m&=~hb,m&=~jm,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var y=31-Cs(m),S=1<<y;h[y]=-1,m&=~S}}function wC(h){if((ut&6)!==0)throw Error(n(327));Ac();var m=Ff(h,0);if((m&1)===0)return Nr(h,nn()),null;var y=Pm(h,m);if(h.tag!==0&&y===2){var S=Yx(h);S!==0&&(m=S,y=gb(h,S))}if(y===1)throw y=yd,Uo(h,0),Ra(h,m),Nr(h,nn()),y;if(y===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Wo(h,wr,Ai),Nr(h,nn()),null}function yb(h,m){var y=ut;ut|=1;try{return h(m)}finally{ut=y,ut===0&&(Pc=nn()+500,rm&&Pa())}}function Ho(h){Ia!==null&&Ia.tag===0&&(ut&6)===0&&Ac();var m=ut;ut|=1;var y=as.transition,S=vt;try{if(as.transition=null,vt=1,h)return h()}finally{vt=S,as.transition=y,ut=m,(ut&6)===0&&Pa()}}function bb(){Vr=Mc.current,Ot(Mc)}function Uo(h,m){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==-1&&(h.timeoutHandle=-1,bV(y)),un!==null)for(y=un.return;y!==null;){var S=y;switch(Ey(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&tm();break;case 3:kc(),Ot(yr),Ot(Wn),$y();break;case 5:zy(S);break;case 4:kc();break;case 13:Ot(Ht);break;case 19:Ot(Ht);break;case 10:Dy(S.type._context);break;case 22:case 23:bb()}y=y.return}if(jn=h,un=h=Fa(h.current,null),In=Vr=m,vn=0,yd=null,hb=jm=Bo=0,wr=bd=null,zo!==null){for(m=0;m<zo.length;m++)if(y=zo[m],S=y.interleaved,S!==null){y.interleaved=null;var k=S.next,O=y.pending;if(O!==null){var I=O.next;O.next=k,S.next=I}y.pending=S}zo=null}return h}function NC(h,m){do{var y=un;try{if(_y(),fm.current=xm,mm){for(var S=Ut.memoizedState;S!==null;){var k=S.queue;k!==null&&(k.pending=null),S=S.next}mm=!1}if($o=0,Sn=bn=Ut=null,hd=!1,fd=0,db.current=null,y===null||y.return===null){vn=1,yd=m,un=null;break}e:{var O=h,I=y.return,W=y,Y=m;if(m=In,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ie=Y,me=W,xe=me.tag;if((me.mode&1)===0&&(xe===0||xe===11||xe===15)){var fe=me.alternate;fe?(me.updateQueue=fe.updateQueue,me.memoizedState=fe.memoizedState,me.lanes=fe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=K3(I);if(Ee!==null){Ee.flags&=-257,G3(Ee,I,W,O,m),Ee.mode&1&&q3(O,ie,m),m=Ee,Y=ie;var Ae=m.updateQueue;if(Ae===null){var Oe=new Set;Oe.add(Y),m.updateQueue=Oe}else Ae.add(Y);break e}else{if((m&1)===0){q3(O,ie,m),vb();break e}Y=Error(n(426))}}else if(Ft&&W.mode&1){var rn=K3(I);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),G3(rn,I,W,O,m),Ay(Tc(Y,W));break e}}O=Y=Tc(Y,W),vn!==4&&(vn=2),bd===null?bd=[O]:bd.push(O),O=I;do{switch(O.tag){case 3:O.flags|=65536,m&=-m,O.lanes|=m;var te=U3(O,Y,m);x3(O,te);break e;case 1:W=Y;var J=O.type,se=O.stateNode;if((O.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Da===null||!Da.has(se)))){O.flags|=65536,m&=-m,O.lanes|=m;var we=W3(O,W,m);x3(O,we);break e}}O=O.return}while(O!==null)}CC(y)}catch(Ie){m=Ie,un===y&&y!==null&&(un=y=y.return);continue}break}while(!0)}function SC(){var h=Sm.current;return Sm.current=xm,h===null?xm:h}function vb(){(vn===0||vn===3||vn===2)&&(vn=4),jn===null||(Bo&268435455)===0&&(jm&268435455)===0||Ra(jn,In)}function Pm(h,m){var y=ut;ut|=2;var S=SC();(jn!==h||In!==m)&&(Ai=null,Uo(h,m));do try{UV();break}catch(k){NC(h,k)}while(!0);if(_y(),ut=y,Sm.current=S,un!==null)throw Error(n(261));return jn=null,In=0,vn}function UV(){for(;un!==null;)jC(un)}function WV(){for(;un!==null&&!gz();)jC(un)}function jC(h){var m=EC(h.alternate,h,Vr);h.memoizedProps=h.pendingProps,m===null?CC(h):un=m,db.current=null}function CC(h){var m=h;do{var y=m.alternate;if(h=m.return,(m.flags&32768)===0){if(y=RV(y,m,Vr),y!==null){un=y;return}}else{if(y=FV(y,m),y!==null){y.flags&=32767,un=y;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{vn=6,un=null;return}}if(m=m.sibling,m!==null){un=m;return}un=m=h}while(m!==null);vn===0&&(vn=5)}function Wo(h,m,y){var S=vt,k=as.transition;try{as.transition=null,vt=1,qV(h,m,y,S)}finally{as.transition=k,vt=S}return null}function qV(h,m,y,S){do Ac();while(Ia!==null);if((ut&6)!==0)throw Error(n(327));y=h.finishedWork;var k=h.finishedLanes;if(y===null)return null;if(h.finishedWork=null,h.finishedLanes=0,y===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var O=y.lanes|y.childLanes;if(kz(h,O),h===jn&&(un=jn=null,In=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||km||(km=!0,MC(Df,function(){return Ac(),null})),O=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||O){O=as.transition,as.transition=null;var I=vt;vt=1;var W=ut;ut|=4,db.current=null,VV(h,y),pC(y,h),hV(vy),$f=!!by,vy=by=null,h.current=y,$V(y),xz(),ut=W,vt=I,as.transition=O}else h.current=y;if(km&&(km=!1,Ia=h,Tm=k),O=h.pendingLanes,O===0&&(Da=null),vz(y.stateNode),Nr(h,nn()),m!==null)for(S=h.onRecoverableError,y=0;y<m.length;y++)k=m[y],S(k.value,{componentStack:k.stack,digest:k.digest});if(Cm)throw Cm=!1,h=mb,mb=null,h;return(Tm&1)!==0&&h.tag!==0&&Ac(),O=h.pendingLanes,(O&1)!==0?h===pb?vd++:(vd=0,pb=h):vd=0,Pa(),null}function Ac(){if(Ia!==null){var h=f4(Tm),m=as.transition,y=vt;try{if(as.transition=null,vt=16>h?16:h,Ia===null)var S=!1;else{if(h=Ia,Ia=null,Tm=0,(ut&6)!==0)throw Error(n(331));var k=ut;for(ut|=4,Me=h.current;Me!==null;){var O=Me,I=O.child;if((Me.flags&16)!==0){var W=O.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var ie=W[Y];for(Me=ie;Me!==null;){var me=Me;switch(me.tag){case 0:case 11:case 15:xd(8,me,O)}var xe=me.child;if(xe!==null)xe.return=me,Me=xe;else for(;Me!==null;){me=Me;var fe=me.sibling,Ee=me.return;if(uC(me),me===ie){Me=null;break}if(fe!==null){fe.return=Ee,Me=fe;break}Me=Ee}}}var Ae=O.alternate;if(Ae!==null){var Oe=Ae.child;if(Oe!==null){Ae.child=null;do{var rn=Oe.sibling;Oe.sibling=null,Oe=rn}while(Oe!==null)}}Me=O}}if((O.subtreeFlags&2064)!==0&&I!==null)I.return=O,Me=I;else e:for(;Me!==null;){if(O=Me,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:xd(9,O,O.return)}var te=O.sibling;if(te!==null){te.return=O.return,Me=te;break e}Me=O.return}}var J=h.current;for(Me=J;Me!==null;){I=Me;var se=I.child;if((I.subtreeFlags&2064)!==0&&se!==null)se.return=I,Me=se;else e:for(I=J;Me!==null;){if(W=Me,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:Nm(9,W)}}catch(Ie){Kt(W,W.return,Ie)}if(W===I){Me=null;break e}var we=W.sibling;if(we!==null){we.return=W.return,Me=we;break e}Me=W.return}}if(ut=k,Pa(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(If,h)}catch{}S=!0}return S}finally{vt=y,as.transition=m}}return!1}function kC(h,m,y){m=Tc(y,m),m=U3(h,m,1),h=Oa(h,m,1),m=cr(),h!==null&&(Uu(h,1,m),Nr(h,m))}function Kt(h,m,y){if(h.tag===3)kC(h,h,y);else for(;m!==null;){if(m.tag===3){kC(m,h,y);break}else if(m.tag===1){var S=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Da===null||!Da.has(S))){h=Tc(y,h),h=W3(m,h,1),m=Oa(m,h,1),h=cr(),m!==null&&(Uu(m,1,h),Nr(m,h));break}}m=m.return}}function KV(h,m,y){var S=h.pingCache;S!==null&&S.delete(m),m=cr(),h.pingedLanes|=h.suspendedLanes&y,jn===h&&(In&y)===y&&(vn===4||vn===3&&(In&130023424)===In&&500>nn()-fb?Uo(h,0):hb|=y),Nr(h,m)}function TC(h,m){m===0&&((h.mode&1)===0?m=1:(m=Rf,Rf<<=1,(Rf&130023424)===0&&(Rf=4194304)));var y=cr();h=Ei(h,m),h!==null&&(Uu(h,m,y),Nr(h,y))}function GV(h){var m=h.memoizedState,y=0;m!==null&&(y=m.retryLane),TC(h,y)}function YV(h,m){var y=0;switch(h.tag){case 13:var S=h.stateNode,k=h.memoizedState;k!==null&&(y=k.retryLane);break;case 19:S=h.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(m),TC(h,y)}var EC;EC=function(h,m,y){if(h!==null)if(h.memoizedProps!==m.pendingProps||yr.current)vr=!0;else{if((h.lanes&y)===0&&(m.flags&128)===0)return vr=!1,LV(h,m,y);vr=(h.flags&131072)!==0}else vr=!1,Ft&&(m.flags&1048576)!==0&&o3(m,im,m.index);switch(m.lanes=0,m.tag){case 2:var S=m.type;vm(h,m),h=m.pendingProps;var k=bc(m,Wn.current);Cc(m,y),k=Uy(null,m,S,h,k,y);var O=Wy();return m.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,br(S)?(O=!0,nm(m)):O=!1,m.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Ry(m),k.updater=ym,m.stateNode=k,k._reactInternals=m,Qy(m,S,h,y),m=tb(null,m,S,!0,O,y)):(m.tag=0,Ft&&O&&Ty(m),lr(null,m,k,y),m=m.child),m;case 16:S=m.elementType;e:{switch(vm(h,m),h=m.pendingProps,k=S._init,S=k(S._payload),m.type=S,k=m.tag=QV(S),h=Es(S,h),k){case 0:m=eb(null,m,S,h,y);break e;case 1:m=eC(null,m,S,h,y);break e;case 11:m=Y3(null,m,S,h,y);break e;case 14:m=X3(null,m,S,Es(S.type,h),y);break e}throw Error(n(306,S,""))}return m;case 0:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Es(S,k),eb(h,m,S,k,y);case 1:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Es(S,k),eC(h,m,S,k,y);case 3:e:{if(tC(m),h===null)throw Error(n(387));S=m.pendingProps,O=m.memoizedState,k=O.element,g3(h,m),dm(m,S,null,y);var I=m.memoizedState;if(S=I.element,O.isDehydrated)if(O={element:S,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},m.updateQueue.baseState=O,m.memoizedState=O,m.flags&256){k=Tc(Error(n(423)),m),m=nC(h,m,S,y,k);break e}else if(S!==k){k=Tc(Error(n(424)),m),m=nC(h,m,S,y,k);break e}else for(zr=Ta(m.stateNode.containerInfo.firstChild),Fr=m,Ft=!0,Ts=null,y=m3(m,null,S,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Nc(),S===k){m=Pi(h,m,y);break e}lr(h,m,S,y)}m=m.child}return m;case 5:return b3(m),h===null&&Py(m),S=m.type,k=m.pendingProps,O=h!==null?h.memoizedProps:null,I=k.children,wy(S,k)?I=null:O!==null&&wy(S,O)&&(m.flags|=32),Z3(h,m),lr(h,m,I,y),m.child;case 6:return h===null&&Py(m),null;case 13:return rC(h,m,y);case 4:return Fy(m,m.stateNode.containerInfo),S=m.pendingProps,h===null?m.child=Sc(m,null,S,y):lr(h,m,S,y),m.child;case 11:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Es(S,k),Y3(h,m,S,k,y);case 7:return lr(h,m,m.pendingProps,y),m.child;case 8:return lr(h,m,m.pendingProps.children,y),m.child;case 12:return lr(h,m,m.pendingProps.children,y),m.child;case 10:e:{if(S=m.type._context,k=m.pendingProps,O=m.memoizedProps,I=k.value,kt(lm,S._currentValue),S._currentValue=I,O!==null)if(ks(O.value,I)){if(O.children===k.children&&!yr.current){m=Pi(h,m,y);break e}}else for(O=m.child,O!==null&&(O.return=m);O!==null;){var W=O.dependencies;if(W!==null){I=O.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===S){if(O.tag===1){Y=Mi(-1,y&-y),Y.tag=2;var ie=O.updateQueue;if(ie!==null){ie=ie.shared;var me=ie.pending;me===null?Y.next=Y:(Y.next=me.next,me.next=Y),ie.pending=Y}}O.lanes|=y,Y=O.alternate,Y!==null&&(Y.lanes|=y),Iy(O.return,y,m),W.lanes|=y;break}Y=Y.next}}else if(O.tag===10)I=O.type===m.type?null:O.child;else if(O.tag===18){if(I=O.return,I===null)throw Error(n(341));I.lanes|=y,W=I.alternate,W!==null&&(W.lanes|=y),Iy(I,y,m),I=O.sibling}else I=O.child;if(I!==null)I.return=O;else for(I=O;I!==null;){if(I===m){I=null;break}if(O=I.sibling,O!==null){O.return=I.return,I=O;break}I=I.return}O=I}lr(h,m,k.children,y),m=m.child}return m;case 9:return k=m.type,S=m.pendingProps.children,Cc(m,y),k=ss(k),S=S(k),m.flags|=1,lr(h,m,S,y),m.child;case 14:return S=m.type,k=Es(S,m.pendingProps),k=Es(S.type,k),X3(h,m,S,k,y);case 15:return Q3(h,m,m.type,m.pendingProps,y);case 17:return S=m.type,k=m.pendingProps,k=m.elementType===S?k:Es(S,k),vm(h,m),m.tag=1,br(S)?(h=!0,nm(m)):h=!1,Cc(m,y),B3(m,S,k),Qy(m,S,k,y),tb(null,m,S,!0,h,y);case 19:return iC(h,m,y);case 22:return J3(h,m,y)}throw Error(n(156,m.tag))};function MC(h,m){return l4(h,m)}function XV(h,m,y,S){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(h,m,y,S){return new XV(h,m,y,S)}function wb(h){return h=h.prototype,!(!h||!h.isReactComponent)}function QV(h){if(typeof h=="function")return wb(h)?1:0;if(h!=null){if(h=h.$$typeof,h===R)return 11;if(h===q)return 14}return 2}function Fa(h,m){var y=h.alternate;return y===null?(y=ls(h.tag,m,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=m,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&14680064,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,m=h.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function Am(h,m,y,S,k,O){var I=2;if(S=h,typeof h=="function")wb(h)&&(I=1);else if(typeof h=="string")I=5;else e:switch(h){case P:return qo(y.children,k,O,m);case E:I=8,k|=8;break;case _:return h=ls(12,y,m,k|2),h.elementType=_,h.lanes=O,h;case G:return h=ls(13,y,m,k),h.elementType=G,h.lanes=O,h;case U:return h=ls(19,y,m,k),h.elementType=U,h.lanes=O,h;case B:return Om(y,k,O,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case L:I=10;break e;case D:I=9;break e;case R:I=11;break e;case q:I=14;break e;case F:I=16,S=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return m=ls(I,y,m,k),m.elementType=h,m.type=S,m.lanes=O,m}function qo(h,m,y,S){return h=ls(7,h,S,m),h.lanes=y,h}function Om(h,m,y,S){return h=ls(22,h,S,m),h.elementType=B,h.lanes=y,h.stateNode={isHidden:!1},h}function Nb(h,m,y){return h=ls(6,h,null,m),h.lanes=y,h}function Sb(h,m,y){return m=ls(4,h.children!==null?h.children:[],h.key,m),m.lanes=y,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function JV(h,m,y,S,k){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xx(0),this.expirationTimes=Xx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xx(0),this.identifierPrefix=S,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function jb(h,m,y,S,k,O,I,W,Y){return h=new JV(h,m,y,W,Y),m===1?(m=1,O===!0&&(m|=8)):m=0,O=ls(3,null,null,m),h.current=O,O.stateNode=h,O.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(O),h}function ZV(h,m,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:S==null?null:""+S,children:h,containerInfo:m,implementation:y}}function PC(h){if(!h)return Ma;h=h._reactInternals;e:{if(Do(h)!==h||h.tag!==1)throw Error(n(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(br(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(h.tag===1){var y=h.type;if(br(y))return s3(h,y,m)}return m}function AC(h,m,y,S,k,O,I,W,Y){return h=jb(y,S,!0,h,k,O,I,W,Y),h.context=PC(null),y=h.current,S=cr(),k=La(y),O=Mi(S,k),O.callback=m??null,Oa(y,O,k),h.current.lanes=k,Uu(h,k,S),Nr(h,S),h}function _m(h,m,y,S){var k=m.current,O=cr(),I=La(k);return y=PC(y),m.context===null?m.context=y:m.pendingContext=y,m=Mi(O,I),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),h=Oa(k,m,I),h!==null&&(As(h,k,I,O),um(h,k,I)),I}function Dm(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function OC(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<m?y:m}}function Cb(h,m){OC(h,m),(h=h.alternate)&&OC(h,m)}function e9(){return null}var _C=typeof reportError=="function"?reportError:function(h){console.error(h)};function kb(h){this._internalRoot=h}Im.prototype.render=kb.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));_m(h,m,null,null)},Im.prototype.unmount=kb.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;Ho(function(){_m(null,h,null,null)}),m[ji]=null}};function Im(h){this._internalRoot=h}Im.prototype.unstable_scheduleHydration=function(h){if(h){var m=g4();h={blockedOn:null,target:h,priority:m};for(var y=0;y<ja.length&&m!==0&&m<ja[y].priority;y++);ja.splice(y,0,h),y===0&&b4(h)}};function Tb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Lm(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function DC(){}function t9(h,m,y,S,k){if(k){if(typeof S=="function"){var O=S;S=function(){var ie=Dm(I);O.call(ie)}}var I=AC(m,S,h,0,null,!1,!1,"",DC);return h._reactRootContainer=I,h[ji]=I.current,sd(h.nodeType===8?h.parentNode:h),Ho(),I}for(;k=h.lastChild;)h.removeChild(k);if(typeof S=="function"){var W=S;S=function(){var ie=Dm(Y);W.call(ie)}}var Y=jb(h,0,!1,null,null,!1,!1,"",DC);return h._reactRootContainer=Y,h[ji]=Y.current,sd(h.nodeType===8?h.parentNode:h),Ho(function(){_m(m,Y,y,S)}),Y}function Rm(h,m,y,S,k){var O=y._reactRootContainer;if(O){var I=O;if(typeof k=="function"){var W=k;k=function(){var Y=Dm(I);W.call(Y)}}_m(m,I,h,k)}else I=t9(y,m,h,k,S);return Dm(I)}m4=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var y=Hu(m.pendingLanes);y!==0&&(Qx(m,y|1),Nr(m,nn()),(ut&6)===0&&(Pc=nn()+500,Pa()))}break;case 13:Ho(function(){var S=Ei(h,1);if(S!==null){var k=cr();As(S,h,1,k)}}),Cb(h,1)}},Jx=function(h){if(h.tag===13){var m=Ei(h,134217728);if(m!==null){var y=cr();As(m,h,134217728,y)}Cb(h,134217728)}},p4=function(h){if(h.tag===13){var m=La(h),y=Ei(h,m);if(y!==null){var S=cr();As(y,h,m,S)}Cb(h,m)}},g4=function(){return vt},x4=function(h,m){var y=vt;try{return vt=h,m()}finally{vt=y}},Ux=function(h,m,y){switch(m){case"input":if(Rt(h,y),m=y.name,y.type==="radio"&&m!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<y.length;m++){var S=y[m];if(S!==h&&S.form===h.form){var k=em(S);if(!k)throw Error(n(90));Ke(S),Rt(S,k)}}}break;case"textarea":je(h,y);break;case"select":m=y.value,m!=null&&re(h,!!y.multiple,m,!1)}},t4=yb,n4=Ho;var n9={usingClientEntryPoint:!1,Events:[od,xc,em,Zj,e4,yb]},wd={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r9={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=a4(h),h===null?null:h.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||e9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{If=Fm.inject(r9),qs=Fm}catch{}}return Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n9,Sr.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tb(m))throw Error(n(200));return ZV(h,m,null,y)},Sr.createRoot=function(h,m){if(!Tb(h))throw Error(n(299));var y=!1,S="",k=_C;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onRecoverableError!==void 0&&(k=m.onRecoverableError)),m=jb(h,1,!1,null,null,y,!1,S,k),h[ji]=m.current,sd(h.nodeType===8?h.parentNode:h),new kb(m)},Sr.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=a4(m),h=h===null?null:h.stateNode,h},Sr.flushSync=function(h){return Ho(h)},Sr.hydrate=function(h,m,y){if(!Lm(m))throw Error(n(200));return Rm(null,h,m,!0,y)},Sr.hydrateRoot=function(h,m,y){if(!Tb(h))throw Error(n(405));var S=y!=null&&y.hydratedSources||null,k=!1,O="",I=_C;if(y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onRecoverableError!==void 0&&(I=y.onRecoverableError)),m=AC(m,null,h,1,y??null,k,!1,O,I),h[ji]=m.current,sd(h),S)for(h=0;h<S.length;h++)y=S[h],k=y._getVersion,k=k(y._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[y,k]:m.mutableSourceEagerHydrationData.push(y,k);return new Im(m)},Sr.render=function(h,m,y){if(!Lm(m))throw Error(n(200));return Rm(null,h,m,!1,y)},Sr.unmountComponentAtNode=function(h){if(!Lm(h))throw Error(n(40));return h._reactRootContainer?(Ho(function(){Rm(null,null,h,!1,function(){h._reactRootContainer=null,h[ji]=null})}),!0):!1},Sr.unstable_batchedUpdates=yb,Sr.unstable_renderSubtreeIntoContainer=function(h,m,y,S){if(!Lm(y))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return Rm(h,m,y,!1,S)},Sr.version="18.3.1-next-f1338f8080-20240426",Sr}var HC;function oA(){if(HC)return Pb.exports;HC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pb.exports=d9(),Pb.exports}var UC;function h9(){if(UC)return zm;UC=1;var t=oA();return zm.createRoot=t.createRoot,zm.hydrateRoot=t.hydrateRoot,zm}var f9=h9();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WC="popstate";function m9(t={}){function e(s,i){let{pathname:a="/",search:l="",hash:c=""}=Xl(s.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),M1("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Nh(i))}function r(s,i){Xr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return g9(e,n,r,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p9(){return Math.random().toString(36).substring(2,10)}function qC(t,e){return{usr:t.state,key:t.key,idx:e}}function M1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xl(e):e,state:n,key:e&&e.key||r||p9()}}function Nh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function g9(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let b=d(),w=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:w})}function p(b,w){l="PUSH";let N=M1(v.location,b,w);n&&n(N,b),u=d()+1;let C=qC(N,u),M=v.createHref(N);try{a.pushState(C,"",M)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(M)}i&&c&&c({action:l,location:v.location,delta:1})}function g(b,w){l="REPLACE";let N=M1(v.location,b,w);n&&n(N,b),u=d();let C=qC(N,u),M=v.createHref(N);a.replaceState(C,"",M),i&&c&&c({action:l,location:v.location,delta:0})}function x(b){return x9(b)}let v={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(WC,f),c=b,()=>{s.removeEventListener(WC,f),c=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return a.go(b)}};return v}function x9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Nh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lA(t,e,n="/"){return y9(t,e,n,!1)}function y9(t,e,n,r){let s=typeof e=="string"?Xl(e):e,i=oa(s.pathname||"/",n);if(i==null)return null;let a=cA(t);b9(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=P9(i);l=E9(a[c],u,r)}return l}function cA(t,e=[],n=[],r="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=ta([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),cA(a.children,e,p,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:k9(f,a.index),routesMeta:p})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let c of uA(a.path))i(a,l,!0,c)}),e}function uA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=uA(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function b9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var v9=/^:[\w-]+$/,w9=3,N9=2,S9=1,j9=10,C9=-2,KC=t=>t==="*";function k9(t,e){let n=t.split("/"),r=n.length;return n.some(KC)&&(r+=C9),e&&(r+=N9),n.filter(s=>!KC(s)).reduce((s,i)=>s+(v9.test(i)?w9:i===""?S9:j9),r)}function T9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function E9(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=dg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=dg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:ta([i,f.pathname]),pathnameBase:D9(ta([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ta([i,f.pathnameBase]))}return a}function dg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let x=l[p]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[p];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function M9(t,e=!1,n=!0){Xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function P9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function A9(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xl(t):t;return{pathname:n?n.startsWith("/")?n:O9(n,e):e,search:I9(r),hash:L9(s)}}function O9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _b(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hw(t){let e=_9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Uw(t,e,n,r=!1){let s;typeof t=="string"?s=Xl(t):(s={...t},Bt(!s.pathname||!s.pathname.includes("?"),_b("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),_b("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),_b("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=A9(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ta=t=>t.join("/").replace(/\/\/+/g,"/"),D9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dA=["POST","PUT","PATCH","DELETE"];new Set(dA);var F9=["GET",...dA];new Set(F9);var ku=T.createContext(null);ku.displayName="DataRouter";var z0=T.createContext(null);z0.displayName="DataRouterState";T.createContext(!1);var hA=T.createContext({isTransitioning:!1});hA.displayName="ViewTransition";var z9=T.createContext(new Map);z9.displayName="Fetchers";var V9=T.createContext(null);V9.displayName="Await";var Vs=T.createContext(null);Vs.displayName="Navigation";var of=T.createContext(null);of.displayName="Location";var js=T.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var Ww=T.createContext(null);Ww.displayName="RouteError";function $9(t,{relative:e}={}){Bt(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Vs),{hash:s,pathname:i,search:a}=lf(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:ta([n,i])),r.createHref({pathname:l,search:a,hash:s})}function Tu(){return T.useContext(of)!=null}function ir(){return Bt(Tu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(of).location}var fA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mA(t){T.useContext(Vs).static||T.useLayoutEffect(t)}function Ze(){let{isDataRoute:t}=T.useContext(js);return t?n$():B9()}function B9(){Bt(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ku),{basename:e,navigator:n}=T.useContext(Vs),{matches:r}=T.useContext(js),{pathname:s}=ir(),i=JSON.stringify(Hw(r)),a=T.useRef(!1);return mA(()=>{a.current=!0}),T.useCallback((c,u={})=>{if(Xr(a.current,fA),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Uw(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ta([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}var H9=T.createContext(null);function U9(t){let e=T.useContext(js).outlet;return e&&T.createElement(H9.Provider,{value:t},e)}function wi(){let{matches:t}=T.useContext(js),e=t[t.length-1];return e?e.params:{}}function lf(t,{relative:e}={}){let{matches:n}=T.useContext(js),{pathname:r}=ir(),s=JSON.stringify(Hw(n));return T.useMemo(()=>Uw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function W9(t,e){return pA(t,e)}function pA(t,e,n,r,s){Bt(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Vs),{matches:a}=T.useContext(js),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let N=f&&f.path||"";gA(u,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let p=ir(),g;if(e){let N=typeof e=="string"?Xl(e):e;Bt(d==="/"||N.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),g=N}else g=p;let x=g.pathname||"/",v=x;if(d!=="/"){let N=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=lA(t,{pathname:v});Xr(f||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Xr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=X9(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:ta([d,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:ta([d,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r,s);return e&&w?T.createElement(of.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function q9(){let t=t$(),e=R9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,a)}var K9=T.createElement(q9,null),G9=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(js.Provider,{value:this.props.routeContext},T.createElement(Ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y9({routeContext:t,match:e,children:n}){let r=T.useContext(ku);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(js.Provider,{value:t},n)}function X9(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let u=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Bt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,g=!1,x=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||K9,l&&(c<0&&f===0?(gA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),w=()=>{let N;return p?N=x:g?N=v:d.route.Component?N=T.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=u,T.createElement(Y9,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:N})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(G9,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):w()},null)}function qw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q9(t){let e=T.useContext(ku);return Bt(e,qw(t)),e}function J9(t){let e=T.useContext(z0);return Bt(e,qw(t)),e}function Z9(t){let e=T.useContext(js);return Bt(e,qw(t)),e}function Kw(t){let e=Z9(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function e$(){return Kw("useRouteId")}function t$(){let t=T.useContext(Ww),e=J9("useRouteError"),n=Kw("useRouteError");return t!==void 0?t:e.errors?.[n]}function n$(){let{router:t}=Q9("useNavigate"),e=Kw("useNavigate"),n=T.useRef(!1);return mA(()=>{n.current=!0}),T.useCallback(async(s,i={})=>{Xr(n.current,fA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var GC={};function gA(t,e,n){!e&&!GC[t]&&(GC[t]=!0,Xr(!1,n))}T.memo(r$);function r$({routes:t,future:e,state:n,unstable_onError:r}){return pA(t,void 0,n,r,e)}function tu({to:t,replace:e,state:n,relative:r}){Bt(Tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(Vs);Xr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext(js),{pathname:a}=ir(),l=Ze(),c=Uw(t,Hw(i),a,r==="path"),u=JSON.stringify(c);return T.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function Ql(t){return U9(t.context)}function Re(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Bt(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Xl(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=n,g=T.useMemo(()=>{let x=oa(c,a);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:p},navigationType:r}},[a,c,u,d,f,p,r]);return Xr(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(Vs.Provider,{value:l},T.createElement(of.Provider,{children:e,value:g}))}function i$({children:t,location:e}){return W9(P1(t),e)}function P1(t,e=[]){let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,P1(r.props.children,i));return}Bt(r.type===Re,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=P1(r.props.children,i)),n.push(a)}),n}var _p="get",Dp="application/x-www-form-urlencoded";function V0(t){return t!=null&&typeof t.tagName=="string"}function a$(t){return V0(t)&&t.tagName.toLowerCase()==="button"}function o$(t){return V0(t)&&t.tagName.toLowerCase()==="form"}function l$(t){return V0(t)&&t.tagName.toLowerCase()==="input"}function c$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u$(t,e){return t.button===0&&(!e||e==="_self")&&!c$(t)}function A1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function d$(t,e){let n=A1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Vm=null;function h$(){if(Vm===null)try{new FormData(document.createElement("form"),0),Vm=!1}catch{Vm=!0}return Vm}var f$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Db(t){return t!=null&&!f$.has(t)?(Xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dp}"`),null):t}function m$(t,e){let n,r,s,i,a;if(o$(t)){let l=t.getAttribute("action");r=l?oa(l,e):null,n=t.getAttribute("method")||_p,s=Db(t.getAttribute("enctype"))||Dp,i=new FormData(t)}else if(a$(t)||l$(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?oa(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||_p,s=Db(t.getAttribute("formenctype"))||Db(l.getAttribute("enctype"))||Dp,i=new FormData(l,t),!h$()){let{name:u,type:d,value:f}=t;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(V0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_p,r=null,s=Dp,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&oa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function g$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function y$(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await g$(i,n);return a.links?a.links():[]}return[]}));return N$(r.flat(1).filter(x$).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function YC(t,e,n,r,s,i){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function b$(t,e,{includeHydrateFallback:n}={}){return v$(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function v$(t){return[...new Set(t)]}function w$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function N$(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(w$(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function xA(){let t=T.useContext(ku);return Gw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function S$(){let t=T.useContext(z0);return Gw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yw=T.createContext(void 0);Yw.displayName="FrameworkContext";function yA(){let t=T.useContext(Yw);return Gw(t,"You must render this element inside a <HydratedRouter> element"),t}function j$(t,e){let n=T.useContext(Yw),[r,s]=T.useState(!1),[i,a]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=w=>{w.forEach(N=>{a(N.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),T.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:Sd(l,g),onBlur:Sd(c,x),onMouseEnter:Sd(u,g),onMouseLeave:Sd(d,x),onTouchStart:Sd(f,g)}]:[!1,p,{}]}function Sd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function C$({page:t,...e}){let{router:n}=xA(),r=T.useMemo(()=>lA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(T$,{page:t,matches:r,...e}):null}function k$(t){let{manifest:e,routeModules:n}=yA(),[r,s]=T.useState([]);return T.useEffect(()=>{let i=!1;return y$(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function T$({page:t,matches:e,...n}){let r=ir(),{manifest:s,routeModules:i}=yA(),{basename:a}=xA(),{loaderData:l,matches:c}=S$(),u=T.useMemo(()=>YC(t,e,c,s,r,"data"),[t,e,c,s,r]),d=T.useMemo(()=>YC(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(w=>{let N=s.routes[w.route.id];!N||!N.hasLoader||(!u.some(C=>C.route.id===w.route.id)&&w.route.id in l&&i[w.route.id]?.shouldRevalidate||N.hasClientLoader?v=!0:x.add(w.route.id))}),x.size===0)return[];let b=p$(t,a,"data");return v&&x.size>0&&b.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,l,r,s,u,e,t,i]),p=T.useMemo(()=>b$(d,s),[d,s]),g=k$(d);return T.createElement(T.Fragment,null,f.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),g.map(({key:x,link:v})=>T.createElement("link",{key:x,nonce:n.nonce,...v})))}function E$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bA&&(window.__reactRouterVersion="7.9.1")}catch{}function M$({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=m9({window:n,v5Compat:!0}));let s=r.current,[i,a]=T.useState({action:s.action,location:s.location}),l=T.useCallback(c=>{T.startTransition(()=>a(c))},[a]);return T.useLayoutEffect(()=>s.listen(l),[s,l]),T.createElement(s$,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var vA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...p},g){let{basename:x}=T.useContext(Vs),v=typeof u=="string"&&vA.test(u),b,w=!1;if(typeof u=="string"&&v&&(b=u,bA))try{let _=new URL(window.location.href),L=u.startsWith("//")?new URL(_.protocol+u):new URL(u),D=oa(L.pathname,x);L.origin===_.origin&&D!=null?u=D+L.search+L.hash:w=!0}catch{Xr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=$9(u,{relative:s}),[C,M,j]=j$(r,p),A=O$(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function P(_){e&&e(_),_.defaultPrevented||A(_)}let E=T.createElement("a",{...p,...j,href:b||N,onClick:w||i?e:P,ref:E$(g,M),target:c,"data-discover":!v&&n==="render"?"true":void 0});return C&&!v?T.createElement(T.Fragment,null,E,T.createElement(C$,{page:N})):E});Qe.displayName="Link";var Xw=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let f=lf(a,{relative:u.relative}),p=ir(),g=T.useContext(z0),{navigator:x,basename:v}=T.useContext(Vs),b=g!=null&&R$(f)&&l===!0,w=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,N=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(N=N.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&v&&(C=oa(C,v)||C);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=N===w||!s&&N.startsWith(w)&&N.charAt(M)==="/",A=C!=null&&(C===w||!s&&C.startsWith(w)&&C.charAt(w.length)==="/"),P={isActive:j,isPending:A,isTransitioning:b},E=j?e:void 0,_;typeof r=="function"?_=r(P):_=[r,j?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(P):i;return T.createElement(Qe,{...u,"aria-current":E,className:_,ref:d,style:L,to:a,viewTransition:l},typeof c=="function"?c(P):c)});Xw.displayName="NavLink";var P$=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=_p,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...p},g)=>{let x=I$(),v=L$(l,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&vA.test(l),N=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,j=M?.getAttribute("formmethod")||a;x(M||C.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:g,method:b,action:v,onSubmit:r?c:N,...p,"data-discover":!w&&t==="render"?"true":void 0})});P$.displayName="Form";function A$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wA(t){let e=T.useContext(ku);return Bt(e,A$(t)),e}function O$(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=Ze(),c=ir(),u=lf(t,{relative:i});return T.useCallback(d=>{if(u$(d,e)){d.preventDefault();let f=n!==void 0?n:Nh(c)===Nh(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,n,r,e,t,s,i,a])}function Ni(t){Xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(A1(t)),n=T.useRef(!1),r=ir(),s=T.useMemo(()=>d$(r.search,n.current?null:e.current),[r.search]),i=Ze(),a=T.useCallback((l,c)=>{const u=A1(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var _$=0,D$=()=>`__${String(++_$)}__`;function I$(){let{router:t}=wA("useSubmit"),{basename:e}=T.useContext(Vs),n=e$();return T.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=m$(r,e);if(s.navigate===!1){let d=s.fetcherKey||D$();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function L$(t,{relative:e}={}){let{basename:n}=T.useContext(Vs),r=T.useContext(js);Bt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...lf(t||".",{relative:e})},a=ir();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ta([n,i.pathname])),Nh(i)}function R$(t,{relative:e}={}){let n=T.useContext(hA);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wA("useViewTransitionState"),s=lf(t,{relative:e});if(!n.isTransitioning)return!1;let i=oa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=oa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dg(s.pathname,a)!=null||dg(s.pathname,i)!=null}var NA=oA();const F$=af(NA);function SA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vl(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SA(t))&&(r&&(r+=" "),r+=e);return r}function z$(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}z$(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var cf=t=>typeof t=="number"&&!isNaN(t),Ol=t=>typeof t=="string",la=t=>typeof t=="function",V$=t=>Ol(t)||cf(t),O1=t=>Ol(t)||la(t)?t:null,$$=(t,e)=>t===!1||cf(t)&&t>0?t:e,_1=t=>T.isValidElement(t)||Ol(t)||la(t)||cf(t);function B$(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function H$({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let p=n?`${t}--${a}`:t,g=n?`${e}--${a}`:e,x=T.useRef(0);return T.useLayoutEffect(()=>{let v=u.current,b=p.split(" "),w=N=>{N.target===u.current&&(f(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),x.current===0&&N.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),T.useEffect(()=>{let v=u.current,b=()=>{v.removeEventListener("animationend",b),r?B$(v,c,s):c()};d||(l?b():(x.current=1,v.className+=` ${g}`,v.addEventListener("animationend",b)))},[d]),ye.createElement(ye.Fragment,null,i)}}function XC(t,e){return{content:jA(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function jA(t,e,n=!1){return T.isValidElement(t)&&!Ol(t.type)?T.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):la(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function U$({closeToast:t,theme:e,ariaLabel:n="close"}){return ye.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ye.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ye.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function W$({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:a,progress:l,rtl:c,isIn:u,theme:d}){let f=s||a&&l===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(p.transform=`scaleX(${l})`);let g=vl("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),x=la(i)?i({rtl:c,type:r,defaultClassName:g}):vl(g,i),v={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{u&&n()}};return ye.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ye.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),ye.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:p,...v}))}var q$=1,CA=()=>`${q$++}`;function K$(t,e,n){let r=1,s=0,i=[],a=[],l=e,c=new Map,u=new Set,d=N=>(u.add(N),()=>u.delete(N)),f=()=>{a=Array.from(c.values()),u.forEach(N=>N())},p=({containerId:N,toastId:C,updateId:M})=>{let j=N?N!==t:t!==1,A=c.has(C)&&M==null;return j||A},g=(N,C)=>{c.forEach(M=>{var j;(C==null||C===M.props.toastId)&&((j=M.toggle)==null||j.call(M,N))})},x=N=>{var C,M;(M=(C=N.props)==null?void 0:C.onClose)==null||M.call(C,N.removalReason),N.isActive=!1},v=N=>{if(N==null)c.forEach(x);else{let C=c.get(N);C&&x(C)}f()},b=()=>{s-=i.length,i=[]},w=N=>{var C,M;let{toastId:j,updateId:A}=N.props,P=A==null;N.staleId&&c.delete(N.staleId),N.isActive=!0,c.set(j,N),f(),n(XC(N,P?"added":"updated")),P&&((M=(C=N.props).onOpen)==null||M.call(C))};return{id:t,props:l,observe:d,toggle:g,removeToast:v,toasts:c,clearQueue:b,buildToast:(N,C)=>{if(p(C))return;let{toastId:M,updateId:j,data:A,staleId:P,delay:E}=C,_=j==null;_&&s++;let L={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([R,G])=>G!=null)),toastId:M,updateId:j,data:A,isIn:!1,className:O1(C.className||l.toastClassName),progressClassName:O1(C.progressClassName||l.progressClassName),autoClose:C.isLoading?!1:$$(C.autoClose,l.autoClose),closeToast(R){c.get(M).removalReason=R,v(M)},deleteToast(){let R=c.get(M);if(R!=null){if(n(XC(R,"removed")),c.delete(M),s--,s<0&&(s=0),i.length>0){w(i.shift());return}f()}}};L.closeButton=l.closeButton,C.closeButton===!1||_1(C.closeButton)?L.closeButton=C.closeButton:C.closeButton===!0&&(L.closeButton=_1(l.closeButton)?l.closeButton:!0);let D={content:N,props:L,staleId:P};l.limit&&l.limit>0&&s>l.limit&&_?i.push(D):cf(E)?setTimeout(()=>{w(D)},E):w(D)},setProps(N){l=N},setToggle:(N,C)=>{let M=c.get(N);M&&(M.toggle=C)},isToastActive:N=>{var C;return(C=c.get(N))==null?void 0:C.isActive},getSnapshot:()=>a}}var dr=new Map,Sh=[],D1=new Set,G$=t=>D1.forEach(e=>e(t)),kA=()=>dr.size>0;function Y$(){Sh.forEach(t=>EA(t.content,t.options)),Sh=[]}var X$=(t,{containerId:e})=>{var n;return(n=dr.get(e||1))==null?void 0:n.toasts.get(t)};function TA(t,e){var n;if(e)return!!((n=dr.get(e))!=null&&n.isToastActive(t));let r=!1;return dr.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function Q$(t){if(!kA()){Sh=Sh.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||V$(t))dr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=dr.get(t.containerId);e?e.removeToast(t.id):dr.forEach(n=>{n.removeToast(t.id)})}}var J$=(t={})=>{dr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function EA(t,e){_1(t)&&(kA()||Sh.push({content:t,options:e}),dr.forEach(n=>{n.buildToast(t,e)}))}function Z$(t){var e;(e=dr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function MA(t,e){dr.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function eB(t){let e=t.containerId||1;return{subscribe(n){let r=K$(e,t,G$);dr.set(e,r);let s=r.observe(n);return Y$(),()=>{s(),dr.delete(e)}},setProps(n){var r;(r=dr.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=dr.get(e))==null?void 0:n.getSnapshot()}}}function tB(t){return D1.add(t),()=>{D1.delete(t)}}function nB(t){return t&&(Ol(t.toastId)||cf(t.toastId))?t.toastId:CA()}function uf(t,e){return EA(t,e),e.toastId}function $0(t,e){return{...e,type:e&&e.type||t,toastId:nB(e)}}function B0(t){return(e,n)=>uf(e,$0(t,n))}function ce(t,e){return uf(t,$0("default",e))}ce.loading=(t,e)=>uf(t,$0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function rB(t,{pending:e,error:n,success:r},s){let i;e&&(i=Ol(e)?ce.loading(e,s):ce.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){ce.dismiss(i);return}let p={type:u,...a,...s,data:f},g=Ol(d)?{render:d}:d;return i?ce.update(i,{...p,...g}):ce(g.render,{...p,...g}),f},c=la(t)?t():t;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}ce.promise=rB;ce.success=B0("success");ce.info=B0("info");ce.error=B0("error");ce.warning=B0("warning");ce.warn=ce.warning;ce.dark=(t,e)=>uf(t,$0("default",{theme:"dark",...e}));function sB(t){Q$(t)}ce.dismiss=sB;ce.clearWaitingQueue=J$;ce.isActive=TA;ce.update=(t,e={})=>{let n=X$(t,e);if(n){let{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:CA()};i.toastId!==t&&(i.staleId=t);let a=i.render||s;delete i.render,uf(a,i)}};ce.done=t=>{ce.update(t,{progress:1})};ce.onChange=tB;ce.play=t=>MA(!0,t);ce.pause=t=>MA(!1,t);function iB(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=T.useRef(eB(t)).current;s(t);let i=(e=T.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function a(l){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:a,isToastActive:TA,count:i?.length}}function aB(t){let[e,n]=T.useState(!1),[r,s]=T.useState(!1),i=T.useRef(null),a=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=t;Z$({id:t.toastId,containerId:t.containerId,fn:n}),T.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{g()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function x(P){if(t.draggable===!0||t.draggable===P.pointerType){N();let E=i.current;a.canCloseOnClick=!0,a.canDrag=!0,E.style.transition="none",t.draggableDirection==="x"?(a.start=P.clientX,a.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(a.start=P.clientY,a.removalDistance=E.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function v(P){let{top:E,bottom:_,left:L,right:D}=i.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&t.pauseOnHover&&P.clientX>=L&&P.clientX<=D&&P.clientY>=E&&P.clientY<=_?w():b()}function b(){n(!0)}function w(){n(!1)}function N(){a.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",j)}function C(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",j)}function M(P){let E=i.current;if(a.canDrag&&E){a.didMove=!0,e&&w(),t.draggableDirection==="x"?a.delta=P.clientX-a.start:a.delta=P.clientY-a.start,a.start!==P.clientX&&(a.canCloseOnClick=!1);let _=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;E.style.transform=`translate3d(${_},0)`,E.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function j(){C();let P=i.current;if(a.canDrag&&a.didMove&&P){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let A={onPointerDown:x,onPointerUp:v};return l&&c&&(A.onMouseEnter=w,t.stacked||(A.onMouseLeave=b)),f&&(A.onClick=P=>{d&&d(P),a.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:A}}var oB=typeof window<"u"?T.useLayoutEffect:T.useEffect,H0=({theme:t,type:e,isLoading:n,...r})=>ye.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function lB(t){return ye.createElement(H0,{...t},ye.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function cB(t){return ye.createElement(H0,{...t},ye.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function uB(t){return ye.createElement(H0,{...t},ye.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function dB(t){return ye.createElement(H0,{...t},ye.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hB(){return ye.createElement("div",{className:"Toastify__spinner"})}var I1={info:cB,warning:lB,success:uB,error:dB,spinner:hB},fB=t=>t in I1;function mB({theme:t,type:e,isLoading:n,icon:r}){let s=null,i={theme:t,type:e};return r===!1||(la(r)?s=r({...i,isLoading:n}):T.isValidElement(r)?s=T.cloneElement(r,i):n?s=I1.spinner():fB(e)&&(s=I1[e](i))),s}var pB=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=aB(t),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:p,transition:g,position:x,className:v,style:b,progressClassName:w,updateId:N,role:C,progress:M,rtl:j,toastId:A,deleteToast:P,isIn:E,isLoading:_,closeOnClick:L,theme:D,ariaLabel:R}=t,G=vl("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":L}),U=la(v)?v({rtl:j,position:x,type:d,defaultClassName:G}):vl(G,v),q=mB(t),F=!!M||!c,B={closeToast:p,type:d,theme:D},$=null;return a===!1||(la(a)?$=a(B):T.isValidElement(a)?$=T.cloneElement(a,B):$=U$(B)),ye.createElement(g,{isIn:E,done:P,position:x,preventExitTransition:n,nodeRef:r,playToast:i},ye.createElement("div",{id:A,tabIndex:0,onClick:u,"data-in":E,className:U,...s,style:b,ref:r,...E&&{role:C,"aria-label":R}},q!=null&&ye.createElement("div",{className:vl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!_})},q),jA(l,t,!e),$,!t.customProgressBar&&ye.createElement(W$,{...N&&!F?{key:`p-${N}`}:{},rtl:j,theme:D,delay:c,isRunning:e,isIn:E,closeToast:p,hide:f,type:d,className:w,controlledProgress:F,progress:M||0})))},gB=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),xB=H$(gB("bounce",!0)),yB={position:"top-right",transition:xB,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function bB(t){let e={...yB,...t},n=t.stacked,[r,s]=T.useState(!0),i=T.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=iB(e),{className:u,style:d,rtl:f,containerId:p,hotKeys:g}=e;function x(b){let w=vl("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return la(u)?u({position:b,rtl:f,defaultClassName:w}):vl(w,O1(u))}function v(){n&&(s(!0),ce.play())}return oB(()=>{var b;if(n){let w=i.current.querySelectorAll('[data-in="true"]'),N=12,C=(b=e.position)==null?void 0:b.includes("top"),M=0,j=0;Array.from(w).reverse().forEach((A,P)=>{let E=A;E.classList.add("Toastify__toast--stacked"),P>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=C?"top":"bot");let _=M*(r?.2:1)+(r?0:N*P);E.style.setProperty("--y",`${C?_:_*-1}px`),E.style.setProperty("--g",`${N}`),E.style.setProperty("--s",`${1-(r?j:0)}`),M+=E.offsetHeight,j+=.025})}},[r,c,n]),T.useEffect(()=>{function b(w){var N;let C=i.current;g(w)&&((N=C.querySelector('[tabIndex="0"]'))==null||N.focus(),s(!1),ce.pause()),w.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),ce.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),ye.createElement("section",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),ce.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((b,w)=>{let N=w.length?{...d}:{...d,pointerEvents:"none"};return ye.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:N,key:`c-${b}`},w.map(({content:C,props:M})=>ye.createElement(pB,{...M,stacked:n,collapseAll:v,isIn:l(M.toastId,M.containerId),key:`t-${M.key}`},C)))}))}var qt;(function(t){t.ADMIN="admin",t.USER="user",t.STAFF="staff"})(qt||(qt={}));var ll;(function(t){t.MALE="male",t.FEMALE="female"})(ll||(ll={}));var ci;(function(t){t.ACTIVE="active",t.PROBATION="probation",t.ON_LEAVE="on_leave",t.RESIGNED="resigned"})(ci||(ci={}));var ao;(function(t){t.SALE="sale",t.INVENTORY="inventory",t.MANAGER="manager"})(ao||(ao={}));var QC;(function(t){t.BRONZE="bronze",t.SILVER="silver",t.GOLD="gold"})(QC||(QC={}));var il;(function(t){t.NOT_USING="NOT_USING",t.PRIVACY_CONCERNS="PRIVACY_CONCERNS",t.FOUND_BETTER_ALTERNATIVE="FOUND_BETTER_ALTERNATIVE",t.ACCOUNT_ISSUE="ACCOUNT_ISSUE",t.OTHER="OTHER"})(il||(il={}));var _e;(function(t){t.PENDING="pending",t.CONFIRMED="confirmed",t.SHIPPING="shipping",t.COMPLETED="completed",t.CANCELLED="cancelled",t.DELIVERED="delivered"})(_e||(_e={}));var Kr;(function(t){t.COD="cod",t.MOMO="momo",t.VNPAY="vnpay"})(Kr||(Kr={}));var al;(function(t){t.CHANGE_OF_MIND="CHANGE_OF_MIND",t.FOUND_BETTER_PRICE="FOUND_BETTER_PRICE",t.ORDER_BY_MISTAKE="ORDER_BY_MISTAKE",t.WRONG_ADDRESS="WRONG_ADDRESS",t.OTHER="OTHER"})(al||(al={}));var Ga;(function(t){t.PENDING="PENDING",t.SUCCESS="SUCCESS",t.FAILED="FAILED",t.CANCELLED="CANCELLED",t.REFUNDED="REFUNDED"})(Ga||(Ga={}));Ga.PENDING+"",Ga.SUCCESS+"",Ga.FAILED+"",Ga.CANCELLED+"",Ga.REFUNDED+"";var Zs;(function(t){t.PENDING="PENDING",t.PICKED_UP="PICKED_UP",t.IN_TRANSIT="IN_TRANSIT",t.OUT_FOR_DELIVERY="OUT_FOR_DELIVERY",t.DELIVERED="DELIVERED",t.FAILED="FAILED",t.RETURNED="RETURNED",t.CANCELED="CANCELED"})(Zs||(Zs={}));var Ua;(function(t){t.GHN="GHN",t.GHTK="GHTK",t.VIETTEL_POST="VIETTEL_POST",t.VN_POST="VN_POST",t.J_T_EXPRESS="J_T_EXPRESS",t.INTERNAL="INTERNAL"})(Ua||(Ua={}));var ii;(function(t){t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE"})(ii||(ii={}));var ai;(function(t){t.PERCENT="PERCENT",t.FIXED="FIXED"})(ai||(ai={}));var cl;(function(t){t.SCHEDULE="SCHEDULE",t.ACTIVE="ACTIVE",t.ENDED="ENDED",t.CANCELLED="CANCELLED"})(cl||(cl={}));const PA=t=>{switch(t){case _e.PENDING:return{text:"Ch xc nhn",bgColor:"#fef3c7",textColor:"#92400e",borderColor:"#fbbf24"};case _e.CONFIRMED:return{text:" xc nhn",bgColor:"#dbeafe",textColor:"#1e40af",borderColor:"#3b82f6"};case _e.SHIPPING:return{text:"ang giao",bgColor:"#c3dafe",textColor:"#4c51bf",borderColor:"#818cf8"};case _e.DELIVERED:return{text:" giao",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#34d399"};case _e.COMPLETED:return{text:"Hon thnh",bgColor:"#d1fae5",textColor:"#065f46",borderColor:"#10b981"};case _e.CANCELLED:return{text:" hy",bgColor:"#fee2e2",textColor:"#991b1b",borderColor:"#ef4444"};default:return{text:"Khng xc nh",bgColor:"#f3f4f6",textColor:"#6b7280",borderColor:"#d1d5db"}}},Qw={[Kr.COD]:{text:"Thanh ton khi nhn hng"},[Kr.MOMO]:{text:"Thanh ton qua v MOMO"},[Kr.VNPAY]:{text:"Thanh ton qua VNPay"}};Zs.PENDING+"",Zs.PICKED_UP+"",Zs.IN_TRANSIT+"",Zs.OUT_FOR_DELIVERY+"",Zs.DELIVERED+"",Zs.FAILED+"",Zs.RETURNED+"",Zs.CANCELED+"";const AA={[Ua.GHN]:{text:"Giao hng nhanh (GHN)"},[Ua.GHTK]:{text:"Giao hng tit kim (GHTK)"},[Ua.INTERNAL]:{text:"Ni b giao hng"},[Ua.J_T_EXPRESS]:{text:"J&T_Express"},[Ua.VIETTEL_POST]:{text:"Viettel Post"},[Ua.VN_POST]:{text:"Vn Post"}};function OA(t,e){return function(){return t.apply(e,arguments)}}const{toString:vB}=Object.prototype,{getPrototypeOf:Jw}=Object,{iterator:U0,toStringTag:_A}=Symbol,W0=(t=>e=>{const n=vB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$s=t=>(t=t.toLowerCase(),e=>W0(e)===t),q0=t=>e=>typeof e===t,{isArray:Eu}=Array,uu=q0("undefined");function df(t){return t!==null&&!uu(t)&&t.constructor!==null&&!uu(t.constructor)&&Or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DA=$s("ArrayBuffer");function wB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DA(t.buffer),e}const NB=q0("string"),Or=q0("function"),IA=q0("number"),hf=t=>t!==null&&typeof t=="object",SB=t=>t===!0||t===!1,Ip=t=>{if(W0(t)!=="object")return!1;const e=Jw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_A in t)&&!(U0 in t)},jB=t=>{if(!hf(t)||df(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},CB=$s("Date"),kB=$s("File"),TB=$s("Blob"),EB=$s("FileList"),MB=t=>hf(t)&&Or(t.pipe),PB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Or(t.append)&&((e=W0(t))==="formdata"||e==="object"&&Or(t.toString)&&t.toString()==="[object FormData]"))},AB=$s("URLSearchParams"),[OB,_B,DB,IB]=["ReadableStream","Request","Response","Headers"].map($s),LB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ff(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Eu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(df(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function LA(t,e){if(df(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ul=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RA=t=>!uu(t)&&t!==ul;function L1(){const{caseless:t,skipUndefined:e}=RA(this)&&this||{},n={},r=(s,i)=>{const a=t&&LA(n,i)||i;Ip(n[a])&&Ip(s)?n[a]=L1(n[a],s):Ip(s)?n[a]=L1({},s):Eu(s)?n[a]=s.slice():(!e||!uu(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ff(arguments[s],r);return n}const RB=(t,e,n,{allOwnKeys:r}={})=>(ff(e,(s,i)=>{n&&Or(s)?t[i]=OA(s,n):t[i]=s},{allOwnKeys:r}),t),FB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},VB=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Jw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$B=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},BB=t=>{if(!t)return null;if(Eu(t))return t;let e=t.length;if(!IA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},HB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jw(Uint8Array)),UB=(t,e)=>{const r=(t&&t[U0]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},WB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},qB=$s("HTMLFormElement"),KB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),JC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),GB=$s("RegExp"),FA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ff(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},YB=t=>{FA(t,(e,n)=>{if(Or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},XB=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Eu(t)?r(t):r(String(t).split(e)),n},QB=()=>{},JB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ZB(t){return!!(t&&Or(t.append)&&t[_A]==="FormData"&&t[U0])}const eH=t=>{const e=new Array(10),n=(r,s)=>{if(hf(r)){if(e.indexOf(r)>=0)return;if(df(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Eu(r)?[]:{};return ff(r,(a,l)=>{const c=n(a,s+1);!uu(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},tH=$s("AsyncFunction"),nH=t=>t&&(hf(t)||Or(t))&&Or(t.then)&&Or(t.catch),zA=((t,e)=>t?setImmediate:e?((n,r)=>(ul.addEventListener("message",({source:s,data:i})=>{s===ul&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ul.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Or(ul.postMessage)),rH=typeof queueMicrotask<"u"?queueMicrotask.bind(ul):typeof process<"u"&&process.nextTick||zA,sH=t=>t!=null&&Or(t[U0]),ae={isArray:Eu,isArrayBuffer:DA,isBuffer:df,isFormData:PB,isArrayBufferView:wB,isString:NB,isNumber:IA,isBoolean:SB,isObject:hf,isPlainObject:Ip,isEmptyObject:jB,isReadableStream:OB,isRequest:_B,isResponse:DB,isHeaders:IB,isUndefined:uu,isDate:CB,isFile:kB,isBlob:TB,isRegExp:GB,isFunction:Or,isStream:MB,isURLSearchParams:AB,isTypedArray:HB,isFileList:EB,forEach:ff,merge:L1,extend:RB,trim:LB,stripBOM:FB,inherits:zB,toFlatObject:VB,kindOf:W0,kindOfTest:$s,endsWith:$B,toArray:BB,forEachEntry:UB,matchAll:WB,isHTMLForm:qB,hasOwnProperty:JC,hasOwnProp:JC,reduceDescriptors:FA,freezeMethods:YB,toObjectSet:XB,toCamelCase:KB,noop:QB,toFiniteNumber:JB,findKey:LA,global:ul,isContextDefined:RA,isSpecCompliantForm:ZB,toJSONObject:eH,isAsyncFn:tH,isThenable:nH,setImmediate:zA,asap:rH,isIterable:sH};function et(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ae.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const VA=et.prototype,$A={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$A[t]={value:t}});Object.defineProperties(et,$A);Object.defineProperty(VA,"isAxiosError",{value:!0});et.from=(t,e,n,r,s,i)=>{const a=Object.create(VA);ae.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return et.call(a,l,c,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const iH=null;function R1(t){return ae.isPlainObject(t)||ae.isArray(t)}function BA(t){return ae.endsWith(t,"[]")?t.slice(0,-2):t}function ZC(t,e,n){return t?t.concat(e).map(function(s,i){return s=BA(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function aH(t){return ae.isArray(t)&&!t.some(R1)}const oH=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function K0(t,e,n){if(!ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!ae.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(ae.isDate(x))return x.toISOString();if(ae.isBoolean(x))return x.toString();if(!c&&ae.isBlob(x))throw new et("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(x)||ae.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,v,b){let w=x;if(x&&!b&&typeof x=="object"){if(ae.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(ae.isArray(x)&&aH(x)||(ae.isFileList(x)||ae.endsWith(v,"[]"))&&(w=ae.toArray(x)))return v=BA(v),w.forEach(function(C,M){!(ae.isUndefined(C)||C===null)&&e.append(a===!0?ZC([v],M,i):a===null?v:v+"[]",u(C))}),!1}return R1(x)?!0:(e.append(ZC(b,v,i),u(x)),!1)}const f=[],p=Object.assign(oH,{defaultVisitor:d,convertValue:u,isVisitable:R1});function g(x,v){if(!ae.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(x),ae.forEach(x,function(w,N){(!(ae.isUndefined(w)||w===null)&&s.call(e,w,ae.isString(N)?N.trim():N,v,p))===!0&&g(w,v?v.concat(N):[N])}),f.pop()}}if(!ae.isObject(t))throw new TypeError("data must be an object");return g(t),e}function ek(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Zw(t,e){this._pairs=[],t&&K0(t,this,e)}const HA=Zw.prototype;HA.append=function(e,n){this._pairs.push([e,n])};HA.toString=function(e){const n=e?function(r){return e.call(this,r,ek)}:ek;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function lH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function UA(t,e,n){if(!e)return t;const r=n&&n.encode||lH;ae.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=ae.isURLSearchParams(e)?e.toString():new Zw(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class tk{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(r){r!==null&&e(r)})}}const WA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cH=typeof URLSearchParams<"u"?URLSearchParams:Zw,uH=typeof FormData<"u"?FormData:null,dH=typeof Blob<"u"?Blob:null,hH={isBrowser:!0,classes:{URLSearchParams:cH,FormData:uH,Blob:dH},protocols:["http","https","file","blob","url","data"]},eN=typeof window<"u"&&typeof document<"u",F1=typeof navigator=="object"&&navigator||void 0,fH=eN&&(!F1||["ReactNative","NativeScript","NS"].indexOf(F1.product)<0),mH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pH=eN&&window.location.href||"http://localhost",gH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eN,hasStandardBrowserEnv:fH,hasStandardBrowserWebWorkerEnv:mH,navigator:F1,origin:pH},Symbol.toStringTag,{value:"Module"})),Zn={...gH,...hH};function xH(t,e){return K0(t,new Zn.classes.URLSearchParams,{visitor:function(n,r,s,i){return Zn.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function yH(t){return ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bH(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function qA(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&ae.isArray(s)?s.length:a,c?(ae.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!ae.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&ae.isArray(s[a])&&(s[a]=bH(s[a])),!l)}if(ae.isFormData(t)&&ae.isFunction(t.entries)){const n={};return ae.forEachEntry(t,(r,s)=>{e(yH(r),s,n,0)}),n}return null}function vH(t,e,n){if(ae.isString(t))try{return(e||JSON.parse)(t),ae.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const mf={transitional:WA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=ae.isObject(e);if(i&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return s?JSON.stringify(qA(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xH(e,this.formSerializer).toString();if((l=ae.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return K0(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),vH(e)):e}],transformResponse:[function(e){const n=this.transitional||mf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?et.from(l,et.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],t=>{mf.headers[t]={}});const wH=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NH=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&wH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},nk=Symbol("internals");function jd(t){return t&&String(t).trim().toLowerCase()}function Lp(t){return t===!1||t==null?t:ae.isArray(t)?t.map(Lp):String(t)}function SH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const jH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ib(t,e,n,r,s){if(ae.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ae.isString(e)){if(ae.isString(r))return e.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(e)}}function CH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function kH(t,e){const n=ae.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let _r=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,u){const d=jd(c);if(!d)throw new Error("header name must be a non-empty string");const f=ae.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Lp(l))}const a=(l,c)=>ae.forEach(l,(u,d)=>i(u,d,c));if(ae.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ae.isString(e)&&(e=e.trim())&&!jH(e))a(NH(e),n);else if(ae.isObject(e)&&ae.isIterable(e)){let l={},c,u;for(const d of e){if(!ae.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ae.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=jd(e),e){const r=ae.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return SH(s);if(ae.isFunction(n))return n.call(this,s,r);if(ae.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=jd(e),e){const r=ae.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ib(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=jd(a),a){const l=ae.findKey(r,a);l&&(!n||Ib(r,r[l],l,n))&&(delete r[l],s=!0)}}return ae.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Ib(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return ae.forEach(this,(s,i)=>{const a=ae.findKey(r,i);if(a){n[a]=Lp(s),delete n[i];return}const l=e?CH(i):String(i).trim();l!==i&&delete n[i],n[l]=Lp(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ae.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[nk]=this[nk]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=jd(a);r[l]||(kH(s,a),r[l]=!0)}return ae.isArray(e)?e.forEach(i):i(e),this}};_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(_r.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ae.freezeMethods(_r);function Lb(t,e){const n=this||mf,r=e||n,s=_r.from(r.headers);let i=r.data;return ae.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function KA(t){return!!(t&&t.__CANCEL__)}function Mu(t,e,n){et.call(this,t??"canceled",et.ERR_CANCELED,e,n),this.name="CanceledError"}ae.inherits(Mu,et,{__CANCEL__:!0});function GA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function TH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function EH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-a<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function MH(t,e){let n=0,r=1e3/e,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const hg=(t,e,n=3)=>{let r=0;const s=EH(50,250);return MH(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},rk=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sk=t=>(...e)=>ae.asap(()=>t(...e)),PH=Zn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zn.origin),Zn.navigator&&/(msie|trident)/i.test(Zn.navigator.userAgent)):()=>!0,AH=Zn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];ae.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&a.push("path="+r),ae.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _H(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YA(t,e,n){let r=!OH(e);return t&&(r||n==!1)?_H(t,e):e}const ik=t=>t instanceof _r?{...t}:t;function _l(t,e){e=e||{};const n={};function r(u,d,f,p){return ae.isPlainObject(u)&&ae.isPlainObject(d)?ae.merge.call({caseless:p},u,d):ae.isPlainObject(d)?ae.merge({},d):ae.isArray(d)?d.slice():d}function s(u,d,f,p){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function i(u,d){if(!ae.isUndefined(d))return r(void 0,d)}function a(u,d){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(ik(u),ik(d),f,!0)};return ae.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||s,p=f(t[d],e[d],d);ae.isUndefined(p)&&f!==l||(n[d]=p)}),n}const XA=t=>{const e=_l({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=_r.from(a),e.url=UA(YA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ae.isFormData(n)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ae.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Zn.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(e)),r||r!==!1&&PH(e.url))){const c=s&&i&&AH.read(i);c&&a.set(s,c)}return e},DH=typeof XMLHttpRequest<"u",IH=DH&&function(t){return new Promise(function(n,r){const s=XA(t);let i=s.data;const a=_r.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,g,x;function v(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function w(){if(!b)return;const C=_r.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};GA(function(P){n(P),v()},function(P){r(P),v()},j),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new et("Request aborted",et.ECONNABORTED,t,b)),b=null)},b.onerror=function(M){const j=M&&M.message?M.message:"Network Error",A=new et(j,et.ERR_NETWORK,t,b);A.event=M||null,r(A),b=null},b.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||WA;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),r(new et(M,j.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,t,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&ae.forEach(a.toJSON(),function(M,j){b.setRequestHeader(j,M)}),ae.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([p,x]=hg(u,!0),b.addEventListener("progress",p)),c&&b.upload&&([f,g]=hg(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=C=>{b&&(r(!C||C.type?new Mu(null,t,b):C),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const N=TH(s.url);if(N&&Zn.protocols.indexOf(N)===-1){r(new et("Unsupported protocol "+N+":",et.ERR_BAD_REQUEST,t));return}b.send(i||null)})},LH=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof et?d:new Mu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>ae.asap(l),c}},RH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},FH=async function*(t,e){for await(const n of zH(t))yield*RH(n,e)},zH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ak=(t,e,n,r)=>{const s=FH(t,e);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let p=i+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},ok=64*1024,{isFunction:$m}=ae,VH=(({Request:t,Response:e})=>({Request:t,Response:e}))(ae.global),{ReadableStream:lk,TextEncoder:ck}=ae.global,uk=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$H=t=>{t=ae.merge.call({skipUndefined:!0},VH,t);const{fetch:e,Request:n,Response:r}=t,s=e?$m(e):typeof fetch=="function",i=$m(n),a=$m(r);if(!s)return!1;const l=s&&$m(lk),c=s&&(typeof ck=="function"?(x=>v=>x.encode(v))(new ck):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&l&&uk(()=>{let x=!1;const v=new n(Zn.origin,{body:new lk,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!v}),d=a&&l&&uk(()=>ae.isReadableStream(new r("").body)),f={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(v,b)=>{let w=v&&v[x];if(w)return w.call(v);throw new et(`Response type '${x}' is not supported`,et.ERR_NOT_SUPPORT,b)})});const p=async x=>{if(x==null)return 0;if(ae.isBlob(x))return x.size;if(ae.isSpecCompliantForm(x))return(await new n(Zn.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(x)||ae.isArrayBuffer(x))return x.byteLength;if(ae.isURLSearchParams(x)&&(x=x+""),ae.isString(x))return(await c(x)).byteLength},g=async(x,v)=>{const b=ae.toFiniteNumber(x.getContentLength());return b??p(v)};return async x=>{let{url:v,method:b,data:w,signal:N,cancelToken:C,timeout:M,onDownloadProgress:j,onUploadProgress:A,responseType:P,headers:E,withCredentials:_="same-origin",fetchOptions:L}=XA(x),D=e||fetch;P=P?(P+"").toLowerCase():"text";let R=LH([N,C&&C.toAbortSignal()],M),G=null;const U=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let q;try{if(A&&u&&b!=="get"&&b!=="head"&&(q=await g(E,w))!==0){let V=new n(v,{method:"POST",body:w,duplex:"half"}),Q;if(ae.isFormData(w)&&(Q=V.headers.get("content-type"))&&E.setContentType(Q),V.body){const[Z,ee]=rk(q,hg(sk(A)));w=ak(V.body,ok,Z,ee)}}ae.isString(_)||(_=_?"include":"omit");const F=i&&"credentials"in n.prototype,B={...L,signal:R,method:b.toUpperCase(),headers:E.normalize().toJSON(),body:w,duplex:"half",credentials:F?_:void 0};G=i&&new n(v,B);let $=await(i?D(G,L):D(v,B));const X=d&&(P==="stream"||P==="response");if(d&&(j||X&&U)){const V={};["status","statusText","headers"].forEach(le=>{V[le]=$[le]});const Q=ae.toFiniteNumber($.headers.get("content-length")),[Z,ee]=j&&rk(Q,hg(sk(j),!0))||[];$=new r(ak($.body,ok,Z,()=>{ee&&ee(),U&&U()}),V)}P=P||"text";let H=await f[ae.findKey(f,P)||"text"]($,x);return!X&&U&&U(),await new Promise((V,Q)=>{GA(V,Q,{data:H,headers:_r.from($.headers),status:$.status,statusText:$.statusText,config:x,request:G})})}catch(F){throw U&&U(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,x,G),{cause:F.cause||F}):et.from(F,F&&F.code,x,G)}}},BH=new Map,QA=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,l=a,c,u,d=BH;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:$H(e)),d=u;return u};QA();const z1={http:iH,xhr:IH,fetch:{get:QA}};ae.forEach(z1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const dk=t=>`- ${t}`,HH=t=>ae.isFunction(t)||t===null||t===!1,JA={getAdapter:(t,e)=>{t=ae.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!HH(r)&&(s=z1[(l=String(r)).toLowerCase()],s===void 0))throw new et(`Unknown adapter '${l}'`);if(s&&(ae.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(dk).join(`
`):" "+dk(a[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:z1};function Rb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mu(null,t)}function hk(t){return Rb(t),t.headers=_r.from(t.headers),t.data=Lb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JA.getAdapter(t.adapter||mf.adapter,t)(t).then(function(r){return Rb(t),r.data=Lb.call(t,t.transformResponse,r),r.headers=_r.from(r.headers),r},function(r){return KA(r)||(Rb(t),r&&r.response&&(r.response.data=Lb.call(t,t.transformResponse,r.response),r.response.headers=_r.from(r.response.headers))),Promise.reject(r)})}const ZA="1.12.2",G0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{G0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fk={};G0.transitional=function(e,n,r){function s(i,a){return"[Axios v"+ZA+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new et(s(a," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!fk[a]&&(fk[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};G0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function UH(t,e,n){if(typeof t!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],c=l===void 0||a(l,i,t);if(c!==!0)throw new et("option "+i+" must be "+c,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+i,et.ERR_BAD_OPTION)}}const Rp={assertOptions:UH,validators:G0},Qs=Rp.validators;let wl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tk,response:new tk}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_l(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Rp.assertOptions(r,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1),s!=null&&(ae.isFunction(s)?n.paramsSerializer={serialize:s}:Rp.assertOptions(s,{encode:Qs.function,serialize:Qs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rp.assertOptions(n,{baseUrl:Qs.spelling("baseURL"),withXsrfToken:Qs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&ae.merge(i.common,i[n.method]);i&&ae.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=_r.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!c){const x=[hk.bind(this),void 0];for(x.unshift(...l),x.push(...u),p=x.length,d=Promise.resolve(n);f<p;)d=d.then(x[f++],x[f++]);return d}p=l.length;let g=n;for(;f<p;){const x=l[f++],v=l[f++];try{g=x(g)}catch(b){v.call(this,b);break}}try{d=hk.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=_l(this.defaults,e);const n=YA(e.baseURL,e.url,e.allowAbsoluteUrls);return UA(n,e.params,e.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(e){wl.prototype[e]=function(n,r){return this.request(_l(r||{},{method:e,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(_l(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}wl.prototype[e]=n(),wl.prototype[e+"Form"]=n(!0)});let WH=class eO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new Mu(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eO(function(s){e=s}),cancel:e}}};function qH(t){return function(n){return t.apply(null,n)}}function KH(t){return ae.isObject(t)&&t.isAxiosError===!0}const V1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(V1).forEach(([t,e])=>{V1[e]=t});function tO(t){const e=new wl(t),n=OA(wl.prototype.request,e);return ae.extend(n,wl.prototype,e,{allOwnKeys:!0}),ae.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return tO(_l(t,s))},n}const ln=tO(mf);ln.Axios=wl;ln.CanceledError=Mu;ln.CancelToken=WH;ln.isCancel=KA;ln.VERSION=ZA;ln.toFormData=K0;ln.AxiosError=et;ln.Cancel=ln.CanceledError;ln.all=function(e){return Promise.all(e)};ln.spread=qH;ln.isAxiosError=KH;ln.mergeConfig=_l;ln.AxiosHeaders=_r;ln.formToJSON=t=>qA(ae.isHTMLForm(t)?new FormData(t):t);ln.getAdapter=JA.getAdapter;ln.HttpStatusCode=V1;ln.default=ln;const{Axios:F2e,AxiosError:GH,CanceledError:z2e,isCancel:V2e,CancelToken:$2e,VERSION:B2e,all:H2e,Cancel:U2e,isAxiosError:W2e,spread:q2e,toFormData:K2e,AxiosHeaders:G2e,HttpStatusCode:Y2e,formToJSON:X2e,getAdapter:Q2e,mergeConfig:J2e}=ln,he=ln.create({baseURL:"https://quan-ly-ban-quan-ao-server.onrender.com",timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json"}});he.interceptors.response.use(t=>t.data,async t=>{const e=t.response?.status;if(!t.response)return Promise.reject({message:"Khng th kt ni n server. Vui lng kim tra mng!",code:"NETWORK_ERROR"});if(e===403)return Promise.reject({message:"Bn khng c quyn thc hin hnh ng ny",code:"FORBIDDEN",status:e});if(e>=500)return Promise.reject({message:"Li my ch. Vui lng th li sau!",code:"SERVER_ERROR",status:e});const n=t.response?.data?.message||t.message||" c li xy ra";return Promise.reject({message:typeof n=="string"?n:n[0]||"Li khng xc nh",code:t.response?.data?.error||"BAD_REQUEST",status:e,data:t.response?.data})});var pf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},XH=class{#e=YH;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},dl=new XH;function QH(t){setTimeout(t,0)}var Dl=typeof window>"u"||"Deno"in globalThis;function Tr(){}function JH(t,e){return typeof t=="function"?t(e):t}function $1(t){return typeof t=="number"&&t>=0&&t!==1/0}function nO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oo(t,e){return typeof t=="function"?t(e):t}function ps(t,e){return typeof t=="function"?t(e):t}function mk(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==tN(a,e.options))return!1}else if(!Ch(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function pk(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(jh(e.options.mutationKey)!==jh(i))return!1}else if(!Ch(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function tN(t,e){return(e?.queryKeyHashFn||jh)(t)}function jh(t){return JSON.stringify(t,(e,n)=>H1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ch(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ch(t[n],e[n])):!1}var ZH=Object.prototype.hasOwnProperty;function rO(t,e){if(t===e)return t;const n=gk(t)&&gk(e);if(!n&&!(H1(t)&&H1(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u],f=t[d],p=e[d];if(f===p){l[d]=f,(n?u<s:ZH.call(t,d))&&c++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[d]=p;continue}const g=rO(f,p);l[d]=g,g===f&&c++}return s===a&&c===s?t:l}function B1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function gk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function H1(t){if(!xk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xk(t){return Object.prototype.toString.call(t)==="[object Object]"}function eU(t){return new Promise(e=>{dl.setTimeout(e,t)})}function U1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rO(t,e):e}function tU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var nN=Symbol();function sO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===nN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function rU(t,e){return typeof t=="function"?t(...e):!!t}var sU=class extends pf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Dl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},rN=new sU;function W1(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var iU=QH;function aU(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=iU;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var zn=aU(),oU=class extends pf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Dl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},fg=new oU;function lU(t){return Math.min(1e3*2**t,3e4)}function iO(t){return(t??"online")==="online"?fg.isOnline():!0}var q1=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function aO(t){let e=!1,n=0,r;const s=W1(),i=()=>s.status!=="pending",a=v=>{if(!i()){const b=new q1(v);p(b),t.onCancel?.(b)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>rN.isFocused()&&(t.networkMode==="always"||fg.isOnline())&&t.canRun(),d=()=>iO(t.networkMode)&&t.canRun(),f=v=>{i()||(r?.(),s.resolve(v))},p=v=>{i()||(r?.(),s.reject(v))},g=()=>new Promise(v=>{r=b=>{(i()||u())&&v(b)},t.onPause?.()}).then(()=>{r=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{if(i())return;const N=t.retry??(Dl?0:3),C=t.retryDelay??lU,M=typeof C=="function"?C(n,w):C,j=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,w);if(e||!j){p(w);return}n++,t.onFail?.(n,w),eU(M).then(()=>u()?void 0:g()).then(()=>{e?p(w):x()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():g().then(x),s)}}var oO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$1(this.gcTime)&&(this.#e=dl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(dl.clearTimeout(this.#e),this.#e=void 0)}},cU=class extends oO{#e;#t;#n;#s;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=yk(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=yk(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=U1(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ps(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>oo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!nO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const l=sO(this.options,e),u=(()=>{const d={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#a=!1,this.options.persister?this.options.persister(l,u,this):l(u)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=aO({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof q1&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof q1){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lO(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function lO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var uU=class extends pf{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=W1(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),bk(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return K1(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return K1(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ps(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),e._defaulted&&!B1(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&vk(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||ps(this.options.enabled,this.#t)!==ps(e.enabled,this.#t)||oo(this.options.staleTime,this.#t)!==oo(e.staleTime,this.#t))&&this.#g();const s=this.#x();r&&(this.#t!==n||ps(this.options.enabled,this.#t)!==ps(e.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return hU(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#N();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Tr)),e}#g(){this.#v();const t=oo(this.options.staleTime,this.#t);if(Dl||this.#s.isStale||!$1(t))return;const n=nO(this.#s.dataUpdatedAt,t)+1;this.#c=dl.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Dl||ps(this.options.enabled,this.#t)===!1||!$1(this.#l)||this.#l===0)&&(this.#u=dl.setInterval(()=>{(this.options.refetchIntervalInBackground||rN.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#x())}#v(){this.#c&&(dl.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(dl.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#s,i=this.#r,a=this.#o,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,p;if(e._optimisticResults){const E=this.hasListeners(),_=!E&&bk(t,e),L=E&&vk(t,n,e,r);(_||L)&&(d={...d,...lO(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=d;p=d.data;let b=!1;if(e.placeholderData!==void 0&&p===void 0&&v==="pending"){let E;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(E=s.data,b=!0):E=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,E!==void 0&&(v="success",p=U1(s?.data,E,e),f=!0)}if(e.select&&p!==void 0&&!b)if(s&&p===i?.data&&e.select===this.#p)p=this.#h;else try{this.#p=e.select,p=e.select(p),p=U1(s?.data,p,e),this.#h=p,this.#i=null}catch(E){this.#i=E}this.#i&&(g=this.#i,p=this.#h,x=Date.now(),v="error");const w=d.fetchStatus==="fetching",N=v==="pending",C=v==="error",M=N&&w,j=p!==void 0,P={status:v,fetchStatus:d.fetchStatus,isPending:N,isSuccess:v==="success",isError:C,isInitialLoading:M,isLoading:M,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:C&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&j,isStale:sN(t,e),refetch:this.refetch,promise:this.#a,isEnabled:ps(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=D=>{P.status==="error"?D.reject(P.error):P.data!==void 0&&D.resolve(P.data)},_=()=>{const D=this.#a=P.promise=W1();E(D)},L=this.#a;switch(L.status){case"pending":t.queryHash===n.queryHash&&E(L);break;case"fulfilled":(P.status==="error"||P.data!==L.value)&&_();break;case"rejected":(P.status!=="error"||P.error!==L.reason)&&_();break}}return P}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),B1(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(a=>{const l=a;return this.#s[l]!==t[l]&&i.has(l)})};this.#S({listeners:n()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){zn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function dU(t,e){return ps(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function bk(t,e){return dU(t,e)||t.state.data!==void 0&&K1(t,e,e.refetchOnMount)}function K1(t,e,n){if(ps(e.enabled,t)!==!1&&oo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&sN(t,e)}return!1}function vk(t,e,n,r){return(t!==e||ps(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&sN(t,n)}function sN(t,e){return ps(e.enabled,t)!==!1&&t.isStaleByTime(oo(e.staleTime,t))}function hU(t,e){return!B1(t.getCurrentResult(),e)}function wk(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},p=sO(e.options,e.fetchOptions),g=async(x,v,b)=>{if(d)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:v,direction:b?"backward":"forward",meta:e.options.meta};return f(A),A})(),C=await p(N),{maxPages:M}=e.options,j=b?nU:tU;return{pages:j(x.pages,C,M),pageParams:j(x.pageParams,v,M)}};if(s&&i.length){const x=s==="backward",v=x?fU:Nk,b={pages:i,pageParams:a},w=v(r,b);l=await g(b,w,x)}else{const x=t??i.length;do{const v=c===0?a[0]??r.initialPageParam:Nk(r,l);if(c>0&&v==null)break;l=await g(l,v),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function Nk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function fU(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var mU=class extends oO{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||pU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=aO({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),zn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function pU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gU=class extends pf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new mU({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Bm(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Bm(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Bm(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Bm(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>pk(e,n))}findAll(t={}){return this.getAll().filter(e=>pk(t,e))}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Tr))))}};function Bm(t){return t.options.scope?.id}var xU=class extends pf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??tN(r,e);let i=this.get(s);return i||(i=new cU({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>mk(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>mk(t,n)):e}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},yU=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new xU,this.#t=t.mutationCache||new gU,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=rN.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=fg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(oo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=JH(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return zn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Tr).catch(Tr)}invalidateQueries(t,e={}){return zn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(oo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tr).catch(Tr)}fetchInfiniteQuery(t){return t.behavior=wk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tr).catch(Tr)}ensureInfiniteQueryData(t){return t.behavior=wk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(jh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Ch(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(jh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Ch(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=tN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===nN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},cO=T.createContext(void 0),ga=t=>{const e=T.useContext(cO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bU=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(cO.Provider,{value:t,children:e})),uO=T.createContext(!1),vU=()=>T.useContext(uO);uO.Provider;function wU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var NU=T.createContext(wU()),SU=()=>T.useContext(NU),jU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},CU=t=>{T.useEffect(()=>{t.clearReset()},[t])},kU=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||rU(n,[t.error,r])),TU=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},EU=(t,e)=>t.isLoading&&t.isFetching&&!e,MU=(t,e)=>t?.suspense&&e.isPending,Sk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function PU(t,e,n){const r=vU(),s=SU(),i=ga(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",TU(a),jU(a,s),CU(s);const l=!i.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(i,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(f=>{const p=d?c.subscribe(zn.batchCalls(f)):Tr;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),MU(a,u))throw Sk(a,c,s);if(kU({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!Dl&&EU(u,r)&&(l?Sk(a,c,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(Tr).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?u:c.trackResult(u)}function De(t,e){return PU(t,uU)}const AU=async()=>{try{const t=await he.get("/api/v1/auth/me");return t?.user?t.user:null}catch(t){if(t?.response?.status===401)return null;throw t}},jt=()=>{const t=ga(),{data:e,isLoading:n,refetch:r}=De({queryKey:["user"],queryFn:AU,staleTime:300*1e3,retry:(l,c)=>c.status!==401,refetchOnWindowFocus:!1,refetchOnMount:!1});return{user:e,loading:n,refreshUser:async()=>(await t.invalidateQueries({queryKey:["user"]}),await r()),clearUser:()=>{t.setQueryData(["user"],null)},setUser:l=>{t.setQueryData(["user"],l)}}},dO=T.createContext(null);function OU({children:t}){const{refreshUser:e,clearUser:n}=jt(),r=async(a,l,c)=>{let u="/api/v1/auth/login";(a===qt.ADMIN||a===qt.STAFF)&&(u="/api/v1/auth/admin/login");try{const d=await he.post(u,{email:l,password:c});if(d.status)await e();else throw new Error(d.message||"ng nhp tht bi")}catch(d){throw d}},s=async a=>{try{const l=await he.post("/api/v1/auth/register",a);if(l.status)await e();else throw new Error(l.message||"ng k tht bi!")}catch(l){throw console.log(l),l.response.data}},i=async()=>{try{await he.get("/api/v1/auth/logout"),sessionStorage.removeItem("checkoutData"),n(),await e()}catch(a){console.error("Logout error:",a)}};return o.jsx(dO.Provider,{value:{login:r,logout:i,register:s},children:t})}const Jl=()=>{const t=T.useContext(dO);if(!t)throw new Error("useAuth must be used within AuthProvider");return t};/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _U(t){if(Array.isArray(t))return t}function DU(t){if(Array.isArray(t))return G1(t)}function IU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hO(r.key),r)}}function RU(t,e,n){return e&&LU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fp(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=iN(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return a=c.done,c},e:function(c){l=!0,i=c},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function tt(t,e,n){return(e=hO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function VU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0(t,e){return _U(t)||zU(t,e)||iN(t,e)||VU()}function zs(t){return DU(t)||FU(t)||iN(t)||$U()}function BU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hO(t){var e=BU(t,"string");return typeof e=="symbol"?e:e+""}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function iN(t,e){if(t){if(typeof t=="string")return G1(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G1(t,e):void 0}}var Ck=function(){},aN={},fO={},mO=null,pO={mark:Ck,measure:Ck};try{typeof window<"u"&&(aN=window),typeof document<"u"&&(fO=document),typeof MutationObserver<"u"&&(mO=MutationObserver),typeof performance<"u"&&(pO=performance)}catch{}var HU=aN.navigator||{},kk=HU.userAgent,Tk=kk===void 0?"":kk,go=aN,Dt=fO,Ek=mO,Hm=pO;go.document;var xa=!!Dt.documentElement&&!!Dt.head&&typeof Dt.addEventListener=="function"&&typeof Dt.createElement=="function",gO=~Tk.indexOf("MSIE")||~Tk.indexOf("Trident/"),Fb,UU=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,WU=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,xO={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},qU={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},yO=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],Hn="classic",gf="duotone",bO="sharp",vO="sharp-duotone",wO="chisel",NO="etch",SO="jelly",jO="jelly-duo",CO="jelly-fill",kO="notdog",TO="notdog-duo",EO="slab",MO="slab-press",PO="thumbprint",AO="utility",OO="utility-duo",_O="utility-fill",DO="whiteboard",KU="Classic",GU="Duotone",YU="Sharp",XU="Sharp Duotone",QU="Chisel",JU="Etch",ZU="Jelly",eW="Jelly Duo",tW="Jelly Fill",nW="Notdog",rW="Notdog Duo",sW="Slab",iW="Slab Press",aW="Thumbprint",oW="Utility",lW="Utility Duo",cW="Utility Fill",uW="Whiteboard",IO=[Hn,gf,bO,vO,wO,NO,SO,jO,CO,kO,TO,EO,MO,PO,AO,OO,_O,DO];Fb={},tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(Fb,Hn,KU),gf,GU),bO,YU),vO,XU),wO,QU),NO,JU),SO,ZU),jO,eW),CO,tW),kO,nW),tt(tt(tt(tt(tt(tt(tt(tt(Fb,TO,rW),EO,sW),MO,iW),PO,aW),AO,oW),OO,lW),_O,cW),DO,uW);var dW={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},hW={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},fW=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),mW={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},LO=["fak","fa-kit","fakd","fa-kit-duotone"],Mk={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},pW=["kit"],gW="kit",xW="kit-duotone",yW="Kit",bW="Kit Duotone";tt(tt({},gW,yW),xW,bW);var vW={kit:{"fa-kit":"fak"}},wW={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},NW={kit:{fak:"fa-kit"}},Pk={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},zb,Um={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},SW=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],jW="classic",CW="duotone",kW="sharp",TW="sharp-duotone",EW="chisel",MW="etch",PW="jelly",AW="jelly-duo",OW="jelly-fill",_W="notdog",DW="notdog-duo",IW="slab",LW="slab-press",RW="thumbprint",FW="utility",zW="utility-duo",VW="utility-fill",$W="whiteboard",BW="Classic",HW="Duotone",UW="Sharp",WW="Sharp Duotone",qW="Chisel",KW="Etch",GW="Jelly",YW="Jelly Duo",XW="Jelly Fill",QW="Notdog",JW="Notdog Duo",ZW="Slab",eq="Slab Press",tq="Thumbprint",nq="Utility",rq="Utility Duo",sq="Utility Fill",iq="Whiteboard";zb={},tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(zb,jW,BW),CW,HW),kW,UW),TW,WW),EW,qW),MW,KW),PW,GW),AW,YW),OW,XW),_W,QW),tt(tt(tt(tt(tt(tt(tt(tt(zb,DW,JW),IW,ZW),LW,eq),RW,tq),FW,nq),zW,rq),VW,sq),$W,iq);var aq="kit",oq="kit-duotone",lq="Kit",cq="Kit Duotone";tt(tt({},aq,lq),oq,cq);var uq={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},dq={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Y1={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},hq=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],RO=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(SW,hq),fq=["solid","regular","light","thin","duotone","brands","semibold"],FO=[1,2,3,4,5,6,7,8,9,10],mq=FO.concat([11,12,13,14,15,16,17,18,19,20]),pq=["aw","fw","pull-left","pull-right"],gq=[].concat(zs(Object.keys(dq)),fq,pq,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Um.GROUP,Um.SWAP_OPACITY,Um.PRIMARY,Um.SECONDARY]).concat(FO.map(function(t){return"".concat(t,"x")})).concat(mq.map(function(t){return"w-".concat(t)})),xq={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},ca="___FONT_AWESOME___",X1=16,zO="fa",VO="svg-inline--fa",Il="data-fa-i2svg",Q1="data-fa-pseudo-element",yq="data-fa-pseudo-element-pending",oN="data-prefix",lN="data-icon",Ak="fontawesome-i2svg",bq="async",vq=["HTML","HEAD","STYLE","SCRIPT"],$O=["::before","::after",":before",":after"],BO=(function(){try{return!0}catch{return!1}})();function xf(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Hn]}})}var HO=ve({},xO);HO[Hn]=ve(ve(ve(ve({},{"fa-duotone":"duotone"}),xO[Hn]),Mk.kit),Mk["kit-duotone"]);var wq=xf(HO),J1=ve({},mW);J1[Hn]=ve(ve(ve(ve({},{duotone:"fad"}),J1[Hn]),Pk.kit),Pk["kit-duotone"]);var Ok=xf(J1),Z1=ve({},Y1);Z1[Hn]=ve(ve({},Z1[Hn]),NW.kit);var cN=xf(Z1),e2=ve({},uq);e2[Hn]=ve(ve({},e2[Hn]),vW.kit);xf(e2);var Nq=UU,UO="fa-layers-text",Sq=WU,jq=ve({},dW);xf(jq);var Cq=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Vb=qU,kq=[].concat(zs(pW),zs(gq)),Qd=go.FontAwesomeConfig||{};function Tq(t){var e=Dt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Eq(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Dt&&typeof Dt.querySelector=="function"){var Mq=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Mq.forEach(function(t){var e=Y0(t,2),n=e[0],r=e[1],s=Eq(Tq(n));s!=null&&(Qd[r]=s)})}var WO={styleDefault:"solid",familyDefault:Hn,cssPrefix:zO,replacementClass:VO,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Qd.familyPrefix&&(Qd.cssPrefix=Qd.familyPrefix);var du=ve(ve({},WO),Qd);du.autoReplaceSvg||(du.observeMutations=!1);var Ve={};Object.keys(WO).forEach(function(t){Object.defineProperty(Ve,t,{enumerable:!0,set:function(n){du[t]=n,Jd.forEach(function(r){return r(Ve)})},get:function(){return du[t]}})});Object.defineProperty(Ve,"familyPrefix",{enumerable:!0,set:function(e){du.cssPrefix=e,Jd.forEach(function(n){return n(Ve)})},get:function(){return du.cssPrefix}});go.FontAwesomeConfig=Ve;var Jd=[];function Pq(t){return Jd.push(t),function(){Jd.splice(Jd.indexOf(t),1)}}var Oc=X1,ui={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Aq(t){if(!(!t||!xa)){var e=Dt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Dt.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],a=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=i)}return Dt.head.insertBefore(e,r),t}}var Oq="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _k(){for(var t=12,e="";t-- >0;)e+=Oq[Math.random()*62|0];return e}function Pu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function uN(t){return t.classList?Pu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function qO(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _q(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(qO(t[n]),'" ')},"").trim()}function X0(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function dN(t){return t.size!==ui.size||t.x!==ui.x||t.y!==ui.y||t.rotate!==ui.rotate||t.flipX||t.flipY}function Dq(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(i," ").concat(a," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function Iq(t){var e=t.transform,n=t.width,r=n===void 0?X1:n,s=t.height,i=s===void 0?X1:s,a="";return gO?a+="translate(".concat(e.x/Oc-r/2,"em, ").concat(e.y/Oc-i/2,"em) "):a+="translate(calc(-50% + ".concat(e.x/Oc,"em), calc(-50% + ").concat(e.y/Oc,"em)) "),a+="scale(".concat(e.size/Oc*(e.flipX?-1:1),", ").concat(e.size/Oc*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var Lq=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function KO(){var t=zO,e=VO,n=Ve.cssPrefix,r=Ve.replacementClass,s=Lq;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(l,".".concat(r))}return s}var Dk=!1;function $b(){Ve.autoAddCss&&!Dk&&(Aq(KO()),Dk=!0)}var Rq={mixout:function(){return{dom:{css:KO,insertCss:$b}}},hooks:function(){return{beforeDOMElementCreation:function(){$b()},beforeI2svg:function(){$b()}}}},ua=go||{};ua[ca]||(ua[ca]={});ua[ca].styles||(ua[ca].styles={});ua[ca].hooks||(ua[ca].hooks={});ua[ca].shims||(ua[ca].shims=[]);var Ls=ua[ca],GO=[],YO=function(){Dt.removeEventListener("DOMContentLoaded",YO),pg=1,GO.map(function(e){return e()})},pg=!1;xa&&(pg=(Dt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Dt.readyState),pg||Dt.addEventListener("DOMContentLoaded",YO));function Fq(t){xa&&(pg?setTimeout(t,0):GO.push(t))}function yf(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?qO(t):"<".concat(e," ").concat(_q(r),">").concat(i.map(yf).join(""),"</").concat(e,">")}function Ik(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Bb=function(e,n,r,s){var i=Object.keys(e),a=i.length,l=n,c,u,d;for(r===void 0?(c=1,d=e[i[0]]):(c=0,d=r);c<a;c++)u=i[c],d=l(d,e[u],u,e);return d};function XO(t){return zs(t).length!==1?null:t.codePointAt(0).toString(16)}function Lk(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function t2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=Lk(e);typeof Ls.hooks.addPack=="function"&&!s?Ls.hooks.addPack(t,Lk(e)):Ls.styles[t]=ve(ve({},Ls.styles[t]||{}),i),t==="fas"&&t2("fa",e)}var kh=Ls.styles,zq=Ls.shims,QO=Object.keys(cN),Vq=QO.reduce(function(t,e){return t[e]=Object.keys(cN[e]),t},{}),hN=null,JO={},ZO={},e_={},t_={},n_={};function $q(t){return~kq.indexOf(t)}function Bq(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!$q(s)?s:null}var r_=function(){var e=function(i){return Bb(kh,function(a,l,c){return a[c]=Bb(l,i,{}),a},{})};JO=e(function(s,i,a){if(i[3]&&(s[i[3]]=a),i[2]){var l=i[2].filter(function(c){return typeof c=="number"});l.forEach(function(c){s[c.toString(16)]=a})}return s}),ZO=e(function(s,i,a){if(s[a]=a,i[2]){var l=i[2].filter(function(c){return typeof c=="string"});l.forEach(function(c){s[c]=a})}return s}),n_=e(function(s,i,a){var l=i[2];return s[a]=a,l.forEach(function(c){s[c]=a}),s});var n="far"in kh||Ve.autoFetchSvg,r=Bb(zq,function(s,i){var a=i[0],l=i[1],c=i[2];return l==="far"&&!n&&(l="fas"),typeof a=="string"&&(s.names[a]={prefix:l,iconName:c}),typeof a=="number"&&(s.unicodes[a.toString(16)]={prefix:l,iconName:c}),s},{names:{},unicodes:{}});e_=r.names,t_=r.unicodes,hN=Q0(Ve.styleDefault,{family:Ve.familyDefault})};Pq(function(t){hN=Q0(t.styleDefault,{family:Ve.familyDefault})});r_();function fN(t,e){return(JO[t]||{})[e]}function Hq(t,e){return(ZO[t]||{})[e]}function hl(t,e){return(n_[t]||{})[e]}function s_(t){return e_[t]||{prefix:null,iconName:null}}function Uq(t){var e=t_[t],n=fN("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function xo(){return hN}var i_=function(){return{prefix:null,iconName:null,rest:[]}};function Wq(t){var e=Hn,n=QO.reduce(function(r,s){return r[s]="".concat(Ve.cssPrefix,"-").concat(s),r},{});return IO.forEach(function(r){(t.includes(n[r])||t.some(function(s){return Vq[r].includes(s)}))&&(e=r)}),e}function Q0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Hn:n,s=wq[r][t];if(r===gf&&!t)return"fad";var i=Ok[r][t]||Ok[r][s],a=t in Ls.styles?t:null,l=i||a||null;return l}function qq(t){var e=[],n=null;return t.forEach(function(r){var s=Bq(Ve.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function Rk(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var Fk=RO.concat(LO);function J0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=Rk(t.filter(function(g){return Fk.includes(g)})),a=Rk(t.filter(function(g){return!Fk.includes(g)})),l=i.filter(function(g){return s=g,!yO.includes(g)}),c=Y0(l,1),u=c[0],d=u===void 0?null:u,f=Wq(i),p=ve(ve({},qq(a)),{},{prefix:Q0(d,{family:f})});return ve(ve(ve({},p),Xq({values:t,family:f,styles:kh,config:Ve,canonical:p,givenPrefix:s})),Kq(r,s,p))}function Kq(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?s_(s):{},a=hl(r,s);return s=i.iconName||a||s,r=i.prefix||r,r==="far"&&!kh.far&&kh.fas&&!Ve.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var Gq=IO.filter(function(t){return t!==Hn||t!==gf}),Yq=Object.keys(Y1).filter(function(t){return t!==Hn}).map(function(t){return Object.keys(Y1[t])}).flat();function Xq(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,a=t.styles,l=a===void 0?{}:a,c=t.config,u=c===void 0?{}:c,d=n===gf,f=e.includes("fa-duotone")||e.includes("fad"),p=u.familyDefault==="duotone",g=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(f||p||g)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Gq.includes(n)){var x=Object.keys(l).find(function(b){return Yq.includes(b)});if(x||u.autoFetchSvg){var v=fW.get(n).defaultShortPrefixId;r.prefix=v,r.iconName=hl(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=xo()||"fas"),r}var Qq=(function(){function t(){IU(this,t),this.definitions={}}return RU(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var a=s.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(l){n.definitions[l]=ve(ve({},n.definitions[l]||{}),a[l]),t2(l,a[l]);var c=cN[Hn][l];c&&t2(c,a[l]),r_()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var a=s[i],l=a.prefix,c=a.iconName,u=a.icon,d=u[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(n[l][f]=u)}),n[l][c]=u}),n}}])})(),zk=[],qc={},nu={},Jq=Object.keys(nu);function Zq(t,e){var n=e.mixoutsTo;return zk=t,qc={},Object.keys(nu).forEach(function(r){Jq.indexOf(r)===-1&&delete nu[r]}),zk.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(a){typeof s[a]=="function"&&(n[a]=s[a]),mg(s[a])==="object"&&Object.keys(s[a]).forEach(function(l){n[a]||(n[a]={}),n[a][l]=s[a][l]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(a){qc[a]||(qc[a]=[]),qc[a].push(i[a])})}r.provides&&r.provides(nu)}),n}function n2(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=qc[t]||[];return i.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function Ll(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=qc[t]||[];s.forEach(function(i){i.apply(null,n)})}function yo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return nu[t]?nu[t].apply(null,e):void 0}function r2(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||xo();if(e)return e=hl(n,e)||e,Ik(a_.definitions,n,e)||Ik(Ls.styles,n,e)}var a_=new Qq,eK=function(){Ve.autoReplaceSvg=!1,Ve.observeMutations=!1,Ll("noAuto")},tK={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xa?(Ll("beforeI2svg",e),yo("pseudoElements2svg",e),yo("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Ve.autoReplaceSvg===!1&&(Ve.autoReplaceSvg=!0),Ve.observeMutations=!0,Fq(function(){rK({autoReplaceSvgRoot:n}),Ll("watch",e)})}},nK={icon:function(e){if(e===null)return null;if(mg(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:hl(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=Q0(e[0]);return{prefix:r,iconName:hl(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Ve.cssPrefix,"-"))>-1||e.match(Nq))){var s=J0(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||xo(),iconName:hl(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=xo();return{prefix:i,iconName:hl(i,e)||e}}}},es={noAuto:eK,config:Ve,dom:tK,parse:nK,library:a_,findIconDefinition:r2,toHtml:yf},rK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Dt:n;(Object.keys(Ls.styles).length>0||Ve.autoFetchSvg)&&xa&&Ve.autoReplaceSvg&&es.dom.i2svg({node:r})};function Z0(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return yf(r)})}}),Object.defineProperty(t,"node",{get:function(){if(xa){var r=Dt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function sK(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,a=t.transform;if(dN(a)&&n.found&&!r.found){var l=n.width,c=n.height,u={x:l/c/2,y:.5};s.style=X0(ve(ve({},i),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function iK(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,a=i===!0?"".concat(e,"-").concat(Ve.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ve(ve({},s),{},{id:a}),children:r}]}]}function aK(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function mN(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,a=t.transform,l=t.symbol,c=t.maskId,u=t.extra,d=t.watchable,f=d===void 0?!1:d,p=r.found?r:n,g=p.width,x=p.height,v=[Ve.replacementClass,i?"".concat(Ve.cssPrefix,"-").concat(i):""].filter(function(j){return u.classes.indexOf(j)===-1}).filter(function(j){return j!==""||!!j}).concat(u.classes).join(" "),b={children:[],attributes:ve(ve({},u.attributes),{},{"data-prefix":s,"data-icon":i,class:v,role:u.attributes.role||"img",viewBox:"0 0 ".concat(g," ").concat(x)})};!aK(u.attributes)&&!u.attributes["aria-hidden"]&&(b.attributes["aria-hidden"]="true"),f&&(b.attributes[Il]="");var w=ve(ve({},b),{},{prefix:s,iconName:i,main:n,mask:r,maskId:c,transform:a,symbol:l,styles:ve({},u.styles)}),N=r.found&&n.found?yo("generateAbstractMask",w)||{children:[],attributes:{}}:yo("generateAbstractIcon",w)||{children:[],attributes:{}},C=N.children,M=N.attributes;return w.children=C,w.attributes=M,l?iK(w):sK(w)}function Vk(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,a=t.watchable,l=a===void 0?!1:a,c=ve(ve({},i.attributes),{},{class:i.classes.join(" ")});l&&(c[Il]="");var u=ve({},i.styles);dN(s)&&(u.transform=Iq({transform:s,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=X0(u);d.length>0&&(c.style=d);var f=[];return f.push({tag:"span",attributes:c,children:[e]}),f}function oK(t){var e=t.content,n=t.extra,r=ve(ve({},n.attributes),{},{class:n.classes.join(" ")}),s=X0(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var Hb=Ls.styles;function s2(t){var e=t[0],n=t[1],r=t.slice(4),s=Y0(r,1),i=s[0],a=null;return Array.isArray(i)?a={tag:"g",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Vb.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Vb.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Ve.cssPrefix,"-").concat(Vb.PRIMARY),fill:"currentColor",d:i[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:a}}var lK={found:!1,width:512,height:512};function cK(t,e){!BO&&!Ve.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function i2(t,e){var n=e;return e==="fa"&&Ve.styleDefault!==null&&(e=xo()),new Promise(function(r,s){if(n==="fa"){var i=s_(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Hb[e]&&Hb[e][t]){var a=Hb[e][t];return r(s2(a))}cK(t,e),r(ve(ve({},lK),{},{icon:Ve.showMissingIcons&&t?yo("missingIconAbstract")||{}:{}}))})}var $k=function(){},a2=Ve.measurePerformance&&Hm&&Hm.mark&&Hm.measure?Hm:{mark:$k,measure:$k},Vd='FA "7.1.0"',uK=function(e){return a2.mark("".concat(Vd," ").concat(e," begins")),function(){return o_(e)}},o_=function(e){a2.mark("".concat(Vd," ").concat(e," ends")),a2.measure("".concat(Vd," ").concat(e),"".concat(Vd," ").concat(e," begins"),"".concat(Vd," ").concat(e," ends"))},pN={begin:uK,end:o_},zp=function(){};function Bk(t){var e=t.getAttribute?t.getAttribute(Il):null;return typeof e=="string"}function dK(t){var e=t.getAttribute?t.getAttribute(oN):null,n=t.getAttribute?t.getAttribute(lN):null;return e&&n}function hK(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ve.replacementClass)}function fK(){if(Ve.autoReplaceSvg===!0)return Vp.replace;var t=Vp[Ve.autoReplaceSvg];return t||Vp.replace}function mK(t){return Dt.createElementNS("http://www.w3.org/2000/svg",t)}function pK(t){return Dt.createElement(t)}function l_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?mK:pK:n;if(typeof t=="string")return Dt.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){s.setAttribute(a,t.attributes[a])});var i=t.children||[];return i.forEach(function(a){s.appendChild(l_(a,{ceFn:r}))}),s}function gK(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Vp={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(l_(s),n)}),n.getAttribute(Il)===null&&Ve.keepOriginalSource){var r=Dt.createComment(gK(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~uN(n).indexOf(Ve.replacementClass))return Vp.replace(e);var s=new RegExp("".concat(Ve.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(l,c){return c===Ve.replacementClass||c.match(s)?l.toSvg.push(c):l.toNode.push(c),l},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var a=r.map(function(l){return yf(l)}).join(`
`);n.setAttribute(Il,""),n.innerHTML=a}};function Hk(t){t()}function c_(t,e){var n=typeof e=="function"?e:zp;if(t.length===0)n();else{var r=Hk;Ve.mutateApproach===bq&&(r=go.requestAnimationFrame||Hk),r(function(){var s=fK(),i=pN.begin("mutate");t.map(s),i(),n()})}}var gN=!1;function u_(){gN=!0}function o2(){gN=!1}var gg=null;function Uk(t){if(Ek&&Ve.observeMutations){var e=t.treeCallback,n=e===void 0?zp:e,r=t.nodeCallback,s=r===void 0?zp:r,i=t.pseudoElementsCallback,a=i===void 0?zp:i,l=t.observeMutationsRoot,c=l===void 0?Dt:l;gg=new Ek(function(u){if(!gN){var d=xo();Pu(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!Bk(f.addedNodes[0])&&(Ve.searchPseudoElements&&a(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&Ve.searchPseudoElements&&a([f.target],!0),f.type==="attributes"&&Bk(f.target)&&~Cq.indexOf(f.attributeName))if(f.attributeName==="class"&&dK(f.target)){var p=J0(uN(f.target)),g=p.prefix,x=p.iconName;f.target.setAttribute(oN,g||d),x&&f.target.setAttribute(lN,x)}else hK(f.target)&&s(f.target)})}}),xa&&gg.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function xK(){gg&&gg.disconnect()}function yK(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),a=i[0],l=i.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),n}function bK(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=J0(uN(t));return s.prefix||(s.prefix=xo()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=Hq(s.prefix,t.innerText)||fN(s.prefix,XO(t.innerText))),!s.iconName&&Ve.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function vK(t){var e=Pu(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function wK(){return{iconName:null,prefix:null,transform:ui,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Wk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=bK(t),r=n.iconName,s=n.prefix,i=n.rest,a=vK(t),l=n2("parseNodeAttributes",{},t),c=e.styleParser?yK(t):[];return ve({iconName:r,prefix:s,transform:ui,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:a}},l)}var NK=Ls.styles;function d_(t){var e=Ve.autoReplaceSvg==="nest"?Wk(t,{styleParser:!1}):Wk(t);return~e.extra.classes.indexOf(UO)?yo("generateLayersText",t,e):yo("generateSvgReplacementMutation",t,e)}function SK(){return[].concat(zs(LO),zs(RO))}function qk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!xa)return Promise.resolve();var n=Dt.documentElement.classList,r=function(f){return n.add("".concat(Ak,"-").concat(f))},s=function(f){return n.remove("".concat(Ak,"-").concat(f))},i=Ve.autoFetchSvg?SK():yO.concat(Object.keys(NK));i.includes("fa")||i.push("fa");var a=[".".concat(UO,":not([").concat(Il,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Il,"])")})).join(", ");if(a.length===0)return Promise.resolve();var l=[];try{l=Pu(t.querySelectorAll(a))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();var c=pN.begin("onTree"),u=l.reduce(function(d,f){try{var p=d_(f);p&&d.push(p)}catch(g){BO||g.name==="MissingIcon"&&console.error(g)}return d},[]);return new Promise(function(d,f){Promise.all(u).then(function(p){c_(p,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),c(),d()})}).catch(function(p){c(),f(p)})})}function jK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;d_(t).then(function(n){n&&c_([n],e)})}function CK(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:r2(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:r2(s||{})),t(r,ve(ve({},n),{},{mask:s}))}}var kK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?ui:r,i=n.symbol,a=i===void 0?!1:i,l=n.mask,c=l===void 0?null:l,u=n.maskId,d=u===void 0?null:u,f=n.classes,p=f===void 0?[]:f,g=n.attributes,x=g===void 0?{}:g,v=n.styles,b=v===void 0?{}:v;if(e){var w=e.prefix,N=e.iconName,C=e.icon;return Z0(ve({type:"icon"},e),function(){return Ll("beforeDOMElementCreation",{iconDefinition:e,params:n}),mN({icons:{main:s2(C),mask:c?s2(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:N,transform:ve(ve({},ui),s),symbol:a,maskId:d,extra:{attributes:x,styles:b,classes:p}})})}},TK={mixout:function(){return{icon:CK(kK)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=qk,n.nodeCallback=jK,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?Dt:r,i=n.callback,a=i===void 0?function(){}:i;return qk(s,a)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,a=r.transform,l=r.symbol,c=r.mask,u=r.maskId,d=r.extra;return new Promise(function(f,p){Promise.all([i2(s,i),c.iconName?i2(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var x=Y0(g,2),v=x[0],b=x[1];f([n,mN({icons:{main:v,mask:b},prefix:i,iconName:s,transform:a,symbol:l,maskId:u,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.transform,l=n.styles,c=X0(l);c.length>0&&(s.style=c);var u;return dN(a)&&(u=yo("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:s}}}},EK={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return Z0({type:"layer"},function(){Ll("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(l){Array.isArray(l)?l.map(function(c){a=a.concat(c.abstract)}):a=a.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(Ve.cssPrefix,"-layers")].concat(zs(i)).join(" ")},children:a}]})}}}},MK={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,a=r.attributes,l=a===void 0?{}:a,c=r.styles,u=c===void 0?{}:c;return Z0({type:"counter",content:n},function(){return Ll("beforeDOMElementCreation",{content:n,params:r}),oK({content:n.toString(),extra:{attributes:l,styles:u,classes:["".concat(Ve.cssPrefix,"-layers-counter")].concat(zs(i))}})})}}}},PK={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?ui:s,a=r.classes,l=a===void 0?[]:a,c=r.attributes,u=c===void 0?{}:c,d=r.styles,f=d===void 0?{}:d;return Z0({type:"text",content:n},function(){return Ll("beforeDOMElementCreation",{content:n,params:r}),Vk({content:n,transform:ve(ve({},ui),i),extra:{attributes:u,styles:f,classes:["".concat(Ve.cssPrefix,"-layers-text")].concat(zs(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,a=null,l=null;if(gO){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Promise.resolve([n,Vk({content:n.innerHTML,width:a,height:l,transform:s,extra:i,watchable:!0})])}}},h_=new RegExp('"',"ug"),Kk=[1105920,1112319],Gk=ve(ve(ve(ve({},{FontAwesome:{normal:"fas",400:"fas"}}),hW),xq),wW),l2=Object.keys(Gk).reduce(function(t,e){return t[e.toLowerCase()]=Gk[e],t},{}),AK=Object.keys(l2).reduce(function(t,e){var n=l2[e];return t[e]=n[900]||zs(Object.entries(n))[0][1],t},{});function OK(t){var e=t.replace(h_,"");return XO(zs(e)[0]||"")}function _K(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(h_,""),s=r.codePointAt(0),i=s>=Kk[0]&&s<=Kk[1],a=r.length===2?r[0]===r[1]:!1;return i||a||e}function DK(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(l2[n]||{})[s]||AK[n]}function Yk(t,e){var n="".concat(yq).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=Pu(t.children),a=i.filter(function(A){return A.getAttribute(Q1)===e})[0],l=go.getComputedStyle(t,e),c=l.getPropertyValue("font-family"),u=c.match(Sq),d=l.getPropertyValue("font-weight"),f=l.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&f!=="none"&&f!==""){var p=l.getPropertyValue("content"),g=DK(c,d),x=OK(p),v=u[0].startsWith("FontAwesome"),b=_K(l),w=fN(g,x),N=w;if(v){var C=Uq(x);C.iconName&&C.prefix&&(w=C.iconName,g=C.prefix)}if(w&&!b&&(!a||a.getAttribute(oN)!==g||a.getAttribute(lN)!==N)){t.setAttribute(n,N),a&&t.removeChild(a);var M=wK(),j=M.extra;j.attributes[Q1]=e,i2(w,g).then(function(A){var P=mN(ve(ve({},M),{},{icons:{main:A,mask:i_()},prefix:g,iconName:N,extra:j,watchable:!0})),E=Dt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(E,t.firstChild):t.appendChild(E),E.outerHTML=P.map(function(_){return yf(_)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function IK(t){return Promise.all([Yk(t,"::before"),Yk(t,"::after")])}function LK(t){return t.parentNode!==document.head&&!~vq.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Q1)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var RK=function(e){return!!e&&$O.some(function(n){return e.includes(n)})},FK=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(c){return c.trim()});r=r.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(u){return u.trim()})});var s=Fp(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(RK(a)){var l=$O.reduce(function(c,u){return c.replace(u,"")},a);l!==""&&l!=="*"&&n.add(l)}}}catch(c){s.e(c)}finally{s.f()}return n};function Xk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(xa){var n;if(e)n=t;else if(Ve.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=Fp(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;try{var l=Fp(a.cssRules),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=FK(u.selectorText),f=Fp(d),p;try{for(f.s();!(p=f.n()).done;){var g=p.value;r.add(g)}}catch(v){f.e(v)}finally{f.f()}}}catch(v){l.e(v)}finally{l.f()}}catch(v){Ve.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(a.href," (").concat(v.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(v){s.e(v)}finally{s.f()}if(!r.size)return;var x=Array.from(r).join(", ");try{n=t.querySelectorAll(x)}catch{}}return new Promise(function(v,b){var w=Pu(n).filter(LK).map(IK),N=pN.begin("searchPseudoElements");u_(),Promise.all(w).then(function(){N(),o2(),v()}).catch(function(){N(),o2(),b()})})}}var zK={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Xk,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?Dt:r;Ve.searchPseudoElements&&Xk(s)}}},Qk=!1,VK={mixout:function(){return{dom:{unwatch:function(){u_(),Qk=!0}}}},hooks:function(){return{bootstrap:function(){Uk(n2("mutationObserverCallbacks",{}))},noAuto:function(){xK()},watch:function(n){var r=n.observeMutationsRoot;Qk?o2():Uk(n2("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},Jk=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),a=i[0],l=i.slice(1).join("-");if(a&&l==="h")return r.flipX=!0,r;if(a&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(a){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},$K={mixout:function(){return{parse:{transform:function(n){return Jk(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=Jk(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,a=n.iconWidth,l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),f={transform:"".concat(c," ").concat(u," ").concat(d)},p={transform:"translate(".concat(a/2*-1," -256)")},g={outer:l,inner:f,path:p};return{tag:"g",attributes:ve({},g.outer),children:[{tag:"g",attributes:ve({},g.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ve(ve({},r.icon.attributes),g.path)}]}]}}}},Ub={x:0,y:0,width:"100%",height:"100%"};function Zk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function BK(t){return t.tag==="g"?t.children:[t]}var HK={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?J0(s.split(" ").map(function(a){return a.trim()})):i_();return i.prefix||(i.prefix=xo()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,a=n.mask,l=n.maskId,c=n.transform,u=i.width,d=i.icon,f=a.width,p=a.icon,g=Dq({transform:c,containerWidth:f,iconWidth:u}),x={tag:"rect",attributes:ve(ve({},Ub),{},{fill:"white"})},v=d.children?{children:d.children.map(Zk)}:{},b={tag:"g",attributes:ve({},g.inner),children:[Zk(ve({tag:d.tag,attributes:ve(ve({},d.attributes),g.path)},v))]},w={tag:"g",attributes:ve({},g.outer),children:[b]},N="mask-".concat(l||_k()),C="clip-".concat(l||_k()),M={tag:"mask",attributes:ve(ve({},Ub),{},{id:N,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,w]},j={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:BK(p)},M]};return r.push(j,{tag:"rect",attributes:ve({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(N,")")},Ub)}),{children:r,attributes:s}}}},UK={provides:function(e){var n=!1;go.matchMedia&&(n=go.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ve(ve({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=ve(ve({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:ve(ve({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:ve(ve({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ve(ve({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:ve(ve({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ve(ve({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ve(ve({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ve(ve({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},WK={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},qK=[Rq,TK,EK,MK,PK,zK,VK,$K,HK,UK,WK];Zq(qK,{mixoutsTo:es});es.noAuto;var Th=es.config;es.library;es.dom;var f_=es.parse;es.findIconDefinition;es.toHtml;var KK=es.icon;es.layer;es.text;es.counter;function GK(t){return t=t-0,t===t}function m_(t){return GK(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function YK(t){return t.charAt(0).toUpperCase()+t.slice(1)}var _c=new Map,XK=1e3;function QK(t){if(_c.has(t))return _c.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,a=t.slice(n,i).trim();if(a){const l=a.indexOf(":");if(l>0){const c=a.slice(0,l).trim(),u=a.slice(l+1).trim();if(c&&u){const d=m_(c);e[d.startsWith("webkit")?YK(d):d]=u}}}n=i+1}if(_c.size===XK){const s=_c.keys().next().value;s&&_c.delete(s)}return _c.set(t,e),e}function p_(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(u=>p_(t,u)),s=e.attributes||{},i={};for(const[u,d]of Object.entries(s))switch(!0){case u==="class":{i.className=d;break}case u==="style":{i.style=QK(String(d));break}case u.startsWith("aria-"):case u.startsWith("data-"):{i[u.toLowerCase()]=d;break}default:i[m_(u)]=d}const{style:a,"aria-label":l,...c}=n;return a&&(i.style=i.style?{...i.style,...a}:a),l&&(i["aria-label"]=l,i["aria-hidden"]="false"),t(e.tag,{...c,...i},...r)}var JK=p_.bind(null,ye.createElement),e5=(t,e)=>{const n=T.useId();return t||(e?n:void 0)},ZK=class{constructor(t="react-fontawesome"){this.enabled=!1;let e=!1;try{e=typeof process<"u"&&!1}catch{}this.scope=t,this.enabled=e}log(...t){this.enabled&&console.log(`[${this.scope}]`,...t)}warn(...t){this.enabled&&console.warn(`[${this.scope}]`,...t)}error(...t){this.enabled&&console.error(`[${this.scope}]`,...t)}},eG="searchPseudoElementsFullScan"in Th?"7.0.0":"6.0.0",tG=Number.parseInt(eG)>=7,Zd="fa",Oi={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},nG={left:"fa-pull-left",right:"fa-pull-right"},rG={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},sG={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},_i={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function iG(t){const e=Th.cssPrefix||Th.familyPrefix||Zd;return e===Zd?t:t.replace(new RegExp(`(?<=^|\\s)${Zd}-`,"g"),`${e}-`)}function aG(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:a,spinPulse:l,spinReverse:c,pulse:u,fixedWidth:d,inverse:f,border:p,flip:g,size:x,rotation:v,pull:b,swapOpacity:w,rotateBy:N,widthAuto:C,className:M}=t,j=[];return M&&j.push(...M.split(" ")),e&&j.push(Oi.beat),n&&j.push(Oi.fade),r&&j.push(Oi.beatFade),s&&j.push(Oi.bounce),i&&j.push(Oi.shake),a&&j.push(Oi.spin),c&&j.push(Oi.spinReverse),l&&j.push(Oi.spinPulse),u&&j.push(Oi.pulse),d&&j.push(_i.fixedWidth),f&&j.push(_i.inverse),p&&j.push(_i.border),g===!0&&j.push(_i.flip),(g==="horizontal"||g==="both")&&j.push(_i.flipHorizontal),(g==="vertical"||g==="both")&&j.push(_i.flipVertical),x!=null&&j.push(sG[x]),v!=null&&v!==0&&j.push(rG[v]),b!=null&&j.push(nG[b]),w&&j.push(_i.swapOpacity),tG?(N&&j.push(_i.rotateBy),C&&j.push(_i.widthAuto),(Th.cssPrefix||Th.familyPrefix||Zd)===Zd?j:j.map(iG)):j}var oG=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function t5(t){if(t)return oG(t)?t:f_.icon(t)}function lG(t){return Object.keys(t)}var n5=new ZK("FontAwesomeIcon"),g_={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},cG=new Set(Object.keys(g_)),z=ye.forwardRef((t,e)=>{const n={...g_,...t},{icon:r,mask:s,symbol:i,title:a,titleId:l,maskId:c,transform:u}=n,d=e5(c,!!s),f=e5(l,!!a),p=t5(r);if(!p)return n5.error("Icon lookup is undefined",r),null;const g=aG(n),x=typeof u=="string"?f_.transform(u):u,v=t5(s),b=KK(p,{...g.length>0&&{classes:g},...x&&{transform:x},...v&&{mask:v},symbol:i,title:a,titleId:f,maskId:d});if(!b)return n5.error("Could not find icon",p),null;const{abstract:w}=b,N={ref:e};for(const C of lG(n))cG.has(C)||(N[C]=n[C]);return JK(w[0],N)});z.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var $p={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},Rl={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32z"]},Ss={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M32 64C19.1 64 7.4 71.8 2.4 83.8S.2 109.5 9.4 118.6L192 301.3 192 416c0 8.5 3.4 16.6 9.4 22.6l64 64c9.2 9.2 22.9 11.9 34.9 6.9S320 492.9 320 480l0-178.7 182.6-182.6c9.2-9.2 11.9-22.9 6.9-34.9S492.9 64 480 64L32 64z"]},uG={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},ex={prefix:"fas",iconName:"truck",icon:[576,512,[128666,9951],"f0d1","M0 96C0 60.7 28.7 32 64 32l288 0c35.3 0 64 28.7 64 64l0 32 50.7 0c17 0 33.3 6.7 45.3 18.7L557.3 192c12 12 18.7 28.3 18.7 45.3L576 384c0 35.3-28.7 64-64 64l-3.3 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64l-102.6 0c-10.4 36.9-44.4 64-84.7 64s-74.2-27.1-84.7-64L64 448c-35.3 0-64-28.7-64-64L0 96zM512 288l0-50.7-45.3-45.3-50.7 0 0 96 96 0zM192 424a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm232 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},dG={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M32.5 96c0-12.9 7.8-24.6 19.8-29.6S78 64.2 87.1 73.4l160 160c12.5 12.5 12.5 32.8 0 45.3l-160 160c-9.2 9.2-22.9 11.9-34.9 6.9S32.5 428.9 32.5 416l0-320z"]},xN={prefix:"fas",iconName:"shoe-prints",icon:[576,512,[],"f54b","M296 192c-21.1-12.1-42.3-24.2-72-29.3l0-140.3C257.7 13 311.4 0 352 0 448 0 576 48 576 128s-119.6 96-176 96c-48 0-76-16-104-32zM128 32l48 0 0 128-48 0c-35.3 0-64-28.7-64-64s28.7-64 64-64zM232 320c28-16 56-32 104-32 56.4 0 176 16 176 96S384 512 288 512c-40.5 0-94.3-13-128-22.4l0-140.3c29.7-5.2 50.9-17.3 72-29.4zM64 480c-35.3 0-64-28.7-64-64s28.7-64 64-64l48 0 0 128-48 0z"]},hG={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M0 352L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120 0c-5.2 0-10.2 1.7-14.4 4.8L166.4 539.2c-4.2 3.1-9.2 4.8-14.4 4.8-13.3 0-24-10.7-24-24l0-72-32 0c-53 0-96-43-96-96z"]},fG={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},mG=fG,pG={prefix:"fas",iconName:"percent",icon:[448,512,[62101,62785,"percentage"],"25","M192 128a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM448 384a96 96 0 1 0 -192 0 96 96 0 1 0 192 0zM438.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-384 384c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l384-384z"]},gG={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Dr=gG,xG={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm32 96c0-17.7 14.3-32 32-32l160 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},yG=xG,bG={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},da={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},vG={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M224 96c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c9.2 9.2 22.9 11.9 34.9 6.9S224 428.9 224 416l0-320z"]},c2={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M136.7 5.9L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-8.7-26.1C306.9-7.2 294.7-16 280.9-16L167.1-16c-13.8 0-26 8.8-30.4 21.9zM416 144L32 144 53.1 467.1C54.7 492.4 75.7 512 101 512L347 512c25.3 0 46.3-19.6 47.9-44.9L416 144z"]},ts={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},x_={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 144a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0 224c30.9 0 56 25.1 56 56s-25.1 56-56 56-56-25.1-56-56 25.1-56 56-56zm56-112c0 30.9-25.1 56-56 56s-56-25.1-56-56 25.1-56 56-56 56 25.1 56 56z"]},wG={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M345 273c9.4-9.4 9.4-24.6 0-33.9L201 95c-6.9-6.9-17.2-8.9-26.2-5.2S160 102.3 160 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L345 273zm7 143c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0z"]},NG=wG,SG={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L368 46.1 465.9 144 490.3 119.6c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L432 177.9 334.1 80 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Bs=SG,Wb={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},yN={prefix:"fas",iconName:"cart-plus",icon:[640,512,[],"f217","M0 8C0-5.3 10.7-16 24-16l45.3 0c27.1 0 50.3 19.4 55.1 46l.4 2 412.7 0c20 0 35.1 18.2 31.4 37.9L537.8 235.8c-5.7 30.3-32.1 52.2-62.9 52.2l-303.6 0 5.1 28.3c2.1 11.4 12 19.7 23.6 19.7L456 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-255.9 0c-34.8 0-64.6-24.9-70.8-59.1L77.2 38.6c-.7-3.8-4-6.6-7.9-6.6L24 32C10.7 32 0 21.3 0 8zM160 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm224 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM336 78.4c-13.3 0-24 10.7-24 24l0 33.6-33.6 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l33.6 0 0 33.6c0 13.3 10.7 24 24 24s24-10.7 24-24l0-33.6 33.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-33.6 0 0-33.6c0-13.3-10.7-24-24-24z"]},jG={prefix:"fas",iconName:"table",icon:[448,512,[],"f0ce","M256 160l0 96 128 0 0-96-128 0zm-64 0l-128 0 0 96 128 0 0-96zM0 320L0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-96zm384 0l-128 0 0 96 128 0 0-96zM192 416l0-96-128 0 0 96 128 0z"]},y_={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},b_={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},CG={prefix:"fas",iconName:"strikethrough",icon:[512,512,[],"f0cc","M96 157.5C96 88.2 152.2 32 221.5 32L368 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L221.5 96c-34 0-61.5 27.5-61.5 61.5 0 31 23.1 57.2 53.9 61l44.1 5.5 222 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l83.1 0C103 204.6 96 181.8 96 157.5zM349.2 336l65.5 0c.9 6.1 1.4 12.2 1.4 18.5 0 69.3-56.2 125.5-125.5 125.5L144 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l146.5 0c34 0 61.5-27.5 61.5-61.5 0-6.4-1-12.7-2.8-18.5z"]},kG={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},TG={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M64 64C64 28.7 92.7 0 128 0L341.5 0c17 0 33.3 6.7 45.3 18.7l42.5 42.5c12 12 18.7 28.3 18.7 45.3l0 37.5-384 0 0-80zM0 256c0-35.3 28.7-64 64-64l384 0c35.3 0 64 28.7 64 64l0 96c0 17.7-14.3 32-32 32l-32 0 0 64c0 35.3-28.7 64-64 64l-256 0c-35.3 0-64-28.7-64-64l0-64-32 0c-17.7 0-32-14.3-32-32l0-96zM128 416l0 32 256 0 0-96-256 0 0 64zM456 272a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},EG={prefix:"fas",iconName:"location-arrow",icon:[512,512,[],"f124","M477.9 75.5c4.5-11.8 1.7-25.2-7.2-34.1s-22.3-11.8-34.1-7.2l-416 160C7.9 199-.3 211.2 0 224.7s9.1 25.4 21.9 29.6l176.8 58.9 58.9 176.8c4.3 12.8 16.1 21.6 29.6 21.9s25.7-7.9 30.6-20.5l160-416z"]},MG={prefix:"fas",iconName:"venus-mars",icon:[640,512,[9892],"f228","M480-64c-17.7 0-32 14.3-32 32S462.3 0 480 0L530.7 0 474 56.7c-26.3-15.7-57.1-24.7-90-24.7-35.4 0-68.4 10.5-96 28.5-27.6-18-60.6-28.5-96-28.5-97.2 0-176 78.8-176 176 0 86.3 62.1 158.1 144 173.1l0 34.9-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-34.9c23.3-4.3 44.9-13.1 64-25.6 27.6 18 60.6 28.5 96 28.5 97.2 0 176-78.8 176-176 0-41.1-14.1-79-37.8-109L576 45.3 576 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L480-64zM336 309.2c20.2-28.6 32-63.5 32-101.2s-11.8-72.6-32-101.2c14.6-6.9 30.8-10.8 48-10.8 61.9 0 112 50.1 112 112S445.9 320 384 320c-17.2 0-33.5-3.9-48-10.8zM288 150.3c10.2 16.9 16 36.6 16 57.7s-5.8 40.9-16 57.7c-10.2-16.9-16-36.6-16-57.7s5.8-40.9 16-57.7zm-48-43.5c-20.2 28.6-32 63.5-32 101.2s11.8 72.6 32 101.2c-14.5 6.9-30.8 10.8-48 10.8-61.9 0-112-50.1-112-112S130.1 96 192 96c17.2 0 33.5 3.9 48 10.8z"]},PG={prefix:"fas",iconName:"bold",icon:[384,512,[],"f032","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l32 0 0 320-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l224 0c70.7 0 128-57.3 128-128 0-46.5-24.8-87.3-62-109.7 18.7-22.3 30-51 30-82.3 0-70.7-57.3-128-128-128L32 32zM288 160c0 35.3-28.7 64-64 64l-96 0 0-128 96 0c35.3 0 64 28.7 64 64zM128 416l0-128 128 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-128 0z"]},AG={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM342 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 315.2 137 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},qb=AG,bN={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M560.3 237.2c10.4 11.8 28.3 14.4 41.8 5.5 14.7-9.8 18.7-29.7 8.9-44.4l-48-72c-2.8-4.2-6.6-7.7-11.1-10.2L351.4 4.7c-19.3-10.7-42.8-10.7-62.2 0L88.8 116c-5.4 3-9.7 7.4-12.6 12.8L27.7 218.7c-12.6 23.4-3.8 52.5 19.6 65.1l33 17.7 0 53.3c0 23 12.4 44.3 32.4 55.7l176 99.7c19.6 11.1 43.5 11.1 63.1 0l176-99.7c20.1-11.4 32.4-32.6 32.4-55.7l0-117.5zm-240-9.8L170.2 144 320.3 60.6 470.4 144 320.3 227.4zm-41.5 50.2l-21.3 46.2-165.8-88.8 25.4-47.2 161.7 89.8z"]},OG={prefix:"fas",iconName:"image",icon:[448,512,[],"f03e","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm64 80a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM272 224c8.4 0 16.1 4.4 20.5 11.5l88 144c4.5 7.4 4.7 16.7 .5 24.3S368.7 416 360 416L88 416c-8.9 0-17.2-5-21.3-12.9s-3.5-17.5 1.6-24.8l56-80c4.5-6.4 11.8-10.2 19.7-10.2s15.2 3.8 19.7 10.2l26.4 37.8 61.4-100.5c4.4-7.1 12.1-11.5 20.5-11.5z"]},_G={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"]},an={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},DG={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]},IG={prefix:"fas",iconName:"money-bill-wave",icon:[512,512,[],"f53a","M0 419.6L0 109.5c0-23.2 24.1-38.6 46.3-32 87.7 26.2 149.7 5.5 212.1-15.3 64.5-21.5 129.4-43.1 223.3-13.1 18.5 5.9 30.3 23.8 30.3 43.3l0 310.1c0 23.2-24.1 38.6-46.2 32-87.7-26.2-149.8-5.5-212.1 15.3-64.5 21.5-129.4 43.1-223.3 13.1-18.5-5.9-30.3-23.8-30.3-43.3zM336 256c0-53-35.8-96-80-96s-80 43-80 96 35.8 96 80 96 80-43 80-96zM120 413.6c4.4 0 7.9-3.8 7.2-8.1-4.6-27.8-27-49.5-55.2-53-4.4-.5-8 3.1-8 7.5l0 39.9c0 3.6 2.4 6.8 6 7.7 17.9 4.2 34.3 6.1 50 6.1zm318.5-51.1c5 .8 9.5-3 9.5-8l0-42.6c0-4.4-3.6-8.1-8-7.5-25.2 3.1-45.9 20.9-53.2 44.6-1.4 4.7 2.3 9.1 7.2 9.2 14.2 .4 29 1.7 44.4 4.3zM448 152l0-39.9c0-3.6-2.5-6.8-6-7.7-17.9-4.2-34.3-6.1-50-6.1-4.4 0-7.9 3.8-7.2 8.1 4.6 27.8 27 49.5 55.2 53 4.4 .5 8-3.1 8-7.5zM125.2 162.9c1.4-4.7-2.3-9.1-7.2-9.2-14.2-.4-29-1.7-44.4-4.3-5-.8-9.5 3-9.5 8L64 200c0 4.4 3.6 8.1 8 7.5 25.2-3.1 45.9-20.9 53.2-44.6z"]},Au={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},v_={prefix:"fas",iconName:"folder",icon:[512,512,[128193,128447,61716,"folder-blank"],"f07b","M64 448l384 0c35.3 0 64-28.7 64-64l0-240c0-35.3-28.7-64-64-64L298.7 80c-6.9 0-13.7-2.2-19.2-6.4L241.1 44.8C230 36.5 216.5 32 202.7 32L64 32C28.7 32 0 60.7 0 96L0 384c0 35.3 28.7 64 64 64z"]},LG={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},RG={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M80 160c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-48 0c-17.7 0-32-14.3-32-32L0 192c0-17.7 14.3-32 32-32l48 0zM270.6 16C297.9 16 320 38.1 320 65.4l0 4.2c0 6.8-1.3 13.6-3.8 19.9L288 160 448 160c26.5 0 48 21.5 48 48 0 19.7-11.9 36.6-28.9 44 17 7.4 28.9 24.3 28.9 44 0 23.4-16.8 42.9-39 47.1 4.4 7.3 7 15.8 7 24.9 0 22.2-15 40.8-35.4 46.3 2.2 5.5 3.4 11.5 3.4 17.7 0 26.5-21.5 48-48 48l-87.9 0c-36.3 0-71.6-12.4-99.9-35.1L184 435.2c-15.2-12.1-24-30.5-24-50l0-186.6c0-14.9 3.5-29.6 10.1-42.9L226.3 43.3C234.7 26.6 251.8 16 270.6 16z"]},FG={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},zG={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M505 273c9.4-9.4 9.4-24.6 0-33.9L361 95c-6.9-6.9-17.2-8.9-26.2-5.2S320 102.3 320 112l0 80-112 0c-26.5 0-48 21.5-48 48l0 32c0 26.5 21.5 48 48 48l112 0 0 80c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2L505 273zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},u2=zG,w_={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},vN={prefix:"fas",iconName:"shirt",icon:[640,512,[128085,"t-shirt","tshirt"],"f553","M320.2 112c44.2 0 80-35.8 80-80l53.5 0c17 0 33.3 6.7 45.3 18.7L617.6 169.4c12.5 12.5 12.5 32.8 0 45.3l-50.7 50.7c-12.5 12.5-32.8 12.5-45.3 0l-41.4-41.4 0 224c0 35.3-28.7 64-64 64l-192 0c-35.3 0-64-28.7-64-64l0-224-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0L22.9 214.6c-12.5-12.5-12.5-32.8 0-45.3L141.5 50.7c12-12 28.3-18.7 45.3-18.7l53.5 0c0 44.2 35.8 80 80 80z"]},Ou={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"]},r5={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M128 0C110.3 0 96 14.3 96 32l0 32-32 0C28.7 64 0 92.7 0 128l0 48 448 0 0-48c0-35.3-28.7-64-64-64l-32 0 0-32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 32-128 0 0-32c0-17.7-14.3-32-32-32zM0 224L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192-448 0z"]},VG={prefix:"fas",iconName:"italic",icon:[384,512,[],"f033","M128 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-58.7 0-133.3 320 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l58.7 0 133.3-320-64 0c-17.7 0-32-14.3-32-32z"]},bo={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M434.8 70.1c14.3 10.4 17.5 30.4 7.1 44.7l-256 352c-5.5 7.6-14 12.3-23.4 13.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l101.5 101.5 234-321.7c10.4-14.3 30.4-17.5 44.7-7.1z"]},xg={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M208 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm0 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM48 208a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm368 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM75 369.1A48 48 0 1 1 142.9 437 48 48 0 1 1 75 369.1zM75 75A48 48 0 1 1 142.9 142.9 48 48 0 1 1 75 75zM437 369.1A48 48 0 1 1 369.1 437 48 48 0 1 1 437 369.1z"]},Kb={prefix:"fas",iconName:"book-journal-whills",icon:[448,512,["journal-whills"],"f66a","M96 512l320 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-66.7c18.6-6.6 32-24.4 32-45.3l0-288c0-26.5-21.5-48-48-48L96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96zM64 416c0-17.7 14.3-32 32-32l256 0 0 64-256 0c-17.7 0-32-14.3-32-32zM274.1 99.2c2.6-2.6 6.7-3.1 9.9-1.1 32.1 20 53.4 55.6 53.4 96.2 0 62.6-50.7 113.3-113.3 113.3S110.7 256.9 110.7 194.3c0-40.6 21.4-76.2 53.4-96.2 3.1-2 7.2-1.5 9.9 1.1s3.1 6.7 1.2 9.8c-5.2 8.6-8.2 18.7-8.2 29.5 0 15.1 5.9 28.8 15.5 39.1 2.5 2.7 2.9 6.7 .9 9.7-4.7 7.4-7.4 16.1-7.4 25.5 0 21.6 14.3 39.9 34 45.9l1-24.8c-7.1-4.4-11.8-12.2-11.8-21.1 0-9.6 5.5-18 13.5-22.1l3.3-81.8c.2-4.3 3.7-7.7 8-7.7s7.8 3.4 8 7.7l3.3 81.8c8 4.1 13.5 12.4 13.5 22.1 0 8.9-4.7 16.7-11.8 21.1l1 24.8c19.6-6 33.9-24.1 34-45.6l0-.6c-.1-9.3-2.7-17.9-7.4-25.2-1.9-3.1-1.6-7.1 .9-9.7 9.6-10.2 15.5-23.9 15.5-39.1 0-10.8-3-20.9-8.2-29.5-1.9-3.2-1.4-7.2 1.2-9.8z"]},qi={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},wN={prefix:"fas",iconName:"ticket",icon:[576,512,[127903],"f145","M64 64C28.7 64 0 92.7 0 128l0 64C0 200.8 7.4 207.7 15.7 210.6 34.5 217.1 48 235 48 256s-13.5 38.9-32.3 45.4C7.4 304.3 0 311.2 0 320l0 64c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-64c0-8.8-7.4-15.7-15.7-18.6-18.8-6.5-32.3-24.4-32.3-45.4s13.5-38.9 32.3-45.4c8.3-2.9 15.7-9.8 15.7-18.6l0-64c0-35.3-28.7-64-64-64L64 64zM416 336l0-160-256 0 0 160 256 0zM112 160c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32l0-192z"]},$G={prefix:"fas",iconName:"list-ol",icon:[512,512,["list-1-2","list-numeric"],"f0cb","M0 72C0 58.8 10.7 48 24 48l48 0c13.3 0 24 10.7 24 24l0 104 24 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-80-24 0C10.7 96 0 85.3 0 72zM30.4 301.2C41.8 292.6 55.7 288 70 288l4.9 0c33.7 0 61.1 27.4 61.1 61.1 0 19.6-9.4 37.9-25.2 49.4l-24 17.5 33.2 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-90.7 0C13.1 464 0 450.9 0 434.7 0 425.3 4.5 416.5 12.1 411l70.5-51.3c3.4-2.5 5.4-6.4 5.4-10.6 0-7.2-5.9-13.1-13.1-13.1L70 336c-3.9 0-7.7 1.3-10.8 3.6L38.4 355.2c-10.6 8-25.6 5.8-33.6-4.8S-1 324.8 9.6 316.8l20.8-15.6zM224 64l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},N_={prefix:"fas",iconName:"arrow-right",icon:[512,512,[8594],"f061","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Un={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},cn=Un,S_=Un,BG={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},hu=BG,HG={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},UG={prefix:"fas",iconName:"id-card",icon:[576,512,[62147,"drivers-license"],"f2c2","M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64L0 96zm0 48l576 0 0 272c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 144zM247.3 416c20.2 0 35.3-19.4 22.4-35-14.7-17.7-36.9-29-61.7-29l-64 0c-24.8 0-47 11.3-61.7 29-12.9 15.6 2.2 35 22.4 35l142.5 0zM176 312a56 56 0 1 0 0-112 56 56 0 1 0 0 112zM360 208c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-112 0z"]},WG={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},qG={prefix:"fas",iconName:"clock-rotate-left",icon:[576,512,["history"],"f1da","M288 64c106 0 192 86 192 192S394 448 288 448c-65.2 0-122.9-32.5-157.6-82.3-10.1-14.5-30.1-18-44.6-7.9s-18 30.1-7.9 44.6C124.1 468.6 201 512 288 512 429.4 512 544 397.4 544 256S429.4 0 288 0C202.3 0 126.5 42.1 80 106.7L80 80c0-17.7-14.3-32-32-32S16 62.3 16 80l0 112c0 17.7 14.3 32 32 32l24.6 0c.5 0 1 0 1.5 0l86 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-38.3 0C154.9 102.6 217 64 288 64zm24 88c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1z"]},Eh={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},KG={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},j_={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},xs={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},GG={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 0c14.7 0 28.2 8.1 35.2 21l216 400c6.7 12.4 6.4 27.4-.8 39.5S486.1 480 472 480L40 480c-14.1 0-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9 20.5-21 35.2-21zm0 352a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.5 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},NN=GG,YG={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},yi={prefix:"fas",iconName:"arrow-left",icon:[512,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},XG={prefix:"fas",iconName:"underline",icon:[384,512,[],"f0cd","M0 32C0 14.3 14.3 0 32 0L96 0c17.7 0 32 14.3 32 32S113.7 64 96 64l0 160c0 53 43 96 96 96s96-43 96-96l0-160c-17.7 0-32-14.3-32-32S270.3 0 288 0l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 160c0 88.4-71.6 160-160 160S32 312.4 32 224L32 64C14.3 64 0 49.7 0 32zM0 480c0-17.7 14.3-32 32-32l320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32z"]},s5={prefix:"fas",iconName:"robot",icon:[640,512,[129302],"f544","M352 0c0-17.7-14.3-32-32-32S288-17.7 288 0l0 64-96 0c-53 0-96 43-96 96l0 224c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-224c0-53-43-96-96-96l-96 0 0-64zM160 368c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zm120 0c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zm120 0c0-13.3 10.7-24 24-24l32 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-32 0c-13.3 0-24-10.7-24-24zM224 176a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm144 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM64 224c0-17.7-14.3-32-32-32S0 206.3 0 224l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96zm544-32c-17.7 0-32 14.3-32 32l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32z"]},ha={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},Qr=ha,QG={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]},Mh={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M369.4 128l-34.3-48-222.1 0-34.3 48 290.7 0zM0 148.5c0-13.3 4.2-26.3 11.9-37.2L60.9 42.8C72.9 26 92.3 16 112.9 16l222.1 0c20.7 0 40.1 10 52.1 26.8l48.9 68.5c7.8 10.9 11.9 23.9 11.9 37.2L448 416c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 148.5z"]},SN={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},jN={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M256 64c-56.8 0-107.9 24.7-143.1 64l47.1 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 192c-17.7 0-32-14.3-32-32L0 32C0 14.3 14.3 0 32 0S64 14.3 64 32l0 54.7C110.9 33.6 179.5 0 256 0 397.4 0 512 114.6 512 256S397.4 512 256 512c-87 0-163.9-43.4-210.1-109.7-10.1-14.5-6.6-34.4 7.9-44.6s34.4-6.6 44.6 7.9c34.8 49.8 92.4 82.3 157.6 82.3 106 0 192-86 192-192S362 64 256 64z"]},Gb={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},JG={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M169.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L192 205.3 54.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},Yb={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M200 48l112 0c4.4 0 8 3.6 8 8l0 40-128 0 0-40c0-4.4 3.6-8 8-8zm-56 8l0 40-80 0C28.7 96 0 124.7 0 160l0 96 512 0 0-96c0-35.3-28.7-64-64-64l-80 0 0-40c0-30.9-25.1-56-56-56L200 0c-30.9 0-56 25.1-56 56zM512 304l-192 0 0 16c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-16-192 0 0 112c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-112z"]},C_={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},CN={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},d2=CN,k_={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},ZG={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M96.5 0c-35.3 0-64 28.7-64 64l0 384c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-96 78.1 0-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l72-72c9.4-9.4 9.4-24.6 0-33.9l-72-72c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-78.1 0 0-133.5c0-17-6.7-33.3-18.7-45.3L291.2 18.7C279.2 6.7 263 0 246 0L96.5 0zM358 176l-93.5 0c-13.3 0-24-10.7-24-24L240.5 58.5 358 176zM224.5 328c0-13.3 10.7-24 24-24l104 0 0 48-104 0c-13.3 0-24-10.7-24-24z"]},eY={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M48 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM48 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM96 256a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},tY={prefix:"fas",iconName:"cake-candles",icon:[448,512,[127874,"birthday-cake","cake"],"f1fd","M86.4-10.5L61.8 31.6C58 38.1 56 45.6 56 53.2L56 56c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L105.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zm128 0L189.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L233.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5zM317.8 31.6c-3.8 6.5-5.8 14-5.8 21.6l0 2.8c0 22.1 17.9 40 40 40s40-17.9 40-40l0-2.8c0-7.6-2-15-5.8-21.6L361.6-10.5c-2-3.4-5.7-5.5-9.6-5.5s-7.6 2.1-9.6 5.5L317.8 31.6zM128 160c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.5C26.7 226.6 0 262.2 0 304l0 20.8c20.9 1.3 41.6 7.3 60.3 18l7.1 4.1c26.3 15 58.9 13.4 83.6-4.2 43.7-31.2 102.3-31.2 146 0 24.6 17.6 57.3 19.3 83.6 4.2l7.1-4.1c18.7-10.7 39.3-16.7 60.3-18l0-20.8c0-41.8-26.7-77.4-64-90.5l0-53.5c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48-64 0 0-48zM448 373c-12.7 1.2-25.1 5-36.5 11.5l-7.1 4.1c-42.6 24.3-95.4 21.7-135.3-6.8-27-19.3-63.2-19.3-90.2 0-39.9 28.5-92.7 31.2-135.3 6.8l-7.1-4.1C25.1 378 12.7 374.1 0 373l0 75c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-75z"]},nY=tY,rY={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},sY=rY;function iY(){const[t,e]=T.useState(!1),[n,r]=T.useState({email:"",password:""}),[s,i]=T.useState(!1),[a,l]=T.useState(null),c=Ze(),{login:u}=Jl(),d=p=>{const{name:g,value:x}=p.target;r(v=>({...v,[g]:x}))},f=async p=>{p.preventDefault(),e(!0);try{await u(qt.ADMIN,n.email,n.password),c("/dashboard")}catch(g){g.response?.data?.message?l(g.response.data.message):g.response?.status===401?l("Email hoc mt khu khng ng!"):g.code==="ECONNABORTED"?l("Timeout! Vui lng th li."):l("C li xy ra, vui lng th li!")}finally{e(!1)}};return o.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-2xl rounded-2xl p-[2.5rem] border-t-4 border-blue-500",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white text-4xl",children:""})}),o.jsx("h2",{className:"text-[2.2rem] font-bold text-slate-800 mb-2",children:"Qun Tr Vin"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Admin & Staff Portal"}),o.jsx("div",{className:"px-4 py-3 bg-amber-50 border border-amber-200 rounded-lg",children:o.jsxs("p",{className:"text-[1.2rem] text-amber-700 flex items-center justify-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Khu vc hn ch - Khng chia s thng tin ng nhp"]})})]}),o.jsxs("form",{onSubmit:f,className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"admin@company.com",value:n.email,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",name:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition",onChange:d,onFocus:()=>l(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{i(!s)},children:s?o.jsx(z,{icon:da,className:"text-gray-600"}):o.jsx(z,{icon:SN,className:"text-gray-600"})})]})]}),a&&o.jsx("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 rounded",children:o.jsx("p",{className:"text-sm text-red-700 font-medium",children:a})}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-semibold transition-all mt-[1.8rem] ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,type:"submit",disabled:t,children:t?"ang xc thc...":"ng nhp qun tr"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(Qe,{to:"/",className:"text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Lin h IT Support"})})]})})}function ko(){return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 flex items-center justify-center bg-[#4a4a4a52] z-[999]",children:o.jsxs("div",{className:" flex justify-center items-center space-x-2 p-4",children:[o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full"}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"animate-bounce w-4 h-4 bg-blue-500 rounded-full",style:{animationDelay:"0.2s"}})]})})}function aY(t={}){const{nonce:e,locale:n,onScriptLoadSuccess:r,onScriptLoadError:s}=t,[i,a]=T.useState(!1),l=T.useRef(r);l.current=r;const c=T.useRef(s);return c.current=s,T.useEffect(()=>{const u=document.createElement("script");return u.src="https://accounts.google.com/gsi/client",n&&(u.src+=`?hl=${n}`),u.async=!0,u.defer=!0,u.nonce=e,u.onload=()=>{var d;a(!0),(d=l.current)===null||d===void 0||d.call(l)},u.onerror=()=>{var d;a(!1),(d=c.current)===null||d===void 0||d.call(c)},document.body.appendChild(u),()=>{document.body.removeChild(u)}},[e]),i}const T_=T.createContext(null);function oY({clientId:t,nonce:e,locale:n,onScriptLoadSuccess:r,onScriptLoadError:s,children:i}){const a=aY({nonce:e,onScriptLoadSuccess:r,onScriptLoadError:s,locale:n}),l=T.useMemo(()=>({locale:n,clientId:t,scriptLoadedSuccessfully:a}),[t,a]);return ye.createElement(T_.Provider,{value:l},i)}function lY(){const t=T.useContext(T_);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function cY({flow:t="implicit",scope:e="",onSuccess:n,onError:r,onNonOAuthError:s,overrideScope:i,state:a,...l}){const{clientId:c,scriptLoadedSuccessfully:u}=lY(),d=T.useRef(),f=T.useRef(n);f.current=n;const p=T.useRef(r);p.current=r;const g=T.useRef(s);g.current=s,T.useEffect(()=>{var b,w;if(!u)return;const N=t==="implicit"?"initTokenClient":"initCodeClient",C=(w=(b=window?.google)===null||b===void 0?void 0:b.accounts)===null||w===void 0?void 0:w.oauth2[N]({client_id:c,scope:i?e:`openid profile email ${e}`,callback:M=>{var j,A;if(M.error)return(j=p.current)===null||j===void 0?void 0:j.call(p,M);(A=f.current)===null||A===void 0||A.call(f,M)},error_callback:M=>{var j;(j=g.current)===null||j===void 0||j.call(g,M)},state:a,...l});d.current=C},[c,u,t,e,a]);const x=T.useCallback(b=>{var w;return(w=d.current)===null||w===void 0?void 0:w.requestAccessToken(b)},[]),v=T.useCallback(()=>{var b;return(b=d.current)===null||b===void 0?void 0:b.requestCode()},[]);return t==="implicit"?x:v}var Di={},cs={},Ko={},Go={},Cd={},i5;function uY(){if(i5)return Cd;i5=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.createScriptEle=void 0;const t=(e,n)=>new Promise(r=>{var s;const a=document.getElementsByTagName("script")[0];if(document.getElementById(e)){r(void 0);return}const l=document.createElement("script");if(l.id=e,l.src=n,l.onload=r,a)(s=a.parentNode)===null||s===void 0||s.insertBefore(l,a);else{const c=document.body.childNodes;document.body.insertBefore(l,c.item(c.length-1))}});return Cd.createScriptEle=t,Cd}var Xb={},a5;function dY(){return a5||(a5=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.paramsToObject=t.objectToParams=t.isObject=void 0;const e=s=>Object.prototype.toString.call(s)==="[object Object]";t.isObject=e;const n=s=>!(0,t.isObject)(s)||Object.keys(s).length===0?"":"?"+Object.keys(s).map(i=>`${i}=${encodeURIComponent(s[i])}`).join("&");t.objectToParams=n;const r=s=>s?.replace(/^\?/,"").split("&").reduce((i,a)=>{if(!a)return i;const[l,c]=a.split("=");return Object.assign(Object.assign({},i),{[l]:decodeURIComponent(c)})},{})||{};t.paramsToObject=r})(Xb)),Xb}var kd={},o5;function hY(){if(o5)return kd;o5=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.isFacebookApp=void 0;const t=()=>{if(typeof window>"u")return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1};return kd.isFacebookApp=t,kd}var l5;function kN(){return l5||(l5=1,(function(t){var e=Go&&Go.__createBinding||(Object.create?(function(r,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,a,l)}):(function(r,s,i,a){a===void 0&&(a=i),r[a]=s[i]})),n=Go&&Go.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(uY(),t),n(dY(),t),n(hY(),t)})(Go)),Go}var c5;function E_(){return c5||(c5=1,(function(t){var e=Ko&&Ko.__awaiter||function(s,i,a,l){function c(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function f(x){try{g(l.next(x))}catch(v){d(v)}}function p(x){try{g(l.throw(x))}catch(v){d(v)}}function g(x){x.done?u(x.value):c(x.value).then(f,p)}g((l=l.apply(s,i||[])).next())})},n=Ko&&Ko.__rest||function(s,i){var a={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&i.indexOf(l)<0&&(a[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)i.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(a[l[c]]=s[l[c]]);return a};Object.defineProperty(t,"__esModule",{value:!0}),t.FacebookLoginClient=t.SDK_SCRIPT_ELE_ID=void 0;const r=kN();t.SDK_SCRIPT_ELE_ID="facebook-jssdk",t.FacebookLoginClient={getFB:()=>window.FB?window.FB:(console.warn("FB not found"),null),getLoginStatus(s,i=!1){const a=this.getFB();if(!a){s({status:"unknown"});return}a.getLoginStatus(s,i)},getProfile(s,i){var a;(a=this.getFB())===null||a===void 0||a.api("me",i,s)},init(s){var i;(i=this.getFB())===null||i===void 0||i.init(s)},clear(){window.FB=null;const s=document.getElementById(t.SDK_SCRIPT_ELE_ID);s&&s.remove()},isRedirected(s){var i,a;const l=(0,r.paramsToObject)(window.location.search);return((i=l.state===s?.state)!==null&&i!==void 0?i:"facebookdirect")&&l[(a=s?.response_type)!==null&&a!==void 0?a:""]!==void 0},loadSdk(s,i){return e(this,void 0,void 0,function*(){yield(0,r.createScriptEle)(t.SDK_SCRIPT_ELE_ID,`https://connect.facebook.net/${s}/sdk${i?"/xfbml.customerchat":""}.js`)})},redirectToDialog(s,i){var{ignoreSdkError:a}=i,l=n(i,["ignoreSdkError"]);window.location.href=`https://www.facebook.com/dialog/oauth${(0,r.objectToParams)(Object.assign(Object.assign({},s),l))}`},login(s,i){var a,{ignoreSdkError:l}=i,c=n(i,["ignoreSdkError"]);try{(a=this.getFB())===null||a===void 0||a.login(s,c)}catch(u){if(l)return;throw u}},logout(s){this.getLoginStatus(i=>{var a;i.status==="connected"?(a=this.getFB())===null||a===void 0||a.logout(s):s()})}}})(Ko)),Ko}var u5;function d5(){if(u5)return cs;u5=1;var t=cs&&cs.__createBinding||(Object.create?(function(c,u,d,f){f===void 0&&(f=d);var p=Object.getOwnPropertyDescriptor(u,d);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,f,p)}):(function(c,u,d,f){f===void 0&&(f=d),c[f]=u[d]})),e=cs&&cs.__setModuleDefault||(Object.create?(function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}):function(c,u){c.default=u}),n=cs&&cs.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&t(u,c,d);return e(u,c),u},r=cs&&cs.__awaiter||function(c,u,d,f){function p(g){return g instanceof d?g:new d(function(x){x(g)})}return new(d||(d=Promise))(function(g,x){function v(N){try{w(f.next(N))}catch(C){x(C)}}function b(N){try{w(f.throw(N))}catch(C){x(C)}}function w(N){N.done?g(N.value):p(N.value).then(v,b)}w((f=f.apply(c,u||[])).next())})};Object.defineProperty(cs,"__esModule",{value:!0});const s=n(Yl()),i=E_(),a=kN();function l(c){var u,d;const{appId:f,language:p="en_US",scope:g="public_profile, email",fields:x="name,email,picture",onSuccess:v,onFail:b,onProfileSuccess:w,className:N,style:C,children:M="Login with Facebook",render:j,autoLoad:A=!1,useRedirect:P=!1,useCustomerChat:E=!1}=c,_=Object.assign(Object.assign({version:"v16.0",xfbml:!1,cookie:!1,localStorage:!0},c.initParams),{appId:f}),L=Object.assign(Object.assign({redirect_uri:typeof window<"u"?location.origin+location.pathname:"/",state:"facebookdirect",response_type:"code"},c.dialogParams),{client_id:f}),D=Object.assign(Object.assign({return_scopes:!1,ignoreSdkError:!1},c.loginOptions),{auth_nonce:typeof((u=c.loginOptions)===null||u===void 0?void 0:u.auth_nonce)=="function"?c.loginOptions.auth_nonce():(d=c.loginOptions)===null||d===void 0?void 0:d.auth_nonce,scope:g});(0,s.useEffect)(()=>{R()},[]);const R=()=>r(this,void 0,void 0,function*(){yield i.FacebookLoginClient.loadSdk(p,E),window.fbAsyncInit=()=>{i.FacebookLoginClient.init(_);const q=i.FacebookLoginClient.isRedirected(L);if(q===!1&&A){U();return}q===!0&&P&&G()}}),G=()=>{i.FacebookLoginClient.login(q=>{if(!q.authResponse){b&&b({status:"loginCancelled"});return}v&&v(q.authResponse),w&&i.FacebookLoginClient.getProfile(w,{fields:x})},Object.assign(Object.assign({},D),{scope:g}))},U=()=>{if((0,a.isFacebookApp)()||P){i.FacebookLoginClient.redirectToDialog(L,D);return}if(!window.FB){b&&b({status:"facebookNotLoaded"});return}G()};return j?j({onClick:U,logout:i.FacebookLoginClient.logout}):s.default.createElement("button",{type:"button",onClick:U,className:N,style:C},M)}return cs.default=l,cs}var Yo={},Qb={},h5;function fY(){return h5||(h5=1,Object.defineProperty(Qb,"__esModule",{value:!0})),Qb}var Jb={},f5;function mY(){return f5||(f5=1,Object.defineProperty(Jb,"__esModule",{value:!0})),Jb}var Zb={},m5;function pY(){return m5||(m5=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LoginStatus=void 0,(function(e){e.Connected="connected",e.NotAuthorized="not_authorized",e.Unknown="unknown"})(t.LoginStatus||(t.LoginStatus={}))})(Zb)),Zb}var p5;function gY(){return p5||(p5=1,(function(t){var e=Yo&&Yo.__createBinding||(Object.create?(function(r,s,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,a,l)}):(function(r,s,i,a){a===void 0&&(a=i),r[a]=s[i]})),n=Yo&&Yo.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(fY(),t),n(mY(),t),n(pY(),t)})(Yo)),Yo}var g5;function xY(){return g5||(g5=1,(function(t){var e=Di&&Di.__createBinding||(Object.create?(function(i,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,c,u)}):(function(i,a,l,c){c===void 0&&(c=l),i[c]=a[l]})),n=Di&&Di.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,i,l)},r=Di&&Di.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(d5());n(kN(),t),n(gY(),t),n(d5(),t),n(E_(),t),t.default=s.default})(Di)),Di}var yY=xY();const bY=af(yY),vY="/manage-sell-client/assets/google-logo-b5LCHsnO.png",wY="/manage-sell-client/assets/facebook-logo-VxUvYPbK.png";function NY(){const[t,e]=T.useState(!1),[n,r]=T.useState({email:"",password:""}),[s,i]=T.useState(null),a=Ze(),c=ir().state?.from||"/",{login:u}=Jl(),[d,f]=T.useState(!1),[p,g]=T.useState(!1),[x,v]=T.useState(!1),b=ga(),w=P=>{const{name:E,value:_}=P.target;r(L=>({...L,[E]:_}))},N=async()=>{try{if(x){const P=JSON.parse(localStorage.getItem("localCart")||"[]");P.length>0&&(await he.post("/api/v1/cart/merge",{localItems:P})).status&&(ce.success(" gp gi hng ca bn!"),localStorage.removeItem("localCart"))}c==="/checkout"?a("/cart/detail",{replace:!0}):a(c,{replace:!0})}catch{ce.error("Li khi gp gi hng!"),a(c,{replace:!0})}},C=async P=>{P.preventDefault(),e(!0),i(null);try{await u(qt.USER,n.email,n.password),await N()}catch(E){if(E.message?.includes(qt.ADMIN||qt.STAFF)){g(!0);return}i(E?.message||"ng nhp tht bi!")}finally{e(!1)}},M=cY({onSuccess:async P=>{try{const{credential:E}=P;(await he.post("/api/v1/auth/login-google",{idToken:E})).status&&(await b.invalidateQueries({queryKey:["user"]}),await N())}catch(E){console.log(E),ce.error(E.message||"C li xy ra. Vui lng thc hin li!")}},onError:()=>{ce.error("ng nhp Google tht bi. Vui lng th li!")}}),j=async P=>{try{const{accessToken:E}=P;(await he.post("/api/v1/auth/login-facebook",{accessToken:E})).status&&(await b.invalidateQueries({queryKey:["user"]}),await N())}catch(E){console.log(E),ce.error(E.message||" c li xy ra. Vui lng thc hin li!")}},A=async()=>{console.log("ng nhp vi facebook tht bi. Vui lng thc hin li!")};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsx("button",{type:"button",className:"absolute top-4 right-4 w-16 h-16 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-500 cursor-pointer",onClick:()=>a("/"),children:o.jsx(z,{icon:cn})}),o.jsxs("div",{className:"w-[90%] md:max-w-3xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng nhp"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem]",children:"Cho mng bn tr li! "})]}),o.jsxs("form",{onSubmit:C,className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",id:"email",placeholder:"your@email.com",value:n.email,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:w,onFocus:()=>i(null),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",name:"password",id:"password",placeholder:"",value:n.password,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition",onChange:w,onFocus:()=>i(null),required:!0}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(z,{icon:da,className:"text-gray-600"}):o.jsx(z,{icon:SN,className:"text-gray-600"})})]})]}),s&&o.jsx("p",{className:"text-[1.4rem] text-red-600",children:s}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[o.jsx("label",{htmlFor:"mergeCart",children:"Gp gi hng khi ang nhp"}),o.jsx("input",{type:"checkbox",id:"mergeCart",name:"mergeCart",checked:x,className:"",style:{scale:1.2},onChange:P=>v(P.target.checked)})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition ${t?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:t,children:t?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng nhp"})]}),o.jsxs("div",{className:"mt-6 space-y-3 text-center ",children:[o.jsx(Qe,{to:"/",className:"block text-[1.4rem] text-blue-600 hover:text-blue-700 font-medium",children:"Qun mt khu?"}),o.jsxs("div",{className:"flex items-center gap-2.5 my-5 md:flex-row flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2.5 border border-gray-300 p-2.5 rounded-md text-[1.4rem] w-full justify-center cursor-pointer",onClick:()=>M(),children:[o.jsx("img",{src:vY,alt:"google logo",className:"w-8 h-8 object-cover"}),"ng nhp vi Google"]}),o.jsx(bY,{appId:"1398551758481059",scope:"public_profile,email",fields:"id,name,email,picture",onSuccess:j,onFail:A,render:({onClick:P})=>o.jsxs("button",{type:"button",className:"flex items-center gap-2.5 border border-gray-300 p-2.5 rounded-md text-[1.4rem] w-full justify-center cursor-pointer",onClick:P,children:[o.jsx("img",{src:wY,alt:"google logo",className:"w-8 h-8 object-cover "}),"ng nhp vi Facebook"]})})]}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Cha c ti khon?"," ",o.jsx(Qe,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng k ngay"})]})})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>a("/admin/login"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>g(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),t&&o.jsx(ko,{})]})}function SY(){return o.jsx("div",{children:"AboutPage"})}function jY(){return o.jsx("div",{className:"overflow-hidden",children:o.jsx(Ql,{})})}const TN="/manage-sell-client/assets/avatar-default-zyCK33tM.png";function CY(){const{user:t}=jt(),{logout:e}=Jl(),n=Ze(),[r,s]=T.useState(!1),i=T.useRef(null),a=async()=>{e(),n("/")};return T.useEffect(()=>{function l(c){i.current&&!i.current.contains(c.target)&&s(!1)}return r&&window.addEventListener("mousedown",l),()=>{window.removeEventListener("mousedown",l)}},[r]),o.jsxs("header",{className:"fixed w-full h-[6rem] bg-white backdrop-blur-md bg-opacity-95 flex items-center justify-between px-[2rem] shadow-lg border-b border-gray-200 z-[500]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("h1",{className:"text-[2.4rem] font-bold bg-gradient-to-r from-amber-600 to-amber-800 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:"h-[3rem] w-[0.2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 font-medium",children:"Admin Dashboard"})]}),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative w-[36rem] h-[4rem] border-2 border-gray-300 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-200 focus-within:border-amber-500 focus-within:shadow-lg",children:[o.jsx("input",{type:"text",placeholder:"Tm kim sn phm, n hng, khch hng...",className:"text-[1.4rem] pl-[2rem] pr-[6rem] w-full h-full outline-none border-none bg-gray-50 focus:bg-white transition-colors"}),o.jsx("button",{className:"w-[4rem] h-[4rem] absolute right-0 top-0 rounded-2xl border-none bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 transition-all duration-200 flex items-center justify-center text-white shadow-lg hover:shadow-xl",type:"submit",children:o.jsx(z,{icon:Dr,className:"text-[1.6rem]"})})]})}),o.jsxs("div",{className:"relative flex items-center gap-[2rem]",ref:i,children:[o.jsxs("button",{className:"flex items-center gap-[1.2rem] p-[0.8rem] rounded-xl transition-all duration-200 group cursor-pointer",onClick:()=>s(!r),children:[o.jsx("img",{src:t?.avatar??TN,alt:"Admin Avatar",className:"h-[4.8rem] w-[4.8rem] rounded-[50%] border border-amber-300 shadow-lg group-hover:border-amber-400 transition-all duration-200"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("div",{className:"font-bold text-[1.4rem] text-gray-800",children:t?.username}),o.jsx("div",{className:"text-[1.2rem] text-amber-600 font-medium",children:t?.role===qt.ADMIN?"Super Admin":"Manager"})]}),o.jsx("svg",{className:"h-5 w-5 text-gray-400 group-hover:text-amber-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&o.jsxs("div",{className:"absolute right-0 top-[105%] w-[18rem] bg-white border border-gray-200 rounded-2xl shadow-lg overflow-hidden animate-fadeIn z-10",children:[o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-amber-50 hover:text-amber-700 transition-colors",onClick:()=>{n("/dashboard/profile"),s(!1)},children:"Trang c nhn"}),o.jsx("button",{className:"w-full text-left px-[1.6rem] py-[1rem] text-[1.4rem] text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors",onClick:a,children:"ng xut"})]})]})]})}const x5=[{id:1,label:"Dashboard",path:""},{id:2,label:"Sn phm",path:"products",children:[{id:21,label:"Sn phm",path:"products"},{id:22,label:"Danh mc",path:"categories"}]},{id:5,label:"n hng",path:"orders",children:[{id:23,label:"Danh sch n hng",path:"orders/list-order"}]},{id:6,label:"Nhn vin",path:"staff"},{id:7,label:"Khch hng thnh vin",path:"customers"},{id:8,label:"Khch vng lai",path:"guest-customers"},{id:9,label:"FlashSale",path:"flashsale"},{id:10,label:"Gim gi",path:"discount"},{id:11,label:"Banner",path:"banner-slide"},{id:12,label:"C nhn",path:"profile"}];function kY(){const{logout:t}=Jl(),e=Ze(),[n,r]=T.useState(()=>{const a=sessionStorage.getItem("sidebarSelected");return a?JSON.parse(a):{id:1,subId:void 0}});T.useEffect(()=>()=>{sessionStorage.removeItem("sidebarSelected")},[]);const s=a=>{if(a.children){const l={id:n?.id===a.id?null:a.id};r(l),sessionStorage.setItem("sidebarSelected",JSON.stringify(l))}else{const l={id:a.id};r(l),sessionStorage.setItem("sidebarSelected",JSON.stringify(l)),e(`/dashboard/${a.path}`)}},i=(a,l)=>{const c={id:a,subId:l.id};r(c),sessionStorage.setItem("sidebarSelected",JSON.stringify(c)),e(`/dashboard/${l.path}`)};return x5.length===0?null:o.jsxs("aside",{className:"fixed top-[6rem] left-0 w-[15%] h-[calc(100vh-6rem)] bg-white shadow-xl overflow-auto hide-scrollbar border-r border-gray-200",children:[o.jsx("div",{className:"p-[2rem] border-b border-gray-100",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 px-[2rem] py-[1.2rem] rounded-xl text-center shadow-lg",children:o.jsx("h3",{className:"text-white font-bold text-[1.6rem]",children:" Admin Panel"})})}),o.jsxs("nav",{className:"p-[1.6rem]",children:[o.jsx("div",{className:"space-y-[0.8rem]",children:x5.map((a,l)=>o.jsxs("div",{children:[o.jsx("button",{className:`w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-100 group ${n?.id===a.id?"bg-gradient-to-r from-blue-100 to-blue-50 text-amber-900 shadow-md border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"}`,onClick:()=>s(a),children:o.jsxs("div",{className:"w-full flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-[1.4rem]",children:a.label}),a?.children&&o.jsx(z,{icon:n?.id===a.id?JG:Eh})]})}),o.jsx("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${n?.id===a.id?"max-h-[20rem] pb-2":"max-h-0"}`,children:a?.children?.map(c=>o.jsx("div",{className:"pl-[1rem] pt-4",children:o.jsx("button",{onClick:()=>i(a.id,c),className:`w-full text-left text-[1.4rem] ${n.subId===c.id?"bg-gray-100 text-gray-900 shadow-sm":""} text-gray-600 px-[1rem] py-[1.2rem] rounded-lg hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm`,children:c.label},c.id)},c.id))})]},l))}),o.jsx("div",{className:"mt-[3rem] pt-[2rem] border-t border-gray-200",children:o.jsxs("button",{className:"w-full flex items-center gap-[1.2rem] p-[1.2rem] rounded-xl text-left transition-all duration-200 text-red-600 hover:bg-red-50 hover:text-red-700 group",onClick:()=>t(),children:[o.jsx("div",{className:"w-[3.2rem] h-[3.2rem] rounded-lg flex items-center justify-center transition-all duration-200 bg-red-100 text-red-500 group-hover:bg-red-200",children:o.jsx(z,{icon:u2,className:"text-[1.4rem]"})}),o.jsx("span",{className:"font-medium text-[1.4rem]",children:"ng xut"})]})})]})]})}function TY(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br",children:[o.jsx(CY,{}),o.jsxs("div",{className:"flex",children:[o.jsx(kY,{}),o.jsx("main",{className:"flex-1 ml-[15%] p-[2rem] mt-[6rem]",children:o.jsx(Ql,{})})]})]})}const EY=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await he.get("/api/v1/orders/dashboard-overview",{params:e})).data},MY=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await he.get("/api/v1/orders/dashboard-statistics",{params:e})).data};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bf(t){return t+.5|0}const Ja=(t,e,n)=>Math.max(Math.min(t,n),e);function $d(t){return Ja(bf(t*2.55),0,255)}function lo(t){return Ja(bf(t*255),0,255)}function Gi(t){return Ja(bf(t/2.55)/100,0,1)}function y5(t){return Ja(bf(t*100),0,100)}const us={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},h2=[..."0123456789ABCDEF"],PY=t=>h2[t&15],AY=t=>h2[(t&240)>>4]+h2[t&15],Wm=t=>(t&240)>>4===(t&15),OY=t=>Wm(t.r)&&Wm(t.g)&&Wm(t.b)&&Wm(t.a);function _Y(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&us[t[1]]*17,g:255&us[t[2]]*17,b:255&us[t[3]]*17,a:e===5?us[t[4]]*17:255}:(e===7||e===9)&&(n={r:us[t[1]]<<4|us[t[2]],g:us[t[3]]<<4|us[t[4]],b:us[t[5]]<<4|us[t[6]],a:e===9?us[t[7]]<<4|us[t[8]]:255})),n}const DY=(t,e)=>t<255?e(t):"";function IY(t){var e=OY(t)?PY:AY;return t?"#"+e(t.r)+e(t.g)+e(t.b)+DY(t.a,e):void 0}const LY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function M_(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function RY(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function FY(t,e,n){const r=M_(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function zY(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function EN(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=l>.5?d/(2-i-a):d/(i+a),c=zY(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function MN(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(lo)}function PN(t,e,n){return MN(M_,t,e,n)}function VY(t,e,n){return MN(FY,t,e,n)}function $Y(t,e,n){return MN(RY,t,e,n)}function P_(t){return(t%360+360)%360}function BY(t){const e=LY.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?$d(+e[5]):lo(+e[5]));const s=P_(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=VY(s,i,a):e[1]==="hsv"?r=$Y(s,i,a):r=PN(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function HY(t,e){var n=EN(t);n[0]=P_(n[0]+e),n=PN(n),t.r=n[0],t.g=n[1],t.b=n[2]}function UY(t){if(!t)return;const e=EN(t),n=e[0],r=y5(e[1]),s=y5(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Gi(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const b5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},v5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function WY(){const t={},e=Object.keys(v5),n=Object.keys(b5);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,b5[i]);i=parseInt(v5[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let qm;function qY(t){qm||(qm=WY(),qm.transparent=[0,0,0,0]);const e=qm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const KY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GY(t){const e=KY.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?$d(a):Ja(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?$d(r):Ja(r,0,255)),s=255&(e[4]?$d(s):Ja(s,0,255)),i=255&(e[6]?$d(i):Ja(i,0,255)),{r,g:s,b:i,a:n}}}function YY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Gi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ev=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Dc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function XY(t,e,n){const r=Dc(Gi(t.r)),s=Dc(Gi(t.g)),i=Dc(Gi(t.b));return{r:lo(ev(r+n*(Dc(Gi(e.r))-r))),g:lo(ev(s+n*(Dc(Gi(e.g))-s))),b:lo(ev(i+n*(Dc(Gi(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Km(t,e,n){if(t){let r=EN(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=PN(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function A_(t,e){return t&&Object.assign(e||{},t)}function w5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=lo(t[3]))):(e=A_(t,{r:0,g:0,b:0,a:1}),e.a=lo(e.a)),e}function QY(t){return t.charAt(0)==="r"?GY(t):BY(t)}let O_=class f2{constructor(e){if(e instanceof f2)return e;const n=typeof e;let r;n==="object"?r=w5(e):n==="string"&&(r=_Y(e)||qY(e)||QY(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=A_(this._rgb);return e&&(e.a=Gi(e.a)),e}set rgb(e){this._rgb=w5(e)}rgbString(){return this._valid?YY(this._rgb):void 0}hexString(){return this._valid?IY(this._rgb):void 0}hslString(){return this._valid?UY(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=XY(this._rgb,e._rgb,n)),this}clone(){return new f2(this.rgb)}alpha(e){return this._rgb.a=lo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=bf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Km(this._rgb,2,e),this}darken(e){return Km(this._rgb,2,-e),this}saturate(e){return Km(this._rgb,1,e),this}desaturate(e){return Km(this._rgb,1,-e),this}rotate(e){return HY(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ii(){}const JY=(()=>{let t=0;return()=>t++})();function at(t){return t==null}function zt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ot(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $r(t,e){return Zt(t)?t:e}function Je(t,e){return typeof t>"u"?e:t}const ZY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,__=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Tt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Nt(t,e,n,r){let s,i,a;if(zt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ot(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function yg(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function bg(t){if(zt(t))return t.map(bg);if(ot(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=bg(t[n[s]]);return e}return t}function D_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function eX(t,e,n,r){if(!D_(t))return;const s=e[t],i=n[t];ot(s)&&ot(i)?Ph(s,i,r):e[t]=bg(i)}function Ph(t,e,n){const r=zt(e)?e:[e],s=r.length;if(!ot(t))return t;n=n||{};const i=n.merger||eX;let a;for(let l=0;l<s;++l){if(a=r[l],!ot(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function eh(t,e){return Ph(t,e,{merger:tX})}function tX(t,e,n){if(!D_(t))return;const r=e[t],s=n[t];ot(r)&&ot(s)?eh(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=bg(s))}const N5={"":t=>t,x:t=>t.x,y:t=>t.y};function nX(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function rX(t){const e=nX(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function vo(t,e){return(N5[e]||(N5[e]=rX(e)))(t)}function AN(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ah=t=>typeof t<"u",wo=t=>typeof t=="function",S5=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function sX(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ht=Math.PI,It=2*ht,iX=It+ht,vg=Number.POSITIVE_INFINITY,aX=ht/180,on=ht/2,Xo=ht/4,j5=ht*2/3,Za=Math.log10,hi=Math.sign;function th(t,e,n){return Math.abs(t-e)<n}function C5(t){const e=Math.round(t);t=th(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Za(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function oX(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function lX(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function fu(t){return!lX(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function cX(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function I_(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Rs(t){return t*(ht/180)}function ON(t){return t*(180/ht)}function k5(t){if(!Zt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function L_(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ht&&(i+=It),{angle:i,distance:s}}function m2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uX(t,e){return(t-e+iX)%It-ht}function Jn(t){return(t%It+It)%It}function Oh(t,e,n,r){const s=Jn(t),i=Jn(e),a=Jn(n),l=Jn(i-s),c=Jn(a-s),u=Jn(s-i),d=Jn(s-a);return s===i||s===a||r&&i===a||l>c&&u<d}function En(t,e,n){return Math.max(e,Math.min(n,t))}function dX(t){return En(t,-32768,32767)}function Xi(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function _N(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Qi=(t,e,n,r)=>_N(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),hX=(t,e,n)=>_N(t,n,r=>t[r][e]>=n);function fX(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const R_=["push","pop","shift","splice","unshift"];function mX(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),R_.forEach(n=>{const r="_onData"+AN(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),a}})})}function T5(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(R_.forEach(i=>{delete t[i]}),delete t._chartjs)}function F_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const z_=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function V_(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,z_.call(window,()=>{r=!1,t.apply(e,n)}))}}function pX(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const DN=t=>t==="start"?"left":t==="end"?"right":"center",Xn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,gX=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function $_(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:p,minDefined:g,maxDefined:x}=a.getUserBounds();if(g){if(s=Math.min(Qi(c,d,f).lo,n?r:Qi(e,d,a.getPixelForValue(f)).lo),u){const v=c.slice(0,s+1).reverse().findIndex(b=>!at(b[l.axis]));s-=Math.max(0,v)}s=En(s,0,r-1)}if(x){let v=Math.max(Qi(c,a.axis,p,!0).hi+1,n?0:Qi(e,d,a.getPixelForValue(p),!0).hi+1);if(u){const b=c.slice(v-1).findIndex(w=>!at(w[l.axis]));v+=Math.max(0,b)}i=En(v,s,r)-s}else i=r-s}return{start:s,count:i}}function B_(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Gm=t=>t===0||t===1,E5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*It/n)),M5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*It/n)+1,nh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*on)+1,easeOutSine:t=>Math.sin(t*on),easeInOutSine:t=>-.5*(Math.cos(ht*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Gm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Gm(t)?t:E5(t,.075,.3),easeOutElastic:t=>Gm(t)?t:M5(t,.075,.3),easeInOutElastic(t){return Gm(t)?t:t<.5?.5*E5(t*2,.1125,.45):.5+.5*M5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-nh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?nh.easeInBounce(t*2)*.5:nh.easeOutBounce(t*2-1)*.5+.5};function IN(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function P5(t){return IN(t)?t:new O_(t)}function tv(t){return IN(t)?t:new O_(t).saturate(.5).darken(.1).hexString()}const xX=["x","y","borderWidth","radius","tension"],yX=["color","borderColor","backgroundColor"];function bX(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:yX},numbers:{type:"number",properties:xX}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vX(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const A5=new Map;function wX(t,e){e=e||{};const n=t+JSON.stringify(e);let r=A5.get(n);return r||(r=new Intl.NumberFormat(t,e),A5.set(n,r)),r}function vf(t,e,n){return wX(e,n).format(t)}const H_={values(t){return zt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=NX(t,n)}const a=Za(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),vf(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Za(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?H_.numeric.call(this,t,e,n):""}};function NX(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var tx={formatters:H_};function SX(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Fl=Object.create(null),p2=Object.create(null);function rh(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function nv(t,e,n){return typeof e=="string"?Ph(rh(t,e),n):Ph(rh(t,""),e)}class jX{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>tv(s.backgroundColor),this.hoverBorderColor=(r,s)=>tv(s.borderColor),this.hoverColor=(r,s)=>tv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return nv(this,e,n)}get(e){return rh(this,e)}describe(e,n){return nv(p2,e,n)}override(e,n){return nv(Fl,e,n)}route(e,n,r,s){const i=rh(this,e),a=rh(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[s];return ot(c)?Object.assign({},u,c):Je(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Vt=new jX({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bX,vX,SX]);function CX(t){return!t||at(t.size)||at(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function wg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function kX(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const l=n.length;let c,u,d,f,p;for(c=0;c<l;c++)if(f=n[c],f!=null&&!zt(f))a=wg(t,s,i,a,f);else if(zt(f))for(u=0,d=f.length;u<d;u++)p=f[u],p!=null&&!zt(p)&&(a=wg(t,s,i,a,p));t.restore();const g=i.length/2;if(g>n.length){for(c=0;c<g;c++)delete s[i[c]];i.splice(0,g)}return a}function Qo(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function O5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function g2(t,e,n,r){U_(t,e,n,r,null)}function U_(t,e,n,r,s){let i,a,l,c,u,d,f,p;const g=e.pointStyle,x=e.rotation,v=e.radius;let b=(x||0)*aX;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,r,s/2,v,0,0,It):t.arc(n,r,v,0,It),t.closePath();break;case"triangle":d=s?s/2:v,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=j5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=j5,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),t.closePath();break;case"rectRounded":u=v*.516,c=v-u,a=Math.cos(b+Xo)*c,f=Math.cos(b+Xo)*(s?s/2-u:c),l=Math.sin(b+Xo)*c,p=Math.sin(b+Xo)*(s?s/2-u:c),t.arc(n-f,r-l,u,b-ht,b-on),t.arc(n+p,r-a,u,b-on,b),t.arc(n+f,r+l,u,b,b+on),t.arc(n-p,r+a,u,b+on,b+ht),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*v,d=s?s/2:c,t.rect(n-d,r-c,2*d,2*c);break}b+=Xo;case"rectRot":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+p,r-a),t.lineTo(n+f,r+l),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":b+=Xo;case"cross":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),b+=Xo,f=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,l=Math.sin(b)*v,p=Math.sin(b)*(s?s/2:v),t.moveTo(n-f,r-l),t.lineTo(n+f,r+l),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=s?s/2:Math.cos(b)*v,l=Math.sin(b)*v,t.moveTo(n-a,r-l),t.lineTo(n+a,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:v),r+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ji(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function nx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rx(t){t.restore()}function TX(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function EX(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function MX(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),at(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function PX(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(l,d),t.stroke()}}function AX(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function zl(t,e,n,r,s,i={}){const a=zt(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=s.string,MX(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&AX(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),at(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),PX(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function _h(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ht,ht,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ht,on,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,on,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-on,!0),t.lineTo(n+a.topLeft,r)}const OX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_X=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DX(t,e){const n=(""+t).match(OX);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const IX=t=>+t||0;function LN(t,e){const n={},r=ot(e),s=r?Object.keys(e):e,i=ot(t)?r?a=>Je(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=IX(i(a));return n}function W_(t){return LN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Nl(t){return LN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function nr(t){const e=W_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nn(t,e){t=t||{},e=e||Vt.font;let n=Je(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Je(t.style,e.style);r&&!(""+r).match(_X)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Je(t.family,e.family),lineHeight:DX(Je(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Je(t.weight,e.weight),string:""};return s.string=CX(s),s}function Bd(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function LX(t,e,n){const{min:r,max:s}=t,i=__(e,(s-r)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function To(t,e){return Object.assign(Object.create(t),e)}function RN(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=Y_("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>RN([l,...t],e,i,r)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return K_(l,c,()=>UX(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return D5(l).includes(c)},ownKeys(l){return D5(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function mu(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:q_(t,r),setContext:i=>mu(t,i,n,r),override:i=>mu(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return K_(i,a,()=>FX(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function q_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:wo(n)?n:()=>n,isIndexable:wo(r)?r:()=>r}}const RX=(t,e)=>t?t+AN(e):e,FN=(t,e)=>ot(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function K_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function FX(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let l=r[e];return wo(l)&&a.isScriptable(e)&&(l=zX(e,l,t,n)),zt(l)&&l.length&&(l=VX(e,l,t,a.isIndexable)),FN(e,l)&&(l=mu(l,s,i&&i[e],a)),l}function zX(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||r);return l.delete(t),FN(t,c)&&(c=zN(s._scopes,s,t,c)),c}function VX(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ot(e[0])){const c=e,u=s._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=zN(u,s,t,d);e.push(mu(f,i,a&&a[t],l))}}return e}function G_(t,e,n){return wo(t)?t(e,n):t}const $X=(t,e)=>t===!0?e:typeof t=="string"?vo(e,t):void 0;function BX(t,e,n,r,s){for(const i of e){const a=$X(n,i);if(a){t.add(a);const l=G_(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function zN(t,e,n,r){const s=e._rootScopes,i=G_(e._fallback,n,r),a=[...t,...s],l=new Set;l.add(r);let c=_5(l,a,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=_5(l,a,i,c,r),c===null)?!1:RN(Array.from(l),[""],s,i,()=>HX(e,n,r))}function _5(t,e,n,r,s){for(;n;)n=BX(t,e,n,r,s);return n}function HX(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return zt(s)&&ot(n)?n:s||{}}function UX(t,e,n,r){let s;for(const i of e)if(s=Y_(RX(i,t),n),typeof s<"u")return FN(t,s)?zN(n,r,t,s):s}function Y_(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function D5(t){let e=t._keys;return e||(e=t._keys=WX(t._scopes)),e}function WX(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function X_(t,e,n,r){const{iScale:s}=t,{key:i="r"}=this._parsing,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+n,d=e[u],a[l]={r:s.parse(vo(d,i),u)};return a}const qX=Number.EPSILON||1e-14,pu=(t,e)=>e<t.length&&!t[e].skip&&t[e],Q_=t=>t==="x"?"y":"x";function KX(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,l=m2(i,s),c=m2(a,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,p=r*d;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+p*(a.x-s.x),y:i.y+p*(a.y-s.y)}}}function GX(t,e,n){const r=t.length;let s,i,a,l,c,u=pu(t,0);for(let d=0;d<r-1;++d)if(c=u,u=pu(t,d+1),!(!c||!u)){if(th(e[d],0,qX)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function YX(t,e,n="x"){const r=Q_(n),s=t.length;let i,a,l,c=pu(t,0);for(let u=0;u<s;++u){if(a=l,l=c,c=pu(t,u+1),!l)continue;const d=l[n],f=l[r];a&&(i=(d-a[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=f-i*e[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=f+i*e[u])}}function XX(t,e="x"){const n=Q_(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,l,c,u=pu(t,0);for(a=0;a<r;++a)if(l=c,c=u,u=pu(t,a+1),!!c){if(u){const d=u[e]-c[e];s[a]=d!==0?(u[n]-c[n])/d:0}i[a]=l?u?hi(s[a-1])!==hi(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}GX(t,s,i),YX(t,i,e)}function Ym(t,e,n){return Math.max(Math.min(t,n),e)}function QX(t,e){let n,r,s,i,a,l=Ji(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=l,l=n<r-1&&Ji(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=Ym(s.cp1x,e.left,e.right),s.cp1y=Ym(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Ym(s.cp2x,e.left,e.right),s.cp2y=Ym(s.cp2y,e.top,e.bottom)))}function JX(t,e,n,r,s){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")XX(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=KX(u,l,t[Math.min(i+1,a-(r?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&QX(t,n)}function VN(){return typeof window<"u"&&typeof document<"u"}function $N(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ng(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const sx=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ZX(t,e){return sx(t).getPropertyValue(e)}const eQ=["top","right","bottom","left"];function Sl(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=eQ[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const tQ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function nQ(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,l,c;if(tQ(s,i,t.target))l=s,c=i;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function nl(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=sx(n),i=s.boxSizing==="border-box",a=Sl(s,"padding"),l=Sl(s,"border","width"),{x:c,y:u,box:d}=nQ(t,n),f=a.left+(d&&l.left),p=a.top+(d&&l.top);let{width:g,height:x}=e;return i&&(g-=a.width+l.width,x-=a.height+l.height),{x:Math.round((c-f)/g*n.width/r),y:Math.round((u-p)/x*n.height/r)}}function rQ(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&$N(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=sx(i),c=Sl(l,"border","width"),u=Sl(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,r=Ng(l.maxWidth,i,"clientWidth"),s=Ng(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||vg,maxHeight:s||vg}}const eo=t=>Math.round(t*10)/10;function sQ(t,e,n,r){const s=sx(t),i=Sl(s,"margin"),a=Ng(s.maxWidth,t,"clientWidth")||vg,l=Ng(s.maxHeight,t,"clientHeight")||vg,c=rQ(t,e,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const p=Sl(s,"border","width"),g=Sl(s,"padding");u-=g.width+p.width,d-=g.height+p.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=eo(Math.min(u,a,c.maxWidth)),d=eo(Math.min(d,l,c.maxHeight)),u&&!d&&(d=eo(u/2)),(e!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=eo(Math.floor(d*r))),{width:u,height:d}}function I5(t,e,n){const r=e||1,s=eo(t.height*r),i=eo(t.width*r);t.height=eo(t.height),t.width=eo(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const iQ=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};VN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function L5(t,e){const n=ZX(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function rl(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function aQ(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function oQ(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=rl(t,s,n),l=rl(s,i,n),c=rl(i,e,n),u=rl(a,l,n),d=rl(l,c,n);return rl(u,d,n)}const lQ=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},cQ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ru(t,e,n){return t?lQ(e,n):cQ()}function J_(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Z_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function eD(t){return t==="angle"?{between:Oh,compare:uX,normalize:Jn}:{between:Xi,compare:(e,n)=>e-n,normalize:e=>e}}function R5({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function uQ(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:l}=eD(r),c=e.length;let{start:u,end:d,loop:f}=t,p,g;if(f){for(u+=c,d+=c,p=0,g=c;p<g&&a(l(e[u%c][r]),s,i);++p)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function tD(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=eD(r),{start:d,end:f,loop:p,style:g}=uQ(t,e,n),x=[];let v=!1,b=null,w,N,C;const M=()=>c(s,C,w)&&l(s,C)!==0,j=()=>l(i,w)===0||c(i,C,w),A=()=>v||M(),P=()=>!v||j();for(let E=d,_=d;E<=f;++E)N=e[E%a],!N.skip&&(w=u(N[r]),w!==C&&(v=c(w,s,i),b===null&&A()&&(b=l(w,s)===0?E:_),b!==null&&P()&&(x.push(R5({start:b,end:E,loop:p,count:a,style:g})),b=null),_=E,C=w));return b!==null&&x.push(R5({start:b,end:f,loop:p,count:a,style:g})),x}function nD(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=tD(r[s],t.points,e);i.length&&n.push(...i)}return n}function dQ(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function hQ(t,e,n,r){const s=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function fQ(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=dQ(n,s,i,r);if(r===!0)return F5(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+s:l,u=!!t._fullLoop&&a===0&&l===s-1;return F5(t,hQ(n,a,c,u),n,e)}function F5(t,e,n,r){return!r||!r.setContext||!n?e:mQ(t,e,n,r)}function mQ(t,e,n,r){const s=t._chart.getContext(),i=z5(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let d=i,f=e[0].start,p=f;function g(x,v,b,w){const N=l?-1:1;if(x!==v){for(x+=c;n[x%c].skip;)x-=N;for(;n[v%c].skip;)v+=N;x%c!==v%c&&(u.push({start:x%c,end:v%c,loop:b,style:w}),d=w,f=v%c)}}for(const x of e){f=l?f:x.start;let v=n[f%c],b;for(p=f+1;p<=x.end;p++){const w=n[p%c];b=z5(r.setContext(To(s,{type:"segment",p0:v,p1:w,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:a}))),pQ(b,d)&&g(f,p-1,x.loop,d),v=w,d=b}f<p-1&&g(f,p-1,x.loop,d)}return u}function z5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function pQ(t,e){if(!e)return!1;const n=[],r=function(s,i){return IN(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Xm(t,e,n){return t.options.clip?t[n]:e[n]}function gQ(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Xm(n,e,"left"),right:Xm(n,e,"right"),top:Xm(r,e,"top"),bottom:Xm(r,e,"bottom")}:e}function rD(t,e){const n=e._clip;if(n.disabled)return!1;const r=gQ(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xQ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=z_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $i=new xQ;const V5="transparent",yQ={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=P5(t||V5),s=r.valid&&P5(e||V5);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class bQ{constructor(e,n,r,s){const i=n[r];s=Bd([e.to,s,i,e.from]);const a=Bd([e.from,i,s]);this._active=!0,this._fn=e.fn||yQ[e.type||typeof a],this._easing=nh[e.easing]||nh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Bd([e.to,n,s,e.from]),this._from=Bd([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class sD{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ot(e))return;const n=Object.keys(Vt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ot(i))return;const a={};for(const l of n)a[l]=i[l];(zt(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,a)})})}_animateOptions(e,n){const r=n.options,s=wQ(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&vQ(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const p=r.get(u);if(f)if(p&&f.active()){f.update(p,d,l);continue}else f.cancel();if(!p||!p.duration){e[u]=d;continue}i[u]=f=new bQ(p,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return $i.add(this._chart,r),!0}}function vQ(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function wQ(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function $5(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function NQ(t,e,n){if(n===!1)return!1;const r=$5(t,n),s=$5(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function SQ(t){let e,n,r,s;return ot(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function iD(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function B5(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,l,c,u;if(e===null)return;let d=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===n){if(d=!0,r.all)continue;break}u=t.values[c],Zt(u)&&(i||e===0||hi(e)===hi(u))&&(e+=u)}return!d&&!r.all?0:e}function jQ(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],l[c]={[s]:d,[i]:t[d]};return l}function rv(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function CQ(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function kQ(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function TQ(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function H5(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function U5(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=r,c=i.axis,u=a.axis,d=CQ(i,a,r),f=e.length;let p;for(let g=0;g<f;++g){const x=e[g],{[c]:v,[u]:b}=x,w=x._stacks||(x._stacks={});p=w[u]=TQ(s,d,v),p[l]=b,p._top=H5(p,a,!0,r.type),p._bottom=H5(p,a,!1,r.type);const N=p._visualValues||(p._visualValues={});N[l]=b}}function sv(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function EQ(t,e){return To(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function MQ(t,e,n){return To(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Td(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const iv=t=>t==="reset"||t==="none",W5=(t,e)=>e?t:Object.assign({},t),PQ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:iD(n,!0),values:null};class Eo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Td(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,p,g,x)=>f==="x"?p:f==="r"?x:g,i=n.xAxisID=Je(r.xAxisID,sv(e,"x")),a=n.yAxisID=Je(r.yAxisID,sv(e,"y")),l=n.rAxisID=Je(r.rAxisID,sv(e,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,a,l),d=n.vAxisID=s(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&T5(this._data,this),e._stacked&&Td(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ot(n)){const s=this._cachedMeta;this._data=jQ(n,s)}else if(r!==n){if(r){T5(r,this);const s=this._cachedMeta;Td(s),s._parsed=[]}n&&Object.isExtensible(n)&&mX(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=rv(n.vScale,n),n.stack!==r.stack&&(s=!0,Td(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(U5(this,n._parsed),n._stacked=rv(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{zt(s[e])?p=this.parseArrayData(r,s,e,n):ot(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const g=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<n;++d)r._parsed[d+e]=f=p[d],c&&(g()&&(c=!1),u=f);r._sorted=c}a&&U5(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),d=i===a,f=new Array(s);let p,g,x;for(p=0,g=s;p<g;++p)x=p+r,f[p]={[l]:d||i.parse(u[x],x),[c]:a.parse(n[x],x)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,l=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+r,f=n[d],l[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,p,g;for(d=0,f=s;d<f;++d)p=d+r,g=n[p],u[d]={x:i.parse(vo(g,l),p),y:a.parse(vo(g,c),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:iD(s,!0),values:n._stacks[e.axis]._visualValues};return B5(l,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=B5(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=PQ(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=kQ(l);let p,g;function x(){g=s[p];const v=g[l.axis];return!Zt(g[e.axis])||d>v||f<v}for(p=0;p<a&&!(!x()&&(this.updateRangeFromParsed(u,e,g,c),i));++p);if(i){for(p=a-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Zt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=SQ(Je(this.options.clip,NQ(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,l,c),d=l;d<l+c;++d){const f=s[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=MQ(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=EQ(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&Ah(r);if(l)return W5(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Vt.elements[e]),x=()=>this.getContext(r,s,n),v=u.resolveNamedOptions(p,g,x,f);return v.$shared&&(v.$shared=c,i[a]=Object.freeze(W5(v,c))),v}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),p=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(p,this.getContext(e,r,n))}const u=new sD(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||iv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){iv(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!iv(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Td(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function AQ(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=F_(r.sort((s,i)=>s-i))}return t._cache.$bar}function OQ(t){const e=t.iScale,n=AQ(e,t.type);let r=e._length,s,i,a,l;const c=()=>{a===32767||a===-32768||(Ah(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),c();return r}function _Q(t,e,n,r){const s=n.barThickness;let i,a;return at(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function DQ(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/r,ratio:n.barPercentage,start:u}}function IQ(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),l=Math.max(s,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:s,end:i,min:a,max:l}}function aD(t,e,n,r){return zt(t)?IQ(t,e,n,r):e[n.axis]=n.parse(t,r),e}function q5(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),l=s===i,c=[];let u,d,f,p;for(u=n,d=n+r;u<d;++u)p=e[u],f={},f[s.axis]=l||s.parse(a[u],u),c.push(aD(p,f,i,u));return c}function av(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function LQ(t,e,n){return t!==0?hi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function RQ(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function FQ(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:d}=RQ(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[K5(d,a,l,c)]=!0,s=u)),i[K5(s,a,l,c)]=!0,t.borderSkipped=i}function K5(t,e,n,r){return r?(t=zQ(t,e,n),t=G5(t,n,e)):t=G5(t,e,n),t}function zQ(t,e,n){return t===e?n:t===n?e:t}function G5(t,e,n){return t==="start"?e:t==="end"?n:t}function VQ(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class $Q extends Eo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return q5(e,n,r,s)}parseArrayData(e,n,r,s){return q5(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=a.axis==="x"?l:c,f=[];let p,g,x,v;for(p=r,g=r+s;p<g;++p)v=n[p],x={},x[i.axis]=i.parse(vo(v,u),p),f.push(aD(vo(v,d),x,a,p));return f}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,l=av(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,s);for(let g=n;g<n+r;g++){const x=this.getParsed(g),v=i||at(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),w=(x._stacks||{})[l.axis],N={horizontal:u,base:v.base,enableBorderRadius:!w||av(x._custom)||a===w._top||a===w._bottom,x:u?v.head:b.center,y:u?b.center:v.head,height:u?b.size:Math.abs(v.size),width:u?Math.abs(v.size):b.size};p&&(N.options=f||this.resolveDataElementOptions(g,e[g].active?"active":s));const C=N.options||e[g].options;FQ(N,C,w,a),VQ(N,C,d.ratio),this.updateElement(e[g],g,N,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const f=d._parsed.find(g=>g[r.axis]===c),p=f&&f[d.vScale.axis];if(at(p)||isNaN(p))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Je(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=e.barThickness;return{min:l||OQ(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(e),u=c._custom,d=av(u);let f=c[n.axis],p=0,g=r?this.applyStack(n,c,r):f,x,v;g!==f&&(p=g-f,g=f),d&&(f=u.barStart,g=u.barEnd-u.barStart,f!==0&&hi(f)!==hi(u.barEnd)&&(p=0),p+=f);const b=!at(i)&&!d?i:p;let w=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(p+g):x=w,v=x-w,Math.abs(v)<a){v=LQ(v,n,l)*a,f===l&&(w-=v/2);const N=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),M=Math.min(N,C),j=Math.max(N,C);w=Math.max(Math.min(w,j),M),x=w+v,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(w))}if(w===n.getPixelForValue(l)){const N=hi(v)*n.getLineWidthForValue(l)/2;w+=N,v-=N}return{size:v,base:w,head:x,center:x+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=Je(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?DQ(e,n,s,d*u):_Q(e,n,s,d*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(Je(p,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;l=f.start+f.chunk*x+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class BQ extends Eo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){const i=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,n,r,s){const i=super.parseArrayData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=Je(l[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,n,r,s){const i=super.parseObjectData(e,n,r,s);for(let a=0;a<i.length;a++){const l=n[r+a];i[a]._custom=Je(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y),u=a._custom;return{label:r[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(n,s),d=a.axis,f=l.axis;for(let p=n;p<n+r;p++){const g=e[p],x=!i&&this.getParsed(p),v={},b=v[d]=i?a.getPixelForDecimal(.5):a.getPixelForValue(x[d]),w=v[f]=i?l.getBasePixel():l.getPixelForValue(x[f]);v.skip=isNaN(b)||isNaN(w),u&&(v.options=c||this.resolveDataElementOptions(p,g.active?"active":s),i&&(v.options.radius=0)),this.updateElement(g,p,v,s)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Je(r&&r._custom,i),s}}function HQ(t,e,n){let r=1,s=1,i=0,a=0;if(e<It){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),p=Math.sin(c),g=(C,M,j)=>Oh(C,l,c,!0)?1:Math.max(M,M*n,j,j*n),x=(C,M,j)=>Oh(C,l,c,!0)?-1:Math.min(M,M*n,j,j*n),v=g(0,u,f),b=g(on,d,p),w=x(ht,u,f),N=x(ht+on,d,p);r=(v-w)/2,s=(b-N)/2,i=-(v+w)/2,a=-(b+N)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class BN extends Eo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:s,pointStyle:r,borderRadius:a&&(l||f.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(ot(r[e])){const{key:c="value"}=this._parsing;i=u=>+vo(r[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return Rs(this.options.rotation-90)}_getCircumference(){return Rs(this.options.circumference)}_getRotationExtents(){let e=It,n=-It;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(ZY(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:x,offsetY:v}=HQ(f,d,c),b=(r.width-a)/p,w=(r.height-a)/g,N=Math.max(Math.min(b,w)/2,0),C=__(this.options.radius,N),M=Math.max(C*c,0),j=(C-M)/this._getVisibleDatasetWeightTotal();this.offsetX=x*C,this.offsetY=v*C,s.total=this.calculateTotal(),this.outerRadius=C-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/It)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,p=i&&u.animateScale,g=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);let w=this._getRotation(),N;for(N=0;N<n;++N)w+=this._circumference(N,i);for(N=n;N<n+r;++N){const C=this._circumference(N,i),M=e[N],j={x:d+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+C,circumference:C,outerRadius:x,innerRadius:g};b&&(j.options=v||this.resolveDataElementOptions(N,M.active?"active":s)),w+=C,this.updateElement(M,N,j,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?It*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=vf(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class oD extends Eo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:l,count:c}=$_(n,s,a);this._drawStart=l,this._drawCount=c,B_(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),p=a.axis,g=l.axis,{spanGaps:x,segment:v}=this.options,b=fu(x)?x:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",N=n+r,C=e.length;let M=n>0&&this.getParsed(n-1);for(let j=0;j<C;++j){const A=e[j],P=w?A:{};if(j<n||j>=N){P.skip=!0;continue}const E=this.getParsed(j),_=at(E[g]),L=P[p]=a.getPixelForValue(E[p],j),D=P[g]=i||_?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,E,c):E[g],j);P.skip=isNaN(L)||isNaN(D)||_,P.stop=j>0&&Math.abs(E[p]-M[p])>b,v&&(P.parsed=E,P.raw=u.data[j]),f&&(P.options=d||this.resolveDataElementOptions(j,A.active?"active":s)),w||this.updateElement(A,j,P,s),M=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class lD extends Eo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=vf(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:i}}parseObjectData(e,n,r,s){return X_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),l=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*ht;let g=p,x;const v=360/this.countVisibleElements();for(x=0;x<n;++x)g+=this._computeAngle(x,s,v);for(x=n;x<n+r;x++){const b=e[x];let w=g,N=g+this._computeAngle(x,s,v),C=a.getDataVisibility(x)?u.getDistanceFromCenterForValue(this.getParsed(x).r):0;g=N,i&&(c.animateScale&&(C=0),c.animateRotate&&(w=N=p));const M={x:d,y:f,innerRadius:0,outerRadius:C,startAngle:w,endAngle:N,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,M,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Rs(this.resolveDataElementOptions(e,n).angle||r):0}}class UQ extends BN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class WQ extends Eo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return X_.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===s.length,options:a};this.updateElement(r,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){const i=this._cachedMeta.rScale,a=s==="reset";for(let l=n;l<n+r;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=i.getPointPositionForValue(l,this.getParsed(l).r),f=a?i.xCenter:d.x,p=a?i.yCenter:d.y,g={x:f,y:p,angle:d.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(c,l,g,s)}}}class qQ extends Eo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),c=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:a}=$_(n,r,s);if(this._drawStart=i,this._drawCount=a,B_(n)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),p=this.includeOptions(s,f),g=a.axis,x=l.axis,{spanGaps:v,segment:b}=this.options,w=fu(v)?v:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||s==="none";let C=n>0&&this.getParsed(n-1);for(let M=n;M<n+r;++M){const j=e[M],A=this.getParsed(M),P=N?j:{},E=at(A[x]),_=P[g]=a.getPixelForValue(A[g],M),L=P[x]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[x],M);P.skip=isNaN(_)||isNaN(L)||E,P.stop=M>0&&Math.abs(A[g]-C[g])>w,b&&(P.parsed=A,P.raw=u.data[M]),p&&(P.options=f||this.resolveDataElementOptions(M,j.active?"active":s)),N||this.updateElement(j,M,P,s),C=A}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,a)/2}}var KQ=Object.freeze({__proto__:null,BarController:$Q,BubbleController:BQ,DoughnutController:BN,LineController:oD,PieController:UQ,PolarAreaController:lD,RadarController:WQ,ScatterController:qQ});function Jo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class HN{static override(e){Object.assign(HN.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Jo()}parse(){return Jo()}format(){return Jo()}add(){return Jo()}diff(){return Jo()}startOf(){return Jo()}endOf(){return Jo()}}var GQ={_date:HN};function YQ(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?hX:Qi;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const p=u(i,e,n-f),g=u(i,e,n+f);return{lo:p.lo,hi:g.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:p}=t,g=p.slice(0,d.lo+1).reverse().findIndex(v=>!at(v[f.axis]));d.lo-=Math.max(0,g);const x=p.slice(d.hi).findIndex(v=>!at(v[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function ix(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:f,hi:p}=YQ(i[l],e,a,s);for(let g=f;g<=p;++g){const x=d[g];x.skip||r(x,u,g)}}}function XQ(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function ov(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ix(t,n,e,function(l,c,u){!s&&!Ji(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function QQ(t,e,n,r){let s=[];function i(a,l,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:f}=L_(a,{x:e.x,y:e.y});Oh(f,u,d)&&s.push({element:a,datasetIndex:l,index:c})}return ix(t,n,e,i),s}function JQ(t,e,n,r,s,i){let a=[];const l=XQ(n);let c=Number.POSITIVE_INFINITY;function u(d,f,p){const g=d.inRange(e.x,e.y,s);if(r&&!g)return;const x=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(x))&&!g)return;const b=l(e,x);b<c?(a=[{element:d,datasetIndex:f,index:p}],c=b):b===c&&a.push({element:d,datasetIndex:f,index:p})}return ix(t,n,e,u),a}function lv(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?QQ(t,e,n,s):JQ(t,e,n,r,s,i)}function Y5(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return ix(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var ZQ={modes:{index(t,e,n,r){const s=nl(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?ov(t,s,i,r,a):lv(t,s,i,!1,r,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,r){const s=nl(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?ov(t,s,i,r,a):lv(t,s,i,!1,r,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,n,r){const s=nl(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return ov(t,s,i,r,a)},nearest(t,e,n,r){const s=nl(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return lv(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=nl(e,t);return Y5(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=nl(e,t);return Y5(t,s,"y",n.intersect,r)}}};const cD=["left","top","right","bottom"];function Ed(t,e){return t.filter(n=>n.pos===e)}function X5(t,e){return t.filter(n=>cD.indexOf(n.pos)===-1&&n.box.axis===e)}function Md(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function eJ(t){const e=[];let n,r,s,i,a,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function tJ(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!cD.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function nJ(t,e){const n=tJ(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&e.availableHeight)}return n}function rJ(t){const e=eJ(t),n=Md(e.filter(u=>u.box.fullSize),!0),r=Md(Ed(e,"left"),!0),s=Md(Ed(e,"right")),i=Md(Ed(e,"top"),!0),a=Md(Ed(e,"bottom")),l=X5(e,"x"),c=X5(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:Ed(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(a).concat(l)}}function Q5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function uD(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function sJ(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!ot(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&uD(a,i.getPadding());const l=Math.max(0,e.outerWidth-Q5(a,t,"left","right")),c=Math.max(0,e.outerHeight-Q5(a,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function iJ(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function aJ(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function Hd(t,e,n,r){const s=[];let i,a,l,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,aJ(l.horizontal,e));const{same:f,other:p}=sJ(e,n,l,r);u|=f&&s.length,d=d||p,c.fullSize||s.push(l)}return u&&Hd(s,e,n,r)||d}function Qm(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function J5(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,p=u.size||c.height;Ah(u.start)&&(a=u.start),c.fullSize?Qm(c,s.left,a,n.outerWidth-s.right-s.left,p):Qm(c,e.left+u.placed,a,f,p),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*d,p=u.size||c.width;Ah(u.start)&&(i=u.start),c.fullSize?Qm(c,i,s.top,p,n.outerHeight-s.bottom-s.top):Qm(c,i,e.top+u.placed,p,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var er={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=nr(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=rJ(t.boxes),c=l.vertical,u=l.horizontal;Nt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=c.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},s);uD(p,nr(r));const g=Object.assign({maxPadding:p,w:i,h:a,x:s.left,y:s.top},s),x=nJ(c.concat(u),f);Hd(l.fullSize,g,f,x),Hd(c,g,f,x),Hd(u,g,f,x)&&Hd(c,g,f,x),iJ(g),J5(l.leftAndTop,g,f,x),g.x+=g.w,g.y+=g.h,J5(l.rightAndBottom,g,f,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Nt(l.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class dD{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class oJ extends dD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bp="$chartjs",lJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Z5=t=>t===null||t==="";function cJ(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Bp]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Z5(s)){const i=L5(t,"width");i!==void 0&&(t.width=i)}if(Z5(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=L5(t,"height");i!==void 0&&(t.height=i)}return t}const hD=iQ?{passive:!0}:!1;function uJ(t,e,n){t&&t.addEventListener(e,n,hD)}function dJ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,hD)}function hJ(t,e){const n=lJ[t.type]||t.type,{x:r,y:s}=nl(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Sg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function fJ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Sg(l.addedNodes,r),a=a&&!Sg(l.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function mJ(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Sg(l.removedNodes,r),a=a&&!Sg(l.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Dh=new Map;let eT=0;function fD(){const t=window.devicePixelRatio;t!==eT&&(eT=t,Dh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function pJ(t,e){Dh.size||window.addEventListener("resize",fD),Dh.set(t,e)}function gJ(t){Dh.delete(t),Dh.size||window.removeEventListener("resize",fD)}function xJ(t,e,n){const r=t.canvas,s=r&&$N(r);if(!s)return;const i=V_((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),pJ(t,i),a}function cv(t,e,n){n&&n.disconnect(),e==="resize"&&gJ(t)}function yJ(t,e,n){const r=t.canvas,s=V_(i=>{t.ctx!==null&&n(hJ(i,t))},t);return uJ(r,e,s),s}class bJ extends dD{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(cJ(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Bp])return!1;const r=n[Bp].initial;["height","width"].forEach(i=>{const a=r[i];at(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Bp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:fJ,detach:mJ,resize:xJ}[n]||yJ;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:cv,detach:cv,resize:cv}[n]||dJ)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return sQ(e,n,r,s)}isAttached(e){const n=e&&$N(e);return!!(n&&n.isConnected)}}function vJ(t){return!VN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?oJ:bJ}let ya=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return fu(this.x)&&fu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}};function wJ(t,e){const n=t.options.ticks,r=NJ(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?jJ(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>s)return CJ(e,u,i,a/s),u;const d=SJ(i,e,s);if(a>0){let f,p;const g=a>1?Math.round((c-l)/(a-1)):null;for(Jm(e,u,d,at(g)?0:l-g,l),f=0,p=a-1;f<p;f++)Jm(e,u,d,i[f],i[f+1]);return Jm(e,u,d,c,at(g)?e.length:c+g),u}return Jm(e,u,d),u}function NJ(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function SJ(t,e,n){const r=kJ(t),s=e.length/n;if(!r)return Math.max(s,1);const i=oX(r);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function jJ(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function CJ(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function Jm(t,e,n,r,s){const i=Je(r,0),a=Math.min(Je(s,t.length),t.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),l++,d=Math.round(i+l*n))}function kJ(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const TJ=t=>t==="left"?"right":t==="right"?"left":t,tT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,nT=(t,e)=>Math.min(e||t,t);function rT(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function EJ(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(s-1))/2,c+=s<e?u:-u,c<i-l||c>a+l)))return c}function MJ(t,e){Nt(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Pd(t){return t.drawTicks?t.tickLength:0}function sT(t,e){if(!t.display)return 0;const n=Nn(t.font,e),r=nr(t.padding);return(zt(t.text)?t.text.length:1)*n.lineHeight+r.height}function PJ(t,e){return To(t,{scale:e,type:"scale"})}function AJ(t,e,n){return To(t,{tick:n,index:e,type:"tick"})}function OJ(t,e,n){let r=DN(t);return(n&&e!=="right"||!n&&e==="right")&&(r=TJ(r)),r}function _J(t,e,n,r){const{top:s,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,p,g,x;const v=a-s,b=l-i;if(t.isHorizontal()){if(g=Xn(r,i,l),ot(n)){const w=Object.keys(n)[0],N=n[w];x=d[w].getPixelForValue(N)+v-e}else n==="center"?x=(u.bottom+u.top)/2+v-e:x=tT(t,n,e);p=l-i}else{if(ot(n)){const w=Object.keys(n)[0],N=n[w];g=d[w].getPixelForValue(N)-b+e}else n==="center"?g=(u.left+u.right)/2-b+e:g=tT(t,n,e);x=Xn(r,a,s),f=n==="left"?-on:on}return{titleX:g,titleY:x,maxWidth:p,rotation:f}}class Zl extends ya{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=$r(e,Number.POSITIVE_INFINITY),n=$r(n,Number.NEGATIVE_INFINITY),r=$r(r,Number.POSITIVE_INFINITY),s=$r(s,Number.NEGATIVE_INFINITY),{min:$r(e,r),max:$r(n,s),minDefined:Zt(e),maxDefined:Zt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:$r(n,$r(r,n)),max:$r(r,$r(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LX(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?rT(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=wJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tt(this.options.afterUpdate,[this])}beforeSetDimensions(){Tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Tt(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=nT(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,g=En(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/r:g/(r-1),f+6>l&&(l=g/(r-(e.offset?.5:1)),c=this.maxHeight-Pd(e.grid)-n.padding-sT(e.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),a=ON(Math.min(Math.asin(En((d.highest.height+6)/l,-1,1)),Math.asin(En(c/u,-1,1))-Math.asin(En(p/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=sT(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Pd(i)+c):(e.height=this.maxHeight,e.width=Pd(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:p}=this._getLabelSizes(),g=r.padding*2,x=Rs(this.labelRotation),v=Math.cos(x),b=Math.sin(x);if(l){const w=r.mirror?0:b*f.width+v*p.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=r.mirror?0:v*f.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(u,d,b,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;c?u?(p=s*e.width,g=r*n.height):(p=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)at(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=rT(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/nT(n,r));let u=0,d=0,f,p,g,x,v,b,w,N,C,M,j;for(f=0;f<n;f+=c){if(x=e[f].label,v=this._resolveTickFontOptions(f),s.font=b=v.string,w=i[b]=i[b]||{data:{},gc:[]},N=v.lineHeight,C=M=0,!at(x)&&!zt(x))C=wg(s,w.data,w.gc,C,x),M=N;else if(zt(x))for(p=0,g=x.length;p<g;++p)j=x[p],!at(j)&&!zt(j)&&(C=wg(s,w.data,w.gc,C,j),M+=N);a.push(C),l.push(M),u=Math.max(C,u),d=Math.max(M,d)}MJ(i,n);const A=a.indexOf(u),P=l.indexOf(d),E=_=>({width:a[_]||0,height:l[_]||0});return{first:E(0),last:E(n-1),widest:E(A),highest:E(P),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return dX(this._alignToPixels?Qo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=AJ(this.getContext(),e,r))}return this.$context||(this.$context=PJ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Rs(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=Pd(i),g=[],x=l.setContext(this.getContext()),v=x.display?x.width:0,b=v/2,w=function(F){return Qo(r,F,v)};let N,C,M,j,A,P,E,_,L,D,R,G;if(a==="top")N=w(this.bottom),P=this.bottom-p,_=N-b,D=w(e.top)+b,G=e.bottom;else if(a==="bottom")N=w(this.top),D=e.top,G=w(e.bottom)-b,P=N+b,_=this.top+p;else if(a==="left")N=w(this.right),A=this.right-p,E=N-b,L=w(e.left)+b,R=e.right;else if(a==="right")N=w(this.left),L=e.left,R=w(e.right)-b,A=N+b,E=this.left+p;else if(n==="x"){if(a==="center")N=w((e.top+e.bottom)/2+.5);else if(ot(a)){const F=Object.keys(a)[0],B=a[F];N=w(this.chart.scales[F].getPixelForValue(B))}D=e.top,G=e.bottom,P=N+b,_=P+p}else if(n==="y"){if(a==="center")N=w((e.left+e.right)/2);else if(ot(a)){const F=Object.keys(a)[0],B=a[F];N=w(this.chart.scales[F].getPixelForValue(B))}A=N-b,E=A-p,L=e.left,R=e.right}const U=Je(s.ticks.maxTicksLimit,f),q=Math.max(1,Math.ceil(f/U));for(C=0;C<f;C+=q){const F=this.getContext(C),B=i.setContext(F),$=l.setContext(F),X=B.lineWidth,H=B.color,V=$.dash||[],Q=$.dashOffset,Z=B.tickWidth,ee=B.tickColor,le=B.tickBorderDash||[],pe=B.tickBorderDashOffset;M=EJ(this,C,c),M!==void 0&&(j=Qo(r,M,X),u?A=E=L=R=j:P=_=D=G=j,g.push({tx1:A,ty1:P,tx2:E,ty2:_,x1:L,y1:D,x2:R,y2:G,width:X,color:H,borderDash:V,borderDashOffset:Q,tickWidth:Z,tickColor:ee,tickBorderDash:le,tickBorderDashOffset:pe}))}return this._ticksLength=f,this._borderValue=N,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,p=Pd(r.grid),g=p+d,x=f?-d:g,v=-Rs(this.labelRotation),b=[];let w,N,C,M,j,A,P,E,_,L,D,R,G="middle";if(s==="top")A=this.bottom-x,P=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+x,P=this._getXAxisLabelAlignment();else if(s==="left"){const q=this._getYAxisLabelAlignment(p);P=q.textAlign,j=q.x}else if(s==="right"){const q=this._getYAxisLabelAlignment(p);P=q.textAlign,j=q.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+g;else if(ot(s)){const q=Object.keys(s)[0],F=s[q];A=this.chart.scales[q].getPixelForValue(F)+g}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(e.left+e.right)/2-g;else if(ot(s)){const q=Object.keys(s)[0],F=s[q];j=this.chart.scales[q].getPixelForValue(F)}P=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?G="top":c==="end"&&(G="bottom"));const U=this._getLabelSizes();for(w=0,N=l.length;w<N;++w){C=l[w],M=C.label;const q=i.setContext(this.getContext(w));E=this.getPixelForTick(w)+i.labelOffset,_=this._resolveTickFontOptions(w),L=_.lineHeight,D=zt(M)?M.length:1;const F=D/2,B=q.color,$=q.textStrokeColor,X=q.textStrokeWidth;let H=P;a?(j=E,P==="inner"&&(w===N-1?H=this.options.reverse?"left":"right":w===0?H=this.options.reverse?"right":"left":H="center"),s==="top"?u==="near"||v!==0?R=-D*L+L/2:u==="center"?R=-U.highest.height/2-F*L+L:R=-U.highest.height+L/2:u==="near"||v!==0?R=L/2:u==="center"?R=U.highest.height/2-F*L:R=U.highest.height-D*L,f&&(R*=-1),v!==0&&!q.showLabelBackdrop&&(j+=L/2*Math.sin(v))):(A=E,R=(1-D)*L/2);let V;if(q.showLabelBackdrop){const Q=nr(q.backdropPadding),Z=U.heights[w],ee=U.widths[w];let le=R-Q.top,pe=0-Q.left;switch(G){case"middle":le-=Z/2;break;case"bottom":le-=Z;break}switch(P){case"center":pe-=ee/2;break;case"right":pe-=ee;break;case"inner":w===N-1?pe-=ee:w>0&&(pe-=ee/2);break}V={left:pe,top:le,width:ee+Q.width,height:Z+Q.height,color:q.backdropColor}}b.push({label:M,font:_,textOffset:R,options:{rotation:v,color:B,strokeColor:$,strokeWidth:X,textAlign:H,textBaseline:G,translation:[j,A],backdrop:V}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Rs(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,p;this.isHorizontal()?(u=Qo(e,this.left,a)-a/2,d=Qo(e,this.right,l)+l/2,f=p=c):(f=Qo(e,this.top,a)-a/2,p=Qo(e,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&nx(r,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,d=a.textOffset;zl(r,u,0,d,c,l)}s&&rx(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Nn(r.font),a=nr(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||ot(n)?(c+=a.bottom,zt(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:p}=_J(this,c,n,l);zl(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:OJ(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Je(e.grid&&e.grid.z,-1),s=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Zl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Nn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zm{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;LJ(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,DJ(e,a,r),this.override&&Vt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Vt[s]&&(delete Vt[s][r],this.override&&delete Fl[r])}}function DJ(t,e,n){const r=Ph(Object.create(null),[n?Vt.get(n):{},Vt.get(e),t.defaults]);Vt.set(e,r),t.defaultRoutes&&IJ(e,t.defaultRoutes),t.descriptors&&Vt.describe(e,t.descriptors)}function IJ(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");Vt.route(i,s,c,l)})}function LJ(t){return"id"in t&&"defaults"in t}class RJ{constructor(){this.controllers=new Zm(Eo,"datasets",!0),this.elements=new Zm(ya,"elements"),this.plugins=new Zm(Object,"plugins"),this.scales=new Zm(Zl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Nt(s,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,r){const s=AN(e);Tt(r["before"+s],[],r),n[e](r),Tt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var ei=new RJ;class FJ{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,l=a[r],c=[n,s,i.options];if(Tt(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){at(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Je(r.options&&r.options.plugins,{}),i=zJ(r);return s===!1&&!n?[]:$J(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function zJ(t){const e={},n=[],r=Object.keys(ei.plugins.items);for(let i=0;i<r.length;i++)n.push(ei.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function VJ(t,e){return!e&&t===!1?null:t===!0?{}:t}function $J(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=VJ(r[c],s);u!==null&&i.push({plugin:l,options:BJ(t.config,{plugin:l,local:n[c]},u,a)})}return i}function BJ(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function x2(t,e){const n=Vt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function HJ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function UJ(t,e){return t===e?"_index_":"_value_"}function iT(t){if(t==="x"||t==="y"||t==="r")return t}function WJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function y2(t,...e){if(iT(t))return t;for(const n of e){const r=n.axis||WJ(n.position)||t.length>1&&iT(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function aT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function qJ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return aT(t,"x",n[0])||aT(t,"y",n[0])}return{}}function KJ(t,e){const n=Fl[t.type]||{scales:{}},r=e.scales||{},s=x2(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!ot(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=y2(a,l,qJ(a,t),Vt.scales[l.type]),u=UJ(c,s),d=n.scales||{};i[a]=eh(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||x2(l,e),d=(Fl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const p=HJ(f,c),g=a[p+"AxisID"]||p;i[g]=i[g]||Object.create(null),eh(i[g],[{axis:p},r[g],d[f]])})}),Object.keys(i).forEach(a=>{const l=i[a];eh(l,[Vt.scales[l.type],Vt.scale])}),i}function mD(t){const e=t.options||(t.options={});e.plugins=Je(e.plugins,{}),e.scales=KJ(t,e)}function pD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function GJ(t){return t=t||{},t.data=pD(t.data),mD(t),t}const oT=new Map,gD=new Set;function ep(t,e){let n=oT.get(t);return n||(n=e(),oT.set(t,n),gD.add(n)),n}const Ad=(t,e,n)=>{const r=vo(e,n);r!==void 0&&t.add(r)};class YJ{constructor(e){this._config=GJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),mD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ep(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ep(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ep(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ep(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),l=a.get(n);if(l)return l;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(f=>Ad(c,e,f))),d.forEach(f=>Ad(c,s,f)),d.forEach(f=>Ad(c,Fl[i]||{},f)),d.forEach(f=>Ad(c,Vt,f)),d.forEach(f=>Ad(c,p2,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),gD.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Fl[n]||{},Vt.datasets[n]||{},{type:n},Vt,p2]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=lT(this._resolverCache,e,s);let c=a;if(QJ(a,n)){i.$shared=!1,r=wo(r)?r():r;const u=this.createResolver(e,r,l);c=mu(a,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=lT(this._resolverCache,e,r);return ot(n)?mu(i,n,void 0,s):i}}function lT(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:RN(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const XJ=t=>ot(t)&&Object.getOwnPropertyNames(t).some(e=>wo(t[e]));function QJ(t,e){const{isScriptable:n,isIndexable:r}=q_(t);for(const s of e){const i=n(s),a=r(s),l=(a||i)&&t[s];if(i&&(wo(l)||XJ(l))||a&&zt(l))return!0}return!1}var JJ="4.5.1";const ZJ=["top","bottom","left","right","chartArea"];function cT(t,e){return t==="top"||t==="bottom"||ZJ.indexOf(t)===-1&&e==="x"}function uT(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function dT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Tt(n&&n.onComplete,[t],e)}function eZ(t){const e=t.chart,n=e.options.animation;Tt(n&&n.onProgress,[t],e)}function xD(t){return VN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Hp={},hT=t=>{const e=xD(t);return Object.values(Hp).filter(n=>n.canvas===e).pop()};function tZ(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function nZ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let ax=class{static defaults=Vt;static instances=Hp;static overrides=Fl;static registry=ei;static version=JJ;static getChart=hT;static register(...e){ei.add(...e),fT()}static unregister(...e){ei.remove(...e),fT()}constructor(e,n){const r=this.config=new YJ(n),s=xD(e),i=hT(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||vJ(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=JY(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new FJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pX(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Hp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",dT),$i.listen(this,"progress",eZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return at(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ei}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():I5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return O5(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(e,n){$i.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,I5(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Tt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=y2(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Nt(i,a=>{const l=a.options,c=l.id,u=y2(c,l),d=Je(l.type,a.dtype);(l.position===void 0||cT(l.position,u)!==cT(a.dposition))&&(l.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===d)f=r[c];else{const p=ei.getScale(d);f=new p({id:c,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,e)}),Nt(s,(a,l)=>{a||delete r[l]}),Nt(r,a=>{er.configure(this,a,a.options),er.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(uT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=i.indexAxis||x2(l,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=ei.getController(l),{datasetElementType:u,dataElementType:d}=Vt.datasets[l];Object.assign(c,{dataElementType:ei.getElement(d),datasetElementType:u&&ei.getElement(u)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),p=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Nt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(uT("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Nt(this.scales,e=>{er.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!S5(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;tZ(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!S5(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;er.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,wo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),dT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=rD(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&nx(n,s),e.controller.draw(),s&&rx(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ji(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=ZQ.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=To(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Ah(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),$i.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),O5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Hp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};Nt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},s=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!yg(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(n,e),l=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,l=this._getActiveElements(e,s,r,a),c=sX(e),u=nZ(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Tt(i.onHover,[e,l,this],this),c&&Tt(i.onClick,[e,l,this],this));const d=!yg(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}};function fT(){return Nt(ax.instances,t=>t._plugins.invalidate())}function rZ(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/a,Jn(r-n));if(t.beginPath(),t.arc(s,i,a-u/2,r+f/2,n-f/2),l>0){const p=Math.min(u/l,Jn(r-n));t.arc(s,i,l+u/2,n-p/2,r+p/2,!0)}else{const p=Math.min(u/2,a*Jn(r-n));if(d==="round")t.arc(s,i,p,n-ht/2,r+ht/2,!0);else if(d==="bevel"){const g=2*p*p,x=-g*Math.cos(n+ht/2)+s,v=-g*Math.sin(n+ht/2)+i,b=g*Math.cos(r+ht/2)+s,w=g*Math.sin(r+ht/2)+i;t.lineTo(x,v),t.lineTo(b,w)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function sZ(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=s/l;t.beginPath(),t.arc(i,a,l,r-u,n+u),c>s?(u=s/c,t.arc(i,a,c,n+u,r-u,!0)):t.arc(i,a,s,n+on,r-on),t.closePath(),t.clip()}function iZ(t){return LN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function aZ(t,e,n,r){const s=iZ(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return En(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:En(s.innerStart,0,a),innerEnd:En(s.innerEnd,0,a)}}function Ic(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function jg(t,e,n,r,s,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),p=d>0?d+r+n+u:0;let g=0;const x=s-c;if(r){const q=d>0?d-r:0,F=f>0?f-r:0,B=(q+F)/2,$=B!==0?x*B/(B+r):x;g=(x-$)/2}const v=Math.max(.001,x*f-n/ht)/f,b=(x-v)/2,w=c+b+g,N=s-b-g,{outerStart:C,outerEnd:M,innerStart:j,innerEnd:A}=aZ(e,p,f,N-w),P=f-C,E=f-M,_=w+C/P,L=N-M/E,D=p+j,R=p+A,G=w+j/D,U=N-A/R;if(t.beginPath(),i){const q=(_+L)/2;if(t.arc(a,l,f,_,q),t.arc(a,l,f,q,L),M>0){const X=Ic(E,L,a,l);t.arc(X.x,X.y,M,L,N+on)}const F=Ic(R,N,a,l);if(t.lineTo(F.x,F.y),A>0){const X=Ic(R,U,a,l);t.arc(X.x,X.y,A,N+on,U+Math.PI)}const B=(N-A/p+(w+j/p))/2;if(t.arc(a,l,p,N-A/p,B,!0),t.arc(a,l,p,B,w+j/p,!0),j>0){const X=Ic(D,G,a,l);t.arc(X.x,X.y,j,G+Math.PI,w-on)}const $=Ic(P,w,a,l);if(t.lineTo($.x,$.y),C>0){const X=Ic(P,_,a,l);t.arc(X.x,X.y,C,w-on,_)}}else{t.moveTo(a,l);const q=Math.cos(_)*f+a,F=Math.sin(_)*f+l;t.lineTo(q,F);const B=Math.cos(L)*f+a,$=Math.sin(L)*f+l;t.lineTo(B,$)}t.closePath()}function oZ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){jg(t,e,n,r,c,s);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%It||It))}return jg(t,e,n,r,c,s),t.fill(),c}function lZ(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:p,borderRadius:g}=c,x=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=p,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let v=e.endAngle;if(i){jg(t,e,n,r,v,s);for(let b=0;b<i;++b)t.stroke();isNaN(l)||(v=a+(l%It||It))}x&&sZ(t,e,v),c.selfJoin&&v-a>=ht&&g===0&&d!=="miter"&&rZ(t,e,v),i||(jg(t,e,n,r,v,s),t.stroke())}class cZ extends ya{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:i,distance:a}=L_(s,{x:e,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=Je(f,c-l),x=Oh(i,l,c)&&l!==c,v=g>=It||x,b=Xi(a,u+p,d+p);return v&&b}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:i,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,d=(s+i)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>It?Math.floor(r/It):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(ht,r||0)),u=s*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,oZ(e,this,u,i,a),lZ(e,this,u,i,a),e.restore()}}function yD(t,e,n=e){t.lineCap=Je(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Je(n.borderDash,e.borderDash)),t.lineDashOffset=Je(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Je(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Je(n.borderWidth,e.borderWidth),t.strokeStyle=Je(n.borderColor,e.borderColor)}function uZ(t,e,n){t.lineTo(n.x,n.y)}function dZ(t){return t.stepped?TX:t.tension||t.cubicInterpolationMode==="monotone"?EX:uZ}function bD(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:l}=e,c=Math.max(s,a),u=Math.min(i,l),d=s<a&&i<a||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:u<c&&!d?r+u-c:u-c}}function hZ(t,e,n,r){const{points:s,options:i}=e,{count:a,start:l,loop:c,ilen:u}=bD(s,n,r),d=dZ(i);let{move:f=!0,reverse:p}=r||{},g,x,v;for(g=0;g<=u;++g)x=s[(l+(p?u-g:g))%a],!x.skip&&(f?(t.moveTo(x.x,x.y),f=!1):d(t,v,x,p,i.stepped),v=x);return c&&(x=s[(l+(p?u:0))%a],d(t,v,x,p,i.stepped)),!!c}function fZ(t,e,n,r){const s=e.points,{count:i,start:a,ilen:l}=bD(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,f=0,p,g,x,v,b,w;const N=M=>(a+(u?l-M:M))%i,C=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,w))};for(c&&(g=s[N(0)],t.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=s[N(p)],g.skip)continue;const M=g.x,j=g.y,A=M|0;A===x?(j<v?v=j:j>b&&(b=j),d=(f*d+M)/++f):(C(),t.lineTo(M,j),x=A,f=0,v=b=j),w=j}C()}function b2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fZ:hZ}function mZ(t){return t.stepped?aQ:t.tension||t.cubicInterpolationMode==="monotone"?oQ:rl}function pZ(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),yD(t,e.options),t.stroke(s)}function gZ(t,e,n,r){const{segments:s,options:i}=e,a=b2(e);for(const l of s)yD(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const xZ=typeof Path2D=="function";function yZ(t,e,n,r){xZ&&!e.options.segment?pZ(t,e,n,r):gZ(t,e,n,r)}class ox extends ya{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;JX(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fQ(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=nD(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],c=mZ(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:p}=a[u],g=i[f],x=i[p];if(g===x){l.push(g);continue}const v=Math.abs((s-g[n])/(x[n]-g[n])),b=c(g,x,v,r.stepped);b[n]=e[n],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,n,r){return b2(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=b2(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=i(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),yZ(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function mT(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class bZ extends ya{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return mT(this,e,"x",n)}inYRange(e,n){return mT(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Ji(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,g2(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function vD(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=a/2,l=Math.min(n,s),c=Math.max(n,s),u=r-f,d=r+f):(f=i/2,l=n-f,c=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function to(t,e,n,r){return t?0:En(e,n,r)}function vZ(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=W_(r);return{t:to(s.top,i.top,0,n),r:to(s.right,i.right,0,e),b:to(s.bottom,i.bottom,0,n),l:to(s.left,i.left,0,e)}}function wZ(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Nl(s),a=Math.min(e,n),l=t.borderSkipped,c=r||ot(s);return{topLeft:to(!c||l.top||l.left,i.topLeft,0,a),topRight:to(!c||l.top||l.right,i.topRight,0,a),bottomLeft:to(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:to(!c||l.bottom||l.right,i.bottomRight,0,a)}}function NZ(t){const e=vD(t),n=e.right-e.left,r=e.bottom-e.top,s=vZ(t,n/2,r/2),i=wZ(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function uv(t,e,n,r){const s=e===null,i=n===null,l=t&&!(s&&i)&&vD(t,r);return l&&(s||Xi(e,l.left,l.right))&&(i||Xi(n,l.top,l.bottom))}function SZ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function jZ(t,e){t.rect(e.x,e.y,e.w,e.h)}function dv(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class CZ extends ya{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=NZ(this),l=SZ(a.radius)?_h:jZ;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,dv(a,n,i)),e.clip(),l(e,dv(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,dv(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return uv(this,e,n,r)}inXRange(e,n){return uv(this,e,null,n)}inYRange(e,n){return uv(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var kZ=Object.freeze({__proto__:null,ArcElement:cZ,BarElement:CZ,LineElement:ox,PointElement:bZ});const v2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],pT=v2.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function wD(t){return v2[t%v2.length]}function ND(t){return pT[t%pT.length]}function TZ(t,e){return t.borderColor=wD(e),t.backgroundColor=ND(e),++e}function EZ(t,e){return t.backgroundColor=t.data.map(()=>wD(e++)),e}function MZ(t,e){return t.backgroundColor=t.data.map(()=>ND(e++)),e}function PZ(t){let e=0;return(n,r)=>{const s=t.getDatasetMeta(r).controller;s instanceof BN?e=EZ(n,e):s instanceof lD?e=MZ(n,e):s&&(e=TZ(n,e))}}function gT(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function AZ(t){return t&&(t.borderColor||t.backgroundColor)}function OZ(){return Vt.borderColor!=="rgba(0,0,0,0.1)"||Vt.backgroundColor!=="rgba(0,0,0,0.1)"}var _Z={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=t.config,{elements:i}=s,a=gT(r)||AZ(s)||i&&gT(i)||OZ();if(!n.forceOverride&&a)return;const l=PZ(t);r.forEach(l)}};function DZ(t,e,n,r,s){const i=s.samples||r;if(i>=n)return t.slice(e,e+n);const a=[],l=(n-2)/(i-2);let c=0;const u=e+n-1;let d=e,f,p,g,x,v;for(a[c++]=t[d],f=0;f<i-2;f++){let b=0,w=0,N;const C=Math.floor((f+1)*l)+1+e,M=Math.min(Math.floor((f+2)*l)+1,n)+e,j=M-C;for(N=C;N<M;N++)b+=t[N].x,w+=t[N].y;b/=j,w/=j;const A=Math.floor(f*l)+1+e,P=Math.min(Math.floor((f+1)*l)+1,n)+e,{x:E,y:_}=t[d];for(g=x=-1,N=A;N<P;N++)x=.5*Math.abs((E-b)*(t[N].y-_)-(E-t[N].x)*(w-_)),x>g&&(g=x,p=t[N],v=N);a[c++]=p,d=v}return a[c++]=t[u],a}function IZ(t,e,n,r){let s=0,i=0,a,l,c,u,d,f,p,g,x,v;const b=[],w=e+n-1,N=t[e].x,M=t[w].x-N;for(a=e;a<e+n;++a){l=t[a],c=(l.x-N)/M*r,u=l.y;const j=c|0;if(j===d)u<x?(x=u,f=a):u>v&&(v=u,p=a),s=(i*s+l.x)/++i;else{const A=a-1;if(!at(f)&&!at(p)){const P=Math.min(f,p),E=Math.max(f,p);P!==g&&P!==A&&b.push({...t[P],x:s}),E!==g&&E!==A&&b.push({...t[E],x:s})}a>0&&A!==g&&b.push(t[A]),b.push(l),d=j,i=0,x=v=u,f=p=g=a}}return b}function SD(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function xT(t){t.data.datasets.forEach(e=>{SD(e)})}function LZ(t,e){const n=e.length;let r=0,s;const{iScale:i}=t,{min:a,max:l,minDefined:c,maxDefined:u}=i.getUserBounds();return c&&(r=En(Qi(e,i.axis,a).lo,0,n-1)),u?s=En(Qi(e,i.axis,l).hi+1,r,n)-r:s=n-r,{start:r,count:s}}var RZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){xT(t);return}const r=t.width;t.data.datasets.forEach((s,i)=>{const{_data:a,indexAxis:l}=s,c=t.getDatasetMeta(i),u=a||s.data;if(Bd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:p}=LZ(c,u);const g=n.threshold||4*r;if(p<=g){SD(s);return}at(a)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let x;switch(n.algorithm){case"lttb":x=DZ(u,f,p,r,n);break;case"min-max":x=IZ(u,f,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=x})},destroy(t){xT(t)}};function FZ(t,e,n){const r=t.segments,s=t.points,i=e.points,a=[];for(const l of r){let{start:c,end:u}=l;u=lx(c,u,s);const d=w2(n,s[c],s[u],l.loop);if(!e.segments){a.push({source:l,target:d,start:s[c],end:s[u]});continue}const f=nD(e,d);for(const p of f){const g=w2(n,i[p.start],i[p.end],p.loop),x=tD(l,s,g);for(const v of x)a.push({source:v,target:p,start:{[n]:yT(d,g,"start",Math.max)},end:{[n]:yT(d,g,"end",Math.min)}})}}return a}function w2(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=Jn(s),i=Jn(i)),{property:t,start:s,end:i}}function zZ(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:l})=>{l=lx(a,l,s);const c=s[a],u=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:u.y}))}),i}function lx(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function yT(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function jD(t,e){let n=[],r=!1;return zt(t)?(r=!0,n=t):n=zZ(t,e),n.length?new ox({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function bT(t){return t&&t.fill!==!1}function VZ(t,e,n){let s=t[e].fill;const i=[e];let a;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Zt(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function $Z(t,e,n){const r=WZ(t);if(ot(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Zt(s)&&Math.floor(s)===s?BZ(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function BZ(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function HZ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ot(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function UZ(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:ot(t)?r=t.value:r=e.getBaseValue(),r}function WZ(t){const e=t.options,n=e.fill;let r=Je(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function qZ(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,a=r.points,l=KZ(e,n);l.push(jD({x:null,y:e.bottom},r));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)GZ(s,a[d],l)}return new ox({points:s,options:{}})}function KZ(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function GZ(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:a,last:l,point:c}=YZ(i,e,"x");if(!(!c||a&&l)){if(a)r.unshift(c);else if(t.push(c),!l)break}}t.push(...r)}function YZ(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,a=t.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],f=a[d.start][n],p=a[d.end][n];if(Xi(s,f,p)){l=s===f,c=s===p;break}}return{first:l,last:c,point:r}}class CD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:a}=this;return n=n||{start:0,end:It},e.arc(s,i,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function XZ(t){const{chart:e,fill:n,line:r}=t;if(Zt(n))return QZ(e,n);if(n==="stack")return qZ(t);if(n==="shape")return!0;const s=JZ(t);return s instanceof CD?s:jD(s,r)}function QZ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function JZ(t){return(t.scale||{}).getPointPositionForValue?eee(t):ZZ(t)}function ZZ(t){const{scale:e={},fill:n}=t,r=HZ(n,e);if(Zt(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function eee(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,a=UZ(n,e,i),l=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,i);return new CD({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(e.getPointPositionForValue(c,a));return l}function hv(t,e,n){const r=XZ(e),{chart:s,index:i,line:a,scale:l,axis:c}=e,u=a.options,d=u.fill,f=u.backgroundColor,{above:p=f,below:g=f}=d||{},x=s.getDatasetMeta(i),v=rD(s,x);r&&a.points.length&&(nx(t,n),tee(t,{line:a,target:r,above:p,below:g,area:n,scale:l,axis:c,clip:v}),rx(t))}function tee(t,e){const{line:n,target:r,above:s,below:i,area:a,scale:l,clip:c}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==s&&(u==="x"?(vT(t,r,a.top),fv(t,{line:n,target:r,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),vT(t,r,a.bottom)):u==="y"&&(wT(t,r,a.left),fv(t,{line:n,target:r,color:i,scale:l,property:u,clip:c}),t.restore(),t.save(),wT(t,r,a.right),d=s)),fv(t,{line:n,target:r,color:d,scale:l,property:u,clip:c}),t.restore()}function vT(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[lx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function wT(t,e,n){const{segments:r,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[lx(c,u,s)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function fv(t,e){const{line:n,target:r,property:s,color:i,scale:a,clip:l}=e,c=FZ(n,r,s);for(const{source:u,target:d,start:f,end:p}of c){const{style:{backgroundColor:g=i}={}}=u,x=r!==!0;t.save(),t.fillStyle=g,nee(t,a,l,x&&w2(s,f,p)),t.beginPath();const v=!!n.pathSegment(t,u);let b;if(x){v?t.closePath():NT(t,r,p,s);const w=!!r.pathSegment(t,d,{move:v,reverse:!0});b=v&&w,b||NT(t,r,f,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function nee(t,e,n,r){const s=e.chart.chartArea,{property:i,start:a,end:l}=r||{};if(i==="x"||i==="y"){let c,u,d,f;i==="x"?(c=a,u=s.top,d=l,f=s.bottom):(c=s.left,u=a,d=s.right,f=l),t.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function NT(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var ree={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,a,l,c;for(a=0;a<r;++a)i=t.getDatasetMeta(a),l=i.dataset,c=null,l&&l.options&&l instanceof ox&&(c={visible:t.isDatasetVisible(a),index:a,fill:$Z(l,a,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(a=0;a<r;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=VZ(s,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&hv(t.ctx,l,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;bT(i)&&hv(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!bT(r)||n.drawTime!=="beforeDatasetDraw"||hv(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ST=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},see=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class jT extends ya{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Tt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Nn(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=ST(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let f=e;i.textAlign="left",i.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((x,v)=>{const b=r+n/2+i.measureText(x.text).width;(v===0||u[u.length-1]+b+2*l>a)&&(f+=d,u[u.length-(v>0?0:1)]=0,g+=d,p++),c[v]={left:0,top:g,row:p,width:b,height:s},u[u.length-1]+=b+l}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=l,p=0,g=0,x=0,v=0;return this.legendItems.forEach((b,w)=>{const{itemWidth:N,itemHeight:C}=iee(r,n,i,b,s);w>0&&g+C+2*l>d&&(f+=p+l,u.push({width:p,height:g}),x+=p+l,v++,p=g=0),c[w]={left:x,top:g,col:v,width:N,height:C},p=Math.max(p,N),g+=C+l}),f+=p,u.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=ru(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Xn(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=Xn(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+e+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let l=0,c=Xn(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=Xn(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nx(e,this),this._draw(),rx(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,l=Vt.color,c=ru(e.rtl,this.left,this.width),u=Nn(a.font),{padding:d}=a,f=u.size,p=f/2;let g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:x,boxHeight:v,itemHeight:b}=ST(a,f),w=function(A,P,E){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;s.save();const _=Je(E.lineWidth,1);if(s.fillStyle=Je(E.fillStyle,l),s.lineCap=Je(E.lineCap,"butt"),s.lineDashOffset=Je(E.lineDashOffset,0),s.lineJoin=Je(E.lineJoin,"miter"),s.lineWidth=_,s.strokeStyle=Je(E.strokeStyle,l),s.setLineDash(Je(E.lineDash,[])),a.usePointStyle){const L={radius:v*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:_},D=c.xPlus(A,x/2),R=P+p;U_(s,L,D,R,a.pointStyleWidth&&x)}else{const L=P+Math.max((f-v)/2,0),D=c.leftForLtr(A,x),R=Nl(E.borderRadius);s.beginPath(),Object.values(R).some(G=>G!==0)?_h(s,{x:D,y:L,w:x,h:v,radius:R}):s.rect(D,L,x,v),s.fill(),_!==0&&s.stroke()}s.restore()},N=function(A,P,E){zl(s,E.text,A,P+b/2,u,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},C=this.isHorizontal(),M=this._computeTitleHeight();C?g={x:Xn(i,this.left+d,this.right-r[0]),y:this.top+d+M,line:0}:g={x:this.left+d,y:Xn(i,this.top+M+d,this.bottom-n[0].height),line:0},J_(this.ctx,e.textDirection);const j=b+d;this.legendItems.forEach((A,P)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const E=s.measureText(A.text).width,_=c.textAlign(A.textAlign||(A.textAlign=a.textAlign)),L=x+p+E;let D=g.x,R=g.y;c.setWidth(this.width),C?P>0&&D+L+d>this.right&&(R=g.y+=j,g.line++,D=g.x=Xn(i,this.left+d,this.right-r[g.line])):P>0&&R+j>this.bottom&&(D=g.x=D+n[g.line].width+d,g.line++,R=g.y=Xn(i,this.top+M+d,this.bottom-n[g.line].height));const G=c.x(D);if(w(G,R,A),D=gX(_,D+x+p,C?D+L:this.right,e.rtl),N(c.x(D),R,A),C)g.x+=L+d;else if(typeof A.text!="string"){const U=u.lineHeight;g.y+=kD(A,U)+d}else g.y+=j}),Z_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Nn(n.font),s=nr(n.padding);if(!n.display)return;const i=ru(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,f=Xn(e.align,f,this.right-p);else{const x=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=u+Xn(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=Xn(l,f,f+p);a.textAlign=i.textAlign(DN(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,zl(a,n.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,n=Nn(e.font),r=nr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Xi(e,this.left,this.right)&&Xi(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Xi(e,s.left,s.left+s.width)&&Xi(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!lee(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=see(s,r);s&&!i&&Tt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&Tt(n.onHover,[e,r,this],this)}else r&&Tt(n.onClick,[e,r,this],this)}}function iee(t,e,n,r,s){const i=aee(r,t,e,n),a=oee(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function aee(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function oee(t,e,n){let r=t;return typeof e.text!="string"&&(r=kD(e,n)),r}function kD(t,e){const n=t.text?t.text.length:0;return e*n}function lee(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var cee={id:"legend",_element:jT,start(t,e,n){const r=t.legend=new jT({ctx:t.ctx,options:n,chart:t});er.configure(t,r,n),er.addBox(t,r)},stop(t){er.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;er.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=nr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class UN extends ya{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=zt(r.text)?r.text.length:1;this._padding=nr(r.padding);const i=s*Nn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,l=a.align;let c=0,u,d,f;return this.isHorizontal()?(d=Xn(l,r,i),f=n+e,u=i-r):(a.position==="left"?(d=r+e,f=Xn(l,s,n),c=ht*-.5):(d=i-e,f=Xn(l,n,s),c=ht*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Nn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);zl(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:DN(n.align),textBaseline:"middle",translation:[a,l]})}}function uee(t,e){const n=new UN({ctx:t.ctx,options:e,chart:t});er.configure(t,n,e),er.addBox(t,n),t.titleBlock=n}var dee={id:"title",_element:UN,start(t,e,n){uee(t,n)},stop(t){const e=t.titleBlock;er.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;er.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tp=new WeakMap;var hee={id:"subtitle",start(t,e,n){const r=new UN({ctx:t.ctx,options:n,chart:t});er.configure(t,r,n),er.addBox(t,r),tp.set(t,r)},stop(t){er.removeBox(t,tp.get(t)),tp.delete(t)},beforeUpdate(t,e,n){const r=tp.get(t);er.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ud={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=m2(e,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Js(t,e){return e&&(zt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Bi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fee(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function CT(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=Nn(e.bodyFont),u=Nn(e.titleFont),d=Nn(e.footerFont),f=i.length,p=s.length,g=r.length,x=nr(e.padding);let v=x.height,b=0,w=r.reduce((M,j)=>M+j.before.length+j.lines.length+j.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),w){const M=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=g*M+(w-g)*c.lineHeight+(w-1)*e.bodySpacing}p&&(v+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let N=0;const C=function(M){b=Math.max(b,n.measureText(M).width+N)};return n.save(),n.font=u.string,Nt(t.title,C),n.font=c.string,Nt(t.beforeBody.concat(t.afterBody),C),N=e.displayColors?a+2+e.boxPadding:0,Nt(r,M=>{Nt(M.before,C),Nt(M.lines,C),Nt(M.after,C)}),N=0,n.font=d.string,Nt(t.footer,C),n.restore(),b+=x.width,{width:b,height:v}}function mee(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function pee(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function gee(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),pee(u,t,e,n)&&(u="center"),u}function kT(t,e,n){const r=n.yAlign||e.yAlign||mee(t,n);return{xAlign:n.xAlign||e.xAlign||gee(t,e,n,r),yAlign:r}}function xee(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function yee(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function TT(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=Nl(a);let x=xee(e,l);const v=yee(e,c,u);return c==="center"?l==="left"?x+=u:l==="right"&&(x-=u):l==="left"?x-=Math.max(d,p)+s:l==="right"&&(x+=Math.max(f,g)+s),{x:En(x,0,r.width-e.width),y:En(v,0,r.height-e.height)}}function np(t,e,n){const r=nr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function ET(t){return Js([],Bi(t))}function bee(t,e,n){return To(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function MT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const TD={beforeTitle:Ii,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ii,beforeBody:Ii,beforeLabel:Ii,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return at(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ii,afterBody:Ii,beforeFooter:Ii,footer:Ii,afterFooter:Ii};function jr(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?TD[e].call(n,r):s}class PT extends ya{static positioners=Ud;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new sD(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=bee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=jr(r,"beforeTitle",this,e),i=jr(r,"title",this,e),a=jr(r,"afterTitle",this,e);let l=[];return l=Js(l,Bi(s)),l=Js(l,Bi(i)),l=Js(l,Bi(a)),l}getBeforeBody(e,n){return ET(jr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Nt(e,i=>{const a={before:[],lines:[],after:[]},l=MT(r,i);Js(a.before,Bi(jr(l,"beforeLabel",this,i))),Js(a.lines,jr(l,"label",this,i)),Js(a.after,Bi(jr(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return ET(jr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=jr(r,"beforeFooter",this,e),i=jr(r,"footer",this,e),a=jr(r,"afterFooter",this,e);let l=[];return l=Js(l,Bi(s)),l=Js(l,Bi(i)),l=Js(l,Bi(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(fee(this.chart,n[c]));return e.filter&&(l=l.filter((d,f,p)=>e.filter(d,f,p,r))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,r))),Nt(l,d=>{const f=MT(e.callbacks,d);s.push(jr(f,"labelColor",this,d)),i.push(jr(f,"labelPointStyle",this,d)),a.push(jr(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Ud[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=CT(this,r),u=Object.assign({},l,c),d=kT(this.chart,r,u),f=TT(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Nl(l),{x:p,y:g}=e,{width:x,height:v}=n;let b,w,N,C,M,j;return i==="center"?(M=g+v/2,s==="left"?(b=p,w=b-a,C=M+a,j=M-a):(b=p+x,w=b+a,C=M-a,j=M+a),N=b):(s==="left"?w=p+Math.max(c,d)+a:s==="right"?w=p+x-Math.max(u,f)-a:w=this.caretX,i==="top"?(C=g,M=C-a,b=w-a,N=w+a):(C=g+v,M=C+a,b=w+a,N=w-a),j=C),{x1:b,x2:w,x3:N,y1:C,y2:M,y3:j}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,l,c;if(i){const u=ru(r.rtl,this.x,this.width);for(e.x=np(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Nn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=Nn(i.bodyFont),f=np(this,"left",i),p=s.x(f),g=c<d.lineHeight?(d.lineHeight-c)/2:0,x=n.y+g;if(i.usePointStyle){const v={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=s.leftForLtr(p,u)+u/2,w=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,g2(e,v,b,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,g2(e,v,b,w)}else{e.lineWidth=ot(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(p,u),b=s.leftForLtr(s.xPlus(p,1),u-2),w=Nl(a.borderRadius);Object.values(w).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,_h(e,{x:v,y:x,w:u,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),_h(e,{x:b,y:x+1,w:u-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,x,u,c),e.strokeRect(v,x,u,c),e.fillStyle=a.backgroundColor,e.fillRect(b,x+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,f=Nn(r.bodyFont);let p=f.lineHeight,g=0;const x=ru(r.rtl,this.x,this.width),v=function(E){n.fillText(E,x.x(e.x+g),e.y+p/2),e.y+=p+i},b=x.textAlign(a);let w,N,C,M,j,A,P;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=np(this,b,r),n.fillStyle=r.bodyColor,Nt(this.beforeBody,v),g=l&&b!=="right"?a==="center"?u/2+d:u+2+d:0,M=0,A=s.length;M<A;++M){for(w=s[M],N=this.labelTextColors[M],n.fillStyle=N,Nt(w.before,v),C=w.lines,l&&C.length&&(this._drawColorBox(n,e,M,x,r),p=Math.max(f.lineHeight,c)),j=0,P=C.length;j<P;++j)v(C[j]),p=f.lineHeight;Nt(w.after,v)}g=0,p=f.lineHeight,Nt(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,l;if(i){const c=ru(r.rtl,this.x,this.width);for(e.x=np(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=Nn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:x}=Nl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+u-p,c),n.quadraticCurveTo(l+u,c,l+u,c+p),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+u,c+d-x),n.quadraticCurveTo(l+u,c+d,l+u-x,c+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+g,c+d),n.quadraticCurveTo(l,c+d,l,c+d-g),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=Ud[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=CT(this,e),c=Object.assign({},a,this._size),u=kT(n,e,c),d=TT(e,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=nr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),J_(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Z_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!yg(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),l=this._positionChanged(a,e),c=n||!yg(a,i)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=Ud[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}var vee={id:"tooltip",_element:PT,positioners:Ud,afterInit(t,e,n){n&&(t.tooltip=new PT({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:TD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},wee=Object.freeze({__proto__:null,Colors:_Z,Decimation:RZ,Filler:ree,Legend:cee,SubTitle:hee,Title:dee,Tooltip:vee});const Nee=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function See(t,e,n,r){const s=t.indexOf(e);if(s===-1)return Nee(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const jee=(t,e)=>t===null?null:En(Math.round(t),0,e);function AT(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Cee extends Zl{static id="category";static defaults={ticks:{callback:AT}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(at(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:See(r,e,Je(n,e),this._addedLabels),jee(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return AT.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function kee(t,e){const n=[],{bounds:s,step:i,min:a,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:p}=t,g=i||1,x=d-1,{min:v,max:b}=e,w=!at(a),N=!at(l),C=!at(u),M=(b-v)/(f+1);let j=C5((b-v)/x/g)*g,A,P,E,_;if(j<1e-14&&!w&&!N)return[{value:v},{value:b}];_=Math.ceil(b/j)-Math.floor(v/j),_>x&&(j=C5(_*j/x/g)*g),at(c)||(A=Math.pow(10,c),j=Math.ceil(j*A)/A),s==="ticks"?(P=Math.floor(v/j)*j,E=Math.ceil(b/j)*j):(P=v,E=b),w&&N&&i&&cX((l-a)/i,j/1e3)?(_=Math.round(Math.min((l-a)/j,d)),j=(l-a)/_,P=a,E=l):C?(P=w?a:P,E=N?l:E,_=u-1,j=(E-P)/_):(_=(E-P)/j,th(_,Math.round(_),j/1e3)?_=Math.round(_):_=Math.ceil(_));const L=Math.max(k5(j),k5(P));A=Math.pow(10,at(c)?L:c),P=Math.round(P*A)/A,E=Math.round(E*A)/A;let D=0;for(w&&(p&&P!==a?(n.push({value:a}),P<a&&D++,th(Math.round((P+D*j)*A)/A,a,OT(a,M,t))&&D++):P<a&&D++);D<_;++D){const R=Math.round((P+D*j)*A)/A;if(N&&R>l)break;n.push({value:R})}return N&&p&&E!==l?n.length&&th(n[n.length-1].value,l,OT(l,M,t))?n[n.length-1].value=l:n.push({value:l}):(!N||E===l)&&n.push({value:E}),n}function OT(t,e,{horizontal:n,minRotation:r}){const s=Rs(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class Cg extends Zl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return at(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=hi(s),u=hi(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=kee(s,i);return e.bounds==="ticks"&&I_(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return vf(e,this.chart.options.locale,this.options.ticks.format)}}class Tee extends Cg{static id="linear";static defaults={ticks:{callback:tx.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?e:0,this.max=Zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Rs(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ih=t=>Math.floor(Za(t)),Zo=(t,e)=>Math.pow(10,Ih(t)+e);function _T(t){return t/Math.pow(10,Ih(t))===1}function DT(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function Eee(t,e){const n=e-t;let r=Ih(n);for(;DT(t,e,r)>10;)r++;for(;DT(t,e,r)<10;)r--;return Math.min(r,Ih(t))}function Mee(t,{min:e,max:n}){e=$r(t.min,e);const r=[],s=Ih(e);let i=Eee(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=s>i?Math.pow(10,s):0,u=Math.round((e-c)*a)/a,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,i)),p=$r(t.min,Math.round((c+d+f*Math.pow(10,i))*a)/a);for(;p<n;)r.push({value:p,major:_T(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,a=i>=0?1:a),p=Math.round((c+d+f*Math.pow(10,i))*a)/a;const g=$r(t.max,p);return r.push({value:g,major:_T(g),significand:f}),r}class Pee extends Zl{static id="logarithmic";static defaults={ticks:{callback:tx.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Cg.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Zt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?Math.max(0,e):null,this.max=Zt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zt(this._userMin)&&(this.min=e===Zo(this.min,0)?Zo(this.min,-1):Zo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=l=>r=e?r:l,a=l=>s=n?s:l;r===s&&(r<=0?(i(1),a(10)):(i(Zo(r,-1)),a(Zo(s,1)))),r<=0&&i(Zo(s,-1)),s<=0&&a(Zo(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=Mee(n,this);return e.bounds==="ticks"&&I_(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":vf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Za(e),this._valueRange=Za(this.max)-Za(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Za(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function N2(t){const e=t.ticks;if(e.display&&t.display){const n=nr(e.backdropPadding);return Je(e.font&&e.font.size,Vt.font.size)+n.height}return 0}function Aee(t,e,n){return n=zt(n)?n:[n],{w:kX(t,e.string,n),h:n.length*e.lineHeight}}function IT(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function Oee(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,a=t.options.pointLabels,l=a.centerPointLabels?ht/i:0;for(let c=0;c<i;c++){const u=a.setContext(t.getPointLabelContext(c));s[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+s[c],l),f=Nn(u.font),p=Aee(t.ctx,f,t._pointLabels[c]);r[c]=p;const g=Jn(t.getIndexAngle(c)+l),x=Math.round(ON(g)),v=IT(x,d.x,p.w,0,180),b=IT(x,d.y,p.h,90,270);_ee(n,e,g,v,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Lee(t,r,s)}function _ee(t,e,n,r,s){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,c=0;r.start<e.l?(l=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-l)):r.end>e.r&&(l=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),s.start<e.t?(c=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function Dee(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:a,size:l}=n,c=t.getPointPosition(e,r+s+a,i),u=Math.round(ON(Jn(c.angle+on))),d=zee(c.y,l.h,u),f=Ree(u),p=Fee(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:p,top:d,right:p+l.w,bottom:d+l.h}}function Iee(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(Ji({x:n,y:r},e)||Ji({x:n,y:i},e)||Ji({x:s,y:r},e)||Ji({x:s,y:i},e))}function Lee(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:a,display:l}=i.pointLabels,c={extra:N2(i)/2,additionalAngle:a?ht/s:0};let u;for(let d=0;d<s;d++){c.padding=n[d],c.size=e[d];const f=Dee(t,d,c);r.push(f),l==="auto"&&(f.visible=Iee(f,u),f.visible&&(u=f))}return r}function Ree(t){return t===0||t===180?"center":t<180?"left":"right"}function Fee(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function zee(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Vee(t,e,n){const{left:r,top:s,right:i,bottom:a}=n,{backdropColor:l}=e;if(!at(l)){const c=Nl(e.borderRadius),u=nr(e.backdropPadding);t.fillStyle=l;const d=r-u.left,f=s-u.top,p=i-r+u.width,g=a-s+u.height;Object.values(c).some(x=>x!==0)?(t.beginPath(),_h(t,{x:d,y:f,w:p,h:g,radius:c}),t.fill()):t.fillRect(d,f,p,g)}}function $ee(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const a=r.setContext(t.getPointLabelContext(s));Vee(n,a,i);const l=Nn(a.font),{x:c,y:u,textAlign:d}=i;zl(n,t._pointLabels[s],c,u+l.lineHeight/2,l,{color:a.color,textAlign:d,textBaseline:"middle"})}}function ED(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,It);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=t.getPointPosition(a,e),s.lineTo(i.x,i.y)}}function Bee(t,e,n,r,s){const i=t.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!r||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),ED(t,n,a,r),i.closePath(),i.stroke(),i.restore())}function Hee(t,e,n){return To(t,{label:n,index:e,type:"pointLabel"})}class Uee extends Cg{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=nr(N2(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Zt(e)&&!isNaN(e)?e:0,this.max=Zt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/N2(this.options))}generateTickLabels(e){Cg.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=Tt(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Oee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=It/(this._pointLabels.length||1),r=this.options.startAngle||0;return Jn(e*n+Rs(r))}getDistanceFromCenterForValue(e){if(at(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(at(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Hee(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-on+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),ED(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,a=this._pointLabels.length;let l,c,u;if(n.pointLabels.display&&$ee(this,a),s.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(f),g=s.setContext(p),x=i.setContext(p);Bee(this,g,c,a,x)}}),r.display){for(e.save(),l=a-1;l>=0;l--){const d=r.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:p}=d;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(c)),d=Nn(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=nr(u.backdropPadding);e.fillRect(-a/2-f.left,-i-d.size/2-f.top,a+f.width,d.size+f.height)}zl(e,l.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}const cx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pr=Object.keys(cx);function LT(t,e){return t-e}function RT(t,e){if(at(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Zt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(fu(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function FT(t,e,n,r){const s=Pr.length;for(let i=Pr.indexOf(t);i<s-1;++i){const a=cx[Pr[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=r)return Pr[i]}return Pr[s-1]}function Wee(t,e,n,r,s){for(let i=Pr.length-1;i>=Pr.indexOf(n);i--){const a=Pr[i];if(cx[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Pr[n?Pr.indexOf(n):0]}function qee(t){for(let e=Pr.indexOf(t)+1,n=Pr.length;e<n;++e)if(cx[Pr[e]].common)return Pr[e]}function zT(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=_N(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function Kee(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function VT(t,e,n){const r=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,r.push({value:l,major:!1});return i===0||!n?r:Kee(t,r,s,n)}class S2 extends Zl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new GQ._date(e.adapters.date);s.init(n),eh(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:RT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Zt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Zt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=fX(s,i,a);return this._unit=n.unit||(r.autoSkip?FT(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Wee(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:qee(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),VT(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=En(n,0,a),r=En(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||FT(i.minUnit,n,r,this._getLabelCapacity(n)),l=Je(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=fu(c)||c===!0,d={};let f=n,p,g;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<r;p=+e.add(p,l,a),g++)zT(d,p,x);return(p===r||s.bounds==="ticks"||g===1)&&zT(d,p,x),Object.keys(d).sort(LT).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return Tt(a,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],p=r[n],g=u&&f&&p&&p.major;return this._adapter.format(e,s||(g?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Rs(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*a,h:r*a+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,VT(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(RT(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return F_(e.sort(LT))}}function rp(t,e,n){let r=0,s=t.length-1,i,a,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Qi(t,"pos",e)),{pos:i,time:l}=t[r],{pos:a,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Qi(t,"time",e)),{time:i,pos:l}=t[r],{time:a,pos:c}=t[s]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class Gee extends S2{static id="timeseries";static defaults=S2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=rp(n,this.min),this._tableRange=rp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,l,c,u,d;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,l=s.length;a<l;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(rp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return rp(this._table,r*this._tableRange+this._minPos,!0)}}var Yee=Object.freeze({__proto__:null,CategoryScale:Cee,LinearScale:Tee,LogarithmicScale:Pee,RadialLinearScale:Uee,TimeScale:S2,TimeSeriesScale:Gee});const Xee=[KQ,kZ,wee,Yee],MD="label";function $T(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Qee(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function PD(t,e){t.labels=e}function AD(t,e,n=MD){const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function Jee(t,e=MD){const n={labels:[],datasets:[]};return PD(n,t.labels),AD(n,t.datasets,e),n}function Zee(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...p}=t,g=T.useRef(null),x=T.useRef(null),v=()=>{g.current&&(x.current=new ax(g.current,{type:a,data:Jee(l,i),options:c&&{...c},plugins:u}),$T(e,x.current))},b=()=>{$T(e,null),x.current&&(x.current.destroy(),x.current=null)};return T.useEffect(()=>{!s&&x.current&&c&&Qee(x.current,c)},[s,c]),T.useEffect(()=>{!s&&x.current&&PD(x.current.config.data,l.labels)},[s,l.labels]),T.useEffect(()=>{!s&&x.current&&l.datasets&&AD(x.current.config.data,l.datasets,i)},[s,l.datasets]),T.useEffect(()=>{x.current&&(s?(b(),setTimeout(v)):x.current.update(f))},[s,c,l.labels,l.datasets,f]),T.useEffect(()=>{x.current&&(b(),setTimeout(v))},[a]),T.useEffect(()=>(v(),()=>b()),[]),o.jsx("canvas",{ref:g,role:"img",height:n,width:r,...p,children:d})}const ete=T.forwardRef(Zee);function tte(t,e){return ax.register(e),T.forwardRef((n,r)=>o.jsx(ete,{...n,ref:r,type:t}))}const nte=tte("line",oD);ax.register(...Xee);function rte({dashboardStatistic:t,statisticFollow:e}){const n={all:"Tng doanh thu & s n hng",member:"Doanh thu & n hng - Khch thnh vin",guest:"Doanh thu & n hng - Khch vng lai"},r={labels:t.map(i=>i.period),datasets:[{label:"Doanh thu (VND)",data:t.map(i=>Number(e==="all"?i.totalRevenue:e==="member"?i.member.memberRevenue:i.guest.guestRevenue)),backgroundColor:"green",borderColor:"green",borderWidth:2,tension:.4,yAxisID:"y-doanhthu"},{label:"Tng n hng",data:t.map(i=>Number(e==="all"?i.totalOrders:e==="member"?i.member.memberOrders:i.guest.guestOrders)),backgroundColor:"orange",borderColor:"orange",borderWidth:2,tension:.4,yAxisID:"y-donhang"}]},s={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{font:{size:14},padding:20}},title:{display:!0,text:n[e],font:{size:18,weight:"bold"},padding:{bottom:20}},tooltip:{callbacks:{label:function(i){const a=i.dataset.label||"",l=i.parsed.y;return a.includes("Doanh thu")?`${a}: ${new Intl.NumberFormat("vi-VN").format(l)} `:`${a}: ${l} n`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},"y-doanhthu":{type:"linear",position:"left",beginAtZero:!0,title:{display:!0,text:"Doanh thu (VND)",font:{size:14}},ticks:{callback:function(i){return new Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"short"}).format(i)}}},"y-donhang":{type:"linear",position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1},title:{display:!0,text:"S n hng",font:{size:14}},ticks:{stepSize:1,font:{size:12}}}}};return o.jsx("div",{className:"w-full h-[50rem]",children:o.jsx(nte,{data:r,options:s})})}function ste(){const[t,e]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[n,r]=T.useState(t),[s,i]=T.useState("all"),{data:a,isLoading:l}=De({queryKey:["overview",n],queryFn:()=>EY(n)}),{data:c,isLoading:u}=De({queryKey:["dashboardStatistic",n],queryFn:()=>MY(n)}),d=g=>{const{name:x,value:v}=g.target;e(b=>({...b,[x]:v}))},f=()=>{r({...t})},p=g=>Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"long"}).format(g);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Tng quan"}),o.jsx("p",{className:"pt-2",children:"Shop bn qun o .NTK"}),o.jsxs("div",{className:"flex gap-4 text-[1.4rem] py-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:t.startDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:t.endDate,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupBy",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupBy",id:"groupBy",value:t.groupBy,onChange:d,className:"w-[15rem] h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"px-6 h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>f(),children:[o.jsx(z,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>r({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(z,{icon:jN})})]})]})]}),l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:Array.from({length:4}).map((g,x)=>o.jsxs("div",{className:" shadow-md border border-gray-200 space-y-4 bg-gray-100 p-8 rounded-lg animate-pulse",children:[o.jsx("span",{className:"block w-[20rem] h-[1.5rem] rounded-full bg-gray-200"}),o.jsx("div",{className:"w-[4rem] h-[4rem] bg-gray-200 rounded-xl"}),o.jsx("span",{className:"block w-[15rem] h-[1.5rem] bg-gray-200 rounded-full"})]},x))}):a&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-[1rem]",children:[o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#7686ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng n hng"}),o.jsx("div",{className:"text-[3.2rem]",children:a.totalOrders}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#00d193] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Doanh thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalRevenue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#ff9a5b] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Tng cha thu"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.totalUnpaid)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]}),o.jsxs("div",{className:"shadow-md border border-gray-200 bg-[#6c62ff] text-white p-8 rounded-lg",children:[o.jsx("span",{className:"",children:"Gi tr TB / n"}),o.jsx("div",{className:"text-[3.2rem]",children:p(a.avgOrderValue)}),o.jsx("span",{className:"text-[1.2rem]",children:"K trc"})]})]})]}),o.jsxs("div",{className:"w-full bg-white shadow-md rounded-xl p-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-bold",children:"Thng k doanh thu"}),o.jsxs("div",{className:"space-y-2 mt-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"all",name:"radio",className:"",checked:s==="all",style:{scale:"1.2"},onChange:()=>i("all")}),o.jsx("label",{htmlFor:"all",children:"Tt c"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"member",name:"radio",className:"",checked:s==="member",style:{scale:"1.2"},onChange:()=>i("member")}),o.jsx("label",{htmlFor:"member",children:"Khch thnh vin"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"radio",id:"guest",name:"radio",className:"",checked:s==="guest",style:{scale:"1.2"},onChange:()=>i("guest")}),o.jsx("label",{htmlFor:"guest",children:"Khch vng lai"})]})]}),u?o.jsx("div",{children:"ang ti d liu"}):o.jsx(rte,{dashboardStatistic:c,statisticFollow:s})]})]})}const ux=async({queryKey:t})=>{const[,e]=t,n=Object.fromEntries(Object.entries(e).filter(([s,i])=>i!==null&&i!==""));return await he.get("/api/v1/product/get-product",{params:n})},ite=async()=>(await he.get("/api/v1/variant-size/get-size")).data,ate=async()=>(await he.get("/api/v1/variant-color/get-color")).data,ote=async t=>await he.get("/api/v1/product/get-popular",{params:t}),lte=async t=>{const{limit:e,page:n}=t;return await he.get("/api/v1/product/best-sell",{params:{limit:e,page:n}})},cte=async t=>await he.get(`/api/v1/product/detail/${t}`),ute=async t=>await he.get(`/api/v1/product/admin/detail/${t}`),OD=async({productId:t,rating:e,page:n,sort:r})=>await he.get(`/api/v1/evaluate/get-evaluate/${t}`,{params:{rating:e,page:n,sort:r,limit:20}}),dte=async(t,e)=>await he.get("/api/v1/product/by-slugs",{params:{slugs:t.join("/"),...e}}),hte=async t=>await he.get("/api/v1/product/child-of-cate",{params:{currentSlug:t}}),fte=async(t,e)=>{const n={};return!e&&t&&(n.session_id=t),await he.get("/api/v1/search/recent",{params:n})},mte=async({query:t,userId:e})=>{const n=Object.fromEntries(Object.entries(t).filter(([s,i])=>!(e&&s==="session_id"||i===null||i==="")));return await he.get("/api/v1/product/search",{params:n})},pte=async({query:t,userId:e})=>{const n=Object.fromEntries(Object.entries(t).filter(([s,i])=>!(e&&s==="session_id"||i===null)));return await he.get("/api/v1/product/sort",{params:n})},gte=async({queryKey:t})=>{const[e,n]=t,r={};return n.categoryName&&(r.categoryName=n.categoryName),n.isActive&&n.isActive!=="all"&&(r.isActive=n.isActive==="true"),(await he.get("/api/v1/category/get-categories",{params:r})).data},ec=async()=>(await he.get("/api/v1/category/get-all-category")).data,xte=async t=>{try{if(!t||t.length===0)throw new Error("Slugs phi l mt mng!");const e=t.filter(s=>s&&typeof s=="string"&&s.trim().length>0);if(e.length===0)throw new Error("Slugs khng hp l!");const n=e.join("/");return(await he.get("/api/v1/category/get-category-by-slugs",{params:{slugs:n}})).data}catch(e){if(e instanceof GH){if(e.response)throw new Error(e.response.data?.message||"Ly d liu tht bi!");if(e.request)throw new Error("Khng c kt ni mng. Vui lng kim tra kt ni ca bn!")}throw e}};function dx({category:t,allCategories:e,level:n=0}){if(!t.isActive)return null;const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(ye.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>o.jsx(dx,{category:i,allCategories:e,level:n+1},i.id))]},t.id)}function yte(){const[t,e]=T.useState({open:!1,data:null}),[n,r]=T.useState(!1),[s,i]=T.useState({productName:"",price:null,categoryId:null}),[a,l]=T.useState({...s,page:1,limit:30}),{data:c,isLoading:u,isError:d,refetch:f}=De({queryKey:["products",a],queryFn:ux}),{data:p=[]}=De({queryKey:["getAllCategory"],queryFn:ec}),g=c&&c.data||[],x=c?.totalPages||1,v=async w=>{if(!w||!w.id){ce.error("Khng c id ca sn phm!");return}r(!0);try{const N=await he.delete(`/api/v1/product/toggle-hidden-product/${w.id}`);N.status&&(ce.success(N.status||`${w.isActive?"n":"Hin"} sn phm thnh cng`),await f(),r(!1),e({open:!1,data:null}))}catch(N){console.log(N),r(!1),ce.error(N.message)}},b=()=>{l(w=>({...w,categoryId:s.categoryId,productName:s.productName,price:s.price}))};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 z-30 flex justify-between items-center pb-[1.5rem] border-b-[.1rem] border-b-gray-300",children:[o.jsx("h3",{className:"text-[2.5rem] font-semibold text-gray-600",children:"Sn phm"}),o.jsx("div",{children:o.jsxs(Qe,{to:"action",className:"text-white flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer ",children:[o.jsx(z,{icon:Au}),"Thm sn phm"]})})]}),o.jsxs("div",{className:" flex-1 overflow-auto hide-scrollbar",children:[o.jsx("div",{className:"mt-[3rem]",children:o.jsxs("div",{className:"w-full border-[.1rem] border-gray-300 mt-4 p-[2rem] flex items-end gap-[2rem]",children:[o.jsxs("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"productName",className:"text-gray-700",children:"Tn sn phm"}),o.jsx("input",{type:"text",name:"productName",id:"productName",placeholder:"Nhp tm kim...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:w=>i(N=>({...N,[w.target.name]:w.target.value}))})]}),o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"price",className:"text-gray-700",children:"Gi sn phm"}),o.jsx("input",{type:"number",name:"price",id:"price",placeholder:"Nhp gi...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem]",onChange:w=>i(N=>({...N,[w.target.name]:w.target.value}))})]}),o.jsxs("div",{className:"w-[30rem] flex flex-col gap-[.5rem]",children:[o.jsx("label",{htmlFor:"categoryId",className:"text-gray-700",children:"Danh mc"}),o.jsxs("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:w=>i(N=>({...N,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),p?.filter(w=>w.isActive).map(w=>o.jsx(dx,{category:w,allCategories:p,level:0},w.id))]})]}),o.jsxs("button",{className:"w-[15%] flex items-center justify-center gap-[1rem] px-[1.5rem] h-[4rem] bg-[var(--main-button)] text-white rounded-[.5rem] cursor-pointer hover:bg-[var(--main-button-hover)]",onClick:()=>b(),children:[o.jsx(z,{icon:Ss}),"Lc"]})]})}),o.jsx("div",{className:"mt-[2rem] border border-gray-300/50 rounded-md overflow-hidden",children:u?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"ang ti..."})]})}):d?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-red-500",children:"C li xy ra khi ti d liu!"})}):o.jsx(o.Fragment,{children:o.jsxs("table",{className:"min-w-full table-auto text-[1.4rem] rounded-lg shadow-sm overflow-hidden",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 text-gray-600 font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Sn phm"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Danh mc"}),o.jsx("th",{className:"px-6 py-4 text-left text-gray-600 font-semibold tracking-wide",children:"Gi"}),o.jsx("th",{className:"px-6 py-4 text-center text-gray-600 font-semibold tracking-wide",children:"Hnh ng"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:g.length>0?g?.map((w,N)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[o.jsx("td",{className:" px-6 py-4",children:N}),o.jsx("td",{className:" px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:w.mainImage,alt:"main image",className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{children:[o.jsx("h4",{className:"max-w-[25rem] font-medium text-gray-900 text-limit-1",children:w.productName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem]",children:["ID: ",w.id]})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("p",{className:`py-1 ${w.isActive?"text-green-700 bg-green-100":"text-red-700 bg-red-100 "} text-center rounded-full`,children:w.isActive?"ang hot ng":"Dng hot ng"})}),o.jsx("td",{className:"px-6 py-4 text-gray-700",children:p?.find(C=>C.id===w.category?.id)?.categoryName??"Cha c danh mc"}),o.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(w.price)}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsxs(Qe,{to:`detail/${w.id}`,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(z,{icon:da,className:"w-4 h-4"}),o.jsx("span",{children:"Chi tit"})]}),o.jsxs(Qe,{to:`action/${w.id}`,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[o.jsx(z,{icon:Bs,className:"w-4 h-4"}),o.jsx("span",{children:"Sa"})]}),o.jsx("button",{className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",onClick:()=>{e({open:!0,data:w})},children:o.jsxs("span",{children:[w.isActive?"n":"Hin"," sn phm"]})})]})})]},w.id)):o.jsx("tr",{"aria-colspan":6,children:o.jsx("td",{children:o.jsx("div",{children:"Khng c sn phm no"})})})})]})})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>l(w=>({...w,page:Math.max(w.page-1,1)})),disabled:a.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:x},(w,N)=>N+1).filter(w=>Math.abs(w-a.page)<=2).map(w=>o.jsx("button",{onClick:()=>l(N=>({...N,page:w})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${a.page===w?"bg-blue-500 text-white":"bg-gray-200"}`,children:w},w)),o.jsx("button",{onClick:()=>l(w=>({...w,page:Math.min(w.page+1,x)})),disabled:a.page===x,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]})]}),t.open&&o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>e({open:!1,data:null}),children:o.jsx(z,{icon:cn,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn mun ",t.data?.isActive?"n":"hin"," sn phm ny?"]}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${n?"mt-[1rem]":"mt-[3rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${n?"cursor-not-allowed":""}`,disabled:n,onClick:()=>e({open:!1,data:null}),children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${n?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:n,onClick:()=>v(t.data),children:n?o.jsx("div",{className:"w-5 h-5 mx-auto border-2 border-white border-t-transparent rounded-full animate-spin"}):t.data?.isActive?"n":"Hin"})]})]})})]})}function _D(t,e,n=0){const r=e.filter(i=>i.parentId===t.id),s=n*24;return o.jsxs(ye.Fragment,{children:[o.jsxs("option",{value:t.id,style:{paddingLeft:`${s}px`},children:[" ".repeat(n),t.categoryName,!t.isActive&&" ( dng)"]}),r.filter(i=>i.isActive).map(i=>_D(i,e,n+1))]},t.id)}function bte({setOpenAction:t,openAction:e,refetch:n,dataUpdate:r,parents:s}){const[i,a]=T.useState({categoryName:"",image:void 0,parentId:null,sortOrder:0}),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,p]=T.useState(null);T.useEffect(()=>{e?.action==="edit"?(a({categoryName:r.categoryName,image:r.image,parentId:r?.parentId,sortOrder:r?.sortOrder}),p(r.image)):(a({categoryName:"",image:void 0,parentId:null,sortOrder:0}),p(null))},[e?.action,r]);const g=b=>{const{name:w,value:N}=b.target;if(w==="image"){const C=b.target.files?.[0];if(!C)return;const M=URL.createObjectURL(C);p(M),a(j=>({...j,image:C}))}else a(C=>({...C,categoryName:N}))},x=async()=>{if(d(null),i.categoryName===""){d("Vui lng nhp tn danh mc!");return}if(!i.parentId&&!i.image){d("Vui lng chn hnh nh!");return}c(!0);try{const b=new FormData;b.append("categoryName",i.categoryName),i.parentId!==null&&i.parentId!==void 0&&b.append("parentId",String(i.parentId)),b.append("sortOrder",String(i.sortOrder)),i.image instanceof File&&b.append("image",i.image);const w=await he.post("/api/v1/category/create",b,{headers:{"Content-Type":"multipart/form-data"}});w.status&&(a({categoryName:"",image:"",parentId:null,sortOrder:0}),await n(),ce.success(w.message||"Thm danh mc thnh cng!"),t(null),c(!1))}catch(b){c(!1),d(b.message)}},v=async()=>{try{c(!0);const b=new FormData;b.append("categoryName",i.categoryName),i.image instanceof File&&b.append("image",i.image);const w=await he.patch(`/api/v1/category/edit/${r.id}`,b,{headers:{"Content-Type":"multipart/form-data"}});w.status?(ce.success(w.message||" lu thay i!"),await n(),t(null)):ce.error(w.message||"Li khng th cp nht thng tin!")}catch(b){ce.error(b.message||"Li server!")}finally{c(!1)}};return o.jsx("div",{className:"fixed w-full h-[100vh] top-0 left-0 bg-[#3636362c] flex items-center justify-center z-[900]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200",onClick:()=>t(null),children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-gray-600 text-center font-bold mb-[2rem]",children:e?.action==="add"?"Thm danh mc":"Chnh sa danh mc"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"categoryName",className:"text-gray-600",children:"Tn danh mc"}),o.jsx("input",{type:"text",name:"categoryName",id:"categoryName",value:i.categoryName,placeholder:"Nhp tn...",className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",onChange:b=>g(b)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Danh mc cha (ty chn)"}),o.jsxs("select",{value:i.parentId||"",onChange:b=>a(w=>({...w,parentId:b.target.value?Number(b.target.value):null})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600 pr-10 bg-white",children:[o.jsx("option",{value:"",children:"-- Khng c danh mc cha --"}),s.filter(b=>b.isActive).filter(b=>e?.action==="edit"?b.id!==r?.id:!0).filter(b=>!b.parentId).map(b=>_D(b,s,0))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Th t hin th"}),o.jsx("input",{type:"number",value:i.sortOrder,onChange:b=>a(w=>({...w,sortOrder:b.target.value===""?"":Number(b.target.value)})),className:"w-full h-[4rem] rounded-[.5rem] outline-none border border-gray-300 pl-[1.5rem] text-gray-600",min:"0",placeholder:"S cng nh cng hin th trc"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"nh cho danh mc:"}),o.jsxs("label",{className:"w-[6.5rem] h-[6.5rem] mt-[.5rem] border border-dashed border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer",children:[f?o.jsx("img",{src:f,alt:"nh danh mc",className:"w-full h-full border-collapse border-gray-400 rounded-[.5rem] flex items-center justify-center cursor-pointer object-cover"}):o.jsx(z,{icon:ha,className:"text-gray-400"}),o.jsx("input",{id:"image",type:"file",name:"image",hidden:!0,onChange:b=>g(b)})]})]})]}),u&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:u}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:`h-[3.2rem] w-[6rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem]  ${l?"cursor-not-allowed":"cursor-pointer"}`,onClick:()=>t(null),disabled:l,children:"Hy"}),o.jsx("button",{className:`h-[3.2rem] w-[8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] ${l?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,onClick:()=>{e?.action==="add"?x():v()},disabled:l,children:l?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.action==="add"?"Thm":"Lu"})]})]})})}function vte({setOpenToggleActive:t,openToggleActive:e,refetch:n}){const[r,s]=T.useState(!1),[i,a]=T.useState(null),l=async()=>{e?.id||a("Khng c id ca danh mc"),s(!0);try{let c=null;console.log(e),e?.title==="active"?c=await he.patch(`/api/v1/category/active/${e?.id}`):c=await he.patch(`/api/v1/category/inactive/${e?.id}`),c?.status&&(t(!1),s(!1),await n())}catch(c){s(!1),console.log(c),a(c.message)}};return o.jsx("div",{className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#43434344] z-[999]",children:o.jsxs("div",{className:"relative w-[50rem] h-auto bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:"absolute flex items-center justify-center top-[1rem] right-[1rem] w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>t(!1),children:o.jsx(z,{icon:cn,className:"text-gray-500"})}),o.jsxs("h2",{className:"text-[1.8rem] text-gray-800",children:["Bn c chc mun"," ",e?.title==="active"?"kch hot":"dng hot ng"," ","danh mc ny?"]}),i&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[4rem]",children:i}),o.jsxs("div",{className:`flex items-center justify-end gap-[1rem] ${r?"mt-[1rem]":"mt-[4rem]"}`,children:[o.jsx("button",{className:`w-[8rem] h-[3.2rem] rounded-sm bg-gray-200 text-gray-600 text-[1.4rem] hover:bg-gray-300 hover-linear ${r?"cursor-not-allowed":""}`,onClick:()=>t(!1),disabled:r,children:"Hy"}),o.jsx("button",{className:`w-[6.5rem] h-[3.2rem] rounded-sm bg-red-500 text-white text-[1.4rem] hover:bg-red-600 hover-linear ${r?"opacity-80 cursor-not-allowed":"hover:bg-red-600"}`,disabled:r,onClick:()=>l(),children:r?o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e?.title==="active"?"C":"Dng"})]})]})})}function wte(){const[t,e]=T.useState(null),[n,r]=T.useState(null),[s,i]=T.useState(null),[a,l]=T.useState(new Set),[c,u]=T.useState({categoryName:"",isActive:"all"}),[d,f]=T.useState({categoryName:"",isActive:"all"}),{data:p=[],isLoading:g,isError:x,refetch:v}=De({queryKey:["categories",d],queryFn:gte}),b=(M,j)=>{u(A=>({...A,[M]:j}))},w=()=>{f(c)},N=M=>{l(j=>{const A=new Set(j);return A.has(M)?A.delete(M):A.add(M),A})},C=(M,j=0)=>{const A=p.filter(G=>G.parentId===M.id),P=A.length>0,E=a.has(M.id),_=A.filter(G=>G.isActive),L=A.filter(G=>!G.isActive),D=_.length,R=L.length;return o.jsxs("div",{children:[o.jsxs("div",{className:`
            group relative flex items-center justify-between 
            border border-gray-300
            bg-white hover:bg-gray-50 transition-all duration-200
            ${j===0?"my-3 rounded-lg shadow-sm":"my-3 ml-10 rounded-r-lg"}
          `,children:[o.jsxs("div",{className:"flex items-center gap-5 flex-1 px-6 py-5",children:[o.jsx("button",{onClick:()=>P&&N(M.id),className:`w-[2.6rem] h-[2.6rem] flex items-center justify-center rounded-full transition-all
                ${P?"hover:bg-gray-200 cursor-pointer":"opacity-0 cursor-default"}`,disabled:!P,children:o.jsx(z,{icon:E?WG:b_,className:`text-gray-500 text-[1.4rem] transition-transform duration-200 ${E?"rotate-0":""}`})}),M.image?o.jsx("img",{src:M.image,alt:M.categoryName,className:"w-[5rem] h-[5rem] rounded-lg object-cover"}):o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-lg bg-gray-100 flex items-center justify-center",children:o.jsx(z,{icon:v_,className:"text-[2rem] text-gray-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800 text-[1.6rem]",children:M.categoryName}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx("span",{className:`px-3 py-1 text-[1.2rem] font-bold rounded-full ${M.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.isActive?"ang hot ng":"Dng hot ng"}),P&&o.jsxs("div",{className:"flex items-center gap-3",children:[D>0&&o.jsxs("span",{className:"text-[1.2rem] text-green-700 font-medium",children:[D," hot ng"]}),R>0&&o.jsxs("span",{className:"text-[1.2rem] text-red-600 font-medium",children:[R,"  dng"]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 pr-6",children:[o.jsxs("button",{onClick:()=>{r({action:"edit"}),i(M)},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-[1.4rem] font-medium transition flex items-center gap-2",children:[o.jsx(z,{icon:Bs}),"Sa"]}),M.isActive?o.jsx("button",{onClick:()=>e({title:"inactive",id:M.id}),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-[1.4rem] font-medium transition",children:"Dng"}):o.jsx("button",{onClick:()=>e({title:"active",id:M.id}),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-[1.4rem] font-medium transition",children:"Kch hot"})]})]}),E&&P&&o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-10 top-0 h-6 w-6 border-l-2 border-b-2 border-gray-300 rounded-bl-lg"}),o.jsx("div",{className:"ml-10",children:A.map(G=>C(G,j+1))})]})]},M.id)};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] overflow-y-auto bg-white shadow-lg rounded-[1rem] flex flex-col pb-[2rem] hide-scrollbar",children:[o.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center pb-6 border-b border-gray-300 px-[2rem] pt-[2rem] z-[100]",children:[o.jsx("h3",{className:"text-3xl font-bold text-gray-700",children:"Danh mc"}),o.jsxs("button",{onClick:()=>r({action:"add"}),className:"flex items-center gap-2 px-5 py-3 bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium transition",children:[o.jsx(z,{icon:Au}),"Thm mi"]})]}),o.jsxs("div",{className:"mt-8 px-[2rem]",children:[o.jsx("h3",{className:"text-2xl font-semibold text-gray-600 mb-6",children:"Danh sch"}),o.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-6 flex items-end gap-6 mb-8",children:[o.jsxs("div",{className:"flex-1 max-w-md",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tn danh mc"}),o.jsx("input",{type:"text",value:c.categoryName,onChange:M=>b("categoryName",M.target.value),placeholder:"Nhp  tm kim...",className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 text-gray-600 rounded-lg focus:outline-none focus:border-blue-500"})]}),o.jsxs("div",{className:"w-[22rem]",children:[o.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Trng thi"}),o.jsxs("select",{value:String(c.isActive),onChange:M=>b("isActive",M.target.value),className:"w-full h-[4rem] px-[1.5rem] border border-gray-300 rounded-lg focus:outline-none text-gray-600",children:[o.jsx("option",{value:"all",children:"Tt c trng thi"}),o.jsx("option",{value:"true",children:"ang hot ng"}),o.jsx("option",{value:"false",children:"Ngng hot ng"})]})]}),o.jsxs("button",{onClick:w,className:"h-[4rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white rounded-lg font-medium flex items-center justify-center gap-2 transition",children:[o.jsx(z,{icon:Ss}),"Lc"]})]}),g&&o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg border",children:[o.jsx(z,{icon:xg,spin:!0,className:"text-5xl text-blue-500 mb-4"}),o.jsx("p",{className:"text-lg text-gray-600",children:"ang ti danh mc..."})]}),x&&!g&&o.jsxs("div",{className:"text-center py-16 bg-red-50 rounded-lg border border-red-200",children:[o.jsx(z,{icon:NN,className:"text-5xl text-red-500 mb-4"}),o.jsx("p",{className:"text-xl text-red-600 font-medium mb-4",children:"Li ti d liu"}),o.jsx("button",{onClick:()=>v(),className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium",children:"Th li"})]}),o.jsx("div",{className:"space-y-2",children:!g&&!x&&p.length>0?p.filter(M=>!M.parentId).map(M=>C(M)):!g&&o.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:o.jsx("p",{className:"text-2xl text-gray-500",children:"Cha c danh mc no"})})})]}),n&&o.jsx(bte,{setOpenAction:r,openAction:n,refetch:v,dataUpdate:n.action==="add"?void 0:s,parents:p}),t&&o.jsx(vte,{setOpenToggleActive:e,openToggleActive:t,refetch:v})]})}function Nte(){const{user:t}=jt(),[e,n]=T.useState(!1),r=Ze(),[s,i]=T.useState(void 0),[a,l]=T.useState(!1),[c,u]=T.useState(null),[d,f]=T.useState({user:{avatar:void 0,username:"",email:"",phone:void 0},gender:"",birthday:""});T.useEffect(()=>{t&&f({user:{avatar:t.avatar,username:t.username,email:t.email,phone:t.phone},gender:t?.staff.gender||"",birthday:t?.staff.birthday||""})},[t]);const p=x=>{const{name:v,value:b}=x.target;if(v==="avatar"){const w=x.target.files;if(!w||w.length===0)return;const N=URL.createObjectURL(w[0]);i(N),f(C=>({...C,user:{...C.user,[v]:w[0]}}))}else f(v==="gender"||v==="birthday"?w=>({...w,[v]:b}):w=>({...w,user:{...w.user,[v]:b}}))},g=async()=>{l(!0);try{(!t||!t.id)&&r("/dashboard/login");const x=new FormData;console.log(d),d.user.avatar&&d.user.avatar instanceof File&&x.append("avatar",d.user.avatar),x.append("user[username]",d.user.username),x.append("user[email]",d.user.email),d.user.phone&&x.append("user[phone]",d.user.phone.toString()),d.gender&&x.append("gender",d.gender),d.birthday&&x.append("birthday",new Date(d.birthday).toISOString()),(await he.patch(`/api/v1/staff/update/${t?.staff.id}`,x,{headers:{"Content-Type":"multipart/form-data"}})).status&&(n(!1),l(!1),u(null))}catch(x){u(x?.message),l(!1)}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsxs("div",{className:"pb-[2rem] border-b-[.1rem] border-b-gray-300 ",children:[o.jsx("h2",{className:"text-[2.5rem] font-bold text-gray-600",children:"H s ca ti"}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex gap-[1rem] mt-[3rem]",children:[o.jsxs("div",{className:"w-1/4 flex flex-col items-center",children:[o.jsx("img",{src:s||(typeof d.user.avatar=="string"?d.user.avatar:TN),alt:"Avatar",className:"w-[12rem] h-[12rem] rounded-full object-cover"}),o.jsxs("label",{htmlFor:"avatar",className:"block px-[2rem] py-[.5rem] rounded-sm border border-gray-300 cursor-pointer mt-[1rem] mb-[2rem]",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",onClick:()=>n(!0),children:d.user.avatar?"Thay i":"Thm hnh nh"}),o.jsx("input",{type:"file",id:"avatar",name:"avatar",hidden:!0,onChange:x=>p(x)})]}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Dung lng ti a: 1MB"}),o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"nh dng: .JPEG, .PNG"})]}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[2rem] pl-[5rem] border-l-[.1rem] border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-bold",children:"Thng tin c nhn"}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"text-gray-600 w-[14rem] text-end",children:"Tn ngi dng"}),o.jsx("input",{type:"text",value:d.user.username,id:"username",name:"username",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"email",className:"text-gray-600 w-[14rem] text-end",children:"Email"}),o.jsx("input",{type:"email",value:d.user.email,id:"email",name:"email",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"phone",className:"text-gray-600 w-[14rem] text-end",children:"S in thoi"}),o.jsx("input",{type:"text",value:e?d.user.phone:d.user.phone??"Cha cp nht",id:"phone",name:"phone",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"text-gray-600 w-[14rem] text-end",children:"Ngy sinh"}),o.jsx("input",{type:"text",value:e?d.birthday:d.birthday??"Cha cp nht",id:"birthday",name:"birthday",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("label",{htmlFor:"gender",className:"text-gray-600 w-[14rem] text-end",children:"Gii tnh"}),o.jsx("input",{type:"text",value:e?d.gender??"Cha cp nht":(d&&(d.gender==="female"?"N":"Nam"))??"Cha cp nht",id:"gender",name:"gender",className:`w-[40rem] h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg outline-none ${e?"text-gray-800":"text-gray-400 cursor-not-allowed"}`,onChange:x=>p(x)})]}),o.jsxs("div",{children:[c&&o.jsx("p",{className:"text-red-500 text-[1.4rem] mb-[.5rem]",children:c}),e?o.jsxs("div",{children:[o.jsx("button",{className:"w-[15rem] h-[4rem] rounded-[.5rem] bg-green-600 hover:bg-green-700 hover-linear text-white cursor-pointer",onClick:()=>g(),disabled:a,children:a?"ang x l...":"Lu cp nht"}),o.jsx("button",{className:"w-[10rem] h-[4rem] bg-gray-200 text-gray-600 hover:bg-gray-300 rounded-lg ml-[1rem] cursor-pointer hover-linear",onClick:()=>n(!1),disabled:a,children:"Hy"})]}):o.jsx("button",{className:"w-[20rem] h-[4rem] rounded-[.5rem] bg-[#1e90ff] hover:bg-[#0d87ff] text-white cursor-pointer",onClick:()=>n(!0),children:"Cp nht thng tin"})]})]})]})]})}const Ste=async t=>{const e={};return t.searchOrder&&(e.searchOrder=t.searchOrder),t.status&&(e.status=t.status),e.limit=t.limit,e.page=t.page,await he.get("/api/v1/orders/orders-for-admin",{params:e})},jte=async t=>(await he.get("/api/v1/orders/get-orders",{params:t})).data,Cte=async t=>(await he.get(`/api/v1/orders/lookup/${t}`,{params:{orderCode:t}})).data,WN=T.createContext({});function qN(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const KN=typeof window<"u",DD=KN?T.useLayoutEffect:T.useEffect,hx=T.createContext(null);function GN(t,e){t.indexOf(e)===-1&&t.push(e)}function YN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fa=(t,e,n)=>n>e?e:n<t?t:n;let XN=()=>{};const ma={},ID=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LD(t){return typeof t=="object"&&t!==null}const RD=t=>/^0[^.\s]+$/u.test(t);function QN(t){let e;return()=>(e===void 0&&(e=t()),e)}const vs=t=>t,kte=(t,e)=>n=>e(t(n)),wf=(...t)=>t.reduce(kte),Lh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class JN{constructor(){this.subscriptions=[]}add(e){return GN(this.subscriptions,e),()=>YN(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=t=>t*1e3,bs=t=>t/1e3;function FD(t,e){return e?t*(1e3/e):0}const zD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Tte=1e-7,Ete=12;function Mte(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=zD(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>Tte&&++l<Ete);return a}function Nf(t,e,n,r){if(t===e&&n===r)return vs;const s=i=>Mte(i,0,1,t,n);return i=>i===0||i===1?i:zD(s(i),e,r)}const VD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$D=t=>e=>1-t(1-e),BD=Nf(.33,1.53,.69,.99),ZN=$D(BD),HD=VD(ZN),UD=t=>(t*=2)<1?.5*ZN(t):.5*(2-Math.pow(2,-10*(t-1))),eS=t=>1-Math.sin(Math.acos(t)),WD=$D(eS),qD=VD(eS),Pte=Nf(.42,0,1,1),Ate=Nf(0,0,.58,1),KD=Nf(.42,0,.58,1),Ote=t=>Array.isArray(t)&&typeof t[0]!="number",GD=t=>Array.isArray(t)&&typeof t[0]=="number",_te={linear:vs,easeIn:Pte,easeInOut:KD,easeOut:Ate,circIn:eS,circInOut:qD,circOut:WD,backIn:ZN,backInOut:HD,backOut:BD,anticipate:UD},Dte=t=>typeof t=="string",BT=t=>{if(GD(t)){XN(t.length===4);const[e,n,r,s]=t;return Nf(e,n,r,s)}else if(Dte(t))return _te[t];return t},sp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ite(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,f=!1,p=!1)=>{const x=p&&s?n:r;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const Lte=40;function YD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=sp.reduce((C,M)=>(C[M]=Ite(i),C),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:p,render:g,postRender:x}=a,v=()=>{const C=ma.useManualTiming?s.timestamp:performance.now();n=!1,ma.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,Lte),1)),s.timestamp=C,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),p.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},b=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:sp.reduce((C,M)=>{const j=a[M];return C[M]=(A,P=!1,E=!1)=>(n||b(),j.schedule(A,P,E)),C},{}),cancel:C=>{for(let M=0;M<sp.length;M++)a[sp[M]].cancel(C)},state:s,steps:a}}const{schedule:$t,cancel:No,state:Rn,steps:mv}=YD(typeof requestAnimationFrame<"u"?requestAnimationFrame:vs,!0);let Up;function Rte(){Up=void 0}const Ar={now:()=>(Up===void 0&&Ar.set(Rn.isProcessing||ma.useManualTiming?Rn.timestamp:performance.now()),Up),set:t=>{Up=t,queueMicrotask(Rte)}},XD=t=>e=>typeof e=="string"&&e.startsWith(t),tS=XD("--"),Fte=XD("var(--"),nS=t=>Fte(t)?zte.test(t.split("/*")[0].trim()):!1,zte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_u={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rh={..._u,transform:t=>fa(0,1,t)},ip={..._u,default:1},sh=t=>Math.round(t*1e5)/1e5,rS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vte(t){return t==null}const $te=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sS=(t,e)=>n=>!!(typeof n=="string"&&$te.test(n)&&n.startsWith(t)||e&&!Vte(n)&&Object.prototype.hasOwnProperty.call(n,e)),QD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(rS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Bte=t=>fa(0,255,t),pv={..._u,transform:t=>Math.round(Bte(t))},fl={test:sS("rgb","red"),parse:QD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pv.transform(t)+", "+pv.transform(e)+", "+pv.transform(n)+", "+sh(Rh.transform(r))+")"};function Hte(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const j2={test:sS("#"),parse:Hte,transform:fl.transform},Sf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$a=Sf("deg"),mi=Sf("%"),Ye=Sf("px"),Ute=Sf("vh"),Wte=Sf("vw"),HT={...mi,parse:t=>mi.parse(t)/100,transform:t=>mi.transform(t*100)},Kc={test:sS("hsl","hue"),parse:QD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+mi.transform(sh(e))+", "+mi.transform(sh(n))+", "+sh(Rh.transform(r))+")"},hn={test:t=>fl.test(t)||j2.test(t)||Kc.test(t),parse:t=>fl.test(t)?fl.parse(t):Kc.test(t)?Kc.parse(t):j2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fl.transform(t):Kc.transform(t),getAnimatableNone:t=>{const e=hn.parse(t);return e.alpha=0,hn.transform(e)}},qte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Kte(t){return isNaN(t)&&typeof t=="string"&&(t.match(rS)?.length||0)+(t.match(qte)?.length||0)>0}const JD="number",ZD="color",Gte="var",Yte="var(",UT="${}",Xte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(Xte,c=>(hn.test(c)?(r.color.push(i),s.push(ZD),n.push(hn.parse(c))):c.startsWith(Yte)?(r.var.push(i),s.push(Gte),n.push(c)):(r.number.push(i),s.push(JD),n.push(parseFloat(c))),++i,UT)).split(UT);return{values:n,split:l,indexes:r,types:s}}function eI(t){return Fh(t).values}function tI(t){const{split:e,types:n}=Fh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===JD?i+=sh(s[a]):l===ZD?i+=hn.transform(s[a]):i+=s[a]}return i}}const Qte=t=>typeof t=="number"?0:hn.test(t)?hn.getAnimatableNone(t):t;function Jte(t){const e=eI(t);return tI(t)(e.map(Qte))}const So={test:Kte,parse:eI,createTransformer:tI,getAnimatableNone:Jte};function gv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zte({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=gv(c,l,t+1/3),i=gv(c,l,t),a=gv(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function kg(t,e){return n=>n>0?e:t}const Wt=(t,e,n)=>t+(e-t)*n,xv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ene=[j2,fl,Kc],tne=t=>ene.find(e=>e.test(t));function WT(t){const e=tne(t);if(!e)return!1;let n=e.parse(t);return e===Kc&&(n=Zte(n)),n}const qT=(t,e)=>{const n=WT(t),r=WT(e);if(!n||!r)return kg(t,e);const s={...n};return i=>(s.red=xv(n.red,r.red,i),s.green=xv(n.green,r.green,i),s.blue=xv(n.blue,r.blue,i),s.alpha=Wt(n.alpha,r.alpha,i),fl.transform(s))},C2=new Set(["none","hidden"]);function nne(t,e){return C2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rne(t,e){return n=>Wt(t,e,n)}function iS(t){return typeof t=="number"?rne:typeof t=="string"?nS(t)?kg:hn.test(t)?qT:ane:Array.isArray(t)?nI:typeof t=="object"?hn.test(t)?qT:sne:kg}function nI(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>iS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function sne(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=iS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function ine(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const ane=(t,e)=>{const n=So.createTransformer(e),r=Fh(t),s=Fh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?C2.has(t)&&!s.values.length||C2.has(e)&&!r.values.length?nne(t,e):wf(nI(ine(r,s),s.values),n):kg(t,e)};function rI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):iS(t)(t,e)}const one=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$t.update(e,n),stop:()=>No(e),now:()=>Rn.isProcessing?Rn.timestamp:Ar.now()}},sI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Tg=2e4;function aS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Tg;)e+=n,r=t.next(e);return e>=Tg?1/0:e}function lne(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(aS(r),Tg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:bs(s)}}const cne=5;function iI(t,e,n){const r=Math.max(e-cne,0);return FD(n-t(r),e-r)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yv=.001;function une({duration:t=Yt.duration,bounce:e=Yt.bounce,velocity:n=Yt.velocity,mass:r=Yt.mass}){let s,i,a=1-e;a=fa(Yt.minDamping,Yt.maxDamping,a),t=fa(Yt.minDuration,Yt.maxDuration,bs(t)),a<1?(s=u=>{const d=u*a,f=d*t,p=d-n,g=k2(u,a),x=Math.exp(-f);return yv-p/g*x},i=u=>{const f=u*a*t,p=f*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-f),v=k2(Math.pow(u,2),a);return(-s(u)+yv>0?-1:1)*((p-g)*x)/v}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-yv+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=hne(s,i,l);if(t=fi(t),isNaN(c))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const dne=12;function hne(t,e,n){let r=n;for(let s=1;s<dne;s++)r=r-t(r)/e(r);return r}function k2(t,e){return t*Math.sqrt(1-e*e)}const fne=["duration","bounce"],mne=["stiffness","damping","mass"];function KT(t,e){return e.some(n=>t[n]!==void 0)}function pne(t){let e={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...t};if(!KT(t,mne)&&KT(t,fne))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*fa(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Yt.mass,stiffness:s,damping:i}}else{const n=une(t);e={...e,...n,mass:Yt.mass},e.isResolvedFromDuration=!0}return e}function Eg(t=Yt.visualDuration,e=Yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=pne({...n,velocity:-bs(n.velocity||0)}),x=p||0,v=u/(2*Math.sqrt(c*d)),b=a-i,w=bs(Math.sqrt(c/d)),N=Math.abs(b)<5;r||(r=N?Yt.restSpeed.granular:Yt.restSpeed.default),s||(s=N?Yt.restDelta.granular:Yt.restDelta.default);let C;if(v<1){const j=k2(w,v);C=A=>{const P=Math.exp(-v*w*A);return a-P*((x+v*w*b)/j*Math.sin(j*A)+b*Math.cos(j*A))}}else if(v===1)C=j=>a-Math.exp(-w*j)*(b+(x+w*b)*j);else{const j=w*Math.sqrt(v*v-1);C=A=>{const P=Math.exp(-v*w*A),E=Math.min(j*A,300);return a-P*((x+v*w*b)*Math.sinh(E)+j*b*Math.cosh(E))/j}}const M={calculatedDuration:g&&f||null,next:j=>{const A=C(j);if(g)l.done=j>=f;else{let P=j===0?x:0;v<1&&(P=j===0?fi(x):iI(C,j,A));const E=Math.abs(P)<=r,_=Math.abs(a-A)<=s;l.done=E&&_}return l.value=l.done?a:A,l},toString:()=>{const j=Math.min(aS(M),Tg),A=sI(P=>M.next(j*P).value,j,30);return j+"ms "+A},toTransition:()=>{}};return M}Eg.applyToOptions=t=>{const e=lne(t,100,Eg);return t.ease=e.ease,t.duration=fi(e.duration),t.type="keyframes",t};function T2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let v=n*e;const b=f+v,w=a===void 0?b:a(b);w!==b&&(v=w-f);const N=E=>-v*Math.exp(-E/r),C=E=>w+N(E),M=E=>{const _=N(E),L=C(E);p.done=Math.abs(_)<=u,p.value=p.done?w:L};let j,A;const P=E=>{g(p.value)&&(j=E,A=Eg({keyframes:[p.value,x(p.value)],velocity:iI(C,E,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:E=>{let _=!1;return!A&&j===void 0&&(_=!0,M(E),P(E)),j!==void 0&&E>=j?A.next(E-j):(!_&&M(E),p)}}}function gne(t,e,n){const r=[],s=n||ma.mix||rI,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||vs:e;l=wf(c,l)}r.push(l)}return r}function xne(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(XN(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=gne(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Lh(t[f],t[f+1],d);return l[f](p)};return n?d=>u(fa(t[0],t[i-1],d)):u}function yne(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Lh(0,e,r);t.push(Wt(n,1,s))}}function bne(t){const e=[0];return yne(e,t.length-1),e}function vne(t,e){return t.map(n=>n*e)}function wne(t,e){return t.map(()=>e||KD).splice(0,t.length-1)}function ih({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Ote(r)?r.map(BT):BT(r),i={done:!1,value:e[0]},a=vne(n&&n.length===e.length?n:bne(e),t),l=xne(a,e,{ease:Array.isArray(s)?s:wne(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Nne=t=>t!==null;function oS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(Nne),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const Sne={decay:T2,inertia:T2,tween:ih,keyframes:ih,spring:Eg};function aI(t){typeof t.type=="string"&&(t.type=Sne[t.type])}class lS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const jne=t=>t/100;class cS extends lS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ar.now()&&this.tick(Ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aI(e);const{type:n=ih,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const c=n||ih;c!==ih&&typeof l[0]!="number"&&(this.mixKeyframes=wf(jne,rI(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=aS(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,M=r;if(f){const E=Math.min(this.currentTime,s)/l;let _=Math.floor(E),L=E%1;!L&&E>=1&&(L=1),L===1&&_--,_=Math.min(_,f+1),!!(_%2)&&(p==="reverse"?(L=1-L,g&&(L-=g/l)):p==="mirror"&&(M=a)),C=fa(0,1,L)*l}const j=N?{done:!1,value:d[0]}:M.next(C);i&&(j.value=i(j.value));let{done:A}=j;!N&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return P&&x!==T2&&(j.value=oS(d,this.options,b,this.speed)),v&&v(j.value),P&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return bs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(this.currentTime)}set time(e){e=fi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ar.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=one,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Cne(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ml=t=>t*180/Math.PI,E2=t=>{const e=ml(Math.atan2(t[1],t[0]));return M2(e)},kne={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:E2,rotateZ:E2,skewX:t=>ml(Math.atan(t[1])),skewY:t=>ml(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},M2=t=>(t=t%360,t<0&&(t+=360),t),GT=E2,YT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),XT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YT,scaleY:XT,scale:t=>(YT(t)+XT(t))/2,rotateX:t=>M2(ml(Math.atan2(t[6],t[5]))),rotateY:t=>M2(ml(Math.atan2(-t[2],t[0]))),rotateZ:GT,rotate:GT,skewX:t=>ml(Math.atan(t[4])),skewY:t=>ml(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function P2(t){return t.includes("scale")?1:0}function A2(t,e){if(!t||t==="none")return P2(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Tne,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kne,s=l}if(!s)return P2(e);const i=r[e],a=s[1].split(",").map(Mne);return typeof i=="function"?i(a):a[i]}const Ene=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return A2(n,e)};function Mne(t){return parseFloat(t.trim())}const Du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Iu=new Set(Du),QT=t=>t===_u||t===Ye,Pne=new Set(["x","y","z"]),Ane=Du.filter(t=>!Pne.has(t));function One(t){const e=[];return Ane.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>A2(e,"x"),y:(t,{transform:e})=>A2(e,"y")};jl.translateX=jl.x;jl.translateY=jl.y;const Cl=new Set;let O2=!1,_2=!1,D2=!1;function oI(){if(_2){const t=Array.from(Cl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=One(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_2=!1,O2=!1,Cl.forEach(t=>t.complete(D2)),Cl.clear()}function lI(){Cl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_2=!0)})}function _ne(){D2=!0,lI(),oI(),D2=!1}class uS{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cl.add(this),O2||(O2=!0,$t.read(lI),$t.resolveKeyframes(oI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}Cne(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cl.delete(this)}cancel(){this.state==="scheduled"&&(Cl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Dne=t=>t.startsWith("--");function Ine(t,e,n){Dne(e)?t.style.setProperty(e,n):t.style[e]=n}const Lne=QN(()=>window.ScrollTimeline!==void 0),Rne={};function Fne(t,e){const n=QN(t);return()=>Rne[e]??n()}const cI=Fne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,JT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wd([0,.65,.55,1]),circOut:Wd([.55,0,1,.45]),backIn:Wd([.31,.01,.66,-.59]),backOut:Wd([.33,1.53,.69,.99])};function uI(t,e){if(t)return typeof t=="function"?cI()?sI(t,e):"ease-out":GD(t)?Wd(t):Array.isArray(t)?t.map(n=>uI(n,e)||JT.easeOut):JT[t]}function zne(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const f=uI(l,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(d,p)}function dI(t){return typeof t=="function"&&"applyToOptions"in t}function Vne({type:t,...e}){return dI(t)&&cI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $ne extends lS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,XN(typeof e.type!="string");const u=Vne(e);this.animation=zne(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=oS(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Ine(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bs(e)}get time(){return bs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Lne()?(this.animation.timeline=e,vs):n(this)}}const hI={anticipate:UD,backInOut:HD,circInOut:qD};function Bne(t){return t in hI}function Hne(t){typeof t.ease=="string"&&Bne(t.ease)&&(t.ease=hI[t.ease])}const ZT=10;class Une extends $ne{constructor(e){Hne(e),aI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new cS({...a,autoplay:!1}),c=fi(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-ZT).value,l.sample(c).value,ZT),l.stop()}}const eE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function Wne(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qne(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=eE(s,e),l=eE(i,e);return!a||!l?!1:Wne(t)||(n==="spring"||dI(n))&&r}function I2(t){t.duration=0,t.type="keyframes"}const Kne=new Set(["opacity","clipPath","filter","transform"]),Gne=QN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Yne(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return Gne()&&n&&Kne.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const Xne=40;class Qne extends lS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ar.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...f},g=d?.KeyframeResolver||uS;this.keyframeResolver=new g(l,(x,v,b)=>this.onKeyframesResolved(x,v,p,!b),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ar.now(),qne(e,i,a,l)||((ma.instantAnimations||!c)&&d?.(oS(e,r,n)),e[0]=e[e.length-1],I2(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Xne?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!u&&Yne(p)?new Une({...p,element:p.motionValue.owner.current}):new cS(p);g.finished.then(()=>this.notifyFinished()).catch(vs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_ne()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Jne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zne(t){const e=Jne.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function fI(t,e,n=1){const[r,s]=Zne(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return ID(a)?parseFloat(a):a}return nS(s)?fI(s,e,n+1):s}function dS(t,e){return t?.[e]??t?.default??t}const mI=new Set(["width","height","top","left","right","bottom",...Du]),ere={test:t=>t==="auto",parse:t=>t},pI=t=>e=>e.test(t),gI=[_u,Ye,mi,$a,Wte,Ute,ere],tE=t=>gI.find(pI(t));function tre(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RD(t):!0}const nre=new Set(["brightness","contrast","saturate","opacity"]);function rre(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(rS)||[];if(!r)return t;const s=n.replace(r,"");let i=nre.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const sre=/\b([a-z-]*)\(.*?\)/gu,L2={...So,getAnimatableNone:t=>{const e=t.match(sre);return e?e.map(rre).join(" "):t}},nE={..._u,transform:Math.round},ire={rotate:$a,rotateX:$a,rotateY:$a,rotateZ:$a,scale:ip,scaleX:ip,scaleY:ip,scaleZ:ip,skew:$a,skewX:$a,skewY:$a,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:Rh,originX:HT,originY:HT,originZ:Ye},hS={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...ire,zIndex:nE,fillOpacity:Rh,strokeOpacity:Rh,numOctaves:nE},are={...hS,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:L2,WebkitFilter:L2},xI=t=>are[t];function yI(t,e){let n=xI(t);return n!==L2&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ore=new Set(["auto","none","0"]);function lre(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!ore.has(i)&&Fh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=yI(n,s)}class cre extends uS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),nS(u))){const d=fI(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!mI.has(r)||e.length!==2)return;const[s,i]=e,a=tE(s),l=tE(i);if(a!==l)if(QT(a)&&QT(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else jl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||tre(e[s]))&&r.push(s);r.length&&lre(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=jl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ure(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const bI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vI(t){return LD(t)&&"offsetHeight"in t}const rE=30,dre=t=>!isNaN(parseFloat(t));class hre{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Ar.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dre(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new JN);const r=this.events[e].add(n);return e==="change"?()=>{r(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rE);return FD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(t,e){return new hre(t,e)}const{schedule:fS}=YD(queueMicrotask,!1),Os={x:!1,y:!1};function wI(){return Os.x||Os.y}function fre(t){return t==="x"||t==="y"?Os[t]?null:(Os[t]=!0,()=>{Os[t]=!1}):Os.x||Os.y?null:(Os.x=Os.y=!0,()=>{Os.x=Os.y=!1})}function NI(t,e){const n=ure(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function sE(t){return!(t.pointerType==="touch"||wI())}function mre(t,e,n={}){const[r,s,i]=NI(t,n),a=l=>{if(!sE(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{sE(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const SI=(t,e)=>e?t===e?!0:SI(t,e.parentElement):!1,mS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gre(t){return pre.has(t.tagName)||t.tabIndex!==-1}const Wp=new WeakSet;function iE(t){return e=>{e.key==="Enter"&&t(e)}}function bv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xre=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=iE(()=>{if(Wp.has(n))return;bv(n,"down");const s=iE(()=>{bv(n,"up")}),i=()=>bv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function aE(t){return mS(t)&&!wI()}function yre(t,e,n={}){const[r,s,i]=NI(t,n),a=l=>{const c=l.currentTarget;if(!aE(l))return;Wp.add(c);const u=e(c,l),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Wp.has(c)&&Wp.delete(c),aE(g)&&typeof u=="function"&&u(g,{success:x})},f=g=>{d(g,c===window||c===document||n.useGlobalTarget||SI(c,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),vI(l)&&(l.addEventListener("focus",u=>xre(u,s)),!gre(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function jI(t){return LD(t)&&"ownerSVGElement"in t}function bre(t){return jI(t)&&t.tagName==="svg"}const tr=t=>!!(t&&t.getVelocity),vre=[...gI,hn,So],wre=t=>vre.find(pI(t)),pS=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nre(...t){return e=>{let n=!1;const r=t.map(s=>{const i=oE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():oE(t[s],null)}}}}function Sre(...t){return T.useCallback(Nre(...t),t)}class jre extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=vI(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Cre({children:t,isPresent:e,anchorX:n,root:r}){const s=T.useId(),i=T.useRef(null),a=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=T.useContext(pS),c=Sre(i,t?.ref);return T.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p,right:g}=a.current;if(e||!i.current||!u||!d)return;const x=n==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[e]),o.jsx(jre,{isPresent:e,childRef:i,sizeRef:a,children:T.cloneElement(t,{ref:c})})}const kre=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=qN(Tre),d=T.useId();let f=!0,p=T.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const x of u.values())if(!x)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&f&&(p={...p}),T.useMemo(()=>{u.forEach((g,x)=>u.set(x,!1))},[n]),T.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(Cre,{isPresent:n,anchorX:l,root:c,children:t})),o.jsx(hx.Provider,{value:p,children:t})};function Tre(){return new Map}function CI(t=!0){const e=T.useContext(hx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const ap=t=>t.key||"";function lE(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const kI=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=CI(a),f=T.useMemo(()=>lE(t),[t]),p=a&&!u?[]:f.map(ap),g=T.useRef(!0),x=T.useRef(f),v=qN(()=>new Map),[b,w]=T.useState(f),[N,C]=T.useState(f);DD(()=>{g.current=!1,x.current=f;for(let A=0;A<N.length;A++){const P=ap(N[A]);p.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[N,p.length,p.join("-")]);const M=[];if(f!==b){let A=[...f];for(let P=0;P<N.length;P++){const E=N[P],_=ap(E);p.includes(_)||(A.splice(P,0,E),M.push(E))}return i==="wait"&&M.length&&(A=M),C(lE(A)),w(f),null}const{forceRender:j}=T.useContext(WN);return o.jsx(o.Fragment,{children:N.map(A=>{const P=ap(A),E=a&&!u?!1:f===N||p.includes(P),_=()=>{if(v.has(P))v.set(P,!0);else return;let L=!0;v.forEach(D=>{D||(L=!1)}),L&&(j?.(),C(x.current),a&&d?.(),r&&r())};return o.jsx(kre,{isPresent:E,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:E?void 0:_,anchorX:l,children:A},P)})})},TI=T.createContext({strict:!1}),cE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xu={};for(const t in cE)xu[t]={isEnabled:e=>cE[t].some(n=>!!e[n])};function Ere(t){for(const e in t)xu[e]={...xu[e],...t[e]}}const Mre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Mre.has(t)}let EI=t=>!Mg(t);function Pre(t){typeof t=="function"&&(EI=e=>e.startsWith("on")?!Mg(e):t(e))}try{Pre(require("@emotion/is-prop-valid").default)}catch{}function Are(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(EI(s)||n===!0&&Mg(s)||!e&&!Mg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const fx=T.createContext({});function mx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function zh(t){return typeof t=="string"||Array.isArray(t)}const gS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xS=["initial",...gS];function px(t){return mx(t.animate)||xS.some(e=>zh(t[e]))}function MI(t){return!!(px(t)||t.variants)}function Ore(t,e){if(px(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zh(n)?n:void 0,animate:zh(r)?r:void 0}}return t.inherit!==!1?e:{}}function _re(t){const{initial:e,animate:n}=Ore(t,T.useContext(fx));return T.useMemo(()=>({initial:e,animate:n}),[uE(e),uE(n)])}function uE(t){return Array.isArray(t)?t.join(" "):t}const Vh={};function Dre(t){for(const e in t)Vh[e]=t[e],tS(e)&&(Vh[e].isCSSVariable=!0)}function PI(t,{layout:e,layoutId:n}){return Iu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vh[t]||t==="opacity")}const Ire={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lre=Du.length;function Rre(t,e,n){let r="",s=!0;for(let i=0;i<Lre;i++){const a=Du[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=bI(l,hS[a]);if(!c){s=!1;const d=Ire[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function yS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Iu.has(c)){a=!0;continue}else if(tS(c)){s[c]=u;continue}else{const d=bI(u,hS[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=Rre(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const bS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AI(t,e,n){for(const r in e)!tr(e[r])&&!PI(r,n)&&(t[r]=e[r])}function Fre({transformTemplate:t},e){return T.useMemo(()=>{const n=bS();return yS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zre(t,e){const n=t.style||{},r={};return AI(r,n,t),Object.assign(r,Fre(t,e)),r}function Vre(t,e){const n={},r=zre(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const $re={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bre={offset:"strokeDashoffset",array:"strokeDasharray"};function Hre(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?$re:Bre;t[i.offset]=Ye.transform(-r);const a=Ye.transform(e),l=Ye.transform(n);t[i.array]=`${a} ${l}`}function OI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(yS(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&Hre(f,s,i,a,!1)}const _I=()=>({...bS(),attrs:{}}),DI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ure(t,e,n,r){const s=T.useMemo(()=>{const i=_I();return OI(i,e,DI(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};AI(i,t.style,t),s.style={...i,...s.style}}return s}const Wre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vS(t){return typeof t!="string"||t.includes("-")?!1:!!(Wre.indexOf(t)>-1||/[A-Z]/u.test(t))}function qre(t,e,n,{latestValues:r},s,i=!1){const l=(vS(t)?Ure:Vre)(e,r,s,t),c=Are(e,typeof t=="string",i),u=t!==T.Fragment?{...c,...l,ref:n}:{},{children:d}=e,f=T.useMemo(()=>tr(d)?d.get():d,[d]);return T.createElement(t,{...u,children:f})}function dE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wS(t,e,n,r){if(typeof e=="function"){const[s,i]=dE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=dE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function qp(t){return tr(t)?t.get():t}function Kre({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Gre(n,r,s,t),renderState:e()}}function Gre(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=qp(i[p]);let{initial:a,animate:l}=t;const c=px(t),u=MI(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!mx(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const x=wS(t,p[g]);if(x){const{transitionEnd:v,transition:b,...w}=x;for(const N in w){let C=w[N];if(Array.isArray(C)){const M=d?C.length-1:0;C=C[M]}C!==null&&(s[N]=C)}for(const N in v)s[N]=v[N]}}}return s}const II=t=>(e,n)=>{const r=T.useContext(fx),s=T.useContext(hx),i=()=>Kre(t,e,r,s);return n?i():qN(i)};function NS(t,e,n){const{style:r}=t,s={};for(const i in r)(tr(r[i])||e.style&&tr(e.style[i])||PI(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const Yre=II({scrapeMotionValuesFromProps:NS,createRenderState:bS});function LI(t,e,n){const r=NS(t,e,n);for(const s in t)if(tr(t[s])||tr(e[s])){const i=Du.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Xre=II({scrapeMotionValuesFromProps:LI,createRenderState:_I}),Qre=Symbol.for("motionComponentSymbol");function Gc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jre(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gc(n)&&(n.current=r))},[e])}const SS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zre="framerAppearId",RI="data-"+SS(Zre),FI=T.createContext({});function ese(t,e,n,r,s){const{visualElement:i}=T.useContext(fx),a=T.useContext(TI),l=T.useContext(hx),c=T.useContext(pS).reducedMotion,u=T.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=T.useContext(FI);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&tse(u.current,n,s,f);const p=T.useRef(!1);T.useInsertionEffect(()=>{d&&p.current&&d.update(n,l)});const g=n[RI],x=T.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return DD(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),d.enteringChildren=void 0)}),d}function tse(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Gc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function zI(t){if(t)return t.options.allowProjection!==!1?t.projection:zI(t.parent)}function vv(t,{forwardMotionProps:e=!1}={},n,r){n&&Ere(n);const s=vS(t)?Xre:Yre;function i(l,c){let u;const d={...T.useContext(pS),...l,layoutId:nse(l)},{isStatic:f}=d,p=_re(l),g=s(l,f);if(!f&&KN){rse();const x=sse(d);u=x.MeasureLayout,p.visualElement=ese(t,g,d,r,x.ProjectionNode)}return o.jsxs(fx.Provider,{value:p,children:[u&&p.visualElement?o.jsx(u,{visualElement:p.visualElement,...d}):null,qre(t,l,Jre(g,p.visualElement,c),g,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=T.forwardRef(i);return a[Qre]=t,a}function nse({layoutId:t}){const e=T.useContext(WN).id;return e&&t!==void 0?e+"-"+t:t}function rse(t,e){T.useContext(TI).strict}function sse(t){const{drag:e,layout:n}=xu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ise(t,e){if(typeof Proxy>"u")return vv;const n=new Map,r=(i,a)=>vv(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,vv(a,void 0,t,e)),n.get(a))})}function VI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ase({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ose(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wv(t){return t===void 0||t===1}function R2({scale:t,scaleX:e,scaleY:n}){return!wv(t)||!wv(e)||!wv(n)}function sl(t){return R2(t)||$I(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $I(t){return hE(t.x)||hE(t.y)}function hE(t){return t&&t!=="0%"}function Pg(t,e,n){const r=t-n,s=e*r;return n+s}function fE(t,e,n,r,s){return s!==void 0&&(t=Pg(t,s,r)),Pg(t,n,r)+e}function F2(t,e=0,n=1,r,s){t.min=fE(t.min,e,n,r,s),t.max=fE(t.max,e,n,r,s)}function BI(t,{x:e,y:n}){F2(t.x,e.translate,e.scale,e.originPoint),F2(t.y,n.translate,n.scale,n.originPoint)}const mE=.999999999999,pE=1.0000000000001;function lse(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,BI(t,a)),r&&sl(i.latestValues)&&Xc(t,i.latestValues))}e.x<pE&&e.x>mE&&(e.x=1),e.y<pE&&e.y>mE&&(e.y=1)}function Yc(t,e){t.min=t.min+e,t.max=t.max+e}function gE(t,e,n,r,s=.5){const i=Wt(t.min,t.max,s);F2(t,e,n,i,r)}function Xc(t,e){gE(t.x,e.x,e.scaleX,e.scale,e.originX),gE(t.y,e.y,e.scaleY,e.scale,e.originY)}function HI(t,e){return VI(ose(t.getBoundingClientRect(),e))}function cse(t,e,n){const r=HI(t,n),{scroll:s}=e;return s&&(Yc(r.x,s.offset.x),Yc(r.y,s.offset.y)),r}const xE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qc=()=>({x:xE(),y:xE()}),yE=()=>({min:0,max:0}),sn=()=>({x:yE(),y:yE()}),z2={current:null},UI={current:!1};function use(){if(UI.current=!0,!!KN)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>z2.current=t.matches;t.addEventListener("change",e),e()}else z2.current=!1}const dse=new WeakMap;function hse(t,e,n){for(const r in e){const s=e[r],i=n[r];if(tr(s))t.addValue(r,s);else if(tr(i))t.addValue(r,gu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,gu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const bE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fse{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ar.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,$t.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=px(n),this.isVariantNode=MI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];c[p]!==void 0&&tr(g)&&g.set(c[p])}}mount(e){this.current=e,dse.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),UI.current||use(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:z2.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Iu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$t.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xu){const n=xu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bE.length;r++){const s=bE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=hse(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=gu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ID(r)||RD(r))?r=parseFloat(r):!wre(r)&&So.test(n)&&(r=yI(e,n)),this.setBaseTarget(e,tr(r)?r.get():r)),tr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=wS(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!tr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new JN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){fS.render(this.render)}}class WI extends fse{constructor(){super(...arguments),this.KeyframeResolver=cre}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qI(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function mse(t){return window.getComputedStyle(t)}class pse extends WI{constructor(){super(...arguments),this.type="html",this.renderInstance=qI}readValueFromInstance(e,n){if(Iu.has(n))return this.projection?.isProjecting?P2(n):Ene(e,n);{const r=mse(e),s=(tS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HI(e,n)}build(e,n,r){yS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return NS(e,n,r)}}const KI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gse(t,e,n,r){qI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(KI.has(s)?s:SS(s),e.attrs[s])}class xse extends WI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Iu.has(n)){const r=xI(n);return r&&r.default||0}return n=KI.has(n)?n:SS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LI(e,n,r)}build(e,n,r){OI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){gse(e,n,r,s)}mount(e){this.isSVGTag=DI(e.tagName),super.mount(e)}}const yse=(t,e)=>vS(t)?new xse(e):new pse(e,{allowProjection:t!==T.Fragment});function su(t,e,n){const r=t.getProps();return wS(r,e,n!==void 0?n:r.custom,t)}const V2=t=>Array.isArray(t);function bse(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gu(n))}function vse(t){return V2(t)?t[t.length-1]||0:t}function wse(t,e){const n=su(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=vse(i[a]);bse(t,a,l)}}function Nse(t){return!!(tr(t)&&t.add)}function $2(t,e){const n=t.getValue("willChange");if(Nse(n))return n.add(e);if(!n&&ma.WillChange){const r=new ma.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function GI(t){return t.props[RI]}const Sse=t=>t!==null;function jse(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Sse),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Cse={type:"spring",stiffness:500,damping:25,restSpeed:10},kse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tse={type:"keyframes",duration:.8},Ese={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mse=(t,{keyframes:e})=>e.length>2?Tse:Iu.has(t)?t.startsWith("scale")?kse(e[1]):Cse:Ese;function Pse({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const jS=(t,e,n,r={},s,i)=>a=>{const l=dS(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-fi(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Pse(l)||Object.assign(d,Mse(t,d)),d.duration&&(d.duration=fi(d.duration)),d.repeatDelay&&(d.repeatDelay=fi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(I2(d),d.delay===0&&(f=!0)),(ma.instantAnimations||ma.skipAnimations)&&(f=!0,I2(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const p=jse(d.keyframes,l);if(p!==void 0){$t.update(()=>{d.onUpdate(p),d.onComplete()});return}}return l.isSync?new cS(d):new Qne(d)};function Ase({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),p=l[d];if(p===void 0||u&&Ase(u,d))continue;const g={delay:n,...dS(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=GI(t);if(w){const N=window.MotionHandoffAnimation(w,d,$t);N!==null&&(g.startTime=N,v=!0)}}$2(t,d),f.start(jS(d,f,p,t.shouldReduceMotion&&mI.has(d)?{type:!1}:g,t,v));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{$t.update(()=>{a&&wse(t,a)})}),c}function XI(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:l-i*r}function B2(t,e,n={}){const r=su(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(YI(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return Ose(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function Ose(t,e,n=0,r=0,s=0,i=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(B2(c,e,{...a,delay:n+(typeof r=="function"?0:r)+XI(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function _se(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>B2(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=B2(t,e,n);else{const s=typeof e=="function"?su(t,e,n.custom):e;r=Promise.all(YI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function QI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Dse=xS.length;function JI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?JI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Dse;n++){const r=xS[n],s=t.props[r];(zh(s)||s===!1)&&(e[r]=s)}return e}const Ise=[...gS].reverse(),Lse=gS.length;function Rse(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_se(t,n,r)))}function Fse(t){let e=Rse(t),n=vE(),r=!0;const s=c=>(u,d)=>{const f=su(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=JI(t.parent)||{},f=[],p=new Set;let g={},x=1/0;for(let b=0;b<Lse;b++){const w=Ise[b],N=n[w],C=u[w]!==void 0?u[w]:d[w],M=zh(C),j=w===c?N.isActive:null;j===!1&&(x=b);let A=C===d[w]&&C!==u[w]&&M;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),N.protectedKeys={...g},!N.isActive&&j===null||!C&&!N.prevProp||mx(C)||typeof C=="boolean")continue;const P=zse(N.prevProp,C);let E=P||w===c&&N.isActive&&!A&&M||b>x&&M,_=!1;const L=Array.isArray(C)?C:[C];let D=L.reduce(s(w),{});j===!1&&(D={});const{prevResolvedValues:R={}}=N,G={...R,...D},U=B=>{E=!0,p.has(B)&&(_=!0,p.delete(B)),N.needsAnimating[B]=!0;const $=t.getValue(B);$&&($.liveStyle=!1)};for(const B in G){const $=D[B],X=R[B];if(g.hasOwnProperty(B))continue;let H=!1;V2($)&&V2(X)?H=!QI($,X):H=$!==X,H?$!=null?U(B):p.add(B):$!==void 0&&p.has(B)?U(B):N.protectedKeys[B]=!0}N.prevProp=C,N.prevResolvedValues=D,N.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(E=!1);const q=A&&P;E&&(!q||_)&&f.push(...L.map(B=>{const $={type:w};if(typeof B=="string"&&r&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,H=su(X,B);if(X.enteringChildren&&H){const{delayChildren:V}=H.transition||{};$.delay=XI(X.enteringChildren,t,V)}}return{animation:B,options:$}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const w=su(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const N=t.getBaseTarget(w),C=t.getValue(w);C&&(C.liveStyle=!0),b[w]=N??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function l(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vE()}}}function zse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QI(e,t):!1}function el(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vE(){return{animate:el(!0),whileInView:el(),whileHover:el(),whileTap:el(),whileDrag:el(),whileFocus:el(),exit:el()}}class Mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Vse extends Mo{constructor(e){super(e),e.animationState||(e.animationState=Fse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $se=0;class Bse extends Mo{constructor(){super(...arguments),this.id=$se++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Hse={animation:{Feature:Vse},exit:{Feature:Bse}};function $h(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function jf(t){return{point:{x:t.pageX,y:t.pageY}}}const Use=t=>e=>mS(e)&&t(e,jf(e));function ah(t,e,n,r){return $h(t,e,Use(n),r)}const ZI=1e-4,Wse=1-ZI,qse=1+ZI,eL=.01,Kse=0-eL,Gse=0+eL;function hr(t){return t.max-t.min}function Yse(t,e,n){return Math.abs(t-e)<=n}function wE(t,e,n,r=.5){t.origin=r,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Wse&&t.scale<=qse||isNaN(t.scale))&&(t.scale=1),(t.translate>=Kse&&t.translate<=Gse||isNaN(t.translate))&&(t.translate=0)}function oh(t,e,n,r){wE(t.x,e.x,n.x,r?r.originX:void 0),wE(t.y,e.y,n.y,r?r.originY:void 0)}function NE(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function Xse(t,e,n){NE(t.x,e.x,n.x),NE(t.y,e.y,n.y)}function SE(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function lh(t,e,n){SE(t.x,e.x,n.x),SE(t.y,e.y,n.y)}function fs(t){return[t("x"),t("y")]}const tL=({current:t})=>t?t.ownerDocument.defaultView:null,jE=(t,e)=>Math.abs(t-e);function Qse(t,e){const n=jE(t.x,e.x),r=jE(t.y,e.y);return Math.sqrt(n**2+r**2)}class nL{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Sv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=Qse(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=p,{timestamp:b}=Rn;this.history.push({...v,timestamp:b});const{onStart:w,onMove:N}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Nv(g,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Sv(p.type==="pointercancel"?this.lastMoveEventInfo:Nv(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,w),v&&v(p,w)},!mS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=jf(e),c=Nv(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Rn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Sv(c,this.history)),this.removeListeners=wf(ah(this.contextWindow,"pointermove",this.handlePointerMove),ah(this.contextWindow,"pointerup",this.handlePointerUp),ah(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}}function Nv(t,e){return e?{point:e(t.point)}:t}function CE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sv({point:t},e){return{point:t,delta:CE(t,rL(e)),offset:CE(t,Jse(e)),velocity:Zse(e,.1)}}function Jse(t){return t[0]}function rL(t){return t[t.length-1]}function Zse(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=rL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>fi(e)));)n--;if(!r)return{x:0,y:0};const i=bs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function eie(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Wt(n,t,r.max):Math.min(t,n)),t}function kE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tie(t,{top:e,left:n,bottom:r,right:s}){return{x:kE(t.x,n,s),y:kE(t.y,e,r)}}function TE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nie(t,e){return{x:TE(t.x,e.x),y:TE(t.y,e.y)}}function rie(t,e){let n=.5;const r=hr(t),s=hr(e);return s>r?n=Lh(e.min,e.max-r,t.min):r>s&&(n=Lh(t.min,t.max-s,e.min)),fa(0,1,n)}function sie(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const H2=.35;function iie(t=H2){return t===!1?t=0:t===!0&&(t=H2),{x:EE(t,"left","right"),y:EE(t,"top","bottom")}}function EE(t,e,n){return{min:ME(t,e),max:ME(t,n)}}function ME(t,e){return typeof t=="number"?t:t[e]||0}const aie=new WeakMap;class oie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jf(f).point)},a=(f,p)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fre(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(w=>{let N=this.getAxisMotionValue(w).get()||0;if(mi.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const M=C.layout.layoutBox[w];M&&(N=hr(M)*(parseFloat(N)/100))}}this.originPoint[w]=N}),v&&$t.postRender(()=>v(f,p)),$2(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(x&&this.currentDirection===null){this.currentDirection=lie(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>fs(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new nL(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:tL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&$t.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!op(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=eie(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Gc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=tie(r.layoutBox,e):this.constraints=!1,this.elastic=iie(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fs(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=sie(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=cse(r,s.root,this.visualElement.getTransformPagePoint());let a=nie(s.layout.layoutBox,i);if(n){const l=n(ase(a));this.hasMutatedConstraints=!!l,l&&(a=VI(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=fs(d=>{if(!op(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $2(this.visualElement,e),r.start(jS(e,r,0,n,this.visualElement,!1))}stopAnimation(){fs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fs(n=>{const{drag:r}=this.getProps();if(!op(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-Wt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};fs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=rie({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fs(a=>{if(!op(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Wt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;aie.set(this.visualElement,this);const e=this.visualElement.current,n=ah(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Gc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$t.read(r);const a=$h(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=H2,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function op(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lie(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cie extends Mo{constructor(e){super(e),this.removeGroupControls=vs,this.removeListeners=vs,this.controls=new oie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const PE=t=>(e,n)=>{t&&$t.postRender(()=>t(e,n))};class uie extends Mo{constructor(){super(...arguments),this.removePointerDownListener=vs}onPointerDown(e){this.session=new nL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:PE(e),onStart:PE(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&$t.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ah(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Od={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ye.test(t))t=parseFloat(t);else return t;const n=AE(t,e.target.x),r=AE(t,e.target.y);return`${n}% ${r}%`}},die={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=So.parse(t);if(s.length>5)return r;const i=So.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=Wt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let jv=!1;class hie extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Dre(fie),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),jv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,jv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||$t.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;jv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sL(t){const[e,n]=CI(),r=T.useContext(WN);return o.jsx(hie,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(FI),isPresent:e,safeToRemove:n})}const fie={borderRadius:{...Od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Od,borderTopRightRadius:Od,borderBottomLeftRadius:Od,borderBottomRightRadius:Od,boxShadow:die};function mie(t,e,n){const r=tr(t)?t:gu(t);return r.start(jS("",r,e,n)),r.animation}const pie=(t,e)=>t.depth-e.depth;class gie{constructor(){this.children=[],this.isDirty=!1}add(e){GN(this.children,e),this.isDirty=!0}remove(e){YN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pie),this.isDirty=!1,this.children.forEach(e)}}function xie(t,e){const n=Ar.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(No(r),t(i-e))};return $t.setup(r,!0),()=>No(r)}const iL=["TopLeft","TopRight","BottomLeft","BottomRight"],yie=iL.length,OE=t=>typeof t=="string"?parseFloat(t):t,_E=t=>typeof t=="number"||Ye.test(t);function bie(t,e,n,r,s,i){s?(t.opacity=Wt(0,n.opacity??1,vie(r)),t.opacityExit=Wt(e.opacity??1,0,wie(r))):i&&(t.opacity=Wt(e.opacity??1,n.opacity??1,r));for(let a=0;a<yie;a++){const l=`border${iL[a]}Radius`;let c=DE(e,l),u=DE(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_E(c)===_E(u)?(t[l]=Math.max(Wt(OE(c),OE(u),r),0),(mi.test(u)||mi.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,r))}function DE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vie=aL(0,.5,WD),wie=aL(.5,.95,vs);function aL(t,e,n){return r=>r<t?0:r>e?1:n(Lh(t,e,r))}function IE(t,e){t.min=e.min,t.max=e.max}function ds(t,e){IE(t.x,e.x),IE(t.y,e.y)}function LE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function RE(t,e,n,r,s){return t-=e,t=Pg(t,1/n,r),s!==void 0&&(t=Pg(t,1/s,r)),t}function Nie(t,e=0,n=1,r=.5,s,i=t,a=t){if(mi.test(e)&&(e=parseFloat(e),e=Wt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Wt(i.min,i.max,r);t===i&&(l-=e),t.min=RE(t.min,e,n,l,s),t.max=RE(t.max,e,n,l,s)}function FE(t,e,[n,r,s],i,a){Nie(t,e[n],e[r],e[s],e.scale,i,a)}const Sie=["x","scaleX","originX"],jie=["y","scaleY","originY"];function zE(t,e,n,r){FE(t.x,e,Sie,n?n.x:void 0,r?r.x:void 0),FE(t.y,e,jie,n?n.y:void 0,r?r.y:void 0)}function VE(t){return t.translate===0&&t.scale===1}function oL(t){return VE(t.x)&&VE(t.y)}function $E(t,e){return t.min===e.min&&t.max===e.max}function Cie(t,e){return $E(t.x,e.x)&&$E(t.y,e.y)}function BE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lL(t,e){return BE(t.x,e.x)&&BE(t.y,e.y)}function HE(t){return hr(t.x)/hr(t.y)}function UE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kie{constructor(){this.members=[]}add(e){GN(this.members,e),e.scheduleRender()}remove(e){if(YN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tie(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Cv=["","X","Y","Z"],Eie=1e3;let Mie=0;function kv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=GI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$t,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cL(r)}function uL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=Mie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Oie),this.nodes.forEach(Lie),this.nodes.forEach(Rie),this.nodes.forEach(_ie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gie)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new JN),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=jI(a)&&!bre(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{f=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=xie(p,250),Kp.hasAnimatedSinceResize&&(Kp.hasAnimatedSinceResize=!1,this.nodes.forEach(KE)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Bie,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!lL(this.targetLayout,g),N=!f&&p;if(this.options.layoutRoot||this.resumeFrom||N||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...dS(x,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(d,N)}else f||KE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fie),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Iie),this.nodes.forEach(Pie),this.nodes.forEach(Aie)):this.nodes.forEach(qE),this.clearAllSnapshots();const l=Ar.now();Rn.delta=fa(0,1e3/60,l-Rn.timestamp),Rn.timestamp=l,Rn.isProcessing=!0,mv.update.process(Rn),mv.preRender.process(Rn),mv.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Die),this.sharedNodes.forEach(zie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!oL(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||sl(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Hie(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return sn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Uie))){const{scroll:u}=this.root;u&&(Yc(l.x,u.offset.x),Yc(l.y,u.offset.y))}return l}removeElementScroll(a){const l=sn();if(ds(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&ds(l,a),Yc(l.x,d.offset.x),Yc(l.y,d.offset.y))}return l}applyTransform(a,l=!1){const c=sn();ds(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),sl(d.latestValues)&&Xc(c,d.latestValues)}return sl(this.latestValues)&&Xc(c,this.latestValues),c}removeTransform(a){const l=sn();ds(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!sl(u.latestValues))continue;R2(u.latestValues)&&u.updateSnapshot();const d=sn(),f=u.measurePageBox();ds(d,f),zE(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return sl(this.latestValues)&&zE(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),lh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ds(this.target,this.layout.layoutBox),BI(this.target,this.targetDelta)):ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),lh(this.relativeTargetOrigin,this.target,p.target),ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||R2(this.parent.latestValues)||$I(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ds(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;lse(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=sn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LE(this.prevProjectionDelta.x,this.projectionDelta.x),LE(this.prevProjectionDelta.y,this.projectionDelta.y)),oh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!UE(this.projectionDelta.x,this.prevProjectionDelta.x)||!UE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qc(),this.projectionDelta=Qc(),this.projectionDeltaWithTransform=Qc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Qc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=sn(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,b=this.getStack(),w=!b||b.members.length<=1,N=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some($ie));this.animationProgress=0;let C;this.mixTargetDelta=M=>{const j=M/1e3;GE(f.x,a.x,j),GE(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vie(this.relativeTarget,this.relativeTargetOrigin,p,j),C&&Cie(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=sn()),ds(C,this.relativeTarget)),v&&(this.animationValues=d,bie(d,u,this.latestValues,j,N,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{Kp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gu(0)),this.currentAnimation=mie(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Eie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&dL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||sn();const f=hr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=hr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}ds(l,c),Xc(l,d),oh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new kie),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&kv("z",a,u,this.animationValues);for(let d=0;d<Cv.length;d++)kv(`rotate${Cv[d]}`,a,u,this.animationValues),kv(`skew${Cv[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=qp(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=qp(l?.pointerEvents)||""),this.hasProjected&&!sl(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Tie(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Vh){if(d[x]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=Vh[x],N=f==="none"?d[x]:v(d[x],u);if(b){const C=b.length;for(let M=0;M<C;M++)a[b[M]]=N}else w?this.options.visualElement.renderState.vars[x]=N:a[x]=N}this.options.layoutId&&(a.pointerEvents=u===this?qp(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(WE),this.root.sharedNodes.clear()}}}function Pie(t){t.updateLayout()}function Aie(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?fs(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=hr(f);f.min=n[d].min,f.max=f.min+p}):dL(s,e.layoutBox,n)&&fs(d=>{const f=i?e.measuredBox[d]:e.layoutBox[d],p=hr(n[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Qc();oh(a,n,e.layoutBox);const l=Qc();i?oh(l,t.applyTransform(r,!0),e.measuredBox):oh(l,n,e.layoutBox);const c=!oL(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=sn();lh(g,e.layoutBox,f.layoutBox);const x=sn();lh(x,n,p.layoutBox),lL(g,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Oie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _ie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Die(t){t.clearSnapshot()}function WE(t){t.clearMeasurements()}function qE(t){t.isLayoutDirty=!1}function Iie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function KE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lie(t){t.resolveTargetDelta()}function Rie(t){t.calcProjection()}function Fie(t){t.resetSkewAndRotation()}function zie(t){t.removeLeadSnapshot()}function GE(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YE(t,e,n,r){t.min=Wt(e.min,n.min,r),t.max=Wt(e.max,n.max,r)}function Vie(t,e,n,r){YE(t.x,e.x,n.x,r),YE(t.y,e.y,n.y,r)}function $ie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bie={duration:.45,ease:[.4,0,.1,1]},XE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QE=XE("applewebkit/")&&!XE("chrome/")?Math.round:vs;function JE(t){t.min=QE(t.min),t.max=QE(t.max)}function Hie(t){JE(t.x),JE(t.y)}function dL(t,e,n){return t==="position"||t==="preserve-aspect"&&!Yse(HE(e),HE(n),.2)}function Uie(t){return t!==t.root&&t.scroll?.wasRoot}const Wie=uL({attachResizeListener:(t,e)=>$h(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tv={current:void 0},hL=uL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tv.current){const t=new Wie({});t.mount(window),t.setOptions({layoutScroll:!0}),Tv.current=t}return Tv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qie={pan:{Feature:uie},drag:{Feature:cie,ProjectionNode:hL,MeasureLayout:sL}};function ZE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&$t.postRender(()=>i(e,jf(e)))}class Kie extends Mo{mount(){const{current:e}=this.node;e&&(this.unmount=mre(e,(n,r)=>(ZE(this.node,r,"Start"),s=>ZE(this.node,s,"End"))))}unmount(){}}class Gie extends Mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wf($h(this.node.current,"focus",()=>this.onFocus()),$h(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e6(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&$t.postRender(()=>i(e,jf(e)))}class Yie extends Mo{mount(){const{current:e}=this.node;e&&(this.unmount=yre(e,(n,r)=>(e6(this.node,r,"Start"),(s,{success:i})=>e6(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const U2=new WeakMap,Ev=new WeakMap,Xie=t=>{const e=U2.get(t.target);e&&e(t)},Qie=t=>{t.forEach(Xie)};function Jie({root:t,...e}){const n=t||document;Ev.has(n)||Ev.set(n,{});const r=Ev.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Qie,{root:t,...e})),r[s]}function Zie(t,e,n){const r=Jie(e);return U2.set(t,n),r.observe(t),()=>{U2.delete(t),r.unobserve(t)}}const eae={some:0,all:1};class tae extends Mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:eae[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return Zie(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nae(e,n))&&this.startObserver()}unmount(){}}function nae({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rae={inView:{Feature:tae},tap:{Feature:Yie},focus:{Feature:Gie},hover:{Feature:Kie}},sae={layout:{ProjectionNode:hL,MeasureLayout:sL}},iae={...Hse,...rae,...qie,...sae},t6=ise(iae,yse);function bt({children:t,open:e,className:n,duration:r,onClose:s}){return T.useEffect(()=>{if(e&&r&&s){const i=setTimeout(()=>{s()},r);return()=>clearTimeout(i)}},[e,r,s]),o.jsx(kI,{mode:"wait",children:e&&o.jsx(t6.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed top-0 left-0 w-full h-[100vh] flex items-center justify-center bg-[#3e3e3e95] z-[999]",onClick:s,children:o.jsx(t6.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.25},className:`${n}`,onClick:i=>i.stopPropagation(),children:t},"modal-content")},"modal-overlay")})}var Cf=t=>t.type==="checkbox",pl=t=>t instanceof Date,Er=t=>t==null;const fL=t=>typeof t=="object";var gn=t=>!Er(t)&&!Array.isArray(t)&&fL(t)&&!pl(t),mL=t=>gn(t)&&t.target?Cf(t.target)?t.target.checked:t.target.value:t,aae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pL=(t,e)=>t.has(aae(e)),oae=t=>{const e=t.constructor&&t.constructor.prototype;return gn(e)&&e.hasOwnProperty("isPrototypeOf")},CS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(CS&&(t instanceof Blob||r))&&(n||gn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!oae(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=wn(t[s]));else return t;return e}var gx=t=>/^\w*$/.test(t),Xt=t=>t===void 0,kS=t=>Array.isArray(t)?t.filter(Boolean):[],TS=t=>kS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(t,e,n)=>{if(!e||!gn(t))return n;const r=(gx(e)?[e]:TS(e)).reduce((s,i)=>Er(s)?s:s[i],t);return Xt(r)||r===t?Xt(t[e])?n:t[e]:r},Br=t=>typeof t=="boolean",wt=(t,e,n)=>{let r=-1;const s=gx(e)?[e]:TS(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=gn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Ag={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gL=ye.createContext(null);gL.displayName="HookFormContext";const ES=()=>ye.useContext(gL);var xL=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==_s.all&&(e._proxyFormState[a]=!r||_s.all),n&&(n[a]=!0),t[a]}});return s};const MS=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function lae(t){const e=ES(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=ye.useState(n._formState),c=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return MS(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),ye.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ye.useMemo(()=>xL(a,n,c.current,!1),[a,n])}var Ur=t=>typeof t=="string",yL=(t,e,n,r,s)=>Ur(t)?(r&&e.watch.add(t),ke(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ke(n,i))):(r&&(e.watchAll=!0),n),W2=t=>Er(t)||!fL(t);function Yi(t,e,n=new WeakSet){if(W2(t)||W2(e))return t===e;if(pl(t)&&pl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(pl(a)&&pl(l)||gn(a)&&gn(l)||Array.isArray(a)&&Array.isArray(l)?!Yi(a,l,n):a!==l)return!1}}return!0}function cae(t){const e=ES(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=ye.useRef(s),u=ye.useRef(l),d=ye.useRef(void 0);u.current=l;const f=ye.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,g]=ye.useState(u.current?u.current(f):f);return MS(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:x=>{if(!i){const v=yL(r,n._names,x.values||n._formValues,!1,c.current);if(u.current){const b=u.current(v);Yi(b,d.current)||(g(b),d.current=b)}else g(v)}}}),[n,i,r,a]),ye.useEffect(()=>n._removeUnmounted()),p}function uae(t){const e=ES(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=pL(s._names.array,n),c=ye.useMemo(()=>ke(s._formValues,n,ke(s._defaultValues,n,a)),[s,n,a]),u=cae({control:s,name:n,defaultValue:c,exact:!0}),d=lae({control:s,name:n,exact:!0}),f=ye.useRef(t),p=ye.useRef(void 0),g=ye.useRef(s.register(n,{...t.rules,value:u,...Br(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const x=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ke(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ke(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ke(d.validatingFields,n)},error:{enumerable:!0,get:()=>ke(d.errors,n)}}),[d,n]),v=ye.useCallback(C=>g.current.onChange({target:{value:mL(C),name:n},type:Ag.CHANGE}),[n]),b=ye.useCallback(()=>g.current.onBlur({target:{value:ke(s._formValues,n),name:n},type:Ag.BLUR}),[n,s._formValues]),w=ye.useCallback(C=>{const M=ke(s._fields,n);M&&C&&(M._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:j=>C.setCustomValidity(j),reportValidity:()=>C.reportValidity()})},[s._fields,n]),N=ye.useMemo(()=>({name:n,value:u,...Br(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:b,ref:w}),[n,r,d.disabled,v,b,w,u]);return ye.useEffect(()=>{const C=s._options.shouldUnregister||i,M=p.current;M&&M!==n&&!l&&s.unregister(M),s.register(n,{...f.current.rules,...Br(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(A,P)=>{const E=ke(s._fields,A);E&&E._f&&(E._f.mount=P)};if(j(n,!0),C){const A=wn(ke(s._options.defaultValues,n,f.current.defaultValue));wt(s._defaultValues,n,A),Xt(ke(s._formValues,n))&&wt(s._formValues,n,A)}return!l&&s.register(n),p.current=n,()=>{(l?C&&!s._state.action:C)?s.unregister(n):j(n,!1)}},[n,s,l,i]),ye.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ye.useMemo(()=>({field:N,formState:d,fieldState:x}),[N,d,x])}const pi=t=>t.render(uae(t));var bL=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},ch=t=>Array.isArray(t)?t:[t],n6=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function vL(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&gn(s)&&i){const a=vL(s,i);gn(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var kr=t=>gn(t)&&!Object.keys(t).length,PS=t=>t.type==="file",Ds=t=>typeof t=="function",Og=t=>{if(!CS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wL=t=>t.type==="select-multiple",AS=t=>t.type==="radio",dae=t=>AS(t)||Cf(t),Mv=t=>Og(t)&&t.isConnected;function hae(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Xt(t)?r++:t[e[r++]];return t}function fae(t){for(const e in t)if(t.hasOwnProperty(e)&&!Xt(t[e]))return!1;return!0}function dn(t,e){const n=Array.isArray(e)?e:gx(e)?[e]:TS(e),r=n.length===1?t:hae(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(gn(r)&&kr(r)||Array.isArray(r)&&fae(r))&&dn(t,n.slice(0,-1)),t}var mae=t=>{for(const e in t)if(Ds(t[e]))return!0;return!1};function NL(t){return Array.isArray(t)||gn(t)&&!mae(t)}function q2(t,e={}){for(const n in t)NL(t[n])?(e[n]=Array.isArray(t[n])?[]:{},q2(t[n],e[n])):Xt(t[n])||(e[n]=!0);return e}function $c(t,e,n){n||(n=q2(e));for(const r in t)NL(t[r])?Xt(e)||W2(n[r])?n[r]=q2(t[r],Array.isArray(t[r])?[]:{}):$c(t[r],Er(e)?{}:e[r],n[r]):n[r]=!Yi(t[r],e[r]);return n}const r6={value:!1,isValid:!1},s6={value:!0,isValid:!0};var SL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Xt(t[0].attributes.value)?Xt(t[0].value)||t[0].value===""?s6:{value:t[0].value,isValid:!0}:s6:r6}return r6},jL=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Xt(t)?t:e?t===""?NaN:t&&+t:n&&Ur(t)?new Date(t):r?r(t):t;const i6={isValid:!1,value:null};var CL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,i6):i6;function a6(t){const e=t.ref;return PS(e)?e.files:AS(e)?CL(t.refs).value:wL(e)?[...e.selectedOptions].map(({value:n})=>n):Cf(e)?SL(t.refs).value:jL(Xt(e.value)?t.ref.value:e.value,t)}var pae=(t,e,n,r)=>{const s={};for(const i of t){const a=ke(e,i);a&&wt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},_g=t=>t instanceof RegExp,_d=t=>Xt(t)?t:_g(t)?t.source:gn(t)?_g(t.value)?t.value.source:t.value:t,o6=t=>({isOnSubmit:!t||t===_s.onSubmit,isOnBlur:t===_s.onBlur,isOnChange:t===_s.onChange,isOnAll:t===_s.all,isOnTouch:t===_s.onTouched});const l6="AsyncFunction";var gae=t=>!!t&&!!t.validate&&!!(Ds(t.validate)&&t.validate.constructor.name===l6||gn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===l6)),xae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),c6=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const uh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ke(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(uh(l,e))break}else if(gn(l)&&uh(l,e))break}}};function u6(t,e,n){const r=ke(t,n);if(r||gx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=ke(e,i),l=ke(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var yae=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return kr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||_s.all))},bae=(t,e,n)=>!t||!e||t===e||ch(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),vae=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,wae=(t,e)=>!kS(ke(t,e)).length&&dn(t,e),Nae=(t,e,n)=>{const r=ch(ke(t,n));return wt(r,"root",e[n]),wt(t,n,r),t};function d6(t,e,n="validate"){if(Ur(t)||Array.isArray(t)&&t.every(Ur)||Br(t)&&!t)return{type:n,message:Ur(t)?t:"",ref:e}}var Lc=t=>gn(t)&&!_g(t)?t:{value:t,message:""},h6=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:g,validate:x,name:v,valueAsNumber:b,mount:w}=t._f,N=ke(n,v);if(!w||e.has(v))return{};const C=l?l[0]:a,M=R=>{s&&C.reportValidity&&(C.setCustomValidity(Br(R)?"":R||""),C.reportValidity())},j={},A=AS(a),P=Cf(a),E=A||P,_=(b||PS(a))&&Xt(a.value)&&Xt(N)||Og(a)&&a.value===""||N===""||Array.isArray(N)&&!N.length,L=bL.bind(null,v,r,j),D=(R,G,U,q=Li.maxLength,F=Li.minLength)=>{const B=R?G:U;j[v]={type:R?q:F,message:B,ref:a,...L(R?q:F,B)}};if(i?!Array.isArray(N)||!N.length:c&&(!E&&(_||Er(N))||Br(N)&&!N||P&&!SL(l).isValid||A&&!CL(l).isValid)){const{value:R,message:G}=Ur(c)?{value:!!c,message:c}:Lc(c);if(R&&(j[v]={type:Li.required,message:G,ref:C,...L(Li.required,G)},!r))return M(G),j}if(!_&&(!Er(f)||!Er(p))){let R,G;const U=Lc(p),q=Lc(f);if(!Er(N)&&!isNaN(N)){const F=a.valueAsNumber||N&&+N;Er(U.value)||(R=F>U.value),Er(q.value)||(G=F<q.value)}else{const F=a.valueAsDate||new Date(N),B=H=>new Date(new Date().toDateString()+" "+H),$=a.type=="time",X=a.type=="week";Ur(U.value)&&N&&(R=$?B(N)>B(U.value):X?N>U.value:F>new Date(U.value)),Ur(q.value)&&N&&(G=$?B(N)<B(q.value):X?N<q.value:F<new Date(q.value))}if((R||G)&&(D(!!R,U.message,q.message,Li.max,Li.min),!r))return M(j[v].message),j}if((u||d)&&!_&&(Ur(N)||i&&Array.isArray(N))){const R=Lc(u),G=Lc(d),U=!Er(R.value)&&N.length>+R.value,q=!Er(G.value)&&N.length<+G.value;if((U||q)&&(D(U,R.message,G.message),!r))return M(j[v].message),j}if(g&&!_&&Ur(N)){const{value:R,message:G}=Lc(g);if(_g(R)&&!N.match(R)&&(j[v]={type:Li.pattern,message:G,ref:a,...L(Li.pattern,G)},!r))return M(G),j}if(x){if(Ds(x)){const R=await x(N,n),G=d6(R,C);if(G&&(j[v]={...G,...L(Li.validate,G.message)},!r))return M(G.message),j}else if(gn(x)){let R={};for(const G in x){if(!kr(R)&&!r)break;const U=d6(await x[G](N,n),C,G);U&&(R={...U,...L(G,U.message)},M(U.message),r&&(j[v]=R))}if(!kr(R)&&(j[v]={ref:C,...R},!r))return j}}return M(!0),j};const Sae={mode:_s.onSubmit,reValidateMode:_s.onChange,shouldFocusError:!0};function jae(t={}){let e={...Sae,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ds(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=gn(e.defaultValues)||gn(e.values)?wn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:wn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:n6(),state:n6()},g=e.criteriaMode===_s.all,x=K=>re=>{clearTimeout(u),u=setTimeout(K,re)},v=async K=>{if(!e.disabled&&(d.isValid||f.isValid||K)){const re=e.resolver?kr((await P()).errors):await _(r,!0);re!==n.isValid&&p.state.next({isValid:re})}},b=(K,re)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((K||Array.from(l.mount)).forEach(oe=>{oe&&(re?wt(n.validatingFields,oe,re):dn(n.validatingFields,oe))}),p.state.next({validatingFields:n.validatingFields,isValidating:!kr(n.validatingFields)}))},w=(K,re=[],oe,Te,je=!0,Ne=!0)=>{if(Te&&oe&&!e.disabled){if(a.action=!0,Ne&&Array.isArray(ke(r,K))){const Le=oe(ke(r,K),Te.argA,Te.argB);je&&wt(r,K,Le)}if(Ne&&Array.isArray(ke(n.errors,K))){const Le=oe(ke(n.errors,K),Te.argA,Te.argB);je&&wt(n.errors,K,Le),wae(n.errors,K)}if((d.touchedFields||f.touchedFields)&&Ne&&Array.isArray(ke(n.touchedFields,K))){const Le=oe(ke(n.touchedFields,K),Te.argA,Te.argB);je&&wt(n.touchedFields,K,Le)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=$c(s,i)),p.state.next({name:K,isDirty:D(K,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wt(i,K,re)},N=(K,re)=>{wt(n.errors,K,re),p.state.next({errors:n.errors})},C=K=>{n.errors=K,p.state.next({errors:n.errors,isValid:!1})},M=(K,re,oe,Te)=>{const je=ke(r,K);if(je){const Ne=ke(i,K,Xt(oe)?ke(s,K):oe);Xt(Ne)||Te&&Te.defaultChecked||re?wt(i,K,re?Ne:a6(je._f)):U(K,Ne),a.mount&&v()}},j=(K,re,oe,Te,je)=>{let Ne=!1,Le=!1;const ct={name:K};if(!e.disabled){if(!oe||Te){(d.isDirty||f.isDirty)&&(Le=n.isDirty,n.isDirty=ct.isDirty=D(),Ne=Le!==ct.isDirty);const ft=Yi(ke(s,K),re);Le=!!ke(n.dirtyFields,K),ft?dn(n.dirtyFields,K):wt(n.dirtyFields,K,!0),ct.dirtyFields=n.dirtyFields,Ne=Ne||(d.dirtyFields||f.dirtyFields)&&Le!==!ft}if(oe){const ft=ke(n.touchedFields,K);ft||(wt(n.touchedFields,K,oe),ct.touchedFields=n.touchedFields,Ne=Ne||(d.touchedFields||f.touchedFields)&&ft!==oe)}Ne&&je&&p.state.next(ct)}return Ne?ct:{}},A=(K,re,oe,Te)=>{const je=ke(n.errors,K),Ne=(d.isValid||f.isValid)&&Br(re)&&n.isValid!==re;if(e.delayError&&oe?(c=x(()=>N(K,oe)),c(e.delayError)):(clearTimeout(u),c=null,oe?wt(n.errors,K,oe):dn(n.errors,K)),(oe?!Yi(je,oe):je)||!kr(Te)||Ne){const Le={...Te,...Ne&&Br(re)?{isValid:re}:{},errors:n.errors,name:K};n={...n,...Le},p.state.next(Le)}},P=async K=>{b(K,!0);const re=await e.resolver(i,e.context,pae(K||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(K),re},E=async K=>{const{errors:re}=await P(K);if(K)for(const oe of K){const Te=ke(re,oe);Te?wt(n.errors,oe,Te):dn(n.errors,oe)}else n.errors=re;return re},_=async(K,re,oe={valid:!0})=>{for(const Te in K){const je=K[Te];if(je){const{_f:Ne,...Le}=je;if(Ne){const ct=l.array.has(Ne.name),ft=je._f&&gae(je._f);ft&&d.validatingFields&&b([Ne.name],!0);const or=await h6(je,l.disabled,i,g,e.shouldUseNativeValidation&&!re,ct);if(ft&&d.validatingFields&&b([Ne.name]),or[Ne.name]&&(oe.valid=!1,re))break;!re&&(ke(or,Ne.name)?ct?Nae(n.errors,or,Ne.name):wt(n.errors,Ne.name,or[Ne.name]):dn(n.errors,Ne.name))}!kr(Le)&&await _(Le,re,oe)}}return oe.valid},L=()=>{for(const K of l.unMount){const re=ke(r,K);re&&(re._f.refs?re._f.refs.every(oe=>!Mv(oe)):!Mv(re._f.ref))&&ne(K)}l.unMount=new Set},D=(K,re)=>!e.disabled&&(K&&re&&wt(i,K,re),!Yi(H(),s)),R=(K,re,oe)=>yL(K,l,{...a.mount?i:Xt(re)?s:Ur(K)?{[K]:re}:re},oe,re),G=K=>kS(ke(a.mount?i:s,K,e.shouldUnregister?ke(s,K,[]):[])),U=(K,re,oe={})=>{const Te=ke(r,K);let je=re;if(Te){const Ne=Te._f;Ne&&(!Ne.disabled&&wt(i,K,jL(re,Ne)),je=Og(Ne.ref)&&Er(re)?"":re,wL(Ne.ref)?[...Ne.ref.options].forEach(Le=>Le.selected=je.includes(Le.value)):Ne.refs?Cf(Ne.ref)?Ne.refs.forEach(Le=>{(!Le.defaultChecked||!Le.disabled)&&(Array.isArray(je)?Le.checked=!!je.find(ct=>ct===Le.value):Le.checked=je===Le.value||!!je)}):Ne.refs.forEach(Le=>Le.checked=Le.value===je):PS(Ne.ref)?Ne.ref.value="":(Ne.ref.value=je,Ne.ref.type||p.state.next({name:K,values:wn(i)})))}(oe.shouldDirty||oe.shouldTouch)&&j(K,je,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&X(K)},q=(K,re,oe)=>{for(const Te in re){if(!re.hasOwnProperty(Te))return;const je=re[Te],Ne=K+"."+Te,Le=ke(r,Ne);(l.array.has(K)||gn(je)||Le&&!Le._f)&&!pl(je)?q(Ne,je,oe):U(Ne,je,oe)}},F=(K,re,oe={})=>{const Te=ke(r,K),je=l.array.has(K),Ne=wn(re);wt(i,K,Ne),je?(p.array.next({name:K,values:wn(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&oe.shouldDirty&&p.state.next({name:K,dirtyFields:$c(s,i),isDirty:D(K,Ne)})):Te&&!Te._f&&!Er(Ne)?q(K,Ne,oe):U(K,Ne,oe),c6(K,l)&&p.state.next({...n,name:K}),p.state.next({name:a.mount?K:void 0,values:wn(i)})},B=async K=>{a.mount=!0;const re=K.target;let oe=re.name,Te=!0;const je=ke(r,oe),Ne=ft=>{Te=Number.isNaN(ft)||pl(ft)&&isNaN(ft.getTime())||Yi(ft,ke(i,oe,ft))},Le=o6(e.mode),ct=o6(e.reValidateMode);if(je){let ft,or;const Ws=re.type?a6(je._f):mL(K),xr=K.type===Ag.BLUR||K.type===Ag.FOCUS_OUT,$x=!xae(je._f)&&!e.resolver&&!ke(n.errors,oe)&&!je._f.deps||vae(xr,ke(n.touchedFields,oe),n.isSubmitted,ct,Le),sc=c6(oe,l,xr);wt(i,oe,Ws),xr?(!re||!re.readOnly)&&(je._f.onBlur&&je._f.onBlur(K),c&&c(0)):je._f.onChange&&je._f.onChange(K);const ic=j(oe,Ws,xr),Bx=!kr(ic)||sc;if(!xr&&p.state.next({name:oe,type:K.type,values:wn(i)}),$x)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?xr&&v():xr||v()),Bx&&p.state.next({name:oe,...sc?{}:ic});if(!xr&&sc&&p.state.next({...n}),e.resolver){const{errors:ac}=await P([oe]);if(Ne(Ws),Te){const zu=u6(n.errors,r,oe),oc=u6(ac,r,zu.name||oe);ft=oc.error,oe=oc.name,or=kr(ac)}}else b([oe],!0),ft=(await h6(je,l.disabled,i,g,e.shouldUseNativeValidation))[oe],b([oe]),Ne(Ws),Te&&(ft?or=!1:(d.isValid||f.isValid)&&(or=await _(r,!0)));Te&&(je._f.deps&&(!Array.isArray(je._f.deps)||je._f.deps.length>0)&&X(je._f.deps),A(oe,or,ft,ic))}},$=(K,re)=>{if(ke(n.errors,re)&&K.focus)return K.focus(),1},X=async(K,re={})=>{let oe,Te;const je=ch(K);if(e.resolver){const Ne=await E(Xt(K)?K:je);oe=kr(Ne),Te=K?!je.some(Le=>ke(Ne,Le)):oe}else K?(Te=(await Promise.all(je.map(async Ne=>{const Le=ke(r,Ne);return await _(Le&&Le._f?{[Ne]:Le}:Le)}))).every(Boolean),!(!Te&&!n.isValid)&&v()):Te=oe=await _(r);return p.state.next({...!Ur(K)||(d.isValid||f.isValid)&&oe!==n.isValid?{}:{name:K},...e.resolver||!K?{isValid:oe}:{},errors:n.errors}),re.shouldFocus&&!Te&&uh(r,$,K?je:l.mount),Te},H=(K,re)=>{let oe={...a.mount?i:s};return re&&(oe=vL(re.dirtyFields?n.dirtyFields:n.touchedFields,oe)),Xt(K)?oe:Ur(K)?ke(oe,K):K.map(Te=>ke(oe,Te))},V=(K,re)=>({invalid:!!ke((re||n).errors,K),isDirty:!!ke((re||n).dirtyFields,K),error:ke((re||n).errors,K),isValidating:!!ke(n.validatingFields,K),isTouched:!!ke((re||n).touchedFields,K)}),Q=K=>{K&&ch(K).forEach(re=>dn(n.errors,re)),p.state.next({errors:K?n.errors:{}})},Z=(K,re,oe)=>{const Te=(ke(r,K,{_f:{}})._f||{}).ref,je=ke(n.errors,K)||{},{ref:Ne,message:Le,type:ct,...ft}=je;wt(n.errors,K,{...ft,...re,ref:Te}),p.state.next({name:K,errors:n.errors,isValid:!1}),oe&&oe.shouldFocus&&Te&&Te.focus&&Te.focus()},ee=(K,re)=>Ds(K)?p.state.subscribe({next:oe=>"values"in oe&&K(R(void 0,re),oe)}):R(K,re,!0),le=K=>p.state.subscribe({next:re=>{bae(K.name,re.name,K.exact)&&yae(re,K.formState||d,Rt,K.reRenderRoot)&&K.callback({values:{...i},...n,...re,defaultValues:s})}}).unsubscribe,pe=K=>(a.mount=!0,f={...f,...K.formState},le({...K,formState:f})),ne=(K,re={})=>{for(const oe of K?ch(K):l.mount)l.mount.delete(oe),l.array.delete(oe),re.keepValue||(dn(r,oe),dn(i,oe)),!re.keepError&&dn(n.errors,oe),!re.keepDirty&&dn(n.dirtyFields,oe),!re.keepTouched&&dn(n.touchedFields,oe),!re.keepIsValidating&&dn(n.validatingFields,oe),!e.shouldUnregister&&!re.keepDefaultValue&&dn(s,oe);p.state.next({values:wn(i)}),p.state.next({...n,...re.keepDirty?{isDirty:D()}:{}}),!re.keepIsValid&&v()},ue=({disabled:K,name:re})=>{(Br(K)&&a.mount||K||l.disabled.has(re))&&(K?l.disabled.add(re):l.disabled.delete(re))},ge=(K,re={})=>{let oe=ke(r,K);const Te=Br(re.disabled)||Br(e.disabled);return wt(r,K,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:K}},name:K,mount:!0,...re}}),l.mount.add(K),oe?ue({disabled:Br(re.disabled)?re.disabled:e.disabled,name:K}):M(K,!0,re.value),{...Te?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:_d(re.min),max:_d(re.max),minLength:_d(re.minLength),maxLength:_d(re.maxLength),pattern:_d(re.pattern)}:{},name:K,onChange:B,onBlur:B,ref:je=>{if(je){ge(K,re),oe=ke(r,K);const Ne=Xt(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Le=dae(Ne),ct=oe._f.refs||[];if(Le?ct.find(ft=>ft===Ne):Ne===oe._f.ref)return;wt(r,K,{_f:{...oe._f,...Le?{refs:[...ct.filter(Mv),Ne,...Array.isArray(ke(s,K))?[{}]:[]],ref:{type:Ne.type,name:K}}:{ref:Ne}}}),M(K,!1,void 0,Ne)}else oe=ke(r,K,{}),oe._f&&(oe._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(pL(l.array,K)&&a.action)&&l.unMount.add(K)}}},Se=()=>e.shouldFocusError&&uh(r,$,l.mount),nt=K=>{Br(K)&&(p.state.next({disabled:K}),uh(r,(re,oe)=>{const Te=ke(r,oe);Te&&(re.disabled=Te._f.disabled||K,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(je=>{je.disabled=Te._f.disabled||K}))},0,!1))},Ke=(K,re)=>async oe=>{let Te;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let je=wn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Ne,values:Le}=await P();n.errors=Ne,je=wn(Le)}else await _(r);if(l.disabled.size)for(const Ne of l.disabled)dn(je,Ne);if(dn(n.errors,"root"),kr(n.errors)){p.state.next({errors:{}});try{await K(je,oe)}catch(Ne){Te=Ne}}else re&&await re({...n.errors},oe),Se(),setTimeout(Se);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kr(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},Pe=(K,re={})=>{ke(r,K)&&(Xt(re.defaultValue)?F(K,wn(ke(s,K))):(F(K,re.defaultValue),wt(s,K,wn(re.defaultValue))),re.keepTouched||dn(n.touchedFields,K),re.keepDirty||(dn(n.dirtyFields,K),n.isDirty=re.defaultValue?D(K,wn(ke(s,K))):D()),re.keepError||(dn(n.errors,K),d.isValid&&v()),p.state.next({...n}))},lt=(K,re={})=>{const oe=K?wn(K):s,Te=wn(oe),je=kr(K),Ne=je?s:Te;if(re.keepDefaultValues||(s=oe),!re.keepValues){if(re.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys($c(s,i))]);for(const ct of Array.from(Le))ke(n.dirtyFields,ct)?wt(Ne,ct,ke(i,ct)):F(ct,ke(Ne,ct))}else{if(CS&&Xt(K))for(const Le of l.mount){const ct=ke(r,Le);if(ct&&ct._f){const ft=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(Og(ft)){const or=ft.closest("form");if(or){or.reset();break}}}}if(re.keepFieldsRef)for(const Le of l.mount)F(Le,ke(Ne,Le));else r={}}i=e.shouldUnregister?re.keepDefaultValues?wn(s):{}:wn(Ne),p.array.next({values:{...Ne}}),p.state.next({values:{...Ne}})}l={mount:re.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!re.keepIsValid||!!re.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:je?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!Yi(K,s)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:je?{}:re.keepDirtyValues?re.keepDefaultValues&&i?$c(s,i):n.dirtyFields:re.keepDefaultValues&&K?$c(s,K):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},it=(K,re)=>lt(Ds(K)?K(i):K,re),gt=(K,re={})=>{const oe=ke(r,K),Te=oe&&oe._f;if(Te){const je=Te.refs?Te.refs[0]:Te.ref;je.focus&&(je.focus(),re.shouldSelect&&Ds(je.select)&&je.select())}},Rt=K=>{n={...n,...K}},yn={control:{register:ge,unregister:ne,getFieldState:V,handleSubmit:Ke,setError:Z,_subscribe:le,_runSchema:P,_focusError:Se,_getWatch:R,_getDirty:D,_setValid:v,_setFieldArray:w,_setDisabledField:ue,_setErrors:C,_getFieldArray:G,_reset:lt,_resetDefaultValues:()=>Ds(e.defaultValues)&&e.defaultValues().then(K=>{it(K,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:nt,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(K){a=K},get _defaultValues(){return s},get _names(){return l},set _names(K){l=K},get _formState(){return n},get _options(){return e},set _options(K){e={...e,...K}}},subscribe:pe,trigger:X,register:ge,handleSubmit:Ke,watch:ee,setValue:F,getValues:H,reset:it,resetField:Pe,clearErrors:Q,unregister:ne,setError:Z,setFocus:gt,getFieldState:V};return{...yn,formControl:yn}}function Hs(t={}){const e=ye.useRef(void 0),n=ye.useRef(void 0),[r,s]=ye.useState({isDirty:!1,isValidating:!1,isLoading:Ds(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ds(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ds(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=jae(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,MS(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),ye.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ye.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ye.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ye.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),ye.useEffect(()=>{t.values&&!Yi(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),ye.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=xL(r,i),e.current}var Pv,f6;function Cae(){if(f6)return Pv;f6=1;function t(w){this._maxSize=w,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(w){return this._values[w]},t.prototype.set=function(w,N){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=N};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),c=new t(a),u=new t(a);Pv={Cache:t,split:f,normalizePath:d,setter:function(w){var N=d(w);return c.get(w)||c.set(w,function(M,j){for(var A=0,P=N.length,E=M;A<P-1;){var _=N[A];if(_==="__proto__"||_==="constructor"||_==="prototype")return M;E=E[N[A++]]}E[N[A]]=j})},getter:function(w,N){var C=d(w);return u.get(w)||u.set(w,function(j){for(var A=0,P=C.length;A<P;)if(j!=null||!N)j=j[C[A++]];else return;return j})},join:function(w){return w.reduce(function(N,C){return N+(g(C)||n.test(C)?"["+C+"]":(N?".":"")+C)},"")},forEach:function(w,N,C){p(Array.isArray(w)?w:f(w),N,C)}};function d(w){return l.get(w)||l.set(w,f(w).map(function(N){return N.replace(i,"$2")}))}function f(w){return w.match(e)||[""]}function p(w,N,C){var M=w.length,j,A,P,E;for(A=0;A<M;A++)j=w[A],j&&(b(j)&&(j='"'+j+'"'),E=g(j),P=!E&&/^\d+$/.test(j),N.call(C,j,E,P,A,w))}function g(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function x(w){return w.match(r)&&!w.match(n)}function v(w){return s.test(w)}function b(w){return!g(w)&&(x(w)||v(w))}return Pv}var kl=Cae(),Av,m6;function kae(){if(m6)return Av;m6=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=d=>d.match(t)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,f)=>e(d).join(f).toLowerCase(),s=d=>e(d).reduce((f,p)=>`${f}${f?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return Av={words:e,upperFirst:n,camelCase:s,pascalCase:d=>n(s(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>e(d).map(n).join(" ")},Av}var Ov=kae(),lp={exports:{}},p6;function Tae(){if(p6)return lp.exports;p6=1,lp.exports=function(s){return t(e(s),s)},lp.exports.array=t;function t(s,i){var a=s.length,l=new Array(a),c={},u=a,d=n(i),f=r(s);for(i.forEach(function(g){if(!f.has(g[0])||!f.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)c[u]||p(s[u],u,new Set);return l;function p(g,x,v){if(v.has(g)){var b;try{b=", node was:"+JSON.stringify(g)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!f.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!c[x]){c[x]=!0;var w=d.get(g)||new Set;if(w=Array.from(w),x=w.length){v.add(g);do{var N=w[--x];p(N,f.get(N),v)}while(x);v.delete(g)}l[--a]=g}}}function e(s){for(var i=new Set,a=0,l=s.length;a<l;a++){var c=s[a];i.add(c[0]),i.add(c[1])}return Array.from(i)}function n(s){for(var i=new Map,a=0,l=s.length;a<l;a++){var c=s[a];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(s){for(var i=new Map,a=0,l=s.length;a<l;a++)i.set(s[a],a);return i}return lp.exports}var Eae=Tae();const Mae=af(Eae),Pae=Object.prototype.toString,Aae=Error.prototype.toString,Oae=RegExp.prototype.toString,_ae=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Dae=/^Symbol\((.*)\)(.*)$/;function Iae(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function g6(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Iae(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return _ae.call(t).replace(Dae,"Symbol($1)");const r=Pae.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Aae.call(t)+"]":r==="RegExp"?Oae.call(t):null}function na(t,e){let n=g6(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=g6(this[r],e);return i!==null?i:s},2)}function kL(t){return t==null?[]:[].concat(t)}let TL,EL,ML,Lae=/\$\{\s*(\w+)\s*\}/g;TL=Symbol.toStringTag;class x6{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[TL]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],kL(e).forEach(i=>{if(ur.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}EL=Symbol.hasInstance;ML=Symbol.toStringTag;class ur extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(Lae,(s,i)=>na(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new x6(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[ML]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ur)}static[EL](e){return x6[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let si={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${na(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${na(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${na(n,!0)}\``+s}},Cr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ba={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},K2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Rae={isValue:"${path} field must be ${value}"},Gp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Yp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Fae={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${na(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${na(n,!0)}\``}return ur.formatError(si.notType,t)}};Object.assign(Object.create(null),{mixed:si,string:Cr,number:Ba,date:K2,object:Gp,array:Yp,boolean:Rae,tuple:Fae});const xx=t=>t&&t.__isYupSchema__;class Dg{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...l)=>l.every(c=>c===r);return new Dg(e,(l,c)=>{var u;let d=a(...l)?s:i;return(u=d?.(c))!=null?u:c})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!xx(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const cp={context:"$",value:"."};class tc{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===cp.context,this.isValue=this.key[0]===cp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?cp.context:this.isValue?cp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&kl.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}tc.prototype.__isYupRef=!0;const Zi=t=>t==null;function Rc(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},l,c){const{name:u,test:d,params:f,message:p,skipAbsent:g}=t;let{parent:x,context:v,abortEarly:b=a.spec.abortEarly,disableStackTrace:w=a.spec.disableStackTrace}=s;const N={value:n,parent:x,context:v};function C(D={}){const R=PL(Object.assign({value:n,originalValue:i,label:a.spec.label,path:D.path||r,spec:a.spec,disableStackTrace:D.disableStackTrace||w},f,D.params),N),G=new ur(ur.formatError(D.message||p,R),n,R.path,D.type||u,R.disableStackTrace);return G.params=R,G}const M=b?l:c;let j={path:r,parent:x,type:u,from:s.from,createError:C,resolve(D){return AL(D,N)},options:s,originalValue:i,schema:a};const A=D=>{ur.isError(D)?M(D):D?c(null):M(C())},P=D=>{ur.isError(D)?M(D):l(D)};if(g&&Zi(n))return A(!0);let _;try{var L;if(_=d.call(j,n,j),typeof((L=_)==null?void 0:L.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(_).then(A,P)}}catch(D){P(D);return}A(_)}return e.OPTIONS=t,e}function PL(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=AL(t[n],e);return t}function AL(t,e){return tc.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function zae(t,e,n,r=n){let s,i,a;return e?(kl.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let f=t.type==="tuple",p=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=f?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}i=d,a=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Ig extends Set{describe(){const e=[];for(const n of this.values())e.push(tc.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Ig(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function Jc(t,e=new Map){if(xx(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Jc(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,Jc(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Jc(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=Jc(s,e)}else throw Error(`Unable to clone ${t}`);return n}function Vae(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,s=!1;for(let i=0;i<t.length;i++){const a=t[i];if(a==="["&&!s){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(a==="]"&&!s){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(a==='"'){s=!s;continue}if(a==="."&&!r&&!s){n&&(e.push(n),n="");continue}n+=a}return n&&e.push(...n.split(".").filter(Boolean)),e}function $ae(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:Vae(n)}))}function OL(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return $ae(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>OL(s,r))}let Jr=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ig,this._blacklist=new Ig,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(si.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Jc(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({},n,{value:e})),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Zi(i))return i;let a=na(e),l=na(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this,n),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:a=e,strict:l=this.spec.strict}=n,c=e;l||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:a,options:n,tests:u},r,d=>{if(d.length)return s(d,c);this.runTests({path:i,value:c,originalValue:a,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:a,originalValue:l,path:c,options:u}=e,d=v=>{s||(s=!0,n(v,a))},f=v=>{s||(s=!0,r(v,a))},p=i.length,g=[];if(!p)return f([]);let x={value:a,originalValue:l,path:c,options:u,schema:this};for(let v=0;v<i.length;v++){const b=i[v];b(x,d,function(N){N&&(Array.isArray(N)?g.push(...N):g.push(N)),--p<=0&&f(g)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=r[l];const d=Object.assign({},a,{strict:!0,parent:r,value:u,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${c?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(f,p,g)=>this.resolve(d)._validate(u,d,p,g)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((a,l)=>s._validate(e,n,(c,u)=>{ur.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new ur(c,u,void 0,void 0,i)):a(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,a=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,c)=>{throw ur.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new ur(l,e,void 0,void 0,a);i=c}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(ur.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(ur.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Jc(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Rc({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Rc({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=si.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=si.notNull){return this.nullability(!1,e)}required(e=si.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=si.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Rc(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=kL(e).map(i=>new tc(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Dg(s,n):Dg.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Rc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=si.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Rc({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),r}notOneOf(e,n=si.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Rc({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:a}=n.spec;return{meta:s,label:r,optional:i,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?PL(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(s){if(s instanceof ur)return{issues:OL(s)};throw s}}}}};Jr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Jr.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=zae(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])Jr.prototype[t]=Jr.prototype.oneOf;for(const t of["not","nope"])Jr.prototype[t]=Jr.prototype.notOneOf;const Bae=()=>!0;function OS(t){return new _L(t)}class _L extends Jr{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Bae},e))}}OS.prototype=_L.prototype;const Hae=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Uae(t){const e=G2(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function G2(t){var e,n;const r=Hae.exec(t);return r?{year:Ri(r[1]),month:Ri(r[2],1)-1,day:Ri(r[3],1),hour:Ri(r[4]),minute:Ri(r[5]),second:Ri(r[6]),millisecond:r[7]?Ri(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ri(r[10]),minuteOffset:Ri(r[11])}:null}function Ri(t,e=0){return Number(t)||e}let Wae=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qae=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Kae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Gae="^\\d{4}-\\d{2}-\\d{2}",Yae="\\d{2}:\\d{2}:\\d{2}",Xae="(([+-]\\d{2}(:?\\d{2})?)|Z)",Qae=new RegExp(`${Gae}T${Yae}(\\.\\d+)?${Xae}$`),Jae=t=>Zi(t)||t===t.trim(),Zae={}.toString();function fn(){return new DL}class DL extends Jr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===Zae?e:r})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||si.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Cr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Cr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Cr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Cr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Cr.email){return this.matches(Wae,{name:"email",message:e,excludeEmptyString:!0})}url(e=Cr.url){return this.matches(qae,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Cr.uuid){return this.matches(Kae,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(Qae,{name:"datetime",message:n||Cr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Cr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const a=G2(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Cr.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=G2(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Cr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Jae})}lowercase(e=Cr.lowercase){return this.transform(n=>Zi(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zi(n)||n===n.toLowerCase()})}uppercase(e=Cr.uppercase){return this.transform(n=>Zi(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zi(n)||n===n.toUpperCase()})}}fn.prototype=DL.prototype;let eoe=t=>t!=+t;function Zc(){return new IL}class IL extends Jr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!eoe(e)}}),this.withMutation(()=>{this.transform((e,n)=>{if(!this.spec.coerce)return e;let r=e;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)||r===null?r:parseFloat(r)})})}min(e,n=Ba.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Ba.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Ba.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Ba.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Ba.positive){return this.moreThan(0,e)}negative(e=Ba.negative){return this.lessThan(0,e)}integer(e=Ba.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Zi(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Zi(s)?s:Math[e](s))}}Zc.prototype=IL.prototype;let toe=new Date(""),noe=t=>Object.prototype.toString.call(t)==="[object Date]";class _S extends Jr{constructor(){super({type:"date",check(e){return noe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=Uae(e),isNaN(e)?_S.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(tc.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=K2.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=K2.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}_S.INVALID_DATE=toe;function roe(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let c=kl.split(a)[0];r.add(c),s.has(`${l}-${c}`)||n.push([l,c])}for(const a of Object.keys(t)){let l=t[a];r.add(a),tc.isRef(l)&&l.isSibling?i(l.path,a):xx(l)&&"deps"in l&&l.deps.forEach(c=>i(c,a))}return Mae.array(Array.from(r),n).reverse()}function y6(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function LL(t){return(e,n)=>y6(t,e)-y6(t,n)}const RL=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Xp(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Xp(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Xp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Xp)}):"optional"in t?t.optional():t}const soe=(t,e)=>{const n=[...kl.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=kl.getter(kl.join(n),!0)(t);return!!(s&&r in s)};let b6=t=>Object.prototype.toString.call(t)==="[object Object]";function v6(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const ioe=LL([]);function Bh(t){return new FL(t)}class FL extends Jr{constructor(e){super({type:"object",check(n){return b6(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=ioe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of l){let p=i[f],g=f in s,x=s[f];if(p){let v;u.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:x,context:n.context,parent:c});let b=p instanceof Jr?p.spec:void 0,w=b?.strict;if(b!=null&&b.strip){d=d||f in s;continue}v=!n.__validating||!w?p.cast(x,u):x,v!==void 0&&(c[f]=v)}else g&&!a&&(c[f]=x);(g!==f in c||c[f]!==x)&&(d=!0)}return d?c:s}_validate(e,n={},r,s){let{from:i=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(c,u)=>{if(!l||!b6(u)){s(c,u);return}a=a||u;let d=[];for(let f of this._nodes){let p=this.fields[f];!p||tc.isRef(p)||d.push(p.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},r,f=>{s(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const a=r[s];r[s]=a===void 0?i:a}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=roe(e,n),r._sortErrors=LL(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Xp(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=kl.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return soe(i,e)&&(a=Object.assign({},i),r||delete a[e],a[n]=s(i)),a})}json(){return this.transform(RL)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Gp.exact,test(n){if(n==null)return!0;const r=v6(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Gp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=v6(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Gp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(Ov.camelCase)}snakeCase(){return this.transformKeys(Ov.snakeCase)}constantCase(){return this.transformKeys(e=>Ov.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=a.describe(l)}return r}}Bh.prototype=FL.prototype;function zL(t){return new VL(t)}class VL extends Jr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((a,l)=>{const c=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${l}]`,parent:r,originalValue:a,value:a,index:l}));return c!==a&&(s=!0),c});return s?i:r}_validate(e,n={},r,s){var i;let a=this.innerType,l=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(c,u)=>{var d;if(!l||!a||!this._typeCheck(u)){s(c,u);return}let f=new Array(u.length);for(let g=0;g<u.length;g++){var p;f[g]=a.asNestedTest({options:n,index:g,parent:u,parentPath:n.path,originalParent:(p=n.originalValue)!=null?p:e})}this.runTests({value:u,tests:f,originalValue:(d=n.originalValue)!=null?d:e,options:n},r,g=>s(g.concat(c),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(RL)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!xx(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+na(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Yp.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||Yp.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||Yp.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}zL.prototype=VL.prototype;const aoe=Bh({customerName:fn().required("Vui lng nhp tn khch hng").min(2,"Tn t nht phi c 2 k t"),customerEmail:fn().required("Vui lng nhp email khch hng").email("Email khng hp l"),customerPhone:fn().required("Vui lng nhp st khch hng").matches(/^(0|\+84)[3|5|7|8|9][0-9]{8}$/,"S in thoi khng hp l"),customerAddress:fn().required("Vui lng nhp a ch khch hng"),customerProvince:fn().required("Vui lng chn tnh thnh"),customerDistrict:fn().required("Vui lng chn huyn"),customerWard:fn().required("Chn phng"),paymentMethod:OS().oneOf(Object.values(Kr),"Phng thc thanh ton khng hp l").required("Vui lng chn phng thc thanh ton"),customerNote:fn().optional().default(""),orderItems:zL().of(Bh({productId:Zc().required(),variantId:Zc().required(),quantity:Zc().min(1,"S lng ti thiu l 1").required(),price:Zc().required()})).min(1,"n hng phi c t nht mt sn phm").optional().required("Vui lng thm sn phm"),couponCode:fn().optional().default("")}).required(),w6=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ke(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},$L=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?w6(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>w6(s,n,t))}},ooe=(t,e)=>{e.shouldUseNativeValidation&&$L(t,e);const n={};for(const r in t){const s=ke(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(loe(e.names||Object.keys(t),r)){const a=Object.assign({},ke(n,r));wt(a,"root",i),wt(n,r,a)}else wt(n,r,i)}return n},loe=(t,e)=>{const n=N6(e);return t.some(r=>N6(r).match(`^${n}\\.\\d+`))};function N6(t){return t.replace(/\]|\[/g,"")}function BL(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve((function(a,l){try{var c=(e?.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:s}))).then(function(u){return i.shouldUseNativeValidation&&$L({},i),{values:n.raw?Object.assign({},r):u,errors:{}}}))}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(a){if(!a.inner)throw a;return{values:{},errors:ooe((l=a,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(l.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),c){var f=u[d.path].types,p=f&&f[d.type];u[d.path]=bL(d.path,c,u,d.type,p?[].concat(p,d.message):d.message)}return u},{})),i)};var l,c}))}catch(a){return Promise.reject(a)}}}const DS=async()=>await he.get("/api/v1/province/get-province");function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function coe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HL(t){var e=coe(t,"string");return Vl(e)=="symbol"?e:e+""}function qd(t,e,n){return(e=HL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){qd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uoe(t){if(Array.isArray(t))return t}function doe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function UL(t,e){if(t){if(typeof t=="string")return Y2(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y2(t,e):void 0}}function hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ra(t,e){return uoe(t)||doe(t,e)||UL(t,e)||hoe()}function foe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ba(t,e){if(t==null)return{};var n,r,s=foe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var moe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function poe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,a=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,g=t.value,x=ba(t,moe),v=T.useState(l!==void 0?l:n),b=ra(v,2),w=b[0],N=b[1],C=T.useState(c!==void 0?c:s),M=ra(C,2),j=M[0],A=M[1],P=T.useState(g!==void 0?g:a),E=ra(P,2),_=E[0],L=E[1],D=T.useCallback(function($,X){typeof u=="function"&&u($,X),L($)},[u]),R=T.useCallback(function($,X){var H;typeof d=="function"&&(H=d($,X)),N(H!==void 0?H:$)},[d]),G=T.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),U=T.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),q=l!==void 0?l:w,F=c!==void 0?c:j,B=g!==void 0?g:_;return We(We({},x),{},{inputValue:q,menuIsOpen:F,onChange:D,onInputChange:R,onMenuClose:U,onMenuOpen:G,value:B})}function qe(){return qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qe.apply(null,arguments)}function goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HL(r.key),r)}}function xoe(t,e,n){return e&&j6(t.prototype,e),n&&j6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X2(t,e){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},X2(t,e)}function yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X2(t,e)}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lg(t)}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function boe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function voe(t,e){if(e&&(Vl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return boe(t)}function woe(t){var e=WL();return function(){var n,r=Lg(t);if(e){var s=Lg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return voe(this,n)}}function Noe(t){if(Array.isArray(t))return Y2(t)}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IS(t){return Noe(t)||Soe(t)||UL(t)||joe()}function Coe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function koe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Toe=(function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(koe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Coe(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Yn="-ms-",Rg="-moz-",mt="-webkit-",qL="comm",LS="rule",RS="decl",Eoe="@import",KL="@keyframes",Moe="@layer",Poe=Math.abs,yx=String.fromCharCode,Aoe=Object.assign;function Ooe(t,e){return Fn(t,0)^45?(((e<<2^Fn(t,0))<<2^Fn(t,1))<<2^Fn(t,2))<<2^Fn(t,3):0}function GL(t){return t.trim()}function _oe(t,e){return(t=e.exec(t))?t[0]:t}function pt(t,e,n){return t.replace(e,n)}function Q2(t,e){return t.indexOf(e)}function Fn(t,e){return t.charCodeAt(e)|0}function Hh(t,e,n){return t.slice(e,n)}function oi(t){return t.length}function FS(t){return t.length}function up(t,e){return e.push(t),t}function Doe(t,e){return t.map(e).join("")}var bx=1,yu=1,YL=0,Lr=0,mn=0,Lu="";function vx(t,e,n,r,s,i,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:bx,column:yu,length:a,return:""}}function Dd(t,e){return Aoe(vx("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ioe(){return mn}function Loe(){return mn=Lr>0?Fn(Lu,--Lr):0,yu--,mn===10&&(yu=1,bx--),mn}function Gr(){return mn=Lr<YL?Fn(Lu,Lr++):0,yu++,mn===10&&(yu=1,bx++),mn}function gi(){return Fn(Lu,Lr)}function Qp(){return Lr}function kf(t,e){return Hh(Lu,t,e)}function Uh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XL(t){return bx=yu=1,YL=oi(Lu=t),Lr=0,[]}function QL(t){return Lu="",t}function Jp(t){return GL(kf(Lr-1,J2(t===91?t+2:t===40?t+1:t)))}function Roe(t){for(;(mn=gi())&&mn<33;)Gr();return Uh(t)>2||Uh(mn)>3?"":" "}function Foe(t,e){for(;--e&&Gr()&&!(mn<48||mn>102||mn>57&&mn<65||mn>70&&mn<97););return kf(t,Qp()+(e<6&&gi()==32&&Gr()==32))}function J2(t){for(;Gr();)switch(mn){case t:return Lr;case 34:case 39:t!==34&&t!==39&&J2(mn);break;case 40:t===41&&J2(t);break;case 92:Gr();break}return Lr}function zoe(t,e){for(;Gr()&&t+mn!==57;)if(t+mn===84&&gi()===47)break;return"/*"+kf(e,Lr-1)+"*"+yx(t===47?t:Gr())}function Voe(t){for(;!Uh(gi());)Gr();return kf(t,Lr)}function $oe(t){return QL(Zp("",null,null,null,[""],t=XL(t),0,[0],t))}function Zp(t,e,n,r,s,i,a,l,c){for(var u=0,d=0,f=a,p=0,g=0,x=0,v=1,b=1,w=1,N=0,C="",M=s,j=i,A=r,P=C;b;)switch(x=N,N=Gr()){case 40:if(x!=108&&Fn(P,f-1)==58){Q2(P+=pt(Jp(N),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:P+=Jp(N);break;case 9:case 10:case 13:case 32:P+=Roe(x);break;case 92:P+=Foe(Qp()-1,7);continue;case 47:switch(gi()){case 42:case 47:up(Boe(zoe(Gr(),Qp()),e,n),c);break;default:P+="/"}break;case 123*v:l[u++]=oi(P)*w;case 125*v:case 59:case 0:switch(N){case 0:case 125:b=0;case 59+d:w==-1&&(P=pt(P,/\f/g,"")),g>0&&oi(P)-f&&up(g>32?k6(P+";",r,n,f-1):k6(pt(P," ","")+";",r,n,f-2),c);break;case 59:P+=";";default:if(up(A=C6(P,e,n,u,d,s,l,C,M=[],j=[],f),i),N===123)if(d===0)Zp(P,e,A,A,M,i,f,l,j);else switch(p===99&&Fn(P,3)===110?100:p){case 100:case 108:case 109:case 115:Zp(t,A,A,r&&up(C6(t,A,A,0,0,s,l,C,s,M=[],f),j),s,j,f,l,r?M:j);break;default:Zp(P,A,A,A,[""],j,0,l,j)}}u=d=g=0,v=w=1,C=P="",f=a;break;case 58:f=1+oi(P),g=x;default:if(v<1){if(N==123)--v;else if(N==125&&v++==0&&Loe()==125)continue}switch(P+=yx(N),N*v){case 38:w=d>0?1:(P+="\f",-1);break;case 44:l[u++]=(oi(P)-1)*w,w=1;break;case 64:gi()===45&&(P+=Jp(Gr())),p=gi(),d=f=oi(C=P+=Voe(Qp())),N++;break;case 45:x===45&&oi(P)==2&&(v=0)}}return i}function C6(t,e,n,r,s,i,a,l,c,u,d){for(var f=s-1,p=s===0?i:[""],g=FS(p),x=0,v=0,b=0;x<r;++x)for(var w=0,N=Hh(t,f+1,f=Poe(v=a[x])),C=t;w<g;++w)(C=GL(v>0?p[w]+" "+N:pt(N,/&\f/g,p[w])))&&(c[b++]=C);return vx(t,e,n,s===0?LS:l,c,u,d)}function Boe(t,e,n){return vx(t,e,n,qL,yx(Ioe()),Hh(t,2,-2),0)}function k6(t,e,n,r){return vx(t,e,n,RS,Hh(t,0,r),Hh(t,r+1,-1),r)}function iu(t,e){for(var n="",r=FS(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Hoe(t,e,n,r){switch(t.type){case Moe:if(t.children.length)break;case Eoe:case RS:return t.return=t.return||t.value;case qL:return"";case KL:return t.return=t.value+"{"+iu(t.children,r)+"}";case LS:t.value=t.props.join(",")}return oi(n=iu(t.children,r))?t.return=t.value+"{"+n+"}":""}function Uoe(t){var e=FS(t);return function(n,r,s,i){for(var a="",l=0;l<e;l++)a+=t[l](n,r,s,i)||"";return a}}function Woe(t){return function(e){e.root||(e=e.return)&&t(e)}}function qoe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Koe=function(e,n,r){for(var s=0,i=0;s=i,i=gi(),s===38&&i===12&&(n[r]=1),!Uh(i);)Gr();return kf(e,Lr)},Goe=function(e,n){var r=-1,s=44;do switch(Uh(s)){case 0:s===38&&gi()===12&&(n[r]=1),e[r]+=Koe(Lr-1,n,r);break;case 2:e[r]+=Jp(s);break;case 4:if(s===44){e[++r]=gi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=yx(s)}while(s=Gr());return e},Yoe=function(e,n){return QL(Goe(XL(e),n))},T6=new WeakMap,Xoe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!T6.get(r))&&!s){T6.set(e,!0);for(var i=[],a=Yoe(n,i),l=r.props,c=0,u=0;c<a.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?a[c].replace(/&\f/g,l[d]):l[d]+" "+a[c]}}},Qoe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function JL(t,e){switch(Ooe(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+Rg+t+Yn+t+t;case 6828:case 4268:return mt+t+Yn+t+t;case 6165:return mt+t+Yn+"flex-"+t+t;case 5187:return mt+t+pt(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+Yn+"flex-$1$2")+t;case 5443:return mt+t+Yn+"flex-item-"+pt(t,/flex-|-self/,"")+t;case 4675:return mt+t+Yn+"flex-line-pack"+pt(t,/align-content|flex-|-self/,"")+t;case 5548:return mt+t+Yn+pt(t,"shrink","negative")+t;case 5292:return mt+t+Yn+pt(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+pt(t,"-grow","")+mt+t+Yn+pt(t,"grow","positive")+t;case 4554:return mt+pt(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return pt(pt(pt(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return pt(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return pt(pt(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+Yn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4095:case 3583:case 4068:case 2532:return pt(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oi(t)-1-e>6)switch(Fn(t,e+1)){case 109:if(Fn(t,e+4)!==45)break;case 102:return pt(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+Rg+(Fn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Q2(t,"stretch")?JL(pt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Fn(t,e+1)!==115)break;case 6444:switch(Fn(t,oi(t)-3-(~Q2(t,"!important")&&10))){case 107:return pt(t,":",":"+mt)+t;case 101:return pt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(Fn(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+Yn+"$2box$3")+t}break;case 5936:switch(Fn(t,e+11)){case 114:return mt+t+Yn+pt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+Yn+pt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+Yn+pt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mt+t+Yn+t+t}return t}var Joe=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case RS:e.return=JL(e.value,e.length);break;case KL:return iu([Dd(e,{value:pt(e.value,"@","@"+mt)})],s);case LS:if(e.length)return Doe(e.props,function(i){switch(_oe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return iu([Dd(e,{props:[pt(i,/:(read-\w+)/,":"+Rg+"$1")]})],s);case"::placeholder":return iu([Dd(e,{props:[pt(i,/:(plac\w+)/,":"+mt+"input-$1")]}),Dd(e,{props:[pt(i,/:(plac\w+)/,":"+Rg+"$1")]}),Dd(e,{props:[pt(i,/:(plac\w+)/,Yn+"input-$1")]})],s)}return""})}},Zoe=[Joe],ele=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||Zoe,i={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)i[b[w]]=!0;l.push(v)});var c,u=[Xoe,Qoe];{var d,f=[Hoe,Woe(function(v){d.insert(v)})],p=Uoe(u.concat(s,f)),g=function(b){return iu($oe(b),p)};c=function(b,w,N,C){d=N,g(b?b+"{"+w.styles+"}":w.styles),C&&(x.inserted[w.name]=!0)}}var x={key:n,sheet:new Toe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return x.sheet.hydrate(l),x},_v={exports:{}},xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E6;function tle(){if(E6)return xt;E6=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function C(j){if(typeof j=="object"&&j!==null){var A=j.$$typeof;switch(A){case e:switch(j=j.type,j){case c:case u:case r:case i:case s:case f:return j;default:switch(j=j&&j.$$typeof,j){case l:case d:case x:case g:case a:return j;default:return A}}case n:return A}}}function M(j){return C(j)===u}return xt.AsyncMode=c,xt.ConcurrentMode=u,xt.ContextConsumer=l,xt.ContextProvider=a,xt.Element=e,xt.ForwardRef=d,xt.Fragment=r,xt.Lazy=x,xt.Memo=g,xt.Portal=n,xt.Profiler=i,xt.StrictMode=s,xt.Suspense=f,xt.isAsyncMode=function(j){return M(j)||C(j)===c},xt.isConcurrentMode=M,xt.isContextConsumer=function(j){return C(j)===l},xt.isContextProvider=function(j){return C(j)===a},xt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},xt.isForwardRef=function(j){return C(j)===d},xt.isFragment=function(j){return C(j)===r},xt.isLazy=function(j){return C(j)===x},xt.isMemo=function(j){return C(j)===g},xt.isPortal=function(j){return C(j)===n},xt.isProfiler=function(j){return C(j)===i},xt.isStrictMode=function(j){return C(j)===s},xt.isSuspense=function(j){return C(j)===f},xt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===u||j===i||j===s||j===f||j===p||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===g||j.$$typeof===a||j.$$typeof===l||j.$$typeof===d||j.$$typeof===b||j.$$typeof===w||j.$$typeof===N||j.$$typeof===v)},xt.typeOf=C,xt}var M6;function nle(){return M6||(M6=1,_v.exports=tle()),_v.exports}var Dv,P6;function rle(){if(P6)return Dv;P6=1;var t=nle(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(x){return t.isMemo(x)?s:i[x.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function g(x,v,b){if(typeof v!="string"){if(p){var w=f(v);w&&w!==p&&g(x,w,b)}var N=c(v);u&&(N=N.concat(u(v)));for(var C=a(x),M=a(v),j=0;j<N.length;++j){var A=N[j];if(!n[A]&&!(b&&b[A])&&!(M&&M[A])&&!(C&&C[A])){var P=d(v,A);try{l(x,A,P)}catch{}}}}return x}return Dv=g,Dv}rle();var sle=!0;function ile(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var ZL=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||sle===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},ale=function(e,n,r){ZL(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function ole(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var lle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cle=/[A-Z]|^ms/g,ule=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eR=function(e){return e.charCodeAt(1)===45},A6=function(e){return e!=null&&typeof e!="boolean"},Iv=qoe(function(t){return eR(t)?t:t.replace(cle,"-$&").toLowerCase()}),O6=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(ule,function(r,s,i){return li={name:s,styles:i,next:li},s})}return lle[e]!==1&&!eR(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return li={name:s.name,styles:s.styles,next:li},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)li={name:a.name,styles:a.styles,next:li},a=a.next;var l=i.styles+";";return l}return dle(t,e,n)}case"function":{if(t!==void 0){var c=li,u=n(t);return li=c,Wh(t,e,u)}break}}var d=n;return d}function dle(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Wh(t,e,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;A6(l)&&(r+=Iv(i)+":"+O6(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var c=0;c<a.length;c++)A6(a[c])&&(r+=Iv(i)+":"+O6(i,a[c])+";");else{var u=Wh(t,e,a);switch(i){case"animation":case"animationName":{r+=Iv(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var _6=/label:\s*([^\s;{]+)\s*(;|$)/g,li;function tR(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";li=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Wh(n,e,i);else{var a=i;s+=a[0]}for(var l=1;l<t.length;l++)if(s+=Wh(n,e,t[l]),r){var c=i;s+=c[l]}_6.lastIndex=0;for(var u="",d;(d=_6.exec(s))!==null;)u+="-"+d[1];var f=ole(s)+u;return{name:f,styles:s,next:li}}var hle=function(e){return e()},fle=zC.useInsertionEffect?zC.useInsertionEffect:!1,mle=fle||hle,nR=T.createContext(typeof HTMLElement<"u"?ele({key:"css"}):null);nR.Provider;var ple=function(e){return T.forwardRef(function(n,r){var s=T.useContext(nR);return e(n,s,r)})},gle=T.createContext({}),zS={}.hasOwnProperty,Z2="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xle=function(e,n){var r={};for(var s in n)zS.call(n,s)&&(r[s]=n[s]);return r[Z2]=e,r},yle=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return ZL(n,r,s),mle(function(){return ale(n,r,s)}),null},ble=ple(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[Z2],i=[r],a="";typeof t.className=="string"?a=ile(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var l=tR(i,void 0,T.useContext(gle));a+=e.key+"-"+l.name;var c={};for(var u in t)zS.call(t,u)&&u!=="css"&&u!==Z2&&(c[u]=t[u]);return c.className=a,n&&(c.ref=n),T.createElement(T.Fragment,null,T.createElement(yle,{cache:e,serialized:l,isStringTag:typeof s=="string"}),T.createElement(s,c))}),vle=ble,ze=function(e,n){var r=arguments;if(n==null||!zS.call(n,"css"))return T.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=vle,i[1]=xle(e,n);for(var a=2;a<s;a++)i[a]=r[a];return T.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ze||(ze={}));function VS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return tR(e)}function wle(){var t=VS.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Nle(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Sle=Math.min,jle=Math.max,Fg=Math.round,dp=Math.floor,zg=t=>({x:t,y:t});function Cle(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function wx(){return typeof window<"u"}function rR(t){return iR(t)?(t.nodeName||"").toLowerCase():"#document"}function pa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sR(t){var e;return(e=(iR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iR(t){return wx()?t instanceof Node||t instanceof pa(t).Node:!1}function kle(t){return wx()?t instanceof Element||t instanceof pa(t).Element:!1}function $S(t){return wx()?t instanceof HTMLElement||t instanceof pa(t).HTMLElement:!1}function D6(t){return!wx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pa(t).ShadowRoot}const Tle=new Set(["inline","contents"]);function aR(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=BS(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Tle.has(s)}function Ele(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mle=new Set(["html","body","#document"]);function Ple(t){return Mle.has(rR(t))}function BS(t){return pa(t).getComputedStyle(t)}function Ale(t){if(rR(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D6(t)&&t.host||sR(t);return D6(e)?e.host:e}function oR(t){const e=Ale(t);return Ple(e)?t.ownerDocument?t.ownerDocument.body:t.body:$S(e)&&aR(e)?e:oR(e)}function Vg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=pa(s);if(i){const l=ew(a);return e.concat(a,a.visualViewport||[],aR(s)?s:[],l&&n?Vg(l):[])}return e.concat(s,Vg(s,[],n))}function ew(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ole(t){const e=BS(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=$S(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Fg(n)!==i||Fg(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function HS(t){return kle(t)?t:t.contextElement}function I6(t){const e=HS(t);if(!$S(e))return zg(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Ole(e);let a=(i?Fg(n.width):n.width)/r,l=(i?Fg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const _le=zg(0);function Dle(t){const e=pa(t);return!Ele()||!e.visualViewport?_le:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ile(t,e,n){return!1}function L6(t,e,n,r){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=HS(t);let a=zg(1);e&&(a=I6(t));const l=Ile()?Dle(i):zg(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const p=pa(i),g=r;let x=p,v=ew(x);for(;v&&r&&g!==x;){const b=I6(v),w=v.getBoundingClientRect(),N=BS(v),C=w.left+(v.clientLeft+parseFloat(N.paddingLeft))*b.x,M=w.top+(v.clientTop+parseFloat(N.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=C,u+=M,x=pa(v),v=ew(x)}}return Cle({width:d,height:f,x:c,y:u})}function lR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Lle(t,e){let n=null,r;const s=sR(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||e(),!p||!g)return;const x=dp(f),v=dp(s.clientWidth-(d+p)),b=dp(s.clientHeight-(f+g)),w=dp(d),C={rootMargin:-x+"px "+-v+"px "+-b+"px "+-w+"px",threshold:jle(0,Sle(1,c))||1};let M=!0;function j(A){const P=A[0].intersectionRatio;if(P!==c){if(!M)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!lR(u,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(j,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,C)}n.observe(t)}return a(!0),i}function Rle(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=HS(t),d=s||i?[...u?Vg(u):[],...Vg(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&l?Lle(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(w=>{let[N]=w;N&&N.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let x,v=c?L6(t):null;c&&b();function b(){const w=L6(t);v&&!lR(v,w)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(N=>{s&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),f?.(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(x)}}var tw=T.useLayoutEffect,Fle=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],$g=function(){};function zle(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Vle(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(zle(t,a)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var R6=function(e){return Yle(e)?e.filter(Boolean):Vl(e)==="object"&&e!==null?[e]:[]},cR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ba(e,Fle);return We({},n)},en=function(e,n,r){var s=e.cx,i=e.getStyles,a=e.getClassNames,l=e.className;return{css:i(n,e),className:s(r??{},a(n,e),l)}};function Nx(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function $le(t){return Nx(t)?window.innerHeight:t.clientHeight}function uR(t){return Nx(t)?window.pageYOffset:t.scrollTop}function Bg(t,e){if(Nx(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Ble(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function Hle(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function hp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$g,s=uR(t),i=e-s,a=10,l=0;function c(){l+=a;var u=Hle(l,s,i,n);Bg(t,u),l<n?window.requestAnimationFrame(c):r(t)}c()}function F6(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?Bg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&Bg(t,Math.max(e.offsetTop-s,0))}function Ule(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function z6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Wle(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var dR=!1,qle={get passive(){return dR=!0}},fp=typeof window<"u"?window:{};fp.addEventListener&&fp.removeEventListener&&(fp.addEventListener("p",$g,qle),fp.removeEventListener("p",$g,!1));var Kle=dR;function Gle(t){return t!=null}function Yle(t){return Array.isArray(t)}function mp(t,e,n){return t?e:n}var Xle=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(a){var l=ra(a,1),c=l[0];return!r.includes(c)});return i.reduce(function(a,l){var c=ra(l,2),u=c[0],d=c[1];return a[u]=d,a},{})},Qle=["children","innerProps"],Jle=["children","innerProps"];function Zle(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,a=t.isFixedPosition,l=t.controlHeight,c=Ble(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,p=n.getBoundingClientRect(),g=p.bottom,x=p.height,v=p.top,b=n.offsetParent.getBoundingClientRect(),w=b.top,N=a?window.innerHeight:$le(c),C=uR(c),M=parseInt(getComputedStyle(n).marginBottom,10),j=parseInt(getComputedStyle(n).marginTop,10),A=w-j,P=N-v,E=A+C,_=f-C-v,L=g-N+C+M,D=C+v-j,R=160;switch(s){case"auto":case"bottom":if(P>=x)return{placement:"bottom",maxHeight:e};if(_>=x&&!a)return i&&hp(c,L,R),{placement:"bottom",maxHeight:e};if(!a&&_>=r||a&&P>=r){i&&hp(c,L,R);var G=a?P-M:_-M;return{placement:"bottom",maxHeight:G}}if(s==="auto"||a){var U=e,q=a?A:E;return q>=r&&(U=Math.min(q-M-l,e)),{placement:"top",maxHeight:U}}if(s==="bottom")return i&&Bg(c,L),{placement:"bottom",maxHeight:e};break;case"top":if(A>=x)return{placement:"top",maxHeight:e};if(E>=x&&!a)return i&&hp(c,D,R),{placement:"top",maxHeight:e};if(!a&&E>=r||a&&A>=r){var F=e;return(!a&&E>=r||a&&A>=r)&&(F=a?A-j:E-j),i&&hp(c,D,R),{placement:"top",maxHeight:F}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function ece(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var hR=function(e){return e==="auto"?"bottom":e},tce=function(e,n){var r,s=e.placement,i=e.theme,a=i.borderRadius,l=i.spacing,c=i.colors;return We((r={label:"menu"},qd(r,ece(s),"100%"),qd(r,"position","absolute"),qd(r,"width","100%"),qd(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},fR=T.createContext(null),nce=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=T.useContext(fR)||{},d=u.setPortalPlacement,f=T.useRef(null),p=T.useState(s),g=ra(p,2),x=g[0],v=g[1],b=T.useState(null),w=ra(b,2),N=w[0],C=w[1],M=c.spacing.controlHeight;return tw(function(){var j=f.current;if(j){var A=a==="fixed",P=l&&!A,E=Zle({maxHeight:s,menuEl:j,minHeight:r,placement:i,shouldScroll:P,isFixedPosition:A,controlHeight:M});v(E.maxHeight),C(E.placement),d?.(E.placement)}},[s,i,a,l,r,d,M]),n({ref:f,placerProps:We(We({},e),{},{placement:N||hR(i),maxHeight:x})})},rce=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return ze("div",qe({},en(e,"menu",{menu:!0}),{ref:r},s),n)},sce=rce,ice=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return We({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},ace=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return ze("div",qe({},en(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},mR=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return We({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},oce=mR,lce=mR,cce=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=ba(e,Qle);return ze("div",qe({},en(We(We({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},uce=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=ba(e,Jle);return ze("div",qe({},en(We(We({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},dce=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},hce=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,a=e.menuPlacement,l=e.menuPosition,c=T.useRef(null),u=T.useRef(null),d=T.useState(hR(a)),f=ra(d,2),p=f[0],g=f[1],x=T.useMemo(function(){return{setPortalPlacement:g}},[]),v=T.useState(null),b=ra(v,2),w=b[0],N=b[1],C=T.useCallback(function(){if(s){var P=Ule(s),E=l==="fixed"?0:window.pageYOffset,_=P[p]+E;(_!==w?.offset||P.left!==w?.rect.left||P.width!==w?.rect.width)&&N({offset:_,rect:P})}},[s,l,p,w?.offset,w?.rect.left,w?.rect.width]);tw(function(){C()},[C]);var M=T.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=Rle(s,c.current,C,{elementResize:"ResizeObserver"in window}))},[s,C]);tw(function(){M()},[M]);var j=T.useCallback(function(P){c.current=P,M()},[M]);if(!n&&l!=="fixed"||!w)return null;var A=ze("div",qe({ref:j},en(We(We({},e),{},{offset:w.offset,position:l,rect:w.rect}),"menuPortal",{"menu-portal":!0}),i),r);return ze(fR.Provider,{value:x},n?NA.createPortal(A,n):A)},fce=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},mce=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return ze("div",qe({},en(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},pce=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return We({alignItems:"center",display:s&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},gce=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return ze("div",qe({},en(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},xce=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},yce=function(e){var n=e.children,r=e.innerProps;return ze("div",qe({},en(e,"indicatorsContainer",{indicators:!0}),r),n)},V6,bce=["size"],vce=["innerProps","isRtl","size"],wce={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},pR=function(e){var n=e.size,r=ba(e,bce);return ze("svg",qe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:wce},r))},US=function(e){return ze(pR,qe({size:20},e),ze("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},gR=function(e){return ze(pR,qe({size:20},e),ze("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},xR=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return We({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},Nce=xR,Sce=function(e){var n=e.children,r=e.innerProps;return ze("div",qe({},en(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ze(gR,null))},jce=xR,Cce=function(e){var n=e.children,r=e.innerProps;return ze("div",qe({},en(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ze(US,null))},kce=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return We({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},Tce=function(e){var n=e.innerProps;return ze("span",qe({},n,en(e,"indicatorSeparator",{"indicator-separator":!0})))},Ece=wle(V6||(V6=Nle([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Mce=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,a=i.colors,l=i.spacing.baseUnit;return We({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:l*2})},Lv=function(e){var n=e.delay,r=e.offset;return ze("span",{css:VS({animation:"".concat(Ece," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Pce=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,a=ba(e,vce);return ze("div",qe({},en(We(We({},a),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ze(Lv,{delay:0,offset:r}),ze(Lv,{delay:160,offset:!0}),ze(Lv,{delay:320,offset:!r}))},Ace=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,a=i.colors,l=i.borderRadius,c=i.spacing;return We({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:s?a.primary:a.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},Oce=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,a=e.innerProps,l=e.menuIsOpen;return ze("div",qe({ref:i},en(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),a,{"aria-disabled":r||void 0}),n)},_ce=Oce,Dce=["data"],Ice=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Lce=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,a=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return ze("div",qe({},en(e,"group",{group:!0}),c),ze(a,qe({},l,{selectProps:f,theme:d,getStyles:s,getClassNames:i,cx:r}),u),ze("div",null,n))},Rce=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return We({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Fce=function(e){var n=cR(e);n.data;var r=ba(n,Dce);return ze("div",qe({},en(e,"groupHeading",{"group-heading":!0}),r))},zce=Lce,Vce=["innerRef","isDisabled","isHidden","inputClassName"],$ce=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,a=i.spacing,l=i.colors;return We(We({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},Bce),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:l.neutral80})},yR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Bce={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":We({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},yR)},Hce=function(e){return We({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},yR)},Uce=function(e){var n=e.cx,r=e.value,s=cR(e),i=s.innerRef,a=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=ba(s,Vce);return ze("div",qe({},en(e,"input",{"input-container":!0}),{"data-value":r||""}),ze("input",qe({className:n({input:!0},c),ref:i,style:Hce(l),disabled:a},u)))},Wce=Uce,qce=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors;return We({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},Kce=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,a=e.cropWithEllipsis;return We({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Gce=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,a=r.colors,l=e.isFocused;return We({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},bR=function(e){var n=e.children,r=e.innerProps;return ze("div",r,n)},Yce=bR,Xce=bR;function Qce(t){var e=t.children,n=t.innerProps;return ze("div",qe({role:"button"},n),e||ze(US,{size:14}))}var Jce=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,a=e.isDisabled,l=e.removeProps,c=e.selectProps,u=r.Container,d=r.Label,f=r.Remove;return ze(u,{data:s,innerProps:We(We({},en(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:c},ze(d,{data:s,innerProps:We({},en(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),ze(f,{data:s,innerProps:We(We({},en(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},Zce=Jce,eue=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.theme,l=a.spacing,c=a.colors;return We({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},tue=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.innerRef,l=e.innerProps;return ze("div",qe({},en(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:a,"aria-disabled":r},l),n)},nue=tue,rue=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return We({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},sue=function(e){var n=e.children,r=e.innerProps;return ze("div",qe({},en(e,"placeholder",{placeholder:!0}),r),n)},iue=sue,aue=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,a=s.colors;return We({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},oue=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return ze("div",qe({},en(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},lue=oue,cue={ClearIndicator:Cce,Control:_ce,DropdownIndicator:Sce,DownChevron:gR,CrossIcon:US,Group:zce,GroupHeading:Fce,IndicatorsContainer:yce,IndicatorSeparator:Tce,Input:Wce,LoadingIndicator:Pce,Menu:sce,MenuList:ace,MenuPortal:hce,LoadingMessage:uce,NoOptionsMessage:cce,MultiValue:Zce,MultiValueContainer:Yce,MultiValueLabel:Xce,MultiValueRemove:Qce,Option:nue,Placeholder:iue,SelectContainer:mce,SingleValue:lue,ValueContainer:gce},uue=function(e){return We(We({},cue),e.components)},$6=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function due(t,e){return!!(t===e||$6(t)&&$6(e))}function hue(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!due(t[n],e[n]))return!1;return!0}function fue(t,e){e===void 0&&(e=hue);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var a=t.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}var mue={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},pue=function(e){return ze("span",qe({css:mue},e))},B6=pue,gue={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,a=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(n==="value"&&l)return"value ".concat(a," focused, ").concat(f(l,r),".");if(n==="menu"&&d){var p=c?" disabled":"",g="".concat(u?" selected":"").concat(p);return"".concat(a).concat(g,", ").concat(f(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},xue=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,a=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,p=c.getOptionLabel,g=c.inputValue,x=c.isMulti,v=c.isOptionDisabled,b=c.isSearchable,w=c.menuIsOpen,N=c.options,C=c.screenReaderStatus,M=c.tabSelectsValue,j=c.isLoading,A=c["aria-label"],P=c["aria-live"],E=T.useMemo(function(){return We(We({},gue),f||{})},[f]),_=T.useMemo(function(){var q="";if(n&&E.onChange){var F=n.option,B=n.options,$=n.removedValue,X=n.removedValues,H=n.value,V=function(ue){return Array.isArray(ue)?null:ue},Q=$||F||V(H),Z=Q?p(Q):"",ee=B||X||void 0,le=ee?ee.map(p):[],pe=We({isDisabled:Q&&v(Q,l),label:Z,labels:le},n);q=E.onChange(pe)}return q},[n,E,v,l,p]),L=T.useMemo(function(){var q="",F=r||s,B=!!(r&&l&&l.includes(r));if(F&&E.onFocus){var $={focused:F,label:p(F),isDisabled:v(F,l),isSelected:B,options:i,context:F===r?"menu":"value",selectValue:l,isAppleDevice:d};q=E.onFocus($)}return q},[r,s,p,v,E,i,l,d]),D=T.useMemo(function(){var q="";if(w&&N.length&&!j&&E.onFilter){var F=C({count:i.length});q=E.onFilter({inputValue:g,resultsMessage:F})}return q},[i,g,w,E,N,C,j]),R=n?.action==="initial-input-focus",G=T.useMemo(function(){var q="";if(E.guidance){var F=s?"value":w?"menu":"input";q=E.guidance({"aria-label":A,context:F,isDisabled:r&&v(r,l),isMulti:x,isSearchable:b,tabSelectsValue:M,isInitialFocus:R})}return q},[A,r,s,x,v,b,w,E,l,M,R]),U=ze(T.Fragment,null,ze("span",{id:"aria-selection"},_),ze("span",{id:"aria-focused"},L),ze("span",{id:"aria-results"},D),ze("span",{id:"aria-guidance"},G));return ze(T.Fragment,null,ze(B6,{id:u},R&&U),ze(B6,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!R&&U))},yue=xue,nw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],bue=new RegExp("["+nw.map(function(t){return t.letters}).join("")+"]","g"),vR={};for(var Rv=0;Rv<nw.length;Rv++)for(var Fv=nw[Rv],zv=0;zv<Fv.letters.length;zv++)vR[Fv.letters[zv]]=Fv.base;var wR=function(e){return e.replace(bue,function(n){return vR[n]})},vue=fue(wR),H6=function(e){return e.replace(/^\s+|\s+$/g,"")},wue=function(e){return"".concat(e.label," ").concat(e.value)},Nue=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=We({ignoreCase:!0,ignoreAccents:!0,stringify:wue,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,a=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?H6(r):r,f=c?H6(l(n)):l(n);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),a&&(d=vue(d),f=wR(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Sue=["innerRef"];function jue(t){var e=t.innerRef,n=ba(t,Sue),r=Xle(n,"onExited","in","enter","exit","appear");return ze("input",qe({ref:e},r,{css:VS({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Cue=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function kue(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,a=T.useRef(!1),l=T.useRef(!1),c=T.useRef(0),u=T.useRef(null),d=T.useCallback(function(b,w){if(u.current!==null){var N=u.current,C=N.scrollTop,M=N.scrollHeight,j=N.clientHeight,A=u.current,P=w>0,E=M-j-C,_=!1;E>w&&a.current&&(r&&r(b),a.current=!1),P&&l.current&&(i&&i(b),l.current=!1),P&&w>E?(n&&!a.current&&n(b),A.scrollTop=M,_=!0,a.current=!0):!P&&-w>C&&(s&&!l.current&&s(b),A.scrollTop=0,_=!0,l.current=!0),_&&Cue(b)}},[n,r,s,i]),f=T.useCallback(function(b){d(b,b.deltaY)},[d]),p=T.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),g=T.useCallback(function(b){var w=c.current-b.changedTouches[0].clientY;d(b,w)},[d]),x=T.useCallback(function(b){if(b){var w=Kle?{passive:!1}:!1;b.addEventListener("wheel",f,w),b.addEventListener("touchstart",p,w),b.addEventListener("touchmove",g,w)}},[g,p,f]),v=T.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",p,!1),b.removeEventListener("touchmove",g,!1))},[g,p,f]);return T.useEffect(function(){if(e){var b=u.current;return x(b),function(){v(b)}}},[e,x,v]),function(b){u.current=b}}var U6=["boxSizing","height","overflow","paddingRight","position"],W6={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function q6(t){t.cancelable&&t.preventDefault()}function K6(t){t.stopPropagation()}function G6(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Y6(){return"ontouchstart"in window||navigator.maxTouchPoints}var X6=!!(typeof window<"u"&&window.document&&window.document.createElement),Id=0,Fc={capture:!1,passive:!1};function Tue(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=T.useRef({}),i=T.useRef(null),a=T.useCallback(function(c){if(X6){var u=document.body,d=u&&u.style;if(r&&U6.forEach(function(x){var v=d&&d[x];s.current[x]=v}),r&&Id<1){var f=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+f||0;Object.keys(W6).forEach(function(x){var v=W6[x];d&&(d[x]=v)}),d&&(d.paddingRight="".concat(g,"px"))}u&&Y6()&&(u.addEventListener("touchmove",q6,Fc),c&&(c.addEventListener("touchstart",G6,Fc),c.addEventListener("touchmove",K6,Fc))),Id+=1}},[r]),l=T.useCallback(function(c){if(X6){var u=document.body,d=u&&u.style;Id=Math.max(Id-1,0),r&&Id<1&&U6.forEach(function(f){var p=s.current[f];d&&(d[f]=p)}),u&&Y6()&&(u.removeEventListener("touchmove",q6,Fc),c&&(c.removeEventListener("touchstart",G6,Fc),c.removeEventListener("touchmove",K6,Fc)))}},[r]);return T.useEffect(function(){if(e){var c=i.current;return a(c),function(){l(c)}}},[e,a,l]),function(c){i.current=c}}var Eue=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Mue={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Pue(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,a=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=kue({isEnabled:s,onBottomArrive:i,onBottomLeave:a,onTopArrive:l,onTopLeave:c}),d=Tue({isEnabled:n}),f=function(g){u(g),d(g)};return ze(T.Fragment,null,n&&ze("div",{onClick:Eue,css:Mue}),e(f))}var Aue={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Oue=function(e){var n=e.name,r=e.onFocus;return ze("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Aue,value:"",onChange:function(){}})},_ue=Oue;function WS(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Due(){return WS(/^iPhone/i)}function NR(){return WS(/^Mac/i)}function Iue(){return WS(/^iPad/i)||NR()&&navigator.maxTouchPoints>1}function Lue(){return Due()||Iue()}function Rue(){return NR()||Lue()}var Fue=function(e){return e.label},zue=function(e){return e.label},Vue=function(e){return e.value},$ue=function(e){return!!e.isDisabled},Bue={clearIndicator:jce,container:fce,control:Ace,dropdownIndicator:Nce,group:Ice,groupHeading:Rce,indicatorsContainer:xce,indicatorSeparator:kce,input:$ce,loadingIndicator:Mce,loadingMessage:lce,menu:tce,menuList:ice,menuPortal:dce,multiValue:qce,multiValueLabel:Kce,multiValueRemove:Gce,noOptionsMessage:oce,option:eue,placeholder:rue,singleValue:aue,valueContainer:pce},Hue={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Uue=4,SR=4,Wue=38,que=SR*2,Kue={baseUnit:SR,controlHeight:Wue,menuGutter:que},Vv={borderRadius:Uue,colors:Hue,spacing:Kue},Gue={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:z6(),captureMenuScroll:!z6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Nue(),formatGroupLabel:Fue,getOptionLabel:zue,getOptionValue:Vue,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:$ue,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Wle(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Q6(t,e,n,r){var s=kR(t,e,n),i=TR(t,e,n),a=CR(t,e),l=Hg(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:a,value:l,index:r}}function eg(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(a,l){return Q6(t,a,e,l)}).filter(function(a){return Z6(t,a)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=Q6(t,n,e,r);return Z6(t,i)?i:void 0}).filter(Gle)}function jR(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,IS(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function J6(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,IS(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Yue(t,e){return jR(eg(t,e))}function Z6(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,a=e.label,l=e.value;return(!MR(t)||!i)&&ER(t,{label:a,value:l,data:s},r)}function Xue(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function Que(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var $v=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},CR=function(e,n){return e.getOptionLabel(n)},Hg=function(e,n){return e.getOptionValue(n)};function kR(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function TR(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Hg(t,e);return n.some(function(s){return Hg(t,s)===r})}function ER(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var MR=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Jue=1,PR=(function(t){yoe(n,t);var e=woe(n);function n(r){var s;if(goe(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,f=d.onChange,p=d.name;u.name=p,s.ariaOnChange(c,u),f(c,u)},s.setValue=function(c,u,d){var f=s.props,p=f.closeMenuOnSelect,g=f.isMulti,x=f.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:x}),p&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,f=u.isMulti,p=u.name,g=s.state.selectValue,x=f&&s.isOptionSelected(c,g),v=s.isOptionDisabled(c,g);if(x){var b=s.getOptionValue(c);s.setValue(g.filter(function(w){return s.getOptionValue(w)!==b}),"deselect-option",c)}else if(!v)f?s.setValue([].concat(IS(g),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:p});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,f=s.getOptionValue(c),p=d.filter(function(x){return s.getOptionValue(x)!==f}),g=mp(u,p,p[0]||null);s.onChange(g,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(mp(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),p=mp(c,f,f[0]||null);d&&s.onChange(p,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return $v(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return J6(eg(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return Vle.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return CR(s.props,c)},s.getOptionValue=function(c){return Hg(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,f=Bue[c](u,d);f.boxSizing="border-box";var p=s.props.styles[c];return p?p(f,u):f},s.getClassNames=function(c,u){var d,f;return(d=(f=s.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return uue(s.props)},s.buildCategorizedOptions=function(){return eg(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return jR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:We({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,f=u.menuIsOpen;s.focusInput(),f?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Nx(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-s.initialTouchX),p=Math.abs(d.clientY-s.initialTouchY),g=5;s.userIsDragging=f>g||p>g}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return MR(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,f=u.backspaceRemovesValue,p=u.escapeClearsValue,g=u.inputValue,x=u.isClearable,v=u.isDisabled,b=u.menuIsOpen,w=u.onKeyDown,N=u.tabSelectsValue,C=u.openMenuOnFocus,M=s.state,j=M.focusedOption,A=M.focusedValue,P=M.selectValue;if(!v&&!(typeof w=="function"&&(w(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||g)return;s.focusValue("previous");break;case"ArrowRight":if(!d||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(A)s.removeValue(A);else{if(!f)return;d?s.popValue():x&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!b||!N||!j||C&&s.isOptionSelected(j,P))return;s.selectOption(j);break;case"Enter":if(c.keyCode===229)break;if(b){if(!j||s.isComposing)return;s.selectOption(j);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):x&&p&&s.clearValue();break;case" ":if(g)return;if(!b){s.openMenu("first");break}if(!j)return;s.selectOption(j);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Jue),s.state.selectValue=R6(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),a=s.buildFocusableOptions(),l=a.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=a[l],s.state.focusedOptionId=$v(i,a[l])}return s}return xoe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&F6(this.menuListRef,this.focusedOptionRef),Rue()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,a=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!a&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&a&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!a&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(F6(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,a=this.state,l=a.selectValue,c=a.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,a=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=a.indexOf(l);l||(c=-1);var u=a.length-1,d=-1;if(a.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:a[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(a);a||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Vv):We(We({},Vv),this.props.theme):Vv})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,a=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,p=f.isMulti,g=f.isRtl,x=f.options,v=this.hasValue();return{clearValue:s,cx:i,getStyles:a,getClassNames:l,getValue:c,hasValue:v,isMulti:p,isRtl:g,options:x,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,a=s.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(s,i){return kR(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return TR(this.props,s,i)}},{key:"filterOption",value:function(s,i){return ER(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:a,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,a=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,f=s.menuIsOpen,p=s.required,g=this.getComponents(),x=g.Input,v=this.state,b=v.inputIsHidden,w=v.ariaSelection,N=this.commonProps,C=l||this.getElementId("input"),M=We(We(We({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?w?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?T.createElement(x,qe({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:i,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},M)):T.createElement(jue,qe({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:$g,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},M))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),a=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,f=i.Placeholder,p=this.commonProps,g=this.props,x=g.controlShouldRenderValue,v=g.isDisabled,b=g.isMulti,w=g.inputValue,N=g.placeholder,C=this.state,M=C.selectValue,j=C.focusedValue,A=C.isFocused;if(!this.hasValue()||!x)return w?null:T.createElement(f,qe({},p,{key:"placeholder",isDisabled:v,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),N);if(b)return M.map(function(E,_){var L=E===j,D="".concat(s.getOptionLabel(E),"-").concat(s.getOptionValue(E));return T.createElement(a,qe({},p,{components:{Container:l,Label:c,Remove:u},isFocused:L,isDisabled:v,key:D,index:_,removeProps:{onClick:function(){return s.removeValue(E)},onTouchEnd:function(){return s.removeValue(E)},onMouseDown:function(G){G.preventDefault()}},data:E}),s.formatOptionLabel(E,"value"))});if(w)return null;var P=M[0];return T.createElement(d,qe({},p,{data:P,isDisabled:v}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,qe({},a,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,a=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return T.createElement(i,qe({},a,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,a=s.IndicatorSeparator;if(!i||!a)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return T.createElement(a,qe({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(i,qe({},a,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),a=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,f=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,x=this.commonProps,v=this.state.focusedOption,b=this.props,w=b.captureMenuScroll,N=b.inputValue,C=b.isLoading,M=b.loadingMessage,j=b.minMenuHeight,A=b.maxMenuHeight,P=b.menuIsOpen,E=b.menuPlacement,_=b.menuPosition,L=b.menuPortalTarget,D=b.menuShouldBlockScroll,R=b.menuShouldScrollIntoView,G=b.noOptionsMessage,U=b.onMenuScrollToTop,q=b.onMenuScrollToBottom;if(!P)return null;var F=function(Z,ee){var le=Z.type,pe=Z.data,ne=Z.isDisabled,ue=Z.isSelected,ge=Z.label,Se=Z.value,nt=v===pe,Ke=ne?void 0:function(){return s.onOptionHover(pe)},Pe=ne?void 0:function(){return s.selectOption(pe)},lt="".concat(s.getElementId("option"),"-").concat(ee),it={id:lt,onClick:Pe,onMouseMove:Ke,onMouseOver:Ke,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:ue};return T.createElement(g,qe({},x,{innerProps:it,data:pe,isDisabled:ne,isSelected:ue,key:lt,label:ge,type:le,value:Se,isFocused:nt,innerRef:nt?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(Z.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var Z=Q.data,ee=Q.options,le=Q.index,pe="".concat(s.getElementId("group"),"-").concat(le),ne="".concat(pe,"-heading");return T.createElement(a,qe({},x,{key:pe,data:Z,options:ee,Heading:l,headingProps:{id:ne,data:Q.data},label:s.formatGroupLabel(Q.data)}),Q.options.map(function(ue){return F(ue,"".concat(le,"-").concat(ue.index))}))}else if(Q.type==="option")return F(Q,"".concat(Q.index))});else if(C){var $=M({inputValue:N});if($===null)return null;B=T.createElement(f,x,$)}else{var X=G({inputValue:N});if(X===null)return null;B=T.createElement(p,x,X)}var H={minMenuHeight:j,maxMenuHeight:A,menuPlacement:E,menuPosition:_,menuShouldScrollIntoView:R},V=T.createElement(nce,qe({},x,H),function(Q){var Z=Q.ref,ee=Q.placerProps,le=ee.placement,pe=ee.maxHeight;return T.createElement(c,qe({},x,H,{innerRef:Z,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:C,placement:le}),T.createElement(Pue,{captureEnabled:w,onTopArrive:U,onBottomArrive:q,lockEnabled:D},function(ne){return T.createElement(u,qe({},x,{innerRef:function(ge){s.getMenuListRef(ge),ne(ge)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:s.getElementId("listbox")},isLoading:C,maxHeight:pe,focusedOption:v}),B)}))});return L||_==="fixed"?T.createElement(d,qe({},x,{appendTo:L,controlElement:this.controlRef,menuPlacement:E,menuPosition:_}),V):V}},{key:"renderFormField",value:function(){var s=this,i=this.props,a=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return T.createElement(_ue,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(a){var p=f.map(function(v){return s.getOptionValue(v)}).join(a);return T.createElement("input",{name:u,type:"hidden",value:p})}else{var g=f.length>0?f.map(function(v,b){return T.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(v)})}):T.createElement("input",{name:u,type:"hidden",value:""});return T.createElement("div",null,g)}else{var x=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:u,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,a=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,f=this.getFocusableOptions();return T.createElement(yue,qe({},s,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,a=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,f=u.id,p=u.isDisabled,g=u.menuIsOpen,x=this.state.isFocused,v=this.commonProps=this.getCommonProps();return T.createElement(l,qe({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:x}),this.renderLiveRegion(),T.createElement(i,qe({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:x,menuIsOpen:g}),T.createElement(c,qe({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(a,qe({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var a=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,f=i.prevWasFocused,p=i.instancePrefix,g=s.options,x=s.value,v=s.menuIsOpen,b=s.inputValue,w=s.isMulti,N=R6(x),C={};if(a&&(x!==a.value||g!==a.options||v!==a.menuIsOpen||b!==a.inputValue)){var M=v?Yue(s,N):[],j=v?J6(eg(s,N),"".concat(p,"-option")):[],A=l?Xue(i,N):null,P=Que(i,M),E=$v(j,P);C={selectValue:N,focusedOption:P,focusedOptionId:E,focusableOptionsWithIds:j,focusedValue:A,clearFocusValueOnUpdate:!1}}var _=c!=null&&s!==a?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},L=u,D=d&&f;return d&&!D&&(L={value:mp(w,N,N[0]||null),options:N,action:"initial-input-focus"},D=!f),u?.action==="initial-input-focus"&&(L=null),We(We(We({},C),_),{},{prevProps:s,ariaSelection:L,prevWasFocused:D})}}]),n})(T.Component);PR.defaultProps=Gue;var Zue=T.forwardRef(function(t,e){var n=poe(t);return T.createElement(PR,qe({ref:e},n))}),sa=Zue;function ede({openModalProduct:t,setOpenModalProduct:e,selectorderItems:n,products:r,setFilterProduct:s,setValue:i}){const[a,l]=T.useState(null),[c,u]=T.useState({productName:"",categoryId:void 0}),{data:d}=De({queryKey:["getAllCategory"],queryFn:ec}),f=()=>{s(g=>({...g,categoryId:c.categoryId,productName:c.productName}))},p=g=>{if(n.some(v=>v.variantId===g.variantId)){ce.error("Sn phm ny  c trong danh sch");return}i("orderItems",[...n,g],{shouldValidate:!0,shouldDirty:!0}),e(!1)};return o.jsxs(bt,{open:t,className:"relative w-[80rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(!1),children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[2rem]",children:"Chn sn phm"}),a?o.jsx(tde,{product:a,onBack:()=>l(null),onAdd:p}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] shadow-lg p-[2rem] border border-gray-100 rounded-xl",children:[o.jsx("input",{type:"text",name:"productName",placeholder:"Tn sn phm...",value:c.productName,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value}))}),o.jsxs("select",{name:"categoryId",id:"categoryId",value:c.categoryId,className:"w-[20rem] h-[4rem] rounded-lg border border-gray-300 text-gray-600 px-[1.5rem] outline-none",onChange:g=>u(x=>({...x,[g.target.name]:g.target.value})),children:[o.jsx("option",{value:"",children:"Danh mc"}),d?.map(g=>o.jsx("option",{value:g.id,children:g.categoryName},g.id))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white h-[4rem] rounded-lg border border-gray-300 px-[1.5rem] outline-none",onClick:()=>f(),children:[o.jsx(z,{icon:Ss}),o.jsx("span",{className:"block",children:"Lc"})]})]}),o.jsx("div",{className:"min-h-[28rem] max-h-[40rem] overflow-auto",children:r?.length>0?o.jsx("div",{className:"grid grid-cols-4 max-h-[40rem] gap-[2rem] mt-[2rem]",children:r?.map(g=>o.jsxs("div",{className:"border border-gray-200 shadow-lg rounded-xl p-4 hover:shadow-xl hover:scale-[1.02] hover-linear cursor-pointer group",onClick:()=>l(g),children:[o.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden",children:o.jsx("img",{src:g.mainImage,alt:g.productName,className:"w-full h-full object-cover"})}),o.jsx("h4",{className:"font-medium text-limit-1 text-gray-800 mb-1",children:g.productName}),o.jsxs("p",{className:"text-sm text-gray-500",children:[g.variants.length," phin bn"]}),o.jsx("p",{className:"text-[1.4rem] text-green-600 font-semibold mt-2",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g.price)})]},g.id))}):o.jsx("div",{className:"w-full text-center mt-[2rem]",children:"Khng c sn phm no"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] mt-[2rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:()=>e(!1),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",children:"Chn"})]})]})]})}function tde({product:t,onBack:e,onAdd:n}){const[r,s]=T.useState(null),[i,a]=T.useState(null),[l,c]=T.useState(1),u=()=>t.variants.find(w=>w.variantColor.id===i?.id&&w.variantSize.id===r?.id)?.inventory??0;T.useEffect(()=>{const b=u();if(!i||!r){c(1);return}c(w=>w>b?b>0?b:1:w)},[i,r]);const d=i&&r,f=t.variants.reduce((b,w)=>b+w.inventory,0),p=u(),g=T.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantColor.id,w.variantColor)),[...b.values()]},[t]),x=T.useMemo(()=>{const b=new Map;return t.variants.forEach(w=>b.set(w.variantSize.id,w.variantSize)),[...b.values()]},[t]),v=()=>{const b=t.category.categoryName?.toUpperCase()||"";return b.includes("giy")||b.includes("dp")?xN:vN};return o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:" Quay li"}),o.jsxs("div",{className:"flex gap-[2rem] w-full max-h-[55rem] overflow-y-auto hide-scrollbar",children:[o.jsx("div",{className:"w-[30rem] h-[30rem] rounded-xl ",children:o.jsx("img",{src:t.mainImage,alt:`imgage-${t.productName}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800 font-bold",children:t.productName}),o.jsxs("div",{className:"flex items-center gap-[.1rem] mt-[1rem]",children:[o.jsx(z,{icon:xs,className:"text-[1rem] text-amber-400"}),o.jsx(z,{icon:xs,className:"text-[1rem] text-amber-400"}),o.jsx(z,{icon:xs,className:"text-[1rem] text-amber-400"}),o.jsx(z,{icon:xs,className:"text-[1rem] text-amber-400"}),o.jsx(z,{icon:xs,className:"text-[1rem] text-amber-400"})]}),o.jsxs("div",{className:"mt-[1rem] flex items-center gap-[.5rem]",children:[o.jsx("span",{className:"text-gray-600",children:"Gi gc"}),o.jsx("span",{className:"text-green-600 text-[2rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.price)})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("span",{className:"block text-gray-600",children:"Chn mu:"}),o.jsx("div",{className:"flex items-center gap-[1rem] w-full flex-wrap mt-[.5rem]",children:g.map(b=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${i?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>a(b),children:[o.jsx(z,{icon:v(),className:"bg-gray-100 p-[.2rem]",style:{color:b.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:b.name})]},b.id))}),o.jsx("span",{className:"block text-gray-600 mt-[2rem]",children:"Chn size:"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap mt-[.5rem]",children:x?.map(b=>{const w=i?t.variants.find(N=>N.variantColor.id===i.id&&N.variantSize.id===b?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[2rem] py-[.6rem] border rounded-[.5rem] ${w?r?.id===b.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!w,onClick:()=>s(b),children:o.jsx("span",{className:"text-[1.4rem]",children:b.name})},b.id)})}),o.jsxs("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:[o.jsx("span",{className:"block text-gray-600 ",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{i&&r&&c(b=>Math.max(1,b-1))},children:o.jsx(z,{icon:Rl,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:l,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!d,onChange:b=>c(Number(b.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${d?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{r&&i&&c(b=>Math.min(Number(t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r?.id)?.inventory),Number(b)+1))},children:o.jsx(z,{icon:ha,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1.4rem] text-gray-600 uppercase select-none",children:d?`Cn ${p} sn phm`:f>0?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex justify-end items-center mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-gray-200 hover:bg-gray-300 rounded-[.5rem] hover-linear select-none",onClick:e,children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-[var(--main-button)] text-white hover:bg-[var(--main-button-hover)] rounded-[.5rem] hover-linear",onClick:()=>{if(!i||!r){ce.error("Vui lng chn mu sc v size!");return}const b=t.variants.find(w=>w.variantColor.id===i.id&&w.variantSize.id===r.id);if(!b){ce.error("Sn phm khng tn ti trong kho!");return}n({productId:t.id,variantId:b.id,quantity:l,price:b.price??t.price})},children:"Chn"})]})]})]})]})}function nde({open:t,onClose:e,refetch:n}){const{register:r,handleSubmit:s,control:i,setValue:a,watch:l,formState:{errors:c,isSubmitting:u},reset:d}=Hs({resolver:BL(aoe),defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerProvince:"",customerDistrict:"",customerWard:"",customerNote:"",paymentMethod:Kr.COD,couponCode:"",orderItems:[]},mode:"onSubmit",reValidateMode:"onChange"}),{data:f}=De({queryKey:["province"],queryFn:DS}),[p,g]=T.useState({page:1,limit:20,productName:"",categoryId:void 0}),{data:x}=De({queryKey:["products",p],queryFn:ux}),[v,b]=T.useState(!1),w=l("customerProvince"),N=l("customerDistrict"),C=l("orderItems"),j=f?.find(F=>F.name===w)?.districts??[],P=j.find(F=>F.name===N)?.wards??[],E=f?.map(F=>({value:F.name,label:F.name})),_=j?.map(F=>({value:F.name,label:F.name})),L=P?.map(F=>({value:F.name,label:F.name})),R=C.reduce((F,B)=>{const $=x?.find(V=>V.id===B.productId),H=$?.variants.find(V=>V.id===B.variantId)?.price??$?.price??0;return F+H*B.quantity},0),G=async F=>{try{const B=await he.post("/api/v1/orders/create",F);B.status?(ce.success(B.message||"To n hng thnh cng"),await n(),e()):ce.error(B.message||"To n hng tht bi")}catch(B){console.log(B),ce.error(B.message||"Li khng th t hng! ")}},U=(F,B)=>{const $=[...C],X=$[F];B==="decre"?X.quantity>1&&(X.quantity-=1):X.quantity+=1,a("orderItems",$,{shouldValidate:!0,shouldDirty:!0})},q=F=>{const B=C.filter(($,X)=>X!==F);a("orderItems",B,{shouldValidate:!0,shouldDirty:!0})};return o.jsxs(bt,{open:t,className:"relative w-[80%] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e(),d()},children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-green-600 text-center font-semibold mb-[3rem]",children:"To n hng"}),o.jsxs("form",{onSubmit:s(G),children:[o.jsxs("div",{className:"flex max-h-[55rem] overflow-auto",children:[o.jsxs("div",{className:"w-[45%] pr-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin sn phm"}),o.jsx("label",{className:"text-gray-600",children:"Thm sn phm"}),o.jsxs("div",{className:"w-full h-[10rem] mt-[.5rem] flex flex-col items-center justify-center border-[.3rem] border-gray-300 border-dashed rounded-xl text-gray-600 cursor-pointer",onClick:()=>b(!0),children:[o.jsx(z,{icon:Qr,className:"text-[2rem] text-gray-500"}),o.jsx("span",{children:"Thm sn phm"})]}),c.orderItems&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.orderItems.message}),o.jsxs("label",{className:"block text-gray-600 mt-[2rem]",children:["Sn phm  chn (",C.length,")"]}),C.length===0&&o.jsx("div",{className:"p-[1.5rem] text-gray-500 text-center",children:"Cha c sn phm no"}),o.jsx("div",{className:"mt-[1rem] w-full max-h-[30rem] overflow-x-auto",children:o.jsx("div",{className:"min-w-[48rem] space-y-2",children:C.map((F,B)=>{const $=x.find(V=>V.id===F.productId),X=$.variants.find(V=>V.id===F.variantId),H=X?.price??$.price;return o.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border border-gray-300 rounded-xl bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[18rem]",children:[o.jsx("img",{src:$.mainImage,alt:`main image ${$.productName}`,className:"w-[4rem] h-[4rem] rounded-md object-cover"}),o.jsxs("div",{className:"max-w-[15rem]",children:[o.jsx("h5",{className:"text-gray-800 text-[1.4rem] text-limit-1",children:$.productName}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] border-r border-gray-500",children:["Size: ",X?.variantSize.name]}),o.jsxs("span",{className:"text-gray-500 text-[1rem] pr-[.5rem] pl-[.5rem]",children:["Mu: ",X?.variantColor.name]})]}),o.jsx("span",{className:"text-[1.2rem] text-green-800 ",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(H)})]})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] min-w-[8rem]",children:[o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>U(B,"decre"),children:o.jsx(z,{icon:Rl,className:"text-[1rem]"})}),o.jsx("input",{type:"number",id:`quantity-${B}`,name:`quantity-${B}`,value:F.quantity,className:"w-[3.5rem] h-[2.5rem] rounded-lg border border-gray-300 outline-none text-[1rem] pl-[.5rem]"}),o.jsx("span",{className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-200 cursor-pointer",onClick:()=>U(B,"incre"),children:o.jsx(z,{icon:ha,className:"text-[1rem]"})})]}),o.jsxs("div",{className:"flex items-center gap-[1rem] min-w-[8rem]",children:[o.jsx("span",{className:"text-[1.4rem] select-none",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(H*F.quantity)}),o.jsx("button",{type:"button",className:"w-[2.5rem] h-[2.5rem] flex items-center justify-center rounded-lg bg-red-100 cursor-pointer",onClick:()=>q(B),children:o.jsx(z,{icon:Ou,className:"text-[1.2rem] text-red-400"})})]})]},B)})})}),o.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-sm p-6 mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)})]}),o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium block mb-3",children:"M gim gi:"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"text",id:"couponCode",placeholder:"Nhp m gim gi",className:"flex-1 h-[4rem] px-4 outline-none border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),o.jsx("button",{type:"button",className:"w-28 h-[4rem] text-[1.4rem] font-medium rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transition-all shadow-sm hover:shadow-md",children:"p dng"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-3 mt-2",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem] font-medium",children:"Gim gi:"}),o.jsx("span",{className:"text-red-500 font-semibold",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(0)})]}),o.jsxs("div",{className:"py-3 border-t border-gray-200 mt-4 pt-4",children:[o.jsx("h4",{className:"text-[1.4rem] text-gray-800 font-bold mb-2",children:"Phng thc thanh ton"}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs",children:""})}),o.jsx("p",{className:"text-[1.4rem]",children:"Thanh ton khi nhn hng (COD)"})]})]}),o.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-gray-200 mt-4 pt-4 bg-gray-50 -mx-6 px-6 rounded-b-xl",children:[o.jsx("span",{className:"text-gray-800 font-bold text-[1.8rem]",children:"Tng thanh ton:"}),o.jsx("span",{className:"text-green-600 font-bold text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)})]})]})]}),o.jsxs("div",{className:"w-[55%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-600 font-semibold mb-[1.5rem]",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerName",className:"text-gray-600",children:"Tn khch hng"}),o.jsx("input",{type:"text",id:"customerName",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerName")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email khch hng"}),o.jsx("input",{type:"email",id:"customerEmail",placeholder:"Tn khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem]  focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerEmail")}),c.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerEmail.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",id:"customerPhone",placeholder:"St khch hng...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerPhone")}),c.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerName.message})]})}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem]  mt-[.5rem]",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(pi,{control:i,name:"customerProvince",render:({field:F})=>o.jsx(sa,{...F,options:E,placeholder:"Tnh...",isSearchable:!0,value:E?.find(B=>B.value===F.value)||null,onChange:B=>{F.onChange(B?.value),a("customerDistrict",""),a("customerWard","")},styles:{control:(B,$)=>({...B,height:"4rem"})},theme:B=>({...B,colors:{...B.colors,primary:"cyan"}})})}),c.customerProvince&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerProvince.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(pi,{control:i,name:"customerDistrict",render:({field:F})=>o.jsx(sa,{...F,options:_,placeholder:"Huyn...",isSearchable:!0,value:_?.find(B=>B.value===F.value)||null,onChange:B=>{F.onChange(B?.value),a("customerWard","")},styles:{control:B=>({...B,height:"4rem"})},theme:B=>({...B,colors:{...B.colors,primary:"cyan"}})})}),c.customerDistrict&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerDistrict.message})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(pi,{control:i,name:"customerWard",render:({field:F})=>o.jsx(sa,{...F,options:L,placeholder:"Phng...",isSearchable:!0,value:L?.find(B=>B.value===F.value)||null,onChange:B=>{F.onChange(B?.value)},styles:{control:B=>({...B,height:"4rem"})},theme:B=>({...B,colors:{...B.colors,primary:"cyan"}})})}),c.customerWard&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerWard.message})]})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"customerAddress",className:"text-gray-600",children:"Tn ng / x / s nh"}),o.jsx("input",{type:"text",id:"customerAddress",placeholder:"...",className:"w-full h-[4rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerAddress")}),c.customerAddress&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerAddress.message})]}),o.jsx("div",{className:"flex items-center gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerNote",className:"text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{id:"customerNote",placeholder:"Ghi ch...",rows:3,className:"w-full rounded-lg border border-gray-300 outline-none px-[1.5rem] pt-[.5rem] focus:border-[.2rem] focus:border-cyan-300 mt-[.5rem]",...r("customerNote")}),c.customerNote&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:c.customerNote.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[2rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e(),d()},disabled:u,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:u,children:u?"ang to...":"To"})]})]}),o.jsx(ede,{openModalProduct:v,setOpenModalProduct:b,selectorderItems:C,products:x,setFilterProduct:g,setValue:a})]})}const Bn=t=>({[_e.PENDING]:{text:"Ch xc nhn",bgColor:"bg-amber-100",textColor:"text-amber-600",borderColor:"border-amber-200"},[_e.CONFIRMED]:{text:" xc nhn",bgColor:"bg-blue-100",textColor:"text-blue-600",borderColor:"border-blue-200"},[_e.SHIPPING]:{text:"ang giao",bgColor:"bg-indigo-100",textColor:"text-indigo-600",borderColor:"border-indigo-200"},[_e.DELIVERED]:{text:" giao",bgColor:"bg-emerald-100",textColor:"text-emerald-600",borderColor:"border-emerald-200"},[_e.COMPLETED]:{text:"Hon thnh",bgColor:"bg-green-100",textColor:"text-green-600",borderColor:"border-green-200"},[_e.CANCELLED]:{text:" hy",bgColor:"bg-red-100",textColor:"text-red-600",borderColor:"border-red-200"}})[t]||{text:t,bgColor:"bg-gray-50",textColor:"text-gray-600",borderColor:"border-gray-200"};function AR({open:t,onClose:e,orderData:n,refetch:r}){const[s,i]=T.useState(null),[a,l]=T.useState(!1);T.useEffect(()=>{n&&i(n.status)},[n]);const c=async()=>{if(!n?.id){ce.error("Khng c id ca sn phm");return}l(!0);try{const u=await he.patch(`/api/v1/orders/update-status/${n?.id}`,{status:s});u.status?(ce.success(u.message||"Cp nht thnh cng!"),await r(),e()):(ce.error(u.message||"Cp nht khng thnh cng!"),e())}catch(u){console.log(u),e(),ce.error(u.message||"Li khng th cp nht trng thi!")}finally{l(!1)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsx("h2",{className:"text-[2rem] text-amber-600 text-center font-semibold mb-[2rem]",children:"Cp nht trng thi"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-600",children:"Trng thi n hng"}),o.jsx("select",{name:"status",id:"status",value:s??void 0,className:"w-full h-[4rem] rounded-lg border border-gray-300 mt-[.5rem] outline-none pl-[1.5rem] text-gray-600",onChange:u=>i(u.target.value),children:Object.entries(_e).map(([u,d])=>o.jsx("option",{value:d,children:Bn(d).text},u))})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:a,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",disabled:a,onClick:()=>c(),children:a?"ang cp nht...":"Cp nht"})]})]})}var tg={exports:{}},rde=tg.exports,eM;function sde(){return eM||(eM=1,(function(t,e){(function(n,r){t.exports=r(Yl())})(typeof self<"u"?self:rde,function(n){return(function(){var r={155:function(N){N.exports=n}},s={};function i(N){var C=s[N];if(C!==void 0)return C.exports;var M=s[N]={exports:{}};return r[N](M,M.exports,i),M.exports}i.d=function(N,C){for(var M in C)i.o(C,M)&&!i.o(N,M)&&Object.defineProperty(N,M,{enumerable:!0,get:C[M]})},i.o=function(N,C){return Object.prototype.hasOwnProperty.call(N,C)},i.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{useReactToPrint:function(){return w}});var l=i(155);const c="printWindow";function u({level:N="error",messages:C,suppressErrors:M=!1}){M||(N==="error"?console.error(C):N==="warning"?console.warn(C):console.debug(C))}function d(N,C){if(C||!N){const M=document.getElementById(c);M&&document.body.removeChild(M)}}function f(N){return N instanceof Error?N:new Error("Unknown Error")}function p(N,C){const{documentTitle:M,onAfterPrint:j,onPrintError:A,preserveAfterPrint:P,print:E,suppressErrors:_}=C;setTimeout(()=>{var L,D;if(N.contentWindow){let G=function(){j?.(),d(P)};var R=G;if(N.contentWindow.focus(),E)E(N).then(G).catch(U=>{A?A("print",f(U)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:_})});else{if(N.contentWindow.print){const U=(D=(L=N.contentDocument)===null||L===void 0?void 0:L.title)!==null&&D!==void 0?D:"",q=N.ownerDocument.title;M&&(N.ownerDocument.title=M,N.contentDocument&&(N.contentDocument.title=M)),N.contentWindow.print(),M&&(N.ownerDocument.title=q,N.contentDocument&&(N.contentDocument.title=U))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:_});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(U=>{var q,F;return((F=(q=navigator.userAgent)!==null&&q!==void 0?q:navigator.vendor)!==null&&F!==void 0?F:"opera"in window&&window.opera).match(U)})?setTimeout(G,500):G()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:_})},500)}function g(N){const C=[],M=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let j=M.nextNode();for(;j;)C.push(j),j=M.nextNode();return C}function x(N,C,M){const j=g(N),A=g(C);if(j.length===A.length)for(let P=0;P<j.length;P++){const E=j[P],_=A[P],L=E.shadowRoot;if(L!==null){const D=_.attachShadow({mode:L.mode});D.innerHTML=L.innerHTML,x(L,D,M)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,C],suppressErrors:M})}const v=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(N,C,M,j){var A,P,E,_,L;const{contentNode:D,clonedContentNode:R,clonedImgNodes:G,clonedVideoNodes:U,numResourcesToLoad:q,originalCanvasNodes:F}=M,{bodyClass:B,fonts:$,ignoreGlobalStyles:X,pageStyle:H,nonce:V,suppressErrors:Q,copyShadowRoots:Z}=j;N.onload=null;const ee=(A=N.contentDocument)!==null&&A!==void 0?A:(P=N.contentWindow)===null||P===void 0?void 0:P.document;if(ee){const le=ee.body.appendChild(R);Z&&x(D,le,!!Q),$&&(!((E=N.contentDocument)===null||E===void 0)&&E.fonts&&(!((_=N.contentWindow)===null||_===void 0)&&_.FontFace)?$.forEach(Ke=>{const Pe=new FontFace(Ke.family,Ke.source,{weight:Ke.weight,style:Ke.style});N.contentDocument.fonts.add(Pe),Pe.loaded.then(()=>{C(Pe)}).catch(lt=>{C(Pe,["Failed loading the font:",Pe,"Load error:",f(lt)])})}):($.forEach(Ke=>{C(Ke)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:Q})));const pe=H??v,ne=ee.createElement("style");V&&(ne.setAttribute("nonce",V),ee.head.setAttribute("nonce",V)),ne.appendChild(ee.createTextNode(pe)),ee.head.appendChild(ne),B&&ee.body.classList.add(...B.split(" "));const ue=ee.querySelectorAll("canvas");for(let Ke=0;Ke<F.length;++Ke){const Pe=F[Ke],lt=ue[Ke];if(lt===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Pe],suppressErrors:Q});continue}const it=lt.getContext("2d");it&&it.drawImage(Pe,0,0)}for(let Ke=0;Ke<G.length;Ke++){const Pe=G[Ke],lt=Pe.getAttribute("src");if(lt){const it=new Image;it.onload=()=>{C(Pe)},it.onerror=(gt,Rt,gr,yn,K)=>{C(Pe,["Error loading <img>",Pe,"Error",K])},it.src=lt}else C(Pe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Pe])}for(let Ke=0;Ke<U.length;Ke++){const Pe=U[Ke];Pe.preload="auto";const lt=Pe.getAttribute("poster");if(lt){const it=new Image;it.onload=()=>{C(Pe)},it.onerror=(gt,Rt,gr,yn,K)=>{C(Pe,["Error loading video poster",lt,"for video",Pe,"Error:",K])},it.src=lt}else Pe.readyState>=2?C(Pe):Pe.src?(Pe.onloadeddata=()=>{C(Pe)},Pe.onerror=(it,gt,Rt,gr,yn)=>{C(Pe,["Error loading video",Pe,"Error",yn])},Pe.onstalled=()=>{C(Pe,["Loading video stalled, skipping",Pe])}):C(Pe,["Error loading video, `src` is empty",Pe])}const ge="select",Se=D.querySelectorAll(ge),nt=ee.querySelectorAll(ge);for(let Ke=0;Ke<Se.length;Ke++)nt[Ke].value=Se[Ke].value;if(!X){const Ke=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Pe=0,lt=Ke.length;Pe<lt;++Pe){const it=Ke[Pe];if(it.tagName.toLowerCase()==="style"){const gt=ee.createElement(it.tagName),Rt=it.sheet;if(Rt){let gr="";try{const yn=Rt.cssRules.length;for(let K=0;K<yn;++K)typeof Rt.cssRules[K].cssText=="string"&&(gr+=`${Rt.cssRules[K].cssText}\r
`)}catch(yn){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",it,`Original error: ${f(yn).message}`],level:"warning"})}gt.setAttribute("id",`react-to-print-${Pe}`),V&&gt.setAttribute("nonce",V),gt.appendChild(ee.createTextNode(gr)),ee.head.appendChild(gt)}}else if(it.getAttribute("href"))if(it.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",it],level:"warning"}),C(it);else{const gt=ee.createElement(it.tagName);for(let Rt=0,gr=it.attributes.length;Rt<gr;++Rt){const yn=it.attributes[Rt];yn&&gt.setAttribute(yn.nodeName,(L=yn.nodeValue)!==null&&L!==void 0?L:"")}gt.onload=()=>{C(gt)},gt.onerror=(Rt,gr,yn,K,re)=>{C(gt,["Failed to load",gt,"Error:",re])},V&&gt.setAttribute("nonce",V),ee.head.appendChild(gt)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",it],level:"warning"}),C(it)}}}q===0&&p(N,j)}function w({bodyClass:N,contentRef:C,copyShadowRoots:M,documentTitle:j,fonts:A,ignoreGlobalStyles:P,nonce:E,onAfterPrint:_,onBeforePrint:L,onPrintError:D,pageStyle:R,preserveAfterPrint:G,print:U,printIframeProps:q,suppressErrors:F}){return(0,l.useCallback)($=>{function X(){const H={bodyClass:N,contentRef:C,copyShadowRoots:M,documentTitle:j,fonts:A,ignoreGlobalStyles:P,nonce:E,onAfterPrint:_,onPrintError:D,pageStyle:R,preserveAfterPrint:G,print:U,suppressErrors:F},V=(function(ee){const le=document.createElement("iframe");return le.width=`${document.documentElement.clientWidth}px`,le.height=`${document.documentElement.clientHeight}px`,le.style.position="absolute",le.style.top=`-${document.documentElement.clientHeight+100}px`,le.style.left=`-${document.documentElement.clientWidth+100}px`,le.id=c,le.srcdoc="<!DOCTYPE html>",ee&&(ee.allow&&(le.allow=ee.allow),ee.referrerPolicy!==void 0&&(le.referrerPolicy=ee.referrerPolicy),ee.sandbox!==void 0&&(le.sandbox=ee.sandbox)),le})(q),Q=(function(ee,le){const{contentRef:pe,fonts:ne,ignoreGlobalStyles:ue,suppressErrors:ge}=le,Se=(function({contentRef:gt,optionalContent:Rt,suppressErrors:gr}){return Rt&&typeof Rt=="function"?(gt&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Rt()):gt?gt.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:gr})})({contentRef:pe,optionalContent:ee,suppressErrors:ge});if(!Se)return;const nt=Se.cloneNode(!0),Ke=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Pe=nt.querySelectorAll("img"),lt=nt.querySelectorAll("video"),it=ne?ne.length:0;return{contentNode:Se,clonedContentNode:nt,clonedImgNodes:Pe,clonedVideoNodes:lt,numResourcesToLoad:(ue?0:Ke.length)+Pe.length+lt.length+it,originalCanvasNodes:Se.querySelectorAll("canvas")}})($,H);if(!Q)return void u({messages:["There is nothing to print"],suppressErrors:F});const Z=(function(ee,le,pe){const{suppressErrors:ne}=ee,ue=[],ge=[];return function(Se,nt){ue.includes(Se)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",Se],suppressErrors:ne}):(nt?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...nt],suppressErrors:ne}),ge.push(Se)):ue.push(Se),ue.length+ge.length===le&&p(pe,ee))}})(H,Q.numResourcesToLoad,V);(function(ee,le,pe,ne){ee.onload=()=>{b(ee,le,pe,ne)},document.body.appendChild(ee)})(V,Z,Q,H)}d(G,!0),L?L().then(()=>{X()}).catch(H=>{D?.("onBeforePrint",f(H))}):X()},[N,C,M,j,A,P,E,_,L,D,R,G,U,F])}return a})()})})(tg)),tg.exports}var ide=sde();const OR=ye.forwardRef(({order:t},e)=>{const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=t.orderItems?.reduce((i,a)=>{const l=a.variant?.price!==null&&a.variant?.price!==void 0?a.variant.price:a.variant?.product?.price||0;return i+l*a.quantity},0)||0;return o.jsxs("div",{ref:e,style:{padding:"2rem"},className:"print-container",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-[2.2rem] font-bold mb-2",children:"NTK.SHOP"}),o.jsx("p",{className:"text-gray-700 mb-1",children:"phng L Bnh, Qun Ci Rng, TP. Cn Th"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"T: 0357 124 853"}),o.jsx("h2",{className:"text-[2.2rem] font-bold",children:"HA N THANH TON"})]}),o.jsxs("div",{className:"flex justify-between items-start mt-[4rem] mb-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy in:"}),o.jsx("span",{className:"font-semibold",children:r(new Date().toISOString())})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Khch hng:"}),o.jsx("span",{className:"font-semibold",children:t.customerName||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Email:"}),o.jsx("span",{className:"font-semibold",children:t.customerEmail||"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"S in thoi:"}),o.jsx("span",{className:"font-semibold",children:t.customerPhone||"N/A"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"Ngy t hng:"}),o.jsx("span",{className:"font-semibold",children:t.createdAt?r(t.createdAt):"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:"M n hng:"}),o.jsx("span",{className:"font-semibold",children:t.orderCode||"N/A"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{children:"a ch giao hng:"}),o.jsxs("span",{className:"font-semibold max-w-[20rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx("p",{className:"font-semibold text-gray-700",children:"Thng tin sn phm:"})}),o.jsxs("table",{className:"w-full border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Mt hng"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(i=>{const a=i.variant?.product,l=i.variant?.price!==null&&i.variant?.price!==void 0?i.variant.price:a?.price||0,c=l*i.quantity;return o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:o.jsxs("div",{className:"max-w-[30rem]",children:[o.jsx("p",{className:"font-medium text-gray-900",children:a?.productName||"Sn phm khng xc nh"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsxs("span",{className:"text-gray-600 pr-[.5rem] mr-[.5rem] border-r border-gray-400",children:["Size: ",i.variant?.variantSize?.name||"N/A"]}),o.jsxs("span",{className:"text-gray-600",children:["Color: ",i.variant?.variantColor?.name||"N/A"]})]})]})}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:n(l)}),o.jsxs("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:["x",i.quantity]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:n(c)})]},i.id)})})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsxs("div",{className:"w-80 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Tm tnh:"}),o.jsx("span",{className:"font-medium",children:n(s)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Ph vn chuyn:"}),o.jsx("span",{className:"font-medium",children:n(0)})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-medium",children:"Gim gi:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-",n(0)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-300",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold",children:n(s)})]})]})}),o.jsxs("div",{className:"mt-12 text-center space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-300",children:[o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi mua hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Ngi bn hng"}),o.jsx("p",{className:"text-gray-600 italic",children:"(K v ghi r h tn)"})]})]}),o.jsx("p",{className:"text-gray-700 italic mt-8",children:"Cm n qu khch  mua hng ti NTK.SHOP!"})]})]})});OR.displayName="InvoicePrint";const tM=[{key:_e.PENDING,label:"Ch xc nhn",desc:"n hng ang ch xc nhn",icon:Mh,color:"bg-blue-500"},{key:_e.CONFIRMED,label:" xc nhn",desc:"n hng ang c chun b",icon:bN,color:"bg-orange-500"},{key:_e.SHIPPING,label:"ang giao hng",desc:"n hng ang c vn chuyn",icon:ex,color:"bg-purple-500"},{key:_e.COMPLETED,label:" giao hng",desc:"n hng  c giao thnh cng",icon:hu,color:"bg-green-500"}];function ade({orderDetail:t,setOrderDetail:e,refetch:n}){const[r,s]=T.useState({open:!1,data:null}),i=T.useRef(null),[a,l]=T.useState({shippingProvider:"",trackingNumber:"",shippingNote:""}),[c,u]=T.useState(null),[d,f]=T.useState(!0),p=ide.useReactToPrint({contentRef:i,documentTitle:`n hng #${t.orderCode}`});T.useEffect(()=>{t.shippingProvider&&t.trackingNumber&&(l({shippingProvider:t.shippingProvider||"",shippingNote:t.shippingNote||"",trackingNumber:t.trackingNumber||""}),f(!1))},[t]);const g=b=>{const{name:w,value:N}=b.target;l(C=>({...C,[w]:N}))},x=async()=>{try{if(a.shippingProvider===""){u("Vui lng chn nh vn chuyn!");return}if(a.trackingNumber===""){u("Vui lng nhp m n vn!");return}const b=await he.patch(`/api/v1/orders/update-shipping/${t.id}`,a);b.status&&(ce.success(b.message),f(!1))}catch(b){ce.error(b.message)}},v=t.orderItems.reduce((b,w)=>b+w.price*w.quantity,0);return o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-start border-b-[.1rem] border-b-gray-300 pb-[2rem] mb-[2rem]",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-[2rem] font-semibold text-gray-600 mb-2",children:["Chi tit n hng #",t.orderCode]}),o.jsxs("button",{onClick:()=>e(null),className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 hover-linear cursor-pointer",children:[o.jsx(z,{icon:yi}),o.jsx("span",{children:"Quay li danh sch"})]})]}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsx("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-[1.4rem] font-medium ${Bn(t.status).bgColor} ${Bn(t.status).textColor}`,children:Bn(t.status).text})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[o.jsxs("div",{className:"col-span-2 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin giao hng"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ngi nhn:"}),o.jsx("span",{className:"text-gray-800 font-semibold",children:t.customerName})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"S in thoi:"}),o.jsx("span",{className:"text-gray-800",children:t.customerPhone})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Email:"}),o.jsx("span",{className:"text-gray-800",children:t.customerEmail})]}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"a ch:"}),o.jsxs("span",{className:"text-gray-800 flex-1",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]}),t.customerNote&&o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"w-[14rem] text-gray-600 font-medium",children:"Ghi ch:"}),o.jsx("span",{className:"text-gray-800 flex-1 italic",children:t.customerNote})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-[2rem] border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin vn chuyn"}),o.jsxs("div",{className:"space-y-[1rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-start gap-[2rem] space-y-2.5",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingProvider",children:"Nh vn chuyn"}),o.jsxs("select",{name:"shippingProvider",id:"shippingProvider",value:a.shippingProvider,className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",onChange:b=>g(b),disabled:!d,children:[o.jsx("option",{value:"",children:"-Chn nh vn chuyn-"}),Object.entries(AA).map(([b,w],N)=>o.jsx("option",{value:b,children:w.text},N))]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"trackingNumber",children:"M vn n"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"trackingNumber",name:"trackingNumber",value:a.trackingNumber,placeholder:"Nhp m vn n...",onChange:b=>g(b),disabled:!d})]})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"shippingNote",children:"Ghi ch vn chuyn"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] px-[1.5rem] rounded-md border border-gray-300 mt-1 outline-none",id:"shippingNote",name:"shippingNote",value:a.shippingNote,placeholder:"Ghi ch vn chuyn...",onChange:b=>g(b),disabled:!d})]}),c&&o.jsx("p",{className:"text-red-500",children:c}),t.shippingProvider&&t.trackingNumber?o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==_e.COMPLETED&&o.jsx(o.Fragment,{children:d?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-white px-6 py-3 bg-green-500 rounded-lg hover:bg-green-600",onClick:x,children:"Lu thay i"}),o.jsx("button",{className:"text-gray-600 px-6 py-3 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>f(!1),children:"Hy"})]}):o.jsxs("button",{className:"text-white px-4 py-3 bg-amber-500 rounded-lg hover:bg-amber-600 flex items-center gap-2",onClick:()=>f(!0),children:[o.jsx(z,{icon:Bs}),"Chnh sa"]})})}):o.jsx("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:t.status!==_e.COMPLETED&&o.jsx("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>x(),children:"Cp nht vn chuyn"})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 px-[2rem] py-[1.5rem] border-b border-gray-200",children:"Sn phm t mua"}),o.jsx("div",{className:"p-[2rem]",children:o.jsxs("table",{className:"w-full text-[1.4rem]",children:[o.jsx("thead",{className:"border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left pb-3 text-gray-600 font-semibold",children:"Sn phm"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"n gi"}),o.jsx("th",{className:"text-center pb-3 text-gray-600 font-semibold",children:"S lng"}),o.jsx("th",{className:"text-right pb-3 text-gray-600 font-semibold",children:"Thnh tin"})]})}),o.jsx("tbody",{children:t.orderItems?.map(b=>{const w=b.variant.product;return o.jsxs("tr",{className:"border-b border-gray-100",children:[o.jsx("td",{className:"py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx("img",{src:w.mainImage||"/placeholder.jpg",alt:w.productName,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"max-w-[20rem]",children:[o.jsx("div",{className:"font-medium text-gray-800 text-limit-1",children:w.productName}),o.jsxs("div",{className:"flex items-center text-gray-500",children:[o.jsxs("span",{className:"text-[1.2rem]",children:["Size:",b.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] pl-[1rem] ml-[1rem] border-l border-l-gray-500",children:["Mu:",b.variant.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center text-gray-600",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b.price)}),o.jsxs("td",{className:"text-center text-gray-600",children:["x",b.quantity]}),o.jsx("td",{className:"text-right font-semibold text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(b.price)*Number(b.quantity))})]},b.id)})})]})})]})]}),o.jsxs("div",{className:"space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-[1.2rem] text-[1.4rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-gray-800",children:v})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-gray-800",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.shippingFee)})]}),t.couponCode&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsxs("span",{children:["M gim gi (",t.couponCode,"):"]}),o.jsx("span",{children:"-0"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem] flex justify-between",children:[o.jsx("span",{className:"font-semibold text-gray-700 text-[1.5rem]",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.8rem] text-[var(--main-button)]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.totalAmount)})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-[1.2rem]",children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Phng thc thanh ton:"}),o.jsx("div",{className:"font-semibold text-gray-800",children:Qw[t.paymentMethod].text})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-[2rem]",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-[1.5rem]",children:"Lch s n hng"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-[1.5rem] top-0 bottom-0 w-[2px] bg-gray-200"}),o.jsx("div",{className:"space-y-[2rem]",children:tM.map((b,w)=>{const N=tM.findIndex(C=>C.key===t.status)>=w;return o.jsxs("div",{className:"flex gap-[1.5rem] relative items-start",children:[o.jsx("div",{className:`w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${N?`${b.color}`:"bg-gray-300"}`,children:o.jsx(z,{icon:b.icon,className:"text-white text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:b.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:b.desc})]})]},b.key)})})]})]}),o.jsxs("div",{className:"flex justify-end items-center gap-[1rem] mt-[2rem]",children:[t.status!==_e.COMPLETED&&o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-green-500 rounded-lg hover:bg-green-600 cursor-pointer hover-linear",onClick:()=>s({open:!0,data:t}),children:[o.jsx(z,{icon:da}),"Cp nht"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear",onClick:()=>p(),children:[o.jsx(z,{icon:TG}),"In n"]})]})]})]}),o.jsx(AR,{open:r.open,orderData:r.data,onClose:()=>s({open:!1,data:null}),refetch:n}),o.jsx("div",{style:{display:"none"},children:o.jsx(OR,{order:t,ref:i})})]})}function ode({open:t,orderId:e,onClose:n,refetch:r}){const[s,i]=T.useState(!1),a=async()=>{if(!e){ce.error("Khng c id ca sn phm!");return}i(!0);try{const l=await he.delete(`/api/v1/orders/delete-order/${e}`);l.status?(ce.success(l.message||"Xa n thnh cng!"),await r(),n()):(ce.error(l.message||"Xa n khng thnh cng!"),n())}catch(l){console.log(l),n(),ce.error(l.message||"Li khng th xa n hng!")}finally{i(!1)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>n(),children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun xa n hng ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{n()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":"Xa"})]})]})}function lde(){const[t,e]=T.useState(null),n=T.useRef(null),[r,s]=T.useState(null),[i,a]=T.useState(null),[l,c]=T.useState({open:!1,data:null}),[u,d]=T.useState({searchOrder:"",status:""}),[f,p]=T.useState({...u,limit:20,page:1}),{data:g,isLoading:x,refetch:v}=De({queryKey:["orders",f],queryFn:()=>Ste(f)}),b=g&&g.data||[],w=g?.pagination?.totalPages||1,[N,C]=T.useState(!1),M=()=>{p(j=>({...j,searchOrder:u.searchOrder,status:u.status}))};return T.useEffect(()=>{if(t===null)return;const j=A=>{t!==null&&n.current&&!n.current.contains(A.target)&&e(null)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[t]),o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] overflow-y-auto bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold ",children:"n hng"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--main-button)] rounded-lg hover:bg-[var(--main-button-hover)] cursor-pointer hover-linear ",children:[o.jsx(z,{icon:ZG}),"Export"]}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-1.5 items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear ",onClick:()=>C(!0),children:[o.jsx(z,{icon:Au}),"To n"]})]})]}),r?o.jsx(ade,{orderDetail:r,setOrderDetail:s,refetch:v}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsxs("div",{className:"w-[28rem] h-[4rem] relative text-[1.4rem]",children:[o.jsx(z,{icon:Dr,className:"absolute left-[2rem] top-[50%] translate-[-50%] text-[1.4rem] "}),o.jsx("input",{type:"text",id:"searchOrder",name:"searchOrder",placeholder:"Nhp tm kim (st, email)...",value:u.searchOrder,className:"w-full h-full border border-gray-300 rounded-xl px-[3.8rem] outline-none",onChange:j=>d(A=>({...A,[j.target.name]:j.target.value}))})]}),o.jsxs("select",{name:"status",id:"status",value:u.status,className:"w-[20rem] h-[4rem] text-[1.4rem]  px-[1.5rem] border border-gray-300 rounded-xl outline-none",onChange:j=>d(A=>({...A,[j.target.name]:j.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),Object.entries(_e).map(([j,A])=>o.jsx("option",{value:A,children:Bn(A).text},j))]}),o.jsxs("button",{className:"w-[8rem] h-[4rem] flex items-center justify-center gap-[.5rem] rounded-xl outline-none bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] hover-linear text-white cursor-pointer text-[1.4rem]",onClick:()=>M(),children:[o.jsx(z,{icon:Ss,className:" text-white"}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg mt-[2rem]",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-b-gray-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"M n"}),o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"Khch hng"}),o.jsx("th",{className:"text-left px-6 py-4  font-semibold tracking-wide",children:"S in thoi"}),o.jsx("th",{className:"text-start px-6 py-4  font-semibold tracking-wide",children:"Tng tin"}),o.jsx("th",{className:"text-center px-6 py-4  font-semibold tracking-wide",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4  font-semibold tracking-wide",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):b?.length===0?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-[4rem] text-gray-500",children:"Khng c n hng no"})})}):o.jsx("tbody",{children:b?.map((j,A)=>{const P=j.id===t?.id;return o.jsxs("tr",{children:[o.jsx("td",{className:"text-left px-6 py-4  tracking-wide",children:A+1}),o.jsxs("td",{className:"text-left px-6 py-4  tracking-wide",children:["#",j.orderCode]}),o.jsx("td",{className:"text-left px-6 py-4  tracking-wide",children:o.jsxs("div",{children:[o.jsx("div",{children:j.customerName}),o.jsx("div",{className:" text-[1.2rem]",children:j.customerEmail})]})}),o.jsx("td",{className:"text-start px-6 py-4  tracking-wide",children:j.customerPhone}),o.jsx("td",{className:"text-start px-6 py-4  tracking-wide",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j.totalAmount)}),o.jsx("td",{className:"text-center px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-5 py-2 rounded-full font-medium ${Bn(j.status).bgColor} ${Bn(j.status).textColor}`,children:Bn(j.status).text})}),o.jsx("td",{className:"text-center px-6 py-4  tracking-wide",children:o.jsxs("div",{className:"flex justify-center items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>s(j),children:[o.jsx(z,{icon:da}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:E=>{E.stopPropagation(),e(P?null:j)},children:o.jsx(z,{icon:x_,className:"text-[1.8rem]"})}),P&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[14rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",ref:n,children:[o.jsxs("button",{type:"button",className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:E=>{E.stopPropagation(),c({open:!0,data:t}),e(null)},children:[o.jsx(z,{icon:Bs,className:"text-amber-600"}),o.jsx("span",{className:"text-amber-600",children:"Cp nht"})]}),j.status===_e.CANCELLED||j.status===_e.PENDING&&o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{a(j.id)},children:[o.jsx(z,{icon:Ou,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa n"})]})]})]})]})})]},j.id)})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>p(j=>({...j,page:Math.max(j.page-1,1)})),disabled:f.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:w},(j,A)=>A+1).filter(j=>Math.abs(j-f.page)<=2).map(j=>o.jsx("button",{onClick:()=>p(A=>({...A,page:j})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${f.page===j?"bg-blue-500 text-white":"bg-gray-200"}`,children:j},j)),o.jsx("button",{onClick:()=>p(j=>({...j,page:Math.min(j.page+1,w)})),disabled:f.page===w,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]})]}),o.jsx(nde,{open:N,onClose:()=>C(!1),refetch:v}),o.jsx(AR,{open:l.open,orderData:l.data,onClose:()=>c({open:!1,data:null}),refetch:v}),o.jsx(ode,{open:i!==null,orderId:i,onClose:()=>a(null),refetch:v})]})}const cde=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await he.get("/api/v1/staff/get-staffs",{params:e})).data},qS=async()=>(await he.get("/api/v1/cart/my-cart")).data,_R=async t=>await he.post("/api/v1/variant/variant-by-ids",{variantIds:t}),qh={[ao.INVENTORY]:"Qun l kho",[ao.MANAGER]:"Qun l",[ao.SALE]:"Bn hng"};qt.ADMIN+"",qt.STAFF+"",qt.USER+"";const Ug={[ci.ACTIVE]:"ang lm vic",[ci.ON_LEAVE]:"Tm ngh",[ci.PROBATION]:"ang th vic",[ci.RESIGNED]:" ngh"},ude=(t=!1)=>Bh({gender:fn().oneOf(Object.values(ll),"Gii tnh khng hp l").required("Vui lng chn gii tnh"),user:Bh().shape({username:fn().required("Tn ng nhp l bt buc"),email:fn().email("Email khng hp l").required("Email l bt buc"),password:t?fn().notRequired():fn().min(6,"Mt khu phi t 6 k t tr ln").required("Mt khu l bt buc"),phone:fn().matches(/^\d{10,15}$/,"S in thoi khng hp l").required("S in thoi l bt buc"),role:fn().oneOf(Object.values(qt),"Vai tr khng hp l").required("Vai tr l bt buc")}),birthday:fn().required("Ngy sinh l bt buc").test("is-valid-date","Ngy sinh khng hp l",e=>e?new Date(e)<=new Date:!1),salary:Zc().typeError("Lng phi l s").min(1,"Vui lng thm lng").required("Lng l bt buc"),startDate:fn().required("Ngy bt u l bt buc"),position:fn().oneOf(Object.values(ao),"V tr khng hp l").required("V tr l bt buc"),avatar:OS().optional().test("fileSize","Dung lng nh ti a 10MB",e=>e?e.size<=10*1024*1024:!0).test("fileType","Ch chp nhn nh dng .jpg, .jpeg, .png",e=>e?["image/jpeg","image/png","image/jpg"].includes(e.type):!0).test("required-on-add","Vui lng chn hnh nh",function(e){return!(!t&&!e)})}).required();function dde({actionStaff:t,setActionStaff:e,dataUpdate:n,refetch:r}){const{handleSubmit:s,register:i,formState:{errors:a,isSubmitting:l},setValue:c,reset:u}=Hs({resolver:BL(ude(t.action==="edit")),defaultValues:{user:{username:"",email:"",password:"",phone:"",role:qt.STAFF},gender:ll.MALE,birthday:"",salary:0,startDate:"",position:ao.SALE,avatar:void 0},mode:"onSubmit",reValidateMode:"onChange"}),[d,f]=T.useState(null);T.useEffect(()=>{t.open&&(t.action==="add"?(u({user:{username:"",email:"",password:"",phone:"",role:qt.STAFF},gender:ll.MALE,birthday:"",salary:0,startDate:"",position:ao.SALE,avatar:void 0}),f(null)):n&&t.action==="edit"&&(u({user:{username:n.user.username,email:n.user.email,phone:n.user.phone,role:n.user.role},gender:n.gender,birthday:n.birthday?new Date(n.birthday).toISOString().split("T")[0]:"",salary:n.salary||0,startDate:n.startDate?new Date(n.startDate).toISOString().split("T")[0]:"",position:n.position}),n.user.avatar&&f(n.user.avatar||null)))},[t.action,t.open,n,u]);const p=v=>{const b=v.target.files?.[0];if(b){c("avatar",b,{shouldValidate:!0});const w=URL.createObjectURL(b);f(w)}},g=async v=>{const b={...v,salary:Number(v.salary),birthday:v.birthday,startDate:new Date(v.startDate).toISOString().split("T")[0]};console.log(b);try{const w=t.action==="add"?"/api/v1/staff/create":`/api/v1/staff/update/${t.data?.id}`;let N=null;t.action==="add"?N=await he.post(w,b,{headers:{"Content-Type":"multipart/form-data"}}):N=await he.patch(w,b,{headers:{"Content-Type":"multipart/form-data"}}),N.status&&(ce.success(N.message||`${t?.action==="add"?"Thm":"Cp nht"} nhn vin thnh cng!`),e({open:!1,action:"add",data:null}),u(),await r())}catch(w){console.log(w),ce.error(w.message||`Li khng th ${t?.action==="add"?"thm":"cp nht"} nhn vin`)}},x=()=>{u(),f(null),e({open:!1,data:null,action:"add"})};return o.jsxs(bt,{open:t.open,className:"relative w-[100rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:x,children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[2rem] text-center font-semibold text-green-600",children:t.action==="edit"?"Cp nht nhn vin":"Thm nhn vin"}),o.jsxs("form",{onSubmit:s(g),children:[o.jsxs("div",{className:"w-full max-h-[50rem] overflow-auto hide-scrollbar flex gap-[2.5rem] mt-[4rem]",children:[o.jsxs("div",{className:"w-[25rem] h-auto rounded-xl flex flex-col items-center justify-start",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"nh nhn vin"}),o.jsxs("label",{htmlFor:"avatar",className:`w-[15rem] h-[15rem] flex items-center justify-center rounded-xl border-[.2rem] border-dashed ${d?"border-cyan-500":"border-gray-500"} cursor-pointer`,children:[d?o.jsx("img",{src:d,alt:"avatar",className:"w-full h-full object-cover rounded-xl"}):o.jsx(z,{icon:Qr,className:"text-gray-500 text-[2.2rem]"}),o.jsx("input",{type:"file",className:"hidden",id:"avatar",onChange:p})]}),a.avatar&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem] mt-[.5rem]",children:a.avatar.message})]}),o.jsxs("div",{className:"flex-1 border-l border-l-gray-300 pl-[2rem]",children:[o.jsx("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem]",children:"Thng tin nhn vin"}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"staffName",children:"Tn nhn vin"}),o.jsx("input",{type:"text",id:"staffName",placeholder:"Nhp tn...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.username")}),a.user?.username&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.username.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"Nhp email...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.email")}),a.user?.email&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.email.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[t.action==="add"&&o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"password",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",placeholder:"Nhp mt khu...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.password")}),a.user?.password&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.password.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"phone",children:"S in thoi"}),o.jsx("input",{type:"tel",id:"phone",placeholder:"Nhp s in thoi...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("user.phone")}),a.user?.phone&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.user.phone.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"gender",children:"Gii tnh"}),o.jsxs("select",{id:"gender",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("gender"),children:[o.jsx("option",{value:ll.MALE,children:"Nam"}),o.jsx("option",{value:ll.FEMALE,children:"N"})]}),a.gender&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.gender.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"birthday",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("birthday")}),a.birthday&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.birthday.message})]})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:[o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"salary",children:"Lng"}),o.jsx("input",{type:"number",id:"salary",placeholder:"Nhp lng...",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none",...i("salary")}),a.salary&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.salary.message})]}),o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"startDate",children:"Ngy bt u"}),o.jsx("input",{type:"date",id:"startDate",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("startDate")}),a.startDate&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.startDate.message})]})]}),o.jsx("div",{className:"flex items-start gap-[2rem] mt-[2rem]",children:o.jsxs("div",{className:"flex flex-col w-full",children:[o.jsx("label",{className:"text-gray-600",htmlFor:"position",children:"V tr"}),o.jsx("select",{id:"position",className:"w-full h-[4rem] border border-gray-300 rounded-lg px-[1.5rem] mt-[.5rem] outline-none text-gray-600",...i("position"),children:Object.entries(qh).map(([v,b],w)=>o.jsx("option",{value:v,children:b},w))}),a.position&&o.jsx("span",{className:"text-red-500 text-limit-1 text-[1.4rem]",children:a.position.message})]})})]})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",type:"button",onClick:x,disabled:l,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white hover-linear",type:"submit",disabled:l,children:l?"ang x l...":t.action==="edit"?"Cp nht":"Thm"})]})]}),l&&o.jsx(ko,{})]})}function hde({openDelete:t,setOpenDelete:e,refetch:n}){const[r,s]=T.useState(!1),i=async()=>{try{s(!0);const a=await he.delete(`/api/v1/staff/delete/${t}`);a.status&&(ce.success(a.message||"Xa nhn vin thnh cng!"),await n(),e(null),s(!1))}catch(a){console.log(a),ce.error(a.message||"Li khng th xa nhn vin!")}finally{s(!1)}};return o.jsxs(bt,{open:!!t,className:"relative bg-white rounded-lg shadow-lg w-[50rem] p-[2.5rem]",children:[o.jsx("button",{className:"absolute top-[1rem] right-[1rem] text-gray-500 hover:text-gray-600 w-[3rem] h-[3rem] rounded-full bg-gray-200 hover:bg-gray-300 hover-linear",onClick:()=>e(null),children:o.jsx(z,{icon:cn})}),o.jsx("div",{className:"mb-6",children:o.jsx("p",{className:"text-gray-600 text-[1.8rem]",children:"Bn c chc chn mun xa nhn vin ny khng?"})}),o.jsxs("div",{className:"flex justify-end gap-[1rem] mt-[3rem]",children:[o.jsx("button",{className:"px-[1.5rem] py-[.5rem] text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e(null),children:"Hy"}),o.jsx("button",{className:"px-[1.5rem] py-[.5rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>i(),children:"Xa"})]}),r&&o.jsx(ko,{})]})}function fde({staff:t,onClose:e}){if(!t)return null;const n=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),r=i=>new Date(i).toLocaleDateString("vi-VN"),s=i=>({MALE:"Nam",FEMALE:"N",OTHER:"Khc"})[i]||i;return o.jsx(bt,{open:!!t,className:"fixed inset-0 flex items-center justify-center z-[300] p-[2rem]",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[90rem] max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"relative bg-gradient-to-r px-[3rem] py-[2rem]",children:[o.jsx("div",{children:o.jsx("h2",{className:"text-[2rem] font-bold text-gray-600 mb-[.5rem]",children:"Thng tin chi tit nhn vin"})}),o.jsx("button",{onClick:e,className:"absolute top-[1rem] right-[1rem] w-[4rem] h-[4rem] bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-600 hover-linear backdrop-blur-sm",children:o.jsx(z,{icon:Un,className:"text-[2rem]"})})]}),o.jsx("div",{className:"overflow-y-auto hide-scrollbar flex-1 px-[3rem] pt-[2rem]",children:o.jsxs("div",{className:"grid grid-cols-12 gap-[2.5rem]",children:[o.jsxs("div",{className:"col-span-4 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-[2.5rem] border border-indigo-100 text-center",children:[o.jsx("div",{className:"w-[16rem] h-[16rem] mx-auto mb-[2rem] rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-[6rem] font-bold shadow-lg",children:t.user?.avatar?o.jsx("img",{src:t.user.avatar,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):t.user?.username?.charAt(0).toUpperCase()||"?"}),o.jsx("h3",{className:"text-[2.2rem] font-bold text-gray-800 mb-[.5rem]",children:t.user?.username||"Cha cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-500 mb-[1.5rem]",children:qh[t.position]||"Cha cp nht"}),o.jsxs("span",{className:`inline-flex items-center gap-[.8rem] px-[1.6rem] py-[.8rem] rounded-full text-[1.4rem] font-semibold ${t.status===ci.ACTIVE?"bg-green-100 text-green-700":t.status===ci.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[o.jsx(z,{icon:hu}),Ug[t.status]||"Cha cp nht"]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2rem] border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"text-[1.4rem] font-semibold text-gray-700 mb-[1.5rem] flex items-center gap-[1rem]",children:[o.jsx(z,{icon:Yb,className:"text-indigo-600"}),"Thng k nhanh"]}),o.jsxs("div",{className:"space-y-[1.2rem]",children:[o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Lng c bn"}),o.jsx("span",{className:"text-[1.5rem] font-bold text-green-600",children:n(t.salary)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem] border-b border-gray-100",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Ngy bt u"}),o.jsx("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:r(t.startDate)})]}),o.jsxs("div",{className:"flex justify-between items-center py-[1rem]",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"Thi gian lm vic"}),o.jsxs("span",{className:"text-[1.4rem] font-semibold text-gray-800",children:[Math.floor((new Date().getTime()-new Date(t.startDate).getTime())/(1e3*60*60*24*30))," ","thng"]})]})]})]})]}),o.jsxs("div",{className:"col-span-8 space-y-[2rem]",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(z,{icon:qi,className:"text-indigo-600"}),"Thng tin c nhn"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:UG,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"M nhn vin"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.staffCode})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:qi,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"H v tn"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:t.user?.username||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:HG,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"S in thoi"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:t.user?.phone||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:uG,className:"text-[1.8rem] text-red-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Email"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 break-all",children:t.user?.email||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-pink-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:MG,className:"text-[1.8rem] text-pink-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Gii tnh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:s(t.gender)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-yellow-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:nY,className:"text-[1.8rem] text-yellow-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy sinh"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.birthday)})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(z,{icon:Yb,className:"text-purple-600"}),"Thng tin cng vic"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:Yb,className:"text-[1.8rem] text-indigo-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"V tr"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900 font-semibold",children:qh[t.position]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:hu,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Trng thi"}),o.jsx("span",{className:`inline-block px-[1.2rem] py-[.6rem] rounded-lg text-[1.4rem] font-semibold ${t.status===ci.ACTIVE?"bg-green-100 text-green-700":t.status===ci.RESIGNED?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:Ug[t.status]||"Cha cp nht"})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:$p,className:"text-[1.8rem] text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Lng c bn"}),o.jsx("p",{className:"text-[1.8rem] text-green-600 font-bold",children:n(t.salary)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:mG,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy bt u lm vic"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.startDate)})]})]})]})]}),t.user&&o.jsxs("div",{className:"bg-white rounded-2xl p-[2.5rem] border border-gray-200 shadow-sm",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(z,{icon:d2,className:"text-orange-600"}),"a ch"]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-orange-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:d2,className:"text-[1.8rem] text-orange-600"})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-[1.4rem] text-gray-900 leading-relaxed",children:t.address||"Cha cp nht a ch"})})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-[2.5rem] border border-gray-200 mb-[2rem]",children:[o.jsxs("h3",{className:"text-[1.8rem] font-bold text-gray-600 mb-[2rem] pb-[1rem] border-b-2 border-gray-200 flex items-center gap-[1rem]",children:[o.jsx(z,{icon:Wb,className:"text-gray-600"}),"Thng tin h thng"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-[3rem] gap-y-[2rem]",children:[o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:Wb,className:"text-[1.8rem] text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy to"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.createdAt)})]})]}),o.jsxs("div",{className:"flex items-start gap-[1.5rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] rounded-lg bg-purple-50 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:Wb,className:"text-[1.8rem] text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[1.3rem] text-gray-500 font-medium block mb-[.5rem]",children:"Ngy cp nht"}),o.jsx("p",{className:"text-[1.4rem] text-gray-900",children:r(t.updatedAt)})]})]})]})]})]})]})}),o.jsx("div",{className:"px-[3rem] py-[1rem] bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200 flex justify-end gap-[1.5rem]",children:o.jsx("button",{onClick:e,className:"px-[2rem] py-[.8rem] text-[1.5rem] font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 hover-linear shadow-sm",children:"ng"})})]})})}function mde(){const[t,e]=T.useState({search:"",status:"",position:"",limit:10,page:1}),[n,r]=T.useState({search:"",status:"",position:"",limit:10,page:1}),[s,i]=T.useState({action:"add",open:!1,data:null}),[a,l]=T.useState(null),c=T.useRef(null),[u,d]=T.useState(null),[f,p]=T.useState(null),{data:g,isLoading:x,refetch:v}=De({queryKey:["staffs",t],queryFn:()=>cde(t)});T.useEffect(()=>{if(!a)return;const w=N=>{a!==null&&c.current&&!c.current.contains(N.target)&&l(null)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[a]);const b=()=>{e(w=>({...w,search:n.search,status:n.status,limit:n.limit,page:n.page,position:n.position}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg rounded-xl p-[2rem]",children:[o.jsxs("div",{className:"sticky top-0 flex justify-between items-center border-b border-b-gray-300 pb-8",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Danh sch nhn vin"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-[.5rem] items-center px-4 py-3 bg-[var(--button-green)] rounded-lg hover:bg-[var(--button-green-hover)] cursor-pointer hover-linear",onClick:()=>i({open:!0,data:null,action:"add"}),children:[o.jsx(z,{icon:Qr}),o.jsx("p",{children:"Thm nhn vin"})]})})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] mt-[2rem]",children:[o.jsx("input",{type:"text",id:"search",name:"search",value:n.search,placeholder:"Nhp tm kim (tn, st)...",className:"border border-gray-300 w-[36rem] h-[4rem] rounded-lg pl-[1.5rem] outline-none text-gray-600 select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value}))}),o.jsxs("select",{name:"status",id:"status",value:n.status,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"Trng thi"}),Object.entries(Ug).map(([w,N])=>o.jsx("option",{value:w,children:N},w))]}),o.jsxs("select",{name:"position",id:"position",value:n.position,className:"max-w-26rem h-[4rem] border border-gray-300 outline-none px-[1.5rem] text-gray-600 rounded-lg select-none",onChange:w=>r(N=>({...N,[w.target.name]:w.target.value})),children:[o.jsx("option",{value:"",hidden:!0,children:"V tr"}),Object.entries(qh).map(([w,N])=>o.jsx("option",{value:w,children:N},w))]}),o.jsxs("button",{className:"flex items-center justify-center gap-[.5rem] w-[10rem] h-[4rem] rounded-lg bg-[var(--main-button)] hover:bg-[var(--main-button-hover)] text-white",onClick:()=>b(),children:[o.jsx(z,{icon:Ss}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"w-full border border-gray-300 mt-[2rem] text-[1.4rem] select-none",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 divide-x divide-gray-300",children:[o.jsx("th",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"STT"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"H tn"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"in thoi"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"V tr"}),o.jsx("th",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Trng thi"}),o.jsx("th",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-semibold text-gray-600",children:"Hnh ng"})]})}),x?o.jsx("tbody",{children:o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-[4rem] text-gray-500",children:"ang ti d liu..."})})}):o.jsx("tbody",{children:g.map(w=>o.jsxs("tr",{className:"divide-x divide-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"text-start px-[1.5rem] py-[1rem] border border-gray-300",children:w.staffCode}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.username}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300",children:w.user?.phone}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:qh[w.position]}),o.jsx("td",{className:"text-center px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:Ug[w.status]}),o.jsx("td",{className:"text-end px-[1.5rem] py-[1rem] border border-gray-300 font-medium",children:o.jsxs("div",{className:"flex justify-end items-center gap-[1rem]",children:[o.jsxs("button",{className:"w-[7.4rem] h-[3.2rem] text-[1.2rem] rounded-xl bg-green-500 hover:bg-green-600 text-white flex items-center justify-center gap-[.5rem] hover-linear",onClick:()=>p(w),children:[o.jsx(z,{icon:da}),o.jsx("span",{children:"Xem"})]}),o.jsxs("div",{className:"relative z-[200]",ref:c,children:[o.jsx("button",{className:"w-[3.2rem] h-[3.2rem] rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 hover-linear",onClick:()=>l(w),children:o.jsx(z,{icon:x_,className:"text-[1.8rem]"})}),a?.id===w.id&&o.jsxs("div",{className:"absolute right-[100%] top-0  min-w-[12rem] bg-white shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-xl py-[.8rem] border border-gray-200",children:[o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{},children:[o.jsx(z,{icon:da,className:"text-green-600"}),o.jsx("span",{className:"text-green-600",onClick:()=>{i({open:!0,data:a,action:"edit"}),l(null)},children:"Cp nht"})]}),o.jsxs("button",{className:"w-full px-[1.2rem] py-[.8rem] flex whitespace-nowrap items-center gap-[.8rem] text-left hover:bg-gray-100 hover-linear text-[1.4rem] text-gray-700",onClick:()=>{d(w.id),l(null)},children:[o.jsx(z,{icon:Ou,className:"text-red-500"}),o.jsx("span",{className:"text-red-500 flex flex-nowrap",children:"Xa"})]})]})]})]})})]},w.id))})]}),o.jsx(dde,{actionStaff:s,setActionStaff:i,dataUpdate:s.data,refetch:v}),u&&o.jsx(hde,{openDelete:u,setOpenDelete:d,refetch:v}),o.jsx(fde,{staff:f,onClose:()=>p(null)})]})}function pde(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-2xl mb-6",children:"Oops! Trang bn tm khng tn ti."}),o.jsx(Qe,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function nM({children:t,roles:e,redirectTo:n}){const{user:r,loading:s}=jt();return s?o.jsx(ko,{}):r?e&&!e?.includes(r?.role)?o.jsx(tu,{to:"/unauthorized",replace:!0}):o.jsx(o.Fragment,{children:t}):n?o.jsx(tu,{to:n,replace:!0}):o.jsx(tu,{to:"/login",replace:!0})}function gde(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"403"}),o.jsx("p",{className:"text-xl mb-6",children:"Bn khng c quyn truy cp trang ny"}),o.jsx(Qe,{to:"/",className:"px-6 py-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Quay v trang ch"})]})}function xde({children:t}){const{user:e}=jt();return e&&(e.role===qt.ADMIN||e.role===qt.STAFF)?o.jsx(tu,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function yde(){const{register:t}=Jl(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:s}}=Hs({defaultValues:{email:"",password:"",phone:"",username:""}}),[i,a]=T.useState(null),l=Ze(),[c,u]=T.useState(!1),[d,f]=T.useState(!1),p=async g=>{try{await t({email:g.email,password:g.password,phone:g.phone,username:g.username}),l("/customer/account/profile")}catch(x){console.log(x),ce.error(x.message||"ng k ti khon tht bi!")}};return o.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center md:p-4",children:[o.jsxs("div",{className:"w-[90%] md:max-w-2xl bg-white shadow-2xl rounded-2xl p-5 md:p-[2.5rem] transform transition-all",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"w-15 md:w-20 h-15 md:h-20 bg-gradient-to-br from-orange-300 to-orange-600 rounded-full mx-auto mb-2 flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 md:w-10 h-6 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),o.jsx("h2",{className:"text-[1.8rem] md:text-[2.2rem] font-bold text-gray-800 mb-2",children:"ng k"})]}),o.jsxs("form",{onSubmit:n(p),className:"space-y-6 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"H v tn"}),o.jsx("input",{type:"username",id:"username",placeholder:"username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("username",{required:"H tn khng c b trng"})}),r.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.username.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",id:"email",placeholder:"your@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("email",{required:"Email khng c b trng",pattern:{value:/^\S+@\S+\.\S+$/,message:"Email khng hp l"}})}),r.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block font-medium text-gray-700 mb-2",children:"Mt khu"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",placeholder:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("password",{required:"Mt khu khng c b trng",minLength:{value:6,message:"Mt khu phi t nht 6 k t"}})}),o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] right-4 cursor-pointer",onClick:()=>{f(!d)},children:d?o.jsx(z,{icon:da,className:"text-gray-600"}):o.jsx(z,{icon:SN,className:"text-gray-600"})})]}),r.password&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.password.message})]}),i&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-[1.2rem] text-red-600",children:i})}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block font-medium text-gray-700 mb-2",children:"S in thoi"}),o.jsx("input",{type:"phone",id:"phone",placeholder:"Nhp s in thoi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-transparent outline-none transition",onFocus:()=>a(null),...e("phone",{required:"S in thoi khng c b trng",pattern:{value:/^[0-9]{10}$/,message:"S in thoi phi gm 10 ch s"}})}),r.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:r.phone.message})]}),o.jsx("button",{className:`w-full py-3 rounded-lg text-white font-medium transition mt-[1.8rem] ${s?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-orange-300 to-orange-600 hover:from-orange-400 hover:to-orange-700 shadow-lg hover:shadow-xl"}`,type:"submit",disabled:s,children:s?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"ng k"})]}),o.jsx("div",{className:"mt-6 space-y-3 text-center",children:o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[1.4rem] text-gray-600",children:["Bn  c ti khon?"," ",o.jsx(Qe,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"ng nhp"})]})})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-[#3f3f3f95] bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-[1.6rem] font-bold text-gray-800 mb-3",children:"Ti khon Admin/Nhn vin"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ny dnh cho qun tr vin. Vui lng ng nhp qua trang qun tr."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>l("/admin/Register"),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition",children:"n trang Admin"}),o.jsx("button",{onClick:()=>u(!1),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition",children:"Th ti khon khc"})]})]})}),s&&o.jsx(ko,{})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var bde={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M203.7 512.9s0 0 0 0l-37.8 26.7c-7.3 5.2-16.9 5.8-24.9 1.7S128 529 128 520l0-72-32 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120.4 0-91.9 64.9zm64.3-104.1c8.1-5.7 17.8-8.8 27.7-8.8L416 400c26.5 0 48-21.5 48-48l0-224c0-26.5-21.5-48-48-48L96 80c-26.5 0-48 21.5-48 48l0 224c0 26.5 21.5 48 48 48l56 0c10.4 0 19.3 6.6 22.6 15.9 .9 2.5 1.4 5.2 1.4 8.1l0 49.7c32.7-23.1 63.3-44.7 91.9-64.9z"]},vde={prefix:"far",iconName:"paper-plane",icon:[576,512,[61913],"f1d8","M290.5 287.7L491.4 86.9 359 456.3 290.5 287.7zM457.4 53L256.6 253.8 88 185.3 457.4 53zM38.1 216.8l205.8 83.6 83.6 205.8c5.3 13.1 18.1 21.7 32.3 21.7 14.7 0 27.8-9.2 32.8-23.1L570.6 8c3.5-9.8 1-20.6-6.3-28s-18.2-9.8-28-6.3L39.4 151.7c-13.9 5-23.1 18.1-23.1 32.8 0 14.2 8.6 27 21.7 32.3z"]},DR={prefix:"far",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M171.5 38.8C192.3 4 236.5-10 274 7.6l7.2 3.8C316 32.3 330 76.5 312.4 114l0 0-14.1 30 109.7 0 7.4 .4c36.3 3.7 64.6 34.4 64.6 71.6 0 13.2-3.6 25.4-9.8 36 6.1 10.6 9.7 22.8 9.8 36 0 18.3-6.9 34.8-18 47.5 1.3 5.3 2 10.8 2 16.5 0 25.1-12.9 47-32.2 59.9-1.9 35.5-29.4 64.2-64.4 67.7l-7.4 .4-104.1 0c-18 0-35.9-3.4-52.6-9.9l-7.1-3-.7-.3-6.6-3.2-.7-.3-12.2-6.5c-12.3-6.5-23.3-14.7-32.9-24.1-4.1 26.9-27.3 47.4-55.3 47.4l-32 0c-30.9 0-56-25.1-56-56L0 200c0-30.9 25.1-56 56-56l32 0c10.8 0 20.9 3.1 29.5 8.5l50.1-106.5 .6-1.2 2.7-5 .6-.9zM56 192c-4.4 0-8 3.6-8 8l0 224c0 4.4 3.6 8 8 8l32 0c4.4 0 8-3.6 8-8l0-224c0-4.4-3.6-8-8-8l-32 0zM253.6 51c-14.8-6.9-32.3-1.6-40.7 12l-2.2 4-56.8 120.9c-3.5 7.5-5.5 15.5-6 23.7l-.1 4.2 0 112.9 .2 7.9c2.4 32.7 21.4 62.1 50.7 77.7l11.5 6.1 6.3 3.1c12.4 5.6 25.8 8.5 39.4 8.5l104.1 0 2.4-.1c12.1-1.2 21.6-11.5 21.6-23.9l-.2-2.6c-.1-.9-.2-1.7-.4-2.6-2.7-12.1 4.3-24.2 16-28 9.7-3.1 16.6-12.2 16.6-22.8 0-4.3-1.1-8.2-3.1-11.8-6.3-11.1-2.8-25.2 8-32 6.8-4.3 11.2-11.8 11.2-20.2 0-7.1-3.1-13.5-8.2-18-5.2-4.6-8.2-11.1-8.2-18s3-13.4 8.2-18c5.1-4.5 8.2-10.9 8.2-18l-.1-2.4c-1.1-11.3-10.1-20.3-21.4-21.4l-2.4-.1-147.5 0c-8.2 0-15.8-4.2-20.2-11.1-4.4-6.9-5-15.7-1.5-23.1L269 93.6c7-15 1.4-32.7-12.5-41L253.6 51z"]},KS={prefix:"far",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M144 128a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zm208 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0zM48 480c0-70.7 57.3-128 128-128l96 0c70.7 0 128 57.3 128 128l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8c0-97.2-78.8-176-176-176l-96 0C78.8 304 0 382.8 0 480l0 8c0 13.3 10.7 24 24 24s24-10.7 24-24l0-8z"]},IR={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M288.1-32c9 0 17.3 5.1 21.4 13.1L383 125.3 542.9 150.7c8.9 1.4 16.3 7.7 19.1 16.3s.5 18-5.8 24.4L441.7 305.9 467 465.8c1.4 8.9-2.3 17.9-9.6 23.2s-17 6.1-25 2L288.1 417.6 143.8 491c-8 4.1-17.7 3.3-25-2s-11-14.2-9.6-23.2L134.4 305.9 20 191.4c-6.4-6.4-8.6-15.8-5.8-24.4s10.1-14.9 19.1-16.3l159.9-25.4 73.6-144.2c4.1-8 12.4-13.1 21.4-13.1zm0 76.8L230.3 158c-3.5 6.8-10 11.6-17.6 12.8l-125.5 20 89.8 89.9c5.4 5.4 7.9 13.1 6.7 20.7l-19.8 125.5 113.3-57.6c6.8-3.5 14.9-3.5 21.8 0l113.3 57.6-19.8-125.5c-1.2-7.6 1.3-15.3 6.7-20.7l89.8-89.9-125.5-20c-7.6-1.2-14.1-6-17.6-12.8L288.1 44.8z"]};const rM=[{id:1,icon:KS,iconColor:"text-blue-500",label:"Ti khon ca ti",path:"account",children:[{id:11,label:"H s",path:"account/profile"},{id:12,label:"a ch",path:"account/address"},{id:13,label:"Thit lp ring",path:"account/privacy"}]},{id:2,icon:bN,iconColor:"text-blue-500",label:"n hng ca ti",path:"order"},{id:3,icon:wN,iconColor:"text-pink-500",label:"Voucher ca ti",path:"my-voucher"},{id:4,icon:y_,iconColor:"text-red-500",label:"Sn phm yu thch",path:"favorite"}];function wde(){const{user:t}=jt(),e=Ze(),n=ir(),[r,s]=T.useState([]);T.useEffect(()=>{const l=n.pathname;rM.forEach(c=>{c.children&&c.children.some(d=>l.includes(d.path))&&!r.includes(c.id)&&s(d=>[...d,c.id])})},[n.pathname]);const i=l=>{if(!l.children)return e(l.path);s(c=>c.includes(l.id)?c.filter(u=>u!==l.id):[...c,l.id])},a=l=>n.pathname.includes(l);return o.jsx("div",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] mt-[20rem] md:mt-[1rem]",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-0",children:[o.jsxs("div",{className:"hidden md:block w-full lg:w-[24rem] h-auto py-[1rem] px-[1rem] sm:px-[2rem] bg-white lg:bg-transparent rounded-md lg:rounded-none shadow-md lg:shadow-none",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:t?.avatar?o.jsx("img",{src:t?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(z,{icon:KS,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:t?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600",children:[o.jsx(z,{icon:Bs}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsx("nav",{className:"mt-[2rem] sm:mt-[3rem] space-y-2",children:rM.map(l=>o.jsxs("div",{className:"text-gray-800",onClick:()=>i(l),children:[o.jsxs("div",{className:"flex items-center gap-[1rem] cursor-pointer group py-2",children:[o.jsx(z,{icon:l.icon,className:`${l.iconColor} flex-shrink-0`}),o.jsx("span",{className:"group-hover:text-red-500 transition duration-150",children:l.label})]}),o.jsx("div",{className:`mt-[1.2rem] ${r&&r.length>0&&r?.includes(l.id)?"h-auto":"h-[0rem] overflow-hidden"} transition duration-300`,children:l.children&&l.children?.map(c=>{const u=a(c.path);return o.jsxs(Qe,{to:c.path,className:"block pl-[2rem] sm:pl-[3rem] space-y-6 text-start text-gray-600 cursor-pointer group",onClick:d=>d.stopPropagation(),children:[o.jsx("span",{className:`block group-hover:text-red-500 transition duration-150 ${u?"text-red-500":"text-gray-600"}`,children:c.label}),o.jsx("div",{})]},c.id)})})]},l.id))})]}),o.jsx("div",{className:"flex-1 w-full min-h-[calc(100vh-20rem)] bg-white shadow-md mb-[2rem] rounded-md",children:o.jsx(Ql,{})})]})})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Nde={prefix:"fab",iconName:"google",icon:[512,512,[],"f1a0","M500 261.8C500 403.3 403.1 504 260 504 122.8 504 12 393.2 12 256S122.8 8 260 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9c-88.3-85.2-252.5-21.2-252.5 118.2 0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9l-140.8 0 0-85.3 236.1 0c2.3 12.7 3.9 24.9 3.9 41.4z"]},Sde={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},LR={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},jde={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]},Cde={prefix:"fab",iconName:"square-facebook",icon:[448,512,["facebook-square"],"f082","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l98.2 0 0-145.8-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 145.8 129 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]};const RR="/manage-sell-client/assets/cart_empty-Clt3I79b.png";function kde({showCart:t,setShowCart:e}){const{user:n}=jt(),r=ga(),s=Ze(),[i,a]=T.useState([]),[l,c]=T.useState([]),{data:u}=De({queryKey:["cart"],queryFn:qS,enabled:!!n});T.useEffect(()=>{if(n)if(u&&u.length>0){const g=u[0].items.map(x=>({id:x.variant.id,product:x.variant.product,variantSize:x.variant.variantSize,variantColor:x.variant.variantColor,price:x.price,quantity:x.quantity,inventory:x.variant.inventory}));a(g)}else a([]);else{const p=n?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(c(p),p.length===0){a([]);return}const g=p.map(v=>v.variantId);(async()=>{try{const v=await _R(g);if(v.status){const b=v.data.map(w=>{const N=p.find(C=>C.variantId===w.id);return{...w,quantity:N.quantity||1}});a(b)}}catch(v){console.log(v),ce.error(v.message)}})()}},[n,u,t]);const d=async(p,g)=>{const x=i.map(w=>w.id===p?{...w,quantity:g==="incre"?Math.min(w.inventory,w.quantity+1):Math.max(1,w.quantity-1)}:w);a(x);const v=x.find(w=>w.id===p).quantity,b={variantId:p,quantity:v};if(n)try{if((await he.patch("/api/v1/cart-items/update-quantity",b)).status)return}catch(w){ce.error(w.message)}else{const w=l.map(N=>N.variantId===p?{...N,quantity:v}:N);localStorage.setItem("localCart",JSON.stringify(w))}},f=async p=>{const g=i.filter(x=>x.id!==p);if(a(g),n)try{if((await he.delete(`/api/v1/cart-items/${p}`)).status){r.invalidateQueries({queryKey:["cart"]});return}}catch(x){ce.error(x.message)}else{const x=l.filter(v=>v.variantId!==p);localStorage.setItem("localCart",JSON.stringify(x)),window.dispatchEvent(new Event("localStorageUpdate"))}};return o.jsx(bt,{open:t,className:"w-[90%] md:w-[50rem] max-h-[55rem] bg-white rounded-md shadow-xl overflow-hidden px-2 py-4 md:p-5",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[o.jsx(z,{icon:yN,className:"text-red-500"}),o.jsxs("div",{className:"text-[1.4rem] md:text-[1.6rem] font-semibold text-gray-700",children:["GI HNG (",i?.length,")"]}),o.jsx("span",{className:"ml-auto cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1),children:o.jsx(z,{icon:Un,className:"text-gray-600"})})]}),i?.length>0?o.jsx("div",{className:"overflow-y-auto hide-scrollbar max-h-[40rem]",children:i.map(p=>o.jsxs(Qe,{to:`/product-detail/${p.product.slug}`,className:"flex items-center justify-between p-4 md:p-5 border-b border-gray-200",children:[o.jsxs("div",{className:" flex items-center gap-[1rem]",children:[o.jsx("img",{src:p.product.mainImage,alt:"",className:"w-[4.8rem] h-[4.8rem] rounded-md object-cover"}),o.jsxs("div",{className:"w-[20rem]",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-800 text-limit-1",children:p.product.productName}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-[1rem]",children:[o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Size: ",o.jsx("span",{className:"",children:p.variantSize.name})]}),o.jsx("span",{className:"block h-[1.2rem] border-l border-l-gray-400"}),o.jsxs("p",{className:"flex items-center gap-2 text-gray-600 text-[1rem] md:text-[1.2rem]",children:["Mu: ",o.jsx("span",{className:"",children:p.variantColor.name})]})]}),o.jsx("div",{className:"text-red-500 text-[1rem] md:text-[1.4rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p.product.price)||Number(p.price))})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"decre"),children:o.jsx(z,{icon:Rl,className:"text-[1.2rem] text-gray-600"})}),o.jsx("span",{className:"text-gray-600 text-[1.2rem] md:text-[1.4rem]",children:p.quantity}),o.jsx("button",{className:"h-[2rem] w-[2rem] md:h-[2.4rem] md:w-[2.4rem] text-[1.4rem] md:text-[1.6rem] flex items-center justify-center border border-gray-400 rounded hover:bg-gray-100",onClick:()=>d(p.id,"incre"),children:o.jsx(z,{icon:Qr,className:"text-[1.2rem] text-gray-600"})})]}),o.jsx("div",{children:o.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),g.preventDefault(),f(p.id)},children:o.jsx(z,{icon:Ou,className:"text-red-500 cursor-pointer ml-2"})})})]},p.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("img",{src:RR,alt:"cart empty",className:"w-40"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"Khng c sn phm trong gi hng"})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem] text-[1.2rem] md:text-[1.6rem]",children:[o.jsx("button",{className:"px-[2rem] h-[3.5rem] rounded-md bg-gray-200 text-gray-800 hover:bg-gray-300 transition duration-300",onClick:()=>e(!1),children:"ng"}),o.jsx("button",{type:"button",className:"px-[2rem] h-[3.5rem] flex items-center rounded-md from-pink-400 to-red-500 bg-gradient-to-r hover:from-pink-500 hover:to-red-600 text-white transition duration-300",onClick:()=>{e(!1),s("/cart/detail")},children:"Chi tit gi hng"})]})]})})}const Tde=()=>{const{user:t}=jt(),[e,n]=T.useState(0),{data:r}=De({queryKey:["cart"],queryFn:qS,enabled:!!t,refetchOnWindowFocus:!1});return T.useEffect(()=>{if(t&&r&&r.length>0){const s=r[0].items.reduce((i,a)=>i+a.quantity,0);n(s)}else t&&(!r||r.length===0)&&n(0)},[t,r]),T.useEffect(()=>{if(!t){const i=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((l,c)=>l+c.quantity,0);n(i);const a=()=>{const c=JSON.parse(localStorage.getItem("localCart")||"[]").reduce((u,d)=>u+d.quantity,0);n(c)};return window.addEventListener("storage",a),window.addEventListener("localStorageUpdate",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("localStorageUpdate",a)}}},[t]),e},FR=async t=>{let e=null;return t&&(e=Object.values(t).filter(r=>r!=="")),await he.get("/api/v1/voucher/get-vouchers",{...t&&e?{params:e.join("/")}:{}})},GS=async()=>await he.get("/api/v1/voucher/get-saved-voucher");var ng={exports:{}},Ede=ng.exports,sM;function Mde(){return sM||(sM=1,(function(t,e){(function(n,r){t.exports=r()})(Ede,(function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",d="week",f="month",p="quarter",g="year",x="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var q=["th","st","nd","rd"],F=U%100;return"["+U+(q[(F-20)%10]||q[F]||q[0])+"]"}},C=function(U,q,F){var B=String(U);return!B||B.length>=q?U:""+Array(q+1-B.length).join(F)+U},M={s:C,z:function(U){var q=-U.utcOffset(),F=Math.abs(q),B=Math.floor(F/60),$=F%60;return(q<=0?"+":"-")+C(B,2,"0")+":"+C($,2,"0")},m:function U(q,F){if(q.date()<F.date())return-U(F,q);var B=12*(F.year()-q.year())+(F.month()-q.month()),$=q.clone().add(B,f),X=F-$<0,H=q.clone().add(B+(X?-1:1),f);return+(-(B+(F-$)/(X?$-H:H-$))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:f,y:g,w:d,d:u,D:x,h:c,m:l,s:a,ms:i,Q:p}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},j="en",A={};A[j]=N;var P="$isDayjsObject",E=function(U){return U instanceof R||!(!U||!U[P])},_=function U(q,F,B){var $;if(!q)return j;if(typeof q=="string"){var X=q.toLowerCase();A[X]&&($=X),F&&(A[X]=F,$=X);var H=q.split("-");if(!$&&H.length>1)return U(H[0])}else{var V=q.name;A[V]=q,$=V}return!B&&$&&(j=$),$||!B&&j},L=function(U,q){if(E(U))return U.clone();var F=typeof q=="object"?q:{};return F.date=U,F.args=arguments,new R(F)},D=M;D.l=_,D.i=E,D.w=function(U,q){return L(U,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var R=(function(){function U(F){this.$L=_(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[P]=!0}var q=U.prototype;return q.parse=function(F){this.$d=(function(B){var $=B.date,X=B.utc;if($===null)return new Date(NaN);if(D.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var H=$.match(b);if(H){var V=H[2]-1||0,Q=(H[7]||"0").substring(0,3);return X?new Date(Date.UTC(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Q)):new Date(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Q)}}return new Date($)})(F),this.init()},q.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},q.$utils=function(){return D},q.isValid=function(){return this.$d.toString()!==v},q.isSame=function(F,B){var $=L(F);return this.startOf(B)<=$&&$<=this.endOf(B)},q.isAfter=function(F,B){return L(F)<this.startOf(B)},q.isBefore=function(F,B){return this.endOf(B)<L(F)},q.$g=function(F,B,$){return D.u(F)?this[B]:this.set($,F)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(F,B){var $=this,X=!!D.u(B)||B,H=D.p(F),V=function(ge,Se){var nt=D.w($.$u?Date.UTC($.$y,Se,ge):new Date($.$y,Se,ge),$);return X?nt:nt.endOf(u)},Q=function(ge,Se){return D.w($.toDate()[ge].apply($.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(Se)),$)},Z=this.$W,ee=this.$M,le=this.$D,pe="set"+(this.$u?"UTC":"");switch(H){case g:return X?V(1,0):V(31,11);case f:return X?V(1,ee):V(0,ee+1);case d:var ne=this.$locale().weekStart||0,ue=(Z<ne?Z+7:Z)-ne;return V(X?le-ue:le+(6-ue),ee);case u:case x:return Q(pe+"Hours",0);case c:return Q(pe+"Minutes",1);case l:return Q(pe+"Seconds",2);case a:return Q(pe+"Milliseconds",3);default:return this.clone()}},q.endOf=function(F){return this.startOf(F,!1)},q.$set=function(F,B){var $,X=D.p(F),H="set"+(this.$u?"UTC":""),V=($={},$[u]=H+"Date",$[x]=H+"Date",$[f]=H+"Month",$[g]=H+"FullYear",$[c]=H+"Hours",$[l]=H+"Minutes",$[a]=H+"Seconds",$[i]=H+"Milliseconds",$)[X],Q=X===u?this.$D+(B-this.$W):B;if(X===f||X===g){var Z=this.clone().set(x,1);Z.$d[V](Q),Z.init(),this.$d=Z.set(x,Math.min(this.$D,Z.daysInMonth())).$d}else V&&this.$d[V](Q);return this.init(),this},q.set=function(F,B){return this.clone().$set(F,B)},q.get=function(F){return this[D.p(F)]()},q.add=function(F,B){var $,X=this;F=Number(F);var H=D.p(B),V=function(ee){var le=L(X);return D.w(le.date(le.date()+Math.round(ee*F)),X)};if(H===f)return this.set(f,this.$M+F);if(H===g)return this.set(g,this.$y+F);if(H===u)return V(1);if(H===d)return V(7);var Q=($={},$[l]=r,$[c]=s,$[a]=n,$)[H]||1,Z=this.$d.getTime()+F*Q;return D.w(Z,this)},q.subtract=function(F,B){return this.add(-1*F,B)},q.format=function(F){var B=this,$=this.$locale();if(!this.isValid())return $.invalidDate||v;var X=F||"YYYY-MM-DDTHH:mm:ssZ",H=D.z(this),V=this.$H,Q=this.$m,Z=this.$M,ee=$.weekdays,le=$.months,pe=$.meridiem,ne=function(Se,nt,Ke,Pe){return Se&&(Se[nt]||Se(B,X))||Ke[nt].slice(0,Pe)},ue=function(Se){return D.s(V%12||12,Se,"0")},ge=pe||function(Se,nt,Ke){var Pe=Se<12?"AM":"PM";return Ke?Pe.toLowerCase():Pe};return X.replace(w,(function(Se,nt){return nt||(function(Ke){switch(Ke){case"YY":return String(B.$y).slice(-2);case"YYYY":return D.s(B.$y,4,"0");case"M":return Z+1;case"MM":return D.s(Z+1,2,"0");case"MMM":return ne($.monthsShort,Z,le,3);case"MMMM":return ne(le,Z);case"D":return B.$D;case"DD":return D.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return ne($.weekdaysMin,B.$W,ee,2);case"ddd":return ne($.weekdaysShort,B.$W,ee,3);case"dddd":return ee[B.$W];case"H":return String(V);case"HH":return D.s(V,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return ge(V,Q,!0);case"A":return ge(V,Q,!1);case"m":return String(Q);case"mm":return D.s(Q,2,"0");case"s":return String(B.$s);case"ss":return D.s(B.$s,2,"0");case"SSS":return D.s(B.$ms,3,"0");case"Z":return H}return null})(Se)||H.replace(":","")}))},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(F,B,$){var X,H=this,V=D.p(B),Q=L(F),Z=(Q.utcOffset()-this.utcOffset())*r,ee=this-Q,le=function(){return D.m(H,Q)};switch(V){case g:X=le()/12;break;case f:X=le();break;case p:X=le()/3;break;case d:X=(ee-Z)/6048e5;break;case u:X=(ee-Z)/864e5;break;case c:X=ee/s;break;case l:X=ee/r;break;case a:X=ee/n;break;default:X=ee}return $?X:D.a(X)},q.daysInMonth=function(){return this.endOf(f).$D},q.$locale=function(){return A[this.$L]},q.locale=function(F,B){if(!F)return this.$L;var $=this.clone(),X=_(F,B,!0);return X&&($.$L=X),$},q.clone=function(){return D.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},U})(),G=R.prototype;return L.prototype=G,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",f],["$y",g],["$D",x]].forEach((function(U){G[U[1]]=function(q){return this.$g(q,U[0],U[1])}})),L.extend=function(U,q){return U.$i||(U(q,R,L),U.$i=!0),L},L.locale=_,L.isDayjs=E,L.unix=function(U){return L(1e3*U)},L.en=A[j],L.Ls=A,L.p={},L}))})(ng)),ng.exports}var Pde=Mde();const Zr=af(Pde);function Ru({showNotify:t,content:e,duration:n,onClose:r,isSuccess:s=!0}){return o.jsxs(bt,{open:t,duration:n,onClose:r,className:"flex flex-col justify-center items-center gap-[1rem] min-w-[30rem] max-w-[50rem] min-h-[10rem] bg-white p-[3rem] rounded-lg",children:[o.jsx("div",{className:`w-[4rem] h-[4rem] rounded-full ${s?"bg-green-500":"bg-red-500"} flex items-center justify-center`,children:s?o.jsx(z,{icon:bo,className:"text-[2rem] text-white"}):o.jsx(z,{icon:LG,className:"text-[2rem] text-white"})}),o.jsx("div",{className:"text-gray-600 select-none ",children:e})]})}function Ade({open:t,onClose:e,vouchers:n}){const{user:r}=jt(),s=Ze(),[i,a]=T.useState({open:!1,content:"",isSuccess:!1}),{data:l,isLoading:c,refetch:u}=De({queryKey:["getSavedVouchers"],queryFn:()=>GS(),enabled:!!r}),d=l&&l.data;if(!n)return null;const f=x=>Zr(x).format("HH:mm DD/MM/YYYY"),p=x=>{navigator.clipboard.writeText(x.voucherCode).then(()=>{a({open:!0,content:" sao chp m!",isSuccess:!0})}).catch(()=>{a({open:!0,content:"Sao chp m khng thnh cng!",isSuccess:!1})})},g=async x=>{try{(await he.post(`/api/v1/voucher/save-voucher/${x.voucherCode}`)).status&&(a({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await u())}catch(v){console.log(v),a({open:!0,content:"Lu m khng thnh cng!",isSuccess:!1})}};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t,className:"relative flex flex-col w-[90%] md:w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(z,{icon:cn,className:"text-3xl"})}),o.jsx("h2",{className:"font-bold text-center text-pink-600",children:"Chi Tit Voucher"})]}),c?o.jsx("div",{className:"my-16 text-center",children:"ang ti d liu..."}):o.jsx("div",{className:"md:px-8 px-6 space-y-4 z-0",children:n&&n?.length>0?n?.map(x=>{const v=r&&d.some(b=>b.id===x.id);return o.jsxs("div",{className:"flex items-center bg-gradient-to-r from-pink-500 to-blue-600 rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden ",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-40 h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-56 h-56 bg-white rounded-full"})]}),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none",children:x.name}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-6 py-3 rounded-xl font-mono font-bold tracking-wider",children:x.voucherCode}),o.jsx("button",{onClick:()=>p(x),className:"flex items-center text-[1.4rem] gap-2 bg-white text-pink-600 px-4 py-3.5 rounded-xl hover:bg-gray-100 transition shadow-md",children:o.jsx(z,{icon:QG})})]}),o.jsxs("div",{className:"text-[1.4rem] md:text-[2.2rem] font-extrabold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1.2rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] md:text-[1.2rem] gap-2",children:["Thi hn: n ",f(x.endDate)]})]})}),r&&o.jsx("div",{className:"relative z-[100] ml-auto",children:o.jsx("button",{className:`px-8 py-3 rounded-xl ${v?"border border-white text-white":"bg-red-500 hover:bg-red-600"}  transition-colors duration-300 text-[1rem] md:text-[1.4rem] cursor-pointer`,onClick:()=>{r?g(x):s("/login")},children:v?" lu":"Lu m"})})]},x.id)}):o.jsx("div",{children:"Khng c d liu"})}),o.jsx("div",{className:"sticky bottom-0  bg-white border-t border-gray-200 md:px-8 px-6 py-6 text-end z-10",children:o.jsx("button",{onClick:e,className:"px-12 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})})]}),o.jsx(Ru,{showNotify:i.open,duration:1e3,onClose:()=>a({open:!1,content:"",isSuccess:!1}),isSuccess:i.isSuccess,content:i.content})]})}function YS({open:t,onClose:e}){const n=Ze();return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[45rem] xl:w-[50rem] h-auto rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600",children:"Vui lng ng nhp  thc hin"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp"})]})]})}function zR({onClose:t}){const e=ir(),n=Ze(),r=e.pathname.split("/").filter(Boolean),s=r.length>1?r.slice(1):[],{data:i,isLoading:a}=De({queryKey:["getAllCategory"],queryFn:()=>ec()}),l=f=>f.length===0?!1:f.every((p,g)=>p===s[g]),c=f=>{f.length!==0&&(n(`/category/${f.join("/")}`),t&&t())},u=({categories:f,parentSlugChain:p})=>o.jsx(o.Fragment,{children:f.map(g=>{const x=[...p,g.slug],v=l(x),b=g.children&&g.children.length>0,w=s.length>=x.length&&l(x);return o.jsxs("div",{className:"my-2",children:[o.jsxs("div",{onClick:N=>{N.stopPropagation(),c(x)},className:`
                  flex items-center justify-between px-3 md:px-5 py-3 md:py-4 rounded-lg cursor-pointer
                  transition-all text-[1.3rem] md:text-[1.4rem]
                  ${v?"bg-pink-50 text-pink-600 font-medium":"hover:bg-gray-100"}
                `,children:[o.jsx("span",{children:g.categoryName}),b&&o.jsx(z,{icon:w?Eh:an,className:"text-[1.2rem]"})]}),b&&w&&o.jsx("div",{className:"ml-3 md:ml-4 mt-1 border-l-2 border-pink-300 pl-2 md:pl-3",children:o.jsx(u,{categories:g.children,parentSlugChain:x})})]},g.id)})}),d=()=>o.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 animate-pulse",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[5rem] md:h-[5rem] rounded-lg bg-gray-200"}),o.jsx("div",{className:"flex-1 h-[3rem] rounded-lg bg-gray-200"})]});return o.jsxs("div",{className:"bg-white h-full text-[1.4rem] md:text-[1.6rem] w-full md:w-[26rem] shadow-xl md:shadow-none",children:[o.jsxs("div",{className:"md:hidden sticky top-0 bg-white z-10 border-b border-gray-200 px-4 py-4 flex items-center justify-between",children:[o.jsx("h4",{className:"text-[1.8rem] font-bold text-gray-800",children:"Danh mc sn phm"}),t&&o.jsx("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:o.jsx(z,{icon:S_,className:"text-[2rem] text-gray-600"})})]}),o.jsx("h4",{className:"hidden md:block font-bold mb-[1rem] text-gray-600 pl-[1rem] px-1.5 py-1.5 md:px-[1rem] md:py-[1rem]",children:"Danh mc"}),o.jsx("div",{className:"px-3 md:px-[1rem] pb-4 overflow-y-auto h-[calc(100vh-8rem)] md:h-auto",children:a?o.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((f,p)=>o.jsx(d,{},p))}):o.jsx("div",{className:"space-y-2 md:space-y-4",children:i&&i.length>0&&i.map(f=>{const p=[f.slug],g=l(p),x=f.children&&f.children.length>0;return o.jsxs("div",{onClick:v=>{v.stopPropagation(),c(p)},children:[o.jsxs("div",{className:`
                        flex items-center justify-between px-3 md:px-4 py-3 rounded-lg cursor-pointer
                        transition-all group
                        ${g?"bg-pink-50 shadow-sm":"hover:bg-gray-50"}
                      `,children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[f.image?o.jsx("img",{src:f.image,alt:f.categoryName,className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg object-cover flex-shrink-0 shadow-sm"}):o.jsx("div",{className:"w-[4rem] h-[4rem] md:w-[4.5rem] md:h-[4.5rem] rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:o.jsx(z,{icon:v_,className:"text-[1.8rem] md:text-[2rem] text-gray-400"})}),o.jsx("span",{className:`text-[1.3rem] md:text-[1.5rem] truncate ${g?"text-pink-600":"text-gray-700"}`,children:f.categoryName})]}),x&&o.jsx(z,{icon:g?Eh:an,className:`text-[1.2rem] flex-shrink-0 transition-transform duration-300 ${g?"text-pink-600":"text-gray-400"}`})]}),g&&x&&o.jsx("div",{className:"mt-2 ml-4 md:ml-6 border-l-2 border-pink-300 pl-3 md:pl-4",children:o.jsx(u,{categories:f.children,parentSlugChain:p})})]},f.id)})})})]})}const VR=()=>{const[t]=T.useState(()=>{let e=localStorage.getItem("search_session_id");return e||(e=crypto.randomUUID(),localStorage.setItem("search_session_id",e)),e});return t};function Ode(t,e=1e3){const[n,r]=T.useState(t);return T.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[e,t]),n}function iM({isMobile:t}){const{user:e}=jt(),[n]=Ni(),r=n.get("q"),s=Ze(),[i,a]=T.useState(""),l=T.useRef(null),[c,u]=T.useState(!1),d=Ode(i,500),[f,p]=T.useState(!0),[g,x]=T.useState({open:!1,data:[]}),v=VR();if(!v)throw new Error("sessionId khng tn ti!");const{data:b,isLoading:w,refetch:N}=De({queryKey:["recentSearches",v],queryFn:()=>fte(v,Number(e?.id)),enabled:c&&(!!e||!!v),staleTime:60*1e3}),C=b&&b.data||[];T.useEffect(()=>{r&&(a(r),x(L=>({...L,open:!1})))},[r]);const M=T.useCallback(async L=>{if(L.trim())try{(await he.post("/api/v1/search/save",{query:L.trim(),...e?void 0:{session_id:v}})).status&&await N()}catch(D){console.log(D)}},[e,v,N]);T.useEffect(()=>{if(!d)return;const L=new AbortController;return p(!0),(async()=>{try{const R=await he.get("/api/v1/product/suggest",{params:{productName:d}});R.status&&x(G=>({...G,data:R.suggestions}))}catch(R){console.log(R)}finally{p(!1)}})(),()=>L.abort()},[d]);const j=L=>{if(L.key==="Enter"){L.preventDefault();const D=i.trim();D&&(M(D),s(`/search?q=${encodeURIComponent(D)}`))}},A=L=>{L&&(a(L),x(D=>({...D,open:!1})),s(`/search?q=${encodeURIComponent(L)}`))},P=c,E=t?"mt-4 mb-2":"relative flex-1 max-w-2xl mx-4 lg:mx-8",_=t?"text-[1.4rem] w-full h-[3.5rem] pl-12 pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors":"text-[1.4rem] w-full h-[3.5rem] md:h-[4rem] pl-10 md:pl-[3.4rem] pr-4 border-2 border-gray-300 rounded-full outline-none focus:border-pink-500 transition-colors";return o.jsxs("div",{className:E,ref:l,children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"text",className:_,placeholder:t?"Tm kim sn phm...":"Tm o thun, qun jean, giy sneaker...",value:i,onChange:L=>{const D=L.target.value;D.startsWith(" ")&&i===""||a(D)},onFocus:()=>u(!0),onBlur:()=>{setTimeout(()=>u(!1),200)},onKeyDown:j}),o.jsx(z,{icon:Dr,className:`text-gray-400 absolute top-1/2 -translate-y-1/2 ${t?"w-4 h-4 left-3":"w-4 h-4 md:w-5 md:h-5 left-3 md:left-4"}`})]}),P&&o.jsx("div",{className:"text-[1.4rem] absolute top-[calc(100%)] md:top-[calc(100%+.5rem)] left-0 bg-white w-full max-h-[400px] overflow-y-auto border border-gray-300 rounded-md shadow-xl z-50",children:i.trim()?o.jsx(o.Fragment,{children:f?o.jsx("div",{className:"p-5 text-center text-gray-500",children:"ang tm kim..."}):g.data.length>0?g.data.map((L,D)=>o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer transition-colors",onMouseDown:()=>A(L),children:[o.jsx(z,{icon:Dr,className:"text-gray-400 mr-3"}),L]},D)):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Khng tm thy sn phm ph hp"})}):o.jsx(o.Fragment,{children:w?o.jsx("div",{className:"p-6 text-center text-gray-500",children:"ang ti..."}):C.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-5 text-[1.4rem] text-gray-500 font-medium border-b border-b-gray-300",children:"Tm kim gn y"}),C.map((L,D)=>{const R=typeof L=="string"?L:L.query;return o.jsxs("div",{className:"p-5 hover:bg-pink-50 cursor-pointer flex items-center gap-3 transition-colors",onClick:()=>A(L.query),children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(z,{icon:qG,className:"text-gray-400"}),o.jsx("span",{className:"flex-1",children:R})]}),o.jsx("button",{className:"ml-auto cursor-pointer",children:o.jsx(z,{icon:cn,className:"hover:text-gray-800 text-gray-500"})})]},D)})]}):o.jsx("div",{className:"p-6 text-center text-gray-500",children:"Cha c lch s tm kim"})})})]})}function $R({isFooter:t=!1}){return o.jsxs(Qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-gradient-to-br from-pink-500 to-red-600 text-white w-14 h-14 md:w-[3.5rem] md:h-[3.5rem] rounded-lg flex items-center justify-center font-bold text-lg md:text-xl",children:"K"}),o.jsxs("div",{className:"block",children:[o.jsx("div",{className:"text-[1.8rem] md:text-[2.2rem] font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent",children:"NTK."}),o.jsx("div",{className:`text-[1rem] md:text-[1.2rem] ${t?"text-white":"text-gray-500"}  -mt-1`,children:"Style Your Life"})]})]})}function XS(){const[t,e]=T.useState(!1),{user:n}=jt(),{logout:r}=Jl(),s=Tde(),[i,a]=T.useState(!0),[l,c]=T.useState(!1),u=Ze(),[d,f]=T.useState(!1),p=ir(),g=T.useRef(null),[x,v]=T.useState(!1),[b,w]=T.useState(window.innerWidth<768),[N,C]=T.useState({open:!1,data:null}),[M,j]=T.useState(!1),{data:A,isLoading:P}=De({queryKey:["vouchers"],queryFn:()=>FR()}),E=A&&A.data,{data:_,isLoading:L}=De({queryKey:["getAllCategory"],queryFn:()=>ec()});T.useEffect(()=>{const U=()=>w(window.innerWidth<768);return window.addEventListener("resize",U),()=>{window.addEventListener("resize",U)}},[]),T.useEffect(()=>{const U=()=>{window.scrollY>50?a(!1):a(!0)};return p.pathname.includes("/customer")||window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)},[p]),T.useEffect(()=>{const U=q=>{g.current&&!g.current.contains(q?.target)&&j(!1)};return document.addEventListener("click",U),()=>{document.removeEventListener("click",U)}},[]);const D=U=>n?n.role===qt.ADMIN||n.role===qt.STAFF?u("/dashboard"):u(`/${U}`):u(`/${U}`),R=U=>{if(U)u(`/category/${U}`);else if(_){const q=_[0];u(`/category/${q.slug}`)}},G=U=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(U);return o.jsxs("header",{className:`${p.pathname.includes("/customer")?"fixed top-0 left-0 md:relative":"fixed top-0 left-0"} w-full bg-white z-[999] ${p.pathname.includes("/customer")?"":i?" shadow-none":"shadow-xl"}`,children:[P?o.jsx(o.Fragment,{}):E?.map((U,q)=>{if(!(q>=1))return o.jsx("div",{className:`px-4 md:px-8 lg:px-12 xl:px-[12rem] bg-gradient-to-r from-pink-600 to-red-500 w-full ${i?"h-[3.5rem] opacity-[1]":"opacity-0 h-[0] overflow-hidden"} flex items-center justify-between transition-all duration-300 cursor-pointer`,onClick:()=>{n?C({open:!0,data:E}):c(!0)},children:o.jsxs("p",{className:"text-[1rem] sm:text-[1.2rem] md:text-[1.4rem] text-white whitespace-nowrap overflow-hidden text-ellipsis px-2",children:[" ",U.name," - Gim"," ",U.type===ai.PERCENT?`${U.value}%`:`${G(U.value)}`," ",U.minOrderValue>0&&`- n t ${G(U.minOrderValue)}`]})},U.id)}),o.jsxs("div",{className:"relative md:px-8 lg:px-12 xl:px-[12rem] py-2 md:py-[1rem]",children:[o.jsxs("div",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx($R,{})}),o.jsxs("div",{className:"md:hidden flex items-center space-x-12",children:[o.jsxs("div",{className:" relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-8 h-8 group-hover:text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),n&&o.jsx("span",{className:"absolute -top-3 left-[1.5rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s})]}),o.jsx("div",{className:`w-15 h-15 ${n?"border-1":"border-2"} border-gray-400 rounded-full flex flex-col items-center justify-center gap-1 group transition-colors`,onClick:U=>{U.stopPropagation(),j(!M)},children:n?.avatar?o.jsx("img",{src:n.avatar,alt:"avatar user",className:"w-full h-full rounded-full object-cover"}):o.jsx(z,{icon:qi,className:`${n?"text-pink-500":"text-gray-400"} group-hover:text-pink-600 text-[1.6rem]`})})]}),o.jsx("div",{className:"relative hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:o.jsx(iM,{isMobile:!1})}),o.jsxs("div",{className:"hidden md:flex items-center gap-4 lg:gap-6 z-[900]",children:[n?o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 group transition-colors",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",children:[o.jsx("p",{children:n.username.trim().split(" ").splice(-1,2)}),o.jsx("img",{src:n.avatar,alt:"User avatar",className:"w-[3.5rem] h-[3.5rem] rounded-full object-cover cursor-pointer"})]}),o.jsxs("div",{className:`absolute top-full mt-2 w-[22rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>D("customer/account/profile"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600",children:[o.jsx(z,{icon:qi,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"Ti khon ca ti"})]}),o.jsxs("button",{onClick:()=>D("customer/order"),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600",children:[o.jsx(z,{icon:Mh,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"n hng ca ti"})]})]}),o.jsx("div",{className:"border-t border-gray-200",children:o.jsxs("button",{onClick:()=>{r(),u("/")},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left text-gray-600 hover:text-red-600",children:[o.jsx(z,{icon:u2,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng xut"})]})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group cursor-pointer",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsx(z,{icon:qi,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline whitespace-nowrap",children:"Ti khon"}),o.jsxs("div",{className:`absolute top-full mt-2 w-[18rem] bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden transition-all duration-200 z-[1000] ${d?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[o.jsxs("button",{onClick:()=>D("login"),className:"w-full px-4 py-4 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600 border-b border-gray-200",children:[o.jsx(z,{icon:NG,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng nhp"})]}),o.jsxs("button",{onClick:()=>D("register"),className:"w-full px-4 py-4 flex items-center gap-3 hover:bg-pink-50 transition-colors text-left text-gray-600 hover:text-pink-600",children:[o.jsx(z,{icon:DG,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.4rem]",children:"ng k"})]})]})]}),o.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-pink-600 transition-colors group cursor-pointer",onClick:()=>u("/look-up-order"),children:[o.jsx(z,{icon:Kb,className:"w-[1.6rem]"}),o.jsx("span",{className:"text-[1.2rem] group-hover:underline whitespace-nowrap",children:"n hng"})]})]}),o.jsxs("div",{className:"relative flex flex-col items-center gap-1 group transition-colors cursor-pointer",onClick:()=>e(!0),children:[o.jsx("svg",{className:"w-6 h-6 text-gray-600 group-hover:text-pink-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),o.jsx("span",{className:"text-[1.2rem] text-gray-600 group-hover:text-pink-600 group-hover:underline whitespace-nowrap transition-colors",children:"Gi hng"}),n&&s>0&&o.jsx("span",{className:"absolute -top-2 left-[3rem] bg-red-500 text-white text-[10px] w-[1.5rem] h-[1.5rem] rounded-full flex items-center justify-center",children:s>99?"99+":s})]})]})]}),o.jsx("div",{className:"md:hidden mt-4 mb-2",children:o.jsx(iM,{isMobile:!0})})]}),M&&o.jsx("div",{ref:g,className:"fixed top-0 right-0 md:hidden w-full h-full bg-[#3e3e3e6f] border-t border-gray-200 z-[100]",onClick:U=>{U.stopPropagation(),j(!1)},children:o.jsx("div",{className:"flex flex-col gap-8 bg-white w-[80%] h-full p-[2rem]",onClick:U=>{U.stopPropagation()},children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-[1rem] pb-[2rem] border-b border-b-gray-200",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] sm:w-[5rem] sm:h-[5rem] rounded-full border border-gray-400 flex items-center justify-center flex-shrink-0",children:n?.avatar?o.jsx("img",{src:n?.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx(z,{icon:qi,className:"text-gray-400 text-[1.6rem] sm:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-[.2rem] min-w-0",children:[o.jsx("p",{className:"font-bold truncate",children:n?.username}),o.jsxs("div",{className:"text-[1.4rem] text-gray-600 cursor-pointer",onClick:()=>{u("customer/account/profile"),j(!1)},children:[o.jsx(z,{icon:Bs}),o.jsx("span",{className:"ml-1",children:"Chnh sa h s"})]})]})]}),o.jsxs("button",{onClick:()=>{D("customer/account/profile"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:qi,className:"w-5"}),"Ti khon ca ti"]}),o.jsxs("button",{onClick:()=>{D("customer/order"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:Mh,className:"w-5"}),"n hng ca ti"]}),o.jsxs("button",{onClick:()=>{D("customer/account/address"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:y_,className:"w-5"}),"a ch"]}),o.jsxs("button",{onClick:()=>{D("customer/my-voucher"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:wN,className:"w-5"}),"Voucher ca ti"]}),o.jsxs("button",{onClick:()=>{u("/customer/account/privacy"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:Kb,className:"w-5"}),"Thit lp ring"]}),o.jsxs("button",{onClick:()=>{r(),u("/"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-red-600 text-[1.4rem]",children:[o.jsx(z,{icon:u2,className:"w-5"}),"ng xut"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{D("login"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:qi,className:"w-5"}),"ng nhp"]}),o.jsxs("button",{onClick:()=>{D("register"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:qi,className:"w-5"}),"ng k"]}),o.jsxs("button",{onClick:()=>{u("/look-up-order"),j(!1)},className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 text-[1.4rem]",children:[o.jsx(z,{icon:Kb,className:"w-5"}),"Tra cu n"]})]})})})]}),o.jsx("div",{className:"md:block w-[100%] border-t border-t-gray-300 py-[1rem] px-4 md:px-8 lg:px-12 xl:px-[12rem]",children:o.jsxs("nav",{className:"flex items-center justify-between h-12",children:[o.jsxs("ul",{className:"flex items-center gap-4 lg:gap-8 overflow-x-auto scrollbar-hide",children:[o.jsx("li",{className:"relative group shrink-0 gap-2",children:o.jsxs("button",{className:"flex items-center text-[1.2rem] lg:text-[1.4rem] font-medium text-pink-600 hover:text-pink-700 whitespace-nowrap mt-1",onClick:()=>{b?v(!0):R()},children:[o.jsx(z,{icon:k_}),o.jsx("span",{children:"DANH MC"})]})}),L?o.jsx(o.Fragment,{}):_&&_.length>0&&_.filter(U=>!U.parentId).map(U=>o.jsx("li",{onClick:()=>R(U.slug),className:"shrink-0",children:o.jsx(Qe,{to:`/category/${U.slug}`,className:"font-medium text-[1.2rem] lg:text-[1.4rem] hover:text-pink-600 transition-colors uppercase whitespace-nowrap",children:U.categoryName})},U.id))]}),o.jsxs("div",{className:"hidden lg:flex items-center gap-4 text-[1.4rem] shrink-0",children:[o.jsx(Qe,{to:"/about-us",className:"hover:text-pink-600 text-gray-600 transition-colors whitespace-nowrap",children:"Gii thiu"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsxs("a",{href:"https://www.facebook.com/kien.trung.732841/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(z,{icon:Sde}),"Facebook"]}),o.jsxs("a",{href:"https://www.instagram.com/trungkien4420/",className:"hover:text-pink-600 text-gray-600 transition-colors flex items-center gap-1 whitespace-nowrap",children:[o.jsx(z,{icon:LR}),"Instagram"]})]})]})}),o.jsx(kde,{setShowCart:e,showCart:t}),b&&x&&o.jsx("div",{className:"fixed top-0 left-0 h-full w-full bg-[#36363650] z-[999]",onClick:()=>v(!1),children:o.jsx("div",{className:"w-[85%] max-w-[36rem] h-full bg-white",onClick:U=>U.stopPropagation(),children:o.jsx(zR,{onClose:()=>v(!1)})})}),o.jsx(Ade,{open:N.open,onClose:()=>C({open:!1,data:null}),vouchers:N.data}),o.jsx(YS,{open:l,onClose:()=>c(!1)})]})}function QS(){return o.jsxs("footer",{className:"px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] py-8 bg-gray-700 text-white mt-20",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-4 pb-5 border-b border-b-gray-400 mb-8",children:[o.jsx($R,{isFooter:!0}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qe,{to:"https://www.facebook.com/profile.php?id=100029756161612&locale=vi_VN",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:o.jsx(z,{icon:Cde,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:o.jsx(z,{icon:LR,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"#","aria-label":"Twitter",children:o.jsx(z,{icon:jde,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})}),o.jsx(Qe,{to:"#","aria-label":"Google",children:o.jsx(z,{icon:Nde,className:"text-white text-[2rem] md:text-[3rem] hover:text-primary transition-colors shadow-app-footer"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"V Shop"}),o.jsx("p",{className:"text-gray-300 text-[1.4rem]",children:"Chuyn cung cp thi trang cht lng cao vi gi c hp l"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"H tr khch hng"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Qe,{to:"/huong-dan-mua-hang",className:"hover:text-primary",children:"Hng dn mua hng"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/chinh-sach-doi-tra",className:"hover:text-primary",children:"Chnh sch i tr"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/phuong-thuc-thanh-toan",className:"hover:text-primary",children:"Phng thc thanh ton"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/van-chuyen",className:"hover:text-primary",children:"Vn chuyn"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Chnh sch"}),o.jsxs("ul",{className:"text-gray-300 space-y-4 text-[1.4rem]",children:[o.jsx("li",{children:o.jsx(Qe,{to:"/chinh-sach-bao-mat",className:"hover:text-primary",children:"Chnh sch bo mt"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/dieu-khoan-su-dung",className:"hover:text-primary",children:"iu khon s dng"})}),o.jsx("li",{children:o.jsx(Qe,{to:"/quy-dinh-chung",className:"hover:text-primary",children:"Quy nh chung"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold mb-3 ",children:"Lin h"}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Hotline:"})," 0357 124 853"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Email:"})," nguyentrungkien040921@gmail.com"]}),o.jsxs("p",{className:"text-gray-300 text-[1.4rem]",children:[o.jsx("strong",{children:"Gi lm vic:"})," 8:00 - 22:00"]})]})]}),o.jsx("div",{className:" mt-8 pt-6 border-t border-gray-400 text-center text-gray-300 text-[1.4rem]",children:o.jsx("p",{children:" 2025 Shop Qun o. c pht trin bi Nguyn Trung Kin"})})]})}function _de(){const t=ir();return o.jsxs("div",{children:[o.jsx(XS,{}),o.jsx("div",{className:`w-full h-auto ${t.pathname.includes("/customer")?"mt-[2.5rem]":"mt-[20rem] md:mt-[17rem]"}`,children:o.jsx(Ql,{})}),o.jsx(QS,{})]})}function BR({open:t,item:e,dataGuest:n,onClose:r,refetch:s}){const{user:i}=jt(),[a,l]=T.useState({message:"",rating:5,images:[],showAccount:!0}),[c,u]=T.useState({message:"",images:""}),[d,f]=T.useState(!1),[p,g]=T.useState([]);T.useEffect(()=>{e&&l({message:"",rating:5,images:[],showAccount:!0})},[e]);const x=j=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j),v=j=>{l(A=>({...A,rating:j}))},b=j=>{const{files:A}=j.target;if(!A)return;const P=a.images,E=2-P.length;if(E<=0){u(L=>({...L,images:"Ch c upload ti a 2 nh!"}));return}const _=Array.from(A).slice(0,E);l(L=>({...L,rating:L?.rating||5,message:L?.message||"",images:[...P,..._]})),_.forEach(L=>{const D=URL.createObjectURL(L);g(R=>[...R,D])})},w=j=>{l(A=>({...A,images:A.images.filter((P,E)=>E!==j)})),g(A=>A.filter((P,E)=>E!==j))},N=async j=>{if(a.message.length>200){u(P=>({...P,message:"Ni dung khng c qu 200 k t!"}));return}if(a.images.length>2){u(P=>({...P,images:"Ch c upload ti a 2 nh!"}));return}f(!0);const A=new FormData;!i&&n&&(A.append("customerEmail",n?.customerEmail),A.append("customerName",n?.customerName)),A.append("rating",a.rating.toString()),A.append("showAccount",a.showAccount.toString()),A.append("orderItemId",j.toString()),a.message!==""&&A.append("message",a.message),a.images.length>0&&a.images.forEach(P=>{A.append("images",P)});try{const P=await he.post("/api/v1/evaluate/add",A,{headers:{"Content-Type":"multipart/form-data"}});P.status&&(await s(),ce.success(P.message),r())}catch(P){console.log(P),ce.error(P.message)}finally{f(!1)}},C=j=>{u(A=>j?{...A,...j==="message"?{message:""}:{images:""}}:{images:"",message:""})},M=e&&e.variant.product;return o.jsxs(bt,{open:t,className:"relative w-[65rem] min-h-[20rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[1rem] right-[1rem]",onClick:j=>{j.stopPropagation(),r()},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsx("h2",{className:"text-[2rem] text-amber-500 mb-[2.5rem] font-bold text-center",children:"nh gi sn phm"}),o.jsx("div",{className:"space-y-8 max-h-[50rem] overflow-auto hide-scrollbar",children:e&&M?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border border-gray-300 rounded-md p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:M.mainImage,alt:M.productName,className:"w-[5rem] h-[5rem] rounded-sm object-cover"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"line-clamp-1",children:M.productName}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["Phn loi: size ",e.variant.variantSize.name,", mu"," ",e.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",e.quantity]})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500",children:x(e.price*e.quantity)})]}),o.jsxs("div",{className:"flex items-center mt-[1rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 mr-[.5rem]",children:["Sao nh gi:"," "]}),o.jsx("div",{className:"space-x-1",children:Array.from({length:5}).map((j,A)=>o.jsx("button",{type:"button",onClick:()=>v(A),children:o.jsx(z,{icon:A<=a.rating?xs:IR,className:`text-[1.6rem] ${A<=a.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},A))})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{name:"message",id:"message",rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",onChange:j=>{C("message"),l(A=>({...A,message:j.target.value}))}}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.message})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsxs("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:[p&&p.length>0&&p.map((j,A)=>o.jsxs("div",{className:"relative w-[8rem] h-[8rem] border border-gray-400 flex flex-col items-center justify-center rounded-md cursor-pointer",children:[o.jsx("img",{src:j,alt:`images-${A}`,className:"w-full h-full object-cover rounded-md"},j),o.jsx("button",{className:"absolute top-[-.5rem] right-[-.5rem] h-[2rem] w-[2rem] flex items-center justify-center rounded-full bg-red-500 hover:bg-red-600",onClick:()=>w(A),children:o.jsx(z,{icon:cn,className:"text-white text-[1.2rem]"})})]},j)),o.jsxs("label",{htmlFor:`image-${e.id}`,className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(z,{icon:Qr,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",id:`image-${e.id}`,name:"images",className:"hidden",accept:"images/*",multiple:!0,onChange:j=>{C("images"),b(j)}})]})]}),o.jsx("p",{className:"text-[1.4rem] text-red-500 mt-[.5rem]",children:c.images})]})]}),o.jsxs("div",{className:"flex justify-end mt-[3.5rem] gap-[1rem]",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:j=>{j.stopPropagation(),r()},disabled:d,children:"Hy"}),o.jsx("button",{type:"button",disabled:d,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",onClick:()=>{C(),N(e.id)},children:d?"ang x l...":"Gi nh gi"})]})]}):o.jsxs("div",{className:"border rounded-md border-gray-300 p-[2rem] animate-pulse",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] bg-gray-200 rounded-sm"}),o.jsxs("div",{className:"max-w-xl",children:[o.jsx("p",{className:"w-full py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[20rem] py-2.5 bg-gray-200"}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]})]}),o.jsx("p",{className:"w-[10rem] py-2.5 bg-gray-200"})]}),o.jsx("div",{className:"flex items-center mt-[1rem]",children:o.jsx("p",{className:"w-[30rem] py-2.5 bg-gray-200"})}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsxs("p",{className:"text-gray-600",children:["Bnh lun ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{rows:4,placeholder:"Nhn xt ca bn v sn phm...",className:"w-full border border-gray-400 p-[1rem] rounded-md mt-[.5rem] outline-cyan-600",disabled:!0})]}),o.jsxs("div",{className:"mt-[1rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Hnh nh minh ha (ti a 2 nh)"}),o.jsx("div",{className:"flex items-center space-x-4 mt-[.5rem]",children:o.jsxs("label",{className:"w-[8rem] h-[8rem] border border-dashed border-gray-600 flex flex-col space-y-1 items-center justify-center rounded-md cursor-pointer",children:[o.jsx(z,{icon:Qr,className:"text-gray-500 text-[1.4rem]"}),o.jsx("span",{className:"text-[1rem] text-gray-600",children:"Thm nh"}),o.jsx("input",{type:"file",className:"hidden",disabled:!0})]})})]}),o.jsx("div",{className:"flex justify-end mt-[1rem]",children:o.jsx("button",{type:"button",disabled:!0,className:"px-[2rem] py-[.5rem] rounded-md bg-amber-400 text-white hover:bg-amber-500 transition duration-300",children:"Gi nh gi"})})]})})]})}const Sx=()=>{const{user:t}=jt(),[e,n]=T.useState(!1),[r,s]=T.useState({show:!1,content:""}),i=ga();return{addToCart:async l=>{n(!0);try{if(!t){let u=JSON.parse(localStorage.getItem("localCart")||"[]");for(const d of l){const f=u.find(p=>p.variantId===d.variantId);f?f.quantity+=d.quantity:u.push({variantId:d.variantId,quantity:d.quantity})}return localStorage.setItem("localCart",JSON.stringify(u)),window.dispatchEvent(new Event("localStorageUpdate")),s({show:!0,content:" thm vo gi hng!"}),!0}if((await he.post("/api/v1/cart/add-to-cart",l)).status)return i.invalidateQueries({queryKey:["cart"]}),s({show:!0,content:" thm vo gi hng!"}),!0}catch{return s({show:!0,content:"C li xy ra!"}),!1}finally{n(!1)}},isLoading:e,notify:r,setNotify:s}},aM={[al.CHANGE_OF_MIND]:"Ti i ",[al.FOUND_BETTER_PRICE]:"Ti tm c gi tt hn",[al.ORDER_BY_MISTAKE]:"Ti t nhm",[al.WRONG_ADDRESS]:"Thay i a ch",[al.OTHER]:"L do khc"};function HR({open:t,onClose:e,orderCode:n,refetch:r,status:s,cancelReason:i,cancelledAt:a,cancelledBy:l}){const{user:c}=jt(),[u,d]=T.useState(!1),[f,p]=T.useState(""),g=s===_e.CANCELLED,[x,v]=T.useState({customerEmail:"",customerPhone:"undefined"}),[b,w]=T.useState({customerEmail:"",customerPhone:"",reason:""}),N=()=>{let M=!0;const j={customerEmail:"",customerPhone:"",reason:""};return c||(x.customerEmail.trim()?/^\S+@\S+\.\S+$/.test(x.customerEmail)||(j.customerEmail="Email khng hp l!",M=!1):(j.customerEmail="Vui lng nhp email  t hng!",M=!1),x.customerPhone.trim()?/^0[1-9]\d{8}$/.test(x.customerPhone)||(j.customerPhone="S in thoi khng hp l!",M=!1):(j.customerPhone="Vui lng nhp s in thoi  t hng!",M=!1)),f||(j.reason="Vui lng chn l do hy n!",M=!1),w(j),M},C=async()=>{if(!n){ce.error("Khng tm thy m n hng");return}if(N()){d(!0);try{const M={reason:f};c||(M.customerEmail=x.customerEmail,M.customerPhone=x.customerPhone);const j=await he.patch(`/api/v1/orders/cancel/${n}`,M);j.status&&(v({customerEmail:"",customerPhone:""}),p(""),w({customerEmail:"",customerPhone:"",reason:""}),await r?.(),ce.success(j.message||"Hy n hng thnh cng!"),e())}catch(M){console.log(M),ce.error(M.message||"C li xy ra!")}finally{d(!1)}}};return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[1.8rem] md:text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Hy n hng"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:M=>{M.stopPropagation(),e()},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),g?o.jsxs("div",{className:"space-y-6 mb-[4rem]",children:[o.jsxs("div",{className:"flex justify-between ",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Thi gian hy"}),o.jsx("p",{className:"font-medium",children:a?new Date(a).toLocaleString("vi-VN"):""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Ngi hy"}),o.jsx("p",{className:"font-medium",children:l})]})]}),o.jsxs("div",{className:"w-full py-[1rem] rounded-md shadow-md flex flex-col justify-center px-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do hy n"}),o.jsx("p",{className:"",children:aM[i]})]}),o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(z,{icon:NN,className:"text-amber-600 mt-0.5"}),o.jsx("p",{className:" text-amber-800",children:"n hng  c hy v khng th khi phc. Bn c th t li n hng mi nu cn."})]})]}):o.jsxs(o.Fragment,{children:[!c&&o.jsxs("div",{className:"flex items-start space-x-6 mb-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerEmail",className:"text-gray-600",children:"Email"}),o.jsx("input",{type:"email",name:"customerEmail",id:"customerEmail",value:x.customerEmail,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:M=>{v(j=>({...j,customerEmail:M.target.value})),b.customerEmail&&w(j=>({...j,customerEmail:""}))}}),b.customerEmail&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerEmail})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"customerPhone",className:"text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",name:"customerPhone",id:"customerPhone",value:x.customerPhone,className:"w-full h-[4rem] rounded-md border border-gray-400 outline-none focus:border-cyan-400 px-[1.5rem] mt-1",onChange:M=>{v(j=>({...j,customerPhone:M.target.value})),b.customerPhone&&w(j=>({...j,customerPhone:""}))}}),b.customerPhone&&o.jsx("p",{className:"text-red-500 mt-1",children:b.customerPhone})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"block text-gray-600 pb-[1rem]",children:"L do hy n"}),Object.entries(aM).map(([M,j])=>o.jsxs("div",{className:"flex items-center space-x-6 py-4 pl-[2rem] cursor-pointer",children:[o.jsx("input",{type:"radio",id:`reason-${M}`,name:"reason",value:M,style:{scale:1.4,backgroundColor:"red"},className:"cursor-pointer",onChange:A=>{p(A.target.value)}}),o.jsx("label",{htmlFor:`reason-${M}`,className:"cursor-pointer select-none",children:j})]},M))]})]}),b.reason&&o.jsx("p",{className:"text-red-500 mt-2 pl-[2rem]",children:b.reason}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none",onClick:M=>{M.stopPropagation(),e()},children:s?"ng":"Hy"}),!s&&s!==_e.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300 outline-none",onClick:()=>C(),children:u?"ang x l...":"Hy n hng"})]})]})}const au=[{key:_e.PENDING,label:"Ch xc nhn n  hng",desc:"Ch xc nhn",icon:Mh,color:"bg-blue-500"},{key:_e.CONFIRMED,label:" xc nhn n hng",desc:" xc nhn",icon:bN,color:"bg-orange-500"},{key:_e.SHIPPING,label:"ang giao hng",desc:"ang vn chuyn",icon:ex,color:"bg-purple-500"},{key:_e.COMPLETED,label:" giao hng",desc:" giao hng",icon:hu,color:"bg-green-500"}];function Dde({order:t,onClose:e}){const n=T.useMemo(()=>t?.orderItems?t.orderItems.reduce((i,a)=>i+a.price*a.quantity,0):0,[t?.orderItems]);if(T.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),!t)return;const r=i=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),s=i=>Zr(i).format("HH:mm DD/MM/YYYY");return o.jsxs("div",{className:"min-h-screen px-4 sm:px-6 lg:px-8 pb-6 md:pb-8",children:[o.jsxs("div",{className:"py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("div",{children:o.jsxs("button",{type:"button",className:"px-5 py-2.5 bg-gray-100 hover:bg-gray-200 transition-colors rounded-md flex items-center gap-2 text-[1.2rem] md:text-[1.6rem]",onClick:e,children:[o.jsx(z,{icon:ts}),o.jsx("span",{className:"uppercase",children:"Tr li"})]})}),o.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-end sm:justify-normal",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.6rem] font-medium",children:["M n hng: ",t.orderCode]}),o.jsx("div",{className:"hidden sm:block h-6 border-r border-gray-400"}),o.jsx("span",{className:`px-5 py-1.5 rounded-full text-[1.2rem] md:text-[1.6rem] font-medium
              ${Bn(t.status).textColor} 
              ${Bn(t.status).bgColor}`,children:Bn(t.status).text})]})]}),t.status===_e.CANCELLED?o.jsxs("div",{className:"my-6 p-5 border border-amber-200 bg-amber-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] text-red-600 font-medium",children:" hy n hng"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["lc ",s(t.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:au.map((i,a)=>{const l=au.findIndex(c=>c.key===t.status)>=a;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[1rem] md:ap-[2rem] relative items-center",children:[o.jsx("div",{className:`lg:w-[6rem] lg:h-[6rem] md:w-[4rem] md:h-[4rem] w-[3rem] h-[3rem] rounded-full flex items-center justify-center z-10
                ${l?`${i.color}`:"bg-gray-300"}`,children:o.jsx(z,{icon:i.icon,className:"text-white md:text-[1.8rem] text-[1.2rem] lg:text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800",children:i.label}),o.jsx("div",{className:"hidden md:block text-[.8rem] md:text-[1.2rem] text-gray-500 mt-[.2rem]",children:i.desc})]})]},i.key),a!==au.length-1&&o.jsx("span",{className:"w-[2rem] md:w-[10rem] border border-green-500"})]},i.key)})}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"a ch nhn hng"}),o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-white",children:[o.jsx("p",{className:"font-medium",children:t.customerName}),o.jsxs("p",{className:"text-gray-500 text-[1.2rem] md:text-[1.4rem]",children:["(",t.customerPhone,")"]}),o.jsxs("p",{className:"text-gray-500 mt-1 text-[1.2rem] md:text-[1.4rem]",children:[t.customerAddress,", ",t.customerWard,","," ",t.customerDistrict,", ",t.customerProvince]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-[1.4rem] md:text-[1.6rem] font-medium mb-3",children:"Thng tin vn chuyn"}),o.jsx("div",{className:"border border-gray-300 rounded-lg p-4 md:p-6 bg-gray-50",children:[_e.PENDING,_e.CONFIRMED].includes(t.status)?o.jsx("p",{className:"text-[1.2rem] md:text-[1.6rem] italic",children:"n hng ang c x l v ng gi. Chng ti s cp nht m vn n ngay khi hng c giao cho n v vn chuyn."}):o.jsxs("div",{className:"space-y-3 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Nh vn chuyn:"})," ",t.shippingProvider?AA[t.shippingProvider]?.text||t.shippingProvider:"Cha xc nh"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"M vn n:"})," ",o.jsx("span",{className:"font-semibold",children:t.trackingNumber||"Cha c"})]}),t.shippingNote&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Ghi ch:"})," ",o.jsx("span",{className:"italic",children:t.shippingNote})]}),o.jsxs("div",{className:"mt-4",children:[t.status===_e.SHIPPING&&t.trackingNumber&&t.shippingProvider&&o.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm md:text-base",children:[o.jsx(z,{icon:ex}),"Tra cu vn n"]}),t.status===_e.COMPLETED&&o.jsx("p",{className:"text-green-600 font-medium text-[1.4rem] md:text-[1.6rem]",children:"n hng  c giao thnh cng!"})]})]})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg shadow-sm p-4 md:p-6 bg-white",children:[o.jsx("div",{className:"space-y-5 md:space-y-6",children:t.orderItems.map(i=>{const a=i.variant.product;return o.jsx(Qe,{to:`/product-detail/${a.slug}`,className:"block border-b border-gray-200 pb-5 last:border-b-0 last:pb-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("img",{src:a.mainImage,alt:a.productName,className:"w-20 h-20 md:w-24 md:h-24 object-cover border border-gray-400 rounded"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium line-clamp-2 md:line-clamp-1",children:a.productName}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600 mt-1",children:["Size ",i.variant.variantSize.name,"  Mu"," ",i.variant.variantColor.name]}),o.jsxs("p",{className:"text-[1rem] md:text-[1.2rem] text-gray-600",children:["S lng: x",i.quantity]})]})]}),o.jsx("p",{className:"text-red-600 font-medium text-[1.4rem] md:text-[1.6rem] whitespace-nowrap",children:r(i.price*i.quantity)})]})},i.id)})}),o.jsxs("div",{className:"mt-6 md:mt-8 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex flex-col gap-4 text-[1.4rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tm tnh"}),o.jsx("span",{children:r(n)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn"}),o.jsx("span",{children:r(t.shippingFee)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Voucher gim gi"}),o.jsxs("span",{className:"text-red-600",children:["- ",r(t.discountAmount)]})]}),o.jsxs("div",{className:"flex justify-between font-medium text-[1.4rem] md:text-[1.6rem] pt-3 border-t",children:[o.jsx("span",{children:"Thnh tin"}),o.jsx("span",{className:"text-red-600",children:r(t.totalAmount)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Phng thc thanh ton"}),o.jsx("span",{children:Qw[t.paymentMethod].text})]}),t.paymentMethod!==Kr.COD&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Trng thi thanh ton"}),o.jsx("span",{children:t?.payment?.status===Ga.SUCCESS?" thanh ton":"Cha thanh ton"})]})]}),t.paymentMethod===Kr.COD&&![_e.CANCELLED,_e.COMPLETED].includes(t.status)&&o.jsxs("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg text-center text-[1.4rem] md:text-[1.6rem]",children:["Vui lng thanh ton"," ",o.jsx("span",{className:"text-red-600 font-medium",children:r(t.totalAmount)})," ","khi nhn hng"]})]})]})]})}function Ide({open:t,data:e,onClose:n,refetch:r}){const s=async()=>{try{(await he.patch(`/api/v1/orders/confirm-received/${e?.id}`)).status&&(n(),await r())}catch(i){console.log(i),ce.error(i.message||"Li khng th xc nhn!")}};return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-amber-600 mb-[3rem] text-[1.4rem] md:text-[2rem]",children:"Vui lng xc nhn bn  nhn c n hng!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:i=>{i.stopPropagation(),n()},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"text-white px-6 py-2 bg-red-500 rounded-lg hover:bg-red-600",onClick:()=>s(),children:"Xc nhn"})]})]})}const oM={all:{title:"Tt c",color:"green"},[_e.PENDING]:{title:"Ch xc nhn",color:"green"},[_e.CONFIRMED]:{title:" xc nhn",color:"green"},[_e.SHIPPING]:{title:"ang giao hng",color:"green"},[_e.DELIVERED]:{title:" giao hng",color:"red"},[_e.COMPLETED]:{title:" hon thnh",color:"green"},[_e.CANCELLED]:{title:" hy",color:"red"}};function Lde(){const[t,e]=T.useState({searchOrders:"",status:"all"}),[n,r]=T.useState(""),[s,i]=T.useState("all"),[a,l]=T.useState({open:!1,orderCode:null,data:null}),[c,u]=T.useState({open:!1,data:null}),[d,f]=T.useState({open:!1,data:null}),{addToCart:p}=Sx(),g=Ze(),[x,v]=T.useState({left:0,width:0}),[b,w]=T.useState({open:!1,data:null}),N=T.useRef([]),C=T.useMemo(()=>Object.keys(oM),[]),{data:M=[],isLoading:j,refetch:A}=De({queryKey:["orders",t],queryFn:({queryKey:D})=>jte(D[1])});T.useEffect(()=>{scrollTo({behavior:"smooth",top:0})},[]),T.useEffect(()=>{const D=C.indexOf(s),R=N.current[D];R&&v({left:R.offsetLeft,width:R.offsetWidth})},[s,C]);const P=T.useCallback(D=>R=>{N.current[D]=R},[]),E=D=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D),_=async D=>{const R=D.orderItems.map(U=>({variantId:U.variant.id,quantity:U.quantity}));if(await p(R)){const U=R.map(q=>q.variantId).join(",");g(`/cart/detail?buyback=${U}`)}else ce.error("Thm sn phm vo gi hng tht bi!")},L=D=>new Date(D).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return o.jsxs(o.Fragment,{children:[c.open?o.jsx(Dde,{order:c.data,onClose:()=>u({data:null,open:!1})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"sticky top-0 pt-[2rem] bg-white z-0",children:o.jsx("div",{className:"relative w-full overflow-x-auto hide-scrollbar",children:o.jsxs("ul",{className:`relative flex items-center border-b border-b-gray-300 z-0 
                  w-max min-w-full
                  snap-x snap-mandatory
                  scrollbar-hide
                  md:snap-none md:w-full`,children:[C.map((D,R)=>{const G=oM[D],U=D===s;if(D!==_e.DELIVERED)return o.jsx("li",{ref:P(R),className:`px-[2rem] md:px-[4rem] pb-[1rem] md:pb-[1.5rem] cursor-pointer select-none\r
                        snap-start\r
                        flex-shrink-0`,onClick:()=>{const q=D==="all"?"all":D;e(F=>({...F,status:q})),i(D)},children:o.jsx("div",{className:`${U?"text-red-500":""}`,children:G.title})},D)}),o.jsx("span",{className:"absolute bottom-0 border-t-[.2rem] border-t-red-400 transition-all duration-300",style:{left:x.left,width:x.width}})]})})}),o.jsx("div",{className:"px-[1rem] md:px-[2rem] pb-[2rem]",children:j?o.jsx(ko,{}):o.jsxs("div",{className:"mt-[2rem] space-y-8",children:[o.jsxs("div",{className:"flex mt-[2rem] h-[4rem] w-full border border-gray-300 bg-white rounded-md",children:[o.jsx("button",{type:"button",className:"pl-[1.5rem] text-gray-500 cursor-pointer",onClick:()=>e(D=>({...D,searchOrders:n})),children:o.jsx(z,{icon:Dr})}),o.jsx("input",{type:"text",id:"searchOrders",name:"searchOrders",value:n,placeholder:"Bn c th tm kim theo ID, tn sn phm",className:"w-full h-full rounded-md outline-none pl-[1.5rem]",onChange:D=>r(D.target.value)})]}),M.length>0?o.jsx(o.Fragment,{children:M?.map(D=>o.jsxs("div",{className:"shadow-md p-[1.5rem] border border-gray-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center justify-end mb-[1.5rem]",children:[o.jsxs("p",{className:"text-[1.4rem] text-gray-600 pr-[1rem] mr-[1rem] border-r border-r-gray-300",children:["Ngy t: ",L(D.createdAt)]}),o.jsx("p",{className:`text-[1.2rem] md:text-[1.6rem] px-[1rem] md:px-[2rem] py-[.2rem] rounded-full ${Bn(D.status).textColor} ${Bn(D.status).bgColor}`,children:Bn(D.status).text})]}),D.orderItems.length>0&&D.orderItems.map(R=>{const G=R.variant.product,U=D.status===_e.COMPLETED&&D.orderItems.some(q=>q.evaluate.length===0);return o.jsxs("div",{className:"pb-[2rem] mb-[2rem] border-b border-b-gray-300",children:[o.jsxs("div",{className:"flex items-center justify-between my-[1rem] cursor-pointer",onClick:()=>u({open:!0,data:D}),children:[o.jsxs("div",{className:"flex space-x-6 md:items-center ",children:[o.jsx("img",{src:G.mainImage,alt:`mainImage-${G.productName}`,className:"w-[6rem] h-[6rem] object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("p",{className:"max-w-2xl line-clamp-1 text-gray-900 select-none",children:G.productName}),o.jsx("p",{className:"flex items-center space-x-2 text-[1.2rem] text-gray-600",children:o.jsxs("span",{className:"block",children:["Size ",R.variant.variantSize.name,", Mu"," ",R.variant.variantColor.name]})}),o.jsxs("p",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",R.quantity]})]})]}),o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[1.6rem]",children:E(R.price*R.quantity)})]}),o.jsxs("div",{className:"flex items-center justify-end gap-[1rem]",children:[!U&&[_e.CANCELLED,_e.COMPLETED].includes(D.status)&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>_(D),children:"Mua li"}),U&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>w({open:!0,data:R}),children:o.jsxs("div",{className:"md:text-[1.6rem] text-[1.4rem] flex items-center space-x-2 ",children:[o.jsx(z,{icon:IR,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})]},R.id)}),o.jsxs("div",{className:"flex flex-col items-end justify-center",children:[o.jsxs("p",{className:"text-gray-600 md:text-[1.6rem] text-[1.4rem]",children:["Tng tin:"," ",o.jsx("span",{className:"text-red-600 md:text-[2rem] text-[1.6rem]",children:E(D.totalAmount)})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center space-x-4",children:[D.status===_e.CANCELLED&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:border-gray-400 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:D.orderCode,data:D}),children:"Chi tit hy n"}),D.status===_e.PENDING&&o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-gray-300 hover:bg-gray-50 rounded-md text-gray-500 cursor-pointer",onClick:()=>l({open:!0,orderCode:D.orderCode,data:null}),children:"Hy n hng"}),D.status===_e.SHIPPING&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] bg-red-500 rounded-md text-white cursor-pointer",onClick:()=>u({open:!0,data:D}),children:"Chi tit n vn"}),o.jsx("button",{type:"button",className:"md:text-[1.6rem] text-[1.4rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border border-amber-500 text-amber-600 rounded-md cursor-pointer",onClick:()=>f({open:!0,data:D}),children:" nhn c hng"})]})]})]})]},D.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center mt-[5rem]",children:[o.jsx("img",{src:RR,alt:"no order",className:"w-[20rem]"}),o.jsx("p",{className:"text-gray-600 mt-[1em]",children:"Khng c n hng no"})]})]})})]}),o.jsx(BR,{open:b.open,item:b.data,onClose:()=>w({open:!1,data:null}),refetch:A}),o.jsx(HR,{open:a.open,onClose:()=>l({open:!1,orderCode:null,data:null}),orderCode:a.orderCode,refetch:A,status:a?.data?.status,cancelReason:a?.data?.reason,cancelledAt:a.data?.updatedAt,cancelledBy:a.data?.customerName}),o.jsx(Ide,{open:d.open,onClose:()=>f({open:!1,data:null}),data:d.data,refetch:A})]})}function Rde(){const[t]=Ni(),e=t.get("buyNowVariant"),n=t.get("buyback"),{user:r}=jt(),s=Ze(),[i,a]=T.useState([]),[l,c]=T.useState(!1),[u,d]=T.useState([]),{data:f}=De({queryKey:["cart"],queryFn:qS,enabled:!!r});T.useEffect(()=>{window.scrollTo(0,0)},[]),T.useEffect(()=>{if(r)if(f&&f.length>0){const P=f[0].items.map(E=>({id:E.variant.id,product:E.variant.product,variantSize:E.variant.variantSize,variantColor:E.variant.variantColor,price:E.price,quantity:E.quantity,inventory:E.variant.inventory,selected:!1}));a(P)}else a([]);else{const A=r?[]:JSON.parse(localStorage.getItem("localCart")||"[]");if(d(A),A.length===0){a([]);return}const P=A.map(_=>_.variantId);(async()=>{try{const _=await _R(P);if(_.status){const L=_.data.map(D=>{const R=A.find(G=>G.variantId===D.id);return{...D,quantity:R.quantity||1,selected:!1}});a(L)}}catch(_){console.log(_),ce.error(_.message)}})()}},[r,f]),T.useEffect(()=>{if(!e&&!n||i.length===0)return;const A=[];if(n&&A.push(...n.split(",").map(Number).filter(D=>!isNaN(D)&&D>0)),e){const D=Number(e);!isNaN(D)&&D>0&&A.push(D)}if(A.length===0)return;const P=[...new Set(A)];if(!i.some(D=>P.includes(D.id)))return;let _=!1;a(D=>{let R=!1;const G=D.map(U=>P.includes(U.id)&&!U.selected?(_=!0,R=!0,{...U,selected:!0}):U);return R?G:D}),_&&setTimeout(()=>{const D=document.querySelector("tr.bg-blue-50");D&&D.scrollIntoView({behavior:"smooth",block:"center"})},300);const L=new URL(window.location.href);L.searchParams.delete("buyback"),L.searchParams.delete("buyNowVariant"),window.history.replaceState({},"",L)},[i]),T.useEffect(()=>{const A=i.length>0&&i.every(E=>E.selected),P=i.every(E=>!E.selected);c(A&&!P)},[i]);const p=async(A,P)=>{const E=i.map(D=>D.id===A?{...D,quantity:P==="incre"?Math.min(D.inventory,D.quantity+1):Math.max(1,D.quantity-1)}:D);a(E);const _=E.find(D=>D.id===A).quantity,L={variantId:A,quantity:_};if(r)try{if((await he.patch("/api/v1/cart-items/update-quantity",L)).status)return}catch(D){ce.error(D.message)}else{const D=u.map(R=>R.variantId===A?{...R,quantity:_}:R);d(D),localStorage.setItem("localCart",JSON.stringify(D))}},g=async A=>{if(r)try{await he.delete(`/api/v1/cart-items/${A}`),a(P=>P.filter(E=>E.id!==A))}catch(P){ce.error(P.message||"Xa tht bi")}else{const P=u.filter(E=>E.variantId!==A);localStorage.setItem("localCart",JSON.stringify(P)),d(P),a(E=>E.filter(_=>_.id!==A))}},x=()=>{const A=!l;c(A),a(i.map(P=>({...P,selected:A})))},v=A=>{e&&A===Number(e)&&t.delete("buyNowVariant"),a(i.map(P=>P.id===A?{...P,selected:!P.selected}:P))},b=A=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(A),w=()=>i.filter(A=>A.selected).reduce((A,P)=>{const E=P.price||P.product?.price||0;return A+E*P.quantity},0),N=i.filter(A=>A.selected),C=N.length,M=()=>{const A={items:N.map(P=>({variantId:P.id,productId:P.product.id,productName:P.product.productName,mainImage:P.product.mainImage,price:P.price||P.product.price,quantity:P.quantity,size:P.variantSize?.name||"",color:P.variantColor?.name||"",inventory:P.inventory})),subtotal:w(),total:w(),timestamp:new Date().toISOString()};sessionStorage.setItem("checkoutData",JSON.stringify(A)),r?sessionStorage.setItem("checkoutFrom","authenticated"):sessionStorage.setItem("checkoutFrom","guest"),s("/checkout")},j=()=>{if(C===0){ce.error("Vui lng chn sn phm  thanh ton");return}const A=N.find(P=>P.quantity>P.inventory);if(A){ce.error(`Sn phm "${A.product.productName}" khng  s lng`);return}M()};return o.jsxs("div",{className:"w-full h-auto bg-gray-50 py-4 sm:py-8 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(z,{icon:yN,className:"text-[1.4rem] lg:text-[1.6rem] text-red-500"}),o.jsx("h1",{className:" font-bold text-gray-800",children:"Gi hng ca bn"})]}),o.jsxs("span",{className:"text-[1rem] sm:text-[1.2rem] lg:text-[1.4rem] text-gray-500 pl-0 sm:pl-4",children:["(",i.filter(A=>A.selected).length," sn phm c chn)"]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[o.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-lg overflow-x-auto",children:[o.jsx("div",{className:"lg:hidden",children:i.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem]",children:"Gi hng trng"})}):o.jsx("div",{className:"divide-y divide-gray-200",children:i.map(A=>o.jsxs("div",{className:`p-4 ${A.selected?"bg-blue-50":""} hover:bg-gray-50 transition`,onClick:()=>v(A.id),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("button",{className:"mt-1",type:"button",children:o.jsx(z,{icon:A.selected?qb:Gb,className:`text-[1.4rem] ${A.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("img",{src:A.product.mainImage,alt:A.product.productName,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg object-cover flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] sm:text-[1.6rem] font-medium text-gray-800 line-clamp-2",children:A.product.productName}),A.inventory<5&&o.jsxs("p",{className:"text-[1.2rem] text-red-500 mt-1",children:["Ch cn ",A.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 mt-1 flex flex-wrap items-center gap-1",children:[o.jsxs("span",{children:["Size: ",A.variantSize.name]}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:["Mu: ",A.variantColor.name]})]})]})]})})]}),o.jsx("button",{className:"text-red-500 hover:text-red-700 transition ml-2",onClick:P=>{P.stopPropagation(),g(A.id)},children:o.jsx(z,{icon:c2,className:"text-[1.4rem]"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:"text-[1.2rem] sm:text-[1.6rem] font-semibold text-red-600",children:b(Number(A.price||A.product.price))}),A.price&&o.jsx("p",{className:"text-[1.4rem] text-gray-400 line-through",children:b(A.price)})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:P=>{P.stopPropagation(),p(A.id,"decre")},disabled:A.quantity<=1,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(z,{icon:Rl,className:"text-gray-500 text-xs sm:text-sm"})}),o.jsx("span",{className:"w-6 sm:w-8 text-center text-[1.2rem] sm:text-base text-gray-600",children:A.quantity}),o.jsx("button",{onClick:P=>{P.stopPropagation(),p(A.id,"incre")},disabled:A.quantity>=A.inventory,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(z,{icon:ha,className:"text-gray-500 text-xs sm:text-sm"})})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-[1.4rem] sm:text-base font-semibold text-red-600",children:b(Number(A.price||A.product.price)*Number(A.quantity))})})]})]},A.id))})}),o.jsxs("div",{className:"hidden lg:block",children:[o.jsxs("table",{className:"w-full text-[1.6rem]",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-5 text-left pl-6 font-normal",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:x,children:o.jsx(z,{icon:l?qb:Gb,className:`text-[2rem] ${l?"text-blue-600":"text-gray-300"}`})}),o.jsx("span",{children:"Sn phm"})]})}),o.jsx("th",{className:"py-5 font-normal",children:"n gi"}),o.jsx("th",{className:"py-5 font-normal",children:"S lng"}),o.jsx("th",{className:"py-5 font-normal",children:"Thnh tin"}),o.jsx("th",{className:"py-5 font-normal",children:"Thao tc"})]})}),o.jsx("tbody",{children:i.map(A=>o.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50 transition",onClick:()=>v(A.id),children:[o.jsx("td",{className:"py-6 pl-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",children:o.jsx(z,{icon:A.selected?qb:Gb,className:`text-[2rem] ${A.selected?"text-blue-600":"text-gray-300"}`})}),o.jsx("img",{src:A.product.mainImage,alt:A.product.productName,className:"w-20 h-20 rounded-lg object-cover"}),o.jsxs("div",{className:"max-w-xs",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1",children:A.product.productName}),A.inventory<5&&o.jsxs("p",{className:"text-sm text-red-500 mt-1",children:["Ch cn ",A.inventory," sn phm"]}),o.jsxs("div",{className:"text-[1.2rem] text-gray-600 flex items-center gap-[.5rem]",children:[o.jsxs("span",{children:["size: ",A.variantSize.name]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("span",{children:["mu: ",A.variantColor.name]})]})]})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-red-600",children:b(Number(A.price||A.product.price))}),A.price&&o.jsx("p",{className:"text-sm text-gray-400 line-through",children:b(A.price)})]})}),o.jsx("td",{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("button",{onClick:P=>{P.stopPropagation(),p(A.id,"decre")},disabled:A.quantity<=1,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(z,{icon:Rl,className:"text-gray-500"})}),o.jsx("span",{className:"w-8 text-center text-gray-600",children:A.quantity}),o.jsx("button",{onClick:P=>{P.stopPropagation(),p(A.id,"incre")},disabled:A.quantity>=A.inventory,className:"w-10 h-10 rounded-lg border border-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(z,{icon:ha,className:"text-gray-500"})})]})}),o.jsx("td",{className:"text-center text-[1.4rem] text-red-600",children:b(Number(A.price||A.product.price)*Number(A.quantity))}),o.jsx("td",{className:"text-center",children:o.jsx("button",{className:"text-red-500 hover:text-red-700 transition p-3",onClick:P=>{P.stopPropagation(),g(A.id)},children:o.jsx(z,{icon:c2,className:"text-[1.4rem]"})})})]},A.id))})]}),i.length===0&&o.jsx("div",{className:"text-center py-20 text-gray-500",children:o.jsx("p",{className:"text-2xl",children:"Gi hng trng"})})]})]}),o.jsx("div",{className:"w-full lg:w-[40rem]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 sticky top-4 sm:top-6",children:[o.jsx("h2",{className:"font-bold text-gray-800 text-[1.4rem] sm:text-[1.6rem] mb-4 sm:mb-6",children:"Thng tin thanh ton"}),o.jsxs("div",{className:"space-y-4 sm:space-y-6 text-[1.4rem] sm:text-[1.6rem] text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Tm tnh (",C," sn phm):"]}),o.jsx("span",{className:"font-semibold",children:b(w())})]}),o.jsxs("div",{children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("div",{className:"mt-2 sm:mt-4 text-[1.4rem] sm:text-[1.6rem] text-green-600",children:"Ph vn chuyn s c tnh chnh xc da trn a ch nhn hng"})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4 sm:pt-6",children:o.jsxs("div",{className:"flex justify-between text-[1.4rem] sm:text-[1.6rem]",children:[o.jsx("span",{className:"font-bold",children:"Tng cng:"}),o.jsx("span",{className:"font-bold text-[1.6rem] sm:text-[1.8rem] text-red-600",children:b(w())})]})})]}),o.jsx("button",{disabled:i.length===0,className:`w-full mt-6 sm:mt-8 py-3 sm:py-4 rounded-xl font-bold text-[1.4rem] sm:text-[1.6rem] transition ${C===0?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600 shadow-lg text-white"}`,onClick:()=>j(),children:C===0?"Vui lng chn sn phm":"Thanh ton ngay"}),o.jsx("div",{className:"mt-3 sm:mt-4 text-center text-[1rem] sm:text-[1.2rem] text-gray-500",children:"Min ph vn chuyn cho n t 500.000"})]})})]})]})}function JS({openActionAddress:t,onClose:e,onSuccess:n}){const{user:r}=jt(),{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Hs({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}});T.useEffect(()=>{if(t.action==="edit"&&t.dataUpdate){const E=t.dataUpdate;f({province:E.province,district:E.district,ward:E.ward,recipentName:E.recipentName,addressDetail:E.addressDetail,phone:E.phone,isDefault:E.isDefault})}},[t.action,t.dataUpdate,f]);const{data:p}=De({queryKey:["province"],queryFn:DS}),g=d("province"),x=d("district"),b=p?.find(E=>E.name===g)?.districts??[],N=b.find(E=>E.name===x)?.wards??[],C=p?.map(E=>({value:E.name,label:E.name})),M=b?.map(E=>({value:E.name,label:E.name})),j=N?.map(E=>({value:E.name,label:E.name})),A=async E=>{try{let _=null;if(r){if(t.action==="edit"&&t.dataUpdate?_=await he.patch(`/api/v1/address/update/${t.dataUpdate.id}`,E):_=await he.post("/api/v1/address/add",{...E}),_.status){f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e(),n?.();return}}else{const L={...E};localStorage.setItem("guest_address",JSON.stringify(L)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:L}})),e(),n?.()}}catch(_){console.log(_),ce.error(_.message)}},P=()=>{f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",isDefault:!1}),e()};return o.jsxs(bt,{open:t.open,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-gray-600 mb-[2.5rem] font-bold text-center",children:t.action==="add"&&!t.dataUpdate?"Thm a ch":"Cp nht a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:E=>{E.stopPropagation(),P()},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:E=>{E.stopPropagation(),E.preventDefault(),a(A)(E)},children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"space-y-8 md:space-y-0 md:flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(pi,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:E})=>o.jsx(sa,{...E,options:C,placeholder:"Tnh...",isSearchable:!0,value:C?.find(_=>_.value===E.value)||null,onChange:_=>{E.onChange(_?.value),u("district",""),u("ward","")},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(pi,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:E})=>o.jsx(sa,{...E,options:M,placeholder:"Huyn...",isSearchable:!0,value:M?.find(_=>_.value===E.value)||null,onChange:_=>{E.onChange(_?.value),u("ward","")},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(pi,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:E})=>o.jsx(sa,{...E,options:j,placeholder:"Phng...",isSearchable:!0,value:j?.find(_=>_.value===E.value)||null,onChange:_=>{E.onChange(_?.value)},styles:{control:_=>({..._,height:"4rem"})},theme:_=>({..._,colors:{..._.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),r&&o.jsxs("label",{htmlFor:"isDefault",className:"flex items-center w-[11rem] gap-[1rem] mt-[1.5rem]",children:[o.jsx("span",{className:"select-none text-gray-600",children:"Mc nh"}),o.jsxs("div",{className:"relative inline-block w-12 h-6",children:[o.jsx("input",{id:"isDefault",type:"checkbox",className:"peer hidden",...i("isDefault"),disabled:d("addressDetail")===""}),o.jsx("div",{className:"absolute inset-0 bg-gray-300 rounded-full peer-checked:bg-blue-500 transition"}),o.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"})]})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:E=>{E.stopPropagation(),P()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":t.action==="edit"?"Lu":"Thm"})]})]})]})}function Fde({open:t,onSelect:e,onClose:n,selectedId:r}){const{refreshUser:s,user:i}=jt(),[a,l]=T.useState(null),c=ga(),[u,d]=T.useState({open:!1,dataUpdate:null,action:"add"}),[f,p]=T.useState([]);T.useEffect(()=>{if(i&&i.address.length>0){const v=i.address;p(v)}},[i]),console.log(f),T.useEffect(()=>{if(t&&r&&f){const v=f.find(b=>b.id===r);v&&l(v)}},[r,f]);const g=()=>{e(a),s(),n()},x=async()=>{d({open:!1,dataUpdate:null,action:"add"}),await c.invalidateQueries({queryKey:["user"]})};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] min-h-[20rem] max-h-[65rem] overflow-hidden rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[2rem] text-center text-orange-600 font-bold",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:()=>n(),children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[2rem] space-y-4 min-h-[40rem] max-h-[50rem] overflow-auto hide-scrollbar",children:[o.jsxs("div",{className:"flex items-center justify-between mb-[2rem]",children:[o.jsx("h4",{className:"text-gray-800",children:"a ch"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.3rem] px-[1rem] py-[.5rem] rounded-md border border-gray-300 text-gray-500 hover:bg-gray-100 transition duration-300 cursor-pointer",onClick:()=>d({open:!0,dataUpdate:null,action:"add"}),children:[o.jsx(z,{icon:Qr,className:"text-[1.4rem]"}),o.jsx("span",{children:"Thm a ch"})]})]}),f&&f?.length>0?o.jsx(o.Fragment,{children:f.map(v=>o.jsxs("label",{htmlFor:`select-${v.id}`,className:"block md:flex items-center justify-between border border-dashed rounded-md p-[1rem] md:p-[2rem] border-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-[2rem]",children:[o.jsx("span",{className:"w-[2rem] h-[2rem] flex items-center justify-center",children:o.jsx("input",{type:"radio",id:`select-${v.id}`,name:"select",className:"scale-[1.5]",style:{accentColor:"red"},checked:a?.id===v.id,onChange:()=>{l(v)}})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:v.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:v.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:v.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[v.ward,", ",v.district,", ",v.province]}),v.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},v.id)]}),o.jsxs("div",{className:"flex md:flex-col items-center space-x-4 md:space-x-0 md:space-y-4 md:mt-0 mt-5",children:[o.jsx("button",{type:"button",className:"w-full px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>d({open:!0,dataUpdate:v,action:"edit"}),children:"Cp nht"}),o.jsx("button",{type:"button",className:"w-full px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>{const b=f.filter(w=>w.id!==v.id);if(localStorage.setItem("guest_addresses",JSON.stringify(b)),b.length>0){const w=b[b.length-1];localStorage.setItem("guest_latest_address",JSON.stringify(w)),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added",address:w}}))}else localStorage.removeItem("guest_latest_address"),localStorage.removeItem("guest_addresses"),window.dispatchEvent(new CustomEvent("guest_address_updated",{detail:{action:"added"}}));p(b)},children:"Xa"})]})]},v.id))}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(z,{icon:CN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})]}),o.jsxs("div",{className:"mt-[2.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:()=>n(),children:"Hy"}),o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>g(),children:"Xc nhn"})]})]}),o.jsx(JS,{openActionAddress:u,onClose:()=>d({open:!1,dataUpdate:null,action:"add"}),onSuccess:x})]})}function zde({open:t,onClose:e}){const n=Ze();return o.jsxs(bt,{open:t,className:"relative w-[95%] md:w-[60rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:" text-gray-600 mb-[2.5rem]",children:"Email ny  c ti khon vui lng ng nhp  tip tc!"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:r=>{r.stopPropagation(),e()},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[3rem] flex items-center gap-[1rem] justify-end ",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:r=>{r.stopPropagation(),e()},children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",onClick:()=>n("/login"),children:"ng nhp ngay"})]})]})}function Vde({open:t,selected:e,onClose:n,setSelectVoucher:r,conditionValue:s}){const[i,a]=T.useState(""),{data:l}=De({queryKey:["getSavedVouchers"],queryFn:()=>GS(),staleTime:120*1e3,enabled:t}),[c,u]=T.useState({open:!1,content:"",isSuccess:!0}),d=l&&l.data.filter(x=>!x.usedAt);console.log(d);const f=x=>Zr(x).format("HH:mm DD/MM/YYYY"),p=x=>{if(new Date>new Date(x.endDate)){u({open:!0,content:"Voucher  ht hn!",isSuccess:!1});return}if(s&&s<x.minOrderValue){u({open:!0,content:"Gi n khng  iu kin s dng vocuher ny!",isSuccess:!1});return}r(b=>({...b,open:!1,voucher:x}))},g=async x=>{try{const v=await he.post(`/api/v1/check-voucher/${x}`);v.status&&r({open:!1,voucher:v.data,conditionValue:v.data.minOrderValue})}catch(v){console.log(v),ce.error(v.message)}};return o.jsxs(bt,{open:t,className:"relative flex flex-col w-[60rem] max-h-[80vh] hide-scrollbar overflow-y-auto rounded-2xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"w-full bg-white z-[100] py-8 sticky top-0",children:[o.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition",children:o.jsx(z,{icon:cn,className:"text-3xl"})}),o.jsx("h2",{className:"text-3xl  font-bold text-center text-pink-600",children:"Voucher gim gi"})]}),o.jsxs("div",{className:"px-8 space-y-4 z-0",children:[o.jsx("div",{className:"w-full p-8 bg-gray-100 rounded-2xl flex items-center justify-center mt-4",children:o.jsxs("div",{className:"w-4xl flex items-center space-x-4",children:[o.jsx("p",{children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",className:"flex-1 bg-white h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.5rem]",placeholder:"Nhp m voucher...",onChange:x=>a(x.target.value)}),o.jsx("button",{className:`h-[4rem] px-8 rounded-md ${i===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"}  transition-colors duration-300`,onClick:()=>g(i),children:"p dng"})]})}),d?.length>0?o.jsx("div",{className:"grid grid-cols-2 gap-[1rem]",children:d?.map(x=>{const v=e&&e.id===x.id,b=s&&x.minOrderValue<=s;return o.jsxs("div",{className:`flex items-center bg-gradient-to-r ${b?"from-pink-500 to-blue-600":"from-gray-300 to-gray-500"}  rounded-2xl p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-10 -right-10 w-30 h-30 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-10 -left-10 w-46 h-46 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative w-full z-10",children:[o.jsx("h3",{className:"text-[1.4rem] text-nowrap select-none",children:x.name}),o.jsxs("div",{className:"text-[2rem] font-bold mb-2",children:["Gim"," ",x.type==="PERCENT"?`${x.value}%`:`${x.value.toLocaleString()}`,x.maxDiscount&&o.jsxs("span",{className:"text-[1rem] font-normal ml-2",children:["(Ti a ",x.maxDiscount.toLocaleString(),")"]})]}),o.jsxs("div",{className:"text-[1rem] gap-2",children:["HSD: n ",f(x.endDate)]}),o.jsx("div",{className:"w-full flex justify-end mt-2",children:o.jsx("button",{className:`text-[1.2rem] px-6 py-2 rounded-xl  ${b?`${v?"bg-red-500 text-white":"text-red-600 hover:text-red-700 hover:border-red-500 bg-white"} cursor-pointer`:"bg-gray-400 cursor-not-allowed"}  border border-transparent  transition-colors duration-300 `,onClick:()=>p(x),disabled:!b,children:v?"ang p dng":"p dng"})})]})]},x.id)})}):o.jsx("div",{className:"py-16 text-center",children:"ng nhp  lu voucher"})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-8 py-6 text-end z-10",children:o.jsx("button",{onClick:n,className:"px-12 py-3 bg-gray-200 rounded-xl hover:bg-gray-300 transition font-semibold text-[1.4rem]",children:"ng"})}),o.jsx(Ru,{content:c.content,duration:1e3,showNotify:c.open,isSuccess:c.isSuccess})]})}function $de(){const{user:t,refreshUser:e}=jt(),n=Ze(),[r,s]=T.useState({open:!1,selectedId:null}),[i,a]=T.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,p]=T.useState(0),[g,x]=T.useState(!1),[v,b]=T.useState(0),[w,N]=T.useState(0),[C,M]=T.useState(0),[j,A]=T.useState(!1),[P,E]=T.useState([]),[_,L]=T.useState({open:!1,voucher:null,conditionValue:null}),D=ga(),{register:R,handleSubmit:G,formState:{errors:U,isSubmitting:q},setValue:F,watch:B}=Hs({defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",customerWard:"",customerDistrict:"",customerProvince:"",customerNote:"",paymentMethod:Kr.COD,couponCode:"",orderItems:[]}}),$=B("customerProvince"),X=B("paymentMethod"),[H,V]=T.useState(null);T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(t&&(F("customerPhone",t.phone?.toString()||""),F("customerEmail",t.email||""),t.address.length>0)){const ne=t?.address.find(ue=>ue.isDefault);ne&&(c(ne),F("customerName",ne.recipentName||t.username||""),F("customerAddress",ne.addressDetail),F("customerWard",ne.ward),F("customerDistrict",ne.district),F("customerProvince",ne.province),s({open:!1,selectedId:ne.id}))}},[t,F]),T.useEffect(()=>{const ne=()=>{if(t)return;const ge=localStorage.getItem("guest_address");if(ge){const Se=JSON.parse(ge);c(Se),F("customerAddress",Se.addressDetail),F("customerWard",Se.ward),F("customerDistrict",Se.district),F("customerProvince",Se.province)}else c(null),F("customerAddress",""),F("customerWard",""),F("customerDistrict",""),F("customerProvince","")};ne();const ue=ge=>{const Se=ge,{action:nt}=Se.detail||{};nt==="cleared"?(c(null),F("customerAddress",""),F("customerWard",""),F("customerDistrict",""),F("customerProvince","")):ne()};return window.addEventListener("guest_address_updated",ue),()=>{window.removeEventListener("guest_address_updated",ue)}},[t,F]),T.useEffect(()=>{const ne=sessionStorage.getItem("checkoutData");if(!ne){ce.error("Khng tm thy thng tin n hng!"),n("/cart/detail");return}const ue=JSON.parse(ne),ge=ue.items.map(Se=>({productId:Se.productId,variantId:Se.variantId,price:Number(Se.price),quantity:Se.quantity}));F("orderItems",ge),V(ue)},[n,F]),T.useEffect(()=>{if(!t||!H||H?.items?.length===0)return;(async()=>{try{const ue=H.items.map(Se=>Se.productId),ge=await he.post("/api/v1/flashsale/check-products",{productIds:ue});ge.status&&ge.data&&E(ge.data)}catch(ue){console.log(ue)}})()},[H,t]),T.useEffect(()=>{if(!H||!P.length){N(H?.subtotal||0);return}let ne=0;H.items.forEach(ue=>{const ge=P.find(nt=>nt.productId===ue.productId);let Se;if(!ge||!ge.isFlashActive||ge.remainingSlot<=0)Se=ue.price*ue.quantity;else{const nt=Number(ge.sale_price),Ke=ue.price,Pe=Math.min(ue.quantity,Number(ge.remainingSlot)),lt=ue.quantity-Pe;Se=Pe*nt+Ke*lt}ne+=Se}),N(ne)},[H,P]),T.useEffect(()=>{if(!H)return;let ne=0;if(t&&_.voucher){const ge=_.voucher,Se=w;ge.type===ai.PERCENT?(ne=Number(Se)*ge.value/100,ne>ge.maxDiscount&&(ne=ge.maxDiscount)):ne=ge.value}b(ne);const ue=w+f-ne;M(ue)},[_.voucher,H,f,t,w]);const Q=async ne=>{if(H){x(!0);try{const ue=await he.post("/api/v1/orders/calculate-shipping",{subTotal:w,customerProvince:ne.province});if(ue.status)p(ue.data.shippingFee),M(w+ue.data.shippingFee);else{const ge=w>=5e5?0:35e3;p(ge),M(w+ge)}}catch{const ge=w>=5e5?0:35e3;p(ge),M(w+ge)}finally{x(!1)}}};T.useEffect(()=>{H&&$&&Q({province:$})},[$,H]),T.useEffect(()=>{if(t===void 0)return;sessionStorage.getItem("checkoutFrom")==="authenticated"&&!t&&(ce.error("Phin ng nhp  ht hn! Vui lng chn li sn phm."),sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),n("/cart/detail",{replace:!0}))},[t,n]);const Z=ne=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ne),ee=ne=>{c(ne),F("customerName",ne.recipentName),F("customerPhone",ne.phone.toString()),F("customerAddress",ne.addressDetail),F("customerWard",ne.ward),F("customerDistrict",ne.district),F("customerProvince",ne.province),s({open:!1,selectedId:ne.id})},le=async ne=>{try{const ue={shippingFee:f,totalAmount:C,...ne,..._.voucher&&v?{voucherCode:_.voucher.voucherCode,discountAmount:v}:{}};console.log(ue);const ge=await he.post("/api/v1/orders/create",ue);if(ge.status){if(sessionStorage.removeItem("checkoutData"),sessionStorage.removeItem("checkoutFrom"),!t){const Se=localStorage.getItem("guest_orders");if(Se){const nt=JSON.parse(Se);nt.push(ge.data.orderCode),localStorage.setItem("guest_orders",JSON.stringify(nt))}else localStorage.setItem("guest_orders",JSON.stringify([ge.data.orderCode]))}ce.success(ge.data.message||"t hng thnh cng!"),ne.paymentMethod!==Kr.COD?window.location.href=ge.data.paymentUrl:n(`/order-confirmation/${ge.data.orderCode}`,{replace:!0}),t&&await e()}else ge.existingEmail&&A(!0)}catch(ue){console.log(ue),ce.error(ue.message||"C li xy ra khi t hng. Vui lng th li!")}},pe=async()=>{a({open:!1,dataUpdate:null,action:"add"}),t&&await D.invalidateQueries({queryKey:["user"]})};return H?o.jsxs("div",{className:"w-full min-h-screen bg-gray-50 py-4 px-4 sm:px-6 lg:px-8 xl:px-[12rem]",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>n("/cart/detail",{replace:!0}),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4 sm:mb-6",children:[o.jsx(z,{icon:yi}),o.jsx("span",{children:"Quay li gi hng"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800",children:"Thanh ton"}),!t&&o.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("p",{className:"text-blue-800 text-[1.4rem]",children:["Bn ang mua hng vi t cch ",o.jsx("strong",{children:"khch vng lai"}),".",o.jsx("button",{onClick:()=>n("/login",{state:{from:"/checkout"}}),className:"ml-2 text-blue-600 underline font-medium cursor-pointer",children:"ng nhp"})," "," c th s dng voucher v cc m gim gi khc!"]})})]}),o.jsx("form",{onSubmit:G(le),children:o.jsxs("div",{className:"grid lg:grid-cols-5 gap-6 lg:gap-8",children:[o.jsx("div",{className:"lg:col-span-3 space-y-6 lg:space-y-8",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg pt-6 lg:pt-10 px-4 sm:px-6 lg:px-10 pb-6 lg:pb-18",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 lg:mb-6",children:[o.jsx(z,{icon:d2,className:"text-xl lg:text-2xl text-red-500"}),o.jsx("h2",{className:"font-bold",children:"Thng tin giao hng"})]}),o.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 lg:gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...R("customerName",{required:"Vui lng nhp h tn!"})}),U.customerName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:U.customerName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerPhone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"tel",placeholder:"S in thoi *",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",readOnly:!!t?.phone,...R("customerPhone",{required:"Vui lng nhp s in thoi!"})}),U.customerPhone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:U.customerPhone.message})]})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerEmail",className:"block text-gray-600",children:"Email"}),o.jsx("input",{type:"email",placeholder:"Email (ty chn)",className:"w-full h-[4rem] pl-[1rem] lg:pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300 md:col-span-2 select-none",readOnly:!!t?.email,...R("customerEmail",{required:"Vui lng nhp email!"})}),U.customerEmail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:U.customerEmail.message})]}),o.jsxs("div",{className:"w-full space-y-2",children:[o.jsx("label",{className:"block text-gray-600 font-medium",children:"a ch giao hng"}),o.jsx("div",{className:"space-y-4",children:l?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border border-dashed rounded-md p-4 lg:p-[2rem] border-gray-300 gap-4",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 lg:gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:l.recipentName}),o.jsx("span",{className:"hidden sm:block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:l.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:l.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[l.ward,", ",l.district,","," ",l.province]}),l.isDefault&&o.jsx("button",{type:"button",className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm inline-block mt-2",children:"Mc nh"})]},l.id),o.jsx("div",{className:"flex space-y-2 sm:flex-col sm:space-y-4",children:o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-amber-500 border-amber-400 hover:border-amber-600 hover:text-amber-600 rounded-sm w-full sm:w-auto",onClick:()=>{t?s({open:!0,selectedId:l.id}):a({open:!0,action:"edit",dataUpdate:l})},children:"Thay i"})})]},l.id):o.jsxs("button",{type:"button",className:"flex items-center justify-center gap-[.5rem] text-center rounded-md px-4 lg:px-[2rem] py-3 lg:py-[.6rem] border border-dashed border-blue-500 cursor-pointer hover:border-blue-600 text-blue-500 hover:text-blue-600 w-full",onClick:()=>{t?s({open:!0,selectedId:null}):a({open:!0,action:"add",dataUpdate:null})},children:[o.jsx(z,{icon:Qr,className:"text-[1.5rem] lg:text-[2rem]"}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] lg:text-[1.6rem] select-none",children:"Thm a ch"})]})})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"customerNote",className:"block text-gray-600",children:"Ghi ch"}),o.jsx("textarea",{placeholder:"Ghi ch cho shop (ty chn)",rows:2,className:"w-full pl-[1rem] lg:pl-[1.5rem] py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 md:col-span-2",...R("customerNote")})]})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-4 sm:px-6 py-6 lg:py-10 sticky top-4 lg:top-6",children:[o.jsxs("h2",{className:"font-bold text-gray-800 mb-4 lg:mb-6 flex items-center gap-3",children:[o.jsx(z,{icon:ex,className:"text-red-500"}),o.jsxs("span",{children:["n hng (",H.items.length," sn phm)"]})]}),o.jsx("div",{className:"space-y-4 max-h-64 sm:max-h-80 lg:max-h-96 overflow-y-auto pr-2 mb-4 lg:mb-6",children:H.items.map((ne,ue)=>{const ge=P.find(lt=>lt.productId===ne.productId);let Se,nt,Ke=!1,Pe="";if(!ge||!ge.isFlashActive||ge.remainingSlot<=0)Se=ne.price,nt=ne.price*ne.quantity;else{const lt=Number(ge.sale_price),it=ne.price,gt=Math.min(ne.quantity,ge.remainingSlot),Rt=ne.quantity-gt;nt=gt*lt+it*Rt,Se=lt,Ke=!0,gt<ne.quantity?Pe=`(FlashSale: p dng ${gt}/${ne.quantity} sp)`:Pe=`(FlashSale: ${ge.discount}% - cn ${ge.remainingSlot} slot)`}return o.jsxs("div",{className:"flex justify-between gap-3 lg:gap-4 pb-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex items-center gap-3 lg:gap-[1rem] min-w-0",children:[o.jsx("img",{src:ne.mainImage,alt:ne.productName,className:"w-22 h-22 lg:w-26 lg:h-26 rounded-lg object-cover border border-gray-300 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-gray-800 line-clamp-1 text-[1.4rem]",children:ne.productName}),ne.size&&ne.color&&o.jsxs("p",{className:"text-[1.2rem] text-gray-500 truncate",children:[ne.color," / ",ne.size]}),o.jsxs("span",{className:"text-[1.2rem]",children:["S lng:","  ",ne.quantity]}),o.jsxs("div",{className:"mt-1 text-[1.2rem] flex items-center",children:[Ke?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-red-400 line-through",children:Z(ne.price)}),o.jsx("span",{className:"ml-2 font-bold text-red-600",children:Z(Se)})]}):o.jsx("span",{className:"font-semibold text-red-600",children:Z(Se)}),Pe&&o.jsx("span",{className:"ml-2 text-orange-600 text-[1rem] md:text-[1.2rem]",children:Pe})]})]})]}),o.jsx("p",{className:"text-red-600 whitespace-nowrap text-[1.4rem] flex-shrink-0",children:Z(nt)})]},ue)})}),o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:_.voucher?o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[o.jsx("p",{className:"text-blue-600",children:" p dng voucher:"}),o.jsxs("div",{className:"flex space-x-4 gap-2",children:[o.jsx("button",{type:"button",onClick:()=>L(ne=>({...ne,open:!0})),className:"text-blue-600 hover:text-blue-700 cursor-pointer text-[1.4rem]",children:"i"}),o.jsx("button",{type:"button",onClick:()=>{L({open:!1,voucher:null,conditionValue:w}),b(0)},className:"text-red-600 hover:text-red-700 cursor-pointer text-[1.4rem]",children:"B"})]})]}):o.jsx("div",{className:"py-4 border-t border-b border-gray-200",children:o.jsx("p",{className:"text-blue-600 cursor-pointer hover:text-blue-700 select-none text-center sm:text-left",onClick:()=>{t?L({open:!0,voucher:null,conditionValue:w}):d(!0)},children:"Chn hoc nhp m voucher"})})}),o.jsxs("div",{className:"mt-4 lg:mt-6 pt-4 lg:pt-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex justify-between text-[1.4rem]",children:[o.jsx("span",{className:"text-gray-800",children:"Tm tnh:"}),o.jsx("span",{children:Z(w)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-green-600",children:g?o.jsx("span",{className:"text-gray-500",children:"ang tnh..."}):f===0?"Min ph":Z(f)})]}),o.jsxs("div",{className:"flex justify-between text-[1.4rem] text-gray-800",children:[o.jsx("span",{children:"Voucher p dng:"}),o.jsxs("span",{className:"text-red-600",children:["- ",Z(v)]})]}),o.jsx("div",{className:"border-t border-t-gray-400 pt-4",children:o.jsxs("div",{className:"flex justify-between font-bold",children:[o.jsx("span",{children:"Tng cng:"}),o.jsx("span",{className:"text-red-600",children:Z(C)})]})})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(z,{icon:KG,className:"text-lg text-green-600"}),o.jsx("h3",{className:"font-bold text-gray-800",children:"Thanh ton"})]}),o.jsx("div",{className:"space-y-3",children:Object.values(Kr).map(ne=>o.jsxs("label",{className:`flex items-center gap-3 p-2 border-1 rounded-lg cursor-pointer transition-all ${X===ne?"border-pink-400 bg-pink-50":"border-gray-200 hover:border-gray-400"}`,children:[o.jsx("input",{type:"radio",name:"payment",value:ne,checked:X===ne,onChange:()=>F("paymentMethod",ne),className:"w-4 h-4 text-green-500"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(z,{icon:IG,className:"text-lg text-green-600"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-[1.4rem] uppercase truncate",children:ne}),o.jsx("p",{className:"text-[1.2rem] text-gray-600 truncate",children:"Thanh ton khi nhn hng"})]})]})}),X===ne&&o.jsx(z,{icon:hu,className:"text-lg text-pink-500 flex-shrink-0"})]},ne))})]}),o.jsx("button",{className:"w-full mt-6 py-3 lg:py-5 uppercase bg-red-500 hover:bg-red-600 text-white text-lg lg:text-xl font-bold rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95",type:"submit",disabled:q,children:q?"ang x l":"T NGAY"})]})})]})}),r.open&&o.jsx(Fde,{open:r.open,onSelect:ee,selectedId:r.selectedId,onClose:()=>s({open:!1,selectedId:l?.id??null})}),o.jsx(JS,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:pe}),o.jsx(zde,{open:j,onClose:()=>A(!1)}),o.jsx(kI,{children:_.open&&o.jsx(Vde,{open:_.open,selected:_.voucher,setSelectVoucher:L,onClose:()=>L(ne=>({...ne,open:!1})),conditionValue:_.conditionValue})}),o.jsx(YS,{open:u,onClose:()=>d(!1)})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-2xl text-gray-500",children:"ang ti thng tin n hng..."})})}function Bde(){const{user:t,refreshUser:e}=jt(),n=t?.address,[r,s]=T.useState(!1),[i,a]=T.useState({open:!1,dataUpdate:null,action:"add"}),[l,c]=T.useState({open:!1,delete:null}),u=async()=>{try{if(s(!0),(await he.delete(`/api/v1/address/delete/${l.delete}`)).status){c({open:!1,delete:null}),await e();return}}catch(p){console.log(p),c({open:!1,delete:null}),ce.error(p.message)}finally{s(!1)}},d=async p=>{try{if((await he.patch(`/api/v1/address/set-default/${p}`)).status){await e();return}}catch(g){console.log(g),ce.error(g.message)}},f=async()=>{await e()};return o.jsxs("div",{className:"p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:[o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"a ch ca ti"}),o.jsxs("button",{className:"flex items-center gap-[.5rem] px-5 py-2.5 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>a({open:!0,action:"add",dataUpdate:null}),children:[o.jsx(z,{icon:Qr,className:"text-white"}),o.jsx("span",{className:"text-white",children:"Thm a ch"})]})]}),o.jsx("div",{className:"mt-[2rem] space-y-4",children:n&&n?.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h4",{className:"text-[1.8rem] text-gray-800 mb-[2rem]",children:"a ch"}),n.map(p=>o.jsxs("div",{className:"flex md:items-center flex-col md:flex-row justify-between border border-dashed rounded-md p-[2rem] border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] text-gray-500",children:[o.jsx("span",{className:"text-gray-800",children:p.recipentName}),o.jsx("span",{className:"block h-[1.5rem] border-l border-l-gray-300"}),o.jsx("span",{className:"text-[1.4rem]",children:p.phone})]}),o.jsx("p",{className:"text-[1.4rem] text-gray-500",children:p.addressDetail}),o.jsxs("p",{className:"text-[1.4rem] text-gray-500",children:[p.ward,", ",p.district,", ",p.province]}),p.isDefault&&o.jsx("button",{className:"text-[1.2rem] px-[.8rem] py-[.2rem] text-red-500 border border-red-300 rounded-sm",children:"Mc nh"})]},p.id),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] md:mt-0 mt-5",children:[o.jsx("button",{className:"flex-1 px-[1rem] py-[.4rem] text-[1.4rem] border text-blue-500 border-blue-400 hover:border-blue-600 hover:text-blue-600 rounded-sm",onClick:()=>a({open:!0,dataUpdate:p,action:"edit"}),children:"Cp nht"}),!p.isDefault&&o.jsx("button",{className:"px-[1rem] py-[.4rem] text-[1.4rem] border text-red-500 border-red-400 hover:border-red-600 hover:text-red-600 rounded-sm",onClick:()=>c({open:!0,delete:p.id}),children:"Xa"})]}),o.jsx("button",{className:`px-[1rem] py-[.4rem] text-[1.4rem] border ${p.isDefault?"text-gray-400 border-gray-200 cursor-not-allowed":"text-orange-500 border-orange-400 hover:border-orange-600 hover:text-orange-600"}  rounded-sm`,disabled:p.isDefault,onClick:()=>d(p.id),children:"Thit lp mc nh"})]})]},p.id))]}):o.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[o.jsx(z,{icon:CN,className:"text-[2rem] text-red-500"}),o.jsx("p",{className:"text-gray-500 text-[1.6rem] select-none",children:"Bn cha c a ch no"})]})}),o.jsx(JS,{openActionAddress:i,onClose:()=>a({open:!1,dataUpdate:null,action:"add"}),onSuccess:f}),o.jsxs(bt,{open:l.open,className:"relative w-[50rem] min-h-[10rem] rounded-lg bg-white p-[2.5rem]",children:[o.jsx("h2",{className:"text-[1.8rem] text-gray-800",children:"Bn c chc mun xa a ch ny?"}),o.jsxs("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-gray-600 bg-gray-200  hover:bg-gray-300 rounded-sm",onClick:()=>c({open:!1,delete:null}),disabled:r,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm",onClick:()=>u(),disabled:r,children:r?"ang x l...":"Xa"})]})]})]})}const Hde={[il.NOT_USING]:"Ti khng cn s dng na",[il.PRIVACY_CONCERNS]:"Lo ngi v quyn ring t",[il.FOUND_BETTER_ALTERNATIVE]:"Tm c website/app tt hn",[il.ACCOUNT_ISSUE]:"Gp vn  vi ti khon",[il.OTHER]:"L do khc"};function Ude(){const{logout:t}=Jl(),[e,n]=T.useState(!1),r=Ze(),[s,i]=T.useState(!1),[a,l]=T.useState({reason:null,confirm:!1,password:""}),[c,u]=T.useState({reason:null,confirm:null,password:null}),d=async()=>{n(!0)},f=async()=>{u({reason:null,confirm:null,password:null});let p=!1;if(a.password===""&&(u(g=>({...g,password:"Vui lng nhp mt khu  xc thc!"})),p=!0),a.reason||(u(g=>({...g,reason:"Vui lng chn l do xa ti khon!"})),p=!0),a.confirm||(u(g=>({...g,confirm:"Vui lng xc nhn xa ti khon!"})),p=!0),!p){i(!0);try{const g=await he.post("/api/v1/user/delete-account",a);g.status&&(localStorage.removeItem("guest_address"),ce.success(g.message||"Xa ti khon thnh cng!"),await t(),r("/"))}catch(g){console.log(g),ce.error(g.message||"Xa ti khon khng thnh cng!"),g.message.toLowerCase().includes("mt khu")&&u(x=>({...x,password:"Mt khu khng chnh xc!"}))}finally{i(!1)}}};return o.jsxs("div",{className:"p-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("div",{className:"flex items-center justify-between pb-[2rem] border-b border-b-gray-300",children:o.jsx("h3",{className:"text-[1.8rem] text-gray-800",children:"Quyn ring t & Xa ti khon"})}),e?o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("button",{className:"flex items-center gap-[.5rem] px-8 py-2.5 rounded-md hover:bg-gray-50 hover:border-gray-400 transition duration-300 cursor-pointer border border-gray-300 text-[1.4rem]",onClick:()=>n(!1),disabled:s,children:[o.jsx(z,{icon:j_,className:"text-gray-600 text-[1.4rem]"}),o.jsx("span",{className:"text-gray-600",children:"Quay li"})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"password",className:"text-gray-600",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",name:"password",value:a.password,placeholder:"Nhp mt khu ti khon ca bn...",className:"w-full h-[4rem] rounded-md border border-gray-300 focus:border-cyan-400 outline-none px-[1.5rem] mt-[.5rem]",onChange:p=>{l(g=>({...g,password:p.target.value})),c.password&&u(g=>({...g,password:null}))}}),c.password&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem]",children:c.password}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"text-gray-600",children:"L do bn mun xa ti khon"}),o.jsxs("div",{className:"space-y-8 pl-[2rem] mt-[2rem]",children:[Object.entries(Hde).map(([p,g])=>o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsx("input",{type:"radio",id:`reason-${p}`,name:"reason",className:"cursor-pointer",style:{scale:1.5},checked:p===a.reason,onChange:()=>{l(x=>({...x,reason:p})),c.reason&&u(x=>({...x,reason:null}))}}),o.jsx("label",{htmlFor:`reason-${p}`,className:"text-gray-800 select-none cursor-pointer",children:g})]},p)),c.reason&&o.jsx("p",{className:"text-red-500 mt-[.5rem] text-[1.4rem] pl-[2rem]",children:c.reason})]})]}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("p",{className:"w-full h-auto p-[1rem] mb-[1rem] border border-amber-400 text-amber-800 bg-amber-50",children:" Xa ti khon tt s xa ton b d liu v gi hng v cc cu hnh thng tin c nhn. Bn c chc ch?"}),o.jsxs("div",{className:"flex items-center space-x-4 pl-[2rem]",children:[o.jsx("input",{type:"checkbox",id:"confirm",className:"",checked:a.confirm,style:{scale:1.5},onChange:p=>{l(g=>({...g,confirm:p.target.checked})),c.confirm&&u(g=>({...g,confirm:null}))}}),o.jsx("label",{htmlFor:"confirm",className:"text-gray-600",children:"Xc nhn xa ti khon"})]}),c.confirm&&o.jsx("p",{className:"text-red-500 mt-[.5rem] pl-[2rem] text-[1.4rem]",children:c.confirm})]}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] text-[1.4rem] text-white bg-red-500 hover:bg-red-600 rounded-sm ${s?"cursor-not-allowed":""}`,onClick:()=>{f()},disabled:s,children:s?"ang x l...":"Xa ti khon"})})]})]}):o.jsxs("div",{className:"flex items-center justify-between mt-[2rem]",children:[o.jsx("h3",{className:" text-gray-600",children:"Yu cu xa ti khon"}),o.jsxs("button",{type:"button",className:"flex items-center gap-[.5rem] px-8 py-4 bg-red-500 rounded-md hover:bg-red-600 transition duration-300 cursor-pointer",onClick:()=>{d()},children:[o.jsx(z,{icon:Ou,className:"text-white text-[1.4rem]"}),o.jsx("span",{className:"text-white",children:"Xa ti khon"})]})]})]})}function Wde(){const{user:t}=jt(),[e,n]=T.useState(null),[r,s]=T.useState(!1),[i,a]=T.useState(void 0),[l,c]=T.useState(!1),[u,d]=T.useState(null),{register:f,formState:{errors:p,isSubmitting:g},reset:x,watch:v,setValue:b,handleSubmit:w}=Hs({defaultValues:{user:{username:"",email:"",phone:void 0,avatar:null},customer:{birthday:"",gender:""}}}),N=v("user.phone"),C=v("user.avatar");T.useEffect(()=>{t&&(x({user:{username:t.username,email:t.email,phone:t.phone},customer:{birthday:t?.customer?.birthday,gender:t?.customer?.gender}}),a(t.phone),t.avatar&&n(t.avatar))},[t,x]),T.useEffect(()=>{if(C&&C.length>0){const P=C[0],E=URL.createObjectURL(P);return n(E),()=>URL.revokeObjectURL(E)}},[C]);const M=async P=>{try{const E=new FormData;E.append("user[username]",P.user.username),E.append("user[email]",P.user.email),P.user.phone!==void 0&&P.user.phone!==null&&String(P.user.phone)!==""&&E.append("user[phone]",String(P.user.phone)),P.customer.gender&&String(P.customer.gender)!==""&&E.append("customer[gender]",P.customer.gender),P.customer.birthday&&E.append("customer[birthday]",new Date(P.customer.birthday).toISOString().split("T")[0]),P.user.avatar&&P.user.avatar.length>0&&E.append("avatar",P.user.avatar[0]);for(const L of E.entries())console.log(L[0],L[1]);const _=await he.patch(`/api/v1/user/update-customer/${t?.customer.id}`,E,{headers:{"Content-Type":"multipart/form-data"}});_.status&&(d(_.message||"Cp nht thnh cng!"),c(!0),setTimeout(()=>{c(!1)},800))}catch(E){console.log(E),d(E.message||"Cp nht tht bi!"),c(!0),setTimeout(()=>{c(!1)},800)}},j=()=>{N&&/^[0-9]{10,11}$/.test(N.toString())&&s(!1)},A=()=>{b("user.phone",i),s(!1)};return o.jsxs("div",{className:"w-full h-full p-[1rem] xs:p-[1.5rem] sm:p-[2rem]",children:[o.jsxs("div",{className:"pb-[1.5rem] sm:pb-[1.9rem] border-b border-b-gray-200",children:[o.jsx("h4",{className:"text-[1.8rem] sm:text-[2rem] text-gray-800",children:"H S Ca Ti"}),o.jsx("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:"Qun l thng tin h s  bo mt ti khon"})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row mt-[2rem] sm:mt-[3rem] gap-6 lg:gap-0",children:[o.jsx("div",{className:"flex-1 order-2 lg:order-1",children:o.jsxs("form",{onSubmit:w(M),className:"space-y-8 md:space-y-10",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex text-[1.4rem] md:text-[1.6rem] items-center gap-[1rem] md:gap-[2rem]",children:[o.jsx("label",{htmlFor:"username",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Tn"}),o.jsx("input",{type:"text",className:"md:flex-1 w-full h-[4rem] pl-[1.5rem] rounded-md border border-gray-300 outline-none text-gray-600",...f("user.username",{required:"Tn khng c  trng"})})]}),p.user?.username&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.username.message})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex md:flex-row items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"email",className:"block md:w-[14rem] text-start md:text-end text-gray-600",children:"Email"}),o.jsx("input",{type:"email",className:"md:flex-1 w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("user.email",{required:"Email khng c  trng"})})]}),p.user?.email&&o.jsx("p",{className:"text-red-500 text-[1.2rem] ml-0 md:ml-[16rem] mt-2",children:p.user.email.message})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"phone",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"S in thoi"}),N?o.jsxs("div",{className:"flex items-center gap-[.5rem] flex-wrap",children:[o.jsx("p",{className:"text-gray-600",children:N}),o.jsx("button",{type:"button",className:"px-[1rem] py-[.4rem] rounded-md bg-blue-400 text-[1.2rem] text-white hover:bg-blue-500 hover:underline transition duration-150",onClick:()=>s(!0),children:"i"})]}):o.jsx("p",{className:"text-blue-500 hover:text-blue-600 underline cursor-pointer",onClick:()=>s(!0),children:"Thm s in thoi"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"gender",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Gii tnh"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] sm:gap-[2rem] text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"male",id:"male",...f("customer.gender")}),o.jsx("label",{htmlFor:"male",children:"Nam"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("input",{type:"radio",value:"female",id:"female",...f("customer.gender")}),o.jsx("label",{htmlFor:"female",children:"N"})]})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-[1rem] md:gap-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("label",{htmlFor:"birthday",className:"block w-full md:w-[14rem] text-start md:text-end text-gray-600",children:"Ngy sinh"}),o.jsx("input",{type:"date",id:"birthday",className:"w-full md:w-[20rem] h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",...f("customer.birthday")})]}),o.jsx("div",{className:"flex items-center justify-start md:justify-end pt-4",children:o.jsx("button",{className:"w-full sm:w-auto px-[2rem] py-[.8rem] rounded-md bg-red-500 hover:bg-red-600 text-white transition duration-150 cursor-pointer",type:"submit",disabled:g,children:g?"ang x l...":"Lu"})})]})}),o.jsx("div",{className:"w-full lg:w-[30rem] h-auto pl-0 lg:pl-[4rem] ml-0 lg:ml-[4rem] border-l-0 lg:border-l border-l-gray-300 mb-[2rem] lg:mb-0 order-1 lg:order-2",children:o.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e?o.jsx("div",{className:"w-[10rem] md:w-[12rem] h-[10rem] md:h-[12rem] sm:w-[14rem] sm:h-[14rem] rounded-full flex items-center justify-center",children:o.jsx("img",{src:e,alt:"avatar",className:"w-full h-full object-cover rounded-full"})}):o.jsx("div",{className:"w-[10rem] h-[10rem] sm:w-[12rem] sm:h-[12rem] rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center",children:o.jsx(z,{icon:KS,className:"text-[3rem] sm:text-[4rem] text-gray-400"})}),o.jsxs("label",{htmlFor:"avatar",className:"text-[1.4rem] md:text-[1.6rem] flex items-center justify-center w-[12rem] h-[3.8rem] rounded-md border border-gray-500 border-dashed cursor-pointer mt-[2rem] text-gray-600 hover:bg-gray-50 transition duration-150",children:[o.jsx("input",{type:"file",id:"avatar",className:"hidden",accept:"image/*",...f("user.avatar")}),"Chn nh"]})]})})]}),o.jsxs(bt,{open:r,className:"relative w-[90vw] sm:w-[32rem] md:w-2xl max-w-[90vw] min-h-[18rem] bg-white rounded-md p-[1.5rem] sm:p-[2rem]",children:[o.jsx("div",{className:"absolute top-[1rem] right-[1rem] cursor-pointer w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition",onClick:()=>A(),children:o.jsx(z,{icon:cn,className:"text-gray-600 hover:text-gray-800 text-[1.6rem]"})}),o.jsx("h3",{className:"text-gray-600 text-[1.6rem] sm:text-[1.8rem]",children:"Thay i s in thoi"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("input",{type:"number",className:"w-full h-[4rem] rounded-md border border-gray-300 outline-none pl-[1.5rem] text-gray-600",placeholder:"Nhp s in thoi",...f("user.phone",{pattern:{value:/^[0-9]{10,11}$/,message:"S in thoi khng hp l"}})}),p.user?.phone&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-2",children:p.user.phone.message})]}),o.jsx("button",{className:`block mt-[2rem] w-full sm:w-[10rem] h-[4rem] ${N&&/^[0-9]{10,11}$/.test(N.toString())?"bg-red-500 hover:bg-red-600 text-white":"bg-red-400 text-gray-200 cursor-not-allowed"} rounded-lg transition duration-150 ml-auto`,disabled:!N||!/^[0-9]{10,11}$/.test(N.toString()),onClick:j,children:"Tip theo"})]}),o.jsx(bt,{open:l,className:"relative w-[90vw] sm:w-[30rem] max-w-[90vw] min-h-[15rem] bg-white rounded-md p-[2rem] sm:p-[3rem] shadow-lg",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-[1.5rem]",children:[o.jsx("div",{className:"w-[5rem] h-[5rem] rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(z,{icon:bo,className:"text-white text-[3rem]"})}),o.jsx("h3",{className:"text-[1.6rem] text-gray-800 text-center",children:u})]})})]})}function qde({children:t}){const{user:e,loading:n}=jt();return n?o.jsx("div",{children:"Loading..."}):e&&[qt.ADMIN,qt.STAFF].includes(e.role)?o.jsx(tu,{to:"/dashboard",replace:!0}):o.jsx(o.Fragment,{children:t})}function Kde(){const{user:t}=jt(),{orderCode:e}=wi(),n=Ze(),[r,s]=T.useState(!1),[i,a]=T.useState(!1),l=T.useRef(!1);T.useEffect(()=>{window.scrollTo(0,0)},[]),T.useEffect(()=>{(async()=>{if(!e){s(!0),a(!1);return}try{a(!0),(await he.get(`/api/v1/orders/verify/${e}`)).status&&s(!1)}catch(d){s(!0),l.current||(ce.error(d.message||"Khng th xc thc n hng!"),l.current=!0)}finally{a(!1)}})()},[e]);const c=()=>{n(t?"/customer/order":"/look-up-order")};return r&&!i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-gray-50 px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-[2rem] text-red-500 mb-4",children:""}),o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Khng tm thy n hng"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"M n hng khng hp l hoc  b xa."}),o.jsx("button",{onClick:()=>n("/"),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"V trang ch"})]})}):i?o.jsx("div",{className:"h-[calc(100vh-18rem)] py-12 bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx(z,{icon:xg,className:"text-[2.5rem] text-blue-500 mb-4 animate-spin"}),o.jsx("p",{className:" text-gray-600",children:"ang xc thc n hng..."})]})}):o.jsx("div",{className:" bg-white pt-12 pb-18 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:" rounded-lg p-8 mb-6 text-center",children:[o.jsx(z,{icon:hu,className:"text-6xl text-green-500 mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"t hng thnh cng!"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Cm n bn  t hng ti shop ca chng ti."}),o.jsx("p",{className:"text-center text-[1.4rem] text-gray-600",children:"Thng tin n hng s c thng bo qua email m bn  cung cp!"}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-[1rem]",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:"M n hng:"}),o.jsx("p",{className:"font-bold text-blue-600",children:e})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>n("/"),className:"flex-1 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition",children:"V trang ch"}),o.jsx("button",{onClick:()=>{c()},className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition",children:"Xem n hng"})]})]})})}function Gde({productId:t,averageRating:e}){const{user:n}=jt(),r=ga(),[s,i]=T.useState("all"),[a,l]=T.useState("newest"),[c,u]=T.useState(!1),{data:d,isLoading:f}=De({queryKey:["evaluates",t,a,s],queryFn:()=>OD({productId:t,rating:s,page:1,sort:a})}),p=d?.data||[],[g,x]=T.useState(null),[v,b]=T.useState({}),w=_=>v[_]??0,N=_=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(L=>o.jsx(z,{icon:xs,className:`text-[1.4rem] ${L<=_?"text-yellow-400":"text-gray-300"}`},L))}),C=_=>`${new Date(_).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`,M=(_,L)=>{x(_),b(D=>({...D,[_]:L}))},j=()=>{x(null)},A=()=>{if(g===null)return;const _=p.find(R=>R.id===g);if(!_||!_.images)return;const L=w(g),D=L>=_.images.length-1?0:L+1;b(R=>({...R,[g]:D}))},P=()=>{if(g===null)return;const _=p.find(R=>R.id===g);if(!_||!_.images)return;const L=w(g),D=L<=0?_.images.length-1:L-1;b(R=>({...R,[g]:D}))},E=async _=>{if(!n){u(!0);return}try{const L=["evaluates",t,a,s];r.setQueryData(L,R=>R?.data?{...R,data:R.data.map(G=>G.id===_?{...G,isLiked:!G.isLiked,helpfulCount:G.isLiked?G.helpfulCount-1:G.helpfulCount+1}:G)}:R);const D=await he.post(`/api/v1/evaluate/toggle-helpful/${_}`);D.data.status&&r.setQueryData(L,R=>R?.data?{...R,data:R.data.map(G=>G.id===_?{...G,isLiked:D.data.isLiked,helpfulCount:D.data.helpfulCount??G.helpfulCount}:G)}:R)}catch(L){console.log(L);return}};return o.jsxs("div",{className:"w-full mt-4 sm:mt-6 md:mt-[2rem] p-3 sm:p-4 md:p-[2.5rem] bg-white rounded-lg",children:[o.jsx("h3",{className:"text-lg sm:text-xl md:text-[2.2rem] text-pink-600 uppercase mb-4 sm:mb-6 md:mb-8",children:"nh gi sn phm"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 md:gap-8 border border-[#bdb600] p-4 sm:p-6 md:p-[3rem] rounded-sm bg-[#fffff9] mb-4 sm:mb-6 md:mb-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-center sm:items-start justify-center",children:[o.jsxs("p",{className:"text-2xl sm:text-3xl md:text-[2.8rem] text-gray-800",children:[e," / 5"]}),o.jsx("div",{className:"mt-2",children:N(e)})]}),o.jsx("div",{className:"w-full sm:w-auto",children:o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>i("all"),children:["Tt c (",d&&d.summary.total,")"]}),[5,4,3,2,1].map(_=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${s===_?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{i(_)},children:[_," Sao (",d&&d.summary.ratingCount[_],")"]},_))]})})]}),f&&o.jsxs("div",{className:"flex justify-center items-center py-8 sm:py-12 gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),p.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:p.map(_=>{const L=w(_.id);return o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow duration-300",children:o.jsxs("div",{className:"flex flex-row gap-3 sm:gap-4",children:[o.jsx("div",{className:"flex-shrink-0 flex sm:block",children:_.showAccount?_?.user?.avatar?o.jsx("img",{src:_.user.avatar,alt:"avatar"+_.user.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(_.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:_.showAccount?_.user?.username||_.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",C(_.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:N(_.rating)}),_.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:_.message}),_.images&&_.images.length>0&&o.jsx("div",{className:"mt-3 sm:mt-4 flex flex-wrap gap-2 sm:gap-3",children:_.images.map((D,R)=>o.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24",children:[o.jsx("img",{src:D,alt:`nh gi ${R+1}`,className:`w-full h-full object-cover rounded-lg border-2 cursor-pointer transition-all duration-300 
                                ${g===_.id&&L===R?"border-blue-500":"border-gray-200"}`,onClick:()=>M(_.id,R)}),_.images.length>1&&R===0&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded",children:["+",_.images.length-1]})]},R))}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mt-3 sm:mt-[1rem]",children:[o.jsx("span",{className:"text-[1.2rem] sm:text-[1.4rem] text-gray-600",children:"Bi nh gi ny hu ch"}),o.jsxs("button",{className:"cursor-pointer flex items-center gap-1 sm:gap-2 transition-all hover:scale-110",type:"button",onClick:()=>E(_.id),children:[o.jsx(z,{icon:_.isLiked?RG:DR,className:`text-lg sm:text-xl transition-colors ${_.isLiked?"text-red-500":"text-gray-600"}`}),o.jsx("span",{className:`text-xs sm:text-[1.4rem] font-medium ${_.isLiked?"text-red-500":"text-gray-600"}`,children:_.helpfulCount})]})]}),_.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:"Admin"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:["Admin "," ",o.jsx("span",{className:"text-[1.2rem]",children:C(_.adminResponseAt)})]}),o.jsx("p",{className:"text-[1.6rem] mt-1",children:_.adminResponse})]})]})]}),g===_.id&&_.images&&_.images.length>0&&o.jsx("div",{className:"mt-4 sm:mt-8 relative rounded-xl overflow-hidden w-full sm:w-[40rem] mx-auto border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:_.images[L],alt:`nh ln ${L+1}`,className:"w-full max-h-[20rem] sm:max-h-[30rem] md:max-h-[40rem] object-contain"}),o.jsx("button",{type:"button",onClick:j,className:"absolute top-2 sm:top-4 right-2 sm:right-4 w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition",children:o.jsx(z,{icon:Un,className:"text-gray-600 text-lg sm:text-2xl"})}),_.images.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:P,className:"absolute left-2 sm:left-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(z,{icon:j_,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsx("button",{type:"button",onClick:A,className:"absolute right-2 sm:right-6 top-1/2 -translate-y-1/2 w-8 h-8 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center hover:scale-110 transition duration-300",children:o.jsx(z,{icon:b_,className:"text-gray-400 text-base sm:text-xl md:text-2xl"})}),o.jsxs("div",{className:"absolute bottom-2 sm:bottom-6 left-1/2 -translate-x-1/2 px-3 sm:px-5 py-1 sm:py-2 bg-black/60 rounded-full text-white text-sm sm:text-lg",children:[L+1," / ",_.images.length]})]})]})})]})]})},_.id)})}),o.jsx(YS,{open:c,onClose:()=>u(!1)})]})}const UR=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await he.get("/api/v1/flashsale/data",{params:e})},Yde=async t=>await he.get(`/api/v1/flashsale/${t}`),WR=async t=>await he.get(`/api/v1/flashsale/${t}`),Xde=async t=>await he.get(`/api/v1/flashsale/for-product/${t}`),ZS=t=>{const e=new Date(t).getTime(),n=new Date().getTime(),r=e-n,s=Math.floor(r/(1e3*60*60)),i=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3);return{hours:s,minutes:i,seconds:a}};function Qde(){const{productSlug:t}=wi(),e=Ze(),{data:n,isLoading:r}=De({queryKey:["productdetail",t],queryFn:()=>cte(t),enabled:!!t}),{data:s,isLoading:i}=De({queryKey:["flashSaleForProduct"],queryFn:()=>Xde(t)}),a=s&&s.data,[l,c]=T.useState({hours:0,minutes:0,seconds:0}),u=Math.floor(l.hours/24),d=n?.product,[f,p]=T.useState(null),[g,x]=T.useState(null),[v,b]=T.useState(1),[w,N]=T.useState(null),{addToCart:C,isLoading:M,notify:j,setNotify:A}=Sx(),[P,E]=T.useState([]),[_,L]=T.useState(0),D=T.useMemo(()=>{const Z=new Map;return d?.variants?.forEach(ee=>Z.set(ee.variantColor.id,ee.variantColor)),[...Z.values()]},[d]),R=T.useMemo(()=>{const Z=new Map;return d?.variants?.forEach(ee=>Z.set(ee.variantSize.id,ee.variantSize)),[...Z.values()]},[d]);T.useEffect(()=>{if(d&&d.mainImage&&d.listImageProduct){const ee=(d.listImageProduct.map(le=>le.imageUrl)||[]).filter(le=>le!==d.mainImage);E([d.mainImage,...ee])}},[d]),T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(!a)return;const Z=()=>{const le=ZS(a.endDate);c(le)};if(Z(),l.hours>=24)return;const ee=setInterval(()=>{Z()},1e3);return()=>clearInterval(ee)},[a,l.hours]);const G=(Z,ee)=>Math.round(Z*(1-ee/100)),U=()=>d?.variants.find(ee=>ee.variantColor.id===g?.id&&ee.variantSize.id===f?.id)?.inventory??0,q=g&&f,F=d?.variants.reduce((Z,ee)=>Z+ee.inventory,0),B=U(),$=Z=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Z),X=()=>{const Z=d.category.categoryName?.toUpperCase()||"";return Z.includes("giy")||Z.includes("dp")?xN:vN},H=async Z=>{if(N(null),!g||!f){N("Vui lng chn thuc tnh sn phm!");return}const ee=d?.variants.find(pe=>pe.variantColor.id===g.id&&pe.variantSize.id===f.id)?.id;v<=0&&N("S lng sn phm t nht l 1!"),C([{variantId:ee,quantity:v}]),Z==="buy"&&e(`/cart/detail?buyNowVariant=${ee}`)},V=()=>{L(Z=>Z+1>P.length-1?0:Z+1)},Q=()=>{L(Z=>Z-1<0?P.length-1:Z-1)};return r?o.jsx(ko,{}):o.jsxs("div",{className:"relative w-full h-auto px-[1rem] md:px-[3rem] xl:px-[12rem]",children:[o.jsxs("div",{className:"w-full flex flex-wrap items-center gap-1 sm:gap-2 text-[1.2rem] md:text-[1.4rem] px-2 sm:px-4 md:px-6 lg:px-[3rem] md:py-2 py-1",children:[o.jsxs(Qe,{to:"/",className:"flex items-center gap-1 sm:gap-2 text-blue-800 hover:text-blue-600 transition-colors whitespace-nowrap",children:[o.jsx("span",{children:"Home"}),o.jsx(z,{icon:an,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]}),(()=>{if(!d?.category)return null;const Z=[];let ee=d.category;for(;ee;)Z.push(ee),ee=ee.parent;return Z.reverse().map((le,pe)=>o.jsxs("div",{className:"flex items-center whitespace-nowrap",children:[o.jsx(Qe,{to:`/category/${le.slug}`,className:"flex items-center hover:text-blue-600 transition-colors text-blue-800",children:o.jsx("span",{className:"line-clamp-1 max-w-[80px] sm:max-w-[120px] md:max-w-[150px] lg:max-w-none",children:le.categoryName})}),pe<Z.length-1&&o.jsx(z,{icon:an,className:"mx-1 sm:mx-2 text-gray-400 text-[0.8rem] sm:text-[1rem]"}),o.jsx(z,{icon:an,className:"text-gray-400 text-[0.8rem] sm:text-[1rem]"})]},le.id))})(),o.jsx("span",{className:"text-gray-600 line-clamp-1 max-w-[100px] sm:max-w-[150px] md:max-w-[200px] lg:max-w-[300px] xl:max-w-none",children:d?.productName})]}),o.jsxs("div",{className:"w-full h-auto flex md:flex-row flex-col gap-[4rem] rounded-lg mt-[1rem] bg-white p-[1rem] md:p-[1.5rem]",children:[o.jsxs("div",{className:"relative w-full md:w-[40rem] xl:w-[50rem] h-auto",children:[o.jsx("img",{src:P[_],alt:d?.productName,className:"w-full md:h-[40rem] h-[35rem] xl:h-[50rem] object-cover"}),o.jsx("button",{onClick:Q,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 left-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(z,{icon:ts,className:"text-[1.8rem]"})}),o.jsx("button",{onClick:V,className:"absolute w-18 h-18 flex items-center justify-center top-1/2 right-2 -translate-y-1/2 text-gray-500 rounded-full bg-gray-200 hover:bg-gray-300 hover:text-gray-600 transition-colors duration-300",children:o.jsx(z,{icon:an,className:"text-[1.8rem]"})}),o.jsx("div",{className:"flex items-center space-x-4 mt-[1rem]",children:P.map((Z,ee)=>o.jsx("div",{className:`w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-md border ${_===ee?"border-2 border-amber-500":"border-gray-300"} `,onClick:()=>L(ee),children:o.jsx("img",{src:Z,alt:`imageItem-${ee}`,className:"w-full h-full object-cover rounded-md"})},Z))}),a&&o.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-[1.4rem] px-4 py-1 rounded-tl-4xl rounded-br-4xl shadow-lg z-10",children:["FLASH SALE -",a.discount,"%"]})]}),o.jsxs("div",{className:"flex-1 space-y-2 md:space-y-4",children:[o.jsx("h3",{className:"text-[1.4rem] md:text-[2rem] xl:text-[2.2rem] text-gray-800",children:d?.productName}),o.jsxs("div",{className:"flex items-center space-x-6 text-[1.2rem] md:text-[1.6rem]",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-gray-800",children:d.averageRating}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(Z=>o.jsx(z,{icon:xs,className:`${Z<=d.averageRating?"text-yellow-400":"text-gray-300"}`},Z))})})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("p",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-800",children:d.reviewCount}),o.jsx("span",{className:" text-gray-500",children:"nh gi"})]}),o.jsx("span",{className:"h-[1.5rem] border-r border-r-gray-400"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:" text-gray-500",children:" bn"}),o.jsx("p",{className:"text-gray-800",children:d.soldCount})]})]}),a&&o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] md:text-[2rem] xl:text-[2.2rem]",children:$(G(d.price,a.discount))}),o.jsx("p",{className:"text-gray-500 text-[1.4rem] md:text-[1.6rem] line-through",children:$(d.price)}),o.jsxs("span",{className:"bg-red-600 text-white text-[1.2rem] md:text-[1.4rem] px-3 py-1 rounded-md",children:["-",a.discount,"%"]})]})}),a&&o.jsx("div",{className:"flex items-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3 text-[1.2rem] md:text-[1.4rem]",children:l.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white ",children:["Thi hn ",u," ngy"]}):["hours","minutes","seconds"].map((Z,ee)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-3 py-1 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(l[Z]).padStart(2,"0")})},ee),ee!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},ee))})}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn mu"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:D?.map(Z=>o.jsxs("button",{className:`flex items-center gap-[.5rem] px-[1rem] py-[.6rem] border-[.1rem] rounded-[.5rem] hover:border-blue-300 ${g?.id===Z.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300"} cursor-pointer`,onClick:()=>x(Z),children:[o.jsx(z,{icon:X(),className:"bg-gray-100 p-[.2rem]",style:{color:Z.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:Z.name})]},Z.id))})]}),o.jsxs("div",{className:"flex items-start space-x-4 mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"Chn size"}),o.jsx("div",{className:"flex items-center gap-[1rem] flex-wrap",children:R?.map(Z=>{const ee=g?d.variants.find(le=>le.variantColor.id===g.id&&le.variantSize.id===Z?.id):!1;return o.jsx("button",{className:`flex items-center gap-[.5rem] px-[1rem] md:px-[2rem] py-[.4rem] md:py-[.6rem] border rounded-[.5rem] ${ee?f?.id===Z.id?"border-[.1rem] bg-blue-50 border-blue-600":"border-gray-300":"border-gray-200 text-gray-200"} cursor-pointer`,disabled:!ee,onClick:()=>p(Z),children:o.jsx("span",{className:"text-[1.4rem]",children:Z.name})},Z.id)})})]}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[2rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("span",{className:"block text-gray-600 w-[12rem] text-start",children:"S lng"}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem]",children:[o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${q?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{g&&f&&b(Z=>Math.max(1,Z-1))},children:o.jsx(z,{icon:Rl,className:"text-[1rem]"})}),o.jsx("input",{type:"number",value:v,className:"flex items-center justify-center text-[1.4rem] w-[6rem] h-[3rem] rounded-lg bg-white border  text-gray-800 select-none outline-none pl-[1rem] border-gray-200",disabled:!q,onChange:Z=>b(Number(Z.target.value))}),o.jsx("span",{className:`w-[3rem] h-[3rem] flex items-center justify-center rounded-lg border border-gray-300 bg-gray-100 cursor-pointer ${q?"":"pointer-events-none select-none opacity-[.5] cursor-not-allowed"}`,onClick:()=>{f&&g&&b(Z=>Math.min(Number(d.variants.find(ee=>ee.variantColor.id===g.id&&ee.variantSize.id===f?.id)?.inventory),Number(Z)+1))},children:o.jsx(z,{icon:ha,className:"text-[1rem]"})})]}),o.jsx("span",{className:"text-[1rem] md:text-[1.4rem] text-gray-600 uppercase select-none",children:q?`Cn ${B} sn phm`:F>0?"Cn hng":"Ht hng"})]})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] text-red-500 mt-[4rem]",children:w}),o.jsxs("div",{className:"flex items-center  gap-[1rem] mt-[.5rem] text-[1.4rem] md:text-[1.6rem]",children:[o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] border border-amber-500 hover:border-amber-600 text-amber-600 hover:text-amber-700 rounded-[.5rem] hover-linear select-none cursor-pointer",disabled:M,onClick:()=>H("add"),children:M?o.jsx("span",{children:"ang x l..."}):o.jsxs(o.Fragment,{children:[o.jsx(z,{icon:yN}),o.jsx("span",{children:"Thm vo gi hng"})]})}),o.jsx("button",{type:"button",className:"px-[1rem] md:px-[2.5rem] py-[.8rem] md:py-[1.2rem] bg-red-500 text-white hover:bg-red-600 rounded-[.5rem] hover-linear cursor-pointer",disabled:M,onClick:()=>H("buy"),children:M?"ang x l...":"Mua ngay"})]})]})]}),o.jsxs("div",{className:"w-full mt-[2rem] rounded-lg h-auto bg-white p-[1rem] md:p-[2.5rem]",children:[o.jsx("div",{className:"w-full py-[1rem] px-[1rem] md:px-[2rem] bg-gray-100 text-[1.4rem] md:text-[2rem] text-pink-600 mb-8 uppercase",children:"M t sn phm"}),o.jsx("div",{className:"prose prose-2xl max-w-none text-gray-600 px-[1rem] md:px-[2rem] text-[1.4rem]",dangerouslySetInnerHTML:{__html:d.description}})]}),o.jsx(Gde,{productId:d.id,averageRating:Number(d.averageRating)}),o.jsx(Ru,{showNotify:j.show,content:j.content,duration:1e3,onClose:()=>A({show:!1,content:""})})]})}function Jde({open:t,onClose:e,dataChange:n,refetchOrder:r}){const{control:s,register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Hs({defaultValues:{province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}});T.useEffect(()=>{if(n){const P=n;f({province:P.province,district:P.district,ward:P.ward,recipentName:P.recipentName,addressDetail:P.addressDetail,phone:P.phone,orderCode:P.orderCode})}},[n,f]);const{data:p}=De({queryKey:["province"],queryFn:DS}),g=d("province"),x=d("district"),b=p?.find(P=>P.name===g)?.districts??[],N=b.find(P=>P.name===x)?.wards??[],C=p?.map(P=>({value:P.name,label:P.name})),M=b?.map(P=>({value:P.name,label:P.name})),j=N?.map(P=>({value:P.name,label:P.name})),A=async P=>{const E={customerName:P.recipentName,customerAddress:P.addressDetail,customerPhone:P.phone,customerProvince:P.province,customerDistrict:P.district,customerWard:P.ward};try{const _=await he.patch(`/api/v1/orders/change-address/${P.orderCode}`,E);_.status&&(await r(),ce.success(_.message),f({province:"",district:"",ward:"",recipentName:"",addressDetail:"",phone:"",orderCode:""}),e())}catch(_){ce.error(_.message)}};return o.jsxs(bt,{open:t,className:"relative w-[60rem] min-h-[20rem] rounded-lg bg-white p-[2rem]",children:[o.jsx("h2",{className:"text-[2rem] text-amber-600 mb-[2.5rem] font-bold text-center",children:"Thay i a ch"}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:P=>{P.stopPropagation(),e()},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("form",{onSubmit:a(A),children:[o.jsx("div",{className:" flex items-start gap-[2rem]",children:o.jsxs("div",{className:"w-full space-y-6",children:[o.jsxs("div",{className:"w-full flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"recipentName",className:"block text-gray-600",children:"H v tn"}),o.jsx("input",{type:"text",placeholder:"H v tn *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("recipentName",{required:"Vui lng nhp h tn!"})}),l.recipentName&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.recipentName.message})]}),o.jsxs("div",{className:"w-full space-y-1",children:[o.jsx("label",{htmlFor:"phone",className:"block text-gray-600",children:"S in thoi"}),o.jsx("input",{type:"number",placeholder:"st *",className:"w-full h-[4rem] pl-[1.5rem] border border-gray-300 rounded-lg focus:outline-none focus:border-cyan-300",...i("phone",{required:"Vui lng nhp s in thoi!"})}),l.phone&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.phone.message})]})]}),o.jsx("label",{className:"text-gray-600",children:"a ch"}),o.jsxs("div",{className:"flex items-start gap-[2rem] mt-[.5rem]",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(pi,{control:s,name:"province",rules:{required:"Vui lng chn tnh"},render:({field:P})=>o.jsx(sa,{...P,options:C,placeholder:"Tnh...",isSearchable:!0,value:C?.find(E=>E.value===P.value)||null,onChange:E=>{P.onChange(E?.value),u("district",""),u("ward","")},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.province&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.province.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(pi,{control:s,name:"district",rules:{required:"Vui lng chn huyn"},render:({field:P})=>o.jsx(sa,{...P,options:M,placeholder:"Huyn...",isSearchable:!0,value:M?.find(E=>E.value===P.value)||null,onChange:E=>{P.onChange(E?.value),u("ward","")},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.district&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.district.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(o.Fragment,{children:[o.jsx(pi,{control:s,name:"ward",rules:{required:"Vui lng chn phng"},render:({field:P})=>o.jsx(sa,{...P,options:j,placeholder:"Phng...",isSearchable:!0,value:j?.find(E=>E.value===P.value)||null,onChange:E=>{P.onChange(E?.value)},styles:{control:E=>({...E,height:"4rem"})},theme:E=>({...E,colors:{...E.colors,primary:"cyan"}})})}),l.ward&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.ward.message})]})})]})]})}),o.jsxs("div",{className:"w-full mt-[2rem]",children:[o.jsx("label",{htmlFor:"addressDetail",className:"text-gray-600",children:"a ch c th"}),o.jsx("textarea",{id:"addressDetail",rows:2,placeholder:"...",disabled:d("province")===""||d("district")===""||d("ward")==="",className:"w-full pt-[1rem] rounded-lg border border-gray-300 outline-none px-[1.5rem] focus:border-[.1rem] focus:border-cyan-300 mt-[.5rem]",...i("addressDetail",{required:"Vui lng nhp a ch c th!"})}),l.addressDetail&&o.jsx("span",{className:"text-red-500 text-[1.4rem]",children:l.addressDetail.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:"px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300",onClick:P=>{P.stopPropagation(),e()},disabled:c,children:"Hy"}),o.jsx("button",{type:"submit",className:"px-[2rem] py-[.5rem] rounded-md bg-red-500 text-white hover:bg-red-600 transition duration-300",disabled:c,children:c?"ang x l...":"Thay i"})]})]})]})}function Zde(){const[t,e]=Ni(),n=t.get("code")||"",[r,s]=T.useState(n),[i,a]=T.useState("search"),{addToCart:l}=Sx(),c=Ze(),[u,d]=T.useState(null),[f,p]=T.useState(!1),[g,x]=T.useState(null),[v,b]=T.useState({open:!1,data:null}),[w,N]=T.useState({open:!1,dataChange:null}),[C,M]=T.useState({open:!1,orderCode:null,data:null});T.useEffect(()=>{n!==r&&s(n)},[n]),T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const j=async F=>{if(!F.trim()){x("Vui lng nhp m n hng!");return}p(!0),x(null),d(null);try{const B=await Cte(F);d(B)}catch(B){x(B.message||"Khng tm thy n hng. Vui lng kim tra li m n hng."),d(null)}finally{p(!1)}},A=F=>{const B=r;if(!B.trim()){ce.error("Vui lng nhp m n hng!");return}s(B),e({code:B.trim()}),j(B.trim())},P=()=>{r.trim()&&j(r.trim())},E=F=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(F),_=F=>new Date(F).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),L=F=>{const B=F.target.value;s(B),B.trim()||(e({}),d(null),x(null))},D=()=>{if(!u)return;const F={orderCode:u?.orderCode,recipientName:u?.customerName,addressDetail:u?.customerAddress,phone:u?.customerPhone,province:u?.customerProvince,district:u?.customerDistrict,ward:u?.customerWard};N({open:!0,dataChange:F})},R=F=>F?F.replace(/(\d{3})\d{4}(\d{3})/,"$1xxxx$2"):"",G=F=>{if(!F)return"";const[B,$]=F.split("@");return B.length<=2?F:`${B[0]}${"*".repeat(B.length-2)}@${$}`},U=async F=>{const B=F.orderItems.map(X=>({variantId:X.variant.id,quantity:X.quantity}));if(await l(B)){const X=B.map(H=>H.variantId).join(",");c(`/cart/detail?buyback=${X}`)}else ce.error("Thm sn phm vo gi hng tht bi!")},q=u&&u.paymentMethod===Kr.COD?u.status===_e.COMPLETED:!!u?.payment;return o.jsxs("div",{className:"min-h-screen bg-gray-50 py-6 px-4 sm:px-6 lg:px-[12rem]",children:[o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-[2rem] font-bold text-gray-800 mb-2",children:"Tra cu n hng"}),o.jsx("p",{className:"text-gray-600",children:"Nhp m n hng  kim tra trng thi n hng ca bn"})]}),o.jsx("div",{className:"mb-6 border-b border-gray-200",children:o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:()=>a("search"),className:`cursor-pointer pb-4 px-2 font-medium transition-colors relative ${i==="search"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[o.jsx(z,{icon:Dr,className:"mr-2"}),"Tra cu n hng"]})})}),i==="search"&&o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("input",{type:"text",value:r,onChange:F=>L(F),placeholder:"Nhp m n hng (VD: ORDER-abc123)",className:"w-[40rem] h-[4rem] px-6 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-[1.4rem]",onKeyDown:F=>{F.key==="Enter"&&A()}}),o.jsx("button",{type:"button",disabled:f,className:"w-[12rem] h-[4rem] bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold rounded-lg transition flex items-center justify-center gap-2",onClick:()=>A(),children:f?o.jsxs(o.Fragment,{children:[o.jsx(z,{icon:xg,spin:!0}),"ang tm..."]}):o.jsxs(o.Fragment,{children:[o.jsx(z,{icon:Dr}),"Tra cu"]})})]}),o.jsxs("div",{className:"mt-4 flex items-start gap-2 text-[1.4rem] text-gray-600",children:[o.jsx(z,{icon:sY,className:"mt-0.5"}),o.jsx("p",{children:"M n hng c gi qua email sau khi t hng thnh cng. Vui lng kim tra email hoc tin nhn SMS."})]})]}),g&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 flex items-center justify-center gap-3",children:[o.jsx(z,{icon:NN,className:"text-2xl text-red-500"}),o.jsx("p",{className:"text-red-700",children:g})]}),f?o.jsxs("div",{className:"flex justify-center items-center py-10",children:[o.jsx(z,{icon:xg,spin:!0,className:"text-3xl text-blue-500 mr-3"}),o.jsx("span",{className:"text-lg",children:"ang ti d liu..."})]}):u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:" font-bold ",children:["n hng: ",u.orderCode]}),o.jsxs("p",{className:"text-gray-600 text-[1.4rem] mt-1",children:["t ngy ",_(u.createdAt)]})]}),o.jsx("span",{className:`px-12 py-2 rounded-lg font-medium ${Bn(u.status).bgColor} ${Bn(u.status).textColor}`,children:Bn(u.status).text})]}),u?.status===_e.CANCELLED?o.jsxs("div",{className:"w-full py-[2rem] border border-amber-200 bg-amber-50 px-[2rem]",children:[o.jsx("p",{className:"text-[1.8rem] text-red-500",children:" hy n hng"}),o.jsxs("p",{children:["lc ",_(u.updatedAt)]})]}):o.jsx("div",{className:"flex items-center justify-center space-x-5 mt-[3rem]",children:au.map((F,B)=>{const $=au.findIndex(X=>X.key===u.status)>=B;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col gap-[2rem] relative items-center",children:[o.jsx("div",{className:`w-[6rem] h-[6rem] rounded-full flex items-center justify-center z-10
                              ${$?`${F.color}`:"bg-gray-300"}`,children:o.jsx(z,{icon:F.icon,className:"text-white text-[2rem]"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-[1.4rem] font-medium text-gray-800",children:F.label}),o.jsx("div",{className:"text-[1.2rem] text-gray-500 mt-[.2rem]",children:F.desc})]})]},F.key),B!==au.length-1&&o.jsx("span",{className:"w-[10rem] border border-green-500"})]},F.key)})}),o.jsx("div",{className:"w-full border-t-1 border-gray-400 mt-[3rem]"}),o.jsxs("div",{className:"flex items-start flex-col space-y-4 mt-[3rem] w-4xl p-[2rem] border border-gray-300 rounded-md",children:[o.jsx("span",{className:"font-bold",children:"Thng tin khch hng"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"H tn:"}),o.jsx("span",{className:"block text-end",children:u.customerName})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"S in thoi:"}),o.jsx("span",{className:"block text-end",children:R(u.customerPhone)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-start w-sm text-gray-600",children:"Email:"}),o.jsx("span",{className:"block text-end",children:G(u.customerEmail)})]}),o.jsx("span",{className:"font-bold",children:"a ch nhn hng"}),o.jsxs("div",{className:"w-full mt-[1rem] border border-gray-300 rounded-md p-[2rem]",children:[o.jsx("p",{className:"text-gray-800",children:u.customerName}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:["(",R(u.customerPhone),")"]}),o.jsxs("p",{className:"text-[1.3rem] text-gray-500",children:[u.customerAddress,", ",u.customerWard,","," ",u.customerDistrict,","," ",u.customerPhone]})]})]}),o.jsxs("div",{className:"w-full border border-gray-200 rounded-md p-[1rem] mt-[2rem]",children:[o.jsxs("h3",{className:"text-[1.4rem] font-bold text-gray-800 pb-[2rem] flex items-center gap-2",children:[o.jsx(z,{icon:Mh,className:"text-blue-500"}),"Sn phm (",u&&u.orderItems?.length,")"]}),u.orderItems&&u.orderItems?.length>0&&o.jsx("div",{className:"border border-gray-200 px-[2rem] py-[1rem] rounded-md",children:o.jsx("div",{className:"bg-white ",children:o.jsx("div",{className:"space-y-2",children:u.orderItems.map(F=>o.jsxs("div",{children:[o.jsxs(Qe,{to:`/product-detail/${F.variant.product.slug}`,className:"flex items-center gap-4 pb-6 last:border-0 py-[.5rem] border-b border-b-gray-200 cursor-pointer",children:[o.jsx("img",{src:F.variant.product.mainImage,alt:F.variant.product.productName,className:"w-28 h-28 object-cover rounded-md border border-gray-300 p-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-gray-800",children:F.variant.product.productName}),o.jsxs("span",{className:"flex items-center space-x-4 text-[1.2rem] text-gray-600",children:[o.jsxs("span",{children:[F.variant.variantColor.name," /"," ",F.variant.variantSize.name]}),o.jsxs("span",{className:"text-[1.2rem] text-gray-600",children:["S lng: x",F.quantity]})]}),o.jsxs("p",{className:"flex items-center space-x-1 text-[1rem] text-gray-600",children:[o.jsx("span",{children:"Gi:"}),o.jsx("span",{className:"text-red-600",children:E(F.price)})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-red-600",children:E(F.price*F.quantity)})})]}),o.jsx("div",{className:"flex flex-col items-end mt-[1rem]",children:o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[F.evaluate.length>0&&[_e.CANCELLED,_e.COMPLETED].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white hover:bg-red-600 cursor-pointer transition duration-300",onClick:()=>{U(u)},children:"Mua li"}),F.evaluate.length===0&&u.status===_e.COMPLETED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] flex items-center border border-amber-500 rounded-md text-amber-500 hover:text-amber-600 hover:border-amber-600 cursor-pointer",onClick:()=>b({open:!0,data:F}),children:o.jsxs("div",{className:"flex items-center space-x-2 ",children:[o.jsx(z,{icon:xs,className:"text-[1.4rem]"}),o.jsx("span",{className:"",children:"nh gi"})]})})]})})]},F.id))})})}),o.jsxs("div",{className:"w-4xl ml-auto flex justify-between space-y-4 py-4 px-[2rem]",children:[o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"text-end text-gray-600",children:"Tm tnh:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Ph vn chuyn:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Tng tin:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Phng thc thanh ton:"}),o.jsx("span",{className:"text-end text-gray-600",children:"Trng thi"})]}),o.jsxs("div",{className:"flex flex-col items-end space-y-8 mt-4",children:[o.jsx("span",{className:"block text-end text-gray-800",children:E(u.totalAmount)}),o.jsx("span",{className:"block text-end text-gray-800",children:E(u.shippingFee)}),o.jsx("span",{className:"block text-end font-bold text-red-500",children:E(u.totalAmount+Number(u.shippingFee))}),o.jsx("span",{className:"block text-end text-gray-800",children:Qw[u.paymentMethod].text}),o.jsx("span",{className:`${q?"text-green-600":"text-red-600"} block text-end`,children:q?" thanh ton":"Cha thanh ton"})]})]})]}),u&&!q&&o.jsxs("div",{className:"text-center border border-amber-300 bg-amber-50 py-5 px-[1rem] mt-[1rem] rounded-md",children:["Vui lng thanh ton (",o.jsx("span",{className:"text-red-500",children:E(u.totalAmount+Number(u.shippingFee))}),") khi nhn hng!"]}),o.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-[2rem]",children:[u.status===_e.CANCELLED&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md border border-gray-300 text-gray-600 hover:border-gray-400 cursor-pointer transition duration-300",onClick:()=>M({open:!0,orderCode:u.orderCode,data:u}),children:"Chi tit hy n"}),[_e.CONFIRMED,_e.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 cursor-pointer transition duration-300",onClick:()=>M({open:!0,orderCode:u.orderCode,data:null}),children:"Hy n"}),[_e.CONFIRMED,_e.PENDING].includes(u.status)&&o.jsx("button",{type:"button",className:"px-[2rem] py-[.6rem] rounded-md bg-red-500 text-white cursor-pointer transition duration-300 hover:bg-red-600",onClick:()=>D(),children:"Thay i a ch"})]})]})}),o.jsx(BR,{open:v.open,item:v.data,dataGuest:{customerEmail:u.customerEmail,customerName:u.customerName},onClose:()=>b({open:!1,data:null}),refetch:P})]}):o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-10 text-center text-gray-600",children:[o.jsx(z,{icon:Dr,className:"text-5xl mb-4 text-gray-400"}),o.jsx("p",{className:"text-xl",children:r?"Nhn 'Tra cu'  kim tra n hng ca bn.":"Cha c kt qu. Vui lng nhp m n hng  tra cu."})]})]})]}),o.jsx(Jde,{open:w.open,onClose:()=>N({open:!1,dataChange:null}),dataChange:w.dataChange,refetchOrder:P}),o.jsx(HR,{open:C.open,onClose:()=>M({open:!1,orderCode:null,data:null}),orderCode:C.orderCode,refetch:P,status:C?.data?.status,cancelReason:C?.data?.reason,cancelledAt:C.data?.updatedAt,cancelledBy:C.data?.customerName})]})}function ehe(){const[t]=Ni(),e=Number(t.get("resultCode")),n=t.get("orderId"),r=Ze(),{user:s}=jt(),[i,a]=T.useState("loading"),[l,c]=T.useState("ang ti..."),u=async()=>{if(n)try{const d=await he.get(`/api/v1/orders/confirm-payment/${n}`);console.log(d),d.status===!0?(a("success"),c(d.message||"Thanh ton thnh cng!")):d.status===!1?(a("failed"),c(d.message||d.reason||"Thanh ton tht bi!")):d.status==="pending"&&(a("pending"),c(d.message||"ang xc nhn thanh ton vi MoMo, vui lng ch trong giy lt..."))}catch(d){a("failed"),c("C li xy ra khi kim tra thanh ton. Vui lng lin h h tr."),console.error("Error checking payment:",d)}};return T.useEffect(()=>{if(!n){a("failed"),c("Khng tm thy thng tin n hng!");return}if(u(),e!==0){a("failed"),c("Thanh ton  b hy hoc tht bi.");return}const d=setInterval(()=>{i==="pending"&&(console.log(i),u())},3e3);return()=>{clearInterval(d)}},[n,e,i]),i==="loading"||i==="pending"?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[i==="pending"&&o.jsx("div",{className:"w-20 h-20 border-4 border-blue-400 border-dashed rounded-full animate-spin"}),o.jsx("p",{className:"mt-6 text-gray-700",children:l}),i==="pending"&&o.jsx("p",{className:"mt-2 text-gray-500",children:"ang ch xc nhn t MoMo..."})]}):i==="success"?o.jsx("div",{className:"w-full h-[calc(100vh-18rem)] pt-[4rem] px-[20rem] bg-white ",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-[7rem] h-[7rem] flex justify-center items-center mx-auto mb-[2rem] bg-[#2ddf2d] rounded-[50%] ",children:o.jsx(z,{icon:bo,className:"text-[#ffffff] text-[2.8rem]"})}),o.jsx("div",{className:"text-[2.8rem] mb-[.5rem] font-bold text-green-600",children:"Thanh ton thnh cng"}),o.jsx("p",{className:"text-gray-600",children:"Cm n khch hng  t hng."}),o.jsx("p",{className:"text-gray-600 text-center text-[1.4em]",children:"M n hng  gi n email ca khch hng. H thng s cp nht trng thi n v email ca bn"}),o.jsxs("div",{className:"flex justify-between items-center mt-[10rem]",children:[o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-gray-600 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>r("/"),children:[o.jsx(z,{icon:vG,className:"text-gray-500"}),"Quay v trang ch"]}),o.jsxs("div",{className:"w-[18rem] h-[4rem] rounded-[.5rem] flex justify-center items-center gap-[.5rem] text-white bg-blue-500 hover:bg-blue-600 cursor-pointer",onClick:()=>{s?r("/customer/account/order",{replace:!0}):r("/look-up-order",{replace:!0})},children:["Xem cc n hng",o.jsx(z,{icon:dG,className:""})]})]})]})}):o.jsx("div",{className:"flex flex-col items-center h-[calc(100vh-18rem)] bg-white pt-[5rem]",children:o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-lg text-center max-w-md",children:[o.jsx("div",{className:"text-red-600 text-[2.6rem] mb-4",children:""}),o.jsx("h1",{className:"text-[1.8rem] font-bold text-gray-800 mb-2",children:"Thanh ton tht bi"}),o.jsx("p",{className:"text-gray-600 mb-6",children:l}),o.jsx("button",{onClick:()=>window.location.href="/cart",className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Quay li gi hng"})]})})}const qR=async(t,e)=>(await he.get("/api/v1/banner/list-banner",{params:{search:t,active:e}})).data;function the(){const[t,e]=T.useState({open:!1,action:"add"}),[n,r]=T.useState(""),[s,i]=T.useState(""),[a,l]=T.useState(!1),[c,u]=T.useState("active"),d=T.useRef(null),f=T.useRef(null),p=T.useRef(null),g=T.useRef(null),[x,v]=T.useState({open:!1,bannerId:null,action:"inactive"}),{register:b,handleSubmit:w,formState:{errors:N,isSubmitting:C},reset:M,setValue:j}=Hs({defaultValues:{title:"",subTitle:"",link:"",bannerId:void 0,imageUrl:null}}),[A,P]=T.useState(null),{data:E,isLoading:_,refetch:L}=De({queryKey:["listBanner",s,c],queryFn:()=>qR(s,c)});T.useEffect(()=>()=>{A&&URL.revokeObjectURL(A)},[A]),T.useEffect(()=>{const F=c==="active"?f.current:p.current;!F||!d.current||F&&d.current&&(d.current.style.width=`${F.offsetWidth}px`,d.current.style.left=`${F.offsetLeft}px`)},[c,E]);const D=F=>{const B=F.target.files;if(B&&B[0]){const $=B[0],X=URL.createObjectURL($);j("imageUrl",$),P(X)}},R=async F=>{try{let B;const $={title:F.title,subTitle:F.subTitle,link:F.link,imageUrl:F.imageUrl};t.action==="add"?B=await he.post("/api/v1/banner/create",$,{headers:{"Content-Type":"multipart/form-data"}}):B=await he.patch(`/api/v1/banner/update/${F.bannerId}`,$,{headers:{"Content-Type":"multipart/form-data"}}),B.status&&(M({title:"",subTitle:"",link:"",imageUrl:null}),await L(),ce.success(B.message),e({open:!1,action:"add"}))}catch(B){console.log(B),ce.error(B.message)}},G=()=>{e({open:!1,action:"add"}),M({title:"",subTitle:"",link:"",imageUrl:null})},U=F=>{g.current&&g.current.scrollTo({top:0,behavior:"smooth"}),e({open:!0,action:"edit"}),M({title:F.title,subTitle:F.subTitle,link:F.link,bannerId:F.id}),F.title&&P(F.imageUrl)},q=async F=>{try{if(!F){ce.error("Khng c bannerId");return}l(!0);const B=await he.patch(`/api/v1/banner/toggle-active/${F}`);B.status&&(ce.success(B.message),await L(),v({open:!1,bannerId:null,action:"active"}))}catch(B){console.log(B),ce.error(B.message||"")}finally{l(!1)}};return o.jsxs("div",{className:"w-full h-[calc(100vh-10rem)] bg-white shadow-lg rounded-[1rem] flex flex-col p-[2rem]",children:[o.jsx("div",{className:"sticky top-0 bg-white z-10 pb-[2rem] border-b-[.1rem] border-b-gray-300",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Banner Slide Trang Ch"}),o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Tm kim theo tn...",className:"w-[30rem] h-[4rem] focus:border-cyan-400 border border-gray-300 outline-none text-gray-600 px-[1.5rem] rounded-md",value:n,onChange:F=>r(F.target.value)}),o.jsx("button",{className:"absolute top-[50%] translate-y-[-50%] right-0 px-5 h-full cursor-pointer",onClick:()=>i(n),children:o.jsx(z,{icon:Dr,className:"text-gray-600"})})]}),o.jsxs("button",{type:"button",className:`text-white text-[1.4rem] flex gap-1.5 items-center px-4 h-[4rem] bg-blue-500 rounded-md hover:bg-blue-600 cursor-pointer hover-linear ${C?"cursor-not-allowed":""}`,onClick:()=>{M({title:"",subTitle:"",link:"",imageUrl:null}),g.current?.scrollTo({top:0,behavior:"smooth"}),P(null),e({open:!0,action:"add"})},disabled:C,children:[o.jsx(z,{icon:Au}),"Thm Banner Mi"]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar mt-[1rem]",ref:g,children:[t.open&&o.jsxs("div",{className:"mb-8 mt-4 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[o.jsx("h3",{className:`${t.action==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.action==="add"?"To Banner Mi":"Cp nht banner"}),o.jsxs("form",{onSubmit:w(R),children:[o.jsxs("div",{className:"grid grid-cols-3 gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"title",className:"text-gray-600",children:"Tiu  banner"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"title",placeholder:"Nhp tiu  cho banner...",...b("title")}),N.title&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.title.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"subTitle",className:"text-gray-600",children:"Ph "}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"subTitle",placeholder:"Nhp tiu ph ...",...b("subTitle")}),N.subTitle&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.subTitle.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"link",className:"text-gray-600",children:"Link ch"}),o.jsx("input",{type:"text",className:"w-full h-[4rem] border border-gray-300 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400",id:"link",placeholder:"Nhp link...",...b("link",{required:"Vui lng nhp link ch!"})}),N.link&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.link.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("p",{className:"text-gray-600",children:"Chn hnh nh cho Banner"}),o.jsxs("label",{htmlFor:"imageUrl",className:"flex items-center justify-center space-x-4 w-full h-[4rem] border border-dashed border-gray-500 rounded-md px-[1.5rem] mt-2 outline-none focus:border-cyan-400 cursor-pointer",children:[o.jsx(z,{icon:Qr,className:"text-gray-500"}),o.jsx("span",{className:"text-gray-600",children:"Hnh nh"}),o.jsx("input",{type:"file",className:"hidden",id:"imageUrl",accept:"image/*",onChange:F=>D(F)})]}),N.imageUrl&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:N.imageUrl.message})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:A&&o.jsx("div",{className:"my-5",children:o.jsx("img",{src:A,alt:"displayImage",className:"w-full h-[35rem] object-cover"})})}),t.action==="edit"&&o.jsx("input",{type:"number",className:"hidden",...b("bannerId")}),o.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>G(),className:"bg-gray-200 text-gray-600 px-8 py-2 rounded-lg hover:bg-gray-300",disabled:C,children:"Hy"}),o.jsx("button",{className:`${t.action==="add"?"bg-green-600 hover:bg-green-700":"bg-amber-600 hover:bg-amber-700"}  text-white px-8 py-2 rounded-lg `,type:"submit",disabled:C,children:C?"ang x l...":t.action==="add"?"Thm":"Cp nht"})]})]})]}),_?o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:o.jsx("div",{className:"w-16 h-16 border-4 border-dashed border-gray-300 border-t-blue-500 rounded-full animate-spin"})}):o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("div",{className:"relative flex items-center pb-4 border-b border-b-gray-200",children:[o.jsx("span",{ref:f,onClick:()=>u("active"),className:`cursor-pointer pr-[1rem] transition
                    ${c==="active"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"ang hot ng"}),o.jsx("span",{ref:p,onClick:()=>u("inactive"),className:`cursor-pointer pl-[1rem] transition
                    ${c==="inactive"?"text-blue-500 font-medium":"text-gray-600"}
                  `,children:"Dng hot ng"}),o.jsx("div",{ref:d,className:"absolute bottom-0 h-1 bg-blue-500 transition-all duration-300"})]}),E&&E.length>0?o.jsx(o.Fragment,{children:o.jsx("div",{className:"grid grid-cols-2 mt-[2rem] gap-2.5",children:E.map(F=>o.jsxs("div",{className:"w-full h-[35rem] relative  border border-gray-200 rounded-md group",children:[o.jsxs("div",{className:"absolute top-0 left-0 flex items-center space-x-4",children:[o.jsxs("div",{className:"text-[1.4rem] px-2.5 py-1 bg-amber-200 rounded-br-lg ",children:["STT:",F.sortOrder]}),o.jsx("div",{className:`px-4 rounded-br-lg rounded-bl-lg ${F.isActive?"bg-green-500 text-white":"bg-gray-500 text-gray-300"} py-1 text-[1.4rem]`,children:F.isActive?"ang hot ng":"Dng hot ng"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),o.jsx("img",{src:F.imageUrl,alt:`banner-image-${F.title}`,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute left-[3rem] space-y-2 bottom-[3rem]",children:[o.jsx("p",{className:"text-white text-[2.5rem]",children:F.title}),o.jsx("p",{className:"text-[1.4rem] text-white",children:F.subTitle})]}),o.jsxs("div",{className:"absolute flex items-center justify-center space-x-4 inset-0 bg-[#36363659] group-hover:opacity-100 opacity-0 transition duration-300 rounded-md",children:[o.jsxs("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md  text-white ${F.isActive?"bg-amber-500 hover:bg-amber-600":"cursor-not-allowed bg-gray-400"}`,onClick:()=>U(F),disabled:!F.isActive,children:[o.jsx(z,{icon:Bs}),o.jsx("span",{children:"Cp nht"})]}),o.jsx("button",{type:"button",className:`px-[2rem] py-[.8rem] rounded-md ${F.isActive?"bg-gray-500 hover:bg-gray-600 text-gray-300":"bg-green-500 hover:bg-green-600 text-white"} `,onClick:()=>v({open:!0,bannerId:F.id,action:F.isActive?"inactive":"active"}),children:o.jsx("span",{children:F.isActive?"Ngng hot ng":"M hot ng"})})]})]},F.id))})}):o.jsx("div",{className:"w-full flex justify-center items-center pt-[14rem]",children:"Cha c banner no"})]})]}),o.jsxs(bt,{open:x.open,className:"relative w-[60rem] rounded-lg bg-white p-[2rem]",children:[o.jsxs("h2",{className:`text-[2rem] ${x.action==="inactive"?"text-amber-600":"text-green-600"}  mb-[2.5rem] font-bold`,children:["Bn mun"," ",x.action==="active"?"kch hot":"tm dng"," banner ny?"]}),o.jsx("div",{className:"absolute top-[1rem] right-[1rem]",onClick:F=>{F.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},children:o.jsx(z,{icon:cn,className:"text-[1.8rem] text-gray-500 hover:text-gray-800 cursor-pointer"})}),o.jsxs("div",{className:"mt-[.5rem] flex items-center gap-[1rem] justify-end",children:[o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md bg-gray-200 text-gray-600 hover:bg-gray-300 transition duration-300 outline-none ${C?"cursor-not-allowed":""}`,onClick:F=>{F.stopPropagation(),v({open:!1,bannerId:null,action:"active"})},disabled:C,children:"ng"}),o.jsx("button",{type:"button",className:`px-[2rem] py-[.5rem] rounded-md ${x.action==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}  text-white transition duration-300 outline-none ${C?"cursor-not-allowed":""}`,onClick:()=>{q(x.bannerId)},disabled:C,children:a?"ang x l...":x.action==="active"?"Kch hot":"Dng"})]})]})]})}function lM(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ej(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:lM(e[r])&&lM(t[r])&&Object.keys(e[r]).length>0&&ej(t[r],e[r])})}const KR={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xi(){const t=typeof document<"u"?document:{};return ej(t,KR),t}const nhe={document:KR,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function pr(){const t=typeof window<"u"?window:{};return ej(t,nhe),t}function rhe(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function she(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function GR(t,e=0){return setTimeout(t,e)}function Wg(){return Date.now()}function ihe(t){const e=pr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function ahe(t,e="x"){const n=pr();let r,s,i;const a=ihe(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function pp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function ohe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Hr(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!ohe(s)){const i=Object.keys(Object(s)).filter(a=>n.indexOf(a)<0);for(let a=0,l=i.length;a<l;a+=1){const c=i[a],u=Object.getOwnPropertyDescriptor(s,c);u!==void 0&&u.enumerable&&(pp(e[c])&&pp(s[c])?s[c].__swiper__?e[c]=s[c]:Hr(e[c],s[c]):!pp(e[c])&&pp(s[c])?(e[c]={},s[c].__swiper__?e[c]=s[c]:Hr(e[c],s[c])):e[c]=s[c])}}}return e}function gp(t,e,n){t.style.setProperty(e,n)}function YR({swiper:t,targetPosition:e,side:n}){const r=pr(),s=-t.translate;let i=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>s?"next":"prev",u=(f,p)=>c==="next"&&f>=p||c==="prev"&&f<=p,d=()=>{a=new Date().getTime(),i===null&&(i=a);const f=Math.max(Math.min((a-i)/l,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=s+p*(e-s);if(u(g,e)&&(g=e),t.wrapperEl.scrollTo({[n]:g}),u(g,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:g})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function di(t,e=""){const n=pr(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(s=>s.matches(e)):r}function lhe(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function che(t,e){const n=pr();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=lhe(t,e))),r}function qg(t){try{console.warn(t);return}catch{}}function Kg(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:rhe(e)),n}function uhe(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function dhe(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function no(t,e){return pr().getComputedStyle(t,null).getPropertyValue(e)}function Gg(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function XR(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function rw(t,e,n){const r=pr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function kn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Kh(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Bv;function hhe(){const t=pr(),e=xi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function QR(){return Bv||(Bv=hhe()),Bv}let Hv;function fhe({userAgent:t}={}){const e=QR(),n=pr(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32";let g=r==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&e.touch&&x.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(i.os="android",i.android=!0),(u||f||d)&&(i.os="ios",i.ios=!0),i}function JR(t={}){return Hv||(Hv=fhe(t)),Hv}let Uv;function mhe(){const t=pr(),e=JR();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function ZR(){return Uv||(Uv=mhe()),Uv}function phe({swiper:t,on:e,emit:n}){const r=pr();let s=null,i=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:f,height:p}=t;let g=f,x=p;d.forEach(({contentBoxSize:v,contentRect:b,target:w})=>{w&&w!==t.el||(g=b?b.width:(v[0]||v).inlineSize,x=b?b.height:(v[0]||v).blockSize)}),(g!==f||x!==p)&&a()})}),s.observe(t.el))},c=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),e("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function ghe({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=pr(),a=(u,d={})=>{const f=i.MutationObserver||i.WebkitMutationObserver,p=new f(g=>{if(t.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const x=function(){r("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(x):i.setTimeout(x,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(p)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=XR(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var xhe={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(s,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(l=>{l.apply(s,r)})}),e}};function yhe(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(no(r,"padding-left")||0,10)-parseInt(no(r,"padding-right")||0,10),n=n-parseInt(no(r,"padding-top")||0,10)-parseInt(no(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function bhe(){const t=this;function e(L,D){return parseFloat(L.getPropertyValue(t.getDirectionLabel(D))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=di(s,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(t));const b=t.snapGrid.length,w=t.slidesGrid.length,N=t.size-x-v;let C=n.spaceBetween,M=-x,j=0,A=0;if(typeof N>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*N:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C-x-v,u.forEach(L=>{i?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(gp(r,"--swiper-centered-offset-before",""),gp(r,"--swiper-centered-offset-after",""));const P=n.grid&&n.grid.rows>1&&t.grid;P?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let E;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(L=>typeof n.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<d;L+=1){E=0;const D=u[L];if(!(D&&(P&&t.grid.updateSlide(L,D,u),no(D,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(E=n.virtual.slidesPerViewAutoSlideSize),E&&D&&(n.roundLengths&&(E=Math.floor(E)),D.style[t.getDirectionLabel("width")]=`${E}px`);else if(n.slidesPerView==="auto"){_&&(D.style[t.getDirectionLabel("width")]="");const R=getComputedStyle(D),G=D.style.transform,U=D.style.webkitTransform;if(G&&(D.style.transform="none"),U&&(D.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?rw(D,"width"):rw(D,"height");else{const q=e(R,"width"),F=e(R,"padding-left"),B=e(R,"padding-right"),$=e(R,"margin-left"),X=e(R,"margin-right"),H=R.getPropertyValue("box-sizing");if(H&&H==="border-box")E=q+$+X;else{const{clientWidth:V,offsetWidth:Q}=D;E=q+F+B+$+X+(Q-V)}}G&&(D.style.transform=G),U&&(D.style.webkitTransform=U),n.roundLengths&&(E=Math.floor(E))}else E=(N-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),D&&(D.style[t.getDirectionLabel("width")]=`${E}px`);D&&(D.swiperSlideSize=E),g.push(E),n.centeredSlides?(M=M+E/2+j/2+C,j===0&&L!==0&&(M=M-N/2-C),L===0&&(M=M-N/2-C),Math.abs(M)<1/1e3&&(M=0),n.roundLengths&&(M=Math.floor(M)),A%n.slidesPerGroup===0&&f.push(M),p.push(M)):(n.roundLengths&&(M=Math.floor(M)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&f.push(M),p.push(M),M=M+E+C),t.virtualSize+=E+C,j=E,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,N)+v,i&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),P&&t.grid.updateWrapperSize(E,f),!n.centeredSlides){const L=[];for(let D=0;D<f.length;D+=1){let R=f[D];n.roundLengths&&(R=Math.floor(R)),f[D]<=t.virtualSize-N&&L.push(R)}f=L,Math.floor(t.virtualSize-N)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-N)}if(l&&n.loop){const L=g[0]+C;if(n.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),R=L*n.slidesPerGroup;for(let G=0;G<D;G+=1)f.push(f[f.length-1]+R)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+L),p.push(p[p.length-1]+L),t.virtualSize+=L}if(f.length===0&&(f=[0]),C!==0){const L=t.isHorizontal()&&i?"marginLeft":t.getDirectionLabel("marginRight");u.filter((D,R)=>!n.cssMode||n.loop?!0:R!==u.length-1).forEach(D=>{D.style[L]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let L=0;g.forEach(R=>{L+=R+(C||0)}),L-=C;const D=L>N?L-N:0;f=f.map(R=>R<=0?-x:R>D?D+v:R)}if(n.centerInsufficientSlides){let L=0;g.forEach(R=>{L+=R+(C||0)}),L-=C;const D=(x||0)+(v||0);if(L+D<N){const R=(N-L-D)/2;f.forEach((G,U)=>{f[U]=G-R}),p.forEach((G,U)=>{p[U]=G+R})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){gp(r,"--swiper-centered-offset-before",`${-f[0]}px`),gp(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const L=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(R=>R+L),t.slidesGrid=t.slidesGrid.map(R=>R+D)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const L=`${n.containerModifierClass}backface-hidden`,D=t.el.classList.contains(L);d<=n.maxBackfaceHiddenSlides?D||t.el.classList.add(L):D&&t.el.classList.remove(L)}}function vhe(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function whe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const cM=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Nhe(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),g=-(a-d),x=g+e.slidesSizesGrid[c],v=g>=0&&g<=e.size-e.slidesSizesGrid[c],b=g>=0&&g<e.size-1||x>1&&x<=e.size||g<=0&&x>=e.size;b&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c)),cM(u,b,n.slideVisibleClass),cM(u,v,n.slideFullyVisibleClass),u.progress=s?-f:f,u.originalProgress=s?-p:p}}function She(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=f||s>=1,d&&(s=0),f&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],x=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=p?l=(v-p)/x:l=(v+x-g)/x,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const Wv=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function jhe(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=f=>di(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let c,u,d;if(i)if(n.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.find(f=>f.column===s),d=e.find(f=>f.column===s+1),u=e.find(f=>f.column===s-1)):c=e[s];c&&(a||(d=dhe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=uhe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{Wv(f,f===c,n.slideActiveClass),Wv(f,f===d,n.slideNextClass),Wv(f,f===u,n.slidePrevClass)}),t.emitSlidesClasses()}const rg=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},qv=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},sw=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&qv(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%n+n)%n;(l<s||l>i)&&qv(t,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&qv(t,a)};function Che(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function khe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=t,u;const d=g=>{let x=g-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof c>"u"&&(c=Che(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const g=Math.min(s.slidesPerGroupSkip,c);u=g+Math.floor((c-g)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const f=e.grid&&s.grid&&s.grid.rows>1;let p;if(e.virtual&&s.virtual.enabled&&s.loop)p=d(c);else if(f){const g=e.slides.find(v=>v.column===c);let x=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(g),0)),p=Math.floor(x/s.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=c}else p=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:p,previousIndex:i,activeIndex:c}),e.initialized&&sw(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function The(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,a=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Ehe={updateSize:yhe,updateSlides:bhe,updateAutoHeight:vhe,updateSlidesOffset:whe,updateSlidesProgress:Nhe,updateProgress:She,updateSlidesClasses:jhe,updateActiveIndex:khe,updateClickedSlide:The};function Mhe(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=ahe(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function Phe(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Ahe(){return-this.snapGrid[0]}function Ohe(){return-this.snapGrid[this.snapGrid.length-1]}function _he(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const f=i.isHorizontal();if(e===0)l[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return YR({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(p){!i||i.destroyed||p.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var Dhe={getTranslate:Mhe,setTranslate:Phe,minTranslate:Ahe,maxTranslate:Ohe,translateTo:_he};function Ihe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function e8({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let a=n;a||(s>i?a="next":s<i?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&s!==i&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function Lhe(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),e8({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Rhe(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),e8({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Fhe={setTransition:Ihe,transitionStart:Lhe,transitionEnd:Rhe};function zhe(t=0,e,n=!0,r,s){typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:x}=i;if(!x&&!r&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const v=Math.min(i.params.slidesPerGroupSkip,a);let b=v+Math.floor((a-v)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const w=-c[b];if(l.normalizeSlideIndex)for(let P=0;P<u.length;P+=1){const E=-Math.floor(w*100),_=Math.floor(u[P]*100),L=Math.floor(u[P+1]*100);typeof u[P+1]<"u"?E>=_&&E<L-(L-_)/2?a=P:E>=_&&E<L&&(a=P+1):E>=_&&(a=P)}if(i.initialized&&a!==f&&(!i.allowSlideNext&&(p?w>i.translate&&w>i.minTranslate():w<i.translate&&w<i.minTranslate())||!i.allowSlidePrev&&w>i.translate&&w>i.maxTranslate()&&(f||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(w);let N;a>f?N="next":a<f?N="prev":N="reset";const C=i.virtual&&i.params.virtual.enabled;if(!(C&&s)&&(p&&-w===i.translate||!p&&w===i.translate))return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(w),N!=="reset"&&(i.transitionStart(n,N),i.transitionEnd(n,N)),!1;if(l.cssMode){const P=i.isHorizontal(),E=p?w:-w;if(e===0)C&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),C&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[P?"scrollLeft":"scrollTop"]=E})):g[P?"scrollLeft":"scrollTop"]=E,C&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return YR({swiper:i,targetPosition:E,side:P?"left":"top"}),!0;g.scrollTo({[P?"left":"top"]:E,behavior:"smooth"})}return!0}const A=ZR().isSafari;return C&&!s&&A&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(e),i.setTranslate(w),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,N),e===0?i.transitionEnd(n,N):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,N))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function Vhe(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const v=a*s.params.grid.rows;l=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u,slidesOffsetBefore:d,slidesOffsetAfter:f}=s.params,p=u||!!d||!!f;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let x=c-l<g;if(p&&(x=x||l<Math.ceil(g/2)),r&&p&&s.params.slidesPerView!=="auto"&&!i&&(x=!1),x){const v=p?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?l+1:l-c+1,slideRealIndex:v==="next"?s.realIndex:void 0})}if(i){const v=a*s.params.grid.rows;a=s.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===v).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function $he(t,e=!0,n){const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function Bhe(t,e=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function p(N){return N<0?-Math.floor(Math.abs(N)):Math.floor(N)}const g=p(f),x=i.map(N=>p(N)),v=s.freeMode&&s.freeMode.enabled;let b=i[x.indexOf(g)-1];if(typeof b>"u"&&(s.cssMode||v)){let N;i.forEach((C,M)=>{g>=C&&(N=M)}),typeof N<"u"&&(b=v?i[N]:i[N>0?N-1:N])}let w=0;if(typeof b<"u"&&(w=a.indexOf(b),w<0&&(w=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),s.rewind&&r.isBeginning){const N=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(N,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function Hhe(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Uhe(t,e=!0,n,r=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function Whe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):s>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),s=t.getSlideIndex(di(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),GR(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var qhe={slideTo:zhe,slideToLoop:Vhe,slideNext:$he,slidePrev:Bhe,slideReset:Hhe,slideToClosest:Uhe,slideToClickedSlide:Whe};function Khe(t,e){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{di(s,`.${r.slideClass}, swiper-slide`).forEach((x,v)=>{x.setAttribute("data-swiper-slide-index",v)})},a=()=>{const g=di(s,`.${r.slideBlankClass}`);g.forEach(x=>{x.remove()}),g.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&a();const c=r.slidesPerGroup*(l?r.grid.rows:1),u=n.slides.length%c!==0,d=l&&n.slides.length%r.grid.rows!==0,f=g=>{for(let x=0;x<g;x+=1){const v=n.isElement?Kg("swiper-slide",[r.slideBlankClass]):Kg("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(v)}};if(u){if(r.loopAddBlankSlides){const g=c-n.slides.length%c;f(g),n.recalcSlides(),n.updateSlides()}else qg("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(d){if(r.loopAddBlankSlides){const g=r.grid.rows-n.slides.length%r.grid.rows;f(g),n.recalcSlides(),n.updateSlides()}else qg("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const p=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:p?void 0:"next",initial:e})}function Ghe({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:a,byMousewheel:l}={}){const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:f,slidesEl:p,params:g}=c,{centeredSlides:x,slidesOffsetBefore:v,slidesOffsetAfter:b,initialSlide:w}=g,N=x||!!v||!!b;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){e&&(!N&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):N&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=f,c.emit("loopFix");return}let C=g.slidesPerView;C==="auto"?C=c.slidesPerViewDynamic():(C=Math.ceil(parseFloat(g.slidesPerView,10)),N&&C%2===0&&(C=C+1));const M=g.slidesPerGroupAuto?C:g.slidesPerGroup;let j=N?Math.max(M,Math.ceil(C/2)):M;j%M!==0&&(j+=M-j%M),j+=g.loopAdditionalSlides,c.loopedSlides=j;const A=c.grid&&g.grid&&g.grid.rows>1;u.length<C+j||c.params.effect==="cards"&&u.length<C+j*2?qg("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):A&&g.grid.fill==="row"&&qg("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const P=[],E=[],_=A?Math.ceil(u.length/g.grid.rows):u.length,L=i&&_-w<C&&!N;let D=L?w:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find($=>$.classList.contains(g.slideActiveClass))):D=s;const R=n==="next"||!n,G=n==="prev"||!n;let U=0,q=0;const B=(A?u[s].column:s)+(N&&typeof r>"u"?-C/2+.5:0);if(B<j){U=Math.max(j-B,M);for(let $=0;$<j-B;$+=1){const X=$-Math.floor($/_)*_;if(A){const H=_-X-1;for(let V=u.length-1;V>=0;V-=1)u[V].column===H&&P.push(V)}else P.push(_-X-1)}}else if(B+C>_-j){q=Math.max(B-(_-j*2),M),L&&(q=Math.max(q,C-_+w+1));for(let $=0;$<q;$+=1){const X=$-Math.floor($/_)*_;A?u.forEach((H,V)=>{H.column===X&&E.push(V)}):E.push(X)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<C+j*2&&(E.includes(s)&&E.splice(E.indexOf(s),1),P.includes(s)&&P.splice(P.indexOf(s),1)),G&&P.forEach($=>{u[$].swiperLoopMoveDOM=!0,p.prepend(u[$]),u[$].swiperLoopMoveDOM=!1}),R&&E.forEach($=>{u[$].swiperLoopMoveDOM=!0,p.append(u[$]),u[$].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():A&&(P.length>0&&G||E.length>0&&R)&&c.slides.forEach(($,X)=>{c.grid.updateSlide(X,$,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),e){if(P.length>0&&G){if(typeof t>"u"){const $=c.slidesGrid[D],H=c.slidesGrid[D+U]-$;l?c.setTranslate(c.translate-H):(c.slideTo(D+Math.ceil(U),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-H,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-H))}else if(r){const $=A?P.length/g.grid.rows:P.length;c.slideTo(c.activeIndex+$,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(E.length>0&&R)if(typeof t>"u"){const $=c.slidesGrid[D],H=c.slidesGrid[D-q]-$;l?c.setTranslate(c.translate-H):(c.slideTo(D-q,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-H,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-H))}else{const $=A?E.length/g.grid.rows:E.length;c.slideTo(c.activeIndex-$,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const $={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(X=>{!X.destroyed&&X.params.loop&&X.loopFix({...$,slideTo:X.params.slidesPerView===g.slidesPerView?e:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...$,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?e:!1})}c.emit("loopFix")}function Yhe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Xhe={loopCreate:Khe,loopFix:Ghe,loopDestroy:Yhe};function Qhe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Jhe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Zhe={setGrabCursor:Qhe,unsetGrabCursor:Jhe};function efe(t,e=this){function n(r){if(!r||r===xi()||r===pr())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function uM(t,e,n){const r=pr(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function tfe(t){const e=this,n=xi();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){uM(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!che(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(p?efe(f,c):c.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const g=a.currentX,x=a.currentY;if(!uM(e,r,g))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=x,s.touchStartTime=Wg(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let v=!0;c.matches(s.focusableElements)&&(v=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&n.activeElement.blur();const b=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function nfe(t){const e=xi(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(j=>j.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=Wg());return}if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const p=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let j;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:p*p+g*g>=25&&(j=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let x=n.isHorizontal()?p:g,v=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(x=Math.abs(x)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),i.diff=x,x*=s.touchRatio,a&&(x=-x,v=-v);const b=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const w=n.params.loop&&!s.cssMode,N=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(w&&N&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&w&&N&&Math.abs(x)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=x+r.startTranslate;let C=!0,M=s.resistanceRatio;if(s.touchReleaseOnEdges&&(M=0),x>0?(w&&N&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(C=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+x)**M))):x<0&&(w&&N&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(C=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-x)**M))),C&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function rfe(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(j=>j.identifier===n.touchId),!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Wg(),p=f-n.touchStartTime;if(e.allowClick){const j=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(j&&j[0]||r.target,j),e.emit("tap click",r),p<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Wg(),GR(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(a.followFinger?g=c?e.translate:-e.translate:g=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const x=g>=-e.maxTranslate()&&!e.params.loop;let v=0,b=e.slidesSizesGrid[0];for(let j=0;j<u.length;j+=j<a.slidesPerGroupSkip?1:a.slidesPerGroup){const A=j<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[j+A]<"u"?(x||g>=u[j]&&g<u[j+A])&&(v=j,b=u[j+A]-u[j]):(x||g>=u[j])&&(v=j,b=u[u.length-1]-u[u.length-2])}let w=null,N=null;a.rewind&&(e.isBeginning?N=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const C=(g-u[v])/b,M=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?w:v+M):e.slideTo(v)),e.swipeDirection==="prev"&&(C>1-a.longSwipesRatio?e.slideTo(v+M):N!==null&&C<0&&Math.abs(C)>a.longSwipesRatio?e.slideTo(N):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+M):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:v+M),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:v))}}function dM(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function sfe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function ife(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function afe(t){const e=this;rg(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function ofe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const t8=(t,e)=>{const n=xi(),{params:r,el:s,wrapperEl:i,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",dM,!0):t[u]("observerUpdate",dM,!0),s[c]("load",t.onLoad,{capture:!0}))};function lfe(){const t=this,{params:e}=t;t.onTouchStart=tfe.bind(t),t.onTouchMove=nfe.bind(t),t.onTouchEnd=rfe.bind(t),t.onDocumentTouchStart=ofe.bind(t),e.cssMode&&(t.onScroll=ife.bind(t)),t.onClick=sfe.bind(t),t.onLoad=afe.bind(t),t8(t,"on")}function cfe(){t8(this,"off")}var ufe={attachEvents:lfe,detachEvents:cfe};const hM=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function dfe(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=xi(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),u=t.getBreakpoint(i,l,c);if(!u||t.currentBreakpoint===u)return;const f=(u in i?i[u]:void 0)||t.originalParams,p=hM(t,r),g=hM(t,f),x=t.params.grabCursor,v=f.grabCursor,b=r.enabled;p&&!g?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(s.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),x&&!v?t.unsetGrabCursor():!x&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof f[A]>"u")return;const P=r[A]&&r[A].enabled,E=f[A]&&f[A].enabled;P&&!E&&t[A].disable(),!P&&E&&t[A].enable()});const w=f.direction&&f.direction!==r.direction,N=r.loop&&(f.slidesPerView!==r.slidesPerView||w),C=r.loop;w&&n&&t.changeDirection(),Hr(t.params,f);const M=t.params.enabled,j=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!M?t.disable():!b&&M&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",f),n&&(N?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!C&&j?(t.loopCreate(e),t.updateSlides()):C&&!j&&t.loopDestroy()),t.emit("breakpoint",f)}function hfe(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=pr(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var ffe={setBreakpoint:dfe,getBreakpoint:hfe};function mfe(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function pfe(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=mfe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function gfe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var xfe={addClasses:pfe,removeClasses:gfe};function yfe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var bfe={checkOverflow:yfe},iw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function vfe(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Hr(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Hr(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Hr(e,r)}}const Kv={eventsEmitter:xhe,update:Ehe,translate:Dhe,transition:Fhe,slide:qhe,loop:Xhe,grabCursor:Zhe,events:ufe,breakpoints:ffe,checkOverflow:bfe,classes:xfe},Gv={};let tj=class Hi{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Hr({},r),n&&!r.el&&(r.el=n);const s=xi();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const c=[];return s.querySelectorAll(r.el).forEach(u=>{const d=Hr({},r,{el:u});c.push(new Hi(d))}),c}const i=this;i.__swiper__=!0,i.support=QR(),i.device=JR({userAgent:r.userAgent}),i.browser=ZR(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(c=>{c({params:r,swiper:i,extendParams:vfe(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Hr({},iw,a);return i.params=Hr({},l,Gv,r),i.originalParams=Hr({},i.params),i.passedParams=Hr({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(c=>{i.on(c,i.params.on[c])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=di(n,`.${r.slideClass}, swiper-slide`),i=Gg(s[0]);return Gg(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=di(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[u]?Math.ceil(i[u].swiperSlideSize):0,p;for(let g=u+1;g<i.length;g+=1)i[g]&&!p&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>c&&(p=!0));for(let g=u-1;g>=0;g-=1)i[g]&&!p&&(f+=i[g].swiperSlideSize,d+=1,f>c&&(p=!0))}else if(e==="current")for(let f=u+1;f<i.length;f+=1)(n?a[f]+l[f]-a[u]<c:a[f]-a[u]<c)&&(d+=1);else for(let f=u-1;f>=0;f-=1)a[u]-a[f]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&rg(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):di(r,s())[0];return!a&&n.params.createElements&&(a=Kg("div",n.params.wrapperClass),r.append(a),di(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||no(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||no(r,"direction")==="rtl"),wrongRTL:no(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?rg(n,i):i.addEventListener("load",a=>{rg(n,a.target)})}),sw(n),n.initialized=!0,sw(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),she(r)),r.destroyed=!0),null}static extendDefaults(e){Hr(Gv,e)}static get extendedDefaults(){return Gv}static get defaults(){return iw}static installModule(e){Hi.prototype.__modules__||(Hi.prototype.__modules__=[]);const n=Hi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Hi.installModule(n)),Hi):(Hi.installModule(e),Hi)}};Object.keys(Kv).forEach(t=>{Object.keys(Kv[t]).forEach(e=>{tj.prototype[e]=Kv[t][e]})});tj.use([phe,ghe]);const n8=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function $l(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ou(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:$l(e[r])&&$l(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ou(t[r],e[r]):t[r]=e[r]})}function r8(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function s8(t={}){return t.pagination&&typeof t.pagination.el>"u"}function i8(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function a8(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function wfe(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Nfe({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:a,paginationEl:l}){const c=r.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:p,virtual:g,thumbs:x}=t;let v,b,w,N,C,M,j,A;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(w=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(N=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(C=!0);const P=E=>{t[E]&&(t[E].destroy(),E==="navigation"?(t.isElement&&(t[E].prevEl.remove(),t[E].nextEl.remove()),u[E].prevEl=void 0,u[E].nextEl=void 0,t[E].prevEl=void 0,t[E].nextEl=void 0):(t.isElement&&t[E].el.remove(),u[E].el=void 0,t[E].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?M=!0:!u.loop&&n.loop?j=!0:A=!0),c.forEach(E=>{if($l(u[E])&&$l(n[E]))Object.assign(u[E],n[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in n[E]&&!n[E].enabled&&P(E);else{const _=n[E];(_===!0||_===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?_===!1&&P(E):u[E]=n[E]}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&g&&u.virtual.enabled?(g.slides=e,g.update(!0)):r.includes("virtual")&&g&&u.virtual.enabled&&(e&&(g.slides=e),g.update(!0)),r.includes("children")&&e&&u.loop&&(A=!0),v&&x.init()&&x.update(!0),b&&(t.controller.control=u.controller.control),w&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),N&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),C&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Kh(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Kh(i,t.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(M||A)&&t.loopDestroy(),(j||A)&&t.loopCreate(),t.update()}function Sfe(t={},e=!0){const n={on:{}},r={},s={};ou(n,iw),n._emitClasses=!0,n.init=!1;const i={},a=n8.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?$l(t[c])?(n[c]={},s[c]={},ou(n[c],t[c]),ou(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function jfe({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},a){r8(a)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),s8(a)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),i8(a)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}function Cfe(t,e,n,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return n8.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if($l(t[c])&&$l(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}),d.forEach(f=>{t[c][f]!==e[c][f]&&a(c)}))}else t[c]!==e[c]&&a(c)}),i}const kfe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function o8(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function l8(t){const e=[];return ye.Children.toArray(t).forEach(n=>{o8(n)?e.push(n):n.props&&n.props.children&&l8(n.props.children).forEach(r=>e.push(r))}),e}function Tfe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ye.Children.toArray(t).forEach(r=>{if(o8(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=l8(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Efe(t,e,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,f)=>ye.cloneElement(d,{swiper:t,style:s,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function dh(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const fM=T.createContext(null),Mfe=T.createContext(null),jx=T.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:s,...i}={},a)=>{let l=!1;const[c,u]=T.useState("swiper"),[d,f]=T.useState(null),[p,g]=T.useState(!1),x=T.useRef(!1),v=T.useRef(null),b=T.useRef(null),w=T.useRef(null),N=T.useRef(null),C=T.useRef(null),M=T.useRef(null),j=T.useRef(null),A=T.useRef(null),{params:P,passedParams:E,rest:_,events:L}=Sfe(i),{slides:D,slots:R}=Tfe(r),G=()=>{g(!p)};Object.assign(P.on,{_containerClasses($,X){u(X)}});const U=()=>{Object.assign(P.on,L),l=!0;const $={...P};if(delete $.wrapperClass,b.current=new tj($),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=D;const X={cache:!1,slides:D,renderExternal:f,renderExternalUpdate:!1};ou(b.current.params.virtual,X),ou(b.current.originalParams.virtual,X)}};v.current||U(),b.current&&b.current.on("_beforeBreakpoint",G);const q=()=>{l||!L||!b.current||Object.keys(L).forEach($=>{b.current.on($,L[$])})},F=()=>{!L||!b.current||Object.keys(L).forEach($=>{b.current.off($,L[$])})};T.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",G)}),T.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),dh(()=>{if(a&&(a.current=v.current),!!v.current)return b.current.destroyed&&U(),jfe({el:v.current,nextEl:C.current,prevEl:M.current,paginationEl:j.current,scrollbarEl:A.current,swiper:b.current},P),s&&!b.current.destroyed&&s(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),dh(()=>{q();const $=Cfe(E,w.current,D,N.current,X=>X.key);return w.current=E,N.current=D,$.length&&b.current&&!b.current.destroyed&&Nfe({swiper:b.current,slides:D,passedParams:E,changedParams:$,nextEl:C.current,prevEl:M.current,scrollbarEl:A.current,paginationEl:j.current}),()=>{F()}}),dh(()=>{kfe(b.current)},[d]);function B(){return P.virtual?Efe(b.current,D,d):D.map(($,X)=>ye.cloneElement($,{swiper:b.current,swiperSlideIndex:X}))}return ye.createElement(e,Yg({ref:v,className:a8(`${c}${t?` ${t}`:""}`)},_),ye.createElement(Mfe.Provider,{value:b.current},R["container-start"],ye.createElement(n,{className:wfe(P.wrapperClass)},R["wrapper-start"],B(),R["wrapper-end"]),r8(P)&&ye.createElement(ye.Fragment,null,ye.createElement("div",{ref:M,className:"swiper-button-prev"}),ye.createElement("div",{ref:C,className:"swiper-button-next"})),i8(P)&&ye.createElement("div",{ref:A,className:"swiper-scrollbar"}),s8(P)&&ye.createElement("div",{ref:j,className:"swiper-pagination"}),R["container-end"]))});jx.displayName="Swiper";const co=T.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:s,lazy:i,virtualIndex:a,swiperSlideIndex:l,...c}={},u)=>{const d=T.useRef(null),[f,p]=T.useState("swiper-slide"),[g,x]=T.useState(!1);function v(C,M,j){M===d.current&&p(j)}dh(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),u&&(u.current=d.current),!(!d.current||!r)){if(r.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return r.on("_slideClass",v),()=>{r&&r.off("_slideClass",v)}}}),dh(()=>{r&&d.current&&!r.destroyed&&p(r.getSlideClasses(d.current))},[r]);const b={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},w=()=>typeof e=="function"?e(b):e,N=()=>{x(!0)};return ye.createElement(t,Yg({ref:d,className:a8(`${f}${n?` ${n}`:""}`),"data-swiper-slide-index":a,onLoad:N},c),s&&ye.createElement(fM.Provider,{value:b},ye.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},w(),i&&!g&&ye.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&ye.createElement(fM.Provider,{value:b},w(),i&&!g&&ye.createElement("div",{className:"swiper-lazy-preloader"})))});co.displayName="SwiperSlide";function c8(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=di(t.el,`.${r[s]}`)[0];i||(i=Kg("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}const Pfe='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function nj({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(g){let x;return g&&typeof g=="string"&&t.isElement&&(x=t.el.querySelector(g)||t.hostEl.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),t.params.uniqueNavElements&&typeof g=="string"&&x&&x.length>1&&t.el.querySelectorAll(g).length===1?x=t.el.querySelector(g):x&&x.length===1&&(x=x[0])),g&&!x?g:x)}function i(g,x){const v=t.params.navigation;g=kn(g),g.forEach(b=>{b&&(b.classList[x?"add":"remove"](...v.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=x),t.params.watchOverflow&&t.enabled&&b.classList[t.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:g,prevEl:x}=t.navigation;if(t.params.loop){i(x,!1),i(g,!1);return}i(x,t.isBeginning&&!t.params.rewind),i(g,t.isEnd&&!t.params.rewind)}function l(g){g.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(g){g.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const g=t.params.navigation;if(t.params.navigation=c8(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=s(g.nextEl),v=s(g.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:v}),x=kn(x),v=kn(v);const b=(w,N)=>{if(w){if(g.addIcons&&w.matches(".swiper-button-next,.swiper-button-prev")&&!w.querySelector("svg")){const C=document.createElement("div");Kh(C,Pfe),w.appendChild(C.querySelector("svg")),C.remove()}w.addEventListener("click",N==="next"?c:l)}!t.enabled&&w&&w.classList.add(...g.lockClass.split(" "))};x.forEach(w=>b(w,"next")),v.forEach(w=>b(w,"prev"))}function d(){let{nextEl:g,prevEl:x}=t.navigation;g=kn(g),x=kn(x);const v=(b,w)=>{b.removeEventListener("click",w==="next"?c:l),b.classList.remove(...t.params.navigation.disabledClass.split(" "))};g.forEach(b=>v(b,"next")),x.forEach(b=>v(b,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?p():(u(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:g,prevEl:x}=t.navigation;if(g=kn(g),x=kn(x),t.enabled){a();return}[...g,...x].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),n("click",(g,x)=>{let{nextEl:v,prevEl:b}=t.navigation;v=kn(v),b=kn(b);const w=x.target;let N=b.includes(w)||v.includes(w);if(t.isElement&&!N){const C=x.path||x.composedPath&&x.composedPath();C&&(N=C.find(M=>v.includes(M)||b.includes(M)))}if(t.params.navigation.hideOnClick&&!N){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===w||t.pagination.el.contains(w)))return;let C;v.length?C=v[0].classList.contains(t.params.navigation.hiddenClass):b.length&&(C=b[0].classList.contains(t.params.navigation.hiddenClass)),r(C===!0?"navigationShow":"navigationHide"),[...v,...b].filter(M=>!!M).forEach(M=>M.classList.toggle(t.params.navigation.hiddenClass))}});const f=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:f,disable:p,update:a,init:u,destroy:d})}function Ld(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function rj({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let i,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(w,N){const{bulletActiveClass:C}=t.params.pagination;w&&(w=w[`${N==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${C}-${N}`),w=w[`${N==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${C}-${N}-${N}`)))}function u(w,N,C){if(w=w%C,N=N%C,N===w+1)return"next";if(N===w-1)return"previous"}function d(w){const N=w.target.closest(Ld(t.params.pagination.bulletClass));if(!N)return;w.preventDefault();const C=Gg(N)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===C)return;const M=u(t.realIndex,C,t.slides.length);M==="next"?t.slideNext():M==="previous"?t.slidePrev():t.slideToLoop(C)}else t.slideTo(C)}function f(){const w=t.rtl,N=t.params.pagination;if(l())return;let C=t.pagination.el;C=kn(C);let M,j;const A=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,P=t.params.loop?Math.ceil(A/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(j=t.previousRealIndex||0,M=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(M=t.snapIndex,j=t.previousSnapIndex):(j=t.previousIndex||0,M=t.activeIndex||0),N.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const E=t.pagination.bullets;let _,L,D;if(N.dynamicBullets&&(i=rw(E[0],t.isHorizontal()?"width":"height"),C.forEach(R=>{R.style[t.isHorizontal()?"width":"height"]=`${i*(N.dynamicMainBullets+4)}px`}),N.dynamicMainBullets>1&&j!==void 0&&(a+=M-(j||0),a>N.dynamicMainBullets-1?a=N.dynamicMainBullets-1:a<0&&(a=0)),_=Math.max(M-a,0),L=_+(Math.min(E.length,N.dynamicMainBullets)-1),D=(L+_)/2),E.forEach(R=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(U=>`${N.bulletActiveClass}${U}`)].map(U=>typeof U=="string"&&U.includes(" ")?U.split(" "):U).flat();R.classList.remove(...G)}),C.length>1)E.forEach(R=>{const G=Gg(R);G===M?R.classList.add(...N.bulletActiveClass.split(" ")):t.isElement&&R.setAttribute("part","bullet"),N.dynamicBullets&&(G>=_&&G<=L&&R.classList.add(...`${N.bulletActiveClass}-main`.split(" ")),G===_&&c(R,"prev"),G===L&&c(R,"next"))});else{const R=E[M];if(R&&R.classList.add(...N.bulletActiveClass.split(" ")),t.isElement&&E.forEach((G,U)=>{G.setAttribute("part",U===M?"bullet-active":"bullet")}),N.dynamicBullets){const G=E[_],U=E[L];for(let q=_;q<=L;q+=1)E[q]&&E[q].classList.add(...`${N.bulletActiveClass}-main`.split(" "));c(G,"prev"),c(U,"next")}}if(N.dynamicBullets){const R=Math.min(E.length,N.dynamicMainBullets+4),G=(i*R-i)/2-D*i,U=w?"right":"left";E.forEach(q=>{q.style[t.isHorizontal()?U:"top"]=`${G}px`})}}C.forEach((E,_)=>{if(N.type==="fraction"&&(E.querySelectorAll(Ld(N.currentClass)).forEach(L=>{L.textContent=N.formatFractionCurrent(M+1)}),E.querySelectorAll(Ld(N.totalClass)).forEach(L=>{L.textContent=N.formatFractionTotal(P)})),N.type==="progressbar"){let L;N.progressbarOpposite?L=t.isHorizontal()?"vertical":"horizontal":L=t.isHorizontal()?"horizontal":"vertical";const D=(M+1)/P;let R=1,G=1;L==="horizontal"?R=D:G=D,E.querySelectorAll(Ld(N.progressbarFillClass)).forEach(U=>{U.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${G})`,U.style.transitionDuration=`${t.params.speed}ms`})}N.type==="custom"&&N.renderCustom?(Kh(E,N.renderCustom(t,M+1,P)),_===0&&r("paginationRender",E)):(_===0&&r("paginationRender",E),r("paginationUpdate",E)),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](N.lockClass)})}function p(){const w=t.params.pagination;if(l())return;const N=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let C=t.pagination.el;C=kn(C);let M="";if(w.type==="bullets"){let j=t.params.loop?Math.ceil(N/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&j>N&&(j=N);for(let A=0;A<j;A+=1)w.renderBullet?M+=w.renderBullet.call(t,A,w.bulletClass):M+=`<${w.bulletElement} ${t.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?M=w.renderFraction.call(t,w.currentClass,w.totalClass):M=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?M=w.renderProgressbar.call(t,w.progressbarFillClass):M=`<span class="${w.progressbarFillClass}"></span>`),t.pagination.bullets=[],C.forEach(j=>{w.type!=="custom"&&Kh(j,M||""),w.type==="bullets"&&t.pagination.bullets.push(...j.querySelectorAll(Ld(w.bulletClass)))}),w.type!=="custom"&&r("paginationRender",C[0])}function g(){t.params.pagination=c8(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const w=t.params.pagination;if(!w.el)return;let N;typeof w.el=="string"&&t.isElement&&(N=t.el.querySelector(w.el)),!N&&typeof w.el=="string"&&(N=[...document.querySelectorAll(w.el)]),N||(N=w.el),!(!N||N.length===0)&&(t.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(N)&&N.length>1&&(N=[...t.el.querySelectorAll(w.el)],N.length>1&&(N=N.find(C=>XR(C,".swiper")[0]===t.el))),Array.isArray(N)&&N.length===1&&(N=N[0]),Object.assign(t.pagination,{el:N}),N=kn(N),N.forEach(C=>{w.type==="bullets"&&w.clickable&&C.classList.add(...(w.clickableClass||"").split(" ")),C.classList.add(w.modifierClass+w.type),C.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(C.classList.add(`${w.modifierClass}${w.type}-dynamic`),a=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&C.classList.add(w.progressbarOppositeClass),w.clickable&&C.addEventListener("click",d),t.enabled||C.classList.add(w.lockClass)}))}function x(){const w=t.params.pagination;if(l())return;let N=t.pagination.el;N&&(N=kn(N),N.forEach(C=>{C.classList.remove(w.hiddenClass),C.classList.remove(w.modifierClass+w.type),C.classList.remove(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(C.classList.remove(...(w.clickableClass||"").split(" ")),C.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(C=>C.classList.remove(...w.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const w=t.params.pagination;let{el:N}=t.pagination;N=kn(N),N.forEach(C=>{C.classList.remove(w.horizontalClass,w.verticalClass),C.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?b():(g(),p(),f())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&f()}),n("snapIndexChange",()=>{f()}),n("snapGridLengthChange",()=>{p(),f()}),n("destroy",()=>{x()}),n("enable disable",()=>{let{el:w}=t.pagination;w&&(w=kn(w),w.forEach(N=>N.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{f()}),n("click",(w,N)=>{const C=N.target,M=kn(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&M&&M.length>0&&!C.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&C===t.navigation.nextEl||t.navigation.prevEl&&C===t.navigation.prevEl))return;const j=M[0].classList.contains(t.params.pagination.hiddenClass);r(j===!0?"paginationShow":"paginationHide"),M.forEach(A=>A.classList.toggle(t.params.pagination.hiddenClass))}});const v=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=kn(w),w.forEach(N=>N.classList.remove(t.params.pagination.paginationDisabledClass))),g(),p(),f()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=kn(w),w.forEach(N=>N.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:v,disable:b,render:p,update:f,init:g,destroy:x})}function sj({swiper:t,extendParams:e,on:n,emit:r,params:s}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),f,p,g,x,v,b,w;function N(B){!t||t.destroyed||!t.wrapperEl||B.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",N),!(w||B.detail&&B.detail.bySwiperTouchMove)&&_())}const C=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?f=!0:f&&(c=u,f=!1);const B=t.autoplay.paused?u:d+c-new Date().getTime();t.autoplay.timeLeft=B,r("autoplayTimeLeft",B,B/l),a=requestAnimationFrame(()=>{C()})},M=()=>{let B;return t.virtual&&t.params.virtual.enabled?B=t.slides.find(X=>X.classList.contains("swiper-slide-active")):B=t.slides[t.activeIndex],B?parseInt(B.getAttribute("data-swiper-autoplay"),10):void 0},j=B=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),C();let $=typeof B>"u"?t.params.autoplay.delay:B;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const X=M();!Number.isNaN(X)&&X>0&&typeof B>"u"&&($=X,l=X,c=X),u=$;const H=t.params.speed,V=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(H,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,H,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(H,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,H,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return $>0?(clearTimeout(i),i=setTimeout(()=>{V()},$)):requestAnimationFrame(()=>{V()}),$},A=()=>{d=new Date().getTime(),t.autoplay.running=!0,j(),r("autoplayStart")},P=()=>{t.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(a),r("autoplayStop")},E=(B,$)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(i),B||(b=!0);const X=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",N):_()};if(t.autoplay.paused=!0,$){v&&(u=t.params.autoplay.delay),v=!1,X();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),X())},_=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),b?(b=!1,j(u)):j(),t.autoplay.paused=!1,r("autoplayResume"))},L=()=>{if(t.destroyed||!t.autoplay.running)return;const B=xi();B.visibilityState==="hidden"&&(b=!0,E(!0)),B.visibilityState==="visible"&&_()},D=B=>{B.pointerType==="mouse"&&(b=!0,w=!0,!(t.animating||t.autoplay.paused)&&E(!0))},R=B=>{B.pointerType==="mouse"&&(w=!1,t.autoplay.paused&&_())},G=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",D),t.el.addEventListener("pointerleave",R))},U=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",D),t.el.removeEventListener("pointerleave",R))},q=()=>{xi().addEventListener("visibilitychange",L)},F=()=>{xi().removeEventListener("visibilitychange",L)};n("init",()=>{t.params.autoplay.enabled&&(G(),q(),A())}),n("destroy",()=>{U(),F(),t.autoplay.running&&P()}),n("_freeModeStaticRelease",()=>{(g||b)&&_()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?P():E(!0,!0)}),n("beforeTransitionStart",(B,$,X)=>{t.destroyed||!t.autoplay.running||(X||!t.params.autoplay.disableOnInteraction?E(!0,!0):P())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){P();return}p=!0,g=!1,b=!1,x=setTimeout(()=>{b=!0,g=!0,E(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(i),t.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&t.params.cssMode&&_(),g=!1,p=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:A,stop:P,pause:E,resume:_})}function Afe(){const{data:t=[],isLoading:e}=De({queryKey:["listBanner"],queryFn:()=>qR()}),n=()=>o.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 animate-pulse",children:[o.jsx("div",{className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] bg-gray-200"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 md:p-8",children:[o.jsx("div",{className:"h-8 sm:h-9 md:h-10 bg-gray-300 rounded w-full sm:w-3/4 mb-2 sm:mb-3"}),o.jsx("div",{className:"h-6 sm:h-7 bg-gray-300 rounded w-2/3 sm:w-1/2 mb-4 sm:mb-6"}),o.jsx("div",{className:"h-10 sm:h-12 bg-gray-300 rounded-full w-32 sm:w-40"})]})]});return o.jsxs("div",{className:"rounded-xl bg-white shadow-lg overflow-hidden px-2 xs:px-4 sm:px-8 md:px-4 lg:px-0",children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("button",{className:"custom-prev-btn absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-200 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(z,{icon:ts,className:"hover:text-[1.8rem]"})}),o.jsx(jx,{modules:[nj,rj,sj],spaceBetween:10,slidesPerView:1,slidesPerGroup:1,breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:1,spaceBetween:15},640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:20},1024:{slidesPerView:1,spaceBetween:20}},navigation:{nextEl:".custom-next-btn",prevEl:".custom-prev-btn",enabled:!0},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",renderBullet:function(r,s){return`<span class="${s} !bg-gray-300 hover:!bg-pink-500"></span>`}},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"w-full",children:e?o.jsxs(o.Fragment,{children:[o.jsx(co,{children:o.jsx(n,{})}),o.jsx(co,{children:o.jsx(n,{})})]}):t.map(r=>o.jsx(co,{children:o.jsxs(Qe,{to:r.link||"/",className:"block relative overflow-hidden group cursor-pointer",children:[o.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-[300px] xs:h-[350px] sm:h-[400px] md:h-[450px] lg:h-[500px] xl:h-[540px] object-cover transition-transform duration-700 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),o.jsx("div",{className:"absolute top-3 xs:top-4 sm:top-6 right-3 xs:right-4 sm:right-6 bg-red-600 text-white px-3 xs:px-4 sm:px-6 py-1 xs:py-2 sm:py-3 rounded-full text-xs xs:text-sm sm:text-base md:text-lg font-bold animate-pulse shadow-lg whitespace-nowrap",children:"NEW"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 xs:p-6 sm:p-8 md:p-10 lg:p-12 text-white",children:[o.jsx("h3",{className:"xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-2 xs:mb-3 leading-tight",children:r.title}),o.jsx("p",{className:"text-lg xs:text-base sm:text-lg md:text-xl text-white/90 mb-4 xs:mb-6 max-w-full sm:max-w-xl md:max-w-2xl line-clamp-2 xs:line-clamp-none",children:r.subTitle}),o.jsxs("button",{className:"bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 xs:py-3 sm:py-4 px-6 xs:px-8 sm:px-10 rounded-full text-[1.4rem] md:text-[1.6rem] inline-flex items-center gap-2 xs:gap-3 transition-all transform hover:scale-105 shadow-lg",children:["Mua ngay",o.jsx(z,{icon:N_,className:"text-xs xs:text-sm sm:text-base"})]})]})]})},r.id))}),o.jsx("button",{className:"custom-next-btn absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-200 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(z,{icon:an,className:"hover:text-[1.8rem]"})})]}),o.jsx("div",{className:"swiper-pagination mt-2 xs:mt-3 sm:mt-4 flex justify-center"})]})}function Tf({showAddCart:t,setShowAddCart:e}){const[n,r]=T.useState(null),[s,i]=T.useState(null),[a,l]=T.useState(null),[c,u]=T.useState(1),[d,f]=T.useState(null),{addToCart:p,isLoading:g,notify:x,setNotify:v}=Sx(),b=()=>(t.data&&t.data.variants.find(_=>_.variantColor.id===a?.id&&_.variantSize.id===s?.id))?.inventory??0;T.useEffect(()=>{const E=b();if(!a||!s){u(1);return}u(_=>_>E?E>0?E:1:_)},[a,s]);const w=a&&s,N=t.data&&t.data?.variants?.reduce((E,_)=>E+_.inventory,0)||0,C=b(),M=T.useMemo(()=>{const E=new Map;return t.data&&t.data.variants.forEach(_=>E.set(_.variantColor.id,_.variantColor)),[...E.values()]},[t.data]),j=T.useMemo(()=>{const E=new Map;return t.data&&t.data.variants.forEach(_=>E.set(_.variantSize.id,_.variantSize)),[...E.values()]},[t.data]),A=()=>{const E=t.data&&t.data.category.categoryName?.toUpperCase()||"";return E.includes("giy")||E.includes("dp")?xN:vN},P=async()=>{if(f(null),!a||!s){f("Vui lng chn thuc tnh sn phm!");return}const E=t.data?.variants.find(L=>L.variantColor.id===a.id&&L.variantSize.id===s.id)?.id;c<=0&&f("S lng sn phm t nht l 1!"),p([{variantId:E,quantity:c}])};return o.jsxs(o.Fragment,{children:[o.jsxs(bt,{open:t.open,className:`relative \r
          w-[92vw] max-w-[90%] sm:max-w-[80%] md:max-w-[70%] lg:max-w-[55%]\r
          min-h-[30vh] max-h-[90vh] sm:max-h-[85vh] md:max-h-[80vh]\r
          bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-y-auto\r
          px-4 py-5 sm:px-6 sm:py-6 md:p-8 lg:p-10`,children:[o.jsx("button",{className:`absolute top-2 right-2 sm:top-3 sm:right-3 \r
            w-9 h-9 sm:w-10 sm:h-10 rounded-full \r
            flex items-center justify-center bg-gray-800 \r
            cursor-pointer hover:scale-110 transition-transform z-10`,onClick:()=>e({open:!1,data:null}),children:o.jsx(z,{icon:Un,className:"text-white text-xl sm:text-2xl"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8 lg:gap-10",children:[o.jsxs("div",{className:"w-full md:w-[38%] lg:w-[40%] flex-shrink-0",children:[o.jsx("div",{className:"aspect-square w-full max-w-[380px] mx-auto md:mx-0",children:o.jsx("img",{src:n||t.data?.mainImage,alt:"mainImage",className:"w-full h-full rounded-xl object-cover shadow-sm"})}),o.jsx("div",{className:"mt-4 grid grid-cols-4 sm:grid-cols-5 gap-2 sm:gap-3 overflow-x-auto pb-2 scrollbar-thin",children:t.data?.listImageProduct.map(E=>o.jsx("div",{className:"cursor-pointer flex-shrink-0 w-20 sm:w-24 aspect-square",onClick:()=>r(E.imageUrl),children:o.jsx("img",{src:E.imageUrl,alt:`thumb-${t.data?.productName}`,className:`w-full h-full rounded-lg object-cover border-2 transition-all ${n===E.imageUrl?"border-blue-500 shadow-md":"border-transparent hover:border-gray-300"}`})},E.id))})]}),o.jsxs("div",{className:"flex-1 space-y-4 sm:space-y-5",children:[o.jsx("h2",{className:"text-[1.8rem] font-bold text-gray-800 line-clamp-2",children:t.data?.productName}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 text-gray-600 text-[1.4rem]",children:[o.jsxs("span",{children:["M sn phm: ",o.jsx("strong",{children:t.data?.id})]}),o.jsx("span",{className:"hidden sm:inline-block border-l border-gray-400 h-5"}),o.jsxs("span",{children:["Tnh trng:"," ",o.jsx("strong",{children:t.data?.variants.some(E=>E.inventory>0)?"Cn hng":"Ht hng"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("span",{className:"text-gray-600 text-[1.4rem]",children:"Gi:"}),o.jsx("span",{className:"text-red-500 font-bold text-[1.6rem] sm:text-[1.8rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(t.data?.price))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2",children:"Chn mu:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:M.map(E=>o.jsxs("button",{className:`flex items-center gap-2 px-3 sm:px-4 py-2 border rounded-lg text-[1.4rem] transition-all ${a?.id===E.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300"}`,onClick:()=>l(E),onFocus:()=>f(null),children:[o.jsx(z,{icon:A(),className:"p-1 rounded bg-gray-100",style:{color:E.hexCode}}),o.jsx("span",{className:"text-gray-700",children:E.name})]},E.id))})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-[1.4rem] text-gray-600 mb-2 mt-5 sm:mt-6",children:"Chn size:"}),o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:j?.map(E=>{const _=a&&t.data?.variants.some(L=>L.variantColor.id===a.id&&L.variantSize.id===E.id);return o.jsx("button",{className:`px-5 sm:px-6 py-2 border rounded-lg text-[1.4rem] transition-all ${_?s?.id===E.id?"border-blue-600 bg-blue-50 shadow-sm":"border-gray-300 hover:border-blue-300":"border-gray-200 text-gray-300 cursor-not-allowed"}`,disabled:!_,onClick:()=>i(E),onFocus:()=>f(null),children:E.name},E.id)})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 mt-6 sm:mt-8",children:[o.jsx("span",{className:"text-[1.4rem] text-gray-600",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(E=>Math.max(1,E-1)),children:o.jsx(z,{icon:Rl,className:"text-base"})}),o.jsx("input",{type:"number",value:c,min:1,disabled:!w,onChange:E=>{const _=Number(E.target.value);isNaN(_)||u(_)},className:`w-20 sm:w-24 h-10 sm:h-11 text-center text-[1.4rem] border rounded-lg outline-none ${w?"border-gray-300 focus:border-blue-400":"bg-gray-100 text-gray-500 cursor-not-allowed"}`}),o.jsx("button",{className:`w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center rounded-lg border border-gray-300 bg-gray-50 text-gray-700 transition ${w?"hover:bg-gray-100 active:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!w,onClick:()=>u(E=>Math.min(C,E+1)),children:o.jsx(z,{icon:ha,className:"text-base"})})]}),o.jsx("span",{className:"text-[1.2rem] text-gray-600 font-medium uppercase",children:w?`Cn ${C} sn phm`:N>0?"Cn hng":"Ht hng"})]}),d&&o.jsx("p",{className:"text-red-500 text-[1.5rem] mt-4",children:d})]})]}),o.jsxs("div",{className:"flex flex-row items-center justify-end gap-3 sm:gap-4 mt-6 sm:mt-8",children:[o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition duration-300 text-[1.4rem]",onClick:()=>e({open:!1,data:null}),disabled:g,children:"Hy"}),o.jsx("button",{type:"button",className:"w-full sm:w-auto px-8 sm:px-[2rem] py-3 sm:py-[.7rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-300 text-[1.4rem] font-medium",onClick:P,disabled:g||!w,children:g?"ang x l...":"Thm vo gi"})]})]}),o.jsx(Ru,{showNotify:x.show,content:x.content,duration:1e3,onClose:()=>v({show:!1,content:""})})]})}function Ofe(){const t=Ze(),[e]=T.useState({limit:10,page:1}),[n,r]=T.useState({open:!1,data:null}),{data:s,isLoading:i}=De({queryKey:["populars",e],queryFn:()=>ote(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500",children:"Sn phm ni bt"}),o.jsxs(Qe,{to:"/products?sort=popular",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(z,{icon:an})]})]}),o.jsxs("div",{className:"relative w-full",children:[o.jsx("button",{className:"lg:block hidden popular-prev absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(z,{icon:ts,className:"hover:text-[1.8rem]"})}),o.jsx(jx,{modules:[nj,rj,sj],spaceBetween:10,slidesPerView:1,slidesPerGroup:1,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".popular-next",prevEl:".popular-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:4,slidesPerGroup:4,navigation:!0},1024:{slidesPerView:4,slidesPerGroup:4,navigation:!0},1280:{slidesPerView:5,slidesPerGroup:5,navigation:!0}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(co,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(co,{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${l.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"})]})]})]},l.id))}),o.jsx("button",{className:"lg:block hidden popular-next absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(z,{icon:an,className:"hover:text-[1.8rem]"})})]}),o.jsx(Tf,{showAddCart:n,setShowAddCart:r})]})}function _fe(){const t=Ze(),[e]=T.useState({limit:10,page:1}),[n,r]=T.useState({open:!1,data:null}),{data:s,isLoading:i}=De({queryKey:["bestsell",e],queryFn:()=>lte(e)}),a=s?.data??[];return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500",children:"Sn phm ban chay"}),o.jsxs(Qe,{to:"/products?sort=best_seller",className:"flex items-center space-x-1 text-gray-500 text-[1.2rem] md:text-[1.6rem] hover:underline",children:[o.jsx("span",{children:"Xem tt c"}),o.jsx(z,{icon:an})]})]}),o.jsxs("div",{className:"relative ",children:[o.jsx("button",{className:"hidden lg:block bestsell-prev absolute top-1/2 -left-4 xl:-left-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(z,{icon:ts,className:"hover:text-[1.8rem]"})}),o.jsx(jx,{modules:[nj,rj,sj],spaceBetween:10,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".bestsell-next",prevEl:".bestsell-prev"},breakpoints:{320:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},480:{slidesPerView:2,slidesPerGroup:2,pagination:!1,spaceBetween:5},640:{slidesPerView:3,slidesPerGroup:3,spaceBetween:10,navigation:!0},1024:{slidesPerView:4,slidesPerGroup:4,spaceBetween:10,navigation:!0},1280:{slidesPerView:5,slidesPerGroup:5,spaceBetween:10,navigation:!0}},className:"popular-swiper !py-6 !px-4",children:i?Array.from({length:10}).map((l,c)=>o.jsx(co,{children:o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]})},`skeleton-${c}`)):a.map(l=>o.jsxs(co,{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${l.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:l.mainImage||"https://via.placeholder.com/300",alt:l.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:l.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),r({open:!0,data:l})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:c=>{c.stopPropagation(),t(`/product-detail/${l.slug}`)},children:"Chi tit"})]})]})]},l.id))}),o.jsx("button",{className:"hidden lg:block bestsell-next absolute top-1/2 -right-4 xl:-right-6 z-10 -translate-y-1/2 bg-gray-50 hover:bg-gray-100 hover:scale-[1.1] p-2 xs:p-3 sm:p-4 rounded-full shadow-xl transition-all group",children:o.jsx(z,{icon:an,className:"hover:text-[1.8rem]"})})]}),o.jsx(Tf,{showAddCart:n,setShowAddCart:r})]})}function Dfe({open:t,onClose:e}){return o.jsxs(bt,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsx("h3",{className:" text-[1.6rem] pb-4 font-semibold",children:"Bn c chc mun hy FlashSale ny?"}),o.jsxs("div",{className:"pt-8 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"Khng"}),o.jsx("button",{type:"button",className:"px-6 py-3 text-[1.4rem] bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",onClick:()=>{},children:"Hy"})]})]})}const Ife={[cl.ACTIVE]:"ang din ra",[cl.SCHEDULE]:"Sp din ra",[cl.ENDED]:" kt thc",[cl.CANCELLED]:" hy"},ij=t=>{const e={ACTIVE:"bg-green-100 text-green-700",SCHEDULE:"bg-blue-100 text-blue-700",ENDED:"bg-gray-100 ",CANCELLED:"bg-red-100 text-red-700"},n={ACTIVE:"ang din ra",SCHEDULE:"Sp din ra",ENDED:" kt thc",CANCELLED:" hy"};return o.jsx("span",{className:`px-5 py-2 rounded-full text-[1.4rem] font-medium ${e[t]}`,children:n[t]})};function Lfe(){const t=Ze(),[e,n]=T.useState({limit:20,page:1,name:"",status:""}),[r,s]=T.useState(e),[i,a]=T.useState(null),{data:l,isLoading:c}=De({queryKey:["flashsales",r],queryFn:()=>UR(e)}),u=l&&l.data||[],d=l&&l?.pagination.totalPages||1,f=()=>{s({...e})};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold",children:"FlashSale"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>t("create"),children:[o.jsx(z,{icon:Au}),"To Flash Sale"]})})]}),o.jsx("div",{className:"mt-[2rem] flex justify-between items-center gap-4",children:o.jsxs("div",{className:"flex gap-4 items-center flex-1",children:[o.jsxs("div",{className:"relative flex-1 max-w-[40rem]",children:[o.jsx(z,{icon:Dr,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-[1.4rem]"}),o.jsx("input",{type:"text",placeholder:"Tm kim flash sale...",value:e.name,onChange:p=>n(g=>({...g,name:p.target.value})),className:"w-full pl-12 pr-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500"})]}),o.jsxs("select",{value:e.status,onChange:p=>n(g=>({...g,status:p.target.value})),className:"px-6 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 bg-white",children:[o.jsx("option",{value:"",children:"Tt c"}),Object.entries(cl).map(([p,g])=>o.jsx("option",{value:g,children:Ife[g]},g))]}),o.jsxs("button",{className:"px-6 h-[4rem] rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300 cursor-pointer",onClick:()=>f(),children:[o.jsx(z,{icon:Ss}),o.jsx("span",{children:"Loc"})]})]})}),o.jsx("div",{className:"mt-[2rem] overflow-x-auto shadow-md",children:o.jsxs("table",{className:"w-full border border-gray-200",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-gray-200",children:[o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"STT"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Tn chng trnh"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian bt u"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Thi gian kt thc"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Gim gi"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Sn phm"}),o.jsx("th",{className:"text-left py-4 px-4 text-[1.4rem] font-semibold ",children:"Trng thi"}),o.jsx("th",{className:"text-center py-4 px-4 text-[1.4rem] font-semibold ",children:"Thao tc"})]})}),o.jsx("tbody",{children:c?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"ang ti d liu..."})}):u.length>0?u.map((p,g)=>o.jsxs("tr",{className:" hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:++g}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] font-medium",children:p.name}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:Zr(p.startDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:Zr(p.endDate).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:o.jsxs("span",{className:"text-red-500 ",children:[p.discount,"%"]})}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem]",children:p?.flashSaleProduct?.length}),o.jsx("td",{className:"py-4 px-4 text-[1.4rem] ",children:ij(p.status)}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{className:"px-3 py-1 bg-green-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`detail/${p.id}`),children:o.jsx(z,{icon:da,className:"text-[1.4rem]"})}),o.jsx("button",{className:"px-3 py-1 bg-amber-500 text-white cursor-pointer rounded-lg transition-colors",onClick:()=>t(`edit/${p.id}`),children:o.jsx(z,{icon:Bs,className:"text-[1.4rem]"})}),o.jsx("button",{className:"text-[1.4rem] px-3 py-1 bg-red-500 hover:bg-red-600 cursor-pointer text-white rounded-lg transition-colors duration-300",onClick:()=>a(p.id),children:"Hy"})]})})]},p.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"py-12 text-center text-[1.4rem] text-gray-500",children:"Khng tm thy flash sale no"})})})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.max(p.page-1,1)})),disabled:e.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:d},(p,g)=>g+1).filter(p=>Math.abs(p-e.page)<=2).map(p=>o.jsx("button",{onClick:()=>n(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${e.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>n(p=>({...p,page:Math.min(p.page+1,d)})),disabled:e.page===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]}),i&&o.jsx(Dfe,{open:!!i,onClose:()=>a(null)})]})}const Rfe=()=>{const[t]=T.useState({limit:4,page:1,name:"",status:""}),{data:e,isLoading:n}=De({queryKey:["flashsales",t],queryFn:()=>UR(t)}),[r,s]=T.useState({}),i=T.useMemo(()=>e?.data,[e?.data]),a=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c)),l=(c,u)=>Math.round(c/u*100);return T.useEffect(()=>{if(!i||i.length===0)return;const c=()=>{const d={};i.forEach(f=>{d[f.id]=ZS(f.endDate)}),s(d)};c();const u=setInterval(c,1e3);return()=>clearInterval(u)},[i]),n?o.jsx("div",{className:"text-center py-10",children:"ang ti flash sale..."}):i.length===0?null:o.jsx("div",{className:"space-y-12 mt-8",children:i?i.map(c=>{const u=r[c.id]||{hours:0,minutes:0,seconds:0},d=c.flashSaleProduct?.slice(0,5)||[],f=Math.floor(u.hours/24);return o.jsxs("section",{className:"relative rounded-2xl overflow-hidden shadow-xl py-12 md:py-20 lg:py-25 px-4 md:px-8 lg:px-14 z-0",style:{background:`url(${c.bannerImage})`},children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 z-0"}),o.jsxs("div",{className:"relative p-6 md:p-8 z-100 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-2xl md:text-3xl font-bold text-white",children:[c.name," - Gim ",c.discount,"%"]}),o.jsx("p",{className:"text-yellow-200 mt-3",children:ij(c.status)})]}),o.jsxs("div",{className:"flex items-center gap-4 text-[1.4rem]",children:[o.jsx("span",{className:"text-white font-medium ",children:"Kt thc sau:"}),o.jsx("div",{className:"flex gap-3",children:u.hours>24?o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px] text-red-600",children:[f," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"bg-white/90 rounded-lg px-4 py-2 text-center min-w-[70px]",children:[o.jsx("div",{className:" text-red-600",children:String(u[p]).padStart(2,"0")}),o.jsx("div",{children:p==="hours"?"Gi":p==="minutes"?"Pht":"Giy"})]},g))})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-6",children:d.length>0?d.map(p=>{const g=l(p.sold,p.quantity),x=p.product;return o.jsxs(Qe,{to:`/product-detail/${x.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",c.discount,"%"]}),o.jsx("div",{className:"relative h-[14rem] md:h-[18rem] lg:h-[22rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:x.mainImage||"https://via.placeholder.com/300",alt:x.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-2 text-[1.4rem] md:text-[1.5rem] lg:text-[1.6rem]",children:x.productName||`Sn phm ${x.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 pb-5",children:[o.jsx("p",{className:"text-red-600 text-[1.2rem] md:text-[1.4rem] font-bold",children:a(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1rem] md:text-[1.2rem]",children:a(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1rem] md:text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"text-red-500",children:[g,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${g}%`}})})]})]})]},x.id)}):o.jsx("p",{className:"text-white text-[1.4rem] md:text-[1.6rem] py-25 text-center",children:"Cha c sn phm trong chng trnh ny"})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(Qe,{to:`/flash-sale/${c.slug}`,className:"inline-block px-10 py-4 bg-white text-red-600 rounded-full text-[1.4rem] md:text-[1.6rem] hover:bg-red-100 transition shadow-lg",children:"Xem tt c sn phm"})})]})]},c.id)}):o.jsx(o.Fragment,{})})};function Ffe(){const{data:t=[],isLoading:e}=De({queryKey:["getAllCategory"],queryFn:ec});console.log(t);const n=()=>o.jsx("div",{children:"ang ti d liu"});return o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500 mb-6",children:"Danh mc"}),e?o.jsx(n,{}):t.length>0?o.jsx("div",{className:"w-full overflow-x-auto hide-scrollbar",children:o.jsx("div",{className:"h-auto grid grid-flow-col auto-cols-[12rem] gap-2.5",children:t.filter(r=>r.image).map(r=>o.jsxs(Qe,{to:`/category/${r.slug}`,className:"border flex items-center flex-col justify-center border-gray-200 rounded-lg p-2.5 group hover:border-gray-400 shadow-md transition-colors duration-300 cursor-pointer",children:[o.jsx("img",{src:r.image,alt:`image-${r.categoryName}`,className:"w-[8rem] h-[8rem] rounded-full object-cover group-hover:scale-[1.1] transition-transform duration-300"}),o.jsx("p",{className:"line-clamp-1 mt-1",children:r.categoryName})]},r.id))})}):o.jsx("div",{children:"Khng c danh mc no"})]})}function zfe(){const t=Ze(),[e,n]=T.useState([]),[r,s]=T.useState({open:!1,data:null}),[i,a]=T.useState({price:"desc",limit:10,page:1,sort:"latest"}),{data:l,isLoading:c}=De({queryKey:["products",i],queryFn:ux}),u=l&&i.page<l.totalPages;T.useEffect(()=>{if(!l)return;const f=l.data||[];n(p=>i.page===1?f:[...p,...f])},[l,i.page]);const d=()=>{a(f=>({...f,page:f.page+1}))};return c?o.jsx("div",{children:"ang ti d liu"}):o.jsxs("section",{className:"mt-[2rem] rounded-[.5rem] bg-white p-[1.5rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] font-bold text-pink-500 mb-6",children:"Gi  hm nay"}),o.jsxs("div",{className:"text-center",children:[e.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.map(f=>o.jsxs("div",{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${f.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:f.mainImage||"https://via.placeholder.com/300",alt:f.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:f.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:p=>{p.stopPropagation(),s({open:!0,data:f})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:p=>{p.stopPropagation(),t(`/product-detail/${f.slug}`)},children:"Chi tit"})]})]})]},f.id))}),u&&o.jsx("button",{type:"button",className:"py-3 px-8 border border-gray-300 hover:border-gray-600 hover:text-gray-800 transition-colors duration-300 rounded-md mt-8 cursor-pointer",onClick:()=>d(),disabled:c,children:"Xem thm"})]}),o.jsx(Tf,{showAddCart:r,setShowAddCart:s})]})}function Vfe(){return o.jsxs(o.Fragment,{children:[o.jsx(Afe,{}),o.jsx(Rfe,{}),o.jsx(Ffe,{}),o.jsx(Ofe,{}),o.jsx(_fe,{}),o.jsx(zfe,{})]})}const $fe=async({session_id:t,userId:e})=>he.get("/api/v1/chat/history",{params:{...e?{}:{session_id:t}}});function Bfe(){const{user:t}=jt(),e=VR(),[n,r]=T.useState(!1),s=T.useRef(null),[i,a]=T.useState([]),{data:l,isLoading:c}=De({queryKey:["historyChat",e,t?.id],queryFn:()=>$fe({session_id:e,userId:Number(t?.id)})});T.useEffect(()=>{if(l?.data){const w=l.data.map(N=>({role:N.role==="assistant"?"assistant":"user",content:N.content,timestamp:N.timestamp}));a(w)}},[l]);const[u,d]=T.useState(null),[f,p]=T.useState(!1),g=T.useRef(null);T.useEffect(()=>{const w=N=>{g.current&&!g.current.contains(N.target)&&r(!1)};return document.addEventListener("click",w),()=>{document.removeEventListener("click",w)}},[]),T.useEffect(()=>{s.current?.scrollIntoView({behavior:"smooth"})},[i,n]);const x=async()=>{if(!u?.trim())return;const w={role:"user",content:u,timestamp:new Date().toISOString()},N=[...i,w];a(N),d(""),p(!0);try{const C=await he.post("/api/v1/chat/create",{content:w.content,...t?{}:{session_id:e}});if(!C.status)throw new Error("Li t server!");const M={role:"assistant",content:C.data.message,timestamp:C.data.timestamp};a(j=>[...j,M])}catch{const M={role:"assistant",content:"Xin li,  c li x ra. Vui lng th li sau nh!",timestamp:new Date().toISOString()};a(j=>[...j,M])}finally{p(!1)}},v=w=>new Date(w).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),b=()=>o.jsxs("div",{className:"flex items-end gap-4 animate-pulse",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-200"}),o.jsxs("div",{className:"flex flex-col max-w-[70%] space-y-2",children:[o.jsx("div",{className:"h-20 bg-gray-200 rounded-4xl rounded-bl-none w-64"}),o.jsx("div",{className:"h-3 bg-gray-100 rounded w-16"})]})]});return o.jsxs("div",{className:"fixed bottom-14 right-8 z-[999]",ref:g,children:[o.jsxs("button",{onClick:()=>r(!0),className:"relative bg-green-600 text-white w-22 h-22 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-110 z-50 group ",children:[o.jsx(z,{icon:hG,className:"text-[2rem]"}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-8 h-8 text-[1.4rem] flex items-center justify-center animate-pulse",children:"1"})]}),n&&o.jsxs("div",{className:"absolute flex flex-col bottom-[6rem] right-0 md:right-[2rem] lg:right-[5rem] w-[35rem] md:w-[45rem] h-[55rem] rounded-xl shadow-2xl bg-white z-[999]",children:[o.jsx("button",{type:"button",className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors duration-300",onClick:()=>r(!1),children:o.jsx(z,{icon:cn,className:"text-gray-500"})}),o.jsxs("div",{className:"w-full h-auto p-6 flex items-center space-x-4 bg-blue-500 rounded-tr-xl rounded-tl-xl text-white",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-[#ffffff48] flex items-center justify-center",children:o.jsx(z,{icon:s5})}),o.jsxs("div",{children:[o.jsx("p",{children:"Tr l AI"}),o.jsx("p",{className:"text-[1.2rem]",children:"Lun sn sn h tr khch hng"})]})]}),o.jsx("div",{className:"flex-1 flex flex-col space-y-8 w-full min-h-[15rem] p-6 overflow-y-auto hide-scrollbar",children:c?Array.from({length:4}).map((w,N)=>o.jsxs("div",{children:[o.jsx(b,{}),";"]},N)):i.length>0?i.map((w,N)=>{const C=w.role==="user";return o.jsxs("div",{className:`flex items-end gap-4 ${C?"justify-end":"justify-start"}`,children:[!C&&o.jsx("div",{className:"w-14 h-14 rounded-full bg-blue-500 text-white flex items-center justify-center",children:o.jsx(z,{icon:s5})}),o.jsxs("div",{className:"flex flex-col max-w-[70%]",children:[o.jsx("div",{className:`p-5 rounded-4xl text-[1.4rem] break-words whitespace-pre-wrap
                        ${C?"bg-blue-500 text-white rounded-br-none":"bg-white border border-gray-200 rounded-bl-none"}
                      `,children:w.content}),o.jsx("span",{className:`text-[1rem] text-gray-400 mt-1 ${C?"text-right":"text-left"}`,children:v(w.timestamp)})]}),C&&o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",children:o.jsx("img",{src:t?t.avatar:TN,alt:"avatar user",className:"w-full h-full object-cover rounded-full"})}),o.jsx("div",{ref:s})]},`${w.role}-${w.timestamp}-${N}`)}):o.jsx("div",{})}),o.jsxs("div",{className:"flex items-center space-x-4 w-full h-auto p-6 mt-auto border-t border-t-gray-200",children:[o.jsx("input",{type:"text",value:u??"",className:"flex-1 w-full h-[5rem] rounded-full border border-gray-300 outline-none px-[3rem]",placeholder:"Nhp tin nhn...",onChange:w=>d(w.target.value),onKeyDown:w=>{w.key==="Enter"&&x()}}),o.jsx("button",{className:"w-[5rem] h-[5rem] rounded-full flex items-center justify-center bg-blue-500 hover:bg-blue-600 transition-colors duration-300",onClick:x,children:o.jsx(z,{icon:vde,className:"text-white"})})]})]})]})}function Hfe(){return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(XS,{}),o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:[o.jsx(Ql,{}),o.jsx(Bfe,{})]}),o.jsx(QS,{})]})}function Ufe(){const n=ir().pathname.split("/").filter(Boolean).slice(1),[r,s]=T.useState(!1),{data:i,isLoading:a,isError:l,error:c}=De({queryKey:["categories-by-slugs",n],queryFn:()=>xte(n),enabled:n.length>0,retry:2});return o.jsxs("div",{className:"overflow-hidden",children:[o.jsx(XS,{}),o.jsxs("div",{className:"flex items-center space-x-2 text-[1.4rem] mt-[20rem] md:mt-[16.5rem] px-[1.5rem] md:px-[15rem] overflow-x-auto pb-2",children:[o.jsxs(Qe,{to:"/",className:"flex items-center space-x-2 text-blue-800 flex-shrink-0",children:[o.jsx("span",{children:"Home"}),o.jsx(z,{icon:an,className:"text-gray-400 cursor-pointer"})]}),a&&o.jsx("div",{className:"flex-shrink-0 text-gray-500",children:"ang ti..."}),l&&o.jsx("div",{className:"flex-shrink-0 text-red-600",children:c instanceof Error?c.message:"C li xy ra"}),!a&&!l&&i&&n.map((u,d)=>{const p=i[d].categoryName,g="/category/"+n.slice(0,d+1).join("/");return o.jsxs("span",{className:"flex items-center flex-shrink-0",children:[o.jsx(Qe,{to:g,className:"text-blue-800 text-[1.4rem] whitespace-nowrap",children:p}),d<n.length-1&&o.jsx(z,{icon:an,className:"text-gray-400 mx-2"})]},u)})]}),o.jsx("button",{onClick:()=>s(!0),className:"md:hidden fixed bottom-8 right-4 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-95 transition-transform",children:o.jsx(z,{icon:k_,className:"text-[2rem]"})}),o.jsxs("div",{className:"flex gap-[2rem] px-[1.5rem] md:px-[12rem] mt-[1rem] relative",children:[o.jsxs("div",{className:`
            fixed md:static 
            top-0 left-0 
            h-full md:h-auto
            w-[85%] max-w-[32rem] md:w-auto
            bg-white md:bg-transparent 
            z-50 md:z-auto
            transition-transform duration-300 md:transition-none
            ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}
            overflow-y-auto md:overflow-visible
            shadow-2xl md:shadow-none
          `,children:[o.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[o.jsx("h3",{className:"text-[1.8rem] font-semibold",children:"Danh mc"}),o.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 rounded-full active:scale-95",children:o.jsx(z,{icon:S_,className:"text-[2rem]"})})]}),o.jsx("div",{className:"p-4 md:p-0",children:o.jsx(zR,{})})]}),r&&o.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>s(!1)}),o.jsx("div",{className:"flex-1 w-full pb-[10rem] md:pb-0",children:o.jsx(Ql,{})})]}),o.jsx(QS,{})]})}const u8="/manage-sell-client/assets/no-product-E6KspzCb.png";function d8({queryDefault:t,handleChangeSort:e,handleChangePrice:n,setQueryDefault:r}){const[s]=Ni(),i=s.get("sort");return o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsx("div",{className:"flex items-center gap-2 flex-wrap md:flex-nowrap",children:!i&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${t.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>e("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${t.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>e("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${t.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>e("best_seller"),children:"Bn chy"})]})}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi: ",t.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(z,{icon:Eh,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${t.price==="asc"?"text-red-500":""}`,onClick:()=>n("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),t.price==="asc"&&o.jsx(z,{icon:bo,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${t.price==="desc"?"text-red-500":""}`,onClick:()=>n("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),t.price==="desc"&&o.jsx(z,{icon:bo,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>r(a=>({...a,price:t.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(z,{icon:t.price==="asc"?w_:C_,className:"text-[1rem] font-extralight"})]})]})}function Yv(){const t=Ze(),{slug1:e,slug2:n,slug3:r}=wi(),[s,i]=T.useState({open:!1,data:null}),a=[e,n,r].filter(Boolean),[l,c]=T.useState({page:1,limit:20,price:"asc",sort:"popular"}),u=a[a.length-1],{data:d,isLoading:f}=De({queryKey:["product-by-category",a,l],queryFn:()=>dte(a,l)}),p=d?.data||[],{data:g,isLoading:x}=De({queryKey:["childOfCates",u],queryFn:()=>hte(u)}),v=g&&g.data||[];T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const b=C=>{c(M=>({...M,sort:C}))},w=C=>{c(M=>({...M,price:C}))},N=C=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C);return o.jsxs("div",{className:"w-full h-auto rounded-lg",children:[o.jsx(d8,{handleChangePrice:w,handleChangeSort:b,queryDefault:l,setQueryDefault:c}),x?o.jsxs("div",{className:"w-full h-[15rem] flex flex-col gap-y-[1.5rem] items-center justify-center mt-[2rem]",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.3rem] md:text-[1.5rem] text-gray-600",children:"ang ti danh mc..."})]}):v&&v.length>0?o.jsx("div",{className:"md:my-[2rem] my-2.5",children:o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 md:gap-4",children:v.map(C=>o.jsxs(Qe,{to:`/category/${C.slug}`,className:"flex flex-col items-center justify-center p-3 md:p-4 rounded-lg border border-gray-200 bg-white shadow-sm hover:shadow-lg hover:border-red-300 hover:scale-[1.05] transition-all duration-300 cursor-pointer group",children:[o.jsxs("div",{className:"relative mb-2 md:mb-3",children:[o.jsx("div",{className:"absolute inset-0 rounded-full blur-md transition-opacity duration-300"}),o.jsx("img",{src:C.image,alt:C.categoryName,className:"relative w-[6rem] h-[6rem] md:w-[8rem] md:h-[8rem] rounded-full object-cover border-2 border-gray-100"})]}),o.jsx("p",{className:"text-[1.2rem] md:text-[1.4rem] font-medium text-gray-800 text-center line-clamp-2 group-hover:text-red-500 transition-colors duration-300",children:C.categoryName})]},C.id))})}):null,f?o.jsxs("div",{className:"w-full h-auto flex flex-col gap-y-[2rem] items-center justify-center mt-25",children:[o.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 border-4 border-dashed border-blue-500 rounded-full animate-spin [animation-duration:2s]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:"ang ti d liu..."})]}):p.length>0?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"md:text-[2rem] mt-[2rem]",children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-4 mt-[1rem] md:mt-[2rem]",children:p?.map(C=>o.jsxs("div",{className:"flex flex-col w-full h-auto border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 transition-all duration-300 cursor-pointer",onClick:()=>t(`/product-detail/${C.slug}`),children:[o.jsx("img",{src:C.mainImage,alt:`mainImage-${C.productName}`,className:"w-full h-[15rem] md:h-[18rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-1 text-[1.3rem] md:text-[1.5rem] leading-snug",children:C.productName}),o.jsx("span",{className:"text-red-500 text-[1.3rem] md:text-[1.5rem]",children:N(C.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem]",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:C.averageRating}),o.jsx(z,{icon:xs,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:C.soldCount})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:M=>{M.stopPropagation(),i({open:!0,data:C})},children:["Thm"," ",o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:M=>{M.stopPropagation(),t(`/product-detail/${C.slug}`)},children:"Chi tit"})]})]})]},C.id))})]}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:u8,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]}),o.jsx(Tf,{showAddCart:s,setShowAddCart:i})]})}function Wfe({open:t,onClose:e,data:n,refetch:r}){const[s,i]=T.useState(!1);if(!n)return;const a=async()=>{try{i(!0);const l=await he.patch(`/api/v1/voucher/toggle/${n?.id}`);l.status&&(i(!1),await r(),ce.success(l.message),e())}catch(l){console.log(l),ce.error(l.message)}};return o.jsxs(bt,{open:t,className:"relative w-[50rem] h-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>e(),children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsxs("p",{className:"text-[1.8rem] text-gray-600 text-start",children:["Bn c chc chn mun"," ",n?.status===ii.ACTIVE?"tt":"kch hot"," voucher ny? ",o.jsx("br",{})]}),o.jsxs("div",{className:"flex items-center justify-end mt-[4rem] gap-[1rem]",children:[o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-600 hover-linear",onClick:()=>{e()},disabled:s,children:"Hy"}),o.jsx("button",{className:"px-[2rem] py-[.5rem] rounded-lg bg-red-500 hover:bg-red-600 text-white hover-linear",disabled:s,onClick:()=>a(),children:s?"ang xa...":n?.status===ii.ACTIVE?"Tt":"Kch hot"})]})]})}function qfe({open:t,onClose:e,dataDetail:n}){if(!n)return null;const r=u=>new Date(u).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),s=u=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),i=u=>{switch(u){case"ACTIVE":return"bg-green-100 text-green-700";case"INACTIVE":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},a=u=>{switch(u){case"ACTIVE":return"ang hot ng";case"INACTIVE":return"Ngng hot ng";default:return u}},l=u=>u==="PERCENT"?"Phn trm":"S tin c nh",c=({icon:u,label:d,value:f})=>o.jsxs("div",{className:"flex items-start gap-[1.5rem] py-[1.2rem] border-b border-gray-100 last:border-b-0",children:[o.jsx("div",{className:"w-[2rem] flex justify-center mt-[0.2rem]",children:o.jsx(z,{icon:u,className:"text-blue-500 text-[1.4rem]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-[1.2rem] text-gray-500 mb-[0.3rem]",children:d}),o.jsx("p",{className:"text-[1.5rem] text-gray-800 font-medium",children:f})]})]});return o.jsxs(bt,{open:t,className:"relative w-[60rem] max-h-[76vh] hide-scrollbar overflow-y-auto bg-white rounded-[1rem] shadow-xl px-[3rem] py-[2.5rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>e(),children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsxs("div",{className:"mb-[2rem]",children:[o.jsx("p",{className:"text-[2rem] text-gray-800 font-semibold mb-[0.5rem]",children:"Chi tit voucher"}),o.jsx("p",{className:"text-[1.3rem] text-gray-500",children:"Thng tin y  v voucher khuyn mi"})]}),o.jsx("div",{className:"shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:o.jsxs("div",{className:"flex items-center justify-between mb-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("div",{className:"w-[4rem] h-[4rem] bg-white rounded-full flex items-center justify-center shadow-sm",children:o.jsx(z,{icon:wN,className:"text-blue-600 text-[2rem]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.8rem] font-bold",children:n.name}),o.jsxs("p",{className:"text-[1.3rem] text-gray-600",children:["M voucher: ",n.voucherCode]})]})]}),o.jsx("span",{className:`px-[1.5rem] py-[0.6rem] rounded-full text-[1.2rem] font-semibold ${i(n.status)}`,children:a(n.status)})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-[2rem] mb-[2rem]",children:[o.jsxs("div",{className:"bg-blue-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(z,{icon:n.type==="PERCENT"?pG:$p,className:"text-blue-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"Gi tr gim"})]}),o.jsx("p",{className:"text-[2.4rem] font-bold text-blue-600",children:n.type==="PERCENT"?`${n.value}%`:s(n.value)}),o.jsx("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:l(n.type)})]}),o.jsxs("div",{className:"bg-purple-50 shadow-md rounded-[1rem] p-[2rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem] mb-[1rem]",children:[o.jsx(z,{icon:FG,className:"text-purple-600 text-[1.8rem]"}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:"S dng"})]}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-purple-600",children:[n.usedCount,"/",n.usageLimit]}),o.jsxs("p",{className:"text-[1.2rem] text-gray-500 mt-[0.5rem]",children:["Cn li: ",n.usageLimit-n.usedCount]})]})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[2rem] mb-[2rem]",children:[o.jsx(c,{icon:$p,label:"Gi tr n hng ti thiu",value:s(n.minOrderValue)}),o.jsx(c,{icon:$p,label:"Gim ti a",value:s(n.maxDiscount)}),o.jsx(c,{icon:YG,label:"Phm vi p dng",value:n.isGlobal?"Ton b h thng":"Gii hn"}),o.jsx(c,{icon:r5,label:"Ngy bt u",value:r(n.startDate)}),o.jsx(c,{icon:r5,label:"Ngy kt thc",value:r(n.endDate)})]}),o.jsxs("div",{className:"bg-gray-50 shadow-md rounded-[1rem] p-[1.5rem] mb-[2rem]",children:[o.jsx("p",{className:"text-gray-500 mb-[0.5rem]",children:"Thi gian to"}),o.jsx("p",{className:"text-gray-700",children:r(n.createdAt)}),o.jsx("p",{className:"text-gray-500 mt-[1rem] mb-[0.5rem]",children:"Cp nht ln cui"}),o.jsx("p",{className:"text-gray-700",children:r(n.updatedAt)})]}),o.jsx("div",{className:"flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"px-[2.5rem] py-[1rem] rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 text-[1.4rem] font-medium transition-colors",onClick:()=>e(),children:"ng"})})]})}function Kfe(){const[t,e]=T.useState({open:!1,data:null,action:"create"}),[n,r]=T.useState({open:!1,data:null}),[s,i]=T.useState({name:"",voucherCode:"",status:null}),[a,l]=T.useState({open:!1,dataDetail:null}),{data:c,isLoading:u,refetch:d}=De({queryKey:["vouchers",s],queryFn:()=>FR(s)}),f=c?.data||[],{register:p,handleSubmit:g,formState:{errors:x,isSubmitting:v},watch:b,reset:w}=Hs(),N=b("type");T.useEffect(()=>{t.data&&t.action==="edit"&&w({id:t.data.id,name:t.data.name,value:t.data.value,type:t.data.type,maxDiscount:t.data.maxDiscount||void 0,minOrderValue:t.data.minOrderValue||void 0,endDate:Zr(t.data.endDate).format("YYYY-MM-DD"),usageLimit:t.data.usageLimit||void 0})},[t,w]);const C=async A=>{try{const P={name:A.name,type:A.type,value:A.value,maxDiscount:A.maxDiscount||0,minOrderValue:A.minOrderValue||0,endDate:new Date(A.endDate).toISOString(),usageLimit:A.usageLimit||0};let E=null;t.action==="create"?E=await he.post("/api/v1/voucher/createGlobal",P):E=await he.patch(`/api/v1/voucher/updateGlobal/${A.id}`,P),E.status&&(ce.success(E.message),d(),w(),e({open:!1,data:null,action:"create"}))}catch(P){ce.error(P?.response?.data?.message||"C li xy ra khi to voucher")}},M=()=>{d()},j=A=>{const{name:P,value:E}=A.target;i(_=>({..._,[P]:E}))};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-12rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsxs("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:[o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"Qun l Voucher ton cc"}),o.jsx("div",{className:"flex items-center gap-[1.5rem]",children:o.jsxs("button",{onClick:()=>e({open:!0,data:null,action:"create"}),className:"text-white text-[1.4rem] flex gap-2 items-center px-6 py-3 bg-blue-500 rounded-lg hover:bg-blue-600",children:[o.jsx(z,{icon:Au}),"To voucher ton cc"]})})]}),o.jsx("div",{className:"mt-[2rem]",children:t.open?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{w({name:"",value:void 0,type:void 0,maxDiscount:void 0,minOrderValue:void 0,endDate:"",usageLimit:void 0}),e({open:!1,data:null,action:"create"})},className:"text-[1.4rem] text-gray-500 hover:text-gray-800 flex items-center gap-2 mb-6",children:[o.jsx(z,{icon:yi}),"Quay li danh sch"]}),o.jsx("h4",{className:"text-[1.8rem] font-semibold mb-6",children:"To Voucher Ton Cc"}),o.jsxs("form",{onSubmit:g(C),children:[o.jsx("div",{className:"border border-gray-300 rounded-lg p-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Tn voucher *"}),o.jsx("input",{type:"text",...p("name",{required:"Vui lng nhp tn voucher"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: Gim 50k cho n t 300k"}),x.name&&o.jsx("span",{className:"text-red-500 text-sm",children:x.name.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Loi gim gi *"}),o.jsxs("select",{...p("type",{required:"Vui lng chn loi"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",children:[o.jsx("option",{value:"",children:"-- Chn loi --"}),o.jsx("option",{value:ai.PERCENT,children:"Gim theo phn trm"}),o.jsx("option",{value:ai.FIXED,children:"Gim gi c nh"})]}),x.type&&o.jsx("span",{className:"text-red-500 text-sm",children:x.type.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gi tr gim *"}),o.jsx("input",{type:"number",...p("value",{required:"Vui lng nhp gi tr",min:{value:1,message:"Gi tr phi  1"},max:N===ai.PERCENT?{value:100,message:"Ti a 100%"}:void 0}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 focus:border-blue-500 outline-none",placeholder:N===ai.PERCENT?"VD: 20":"VD: 50000"}),x.value&&o.jsx("span",{className:"text-red-500 text-sm",children:x.value.message})]}),N===ai.PERCENT&&o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gim ti a (VN)"}),o.jsx("input",{type:"number",...p("maxDiscount"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"VD: 100000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"n ti thiu (VN)"}),o.jsx("input",{type:"number",...p("minOrderValue"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Ngy ht hn *"}),o.jsx("input",{type:"date",...p("endDate",{required:"Vui lng chn ngy"}),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500"}),x.endDate&&o.jsx("span",{className:"text-red-500 text-sm",children:x.endDate.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:"Gii hn s dng (tng)"}),o.jsx("input",{type:"number",...p("usageLimit"),className:"w-full h-[4rem] rounded-md border border-gray-300 px-4 outline-none focus:border-blue-500",placeholder:"0 = khng gii hn"})]}),o.jsx("input",{type:"number",hidden:!0,...p("id")})]})}),o.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>{e({open:!1,data:null,action:"create"}),w()},className:"px-8 py-3 bg-gray-200 hover:bg-gray-300 rounded-lg",disabled:v,children:"Hy"}),o.jsx("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg disabled:opacity-50",children:v?"ang x l...":"To voucher ton cc"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[o.jsx("input",{type:"text",name:"name",value:s.name,placeholder:"Tm theo tn voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:j}),o.jsx("input",{type:"text",name:"voucherCode",value:s.voucherCode,placeholder:"Tm theo m voucher...",className:"w-80 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:j}),o.jsxs("select",{name:"status",value:s.status??"",className:"w-64 h-[4rem] rounded-md border border-gray-300 px-4 outline-none",onChange:j,children:[o.jsx("option",{value:"",children:"-- Tt c trng thi --"}),o.jsx("option",{value:ii.ACTIVE,children:"Hot ng"}),o.jsx("option",{value:ii.INACTIVE,children:" dng"})]}),o.jsxs("button",{onClick:M,className:"px-8 h-[4rem] rounded-md bg-blue-500 text-white hover:bg-blue-600 flex items-center gap-2",children:[o.jsx(z,{icon:Ss}),"Lc"]})]}),o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4",children:"Tn voucher"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Loi gim"}),o.jsx("th",{className:"text-left px-6 py-4",children:"Ht hn"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Trng thi"}),o.jsx("th",{className:"text-center px-6 py-4",children:"Hnh ng"})]})}),o.jsx("tbody",{children:u?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8",children:"ang ti..."})}):f.length>0?f.map(A=>o.jsxs("tr",{className:"border-b border-b-gray-300",children:[o.jsx("td",{className:"px-6 py-4",children:A.name}),o.jsx("td",{className:"px-6 py-4",children:A.type===ai.PERCENT?"Phn trm":"Gi c nh"}),o.jsx("td",{className:"px-6 py-4",children:Zr(A.endDate).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`px-6 py-1.5 rounded-full ${A.status===ii.ACTIVE?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.status===ii.ACTIVE?"Hot ng":" dng"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>{r({open:!0,data:A})},className:`px-6 py-1.5 rounded-md ${A.status===ii.ACTIVE?"bg-gray-200 hover:bg-gray-300":"bg-green-500 text-white hover:bg-green-600"}`,children:A.status===ii.ACTIVE?"Tt":"Bt"}),o.jsx("button",{className:"px-6 py-1.5 bg-amber-500 text-white rounded-md hover:bg-amber-600",onClick:()=>{e({open:!0,data:A,action:"edit"})},children:"Sa"}),o.jsx("button",{className:"px-6 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>{l({open:!0,dataDetail:A})},children:"Chi tit"})]})})]},A.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"Khng c voucher no"})})})]})]})}),o.jsx(Wfe,{open:n.open,onClose:()=>{r({open:!1,data:null})},data:n.data,refetch:d}),o.jsx(qfe,{open:a.open,dataDetail:a.dataDetail,onClose:()=>l({open:!1,dataDetail:null})})]})}function Gfe(){return o.jsx("div",{children:"FavoriteProduct"})}function Yfe(){const{data:t,isLoading:e,refetch:n}=De({queryKey:["getSavedVouchers"],queryFn:()=>GS()}),[r,s]=T.useState(""),i=Ze(),[a,l]=T.useState("AVAILABLE"),[c,u]=T.useState({open:!1,content:"",isSuccess:!1}),f=(t&&t.data)?.filter(g=>a==="ALL"?!0:g.state===a),p=async g=>{try{(await he.post(`/api/v1/voucher/save-voucher/${g}`)).status&&(u({open:!0,content:"Lu m thnh cng!",isSuccess:!0}),await n())}catch(x){console.log(x),u({open:!0,content:x.message,isSuccess:!1})}};return o.jsxs("div",{className:"p-[1rem] md:p-[2rem]",children:[o.jsx("h4",{className:"text-[1.4rem] md:text-[1.8rem] text-gray-800",children:"Kho Voucher ca ti"}),o.jsx("div",{className:"w-full py-6 md:py-8 bg-gray-100 flex items-center justify-center mt-4 px-4",children:o.jsxs("div",{className:"w-full max-w-4xl flex flex-col md:flex-row items-center gap-4 md:gap-6 md:space-x-4",children:[o.jsx("p",{className:"text-[1.4rem] md:text-[1.6rem] w-full md:w-auto text-center md:text-left",children:"M voucher"}),o.jsx("input",{type:"text",id:"voucher",name:"voucher",value:r,className:"w-full md:flex-1 bg-white h-[3.5rem] md:h-[4rem] rounded-md border border-gray-300 outline-none focus:border-cyan-400 px-[1.2rem] md:px-[1.5rem] text-[1.4rem]",placeholder:"Nhp m voucher...",onChange:g=>s(g.target.value)}),o.jsx("button",{className:`w-full md:w-auto h-[3.5rem] md:h-[4rem] px-6 md:px-8 rounded-md ${r===""?"bg-gray-200 text-gray-400":"bg-red-500 text-white hover:bg-red-600"} transition-colors duration-300 text-[1.4rem]`,onClick:()=>p(r),disabled:r==="",children:"Lu voucher"})]})}),o.jsx("div",{className:"flex flex-wrap gap-3 my-6 md:my-8",children:["ALL","AVAILABLE","USED","EXPIRED"].map(g=>o.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 md:px-6 md:py-2 rounded-lg transition-colors text-[1.2rem] md:text-[1.4rem] ${a===g?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g==="ALL"?"Tt c":g==="AVAILABLE"?"Kh dng":g==="USED"?" dng":"Ht hn"},g))}),o.jsx(o.Fragment,{children:e?o.jsx("div",{className:"text-center py-8 text-[1.4rem]",children:"ang ti d liu..."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-[1.5rem] md:gap-[2rem]",children:f?.map(g=>{const x=["USED","EXPIRED"].includes(g.state);return o.jsxs("div",{className:`flex flex-col md:flex-row items-center bg-gradient-to-r ${x?"from-gray-400 to-gray-500":"from-pink-500 to-violet-600"} rounded-2xl p-4 md:p-6 text-white shadow-lg relative overflow-hidden`,children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute z-0 -top-6 -right-6 w-28 h-28 md:-top-10 md:-right-10 md:w-40 md:h-40 bg-white rounded-full"}),o.jsx("div",{className:"absolute z-0 -bottom-6 -left-6 w-36 h-36 md:-bottom-10 md:-left-10 md:w-56 md:h-56 bg-white rounded-full"})]}),o.jsxs("div",{className:"relative z-10 mb-4 md:mb-0",children:[o.jsx("h3",{className:"text-[1.2rem] md:text-[1.4rem] font-bold mb-2 select-none line-clamp-2",children:g.name}),o.jsx("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:o.jsx("div",{className:"bg-white/20 text-[1.2rem] md:text-[1.4rem] backdrop-blur-sm px-4 py-2 md:px-6 md:py-3 rounded-xl font-mono font-bold tracking-wider truncate max-w-[180px] md:max-w-none",children:g.voucherCode})}),o.jsxs("div",{className:"text-[1.6rem] md:text-[2.2rem] font-extrabold mb-1 md:mb-2",children:["Gim"," ",g.type==="PERCENT"?`${g.value}%`:`${g.value}`,g.maxDiscount&&o.jsxs("span",{className:"text-[1rem] md:text-[1.2rem] font-normal ml-1 md:ml-2 block md:inline",children:["(Ti a ",g.maxDiscount.toLocaleString(),")"]})]}),g.usedAt&&o.jsxs("div",{className:"text-[1.1rem] md:text-[1.2rem] opacity-90 mt-1",children:[" s dng: ",new Date(g.usedAt).toLocaleDateString("vi-VN")]})]})]}),o.jsx("div",{className:"relative z-[100] mt-4 md:mt-0 md:ml-auto w-full md:w-auto",children:o.jsx("button",{type:"button",className:`w-full md:w-auto px-6 py-3 md:px-8 md:py-4 rounded-xl ${x?"bg-gray-400":"border bg-white border-red-500 text-red-600 hover:border-red-600 hover:text-red-700"} transition-colors duration-300 text-[1.3rem] md:text-[1.4rem] cursor-pointer`,disabled:x,onClick:()=>{x||i("/")},children:g.usedAt?" s dng":"Dng ngay"})})]},g.id)})})}),o.jsx(Ru,{showNotify:c.open,duration:1e3,onClose:()=>u({open:!1,content:"",isSuccess:!1}),isSuccess:c.isSuccess,content:c.content})]})}const Xfe=[{label:"Danh sch khch hng",to:"/dashboard/customers"},{label:"Khch  mua",to:"/dashboard/customers/purchased"},{label:"Khch cha mua",to:"/dashboard/customers/no-order"},{label:"Thng k",to:"/dashboard/customers/statistic"}];function Qfe(){const[t,e]=T.useState(""),n=Ze(),r=()=>{t.trim()?n({search:`?keyword=${encodeURIComponent(t.trim())}`}):n({search:""})},s=i=>{i.key==="Enter"&&r()};return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:"Qun l khch hng thnh vin"}),o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:s,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:i=>e(i.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>r(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:Xfe.map(i=>o.jsx(Xw,{to:i.to,end:!0,className:({isActive:a})=>`pb-3 px-8 font-medium transition duration-300
                ${a?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:i.label},i.to))}),o.jsx("div",{children:o.jsx(Ql,{})})]})}const aj=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return console.log(e),await he.get("/api/v1/customer/get-customer",{params:e})},Jfe=async t=>(await he.get(`/api/v1/customer/by-id/${t}`)).data,Zfe=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await he.get("/api/v1/orders/guests",{params:e})},eme=async t=>(await he.get("/api/v1/orders/guest-by-email",{params:{guestEmail:t}})).data,tme=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await he.get("/api/v1/orders/statistic-guest",{params:e})},nme=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await he.get("/api/v1/orders/statistic-guest/top-guest",{params:e})).data},rme=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return await he.get("/api/v1/customer/statistic",{params:e})},sme=async t=>{const e=Object.fromEntries(Object.entries(t).filter(([r,s])=>s!==null&&s!==""));return(await he.get("/api/v1/customer/statistic/top-customer",{params:e})).data};function oj({customers:t,isLoading:e}){const n=Ze();return o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:e?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):t.length>0?t.map((r,s)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:s+1}),o.jsx("td",{className:"px-6 py-4",children:r.user.username}),o.jsx("td",{className:"px-6 py-4",children:r.user.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:r.user.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:r.user.orders.length}),o.jsx("td",{className:"px-6 py-4 text-center",children:Zr(r.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/detail-customer/${r.customerCode}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng ID: ${r.id}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},r.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]})})}function ime(){const[t]=Ni(),e=t.get("keyword")||"",[n,r]=T.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=De({queryKey:["customers",e,n],queryFn:()=>aj({keyword:e,page:n,limit:s})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(oj,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]})]})}function ame(){const[t]=Ni(),e=t.get("keyword")||"",[n,r]=T.useState(1),s=30,{data:i,isLoading:a,isError:l,refetch:c}=De({queryKey:["customers","PURCHASED",e,n],queryFn:()=>aj({keyword:e,page:n,limit:s,state:"PURCHASED"})}),u=i?.data||[],d=i?.pagination?.totalPages||1;return a?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):l?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>c(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(oj,{customers:u,isLoading:a}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(f=>Math.max(f-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:d},(f,p)=>p+1).filter(f=>Math.abs(f-n)<=2).map(f=>o.jsx("button",{onClick:()=>r(f),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===f?"bg-blue-500 text-white":"bg-gray-200"}`,children:f},f)),o.jsx("button",{onClick:()=>r(f=>Math.min(f+1,d)),disabled:n===d,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]})]})}function ome(){const[t]=Ni(),e=t.get("keyword")||"",[n,r]=T.useState(1),{data:s,isLoading:i,isError:a,refetch:l}=De({queryKey:["customers",e,n],queryFn:()=>aj({keyword:e,page:n,limit:30,state:"NO_ORDER"})}),c=s?.data||[],u=s?.pagination?.totalPages||1;return i?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):a?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>l(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{children:[o.jsx(oj,{customers:c,isLoading:i}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>r(d=>Math.max(d-1,1)),disabled:n===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:u},(d,f)=>f+1).filter(d=>Math.abs(d-n)<=2).map(d=>o.jsx("button",{onClick:()=>r(d),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${n===d?"bg-blue-500 text-white":"bg-gray-200"}`,children:d},d)),o.jsx("button",{onClick:()=>r(d=>Math.min(d+1,u)),disabled:n===u,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]})]})}function lme(){const t=Ze(),[e,n]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=T.useState({startDate:"",endDate:""}),[i,a]=T.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=De({queryKey:["statistic",i],queryFn:()=>rme(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=De({queryKey:["customerTop"],queryFn:()=>sme(r)}),v=j=>{const A=j.target.value;A&&n(P=>({...P,groupBy:A}))},b=j=>{const{name:A,value:P}=j.target;n(E=>({...E,[A]:P}))},w=j=>{const{name:A,value:P}=j.target;s(E=>({...E,[A]:P}))},N=()=>{a(e)},C=()=>{s(r),x()},M=j=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(z,{icon:Ss}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>N(),children:[o.jsx(z,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(z,{icon:jN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((j,A)=>j+A.totalCustomers,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((j,A)=>j+A.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:M(f.reduce((j,A)=>j+A.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:M(f.reduce((j,A)=>j+A.totalRevenue,0)/f.reduce((j,A)=>j+A.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((j,A)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(j.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):j.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalCustomers}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:M(j.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:M(j.avgOrderValue)})]},A))})]}),o.jsxs("div",{className:"w-[60rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>C(),children:[o.jsx(z,{icon:Ss}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(j=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/detail-customer/${j.customerCode}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:j.fullName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:j.email}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:M(j.totalRevenue)})]},j.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}function cme(){const{customerCode:t}=wi(),e=Ze(),{data:n,isLoading:r,isError:s}=De({queryKey:["customer-detail",t],queryFn:()=>Jfe(t)});if(r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=u=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u),c=n.user?.address?.find(u=>u.isDefault);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(z,{icon:yi}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tn ti khon:"})," ",i?.username||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy ng k:"})," ",Zr(n.createdAt).format("DD/MM/YYYY HH:mm")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Ngy sinh:"})," ",n?.birthday??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tnh:"})," ",c.province??"Cha cp nht"," "]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Qun:"})," ",c.district??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Huyn:"})," ",c.ward??"Cha cp nht"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch chi tit:"})," ",c.addressDetail??"Cha cp nht"]})]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),a.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:a.map(u=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:u.orderCode}),o.jsx("td",{className:"px-4 py-5",children:Zr(u.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:PA(u.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(u.totalAmount)})]},u.id))})]}):o.jsx("p",{className:"text-gray-500 text-center",children:"Khch hng cha c n hng no"})]})]})}function h8(){const t=Ze(),[e,n]=T.useState({startDate:"",endDate:"",groupBy:"day"}),[r,s]=T.useState({startDate:"",endDate:""}),[i,a]=T.useState(e),{data:l,isLoading:c,isError:u,refetch:d}=De({queryKey:["statisticGuest",i],queryFn:()=>tme(i)}),f=l&&l.data,{data:p,isLoading:g,refetch:x}=De({queryKey:["statisticGuest"],queryFn:()=>nme(r)}),v=j=>{const A=j.target.value;A&&n(P=>({...P,groupBy:A}))},b=j=>{const{name:A,value:P}=j.target;n(E=>({...E,[A]:P}))},w=j=>{const{name:A,value:P}=j.target;s(E=>({...E,[A]:P}))},N=()=>{a(e)},C=()=>{s(r),x()},M=j=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j);return c?o.jsx("div",{className:" py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti d liu..."})]})}):u?o.jsx("div",{className:"py-20",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("p",{className:"text-gray-700 font-medium mb-4",children:"Khng th ti d liu"}),o.jsx("button",{onClick:()=>d(),className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Th li"})]})}):o.jsxs("div",{className:"p-[1rem] rounded-2xl w-full min-h-[calc(100vh-10rem)]",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-8",children:[o.jsxs("h2",{className:"mb-4 flex items-center space-x-2",children:[o.jsx(z,{icon:Ss}),o.jsx("span",{children:"B lc thng k"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:b,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"groupby",className:"block font-medium text-gray-700 mb-2",children:"Hin th theo"}),o.jsxs("select",{name:"groupby",id:"groupby",value:e.groupBy,onChange:v,className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition bg-white",children:[o.jsx("option",{value:"day",children:"Ngy"}),o.jsx("option",{value:"week",children:"Tun"}),o.jsx("option",{value:"month",children:"Thng"}),o.jsx("option",{value:"year",children:"Nm"})]})]}),o.jsxs("div",{className:"flex items-end gap-4",children:[o.jsxs("button",{className:"w-[15rem] h-[4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>N(),children:[o.jsx(z,{icon:Dr}),o.jsx("span",{children:"p dng"})]}),o.jsx("button",{className:"h-[4rem] px-4 bg-gray-200 rounded-lg hover:bg-gray-300 transition font-medium flex items-center justify-center cursor-pointer",title:"Reset b lc",onClick:()=>a({endDate:"",startDate:"",groupBy:"day"}),children:o.jsx(z,{icon:jN})})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng khch"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.reduce((j,A)=>j+A.totalGuests,0)})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng n hng"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.reduce((j,A)=>j+A.totalOrders,0)})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:M(f.reduce((j,A)=>j+A.totalRevenue,0))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center shadow-md",children:[o.jsx("p",{className:"text-gray-600",children:"Gi tr TB/n"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:M(f.reduce((j,A)=>j+A.totalRevenue,0)/f.reduce((j,A)=>j+A.totalOrders,0)||0)})]})]}),f&&f.length>0?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6",children:["Thng k khch vng lai theo"," ",e.groupBy==="day"?"ngy":e.groupBy==="week"?"tun":e.groupBy==="month"?"thng":"nm"]}),o.jsxs("div",{className:"overflow-x-auto flex xl:flex-row flex-col items-start gap-[2rem]",children:[o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-[1.4rem] font-medium",children:"Chu k"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S khch"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"S n hng"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Doanh thu"}),o.jsx("th",{className:"px-6 py-4 text-center text-[1.4rem] font-medium",children:"Gi tr TB/n"})]})}),o.jsx("tbody",{children:f.map((j,A)=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:e.groupBy==="DAY"?new Date(j.period).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):j.period}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalGuests}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem]",children:j.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-green-600",children:M(j.totalRevenue)}),o.jsx("td",{className:"px-6 py-4 text-center text-[1.4rem] font-medium text-blue-600",children:M(j.avgOrderValue)})]},A))})]}),o.jsxs("div",{className:"w-[45rem] h-[40rem] p-[2rem] border border-gray-300 shadow-md rounded-md",children:[o.jsx("h3",{className:"text-center text-blue-600 mb-6",children:"Top khch vng lai c doanh thu cao"}),o.jsxs("div",{className:"flex items-end space-x-4 shadow-md p-4 border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block font-medium text-gray-700 mb-2",children:"T ngy"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"endDate",className:"block font-medium text-gray-700 mb-2",children:"n ngy"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:w,className:"w-full h-[3.4rem] text-[1.4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"})]}),o.jsxs("button",{className:"px-6 h-[3.4rem] text-[1.4rem] space-x-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center",onClick:()=>C(),children:[o.jsx(z,{icon:Ss}),o.jsx("span",{children:"Lc"})]})]}),o.jsxs("table",{className:"flex-1 w-full table-auto border-collapse mt-8",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"H tn"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-start text-[1.4rem] font-medium",children:"Doanh thu"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:5,children:"ang ti d liu..."})}):o.jsx(o.Fragment,{children:p?.length>0?p.map(j=>o.jsxs("tr",{className:"border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition",onClick:()=>t(`/dashboard/guest-detail/${j.customerEmail}`),children:[o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-gray-900",children:j.customerName}),o.jsx("td",{className:"px-6 py-4 text-start text-[1.4rem] font-medium text-gray-900",children:j.customerEmail}),o.jsx("td",{className:"px-6 py-4 text-[1.4rem] font-medium text-blue-600",children:M(j.totalRevenue)})]},j.customerEmail)):o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"text-center",children:"Khng c d liu"})})})})]})]})]})]}):o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Khng c d liu trong khong thi gian  chn"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Hy th thay i b lc"})]})]})}const ume=[{label:"Danh sch khch hng",to:"/dashboard/guest-customers"},{label:"Thng k",to:"/dashboard/guest-customers/statistic"}];function dme(){const[t,e]=T.useState(""),n=Ze(),s=ir().pathname==="/dashboard/guest-customers",[i,a]=T.useState({limit:30,page:1,keyword:""}),l=()=>{a(g=>({...g,keyword:t}))},c=g=>{g.key==="Enter"&&l()},{data:u,isLoading:d}=De({queryKey:["guestCustomers",i],queryFn:()=>Zfe(i)}),f=u&&u.data,p=u?.pagination?.totalPages||1;return o.jsxs("div",{className:"p-[2rem] bg-white rounded-2xl w-full min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("h4",{className:"text-[2rem] font-bold mb-8",children:s?"Qun l khch hng vng lai":"Thng k khch hng vng lai"}),s&&o.jsxs("div",{className:"space-x-6 mb-8",children:[o.jsx("input",{type:"text",id:"search",placeholder:"Nhp tn, st khch hng...",value:t,onKeyDown:c,className:"w-[35rem] h-[4rem] rounded-md outline-none border border-gray-400 px-[1.5rem]",onChange:g=>e(g.target.value)}),o.jsx("button",{className:"w-[10rem] h-[4rem] rounded-md bg-blue-500 hover:bg-blue-600 cursor-pointer text-white",onClick:()=>l(),children:"Tm kim"})]}),o.jsx("div",{className:"flex border-b border-b-gray-300 mb-6",children:ume.map(g=>o.jsx(Xw,{to:g.to,end:!0,className:({isActive:x})=>`pb-3 px-8 font-medium transition duration-300
                ${x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:g.label},g.to))}),s?o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full table-auto text-[1.4rem] rounded-lg shadow-lg bg-white",children:[o.jsx("thead",{className:"bg-gray-100 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"H tn"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"S in thoi"}),o.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Tng n mua"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Ngy to"}),o.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Hnh ng"})]})}),o.jsx("tbody",{children:d?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:o.jsxs("div",{className:"flex justify-center items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"ang ti d liu..."]})})}):f.length>0?f.map((g,x)=>o.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 text-start",children:x+1}),o.jsx("td",{className:"px-6 py-4",children:g.fullName}),o.jsx("td",{className:"px-6 py-4",children:g.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:g.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:g.totalOrders}),o.jsx("td",{className:"px-6 py-4 text-center",children:Zr(g.createdAt).format("DD/MM/YYYY")}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:()=>n(`/dashboard/guest-detail/${g.email}`),className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:"Chi tit"}),o.jsx("button",{onClick:()=>alert(`Tng voucher cho khch hng: ${g.fullName}`),className:"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition",children:"Tng voucher"})]})})]},g.email)):o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-12 text-gray-500",children:"Khng c khch hng no ph hp"})})})]}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.max(g.page-1,1)})),disabled:i.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:p},(g,x)=>x+1).filter(g=>Math.abs(g-i.page)<=2).map(g=>o.jsx("button",{onClick:()=>a(x=>({...x,page:g})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-gray-300 ${i.page===g?"bg-blue-500 text-white":"bg-gray-200"}`,children:g},g)),o.jsx("button",{onClick:()=>a(g=>({...g,page:Math.min(g.page+1,p)})),disabled:i.page===p,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]})]}):o.jsx(h8,{})]})}function hme(){const{guestEmail:t}=wi(),e=Ze(),{data:n,isLoading:r,isError:s}=De({queryKey:["guestDetail",t],queryFn:()=>eme(t)});if(console.log(n),r)return o.jsx("div",{className:"text-center py-12",children:"ang ti chi tit khch hng..."});if(s||!n)return o.jsx("div",{className:"text-center py-12 text-red-500",children:"Khng tm thy khch hng"});const i=n.user,a=i?.orders||[],l=c=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c);return o.jsxs("div",{className:"p-8 bg-white rounded-2xl min-h-[calc(100vh-10rem)] shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h2",{className:"text-[2rem] font-bold text-blue-600",children:"Chi tit khch hng"})}),o.jsxs("button",{onClick:()=>e(-1),className:"px-8 py-2 bg-gray-100 space-x-2 rounded-md hover:bg-gray-200 mb-8",children:[o.jsx(z,{icon:yi}),o.jsx("span",{children:"Quay li"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin c bn"}),o.jsxs("div",{className:"space-y-5 text-[1.4rem]",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.fullName||"Cha c"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"S in thoi:"})," ",n.phone||i?.phone||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email||i?.email||"-"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Tng n hng:"})," ",a.length," n"]})]})]}),o.jsxs("div",{className:"border border-gray-300 p-8 shadow-md rounded-md",children:[o.jsx("h3",{className:"font-semibold mb-4 text-blue-500",children:"Thng tin b sung"}),o.jsx("div",{className:"space-y-5 text-[1.4rem]",children:o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"a ch:"})," ",n?.address]})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold mb-4 text-blue-500",children:["Lch s n hng (",a.length,")"]}),n.orders.length>0?o.jsxs("table",{className:"w-full table-auto border-collapse text-[1.4rem]",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-5 text-left",children:"M n"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"H tn"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"S in thoi"}),o.jsx("th",{className:"px-4 py-5 text-left",children:"Ngy t"}),o.jsx("th",{className:"px-4 py-5 text-center",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-5 text-right",children:"Tng tin"})]})}),o.jsx("tbody",{children:n.orders.map(c=>o.jsxs("tr",{className:"border-b border-b-gray-300 hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-5",children:c.orderCode}),o.jsx("td",{className:"px-4 py-5",children:c.customerName}),o.jsx("td",{className:"px-4 py-5",children:c.customerPhone}),o.jsx("td",{className:"px-4 py-5",children:Zr(c.createdAt).format("HH:mm DD/MM/YYYY")}),o.jsx("td",{className:"px-4 py-5 text-center",children:o.jsx("span",{className:"px-3 py-1 rounded-full",children:PA(c.status).text||"ang x l"})}),o.jsx("td",{className:"px-4 py-5 text-right font-medium",children:l(c.totalAmount)})]},c.id))})]}):o.jsx("p",{className:"text-gray-500 mt-16 text-center",children:"Khch hng cha c n hng no"})]})]})}function fme({open:t,onClose:e,setSelectedPro:n,selectedPro:r,setValue:s}){const[i,a]=T.useState({page:1,limit:20,productName:"",categoryId:void 0}),[l,c]=T.useState(i),[u,d]=T.useState([]),{data:f,isLoading:p}=De({queryKey:["products",l],queryFn:ux}),g=f&&f.data,{data:x=[]}=De({queryKey:["getAllCategory"],queryFn:ec});T.useEffect(()=>{r.length>0&&d(r)},[r]);const v=N=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(N),b=()=>{n(u);const N=u.map(C=>({productId:C.id,quantity:1,limit:1,origin_price:C.price}));s("flashSaleProducts",N),e()},w=()=>{c({...i})};return o.jsxs(bt,{open:t,className:"relative w-[60rem] h-auto bg-white rounded-[1rem] shadow-xl p-[2rem] text-[1.4rem]",children:[o.jsx("div",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center rounded-full hover:bg-gray-200 cursor-pointer",onClick:()=>{e()},children:o.jsx(z,{icon:Un,className:"text-gray-500"})}),o.jsx("div",{className:"border-gray-200",children:o.jsx("h3",{className:"text-[1.8rem] text-center border-b border-b-gray-300 pb-4 font-semibold",children:"Chn sn phm"})}),o.jsxs("div",{className:"my-5 flex items-center space-x-4 text-[1.4rem]",children:[o.jsxs("div",{className:"relative w-[35rem]",children:[o.jsx("button",{type:"button",className:"absolute top-[50%] translate-y-[-50%] left-4",children:o.jsx(z,{icon:Dr,className:"text-gray-500"})}),o.jsx("input",{type:"text",id:"productName",placeholder:"Nhp tn san phm...",value:l.productName,className:"w-full border border-gray-300 h-[4rem] rounded-lg pr-4 pl-14 outline-none",onChange:N=>{a(C=>({...C,[N.target.name]:N.target.value}))}})]}),o.jsx("div",{className:"w-[35rem] flex flex-col gap-[.5rem]",children:o.jsxs("select",{name:"categoryId",id:"categoryId",className:"w-full h-[4rem] rounded-[.5rem] outline-none border text-gray-600 border-gray-300 pl-[1.5rem]",onChange:N=>a(C=>({...C,[N.target.name]:N.target.value})),children:[o.jsx("option",{value:"",children:"Tt c"}),x?.filter(N=>N.isActive).map(N=>o.jsx(dx,{category:N,allCategories:x,level:0},N.id))]})}),o.jsxs("button",{className:"px-6 h-[4rem] flex items-center space-x-2 bg-blue-500 rounded-lg text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>w(),children:[o.jsx(z,{icon:Ss}),"Loc"]})]}),o.jsxs("div",{className:"pb-6 overflow-y-auto max-h-[60vh]",children:[o.jsx("p",{className:"pb-6",children:"Danh sach san phm"}),p?o.jsx("div",{className:"text-center my-24",children:"ang tai san phm..."}):g.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map(N=>{const C=u.length>0&&u.find(M=>M.id===N.id);return o.jsxs("div",{className:"group relative rounded-lg border border-gray-200 hover:border-blue-200 hover:shadow-lg hover:shadow-blue-200 transition-all duration-300",children:[o.jsx("img",{src:N.mainImage,alt:`mainImage ${N.productName}`,className:"w-full h-[12rem] object-cover rounded-tl-lg rounded-tr-lg"}),o.jsxs("div",{className:"p-1.5",children:[o.jsx("p",{className:"text-[1.4rem] line-clamp-1",children:N.productName}),o.jsx("p",{className:"text-[1.2rem] text-red-500",children:v(N.price)})]}),o.jsx("div",{className:`${C?"":"opacity-0"} group-hover:opacity-[100] flex absolute inset-0 bg-[#32323256] items-center justify-center rounded-lg transition-opacity duration-300`,onClick:()=>d(M=>M.find(j=>j.id===N.id)?M.filter(j=>j.id!==N.id):[...M,N]),children:o.jsx("button",{className:"w-9 h-9 bg-white text-green-500 rounded-md",children:C?o.jsx(z,{icon:bo,className:"font-bold"}):o.jsx(o.Fragment,{})})})]},N.id)})}):o.jsx("div",{className:"text-center py-24",children:"Khng co san phm nao"}),o.jsxs("div",{className:"mt-[2rem] flex justify-center items-center space-x-4",children:[o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Trc"}),o.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg text-[1.2rem]",children:"1"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"2"}),o.jsx("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-[1.2rem] hover:bg-gray-50 transition-colors",children:"Sau"})]})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-200 flex justify-end gap-4",children:[o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{e()},children:"ng"}),o.jsx("button",{type:"button",className:"px-6 h-[4rem] text-[1.4rem] bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{b()},children:"Chon"})]})]})}function mM(){const{id:t}=wi(),e=t?"edit":"create",n=Ze(),[r,s]=T.useState(!1),{register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c},setValue:u,watch:d,reset:f}=Hs({defaultValues:{name:"",startDate:"",endDate:"",discount:"",description:"",bannerImage:null,flashSaleProducts:[]}}),[p,g]=T.useState(null),x=d("flashSaleProducts"),[v,b]=T.useState([]),[w,N]=T.useState([]);i("flashSaleProducts",{validate:E=>E.length>0||"Vui lng chn t nht 1 sn phm!"}),T.useEffect(()=>{t&&(async()=>{try{const _=await WR(Number(t));if(_.status&&_.data){const L=_.data;f({name:L.name,discount:L.discount,description:L.description,startDate:L.startDate.slice(0,10),endDate:L.endDate.slice(0,10),flashSaleProducts:L.flashSaleProduct.map(R=>({id:R.id,productId:R.product.id,quantity:R.quantity,limit:R.limit,origin_price:R.origin_price}))}),_.data.bannerImage&&g(_.data.bannerImage);const D=L.flashSaleProduct.map(R=>R.product);b(D)}}catch(_){console.log(_)}})()},[t,f]);const C=async E=>{if(x.length===0)return;const _=new Date(E.startDate).toISOString(),L=new Date(E.endDate).toISOString(),D=new FormData;D.append("name",E.name),D.append("description",E.description),D.append("startDate",_),D.append("endDate",L),D.append("discount",E.discount),e==="edit"&&w.length>0&&D.append("deletedIds",JSON.stringify(w));const R=E.flashSaleProducts.map(G=>({productId:G.productId,limit:G.limit,quantity:G.quantity,origin_price:G.origin_price}));D.append("flashSaleProducts",JSON.stringify(R)),E.bannerImage&&D.append("bannerImage",E.bannerImage);try{let G=null;e==="create"?G=await he.post("/api/v1/flashsale/create",D,{headers:{"Content-Type":"multipart/form-data"}}):G=await he.patch(`/api/v1/flashsale/${t}`,D,{headers:{"Content-Type":"multipart/form-data"}}),G.status&&(n("/dashboard/flashsale",{replace:!0}),f({name:"",startDate:"",endDate:"",discount:"",description:"",flashSaleProducts:[]}))}catch(G){console.log(G);const U=G;ce.error(U.message)}},M=E=>{if(E.target.files){const _=E.target.files[0];if(_){const L=URL.createObjectURL(_);g(L),u("bannerImage",_)}}},j=E=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(E),A=E=>{const _=x.find(D=>D.productId===E),L=x.filter(D=>D.productId!==E);u("flashSaleProducts",L),b(D=>D.filter(R=>R.id!==E)),e==="edit"&&_?.id&&N(D=>[...D,_.id])},P=(E,_)=>{const L=x?.map(D=>_===D.productId?{...D,quantity:E==="incre"?++D.quantity:Math.max(1,--D.quantity)}:D);u("flashSaleProducts",L)};return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex justify-between items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>n("/dashboard/flashsale"),children:o.jsx(z,{icon:yi,className:"text-[1.8rem] text-gray-600"})}),o.jsx("h3",{className:"text-[2rem] font-semibold text-gray-600",children:"To Flash Sale Mi"})]})}),o.jsx("div",{className:"mt-[2rem]",children:o.jsxs("form",{onSubmit:a(C),children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-6",children:"Thng tin chng trnh"}),o.jsxs("label",{htmlFor:"bannerImage",className:"w-full h-[25rem] flex items-center justify-center rounded-xl border border-dashed border-gray-400 cursor-pointer text-[1.4rem] group",children:[p?o.jsxs("div",{className:"w-full h-full rounded-xl relative",children:[o.jsx("img",{src:p,alt:"bannerImage",className:"w-full h-full object-cover rounded-xl"}),o.jsxs("div",{className:"opacity-0 group-hover:opacity-[100] flex items-center text-[1.8rem] justify-center absolute inset-0 bg-[#2f2f2f56] text-white transition-discrete duration-300",children:[o.jsx(z,{icon:Bs}),"Thay i"]})]}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"w-14 h-14 rounded-full border border-dashed border-gray-400 flex justify-center items-center",children:o.jsx(z,{icon:Qr,className:"text-gray-500"})}),o.jsx("span",{children:"Thm nh"})]}),o.jsx("input",{type:"file",className:"hidden",id:"bannerImage",onChange:E=>M(E),disabled:c})]}),o.jsxs("div",{className:"my-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Tn chng trnh ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"Nhp tn chng trnh flash sale",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("name",{required:"Vui long nhp tn flashsale!"})}),l.name&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.name?.message})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Phn trm gim gi (%)"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",placeholder:"Nhp phn trm gim gi",min:"1",max:"100",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("discount",{required:"Vui long nhp tn giam gia!"})}),l.discount&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.discount?.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:"M t"}),o.jsx("textarea",{placeholder:"Nhp m t chi tit v chng trnh",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500 resize-none",...i("description")})]})]}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700 mb-4",children:"Thi gian p dng"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy bt u ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("startDate",{required:"Vui long nhp ngay bt u!"})}),l.startDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.startDate?.message})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] font-medium text-gray-700 mb-2",children:["Ngy kt thc ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",className:"w-full px-4 h-[4rem] border border-gray-300 rounded-lg text-[1.4rem] focus:outline-none focus:border-blue-500",...i("endDate",{required:"Vui long nhp ngay kt thuc!"})}),l.endDate&&o.jsx("p",{className:"text-[1.4rem] text-red-500",children:l.endDate?.message})]})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-[1.6rem] font-semibold text-gray-700",children:"Sn phm p dng"}),o.jsxs("button",{className:"text-white text-[1.4rem] flex gap-2 items-center px-4 h-[3.5rem] bg-green-500 rounded-lg hover:bg-green-600 transition-colors",onClick:()=>s(!0),type:"button",disabled:c,children:[o.jsx(z,{icon:ha}),"Thm sn phm"]})]}),l.flashSaleProducts&&o.jsx("p",{className:"text-red-500 text-[1.3rem]",children:l.flashSaleProducts.message}),o.jsx("div",{className:"space-y-3 max-h-[50rem] overflow-y-auto",children:v?.length>0?v?.map(E=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:E.mainImage,alt:`mainImage ${E.productName}`,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] font-medium text-gray-800",children:E.productName}),o.jsx("p",{className:"text-[1.3rem] text-gray-600",children:j(E.price)})]})]}),o.jsx("button",{onClick:()=>A(E.id),className:"p-4 text-red-500 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(z,{icon:c2,className:"text-[1.8rem]"})})]}),o.jsxs("div",{className:"p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"S lng sn phm:"}),o.jsxs("div",{className:"flex items-center space-x-4 ",children:[o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>P("decre",E.id),children:"-"}),o.jsx("input",{type:"number",id:"quantity",className:"max-w-22 outline-none h-9 border border-gray-400 rounded-md text-[1.4rem] px-2",value:x?.find(_=>_.productId===E.id)?.quantity??1,onChange:_=>{const L=x.map(D=>D.productId===E.id?{...D,quantity:Number(_.target.value)}:D);u("flashSaleProducts",L)}}),o.jsx("span",{className:"w-9 h-9 rounded-md flex items-center justify-center border border-gray-400 cursor-pointer select-none",onClick:()=>P("incre",E.id),children:"+"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-[1.4rem]",children:[o.jsx("span",{children:"Gii hn s lng mi khch mua sn phm:"}),o.jsx("input",{type:"number",id:"limit",className:"h-9 min-w-10 max-w-25 border border-gray-400 rounded-md outline-none px-2",value:x.find(_=>_.productId===E.id)?.limit??1,max:10,onChange:_=>{const L=x.map(D=>({...D,limit:D.productId===E.id?Number(_.target.value):D.limit}));u("flashSaleProducts",L)}})]})]})]},E.id)):o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("p",{className:"text-[1.4rem]",children:"Cha c sn phm no c chn"}),o.jsx("p",{className:"text-[1.3rem] mt-2",children:'Nhn "Thm sn phm"  bt u'})]})})]})})]}),o.jsx("div",{className:"flex justify-end items-center border-b-[.1rem] border-b-gray-300 pb-[2rem]",children:o.jsxs("div",{className:"flex items-center gap-[1.5rem]",children:[o.jsx("button",{type:"button",className:"text-gray-600 text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>n("/dashboard/flashsale"),disabled:c,children:"Hy"}),o.jsxs("button",{type:"submit",className:"text-white text-[1.4rem] flex gap-2 items-center px-6 h-[4rem] bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",disabled:c,children:[o.jsx(z,{icon:yG}),c?"ang x l...":"Lu Flash Sale"]})]})})]})}),r&&o.jsx(fme,{open:r,onClose:()=>s(!1),setSelectedPro:b,selectedPro:v,setValue:u})]})}function mme(){const{id:t}=wi(),e=Ze(),{data:n,isLoading:r,error:s}=De({queryKey:["flashSale",t],queryFn:()=>WR(Number(t)),enabled:!!t}),i=n&&n.data;if(r)return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-10rem)]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})});if(s||!i)return o.jsx("div",{className:"text-center py-26 text-red-600",children:"Khng th ti d liu Flash Sale. Vui lng th li sau."});const a=c=>Zr(c).format("HH:mm DD/MM/YYYY"),l=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(c));return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-6 md:p-8 rounded-xl text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-300 pb-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e(-1),className:"w-14 h-14 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(z,{icon:yi,className:"text-gray-700"})}),o.jsx("h1",{className:"text-3xl font-bold",children:"Chi tit Flash Sale"})]}),o.jsx("span",{children:ij(i.status)})]}),o.jsx("div",{className:"mb-10",children:o.jsx("img",{src:i.bannerImage,alt:i.name,className:"w-full h-[35rem] object-cover rounded-xl shadow-md",onError:c=>{c.target.src="/placeholder-banner.jpg",ce.error("Khng ti c banner")}})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Tn chng trnh"}),o.jsx("p",{className:" text-gray-700",children:i.name})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"M t"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:i.description||"Khng c m t"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Mc gim gi"}),o.jsxs("p",{className:"font-bold text-red-600",children:[i.discount,"%"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Thi gian p dng"}),o.jsxs("div",{className:"text-gray-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Bt u:"})," ",a(i.startDate)]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Kt thc:"})," ",a(i.endDate)]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Ngy to / cp nht"}),o.jsxs("p",{className:"text-gray-600",children:["To: ",a(i.createdAt)]}),o.jsxs("p",{className:"text-gray-600",children:["Cp nht: ",a(i.updatedAt)]})]})]})]}),o.jsxs("div",{className:"mt-12",children:[o.jsxs("h2",{className:"font-bold mb-6",children:["Sn phm p dng (",i.flashSaleProduct.length," sn phm)"]}),i.flashSaleProduct.length===0?o.jsx("p",{className:"text-gray-500 text-center py-10",children:"Cha c sn phm no trong flash sale ny"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:i.flashSaleProduct.map(c=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("img",{src:c.product.mainImage,alt:c.product.productName,className:"w-full h-[20rem] object-cover"}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"font-semibold line-clamp-2 mb-2",children:c.product.productName}),o.jsxs("div",{className:"flex text-[1.4rem] items-center gap-3 mb-3",children:[o.jsx("span",{className:"font-bold text-red-600",children:l(c.sale_price)}),o.jsx("span",{className:"text-gray-400 line-through",children:l(c.origin_price)}),o.jsxs("span",{className:"text-green-600",children:["-",i.discount,"%"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[1.2rem]",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"S lng:"}),o.jsxs("p",{children:[c.quantity," SP"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Gii hn/khch:"}),o.jsxs("p",{children:[c.limit," SP"]})]}),o.jsx("div",{children:o.jsxs("p",{className:"font-medium",children:[" bn: ",c.sold]})})]})]})]},c.id))})]})]})}function pme(){const{slug:t}=wi();Ze();const[e,n]=T.useState({hours:0,minutes:0,seconds:0}),{data:r,isLoading:s,error:i}=De({queryKey:["flashSale",t],queryFn:()=>Yde(t),enabled:!!t}),a=r&&r.data,l=r&&a&&a.flashSaleProduct,c=Math.floor(e.hours/24);T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{if(!a)return;const p=()=>{const x=ZS(a.endDate);n(x)};p();const g=setInterval(p,1e3);return()=>clearInterval(g)},[a]);const u=p=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(p)),d=(p,g)=>Math.round(p/g*100),f=()=>o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0 overflow-hidden",children:[o.jsx("div",{className:"w-full h-full bg-gradient-to-b from-gray-300 to-gray-400 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),o.jsx("div",{className:"relative w-[85%] mx-auto pt-[40rem] z-10",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"h-12 w-3/4 mx-auto bg-gray-300 rounded-lg animate-pulse mb-3"}),o.jsx("div",{className:"h-6 w-1/2 mx-auto bg-gray-200 rounded animate-pulse"})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-r from-pink-300 to-red-300 rounded-lg px-4 py-4 min-w-[70px] animate-pulse"}),g!==2&&o.jsx("span",{className:"text-[2.2rem] text-transparent",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("div",{className:"h-8 w-48 bg-gray-300 rounded animate-pulse mb-4"})," ",o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:Array.from({length:10}).map((p,g)=>o.jsxs("div",{className:"group bg-white rounded-xl p-4 shadow animate-pulse flex flex-col",children:[o.jsx("div",{className:"absolute top-2 right-2 h-8 w-16 bg-red-300 rounded-full"}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3 bg-gray-300"}),o.jsx("div",{className:"h-5 w-4/5 bg-gray-300 rounded mb-2"}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("div",{className:"h-7 w-24 bg-red-300 rounded"}),o.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded"}),o.jsx("div",{className:"h-4 w-12 bg-gray-300 rounded"})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-300 h-full rounded-full w-3/5 animate-pulse"})})]})]},g))})]})]})})]});return o.jsx("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:s?o.jsx(f,{}):o.jsxs("div",{className:"relative w-full h-auto bg-yellow-500",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-[50rem] z-0",children:o.jsx("img",{src:a.bannerImage,alt:"Hnh nh flashSale",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"relative w-[85%] h-[50rem] z-100 mx-auto pt-[30rem]",children:o.jsxs("div",{className:"w-full h-auto bg-white shadow-xl rounded-xl p-8 pb-16",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("h3",{className:"text-[2.5rem] font-bold text-red-600",children:[a.name," - Gim ",a.discount,"%"]}),o.jsxs("p",{children:[a.description," on m t"]})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 text-[1.4rem]",children:o.jsx("div",{className:"flex gap-3",children:e.hours>24?o.jsxs("div",{className:"bg-gradient-to-tr from-red-500 to-pink-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:["Cn li ",c," ngy"]}):["hours","minutes","seconds"].map((p,g)=>o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"bg-gradient-to-tr from-pink-600 to-red-500 rounded-lg px-4 py-2 text-center min-w-[70px] text-white",children:o.jsx("div",{className:" text-white",children:String(e[p]).padStart(2,"0")})},g),g!==2&&o.jsx("span",{className:"text-[2.2rem]",children:":"})]},g))})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h4",{children:"Danh sch sn phm"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-4 pt-4",children:l&&l.length>0?l.map(p=>{const g=p.product,x=d(p.sold,p.quantity);return o.jsxs(Qe,{to:`/product-detail/${g.slug}`,className:"group bg-white rounded-xl p-4 shadow hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"text-[1.4rem] absolute top-2 right-2 z-10 bg-red-500 text-white px-3 py-1 rounded-full shadow",children:["-",a.discount,"%"]}),o.jsx("div",{className:"relative h-[18rem] md:h-[18rem] overflow-hidden rounded-lg mb-3",children:o.jsx("img",{src:g.mainImage||"https://via.placeholder.com/300",alt:g.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("h5",{className:"text-gray-700 line-clamp-1",children:g.productName||`Sn phm ${g.id}`}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2 mb-6",children:[o.jsx("p",{className:"text-red-600 text-[1.4rem] font-bold",children:u(p.sale_price)}),o.jsx("p",{className:"text-gray-400 line-through text-[1.2rem]",children:u(p.origin_price)})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("div",{className:"flex justify-between text-[1.2rem] mb-1",children:[o.jsxs("span",{children:[" bn ",p.sold,"/",p.quantity]}),o.jsxs("span",{className:"font-bold text-red-500",children:[x,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${x}%`}})})]})]})]},g.id)}):o.jsx("div",{className:"py-25 text-center",children:"Khng c sn phm no"})})]})]})})]})})}function gme(){const{id:t}=wi(),{user:e}=jt(),n=Ze(),[r,s]=T.useState("info"),[i,a]=T.useState("all"),[l,c]=T.useState("newest"),[u,d]=T.useState({open:!1,content:"",isSuccess:!0}),[f,p]=T.useState({open:!1,reviewId:null,message:""}),{data:g,isLoading:x}=De({queryKey:["productdetailForAdmin",t],queryFn:()=>ute(Number(t)),enabled:!!t}),v=g&&g.product,b=g&&g.statistics,w=g&&g.flashSale,{data:N,isLoading:C,refetch:M}=De({queryKey:["evaluates",i,l,t],queryFn:()=>OD({productId:Number(t),rating:i,page:1,sort:l}),enabled:!!t}),j=N&&N.data||[],A=R=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(G=>o.jsx(z,{icon:xs,className:`text-[1.4rem] ${G<=R?"text-yellow-400":"text-gray-300"}`},G))}),P=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),E=R=>new Date(R).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),_=async R=>{if(!e){n("/");return}try{(await he.post(`/api/v1/evaluate/toggle-helpful/${R}`)).status&&await M()}catch(G){console.log(G);return}},L=async()=>{if(!f.message.trim()){d({open:!0,content:"Vui lng nhp ni dung phn hi!",isSuccess:!1}),setTimeout(()=>{d({open:!1,content:"",isSuccess:!0})},2e3);return}try{const R=await he.post(`/api/v1/evaluate/response/${f.reviewId}`,{message:f.message});R.status&&(await M(),d({open:!0,content:R.message,isSuccess:!0}),setTimeout(()=>{d({open:!1,content:"",isSuccess:!0})},1e3))}catch(R){console.log(R)}},D=R=>R&&R.flashSaleProduct&&typeof R.flashSaleProduct.sale_price=="number";return o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[x?o.jsx("div",{children:"ang ti d liu"}):o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 text-[1.8rem] font-bold",children:[o.jsx("span",{children:"Qun l sn phm"}),o.jsx("span",{children:"/"}),o.jsx("span",{children:v.productName})]}),o.jsx("div",{className:"flex py-2",children:o.jsxs(Qe,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(z,{icon:yi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs(Qe,{to:`/dashboard/products/action/${v.id}`,className:"flex items-center gap-2 px-6 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[o.jsx(z,{icon:Bs}),"Chnh sa"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Doanh thu"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-green-700",children:P(b?.revenue??0)})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:" bn"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-blue-700",children:[b?.soldCount," SP"]})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Tn kho"}),o.jsx("p",{className:"text-[2.4rem] font-bold text-red-500",children:b.inventory})]})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 border border-gray-200",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"nh gi"}),o.jsxs("p",{className:"text-[2.4rem] font-bold text-yellow-500 flex items-center gap-1",children:[v.averageRating,o.jsxs("span",{className:"text-[1.2rem] text-yellow-500 mt-1",children:["(",v.reviewCount," nh gi)"]})]})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[o.jsx("h3",{className:"font-bold mb-4",children:"Hnh nh chnh"}),o.jsx("img",{src:v.mainImage,alt:v.productName,className:"w-full rounded-lg border border-gray-200"}),o.jsx("h3",{className:"font-bold mb-4 mt-6",children:"nh ph"}),v.listImageProduct.length>0?o.jsx("div",{className:"grid grid-cols-4 gap-3",children:v.listImageProduct?.map(R=>o.jsx("div",{className:"w-full h-[10rem] border border-gray-300 rounded-md",children:o.jsx("img",{src:R.imageUrl,alt:"subImage",className:"w-full h-full rounded-lg object-cover"})},R.id))}):o.jsx("div",{className:"text-center",children:"Khng c nh ph"})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex gap-1 p-1",children:[o.jsx("button",{onClick:()=>s("info"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="info"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"Thng tin chung"}),o.jsxs("button",{onClick:()=>s("variants"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="variants"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:["Bin th (",v.variants.length,")"]}),o.jsx("button",{onClick:()=>s("description"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="description"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"M t"}),o.jsx("button",{onClick:()=>s("review"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${r==="review"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"nh gi"})]})}),o.jsxs("div",{className:"p-6",children:[r==="info"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h2",{className:"text-[2rem]",children:v.productName}),w&&o.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-[1.2rem] rounded-full",children:"Flash Sale"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"text-[2rem] text-gray-400 line-through",children:P(v.price)}),D(w)?o.jsx("p",{className:"text-[1.8rem] font-bold text-red-500",children:P(w.flashSaleProduct.sale_price)}):o.jsx("p",{className:"text-[2rem] font-bold text-red-500",children:P(v.price)})]})]}),D(w)&&o.jsxs("div",{className:"p-6 bg-orange-50 border-l-4 border-orange-500 rounded-lg",children:[o.jsx("h3",{className:"font-bold text-orange-700 mb-3 flex items-center gap-2",children:"Thng tin Flash Sale"}),o.jsxs("div",{className:"space-y-4 text-[1.4rem]",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gim gi:"}),o.jsxs("p",{className:"font-semibold text-orange-600 ml-2",children:[w.discount,"%"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Gi sau gim:"}),o.jsx("p",{className:"font-semibold text-red-600 ml-2",children:P(w.flashSaleProduct.sale_price)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"S lng Flash Sale cn li:"}),o.jsxs("p",{className:"font-semibold",children:[w.flashSaleProduct.quantity-w.flashSaleProduct.sold," ","/ ",w.flashSaleProduct.quantity]})]}),o.jsxs("div",{className:" flex items-center",children:[o.jsx("p",{className:"text-gray-600",children:"Thi gian:"}),o.jsxs("p",{className:"font-semibold text-green-600 ml-2",children:[o.jsx("span",{className:"mr-4",children:E(w.startDate)}),"n",o.jsx("span",{className:"ml-4",children:E(w.endDate)})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi gc"}),o.jsx("p",{className:"font-semibold",children:P(v.price)})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-[1.4rem] text-gray-600 mb-1",children:"Gi bn thc t"}),o.jsx("p",{className:"font-semibold",children:D(w)?P(w.flashSaleProduct.sale_price):P(v.price)})]})]})]}),r==="variants"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold",children:"Danh sch bin th"}),o.jsxs("span",{className:"text-gray-600",children:["Tng: ",v.variants.length," bin th"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"ID"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-[1.4rem]",children:"Mu sc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Kch thc"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Tn kho"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Gi"}),o.jsx("th",{className:"text-center py-3 px-4 font-semibold text-[1.4rem]",children:"Trng thi"})]})}),o.jsx("tbody",{children:v.variants.map(R=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 text-[1.4rem]",children:[o.jsxs("td",{className:"py-5 px-4 text-[1.4rem] text-gray-700",children:["#",R.id]}),o.jsx("td",{className:"py-5 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:R.variantColor.hexCode}}),o.jsx("span",{className:"text-[1.4rem] text-gray-700",children:R.variantColor.name})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:R.variantSize.name}),o.jsx("td",{className:"text-center py-5 px-4",children:o.jsxs("span",{className:`text-[1.4rem] font-medium ${R.inventory<20?"text-red-600":"text-gray-900"}`,children:[R.inventory,R.inventory<20&&o.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(Sp ht)"})]})}),o.jsx("td",{className:"text-center py-5 px-4 text-[1.4rem] text-gray-700",children:R.price?P(R.price):o.jsx("span",{className:"text-gray-400",children:"Gi chung"})}),o.jsx("td",{className:"py-5 px-4 text-center",children:R.inventory>0?o.jsx("span",{className:"px-6 py-2 bg-green-100 text-green-700 rounded-full",children:"Cn hng"}):o.jsx("span",{className:"px-6 py-2 bg-red-100 text-red-700 rounded-full",children:"Ht hng"})})]},R.id))})]})})]}),r==="description"&&o.jsx("div",{className:"prose max-w-none text-[1.6rem]",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:v.description}})}),r==="review"&&o.jsx("div",{children:o.jsxs("div",{className:"w-full sm:w-auto",children:[o.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4",children:[o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i==="all"?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>a("all"),children:["Tt c (",N&&N.summary.total,")"]}),[5,4,3,2,1].map(R=>o.jsxs("button",{type:"button",className:`px-3 sm:px-4 md:px-[2rem] py-2 sm:py-[.5rem] border rounded-sm text-[1.2rem] md:text-[1.4rem] whitespace-nowrap ${i===R?"text-red-500 border-red-500 bg-red-50":"text-gray-800 border-gray-400 hover:border-gray-600"} cursor-pointer transition-colors`,onClick:()=>{a(R)},children:[R," Sao (",N&&N.summary.ratingCount[R],")"]},R))]}),o.jsx("div",{className:"mt-8",children:C?o.jsx("div",{children:"ang ti d liu"}):j.length>0?o.jsx("div",{className:"space-y-4",children:j.map(R=>o.jsxs("div",{className:"flex items-start w-full h-auto shadow-md rounded-xl bg-white p-5 space-x-4",children:[o.jsx("div",{children:R.showAccount?R?.user?.avatar?o.jsx("img",{src:R?.user?.avatar,alt:"avatar"+R?.user?.username,className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] rounded-full object-cover"}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",children:(R.user?.username?.[0]||"K").toUpperCase()}):o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem]",children:R.showAccount?R.user?.username||R.customerName||"Khch hng":"n danh"}),o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem] text-gray-500",children:[" ",E(R.createdAt)]})]}),o.jsx("div",{className:"mb-3 sm:mb-4",children:A(R.rating)}),R.message&&o.jsx("p",{className:"mt-2 sm:mt-4 text-gray-700 leading-relaxed text-[1.4rem] md:text-[1.6rem]",children:R.message}),o.jsxs("div",{className:"flex items-center space-x-5 text-[1rem] md:text-[1.3rem] mt-2 ",children:[o.jsxs("button",{onClick:()=>_(R.id),className:"cursor-pointer",children:[o.jsx(z,{icon:DR}),o.jsx("span",{className:` ${R.isLiked?"text-red-500":"text-gray-600"}`,children:R.helpfulCount})]}),!R.hasAdminResponse&&o.jsxs("button",{type:"button",className:"flex items-center space-x-2 hover:text-gray-800 cursor-pointer",onClick:()=>p({open:!0,reviewId:R.id,message:""}),children:[o.jsx(z,{icon:bde}),o.jsx("span",{children:"Phn hi"})]})]}),f.open&&!R.hasAdminResponse&&f.reviewId===R.id&&o.jsxs("div",{className:"mt-4 w-full h-auto",children:[o.jsx("textarea",{rows:3,className:"w-full h-full border text-[1.4rem] p-4 outline-none focus:border-cyan-300 border-gray-300 rounded-md",placeholder:"Nhp phn hi...",value:f.message,onChange:G=>p(U=>({...U,message:G.target.value}))}),o.jsxs("div",{className:"flex items-center justify-end gap-2.5 mt-1 text-[1.4rem]",children:[o.jsx("button",{type:"button",className:"rounded-md px-5 py-2 bg-gray-200 text-gray-600 hover:bg-gray-300 transition-colors duration-300",onClick:()=>p({open:!1,reviewId:null,message:""}),children:o.jsx("span",{children:"ng"})}),o.jsxs("button",{className:"rounded-md px-5 py-2 bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300",onClick:()=>L(),children:[o.jsx(z,{icon:EG,className:"text-[1.4rem]"}),o.jsx("span",{children:"Gi"})]})]})]}),R.hasAdminResponse&&o.jsxs("div",{className:"text-[1.4rem] border border-gray-300 p-5 mt-5 rounded-md",children:[o.jsx("span",{children:" phn hi"}),o.jsxs("div",{className:"mt-5 flex items-center space-x-5",children:[o.jsx("div",{className:"w-12 h-12 sm:w-[4rem] sm:h-[4rem] bg-gray-200 rounded-full flex items-center justify-center",children:o.jsx("img",{src:e?.avatar,alt:`admin-${e?.username}`,className:"w-full h-full object-cover rounded-full"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[1.6rem]",children:[e?.username," "," ",o.jsx("span",{className:"text-[1.2rem]",children:E(R.adminResponseAt)})]}),o.jsxs("p",{className:"text-[1.6rem] mt-1",children:["Ni dung: ",R.adminResponse]})]})]})]})]})]},R.id))}):o.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[o.jsx("p",{className:"text-gray-600 text-[1.4rem] md:text-[1.6rem]",children:"Cha c nh gi no."}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-[1.4rem] mt-2",children:"Hy l ngi u tin nh gi sn phm!"})]})})]})})]})]})})]})]}),o.jsx(Ru,{content:u.content,duration:1e3,showNotify:u.open,isSuccess:u.isSuccess})]})}var Xv={exports:{}},Qv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM;function xme(){if(pM)return Qv;pM=1;var t=Yl();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(f,p){var g=p(),x=r({inst:{value:g,getSnapshot:p}}),v=x[0].inst,b=x[1];return i(function(){v.value=g,v.getSnapshot=p,c(v)&&b({inst:v})},[f,g,p]),s(function(){return c(v)&&b({inst:v}),f(function(){c(v)&&b({inst:v})})},[f]),a(g),g}function c(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Qv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Qv}var gM;function f8(){return gM||(gM=1,Xv.exports=xme()),Xv.exports}var m8=f8();function Ln(t){this.content=t}Ln.prototype={constructor:Ln,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Ln(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ln(n)},addToStart:function(t,e){return new Ln([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ln(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Ln(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ln.from(t),t.size?new Ln(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ln.from(t),t.size?new Ln(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ln.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ln.from=function(t){if(t instanceof Ln)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ln(e)};function p8(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=p8(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function g8(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),l=e.child(--i),c=a.nodeSize;if(a==l){n-=c,r-=c;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let u=0,d=Math.min(a.text.length,l.text.length);for(;u<d&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let u=g8(a.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class de{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,l=0;l<n;a++){let c=this.content[a],u=l+c.nodeSize;if(u>e&&r(c,s+l,i||null,a)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,s+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new de(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;c>e&&((a<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),s+=l.nodeSize),a=c}return new de(r,s)}cutByIndex(e,n){return e==n?de.empty:e==0&&n==this.content.length?this:new de(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new de(s,i)}addToStart(e){return new de([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new de(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return p8(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return g8(this,e,n,r)}findIndex(e){if(e==0)return xp(0,e);if(e==this.size)return xp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?xp(n+1,i):xp(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return de.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return de.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new de(n||e,r)}static from(e){if(!e)return de.empty;if(e instanceof de)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new de([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const Jv={index:0,offset:0};function xp(t,e){return Jv.index=t,Jv.offset=e,Jv}function Xg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Xg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Xg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ct=class aw{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return aw.none;if(e instanceof aw)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Ct.none=[];class Qg extends Error{}class Ce{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=y8(this.content,e+this.openStart,n);return r&&new Ce(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ce(x8(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ce.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ce(de.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new Ce(e,r,s)}}Ce.empty=new Ce(de.empty,0,0);function x8(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(x8(i.content,e-s-1,n-s-1)))}function y8(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=y8(a.content,e-i-1,n,a);return l&&t.replaceChild(s,a.copy(l))}function yme(t,e,n){if(n.openStart>t.depth)throw new Qg("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Qg("Inconsistent open depths");return b8(t,e,n,0)}function b8(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=b8(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return El(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=bme(n,t);return El(i,w8(t,a,l,e,r))}else return El(i,Jg(t,e,r))}function v8(t,e){if(!e.type.compatibleContent(t.type))throw new Qg("Cannot join "+e.type.name+" onto "+t.type.name)}function ow(t,e,n){let r=t.node(n);return v8(r,e.node(n)),r}function Tl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function hh(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Tl(t.nodeAfter,r),i++));for(let l=i;l<a;l++)Tl(s.child(l),r);e&&e.depth==n&&e.textOffset&&Tl(e.nodeBefore,r)}function El(t,e){return t.type.checkContent(e),t.copy(e)}function w8(t,e,n,r,s){let i=t.depth>s&&ow(t,e,s+1),a=r.depth>s&&ow(n,r,s+1),l=[];return hh(null,t,s,l),i&&a&&e.index(s)==n.index(s)?(v8(i,a),Tl(El(i,w8(t,e,n,r,s+1)),l)):(i&&Tl(El(i,Jg(t,e,s+1)),l),hh(e,n,s,l),a&&Tl(El(a,Jg(n,r,s+1)),l)),hh(r,null,s,l),new de(l)}function Jg(t,e,n){let r=[];if(hh(null,t,n,r),t.depth>n){let s=ow(t,e,n+1);Tl(El(s,Jg(t,e,n+1)),r)}return hh(e,null,n,r),new de(r)}function bme(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(de.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Gh{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ct.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Zg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:l,offset:c}=a.content.findIndex(i),u=i-c;if(r.push(a,l,s+c),!u||(a=a.child(l),a.isText))break;i=u-1,s+=c+1}return new Gh(n,r,i)}static resolveCached(e,n){let r=xM.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else xM.set(e,r=new vme);let s=r.elts[r.i]=Gh.resolve(e,n);return r.i=(r.i+1)%wme,s}}class vme{constructor(){this.elts=[],this.i=0}}const wme=12,xM=new WeakMap;class Zg{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Nme=Object.create(null);let uo=class lw{constructor(e,n,r,s=Ct.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||de.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Xg(this.attrs,n||e.defaultAttrs||Nme)&&Ct.sameSet(this.marks,r||Ct.none)}copy(e=null){return e==this.content?this:new lw(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new lw(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ce.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),l=s.start(a),u=s.node(a).content.cut(s.pos-l,i.pos-l);return new Ce(u,s.depth-a,i.depth-a)}replace(e,n,r){return yme(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Gh.resolveCached(this,e)}resolveNoCache(e){return Gh.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),N8(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=de.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ct.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ct.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=de.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};uo.prototype.text=void 0;class e0 extends uo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):N8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new e0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new e0(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function N8(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Bl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Sme(e,n);if(r.next==null)return Bl.empty;let s=S8(r);r.next&&r.err("Unexpected trailing text");let i=Pme(Mme(s));return Ame(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,l){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return de.from(l.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:f}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let p=i(f,l.concat(d));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let l=s;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}Bl.empty=new Bl(!0);class Sme{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function S8(t){let e=[];do e.push(jme(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function jme(t){let e=[];do e.push(Cme(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Cme(t){let e=Eme(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=kme(t,e);else break;return e}function yM(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function kme(t,e){let n=yM(t),r=n;return t.eat(",")&&(t.next!="}"?r=yM(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Tme(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Eme(t){if(t.eat("(")){let e=S8(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Tme(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Mme(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,c){let u={term:c,to:l};return e[a].push(u),u}function s(a,l){a.forEach(c=>c.to=l)}function i(a,l){if(a.type=="choice")return a.exprs.reduce((c,u)=>c.concat(i(u,l)),[]);if(a.type=="seq")for(let c=0;;c++){let u=i(a.exprs[c],l);if(c==a.exprs.length-1)return u;s(u,l=n())}else if(a.type=="star"){let c=n();return r(l,c),s(i(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return s(i(a.expr,l),c),s(i(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let c=l;for(let u=0;u<a.min;u++){let d=n();s(i(a.expr,c),d),c=d}if(a.max==-1)s(i(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let d=n();r(c,d),s(i(a.expr,c),d),c=d}return[r(c)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function j8(t,e){return e-t}function bM(t,e){let n=[];return r(e),n.sort(j8);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:l,to:c}=i[a];!l&&n.indexOf(c)==-1&&r(c)}}}function Pme(t){let e=Object.create(null);return n(bM(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<s.length;d++)s[d][0]==l&&(u=s[d][1]);bM(t,c).forEach(d=>{u||s.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[r.join(",")]=new Bl(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let l=s[a][1].sort(j8);i.next.push({type:s[a][0],next:e[l.join(",")]||n(l)})}return i}}function Ame(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let l=0;l<s.next.length;l++){let{type:c,next:u}=s.next[l];a.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function C8(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function k8(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function T8(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function E8(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new _me(t,r,e[r]);return n}let vM=class M8{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=E8(e,r.attrs),this.defaultAttrs=C8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Bl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:k8(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new uo(this,this.computeAttrs(e),de.from(n),Ct.setFrom(r))}createChecked(e=null,n,r){return n=de.from(n),this.checkContent(n),new uo(this,this.computeAttrs(e),n,Ct.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=de.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(de.empty,!0);return i?new uo(this,e,n.append(i),Ct.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){T8(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ct.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new M8(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Ome(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class _me{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Ome(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Cx{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=E8(e,s.attrs),this.excluded=null;let i=C8(this.attrs);this.instance=i?new Ct(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ct(this,k8(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new Cx(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){T8(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class P8{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Ln.from(e.nodes),n.marks=Ln.from(e.marks||{}),this.nodes=vM.compile(this.spec.nodes,this),this.marks=Cx.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=Bl.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?wM(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:wM(this,a.split(" "))}this.nodeFromJSON=s=>uo.fromJSON(this,s),this.markFromJSON=s=>Ct.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof vM){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new e0(r,r.defaultAttrs,e,Ct.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function wM(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Dme(t){return t.tag!=null}function Ime(t){return t.style!=null}class ho{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(Dme(s))this.tags.push(s);else if(Ime(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new SM(this,n,!1);return r.addAll(e,Ct.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new SM(this,n,!0);return r.addAll(e,Ct.none,n.from,n.to),Ce.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Fme(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=jM(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=jM(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ho(e,ho.schemaRules(e)))}}const A8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Lme={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},O8={ol:!0,ul:!0},Yh=1,cw=2,fh=4;function NM(t,e,n){return e!=null?(e?Yh:0)|(e==="full"?cw:0):t&&t.whitespace=="pre"?Yh|cw:n&~fh}class yp{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Ct.none,this.match=i||(a&fh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(de.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Yh)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=de.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!A8.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class SM{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=NM(null,n.preserveWhitespace,0)|(r?fh:0);s?i=new yp(s.type,s.attrs,Ct.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new yp(null,null,Ct.none,!0,null,a):i=new yp(e.schema.topNodeType,null,Ct.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&cw?"full":this.localPreserveWS||(s.options&Yh)>0,{schema:a}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let c=0;c<l.length;c++)c&&this.insertNode(a.linebreakReplacement.create(),n,!0),l[c]&&this.insertNode(a.text(l[c]),n,!/\S/.test(l[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;O8.hasOwnProperty(a)&&this.parser.normalizeLists&&Rme(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:Lme.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(A8.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(i),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let c=this.parser.matchStyle(i,a,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];a!=l;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,l=0;a>=0;a--){let c=this.nodes[a],u=c.findWrapping(e);if(u&&(!s||s.length>u.length+l)&&(s=u,i=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=Ct.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):CM(l.type,e.type))&&(a=l.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=NM(e,i,a.options);a.options&fh&&a.content.length==0&&(l|=fh);let c=Ct.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):CM(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new yp(e,n,c,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Yh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(a(l-1,c))return!0;return!1}else{let d=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Rme(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&O8.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Fme(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function jM(t){let e={};for(let n in t)e[n]=t[n];return e}function CM(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||i.indexOf(d)<0&&a(d))return!0}};if(a(s.contentMatch))return!0}}class nc{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Zv(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let l=0,c=0;for(;l<i.length&&c<a.marks.length;){let u=a.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],d=this.serializeMark(u,a.isInline,n);d&&(i.push([u,s]),s.appendChild(d.dom),s=d.contentDOM||d.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=sg(Zv(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&sg(Zv(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return sg(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new nc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=kM(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return kM(e.marks)}}function kM(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Zv(t){return t.document||window.document}const TM=new WeakMap;function zme(t){let e=TM.get(t);return e===void 0&&TM.set(t,e=Vme(t)),e}function Vme(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function sg(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=zme(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l,c=n?t.createElementNS(n,s):t.createElement(s),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let p=e[f];if(p===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:x}=sg(t,p,n,r);if(c.appendChild(g),x){if(l)throw new RangeError("Multiple content holes");l=x}}}return{dom:c,contentDOM:l}}const _8=65535,D8=Math.pow(2,16);function $me(t,e){return t+e*D8}function EM(t){return t&_8}function Bme(t){return(t-(t&_8))/D8}const I8=1,L8=2,ig=4,R8=8;class uw{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&R8)>0}get deletedBefore(){return(this.delInfo&(I8|ig))>0}get deletedAfter(){return(this.delInfo&(L8|ig))>0}get deletedAcross(){return(this.delInfo&ig)>0}}class Wr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Wr.empty)return Wr.empty}recover(e){let n=0,r=EM(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Bme(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[l+i],d=this.ranges[l+a],f=c+u;if(e<=f){let p=u?e==c?-1:e==f?1:n:n,g=c+s+(p<0?0:d);if(r)return g;let x=e==(n<0?c:f)?null:$me(l/3,e-c),v=e==c?L8:e==f?I8:ig;return(n<0?e!=c:e!=f)&&(v|=R8),new uw(g,v,x)}s+=d-u}return r?e+s:new uw(e+s,0,null)}touches(e,n){let r=0,s=EM(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+i],d=c+u;if(e<=d&&l==s*3)return!0;r+=this.ranges[l+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],l=a-(this.inverted?i:0),c=a+(this.inverted?0:i),u=this.ranges[s+n],d=this.ranges[s+r];e(l,l+u,c,c+d),i+=d-u}}invert(){return new Wr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Wr.empty:new Wr(e<0?[0,-e,0]:[0,0,e])}}Wr.empty=new Wr([]);class Xh{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Xh(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Xh;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],l=a.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new uw(e,s,null)}}const e1=Object.create(null);class ar{getMap(){return Wr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=e1[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in e1)throw new RangeError("Duplicate use of step JSON ID "+e);return e1[e]=n,n.prototype.jsonID=e,n}}class pn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new pn(e,null)}static fail(e){return new pn(null,e)}static fromReplace(e,n,r,s){try{return pn.ok(e.replace(n,r,s))}catch(i){if(i instanceof Qg)return pn.fail(i.message);throw i}}}function lj(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(lj(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return de.fromArray(r)}class ro extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new Ce(lj(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return pn.fromReplace(e,this.from,this.to,i)}invert(){return new Fs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ro(n.pos,r.pos,this.mark)}merge(e){return e instanceof ro&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ro(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ro(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("addMark",ro);class Fs extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ce(lj(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return pn.fromReplace(e,this.from,this.to,r)}invert(){return new ro(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Fs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Fs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fs(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("removeMark",Fs);class so extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return pn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return pn.fromReplace(e,this.pos,this.pos+1,new Ce(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new so(this.pos,n.marks[s]);return new so(this.pos,this.mark)}}return new Hl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new so(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new so(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("addNodeMark",so);class Hl extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return pn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return pn.fromReplace(e,this.pos,this.pos+1,new Ce(de.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new so(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Hl(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("removeNodeMark",Hl);class Tn extends ar{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&dw(e,this.from,this.to)?pn.fail("Structure replace would overwrite content"):pn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Wr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Tn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Tn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Tn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ce.empty:new Ce(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Tn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ce.empty:new Ce(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Tn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tn(n.from,n.to,Ce.fromJSON(e,n.slice),!!n.structure)}}ar.jsonID("replace",Tn);class An extends ar{constructor(e,n,r,s,i,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=l}apply(e){if(this.structure&&(dw(e,this.from,this.gapFrom)||dw(e,this.gapTo,this.to)))return pn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return pn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?pn.fromReplace(e,this.from,this.to,r):pn.fail("Content does not fit in gap")}getMap(){return new Wr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new An(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new An(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new An(n.from,n.to,n.gapFrom,n.gapTo,Ce.fromJSON(e,n.slice),n.insert,!!n.structure)}}ar.jsonID("replaceAround",An);function dw(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function Hme(t,e,n,r){let s=[],i=[],a,l;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let p=Math.max(u,e),g=Math.min(u+c.nodeSize,n),x=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(x)||(a&&a.to==p&&a.mark.eq(f[v])?a.to=g:s.push(a=new Fs(p,g,f[v])));l&&l.to==p?l.to=g:i.push(l=new ro(p,g,r))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function Ume(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;i++;let c=null;if(r instanceof Cx){let u=a.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],p;for(let g=0;g<s.length;g++){let x=s[g];x.step==i-1&&f.eq(s[g].style)&&(p=x)}p?(p.to=u,p.step=i):s.push({style:f,from:Math.max(l,e),to:u,step:i})}}}),s.forEach(a=>t.step(new Fs(a.from,a.to,a.style)))}function cj(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],l=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),d=l+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new Tn(l,d,Ce.empty));else{r=f;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||t.step(new Fs(l,d,u.marks[p]));if(s&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,x;for(;p=g.exec(u.text);)x||(x=new Ce(de.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new Tn(l+p.index,l+p.index+p[0].length,x))}}l=d}if(!r.validEnd){let c=r.fillBefore(de.empty,!0);t.replace(l,l,new Ce(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function Wme(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Fu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,i=0;;--r){let a=t.$from.node(r),l=t.$from.index(r)+s,c=t.$to.indexAfter(r)-i;if(r<t.depth&&a.canReplace(l,c,n))return r;if(r==0||a.type.spec.isolating||!Wme(a,l,c))break;l&&(s=1),c<a.childCount&&(i=1)}return null}function qme(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),l=s.after(i+1),c=a,u=l,d=de.empty,f=0;for(let x=i,v=!1;x>n;x--)v||r.index(x)>0?(v=!0,d=de.from(r.node(x).copy(d)),f++):c--;let p=de.empty,g=0;for(let x=i,v=!1;x>n;x--)v||s.after(x+1)<s.end(x)?(v=!0,p=de.from(s.node(x).copy(p)),g++):u++;t.step(new An(c,u,a,l,new Ce(d.append(p),f,g),d.size-f,!0))}function uj(t,e,n=null,r=t){let s=Kme(t,e),i=s&&Gme(r,e);return i?s.map(MM).concat({type:e,attrs:n}).concat(i.map(MM)):null}function MM(t){return{type:t,attrs:null}}function Kme(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function Gme(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;c&&u<s;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:a}function Yme(t,e,n){let r=de.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=de.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new An(s,i,s,i,new Ce(r,0,0),n.length,!0))}function Xme(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let c=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,c)&&Qme(t.doc,t.mapping.slice(i).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!x?u=!1:!g&&x&&(u=!0)}u===!1&&z8(t,a,l,i),cj(t,t.mapping.slice(i).map(l,1),r,void 0,u===null);let d=t.mapping.slice(i),f=d.map(l,1),p=d.map(l+a.nodeSize,1);return t.step(new An(f,p,f+1,p-1,new Ce(de.from(r.create(c,null,a.marks)),0,0),1,!0)),u===!0&&F8(t,a,l,i),!1}})}function F8(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(s.text);){let c=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function z8(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Qme(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function Jme(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new An(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Ce(de.from(a),0,0),1,!0))}function ia(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let u=s.depth-1,d=n-2;u>i;u--,d--){let f=s.node(u),p=s.index(u);if(f.type.spec.isolating)return!1;let g=f.content.cutByIndex(p,f.childCount),x=r&&r[d+1];x&&(g=g.replaceChild(0,x.type.create(x.attrs)));let v=r&&r[d]||f;if(!f.canReplace(p+1,f.childCount)||!v.type.validContent(g))return!1}let l=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function Zme(t,e,n=1,r){let s=t.doc.resolve(e),i=de.empty,a=de.empty;for(let l=s.depth,c=s.depth-n,u=n-1;l>c;l--,u--){i=de.from(s.node(l).copy(i));let d=r&&r[u];a=de.from(d?d.type.create(d.attrs,a):s.node(l).copy(a))}t.step(new Tn(e,e,new Ce(i.append(a),n,n),!0))}function Po(t,e){let n=t.resolve(e),r=n.index();return V8(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function epe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function V8(t,e){return!!(t&&e&&!t.isLeaf&&epe(t,e))}function kx(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),l++,a=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),a=r.node(s+1)),i&&!i.isTextblock&&V8(i,a)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function tpe(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(s);d&&!f?r=!1:!d&&f&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);z8(t,d.node(),d.before(),l)}a.inlineContent&&cj(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let c=t.mapping.slice(l),u=c.map(e-n);if(t.step(new Tn(u,c.map(e+n,-1),Ce.empty,!0)),r===!0){let d=t.doc.resolve(u);F8(t,d.node(),d.before(),t.steps.length)}return t}function npe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function $8(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(i==1)d=u.canReplace(c,c,s);else{let f=u.contentMatchAt(c).findWrapping(s.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Tx(t,e,n=e,r=Ce.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return B8(s,i,r)?new Tn(e,n,r):new rpe(s,i,r).fit()}function B8(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class rpe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=de.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=de.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,l=s.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let c=new Ce(i,a,l);return e>-1?new An(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Tn(r.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=t1(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(de.from(a),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:f};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=t1(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Ce(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=t1(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new Ce(Kd(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Ce(Kd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,u=0,d=[],{match:f,type:p}=this.frontier[n];if(s){for(let v=0;v<s.childCount;v++)d.push(s.child(v));f=f.matchFragment(s)}let g=l.size+e-(a.content.size-a.openEnd);for(;u<l.childCount;){let v=l.child(u),b=f.matchType(v.type);if(!b)break;u++,(u>1||c==0||v.content.size)&&(f=b,d.push(H8(v.mark(p.allowedMarks(v.marks)),u==1?c:0,u==l.childCount?g:-1)))}let x=u==l.childCount;x||(g=-1),this.placed=Gd(this.placed,n,de.from(d)),this.frontier[n].match=f,x&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=l;v<g;v++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=x?e==0?Ce.empty:new Ce(Kd(a.content,e-1,1),e-1,g<0?a.openEnd:e-1):new Ce(Kd(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!n1(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=n1(e,n,s,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=n1(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Gd(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Gd(this.placed,this.depth,de.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(de.empty,!0);n.childCount&&(this.placed=Gd(this.placed,this.frontier.length,n))}}function Kd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Kd(t.firstChild.content,e-1,n)))}function Gd(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Gd(t.lastChild.content,e-1,n)))}function t1(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function H8(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,H8(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(de.empty,!0)))),t.copy(r)}function n1(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!spe(n,i.content,a)?l:null}function spe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ipe(t){return t.spec.defining||t.spec.definingForContent}function ape(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(B8(s,i,r))return t.step(new Tn(e,n,r));let a=W8(s,i);a[a.length-1]==0&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let p=s.depth,g=s.pos-1;p>0;p--,g--){let x=s.node(p).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(p)>-1?l=p:s.before(p)==g&&a.splice(1,0,-p)}let c=a.indexOf(l),u=[],d=r.openStart;for(let p=r.content,g=0;;g++){let x=p.firstChild;if(u.push(x),g==r.openStart)break;p=x.content}for(let p=d-1;p>=0;p--){let g=u[p],x=ipe(g.type);if(x&&!g.sameMarkup(s.node(Math.abs(l)-1)))d=p;else if(x||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+d+1)%(r.openStart+1),x=u[g];if(x)for(let v=0;v<a.length;v++){let b=a[(v+c)%a.length],w=!0;b<0&&(w=!1,b=-b);let N=s.node(b-1),C=s.index(b-1);if(N.canReplaceWith(C,C,x.type,x.marks))return t.replace(s.before(b),w?i.after(b):n,new Ce(U8(r.content,0,r.openStart,g),g,r.openEnd))}}let f=t.steps.length;for(let p=a.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>f));p--){let g=a[p];g<0||(e=s.before(g),n=i.after(g))}}function U8(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(U8(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(de.empty,!0))}return t}function ope(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=npe(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new Ce(de.from(r),0,0))}function lpe(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=W8(r,s);for(let a=0;a<i.length;a++){let l=i[a],c=a==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function W8(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class lu extends ar{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return pn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return pn.fromReplace(e,this.pos,this.pos+1,new Ce(de.from(s),0,n.isLeaf?0:1))}getMap(){return Wr.empty}invert(e){return new lu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new lu(n.pos,n.attr,n.value)}}ar.jsonID("attr",lu);class Qh extends ar{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return pn.ok(r)}getMap(){return Wr.empty}invert(e){return new Qh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Qh(n.attr,n.value)}}ar.jsonID("docAttr",Qh);let bu=class extends Error{};bu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};bu.prototype=Object.create(Error.prototype);bu.prototype.constructor=bu;bu.prototype.name="TransformError";class dj{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Xh}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new bu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ce.empty){let s=Tx(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new Ce(de.from(r),0,0))}delete(e,n){return this.replace(e,n,Ce.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return ape(this,e,n,r),this}replaceRangeWith(e,n,r){return ope(this,e,n,r),this}deleteRange(e,n){return lpe(this,e,n),this}lift(e,n){return qme(this,e,n),this}join(e,n=1){return tpe(this,e,n),this}wrap(e,n){return Yme(this,e,n),this}setBlockType(e,n=e,r,s=null){return Xme(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return Jme(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new lu(e,n,r)),this}setDocAttribute(e,n){return this.step(new Qh(e,n)),this}addNodeMark(e,n){return this.step(new so(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Ct)n.isInSet(r.marks)&&this.step(new Hl(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new Hl(e,i)),s=i.removeFromSet(s);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return Zme(this,e,n,r),this}addMark(e,n,r){return Hme(this,e,n,r),this}removeMark(e,n,r){return Ume(this,e,n,r),this}clearIncompatible(e,n,r){return cj(this,e,n,r),this}}const r1=Object.create(null);class Ge{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new q8(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ce.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),l?Ce.empty:n),l==0&&OM(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],c=e.mapping.slice(r),u=c.map(a.pos),d=c.map(l.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),OM(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Be(e):Bc(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?Bc(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Bc(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Yr(e.node(0))}static atStart(e){return Bc(e,e,0,0,1)||new Yr(e)}static atEnd(e){return Bc(e,e,e.content.size,e.childCount,-1)||new Yr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=r1[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in r1)throw new RangeError("Duplicate use of selection JSON ID "+e);return r1[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Be.between(this.$anchor,this.$head).getBookmark()}}Ge.prototype.visible=!0;class q8{constructor(e,n){this.$from=e,this.$to=n}}let PM=!1;function AM(t){!PM&&!t.parent.inlineContent&&(PM=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Be extends Ge{constructor(e,n=e){AM(e),AM(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ge.near(r);let s=e.resolve(n.map(this.anchor));return new Be(s.parent.inlineContent?s:r,r)}replace(e,n=Ce.empty){if(super.replace(e,n),n==Ce.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Be&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ex(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Be(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Ge.findFrom(n,r,!0)||Ge.findFrom(n,-r,!0);if(i)n=i.$head;else return Ge.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ge.findFrom(e,-r,!0)||Ge.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Be(e,n)}}Ge.jsonID("text",Be);class Ex{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ex(e.map(this.anchor),e.map(this.head))}resolve(e){return Be.between(e.resolve(this.anchor),e.resolve(this.head))}}class $e extends Ge{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Ge.near(i):new $e(i)}content(){return new Ce(de.from(this.node),0,0)}eq(e){return e instanceof $e&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hj(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new $e(e.resolve(n.anchor))}static create(e,n){return new $e(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}$e.prototype.visible=!1;Ge.jsonID("node",$e);class hj{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ex(r,r):new hj(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&$e.isSelectable(r)?new $e(n):Ge.near(n)}}class Yr extends Ge{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ce.empty){if(n==Ce.empty){e.delete(0,e.doc.content.size);let r=Ge.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Yr(e)}map(e){return new Yr(e)}eq(e){return e instanceof Yr}getBookmark(){return cpe}}Ge.jsonID("all",Yr);const cpe={map(){return this},resolve(t){return new Yr(t)}};function Bc(t,e,n,r,s,i=!1){if(e.inlineContent)return Be.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let l=e.child(a);if(l.isAtom){if(!i&&$e.isSelectable(l))return $e.create(t,n-(s<0?l.nodeSize:0))}else{let c=Bc(t,l,n+s,s<0?l.childCount:0,s,i);if(c)return c}n+=l.nodeSize*s}return null}function OM(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Tn||s instanceof An))return;let i=t.mapping.maps[r],a;i.forEach((l,c,u,d)=>{a==null&&(a=d)}),t.setSelection(Ge.near(t.doc.resolve(a),n))}const _M=1,bp=2,DM=4;class upe extends dj{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_M)&~bp,this.storedMarks=null,this}get selectionSet(){return(this.updated&_M)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bp,this}ensureMarks(e){return Ct.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bp)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~bp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ct.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ge.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=DM,this}get scrolledIntoView(){return(this.updated&DM)>0}}function IM(t,e){return!e||!t?t:t.bind(e)}class Yd{constructor(e,n,r){this.name=e,this.init=IM(n.init,r),this.apply=IM(n.apply,r)}}const dpe=[new Yd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Yd("selection",{init(t,e){return t.selection||Ge.atStart(e.doc)},apply(t){return t.selection}}),new Yd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Yd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class s1{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=dpe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Yd(r.key,r.spec.state,r))})}}class eu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=s?s[a].n:0,u=s?s[a].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new eu(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new upe(this)}static create(e){let n=new s1(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new eu(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new s1(this.schema,e.plugins),r=n.fields,s=new eu(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new s1(e.schema,e.plugins),i=new eu(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=uo.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Ge.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=u.fromJSON.call(c,e,n[l],i);return}}i[a.name]=a.init(e,i)}}),i}}function K8(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=K8(s,e,{})),n[r]=s}return n}class Lt{constructor(e){this.spec=e,this.props={},e.props&&K8(e.props,this,this.props),this.key=e.key?e.key.key:G8("plugin")}getState(e){return e[this.key]}}const i1=Object.create(null);function G8(t){return t in i1?t+"$"+ ++i1[t]:(i1[t]=0,t+"$")}class tn{constructor(e="key"){this.key=G8(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const fj=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Y8(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const X8=(t,e,n)=>{let r=Y8(t,n);if(!r)return!1;let s=mj(r);if(!s){let a=r.blockRange(),l=a&&Fu(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(iF(t,s,e,-1))return!0;if(r.parent.content.size==0&&(vu(i,"end")||$e.isSelectable(i)))for(let a=r.depth;;a--){let l=Tx(t.doc,r.before(a),r.after(a),Ce.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(vu(i,"end")?Ge.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):$e.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},hpe=(t,e,n)=>{let r=Y8(t,n);if(!r)return!1;let s=mj(r);return s?Q8(t,s,e):!1},fpe=(t,e,n)=>{let r=Z8(t,n);if(!r)return!1;let s=pj(r);return s?Q8(t,s,e):!1};function Q8(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let d=s.lastChild;if(!d)return!1;s=d}let a=e.nodeAfter,l=a,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=Tx(t.doc,i,c,Ce.empty);if(!u||u.from!=i||u instanceof Tn&&u.slice.size>=c-i)return!1;if(n){let d=t.tr.step(u);d.setSelection(Be.create(d.doc,i)),n(d.scrollIntoView())}return!0}function vu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const J8=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=mj(r)}let a=i&&i.nodeBefore;return!a||!$e.isSelectable(a)?!1:(e&&e(t.tr.setSelection($e.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function mj(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Z8(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const eF=(t,e,n)=>{let r=Z8(t,n);if(!r)return!1;let s=pj(r);if(!s)return!1;let i=s.nodeAfter;if(iF(t,s,e,1))return!0;if(r.parent.content.size==0&&(vu(i,"start")||$e.isSelectable(i))){let a=Tx(t.doc,r.before(),r.after(),Ce.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(vu(i,"start")?Ge.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):$e.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},tF=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=pj(r)}let a=i&&i.nodeAfter;return!a||!$e.isSelectable(a)?!1:(e&&e(t.tr.setSelection($e.create(t.doc,i.pos)).scrollIntoView()),!0)};function pj(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const mpe=(t,e)=>{let n=t.selection,r=n instanceof $e,s;if(r){if(n.node.isTextblock||!Po(t.doc,n.from))return!1;s=n.from}else if(s=kx(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection($e.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},ppe=(t,e)=>{let n=t.selection,r;if(n instanceof $e){if(n.node.isTextblock||!Po(t.doc,n.to))return!1;r=n.to}else if(r=kx(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},gpe=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Fu(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},nF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function gj(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const xpe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=gj(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Ge.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},rF=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Yr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=gj(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(a,i.createAndFill());l.setSelection(Be.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},sF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ia(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Fu(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function ype(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof $e&&e.selection.node.isBlock)return!r.parentOffset||!ia(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,c=!1,u=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),u=r.start(g)==r.pos-(r.depth-g),l=gj(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(c&&l?{type:l}:null),a=g;break}else{if(g==1)return!1;i.unshift(null)}let d=e.tr;(e.selection instanceof Be||e.selection instanceof Yr)&&d.deleteSelection();let f=d.mapping.map(r.pos),p=ia(d.doc,f,i.length,i);if(p||(i[0]=l?{type:l}:null,p=ia(d.doc,f,i.length,i)),!p)return!1;if(d.split(f,i.length,i),!c&&u&&r.node(a).type!=l){let g=d.mapping.map(r.before(a)),x=d.doc.resolve(g);l&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(a)),l)}return n&&n(d.scrollIntoView()),!0}}const bpe=ype(),vpe=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection($e.create(t.doc,s))),!0)};function wpe(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Po(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function iF(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&wpe(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let g=e.pos+i.nodeSize,x=de.empty;for(let w=a.length-1;w>=0;w--)x=de.from(a[w].create(null,x));x=de.from(s.copy(x));let v=t.tr.step(new An(e.pos-1,g,e.pos,g,new Ce(x,1,0),a.length,!0)),b=v.doc.resolve(g+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&Po(v.doc,b.pos)&&v.join(b.pos),n(v.scrollIntoView())}return!0}let d=i.type.spec.isolating||r>0&&c?null:Ge.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&Fu(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&vu(i,"start",!0)&&vu(s,"end")){let g=s,x=[];for(;x.push(g),!g.isTextblock;)g=g.lastChild;let v=i,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,v.content)){if(n){let w=de.empty;for(let C=x.length-1;C>=0;C--)w=de.from(x[C].copy(w));let N=t.tr.step(new An(e.pos-x.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new Ce(w,x.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function aF(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Be.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const Npe=aF(-1),Spe=aF(1);function jpe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),l=a&&uj(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function LM(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(c,u)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let d=n.doc.resolve(u),f=d.index();s=d.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];i.setBlockType(l,c,t,e)}r(i.scrollIntoView())}return!0}}function xj(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}xj(fj,X8,J8);xj(fj,eF,tF);xj(nF,rF,sF,bpe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Cpe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return kpe(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function kpe(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);i=new Zg(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Zg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=uj(i,n,r,e);return l?(t&&Tpe(t,e,l,s,n),!0):!1}function Tpe(t,e,n,r,s){let i=de.empty;for(let d=n.length-1;d>=0;d--)i=de.from(n[d].type.create(n[d].attrs,i));t.step(new An(e.start-(r?2:0),e.end,e.start,e.end,new Ce(i,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==s&&(a=d+1);let l=n.length-a,c=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,p=!0;d<f;d++,p=!1)!p&&ia(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return t}function Epe(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?Mpe(e,n,t,i):Ppe(e,n,i):!0:!1}}function Mpe(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new An(i-1,a,i,a,new Ce(de.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Zg(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const l=Fu(r);if(l==null)return!1;s.lift(r,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return Po(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function Ppe(t,e,n){let r=t.tr,s=n.parent;for(let g=n.end,x=n.endIndex-1,v=n.startIndex;x>v;x--)g-=s.child(x).nodeSize,r.delete(g-1,g+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==s.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(l?0:1),d+1,a.content.append(c?de.empty:de.from(s))))return!1;let f=i.pos,p=f+a.nodeSize;return r.step(new An(f-(l?1:0),p+(c?1:0),f+1,p-1,new Ce((l?de.empty:de.from(s.copy(de.empty))).append(c?de.empty:de.from(s.copy(de.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function Ape(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=de.from(u?t.create():null),f=new Ce(de.from(t.create(null,de.from(l.type.create(null,d)))),u?3:1,0),p=i.start,g=i.end;n(e.tr.step(new An(p-(u?3:1),g,p,g,f,1,!0)).scrollIntoView())}return!0}}const Vn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},wu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let hw=null;const Ki=function(t,e,n){let r=hw||(hw=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Ope=function(){hw=null},Ul=function(t,e,n,r){return n&&(RM(t,e,n,r,-1)||RM(t,e,n,r,1))},_pe=/^(img|br|input|textarea|hr)$/i;function RM(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:ys(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Ef(t)||_pe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vn(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?ys(t):0}else return!1}}function ys(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Dpe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ys(t)}else if(t.parentNode&&!Ef(t))e=Vn(t),t=t.parentNode;else return null}}function Ipe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ef(t))e=Vn(t)+1,t=t.parentNode;else return null}}function Lpe(t,e,n){for(let r=e==0,s=e==ys(t);r||s;){if(t==n)return!0;let i=Vn(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==ys(t)}}function Ef(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Mx=function(t){return t.focusNode&&Ul(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ol(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Rpe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Fpe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ys(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ys(r.startContainer),r.startOffset)}}}const bi=typeof navigator<"u"?navigator:null,FM=typeof document<"u"?document:null,Ao=bi&&bi.userAgent||"",fw=/Edge\/(\d+)/.exec(Ao),oF=/MSIE \d/.exec(Ao),mw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ao),Ir=!!(oF||mw||fw),fo=oF?document.documentMode:mw?+mw[1]:fw?+fw[1]:0,ws=!Ir&&/gecko\/(\d+)/i.test(Ao);ws&&+(/Firefox\/(\d+)/.exec(Ao)||[0,0])[1];const pw=!Ir&&/Chrome\/(\d+)/.exec(Ao),Mn=!!pw,lF=pw?+pw[1]:0,rr=!Ir&&!!bi&&/Apple Computer/.test(bi.vendor),Nu=rr&&(/Mobile\/\w+/.test(Ao)||!!bi&&bi.maxTouchPoints>2),gs=Nu||(bi?/Mac/.test(bi.platform):!1),cF=bi?/Win/.test(bi.platform):!1,ea=/Android \d/.test(Ao),Mf=!!FM&&"webkitFontSmoothing"in FM.documentElement.style,zpe=Mf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Vpe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Fi(t,e){return typeof t=="number"?t:t[e]}function $pe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function zM(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=wu(a);continue}let l=a,c=l==i.body,u=c?Vpe(i):$pe(l),d=0,f=0;if(e.top<u.top+Fi(r,"top")?f=-(u.top-e.top+Fi(s,"top")):e.bottom>u.bottom-Fi(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Fi(s,"top")-u.top:e.bottom-u.bottom+Fi(s,"bottom")),e.left<u.left+Fi(r,"left")?d=-(u.left-e.left+Fi(s,"left")):e.right>u.right-Fi(r,"right")&&(d=e.right-u.right+Fi(s,"right")),d||f)if(c)i.defaultView.scrollBy(d,f);else{let g=l.scrollLeft,x=l.scrollTop;f&&(l.scrollTop+=f),d&&(l.scrollLeft+=d);let v=l.scrollLeft-g,b=l.scrollTop-x;e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b}}let p=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:wu(a)}}function Bpe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(i,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,s=c.top;break}}return{refDOM:r,refTop:s,stack:uF(t.dom)}}function uF(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=wu(r));return e}function Hpe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;dF(n,r==0?0:r-e)}function dF(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let zc=null;function Upe(t){if(t.setActive)return t.setActive();if(zc)return t.focus(zc);let e=uF(t);t.focus(zc==null?{get preventScroll(){return zc={preventScroll:!0},!0}}:void 0),zc||(zc=!1,dF(e,0))}function hF(t,e){let n,r=2e8,s,i=0,a=e.top,l=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Ki(d).getClientRects();else continue;for(let g=0;g<p.length;g++){let x=p[g];if(x.top<=a&&x.bottom>=l){a=Math.max(x.bottom,a),l=Math.min(x.top,l);let v=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(v<r){n=d,r=v,s=v&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&v&&(i=f+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!c&&x.left<=e.left&&x.right>=e.left&&(c=d,u={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(i=f+1)}}return!n&&c&&(n=c,s=u,r=0),n&&n.nodeType==3?Wpe(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:hF(n,s)}function Wpe(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=Ha(r,1);if(a.top!=a.bottom&&yj(e,a)){s={node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function yj(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function qpe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Kpe(t,e,n){let{node:r,offset:s}=hF(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function Gpe(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?s=l.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(s=l.posAfter),a=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function fF(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(yj(e,u))return fF(a,e,u)}}if((i=(i+1)%r)==s)break}return t}function Ype(t,e){let n=t.dom.ownerDocument,r,s=0,i=Fpe(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!yj(e,u)||(a=fF(t.dom,e,u),!a))return null}if(rr)for(let u=a;r&&u;u=wu(u))u.draggable&&(r=void 0);if(a=qpe(a,e),r){if(ws&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let d=r.childNodes[s],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let u;Mf&&s&&r.nodeType==1&&(u=r.childNodes[s-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=Gpe(t,r,s,e))}l==null&&(l=Kpe(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function VM(t){return t.top<t.bottom||t.left<t.right}function Ha(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(VM(r))return r}return Array.prototype.find.call(n,VM)||t.getBoundingClientRect()}const Xpe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function mF(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=Mf||ws;if(r.nodeType==3)if(a&&(Xpe.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=Ha(Ki(r,s,s),n);if(ws&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let u=Ha(Ki(r,s-1,s-1),-1);if(u.top==c.top){let d=Ha(Ki(r,s,s+1),-1);if(d.top!=c.top)return Rd(d,d.left<u.left)}}return c}else{let c=s,u=s,d=n<0?1:-1;return n<0&&!s?(u++,d=-1):n>=0&&s==r.nodeValue.length?(c--,d=1):n<0?c--:u++,Rd(Ha(Ki(r,c,u),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==ys(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return a1(c.getBoundingClientRect(),!1)}if(i==null&&s<ys(r)){let c=r.childNodes[s];if(c.nodeType==1)return a1(c.getBoundingClientRect(),!0)}return a1(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==ys(r))){let c=r.childNodes[s-1],u=c.nodeType==3?Ki(c,ys(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Rd(Ha(u,1),!1)}if(i==null&&s<ys(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?Ki(c,0,a?0:1):c.nodeType==1?c:null:null;if(u)return Rd(Ha(u,-1),!0)}return Rd(Ha(r.nodeType==3?Ki(r):r,-n),n>=0)}function Rd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function a1(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function pF(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function Qpe(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return pF(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=mF(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Ki(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const Jpe=/[\u0590-\u08ac]/;function Zpe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,l=t.domSelection();return l?!Jpe.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:pF(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:v}=t.domSelectionRange(),b=x&&!g.contains(x.nodeType==1?x:x.parentNode)||c==x&&u==v;try{l.collapse(d,f),c&&(c!=d||u!=f)&&l.extend&&l.extend(c,u)}catch{}return p!=null&&(l.caretBidiLevel=p),b}):r.pos==r.start()||r.pos==r.end()}let $M=null,BM=null,HM=!1;function ege(t,e,n){return $M==e&&BM==n?HM:($M=e,BM=n,HM=n=="up"||n=="down"?Qpe(t,e,n):Zpe(t,e,n))}const Ns=0,UM=1,gl=2,vi=3;class Pf{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Ns,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Vn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let l=s.children[a];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>e||a instanceof xF){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof gF&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Vn(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Vn(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,l=0;;l++){let c=this.children[l],u=a+c.size;if(s==-1&&e<=u){let d=a+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=a;for(let f=l;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=Vn(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Vn(f.dom);break}n+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let g=0,x=0;g<this.children.length;g++){let v=this.children[g],b=x+v.size;if(i>x&&a<b)return v.setSelection(e-x-v.border,n-x-v.border,r,s);x=b}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((ws||rr)&&e==n){let{node:g,offset:x}=l;if(g.nodeType==3){if(f=!!(x&&g.nodeValue[x-1]==`
`),f&&x==g.nodeValue.length)for(let v=g,b;v;v=v.parentNode){if(b=v.nextSibling){b.nodeName=="BR"&&(l=c={node:b.parentNode,offset:Vn(b)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=g.childNodes[x-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(ws&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||f&&rr)&&Ul(l.node,l.offset,d.anchorNode,d.anchorOffset)&&Ul(c.node,c.offset,d.focusNode,d.focusOffset))return;let p=!1;if((u.extend||e==n)&&!(f&&ws)){u.collapse(l.node,l.offset);try{e!=n&&u.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>n){let x=l;l=c,c=x}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+i.border,c=a-i.border;if(e>=l&&n<=c){this.dirty=e==r||n==a?gl:UM,e==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=vi:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?gl:vi}r=a}this.dirty=gl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?gl:UM;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class gF extends Pf{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Ns&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class tge extends Pf{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wl extends Pf{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=nc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wl(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&vi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=vi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ns){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ns}}slice(e,n,r){let s=Wl.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=xw(i,n,a,r)),e>0&&(i=xw(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class mo extends Pf{constructor(e,n,r,s,i,a,l,c,u){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,a){let l=i.nodeViews[n.type.name],c,u=l&&l(n,i,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,s),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=nc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=vF(d,r,n),u?c=new nge(e,n,r,s,d,f||null,p,u,i,a+1):n.isText?new Px(e,n,r,s,d,p,i):new mo(e,n,r,s,d,f||null,p,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>de.empty)}return e}matchesNode(e,n,r){return this.dirty==Ns&&e.eq(this.node)&&t0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new sge(this,a&&a.node,e);oge(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?Ct.none:this.node.child(d).marks,r,e),c.placeWidget(u,e,s)},(u,d,f,p)=>{c.syncToMarks(u.marks,r,e);let g;c.findNodeMatch(u,d,f,p)||l&&e.state.selection.from>s&&e.state.selection.to<s+u.nodeSize&&(g=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,d,f,g,e)||c.updateNextNode(u,d,f,e,p,s)||c.addNode(u,d,f,e,s),s+=u.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==gl)&&(a&&this.protectLocalComposition(e,a),yF(this.contentDOM,this.children,e),Nu&&lge(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Be)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=cge(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new tge(this,i,n,s);e.input.compositionNodes.push(a),this.children=xw(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==vi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Ns}updateOuterDeco(e){if(t0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=bF(this.dom,this.nodeDOM,gw(this.outerDeco,this.node,n),gw(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function WM(t,e,n,r,s){vF(r,e,t);let i=new mo(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Px extends mo{constructor(e,n,r,s,i,a,l){super(e,n,r,s,i,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==vi||this.dirty!=Ns&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ns||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Ns,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new Px(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=vi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class xF extends Pf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ns&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class nge extends mo{constructor(e,n,r,s,i,a,l,c,u,d){super(e,n,r,s,i,a,l,u,d),this.spec=c}update(e,n,r,s){if(this.dirty==vi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yF(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=qM(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(a instanceof Wl){let c=r?r.previousSibling:t.lastChild;yF(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=qM(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const mh=function(t){t&&(this.nodeName=t)};mh.prototype=Object.create(null);const xl=[new mh];function gw(t,e,n){if(t.length==0)return xl;let r=n?xl[0]:new mh,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new mh(a.nodeName));for(let l in a){let c=a[l];c!=null&&(n&&s.length==1&&s.push(r=new mh(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return s}function bF(t,e,n,r){if(n==xl&&r==xl)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let c;l&&l.nodeName==a.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=xl[0]),s=c}rge(s,l||xl[0],a)}return s}function rge(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function vF(t,e,n){return bF(t,t,xl,gw(e,n,t.nodeType!=1))}function t0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function qM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class sge{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ige(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Ns,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Wl.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==vi&&a.dom==a.contentDOM&&(a.dirty=gl),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof mo){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let d=c.dom,f,p=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=vi&&t0(n,c.outerDeco));if(!p&&c.update(e,n,r,s))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,e,n,r,s,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=gl,f.updateChildren(s,a+1),f.dirty=Ns),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!t0(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=mo.create(this.top,n,r,s,i,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let a=mo.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new gF(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Px)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((rr||Mn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new xF(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function ige(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Wl)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),a.push(l)}}return{index:s,matched:i,matches:a.reverse()}}function age(t,e){return t.type.side-e.type.side}function oge(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,s,e.forChild(i,d),u),i+=d.nodeSize}return}let a=0,l=[],c=null;for(let u=0;;){let d,f;for(;a<s.length&&s[a].to==i;){let b=s[a++];b.widget&&(d?(f||(f=[d])).push(b):d=b)}if(d)if(f){f.sort(age);for(let b=0;b<f.length;b++)n(f[b],u,!!c)}else n(d,u,!!c);let p,g;if(c)g=-1,p=c,c=null;else if(u<t.childCount)g=u,p=t.child(u++);else break;for(let b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)l.push(s[a++]);let x=i+p.nodeSize;if(p.isText){let b=x;a<s.length&&s[a].from<b&&(b=s[a].from);for(let w=0;w<l.length;w++)l[w].to<b&&(b=l[w].to);b<x&&(c=p.cut(b-i),p=p.cut(0,b-i),x=b,g=-1)}else for(;a<s.length&&s[a].to<x;)a++;let v=p.isInline&&!p.isLeaf?l.filter(b=>!b.inline):l.slice();r(p,v,e.forChild(i,p),g),i=x}}function lge(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function cge(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),l=i;if(i+=a.nodeSize,!a.isText)continue;let c=a.text;for(;s<t.childCount;){let u=t.child(s++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?c.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function xw(t,e,n,r,s){let i=[];for(let a=0,l=0;a<t.length;a++){let c=t[a],u=l,d=l+=c.size;u>=n||d<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,r)),s&&(i.push(s),s=void 0),d>n&&i.push(c.slice(n-u,c.size,r)))}return i}function bj(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),c,u;if(Mx(n)){for(c=a;s&&!s.node;)s=s.parent;let f=s.node;if(s&&f.isAtom&&$e.isSelectable(f)&&s.parent&&!(f.isInline&&Lpe(n.focusNode,n.focusOffset,s.dom))){let p=s.posBefore;u=new $e(a==p?l:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,p=a;for(let g=0;g<n.rangeCount;g++){let x=n.getRangeAt(g);f=Math.min(f,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(f<0)return null;[c,a]=p==t.state.selection.anchor?[p,f]:[f,p],l=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;u=vj(t,d,l,f)}return u}function wF(t){return t.editable?t.hasFocus():SF(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function aa(t,e=!1){let n=t.state.selection;if(NF(t,n),!!wF(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Mn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Ul(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)dge(t);else{let{anchor:r,head:s}=n,i,a;KM&&!(n instanceof Be)&&(n.$from.parent.inlineContent||(i=GM(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=GM(t,n.to))),t.docView.setSelection(r,s,t,e),KM&&(i&&YM(i),a&&YM(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&uge(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const KM=rr||Mn&&lF<63;function GM(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(rr&&s&&s.contentEditable=="false")return o1(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return o1(s);if(i)return o1(i)}}function o1(t){return t.contentEditable="true",rr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function YM(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function uge(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!wF(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function dge(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Vn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ir&&fo<=11&&(n.disabled=!0,n.disabled=!1)}function NF(t,e){if(e instanceof $e){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(XM(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else XM(t)}function XM(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function vj(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Be.between(e,n,r)}function QM(t){return t.editable&&!t.hasFocus()?!1:SF(t)}function SF(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function hge(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ul(e.node,e.offset,n.anchorNode,n.anchorOffset)}function yw(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Ge.findFrom(i,e)}function Wa(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function JM(t,e,n){let r=t.state.selection;if(r instanceof Be)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Wa(t,new Be(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=yw(t.state,e);return s&&s instanceof $e?Wa(t,s):!1}else if(!(gs&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?$e.isSelectable(i)?Wa(t,new $e(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Mf?Wa(t,new Be(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof $e&&r.node.isInline)return Wa(t,new Be(e>0?r.$to:r.$from));{let s=yw(t.state,e);return s?Wa(t,s):!1}}}function n0(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ph(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Vc(t,e){return e<0?fge(t):mge(t)}function fge(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(ws&&n.nodeType==1&&r<n0(n)&&ph(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(ph(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(jF(n))break;{let l=n.previousSibling;for(;l&&ph(l,-1);)s=n.parentNode,i=Vn(l),l=l.previousSibling;if(l)n=l,r=n0(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?bw(t,n,r):s&&bw(t,s,i)}function mge(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=n0(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(ph(l,1))i=n,a=++r;else break}else{if(jF(n))break;{let l=n.nextSibling;for(;l&&ph(l,1);)i=l.parentNode,a=Vn(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=n0(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&bw(t,i,a)}function jF(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function pge(t,e){for(;t&&e==t.childNodes.length&&!Ef(t);)e=Vn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function gge(t,e){for(;t&&!e&&!Ef(t);)e=Vn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function bw(t,e,n){if(e.nodeType!=3){let i,a;(a=pge(e,n))?(e=a,n=0):(i=gge(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Mx(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&aa(t)},50)}function ZM(t,e){let n=t.state.doc.resolve(e);if(!(Mn||cF)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function eP(t,e,n){let r=t.state.selection;if(r instanceof Be&&!r.empty||n.indexOf("s")>-1||gs&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=yw(t.state,e);if(a&&a instanceof $e)return Wa(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,l=r instanceof Yr?Ge.near(a,e):Ge.findFrom(a,e);return l?Wa(t,l):!1}return!1}function tP(t,e){if(!(t.state.selection instanceof Be))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function nP(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function xge(t){if(!rr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;nP(t,r,"true"),setTimeout(()=>nP(t,r,"false"),20)}return!1}function yge(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function bge(t,e){let n=e.keyCode,r=yge(e);if(n==8||gs&&n==72&&r=="c")return tP(t,-1)||Vc(t,-1);if(n==46&&!e.shiftKey||gs&&n==68&&r=="c")return tP(t,1)||Vc(t,1);if(n==13||n==27)return!0;if(n==37||gs&&n==66&&r=="c"){let s=n==37?ZM(t,t.state.selection.from)=="ltr"?-1:1:-1;return JM(t,s,r)||Vc(t,s)}else if(n==39||gs&&n==70&&r=="c"){let s=n==39?ZM(t,t.state.selection.from)=="ltr"?1:-1:1;return JM(t,s,r)||Vc(t,s)}else{if(n==38||gs&&n==80&&r=="c")return eP(t,-1,r)||Vc(t,-1);if(n==40||gs&&n==78&&r=="c")return xge(t)||eP(t,1,r)||Vc(t,1);if(r==(gs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function wj(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let a=t.someProp("clipboardSerializer")||nc.fromSchema(t.state.schema),l=PF(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=MF[u.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let x=l.createElement(d[g]);for(;c.firstChild;)x.appendChild(c.firstChild);c.appendChild(x),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${s} ${i}${f?` -${f}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function CF(t,e,n,r,s){let i=s.parent.type.spec.code,a,l;if(!n&&!e)return null;let c=!!e&&(r||i||!n);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return l=new Ce(de.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{l=p(l,t,!0)}),l;let f=t.someProp("clipboardTextParser",p=>p(e,s,r,t));if(f)l=f;else{let p=s.marks(),{schema:g}=t.state,x=nc.fromSchema(g);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=a.appendChild(document.createElement("p"));v&&b.appendChild(x.serializeNode(g.text(v,p)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=Sge(n),Mf&&jge(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||ho.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||d),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!vge.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)l=Cge(rP(l,+d[1],+d[2]),d[4]);else if(l=Ce.maxOpen(wge(l.content,s),!0),l.openStart||l.openEnd){let f=0,p=0;for(let g=l.content.firstChild;f<l.openStart&&!g.type.spec.isolating;f++,g=g.firstChild);for(let g=l.content.lastChild;p<l.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);l=rP(l,f,p)}return t.someProp("transformPasted",f=>{l=f(l,t,c)}),l}const vge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function wge(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(l=>{if(!a)return;let c=s.findWrapping(l.type),u;if(!c)return a=null;if(u=a.length&&i.length&&TF(c,i,l,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=EF(a[a.length-1],i.length));let d=kF(l,c);a.push(d),s=s.matchType(d.type),i=c}}),a)return de.from(a)}return t}function kF(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,de.from(t));return t}function TF(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=TF(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(de.from(kF(n,t,s+1))))}}function EF(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,EF(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(de.empty,!0);return t.copy(n.append(r))}function vw(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(i=0),s<r-1&&(l=vw(l,e,n,r,s+1,i)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(de.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function rP(t,e,n){return e<t.openStart&&(t=new Ce(vw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ce(vw(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const MF={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let sP=null;function PF(){return sP||(sP=document.implementation.createHTMLDocument("title"))}let l1=null;function Nge(t){let e=window.trustedTypes;return e?(l1||(l1=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),l1.createHTML(t)):t}function Sge(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=PF().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&MF[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=Nge(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function jge(t){let e=t.querySelectorAll(Mn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Cge(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;s=de.from(c.create(r[l+1],s)),i++,a++}return new Ce(s,i,a)}const fr={},mr={},kge={touchstart:!0,touchmove:!0};class Tge{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ege(t){for(let e in fr){let n=fr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Pge(t,r)&&!Nj(t,r)&&(t.editable||!(r.type in mr))&&n(t,r)},kge[e]?{passive:!0}:void 0)}rr&&t.dom.addEventListener("input",()=>null),ww(t)}function io(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Mge(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ww(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Nj(t,r))})}function Nj(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Pge(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Age(t,e){!Nj(t,e)&&fr[e.type]&&(t.editable||!(e.type in mr))&&fr[e.type](t,e)}mr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!OF(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ea&&Mn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Nu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,ol(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||bge(t,n)?n.preventDefault():io(t,"key")};mr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};mr.keypress=(t,e)=>{let n=e;if(OF(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||gs&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Be)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function Ax(t){return{left:t.clientX,top:t.clientY}}function Oge(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Sj(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,l=>a>i.depth?l(t,n,i.nodeAfter,i.before(a),s,!0):l(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function cu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function _ge(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&$e.isSelectable(r)?(cu(t,new $e(n)),!0):!1}function Dge(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof $e&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if($e.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(cu(t,$e.create(t.state.doc,s)),!0):!1}function Ige(t,e,n,r,s){return Sj(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?Dge(t,n):_ge(t,n))}function Lge(t,e,n,r){return Sj(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function Rge(t,e,n,r){return Sj(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||Fge(t,n,r)}function Fge(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(cu(t,Be.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(a.inlineContent)cu(t,Be.create(r,l+1,l+1+a.content.size));else if($e.isSelectable(a))cu(t,$e.create(r,l));else continue;return!0}}function jj(t){return r0(t)}const AF=gs?"metaKey":"ctrlKey";fr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=jj(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&Oge(n,t.input.lastClick)&&!n[AF]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(Ax(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new zge(t,a,n,!!r)):(i=="doubleClick"?Lge:Rge)(t,a.pos,a.inside,n)?n.preventDefault():io(t,"pointer"))};class zge{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[AF],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,a=d.depth?d.before():0}const l=s?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof $e&&u.from<=a&&u.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ws&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),io(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>aa(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ax(e))),this.updateAllowDefault(e),this.allowDefault||!n?io(this.view,"pointer"):Ige(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||rr&&this.mightDrag&&!this.mightDrag.node.isAtom||Mn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(cu(this.view,Ge.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):io(this.view,"pointer")}move(e){this.updateAllowDefault(e),io(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}fr.touchstart=t=>{t.input.lastTouch=Date.now(),jj(t),io(t,"pointer")};fr.touchmove=t=>{t.input.lastTouch=Date.now(),io(t,"pointer")};fr.contextmenu=t=>jj(t);function OF(t,e){return t.composing?!0:rr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Vge=ea?5e3:-1;mr.compositionstart=mr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Be&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Mn&&cF&&$ge(t)))t.markCursor=t.state.storedMarks||n.marks(),r0(t,!0),t.markCursor=null;else if(r0(t,!e.selection.empty),ws&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}_F(t,Vge)};function $ge(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}mr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,_F(t,20))};function _F(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>r0(t),e))}function DF(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Hge());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Bge(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Dpe(e.focusNode,e.focusOffset),r=Ipe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function Hge(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function r0(t,e=!1){if(!(ea&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),DF(t),e||t.docView&&t.docView.dirty){let n=bj(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Uge(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Jh=Ir&&fo<15||Nu&&zpe<604;fr.copy=mr.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Jh?null:n.clipboardData,a=r.content(),{dom:l,text:c}=wj(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):Uge(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Wge(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function qge(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Zh(t,r.value,null,s,e):Zh(t,r.textContent,r.innerHTML,s,e)},50)}function Zh(t,e,n,r,s){let i=CF(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||Ce.empty)))return!0;if(!i)return!1;let a=Wge(i),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function IF(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mr.paste=(t,e)=>{let n=e;if(t.composing&&!ea)return;let r=Jh?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Zh(t,IF(r),r.getData("text/html"),s,n)?n.preventDefault():qge(t,n)};class LF{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Kge=gs?"altKey":"ctrlKey";function RF(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Kge]}fr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Ax(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof $e?s.to-1:s.to))){if(r&&r.mightDrag)a=$e.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=$e.create(t.state.doc,f.posBefore))}}let l=(a||t.state.selection).content(),{dom:c,text:u,slice:d}=wj(t,l);(!n.dataTransfer.files.length||!Mn||lF>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Jh?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Jh||n.dataTransfer.setData("text/plain",u),t.dragging=new LF(d,RF(t,n),a)};fr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};mr.dragover=mr.dragenter=(t,e)=>e.preventDefault();mr.drop=(t,e)=>{try{Gge(t,e,t.dragging)}finally{t.dragging=null}};function Gge(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Ax(e));if(!r)return;let s=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",g=>{i=g(i,t,!1)}):i=CF(t,IF(e.dataTransfer),Jh?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&RF(t,e));if(t.someProp("handleDrop",g=>g(t,e,i||Ce.empty,a))){e.preventDefault();return}if(!i)return;e.preventDefault();let l=i?$8(t.state.doc,s.pos,i):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&$e.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new $e(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,v,b,w)=>g=w),c.setSelection(vj(t,p,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}fr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&aa(t)},20))};fr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};fr.beforeinput=(t,e)=>{if(Mn&&ea&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,ol(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in mr)fr[t]=mr[t];function ef(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class s0{constructor(e,n){this.toDOM=e,this.spec=n||Ml,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new Pn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof s0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ef(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class po{constructor(e,n){this.attrs=e,this.spec=n||Ml}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new Pn(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof po&&ef(this.attrs,e.attrs)&&ef(this.spec,e.spec)}static is(e){return e.type instanceof po}destroy(){}}class Cj{constructor(e,n){this.attrs=e,this.spec=n||Ml}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new Pn(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof Cj&&ef(this.attrs,e.attrs)&&ef(this.spec,e.spec)}destroy(){}}class Pn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Pn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Pn(e,e,new s0(n,r))}static inline(e,n,r,s){return new Pn(e,n,new po(r,s))}static node(e,n,r,s){return new Pn(e,n,new Cj(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof po}get widget(){return this.type instanceof s0}}const Hc=[],Ml={};class Et{constructor(e,n){this.local=e.length?e:Hc,this.children=n.length?n:Hc}static create(e,n){return n.length?i0(n,e,0,Ml):Qn}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==Qn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Ml)}mapInner(e,n,r,s,i){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,s);c&&c.type.valid(n,c)?(a||(a=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?Yge(this.children,a||[],e,n,r,s,i):a?new Et(a.sort(Pl),Hc):Qn}add(e,n){return n.length?this==Qn?Et.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,c)=>{let u=c+r,d;if(d=zF(n,l,u)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,d,u+1):s.splice(i,0,c,c+l.nodeSize,i0(d,l,u+1,Ml)),i+=3}});let a=FF(i?VF(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Et(a.length?this.local.concat(a).sort(Pl):this.local,s||this.children)}remove(e){return e.length==0||this==Qn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,c=r[i+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>l&&f.to<c&&(e[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(a,l+1);u!=Qn?r[i+2]=u:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let l=0;l<s.length;l++)s[l].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Et(s,r):Qn}forChild(e,n){if(this==Qn)return this;if(n.isLeaf)return Et.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>i&&c.type instanceof po){let u=Math.max(i,c.from)-i,d=Math.min(a,c.to)-i;u<d&&(s||(s=[])).push(c.copy(u,d))}}if(s){let l=new Et(s.sort(Pl),Hc);return r?new Ya([l,r]):l}return r||Qn}eq(e){if(this==e)return!0;if(!(e instanceof Et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return kj(this.localsInner(e))}localsInner(e){if(this==Qn)return Hc;if(e.inlineContent||!this.local.some(po.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof po||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Et.empty=new Et([],[]);Et.removeOverlap=kj;const Qn=Et.empty;class Ya{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Ml));return Ya.from(r)}forChild(e,n){if(n.isLeaf)return Et.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Qn&&(i instanceof Ya?r=r.concat(i.members):r.push(i))}return Ya.from(r)}eq(e){if(!(e instanceof Ya)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?kj(r?n:n.sort(Pl)):Hc}static from(e){switch(e.length){case 0:return Qn;case 1:return e[0];default:return new Ya(e.every(n=>n instanceof Et)?e:e.reduce((n,r)=>n.concat(r instanceof Et?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Yge(t,e,n,r,s,i,a){let l=t.slice();for(let u=0,d=i;u<n.maps.length;u++){let f=0;n.maps[u].forEach((p,g,x,v)=>{let b=v-x-(g-p);for(let w=0;w<l.length;w+=3){let N=l[w+1];if(N<0||p>N+d-f)continue;let C=l[w]+d-f;g>=C?l[w+1]=p<=C?-2:-1:p>=d&&b&&(l[w]+=b,l[w+1]+=b)}f+=b}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(t[u]+i),f=d-s;if(f<0||f>=r.content.size){c=!0;continue}let p=n.map(t[u+1]+i,-1),g=p-s,{index:x,offset:v}=r.content.findIndex(f),b=r.maybeChild(x);if(b&&v==f&&v+b.nodeSize==g){let w=l[u+2].mapInner(n,b,d+1,t[u]+i+1,a);w!=Qn?(l[u]=f,l[u+1]=g,l[u+2]=w):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=Xge(l,t,e,n,s,i,a),d=i0(u,r,0,a);e=d.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,p=0;f<d.children.length;f+=3){let g=d.children[f];for(;p<l.length&&l[p]<g;)p+=3;l.splice(p,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Et(e.sort(Pl),l)}function FF(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Pn(s.from+e,s.to+e,s.type))}return n}function Xge(t,e,n,r,s,i,a){function l(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(r,s,u);f?n.push(f):a.onRemove&&a.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return n}function zF(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function VF(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function i0(t,e,n,r){let s=[],i=!1;e.forEach((l,c)=>{let u=zF(t,l,c+n);if(u){i=!0;let d=i0(u,l,n+c+1,r);d!=Qn&&s.push(c,c+l.nodeSize,d)}});let a=FF(i?VF(t):t,-n).sort(Pl);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||s.length?new Et(a,s):Qn}function Pl(t,e){return t.from-e.from||t.to-e.to}function kj(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),iP(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),iP(e,s,r.copy(i.from,r.to)));break}}}return e}function iP(t,e,n){for(;e<t.length&&Pl(n,t[e])>0;)e++;t.splice(e,0,n)}function c1(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qn&&e.push(r)}),t.cursorWrapper&&e.push(Et.create(t.state.doc,[t.cursorWrapper.deco])),Ya.from(e)}const Qge={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Jge=Ir&&fo<=11;class Zge{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class e0e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Zge,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Ir&&fo<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Jge&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Qge)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(QM(this.view)){if(this.suppressingSelectionUpdates)return aa(this.view);if(Ir&&fo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ul(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=wu(i))n.add(i);for(let i=e.anchorNode;i;i=wu(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&QM(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(i=i<0?f.from:Math.min(f.from,i),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(l=!0))}if(ws&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,p]=d;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of d){let g=p.parentNode;g&&g.nodeName=="LI"&&(!f||r0e(e,f)!=g)&&p.remove()}}}else if((Mn||rr)&&c.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of c)if(d.nodeName=="BR"&&d.parentNode){let f=d.nextSibling;f&&f.nodeType==1&&f.contentEditable=="false"&&d.parentNode.removeChild(d)}}let u=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Mx(r)&&(u=bj(e))&&u.eq(Ge.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,aa(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),t0e(e)),this.handleDOMChange(i,a,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||aa(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Ir&&fo<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:p}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let a=s&&s.parentNode==e.target?Vn(s)+1:0,l=r.localPosFromDOM(e.target,a,-1),c=i&&i.parentNode==e.target?Vn(i):e.target.childNodes.length,u=r.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let aP=new WeakMap,oP=!1;function t0e(t){if(!aP.has(t)&&(aP.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ws,oP)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),oP=!0}}function lP(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Ul(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function n0e(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return lP(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?lP(t,n):null}function r0e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function s0e(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],Mx(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Mn&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let w=r.childNodes[b-1],N=w.pmViewDesc;if(w.nodeName=="BR"&&!N){i=b;break}if(!N||N.size)break}let f=t.state.doc,p=t.someProp("domParser")||ho.fromSchema(t.state.schema),g=f.resolve(a),x=null,v=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:i0e,context:g});if(u&&u[0].pos!=null){let b=u[0].pos,w=u[1]&&u[1].pos;w==null&&(w=b),x={anchor:b+a,head:w+a}}return{doc:v,sel:x,from:a,to:l}}function i0e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(rr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||rr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const a0e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function o0e(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,E=bj(t,P);if(E&&!t.state.selection.eq(E)){if(Mn&&ea&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",L=>L(t,ol(13,"Enter"))))return;let _=t.state.tr.setSelection(E);P=="pointer"?_.setMeta("pointer",!0):P=="key"&&_.scrollIntoView(),i&&_.setMeta("composition",i),t.dispatch(_)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,u=s0e(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let x=u0e(f.content,u.doc.content,u.from,p,g);if(x&&t.input.domChangeCount++,(Nu&&t.input.lastIOSEnter>Date.now()-225||ea)&&s.some(P=>P.nodeType==1&&!a0e.test(P.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",P=>P(t,ol(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&c instanceof Be&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))x={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let P=cP(t,t.state.doc,u.sel);if(P&&!P.eq(t.state.selection)){let E=t.state.tr.setSelection(P);i&&E.setMeta("composition",i),t.dispatch(E)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof Be&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Ir&&fo<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>u.from&&u.doc.textBetween(x.start-u.from-1,x.start-u.from+1)==" "&&(x.start--,x.endA--,x.endB--);let v=u.doc.resolveNoCache(x.start-u.from),b=u.doc.resolveNoCache(x.endB-u.from),w=d.resolve(x.start),N=v.sameParent(b)&&v.parent.inlineContent&&w.end()>=x.endA;if((Nu&&t.input.lastIOSEnter>Date.now()-225&&(!N||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!N&&v.pos<u.doc.content.size&&(!v.sameParent(b)||!v.parent.inlineContent)&&v.pos<b.pos&&!/\S/.test(u.doc.textBetween(v.pos,b.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,ol(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&c0e(d,x.start,x.endA,v,b)&&t.someProp("handleKeyDown",P=>P(t,ol(8,"Backspace")))){ea&&Mn&&t.domObserver.suppressSelectionUpdates();return}Mn&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),ea&&!N&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==x.endA&&(x.endB-=2,b=u.doc.resolveNoCache(x.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,ol(13,"Enter"))})},20));let C=x.start,M=x.endA,j=P=>{let E=P||t.state.tr.replace(C,M,u.doc.slice(x.start-u.from,x.endB-u.from));if(u.sel){let _=cP(t,E.doc,u.sel);_&&!(Mn&&t.composing&&_.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==C||_.head==E.mapping.map(M)-1)||Ir&&_.empty&&_.head==C)&&E.setSelection(_)}return i&&E.setMeta("composition",i),E.scrollIntoView()},A;if(N)if(v.pos==b.pos){Ir&&fo<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>aa(t),20));let P=j(t.state.tr.delete(C,M)),E=d.resolve(x.start).marksAcross(d.resolve(x.endA));E&&P.ensureMarks(E),t.dispatch(P)}else if(x.endA==x.endB&&(A=l0e(v.parent.content.cut(v.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let P=j(t.state.tr);A.type=="add"?P.addMark(C,M,A.mark):P.removeMark(C,M,A.mark),t.dispatch(P)}else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let P=v.parent.textBetween(v.parentOffset,b.parentOffset),E=()=>j(t.state.tr.insertText(P,C,M));t.someProp("handleTextInput",_=>_(t,C,M,P,E))||t.dispatch(E())}else t.dispatch(j());else t.dispatch(j())}function cP(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:vj(t,e.resolve(n.anchor),e.resolve(n.head))}function l0e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,l,c;for(let d=0;d<r.length;d++)s=r[d].removeFromSet(s);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],a="add",c=d=>d.mark(l.addToSet(d.marks));else if(s.length==0&&i.length==1)l=i[0],a="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(de.from(u).eq(t))return{mark:l,type:a}}function c0e(t,e,n,r,s){if(n-e<=s.pos-r.pos||u1(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(u1(i,!0,!0));return!a.parent.isTextblock||a.pos>n||u1(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function u1(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function u0e(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&t.size<e.size){let c=r<=i&&r>=a?i-r:0;i-=c,i&&i<e.size&&uP(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-a),a=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<t.size&&uP(t.textBetween(i-1,i+1))&&(i+=c?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function uP(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class $F{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Tge,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(pP),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=fP(this),hP(this),this.nodeViews=mP(this),this.docView=WM(this.state.doc,dP(this),c1(this),this.dom,this),this.domObserver=new e0e(this,(r,s,i,a)=>o0e(this,r,s,i,a)),this.domObserver.start(),Ege(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ww(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(pP),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(DF(this),a=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=mP(this);h0e(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&ww(this),this.editable=fP(this),hP(this);let c=c1(this),u=dP(this),d=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(s.selection))&&(a=!0);let p=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Bpe(this);if(a){this.domObserver.stop();let g=f&&(Ir||Mn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&d0e(s.selection,e.selection);if(f){let x=Mn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Bge(this)),(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=WM(e.doc,u,c,this.dom,this)),x&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&hge(this))?aa(this,g):(NF(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&Hpe(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof $e){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&zM(this,n.getBoundingClientRect(),e)}else zM(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new LF(e.slice,e.move,s<0?void 0:$e.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(Ir){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Upe(this.dom),aa(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Ype(this,e)}coordsAtPos(e,n=1){return mF(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return ege(this,n||this.state,e)}pasteHTML(e,n){return Zh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Zh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return wj(this,e)}destroy(){this.docView&&(Mge(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],c1(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Ope())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Age(this,e)}domSelectionRange(){let e=this.domSelection();return e?rr&&this.root.nodeType===11&&Rpe(this.dom.ownerDocument)==this.dom&&n0e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}$F.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function dP(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Pn.node(0,t.state.doc.content.size,e)]}function hP(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Pn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function fP(t){return!t.someProp("editable",e=>e(t.state)===!1)}function d0e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function mP(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function h0e(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function pP(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var jo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},f0e=typeof navigator<"u"&&/Mac/.test(navigator.platform),m0e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $n=0;$n<10;$n++)jo[48+$n]=jo[96+$n]=String($n);for(var $n=1;$n<=24;$n++)jo[$n+111]="F"+$n;for(var $n=65;$n<=90;$n++)jo[$n]=String.fromCharCode($n+32),a0[$n]=String.fromCharCode($n);for(var d1 in jo)a0.hasOwnProperty(d1)||(a0[d1]=jo[d1]);function p0e(t){var e=f0e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||m0e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?a0:jo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const g0e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),x0e=typeof navigator<"u"&&/Win/.test(navigator.platform);function y0e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))g0e?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function b0e(t){let e=Object.create(null);for(let n in t)e[y0e(n)]=t[n];return e}function h1(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function v0e(t){return new Lt({props:{handleKeyDown:Tj(t)}})}function Tj(t){let e=b0e(t);return function(n,r){let s=p0e(r),i,a=e[h1(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[h1(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(x0e&&r.ctrlKey&&r.altKey)&&(i=jo[r.keyCode])&&i!=s){let l=e[h1(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var w0e=Object.defineProperty,Ej=(t,e)=>{for(var n in e)w0e(t,n,{get:e[n],enumerable:!0})};function Ox(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var _x=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...u)=>{const d=l(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a=[],l=!!t,c=t||s.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,p])=>[f,(...x)=>{const v=this.buildProps(c,e),b=p(...x)(v);return a.push(b),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a={tr:t,editor:r,view:i,state:Ox({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}},BF={};Ej(BF,{blur:()=>N0e,clearContent:()=>S0e,clearNodes:()=>j0e,command:()=>C0e,createParagraphNear:()=>k0e,cut:()=>T0e,deleteCurrentNode:()=>E0e,deleteNode:()=>M0e,deleteRange:()=>P0e,deleteSelection:()=>A0e,enter:()=>O0e,exitCode:()=>_0e,extendMarkRange:()=>D0e,first:()=>I0e,focus:()=>R0e,forEach:()=>F0e,insertContent:()=>z0e,insertContentAt:()=>B0e,joinBackward:()=>W0e,joinDown:()=>U0e,joinForward:()=>q0e,joinItemBackward:()=>K0e,joinItemForward:()=>G0e,joinTextblockBackward:()=>Y0e,joinTextblockForward:()=>X0e,joinUp:()=>H0e,keyboardShortcut:()=>J0e,lift:()=>Z0e,liftEmptyBlock:()=>exe,liftListItem:()=>txe,newlineInCode:()=>nxe,resetAttributes:()=>rxe,scrollIntoView:()=>sxe,selectAll:()=>ixe,selectNodeBackward:()=>axe,selectNodeForward:()=>oxe,selectParentNode:()=>lxe,selectTextblockEnd:()=>cxe,selectTextblockStart:()=>uxe,setContent:()=>dxe,setMark:()=>Pxe,setMeta:()=>Axe,setNode:()=>Oxe,setNodeSelection:()=>_xe,setTextDirection:()=>Dxe,setTextSelection:()=>Ixe,sinkListItem:()=>Lxe,splitBlock:()=>Rxe,splitListItem:()=>Fxe,toggleList:()=>zxe,toggleMark:()=>Vxe,toggleNode:()=>$xe,toggleWrap:()=>Bxe,undoInputRule:()=>Hxe,unsetAllMarks:()=>Uxe,unsetMark:()=>Wxe,unsetTextDirection:()=>qxe,updateAttributes:()=>Kxe,wrapIn:()=>Gxe,wrapInList:()=>Yxe});var N0e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),S0e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),j0e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),p=u.resolve(d.map(c+l.nodeSize)),g=f.blockRange(p);if(!g)return;const x=Fu(g);if(l.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(g.start,v)}(x||x===0)&&e.lift(g,x)})}),!0},C0e=t=>e=>t(e),k0e=()=>({state:t,dispatch:e})=>rF(t,e),T0e=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new Be(r.doc.resolve(Math.max(a-1,0)))),!0},E0e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1};function xn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var M0e=t=>({tr:e,state:n,dispatch:r})=>{const s=xn(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const c=i.before(a),u=i.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1},P0e=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},A0e=()=>({state:t,dispatch:e})=>fj(t,e),O0e=()=>({commands:t})=>t.keyboardShortcut("Enter"),_0e=()=>({state:t,dispatch:e})=>xpe(t,e);function Mj(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function o0(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:Mj(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function HF(t,e,n={}){return t.find(r=>r.type===e&&o0(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function gP(t,e,n={}){return!!HF(t,e,n)}function Pj(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(d=>d.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(d=>d.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!HF([...s.node.marks],e,n)))return;let a=s.index,l=t.start()+s.offset,c=a+1,u=l+s.node.nodeSize;for(;a>0&&gP([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&gP([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function va(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var D0e=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=va(t,r.schema),{doc:a,selection:l}=n,{$from:c,from:u,to:d}=l;if(s){const f=Pj(c,i,e);if(f&&f.from<=u&&f.to>=d){const p=Be.create(a,f.from,f.to);n.setSelection(p)}}return!0},I0e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function UF(t){return t instanceof Be}function yl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function WF(t,e=null){if(!e)return null;const n=Ge.atStart(t),r=Ge.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Be.create(t,yl(0,s,i),yl(t.content.size,s,i)):Be.create(t,yl(e,s,i),yl(e,s,i))}function L0e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Aj(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var R0e=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(Aj()||L0e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!UF(n.state.selection))return a(),!0;const l=WF(s.doc,t)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},F0e=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),z0e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),qF=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&qF(r)}return t};function vp(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return qF(n)}function tf(t,e,n){if(t instanceof uo||t instanceof de)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return de.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),tf("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,l="";const c=new P8({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?ho.fromSchema(c).parseSlice(vp(t),n.parseOptions):ho.fromSchema(c).parse(vp(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=ho.fromSchema(e);return n.slice?i.parseSlice(vp(t),n.parseOptions).content:i.parse(vp(t),n.parseOptions)}return tf("",e,n)}function V0e(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Tn||s instanceof An))return;const i=t.mapping.maps[r];let a=0;i.forEach((l,c,u,d)=>{a===0&&(a=d)}),t.setSelection(Ge.near(t.doc.resolve(a),n))}var $0e=t=>!("type"in t),B0e=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{tf(e,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){c(b)}try{l=tf(e,i.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(b){return c(b),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if(($0e(l)?l:[l]).forEach(b=>{b.check(),p=p?b.isText&&b.marks.length===0:!1,g=g?b.isBlock:!1}),d===f&&g){const{parent:b}=r.doc.resolve(d);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(d-=1,f+=1)}let v;if(p){if(Array.isArray(e))v=e.map(b=>b.text||"").join("");else if(e instanceof de){let b="";e.forEach(w=>{w.text&&(b+=w.text)}),v=b}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,f)}else{v=l;const b=r.doc.resolve(d),w=b.node(),N=b.parentOffset===0,C=w.isText||w.isTextblock,M=w.content.size>0;N&&C&&M&&(d=Math.max(0,d-1)),r.replaceWith(d,f,v)}n.updateSelection&&V0e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},H0e=()=>({state:t,dispatch:e})=>mpe(t,e),U0e=()=>({state:t,dispatch:e})=>ppe(t,e),W0e=()=>({state:t,dispatch:e})=>X8(t,e),q0e=()=>({state:t,dispatch:e})=>eF(t,e),K0e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=kx(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},G0e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=kx(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Y0e=()=>({state:t,dispatch:e})=>hpe(t,e),X0e=()=>({state:t,dispatch:e})=>fpe(t,e);function KF(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Q0e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))Aj()||KF()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var J0e=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=Q0e(t).split(/-(?!$)/),a=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const d=u.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function Co(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?xn(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(f,p)=>{if(f.isText)return;const g=Math.max(r,p),x=Math.min(s,p+f.nodeSize);l.push({node:f,from:g,to:x})});const c=s-r,u=l.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>o0(f.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((f,p)=>f+p.to-p.from,0)>=c}var Z0e=(t,e={})=>({state:n,dispatch:r})=>{const s=xn(t,n.schema);return Co(n,s,e)?gpe(n,r):!1},exe=()=>({state:t,dispatch:e})=>sF(t,e),txe=t=>({state:e,dispatch:n})=>{const r=xn(t,e.schema);return Epe(r)(e,n)},nxe=()=>({state:t,dispatch:e})=>nF(t,e);function Dx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function xP(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var rxe=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Dx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=xn(t,r.schema)),l==="mark"&&(a=va(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,f)=>{i&&i===d.type&&(c=!0,s&&n.setNodeMarkup(f,void 0,xP(d.attrs,e))),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&(c=!0,s&&n.addMark(f,f+d.nodeSize,a.create(xP(p.attrs,e))))})})}),c},sxe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ixe=()=>({tr:t,dispatch:e})=>{if(e){const n=new Yr(t.doc);t.setSelection(n)}return!0},axe=()=>({state:t,dispatch:e})=>J8(t,e),oxe=()=>({state:t,dispatch:e})=>tF(t,e),lxe=()=>({state:t,dispatch:e})=>vpe(t,e),cxe=()=>({state:t,dispatch:e})=>Spe(t,e),uxe=()=>({state:t,dispatch:e})=>Npe(t,e);function Nw(t,e,n={},r={}){return tf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var dxe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:a,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const u=Nw(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&i.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function GF(t,e){const n=va(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,c=>{a.push(...c.marks)});const l=a.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function YF(t,e){const n=new dj(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function hxe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function fxe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function XF(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Ix(t){return e=>XF(e.$from,t)}function Fe(t,e,n){return t.config[e]===void 0&&t.parent?Fe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Fe(t.parent,e,n):null}):t.config[e]}function Oj(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Fe(e,"addExtensions",n);return r?[e,...Oj(r())]:e}).flat(10)}function _j(t,e){const n=nc.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function QF(t){return typeof t=="function"}function yt(t,e=void 0,...n){return QF(t)?e?t.bind(e)(...n):t(...n):t}function mxe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Su(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function JF(t){const e=[],{nodeExtensions:n,markExtensions:r}=Su(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:s},c=Fe(a,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([p,g])=>{e.push({type:f,name:p,attribute:{...i,...g}})})})})}),s.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},c=Fe(a,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const p={...i,...f};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,e.push({type:a.name,name:d,attribute:p})})}),e}function Pt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=r[s]?r[s].split(" "):[],u=l.filter(d=>!c.includes(d));r[s]=[...c,...u].join(" ")}else if(s==="style"){const l=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[s]?r[s].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),l.forEach(d=>{const[f,p]=d.split(":").map(g=>g.trim());u.set(f,p)}),r[s]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[s]=i}),r},{})}function l0(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Pt(n,r),{})}function pxe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function yP(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):pxe(n.getAttribute(a.name));return l==null?i:{...i,[a.name]:l}},{});return{...r,...s}}}}function bP(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&mxe(n)?!1:n!=null))}function vP(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function gxe(t,e){var n;const r=JF(t),{nodeExtensions:s,markExtensions:i}=Su(t),a=(n=s.find(u=>Fe(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(s.map(u=>{const d=r.filter(w=>w.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((w,N)=>{const C=Fe(N,"extendNodeSchema",f);return{...w,...C?C(u):{}}},{}),g=bP({...p,content:yt(Fe(u,"content",f)),marks:yt(Fe(u,"marks",f)),group:yt(Fe(u,"group",f)),inline:yt(Fe(u,"inline",f)),atom:yt(Fe(u,"atom",f)),selectable:yt(Fe(u,"selectable",f)),draggable:yt(Fe(u,"draggable",f)),code:yt(Fe(u,"code",f)),whitespace:yt(Fe(u,"whitespace",f)),linebreakReplacement:yt(Fe(u,"linebreakReplacement",f)),defining:yt(Fe(u,"defining",f)),isolating:yt(Fe(u,"isolating",f)),attrs:Object.fromEntries(d.map(vP))}),x=yt(Fe(u,"parseHTML",f));x&&(g.parseDOM=x.map(w=>yP(w,d)));const v=Fe(u,"renderHTML",f);v&&(g.toDOM=w=>v({node:w,HTMLAttributes:l0(w,d)}));const b=Fe(u,"renderText",f);return b&&(g.toText=b),[u.name,g]})),c=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((b,w)=>{const N=Fe(w,"extendMarkSchema",f);return{...b,...N?N(u):{}}},{}),g=bP({...p,inclusive:yt(Fe(u,"inclusive",f)),excludes:yt(Fe(u,"excludes",f)),group:yt(Fe(u,"group",f)),spanning:yt(Fe(u,"spanning",f)),code:yt(Fe(u,"code",f)),attrs:Object.fromEntries(d.map(vP))}),x=yt(Fe(u,"parseHTML",f));x&&(g.parseDOM=x.map(b=>yP(b,d)));const v=Fe(u,"renderHTML",f);return v&&(g.toDOM=b=>v({mark:b,HTMLAttributes:l0(b,d)})),[u.name,g]}));return new P8({topNode:a,nodes:l,marks:c})}function xxe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Dj(t){return t.sort((n,r)=>{const s=Fe(n,"priority")||100,i=Fe(r,"priority")||100;return s>i?-1:s<i?1:0})}function ZF(t){const e=Dj(Oj(t)),n=xxe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function e7(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,s,(c,u,d,f)=>{var p;c.isBlock&&u>r&&(l+=i);const g=a?.[c.type.name];if(g)return d&&(l+=g({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(l+=(p=c?.text)==null?void 0:p.slice(Math.max(r,u)-u,s-u))}),l}function yxe(t,e){const n={from:0,to:t.content.size};return e7(t,n,e)}function t7(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function bxe(t,e){const n=xn(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const a=i.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function n7(t,e){const n=Dx(typeof e=="string"?e:e.name,t.schema);return n==="node"?bxe(t,e):n==="mark"?GF(t,e):{}}function vxe(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function wxe(t){const e=vxe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function r7(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((l,c)=>{a.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;a.push({from:l,to:c})}a.forEach(({from:l,to:c})=>{const u=e.slice(i).map(l,-1),d=e.slice(i).map(c),f=e.invert().map(u,-1),p=e.invert().map(d);r.push({oldRange:{from:f,to:p},newRange:{from:u,to:d}})})}),wxe(r)}function Ij(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=Pj(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}var Nxe=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,a=null;for(;i>0&&a===null;){const l=s.node(i);l?.type.name===e?a=l:i-=1}return[a,i]};function f1(t,e){return e.nodes[t]||e.marks[t]||null}function ag(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var Sxe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,l)=>{var c,u;const d=((u=(c=s.type.spec).toText)==null?void 0:u.call(c,{node:s,pos:i,parent:a,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?d:d.slice(0,Math.max(0,r-i))}),n};function Sw(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?va(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>o0(f.attrs,n,{strict:!1}));let a=0;const l=[];if(s.forEach(({$from:f,$to:p})=>{const g=f.pos,x=p.pos;t.doc.nodesBetween(g,x,(v,b)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(g,b),N=Math.min(x,b+v.nodeSize),C=N-w;a+=C,l.push(...v.marks.map(M=>({mark:M,from:w,to:N})))})}),a===0)return!1;const c=l.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>o0(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),u=l.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+u:c)>=a}function jxe(t,e,n={}){if(!e)return Co(t,null,n)||Sw(t,null,n);const r=Dx(e,t.schema);return r==="node"?Co(t,e,n):r==="mark"?Sw(t,e,n):!1}var Cxe=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=Ix(l=>l.type.name===e)(t.selection);if(!i)return!1;const a=t.doc.resolve(i.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},kxe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function wP(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function NP(t,e){const{nodeExtensions:n}=Su(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=yt(Fe(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Lx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(Lx(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function s7(t){return t instanceof $e}var i7=class a7{constructor(e){this.position=e}static fromJSON(e){return new a7(e.position)}toJSON(){return{position:this.position}}};function Txe(t,e){const n=e.mapping.mapResult(t.position);return{position:new i7(n.pos),mapResult:n}}function Exe(t){return new i7(t)}function Mxe(t,e,n){var r;const{selection:s}=e;let i=null;if(UF(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(d,f,p)=>{if(u)return!1;if(d.isInline){const g=!p||p.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=g&&x}return!u}),u})}var Pxe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:l}=i,c=va(t,r.schema);if(s)if(a){const u=GF(r,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(p,g)=>{const x=Math.max(g,d),v=Math.min(g+p.nodeSize,f);p.marks.find(w=>w.type===c)?p.marks.forEach(w=>{c===w.type&&n.addMark(x,v,c.create({...w.attrs,...e}))}):n.addMark(x,v,c.create(e))})});return Mxe(r,n,c)},Axe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Oxe=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=xn(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>LM(i,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>LM(i,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},_xe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=yl(t,0,r.content.size),i=$e.create(r,s);e.setSelection(i)}return!0},Dxe=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=i.from,l=i.to),s&&n.doc.nodesBetween(a,l,(c,u)=>{c.isText||n.setNodeMarkup(u,void 0,{...c.attrs,dir:t})}),!0},Ixe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=Be.atStart(r).from,l=Be.atEnd(r).to,c=yl(s,a,l),u=yl(i,a,l),d=Be.create(r,c,u);e.setSelection(d)}return!0},Lxe=t=>({state:e,dispatch:n})=>{const r=xn(t,e.schema);return Ape(r)(e,n)};function SP(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var Rxe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:l,$to:c}=i,u=s.extensionManager.attributes,d=ag(u,l.node().type.name,l.node().attrs);if(i instanceof $e&&i.node.isBlock)return!l.parentOffset||!ia(a,l.pos)?!1:(r&&(t&&SP(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:hxe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=f&&p?[{type:p,attrs:d}]:void 0,x=ia(e.doc,e.mapping.map(l.pos),1,g);if(!g&&!x&&ia(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(x=!0,g=p?[{type:p,attrs:d}]:void 0),r){if(x&&(i instanceof Be&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,g),p&&!f&&!l.parentOffset&&l.parent.type!==p)){const v=e.mapping.map(l.before()),b=e.doc.resolve(v);l.node(-1).canReplaceWith(b.index(),b.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&SP(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},Fxe=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const l=xn(t,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let w=de.empty;const N=c.index(-1)?1:c.index(-2)?2:3;for(let E=c.depth-N;E>=c.depth-3;E-=1)w=de.from(c.node(E).copy(w));const C=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,M={...ag(p,c.node().type.name,c.node().attrs),...e},j=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(M))||void 0;w=w.append(de.from(l.createAndFill(null,j)||void 0));const A=c.before(c.depth-(N-1));n.replace(A,c.after(-C),new Ce(w,4-N,0));let P=-1;n.doc.nodesBetween(A,n.doc.content.size,(E,_)=>{if(P>-1)return!1;E.isTextblock&&E.content.size===0&&(P=_+1)}),P>-1&&n.setSelection(Be.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const g=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,x={...ag(p,f.type.name,f.attrs),...e},v={...ag(p,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const b=g?[{type:l,attrs:x},{type:g,attrs:v}]:[{type:l,attrs:x}];if(!ia(n.doc,c.pos,2))return!1;if(s){const{selection:w,storedMarks:N}=r,{splittableMarks:C}=i.extensionManager,M=N||w.$to.parentOffset&&w.$from.marks();if(n.split(c.pos,2,b).scrollIntoView(),!M||!s)return!0;const j=M.filter(A=>C.includes(A.type.name));n.ensureMarks(j)}return!0},m1=(t,e)=>{const n=Ix(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Po(t.doc,n.pos)&&t.join(n.pos),!0},p1=(t,e)=>{const n=Ix(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Po(t.doc,r)&&t.join(r),!0},zxe=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:p}=s.extensionManager,g=xn(t,a.schema),x=xn(e,a.schema),{selection:v,storedMarks:b}=a,{$from:w,$to:N}=v,C=w.blockRange(N),M=b||v.$to.parentOffset&&v.$from.marks();if(!C)return!1;const j=Ix(A=>NP(A.type.name,f))(v);if(C.depth>=1&&j&&C.depth-j.depth<=1){if(j.node.type===g)return u.liftListItem(x);if(NP(j.node.type.name,f)&&g.validContent(j.node.content)&&l)return c().command(()=>(i.setNodeMarkup(j.pos,g),!0)).command(()=>m1(i,g)).command(()=>p1(i,g)).run()}return!n||!M||!l?c().command(()=>d().wrapInList(g,r)?!0:u.clearNodes()).wrapInList(g,r).command(()=>m1(i,g)).command(()=>p1(i,g)).run():c().command(()=>{const A=d().wrapInList(g,r),P=M.filter(E=>p.includes(E.type.name));return i.ensureMarks(P),A?!0:u.clearNodes()}).wrapInList(g,r).command(()=>m1(i,g)).command(()=>p1(i,g)).run()},Vxe=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=va(t,r.schema);return Sw(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},$xe=(t,e,n={})=>({state:r,commands:s})=>{const i=xn(t,r.schema),a=xn(e,r.schema),l=Co(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?s.setNode(a,c):s.setNode(i,{...c,...n})},Bxe=(t,e={})=>({state:n,commands:r})=>{const s=xn(t,n.schema);return Co(n,s,e)?r.lift(s):r.wrapIn(s,e)},Hxe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)a.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else a.delete(i.from,i.to)}return!0}}return!1},Uxe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Wxe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,c=va(t,r.schema),{$from:u,empty:d,ranges:f}=l;if(!s)return!0;if(d&&a){let{from:p,to:g}=l;const x=(i=u.marks().find(b=>b.type===c))==null?void 0:i.attrs,v=Pj(u,c,x);v&&(p=v.from,g=v.to),n.removeMark(p,g,c)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},qxe=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let i,a;return typeof t=="number"?(i=t,a=t):t&&"from"in t&&"to"in t?(i=t.from,a=t.to):(i=s.from,a=s.to),r&&e.doc.nodesBetween(i,a,(l,c)=>{if(l.isText)return;const u={...l.attrs};delete u.dir,e.setNodeMarkup(c,void 0,u)}),!0},Kxe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Dx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(i=xn(t,r.schema)),l==="mark"&&(a=va(t,r.schema));let c=!1;return n.selection.ranges.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;let p,g,x,v;n.selection.empty?r.doc.nodesBetween(d,f,(b,w)=>{i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b)}):r.doc.nodesBetween(d,f,(b,w)=>{w<d&&i&&i===b.type&&(c=!0,x=Math.max(w,d),v=Math.min(w+b.nodeSize,f),p=w,g=b),w>=d&&w<=f&&(i&&i===b.type&&(c=!0,s&&n.setNodeMarkup(w,void 0,{...b.attrs,...e})),a&&b.marks.length&&b.marks.forEach(N=>{if(a===N.type&&(c=!0,s)){const C=Math.max(w,d),M=Math.min(w+b.nodeSize,f);n.addMark(C,M,a.create({...N.attrs,...e}))}}))}),g&&(p!==void 0&&s&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(b=>{a===b.type&&s&&n.addMark(x,v,a.create({...b.attrs,...e}))}))}),c},Gxe=(t,e={})=>({state:n,dispatch:r})=>{const s=xn(t,n.schema);return jpe(s,e)(n,r)},Yxe=(t,e={})=>({state:n,dispatch:r})=>{const s=xn(t,n.schema);return Cpe(s,e)(n,r)},Xxe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Rx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Qxe=(t,e)=>{if(Mj(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function wp(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const f=Sxe(u)+i;return a.forEach(p=>{if(d)return;const g=Qxe(f,p.find);if(!g)return;const x=c.state.tr,v=Ox({state:c.state,transaction:x}),b={from:r-(g[0].length-i.length),to:s},{commands:w,chain:N,can:C}=new _x({editor:n,state:v});p.handler({state:v,range:b,match:g,commands:w,chain:N,can:C})===null||!x.steps.length||(p.undoable&&x.setMeta(l,{transform:x,from:r,to:s,text:i}),c.dispatch(x),d=!0)}),d}function Jxe(t){const{editor:e,rules:n}=t,r=new Lt({state:{init(){return null},apply(s,i,a){const l=s.getMeta(r);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=_j(de.from(d),a.schema);const{from:f}=c,p=f+d.length;wp({editor:e,from:f,to:p,text:d,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,l){return wp({editor:e,from:i,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&wp({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?wp({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Zxe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Np(t){return Zxe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function o7(t,e){const n={...t};return Np(t)&&Np(e)&&Object.keys(e).forEach(r=>{Np(e[r])&&Np(t[r])?n[r]=o7(t[r],e[r]):n[r]=e[r]}),n}var Lj=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...yt(Fe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...yt(Fe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>o7(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Oo=class l7 extends Lj{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new l7(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;const c=a.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function eye(t){return typeof t=="number"}var tye=class{constructor(t){this.find=t.find,this.handler=t.handler}},nye=(t,e,n)=>{if(Mj(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function rye(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:l}=t,{commands:c,chain:u,can:d}=new _x({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,s,(g,x)=>{var v,b,w,N,C;if((b=(v=g.type)==null?void 0:v.spec)!=null&&b.code||!(g.isText||g.isTextblock||g.isInline))return;const M=(C=(N=(w=g.content)==null?void 0:w.size)!=null?N:g.nodeSize)!=null?C:0,j=Math.max(r,x),A=Math.min(s,x+M);if(j>=A)return;const P=g.isText?g.text||"":g.textBetween(j-x,A-x,void 0,"");nye(P,i.find,a).forEach(_=>{if(_.index===void 0)return;const L=j+_.index+1,D=L+_[0].length,R={from:n.tr.mapping.map(L),to:n.tr.mapping.map(D)},G=i.handler({state:n,range:R,match:_,commands:c,chain:u,can:d,pasteEvent:a,dropEvent:l});f.push(G)})}),f.every(g=>g!==null)}var Sp=null,sye=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function iye(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:f,to:p,rule:g,pasteEvt:x})=>{const v=d.tr,b=Ox({state:d,transaction:v});if(!(!rye({editor:e,state:b,from:Math.max(f-1,0),to:p.b-1,rule:g,pasteEvent:x,dropEvent:l})||!v.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Lt({view(f){const p=x=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(x.target)?f.dom.parentElement:null,r&&(Sp=e)},g=()=>{Sp&&(Sp=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(f,p)=>{if(i=r===f.dom.parentElement,l=p,!i){const g=Sp;g?.isEditable&&setTimeout(()=>{const x=g.state.selection;x&&g.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(f,p)=>{var g;const x=(g=p.clipboardData)==null?void 0:g.getData("text/html");return a=p,s=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(f,p,g)=>{const x=f[0],v=x.getMeta("uiEvent")==="paste"&&!s,b=x.getMeta("uiEvent")==="drop"&&!i,w=x.getMeta("applyPasteRules"),N=!!w;if(!v&&!b&&!N)return;if(N){let{text:j}=w;typeof j=="string"?j=j:j=_j(de.from(j),g.schema);const{from:A}=w,P=A+j.length,E=sye(j);return c({rule:d,state:g,from:A,to:{b:P},pasteEvt:E})}const C=p.doc.content.findDiffStart(g.doc.content),M=p.doc.content.findDiffEnd(g.doc.content);if(!(!eye(C)||!M||C===M.b))return c({rule:d,state:g,from:C,to:M,pasteEvt:a})}}))}var Fx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=ZF(t),this.schema=gxe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:f1(e.name,this.schema)},r=Fe(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Dj([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:f1(r.name,this.schema)},i=[],a=Fe(r,"addKeyboardShortcuts",s);let l={};if(r.type==="mark"&&Fe(r,"exitable",s)&&(l.ArrowRight=()=>Oo.handleExit({editor:t,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([g,x])=>[g,()=>x({editor:t})]));l={...l,...p}}const c=v0e(l);i.push(c);const u=Fe(r,"addInputRules",s);if(wP(r,t.options.enableInputRules)&&u){const p=u();if(p&&p.length){const g=Jxe({editor:t,rules:p}),x=Array.isArray(g)?g:[g];i.push(...x)}}const d=Fe(r,"addPasteRules",s);if(wP(r,t.options.enablePasteRules)&&d){const p=d();if(p&&p.length){const g=iye({editor:t,rules:p});i.push(...g)}}const f=Fe(r,"addProseMirrorPlugins",s);if(f){const p=f();i.push(...p)}return i})}get attributes(){return JF(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Su(this.extensions);return Object.fromEntries(e.filter(n=>!!Fe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:xn(n.name,this.schema)},i=Fe(n,"addNodeView",s);if(!i)return[];const a=i();if(!a)return[];const l=(c,u,d,f,p)=>{const g=l0(c,r);return a({node:c,view:u,getPos:d,decorations:f,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Su(this.extensions);return Object.fromEntries(e.filter(n=>!!Fe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:va(n.name,this.schema)},i=Fe(n,"addMarkView",s);if(!i)return[];const a=(l,c,u)=>{const d=l0(l,r);return i()({mark:l,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{vye(l,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:f1(e.name,this.schema)};e.type==="mark"&&((n=yt(Fe(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=Fe(e,"onBeforeCreate",r),i=Fe(e,"onCreate",r),a=Fe(e,"onUpdate",r),l=Fe(e,"onSelectionUpdate",r),c=Fe(e,"onTransaction",r),u=Fe(e,"onFocus",r),d=Fe(e,"onBlur",r),f=Fe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};Fx.resolve=ZF;Fx.sort=Dj;Fx.flatten=Oj;var aye={};Ej(aye,{ClipboardTextSerializer:()=>u7,Commands:()=>d7,Delete:()=>h7,Drop:()=>f7,Editable:()=>m7,FocusEvents:()=>g7,Keymap:()=>x7,Paste:()=>y7,Tabindex:()=>b7,TextDirection:()=>v7,focusEventsPluginKey:()=>p7});var St=class c7 extends Lj{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new c7(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},u7=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Lt({key:new tn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),c=t7(n);return e7(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),d7=St.create({name:"commands",addCommands(){return{...BF}}}),h7=St.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var a,l,c,u;if((u=(c=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const d=YF(t.before,[t,...e]);r7(d).forEach(g=>{d.mapping.mapResult(g.oldRange.from).deletedAfter&&d.mapping.mapResult(g.oldRange.to).deletedBefore&&d.before.nodesBetween(g.oldRange.from,g.oldRange.to,(x,v)=>{const b=v+x.nodeSize-2,w=g.oldRange.from<=v&&b<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:v,to:b,newFrom:d.mapping.map(v),newTo:d.mapping.map(b),deletedRange:g.oldRange,newRange:g.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:d})})});const p=d.mapping;d.steps.forEach((g,x)=>{var v,b;if(g instanceof Fs){const w=p.slice(x).map(g.from,-1),N=p.slice(x).map(g.to),C=p.invert().map(w,-1),M=p.invert().map(N),j=(v=d.doc.nodeAt(w-1))==null?void 0:v.marks.some(P=>P.eq(g.mark)),A=(b=d.doc.nodeAt(N))==null?void 0:b.marks.some(P=>P.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:C,to:M},newRange:{from:w,to:N},partial:!!(A||j),editor:this.editor,transaction:t,combinedTransform:d})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),f7=St.create({name:"drop",addProseMirrorPlugins(){return[new Lt({key:new tn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),m7=St.create({name:"editable",addProseMirrorPlugins(){return[new Lt({key:new tn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),p7=new tn("focusEvents"),g7=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Lt({key:p7,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),x7=St.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:f}=c,{pos:p,parent:g}=f,x=f.parent.isTextblock&&p>0?l.doc.resolve(p-1):f,v=x.parent.type.spec.isolating,b=f.pos-f.parentOffset,w=v&&x.parent.childCount===1?b===f.pos:Ge.atStart(u).from===p;return!d||!g.type.isTextblock||g.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Aj()||KF()?i:s},addProseMirrorPlugins(){return[new Lt({key:new tn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),s=t.some(v=>v.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:l}=e.selection,c=Ge.atStart(e.doc).from,u=Ge.atEnd(e.doc).to;if(i||!(a===c&&l===u)||!Lx(n.doc))return;const p=n.tr,g=Ox({state:n,transaction:p}),{commands:x}=new _x({editor:this.editor,state:g});if(x.clearNodes(),!!p.steps.length)return p}})]}}),y7=St.create({name:"paste",addProseMirrorPlugins(){return[new Lt({key:new tn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),b7=St.create({name:"tabindex",addProseMirrorPlugins(){return[new Lt({key:new tn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),v7=St.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Su(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Lt({key:new tn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),oye=class Uc{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Uc(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Uc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Uc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!s&&l.depth<=this.depth)return;const c=new Uc(l,this.editor,s,s?n:null);s&&(c.actualDepth=this.depth+1),e.push(new Uc(l,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const c=a[l];if(i[c]!==n[c])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(c=>n[c]===a.node.attrs[c])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},lye=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function cye(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var uye=class extends Xxe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:Txe,createMappablePosition:Exe},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=WF(e,this.options.autofocus);this.editorState=eu.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=cye(lye,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=QF(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[m7,u7.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),d7,g7,x7,b7,f7,y7,h7,v7.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Fx(r,this)}createCommandManager(){this.commandManager=new _x({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Nw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Nw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new $F(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=a?.getMeta("focus"),c=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return n7(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return jxe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _j(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return yxe(this.state.doc,{blockSeparator:e,textSerializers:{...t7(this.schema),...n}})}get isEmpty(){return Lx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new oye(e,this)}get $doc(){return this.$pos(0)}};function ju(t){return new Rx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=yt(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];if(a){const c=l.search(/\S/),u=n.from+l.indexOf(a),d=u+a.length;if(Ij(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(v=>v===t.type&&v!==g.mark.type)).filter(g=>g.to>u).length)return null;d<n.to&&i.delete(d,n.to),u>n.from&&i.delete(n.from+c,u);const p=n.from+c+a.length;i.addMark(n.from+c,p,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function w7(t){return new Rx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=yt(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let l=n.to;const c=t.type.create(s);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>l?d=l:l=d+r[1].length;const f=r[0][r[0].length-1];i.insertText(f,a+r[0].length-1),i.replaceWith(d,l,c)}else if(r[0]){const u=t.type.isInline?a:a-1;i.insert(u,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function jw(t){return new Rx({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=yt(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function Cu(t){return new Rx({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=yt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),u=c&&uj(c,t.type,i);if(!u)return null;if(a.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,x=p||f.$to.parentOffset&&f.$from.marks();if(x){const v=x.filter(b=>g.includes(b.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,i).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Po(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}var dye=t=>"touches"in t,hye=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const c=l.touches[0];if(!c)return;const u=c.clientX-this.startX,d=c.clientY-this.startY;this.handleResize(u,d)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,c=this.element.offsetHeight;this.onCommit(l,c),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,s,i,a;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(a=t.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),s=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),s&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,dye(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,s=this.startHeight;const i=t.includes("right"),a=t.includes("left"),l=t.includes("bottom"),c=t.includes("top");return i?r=this.startWidth+e:a&&(r=this.startWidth-e),l?s=this.startHeight+n:c&&(s=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,t):{width:r,height:s}}applyConstraints(t,e,n){var r,s,i,a;if(!n){let u=Math.max(this.minSize.width,t),d=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(u=Math.min(this.maxSize.width,u)),(s=this.maxSize)!=null&&s.height&&(d=Math.min(this.maxSize.height,d)),{width:u,height:d}}let l=t,c=e;return l<this.minSize.width&&(l=this.minSize.width,c=l/this.aspectRatio),c<this.minSize.height&&(c=this.minSize.height,l=c*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&l>this.maxSize.width&&(l=this.maxSize.width,c=l/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&c>this.maxSize.height&&(c=this.maxSize.height,l=c*this.aspectRatio),{width:l,height:c}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function fye(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof $e){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var mye={};Ej(mye,{createAtomBlockMarkdownSpec:()=>pye,createBlockMarkdownSpec:()=>gye,createInlineMarkdownSpec:()=>bye,parseAttributes:()=>Rj,parseIndentedBlocks:()=>Cw,renderNestedMarkdownContent:()=>zj,serializeAttributes:()=>Fj});function Rj(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const u=s.map(d=>d.trim().slice(1));e.class=u.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,u,d])=>{var f;const p=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),g=n[p];g&&(e[u]=g.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function Fj(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function pye(t){const{nodeName:e,name:n,parseAttributes:r=Rj,serializeAttributes:s=Fj,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{const p={...i,...d.attributes};return f.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const p=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(f=d.match(p))==null?void 0:f.index;return g!==void 0?g:-1},tokenize(d,f,p){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=d.match(g);if(!x)return;const v=x[1]||"",b=r(v);if(!a.find(N=>!(N in b)))return{type:e,raw:x[0],attributes:b}}},renderMarkdown:d=>{const f=u(d.attrs||{}),p=s(f),g=p?` {${p}}`:"";return`:::${c}${g} :::`}}}function gye(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=Rj,serializeAttributes:i=Fj,defaultAttributes:a={},content:l="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const p={};return c.forEach(g=>{g in f&&(p[g]=f[g])}),p};return{parseMarkdown:(f,p)=>{let g;if(r){const v=r(f);g=typeof v=="string"?[{type:"text",text:v}]:v}else l==="block"?g=p.parseChildren(f.tokens||[]):g=p.parseInline(f.tokens||[]);const x={...a,...f.attributes};return p.createNode(e,x,g)},markdownTokenizer:{name:e,level:"block",start(f){var p;const g=new RegExp(`^:::${u}`,"m"),x=(p=f.match(g))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(f,p,g){var x;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=f.match(v);if(!b)return;const[w,N=""]=b,C=s(N);let M=1;const j=w.length;let A="";const P=/^:::([\w-]*)(\s.*)?/gm,E=f.slice(j);for(P.lastIndex=0;;){const _=P.exec(E);if(_===null)break;const L=_.index,D=_[1];if(!((x=_[2])!=null&&x.endsWith(":::"))){if(D)M+=1;else if(M-=1,M===0){const R=E.slice(0,L);A=R.trim();const G=f.slice(0,j+L+_[0].length);let U=[];if(A)if(l==="block")for(U=g.blockTokens(R),U.forEach(q=>{q.text&&(!q.tokens||q.tokens.length===0)&&(q.tokens=g.inlineTokens(q.text))});U.length>0;){const q=U[U.length-1];if(q.type==="paragraph"&&(!q.text||q.text.trim()===""))U.pop();else break}else U=g.inlineTokens(A);return{type:e,raw:G,attributes:C,content:A,tokens:U}}}}}},renderMarkdown:(f,p)=>{const g=d(f.attrs||{}),x=i(g),v=x?` {${x}}`:"",b=p.renderChildren(f.content||[],`

`);return`:::${u}${v}

${b}

:::`}}}function xye(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,a]=r;e[s]=i||a,r=n.exec(t)}return e}function yye(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function bye(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=xye,serializeAttributes:i=yye,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=t,u=n||e,d=p=>{if(!c)return p;const g={};return c.forEach(x=>{const v=typeof x=="string"?x:x.name,b=typeof x=="string"?void 0:x.skipIfDefault;if(v in p){const w=p[v];if(b!==void 0&&w===b)return;g[v]=w}}),g},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const x={...a,...p.attributes};if(l)return g.createNode(e,x);const v=r?r(p):p.content||"";return v?g.createNode(e,x,[g.createTextNode(v)]):g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(p){const g=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),x=p.match(g),v=x?.index;return v!==void 0?v:-1},tokenize(p,g,x){const v=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),b=p.match(v);if(!b)return;let w="",N="";if(l){const[,M]=b;N=M}else{const[,M,j]=b;N=M,w=j||""}const C=s(N.trim());return{type:e,raw:b[0],content:w.trim(),attributes:C}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=d(p.attrs||{}),v=i(x),b=v?` ${v}`:"";return l?`[${u}${b}]`:`[${u}${b}]${g}[/${u}]`}}}function Cw(t,e,n){var r,s,i,a;const l=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<l.length;){const p=l[d],g=p.match(e.itemPattern);if(!g){if(c.length>0)break;if(p.trim()===""){d+=1,u=`${u}${p}
`;continue}else return}const x=e.extractItemData(g),{indentLevel:v,mainContent:b}=x;u=`${u}${p}
`;const w=[b];for(d+=1;d<l.length;){const j=l[d];if(j.trim()===""){const P=l.slice(d+1).findIndex(L=>L.trim()!=="");if(P===-1)break;if((((s=(r=l[d+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>v){w.push(j),u=`${u}${j}
`,d+=1;continue}else break}if((((a=(i=j.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:a.length)||0)>v)w.push(j),u=`${u}${j}
`,d+=1;else break}let N;const C=w.slice(1);if(C.length>0){const j=C.map(A=>A.slice(v+f)).join(`
`);j.trim()&&(e.customNestedParser?N=e.customNestedParser(j):N=n.blockTokens(j))}const M=e.createToken(x,N);c.push(M)}if(c.length!==0)return{items:c,raw:u}}function zj(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...a]=t.content,l=e.renderChildren([i]),c=[`${s}${l}`];return a&&a.length>0&&a.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(p=>p?e.indent(p):"").join(`
`);c.push(f)}}),c.join(`
`)}function vye(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,a=t;s.descendants((l,c)=>{const u=i.mapping.map(c),d=i.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(g=>{if(g!==a)return!1;f=g}),!f)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==f.attrs[g]&&(p=!0)}),p){const g=t.type.create({...t.attrs,...n});i.removeMark(u,d,t.type),i.addMark(u,d,g)}}),i.docChanged&&e.view.dispatch(i)}var _n=class N7 extends Lj{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new N7(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ql(t){return new tye({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=yt(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];let u=n.to;if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(Ij(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(b=>b===t.type&&b!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&a.delete(p,n.to),f>n.from&&a.delete(n.from+d,f),u=n.from+d+l.length,a.addMark(n.from+d,u,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:wye,getOwnPropertySymbols:Nye}=Object,{hasOwnProperty:Sye}=Object.prototype;function g1(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function jp(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,a=i.get(n),l=i.get(r);if(a&&l)return a===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function jye(t){return t?.[Symbol.toStringTag]}function jP(t){return wye(t).concat(Nye(t))}const Cye=Object.hasOwn||((t,e)=>Sye.call(t,e));function rc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const kye="__v",Tye="__o",Eye="_owner",{getOwnPropertyDescriptor:CP,keys:kP}=Object;function Mye(t,e){return t.byteLength===e.byteLength&&c0(new Uint8Array(t),new Uint8Array(e))}function Pye(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Aye(t,e){return t.byteLength===e.byteLength&&c0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Oye(t,e){return rc(t.getTime(),e.getTime())}function _ye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Dye(t,e){return t===e}function TP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let a,l,c=0;for(;(a=i.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const p=a.value,g=l.value;if(n.equals(p[0],g[0],c,f,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Iye=rc;function Lye(t,e,n){const r=kP(t);let s=r.length;if(kP(e).length!==s)return!1;for(;s-- >0;)if(!S7(t,e,n,r[s]))return!1;return!0}function Fd(t,e,n){const r=jP(t);let s=r.length;if(jP(e).length!==s)return!1;let i,a,l;for(;s-- >0;)if(i=r[s],!S7(t,e,n,i)||(a=CP(t,i),l=CP(e,i),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function Rye(t,e){return rc(t.valueOf(),e.valueOf())}function Fye(t,e){return t.source===e.source&&t.flags===e.flags}function EP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let a,l;for(;(a=i.next())&&!a.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function c0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function S7(t,e,n,r){return(r===Eye||r===Tye||r===kye)&&(t.$$typeof||e.$$typeof)?!0:Cye(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Vye="[object ArrayBuffer]",$ye="[object Arguments]",Bye="[object Boolean]",Hye="[object DataView]",Uye="[object Date]",Wye="[object Error]",qye="[object Map]",Kye="[object Number]",Gye="[object Object]",Yye="[object RegExp]",Xye="[object Set]",Qye="[object String]",Jye={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Zye="[object URL]",ebe=Object.prototype.toString;function tbe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:a,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:g,unknownTagComparators:x}){return function(b,w,N){if(b===w)return!0;if(b==null||w==null)return!1;const C=typeof b;if(C!==typeof w)return!1;if(C!=="object")return C==="number"?l(b,w,N):C==="function"?i(b,w,N):!1;const M=b.constructor;if(M!==w.constructor)return!1;if(M===Object)return c(b,w,N);if(Array.isArray(b))return e(b,w,N);if(M===Date)return r(b,w,N);if(M===RegExp)return d(b,w,N);if(M===Map)return a(b,w,N);if(M===Set)return f(b,w,N);const j=ebe.call(b);if(j===Uye)return r(b,w,N);if(j===Yye)return d(b,w,N);if(j===qye)return a(b,w,N);if(j===Xye)return f(b,w,N);if(j===Gye)return typeof b.then!="function"&&typeof w.then!="function"&&c(b,w,N);if(j===Zye)return g(b,w,N);if(j===Wye)return s(b,w,N);if(j===$ye)return c(b,w,N);if(Jye[j])return p(b,w,N);if(j===Vye)return t(b,w,N);if(j===Hye)return n(b,w,N);if(j===Bye||j===Kye||j===Qye)return u(b,w,N);if(x){let A=x[j];if(!A){const P=jye(b);P&&(A=x[P])}if(A)return A(b,w,N)}return!1}}function nbe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Mye,areArraysEqual:n?Fd:Pye,areDataViewsEqual:Aye,areDatesEqual:Oye,areErrorsEqual:_ye,areFunctionsEqual:Dye,areMapsEqual:n?g1(TP,Fd):TP,areNumbersEqual:Iye,areObjectsEqual:n?Fd:Lye,arePrimitiveWrappersEqual:Rye,areRegExpsEqual:Fye,areSetsEqual:n?g1(EP,Fd):EP,areTypedArraysEqual:n?g1(c0,Fd):c0,areUrlsEqual:zye,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=jp(r.areArraysEqual),i=jp(r.areMapsEqual),a=jp(r.areObjectsEqual),l=jp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:l})}return r}function rbe(t){return function(e,n,r,s,i,a,l){return t(e,n,l)}}function sbe({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const ibe=_o();_o({strict:!0});_o({circular:!0});_o({circular:!0,strict:!0});_o({createInternalComparator:()=>rc});_o({strict:!0,createInternalComparator:()=>rc});_o({circular:!0,createInternalComparator:()=>rc});_o({circular:!0,createInternalComparator:()=>rc,strict:!0});function _o(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=nbe(t),a=tbe(i),l=n?n(a):rbe(a);return sbe({circular:e,comparator:a,createState:r,equals:l,strict:s})}var x1={exports:{}},y1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP;function abe(){if(MP)return y1;MP=1;var t=Yl(),e=f8();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return y1.useSyncExternalStoreWithSelector=function(u,d,f,p,g){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function w(A){if(!N){if(N=!0,C=A,A=p(A),g!==void 0&&v.hasValue){var P=v.value;if(g(P,A))return M=P}return M=A}if(P=M,r(C,A))return P;var E=p(A);return g!==void 0&&g(P,E)?(C=A,P):(C=A,M=E)}var N=!1,C,M,j=f===void 0?null:f;return[function(){return w(d())},j===null?void 0:function(){return w(j())}]},[d,f,p,g]);var b=s(u,x[0],x[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},y1}var PP;function obe(){return PP||(PP=1,x1.exports=abe()),x1.exports}var lbe=obe(),cbe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},ube=({contentComponent:t})=>{const e=m8.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function dbe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:F$.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var hbe=class extends ye.Component{constructor(t){var e;super(t),this.editorContentRef=ye.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=dbe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:cbe(e,this.editorContentRef),...n}),t?.contentComponent&&o.jsx(ube,{contentComponent:t.contentComponent})]})}},fbe=T.forwardRef((t,e)=>{const n=ye.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ye.createElement(hbe,{key:n,innerRef:e,...t})}),mbe=ye.memo(fbe),pbe=typeof window<"u"?T.useLayoutEffect:T.useEffect,gbe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function xbe(t){var e;const[n]=T.useState(()=>new gbe(t.editor)),r=lbe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:ibe);return pbe(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}var ybe=!1,kw=typeof window>"u",bbe=kw||!!(typeof window<"u"&&window.next),vbe=class j7{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?kw||bbe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new uye(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)==null?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?j7.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function wbe(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new vbe(n)),s=m8.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(s),T.useEffect(r.onRender(e)),xbe({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var Nbe=T.createContext({editor:null});Nbe.Consumer;var Sbe=T.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),jbe=()=>T.useContext(Sbe);ye.forwardRef((t,e)=>{const{onDragStart:n}=jbe(),r=t.as||"div";return o.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});ye.createContext({markViewContentRef:()=>{}});var u0=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},Cbe=/^\s*>\s$/,kbe=_n.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return u0("blockquote",{...Pt(this.options.HTMLAttributes,t),children:u0("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const l=e.renderChildren([s]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Cu({find:Cbe,type:this.type})]}}),Tbe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Ebe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Mbe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Pbe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Abe=Oo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return u0("strong",{...Pt(this.options.HTMLAttributes,t),children:u0("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ju({find:Tbe,type:this.type}),ju({find:Mbe,type:this.type})]},addPasteRules(){return[ql({find:Ebe,type:this.type}),ql({find:Pbe,type:this.type})]}}),Obe=/(^|[^`])`([^`]+)`(?!`)$/,_be=/(^|[^`])`([^`]+)`(?!`)/g,Dbe=Oo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ju({find:Obe,type:this.type})]},addPasteRules(){return[ql({find:_be,type:this.type})]}}),b1=4,Ibe=/^```([a-z]+)?[\s\n]$/,Lbe=/^~~~([a-z]+)?[\s\n]$/,Rbe=_n.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:b1,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Pt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:b1,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:d}=s,g=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>l+x).join(`
`);return c.replaceWith(u,d,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:b1,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;return i.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var c;const{pos:u}=i,d=i.start(),f=i.end(),g=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let x=0,v=0;const b=u-d;for(let A=0;A<g.length;A+=1){if(v+g[A].length>=b){x=A;break}v+=g[A].length+1}const N=((c=g[x].match(/^ */))==null?void 0:c[0])||"",C=Math.min(N.length,n);if(C===0)return!0;let M=d;for(let A=0;A<x;A+=1)M+=g[A].length+1;return l.delete(M,M+C),u-M<=C&&l.setSelection(Be.create(l.doc,M)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(g=>{var x;const v=((x=g.match(/^ */))==null?void 0:x[0])||"",b=Math.min(v.length,n);return g.slice(b)}).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(Ge.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[jw({find:Ibe,type:this.type,getAttributes:t=>({language:t[1]})}),jw({find:Lbe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Lt({key:new tn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s?.mode;if(!n||!i)return!1;const{tr:a,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(Be.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Fbe=_n.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),zbe=_n.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Pt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&a){const f=c.filter(p=>l.includes(p.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Vbe=_n.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Pt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>jw({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),$be=_n.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Pt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!fye(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return s7(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:a,dispatch:l})=>{if(l){const{$to:c}=a.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(Be.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection($e.create(a.doc,c.pos)):a.setSelection(Be.create(a.doc,c.pos));else{const d=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(a.insert(u,f),a.setSelection(Be.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[w7({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Bbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Hbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Ube=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Wbe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,qbe=Oo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ju({find:Bbe,type:this.type}),ju({find:Ube,type:this.type})]},addPasteRules(){return[ql({find:Hbe,type:this.type}),ql({find:Wbe,type:this.type})]}});const Kbe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Gbe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Tw="numeric",Ew="ascii",Mw="alpha",gh="asciinumeric",Xd="alphanumeric",Pw="domain",C7="emoji",Ybe="scheme",Xbe="slashscheme",v1="whitespace";function Qbe(t,e){return t in e||(e[t]=[]),e[t]}function bl(t,e,n){e[Tw]&&(e[gh]=!0,e[Xd]=!0),e[Ew]&&(e[gh]=!0,e[Mw]=!0),e[gh]&&(e[Xd]=!0),e[Mw]&&(e[Xd]=!0),e[Xd]&&(e[Pw]=!0),e[C7]&&(e[Pw]=!0);for(const r in e){const s=Qbe(r,n);s.indexOf(t)<0&&s.push(t)}}function Jbe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Mr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Mr.groups={};Mr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Mr.groups;let s;return e&&e.j?s=e:(s=new Mr(e),n&&r&&bl(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Mr.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,l=s.go(t);if(l?(a=new Mr,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Mr,i){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(Jbe(a.t,r),n);bl(i,c,r)}else n&&bl(i,n,r);a.t=i}return s.j[t]=a,a}};const rt=(t,e,n,r,s)=>t.ta(e,n,r,s),Gt=(t,e,n,r,s)=>t.tr(e,n,r,s),AP=(t,e,n,r,s)=>t.ts(e,n,r,s),be=(t,e,n,r,s)=>t.tt(e,n,r,s),Ui="WORD",Aw="UWORD",k7="ASCIINUMERICAL",T7="ALPHANUMERICAL",nf="LOCALHOST",Ow="TLD",_w="UTLD",og="SCHEME",Wc="SLASH_SCHEME",Vj="NUM",Dw="WS",$j="NL",xh="OPENBRACE",yh="CLOSEBRACE",d0="OPENBRACKET",h0="CLOSEBRACKET",f0="OPENPAREN",m0="CLOSEPAREN",p0="OPENANGLEBRACKET",g0="CLOSEANGLEBRACKET",x0="FULLWIDTHLEFTPAREN",y0="FULLWIDTHRIGHTPAREN",b0="LEFTCORNERBRACKET",v0="RIGHTCORNERBRACKET",w0="LEFTWHITECORNERBRACKET",N0="RIGHTWHITECORNERBRACKET",S0="FULLWIDTHLESSTHAN",j0="FULLWIDTHGREATERTHAN",C0="AMPERSAND",k0="APOSTROPHE",T0="ASTERISK",qa="AT",E0="BACKSLASH",M0="BACKTICK",P0="CARET",Xa="COLON",Bj="COMMA",A0="DOLLAR",ti="DOT",O0="EQUALS",Hj="EXCLAMATION",ms="HYPHEN",bh="PERCENT",_0="PIPE",D0="PLUS",I0="POUND",vh="QUERY",Uj="QUOTE",E7="FULLWIDTHMIDDLEDOT",Wj="SEMI",ni="SLASH",wh="TILDE",L0="UNDERSCORE",M7="EMOJI",R0="SYM";var P7=Object.freeze({__proto__:null,ALPHANUMERICAL:T7,AMPERSAND:C0,APOSTROPHE:k0,ASCIINUMERICAL:k7,ASTERISK:T0,AT:qa,BACKSLASH:E0,BACKTICK:M0,CARET:P0,CLOSEANGLEBRACKET:g0,CLOSEBRACE:yh,CLOSEBRACKET:h0,CLOSEPAREN:m0,COLON:Xa,COMMA:Bj,DOLLAR:A0,DOT:ti,EMOJI:M7,EQUALS:O0,EXCLAMATION:Hj,FULLWIDTHGREATERTHAN:j0,FULLWIDTHLEFTPAREN:x0,FULLWIDTHLESSTHAN:S0,FULLWIDTHMIDDLEDOT:E7,FULLWIDTHRIGHTPAREN:y0,HYPHEN:ms,LEFTCORNERBRACKET:b0,LEFTWHITECORNERBRACKET:w0,LOCALHOST:nf,NL:$j,NUM:Vj,OPENANGLEBRACKET:p0,OPENBRACE:xh,OPENBRACKET:d0,OPENPAREN:f0,PERCENT:bh,PIPE:_0,PLUS:D0,POUND:I0,QUERY:vh,QUOTE:Uj,RIGHTCORNERBRACKET:v0,RIGHTWHITECORNERBRACKET:N0,SCHEME:og,SEMI:Wj,SLASH:ni,SLASH_SCHEME:Wc,SYM:R0,TILDE:wh,TLD:Ow,UNDERSCORE:L0,UTLD:_w,UWORD:Aw,WORD:Ui,WS:Dw});const zi=/[a-z]/,zd=new RegExp("\\p{L}","u"),w1=new RegExp("\\p{Emoji}","u"),Vi=/\d/,N1=/\s/,OP="\r",S1=`
`,Zbe="",eve="",j1="";let Cp=null,kp=null;function tve(t=[]){const e={};Mr.groups=e;const n=new Mr;Cp==null&&(Cp=_P(Kbe)),kp==null&&(kp=_P(Gbe)),be(n,"'",k0),be(n,"{",xh),be(n,"}",yh),be(n,"[",d0),be(n,"]",h0),be(n,"(",f0),be(n,")",m0),be(n,"<",p0),be(n,">",g0),be(n,"",x0),be(n,"",y0),be(n,"",b0),be(n,"",v0),be(n,"",w0),be(n,"",N0),be(n,"",S0),be(n,"",j0),be(n,"&",C0),be(n,"*",T0),be(n,"@",qa),be(n,"`",M0),be(n,"^",P0),be(n,":",Xa),be(n,",",Bj),be(n,"$",A0),be(n,".",ti),be(n,"=",O0),be(n,"!",Hj),be(n,"-",ms),be(n,"%",bh),be(n,"|",_0),be(n,"+",D0),be(n,"#",I0),be(n,"?",vh),be(n,'"',Uj),be(n,"/",ni),be(n,";",Wj),be(n,"~",wh),be(n,"_",L0),be(n,"\\",E0),be(n,"",E7);const r=Gt(n,Vi,Vj,{[Tw]:!0});Gt(r,Vi,r);const s=Gt(r,zi,k7,{[gh]:!0}),i=Gt(r,zd,T7,{[Xd]:!0}),a=Gt(n,zi,Ui,{[Ew]:!0});Gt(a,Vi,s),Gt(a,zi,a),Gt(s,Vi,s),Gt(s,zi,s);const l=Gt(n,zd,Aw,{[Mw]:!0});Gt(l,zi),Gt(l,Vi,i),Gt(l,zd,l),Gt(i,Vi,i),Gt(i,zi),Gt(i,zd,i);const c=be(n,S1,$j,{[v1]:!0}),u=be(n,OP,Dw,{[v1]:!0}),d=Gt(n,N1,Dw,{[v1]:!0});be(n,j1,d),be(u,S1,c),be(u,j1,d),Gt(u,N1,d),be(d,OP),be(d,S1),Gt(d,N1,d),be(d,j1,d);const f=Gt(n,w1,M7,{[C7]:!0});be(f,"#"),Gt(f,w1,f),be(f,Zbe,f);const p=be(f,eve);be(p,"#"),Gt(p,w1,f);const g=[[zi,a],[Vi,s]],x=[[zi,null],[zd,l],[Vi,i]];for(let v=0;v<Cp.length;v++)Va(n,Cp[v],Ow,Ui,g);for(let v=0;v<kp.length;v++)Va(n,kp[v],_w,Aw,x);bl(Ow,{tld:!0,ascii:!0},e),bl(_w,{utld:!0,alpha:!0},e),Va(n,"file",og,Ui,g),Va(n,"mailto",og,Ui,g),Va(n,"http",Wc,Ui,g),Va(n,"https",Wc,Ui,g),Va(n,"ftp",Wc,Ui,g),Va(n,"ftps",Wc,Ui,g),bl(og,{scheme:!0,ascii:!0},e),bl(Wc,{slashscheme:!0,ascii:!0},e),t=t.sort((v,b)=>v[0]>b[0]?1:-1);for(let v=0;v<t.length;v++){const b=t[v][0],N=t[v][1]?{[Ybe]:!0}:{[Xbe]:!0};b.indexOf("-")>=0?N[Pw]=!0:zi.test(b)?Vi.test(b)?N[gh]=!0:N[Ew]=!0:N[Tw]=!0,AP(n,b,b,N)}return AP(n,"localhost",nf,{ascii:!0}),n.jd=new Mr(R0),{start:n,tokens:Object.assign({groups:e},P7)}}function A7(t,e){const n=nve(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let l=t,c=null,u=0,d=null,f=-1,p=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(f=0,p=0,d=l):f>=0&&(f+=n[a].length,p++),u+=n[a].length,i+=n[a].length,a++;i-=f,a-=p,u-=f,s.push({t:d.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function nve(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Va(t,e,n,r,s){let i;const a=e.length;for(let l=0;l<a-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new Mr(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new Mr(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function _P(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const rf={defaultProtocol:"http",events:null,format:DP,formatHref:DP,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function qj(t,e=null){let n=Object.assign({},rf);t&&(n=Object.assign(n,t instanceof qj?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}qj.prototype={o:rf,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:rf[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function DP(t){return t}function O7(t,e){this.t="token",this.v=t,this.tk=e}O7.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=rf.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},l=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),c&&(a.target=c),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:s,attributes:a,content:i,eventListeners:f}}};function zx(t,e){class n extends O7{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const IP=zx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),LP=zx("text"),rve=zx("nl"),Tp=zx("url",{isLink:!0,toHref(t=rf.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==nf&&t[1].t===Xa}}),hs=t=>new Mr(t);function sve({groups:t}){const e=t.domain.concat([C0,T0,qa,E0,M0,P0,A0,O0,ms,Vj,bh,_0,D0,I0,ni,R0,wh,L0]),n=[k0,Xa,Bj,ti,Hj,bh,vh,Uj,Wj,p0,g0,xh,yh,h0,d0,f0,m0,x0,y0,b0,v0,w0,N0,S0,j0],r=[C0,k0,T0,E0,M0,P0,A0,O0,ms,xh,yh,bh,_0,D0,I0,vh,ni,R0,wh,L0],s=hs(),i=be(s,wh);rt(i,r,i),rt(i,t.domain,i);const a=hs(),l=hs(),c=hs();rt(s,t.domain,a),rt(s,t.scheme,l),rt(s,t.slashscheme,c),rt(a,r,i),rt(a,t.domain,a);const u=be(a,qa);be(i,qa,u),be(l,qa,u),be(c,qa,u);const d=be(i,ti);rt(d,r,i),rt(d,t.domain,i);const f=hs();rt(u,t.domain,f),rt(f,t.domain,f);const p=be(f,ti);rt(p,t.domain,f);const g=hs(IP);rt(p,t.tld,g),rt(p,t.utld,g),be(u,nf,g);const x=be(f,ms);be(x,ms,x),rt(x,t.domain,f),rt(g,t.domain,f),be(g,ti,p),be(g,ms,x);const v=be(g,Xa);rt(v,t.numeric,IP);const b=be(a,ms),w=be(a,ti);be(b,ms,b),rt(b,t.domain,a),rt(w,r,i),rt(w,t.domain,a);const N=hs(Tp);rt(w,t.tld,N),rt(w,t.utld,N),rt(N,t.domain,a),rt(N,r,i),be(N,ti,w),be(N,ms,b),be(N,qa,u);const C=be(N,Xa),M=hs(Tp);rt(C,t.numeric,M);const j=hs(Tp),A=hs();rt(j,e,j),rt(j,n,A),rt(A,e,j),rt(A,n,A),be(N,ni,j),be(M,ni,j);const P=be(l,Xa),E=be(c,Xa),_=be(E,ni),L=be(_,ni);rt(l,t.domain,a),be(l,ti,w),be(l,ms,b),rt(c,t.domain,a),be(c,ti,w),be(c,ms,b),rt(P,t.domain,j),be(P,ni,j),be(P,vh,j),rt(L,t.domain,j),rt(L,e,j),be(L,ni,j);const D=[[xh,yh],[d0,h0],[f0,m0],[p0,g0],[x0,y0],[b0,v0],[w0,N0],[S0,j0]];for(let R=0;R<D.length;R++){const[G,U]=D[R],q=be(j,G);be(A,G,q),be(q,U,j);const F=hs(Tp);rt(q,e,F);const B=hs();rt(q,n),rt(F,e,F),rt(F,n,B),rt(B,e,F),rt(B,n,B),be(F,U,j),be(B,U,j)}return be(s,nf,N),be(s,$j,rve),{start:s,tokens:P7}}function ive(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let l=t,c=null,u=null,d=0,f=null,p=-1;for(;s<r&&!(c=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(u=c||l.go(n[s].t));)c=null,l=u,l.accepts()?(p=0,f=l):p>=0&&p++,s++,d++;if(p<0)s-=d,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(C1(LP,e,a)),a=[]),s-=p,d-=p;const g=f.t,x=n.slice(s-d,s);i.push(C1(g,e,x))}}return a.length>0&&i.push(C1(LP,e,a)),i}function C1(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const ave=typeof console<"u"&&console&&console.warn||(()=>{}),ove="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_t={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function lve(){return Mr.groups={},_t.scanner=null,_t.parser=null,_t.tokenQueue=[],_t.pluginQueue=[],_t.customSchemes=[],_t.initialized=!1,_t}function RP(t,e=!1){if(_t.initialized&&ave(`linkifyjs: already initialized - will not register custom scheme "${t}" ${ove}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_t.customSchemes.push([t,e])}function cve(){_t.scanner=tve(_t.customSchemes);for(let t=0;t<_t.tokenQueue.length;t++)_t.tokenQueue[t][1]({scanner:_t.scanner});_t.parser=sve(_t.scanner.tokens);for(let t=0;t<_t.pluginQueue.length;t++)_t.pluginQueue[t][1]({scanner:_t.scanner,parser:_t.parser});return _t.initialized=!0,_t}function Kj(t){return _t.initialized||cve(),ive(_t.parser.start,t,A7(_t.scanner.start,t))}Kj.scan=A7;function _7(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new qj(n),s=Kj(t),i=[];for(let a=0;a<s.length;a++){const l=s[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var Gj="[\0- -\u2029]",uve=new RegExp(Gj),dve=new RegExp(`${Gj}$`),hve=new RegExp(Gj,"g");function fve(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function mve(t){return new Lt({key:new tn("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),i=e.some(u=>u.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,l=YF(n.doc,[...e]);if(r7(l).forEach(({newRange:u})=>{const d=fxe(r.doc,u,g=>g.isTextblock);let f,p;if(d.length>1)f=d[0],p=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const g=r.doc.textBetween(u.from,u.to," "," ");if(!dve.test(g))return;f=d[0],p=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&p){const g=p.split(uve).filter(Boolean);if(g.length<=0)return!1;const x=g[g.length-1],v=f.pos+p.lastIndexOf(x);if(!x)return!1;const b=Kj(x).map(w=>w.toObject(t.defaultProtocol));if(!fve(b))return!1;b.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{Ij(w.from,w.to,r.doc).some(N=>N.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function pve(t){return new Lt({key:new tn("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let f=r.target;const p=[];for(;f.nodeName!=="DIV";)p.push(f),f=f.parentNode;l=p.find(g=>g.nodeName==="A")}if(!l)return a;const c=n7(e.state,t.type.name),u=(s=l?.href)!=null?s:c.href,d=(i=l?.target)!=null?i:c.target;l&&u&&(window.open(u,d),a=!0)}return a}}})}function gve(t){return new Lt({key:new tn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:a}=i,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=_7(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||s!==void 0&&!s(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function tl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(hve,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var xve=Oo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){RP(t);return}RP(t.scheme,t.optionalSlashes)})},onDestroy(){lve()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!tl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!tl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!tl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Pt(this.options.HTMLAttributes,t),0]:["a",Pt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!tl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!tl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ql({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=_7(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!tl(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(mve({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!tl(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(pve({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(gve({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),yve=Object.defineProperty,bve=(t,e)=>{for(var n in e)yve(t,n,{get:e[n],enumerable:!0})},vve="listItem",FP="textStyle",zP=/^\s*([-+*])\s$/,D7=_n.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(vve,this.editor.getAttributes(FP)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Cu({find:zP,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Cu({find:zP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(FP),editor:this.editor})),[t]}}),I7=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>zj(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wve={};bve(wve,{findListItemPos:()=>Af,getNextListDepth:()=>Yj,handleBackspace:()=>Iw,handleDelete:()=>Lw,hasListBefore:()=>L7,hasListItemAfter:()=>Nve,hasListItemBefore:()=>R7,listItemHasSubList:()=>F7,nextListIsDeeper:()=>z7,nextListIsHigher:()=>V7});var Af=(t,e)=>{const{$from:n}=e.selection,r=xn(t,e.schema);let s=null,i=n.depth,a=n.pos,l=null;for(;i>0&&l===null;)s=n.node(i),s.type===r?l=i:(i-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},Yj=(t,e)=>{const n=Af(t,e);if(!n)return!1;const[,r]=Nxe(e,t,n.$pos.pos+4);return r},L7=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},R7=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},F7=(t,e,n)=>{if(!n)return!1;const r=xn(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},Iw=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Co(t.state,e)&&L7(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((p,g)=>{p.type.name===e&&u.push({node:p,pos:g})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!Co(t.state,e)||!kxe(t.state))return!1;const r=Af(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=F7(e,t.state,i);return R7(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},z7=(t,e)=>{const n=Yj(t,e),r=Af(t,e);return!r||!n?!1:n>r.depth},V7=(t,e)=>{const n=Yj(t,e),r=Af(t,e);return!r||!n?!1:n<r.depth},Lw=(t,e)=>{if(!Co(t.state,e)||!Cxe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:z7(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():V7(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Nve=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},$7=St.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Lw(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Lw(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Iw(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Iw(t,n,r)&&(e=!0)}),e}}}}),VP=/^(\s*)(\d+)\.\s+(.*)$/,Sve=/^\s/;function jve(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(VP);if(!i)break;const[,a,l,c]=i,u=a.length;let d=c,f=n+1;const p=[s];for(;f<t.length;){const g=t[f];if(g.match(VP))break;if(g.trim()==="")p.push(g),d+=`
`,f+=1;else if(g.match(Sve))p.push(g),d+=`
${g.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:p.join(`
`)}),r=f,n=f}return[e,r]}function B7(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const a=t[i];if(a.indent===e){const l=a.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const g=n.blockTokens(d);u.push(...g)}let f=i+1;const p=[];for(;f<t.length&&t[f].indent>e;)p.push(t[f]),f+=1;if(p.length>0){const g=Math.min(...p.map(v=>v.indent)),x=B7(p,g,n);u.push({type:"list",ordered:!0,start:p[0].number,items:x,raw:p.map(v=>v.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:u}),i=f}else i+=1}return s}function Cve(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var kve="listItem",$P="textStyle",BP=/^(\d+)\.\s$/,H7=_n.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Pt(this.options.HTMLAttributes,n),0]:["ol",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?Cve(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,a]=jve(s);if(i.length===0)return;const l=B7(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(kve,this.editor.getAttributes($P)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Cu({find:BP,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Cu({find:BP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes($P)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Tve=/^\s*(\[([( |x])?\])\s$/,Eve=_n.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Pt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return zj(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,p;l.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=n();if(typeof g!="number")return!1;const x=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...x?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{s.setAttribute(d,f)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,a),s.append(i,c),Object.entries(e).forEach(([d,f])=>{s.setAttribute(d,f)}),{dom:s,contentDOM:c,update:d=>d.type!==this.type?!1:(s.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[Cu({find:Tve,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Mve=_n.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const a=Cw(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(i)},s=Cw(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,a)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});St.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(D7.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(I7.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push($7.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(H7.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Eve.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Mve.configure(this.options.taskList)),t}});var Pve=_n.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Pt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ave=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Ove=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,_ve=Oo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Pt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ju({find:Ave,type:this.type})]},addPasteRules(){return[ql({find:Ove,type:this.type})]}}),Dve=_n.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),U7=Oo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Pt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Ive=U7;function Lve(t={}){return new Lt({view(e){return new Rve(e,t)}})}class Rve{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let f=e.nodeBefore,p=e.nodeAfter;if(f||p){let g=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(g){let x=g.getBoundingClientRect(),v=f?x.bottom:x.top;f&&p&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;r={left:x.left,right:x.right,top:v-b,bottom:v+b}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:f.left-p,right:f.left+p,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),p=f.width/c.offsetWidth,g=f.height/c.offsetHeight;u=f.left-c.scrollLeft*p,d=f.top-c.scrollTop*g}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=$8(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Qt extends Ge{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Qt.valid(r)?new Qt(r):Ge.near(r)}content(){return Ce.empty}eq(e){return e instanceof Qt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Qt(e.resolve(n.pos))}getBookmark(){return new Xj(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Fve(e)||!zve(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Qt.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let c=e.doc.resolve(s);if(Qt.valid(c))return c}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!$e.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let l=e.doc.resolve(s);if(Qt.valid(l))return l}return null}}}Qt.prototype.visible=!1;Qt.findFrom=Qt.findGapCursorFrom;Ge.jsonID("gapcursor",Qt);class Xj{constructor(e){this.pos=e}map(e){return new Xj(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Qt.valid(n)?new Qt(n):Ge.near(n)}}function W7(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Fve(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||W7(s.type))return!0;if(s.inlineContent)return!1}}return!0}function zve(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||W7(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Vve(){return new Lt({props:{decorations:Uve,createSelectionBetween(t,e,n){return e.pos==n.pos&&Qt.valid(n)?new Qt(n):null},handleClick:Bve,handleKeyDown:$ve,handleDOMEvents:{beforeinput:Hve}}})}const $ve=Tj({ArrowLeft:Ep("horiz",-1),ArrowRight:Ep("horiz",1),ArrowUp:Ep("vert",-1),ArrowDown:Ep("vert",1)});function Ep(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof Be){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=Qt.findGapCursorFrom(l,e,c);return u?(s&&s(r.tr.setSelection(new Qt(u))),!0):!1}}function Bve(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Qt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&$e.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Qt(r))),!0)}function Hve(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Qt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=de.empty;for(let a=r.length-1;a>=0;a--)s=de.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new Ce(s,0,0));return i.setSelection(Be.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function Uve(t){if(!(t.selection instanceof Qt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Et.create(t.doc,[Pn.widget(t.selection.head,e,{key:"gapcursor"})])}var F0=200,On=function(){};On.prototype.append=function(e){return e.length?(e=On.from(e),!this.length&&e||e.length<F0&&this.leafAppend(e)||this.length<F0&&e.leafPrepend(this)||this.appendInner(e)):this};On.prototype.prepend=function(e){return e.length?On.from(e).append(this):this};On.prototype.appendInner=function(e){return new Wve(this,e)};On.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?On.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};On.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};On.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};On.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};On.from=function(e){return e instanceof On?e:e&&e.length?new q7(e):On.empty};var q7=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,l){for(var c=i;c<a;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,l){for(var c=i-1;c>=a;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=F0)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=F0)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(On);On.empty=new q7([]);var Wve=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(On);const qve=500;class Is{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,l,c,u=[],d=[];return this.items.forEach((f,p)=>{if(!f.step){s||(s=this.remapping(r,p+1),i=s.maps.length),i--,d.push(f);return}if(s){d.push(new ri(f.map));let g=f.step.map(s.slice(i)),x;g&&a.maybeStep(g).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],u.push(new ri(x,void 0,void 0,u.length+d.length))),i--,x&&s.appendMap(x,i)}else a.maybeStep(f.step);if(f.selection)return l=s?f.selection.map(s.slice(i)):f.selection,c=new Is(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(e,n,r,s){let i=[],a=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),p=new ri(e.mapping.maps[d],f,n),g;(g=c&&c.merge(p))&&(p=g,d?i.pop():l=l.slice(0,l.length-1)),i.push(p),n&&(a++,n=void 0),s||(c=p)}let u=a-r.depth;return u>Gve&&(l=Kve(l,u),a-=u),new Is(l.append(i),a)}remapping(e,n){let r=new Xh;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Is(this.items.append(e.map(n=>new ri(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},s);let c=n;this.items.forEach(p=>{let g=i.getMirror(--c);if(g==null)return;a=Math.min(a,g);let x=i.maps[g];if(p.step){let v=e.steps[g].invert(e.docs[g]),b=p.selection&&p.selection.map(i.slice(c+1,g));b&&l++,r.push(new ri(x,v,b))}else r.push(new ri(x))},s);let u=[];for(let p=n;p<a;p++)u.push(new ri(i.maps[p]));let d=this.items.slice(0,s).append(u).append(r),f=new Is(d,l);return f.emptyItemCount()>qve&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,l)=>{if(l>=e)s.push(a),a.selection&&i++;else if(a.step){let c=a.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=a.selection&&a.selection.map(n.slice(r));d&&i++;let f=new ri(u.invert(),c,d),p,g=s.length-1;(p=s.length&&s[g].merge(f))?s[g]=p:s.push(f)}}else a.map&&r--},this.items.length,0),new Is(On.from(s.reverse()),i)}}Is.empty=new Is(On.empty,0);function Kve(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class ri{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ri(n.getMap().invert(),n,this.selection)}}}class Ka{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const Gve=20;function Yve(t,e,n,r){let s=n.getMeta(Al),i;if(s)return s.historyState;n.getMeta(Jve)&&(t=new Ka(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Al))return a.getMeta(Al).redo?new Ka(t.done.addTransform(n,void 0,r,lg(e)),t.undone,HP(n.mapping.maps),t.prevTime,t.prevComposition):new Ka(t.done,t.undone.addTransform(n,void 0,r,lg(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Xve(n,t.prevRanges)),u=a?k1(t.prevRanges,n.mapping):HP(n.mapping.maps);return new Ka(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,lg(e)),Is.empty,u,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Ka(t.done.rebased(n,i),t.undone.rebased(n,i),k1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Ka(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),k1(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Xve(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function HP(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function k1(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function Qve(t,e,n){let r=lg(e),s=Al.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),c=new Ka(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(Al,{redo:n,historyState:c})}let T1=!1,UP=null;function lg(t){let e=t.plugins;if(UP!=e){T1=!1,UP=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){T1=!0;break}}return T1}const Al=new tn("history"),Jve=new tn("closeHistory");function Zve(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Lt({key:Al,state:{init(){return new Ka(Is.empty,Is.empty,null,0,-1)},apply(e,n,r){return Yve(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?G7:r=="historyRedo"?Y7:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function K7(t,e){return(n,r)=>{let s=Al.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=Qve(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const G7=K7(!1,!0),Y7=K7(!0,!0);St.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Lt({key:new tn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const a=i-s,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-r,u=l-c,d=l;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var e1e=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Lve(this.options)]}});St.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Lt({key:new tn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return Et.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(s>=u&&s<=u+c.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(s>=u&&s<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Pn.node(u,u+c.nodeSize,{class:this.options.className}))}),Et.create(t,i)}}})]}});var t1e=St.create({name:"gapCursor",addProseMirrorPlugins(){return[Vve()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=yt(Fe(t,"allowGapCursor",n)))!=null?e:null}}});St.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Lt({key:new tn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,u=!a.isLeaf&&Lx(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];i&&d.push(this.options.emptyEditorClass);const f=Pn.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});s.push(f)}return this.options.includeChildren}),Et.create(t,s)}}})]}});St.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Lt({key:new tn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||s7(n.selection)||t.view.dragging?null:Et.create(n.doc,[Pn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function WP({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var n1e=St.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new tn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Lt({key:e,appendTransaction:(s,i,a)=>{const{doc:l,tr:c,schema:u}=a,d=e.getState(a),f=l.content.size,p=u.nodes[n];if(d)return c.insert(f,p.create())},state:{init:(s,i)=>{const a=i.tr.doc.lastChild;return!WP({node:a,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const a=s.doc.lastChild;return!WP({node:a,types:r})}}})]}}),r1e=St.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>G7(t,e),redo:()=>({state:t,dispatch:e})=>Y7(t,e)}},addProseMirrorPlugins(){return[Zve(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),s1e=St.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(Abe.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(kbe.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(D7.configure(this.options.bulletList)),this.options.code!==!1&&s.push(Dbe.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(Rbe.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Fbe.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(e1e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(t1e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(zbe.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Vbe.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(r1e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push($be.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(qbe.configure(this.options.italic)),this.options.listItem!==!1&&s.push(I7.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push($7.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(xve.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(H7.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(Pve.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(_ve.configure(this.options.strike)),this.options.text!==!1&&s.push(Dve.configure(this.options.text)),this.options.underline!==!1&&s.push(U7.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(n1e.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),i1e=s1e,a1e=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),o1e=a1e,l1e=20,X7=(t,e=0)=>{const n=[];return!t.children.length||e>l1e||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...X7(r,e+1))}),n},c1e=t=>{if(!t.children.length)return;const e=X7(t);e&&e.forEach(n=>{var r,s;const i=n.getAttribute("style"),a=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${a};${i}`)})},Q7=Oo.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&c1e(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),u1e=St.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),d1e=St.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),h1e=St.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),f1e=St.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),m1e=St.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});St.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(u1e.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(d1e.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(h1e.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(f1e.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(m1e.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(Q7.configure(this.options.textStyle)),t}});let Rw,Fw;if(typeof WeakMap<"u"){let t=new WeakMap;Rw=e=>t.get(e),Fw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Rw=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},Fw=(r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s)}var Jt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,c),right:Math.max(r,l),bottom:Math.max(i,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?i-1:this.map[a]}s=i}}static get(t){return Rw(t)||Fw(t,p1e(t))}};function p1e(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=g1e(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=t.child(u);d++;for(let x=0;;x++){for(;s<r.length&&r[s]!=0;)s++;if(x==f.childCount)break;const v=f.child(x),{colspan:b,rowspan:w,colwidth:N}=v.attrs;for(let C=0;C<w;C++){if(C+u>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:w-C});break}const M=s+C*e;for(let j=0;j<b;j++){r[M+j]==0?r[M+j]=d:(i||(i=[])).push({type:"collision",row:u,pos:d,n:b-j});const A=N&&N[j];if(A){const P=(M+j)%e*2,E=a[P];E==null||E!=A&&a[P+1]==1?(a[P]=A,a[P+1]=1):E==A&&a[P+1]++}}}s+=b,d+=v.nodeSize}const p=(u+1)*e;let g=0;for(;s<p;)r[s++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:u,n:g}),d++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Jt(e,n,r,i);let c=!1;for(let u=0;!c&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(c=!0);return c&&x1e(l,a,t),l}function g1e(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let c=0;c<l.childCount;c++){const u=l.child(c);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const l=s.child(a);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function x1e(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let l=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const d=e[(s+u)%t.width*2];d!=null&&(!c.colwidth||c.colwidth[u]!=d)&&((l||(l=y1e(c)))[u]=d)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function y1e(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function sr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}const Qa=new tn("selectingCells");function Kl(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function b1e(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Us(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Vx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Kl(e.$head)||v1e(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function v1e(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function zw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function w1e(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function Qj(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function J7(t,e,n){const r=t.node(-1),s=Jt.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}function Gl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function Z7(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function N1e(t,e,n){const r=sr(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}var Mt=class Wi extends Ge{constructor(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),l=e.node(0),c=s.cellsInRect(a).filter(d=>d!=n.pos-i);c.unshift(n.pos-i);const u=c.map(d=>{const f=r.nodeAt(d);if(!f)throw new RangeError(`No cell with offset ${d} found`);const p=i+d+1;return new q8(l.resolve(p),l.resolve(p+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(zw(r)&&zw(s)&&Qj(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Wi.rowSelection(r,s):i&&this.isColSelection()?Wi.colSelection(r,s):new Wi(r,s)}return Be.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let c=s.top;c<s.bottom;c++){const u=[];for(let d=c*n.width+s.left,f=s.left;f<s.right;f++,d++){const p=n.map[d];if(i[p])continue;i[p]=!0;const g=n.findCell(p);let x=e.nodeAt(p);if(!x)throw new RangeError(`No cell with offset ${p} found`);const v=s.left-g.left,b=g.right-s.right;if(v>0||b>0){let w=x.attrs;if(v>0&&(w=Gl(w,0,v)),b>0&&(w=Gl(w,w.colspan-b,b)),g.left<s.left){if(x=x.type.createAndFill(w),!x)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else x=x.type.create(w,x.content)}if(g.top<s.top||g.bottom>s.bottom){const w={...x.attrs,rowspan:Math.min(g.bottom,s.bottom)-Math.max(g.top,s.top)};g.top<s.top?x=x.type.createAndFill(w):x=x.type.create(w,x.content)}u.push(x)}a.push(e.child(c).copy(de.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new Ce(de.from(l),1,1)}replace(e,n=Ce.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:l,$to:c}=s[a],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),a?Ce.empty:n)}const i=Ge.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new Ce(de.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Jt.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.top<=l.top?(a.top>0&&(e=c.resolve(i+s.map[a.left])),l.bottom<s.height&&(n=c.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(i+s.map[l.left])),a.bottom<s.height&&(e=c.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new Wi(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof Wi&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=Jt.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),c=e.node(0);return a.left<=l.left?(a.left>0&&(e=c.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(n=c.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(e=c.resolve(i+s.map[s.width*(a.top+1)-1]))),new Wi(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Wi(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Wi(e.resolve(n),e.resolve(r))}getBookmark(){return new S1e(this.$anchorCell.pos,this.$headCell.pos)}};Mt.prototype.visible=!1;Ge.jsonID("cell",Mt);var S1e=class ez{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ez(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Qj(n,r)?new Mt(n,r):Ge.near(r,1)}};function j1e(t){if(!(t.selection instanceof Mt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Pn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Et.create(t.doc,e)}function C1e({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function k1e({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function T1e(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof $e&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=Mt.create(s,r.from);else if(a=="row"){const l=s.resolve(r.from+1);i=Mt.rowSelection(l,l)}else if(!n){const l=Jt.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];i=Mt.create(s,c+1,u)}}else r instanceof Be&&C1e(r)?i=Be.create(s,r.from):r instanceof Be&&k1e(r)&&(i=Be.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}const E1e=new tn("fix-tables");function tz(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,l=0;a<i;a++){const c=e.child(a);for(let u=l,d=Math.min(s,a+3);u<d;u++)if(t.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<s&&t.child(l).sameMarkup(c)?tz(t.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function nz(t,e){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=M1e(t,s,i,n))};return e?e.doc!=t.doc&&tz(e.doc,t.doc,0,r):t.doc.descendants(r),n}function M1e(t,e,n,r){const s=Jt.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let c=0;c<s.height;c++)i.push(0);for(let c=0;c<s.problems.length;c++){const u=s.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let p=0;p<f.rowspan;p++)i[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Gl(f,f.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let a,l;for(let c=0;c<i.length;c++)i[c]&&(a==null&&(a=c),l=c);for(let c=0,u=n+1;c<s.height;c++){const d=e.child(c),f=u+d.nodeSize,p=i[c];if(p>0){let g="cell";d.firstChild&&(g=d.firstChild.type.spec.tableRole);const x=[];for(let b=0;b<p;b++){const w=sr(t.schema)[g].createAndFill();w&&x.push(w)}const v=(c==0||a==c-1)&&l==c?u+1:f-1;r.insert(r.mapping.map(v),x)}u=f}return r.setMeta(E1e,{fixTables:!0})}function Si(t){const e=t.selection,n=Vx(t),r=n.node(-1),s=n.start(-1),i=Jt.get(r);return{...e instanceof Mt?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function rz(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;N1e(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+s;if(s>0&&s<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,Z7(u.attrs,s-e.colCount(c))),a+=u.attrs.rowspan-1}else{const c=i==null?sr(r.type.schema).cell:r.nodeAt(e.map[l+i]).type,u=e.positionAt(a,s,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}function P1e(t,e){if(!Us(t))return!1;if(e){const n=Si(t);e(rz(t.tr,n,n.left))}return!0}function A1e(t,e){if(!Us(t))return!1;if(e){const n=Si(t);e(rz(t.tr,n,n.right))}return!0}function O1e(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+s,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(s>0&&e.map[l-1]==c||s<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(i).map(r+c),null,Gl(d,s-e.colCount(c)));else{const f=t.mapping.slice(i).map(r+c);t.delete(f,f+u.nodeSize)}a+=d.rowspan}}function _1e(t,e){if(!Us(t))return!1;if(e){const n=Si(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;O1e(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Jt.get(i)}e(r)}return!0}function D1e(t,e,n){var r;const s=sr(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))===null||r===void 0?void 0:r.type)!=s)return!1;return!0}function sz(t,{map:e,tableStart:n,table:r},s){let i=n;for(let u=0;u<s;u++)i+=r.child(u).nodeSize;const a=[];let l=s>0?-1:0;D1e(e,r,s+l)&&(l=s==0||s==e.height?null:0);for(let u=0,d=e.width*s;u<e.width;u++,d++)if(s>0&&s<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],p=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...p,rowspan:p.rowspan+1}),u+=p.colspan-1}else{var c;const f=l==null?sr(r.type.schema).cell:(c=r.nodeAt(e.map[d+l*e.width]))===null||c===void 0?void 0:c.type,p=f?.createAndFill();p&&a.push(p)}return t.insert(i,sr(r.type.schema).row.create(null,a)),t}function I1e(t,e){if(!Us(t))return!1;if(e){const n=Si(t);e(sz(t.tr,n,n.top))}return!0}function L1e(t,e){if(!Us(t))return!1;if(e){const n=Si(t);e(sz(t.tr,n,n.bottom))}return!0}function R1e(t,{map:e,table:n,tableStart:r},s){let i=0;for(let u=0;u<s;u++)i+=n.child(u).nodeSize;const a=i+n.child(s).nodeSize,l=t.mapping.maps.length;t.delete(i+r,a+r);const c=new Set;for(let u=0,d=s*e.width;u<e.width;u++,d++){const f=e.map[d];if(!c.has(f)){if(c.add(f),s>0&&f==e.map[d-e.width]){const p=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p,rowspan:p.rowspan-1}),u+=p.colspan-1}else if(s<e.height&&f==e.map[d+e.width]){const p=n.nodeAt(f),g=p.attrs,x=p.type.create({...g,rowspan:p.attrs.rowspan-1},p.content),v=e.positionAt(s+1,u,n);t.insert(t.mapping.slice(l).map(r+v),x),u+=g.colspan-1}}}}function F1e(t,e){if(!Us(t))return!1;if(e){const n=Si(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;R1e(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");n.table=i,n.map=Jt.get(n.table)}e(r)}return!0}function qP(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function z1e({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,l=s+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}function KP(t,e){const n=t.selection;if(!(n instanceof Mt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Si(t),{map:s}=r;if(z1e(s,r))return!1;if(e){const i=t.tr,a={};let l=de.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const p=s.map[d*s.width+f],g=r.table.nodeAt(p);if(!(a[p]||!g))if(a[p]=!0,c==null)c=p,u=g;else{qP(g)||(l=l.append(g.content));const x=i.mapping.map(p+r.tableStart);i.delete(x,x+g.nodeSize)}}if(c==null||u==null)return!0;if(i.setNodeMarkup(c+r.tableStart,null,{...Z7(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),l.size>0){const d=c+1+u.content.size,f=qP(u)?c+1:d;i.replaceWith(f+r.tableStart,d+r.tableStart,l)}i.setSelection(new Mt(i.doc.resolve(c+r.tableStart))),e(i)}return!0}function GP(t,e){const n=sr(t.schema);return V1e(({node:r})=>n[r.type.spec.tableRole])(t,e)}function V1e(t){return(e,n)=>{const r=e.selection;let s,i;if(r instanceof Mt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;s=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{var a;if(s=b1e(r.$from),!s)return!1;i=(a=Kl(r.$from))===null||a===void 0?void 0:a.pos}if(s==null||i==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=Si(e),f=e.tr;for(let g=0;g<d.right-d.left;g++)c.push(u?{...l,colwidth:u&&u[g]?[u[g]]:null}:l);let p;for(let g=d.top;g<d.bottom;g++){let x=d.map.positionAt(g,d.left,d.table);g==d.top&&(x+=s.nodeSize);for(let v=d.left,b=0;v<d.right;v++,b++)v==d.left&&g==d.top||f.insert(p=f.mapping.map(x+d.tableStart,1),t({node:s,row:g,col:v}).createAndFill(c[b]))}f.setNodeMarkup(i,t({node:s,row:d.top,col:d.left}),c[0]),r instanceof Mt&&f.setSelection(new Mt(f.doc.resolve(r.$anchorCell.pos),p?f.doc.resolve(p):void 0)),n(f)}return!0}}function $1e(t,e){return function(n,r){if(!Us(n))return!1;const s=Vx(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof Mt?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&i.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function B1e(t){return function(e,n){if(!Us(e))return!1;if(n){const r=sr(e.schema),s=Si(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=a.map(c=>s.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[c],r.cell,l[c].attrs);if(i.steps.length===0)for(let c=0;c<a.length;c++)i.setNodeMarkup(s.tableStart+a[c],r.header_cell,l[c].attrs);n(i)}return!0}}function YP(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function sf(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?B1e(t):function(n,r){if(!Us(n))return!1;if(r){const s=sr(n.schema),i=Si(n),a=n.tr,l=YP("row",i,s),c=YP("column",i,s),u=(t==="column"?l:t==="row"&&c)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:i.map.height}:t=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,f=t=="column"?c?s.cell:s.header_cell:t=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(d).forEach(p=>{const g=p+i.tableStart,x=a.doc.nodeAt(g);x&&a.setNodeMarkup(g,f,x.attrs)}),r(a)}return!0}}sf("row",{useDeprecatedLogic:!0});sf("column",{useDeprecatedLogic:!0});const H1e=sf("cell",{useDeprecatedLogic:!0});function U1e(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function XP(t){return function(e,n){if(!Us(e))return!1;const r=U1e(Vx(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(Be.between(s,w1e(s))).scrollIntoView())}return!0}}function W1e(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Mp(t,e){const n=t.selection;if(!(n instanceof Mt))return!1;if(e){const r=t.tr,s=sr(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new Ce(s,0,0))}),r.docChanged&&e(r)}return!0}function q1e(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,l=[];if(i=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=Vw(sr(a).row,new Ce(u,d,f)).content),l.push(u)}else if(i=="cell"||i=="header_cell")l.push(n||r?Vw(sr(a).row,new Ce(e,n,r)).content:e);else return null;return K1e(a,l)}function K1e(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=i.child(a).attrs;for(let u=s;u<s+l;u++)n[u]=(n[u]||0)+c}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(de.empty),n[s]<r){const i=sr(t).cell.createAndFill(),a=[];for(let l=n[s];l<r;l++)a.push(i);e[s]=e[s].append(de.from(a))}return{height:e.length,width:r,rows:e}}function Vw(t,e){const n=t.createAndFill();return new dj(n).replace(0,n.content.size,e).doc}function G1e({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=i[l]||0,f=0;d<r;f++){let p=c.child(f%c.childCount);d+p.attrs.colspan>r&&(p=p.type.createChecked(Gl(p.attrs,p.attrs.colspan,d+p.attrs.colspan-r),p.content)),u.push(p),d+=p.attrs.colspan;for(let g=1;g<p.attrs.rowspan;g++)i[l+g]=(i[l+g]||0)+p.attrs.colspan}a.push(de.from(u))}n=a,t=r}if(e!=s){const i=[];for(let a=0,l=0;a<s;a++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);a+f.attrs.rowspan>s&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,s-f.attrs.rowspan)},f.content)),c.push(f)}i.push(de.from(c))}n=i,e=s}return{width:t,height:e,rows:n}}function Y1e(t,e,n,r,s,i,a){const l=t.doc.type.schema,c=sr(l);let u,d;if(s>e.width)for(let f=0,p=0;f<e.height;f++){const g=n.child(f);p+=g.nodeSize;const x=[];let v;g.lastChild==null||g.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=d||(d=c.header_cell.createAndFill());for(let b=e.width;b<s;b++)x.push(v);t.insert(t.mapping.slice(a).map(p-1+r),x)}if(i>e.height){const f=[];for(let x=0,v=(e.height-1)*e.width;x<Math.max(e.width,s);x++){const b=x>=e.width?!1:n.nodeAt(e.map[v+x]).type==c.header_cell;f.push(b?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const p=c.row.create(null,de.from(f)),g=[];for(let x=e.height;x<i;x++)g.push(p);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),g)}return!!(u||d)}function QP(t,e,n,r,s,i,a,l){if(a==0||a==e.height)return!1;let c=!1;for(let u=s;u<i;u++){const d=a*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){c=!0;const p=n.nodeAt(f),{top:g,left:x}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...p.attrs,rowspan:a-g}),t.insert(t.mapping.slice(l).map(e.positionAt(a,x,n)),p.type.createAndFill({...p.attrs,rowspan:g+p.attrs.rowspan-a})),u+=p.attrs.colspan-1}}return c}function JP(t,e,n,r,s,i,a,l){if(a==0||a==e.width)return!1;let c=!1;for(let u=s;u<i;u++){const d=u*e.width+a,f=e.map[d];if(e.map[d-1]==f){c=!0;const p=n.nodeAt(f),g=e.colCount(f),x=t.mapping.slice(l).map(f+r);t.setNodeMarkup(x,null,Gl(p.attrs,a-g,p.attrs.colspan-(a-g))),t.insert(x+p.nodeSize,p.type.createAndFill(Gl(p.attrs,0,a-g))),u+=p.attrs.rowspan-1}}return c}function ZP(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=Jt.get(i);const{top:l,left:c}=r,u=c+s.width,d=l+s.height,f=t.tr;let p=0;function g(){if(i=n?f.doc.nodeAt(n-1):f.doc,!i)throw new Error("No table found");a=Jt.get(i),p=f.mapping.maps.length}Y1e(f,a,i,n,u,d,p)&&g(),QP(f,a,i,n,c,u,l,p)&&g(),QP(f,a,i,n,c,u,d,p)&&g(),JP(f,a,i,n,l,d,c,p)&&g(),JP(f,a,i,n,l,d,u,p)&&g();for(let x=l;x<d;x++){const v=a.positionAt(x,c,i),b=a.positionAt(x,u,i);f.replace(f.mapping.slice(p).map(v+n),f.mapping.slice(p).map(b+n),new Ce(s.rows[x-l],0,0))}g(),f.setSelection(new Mt(f.doc.resolve(n+a.positionAt(l,c,i)),f.doc.resolve(n+a.positionAt(d-1,u-1,i)))),e(f)}const X1e=Tj({ArrowLeft:Pp("horiz",-1),ArrowRight:Pp("horiz",1),ArrowUp:Pp("vert",-1),ArrowDown:Pp("vert",1),"Shift-ArrowLeft":Ap("horiz",-1),"Shift-ArrowRight":Ap("horiz",1),"Shift-ArrowUp":Ap("vert",-1),"Shift-ArrowDown":Ap("vert",1),Backspace:Mp,"Mod-Backspace":Mp,Delete:Mp,"Mod-Delete":Mp});function cg(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Pp(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof Mt)return cg(n,r,Ge.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=iz(s,t,e);if(a==null)return!1;if(t=="horiz")return cg(n,r,Ge.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(a),c=J7(l,t,e);let u;return c?u=Ge.near(c,1):e<0?u=Ge.near(n.doc.resolve(l.before(-1)),-1):u=Ge.near(n.doc.resolve(l.after(-1)),1),cg(n,r,u)}}}function Ap(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof Mt)a=i;else{const c=iz(s,t,e);if(c==null)return!1;a=new Mt(n.doc.resolve(c))}const l=J7(a.$headCell,t,e);return l?cg(n,r,new Mt(a.$anchorCell,l)):!1}}function Q1e(t,e){const n=t.state.doc,r=Kl(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Mt(r))),!0):!1}function J1e(t,e,n){if(!Us(t.state))return!1;let r=q1e(n);const s=t.state.selection;if(s instanceof Mt){r||(r={width:1,height:1,rows:[de.from(Vw(sr(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),l=Jt.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=G1e(r,l.right-l.left,l.bottom-l.top),ZP(t.state,t.dispatch,a,l,r),!0}else if(r){const i=Vx(t.state),a=i.start(-1);return ZP(t.state,t.dispatch,a,Jt.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function Z1e(t,e){var n;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=eA(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof Mt)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=Kl(t.state.selection.$anchor))!=null&&((n=E1(t,e))===null||n===void 0?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(c,u){let d=E1(t,u);const f=Qa.getState(t.state)==null;if(!d||!Qj(c,d))if(f)d=c;else return;const p=new Mt(c,d);if(f||!t.state.selection.eq(p)){const g=t.state.tr.setSelection(p);f&&g.setMeta(Qa,c.pos),t.dispatch(g)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),Qa.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Qa,-1))}function l(c){const u=c,d=Qa.getState(t.state);let f;if(d!=null)f=t.state.doc.resolve(d);else if(eA(t,u.target)!=r&&(f=E1(t,e),!f))return a();f&&i(f,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function iz(t,e,n){if(!(t.state.selection instanceof Be))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(s),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function eA(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function E1(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;let{inside:r,pos:s}=n;return r>=0&&Kl(t.state.doc.resolve(r))||Kl(t.state.doc.resolve(s))}var e2e=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),$w(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,$w(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function $w(t,e,n,r,s,i){let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let f=0,p=0;f<u.childCount;f++){const{colspan:g,colwidth:x}=u.child(f).attrs;for(let v=0;v<g;v++,p++){const b=s==p?i:x&&x[v],w=b?b+"px":"";if(a+=b||r,b||(l=!1),c)c.style.width!=w&&(c.style.width=w),c=c.nextSibling;else{const N=document.createElement("col");N.style.width=w,e.appendChild(N)}}}for(;c;){var d;const f=c.nextSibling;(d=c.parentNode)===null||d===void 0||d.removeChild(c),c=f}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const qr=new tn("tableColumnResizing");function t2e({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=e2e,lastColumnResizable:s=!0}={}){const i=new Lt({key:qr,state:{init(a,l){var c;const u=(c=i.spec)===null||c===void 0||(c=c.props)===null||c===void 0?void 0:c.nodeViews,d=sr(l.schema).table.name;return r&&u&&(u[d]=(f,p)=>new r(f,n,p)),new n2e(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=qr.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{r2e(a,l,t,s)},mouseleave:a=>{s2e(a)},mousedown:(a,l)=>{i2e(a,l,e,n)}},decorations:a=>{const l=qr.getState(a);if(l&&l.activeHandle>-1)return u2e(a,l.activeHandle)},nodeViews:{}}});return i}var n2e=class ug{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(qr);if(r&&r.setHandle!=null)return new ug(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new ug(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return zw(e.doc.resolve(s))||(s=-1),new ug(s,n.dragging)}return n}};function r2e(t,e,n,r){if(!t.editable)return;const s=qr.getState(t.state);if(s&&!s.dragging){const i=o2e(e.target);let a=-1;if(i){const{left:l,right:c}=i.getBoundingClientRect();e.clientX-l<=n?a=tA(t,e,"left",n):c-e.clientX<=n&&(a=tA(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),c=l.node(-1),u=Jt.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}az(t,a)}}}function s2e(t){if(!t.editable)return;const e=qr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&az(t,-1)}function i2e(t,e,n,r){var s;if(!t.editable)return!1;const i=(s=t.dom.ownerDocument.defaultView)!==null&&s!==void 0?s:window,a=qr.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),c=a2e(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(qr,{setDragging:{startX:e.clientX,startWidth:c}}));function u(f){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",d);const p=qr.getState(t.state);p?.dragging&&(l2e(t,p.activeHandle,nA(p.dragging,f,n)),t.dispatch(t.state.tr.setMeta(qr,{setDragging:null})))}function d(f){if(!f.which)return u(f);const p=qr.getState(t.state);if(p&&p.dragging){const g=nA(p.dragging,f,n);rA(t,p.activeHandle,g,r)}}return rA(t,a.activeHandle,c,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",d),e.preventDefault(),!0}function a2e(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let a=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function o2e(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function tA(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,l=Kl(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const c=Jt.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function nA(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function az(t,e){t.dispatch(t.state.tr.setMeta(qr,{setHandle:e}))}function l2e(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=Jt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let u=0;u<i.height;u++){const d=u*i.width+l;if(u&&i.map[d]==i.map[d-i.width])continue;const f=i.map[d],p=s.nodeAt(f).attrs,g=p.colspan==1?0:l-i.colCount(f);if(p.colwidth&&p.colwidth[g]==n)continue;const x=p.colwidth?p.colwidth.slice():c2e(p.colspan);x[g]=n,c.setNodeMarkup(a+f,null,{...p,colwidth:x})}c.docChanged&&t.dispatch(c)}function rA(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),l=Jt.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let c=t.domAtPos(s.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&$w(i,c.firstChild,c,r,l,n)}function c2e(t){return Array(t).fill(0)}function u2e(t,e){const n=[],r=t.doc.resolve(e),s=r.node(-1);if(!s)return Et.empty;const i=Jt.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<i.height;u++){const d=l+u*i.width;if((l==i.width-1||i.map[d]!=i.map[d+1])&&(u==0||i.map[d]!=i.map[d-i.width])){var c;const f=i.map[d],p=a+f+s.nodeAt(f).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",!((c=qr.getState(t))===null||c===void 0)&&c.dragging&&n.push(Pn.node(a+f,a+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),n.push(Pn.widget(p,g))}}return Et.create(t.doc,n)}function d2e({allowTableNodeSelection:t=!1}={}){return new Lt({key:Qa,state:{init(){return null},apply(e,n){const r=e.getMeta(Qa);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:j1e,handleDOMEvents:{mousedown:Z1e},createSelectionBetween(e){return Qa.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Q1e,handleKeyDown:X1e,handlePaste:J1e},appendTransaction(e,n,r){return T1e(r,nz(r,n),t)}})}var oz=_n.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),s=r?r.split(",").map(i=>parseInt(i,10)):null;if(!s){const i=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&i&&i[a]){const l=i[a].getAttribute("width");return l?[parseInt(l,10)]:null}}return s}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Pt(this.options.HTMLAttributes,t),0]}}),lz=_n.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Pt(this.options.HTMLAttributes,t),0]}}),cz=_n.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Pt(this.options.HTMLAttributes,t),0]}});function Bw(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function sA(t,e,n,r,s,i){var a;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let p=0,g=0;p<d.childCount;p+=1){const{colspan:x,colwidth:v}=d.child(p).attrs;for(let b=0;b<x;b+=1,g+=1){const w=s===g?i:v&&v[b],N=w?`${w}px`:"";if(l+=w||r,w||(c=!1),u){if(u.style.width!==N){const[C,M]=Bw(r,w);u.style.setProperty(C,M)}u=u.nextSibling}else{const C=document.createElement("col"),[M,j]=Bw(r,w);C.style.setProperty(M,j),e.appendChild(C)}}}for(;u;){const p=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=p}const f=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);c&&!f?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}var h2e=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),sA(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,sA(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function f2e(t,e,n,r){let s=0,i=!0;const a=[],l=t.firstChild;if(!l)return{};for(let f=0,p=0;f<l.childCount;f+=1){const{colspan:g,colwidth:x}=l.child(f).attrs;for(let v=0;v<g;v+=1,p+=1){const b=n===p?r:x&&x[v];s+=b||e,b||(i=!1);const[w,N]=Bw(e,b);a.push(["col",{style:`${w}: ${N}`}])}}const c=i?`${s}px`:"",u=i?"":`${s}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:u}}function iA(t,e){return t.createAndFill()}function m2e(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function p2e(t,e,n,r,s){const i=m2e(t),a=[],l=[];for(let u=0;u<n;u+=1){const d=iA(i.cell);if(d&&l.push(d),r){const f=iA(i.header_cell);f&&a.push(f)}}const c=[];for(let u=0;u<e;u+=1)c.push(i.row.createChecked(null,r&&u===0?a:l));return i.table.createChecked(null,c)}function g2e(t){return t instanceof Mt}var Op=({editor:t})=>{const{selection:e}=t.state;if(!g2e(e))return!1;let n=0;const r=XF(e.ranges[0].$from,i=>i.type.name==="table");return r?.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},x2e="";function y2e(t){return(t||"").replace(/\s+/g," ").trim()}function b2e(t,e,n={}){var r;const s=(r=n.cellLineSeparator)!=null?r:x2e;if(!t||!t.content||t.content.length===0)return"";const i=[];t.content.forEach(x=>{const v=[];x.content&&x.content.forEach(b=>{let w="";b.content&&Array.isArray(b.content)&&b.content.length>1?w=b.content.map(j=>e.renderChildren(j)).join(s):w=b.content?e.renderChildren(b.content):"";const N=y2e(w),C=b.type==="tableHeader";v.push({text:N,isHeader:C})}),i.push(v)});const a=i.reduce((x,v)=>Math.max(x,v.length),0);if(a===0)return"";const l=new Array(a).fill(0);i.forEach(x=>{var v;for(let b=0;b<a;b+=1){const N=(((v=x[b])==null?void 0:v.text)||"").length;N>l[b]&&(l[b]=N),l[b]<3&&(l[b]=3)}});const c=(x,v)=>x+" ".repeat(Math.max(0,v-x.length)),u=i[0],d=u.some(x=>x.isHeader);let f=`
`;const p=new Array(a).fill(0).map((x,v)=>d&&u[v]&&u[v].text||"");return f+=`| ${p.map((x,v)=>c(x,l[v])).join(" | ")} |
`,f+=`| ${l.map(x=>"-".repeat(Math.max(3,x))).join(" | ")} |
`,(d?i.slice(1):i).forEach(x=>{f+=`| ${new Array(a).fill(0).map((v,b)=>c(x[b]&&x[b].text||"",l[b])).join(" | ")} |
`}),f}var v2e=b2e,uz=_n.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:h2e,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=f2e(t,this.options.cellMinWidth),i=e.style;function a(){return i||(r?`width: ${r}`:`min-width: ${s}`)}const l=["table",Pt(this.options.HTMLAttributes,e,{style:a()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},l]:l},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(s=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const s=[];r.forEach(i=>{s.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},s))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>v2e(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const a=p2e(i.schema,t,e,n);if(s){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Be.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>P1e(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>A1e(t,e),deleteColumn:()=>({state:t,dispatch:e})=>_1e(t,e),addRowBefore:()=>({state:t,dispatch:e})=>I1e(t,e),addRowAfter:()=>({state:t,dispatch:e})=>L1e(t,e),deleteRow:()=>({state:t,dispatch:e})=>F1e(t,e),deleteTable:()=>({state:t,dispatch:e})=>W1e(t,e),mergeCells:()=>({state:t,dispatch:e})=>KP(t,e),splitCell:()=>({state:t,dispatch:e})=>GP(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>sf("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>sf("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>H1e(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>KP(t,e)?!0:GP(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>$1e(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>XP(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>XP(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&nz(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Mt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Op,"Mod-Backspace":Op,Delete:Op,"Mod-Delete":Op}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[t2e({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],d2e({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:yt(Fe(t,"tableRole",e))}}});St.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(uz.configure(this.options.table)),this.options.tableCell!==!1&&t.push(oz.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(lz.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(cz.configure(this.options.tableRow)),t}});var w2e=cz,N2e=lz,S2e=oz,j2e=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,C2e=_n.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Pt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,i,a;const l=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",c=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",u=(a=(i=t.attrs)==null?void 0:i.title)!=null?a:"";return u?`![${c}](${l} "${u}")`:`![${c}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:a,editor:l})=>{const c=document.createElement("img");Object.entries(a).forEach(([f,p])=>{if(p!=null)switch(f){case"width":case"height":break;default:c.setAttribute(f,p);break}}),c.src=a.src;const u=new hye({element:c,editor:l,node:s,getPos:i,onResize:(f,p)=>{c.style.width=`${f}px`,c.style.height=`${p}px`},onCommit:(f,p)=>{const g=i();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:f,height:p}).run()},onUpdate:(f,p,g)=>f.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),d=u.dom;return d.style.visibility="hidden",d.style.pointerEvents="none",c.onload=()=>{d.style.visibility="",d.style.pointerEvents=""},u}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[w7({find:j2e,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),k2e=C2e;const T2e=({value:t,onChange:e})=>{const n=wbe({extensions:[i1e.configure({heading:{levels:[1,2,3]}}),Ive,o1e.configure({types:["heading","paragraph"]}),uz.configure({resizable:!0}),w2e,N2e,S2e,k2e,Q7],content:t||"<p></p>",editorProps:{attributes:{class:"prose prose-2xl max-w-none text-gray-600 focus:outline-none min-h-[300px] overflow-auto p-4 border border-gray-300 rounded-md"}},onUpdate:({editor:s})=>{e(s.getHTML())}});if(!n)return null;const r=()=>{const s=window.prompt("Nhp URL hnh nh:");s&&n.chain().focus().setImage({src:s}).run()};return o.jsxs("div",{className:"border border-gray-300 rounded-md",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border-b border-gray-300 bg-gray-50",children:[o.jsx("button",{type:"button",onClick:()=>{n.chain().focus().toggleHeading({level:1}).run()},className:`px-4 py-2 rounded hover:bg-gray-200 text-[2rem] font-bold ${n.isActive("heading",{level:1})?"bg-gray-300":""}`,children:"H1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-end text-[1.8rem] ${n.isActive("heading",{level:2})?"bg-gray-300":""}`,children:"H2"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleHeading({level:3}).run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold text-[1.6rem] ${n.isActive("heading",{level:3})?"bg-gray-300":""}`,children:"H3"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setParagraph().run(),className:`px-4 py-2 rounded hover:bg-gray-200 font-bold leading-none ${n.isActive("paragraph")?"bg-gray-300":""}`,children:"P"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bold")?"bg-gray-300":""}`,children:o.jsx(z,{icon:PG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("italic")?"bg-gray-300":""}`,children:o.jsx(z,{icon:VG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("underline")?"bg-gray-300":""}`,children:o.jsx(z,{icon:XG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("strike")?"bg-gray-300":""}`,children:o.jsx(z,{icon:CG})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("bulletList")?"bg-gray-300":""}`,children:o.jsx(z,{icon:eY})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive("orderedList")?"bg-gray-300":""}`,children:o.jsx(z,{icon:$G})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"left"})?"bg-gray-300":""}`,children:o.jsx(z,{icon:bG})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 ${n.isActive({textAlign:"center"})?"bg-gray-300":""}`,children:o.jsx(z,{icon:_G})}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-300 ${n.isActive({textAlign:"right"})?"bg-gray-300":""}`,children:o.jsx(z,{icon:kG})}),o.jsx("div",{className:"w-px bg-gray-400 mx-1"}),o.jsx("button",{type:"button",onClick:()=>n.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"p-2 rounded hover:bg-gray-200",children:o.jsx(z,{icon:jG})}),o.jsx("button",{type:"button",onClick:r,className:"p-2 rounded hover:bg-gray-200",children:o.jsx(z,{icon:OG})})]}),o.jsx(mbe,{editor:n})]})};function E2e({openAddSizeColor:t,setOpenAddSizeColor:e,onSuccess:n}){const[r,s]=T.useState(!1),[i,a]=T.useState(""),[l,c]=T.useState("cloth"),[u,d]=T.useState(""),[f,p]=T.useState("#000000"),g=t.node==="size",x=async()=>{if(g){if(!i.trim()){ce.error("Vui lng nhp tn size!");return}}else if(!u.trim()){ce.error("Vui lng nhp tn mu!");return}s(!0);try{if(g){const b=await he.post("api/v1/variant-size/create",{name:i.trim(),type:l});b.status&&ce.success(b.message||"Thm size thnh cng")}else{const b=await he.post("api/v1/variant-color/create",{name:u.trim(),hexCode:f});b.status&&ce.success(b.message||"Thm mu thnh cng")}n(),e({open:!1,node:"size"}),a(""),d(""),p("#000000")}catch{ce.error("Thm tht bi. Vui lng th li.")}finally{s(!1)}},v=()=>{e({open:!1,node:"size"}),a(""),d(""),p("#000000")};return o.jsxs(bt,{open:t.open,className:"relative w-[50rem] bg-white p-[3rem] rounded-lg shadow-xl",children:[o.jsx("button",{className:"absolute top-[1.5rem] right-[1.5rem] w-[3rem] h-[3rem] rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",onClick:v,disabled:r,children:o.jsx(z,{icon:cn,className:"text-gray-600"})}),o.jsx("h2",{className:"text-[2rem] text-center font-bold text-green-600 mb-6",children:g?"Thm Size Mi":"Thm Mu Mi"}),g?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn size ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:i,onChange:b=>a(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: XXL, 43",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Loi sn phm"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"cloth",checked:l==="cloth",onChange:()=>c("cloth"),disabled:r}),"Qun o"]}),o.jsxs("label",{className:"flex items-center gap-2 text-[1.4rem]",children:[o.jsx("input",{type:"radio",name:"sizeType",value:"shoes",checked:l==="shoes",onChange:()=>c("shoes"),disabled:r}),"Giy dp"]})]})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:["Tn mu ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),className:"w-full h-[4rem] px-4 rounded-lg border border-gray-300 focus:border-blue-500 outline-none text-[1.4rem]",placeholder:"VD: Xanh ngc",disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[1.4rem] text-gray-700 mb-2",children:"Chn mu"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("input",{type:"color",value:f,onChange:b=>p(b.target.value),className:"w-20 h-20 rounded-lg cursor-pointer border border-gray-300",disabled:r}),o.jsx("span",{className:"text-[1.6rem] font-mono",children:f})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[o.jsx("button",{onClick:v,disabled:r,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:"Hy"}),o.jsx("button",{onClick:x,disabled:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang thm..."]}):"Thm"})]})]})}function M2e({openActionVariant:t,setOpenActionVariant:e,setValue:n,variants:r,dataUpdate:s,dataSize:i,dataColor:a}){const[l,c]=T.useState("cloth"),u=ga(),[d,f]=T.useState({open:!1,node:"size"}),[p,g]=T.useState({size:"",color:"",inventory:""}),[x,v]=T.useState({sizeId:null,colorId:null,price:null,inventory:null});T.useEffect(()=>{if(t.node==="edit"&&s){const C=i.find(M=>M.id===s.sizeId);v({sizeId:s.sizeId,colorId:s.colorId,price:s.price,inventory:s.inventory}),C&&c(C.type)}},[s,t,i]),T.useEffect(()=>{t.node==="add"&&(v({sizeId:null,colorId:null,price:null,inventory:null}),c("cloth"))},[t]);const b=()=>{if(!x.sizeId){g(M=>({...M,size:"Vui lng chn size cho sn phm!"}));return}if(!x.colorId){g(M=>({...M,color:"Vui lng chn mu sc cho sn phm!"}));return}if(!x.inventory){g(M=>({...M,inventory:"Vui lng nhp s lng tn kho!"}));return}if(r.some(M=>M.sizeId===Number(x.sizeId)&&M.colorId===Number(x.colorId))){ce.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}n("variants",[...r,{tempId:Date.now(),sizeId:Number(x.sizeId),colorId:Number(x.colorId),price:x.price?Number(x.price):null,inventory:Number(x.inventory),isEdited:!1}]),e({open:!1,node:"add",data:null})},w=()=>{if(x.sizeId)if(x.colorId){if(!x.inventory){g(P=>({...P,inventory:"Vui lng nhp s lng tn kho!"}));return}}else{g(P=>({...P,color:"Vui lng chn mu sc cho sn phm!"}));return}else{g(P=>({...P,size:"Vui lng chn size cho sn phm!"}));return}const C=s.id;if(r.some(P=>!(C?P.id===s.id:P.tempId===s.tempId)&&P.sizeId===Number(x.sizeId)&&P.colorId===Number(x.colorId))){ce.warn("Thuc tnh vi Size v Mu ny  tn ti!");return}const j={tempId:s.tempId,sizeId:x.sizeId,colorId:x.colorId,price:x.price?Number(x.price):null,inventory:Number(x.inventory),...s.id&&{id:s.id},isEdited:!0},A=r.map(P=>P.tempId===s.tempId?j:P);n("variants",A),e({open:!1,node:"add",data:null})},N=()=>{u.invalidateQueries({queryKey:["variantSize"]}),u.invalidateQueries({queryKey:["variantColor"]})};return o.jsxs(bt,{open:t.open,className:"relative max-w-[75rem] bg-white p-[3rem] rounded-lg shadow-md",children:[o.jsx("button",{className:"absolute w-[3rem] h-[3rem] bg-gray-100 flex items-center justify-center top-[1.5rem] right-[1.5rem] p-2 hover:bg-gray-200 rounded-full",onClick:()=>e({open:!1,node:"add",data:null}),children:o.jsx(z,{icon:cn,className:"text-gray-600"})}),o.jsx("h2",{className:`text-[2rem] text-center font-bold ${t.node==="add"?"text-green-600":"text-amber-600"} mb-4`,children:t.node==="add"?"Thm thuc tnh sn phm":"Chnh sa thuc tnh"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn size:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"size",open:!0}),children:[o.jsx("span",{children:"+"})," Thm size"]})]}),o.jsxs("div",{className:"flex items-center overflow-x-auto gap-[4rem] mt-[.5rem]",children:[o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"cloth",className:"text-[1.4rem] text-gray-600",children:"Qun o"}),o.jsx("input",{type:"radio",id:"cloth",className:"",checked:l==="cloth",onChange:()=>c("cloth")})]}),o.jsxs("div",{className:"flex items-center gap-[1rem]",children:[o.jsx("label",{htmlFor:"shoes",className:"text-[1.4rem] text-gray-600",children:"Giy dp"}),o.jsx("input",{type:"radio",id:"shoes",className:"",checked:l==="shoes",onChange:()=>c("shoes")})]})]}),o.jsx("div",{className:"w-full overflow-auto hide-scrollbar flex flex-nowrap items-center gap-[1rem] mt-[1rem] pt-[.5rem]",children:i?.map(C=>{if(C.type===l)return o.jsx("button",{className:`flex-shrink-0 px-[1.5rem] py-[.5rem] border-[.2rem] text-gray-600 border-gray-300 rounded-xl hover:border-blue-600 hover:translate-y-[-.2rem] hover-linear hover:shadow-xl ${C.id===x.sizeId?"bg-blue-500 border-none text-white shadow-xl shadow-blue-100":""}`,onClick:()=>{v(M=>({...M,sizeId:C.id})),g(M=>({...M,size:""}))},children:C.name},C.id)})}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.size}),o.jsxs("div",{className:"flex justify-between items-center mt-[2.5rem]",children:[o.jsx("div",{className:"flex items-center gap-[4rem] mt-[.5rem]",children:o.jsx("label",{className:"text-gray-600 text-[1.4rem]",children:"Chn mu:"})}),o.jsxs("button",{className:"text-blue-600 text-[1.3rem] flex items-center gap-1 hover:underline",onClick:()=>f({node:"color",open:!0}),children:[o.jsx("span",{children:"+"})," Thm mu"]})]}),o.jsx("div",{className:"w-full max-h-[24rem] overflow-y-auto grid grid-cols-4 gap-[1rem] mt-[1rem] pt-[.5rem]",children:a?.map(C=>o.jsxs("button",{className:`w-full flex items-center gap-[1rem] px-[2rem] py-[.6rem] border-[.2rem]  rounded-xl hover:translate-y-[-.2rem] hover-linear hover:shadow-xl hover:border-blue-500 ${C.id===x.colorId?"bg-blue-100 border-blue-500":"border-gray-300"}`,onClick:()=>{v(M=>({...M,colorId:C.id})),g(M=>({...M,color:""}))},children:[o.jsx("div",{className:"block w-[3rem] h-[3rem] rounded-full border-[.2rem] border-gray-300",style:{background:C.hexCode}}),o.jsx("p",{className:"text-[1.4rem] text-gray-600",children:C.name})]},C.id))}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.color}),o.jsxs("div",{className:"flex items-start gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"price",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"Gi khc"}),o.jsx("input",{type:"number",id:"price",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 200000",value:x.price??"",onChange:C=>v(M=>({...M,price:C.target.value}))})]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"inventory",className:"block text-gray-600 text-[1.4rem] mt-[2rem]",children:"S lng kho"}),o.jsx("input",{type:"number",id:"inventory",className:"w-full h-[4rem] rounded-xl border border-gray-400 pl-[1.5rem] mt-[.5rem] outline-none focus:border-[.2rem] focus:border-blue-500",placeholder:"VD: 5",value:x.inventory??"",onChange:C=>{v(M=>({...M,inventory:C.target.value})),g(M=>({...M,inventory:""}))}}),o.jsx("p",{className:"text-red-500 text-[1.4rem] mt-[.5rem]",children:p.inventory})]})]}),o.jsxs("div",{className:"flex items-center gap-[1.5rem] justify-end mt-[2rem]",children:[o.jsx("button",{className:" bg-gray-200 text-gray-600 py-2 rounded hover:bg-gray-300 px-[2rem] hover-linear",onClick:()=>e({open:!1,node:"add",data:null}),children:"Hy"}),o.jsx("button",{className:" bg-green-500 text-white py-2 rounded hover:bg-green-600 px-[2rem] hover-linear",onClick:()=>{t.node==="add"?b():w()},children:t.node==="edit"?"Lu":"Thm"})]}),o.jsx(E2e,{openAddSizeColor:d,setOpenAddSizeColor:f,onSuccess:N})]})}function aA(){const{id:t}=wi(),e=t?"edit":"create",n=Ze(),[r,s]=T.useState(!1),{control:i,register:a,handleSubmit:l,watch:c,setValue:u,formState:{errors:d,isSubmitting:f},reset:p}=Hs({defaultValues:{productName:"",price:null,description:"",mainImage:null,listImages:null,inventory:null,categoryId:void 0,variants:[]}}),{data:g=[]}=De({queryKey:["getAllCategory"],queryFn:ec});T.useEffect(()=>{if(!t)return;(async()=>{try{s(!0);const V=await he.get(`/api/v1/product/admin/detail/${t}`);if(V.status&&V.product){const Q=V.product;if(p({id:Q.id,productName:Q.productName||"",price:Q.price||null,description:Q.description||"",inventory:Q.inventory||null,categoryId:Q.category.id||void 0,variants:Q.variants.map((Z,ee)=>({id:Z.id,sizeId:Z.variantSize.id||null,colorId:Z.variantColor.id||null,price:Z.price||null,inventory:Z.inventory||null,tempId:Z.id?`old-${Z.id}`:Date.now()+String(ee),isEdited:!1}))}),Q.mainImage&&C(Q.mainImage),Q.listImageProduct?.length>0){const Z=Q.listImageProduct.map(ee=>({id:ee.id,url:ee.imageUrl}));D(Z),G(Z.map(ee=>ee.id))}}}catch(V){console.log(V)}finally{s(!1)}})()},[t,p]);const{data:x,isLoading:v}=De({queryKey:["variantSize"],queryFn:ite}),{data:b,isLoading:w}=De({queryKey:["variantColor"],queryFn:ate}),[N,C]=T.useState(null),[M,j]=T.useState({open:!1,node:"add",data:null}),[A,P]=T.useState(!1),E=c("mainImage"),_=c("variants"),[L,D]=T.useState([]),[R,G]=T.useState([]),[U,q]=T.useState([]);T.useEffect(()=>{if(E&&E.length>0){const H=E[0],V=URL.createObjectURL(H);return C(V),()=>URL.revokeObjectURL(V)}},[E]),T.useEffect(()=>()=>{L.forEach(H=>{H.file&&H.url.startsWith("blob:")&&URL.revokeObjectURL(H.url)}),N?.startsWith("blob:")&&URL.revokeObjectURL(N)},[]);const F=H=>{D(V=>{const Q=V[H];return Q.file&&Q.url.startsWith("blob:")&&URL.revokeObjectURL(Q.url),V.filter((Z,ee)=>ee!==H)})},B=async H=>{try{const V=new FormData;if(V.append("productName",H.productName),H.price&&V.append("price",String(H.price)),V.append("description",H.description),H.categoryId&&V.append("categoryId",String(H.categoryId)),!H.variants||H.variants.length===0){ce.error("Vui lng chn t nht mt thuc tnh");return}for(let le=0;le<H.variants.length;le++){const pe=H.variants[le];if(!pe.sizeId||!pe.colorId){ce.error(`Vui lng chn y  size v color cho thuc tnh th ${le+1}`);return}}const Q=new Set;for(let le=0;le<H.variants.length;le++){const pe=H.variants[le],ne=`${pe.sizeId}-${pe.colorId}`;if(Q.has(ne)){ce.error(`Thuc tnh size v mu b trng lp  v tr ${le+1}`);return}Q.add(ne)}if(H.variants&&H.variants.length>0)if(e==="create"){const le=_.map(pe=>{const{tempId:ne,...ue}=pe;return ue});V.append("variants",JSON.stringify(le))}else{const le=_.filter(ne=>!ne.id).map(ne=>({sizeId:ne.sizeId,colorId:ne.colorId,price:ne.price,inventory:ne.inventory})),pe=_.filter(ne=>ne.id&&ne.isEdited).map(ne=>({id:ne.id,sizeId:ne.sizeId,colorId:ne.colorId,price:ne.price,inventory:ne.inventory}));V.append("editedVariants",JSON.stringify(pe)),V.append("newVariants",JSON.stringify(le)),V.append("deletedVariantIds",JSON.stringify(U))}if(H.mainImage&&H.mainImage.length>0&&V.append("mainImage",H.mainImage[0]),e==="edit"){const le=L.filter(ue=>ue.id&&!ue.file).map(ue=>ue.id),pe=R.filter(ue=>!le.includes(ue)),ne=L.filter(ue=>ue.file).map(ue=>ue.file);V.append("keptListImageIds",JSON.stringify(le)),V.append("deletedListImageIds",JSON.stringify(pe)),ne.forEach(ue=>{V.append("newImages",ue)})}else L.filter(pe=>pe.file).map(pe=>pe.file).forEach(pe=>{V.append("listImages",pe)});const Z=e==="create"?"/api/v1/product/create":`/api/v1/product/update/${H.id}`;let ee=null;e==="create"?ee=await he.post(Z,V,{headers:{"Content-Type":"multipart/form-data"}}):ee=await he.patch(Z,V,{headers:{"Content-Type":"multipart/form-data"}}),ee.status&&(ce.success(ee.message||`${e==="create"?"Thm":"Cp nht"} sn phm thnh cng!`),e==="create"&&(p(),C(""),n("/dashboard/products")))}catch(V){console.log(V),ce.error("C li xy ra. Vui lng th li!")}},$=H=>{const V=_[H];V.id&&q(Q=>[...Q,Number(V.id)]),u("variants",_.filter((Q,Z)=>Z!==H))},X=(H,V)=>{const Q=V.target.files?.[0];if(!Q)return;const Z=["image/jpeg","image/png","image/gif","image/webp"],ee=5*1024*1024;if(!Z.includes(Q.type)){ce.error("Ch chp nhn file nh (JPG, PNG, GIF, WEBP)"),V.target.value="";return}if(Q.size>ee){ce.error("Kch thc nh khng c vt qu 5MB"),V.target.value="";return}const le=URL.createObjectURL(Q);D(pe=>{const ne=[...pe],ue=ne[H];return ue.file&&ue.url.startsWith("blob:")&&URL.revokeObjectURL(ue.url),ne[H]={file:Q,url:le},ne}),V.target.value=""};return T.useMemo(()=>L.map(H=>({type:H.id?"old":"new",url:H.url,id:H.id})),[L]),e==="edit"&&r?o.jsx(ko,{}):o.jsxs("div",{className:"w-full min-h-[calc(100vh-10rem)] bg-white shadow-lg p-[2rem] rounded-[1rem]",children:[o.jsx("div",{className:"flex",children:o.jsxs(Qe,{to:"/dashboard/products",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",children:[o.jsx(z,{icon:yi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li danh sch"})]})}),o.jsx("h2",{className:`text-[2.5rem] ${e==="create"?"text-green-700":"text-amber-700"} text-center font-bold mb-[2rem]`,children:e==="create"?"Thm sn phm":"Chnh sa sn phm"}),o.jsx("form",{onSubmit:l(B),children:A?o.jsxs("div",{children:[o.jsx("label",{className:"text-green-600 text-[1.8rem]",children:"M t sn phm"}),o.jsx("div",{children:o.jsxs("button",{type:"button",className:"flex items-center space-x-1 text-gray-600 px-6 rounded-md my-[1rem] py-1 bg-gray-200 hover:bg-gray-300 cursor-pointer",onClick:()=>{P(!1)},children:[o.jsx(z,{icon:yi,className:"text-gray-500"}),o.jsx("span",{children:"Quay li"})]})}),o.jsx(pi,{name:"description",control:i,render:({field:H})=>o.jsx(T2e,{value:H.value||"",onChange:H.onChange})}),o.jsx("div",{className:"mt-[2rem] flex items-center justify-end gap-[1rem]",children:o.jsx("button",{className:"h-[3.2rem] w-[10rem] flex items-center justify-center text-white bg-green-500 rounded text-[1.4rem] hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",type:"button",onClick:()=>P(!1),children:"p dng"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-[2rem]",children:[o.jsxs("div",{className:"w-[35%] text-center",children:[o.jsx("h4",{className:"font-bold",children:"Hnh nh sn phm"}),o.jsxs("div",{className:"my-[2rem]",children:[o.jsx("label",{className:"text-gray-600",children:"nh chnh"}),o.jsx("input",{type:"file",className:"hidden",id:"mainImage",accept:"image/*",...a("mainImage",{required:e==="create"?"Vui lng chn nh chnh":!1})}),o.jsx("label",{htmlFor:"mainImage",className:"cursor-pointer w-[20rem] h-[20rem] mx-auto border-2 border-dashed border-gray-300 rounded-md flex flex-col gap-y-[1rem] items-center justify-center hover:bg-gray-50",children:N?o.jsx("img",{src:N,alt:"Main",className:"w-full h-full object-cover rounded-md"}):o.jsxs(o.Fragment,{children:[o.jsx(z,{icon:Qr,className:"text-[1.8rem] text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh chnh"})]})}),d.mainImage&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.mainImage.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[1.4rem] text-gray-600 block mb-[.5rem]",children:"nh ph (ti a 4 nh)"}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"listImages",onChange:H=>{const V=Array.from(H.target.files??[]),Q=4,Z=["image/jpeg","image/png","image/gif","image/webp"];if(V.filter(Se=>!Z.includes(Se.type)).length>0){ce.error("Ch chp nhn file nh (JPG, PNG, GIF, WEBP)"),H.target.value="";return}const le=5*1024*1024;if(V.filter(Se=>Se.size>le).length>0){ce.error("Mi nh khng c vt qu 5MB"),H.target.value="";return}const ne=L.length,ue=Q-ne;if(V.length>ue){ce.error(`Ch c th thm ti a ${ue} nh na!`),H.target.value="";return}const ge=V.map(Se=>({file:Se,url:URL.createObjectURL(Se)}));D(Se=>[...Se,...ge]),H.target.value=""}}),o.jsxs("label",{htmlFor:"listImages",className:"cursor-pointer w-full border-2 border-dashed border-gray-300 rounded-md flex gap-2.5 items-center justify-center py-[1rem] hover:bg-gray-50",children:[o.jsx(z,{icon:Qr,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-400",children:"Chn nh ph"})]}),o.jsx("div",{className:"mt-[1rem] grid grid-cols-4 gap-[1rem]",children:L.map((H,V)=>{const Q=H.id?`old-${H.id}`:`new-${V}`;return o.jsxs("label",{htmlFor:`image-${V}`,className:"relative group",children:[o.jsx("img",{src:H.url,alt:`image-${V}`,className:"w-full h-[8rem] object-cover rounded-md border border-gray-300"}),o.jsx("input",{type:"file",id:`image-${V}`,accept:"image/jpeg,image/png,image/gif,image/webp",className:"hidden",onChange:Z=>X(V,Z)}),o.jsx("button",{type:"button",onClick:()=>F(V),className:"absolute w-[2.5rem] h-[2.5rem] top-1 right-1 bg-white/80 rounded-full text-red-500 hover:bg-red-100 opacity-0 group-hover:opacity-100 transition",children:o.jsx(z,{icon:Un,className:"text-[1.4rem]"})})]},Q)})})]})]}),o.jsxs("div",{className:"w-[65%] pl-[2rem] border-l border-l-gray-300",children:[o.jsx("h4",{className:"font-bold ",children:"Thng tin sn phm"}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsxs("label",{htmlFor:"productName",className:"text-[1.4rem] text-gray-600",children:["Tn sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"productName",placeholder:"Tn sn phm...",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 px-[1.5rem] focus:border-cyan-300 focus:border-1",...a("productName",{required:"Vui lng nhp tn sn phm",minLength:{value:3,message:"Tn sn phm phi c t nht 3 k t"}})}),d.productName&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.productName.message})]}),o.jsxs("div",{className:"mt-[2rem] flex items-center gap-[2rem]",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"price",className:"text-[1.4rem] text-gray-600",children:["Gi sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",id:"price",placeholder:"VD: 250000",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("price",{required:"Vui lng nhp gi sn phm",min:{value:0,message:"Gi sn phm phi ln hn 0"}})}),d.price&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.price.message})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{htmlFor:"categoryId",className:"text-[1.4rem] text-gray-600",children:["Danh mc sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"categoryId",className:"w-full h-[4rem] rounded-md outline-none text-gray-600 border border-gray-300 pl-[1.5rem] focus:border-cyan-300 focus:border-1",...a("categoryId",{required:"Vui lng chn danh mc sn phm"}),children:[o.jsx("option",{value:"",disabled:!0,children:"Chn danh mc sn phm"}),g.filter(H=>H.parentId===null&&H.isActive).map(H=>o.jsx(dx,{category:H,allCategories:g,level:0},H.id))]}),d.categoryId&&o.jsx("p",{className:"text-red-500 text-[1.2rem] mt-1",children:d.categoryId.message})]})]}),o.jsx("input",{type:"number",className:"hidden",...a("id")}),o.jsxs("div",{className:"mt-[2rem]",children:[o.jsx("label",{htmlFor:"description",className:"text-[1.4rem] text-gray-600",children:"M t sn phm"}),o.jsxs("button",{type:"button",className:"flex items-center space-x-1 px-[2rem] py-[.6rem] rounded-md  border border-green-400 hover:border-green-600 text-green-500 hover:text-green-600  transition duration-300 cursor-pointer mt-[.5rem]",onClick:()=>P(!0),children:[o.jsx("span",{children:"M t"}),o.jsx(z,{icon:N_})]})]}),o.jsxs("div",{className:"mt-[2rem] border-t border-gray-300 pt-[2rem]",children:[o.jsx("label",{className:"text-[1.6rem] font-bold block mb-[1rem]",children:"Thuc tnh sn phm (tu chn)"}),o.jsx("button",{type:"button",className:"mb-[1rem] text-white bg-green-500 px-[1rem] py-[.5rem] rounded hover:bg-green-600",onClick:()=>j({open:!0,node:"add",data:null}),children:"+ Thm thuc tnh"})]}),o.jsx("div",{className:`flex flex-col divide-y ${_.length>0?"divide-gray-300 border border-gray-300":""} rounded-xl`,children:_?.map((H,V)=>{const Q=x?.find(ee=>ee.id===H.sizeId),Z=b?.find(ee=>ee.id===H.colorId);return o.jsxs("div",{className:"relative flex items-center px-[2rem] py-[1rem] hover:bg-gray-50",children:[o.jsxs("div",{className:"w-[20rem] flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Size: "}),o.jsx("span",{className:"block px-[1.5rem] py-[.4rem] bg-blue-200 rounded-md font-bold text-blue-800",children:Q?.name})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Mu: "}),o.jsx("span",{className:"block w-[2rem] h-[2rem] rounded-full border-[.2rem] border-gray-300",style:{background:Z?.hexCode}}),o.jsx("span",{children:Z?.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-[1rem]",children:[o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Gi: "}),o.jsx("span",{className:"text-amber-800 px-[1.5rem] py-[.4rem] bg-amber-100 rounded-md",children:H.price?Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(H.price)):"Khng"})]}),o.jsxs("div",{className:"flex items-center gap-[.5rem] text-[1.4rem] text-gray-600",children:[o.jsx("span",{children:"Kho: "}),o.jsx("span",{className:"text-green-800 px-[1.5rem] py-[.4rem] bg-green-100 rounded-md",children:H.inventory})]})]}),o.jsx("div",{className:"absolute right-[6.5rem] w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-amber-100 hover:bg-amber-200 hover-linear cursor-pointer",onClick:()=>j({open:!0,node:"edit",data:H}),children:o.jsx(z,{icon:Bs,className:"text-[1.4rem] text-amber-600"})}),o.jsx("div",{className:"absolute right-[2rem]  w-[4rem] h-[4rem] flex items-center justify-center rounded-full ml-auto bg-red-100 hover:bg-red-200 hover-linear cursor-pointer",onClick:()=>$(V),children:o.jsx(z,{icon:Ou,className:"text-red-600 text-[1.4rem]"})})]},H.id??H.tempId??V)})})]})]}),o.jsxs("div",{className:"mt-[3rem] flex items-center justify-end gap-[1rem]",children:[o.jsx(Qe,{to:"/dashboard/products",className:"flex items-center space-x-2 px-[2.5rem] py-[.8rem] text-gray-600 bg-gray-200 hover:bg-gray-300 rounded text-[1.4rem] cursor-pointer",type:"button",children:o.jsx("span",{children:"Quay li"})}),o.jsx("button",{className:"px-[2.5rem] py-[.8rem] flex items-center justify-center text-white bg-red-500 rounded text-[1.4rem] hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",type:"submit",disabled:f,children:o.jsx("span",{children:f?"ang x l...":e==="create"?"Thm":"Cp nht"})})]})]})}),o.jsx(M2e,{openActionVariant:M,setOpenActionVariant:j,setValue:u,variants:_,dataUpdate:M.node==="edit"?M.data:void 0,dataSize:x??[],isLoadingSize:v,dataColor:b??[],isLoadingColor:w})]})}function P2e(){const{user:t}=jt(),[e]=Ni(),n=e.get("q"),[r,s]=T.useState({limit:20,page:1,productName:n||"",sort:"popular",price:"asc"});T.useEffect(()=>{n&&s(p=>({...p,productName:n}))},[n]);const{data:i,isLoading:a}=De({queryKey:["products",r,t?.id],queryFn:()=>mte({query:r,userId:t?.id})}),l=i&&i.data,c=i&&i.pagination.totalPage||1,u=p=>{s(g=>({...g,sort:p}))},d=p=>{s(g=>({...g,price:p}))},f=p=>Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p);return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem]",children:[o.jsx("h3",{className:"pb-5",children:l?.length>0?o.jsxs(o.Fragment,{children:["Tm thy ",o.jsx("span",{className:"text-red-500",children:l.length})," kt qu cho ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]}):o.jsxs(o.Fragment,{children:["Kt qu tm kim ",o.jsxs("span",{className:"text-red-500",children:['"',n,'"']})]})}),o.jsxs("div",{className:"w-full py-3 md:py-4 text-[1.2rem] md:text-[1.6rem] bg-gray-200 flex flex-wrap md:flex-nowrap items-center gap-2 md:gap-0 md:space-x-6 px-[1rem] md:px-[2rem] rounded-lg",children:[o.jsx("span",{children:"Sp xp theo"}),o.jsxs("div",{className:"flex items-center md:gap-4 gap-2 lg:gap-6 flex-wrap md:flex-nowrap",children:[o.jsx("button",{type:"button",className:`px-3 md:px-6 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="popular"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("popular"),children:"Ph bin"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="latest"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("latest"),children:"Mi nht"}),o.jsx("button",{type:"button",className:`px-3 md:px-4 h-[3rem] md:h-[3.4rem] text-[1.2rem] md:text-[1.4rem] cursor-pointer rounded-md transition-colors ${r.sort==="best_seller"?"bg-red-500 text-white hover:bg-red-600":"bg-white hover:bg-gray-50"}`,onClick:()=>u("best_seller"),children:"Bn chy"})]}),o.jsxs("div",{className:"md:flex hidden relative w-full md:w-[20rem] h-[3rem] md:h-[3.4rem] rounded-md bg-white px-3 md:px-4 items-center justify-between group",children:[o.jsxs("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:["Gi:"," ",r.price==="asc"?"Thp n Cao":"Cao n Thp"]}),o.jsx(z,{icon:Eh,className:"text-[1.2rem] md:text-[1.4rem]"}),o.jsxs("div",{className:"absolute top-[100%] left-0 w-full origin-top scale-y-0 opacity-0 bg-white group-hover:scale-y-100 transition-transform group-hover:opacity-[1] duration-300 shadow-lg rounded-md z-10",children:[o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mt-2 cursor-pointer hover:bg-gray-200 rounded-t-md ${r.price==="asc"?"text-red-500":""}`,onClick:()=>d("asc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Thp n Cao"}),r.price==="asc"&&o.jsx(z,{icon:bo,className:"text-[1.2rem] md:text-[1.4rem]"})]}),o.jsxs("div",{className:`flex items-center justify-between px-3 md:px-4 py-2 mb-2 cursor-pointer hover:bg-gray-200 rounded-b-md ${r.price==="desc"?"text-red-500":""}`,onClick:()=>d("desc"),children:[o.jsx("span",{className:"text-[1.2rem] md:text-[1.4rem]",children:"Cao n Thp"}),r.price==="desc"&&o.jsx(z,{icon:bo,className:"text-[1.2rem] md:text-[1.4rem]"})]})]})]}),o.jsxs("button",{type:"button",className:" md:hidden flex items-center space-x-1 px-4 h-[3rem] bg-white rounded-md cursor-pointer",onClick:()=>s(p=>({...p,price:r.price==="asc"?"desc":"asc"})),children:[o.jsx("span",{children:"Gia"}),o.jsx(z,{icon:r.price==="asc"?w_:C_,className:"text-[1rem] font-extralight"})]})]}),a?o.jsx("div",{className:"py-25 text-center",children:"ang ti d liu..."}):l.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-4 mt-[2rem]",children:l.map(p=>o.jsxs(Qe,{to:`/product-detail/${p.slug}`,className:"flex flex-col w-full h-[28rem] md:h-[31rem] border rounded-md border-gray-200 shadow-sm hover:shadow-md hover:shadow-red-300 hover:scale-[1.02] transition-all duration-300 cursor-pointer",children:[o.jsx("img",{src:p.mainImage,alt:`mainImage-${p.productName}`,className:"w-full h-[16rem] md:h-[20rem] rounded-tl-md rounded-tr-md object-cover"}),o.jsxs("div",{className:"flex flex-col flex-1 p-2 md:p-4 space-y-1 md:space-y-1.5",children:[o.jsx("span",{className:"line-clamp-2 text-[1.3rem] md:text-[1.5rem] leading-snug",children:p.productName}),o.jsx("span",{className:"text-red-500 font-semibold text-[1.3rem] md:text-[1.5rem]",children:f(p.price)}),o.jsxs("div",{className:"flex items-center space-x-3 md:space-x-5 text-[1.1rem] md:text-[1.2rem] mt-auto",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"block mt-0.5",children:p.averageRating}),o.jsx(z,{icon:xs,className:"text-yellow-500 text-[1.1rem] md:text-[1.2rem]"})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:" bn"}),o.jsx("span",{children:p.soldCount})]})]})]})]},p.id))}):o.jsx("div",{className:"py-25 text-center",children:l.length===0&&!a&&o.jsxs("div",{className:"py-20 text-center",children:[o.jsxs("p",{className:"text-[1.6rem] text-gray-500 text-nowrap",children:['Khng tm thy sn phm no cho "',n,'"']}),o.jsx("p",{className:"text-[1.4rem] text-gray-400 mt-2",children:"Th tm kim vi t kha khc"})]})}),o.jsxs("div",{className:"flex justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.max(p.page-1,1)})),disabled:r.page===1,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:ts,className:"text-gray-500"})}),Array.from({length:c},(p,g)=>g+1).filter(p=>Math.abs(p-r.page)<=2).map(p=>o.jsx("button",{onClick:()=>s(g=>({...g,page:p})),className:`w-[3.5rem] h-[3.5rem] rounded hover:bg-blue-600 ${r.page===p?"bg-blue-500 text-white":"bg-gray-200"}`,children:p},p)),o.jsx("button",{onClick:()=>s(p=>({...p,page:Math.min(p.page+1,c)})),disabled:r.page===c,className:"w-[3.5rem] h-[3.5rem] bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",children:o.jsx(z,{icon:an,className:"text-gray-500"})})]})]})}function A2e(){const t=Ze(),[e,n]=Ni(),r=e.get("sort"),{user:s}=jt(),[i,a]=T.useState({limit:10,page:1,sort:"popular",price:"asc"}),[l,c]=T.useState({open:!1,data:null});T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),T.useEffect(()=>{r&&a(v=>({...v,sort:r}))},[r]);const{data:u,isLoading:d}=De({queryKey:["products",i],queryFn:()=>pte({query:i,userId:s?.id})}),f=u?.data??[],p=v=>{a(b=>({...b,sort:v})),n({sort:v})},g=v=>{a(b=>({...b,price:v})),n(b=>(b.set("price",v),b))},x=()=>o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-product animate-pulse",children:[o.jsx("div",{className:"h-[18rem] md:h-[20rem] bg-gray-200 rounded-xl mb-4"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-4/5 mb-2"}),o.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"})]});return o.jsxs("div",{className:"mt-[20rem] md:mt-[17rem] px-4 xs:px-6 sm:px-8 md:px-10 lg:px-12 xl:px-[12rem] ",children:[o.jsxs("div",{className:"bg-white p-5 rounded-xl",children:[o.jsx("h3",{className:"text-[2rem] mb-6 font-bold",children:r==="popular"?"Sn phm ni bt":r==="best_seller"?"Sn phm bn chy":"Sn phm mi nht"}),o.jsx(d8,{handleChangePrice:g,handleChangeSort:p,queryDefault:i,setQueryDefault:a}),d?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 mt-4",children:Array.from({length:10}).map((v,b)=>o.jsx(x,{},b))}):f.length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 mt-4",children:f.map(v=>o.jsxs("div",{className:"group bg-white cursor-pointer relative overflow-hidden border border-gray-200",onClick:()=>t(`/product-detail/${v.slug}`),children:[o.jsx("div",{className:"relative h-[16rem] md:h-[20rem] lg:h-[24rem] overflow-hidden",children:o.jsx("img",{src:v.mainImage||"https://via.placeholder.com/300",alt:v.productName||"Sn phm flash sale",className:"w-full h-full object-cover group-hover:scale-[1.1] transition-transform duration-300"})}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("h5",{className:"text-limit-1 text-[1.2rem] md:text-[1.6rem] text-gray-700 font-medium",children:v.productName}),o.jsx("p",{className:"mt-2 text-red-600 text-[1.4rem] md:text-[1.6rem]",children:Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v.price)})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-end gap-2.5 mt-4",children:[o.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-pink-500 border-pink-500 hover:bg-pink-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:b=>{b.stopPropagation(),c({open:!0,data:v})},children:["Thm"," ",o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),o.jsx("button",{type:"button",className:"w-full flex items-center justify-center gap-1 py-2 px-4 border text-blue-500 border-blue-500 hover:bg-blue-500 hover:text-white rounded-md text-[1.2rem] md:text-[1.4rem] transition-colors duration-300",onClick:b=>{b.stopPropagation(),t(`/product-detail/${v.slug}`)},children:"Chi tit"})]})]})]},v.id))}):o.jsxs("div",{className:"w-full h-[30rem] md:h-[40rem] flex flex-col items-center justify-center select-none",children:[o.jsx("img",{src:u8,alt:"no-product",className:"w-[15rem] md:w-[20rem]"}),o.jsx("span",{className:"text-[1.4rem] md:text-[1.6rem] mt-4",children:"Khng c sn phm no!"})]})]}),o.jsx(Tf,{showAddCart:l,setShowAddCart:c})]})}function O2e(){return o.jsxs(o.Fragment,{children:[o.jsxs(i$,{children:[o.jsxs(Re,{path:"/",element:o.jsx(xde,{children:o.jsx(Hfe,{})}),children:[o.jsx(Re,{index:!0,element:o.jsx(Vfe,{})}),o.jsx(Re,{path:"about",element:o.jsx(SY,{})})]}),o.jsxs(Re,{path:"category",element:o.jsx(Ufe,{}),children:[o.jsx(Re,{path:":slug1",element:o.jsx(Yv,{})}),o.jsx(Re,{path:":slug1/:slug2",element:o.jsx(Yv,{})}),o.jsx(Re,{path:":slug1/:slug2/:slug3",element:o.jsx(Yv,{})})]}),o.jsxs(Re,{element:o.jsx(jY,{}),children:[o.jsx(Re,{path:"/login",element:o.jsx(NY,{})}),o.jsx(Re,{path:"/register",element:o.jsx(yde,{})})]}),o.jsxs(Re,{element:o.jsx(_de,{}),children:[o.jsxs(Re,{path:"customer",element:o.jsx(nM,{children:o.jsx(wde,{})}),children:[o.jsx(Re,{index:!0,element:o.jsx(tu,{to:"account/profile",replace:!0})}),o.jsx(Re,{path:"account/profile",element:o.jsx(Wde,{})}),o.jsx(Re,{path:"account/address",element:o.jsx(Bde,{})}),o.jsx(Re,{path:"account/privacy",element:o.jsx(Ude,{})}),o.jsx(Re,{path:"order",element:o.jsx(Lde,{})}),o.jsx(Re,{path:"my-voucher",element:o.jsx(Yfe,{})}),o.jsx(Re,{path:"favorite",element:o.jsx(Gfe,{})})]}),o.jsx(Re,{path:"cart/detail",element:o.jsx(Rde,{})}),o.jsx(Re,{path:"checkout",element:o.jsx($de,{})}),o.jsx(Re,{path:"payment-momo-redirect",element:o.jsx(ehe,{})}),o.jsx(Re,{path:"order-confirmation/:orderCode",element:o.jsx(Kde,{})}),o.jsx(Re,{path:"look-up-order",element:o.jsx(Zde,{})}),o.jsx(Re,{path:"product-detail/:productSlug",element:o.jsx(Qde,{})}),o.jsx(Re,{path:"products",element:o.jsx(A2e,{})}),o.jsx(Re,{path:"search",element:o.jsx(P2e,{})}),o.jsx(Re,{path:"flash-sale/:slug",element:o.jsx(pme,{})})]}),o.jsxs(Re,{path:"/dashboard",element:o.jsx(nM,{roles:[qt.ADMIN,qt.STAFF],redirectTo:"/dashboard/login",children:o.jsx(TY,{})}),children:[o.jsx(Re,{index:!0,element:o.jsx(ste,{})}),o.jsx(Re,{path:"products",element:o.jsx(yte,{})}),o.jsx(Re,{path:"products/detail/:id",element:o.jsx(gme,{})}),o.jsx(Re,{path:"products/action",element:o.jsx(aA,{})}),o.jsx(Re,{path:"products/action/:id",element:o.jsx(aA,{})}),o.jsx(Re,{path:"categories",element:o.jsx(wte,{})}),o.jsx(Re,{path:"profile",element:o.jsx(Nte,{})}),o.jsx(Re,{path:"orders/list-order",element:o.jsx(lde,{})}),o.jsx(Re,{path:"staff",element:o.jsx(mde,{})}),o.jsxs(Re,{path:"customers",element:o.jsx(Qfe,{}),children:[o.jsx(Re,{index:!0,element:o.jsx(ime,{})}),o.jsx(Re,{path:"purchased",element:o.jsx(ame,{})}),o.jsx(Re,{path:"no-order",element:o.jsx(ome,{})}),o.jsx(Re,{path:"statistic",element:o.jsx(lme,{})})]}),o.jsx(Re,{path:"detail-customer/:customerCode",element:o.jsx(cme,{})}),o.jsx(Re,{path:"guest-detail/:guestEmail",element:o.jsx(hme,{})}),o.jsx(Re,{path:"guest-customers",element:o.jsx(dme,{}),children:o.jsx(Re,{path:"statistic",element:o.jsx(h8,{})})}),o.jsx(Re,{path:"banner-slide",element:o.jsx(the,{})}),o.jsx(Re,{path:"discount",element:o.jsx(Kfe,{})}),o.jsx(Re,{path:"flashsale",element:o.jsx(Lfe,{})}),o.jsx(Re,{path:"flashsale/create",element:o.jsx(mM,{})}),o.jsx(Re,{path:"flashsale/edit/:id",element:o.jsx(mM,{})}),o.jsx(Re,{path:"flashsale/detail/:id",element:o.jsx(mme,{})})]}),o.jsx(Re,{path:"/dashboard/login",element:o.jsx(qde,{children:o.jsx(iY,{})})}),o.jsx(Re,{path:"*",element:o.jsx(pde,{})}),o.jsx(Re,{path:"/unauthorized",element:o.jsx(gde,{})})]}),o.jsx(bB,{position:"top-right",autoClose:3e3})]})}const _2e=T.createContext(null);function D2e({children:t}){const[e,n]=T.useState(null);return o.jsx(_2e.Provider,{value:{currCategory:e,setCurrCategory:n},children:t})}const I2e=new yU;f9.createRoot(document.getElementById("root")).render(o.jsx(T.StrictMode,{children:o.jsx(M$,{children:o.jsx(bU,{client:I2e,children:o.jsx(D2e,{children:o.jsx(OU,{children:o.jsx(oY,{clientId:"703456349605-7lrmk34o85uaqde1iikmsn5cp8csm52e.apps.googleusercontent.com",children:o.jsx(O2e,{})})})})})})}));
